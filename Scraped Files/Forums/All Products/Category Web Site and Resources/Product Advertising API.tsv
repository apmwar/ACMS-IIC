label	description
Product Advertising API	"Keep alive message timeout
Today i was testing the publish message from AWS server to my device. What i found was that if the device connect to the AWS server and never send any communication message for about 5 minutes to the AWS server and send the message after 5 minutes from the AWS server then the device did not receive any messages.

Default keep alive message is set to every 10 minutes.  But interesting part is that the server send the message after receiving the keep alive message that send from the device.

If i set 5 minutes keep alive message then it is fine. Is there any particular reason?"
Product Advertising API	"Cognito user enable MFA
How can I enable SMS MFA for cognito user? I have tried several APIs from Python and Golang and all of them are implementation of AdminSetUserMFAPreference. I call it like that for Golang:
enableMFAStatus, err := cogIProv.AdminSetUserMFAPreferenceWithContext(ctx, &cip.AdminSetUserMFAPreferenceInput{
		UserPoolId: aws.String(userPoolID),
		Username:   aws.String(username),
		SMSMfaSettings: &cip.SMSMfaSettingsType{
			Enabled:      aws.Bool(true),
			PreferredMfa: aws.Bool(true),
		},
	})

And the next way for Python:
response = self.cognitoClient.admin_set_user_mfa_preference(
                        SMSMfaSettings={
                            'Enabled': True,
                            'PreferredMfa': True
                        },
                        UserPoolId=self.userPoolID,
                        Username=userID,
                    )

And I receive success result and no errors but nothing changes. Maybe there are other ways to enable SMS MFA for user? Please help me."
Product Advertising API	"VMware-Go-KCL: Kinesis Client Library for Go
Discover how VMware-Go-KCL delivers the Go/Kubernetes community and Go native language implementation of Kinesis Client Library withoutthe resource overhead of installing Java-based MultiLangDaemon.

https://blogs.vmware.com/opensource/2018/09/13/vmware-go-kcl-kinesis-client-library/
https://github.com/vmware/vmware-go-kcl

Edited by: puzzle2 on Oct 7, 2018 4:27 PM"
Product Advertising API	"Getting NextToken in cloudWatchLogs go sdk
I am trying to describe all log groups in my lambda log group, I have to pass ""NextToken"", which I don't have.
svc.DescribeLogGroups(&cloudwatchlogs.DescribeLogGroupsInput{
		Limit:              aws.Int64(1),
		LogGroupNamePrefix: aws.String(""prefix""),
		NextToken:          aws.String(""nextToken"")
})

what should my log prefix and nextToken be,  if I have to  get all log groups

Edited by: krazybee on Jul 24, 2018 4:57 AM"
Product Advertising API	"Gorilla/mux cannot return a value for path parameter.
Hi,
I’ve been using multiplexer from Gorilla/mux for a while and happy about it. Until suddenly it’s not working anymore when I redeployed my app to AWS Beanstalk.
Every time that I try to access a path with parameter, the value of the parameter is always empty. But that’s not the case if the path doesn’t have a parameter.

For example, given the URL of http://www.mydomain.net/myresource/{id}, the value of {id} is empty.
But it works if I have a path without parameter like the following example:
http://www.mydomain.net/myresource.

This is only happening if I do deployment from AWS CodePipeline which kicks of CodeBuild, and deploys directly to AWS Beanstalk. If I build from my local box and deploy it to AWS Beanstalk it will work. I can also run it it in my local box.
It seems there is something not right in AWS CodeBuild. I run dep, so the package that’s put in the vendor folder is the same version as what I have in my local box, and I have double checked to make sure they are identical.  Out of curiosity, I have also tried to update using other multiplexer and it gave the same result.  No error whatsoever, and I check the length of mux.Vars is 0

My question, what steps that I need to do to troubleshooting this?  I've been stuck with this for two days already.

Thanks

Edited by: edisonltan on Jul 6, 2018 7:31 PM"
Product Advertising API	"403 Access Denied using Go rdsutils example
I have been struggling with this for a while now.  I am trying to get this simple example to work locally on my laptop: https://github.com/aws/aws-sdk-go/blob/master/example/service/rds/rdsutils/authentication/iam_authentication.go
sess := session.Must(session.NewSession())
creds := stscreds.NewCredentials(sess, ""arn:aws:iam::12345678910:role/my-rds-role"")
authToken, err := rdsutils.BuildAuthToken(dbEndpoint, region, dbUser, creds)

I simply want to connect to my Postgres RDS db instance using the Go SDK.  I am able to connect to it via pgAdmin.

I have created an IAM user, stored that user's creds locally using the 'aws configure' via CLI.  
I have created a policy to allow AssumeRole and assigned it to that user.

When I run the sample code, I can see it gets my creds and signs the request.  But, when it calls out to POST https://sts.amazonaws.com I always get a 403 Access Denied response: AccessDenied: Access denied
	status code: 403, request id: af2d97d6-27e7-11e9-bef0-114765d449cd

I am assuming this is the step where it wants to verify that my user, as defined by my locally stored creds, has access to assume the role ARN that I pasted into the example code

Can someone please help me figure this out?  Is there a way to get more info about the 403?  Does this not work when running from my local machine?  Can I debug this access endpoint in Postman?  Am I missing a key IAM policy?  Thanks for any guidance."
Product Advertising API	"Re: 403 Access Denied using Go rdsutils example
I was able to figure this out, finally.  I came across Jeff's answer here: https://forums.aws.amazon.com/thread.jspa?threadID=234281
My problem was that I needed to add my account as principal to the role's trust relationships policy.
{
            ""Effect"": ""Allow"",
            ""Principal"": {
                ""AWS"": ""12345678910""
            },
            ""Action"": ""sts:AssumeRole""
        }

I am now able to generate auth tokens in my local dev environment."
Product Advertising API	"How can a Lambda assume an IAM role and connect to Postgres a RDS on AWS
We have a SAM-generated API-Gateway - Lambda integration stack that needs to access an RDS Database (Postgres).

SAM is creating the necessary CF template with the custom role and attendant policies for our functions: ('AWSLambdaVPCAccessExecutionRole' & 'AmazonRDSReadOnlyAccess')

We've configured the functions that need to connect to the DB with the subnetIDs and security Group of the DBs VPC and are attempting to connect using **IAM authentication**.

We've created the PG user account in the target DB with rds_admin role grant as per: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.DBAccounts.html

What we are not able to do is to connect to the RDS DB using the AWS SDK for **Go**.

It looks like the role ARN is a requirement to do so:

from the docs, link here:
https://docs.aws.amazon.com/sdk-for-go/api/service/rds/rdsutils/
    authToken, err := BuildAuthToken(dbEndpoint, awsRegion, dbUser, awsCreds)
    
    // Create the MySQL DNS string for the DB connection
    // user:password@protocol(endpoint)/dbname?<params>
    connectStr = fmt.Sprintf(""%s:%s@tcp(%s)/%s?allowCleartextPasswords=true&tls=rds"",
       dbUser, authToken, dbEndpoint, dbName,
    )
    
    // Use db to perform SQL operations on database
    db, err := sql.Open(""mysql"", connectStr)

..except we'd use a Postgres connection string.

But without creating a 'long-form' CFN template and passing the roleARN as an environment variable to our lambda function we can't work out how to configure the SDK to assume the same role as the executing lambda function.

If anyone can help work this out with me I'd be very grateful! 

Thanks in advance"
Product Advertising API	"CloudHSM SDK
Are there any guides that describe how to get started developing applications using the CloudHSM SDK? Particularly the Go version

I'm stuck at the first hurdle: how to I develop code on my laptop to run against an HSM that is tucked away in the private subnet of a VPC?

Edited by: longwave on Dec 7, 2018 1:41 AM

Edited by: longwave on Dec 7, 2018 1:42 AM"
Product Advertising API	"Keep alive message timeout
Today i was testing the publish message from AWS server to my device. What i found was that if the device connect to the AWS server and never send any communication message for about 5 minutes to the AWS server and send the message after 5 minutes from the AWS server then the device did not receive any messages.

Default keep alive message is set to every 10 minutes.  But interesting part is that the server send the message after receiving the keep alive message that send from the device.

If i set 5 minutes keep alive message then it is fine. Is there any particular reason?"
Product Advertising API	"How do I handle cognito redirects in a lambda function?
I am trying to set up a basic authentication flow for my app using the API Gateway, Cognito, and Lambda services.

I was hoping I could have the Cognito login page redirect to the API Gateway, which then passes the request on to lambda returning a cookie that the client can then use for authorizing future requests, but I'm not sure how to actually exchange the authorization code for a token in a lambda function, nor am I sure how to then ensure that the response is a cookie."
Product Advertising API	"Cognito user enable MFA
How can I enable SMS MFA for cognito user? I have tried several APIs from Python and Golang and all of them are implementation of AdminSetUserMFAPreference. I call it like that for Golang:
enableMFAStatus, err := cogIProv.AdminSetUserMFAPreferenceWithContext(ctx, &cip.AdminSetUserMFAPreferenceInput{
		UserPoolId: aws.String(userPoolID),
		Username:   aws.String(username),
		SMSMfaSettings: &cip.SMSMfaSettingsType{
			Enabled:      aws.Bool(true),
			PreferredMfa: aws.Bool(true),
		},
	})

And the next way for Python:
response = self.cognitoClient.admin_set_user_mfa_preference(
                        SMSMfaSettings={
                            'Enabled': True,
                            'PreferredMfa': True
                        },
                        UserPoolId=self.userPoolID,
                        Username=userID,
                    )

And I receive success result and no errors but nothing changes. Maybe there are other ways to enable SMS MFA for user? Please help me."
Product Advertising API	"VMware-Go-KCL: Kinesis Client Library for Go
Discover how VMware-Go-KCL delivers the Go/Kubernetes community and Go native language implementation of Kinesis Client Library withoutthe resource overhead of installing Java-based MultiLangDaemon.

https://blogs.vmware.com/opensource/2018/09/13/vmware-go-kcl-kinesis-client-library/
https://github.com/vmware/vmware-go-kcl

Edited by: puzzle2 on Oct 7, 2018 4:27 PM"
Product Advertising API	"Go SDK FIPS certified?
Hey all I was wondering if the aws go sdk is FIPS certified?

Thanks all"
Product Advertising API	"SNS/SQS messaging issue
Hello,

I am trying to write and read messages through  SNS / SQS. I followed the instructions at https://docs.aws.amazon.com/sns/latest/dg/SendMessageToSQS.html , https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/sqs-example-receive-message.html etc.).  The message posting to SNS seems to work, and I can see the message count in SQS ( Messages in Flight (Not Visible)) going up each time when I post a new message to the SNS topic. However, the messages are not being received on the listener process.  Any suggestions on what could be wrong here?

For running code:

Create a SNS topic using AWS console
Update the SNS topic arn for topicToListen 
Update the IAM user arn for topicToListen 
Make sure that the AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY environment variables are set
go build
to start the receiver, call    <pgm name>  -r   (wait for about 30+ seconds for the listner to be ready)
to start the receiver, call    <pgm name>  -s  (this will send the message to the SNS topic)
You can see that the receiver does not receive the message. However, the SQS console will show the increase in Messages in Flight (Not Visible)


package main
 
import (
	""bufio""
	""flag""
	""fmt""
	""os""
	""os/user""
	""strings""
	""sync""
	""time""
 
	""github.com/aws/aws-sdk-go/aws""
	""github.com/aws/aws-sdk-go/aws/session""
	""github.com/aws/aws-sdk-go/service/sns""
	""github.com/aws/aws-sdk-go/service/sqs""
)
 
// This program requires two environment variables to be set
// AWS_ACCESS_KEY_ID
// AWS_SECRET_ACCESS_KEY
 
const topicToListen = ""arn for the SNS topic""
const awsUserArn = ""arn for the IAM user""
const awsRegion = ""ap-southeast-2""
 
var waitGrp sync.WaitGroup
var waitMore = true
 
func main() {
 
	sendPtr := flag.Bool(""s"", false, ""send message"")
	receivePtr := flag.Bool(""r"", false, ""receive message"")
	flag.Parse()
 
	send := *sendPtr
	receive := *receivePtr
 
	exePath, _ := os.Executable()
	idx := strings.LastIndex(exePath, string(os.PathSeparator))
	if idx > 0 {
		exePath = exePath[idx+1:]
	}
 
	if send == false && receive == false {
		fmt.Printf(""Usage:\n%v -s [to send message]\nOR\n%v -r [to receive message]"",
			exePath, exePath)
		os.Exit(1)
	}
 
	if send == true && receive == true {
		fmt.Printf(""\nOnly one flag -s or -r is allowed at a time\nUsage:\n%v -s [to send message]\nOR\n%v -r [to receive message]"",
			exePath, exePath)
		os.Exit(1)
	}
 
	sess := session.New(&aws.Config{
		Region: aws.String(awsRegion),
	})
 
	if send == true {
		fmt.Printf(""\nSending message...\n"")
		sendMessage(sess)
 
	} else if receive == true {
		fmt.Printf(""\nReceiving messages...\n"")
 
		go waitForMessages(sess)
 
		fmt.Printf(""\nWaiting...\n"")
		reader := bufio.NewReader(os.Stdin)
 
		for inp := """"; inp != ""q""; {
			fmt.Print(""Enter q to quit: "")
			inp, _ = reader.ReadString('\n')
			inp = strings.ToLower(strings.TrimSpace(inp))
		}
 
		waitMore = false
		waitGrp.Wait()
	}
 
	fmt.Printf(""\nDone\n"")
}
 
func sendMessage(sess *session.Session) {
 
	snsClnt := sns.New(sess)
 
	timeStr := time.Now().Format(time.RFC3339Nano)
	customMsg := fmt.Sprintf(""Test message at: %v"", timeStr)
	msgToSend := fmt.Sprintf(`{
				""default"": ""%v"", 
				""sqs"": ""%v""
				}`, customMsg, customMsg)
 
	pubOut, err := snsClnt.Publish(&sns.PublishInput{
		TopicArn:         aws.String(topicToListen),
		Message:          aws.String(msgToSend),
		MessageStructure: aws.String(""json""),
	})
 
	if err != nil {
		fmt.Printf(""\nError in SNS Publish: %v"", err.Error())
		return
	}
 
	fmt.Printf(""\nSNS Publish message id: %v to topic:%v"", *(pubOut.MessageId), topicToListen)
}
 
func waitForMessages(sess *session.Session) {
 
	waitGrp.Add(1)
 
	var queQurl *string = nil
	var snsUnsubscInp *sns.UnsubscribeInput = nil
	sqsClnt := sqs.New(sess)
	snsClnt := sns.New(sess)
 
	defer func(sqsClnt *sqs.SQS) {
 
		if snsUnsubscInp != nil {
			fmt.Printf(""\nUnsubscribing from SNS URL: %v"", *(snsUnsubscInp.SubscriptionArn))
			_, err := snsClnt.Unsubscribe(snsUnsubscInp)
			if err != nil {
				fmt.Printf(""\nError in SNS Unsubscribe: %v"", err.Error())
			}
		}
 
		if queQurl != nil {
			fmt.Printf(""\nDeleting SQS URL: %v"", *(queQurl))
			sqsDelInp := &sqs.DeleteQueueInput{
				QueueUrl: queQurl,
			}
			_, err := sqsClnt.DeleteQueue(sqsDelInp)
			if err != nil {
				fmt.Printf(""\nError in DeleteQueue: %v"", err.Error())
			}
		} else {
			fmt.Printf(""\nSQS URL is nil, not deleted: %v"", queQurl)
		}
 
		waitGrp.Done()
 
	}(sqsClnt)
 
	hostName, _ := os.Hostname()
	usr, _ := user.Current()
	usrName := usr.Username
	if strings.HasPrefix(usrName, hostName) == true {
		hostName = """"
	}
 
	serverID := ""sqs-"" +
		hostName + ""-"" + usrName + ""-"" +
		time.Now().Format(time.RFC3339Nano)
	serverID = strings.Replace(serverID, "":"", ""-"", -1)
	serverID = strings.Replace(serverID, ""."", ""-"", -1)
	serverID = strings.Replace(serverID, ""\\"", ""-"", -1)
	serverID = strings.Replace(serverID, ""/"", ""-"", -1)
 
	queueName := strings.ToLower(serverID)
 
	fmt.Printf(""\nServer: %v\nSession:%v"", serverID, sess)
 
	sqsInp := &sqs.CreateQueueInput{
		QueueName: aws.String(queueName),
	}
 
	sqsOutp, err := sqsClnt.CreateQueue(sqsInp)
	if err != nil {
		fmt.Printf(""\nError in CreateQueue: %v"", err.Error())
		return
	}
 
	queQurl = sqsOutp.QueueUrl
 
	tempStr := *(queQurl)
	tempStr = strings.Replace(tempStr, ""https://sqs."", """", -1)
	tempStr = strings.Replace(tempStr, "".amazonaws.com"", """", -1)
	tempStr = strings.Replace(tempStr, ""/"", "":"", -1)
 
	sqsArn := ""arn:aws:sqs:"" + tempStr
 
	fmt.Printf(""\nSQS arn: %v"", sqsArn)
 
	policyFmt := `{
  ""Version"": ""2012-10-17"",
  ""Id"": ""Queue_Policy"",
  ""Statement"": [
    {
      ""Sid"": ""sqs_permissions_policy_writer"",
      ""Effect"": ""Allow"",
      ""Principal"": ""*"",
      ""Action"": ""SQS:SendMessage"",
      ""Resource"": ""%v"",
      ""Condition"": {
        ""ArnEquals"": {
          ""aws:SourceArn"": ""%v""
        }
      }
    },
    {
      ""Sid"": ""sqs_permissions_policy_reader"",
      ""Effect"": ""Allow"",
      ""Principal"": {
        ""AWS"": ""%v""
      },
      ""Action"": ""SQS:*"",
      ""Resource"": ""%v""
    }
  ]
}`
 
	policyStr := fmt.Sprintf(policyFmt, sqsArn, topicToListen, awsUserArn, sqsArn)
 
	sqsAttrInp := &sqs.SetQueueAttributesInput{
		QueueUrl: sqsOutp.QueueUrl,
		Attributes: map[string]*string{
			""Policy"": aws.String(policyStr),
		},
	}
 
	_, err = sqsClnt.SetQueueAttributes(sqsAttrInp)
	if err != nil {
		fmt.Printf(""\nError in SetQueueAttributes: %v"", err.Error())
		return
	}
 
	subscInp := &sns.SubscribeInput{
		Endpoint: aws.String(sqsArn),
		Protocol: aws.String(""sqs""),
		TopicArn: aws.String(topicToListen),
	}
 
	subscOutp, err := snsClnt.Subscribe(subscInp)
	if err != nil {
		fmt.Printf(""\nError in Subscribe: %v"", err.Error())
		return
	}
 
	fmt.Printf(""\nSubscriptionArn: %v"", *(subscOutp.SubscriptionArn))
	fmt.Printf(""\nWaiting for AWS to be ready..."")
	time.Sleep(30 * time.Second)
 
	snsUnsubscInp = &sns.UnsubscribeInput{
		SubscriptionArn: subscOutp.SubscriptionArn,
	}
 
	urlOutp, err := sqsClnt.GetQueueUrl(&sqs.GetQueueUrlInput{
		QueueName: aws.String(queueName),
	})
	if err != nil {
		fmt.Printf(""\nError in GetQueueUrl: %v"", err.Error())
		return
	}
 
	var msgWaitSecs int64 = 10
	queueUrlToListen := urlOutp.QueueUrl
 
	msgInp := &sqs.ReceiveMessageInput{
		QueueUrl: queueUrlToListen,
		AttributeNames: aws.StringSlice([]string{
			""SentTimestamp"",
		}),
		MaxNumberOfMessages: aws.Int64(1),
		MessageAttributeNames: aws.StringSlice([]string{
			""All"",
		}),
		WaitTimeSeconds: &msgWaitSecs,
	}
 
	for {
 
		msgOutp, err := sqsClnt.ReceiveMessage(msgInp)
		if err != nil {
			fmt.Printf(""\nError in ReceiveMessage: %v"", err.Error())
			return
		}
 
		if msgOutp.Messages == nil || len(msgOutp.Messages) == 0 {
			fmt.Printf(""\nNo messages received : %v queQurl:%v"", msgOutp, *queueUrlToListen)
		} else {
			for idx, msg := range msgOutp.Messages {
				msgBody := *(msg.Body)
				fmt.Sprintf(""Message(%v):%v"", idx, msgBody)
			}
		}
 
		if waitMore == false {
			return
		}
	}
}"
Product Advertising API	"Re: SNS/SQS messaging issue
I would bust the code up into two, very simple, apps.


One that sends a message
One that receives messages


Whether they run forever until interrupted or just one time is up to you. 

I would also create a third app that monitors the queue for messages.
Again, whether it runs until interrupt is up to you.

Run each in separate windows so you can follow what's going on.

Get them to work, then merge them into one if you want."
Product Advertising API	"Start EC2 instances for specified ECS cluster via SDK
Hello!
I've faced with almost same problem as here https://forums.aws.amazon.com/thread.jspa?threadID=230632 but I am using GO SDK for creating cluster. 
So my problem is when I create new EC2 amazon-ecs-optimized instance it attached to 'defalut' cluster. How can I add new instances to specified cluster? There is ability for aws-cli tool by 
#!/bin/bash
echo ECS_CLUSTER=your_cluster_name >> /etc/ecs/ecs.config


Is there possibility to specify ECS_CLUSTER while calling EC2.RunInstances https://docs.aws.amazon.com/sdk-for-go/api/service/ec2/#EC2.RunInstances

Also, if there no possibility to specify cluster while start new instance, how can I create cluster with predefined servicecontainers via Go SDK?"
Product Advertising API	"EC2 Service Client Lifecycle
What is the lifecycle of an EC2 service client created by the Golang SDK? For the Java SDK, it is mentioned that the clients are long lived (https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/creating-clients.html)

I use the New function to create a new client (https://docs.aws.amazon.com/sdk-for-go/api/service/ec2/#New) as
svc := ec2.New(sess, aws.NewConfig().WithRegion(region))


I wanted to know whether there is any timeout or expiration of the client after which it is not useable and I need to create a new service client?"
Product Advertising API	"Getting NextToken in cloudWatchLogs go sdk
I am trying to describe all log groups in my lambda log group, I have to pass ""NextToken"", which I don't have.
svc.DescribeLogGroups(&cloudwatchlogs.DescribeLogGroupsInput{
		Limit:              aws.Int64(1),
		LogGroupNamePrefix: aws.String(""prefix""),
		NextToken:          aws.String(""nextToken"")
})

what should my log prefix and nextToken be,  if I have to  get all log groups

Edited by: krazybee on Jul 24, 2018 4:57 AM"
Product Advertising API	"Gorilla/mux cannot return a value for path parameter.
Hi,
I’ve been using multiplexer from Gorilla/mux for a while and happy about it. Until suddenly it’s not working anymore when I redeployed my app to AWS Beanstalk.
Every time that I try to access a path with parameter, the value of the parameter is always empty. But that’s not the case if the path doesn’t have a parameter.

For example, given the URL of http://www.mydomain.net/myresource/{id}, the value of {id} is empty.
But it works if I have a path without parameter like the following example:
http://www.mydomain.net/myresource.

This is only happening if I do deployment from AWS CodePipeline which kicks of CodeBuild, and deploys directly to AWS Beanstalk. If I build from my local box and deploy it to AWS Beanstalk it will work. I can also run it it in my local box.
It seems there is something not right in AWS CodeBuild. I run dep, so the package that’s put in the vendor folder is the same version as what I have in my local box, and I have double checked to make sure they are identical.  Out of curiosity, I have also tried to update using other multiplexer and it gave the same result.  No error whatsoever, and I check the length of mux.Vars is 0

My question, what steps that I need to do to troubleshooting this?  I've been stuck with this for two days already.

Thanks

Edited by: edisonltan on Jul 6, 2018 7:31 PM"
Product Advertising API	"`go get` and `vgo` can't fetch a library from codecommit
I've tested with several different git credentials setups:
1. ssh keys
2. git-credential-libsecret
3. aws codecommit credential-helper
4. cache (helper)

etc.

However, `go get` and `vgo build` always fail.

$ go get git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo
package git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo: unrecognized import path ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo"" (parse https://git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo?go-get=1: no go-import meta tags ())


$ vgo build
vgo: resolving import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo""
vgo: import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/bar"" ->
	import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo"": unknown module git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo: no go-import tags


Originally I thought this to be a problem with vgo, and had created a ticket https://github.com/golang/go/issues/25792, where I was informed that the failure is earlier in the fetching process than I thought. The problem isn't authentication, it's strictly that `go` is unable to detect that the codecommit repository is in fact a go package repository.

Does anyone have any tips, maybe on the codecommit admin side for opening up these `meta tags`?

Thanks

 -- Ben"
Product Advertising API	"Process exited before completing request for aws lambda using Go
I have using following code in go with aws lambda:

package main

import (
        ""log""       
        ""github.com/aws/aws-lambda-go/lambda""
)

func HandleRequest() {
        log.Print(""Hello from Lambda"")
}

func main() {
        log.Print(""Hello from Lambda"")
        lambda.Start(HandleRequest)
} 

Attaching the zip file for reference.When i test it gives me following error message 

{
  ""errorMessage"": ""RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Process exited before completing request""
}

Log Output:

START RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Version: $LATEST
END RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba
REPORT RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba	Duration: 101.31 ms	Billed Duration: 200 ms 	Memory Size: 704 MB	Max Memory Used: 14 MB	
RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Process exited before completing request

What could be the reason for above issue?"
Product Advertising API	"Re: Process exited before completing request for aws lambda using Go
I couldn't see the zip package to download it, but one potential reason could be that you forgot to compile the Go program for Linux using the GOOS environment variable."
Product Advertising API	"Golang S3 Uploader
Hello,

I have not been able to find many resources that describe a start-to-finish Golang Lambda deployment, so I thought I would see if any forum members have any suggestions or feedback for our intended architecture.

We have an OCR application that exists in a Fargate task definition. Using environment variables set with the task launch, it retrieves PDF files from an S3 bucket, performs image pre-processing and deskew functions, then OCRs the entire PDF with reassembled text layers.

I need some ability to securely upload those PDF files to S3; everything has to be SSL encrypted.

From what I've read, the best way to accomplish this would be using Amazon API Gateway to build a REST API that is SSL-encrypted, and with a Lambda trigger (we want to use Golang) that handles the incoming POST, writes the file to S3, and then launches the Fargate OCR process with environment variables that specify the uploaded filename for the PDF.

So for starters, are there any resources that describe this POST functionality with API Gateway and the Golang Lambda function? Seems like this should be a fairly simple implementation?

Thanks in advance"
Product Advertising API	"Re: Golang S3 Uploader
I've never tried upload via API Gateway/Lambda combo tbh, thought that the memory restrictions for Lambda meant this ruled out most options for this?

Does the application only exist within your own company? If that's the case, you could look at setting up an EC2 instance reverse proxy with a role to access S3 which performs the upload. Using this method you can also have it writing to multiple buckets based on the url passed from the file source."
Product Advertising API	"Unable to access the service from outside the instance.
Hello,

  My service is running on port 8181 and under security group added ""Custome TCP Rule"" saying port 8181 is available from every where. But still it's unavailable.

  Am I missing any other required steps.

Thanks!!"
Product Advertising API	"setup aws certification for a web page
I have a web page i would like to work with ssl (https)

for now it is working but with the private certification which alerts the user of ""connection is not secure"".

I issued a aws certification by following the link :
https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-validate-dns.html#dns-add-cname

And set my tomcat server to work with certificate by as shown in this link
http://techtracer.com/2007/09/12/setting-up-ssl-on-tomcat-in-3-easy-steps/

but i can not seem to get ride of the ""connection is not secure"" issue"
Product Advertising API	"Single sdk api to list all keys across all regions
Is there an api (in golang) to list all the kms keys across all regions? or do i have to create per region service client and get the keys via that."
Product Advertising API	"Bug:  CognitoIdentityID/CognitoIdentityPoolID is empty on lambda invoke
The CognitoIdentityID field in the lambda context structure for Go seems not to be working. These are direct invocations of lambda functions forwarded from Cloudfront. API Gateway is not being used.

I am sure the CognitoIdentity is part of my request, direct lambda calls are protected by IAM security.  So I had to get through the IAM encryption check in order to invoke the lambda. I dumped my context.Context from go:
{
    ""AwsRequestID"": ""92db745e-183c-11e8-be7d-c53e91fb11c8"",
    ""InvokedFunctionArn"": ""arn:aws:lambda:us-east-1:xxxxx:function:digi2API-dev-world"",
    ""Identity"": {
        ""CognitoIdentityID"": """",
        ""CognitoIdentityPoolID"": """"
    },
    ""ClientContext"": {
        ""Client"": {
            ""installation_id"": """",
            ""app_title"": """",
            ""app_version_code"": """",
            ""app_package_name"": """"
        },
        ""env"": null,
        ""custom"": null
    }
}

When I make a similar call from the same front-end to a lambda written in node.js, the context looks like this, only change was editing the function name to call a different lambda.
{
    ""callbackWaitsForEmptyEventLoop"": true,
    ""logGroupName"": ""/aws/lambda/digiAPI-dev-items"",
    ""logStreamName"": ""2018/02/21/[$LATEST]a8178cf4ab4a4108b285267bddd9a5d6"",
    ""functionName"": ""digiAPI-dev-items"",
    ""memoryLimitInMB"": ""512"",
    ""functionVersion"": ""$LATEST"",
    ""identity"": {
        ""cognitoIdentityId"": ""us-east-1:73134712-adbb-4432-8cfe-246a8eae6fab"",
        ""cognitoIdentityPoolId"": ""us-east-1:4f3f4619-737b-41ed-b0dd-8875cfcf27ab""
    },
    ""invokeid"": ""e8e1d8dc-175e-11e8-a83c-39c3312d1082"",
    ""awsRequestId"": ""e8e1d8dc-175e-11e8-a83c-39c3312d1082"",
    ""invokedFunctionArn"": ""arn:aws:lambda:us-east-1:xxxxxxxx:function:digiAPI-dev-items
}


The example for this in the documentation also does not work for the same reason. Note the variable name is misspelled in the documentation.
https://docs.aws.amazon.com/lambda/latest/dg/lambda-dg.pdf

Accessing Invoke Context Information
Lambda functions have access to metadata about their environment and the invocation request. This
can be accessed at Package context. Should your handler include context.Context as a parameter,
Lambda will insert information about your function into the context's Value property. Note that you
need to import the lambdacontext library to access the contents of the context.Context object.
package main
import (
 ""context""
 ""log""
 ""github.com/aws/aws-lambda-go/lambda""
 ""github.com/aws/aws-lambda-go/lambdacontext""
)
func CognitoHandler(ctx context.Context) {
 lc, _ := lambdacontext.FromContext(ctx)
 log.Print(lc.Identity.CognitoPoolID)
}
func main() {
 lambda.Start(CognitoHandler)
}
In the example above, lc is the variable used to consume the information that the context object
captured and log.Print(lc.Identity.CognitoPoolID) prints that information, in this case, the
CognitoPoolID.
 


Edited by: jonsmirl2 on Feb 23, 2018 9:28 AM"
Product Advertising API	"Re: Bug:  CognitoIdentityID/CognitoIdentityPoolID is empty on lambda invoke
This is broken in the go lambda run-time, since I have the source I've hacked in a fix, aws-lambda-go/lambda/function.go in Invoke() is missing a couple of assignments. I am just starting with Go and can't figure out the correct syntax for adding the assignment in the initializer, but this hack works.

lc := &lambdacontext.LambdaContext{
	AwsRequestID:       req.RequestId,
	InvokedFunctionArn: req.InvokedFunctionArn,
}
lc.Identity.CognitoIdentityID = req.CognitoIdentityId
lc.Identity.CognitoIdentityPoolID = req.CognitoIdentityPoolId"
Product Advertising API	"How to make sender name dynamic while sending emails through command line ?
Hello!
I am working on a SAAS project. The project uses angular at its front end that use REST API to connect to database. The REST API of the application is written in Go. 

The emails through command line are sending but its sender name is something that matches to my server name like ubuntu@ip-https://forums.aws.amazon.com/.us-east-2.compute.internal . Its sender name is showing as Ubuntu in my mail inbox. 
I fixed it by passing additional headers in mail command for sender. Now its displaying the customized sender name. Following is the code

mail -a ""MIME-Version: 1.0"" -a ""Content-Type: text/html; charset=""UTF-8"""" -a ""From:SENDERNAME<sender@example.com>"" -s ""$(echo ""subject""  )""  test@example.com, body

But I want to know does AWS provide any additional settings or something like that so that I can control it through settings not the code?? If yes, then please provide me the details for such settings.

Thanks!"
Product Advertising API	"Update CLI help and official docs
Hi,

I've been told to post my request here, the relevant GH issue is https://github.com/aws/aws-sdk-go/issues/1772 but I'm pasting the text below.

Thanks,
Daniel

**********************************************************************************
This is just a doc update, please update the file service/sns/api.go, line 5360 to

// Valid values: DeliveryPolicy | FilterPolicy | RawMessageDelivery


i.e. add the new attribute FilterPolicy to the doc. Please also update the corresponding HTML documentation."
Product Advertising API	"Re: Update CLI help and official docs
This is the Go forum. You want the SNS forum: https://forums.aws.amazon.com/forum.jspa?forumID=72"
Product Advertising API	"grouping similar cloudwatch logs alarms
Hello everyone,
I've recently integrated a laravel project to logs directly to cloudwatch, now I need to create an alarm to send notifications to slack about logs with level error or warning. i have a simple lambda function that sends a message/notification to slack using webhook. i added a subscription to the log group to invoke the lambda function if log level is error or warning and this works perfectly. my question here is that if there is any easy way to to group similar messages i.e. there are 5 entries with error level and all of them are identical. i want to send only 1 message that can contain errors count = x (in this case x = 5).
for the current solution if there are many similar errors it will spam slack channel with messages about same error."
Product Advertising API	"Disable ""T2/T3 Unlimited"" on instance launch
I need to launch EC2 instances with the ""T2/T3 Unlimited"" setting set to false/disabled.
If I'm not wrong, I have to use the CreditSpecification parameter. I think I'm doing it right, but in the AWS console ""T2/T3 Unlimited"" is still set to ""enabled"".
This is my code:
$ec2Client->runInstances([
    'ClientToken' => $clientToken,
    'CreditSpecification' => [
        'CpuCredits' => 'standard', // REQUIRED
    ],
    'ImageId' => $awsAmiId,
    'InstanceInitiatedShutdownBehavior' => 'terminate',
    'InstanceType' => $awsInstanceType,
    'MaxCount' => 1, // REQUIRED
    'MinCount' => 1, // REQUIRED
    'Monitoring' => [
        'Enabled' => true, // REQUIRED
    ],
    'SecurityGroupIds' => [$awsSecurityGroupId],
    'SubnetId' => $awsSubnetId,
    'TagSpecifications' => [
        [
            'ResourceType' => 'instance',
            'Tags' => $tags
        ]
    ]
]);

What am I doing wrong or missing?
Thank you."
Product Advertising API	"Extreme S3 latency since 2 days
Since 8 years, I have a script running on an EC2 instance that download about 5000 files from S3 several time a day (all within the AWS network).

It usually complete in few minutes but since yesterday, the same operation take about 1 hour, no network errors involved, transfer time looks good but getting answer from the API take about 1 sec fore each file.

I'm using the old PHP SDK (v2), can it be part of the problem or there is something going wrong with S3 ? The very same script runned for years without trouble.

Many thanks"
Product Advertising API	"Re: Extreme S3 latency since 2 days
Still not answer but the S3 behavior is back to normal. Nothing changed on our side but the transfer is now fast again. Probably a glitch on the network on the AWS side."
Product Advertising API	"Amazon Linux 2 and PHP 5.6
It seems that the default PHP install with Amazon Linux is 5.4 which is already long past EoL.

Using amazon-linux-extras I was able to get 7.2 installed and working.

However, I'm working on a project that requires 5.x and would prefer to run PHP 5.6 since it is still receiving security updates.

Anyone able to get PHP 5.6 installed on Amazon Linux 2? I suppose I could download and compile it but it's been quite awhile since I've done that... stupid convenient repos!"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Thanks for using Amazon Linux 2. I have forwarded your request to appropriate team internally.

-Praveen"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
i too would like to run php 5.6 ... is there a solution to this yet?"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
sudo amazon-linux-extras install -y lamp-mariadb10.2-php7.2 php7.2
the above command install the lamp server with php 7.2 on linux 2. You can try to install php5.6 instead php7.2"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Good morning,
any news on this? I'd like to run PHP 5.6 but I can't seem to find a way. Unfortunately I can't install PHP 7 for we have a legacy website that needs PHP 5 in order to run. But I'd like to at least be able to run the latest PHP 5 version, and not a really outdated one...."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Try this:
	sudo yum -y update
	sudo yum install –y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
	sudo wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
	sudo wget https://centos7.iuscommunity.org/ius-release.rpm
	sudo rpm -Uvh ius-release*.rpm
	sudo yum -y update

	# When you install the package you'll need to add a u to the end of php56. Here is an example of some packages you could install.

	sudo yum -y install php56u php56u-opcache php56u-xml php56u-mcrypt php56u-gd php56u-devel php56u-mysql php56u-intl php56u-mbstring php56u-bcmath php56u-soap"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Hi All,
Is there any news on this. I too need to install PHP 5.6 on Amazon Linux 2

@NigleG1
Thanks.
Is this setup good to go for Prod envs.
What does the ""u"" stand for here.

Or is there any other way to do.

Cheers

Edited by: Harb on Aug 7, 2018 1:57 AM"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Thank you for the solution! Works for me."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Hi,

I'm trying NigelG1 workaround but it doesn't work for me.

Examining /var/tmp/yum-root-K7YhYD/epel-release-latest-7.noarch.rpm: epel-release-7-11.noarch
/var/tmp/yum-root-K7YhYD/epel-release-latest-7.noarch.rpm: does not update installed package.

sudo rpm -Uvh ius-release*.rpm
warning: ius-release.rpm: Header V4 DSA/SHA1 Signature, key ID 9cd4953f: NOKEY
Preparing...                          ################################# https://forums.aws.amazon.com/
        package ius-release-1.0-15.ius.centos7.noarch is already installed

sudo yum -y install php56u
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
276 packages excluded due to repository priority protections
No package php56u available.
Error: Nothing to do

I really need to install php5 for me to work on old websites.

Thank you in advance."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
php56 is no longer in the main repository try this:

sudo yum install --enablerepo=ius-archive php56u


Edited by: dbailey668 on Feb 21, 2019 11:35 AM"
Product Advertising API	"XML extension on PHP 7.2
I need to install XML extensions with DOM for PHP 7.2 from amzn2extra-php7.2 but the dependencies seems to be broken.
How can I fix this issue??
Thanks

yum install php-xml
Loaded plugins: langpacks, priorities, update-motd
amzn2-core                                                                                      | 2.0 kB  00:00:00
48 packages excluded due to repository priority protections
Resolving Dependencies
--> Running transaction check
---> Package php-xml.x86_64 0:5.4.16-43.amzn2.0.1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.4.16-43.amzn2.0.1 for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.24)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.22)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.18)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.13)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.11)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1()(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libexslt.so.0()(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Running transaction check
---> Package libxslt.x86_64 0:1.1.28-5.amzn2 will be installed
---> Package php-xml.x86_64 0:5.4.16-43.amzn2.0.1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.4.16-43.amzn2.0.1 for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Finished Dependency Resolution
Error: Package: php-xml-5.4.16-43.amzn2.0.1.x86_64 (amzn2-core)
           Requires: php-common(x86-64) = 5.4.16-43.amzn2.0.1
           Installed: php-common-7.2.0-3.amzn2.1.x86_64 (@amzn2extra-php7.2)
               php-common(x86-64) = 7.2.0-3.amzn2.1
           Available: php-common-5.4.16-43.amzn2.x86_64 (amzn2-core)
               php-common(x86-64) = 5.4.16-43.amzn2
           Available: php-common-5.4.16-43.amzn2.0.1.x86_64 (amzn2-core)
               php-common(x86-64) = 5.4.16-43.amzn2.0.1
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest"
Product Advertising API	"Re: XML extension on PHP 7.2
Up..

Hi,
is there any chance to include php-xml on the next server update.??
We are upgrading a website that use DOM function extensively and we are in stale because of this.

Thank you
Andrew"
Product Advertising API	"Re: XML extension on PHP 7.2
Up,

nobody here use xml extensions?

Andrew"
Product Advertising API	"Re: XML extension on PHP 7.2
I am having a similar problem with the zip extension to PHP 7.2. I solved my XML problem by first writing this test then flailing about:

<?php 
echo ""xml: "", extension_loaded('xml') ? 'OK' : 'MISSING', '<br>';
echo ""zip: "", extension_loaded('zip') ? 'OK' : 'MISSING', '<br>';
?>

php -m provides a long list with xml present (though zip is absent). I got the xml module after restarting my EC2 instance. Or editing php.ini file to add extension=xml.so (after verifying the xml.so in extension_dir). The docs indicate i didn't need to edit php.ini, but the xml extension wouldn't load until after I did that and rebooted. (yes, I had been restarting httpd all along.) Maybe it was good after I did a ""sudo yum install php-xml"" and it just needed that reboot, idunno.

If anyone can help me figure out the zip extension, I'd be much obliged"
Product Advertising API	"Re: XML extension on PHP 7.2
Hi,

you can try with ""yum list php*"" to see the packages availables

 yum list php*
Loaded plugins: langpacks, priorities, update-motd
48 packages excluded due to repository priority protections
Installed Packages
php-cli.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-common.x86_64                7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-fpm.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-json.x86_64                  7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-mbstring.x86_64              7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-mysqlnd.x86_64               7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-pdo.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
Available Packages
php.x86_64                       5.4.16-43.amzn2.0.1          amzn2-core
php-bcmath.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-dba.x86_64                   5.4.16-43.amzn2.0.1          amzn2-core
php-dbg.x86_64                   7.2.0-3.amzn2.1              amzn2extra-php7.2
php-devel.x86_64                 5.4.16-43.amzn2.0.1          amzn2-core
php-embedded.x86_64              5.4.16-43.amzn2.0.1          amzn2-core
php-enchant.x86_64               5.4.16-43.amzn2.0.1          amzn2-core
php-gd.x86_64                    5.4.16-43.amzn2.0.1          amzn2-core
php-gmp.x86_64                   7.2.0-3.amzn2.1              amzn2extra-php7.2
php-intl.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-ldap.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-mysql.x86_64                 5.4.16-43.amzn2              amzn2-core
php-odbc.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-opcache.x86_64               7.2.0-3.amzn2.1              amzn2extra-php7.2
php-pear.noarch                  1:1.10.5-7.amzn2.0.1         amzn2-core
php-pecl-memcache.x86_64         3.0.8-4.amzn2                amzn2-core
php-pgsql.x86_64                 5.4.16-43.amzn2.0.1          amzn2-core
php-process.x86_64               5.4.16-43.amzn2.0.1          amzn2-core
php-pspell.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-recode.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-snmp.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-soap.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-xml.x86_64                   5.4.16-43.amzn2.0.1          amzn2-core
php-xmlrpc.x86_64                5.4.16-43.amzn2.0.1          amzn2-core


with a result like this one.. As you can see the php-xml packages is present but is for a 5.4.16 version, not for a 7.2 version, this is why when you try to install the package there's a broken link.

Your zip packages is not present"
Product Advertising API	"Re: XML extension on PHP 7.2
up"
Product Advertising API	"Re: XML extension on PHP 7.2
php72-xml
php72-xmlrc"
Product Advertising API	"Re: XML extension on PHP 7.2
I'm not seeing these extensions on ALI 2 when I run yum list php*
 or try to install it"
Product Advertising API	"Re: XML extension on PHP 7.2
Hi 

I just did 
sudo yum install php-xml

It picked up and installed 
Installing:
 php-xml            x86_64            7.2.11-1.amzn2.0.1            amzn2extra-lamp-mariadb10.2-php7.2

Rebooted and jobs a gooden"
Product Advertising API	"Re: XML extension on PHP 7.2
#My development environment CentOS7 php7.2.15 Apache2.4.6 MariaDB10.2.22
#pLs designation php vresion
#ex) php72
#yum install --enablerepo=remi-php72 php-xml
#yum install --enablerepo=remi-php72 php-xml
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile
 * base: ftp.iij.ad.jp
 * epel: ftp.riken.jp
 * extras: ftp.iij.ad.jp
 * remi-php72: ftp.riken.jp
 * remi-safe: ftp.riken.jp
 * updates: ftp.iij.ad.jp
Resolving Dependencies
--> Running transaction check
---> Package php-xml.x86_64 0:7.2.15-1.el7.remi will be installed
--> Finished Dependency Resolution
 
Dependencies Resolved
 
=======================================================================================================================================================
 Package                          Arch                            Version                                    Repository                           Size
=======================================================================================================================================================
Installing:
 php-xml                          x86_64                          7.2.15-1.el7.remi                          remi-php72                          206 k
 
Transaction Summary
=======================================================================================================================================================
Install  1 Package
 
Total download size: 206 k
Installed size: 855 k
Is this ok [y/d/N]: y
Downloading packages:
php-xml-7.2.15-1.el7.remi.x86_64.rpm                                                                                            | 206 kB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : php-xml-7.2.15-1.el7.remi.x86_64                                                                                                    1/1 
  Verifying  : php-xml-7.2.15-1.el7.remi.x86_64                                                                                                    1/1 
 
Installed:
  php-xml.x86_64 0:7.2.15-1.el7.remi                                                                                                                   
 
Complete!"
Product Advertising API	"Amazon Linux 2 igbinary and memcached out-of-date
On the latest Amazon Linux 2.8.6 PHP 7.1 image , is it possible to get the latest stable igbinary and memcached?

igbinary: The default igbinary php extensions provided (1.1.2) is not compatible with PHP 7.1 . It's only supported starting  igbinary 2.0.1[1] 
memcached: it would be also awesome to have the latest stable version (3.1.3)

When I've tried to upgrade both via pecl7 (with the ebextension), it results of a segmentation fault for both packages. (pecl7 upgrade , or pecl7 uninstall+pecl7 install)

Any on idea on how to upgrade the packages properly this, or know when a working version will come out? Thanks a lot!

[1] https://github.com/igbinary/igbinary/releases?after=release-2.0.1

Edited by: eric-sre on Jan 25, 2019 9:45 AM"
Product Advertising API	".htaccess not deploying
Hi
This isn't really a PHP question, but I thought this might be the best place to ask the question.
I'm using AWS Codestar, with my Git repository, to auto-deploy my web application. As part of the web app, it uses .htaccess files and mod_rewrite - all standard stuff. However, for some reason, the deploy/build etc doesn't seem to deploy the .htaccess file.
My guess is, it's being ignored by the git pull somehow; however when I push a change to the .htaccess file, the deployment process sees it, and builds/deploys the change.

Any advice/help gratefully received 

Thanks
James"
Product Advertising API	"504 gateway time out
I am using Lightsail with LAMP on it. i have php site . it generated 504 gateway time out after 1 min of page request. I tried changing max_execution_time , $cfg and even MaxKeepAliveRequests but still page execution do not go beyond 1 min i.e 60 sec."
Product Advertising API	"Re: 504 gateway time out
If the setup uses load balancers, they timeout and resend the request after 1 minute with no response. It is meant that the request complete or, at the very least, send the first byte of data back within 60 seconds.

I do not believe this can be changed and has nothing to do with PHP or the server."
Product Advertising API	"CodeStar - Php, Laravel; mysql driver not found
I've just booted an instance of a EC2, using the CodeStar template ""php and laravel"". 
I've added a few models, controllers and views to my Laravel installation. No custom drivers or anything fancy.

When i try to access my page, all I get (after enabling debug) is a ""QueryException: Could not find driver (...). 

I'm a bit baffled by this since I'm using the template out of the box. 
I've checked the scripts folder to see if anything should be missing, and it seems that the driver should be installed, since the line 
yum -y install httpd24 php72 php72-mbstring php72-mysql php72-pdo php72-mcrypt php72-devel
 is present.

If i run the command manually on my server I get the message that the package php72-mysql does not exist, but I'm not sure which package to use instead?

I'm not much into this server stuff, so any advice would be appriciated!"
Product Advertising API	"Need urgent help regarding AWS Basic plan
we have recently purchased AWS basic plain and hosted our web application & API on cPanel & we are getting these issues.

Problems:
1. We are passing authorization header with request but we are not receiving header on API
2. We want to verify DNS cName for SendGrid but we are not able to verify it"
Product Advertising API	"Unable to retrieve S3 object using getObject and SSEKMSKeyId via PHP SDK
Hello, I am wanting to use S3-managed SSE-KMS encryption.  I am able to successfully upload files using putObject, as outlined here:

https://docs.aws.amazon.com/aws-sdk-php/v3/api/api-s3-2006-03-01.html#putobject

You can see that I am using SSEKMSKeyId

		try {
			$result = $s3_client->putObject(
				array(
					'Bucket'=> $s3_bucket,
					'Key' =>  $file_name,
					'SourceFile' => $local_file,
					'SSEKMSKeyId' => $s3_sse_kms_key_id,
					'ServerSideEncryption' => 'aws:kms',
					'ACL' => 'private',
				)
			);
		} catch (Exception $e) {
		    print $e->getMessage();
		    exit;
		}						


However, I cannot find any documentation on how to view the object using getobject along with the SSEKMSKeyId parameter, since it doesn't exist in the documentation:

https://docs.aws.amazon.com/aws-sdk-php/v3/api/api-s3-2006-03-01.html#getobject

I have tried different combinations of variables and can't get anything to work to view the file.  

This is what I would expect to work:
		try {
			$result = $s3_client->getObject(
				array(
					'Bucket'=> $s3_bucket,
					'Key' =>  $file_name,
					'SSEKMSKeyId' => $s3_sse_kms_key_id,
					'ServerSideEncryption' => 'aws:kms', // optional parameter?
				)
			);
// use result here
		} catch (Exception $e) {
		    print $e->getMessage();
		    exit;
		}	


But I am getting an ""Access Denied"" error.

How does one retrieve a file using SSEKMSKeyId via getObject via the PHP SDK?

Thanks!"
Product Advertising API	"Re: Unable to retrieve S3 object using getObject and SSEKMSKeyId via PHP SDK
This was user error. The access/secret keys used to access the object did not have the proper access to the master KMS key.  So, in this situation no SSEKMSKeyId is needed.  Just bucket and key and it should be able to access the file."
Product Advertising API	"Failed to connect to MySQL: php_network_getaddresses: getaddrinfo failed: N
I have managed to upload my php web-app on  elasticbeanstalk as well as created and connected it to an RDS database according to the tutorial provided in the link below
https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/php-ha-tutorial.html#php-hawrds-tutorial-configure

However, I still experience the error below
Failed to connect to MySQL: php_network_getaddresses: getaddrinfo failed: Name or service not know.

See my app in the link below
http://brightrevision-env.vubivfcvr3.ap-south-1.elasticbeanstalk.com/

Any help on what the problem maybe and how I can resolve it?
it is the only obstacle I am facing right now then I'll be good to launch.

Thank you in advance"
Product Advertising API	"PHP Pear hack?
Hello.

So, does anyone know how/if the new PHP PEAR hack affects Amazon Linux and Beanstalk environments? 

Thanks"
Product Advertising API	"Amazon Linux 2 and PHP 5.6 support
I have spent the better part of 2 days attempting to resolve PHP 7.2 conflicts with our existing application in an ARM (aarch64) development environment. Unfortunately, I need to bring this development environment online for one of our developers quickly. In the interest of time, I need to install PHP 5.6 in this environment.

Things I've tried:

Search the amzn2-extras repo for php5.6 packages
Install via the IUS repo, as outlined here: https://forums.aws.amazon.com/thread.jspa?messageID=855465&tstart=0

The IUS repo does not appear to offer aarch64 or noarch packages.




Is there any plan to open up PHP5.6 (architecture: aarch64) to the Amazon Linux 2 Package Repo? If not, is the recommendation to not use the ARM EC2 instances?

Thanks in advance for your help.

-Shaun"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
PHP 5.6 has reached end-of-life by the PHP team, and is no longer receiving any support.  Due to the short life expectancy of the package following our aarch64 announcement, we elected not to provide this particular extra on the aarch64 platform; if you do require PHP 5.6, we recommend using an x86_64 or i686 instance.  The PHP code itself should function identically on any platform with a working PHP 5.6."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
Thank you for the response AWSTrinity.

Edited by: soleson on Jan 30, 2019 11:55 AM"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
To add to the response above, php5.6 is available in Amazon Linux 1, but not Amazon Linux 2.
The version in Amazon Linux 1 is considered End Of Life so we still do not recommend using it, as there is no longer support upstream for it.

Thanks."
Product Advertising API	"Amazon Lightsail node.js loopback application stopped working
i'd like to know why my node.js application stopped working. we didn't change anything. can i restore?

it's a single vm with node.js on lightsail.

it's a loopback api system for our mobile app 
(https://loopback.io/)

How did I know there is an issue?

the app stopped working.
the api explorer is not responding.
however.. Amazon lightsail says the vm is working fine.

we haven't touched the system in a year, all was well, now...nothing.

i tried restarting the node.js vm ..nothing
i tried stopping my vm.. then starting...nothing

i don't know much about this system, the developer who put in in place is not me and has not responded, 
this is an old project, but this is simply a node.js loopback api for a simple mobile app

can i please have a checklist of simple tests and things to check ?

.....please help!"
Product Advertising API	"[Pinpoint] Sending push notifications without campaign
Hello, 
I have saved personalized notification on my database.
I would like to send notifications using the PHP SDK directly to recipients. Is it possible without creating a campaign?"
Product Advertising API	"/home/webapp no such file or directory
My apache error log is filled with the error: 
Mon Dec 22 15:07:01.132307 2014 :error pid 24805 Failed to determine HOME directory after trying ""sh: line 0: cd: /home/webapp: No such file or directory"" (exit code 1)
zend_mm_heap corrupted

And one of my php pages returns no content whenever I try to load it but only on AWS."
Product Advertising API	"Re: /home/webapp no such file or directory
The same here... any fix?

Thanks!"
Product Advertising API	"Re: /home/webapp no such file or directory
Your home directory is used to determine where the SDK should look for a credentials file. (It checks ~/.aws/credentials.) You can set a custom home directory with the HOME environment variable if the OS is not setting it up properly."
Product Advertising API	"Re: /home/webapp no such file or directory
Can you please tell me how to set custom directory with  home environment variable?"
Product Advertising API	"Amazon Linux 2 igbinary and memcached out-of-date
On the latest Amazon Linux 2.8.6 PHP 7.1 image , is it possible to get the latest stable igbinary and memcached?

igbinary: The default igbinary php extensions provided (1.1.2) is not compatible with PHP 7.1 . It's only supported starting  igbinary 2.0.1[1] 
memcached: it would be also awesome to have the latest stable version (3.1.3)

When I've tried to upgrade both via pecl7 (with the ebextension), it results of a segmentation fault for both packages. (pecl7 upgrade , or pecl7 uninstall+pecl7 install)

Any on idea on how to upgrade the packages properly this, or know when a working version will come out? Thanks a lot!

[1] https://github.com/igbinary/igbinary/releases?after=release-2.0.1

Edited by: eric-sre on Jan 25, 2019 9:45 AM"
Product Advertising API	"PHP Session Overlap
Running PHP 7.2 on Linux ELB LAMP setup...
Prior to moving this onto AWS we had no issues with session overlap on the same LAN, now we do.  The sessions are stored in the MySQL database and we are using a pretty standard slightly modified open source session handler that reads/writes from the DB.  We've tried both the classic load balancer (using sticky sessions) and the updated one (not sure if it's sticky or not since no options for that) with the same result.  One users logs in and the other can be switched to them or vice versa on random page loads within the member site.  One logs out and it logs them both out, etc. The problem we envision is it being exploited on a public wifi like at Starbucks, etc.  We were able to reduce the amount of crossover by also storing the User Agent in the DB preventing different devices from crossing over, but if the users are using the same browser on similar devices like two PCs or two iPhone 10's, it's still an issue. Does anyone have any thoughts on a work around for this? Our assumption is that the IP address is seen by the load balancer as being the same and mixing the sessions together somehow.  We obviously will need the session to be sticky to keep users authenticated during their site visit, but I'm not even 100% sure that's where the issues is.  I strongly suspect it, but it's nearly impossible to find that out from my perspective. I'm a self taught programmer and I'm not a system admin, so this is well beyond my skill set.  Without resolution we will have no choice but to start over and go with a different cloud provider.  Thank you in advance to anyone who has any suggestions."
Product Advertising API	"Re: PHP Session Overlap
Had to use AWS sessions instead of PHP."
Product Advertising API	".htaccess not deploying
Hi
This isn't really a PHP question, but I thought this might be the best place to ask the question.
I'm using AWS Codestar, with my Git repository, to auto-deploy my web application. As part of the web app, it uses .htaccess files and mod_rewrite - all standard stuff. However, for some reason, the deploy/build etc doesn't seem to deploy the .htaccess file.
My guess is, it's being ignored by the git pull somehow; however when I push a change to the .htaccess file, the deployment process sees it, and builds/deploys the change.

Any advice/help gratefully received 

Thanks
James"
Product Advertising API	"How to Connect AWS S3 to WHMCS? Need some help with the AWS S3 policy.
Hi, 
I hope this is the right place to ask.

I'm trying to use AWS S3 with my WHMCS. 
There is https://docs.whmcs.com/Storage_Settings  in WHMCS that have an example on how to set the relevant AWS S3 policy.

Can someone please help me understand what info I should change in the code so it will be tailored to my AWS S3?

I guess that some of the information in this code is just a general example and I should change according to my personal information - But I don't know what to change.

Can you help?
Thanks and regards,
Ram"
Product Advertising API	"AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local
Hello,

I am starting to use the PHP V3 SDK.

I have installed it, I have configured the credentials and I want to make an attempt to get the list of buckets as a test.
But I find the C60 error.

I've seen that you have to copy a certificate .pem file and modify the php.ini on the local server (I'm using MAMP), according to other comments but this does not solve the problem.

I still get the same error as if I had not done anything.

Can someone give me an idea of ​​what I can do?

my PHP script

<?php

require 'vendor/autoload.php';

use Aws\S3\S3Client;
use Aws\S3\Exception\S3Exception;
use Aws\Exception\AwsException;

$options = [
    'profile' => 'default',
    'region'     => 'eu-central-1',
    'version'    => '2006-03-01',
    'debug'   => [
        'logfn'        => function ($msg) { echo $msg . ""\n""; },
        'stream_size'  => 0,
        'scrub_auth'   => true,
        'http'         => true,
        'auth_headers' => [
            'X-My-Secret-Header' => 'https://forums.aws.amazon.com/',
        ],
         'auth_strings' => [
            '/SuperSecret=https://forums.aws.amazon.com/{20}/i' => 'SuperSecret=https://forums.aws.amazon.com/',
        ],
    ],

];

$s3Client = new S3Client($options);

//Listing all S3 Bucket
$buckets = $s3Client->listBuckets();
foreach ($buckets as $bucket) {
    echo $bucket . ""\n"";
}
?>
error:
""Aws\S3\Exception\S3Exception"" => string(225) ""Error executing ""ListBuckets"" on ""https://s3.eu-central-1.amazonaws.com/""; AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local issuer certificate (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)""

Thank you"
Product Advertising API	"Re: AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local
Hello.
Please, show your curl options."
Product Advertising API	"Amazon Linux AMI with LAMP ( Php 5.6.38) Unable to turn off Notices
Hi!
I have tried to turn off notices from php.ini, from .htaccess and also by adding the following to php files
error_reporting( E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED & ~E_WARNING);

I still see notices being displayed when pages in the web site load. What else can I do to turn off these notices?"
Product Advertising API	"yum update is disabling PHP CURL extension
On my Amazon EC2 Linux instance, I've ran the command :

sudo yum update

After it completed successfully,  my application that relied on PHP-CURL extension stopped working and I noticed that PHP CURL extension isn't available anymore in the PHPinfo page.  It was there before I ran the yum update command.

I've tried to enable the PHP CURL extension in the etc/php.ini by adding a line referring the the curl.so file and restarted Apache but it's still not enabled.

So, I've rolled back the yum update transaction.  Then my PHP-CURL extension is again enabled. 

Any one having this issue ?? Please help !!"
Product Advertising API	"Re: yum update is disabling PHP CURL extension
It has come to our attention that there is a configuration error in the new version of php, php-5.4.16-43.amzn2.0.2. It is recommended that you refrain from upgrading to this version and wait until an update is provided. 
To work around the issue, modify the contents of ""/etc/httpd/conf.modules.d/10-php.conf"" 

It should read:
# 
# PHP is an HTML-embedded scripting language which attempts to make it 
# easy for developers to write dynamically generated webpages. 
# 
<IfModule prefork.c> 
LoadModule php5_module modules/libphp5.so 
</IfModule> 
 
<IfModule !prefork.c> 
LoadModule php5_module modules/libphp5-zts.so 
</IfModule> 


We apologize for the inconvenience and will have an update out as soon as possible."
Product Advertising API	"Re: yum update is disabling PHP CURL extension
php-5.4.16-45.amzn2.0.5 is now available in Amazon Linux 2 repositories. Please let us know if this doesn't fix your issue.

Praveen"
Product Advertising API	"Re: yum update is disabling PHP CURL extension
Hi, this is now happening for us on our Amazon linux instance (PHP 5.3.29 curl is now disabled through Apache). Pretty sure this happened as a result of running a recent yum update. Phpinfo confirms that curl isn't enabled. Any idea what changed in the packages that could have caused this?"
Product Advertising API	"Wordpress - Ec2 cannot communicate with S3 server
Hi,
We are currently running a WordPress website on 1x EC2 instance, 1x RDS instance cloudfront + S3. In order to offload the WordPress content to S3, we bought a plugin called 'WP Offload Media' 
https://deliciousbrains.com/wp-offload-media/  When we click on 'Browse existing buckets', we get the following error message: 
---
 Error fetching buckets - "" Error retrieving credentials from the instance profile metadata server. (Client error: `GET http://169.254.169.254/latest/meta-data/iam/security-credentials/` resulted in a `404 Not Found` response: 











When we skip the 'Browse existing buckets' and type the bucket name directly 'cdn.mydomain.com', we get the following error message: 











Error saving bucket — Error Getting Bucket Region —There was an error attempting to get the region of the bucket cdn.mydomain.com: Error retrieving credentials from the instance profile metadata server. (Client error: `GET http://169.254.169.254/latest/meta-data/iam/security-credentials/` resulted in a `404 Not Found` response: 
---
 For whatever reason, our EC2 instance can't contact http://169.254.169.254/ to grab the info it needs. 
We tried to add the IP 169.254.169.254 to the security inbound policy but without any luck.

Do we need to add S3 Policy bucket or anything for it to work?

Could someone please provide some assistance on how to solved this issue? 

Thank you,"
Product Advertising API	"How to use presigned url to listObjects
I am able to get listObjects with following:

 $objects = $s3Client->listObjects([
        'Bucket' => $bucket,
        'Prefix' => $prefix
 ]);

The problem is that it doesn't work when building with Jenkins. It says access denied. To solve this, I thought about accessing S3 with a presigned url. I can get a presigned url with an XML of the result:
$cmd = $s3Client->getCommand('ListObjects', [
   'Bucket' => Aula::masterConfiguration()->getS3Bucket(),
   'Prefix' => $rootFolderForOriginals
]);
$request = $s3Client->createPresignedRequest($cmd, '+20 minutes');
$url = (string)$request->getUri();

But I want it as an object in PHP like execute($cmd). How can I do that?

Edited by: NicklasMF on Dec 20, 2018 5:24 AM

Edited by: NicklasMF on Dec 20, 2018 5:24 AM"
Product Advertising API	"403 Access Denied using Go rdsutils example
I have been struggling with this for a while now.  I am trying to get this simple example to work locally on my laptop: https://github.com/aws/aws-sdk-go/blob/master/example/service/rds/rdsutils/authentication/iam_authentication.go
sess := session.Must(session.NewSession())
creds := stscreds.NewCredentials(sess, ""arn:aws:iam::12345678910:role/my-rds-role"")
authToken, err := rdsutils.BuildAuthToken(dbEndpoint, region, dbUser, creds)

I simply want to connect to my Postgres RDS db instance using the Go SDK.  I am able to connect to it via pgAdmin.

I have created an IAM user, stored that user's creds locally using the 'aws configure' via CLI.  
I have created a policy to allow AssumeRole and assigned it to that user.

When I run the sample code, I can see it gets my creds and signs the request.  But, when it calls out to POST https://sts.amazonaws.com I always get a 403 Access Denied response: AccessDenied: Access denied
	status code: 403, request id: af2d97d6-27e7-11e9-bef0-114765d449cd

I am assuming this is the step where it wants to verify that my user, as defined by my locally stored creds, has access to assume the role ARN that I pasted into the example code

Can someone please help me figure this out?  Is there a way to get more info about the 403?  Does this not work when running from my local machine?  Can I debug this access endpoint in Postman?  Am I missing a key IAM policy?  Thanks for any guidance."
Product Advertising API	"Re: 403 Access Denied using Go rdsutils example
I was able to figure this out, finally.  I came across Jeff's answer here: https://forums.aws.amazon.com/thread.jspa?threadID=234281
My problem was that I needed to add my account as principal to the role's trust relationships policy.
{
            ""Effect"": ""Allow"",
            ""Principal"": {
                ""AWS"": ""12345678910""
            },
            ""Action"": ""sts:AssumeRole""
        }

I am now able to generate auth tokens in my local dev environment."
Product Advertising API	"How can a Lambda assume an IAM role and connect to Postgres a RDS on AWS
We have a SAM-generated API-Gateway - Lambda integration stack that needs to access an RDS Database (Postgres).

SAM is creating the necessary CF template with the custom role and attendant policies for our functions: ('AWSLambdaVPCAccessExecutionRole' & 'AmazonRDSReadOnlyAccess')

We've configured the functions that need to connect to the DB with the subnetIDs and security Group of the DBs VPC and are attempting to connect using **IAM authentication**.

We've created the PG user account in the target DB with rds_admin role grant as per: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.DBAccounts.html

What we are not able to do is to connect to the RDS DB using the AWS SDK for **Go**.

It looks like the role ARN is a requirement to do so:

from the docs, link here:
https://docs.aws.amazon.com/sdk-for-go/api/service/rds/rdsutils/
    authToken, err := BuildAuthToken(dbEndpoint, awsRegion, dbUser, awsCreds)
    
    // Create the MySQL DNS string for the DB connection
    // user:password@protocol(endpoint)/dbname?<params>
    connectStr = fmt.Sprintf(""%s:%s@tcp(%s)/%s?allowCleartextPasswords=true&tls=rds"",
       dbUser, authToken, dbEndpoint, dbName,
    )
    
    // Use db to perform SQL operations on database
    db, err := sql.Open(""mysql"", connectStr)

..except we'd use a Postgres connection string.

But without creating a 'long-form' CFN template and passing the roleARN as an environment variable to our lambda function we can't work out how to configure the SDK to assume the same role as the executing lambda function.

If anyone can help work this out with me I'd be very grateful! 

Thanks in advance"
Product Advertising API	"CloudHSM SDK
Are there any guides that describe how to get started developing applications using the CloudHSM SDK? Particularly the Go version

I'm stuck at the first hurdle: how to I develop code on my laptop to run against an HSM that is tucked away in the private subnet of a VPC?

Edited by: longwave on Dec 7, 2018 1:41 AM

Edited by: longwave on Dec 7, 2018 1:42 AM"
Product Advertising API	"Keep alive message timeout
Today i was testing the publish message from AWS server to my device. What i found was that if the device connect to the AWS server and never send any communication message for about 5 minutes to the AWS server and send the message after 5 minutes from the AWS server then the device did not receive any messages.

Default keep alive message is set to every 10 minutes.  But interesting part is that the server send the message after receiving the keep alive message that send from the device.

If i set 5 minutes keep alive message then it is fine. Is there any particular reason?"
Product Advertising API	"How do I handle cognito redirects in a lambda function?
I am trying to set up a basic authentication flow for my app using the API Gateway, Cognito, and Lambda services.

I was hoping I could have the Cognito login page redirect to the API Gateway, which then passes the request on to lambda returning a cookie that the client can then use for authorizing future requests, but I'm not sure how to actually exchange the authorization code for a token in a lambda function, nor am I sure how to then ensure that the response is a cookie."
Product Advertising API	"Cognito user enable MFA
How can I enable SMS MFA for cognito user? I have tried several APIs from Python and Golang and all of them are implementation of AdminSetUserMFAPreference. I call it like that for Golang:
enableMFAStatus, err := cogIProv.AdminSetUserMFAPreferenceWithContext(ctx, &cip.AdminSetUserMFAPreferenceInput{
		UserPoolId: aws.String(userPoolID),
		Username:   aws.String(username),
		SMSMfaSettings: &cip.SMSMfaSettingsType{
			Enabled:      aws.Bool(true),
			PreferredMfa: aws.Bool(true),
		},
	})

And the next way for Python:
response = self.cognitoClient.admin_set_user_mfa_preference(
                        SMSMfaSettings={
                            'Enabled': True,
                            'PreferredMfa': True
                        },
                        UserPoolId=self.userPoolID,
                        Username=userID,
                    )

And I receive success result and no errors but nothing changes. Maybe there are other ways to enable SMS MFA for user? Please help me."
Product Advertising API	"VMware-Go-KCL: Kinesis Client Library for Go
Discover how VMware-Go-KCL delivers the Go/Kubernetes community and Go native language implementation of Kinesis Client Library withoutthe resource overhead of installing Java-based MultiLangDaemon.

https://blogs.vmware.com/opensource/2018/09/13/vmware-go-kcl-kinesis-client-library/
https://github.com/vmware/vmware-go-kcl

Edited by: puzzle2 on Oct 7, 2018 4:27 PM"
Product Advertising API	"Go SDK FIPS certified?
Hey all I was wondering if the aws go sdk is FIPS certified?

Thanks all"
Product Advertising API	"SNS/SQS messaging issue
Hello,

I am trying to write and read messages through  SNS / SQS. I followed the instructions at https://docs.aws.amazon.com/sns/latest/dg/SendMessageToSQS.html , https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/sqs-example-receive-message.html etc.).  The message posting to SNS seems to work, and I can see the message count in SQS ( Messages in Flight (Not Visible)) going up each time when I post a new message to the SNS topic. However, the messages are not being received on the listener process.  Any suggestions on what could be wrong here?

For running code:

Create a SNS topic using AWS console
Update the SNS topic arn for topicToListen 
Update the IAM user arn for topicToListen 
Make sure that the AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY environment variables are set
go build
to start the receiver, call    <pgm name>  -r   (wait for about 30+ seconds for the listner to be ready)
to start the receiver, call    <pgm name>  -s  (this will send the message to the SNS topic)
You can see that the receiver does not receive the message. However, the SQS console will show the increase in Messages in Flight (Not Visible)


package main
 
import (
	""bufio""
	""flag""
	""fmt""
	""os""
	""os/user""
	""strings""
	""sync""
	""time""
 
	""github.com/aws/aws-sdk-go/aws""
	""github.com/aws/aws-sdk-go/aws/session""
	""github.com/aws/aws-sdk-go/service/sns""
	""github.com/aws/aws-sdk-go/service/sqs""
)
 
// This program requires two environment variables to be set
// AWS_ACCESS_KEY_ID
// AWS_SECRET_ACCESS_KEY
 
const topicToListen = ""arn for the SNS topic""
const awsUserArn = ""arn for the IAM user""
const awsRegion = ""ap-southeast-2""
 
var waitGrp sync.WaitGroup
var waitMore = true
 
func main() {
 
	sendPtr := flag.Bool(""s"", false, ""send message"")
	receivePtr := flag.Bool(""r"", false, ""receive message"")
	flag.Parse()
 
	send := *sendPtr
	receive := *receivePtr
 
	exePath, _ := os.Executable()
	idx := strings.LastIndex(exePath, string(os.PathSeparator))
	if idx > 0 {
		exePath = exePath[idx+1:]
	}
 
	if send == false && receive == false {
		fmt.Printf(""Usage:\n%v -s [to send message]\nOR\n%v -r [to receive message]"",
			exePath, exePath)
		os.Exit(1)
	}
 
	if send == true && receive == true {
		fmt.Printf(""\nOnly one flag -s or -r is allowed at a time\nUsage:\n%v -s [to send message]\nOR\n%v -r [to receive message]"",
			exePath, exePath)
		os.Exit(1)
	}
 
	sess := session.New(&aws.Config{
		Region: aws.String(awsRegion),
	})
 
	if send == true {
		fmt.Printf(""\nSending message...\n"")
		sendMessage(sess)
 
	} else if receive == true {
		fmt.Printf(""\nReceiving messages...\n"")
 
		go waitForMessages(sess)
 
		fmt.Printf(""\nWaiting...\n"")
		reader := bufio.NewReader(os.Stdin)
 
		for inp := """"; inp != ""q""; {
			fmt.Print(""Enter q to quit: "")
			inp, _ = reader.ReadString('\n')
			inp = strings.ToLower(strings.TrimSpace(inp))
		}
 
		waitMore = false
		waitGrp.Wait()
	}
 
	fmt.Printf(""\nDone\n"")
}
 
func sendMessage(sess *session.Session) {
 
	snsClnt := sns.New(sess)
 
	timeStr := time.Now().Format(time.RFC3339Nano)
	customMsg := fmt.Sprintf(""Test message at: %v"", timeStr)
	msgToSend := fmt.Sprintf(`{
				""default"": ""%v"", 
				""sqs"": ""%v""
				}`, customMsg, customMsg)
 
	pubOut, err := snsClnt.Publish(&sns.PublishInput{
		TopicArn:         aws.String(topicToListen),
		Message:          aws.String(msgToSend),
		MessageStructure: aws.String(""json""),
	})
 
	if err != nil {
		fmt.Printf(""\nError in SNS Publish: %v"", err.Error())
		return
	}
 
	fmt.Printf(""\nSNS Publish message id: %v to topic:%v"", *(pubOut.MessageId), topicToListen)
}
 
func waitForMessages(sess *session.Session) {
 
	waitGrp.Add(1)
 
	var queQurl *string = nil
	var snsUnsubscInp *sns.UnsubscribeInput = nil
	sqsClnt := sqs.New(sess)
	snsClnt := sns.New(sess)
 
	defer func(sqsClnt *sqs.SQS) {
 
		if snsUnsubscInp != nil {
			fmt.Printf(""\nUnsubscribing from SNS URL: %v"", *(snsUnsubscInp.SubscriptionArn))
			_, err := snsClnt.Unsubscribe(snsUnsubscInp)
			if err != nil {
				fmt.Printf(""\nError in SNS Unsubscribe: %v"", err.Error())
			}
		}
 
		if queQurl != nil {
			fmt.Printf(""\nDeleting SQS URL: %v"", *(queQurl))
			sqsDelInp := &sqs.DeleteQueueInput{
				QueueUrl: queQurl,
			}
			_, err := sqsClnt.DeleteQueue(sqsDelInp)
			if err != nil {
				fmt.Printf(""\nError in DeleteQueue: %v"", err.Error())
			}
		} else {
			fmt.Printf(""\nSQS URL is nil, not deleted: %v"", queQurl)
		}
 
		waitGrp.Done()
 
	}(sqsClnt)
 
	hostName, _ := os.Hostname()
	usr, _ := user.Current()
	usrName := usr.Username
	if strings.HasPrefix(usrName, hostName) == true {
		hostName = """"
	}
 
	serverID := ""sqs-"" +
		hostName + ""-"" + usrName + ""-"" +
		time.Now().Format(time.RFC3339Nano)
	serverID = strings.Replace(serverID, "":"", ""-"", -1)
	serverID = strings.Replace(serverID, ""."", ""-"", -1)
	serverID = strings.Replace(serverID, ""\\"", ""-"", -1)
	serverID = strings.Replace(serverID, ""/"", ""-"", -1)
 
	queueName := strings.ToLower(serverID)
 
	fmt.Printf(""\nServer: %v\nSession:%v"", serverID, sess)
 
	sqsInp := &sqs.CreateQueueInput{
		QueueName: aws.String(queueName),
	}
 
	sqsOutp, err := sqsClnt.CreateQueue(sqsInp)
	if err != nil {
		fmt.Printf(""\nError in CreateQueue: %v"", err.Error())
		return
	}
 
	queQurl = sqsOutp.QueueUrl
 
	tempStr := *(queQurl)
	tempStr = strings.Replace(tempStr, ""https://sqs."", """", -1)
	tempStr = strings.Replace(tempStr, "".amazonaws.com"", """", -1)
	tempStr = strings.Replace(tempStr, ""/"", "":"", -1)
 
	sqsArn := ""arn:aws:sqs:"" + tempStr
 
	fmt.Printf(""\nSQS arn: %v"", sqsArn)
 
	policyFmt := `{
  ""Version"": ""2012-10-17"",
  ""Id"": ""Queue_Policy"",
  ""Statement"": [
    {
      ""Sid"": ""sqs_permissions_policy_writer"",
      ""Effect"": ""Allow"",
      ""Principal"": ""*"",
      ""Action"": ""SQS:SendMessage"",
      ""Resource"": ""%v"",
      ""Condition"": {
        ""ArnEquals"": {
          ""aws:SourceArn"": ""%v""
        }
      }
    },
    {
      ""Sid"": ""sqs_permissions_policy_reader"",
      ""Effect"": ""Allow"",
      ""Principal"": {
        ""AWS"": ""%v""
      },
      ""Action"": ""SQS:*"",
      ""Resource"": ""%v""
    }
  ]
}`
 
	policyStr := fmt.Sprintf(policyFmt, sqsArn, topicToListen, awsUserArn, sqsArn)
 
	sqsAttrInp := &sqs.SetQueueAttributesInput{
		QueueUrl: sqsOutp.QueueUrl,
		Attributes: map[string]*string{
			""Policy"": aws.String(policyStr),
		},
	}
 
	_, err = sqsClnt.SetQueueAttributes(sqsAttrInp)
	if err != nil {
		fmt.Printf(""\nError in SetQueueAttributes: %v"", err.Error())
		return
	}
 
	subscInp := &sns.SubscribeInput{
		Endpoint: aws.String(sqsArn),
		Protocol: aws.String(""sqs""),
		TopicArn: aws.String(topicToListen),
	}
 
	subscOutp, err := snsClnt.Subscribe(subscInp)
	if err != nil {
		fmt.Printf(""\nError in Subscribe: %v"", err.Error())
		return
	}
 
	fmt.Printf(""\nSubscriptionArn: %v"", *(subscOutp.SubscriptionArn))
	fmt.Printf(""\nWaiting for AWS to be ready..."")
	time.Sleep(30 * time.Second)
 
	snsUnsubscInp = &sns.UnsubscribeInput{
		SubscriptionArn: subscOutp.SubscriptionArn,
	}
 
	urlOutp, err := sqsClnt.GetQueueUrl(&sqs.GetQueueUrlInput{
		QueueName: aws.String(queueName),
	})
	if err != nil {
		fmt.Printf(""\nError in GetQueueUrl: %v"", err.Error())
		return
	}
 
	var msgWaitSecs int64 = 10
	queueUrlToListen := urlOutp.QueueUrl
 
	msgInp := &sqs.ReceiveMessageInput{
		QueueUrl: queueUrlToListen,
		AttributeNames: aws.StringSlice([]string{
			""SentTimestamp"",
		}),
		MaxNumberOfMessages: aws.Int64(1),
		MessageAttributeNames: aws.StringSlice([]string{
			""All"",
		}),
		WaitTimeSeconds: &msgWaitSecs,
	}
 
	for {
 
		msgOutp, err := sqsClnt.ReceiveMessage(msgInp)
		if err != nil {
			fmt.Printf(""\nError in ReceiveMessage: %v"", err.Error())
			return
		}
 
		if msgOutp.Messages == nil || len(msgOutp.Messages) == 0 {
			fmt.Printf(""\nNo messages received : %v queQurl:%v"", msgOutp, *queueUrlToListen)
		} else {
			for idx, msg := range msgOutp.Messages {
				msgBody := *(msg.Body)
				fmt.Sprintf(""Message(%v):%v"", idx, msgBody)
			}
		}
 
		if waitMore == false {
			return
		}
	}
}"
Product Advertising API	"Re: SNS/SQS messaging issue
I would bust the code up into two, very simple, apps.


One that sends a message
One that receives messages


Whether they run forever until interrupted or just one time is up to you. 

I would also create a third app that monitors the queue for messages.
Again, whether it runs until interrupt is up to you.

Run each in separate windows so you can follow what's going on.

Get them to work, then merge them into one if you want."
Product Advertising API	"Start EC2 instances for specified ECS cluster via SDK
Hello!
I've faced with almost same problem as here https://forums.aws.amazon.com/thread.jspa?threadID=230632 but I am using GO SDK for creating cluster. 
So my problem is when I create new EC2 amazon-ecs-optimized instance it attached to 'defalut' cluster. How can I add new instances to specified cluster? There is ability for aws-cli tool by 
#!/bin/bash
echo ECS_CLUSTER=your_cluster_name >> /etc/ecs/ecs.config


Is there possibility to specify ECS_CLUSTER while calling EC2.RunInstances https://docs.aws.amazon.com/sdk-for-go/api/service/ec2/#EC2.RunInstances

Also, if there no possibility to specify cluster while start new instance, how can I create cluster with predefined servicecontainers via Go SDK?"
Product Advertising API	"EC2 Service Client Lifecycle
What is the lifecycle of an EC2 service client created by the Golang SDK? For the Java SDK, it is mentioned that the clients are long lived (https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/creating-clients.html)

I use the New function to create a new client (https://docs.aws.amazon.com/sdk-for-go/api/service/ec2/#New) as
svc := ec2.New(sess, aws.NewConfig().WithRegion(region))


I wanted to know whether there is any timeout or expiration of the client after which it is not useable and I need to create a new service client?"
Product Advertising API	"Getting NextToken in cloudWatchLogs go sdk
I am trying to describe all log groups in my lambda log group, I have to pass ""NextToken"", which I don't have.
svc.DescribeLogGroups(&cloudwatchlogs.DescribeLogGroupsInput{
		Limit:              aws.Int64(1),
		LogGroupNamePrefix: aws.String(""prefix""),
		NextToken:          aws.String(""nextToken"")
})

what should my log prefix and nextToken be,  if I have to  get all log groups

Edited by: krazybee on Jul 24, 2018 4:57 AM"
Product Advertising API	"Gorilla/mux cannot return a value for path parameter.
Hi,
I’ve been using multiplexer from Gorilla/mux for a while and happy about it. Until suddenly it’s not working anymore when I redeployed my app to AWS Beanstalk.
Every time that I try to access a path with parameter, the value of the parameter is always empty. But that’s not the case if the path doesn’t have a parameter.

For example, given the URL of http://www.mydomain.net/myresource/{id}, the value of {id} is empty.
But it works if I have a path without parameter like the following example:
http://www.mydomain.net/myresource.

This is only happening if I do deployment from AWS CodePipeline which kicks of CodeBuild, and deploys directly to AWS Beanstalk. If I build from my local box and deploy it to AWS Beanstalk it will work. I can also run it it in my local box.
It seems there is something not right in AWS CodeBuild. I run dep, so the package that’s put in the vendor folder is the same version as what I have in my local box, and I have double checked to make sure they are identical.  Out of curiosity, I have also tried to update using other multiplexer and it gave the same result.  No error whatsoever, and I check the length of mux.Vars is 0

My question, what steps that I need to do to troubleshooting this?  I've been stuck with this for two days already.

Thanks

Edited by: edisonltan on Jul 6, 2018 7:31 PM"
Product Advertising API	"`go get` and `vgo` can't fetch a library from codecommit
I've tested with several different git credentials setups:
1. ssh keys
2. git-credential-libsecret
3. aws codecommit credential-helper
4. cache (helper)

etc.

However, `go get` and `vgo build` always fail.

$ go get git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo
package git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo: unrecognized import path ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo"" (parse https://git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo?go-get=1: no go-import meta tags ())


$ vgo build
vgo: resolving import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo""
vgo: import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/bar"" ->
	import ""git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo"": unknown module git-codecommit.us-east-1.amazonaws.com/v1/repos/libfoo: no go-import tags


Originally I thought this to be a problem with vgo, and had created a ticket https://github.com/golang/go/issues/25792, where I was informed that the failure is earlier in the fetching process than I thought. The problem isn't authentication, it's strictly that `go` is unable to detect that the codecommit repository is in fact a go package repository.

Does anyone have any tips, maybe on the codecommit admin side for opening up these `meta tags`?

Thanks

 -- Ben"
Product Advertising API	"Process exited before completing request for aws lambda using Go
I have using following code in go with aws lambda:

package main

import (
        ""log""       
        ""github.com/aws/aws-lambda-go/lambda""
)

func HandleRequest() {
        log.Print(""Hello from Lambda"")
}

func main() {
        log.Print(""Hello from Lambda"")
        lambda.Start(HandleRequest)
} 

Attaching the zip file for reference.When i test it gives me following error message 

{
  ""errorMessage"": ""RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Process exited before completing request""
}

Log Output:

START RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Version: $LATEST
END RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba
REPORT RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba	Duration: 101.31 ms	Billed Duration: 200 ms 	Memory Size: 704 MB	Max Memory Used: 14 MB	
RequestId: 16796b81-63fa-11e8-8072-d71ac5248dba Process exited before completing request

What could be the reason for above issue?"
Product Advertising API	"Re: Process exited before completing request for aws lambda using Go
I couldn't see the zip package to download it, but one potential reason could be that you forgot to compile the Go program for Linux using the GOOS environment variable."
Product Advertising API	"Golang S3 Uploader
Hello,

I have not been able to find many resources that describe a start-to-finish Golang Lambda deployment, so I thought I would see if any forum members have any suggestions or feedback for our intended architecture.

We have an OCR application that exists in a Fargate task definition. Using environment variables set with the task launch, it retrieves PDF files from an S3 bucket, performs image pre-processing and deskew functions, then OCRs the entire PDF with reassembled text layers.

I need some ability to securely upload those PDF files to S3; everything has to be SSL encrypted.

From what I've read, the best way to accomplish this would be using Amazon API Gateway to build a REST API that is SSL-encrypted, and with a Lambda trigger (we want to use Golang) that handles the incoming POST, writes the file to S3, and then launches the Fargate OCR process with environment variables that specify the uploaded filename for the PDF.

So for starters, are there any resources that describe this POST functionality with API Gateway and the Golang Lambda function? Seems like this should be a fairly simple implementation?

Thanks in advance"
Product Advertising API	"Re: Golang S3 Uploader
I've never tried upload via API Gateway/Lambda combo tbh, thought that the memory restrictions for Lambda meant this ruled out most options for this?

Does the application only exist within your own company? If that's the case, you could look at setting up an EC2 instance reverse proxy with a role to access S3 which performs the upload. Using this method you can also have it writing to multiple buckets based on the url passed from the file source."
Product Advertising API	"Unable to access the service from outside the instance.
Hello,

  My service is running on port 8181 and under security group added ""Custome TCP Rule"" saying port 8181 is available from every where. But still it's unavailable.

  Am I missing any other required steps.

Thanks!!"
Product Advertising API	"setup aws certification for a web page
I have a web page i would like to work with ssl (https)

for now it is working but with the private certification which alerts the user of ""connection is not secure"".

I issued a aws certification by following the link :
https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-validate-dns.html#dns-add-cname

And set my tomcat server to work with certificate by as shown in this link
http://techtracer.com/2007/09/12/setting-up-ssl-on-tomcat-in-3-easy-steps/

but i can not seem to get ride of the ""connection is not secure"" issue"
Product Advertising API	"Single sdk api to list all keys across all regions
Is there an api (in golang) to list all the kms keys across all regions? or do i have to create per region service client and get the keys via that."
Product Advertising API	"Bug:  CognitoIdentityID/CognitoIdentityPoolID is empty on lambda invoke
The CognitoIdentityID field in the lambda context structure for Go seems not to be working. These are direct invocations of lambda functions forwarded from Cloudfront. API Gateway is not being used.

I am sure the CognitoIdentity is part of my request, direct lambda calls are protected by IAM security.  So I had to get through the IAM encryption check in order to invoke the lambda. I dumped my context.Context from go:
{
    ""AwsRequestID"": ""92db745e-183c-11e8-be7d-c53e91fb11c8"",
    ""InvokedFunctionArn"": ""arn:aws:lambda:us-east-1:xxxxx:function:digi2API-dev-world"",
    ""Identity"": {
        ""CognitoIdentityID"": """",
        ""CognitoIdentityPoolID"": """"
    },
    ""ClientContext"": {
        ""Client"": {
            ""installation_id"": """",
            ""app_title"": """",
            ""app_version_code"": """",
            ""app_package_name"": """"
        },
        ""env"": null,
        ""custom"": null
    }
}

When I make a similar call from the same front-end to a lambda written in node.js, the context looks like this, only change was editing the function name to call a different lambda.
{
    ""callbackWaitsForEmptyEventLoop"": true,
    ""logGroupName"": ""/aws/lambda/digiAPI-dev-items"",
    ""logStreamName"": ""2018/02/21/[$LATEST]a8178cf4ab4a4108b285267bddd9a5d6"",
    ""functionName"": ""digiAPI-dev-items"",
    ""memoryLimitInMB"": ""512"",
    ""functionVersion"": ""$LATEST"",
    ""identity"": {
        ""cognitoIdentityId"": ""us-east-1:73134712-adbb-4432-8cfe-246a8eae6fab"",
        ""cognitoIdentityPoolId"": ""us-east-1:4f3f4619-737b-41ed-b0dd-8875cfcf27ab""
    },
    ""invokeid"": ""e8e1d8dc-175e-11e8-a83c-39c3312d1082"",
    ""awsRequestId"": ""e8e1d8dc-175e-11e8-a83c-39c3312d1082"",
    ""invokedFunctionArn"": ""arn:aws:lambda:us-east-1:xxxxxxxx:function:digiAPI-dev-items
}


The example for this in the documentation also does not work for the same reason. Note the variable name is misspelled in the documentation.
https://docs.aws.amazon.com/lambda/latest/dg/lambda-dg.pdf

Accessing Invoke Context Information
Lambda functions have access to metadata about their environment and the invocation request. This
can be accessed at Package context. Should your handler include context.Context as a parameter,
Lambda will insert information about your function into the context's Value property. Note that you
need to import the lambdacontext library to access the contents of the context.Context object.
package main
import (
 ""context""
 ""log""
 ""github.com/aws/aws-lambda-go/lambda""
 ""github.com/aws/aws-lambda-go/lambdacontext""
)
func CognitoHandler(ctx context.Context) {
 lc, _ := lambdacontext.FromContext(ctx)
 log.Print(lc.Identity.CognitoPoolID)
}
func main() {
 lambda.Start(CognitoHandler)
}
In the example above, lc is the variable used to consume the information that the context object
captured and log.Print(lc.Identity.CognitoPoolID) prints that information, in this case, the
CognitoPoolID.
 


Edited by: jonsmirl2 on Feb 23, 2018 9:28 AM"
Product Advertising API	"Re: Bug:  CognitoIdentityID/CognitoIdentityPoolID is empty on lambda invoke
This is broken in the go lambda run-time, since I have the source I've hacked in a fix, aws-lambda-go/lambda/function.go in Invoke() is missing a couple of assignments. I am just starting with Go and can't figure out the correct syntax for adding the assignment in the initializer, but this hack works.

lc := &lambdacontext.LambdaContext{
	AwsRequestID:       req.RequestId,
	InvokedFunctionArn: req.InvokedFunctionArn,
}
lc.Identity.CognitoIdentityID = req.CognitoIdentityId
lc.Identity.CognitoIdentityPoolID = req.CognitoIdentityPoolId"
Product Advertising API	"How to make sender name dynamic while sending emails through command line ?
Hello!
I am working on a SAAS project. The project uses angular at its front end that use REST API to connect to database. The REST API of the application is written in Go. 

The emails through command line are sending but its sender name is something that matches to my server name like ubuntu@ip-https://forums.aws.amazon.com/.us-east-2.compute.internal . Its sender name is showing as Ubuntu in my mail inbox. 
I fixed it by passing additional headers in mail command for sender. Now its displaying the customized sender name. Following is the code

mail -a ""MIME-Version: 1.0"" -a ""Content-Type: text/html; charset=""UTF-8"""" -a ""From:SENDERNAME<sender@example.com>"" -s ""$(echo ""subject""  )""  test@example.com, body

But I want to know does AWS provide any additional settings or something like that so that I can control it through settings not the code?? If yes, then please provide me the details for such settings.

Thanks!"
Product Advertising API	"Update CLI help and official docs
Hi,

I've been told to post my request here, the relevant GH issue is https://github.com/aws/aws-sdk-go/issues/1772 but I'm pasting the text below.

Thanks,
Daniel

**********************************************************************************
This is just a doc update, please update the file service/sns/api.go, line 5360 to

// Valid values: DeliveryPolicy | FilterPolicy | RawMessageDelivery


i.e. add the new attribute FilterPolicy to the doc. Please also update the corresponding HTML documentation."
Product Advertising API	"Re: Update CLI help and official docs
This is the Go forum. You want the SNS forum: https://forums.aws.amazon.com/forum.jspa?forumID=72"
Product Advertising API	"grouping similar cloudwatch logs alarms
Hello everyone,
I've recently integrated a laravel project to logs directly to cloudwatch, now I need to create an alarm to send notifications to slack about logs with level error or warning. i have a simple lambda function that sends a message/notification to slack using webhook. i added a subscription to the log group to invoke the lambda function if log level is error or warning and this works perfectly. my question here is that if there is any easy way to to group similar messages i.e. there are 5 entries with error level and all of them are identical. i want to send only 1 message that can contain errors count = x (in this case x = 5).
for the current solution if there are many similar errors it will spam slack channel with messages about same error."
Product Advertising API	"Disable ""T2/T3 Unlimited"" on instance launch
I need to launch EC2 instances with the ""T2/T3 Unlimited"" setting set to false/disabled.
If I'm not wrong, I have to use the CreditSpecification parameter. I think I'm doing it right, but in the AWS console ""T2/T3 Unlimited"" is still set to ""enabled"".
This is my code:
$ec2Client->runInstances([
    'ClientToken' => $clientToken,
    'CreditSpecification' => [
        'CpuCredits' => 'standard', // REQUIRED
    ],
    'ImageId' => $awsAmiId,
    'InstanceInitiatedShutdownBehavior' => 'terminate',
    'InstanceType' => $awsInstanceType,
    'MaxCount' => 1, // REQUIRED
    'MinCount' => 1, // REQUIRED
    'Monitoring' => [
        'Enabled' => true, // REQUIRED
    ],
    'SecurityGroupIds' => [$awsSecurityGroupId],
    'SubnetId' => $awsSubnetId,
    'TagSpecifications' => [
        [
            'ResourceType' => 'instance',
            'Tags' => $tags
        ]
    ]
]);

What am I doing wrong or missing?
Thank you."
Product Advertising API	"Extreme S3 latency since 2 days
Since 8 years, I have a script running on an EC2 instance that download about 5000 files from S3 several time a day (all within the AWS network).

It usually complete in few minutes but since yesterday, the same operation take about 1 hour, no network errors involved, transfer time looks good but getting answer from the API take about 1 sec fore each file.

I'm using the old PHP SDK (v2), can it be part of the problem or there is something going wrong with S3 ? The very same script runned for years without trouble.

Many thanks"
Product Advertising API	"Re: Extreme S3 latency since 2 days
Still not answer but the S3 behavior is back to normal. Nothing changed on our side but the transfer is now fast again. Probably a glitch on the network on the AWS side."
Product Advertising API	"Amazon Linux 2 and PHP 5.6
It seems that the default PHP install with Amazon Linux is 5.4 which is already long past EoL.

Using amazon-linux-extras I was able to get 7.2 installed and working.

However, I'm working on a project that requires 5.x and would prefer to run PHP 5.6 since it is still receiving security updates.

Anyone able to get PHP 5.6 installed on Amazon Linux 2? I suppose I could download and compile it but it's been quite awhile since I've done that... stupid convenient repos!"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Thanks for using Amazon Linux 2. I have forwarded your request to appropriate team internally.

-Praveen"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
i too would like to run php 5.6 ... is there a solution to this yet?"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
sudo amazon-linux-extras install -y lamp-mariadb10.2-php7.2 php7.2
the above command install the lamp server with php 7.2 on linux 2. You can try to install php5.6 instead php7.2"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Good morning,
any news on this? I'd like to run PHP 5.6 but I can't seem to find a way. Unfortunately I can't install PHP 7 for we have a legacy website that needs PHP 5 in order to run. But I'd like to at least be able to run the latest PHP 5 version, and not a really outdated one...."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Try this:
	sudo yum -y update
	sudo yum install –y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
	sudo wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
	sudo wget https://centos7.iuscommunity.org/ius-release.rpm
	sudo rpm -Uvh ius-release*.rpm
	sudo yum -y update

	# When you install the package you'll need to add a u to the end of php56. Here is an example of some packages you could install.

	sudo yum -y install php56u php56u-opcache php56u-xml php56u-mcrypt php56u-gd php56u-devel php56u-mysql php56u-intl php56u-mbstring php56u-bcmath php56u-soap"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Hi All,
Is there any news on this. I too need to install PHP 5.6 on Amazon Linux 2

@NigleG1
Thanks.
Is this setup good to go for Prod envs.
What does the ""u"" stand for here.

Or is there any other way to do.

Cheers

Edited by: Harb on Aug 7, 2018 1:57 AM"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Thank you for the solution! Works for me."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
Hi,

I'm trying NigelG1 workaround but it doesn't work for me.

Examining /var/tmp/yum-root-K7YhYD/epel-release-latest-7.noarch.rpm: epel-release-7-11.noarch
/var/tmp/yum-root-K7YhYD/epel-release-latest-7.noarch.rpm: does not update installed package.

sudo rpm -Uvh ius-release*.rpm
warning: ius-release.rpm: Header V4 DSA/SHA1 Signature, key ID 9cd4953f: NOKEY
Preparing...                          ################################# https://forums.aws.amazon.com/
        package ius-release-1.0-15.ius.centos7.noarch is already installed

sudo yum -y install php56u
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
276 packages excluded due to repository priority protections
No package php56u available.
Error: Nothing to do

I really need to install php5 for me to work on old websites.

Thank you in advance."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6
php56 is no longer in the main repository try this:

sudo yum install --enablerepo=ius-archive php56u


Edited by: dbailey668 on Feb 21, 2019 11:35 AM"
Product Advertising API	"Wordpress Mobile Theme Switcher issue In AWS Server with CDN & Loadbalancer
Hello,

We have developed website in wordpress. It has two theme one for desktop and One for mobile. We used  https://wordpress.org/plugins/any-mobile-theme-switcher/  plugin to switch the theme based on desktop or mobile. It worked fine in our local-host.

When we moved site to AWS Server with CDN & Loadbalancer, theme switching got stopped working. We have disabled the CDN / CDN forwarded all the request to server switching got stared to work.

Please suggest how we can resolve this issue. Is there any solution where we can forward only this plugin request or something.

Thanks in Advance."
Product Advertising API	"XML extension on PHP 7.2
I need to install XML extensions with DOM for PHP 7.2 from amzn2extra-php7.2 but the dependencies seems to be broken.
How can I fix this issue??
Thanks

yum install php-xml
Loaded plugins: langpacks, priorities, update-motd
amzn2-core                                                                                      | 2.0 kB  00:00:00
48 packages excluded due to repository priority protections
Resolving Dependencies
--> Running transaction check
---> Package php-xml.x86_64 0:5.4.16-43.amzn2.0.1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.4.16-43.amzn2.0.1 for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.24)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.22)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.18)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.13)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.11)(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libxslt.so.1()(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Processing Dependency: libexslt.so.0()(64bit) for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Running transaction check
---> Package libxslt.x86_64 0:1.1.28-5.amzn2 will be installed
---> Package php-xml.x86_64 0:5.4.16-43.amzn2.0.1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.4.16-43.amzn2.0.1 for package: php-xml-5.4.16-43.amzn2.0.1.x86_64
--> Finished Dependency Resolution
Error: Package: php-xml-5.4.16-43.amzn2.0.1.x86_64 (amzn2-core)
           Requires: php-common(x86-64) = 5.4.16-43.amzn2.0.1
           Installed: php-common-7.2.0-3.amzn2.1.x86_64 (@amzn2extra-php7.2)
               php-common(x86-64) = 7.2.0-3.amzn2.1
           Available: php-common-5.4.16-43.amzn2.x86_64 (amzn2-core)
               php-common(x86-64) = 5.4.16-43.amzn2
           Available: php-common-5.4.16-43.amzn2.0.1.x86_64 (amzn2-core)
               php-common(x86-64) = 5.4.16-43.amzn2.0.1
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest"
Product Advertising API	"Re: XML extension on PHP 7.2
Up..

Hi,
is there any chance to include php-xml on the next server update.??
We are upgrading a website that use DOM function extensively and we are in stale because of this.

Thank you
Andrew"
Product Advertising API	"Re: XML extension on PHP 7.2
Up,

nobody here use xml extensions?

Andrew"
Product Advertising API	"Re: XML extension on PHP 7.2
I am having a similar problem with the zip extension to PHP 7.2. I solved my XML problem by first writing this test then flailing about:

<?php 
echo ""xml: "", extension_loaded('xml') ? 'OK' : 'MISSING', '<br>';
echo ""zip: "", extension_loaded('zip') ? 'OK' : 'MISSING', '<br>';
?>

php -m provides a long list with xml present (though zip is absent). I got the xml module after restarting my EC2 instance. Or editing php.ini file to add extension=xml.so (after verifying the xml.so in extension_dir). The docs indicate i didn't need to edit php.ini, but the xml extension wouldn't load until after I did that and rebooted. (yes, I had been restarting httpd all along.) Maybe it was good after I did a ""sudo yum install php-xml"" and it just needed that reboot, idunno.

If anyone can help me figure out the zip extension, I'd be much obliged"
Product Advertising API	"Re: XML extension on PHP 7.2
Hi,

you can try with ""yum list php*"" to see the packages availables

 yum list php*
Loaded plugins: langpacks, priorities, update-motd
48 packages excluded due to repository priority protections
Installed Packages
php-cli.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-common.x86_64                7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-fpm.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-json.x86_64                  7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-mbstring.x86_64              7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-mysqlnd.x86_64               7.2.0-3.amzn2.1              @amzn2extra-php7.2
php-pdo.x86_64                   7.2.0-3.amzn2.1              @amzn2extra-php7.2
Available Packages
php.x86_64                       5.4.16-43.amzn2.0.1          amzn2-core
php-bcmath.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-dba.x86_64                   5.4.16-43.amzn2.0.1          amzn2-core
php-dbg.x86_64                   7.2.0-3.amzn2.1              amzn2extra-php7.2
php-devel.x86_64                 5.4.16-43.amzn2.0.1          amzn2-core
php-embedded.x86_64              5.4.16-43.amzn2.0.1          amzn2-core
php-enchant.x86_64               5.4.16-43.amzn2.0.1          amzn2-core
php-gd.x86_64                    5.4.16-43.amzn2.0.1          amzn2-core
php-gmp.x86_64                   7.2.0-3.amzn2.1              amzn2extra-php7.2
php-intl.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-ldap.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-mysql.x86_64                 5.4.16-43.amzn2              amzn2-core
php-odbc.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-opcache.x86_64               7.2.0-3.amzn2.1              amzn2extra-php7.2
php-pear.noarch                  1:1.10.5-7.amzn2.0.1         amzn2-core
php-pecl-memcache.x86_64         3.0.8-4.amzn2                amzn2-core
php-pgsql.x86_64                 5.4.16-43.amzn2.0.1          amzn2-core
php-process.x86_64               5.4.16-43.amzn2.0.1          amzn2-core
php-pspell.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-recode.x86_64                5.4.16-43.amzn2.0.1          amzn2-core
php-snmp.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-soap.x86_64                  5.4.16-43.amzn2.0.1          amzn2-core
php-xml.x86_64                   5.4.16-43.amzn2.0.1          amzn2-core
php-xmlrpc.x86_64                5.4.16-43.amzn2.0.1          amzn2-core


with a result like this one.. As you can see the php-xml packages is present but is for a 5.4.16 version, not for a 7.2 version, this is why when you try to install the package there's a broken link.

Your zip packages is not present"
Product Advertising API	"Re: XML extension on PHP 7.2
up"
Product Advertising API	"Re: XML extension on PHP 7.2
php72-xml
php72-xmlrc"
Product Advertising API	"Re: XML extension on PHP 7.2
I'm not seeing these extensions on ALI 2 when I run yum list php*
 or try to install it"
Product Advertising API	"Re: XML extension on PHP 7.2
Hi 

I just did 
sudo yum install php-xml

It picked up and installed 
Installing:
 php-xml            x86_64            7.2.11-1.amzn2.0.1            amzn2extra-lamp-mariadb10.2-php7.2

Rebooted and jobs a gooden"
Product Advertising API	"Re: XML extension on PHP 7.2
#My development environment CentOS7 php7.2.15 Apache2.4.6 MariaDB10.2.22
#pLs designation php vresion
#ex) php72
#yum install --enablerepo=remi-php72 php-xml
#yum install --enablerepo=remi-php72 php-xml
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile
 * base: ftp.iij.ad.jp
 * epel: ftp.riken.jp
 * extras: ftp.iij.ad.jp
 * remi-php72: ftp.riken.jp
 * remi-safe: ftp.riken.jp
 * updates: ftp.iij.ad.jp
Resolving Dependencies
--> Running transaction check
---> Package php-xml.x86_64 0:7.2.15-1.el7.remi will be installed
--> Finished Dependency Resolution
 
Dependencies Resolved
 
=======================================================================================================================================================
 Package                          Arch                            Version                                    Repository                           Size
=======================================================================================================================================================
Installing:
 php-xml                          x86_64                          7.2.15-1.el7.remi                          remi-php72                          206 k
 
Transaction Summary
=======================================================================================================================================================
Install  1 Package
 
Total download size: 206 k
Installed size: 855 k
Is this ok [y/d/N]: y
Downloading packages:
php-xml-7.2.15-1.el7.remi.x86_64.rpm                                                                                            | 206 kB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : php-xml-7.2.15-1.el7.remi.x86_64                                                                                                    1/1 
  Verifying  : php-xml-7.2.15-1.el7.remi.x86_64                                                                                                    1/1 
 
Installed:
  php-xml.x86_64 0:7.2.15-1.el7.remi                                                                                                                   
 
Complete!"
Product Advertising API	"504 gateway time out
I am using Lightsail with LAMP on it. i have php site . it generated 504 gateway time out after 1 min of page request. I tried changing max_execution_time , $cfg and even MaxKeepAliveRequests but still page execution do not go beyond 1 min i.e 60 sec."
Product Advertising API	"Re: 504 gateway time out
If the setup uses load balancers, they timeout and resend the request after 1 minute with no response. It is meant that the request complete or, at the very least, send the first byte of data back within 60 seconds.

I do not believe this can be changed and has nothing to do with PHP or the server."
Product Advertising API	"CodeStar - Php, Laravel; mysql driver not found
I've just booted an instance of a EC2, using the CodeStar template ""php and laravel"". 
I've added a few models, controllers and views to my Laravel installation. No custom drivers or anything fancy.

When i try to access my page, all I get (after enabling debug) is a ""QueryException: Could not find driver (...). 

I'm a bit baffled by this since I'm using the template out of the box. 
I've checked the scripts folder to see if anything should be missing, and it seems that the driver should be installed, since the line 
yum -y install httpd24 php72 php72-mbstring php72-mysql php72-pdo php72-mcrypt php72-devel
 is present.

If i run the command manually on my server I get the message that the package php72-mysql does not exist, but I'm not sure which package to use instead?

I'm not much into this server stuff, so any advice would be appriciated!"
Product Advertising API	"Need urgent help regarding AWS Basic plan
we have recently purchased AWS basic plain and hosted our web application & API on cPanel & we are getting these issues.

Problems:
1. We are passing authorization header with request but we are not receiving header on API
2. We want to verify DNS cName for SendGrid but we are not able to verify it"
Product Advertising API	"Unable to retrieve S3 object using getObject and SSEKMSKeyId via PHP SDK
Hello, I am wanting to use S3-managed SSE-KMS encryption.  I am able to successfully upload files using putObject, as outlined here:

https://docs.aws.amazon.com/aws-sdk-php/v3/api/api-s3-2006-03-01.html#putobject

You can see that I am using SSEKMSKeyId

		try {
			$result = $s3_client->putObject(
				array(
					'Bucket'=> $s3_bucket,
					'Key' =>  $file_name,
					'SourceFile' => $local_file,
					'SSEKMSKeyId' => $s3_sse_kms_key_id,
					'ServerSideEncryption' => 'aws:kms',
					'ACL' => 'private',
				)
			);
		} catch (Exception $e) {
		    print $e->getMessage();
		    exit;
		}						


However, I cannot find any documentation on how to view the object using getobject along with the SSEKMSKeyId parameter, since it doesn't exist in the documentation:

https://docs.aws.amazon.com/aws-sdk-php/v3/api/api-s3-2006-03-01.html#getobject

I have tried different combinations of variables and can't get anything to work to view the file.  

This is what I would expect to work:
		try {
			$result = $s3_client->getObject(
				array(
					'Bucket'=> $s3_bucket,
					'Key' =>  $file_name,
					'SSEKMSKeyId' => $s3_sse_kms_key_id,
					'ServerSideEncryption' => 'aws:kms', // optional parameter?
				)
			);
// use result here
		} catch (Exception $e) {
		    print $e->getMessage();
		    exit;
		}	


But I am getting an ""Access Denied"" error.

How does one retrieve a file using SSEKMSKeyId via getObject via the PHP SDK?

Thanks!"
Product Advertising API	"Re: Unable to retrieve S3 object using getObject and SSEKMSKeyId via PHP SDK
This was user error. The access/secret keys used to access the object did not have the proper access to the master KMS key.  So, in this situation no SSEKMSKeyId is needed.  Just bucket and key and it should be able to access the file."
Product Advertising API	"Failed to connect to MySQL: php_network_getaddresses: getaddrinfo failed: N
I have managed to upload my php web-app on  elasticbeanstalk as well as created and connected it to an RDS database according to the tutorial provided in the link below
https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/php-ha-tutorial.html#php-hawrds-tutorial-configure

However, I still experience the error below
Failed to connect to MySQL: php_network_getaddresses: getaddrinfo failed: Name or service not know.

See my app in the link below
http://brightrevision-env.vubivfcvr3.ap-south-1.elasticbeanstalk.com/

Any help on what the problem maybe and how I can resolve it?
it is the only obstacle I am facing right now then I'll be good to launch.

Thank you in advance"
Product Advertising API	"PHP Pear hack?
Hello.

So, does anyone know how/if the new PHP PEAR hack affects Amazon Linux and Beanstalk environments? 

Thanks"
Product Advertising API	"Amazon Linux 2 and PHP 5.6 support
I have spent the better part of 2 days attempting to resolve PHP 7.2 conflicts with our existing application in an ARM (aarch64) development environment. Unfortunately, I need to bring this development environment online for one of our developers quickly. In the interest of time, I need to install PHP 5.6 in this environment.

Things I've tried:

Search the amzn2-extras repo for php5.6 packages
Install via the IUS repo, as outlined here: https://forums.aws.amazon.com/thread.jspa?messageID=855465&tstart=0

The IUS repo does not appear to offer aarch64 or noarch packages.




Is there any plan to open up PHP5.6 (architecture: aarch64) to the Amazon Linux 2 Package Repo? If not, is the recommendation to not use the ARM EC2 instances?

Thanks in advance for your help.

-Shaun"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
PHP 5.6 has reached end-of-life by the PHP team, and is no longer receiving any support.  Due to the short life expectancy of the package following our aarch64 announcement, we elected not to provide this particular extra on the aarch64 platform; if you do require PHP 5.6, we recommend using an x86_64 or i686 instance.  The PHP code itself should function identically on any platform with a working PHP 5.6."
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
Thank you for the response AWSTrinity.

Edited by: soleson on Jan 30, 2019 11:55 AM"
Product Advertising API	"Re: Amazon Linux 2 and PHP 5.6 support
To add to the response above, php5.6 is available in Amazon Linux 1, but not Amazon Linux 2.
The version in Amazon Linux 1 is considered End Of Life so we still do not recommend using it, as there is no longer support upstream for it.

Thanks."
Product Advertising API	"Amazon Lightsail node.js loopback application stopped working
i'd like to know why my node.js application stopped working. we didn't change anything. can i restore?

it's a single vm with node.js on lightsail.

it's a loopback api system for our mobile app 
(https://loopback.io/)

How did I know there is an issue?

the app stopped working.
the api explorer is not responding.
however.. Amazon lightsail says the vm is working fine.

we haven't touched the system in a year, all was well, now...nothing.

i tried restarting the node.js vm ..nothing
i tried stopping my vm.. then starting...nothing

i don't know much about this system, the developer who put in in place is not me and has not responded, 
this is an old project, but this is simply a node.js loopback api for a simple mobile app

can i please have a checklist of simple tests and things to check ?

.....please help!"
Product Advertising API	"[Pinpoint] Sending push notifications without campaign
Hello, 
I have saved personalized notification on my database.
I would like to send notifications using the PHP SDK directly to recipients. Is it possible without creating a campaign?"
Product Advertising API	"/home/webapp no such file or directory
My apache error log is filled with the error: 
Mon Dec 22 15:07:01.132307 2014 :error pid 24805 Failed to determine HOME directory after trying ""sh: line 0: cd: /home/webapp: No such file or directory"" (exit code 1)
zend_mm_heap corrupted

And one of my php pages returns no content whenever I try to load it but only on AWS."
Product Advertising API	"Re: /home/webapp no such file or directory
The same here... any fix?

Thanks!"
Product Advertising API	"Re: /home/webapp no such file or directory
Your home directory is used to determine where the SDK should look for a credentials file. (It checks ~/.aws/credentials.) You can set a custom home directory with the HOME environment variable if the OS is not setting it up properly."
Product Advertising API	"Re: /home/webapp no such file or directory
Can you please tell me how to set custom directory with  home environment variable?"
Product Advertising API	"Amazon Linux 2 igbinary and memcached out-of-date
On the latest Amazon Linux 2.8.6 PHP 7.1 image , is it possible to get the latest stable igbinary and memcached?

igbinary: The default igbinary php extensions provided (1.1.2) is not compatible with PHP 7.1 . It's only supported starting  igbinary 2.0.1[1] 
memcached: it would be also awesome to have the latest stable version (3.1.3)

When I've tried to upgrade both via pecl7 (with the ebextension), it results of a segmentation fault for both packages. (pecl7 upgrade , or pecl7 uninstall+pecl7 install)

Any on idea on how to upgrade the packages properly this, or know when a working version will come out? Thanks a lot!

[1] https://github.com/igbinary/igbinary/releases?after=release-2.0.1

Edited by: eric-sre on Jan 25, 2019 9:45 AM"
Product Advertising API	"PHP Session Overlap
Running PHP 7.2 on Linux ELB LAMP setup...
Prior to moving this onto AWS we had no issues with session overlap on the same LAN, now we do.  The sessions are stored in the MySQL database and we are using a pretty standard slightly modified open source session handler that reads/writes from the DB.  We've tried both the classic load balancer (using sticky sessions) and the updated one (not sure if it's sticky or not since no options for that) with the same result.  One users logs in and the other can be switched to them or vice versa on random page loads within the member site.  One logs out and it logs them both out, etc. The problem we envision is it being exploited on a public wifi like at Starbucks, etc.  We were able to reduce the amount of crossover by also storing the User Agent in the DB preventing different devices from crossing over, but if the users are using the same browser on similar devices like two PCs or two iPhone 10's, it's still an issue. Does anyone have any thoughts on a work around for this? Our assumption is that the IP address is seen by the load balancer as being the same and mixing the sessions together somehow.  We obviously will need the session to be sticky to keep users authenticated during their site visit, but I'm not even 100% sure that's where the issues is.  I strongly suspect it, but it's nearly impossible to find that out from my perspective. I'm a self taught programmer and I'm not a system admin, so this is well beyond my skill set.  Without resolution we will have no choice but to start over and go with a different cloud provider.  Thank you in advance to anyone who has any suggestions."
Product Advertising API	"Re: PHP Session Overlap
Had to use AWS sessions instead of PHP."
Product Advertising API	".htaccess not deploying
Hi
This isn't really a PHP question, but I thought this might be the best place to ask the question.
I'm using AWS Codestar, with my Git repository, to auto-deploy my web application. As part of the web app, it uses .htaccess files and mod_rewrite - all standard stuff. However, for some reason, the deploy/build etc doesn't seem to deploy the .htaccess file.
My guess is, it's being ignored by the git pull somehow; however when I push a change to the .htaccess file, the deployment process sees it, and builds/deploys the change.

Any advice/help gratefully received 

Thanks
James"
Product Advertising API	"How to Connect AWS S3 to WHMCS? Need some help with the AWS S3 policy.
Hi, 
I hope this is the right place to ask.

I'm trying to use AWS S3 with my WHMCS. 
There is https://docs.whmcs.com/Storage_Settings  in WHMCS that have an example on how to set the relevant AWS S3 policy.

Can someone please help me understand what info I should change in the code so it will be tailored to my AWS S3?

I guess that some of the information in this code is just a general example and I should change according to my personal information - But I don't know what to change.

Can you help?
Thanks and regards,
Ram"
Product Advertising API	"AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local
Hello,

I am starting to use the PHP V3 SDK.

I have installed it, I have configured the credentials and I want to make an attempt to get the list of buckets as a test.
But I find the C60 error.

I've seen that you have to copy a certificate .pem file and modify the php.ini on the local server (I'm using MAMP), according to other comments but this does not solve the problem.

I still get the same error as if I had not done anything.

Can someone give me an idea of ​​what I can do?

my PHP script

<?php

require 'vendor/autoload.php';

use Aws\S3\S3Client;
use Aws\S3\Exception\S3Exception;
use Aws\Exception\AwsException;

$options = [
    'profile' => 'default',
    'region'     => 'eu-central-1',
    'version'    => '2006-03-01',
    'debug'   => [
        'logfn'        => function ($msg) { echo $msg . ""\n""; },
        'stream_size'  => 0,
        'scrub_auth'   => true,
        'http'         => true,
        'auth_headers' => [
            'X-My-Secret-Header' => 'https://forums.aws.amazon.com/',
        ],
         'auth_strings' => [
            '/SuperSecret=https://forums.aws.amazon.com/{20}/i' => 'SuperSecret=https://forums.aws.amazon.com/',
        ],
    ],

];

$s3Client = new S3Client($options);

//Listing all S3 Bucket
$buckets = $s3Client->listBuckets();
foreach ($buckets as $bucket) {
    echo $bucket . ""\n"";
}
?>
error:
""Aws\S3\Exception\S3Exception"" => string(225) ""Error executing ""ListBuckets"" on ""https://s3.eu-central-1.amazonaws.com/""; AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local issuer certificate (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)""

Thank you"
Product Advertising API	"Re: AWS HTTP error: cURL error 60: SSL certificate problem: unable to get local
Hello.
Please, show your curl options."
Product Advertising API	"Amazon Linux AMI with LAMP ( Php 5.6.38) Unable to turn off Notices
Hi!
I have tried to turn off notices from php.ini, from .htaccess and also by adding the following to php files
error_reporting( E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED & ~E_WARNING);

I still see notices being displayed when pages in the web site load. What else can I do to turn off these notices?"
Product Advertising API	"yum update is disabling PHP CURL extension
On my Amazon EC2 Linux instance, I've ran the command :

sudo yum update

After it completed successfully,  my application that relied on PHP-CURL extension stopped working and I noticed that PHP CURL extension isn't available anymore in the PHPinfo page.  It was there before I ran the yum update command.

I've tried to enable the PHP CURL extension in the etc/php.ini by adding a line referring the the curl.so file and restarted Apache but it's still not enabled.

So, I've rolled back the yum update transaction.  Then my PHP-CURL extension is again enabled. 

Any one having this issue ?? Please help !!"
Product Advertising API	"Re: yum update is disabling PHP CURL extension
It has come to our attention that there is a configuration error in the new version of php, php-5.4.16-43.amzn2.0.2. It is recommended that you refrain from upgrading to this version and wait until an update is provided. 
To work around the issue, modify the contents of ""/etc/httpd/conf.modules.d/10-php.conf"" 

It should read:
# 
# PHP is an HTML-embedded scripting language which attempts to make it 
# easy for developers to write dynamically generated webpages. 
# 
<IfModule prefork.c> 
LoadModule php5_module modules/libphp5.so 
</IfModule> 
 
<IfModule !prefork.c> 
LoadModule php5_module modules/libphp5-zts.so 
</IfModule> 


We apologize for the inconvenience and will have an update out as soon as possible."
Product Advertising API	"Re: yum update is disabling PHP CURL extension
php-5.4.16-45.amzn2.0.5 is now available in Amazon Linux 2 repositories. Please let us know if this doesn't fix your issue.

Praveen"
Product Advertising API	"Re: yum update is disabling PHP CURL extension
Hi, this is now happening for us on our Amazon linux instance (PHP 5.3.29 curl is now disabled through Apache). Pretty sure this happened as a result of running a recent yum update. Phpinfo confirms that curl isn't enabled. Any idea what changed in the packages that could have caused this?"
Product Advertising API	"Wordpress - Ec2 cannot communicate with S3 server
Hi,
We are currently running a WordPress website on 1x EC2 instance, 1x RDS instance cloudfront + S3. In order to offload the WordPress content to S3, we bought a plugin called 'WP Offload Media' 
https://deliciousbrains.com/wp-offload-media/  When we click on 'Browse existing buckets', we get the following error message: 
---
 Error fetching buckets - "" Error retrieving credentials from the instance profile metadata server. (Client error: `GET http://169.254.169.254/latest/meta-data/iam/security-credentials/` resulted in a `404 Not Found` response: 











When we skip the 'Browse existing buckets' and type the bucket name directly 'cdn.mydomain.com', we get the following error message: 











Error saving bucket — Error Getting Bucket Region —There was an error attempting to get the region of the bucket cdn.mydomain.com: Error retrieving credentials from the instance profile metadata server. (Client error: `GET http://169.254.169.254/latest/meta-data/iam/security-credentials/` resulted in a `404 Not Found` response: 
---
 For whatever reason, our EC2 instance can't contact http://169.254.169.254/ to grab the info it needs. 
We tried to add the IP 169.254.169.254 to the security inbound policy but without any luck.

Do we need to add S3 Policy bucket or anything for it to work?

Could someone please provide some assistance on how to solved this issue? 

Thank you,"
Product Advertising API	"How to use presigned url to listObjects
I am able to get listObjects with following:

 $objects = $s3Client->listObjects([
        'Bucket' => $bucket,
        'Prefix' => $prefix
 ]);

The problem is that it doesn't work when building with Jenkins. It says access denied. To solve this, I thought about accessing S3 with a presigned url. I can get a presigned url with an XML of the result:
$cmd = $s3Client->getCommand('ListObjects', [
   'Bucket' => Aula::masterConfiguration()->getS3Bucket(),
   'Prefix' => $rootFolderForOriginals
]);
$request = $s3Client->createPresignedRequest($cmd, '+20 minutes');
$url = (string)$request->getUri();

But I want it as an object in PHP like execute($cmd). How can I do that?

Edited by: NicklasMF on Dec 20, 2018 5:24 AM

Edited by: NicklasMF on Dec 20, 2018 5:24 AM"
Product Advertising API	"Keywords not returned for some campaigns
Hello,

I'm using amazon advertising api to get data on my running SP campaigns and for some reason I do not get full details on some of my campaigns, for example, when requestion keywords snapshot... 

I've already switched to v2, https://advertising.amazon.com/API/docs/v2/guides/get_started 
And I tried requesting for a specific campaign keywords with vs/sp/keywords?campaignIdFilter=... and it's still not returning keywords for some of the campaigns. 

What can I do ?"
Product Advertising API	"Code: ""RequestThrottled - Something went wrong. Please check your API keys
Hi,
 Recently I started using a wordpress plugin called AAWP and it requires the Product Advertising API but whenever I enter the details, the plugin is throwing me this error: Code: ""RequestThrottled - Something went wrong. Please check your API keys. If anyone knows about it, please help me fix this."
Product Advertising API	"Re: Code: ""RequestThrottled - Something went wrong. Please check your API keys
Seems like there's a general problem with Amazon's api. Others experience the same ""RequestThrottled"" issue: https://forums.aws.amazon.com/thread.jspa?messageID=887729

It's not related to any WP plugin."
Product Advertising API	"Re: Code: ""RequestThrottled - Something went wrong. Please check your API keys
Same problems even with just the scratchpad.
Need someone at Amazon to chime in on this!!"
Product Advertising API	"Re: Code: ""RequestThrottled - Something went wrong. Please check your API keys
Do you still have the same problem?
I do. 
It stills shows an error  Code: ""RequestThrottled - Something went wrong. Please check your API keys
Any Amazon associate that can help us?

Edited by: jonatan2019mx on Feb 9, 2019 2:06 PM"
Product Advertising API	"Re: Code: ""RequestThrottled - Something went wrong. Please check your API keys
Amazon support sucks here, I have contacted them multiple times and they have no idea about API at all. They kept talking something irrelevant. I don't know how to approach the issue."
Product Advertising API	"Re: Code: ""RequestThrottled - Something went wrong. Please check your API keys
Hi, I have the same problem with a wordpress plugin (amazonjs plugin). I receive the same error and all the affiliate links on my website do not work."
Product Advertising API	"Scratchpad error - You are submitting requests too quickly. Please retry ..
I am successfully pulling search data from amazon US and now want to branch out to the UK.
However I keep getting this error in my code.. Even in  amazon scratchpad.
Just trying to complete a simple search for keyword products.
Note: I get this error straight away and every time, not like I am trying to perform the same simple search over and over again.. I cannot get past this error

Error! RequestThrottled
HTTP Status 503: Service Unavailable
AWS Access Key ID: MYACCESSKEY. You are submitting requests too quickly. Please retry your requests at a slower rate.

Edited by: Mike on Feb 26, 2019 2:29 AM"
Product Advertising API	"My PA API access suddenly stopped working
I've seen the notice in effect from 1/23 that PA API access will be revoked if no referral sales were made. I've also gone through the Efficiency Guidelines docs and I believe I meet all of the following criteria.

I'm not making more than 1 requests per second to my knowledge.
I've not exceeded the TPD limit.
It's not yet 30 days since 1/23. And, I did have a couple of purchases made using the PA API.


PA API team, please help me understand why am I getting 503 errors? It was all working fine until yesterday. So, my keys etc. are all good and I still see these as ""Active"" on the Amazon Associate's site.

Is there any way this can be resolved via a support ticket and the access be reinstated?

Also, for my understanding for future.

If my PA API access gets removed again and let's say a referral sale was made using other mechanism (such as, from a valid website based link, how long does it take to restore the PA API access from the point a referral purchase was made?
If by any chance the request rate exceeds 1 request per sec, only the requests happening within that second will be impacted, but not others that are correctly spaced at 1 request per sec rate. Is that a correct understanding?


Thanks

Edited by: c9apps on Feb 14, 2019 7:46 AM

Edited by: c9apps on Feb 14, 2019 7:48 AM"
Product Advertising API	"Re: My PA API access suddenly stopped working
I have the same issue. 9 out of 10 times the Product Advertising API requests are coming back with the following, even when I wait 10 seconds between each request:

RequestThrottled
AWS Access Key ID: XXX. You are submitting requests too quickly. Please retry your requests at a slower rate.

This started some weeks ago. 

Edited by: arthur de wolf on Feb 14, 2019 4:34 PM

Edited by: arthur de wolf on Feb 14, 2019 4:49 PM"
Product Advertising API	"Re: My PA API access suddenly stopped working
Ack, I think I found out what the problem was. I have two email addresses in my Associates account and I was using an API access key with the email address that was not the main one. When I logged into Associates with my main email address and went to Tools > Product Advertising API I could click the Join link (normally this was greyed out under my other account) and that revealed a new key set."
Product Advertising API	"Re: My PA API access suddenly stopped working
Did not work for me. I had only one mail adress, but I was also able to click 'Join'.
I also got a new key pair, but still the same error in the scratchpad and production :/"
Product Advertising API	"Re: My PA API access suddenly stopped working
I am facing the exact same issue as you. Glad I am not alone.

My hunch is that this new policy:

Effective 23-Jan-2019, the request limit for each account is calculated based on revenue performance attributed to calls to the Product Advertising API (PA API) during the last 30 days.

Overrides everything written below it...

I don't think we can assume we get 1 request / second as the baseline. The entire rate limit might be variable depending on revenue with a hard stop at 0 if you haven't made sales in last 30 days. I did some testing and I can make 1 request about every 3 minutes. As I drive more revenue, I expect the rate limit will relax, but not sure what their formula is now :-/

Just speculating though. The annoying thing is that our site is under maintenance, so we are barely driving sales. But we need access to the PA API to test efficiently. 1 request per 3 minutes is slowing our testing to a crawl.

Edited by: Dhruv Garg on Feb 17, 2019 4:57 PM"
Product Advertising API	"Re: My PA API access suddenly stopped working
Can some one from the PA dev team please respond to this thread? Like I mentioned. In my case, the API was working fine for almost 3 weeks. So, keys and all have been tested to be working fine. And, I believe other criteria is also met. So, I'm bit at a loss now in understanding what's missing and why the ItemLookup and ItemSearch APIs are always giving 503.

Again, your prompt response in looking into this will be highly appreciated.

Best regards"
Product Advertising API	"Re: My PA API access suddenly stopped working
I'm experiencing the same issue... For god's sake, the PA dev team should be more open to this community and response more quickly. I can't even test PA API with their own Scratchpad. Always 503.

Best Regards"
Product Advertising API	"Re: My PA API access suddenly stopped working
Yes problem have started on my website too.
Error Message: 
 WS Access Key ID: XXXXXXXXXXXXX. You are submitting requests too quickly. Please retry your requests at a slower rate.  

My website was functioning properly but somehow when more search results started coming it is being throttled, showing too many request.

Amazon needs to increase more throttled request at least some leniency should be given.

Edited by: Awsapi on Feb 19, 2019 2:58 AM"
Product Advertising API	"Re: My PA API access suddenly stopped working
Update from my side:
I didn't generate any refering sales with my Associate Tag. (That's common as I use the API only for my own purpose). Seems like that was really the problem why I got the 503 Error.

Lucky me: Someone clicked on a refering link two days ago, so now I have 'sales' again (although it's less than 30€). And guess what: Requests are now working again.

(Haven't made a stress test; But Scratchpad works)."
Product Advertising API	"Re: My PA API access suddenly stopped working
I have a few sales in the last 30d, but I can only send 4-5 successful requests per hour. If I try to go faster, I get 503s. Prior to Feb 16, I used to be able to send 1 request / sec reliably with identical trailing 30d sale volume. 

When you say ""requests are now working again"", do you have a rough idea of the request rate you are able to get?"
Product Advertising API	"Re: My PA API access suddenly stopped working
Update: Started working this morning on its own and I am comfortably getting 1 request / sec now... hopefully it stays this way."
Product Advertising API	"Re: My PA API access suddenly stopped working
Mine also seems to be updating and I am passing 10 asins per second with no problem.  

My guess is, with low aff. sales, you will still be limited to 8,640 requests per day as the documentation states.

Update 2/20: I let my 10 ASINS per second run for about 3 hours and now I'm getting the throttled error and can't submit any longer.  So it looks like the 8,640 limit is still the ceiling as the docs state.

Edited by: mixmasterjt on Feb 20, 2019 10:52 AM"
Product Advertising API	"Re: My PA API access suddenly stopped working
Zooming out a bit, I really hope Amazon reconsiders some things, and allows hobby projects, etc access to the product advertising api, even if sales are not being generated. especially if said project is otherwise built with AWS.

Speaking only for myself, I'd be 100% willing to pay to access it, just like I do for S3 and Lambda.

Related: https://forums.aws.amazon.com/thread.jspa?threadID=299085"
Product Advertising API	"Re: My PA API access suddenly stopped working
To put it even clearer, is there any way Amazon could please reconsider the new rate limits? Can we possibly, please have some consistent, if lower baseline, even if no sales are being generated?  

Surely giving everyone a baseline of, say, one request per 5 seconds is something AWS is capable of, isn't it?"
Product Advertising API	"Is it possible to purchase access to the Product Advertising API
Like many others, I got swept up in the new product advertising restrictions. My account can no longer perform item lookups, since I haven't been generating revenue.

Is it possible to purchase access to this API, just like we purchase access to S3, Lambda, etc?

For context, I was using PA for a book tracking side project.  

https://github.com/arackaf/booklist

Basically, scan in your books, it looks up the info, and then stores your library.  I was linking back to Amazon for all products users had, so I don't think I was violating any terms.

I'd love for my app to work again, and I'd be more than willing to pay $ to make it so.

Thanks a ton!

AJR"
Product Advertising API	"Throttle error on new key pair
I generated a new access key pair through the Associates site (Tools -> Product Advertising API) after having merged the account.

When I use these credentials in the sandbox, I receive this error:
Error! RequestThrottled
HTTP Status 503: Service Unavailable
AWS Access Key ID: &ltAccess Key Removed&gt. You are submitting requests too quickly. Please retry your requests at a slower rate.

This is on a brand new key pair via sandbox, there are no other requests being sent.  I have been trying all morning, requests are several minutes apart, but can't get past this.

The email support could not help me and advised I post here for help.

Thank you!"
Product Advertising API	"Re: Throttle error on new key pair
I have a similar issue with an existing key. It suddenly started returning this response every time since 2019-01-25 20:15 UTC. I have quite a bit of instrumentation in place and I haven't had a single successful call since then."
Product Advertising API	"Re: Throttle error on new key pair
Same issue here. API is returning RequestThrottled like 95% of the times???"
Product Advertising API	"Re: Throttle error on new key pair
Seems like mine started working again. I guess the limit finally reset?"
Product Advertising API	"Re: Throttle error on new key pair
Same thing for me - I have had a couple of accounts return a 503 since the middle of this week.  Both have steady qualified sales so I don't think I'm being bounced for lack of traffic."
Product Advertising API	"Re: Throttle error on new key pair
Same issue here.
I generated a new key 3 days ago and the status is 'Active', but throws the same error on scratchpad."
Product Advertising API	"Re: Throttle error on new key pair
Same for me. New account, new key, first (and every subsequent) request denied!"
Product Advertising API	"Re: Throttle error on new key pair
I assume this happens because you're account may be new and has not made any sales yet within the past 30 days?"
Product Advertising API	"Re: Throttle error on new key pair
Access to the API is only given on the condition that sales have already been made so I don't think that's the case here. Also, why give access to an API that the customer can't actually access?!"
Product Advertising API	"Re: Throttle error on new key pair
Believe me, with Amazon's Product Advertising API a lot of very questionable things are happening"
Product Advertising API	"Re: Throttle error on new key pair
I got my API access back like 3 days ago... and everything was running just fine until today.. and again my requests return 90%+ throttle errors..."
Product Advertising API	"Re: Throttle error on new key pair
I am facing the same Throttled issue too, contacted the support a number of times but they don't have a solution for API issues, disappointing"
Product Advertising API	"Re: Throttle error on new key pair
Also seeing this issue with requests to the Product Advertising API. My client was issued a new Access Key ID and Secret Key, but those also are throwing the error when only used via the scratchpad. Not possible that this new key could be getting throttled as it's not used anywhere yet."
Product Advertising API	"Re: Throttle error on new key pair
Same Here. Long standing, large volume affiliate account just starting with API.
Throttled with brand new key.

New key test in scratchpad results in 503 throttle error

How exactly are new API keys supposed to work? Is there an application form I'm missing?"
Product Advertising API	"Re: Throttle error on new key pair
Same issue, created a brand new access key ID and secret access key.
Went to Scratchpad: https://webservices.amazon.com/scratchpad/index.html
Selected: Item Search
Filled in the require fields and received this error message:

Error! RequestThrottled
HTTP Status 503: Service Unavailable
AWS Access Key ID: XXXXXXXXXXXXX. You are submitting requests too quickly. Please retry your requests at a slower rate.

Waited 2 days, tried again, same error.  Deleted keys again and retried. Same error. I guess it's the definition of insanity doing the same thing over and over but expecting different results"
Product Advertising API	"Re: Throttle error on new key pair
Same issue, new affiliation, new API access, new keys, won't work. 

Error! RequestThrottled
HTTP Status 503: Service Unavailable
AWS Access Key ID: ####################. You are submitting requests too quickly. Please retry your requests at a slower rate."
Product Advertising API	"Re: Throttle error on new key pair
PS
I found this in the Developer Guide (API Version 2013-08-01), section Troubleshooting Applications:

""Note that your account will lose access to Product Advertising API if it has not generated referring sales using PA API in the last 30 days.""

My affiliation and access to the API are new, so that statement may explain things.

What I don't understand is how am I supposed to develop a new application to do sales, when sales are required to be able to develop the application!!!"
Product Advertising API	"Re: Throttle error on new key pair
Same issue. I was using the PA-API for years and now I'm only receiving 503 Error Codes.
If the access to the PA-API was shut down due to missing sales I guess you should be able to see this somewhere or get another error code."
Product Advertising API	"Re: Throttle error on new key pair
Same here, 503 errors..."
Product Advertising API	"Re: Throttle error on new key pair
Any update on your issue? I am facing the same issue but Amazon has no support for APIs"
Product Advertising API	"Re: Throttle error on new key pair
It looks like they are enforcing their new requirement but haven't published a complete guideline on the throttling.  If you have no aff. sales, you will lose access to the API.  If you have few sales, you seem to be limited to 8,640 requests per day.  From my testing, I can hit the api with 10 asins per second until I exhaust the TPD limit."
Product Advertising API	"Re: Throttle error on new key pair
Same issue here with aawp plugin for wordpress. Even with the scratchpad I have this error.

I've created the key 48h ago and still doesn't work..."
Product Advertising API	"Re: Throttle error on new key pair
Its not the case in my account. I have many sales but the api keys are not working even on their scratchpad with just a single request."
Product Advertising API	"No image found for tiemLookup
Hi all,

I'm trying to retrieve product informations from an ASIN number but the response doesn't contain any image while the product actually has images.
The product page is https://www.amazon.fr/Manger-Construisant-Ustensiles-Assiette-Assortie/dp/B0049OO3F6/ and the ASIN is B0049OO3F6

The request as been tested from the scratchpad here https://webservices.amazon.fr/scratchpad/index.html and from my own application. Responses are the same and don't contain any Image.

Here is the request from scratchpad https://webservices.amazon.fr/onca/xml?Service=AWSECommerceService&Operation=ItemLookup&SubscriptionId=xxxxxxx&AssociateTag=xxxxx&ItemId=B0049OO3F6&IdType=ASIN&ResponseGroup=Medium
I have tried with ResponseGroup Images too, but as Medium is a parent of Images group it should contain images.
This request works well with other ASIN numbers.

Why would this one fail to retrieve images?

Thanks"
Product Advertising API	"Re: No image found for tiemLookup
Well forget that.
As I haven't made a sale during 30 days, my account is completely unusable and I get always my request throttled.
Quite a good idea amazon, this helps a lot developers.
Switched to web scrapping, it will always work and I get the same informations without dealing with this sh***y API."
Product Advertising API	"PA Advertising API compared to MWS API
So now there is a throttle limit to the PA-Advertising API, I started looking to migrate my attention to using only the MWS products API.  The problem that I am seeing is that on MWS, there is not 1 single API to provide the same amount of product details that the PA-Advertising API gives today.  

It would be nice if there was an equivalent MWS API that matched the PA-Advertising API.  From what I can see, I would need to make at least 3-4 separate calls to get close to the same details I get from the PA-Advertising API.  

Any chance or heard any word that Amazon would change any of the MWS calls?"
Product Advertising API	"Advertising API Permanent 503?
I am making simple ItemSearch calls, and waiting for way more than 1 second between calls (manually creating the request and sending it with 5 minutes - 5 hours! ) in between, and still, keep getting 503. I waited a whole day before making my next call, still nothing. 

I have deleted my API keys and created a new one, just to be sure, but still getting permanent 503.

Can anyone help?

Thank you.

Edited by: lorenzomia on Feb 18, 2019 7:50 AM"
Product Advertising API	"Your access to the product advertising API (PA API) may be at risk?
I have received this warning in regard to my main UK tracking ID, the email says among other things:

""In order for you to retain access to PA API, you must generate referring sales before January 16, 2019, otherwise your access to PA API will be removed.""

So the thing is, I currently DO generate referrals through my US tracking IDs, but not currently from any UK referrals.


I am concerned that on January 16, 2019 my access to ALL PA APIs might be revoked, including to US, even though it IS generating sales, since it's basically the same API/endpoint as far as I recall (it's been a while since I developed the API access stuff), can anyone confirm or deny this?
I thought they were talking merely about throttling our access if we did not generate sales? Not revoking our access altogether? I doubt I can generate any sales by Jan 16 in the UK locale, but I have a project in the works for the UK market, so what happens if my API access is revoked, can I get it back and how do I develop for it?


Any clarification would be appreciated.

Mark

Edited by: itsgottabered on Dec 24, 2018 3:08 AM

Edited by: itsgottabered on Dec 24, 2018 3:09 AM

Edited by: itsgottabered on Dec 24, 2018 3:09 AM"
Product Advertising API	"Re: Your access to the product advertising API (PA API) may be at risk?
I just received the same notice from Amazon today (Jan 25, 2019).  It says that to keep  my API access I must generate a sale in 30 days.   I do not use this for affiliate marketing, although I have a couple of items listed.   I use this service to research items for my FBA Sellers account, where I do plan to sell books but I have just started listing books.  

There was no response to the previous question and I am concerned about loosing my access  unless I make some affiliate sales within the month. Can anyone from Amazon please clarify this?  I am working with Amazon US (amazon.com) since I am in the US."
Product Advertising API	"Re: Your access to the product advertising API (PA API) may be at risk?
Yes, I do not know if yours is a legitimate use of the API, or whether they require you to be making affiliate sales in order to use it. It wouldn't entirely surprise me if they weren't keen on this, but you should check the TOS.

Personally, I WAS making sales through it, but was using Skimlinks to monetise the sales for reasons of my own (the sales still go to Amazon, but they are not credited to my affiliate account). I had to stop doing that and use their vanilla affiliate links, but I still don't know what happens in other locales (UK etc.) - I can't necessarily make sales in ALL the other Amazon locales in addition to US, that isn't realistic...

I feel like they are sabre-rattling a little bit as they want to reduce people abusing the service, using it for scraping etc., and maybe will not ENTIRELY revoke anyone's access, we'll see...

Edited by: itsgottabered on Jan 28, 2019 7:41 AM"
Product Advertising API	"Re: Your access to the product advertising API (PA API) may be at risk?
I am getting throttled way more than usual despite driving sales in the last 30 days.

According to, https://docs.aws.amazon.com/AWSECommerceService/latest/DG/TroubleshootingApplications.html:

----

Each account used for Product Advertising API is allowed an initial usage limit of 8640 requests per day (TPD) subject to a maximum of 1 request per second (TPS). Your account will receive an additional 1 TPD for every 5 cents or 1 TPS (up to a maximum of 10) for every $4320 of shipped item revenue generated via the use of Product Advertising API for shipments in the last 30 days.

Note that your account will lose access to Product Advertising API if it has not generated referring sales using PA API in the last 30 days.

----

My understanding is that one must drive sales in last 30 days get access to the PA API. Once you have access, the rate limit is a function of how much revenue you are driving. From the messaging above, my understanding is that the baseline rate limit should be 1 request per second (so as long as you drive some non-zero revenue in the last 30 days, you should be able to do 1 request per second). 

This seemed accurate until recently. It could be that now the entire rate limit is a function of revenue? There may no longer be a baseline of 1 request per second. If you drive a nominal $1 in revenue in last 30 days, for example, you may only be able to make 1 request per hour. Just speculating, though. Customer support told me everything is algorithmic and automated so it is a blackbox."
Product Advertising API	"Android Amazon LWA Token nutzen, um auf Webseite eingeloggt zu sein
Hallo,
ich habe eine Android-App, die LWA nutzt und zusätzlich die Product Advertising API. Mein Problem bzw. Frage ist:
Kann ich beim Aufrufen der purchaseURL aus der getCart response parameter (header, params etc.) mitsenden, sodass der Nutzer auch auf der Webseite beim Zusammenführen der Warenkörbe angemeldet ist?

Die native Android-App ""hört"" leider nicht beim Aufruf der purchaseURL. Und die Amazon-Webseite zum Zusammenführen der Warenkörbe ist nicht responsive, sodass der Nutzer nicht sieht, ob er eingeloggt ist ohne nach rechts zu scrollen.

Vielen Dank im voraus."
Product Advertising API	"Access Product Advertising API WITHOUT being an Amazon associate?
First time poster here.

In short, my questions is: Do I have to be an Amazon associate AND actually running a legitimate Amazon affiliate website to access Amazon Product Advertising API?

Here is the context. We're a technology provider that build tools for Amazon sellers to create, manage, and optimize their advertising campaigns across multiple channels, including Amazon itself (we've been granted access to Amazon Advertising API already). We need access to Product Advertising API to retrieve product images, description, and other information so that we can automatically generate ads on multiple channels for our clients and all it takes for them is to enter an SKU or ASIN. This feature has received extremely positive initial response from our clients, until today Amazon rejected our Associates Program application, saying our website lacks original content and pages are mainly empty.

As you can see, we obviously not intend to use Product Advertising API to make money through selling Amazon products on our website. Instead, we use it to help Amazon sellers to better sell their products, which not only brings value to our clients, but also to Amazon. What I don't understand is why the access to Product Advertising API is tied together with running a website with rich original content. Sure it's the most popular use case and also what's the API was designed for. But that's certainly not the only use case. I'm wondering if anyone can provide some help here to get our associate ID unlocked, or point to an alternative path to get Amazon Product Advertising API access.

Thanks."
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
Have you got any reply or found any solution? I am facing similar issue, need to access Product Advertising API without intention to run a real affiliate website with original content to make money by bringing traffic to Amazon."
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
To be honest, I doubt Amazon will change anything here.

There are a lot of developers out there who need access to multiple countries in order to develop software. But Amazon seems not to get this point into their heads..."
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
I was on the same boat.
They would just reject without any reasons given.
I had to find an alternative.

Recently I found out a service which provides same API access.
https://amzproductapi.com

Check it out, it may fit your usecases.
I'm not in any way affiliated with the site.
I just had to find a solution to a problem that wasn't getting solved by amazon."
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
Although there's clearly a use-case for something like this, I can't imagine Amazon would be too happy with someone repackaging the API for profit. Its purpose is clearly laid out as a revenue generator for Amazon's retail business:
https://affiliate-program.amazon.com/help/operating/policies?ac-ms-src=ac-nav#Associates%20Program%20IP%20License

Here's a similar service, although it looks like it requires active credentials to use:
https://browsenodes.com/"
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
I am in the same boat.  I was hoping that a better answer was forthcoming.

We had access to the API in the past, and our cataloging software would allow users to add their own already purchased items to their own catalogs.  That's been pulled.

Although, at the same time, we would suggest possible alternative that they were missing from their book, gaming, DVD, etc ... collections and they could see and be able to buy from Amazon.

So, we didn't sell any item directly or maintain a selling website, but we drove traffic to Amazon.

Wake up Amazon.  This is a valid model, while smaller in scope from actually selling on Amazon, we bring revenue and customers to Amazon that might not get there without our little nudges."
Product Advertising API	"Re: Access Product Advertising API WITHOUT being an Amazon associate?
I highly doubt this will ever be possible.

Unfortunately, Amazon is too inflexible and unsupportive when it comes to developers."
Product Advertising API	"Throttling problem or has my API access been revoked?
Hello,

For the last several days, I have been getting the following message: ""Error! RequestThrottled
HTTP Status 503: Service Unavailable: AWS Access Key ID: xxxxxxxxxxxxxx. You are submitting requests too quickly. Please retry your requests at a slower rate.""

It says I am submitting requested too quickly, but I completely disabled all of my API calls for almost 24 hours now and still get the message.  How do I know if this is an extended throttling issue that will eventually go away, or is if this is an issue with my Amazon Associates account?

I asked an associates rep, and they said I had to contact someone at the Product Advertising API, but she didn't have any contact info.

Any ideas?

Thanks,
-Ben"
Product Advertising API	"Re: Throttling problem or has my API access been revoked?
This issue is discussed here: https://forums.aws.amazon.com/thread.jspa?threadID=297508&tstart=0

As far as I know, the issue isn't resolved, yet."
Product Advertising API	"Limit on ItemPages of only 10 pages
I have observed that during the response, we can only get response of 10 items with maximum of 10 pages for a particular browse node/category. So only 100 products for browse node/category. But the category/node has more than 100 items. It would be really appreciated if anybody here can help me to find an ethical way to extract more products/available products for browse node/category with our credentials. In the response, I can see total item count > 100 (e.g. 50000) as attribute but I can’t fetch more than 10 page. 

XML RESPONSE shows 
TotalResults : 52515
TotalPages : 5252 

While trying to access more than 10 page, We are getting following error.
Error : AWS.ParameterOutOfRange 
Message : The value you specified for ItemPage is invalid. Valid values must be between 1 and 10."
Product Advertising API	"Rest Request API generate <AccessDeniedException/> AWS SES
Rest Request API generate <AccessDeniedException/> AWS SES

I itried to execute a request to https://email.us-east-1.amazonaws.com to execute the action ""VerifyEmailIdentity"", I have the access key and the access secrey for request signature, acording to the documentation page ""https://docs.aws.amazon.com/es_en/general/latest/gr/sigv4_signing.html""

In the request I send the action ""VerifyEmailIdentity"", the version ""2010-12-01"" and the emailaddress to verify. 

In the IAM console, I have an user with access key used in the request and the permissions for execute the action ""VerifyEmailIdentity"". 

The request return <AccessDeniedException/>

The signature request works fine, if I generae a wrong signature (on pursose) the request return: 
<InvalidSignatureException>
  <Message>The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.</Message>
</InvalidSignatureException>"
Product Advertising API	"Re: Rest Request API generate <AccessDeniedException/> AWS SES
You may have more posting in the following forum, as this one is specific to the Product Advertising API:
https://forums.aws.amazon.com/forum.jspa?forumID=226"
Product Advertising API	"Re: Rest Request API generate <AccessDeniedException/> AWS SES
Thank you, I found the error. 

The request parameters are case sensitive and I was sender this in lower case"
Product Advertising API	"C vs C++ vs C#
Hi,I use this web service to fetch information about books about popular programming languages.  However, lately I've noticed that C programmingC++ programmingandC# programming all return the same number of results!Seems odd to me - it didn't use to do this.Thanks,Dave"
Product Advertising API	"Re: C vs C++ vs C#
To add a bit more detail:I'm using Ruby code, which looks like this:<blockquote>	 res = AWS.driver.itemSearch(:AWSAccessKeyId => AMAZON_CODE,	                                  :Request => [{ :Keywords => keywords, :SearchIndex => 'Books'}]) </blockquote>"
Product Advertising API	"Re: C vs C++ vs C#
C#:- 1. C# is the high-level language and it is an extension of c.
        2. it's based in the .net framework, but its backbone is c language.
        3. C# compiles to CLR, which is interpreted bt ASP.NET.
         4. C# runs in virtual machine, which can automatically handle management.
         5. it does not use pointer.

C++:- !. C++ supports polymorphism, encapsulation, and inheritance.
          2. C++ compiles into machine code.
          3. C++ required you to handle memory manually
          4. C++ can use pointer.
          5.it is an extension of c.

C:-1. C cannot run c++ code.
     2. it does not provide error or exception handling.
     3. c does not use pointer."
Product Advertising API	"Re: C vs C++ vs C#
There's no reason the number of results should be any different. Under the hood, all implementations have to send and receive XML, so if the search params are the same, you should get back the same result set."
Product Advertising API	"How to solve the ""not really the lowest cost"" problem?
Hi everyone,

Take this example:  https://www.amazon.co.uk/gp/offer-listing/B07C8DYLWZ 

The AP-API with return me LowestNewPrice = £42.78

But as you can see on the page, the merchant is adding £20.94 delivery costs, making this the Highest New Price (this is common practice among merchants - including products with LowestNewPrice = £1.00 + insane delivery costs, just to cheat the PA-API).

Did anyone found a way to solve this?

Many thanks!

Edited by: AlexPaulo on Jan 30, 2019 2:12 AM

Edited by: AlexPaulo on Jan 30, 2019 2:32 AM"
Product Advertising API	"inconsistent results using sort by price
Hello everyone! I got stuck trying to solve an issue with the sort provided for advertising API for US location. I am querying for the same search with: No sort, sort by price desc, sort by prices asc. My problem is that the number of results is inconsistent, I would expect that independent on the sort the number of records should be consistent, at least between sort ascendent and descendent. 

The following is the information used for the api calls and the number of results

SORT DESC, 6 RSULTS 
  { '$': { Name: 'ItemPage', Value: '1' } },
  { '$': { Name: 'Keywords', Value: 'Television' } },
  { '$': { Name: 'MaximumPrice', Value: '100000' } },
  { '$': { Name: 'MinimumPrice', Value: '40000' } },
  { '$': { Name: 'Operation', Value: 'ItemSearch' } },
  { '$':
     { Name: 'ResponseGroup',
       Value: 'Small,Images,Offers,EditorialReview' } },
  { '$': { Name: 'SearchIndex', Value: 'Electronics' } },
  { '$': { Name: 'Service', Value: 'AWSECommerceService' } },
  { '$': { Name: 'Sort', Value: '-price' } },
  { '$': { Name: 'Timestamp', Value: '2019-01-22T23:57:46Z' } },
  { '$': { Name: 'Version', Value: '2013-08-01' } } ]

  SORT ASC, 43 RESULTS 

  { '$': { Name: 'ItemPage', Value: '1' } },
  { '$': { Name: 'Keywords', Value: 'Television' } },
  { '$': { Name: 'MaximumPrice', Value: '100000' } },
  { '$': { Name: 'MinimumPrice', Value: '40000' } },
  { '$': { Name: 'Operation', Value: 'ItemSearch' } },
  { '$':
     { Name: 'ResponseGroup',
       Value: 'Small,Images,Offers,EditorialReview' } },
  { '$': { Name: 'SearchIndex', Value: 'Electronics' } },
  { '$': { Name: 'Service', Value: 'AWSECommerceService' } },
  { '$': { Name: 'Sort', Value: 'price' } },
  { '$': { Name: 'Timestamp', Value: '2019-01-22T23:58:04Z' } },
  { '$': { Name: 'Version', Value: '2013-08-01' } } ]

NO SORT, 565 RESULTS 

  { '$': { Name: 'ItemPage', Value: '1' } },
  { '$': { Name: 'Keywords', Value: 'Television' } },
  { '$': { Name: 'MaximumPrice', Value: '100000' } },
  { '$': { Name: 'MinimumPrice', Value: '40000' } },
  { '$': { Name: 'Operation', Value: 'ItemSearch' } },
  { '$':
     { Name: 'ResponseGroup',
       Value: 'Small,Images,Offers,EditorialReview' } },
  { '$': { Name: 'SearchIndex', Value: 'Electronics' } },
  { '$': { Name: 'Service', Value: 'AWSECommerceService' } },
  { '$': { Name: 'Timestamp', Value: '2019-01-23T00:03:39Z' } },
  { '$': { Name: 'Version', Value: '2013-08-01' } } ]

Thanks in advance for your support on this."
Product Advertising API	"Looking for an alternative API to Amazon Advertising API
Hi,

I am looking for an alternative API to Amazon Advertising API.
I just need access to products, images and prices. I don't need the affiliates account.

Does anyone know where can I find such an API for developers?

Thanks,
Daniel"
Product Advertising API	"Re: Looking for an alternative API to Amazon Advertising API
Check out https://www.browsenodes.com.

Edited by: Morley Tatro on Jan 24, 2019 5:40 PM"
Product Advertising API	"Joining API
Trying to enable Product Advertising API tool, but the ""Join"" button isn't highlighted making it    ""un-clickable"" .....what am I doing wrong? How do I enable it?"
Product Advertising API	"Public API is needed for AWS EKS? When VPC endpoint for EKS?
Hello,

Do you know if AWS EKS will soon/ever support VPC endpoints?

EKS Master node (managed Service by AWS) need access to the EKS Worker node. On the EKS Worker node is running the Workload/Container.
We intended to put EKS worker node on a Private Subnet for security reasons, but as it needs to be API accessible, then we have to move it to Public Subnet...

Solution would be to have VPC Endpoints for EKS  but it is not available yet:
https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html

Thanks,
Giulio.

Edited by: 2funky2beat on Jan 10, 2019 8:13 AM"
Product Advertising API	"Re: Public API is needed for AWS EKS? When VPC endpoint for EKS?
This sounds like it belongs in a different forum. This is the Amazon Product Advertising API forum."
Product Advertising API	"Using Product Advertising API for Amazon Pantry Items
hi,

I am not able to use Product Advt API for Amazon Pantry Items (india).. i.e. even though i use endcoded offer listing id of pantry item and press on Run Request in scratchpad,  i get the Purchase URL which is pasted in browser then Pantry items are not included in this (they are moved to saved for later), other normal items are added adn merged with cart as expected (excluding pantry items).. can you pls help me to confirm if pantry group items (on amazon.in) are supported by product advt api and if yes then how to address this issue?"
Product Advertising API	"Product API : Item price is missing
Using Product API, limiting me to only 5 pages. I can not load more pages. Also, in the JSON there are few item whose prices are missing. Why they have such products.

Also, there are few products which have been categorised wrong. 

I am stuck with these issues. 

I wrote to their support 2 months back but no assistance is provided. Please help."
Product Advertising API	"Re: Product API : Item price is missing
The Product API doesn't directly return JSON, so it sounds like you have additional software interfacing with it. To your questions:

1) Yes, the page limit can be frustrating. You can, however retrieve up to 10 pages if you include a search index with your request.

2) Kindle eBooks don't return prices. See this link:
https://forums.aws.amazon.com/ann.jspa?annID=854

Also, if it's a parent item which has variations, it won't have a price since you can't purchase the parent abstraction. If you include VariationSummary as one of your response groups, you can get the lowest price in the variation summary for parent items.

3) The categorization issue is probably more a function of sellers putting their items in incorrect categories, and I doubt you'd be able to get much assistance from Amazon on that front."
Product Advertising API	"Product Advertising API - Business-only products?
Hi,
I'd like to know if there is access to business only products in Product Advertising API?
If it's not possible, how would you recommend getting access to business only products using an Amazon API? 

Thanks, 
Shahar."
Product Advertising API	"AWS Keys not working???
Hello there,
I have bought prosociate plugin and trying to configure it. But at the backend when I try to connect my amazon account using Associate ID and AWS key and AWS secret Access Key it gets error always lie in the screenshot. It says “Prosociate was not able to connect to Amazon with the specified AWS Key Pair and Associate ID.  Please triple check your AWS Keys and Assocoate  ID”.
I have checked 10 times the id and AWS key, but no success till now. It is not working. If you want I can give you my amazon affiliate id and password so that you can check. This is the site http://kaenaa.com/Qi/

Thanks"
Product Advertising API	"Re: AWS Keys not working???
Check out this forum https://forums.aws.amazon.com/thread.jspa?messageID=561520 There are a couple of solutions that should help."
Product Advertising API	"Re: AWS Keys not working???
I have the same problem.

In my case I am using a php script

This is it:

<?php
function awsRequest2($item_no, $responseGroup, $operation){
	$service_url = ""http://ecs.amazonaws.com/onca/xml?Service=AWSECommerceService"";
	$associate_tag = ""fethguid-20"";
	$secret_key = ""my-secret-key"";
	$access_key = ""my-access-key"";
	$Version = ""2013-08-01"";

	// build initial request uri
	$request = ""$service_url&Operation=$operation&AssociateTag=$associate_tag"";

echo ""Request:<br>$request<br><br>"";

	// parse request into params
	$uri_elements = parse_url($request);
	$request = $uri_elements;
	parse_str($request, $parameters);

	// add new params
	$parameters = gmdate(""Y-m-dTH:i:sZ"");
	$parameters = $version;
	$parameters = $access_key;
	if($responseGroup){
		$parameters = $responseGroup;
	}
	if($item_no){
		$parameters = $item_no;
	}
	ksort($parameters);

	// encode params and values
	foreach($parameters as $parameter => $value){
		$parameter = str_replace(""%7E"", ""~"", rawurlencode($parameter));
		$value = str_replace(""%7E"", ""~"", rawurlencode($value));
		$request_array[] = $parameter . '=' . $value;
	}
	$new_request = implode('&', $request_array);

	// make it happen
	$signature_string = ""GETn{$uri_elements}n{$uri_elements}n{$new_request}"";
	$signature = urlencode(base64_encode(hash_hmac('sha256', $signature_string, $secret_key, true)));

	// return signed request uri
	$signed_req = ""http://{$uri_elements}{$uri_elements}?{$new_request}&Signature={$signature}"";

	echo ""Signed_req_2;<br>$signed_req<br><br>"";

	return $signed_req;
}

$request2 = awsRequest2(""B00N1EJXUU"", ""Small"", ""ItemSearch"");

$response2 = @file_get_contents($request2);
if ($response2 === FALSE) {
    echo ""Request2 failed.<br>"";
} else {
    // parse XML
    $pxml = simplexml_load_string($response2);
    if ($pxml === FALSE) {
        echo ""Response2 could not be parsed.\n"";
    } else {
        if (isset($pxml->Items->TotalPages)) {
            echo $pxml->Items->TotalPages, ""\n"";

			// retrieve data in a loop
			echo ""<ul>n"";
			foreach($xml->Items->Item as $item){
				echo ""<li>"".$item->ASIN.""</li>n"";
			}
			echo ""</ul>n"";	
        }
    }
}
?>

The response I get is ""Request2 failed.""

I read through the other thread and have applied what was written.

I deleted my root keys and re created them and downloaded the file rootkey
But I still get a fail.

This is what is echoed:

Request:
http://ecs.amazonaws.com/onca/xml?Service=AWSECommerceService&Operation=ItemSearch&AssociateTag=fethguid-20

Signed_req_2;
http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=my-access-key&AssociateTag=fethguid-20&ItemId=B00N1EJXUU&Operation=ItemSearch&ResponseGroup=Small&Service=AWSECommerceService&Timestamp=2014-09-24GMT08%3A13%3A020&Version=&Signature=S%2FR86Z%2FmXcN%2BGcW9uAKzdsM%2Bw0D6pbIcuiJak%2F6EzPU%3D

CAN ANYONE SEE why I still get the fail notice ?

Thanks.

Edited by: expwold on Sep 24, 2014 1:35 AM"
Product Advertising API	"Re: AWS Keys not working???
You should have started a new thread with this. 

Use CURL instead of ""file_get_contents"" so you can examine the returned XML instead of just a PHP failure."
Product Advertising API	"Re: AWS Keys not working???
I have also purchased ""Azon Authority""plugin and trying to configure it. But at the backend when I try to connect my amazon account using Associate ID and AWS key and AWS secret Access Key it gets error always lie in the screenshot. 
It says “AzonAuthority""was not able to connect to Amazon with the specified AWS Key Pair and Associate ID. Please triple check your AWS Keys and Assocoate ID”.
It is not working. If you want I can give you my amazon affiliate id and password so that you can check. This is the site https://vendeemart.com"
Product Advertising API	"Re: AWS Keys not working???
If you're sure the keys are correct, there may be an issue with the plugin. If so, get in contact with them for support. You can check your keys by running a request from the scratchpad:
https://webservices.amazon.com/scratchpad/"
Product Advertising API	"Re: AWS Keys not working???
Hi, I have the same problem. Recently purchased azon too. I contacted amazon associates support and its the same spiel, wait for 3 sale then they will review. They dont even answer questions properly just repeat script.
That doesnt help and they dont seem to understand i need keys to work before any sales, as building site. Did you get your issue sorted? any clues.
I have created numerous keys, deleted also, tried IAM and root keys, tried credentials.csv, rootkey, accesskey nothing works.
Can some one tell me, do the permissions and policys make a difference?
It is for a new wordpress site using azon authority wich needs serial and access keys to communicate with amazon. Appreciate any assisstance"
Product Advertising API	"RSS Feeds offline?
Hi,

recently, URLs like that had worked to retrieve the XML for bestseller feeds:
https://www.amazon.com/gp/rss/bestsellers/books/10777/

Now I get a 404 error. Can anybody tell me what happened?
Thanks."
Product Advertising API	"Problem with data returned from Product API for TV's in Amazon India
I've been creating a website that compares prices across various retailers for products. I came across an issue while comparing prices for TV's. The data I get from the Amazon product API for TV's always state the product is out of stock and it does not show the discounted price. This is the case for all the TV's and not just one or two. I'm attaching the screenshots Appreciate if someone could verify the same and confirm if this is an issue from Amazon end. 

Below snapshots are for the product titled -   CloudWalker 101 cm (40 inches) 4K Ready Smart Full HD LED TV 40SFX2 (Black)

Edited by: chrissam on Dec 11, 2018 11:40 PM"
Product Advertising API	"Why is my IP blocked on all amazon servers?  92.85.195.126
I just changed ISP's to a new business class ISP.  I immediately noticed I am blocked from Amazon...

My IPs:
92.85.195.126  (definitely blocked, primarily use this IP)
92.85.195.125 (might be blocked, I don't use this as much)

Why is it blocked?  How can it be unblocked?

I don't know who the former owner of the Ip was, what they did, etc.  But I need access to amazon for many different things...

Please unblock my IP.

Thanks,
Ben"
Product Advertising API	"Re: Why is my IP blocked on all amazon servers?  92.85.195.126
Unless this is related to use of the Amazon Product API, you're likely posting it in the wrong place. If it's just the Amazon retail site that's giving you problems, try getting in touch with them."
Product Advertising API	"Re: Why is my IP blocked on all amazon servers?  92.85.195.126
This affects all of amazon.  Every API call, every s3 bucket, every retail page, etc.  I can't hit my own s3 bucket, I can't even load this forum page from my main ISP.

I don't know of a place to ask a question for all of amazon services...so i started here.  I saw other people having similar blocks that got resolved by asking here.

I haven't found anything that i can do anywhere in AWS...can't get to console, can't get to anything in the world of Amazon.  I can proxy around it to still access the forum, but its ridiculous for me to sue a proxy to reach amazon services.  Its my new main, fast ISP...and I want to be able to sue it normally for everything work related which involves a lot of API stuff with AWS.

--Ben"
Product Advertising API	"Re: Why is my IP blocked on all amazon servers?  92.85.195.126
I'm blocked 100% on AWS...everything.  How do I reach someone who cares and can help?

I shouldn't have to pay for support to get them to remove an IP that shouldn't be banned..."
Product Advertising API	"Re: Why is my IP blocked on all amazon servers?  92.85.195.126
I paid for their ""developer"" support...and while waiting for a reply, or at the time of the reply, the issue resolved itself.  As I went through their ping/nslookup data gathering I noticed the site was working....

Nothing I did, they must have cleared it.

So for someone else having issues, pay for their developer support and open a ticket.  Forums won't get you anywhere.

--Ben"
Product Advertising API	"Re: Why is my IP blocked on all amazon servers?  92.85.195.126
Someone resolved it, but I don't know who.  Likely something in AWS support with the developer support plan helped."
Product Advertising API	"Link Previews
Hi,

I have been running a link preview API for several years.  The common use case for the API I provide to my customers is that they want to show the title, image, and description of a link in a chat or social media context.  The service is commonly used to share links to Amazon products and I have started to receive a ""Robot Check"" which displays a captcha in the last couple hours.   

Is there a process I can go through to validate that our service is legitimate to ensure I don't receive the robot check?  I'm happy to provide a link to my service to prove its legitimacy!

Thank you,
Justin"
Product Advertising API	"Product Advertising API - Sandbox?
Greetings, I wanted to know if there was such a thing as a sandbox for the product advertising API, containing test data. I don't need to list all the benefits of this, as you already know!

Rather than wait to be approved (and not write any code whilst waiting), if there was a sandbox environment (with separate credentials and possibly domain), which we could use it whilst waiting for approval, we could hit the ground running when we are approved and have already written some code. It would also not use up bandwidth whilst perfecting code.

I'm just putting the idea out there, I'd love to hear what other people think of this! I've not searched extensively, so apologies if other people have asked a very similar question.

Edited by: MartinDye on Nov 27, 2018 2:22 PM"
Product Advertising API	"Re: Product Advertising API - Sandbox?
Quite funny 

We will never get something like this. Unfortunately, Amazon is very developer unfriendly. No dev accounts, API keys or sandbox."
Product Advertising API	"Product API requests getting throttled
Hi,

My API requests are being throttled at random intervals. I am submitting my API requests with an interval of 10 seconds. As I understand, the minimum wait time between API calls is 1 second. I am getting following response from the API:

<?xml version=""1.0""?>
<ItemLookupErrorResponse xmlns=""http://ecs.amazonaws.com/doc/2005-10-05/""><Error><Code>RequestThrottled</Code><Message>AWS Access Key ID: AKIAJ5X5R6HZQ43UVXKA. You are submitting requests too quickly. Please retry your requests at a slower rate.</Message></Error><RequestID>93557cf7-e831-425e-8269-3e5701bec853</RequestID></ItemLookupErrorRespose>i


Edited by: nadirlc on Oct 31, 2017 10:56 PM"
Product Advertising API	"Re: Product API requests getting throttled
The throttle rate is 1 request per second. http://docs.aws.amazon.com/AWSECommerceService/latest/DG/TroubleshootingApplications.html#efficiency-guidelines
Are you sure you're not accidentally triggering more than one request when you make your queries? Can you inspect the packages with some lower level tool maybe?"
Product Advertising API	"Re: Product API requests getting throttled
Hello. I can confirm that my script is sending one request every 4 seconds to amazon.de. The requests are still being throttled randomly.

I captured the network traffic using Tcp Dump and opened it in WireShark. The analysis showed that 1 TLS Hello Client  message was being sent every 4 seconds. Please see the attached pcap file."
Product Advertising API	"Re: Product API requests getting throttled
I have the same problem as you. Still haven't found a solution... I delay my requests, 1, 2 or even 10 seconds... nothing. It just randomly throws an error...."
Product Advertising API	"Re: Product API requests getting throttled
I started having this issue again today. Amazon Support said they can't help me and to make a post here. This is very frustrating. Why is Amazon support absolutely no help?"
Product Advertising API	"Re: Product API requests getting throttled
Still no help from Amazon... I'm able to make one request every 8 seconds, anything sooner fails. I'm sending another email to Amazon... this is very frustrating."
Product Advertising API	"Re: Product API requests getting throttled
Here's a modified version of the signature code created by Scratchpad, to show that the PAAPI does not work correctly as it throttles requests randomly. I am waiting 2 seconds between requests (more than enough).

<?php
 
// Your Access Key ID, as taken from the Your Account page
$access_key_id = ""X"";
 
// Your Secret Key corresponding to the above ID, as taken from the Your Account page
$secret_key = ""X"";
 
// The region you are interested in
$endpoint = ""webservices.amazon.es""; // replace .es for .co.uk or .com.
 
$params = [
    ""Service"" => ""AWSECommerceService"",
    ""AWSAccessKeyId"" => $access_key_id,
    ""AssociateTag"" => ""X"", // your associate tag
];
 
$id = ""1748201031"" // This is the music category ID for Spain, change it for the one corresponding to your region.
 
$uri = ""/onca/xml"";
 
$ch = curl_init();
 
function reqBrowseNodeLookup(string $id, array $params, $secret_key, $endpoint, $uri)
{
    $params[""BrowseNodeId""] = $id;
    $params[""Operation""] = ""BrowseNodeLookup"";
    $params[""ResponseGroup""] = ""BrowseNodeInfo"";
    $params[""Timestamp""] = gmdate('Y-m-d\TH:i:s\Z');
 
// Sort the parameters by key
    ksort($params);
 
    $pairs = array();
 
    foreach ($params as $key => $value) {
        array_push($pairs, rawurlencode($key) . ""="" . rawurlencode($value));
    }
 
// Generate the canonical query
    $canonical_query_string = join(""&"", $pairs);
 
// Generate the string to be signed
    $string_to_sign = ""GET\n"" . $endpoint . ""\n"" . $uri . ""\n"" . $canonical_query_string;
 
// Generate the signature required by the Product Advertising API
    $signature = base64_encode(hash_hmac(""sha256"", $string_to_sign, $secret_key, true));
 
// Generate the signed URL
    return 'http://' . $endpoint . $uri . '?' . $canonical_query_string . '&Signature=' . rawurlencode($signature);
}
 
for ($i = 1; $i <= 100; $i++) {
    echo ""-------\n"";
    echo ""# Round "" . $i . "" - "";
    $request_url = reqBrowseNodeLookup(""1748201031"", $params, $secret_key, $endpoint, $uri);
 
    echo ""Signed URL: \"""" . $request_url . ""\"" - "";
 
    // set url
    curl_setopt($ch, CURLOPT_URL, $request_url);
    //return the transfer as a string
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
 
    echo ""Time: "" . microtime() . ""\n"";
    $res = curl_exec($ch);
 
    $categories = simplexml_load_string($res);
 
    if (!empty($categories->Error)) {
        echo ""- Error: "". $categories->Error->Code . "". "" . $categories->Error->Message . ""\n"";
    };
 
    if (!empty($categories->BrowseNodes->BrowseNode->Children->BrowseNode)) {
        echo ""- Success. Received "" . count($categories->BrowseNodes->BrowseNode->Children->BrowseNode) . "" categories.\n"";
    }
    sleep(2);
}
 
?>


Is someone from Amazon reading this??"
Product Advertising API	"Re: Product API requests getting throttled
First, I don't think Amazon reads this forum very often. A response from them is extremely rare.

Second, your code looks okay. I found no flaws. But that hardly matters--it's the output that matters. 

I assume you closely checked the output, and it showed 100 rounds in 200 seconds and there were a few errors of the ""RequestThrottled"" type. And you had no other scripts running on other machines. 

If those assumptions are correct, there are only three conclusions I can think of: 

1) Your API access keys have been compromised and being used by someone else. Generating new keys is (was?) an easy thing to do, and you should try it if you haven't already.

2) Amazon's throttle is flawed. Unfortunately, there are so many complaints about the throttle that I think this is possible.

3) There is an unrevealed aspect of the throttle that we have yet to divine. The specifics have never been well-documented by Amazon. Before the recent changes, we knew that the throttle applied to key+ip, so multiple ip addresses could use the same access key. Since adding the Associate ID requirement (and perhaps others), the throttle complaints have spiked. 

Which of those seems likely to you?"
Product Advertising API	"Re: Product API requests getting throttled
Well. I think all three conclusions are possible. I think one of the issues with the amazon product api is that the url request contains all the information. i.e the associate tag, access key and secret key. The secret key is included as part of the signature and is encoded using sha-256 hashing algorithm which cannot be reversed. However it may be possible to reverse the hashing algorithm by using brute force techniques or lookup tables.

The url is time bound which means it expires after a certain time. But it can still be used. Amazon will return an error message if the url is expired but the request may still count as coming from the valid user. Its possible for the urls to be intercepted by proxy servers, firewalls or bots and then reused unintentionally.

We started having the problem with throttled requests after amazon removed the ip restrictions from the criteria for determining the rate limits for the api requests. Removing the ip restrictions means your api requests will be counted irrespective of the ip address from which the request comes from. If a bot or some script resends your expired url request repeatedly, then it may be deducted from your api quota.

Its also possible that amazon uses other criteria for throttling the requests such as user account, ip address, request rate etc and has not revealed the factors it considers when throttling requests.

I think the product api should use post parameters in the request and require that the request be sent over HTTPS.

We contacted the amazon support through their support service and they recommend creating many users with access keys.

I think the solution for now may be to create new users with new access keys every time the requests get throttled."
Product Advertising API	"Re: Product API requests getting throttled
1) I don't know much about encryption, but am surprised to hear the secret key becomes part of the string being encrypted. Sounds like a terrible security flaw. Should only be used as the key. Are you certain?

2) Amazon removed IP from the throttle criteria? I missed the memo on that one. Could you tell me where you read that? Not surprised I missed the memo--I've been occupied elsewhere for years.

3) When Amazon first introduced the IAM users, we where required to create a root key to access this API. So the system for multiple users is working now? I know they changed the sign-up documentation, but there were many complaints after that it didn't work. If it works, I suspect that API queries from multiple users are still counted against the main account, and so may be a source of misunderstood throttling."
Product Advertising API	"Re: Product API requests getting throttled
1) The secret key is used to generate the signature which is sent with the api requests.

2) I had been accessing amazon product api from multiple ips and until recently did not have any problems with throttled requests. A few months ago the api started giving throttled errors. Maybe the throttling algorithm now counts each request irrespective of the source ip address of the request. That would mean that if multiple scripts are accessing the api, then each request will count when calculating the throttling rate. It may sound far fetched but, If the url is intercepted by a bot or proxy server and is sent to amazon api server repeatedly, then it may cause all requests from the account to be throttled. Its just an example, but it shows the importance of properly implementing APIs.

3) Amazon has mentioned in its troubleshooting guide (https://docs.aws.amazon.com/AWSECommerceService/latest/DG/TroubleshootingApplications.html) that it allows 8,640 requests per day for new applicants. Once this limit has been reached, the requests are limited to 1 request per second. Perhaps amazon has changed its algorithm for determining which applications are fully accepted into its affiliate program.

It does not look like we can do much about the problem until amazon addresses the issue.

Edited by: nadirlc on Feb 16, 2018 6:13 AM"
Product Advertising API	"Re: Product API requests getting throttled
Just to add my experience to the same story. Random Throttling started a few months ago as well. I generated a new access key in the Associate Center but throttling remains, so I can exlude the possibility that the key is used from different sources at the same time.

It does not really matter if I set a delay to 2, 4, 8 or even 10 seconds between requests. Right now 15%-25% of my requests are rejected with the throttle error. Sometimes even the very first request after a longer pause (as in hours) is rejected.

There is no real scheme I can identify in the behaviour. Unfortunately there is no info to be found on the current limitation on an account, e.g. in the received Throttle-Response-Header. 

Anazon Associate Support is not able to help on technical matters and redirects to this forum. I wondered if it would help to upgrade my AWS plan from free to basic ($29/month) to just get hold of technical support but then again I am not sure if AWS Support Team is the correct contact for Amazon Product API-issues. 

So right now it's a bit frustrating, however, since Amazon is not blocking a key permanently for too many throttled requests at this time, it's not a matter of life and death. It would be super helpful though if some light is shed on the issue and that one could inspect the currently active limitations on a key/account. 

My bet however is, that that the underlying problem is really some sort of bug/wrong configurations on the Amazon-side.

-act"
Product Advertising API	"Re: Product API requests getting throttled
So what do you do when the end user is expecting data in the application? Send them a spinner for a couple of seconds? Give them a big fat 404? Or cache the data, which Amazon discourages and is technically difficult since the data you might want to show may not have been previously requested.

Even then, getting your app up to 5 simultaneous users is going to be a horrible experience for them.

How does one program an app around a throttle?"
Product Advertising API	"Re: Product API requests getting throttled
This thread is almost a year old. I've been having the exact same issue now.
I have an approved Amazon associate account. I've tried generating a new access API key and use it instead of my first one, but it didn't made any difference. using a different IP didn't help neither.
I did not pass the limit of 1 request per second, and neither the 8640 request limit per day. Even if I somehow did pass it, I've already stopped making any requests for a while now, and still get this error right at the very initial try. Can anyone please assist with this?"
Product Advertising API	"Re: Product API requests getting throttled
hi
from last friday, i keep on having throttled request
nothing has changed in the code or on the server
i was able to make 80000 requests per day before...
i don't understand why...
why amazon is not responding to our queries?
is there a bug on their server ? how can we contact them in order to have some response?
very frustrating...

Edited by: superjmt on Jul 31, 2018 10:49 AM"
Product Advertising API	"Re: Product API requests getting throttled
My API requests are no longer getting throttled. The Product Advertising API seems to be working fine now"
Product Advertising API	"How to get only Amazon Promotion Codes details and affiliate URL using API?
Hello Friends,

I am trying to get the list of Amazon Promotion Codes (https://affiliate-program.amazon.com/home/promohub/promocodes?) from Affiliate Program Home. I have checked on Product advertising API and I am not getting this list from it.

Anyone experienced with this and examples are really appreciated if possible.

Thank You
Manish"
Product Advertising API	"Re: How to get only Amazon Promotion Codes details and affiliate URL using API?
I don't believe those are available through the Product API, but you could probably employ browser automation using something like Puppeteer to get the data."
Product Advertising API	"How To Hire EXPERT Amazon Web Services Developer?
Hi,I've some experimental ideas and want to play around with some of the amazon web services. I've looked at the third party offerings and while they are good do not serve my purpose.I'm not a programmer anymore. (Used to be a software engineer back in the day but lost touch, been too long!) I'm looking to hire an EXPERT amazon web services developer. Nothing super complicated. (Actually the first idea is pretty simple IMHO.) I could post requirements in here but it's a public forum.Of course I'd gladly pay for your services...either in cash or through an amazon.com discount card.So question is how do I pick a good developer who has extensive experience using AWS? Is there any place (other than the job auction sites where I've already got burnt before by inept developers claiming to be experts using aws) where I can find a list of such developers? Or can some of you who've helped others by posting lots in the forum get back to me?Of if you have a website where you do this professionally I'll be glad to check it out and go from there. If you are still reading and interested please get in touch ASAP by replying to this or better yet using private messages.Thanks a bunch for reading,Bob"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
i just completed my Amazon site, http://i-myZon.comfor my overall qualifications, visit my home sitehttp://www.codesworth.com and fill out the inquiry form if you so desire.cheers...hong"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
i may be able to help you. contact me if you're interested.

AIM: El MoselYEE
email: blayne@pcbunk.net"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
Bob,

if I was you, I wouldn't necessarily look for an Amazon API expert, but someone who knows a lot about building enterprise websites/applications. The Amazon API is fairly straight forward and there are enough tools around that make you life relatively easy. What makes building a true high volume site hard, is writing all the stuff around the Amazon calls well. You want to think about maintainability and performance, especially caching etc. To do that well you need to understand more than just a fairly simple API, you need to understand how to architect.

Just my 2c,

-hendrik"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
I agree with Hendrik. Any good developer can pick up an API (especially this one). Get someone who has some good applications under their belt."
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
check me www.avirads.comthanks,..."
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
This thread is very old now... can a mod lock it?And is there a forum rule about necroing old threads?Andrew"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
It may become difficult for a recruiter to search, assess and hire the candidate who has candid experience in Amazon Web Services. I have mentioned easiest process you can use to hire expert AWS developer.
You can follow below stages to hire AWS developer:
1)	Sourcing: You need to search for quality candidates based upon your criteria of work experience. There are different sourcing platforms like Indeed, Monster, Entelo Search. You can also check sourcing blogs like Boolean strings, Snark Attack, Sirona Says.

2)	Screening: You can screen the candidate through different levels including resume screening, candidate screening, background screening.

i)	Resume Screening: You can shortlist resume based on some criteria (could be Work Experience Year, Work domain, Place of work). Platforms like ideal.com can help ease this lengthy process.
ii)	Candidate Screening: Assessing candidate’s job skills before hiring them could save you from costs of bad hiring. You can use different skills assessment tests like:

online AWS online test:

https://www.interviewmocha.com/tests/aws-test-online?utm_source=Forum&utm_medium=nishi Assess skills related to S3 bucket, ELB, ENI, Directory Manipulation, Encryption Back up files, Debit memo reversals, Amazon Aurora.

-Online DevOps  AWS test : https://www.interviewmocha.com/tests/devops-aws-test-assessment?utm_source=Forum&utm_medium=nishi    Assess skills related to configuring Amazon EC2 instances, Event-driven scaling, Amazon Elastic Compute Cloud, AWS Cloud Formation, Hosting a new web application on AWS

Use of recruiting assessment tools like Interview Mocha https://www.interviewmocha.com/recruitment-assessment-tools?utm_source=Forum&utm_medium=nishi&utm_term=recruiting_assessment_tools  could be more useful. The tests provided by this tool can help you get insights into the capability of a candidate to work upon AWS. These tests include practical questions based on case studies & scenario, hence can help you find AWS experts having real work experience.

iii)  Background Screening: Background check is important and is done to check the criminal record, social security validation, address history check, sex offender registry check. One must look for any issues that could affect your business. You can use tools like Hire Right, JDP for background screening.

3) Interviewing:
You can shortlist candidates from above process so that you will be left with very few candidates to interview. You can now evaluate candidate's communication skills, ability to work in a team, passionate about work through face to face or video interview.

4) Selection: 

Consider scores in the screening process and interview to decide upon the best suitable candidate for your organization.

Hope this process will help you hire expert AWS developer!"
Product Advertising API	"Re: How To Hire EXPERT Amazon Web Services Developer?
Check https://www.scaleleap.com/"
Product Advertising API	"BrowseNodeLookup doesn't work with TopSellers/MostWishedFor response groups
Seems to be a somewhat recent thing.  Anyone else noticed this?  Works fine with NewReleases/MostGifted, but not TopSellers/MostWishedFor. The response that I'm getting is below:

Error at URL: http://webservices.amazon.com/onca/xml?AWSAccessKeyId=x&AssociateTag=y-20&BrowseNodeId=553504&Operation=
BrowseNodeLookup&ResponseGroup=BrowseNodeInfo%2CNewReleases%2CTopSellers%2CMostGifted%2CMostWishedFor&Service=AWSECommerceService&Timestamp=2018-10-13T07%3A14%3A33Z&Version=2013-08-01&Signature=z
 
Response contains error:
Status code: 400.
JSON: [:].
Body: <?xml version=""1.0""?>
<BrowseNodeLookupErrorResponse xmlns=""http://ecs.amazonaws.com/doc/2013-08-01/""><Error><Code>InternalError</Code><Message>We encountered an internal error. Please try again.</Message></Error><RequestID>x
</RequestID></BrowseNodeLookupErrorResponse>
Response Entity: <400 Bad Request,<?xml version=""1.0""?>
<BrowseNodeLookupErrorResponse xmlns=""http://ecs.amazonaws.com/doc/2013-08-01/""><Error><Code>InternalError</Code><Message>We encountered an internal error. Please try again.</Message></Error><RequestID>x
</RequestID></BrowseNodeLookupErrorResponse>,{Date=[Sat, 13 Oct 2018 07:14:33 GMT], Server=[Apache-Coyote/1.1], Vary=[Accept-Encoding,X-Amazon-CDN-Cache,User-Agent], x-amz-rid=[x], nnCoection=[close], Transfer-Encoding=
[chunked]}>"
Product Advertising API	"Re: BrowseNodeLookup doesn't work with TopSellers/MostWishedFor response groups
Looks like this is specific to certain browse nodes...but the one listed above is one that is broken.  An example of one that works is 2619525011."
Product Advertising API	"How to test the api without registering as an Associate while developing
I'm building a website in which I'd like to incorporate the Advertising API. As my site is still being developed, I don't want to acquire a domain name, nor to register as an amazon Associate. I know I will after my site goes alive. But for now, how can I test the api while developing ? Is an Associate a must to issue the api request,even for my developing test ? If it's not, what is a associate good for ?

 BTW, I have amazon account and I can see my (secret)access key on my amazon console."
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
An Associate ID is required.   Wouldn't necessarily have to be yours but probably not a good idea using someone else's without permission.

Jim"
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
Ditto ... Besides, getting your own Id really isn't a big deal."
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
If you are unsure what domain name your site will have, and you are thinking that you want your Associate ID to reflect your domain, then I can see why you would be hesitant to sign up at this point.

In the Associate Program site, you can request a tracking ID to be associated with your ID. Essentially, a different Associate ID that credits clicks to your main id. So sign up with ""mytempid"" and then, later, add ""mydomainid"" to use in your URLs."
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
Thanks you guys,

I've some more simple questions below. Would you please help ?

1. What sense does it make for a Associate ID to reflect the domain name ?

2. When I try to register to get a Associate ID, amazon ask me to provide a valid URL of my site. Since my site is still not there, could I provide any other valid URL(e.g., my blog site) for registering and later change to the real URL ? Will amazon check if the provided URL is really the site mentioned to approve the registration ?

3. I don't very much get the ""tracking ID"" part mentioned by Lucius. Do you mean that, apart from an Associate ID, I can also ask for an other kind of ID(i.e., tracking ID) which has same effect as the Associate ID ? If so, further questions come:

3.1. What is required to provide for applying those extra ""tracking ID"" when registering ? 
3.2. What sense does it make to have tracking ID along side the main Associate ID ?
3.3. How many tracking IDs can one apply ?"
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
1) My opinion is that it doesn't make any rational sense, but is aesthetically pleasing. If you're a web nerd, you spend some time examining URLs for clues to this and that, so a non-cryptic Associate ID is nice. I thought it might the the reason you were waiting, but now I see it's because the associate application requires a domain.

2) You are correct: it is inconvenient in the beginning. You can use your blog domain and change it later. It's part of your account settings, and trivial to change. I think it is required so they can reject porn sites and others with which Amazon does not want to be associated. Probably helps them detect suspicious traffic. You can test from domains you don't officially register, but any significant traffic might attract attention (I'm guessing). Once you go live, you the domain should be added to your account.

3) Tracking ID is similar to domain: trivial to add to your account. Type in a unique string and hit the button. Use it if you want separate traffic reports from another site, or a subsection of your site, or advertising campaign, etc. I don't know the limit on the number of IDs.

Edited by: K. Lucius on Oct 11, 2012 11:04 AM"
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
johnwang507 wrote: 
2. When I try to register to get a Associate ID, amazon ask me to provide a valid URL of my site.
I would only add to the above post by saying that on this item I think it may have to do with Amazons latest API (MWS Product API) and their attempt to remove sellers from using this API .... and over to one specifically for them.

No web site would tend to indicate seller use although not absolute."
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
Thank you so much Kenny. Your explanations are clear and targeted. Thank you.

John"
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
This site might help:
https://amzproductapi.com

You can use product advertising API without having an associate account."
Product Advertising API	"Re: How to test the api without registering as an Associate while developing
I noticed this in the footer: ""AmzProductAPI.com does not use Amazon's Product Advertising API in any part of the service it provides to its' customers.""

Sounds like they're scraping the data and making it look like the actual Product API responses. Interesting..."
Product Advertising API	"using Product Advertising API without sales
hi everyone 

i developer and i need using Product Advertising API 

but amazon sent me email that they close my affliate accout case i dont have sales.

there is possibility to use Product Advertising API without sales 

thanks"
Product Advertising API	"Re: using Product Advertising API without sales
Check out this post

https://forums.aws.amazon.com/thread.jspa?messageID=784760#jive-message-871279"
Product Advertising API	"Resolvers on Schema.query/Schema.mutation  are not executed
There is a possibility to attach a resolver Schema fields as mutation or query (see Screenshot attached).
This works via UI, Cloudformation, and CLI.

However, these resolvers are never executed.

Having them executed would be super useful fetature: e.g. for providing rootObject ( source in terms of AppSync) to the root fields of Mutation/Query.

Edited by: RomanHotsiy on Sep 28, 2018 4:34 AM"
Product Advertising API	"Re: Resolvers on Schema.query/Schema.mutation  are not executed
Are you sure you posted this in the right place? The Product Advertising API doesn't currently have GraphQL capabilities."
Product Advertising API	"GT Metrix Enable Keep Alive for Fastor Shopify Theme Affiliate Store
Has anyone had any experience with resolving the issue of enabling keep alive in a GT Metrix Report that tests website load speeds.  It appears to be significantly slowing my down website load times?  My site uses a lot of affiliate links from Amazon.  

According to GT Metrix Enabling HTTP Keep-Alive or HTTP persistent connections allow the same TCP connection to send and receive multiple HTTP requests, thus reducing the latency for subsequent requests.  Here is a link to the GT Metrix Report: https://gtmetrix.com/reports/re-vigor8.com/wwOud8cn

In that report it states that the host amazon-adsystem.com should enable Keep-Alive. It serves the following resources.  Any help on this is greatly appreciated.  It lists the following as serving the following resources.  I look forward to any feedback.

https://ir-na.amazon-adsystem.com/e/ir?l=ur1&t=&o=1&cb=153762676390539
https://ir-na.amazon-adsystem.com/e/ir?l=w49&t=vigor01f-20&o=1&cb=1537626762829
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267638990
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267638991
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267638992
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639003
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639004
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639005
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639006
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639007
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639008
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=15376267639009
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390110
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390111
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390112
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390113
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390114
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390115
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390116
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390217
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390218
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390219
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390220
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390221
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390222
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390223
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390324
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390325
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390426
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390427
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390428
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390429
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390430
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390431
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390532
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390533
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390534
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390535
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390536
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390537
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390538
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390640
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390641
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390642
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390643
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390644
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390645
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390646
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390747
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390748
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390749
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390750
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390751
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390752
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390853
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390854
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390955
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390956
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390957
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390958
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390959
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676390960
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391061
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391062
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391063
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391064
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391065
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391066
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391067
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391168
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391169
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391170
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391171
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391172
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391273
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391274
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391275
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391276
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391277
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391278
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391279
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391380
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391381
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391382
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391383
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391384
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391385
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391386
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391487
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391488
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391489
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391490
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391491
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391492
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391493
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391594
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391595
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391596
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391597
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391598
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=153762676391599
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916100
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916101
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916102
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916103
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916104
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916105
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763916106
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917107
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917108
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917109
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917110
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917111
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917112
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763917113
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918114
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918115
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918116
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918117
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918118
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918119
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763918120
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919121
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919122
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919123
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919124
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919125
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919126
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763919127
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920128
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920129
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920130
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920131
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920132
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920133
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920134
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763920135
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921136
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921137
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921138
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921139
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921140
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921141
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763921142
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922143
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922144
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922145
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922146
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922147
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922148
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763922149
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923150
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923151
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923152
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923153
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923154
https://ir-na.amazon-adsystem.com/e/ir?l=w61&t=&o=1&cb=1537626763923155"
Product Advertising API	"Coupons?
Is there a way to pull coupons using the PA API?

I use the PA API for alerts when an item hits a price. For example I want an alert when an item is $10 or below. It may be listed on Amazon for $15 (price returned by PA API) with a $5 coupon. Which would make it $10, but my program cannot detect it because the coupon isn't included in the data returned by the PA API.

Is this done intentional or is there a call I can make to pull the coupon also?"
Product Advertising API	"Re: Coupons?
Are you referring to a coupon that's automatically tacked on when the item is added to a cart? Have you tried including the PromotionSummary response group?
https://docs.aws.amazon.com/AWSECommerceService/latest/DG/RG_PromotionSummary.html"
Product Advertising API	"Deal prices are not available in the API
I'm having a problem getting price information on products with deal pricing. The API does not give me the deal price. Here is an example. Is this a bug?

It works fine with products that have ""Deal of the Day"" pricing but any products with ""With Deal"" pricing fail to return the deal price."
Product Advertising API	"Re: Deal prices are not available in the API
Yeah, ASIN B07HCVR7F5 demonstrates this issue. Seems like it's intended behavior since adding the item to a remote cart also shows the non-deal $99.99 price. Strange."
Product Advertising API	"Error! AWS.InvalidAssociate
I opened an account many years ago, and it worked fine for a long time. I was able to lookup books via the API and present them on my website for purchase through Amazon.

Recently I found it was no longer working. So I'm trying to sort out what's wrong.

The API is returning:
Error code 400 when I use endpoint ecs.amazonaws.com
Error code 403 when I use endpoint webservices.amazon.com

I tried the scratchpad and I got:
Error! AWS.InvalidAssociate
HTTP Status 400: Bad Request
Your https://forums.aws.amazon.com/ is not registered as an Amazon Associate. Please register as an associate at https://affiliate-program.amazon.com/assoc_credentials/home.

I followed the URL to my account but I notice that the Migrate and Manage Credentials buttons are greyed out and inoperative.

What am I doing wrong? How can I fix this?"
Product Advertising API	"Re: Error! AWS.InvalidAssociate
Sounds like you haven't been officially accepted into the Associates program. You need to make the requisite number of sales (3 I think) and have your account reviewed. Once accepted, the Product API should start working for you again. The Associates account and the Product API account have to be connected to the same email. I don't think that was always the case, which may have been why it was working for you previously."
Product Advertising API	"Add to cart button that add a product to customer cart in one click
I'm developing an affiliate website and currently, I'm using this affiliate link format

https://www.amazon.co.uk/gp/aws/cart/add.html?AssociateTag=bonmedico-21&ASIN.1=B077V24YJ7&Quantity.1=1

There are 2 problems with this link, The most important problem is that this link page is not responsive and even if you clicked ""continue"" and redirected to your Amazon cart the cart won't be optimized for mobile devices too. and the second problem is that I hopped that ass soon as my website visitor clicks on ""Buy from Amazon"" button on my website the item get added automatically to his cart without the need to click on that continue button on the page above. Is there a way to solve both problems and make the user experience better for mobile users?

​"
Product Advertising API	"Re: Add to cart button that add a product to customer cart in one click
That's the only flow that I'm aware of for directly adding to a customer's cart, but if you come across a better way of handling it, please share!"
Product Advertising API	"Wrong Buy Box Information
I am using `item_lookup` with `OfferSummary` response group and finding that it often returns a `LowestNewPrice` even though the offer is not in the buy box. 

After inspecting the LowestNewPrice it seems that shipping is causing the item to be outside the buy box. 

Why is it being returned?

I know that if I change `merchant_id` to ""Amazon"" then i'll get the amazon offer, but its odd that the buy box is often not synced up."
Product Advertising API	"Re: Wrong Buy Box Information
Are you setting specifying ""All"" for the condition? I've noticed that when you use ""All,"" the lowest new offer is returned, not necessarily the buy box offer. It would be nice if we had better control over that, but as is, obtaining both the buy box offer and non-new conditions generally requires two distinct calls."
Product Advertising API	"Re: Wrong Buy Box Information
We are seeing similar results where the offer returned that should be the Buy Box does not match with what is showing on the product detail page on amazon.com.  

Searched the forums and found an old thread that mentioned passing value of ""FeaturedBuyBoxMerchant"" to the MerchantId but this functionality seems to have been removed from the API (??) as the results are not impacted.

Here's the referenced thread (from 2009):
https://forums.aws.amazon.com/thread.jspa?messageID=142953

Edited by: billyk617 on Sep 6, 2018 12:30 PM"
Product Advertising API	"If ASIN has no box price, offer listing prices don't update hourly
I'm currently developing a site and am using the API to update prices hourly. This seems to be working correctly for the vast majority of ASINs. However, I noticed that it is only the ASINs which don't have a box price on Amazon that aren't updating hourly. What I mean is that if there is no box price on Amazon, the lowest used and lowest new prices from the offer listings page aren't being updated. I made sure to check these ASINs manually to confirm that they have no box price. 

The last update according to my data for these ASINs is when a box price was last available, which I confirmed with price tracking sites. 

As a result, on my site I have an inaccurate box price showing - i.e. a box price is displayed when a box price doesn't exist. This is in addition to no pricing data for lowest and used options being displayed. I can live with having no lowest and no used prices showing at all, but it's the displaying of a box price that doesn't exist which is frustrating. 

I'm wondering if this is normal behaviour or I am doing something wrong on my end?

Edited by: smithyy on Aug 25, 2018 5:54 AM

Edited by: smithyy on Aug 25, 2018 6:10 AM"
Product Advertising API	"Re: If ASIN has no box price, offer listing prices don't update hourly
Do you have any example ASINs to check?"
Product Advertising API	"Product Advertising API disabled
Hi,

I have just registered to amazon associates, now I would like to register with the Product Advertising API, but in page ""Product Advertising API"" the Jbutton is disabled

Why? How can I do it to have it enabled?

Censa."
Product Advertising API	"Re: Product Advertising API disabled
You have to get a minimum number of sales (I think it's 3) and have your account reviewed before they open up the API for you. You can double check the numbers with support:
https://affiliate-program.amazon.com/home/contact"
Product Advertising API	"Product Advertising API  - How to get?
When I go to the Product Advertising API there is no join button. There is only Migrate and Manage Credentials, but they are grayed out. What does this mean?"
Product Advertising API	"Re: Product Advertising API  - How to get?
As of the current protocol, you have to be formally accepted into the Associates program before you can get Product API access. I think that entails at least 3 sales and a site review."
Product Advertising API	"Product advertising APİ
Hi, I had a huge trouble with amazon

I'm a developer which is programming a builder that creates easy affiliate sites for my costumers, and I applied for product advertising api but got rejected 4-5 times, they are just sending a automated message 

""Dear Associate,

While reviewing your request, we see that you did not include a valid business justification that explained your intended use of the Product Advertising API.

As a result of this, you'll no longer be able to access your Amazon Associates account.""

Do I against amazon policy ?

Why they are closing my account ? can anyone help me please ? 
I just kindly requested to approve me, but they are acting so rude and the robots closing my account for nothing....

I try to sell 3 items to beeing an right affiliates person, but they dont wait and close 4 times...."
Product Advertising API	"Re: Product advertising APİ
Since last year, the Product API has been restricted to affiliates who drive sales traffic to Amazon:
https://forums.aws.amazon.com/ann.jspa?annID=4737

Not sure there's any way around that, unfortunately."
Product Advertising API	"Need Help to register Product Advertising API
Hi, 

Need help to register Product Advertising API.

I am an App developer. Currently, I am developing an app for Amazon Products Import.

I am trying to get Access Key and secret key for all country. As I am looking to import product from all country.

I have got Access key and secret key from AWS but I am no able to use.

I am ready to pay any money 

To help me email at anthony@pinesap.in or zayn.franco@pinesap.in

Edited by: AnthonyDavid on Jul 12, 2018 8:24 AM"
Product Advertising API	"Re: Need Help to register Product Advertising API
I'm afraid you won't get API keys.

Already got in touch with Amazon's support team and asked for key too in order to develop, but they just declined with no real reason."
Product Advertising API	"Re: Need Help to register Product Advertising API
Hi, Experienced this too. Solutions?
Thanks"
Product Advertising API	"Re: Need Help to register Product Advertising API
doing the same thing, and got rejected 5 times.
amazon closed my account 5 times...

Why amazon doing that ?"
Product Advertising API	"Bid Recommendations - Discrepancy between API & Seller Central?
I've noticed a discrepancy between the bid recommendations suggested by the Product Advertising API and the suggested bids in seller central? Is this expected? I ran a POST request against the /keywords/bidRecommendations route and provided the ad group I am viewing in seller central as well as the keywords belonging to that ad group in the request body. I would expect to see the same numbers returned in both the API and seller central."
Product Advertising API	"error with Amazon's linkbuilder plugin for Wordpress
I can't save changes after inserting my api and secret key, whats happening to the plugin?

domain is apperta.me and i'm showing products on apperta.me/lamilk

Thank you in advance"
Product Advertising API	"Re: error with Amazon's linkbuilder plugin for Wordpress
I would file a support ticket here so the plugin maintainers can help:
https://wordpress.org/support/plugin/amazon-associates-link-builder"
Product Advertising API	"amazon product prices history
Is there any way to get a Amazon products price history without using external websites?

¿Is there any oficial Amazon API or something for achieveing this goal?

Thank you in advance"
Product Advertising API	"Re: amazon product prices history
No, the Product API only provides current pricing."
Product Advertising API	"How to use Amazon Product images in wordpress post
Hello guys,

I run a blog where I sometimes write amazon product reviews. 

So far I have been downloading product images from amazon and uploading it on my site. But recently I have heard that its violation of their ToS and my account could be at risks. 

So I want to get legal. I have heard API is the way. 

I tried sitestrip images but their largest image is still small and preselected. 

I want images of my choice and larger size. 

I am having hardtime understanding to use api cause I am not a professional developer. Although I understand html and xml.

So far I have been able to extract image urls through scratchpad. What I do is fillup that form with itemid, keys and other things. Then it give me xml response. And from there I have found the product image url. This url is slightly different from one on product page.

Url via product page:
https://images-na.ssl-images-amazon.com/images/I/71K8pBqb-FL.SL1500.jpg
Url via scratchpad xml respone:
https://images-eu.ssl-images-amazon.com/images/I/31tx6DfbdQL.jpg

The quastion is; is this how amazon want me to use their image via so called api? Or theres other way? 

Please help me with this? I know there are plugins out there to help but they all are paid which I can't afford rightnow.

Thank you!"
Product Advertising API	"Retrieving product information based on a bar code
I am trying to make use of the ItemLookup for an app that will allow the user to scan a product's bar code and then look that product up on the Amazon system to retrieve the products name and price.  I see the following fields in the documentation:

http://webservices.amazon.com/onca/xml?
Service=AWSECommerceService&
AWSAccessKeyId=https://forums.aws.amazon.com/&
AssociateTag=https://forums.aws.amazon.com/&  
Operation=ItemLookup&
ItemId=https://forums.aws.amazon.com/&
SearchIndex=Books&
&IdType=UPC
&Timestamp=https://forums.aws.amazon.com/
&Signature=https://forums.aws.amazon.com/

I have an access Key and secret key but I do not have an associate ID.  I am not looking to sell items or even buy items.  My app will only let a user know what his/her crap is worth by scanning the bar code and looking up the item on Amazon.  

Is there a way for me to pull information from the Amazon system without providing an Associate tag?

Thank you."
Product Advertising API	"Re: Retrieving product information based on a bar code
In the past, that may have been possible, but now the Product API is restricted to affiliates who drive revenue to the retail site:
https://forums.aws.amazon.com/ann.jspa?annID=4737

I'm not sure if MWS would enable that functionality, but it's worth a look.
https://developer.amazonservices.com/"
Product Advertising API	"Affiliate program. Adcode values too long
Hello. 

We are having a trouble with showing Amazon native ads on the website. The error I see in the console is: ""Error : Adcode values too long"" (screenshot attached).

I can share a link if this the right place for asking this kind of question."
Product Advertising API	"Using Amazon Reviews on my site as an Amazon affiliate
Here's a look at my website (attached) 

I basically take all the Amazon reviews for a particular product, do sentiment analysis and machine learning to make sense of all the reviews and break them down into common themes. 

My site only links to the Amazon product and no other marketplace.

Is this against TOS? If it is then how could I rearrange things to be within TOS. 

Thanks!"
Product Advertising API	"Re: Using Amazon Reviews on my site as an Amazon affiliate
No you can not include or collect and display amazon reviews, your account will be reviewed after you make X money and you will be shut down."
Product Advertising API	"Prime Customer Service number +1(888)305-7333
Call +1(888)305-7333 Prime Customer Service number for any hep related to your account or order.
Our customer service are best in their job and will be happy to help you."
Product Advertising API	"Re: Prime Customer Service number +1(888)305-7333
This the best call back number for prime customer service."
Product Advertising API	"Amazon provides only SCRATCHCARD apis or any other APIs to display Products
Hell Developers,
I have implemented a website by using the Scratchacrd APIs from the Amazon.
https://www.priceconnect.co.in
But scratchcard apis results are NOT at all matching with the LIVE Amazon.in search results?
I would like to know is there any other APIs to use to get the whole inventory from the Amazon.in?

Thank You."
Product Advertising API	"More Search Results Url returning wrong results
Hi there,

I'm using the API with the following query:
ItemSearch
SearchIndex=Toys
BrowseNode=3296956011
In response I get good result.
I need to use the `MoreSearchResultsUrl` field, but when accessing this Url I'm being redirected to another page with wrong results.
More Search Results Url = https://www.amazon.com/gp/search?linkCode=xm2&node=3296956011&creative=386001&url=search-alias%3Dtoys-and-games&camp=2025 
Redirected Url = https://www.amazon.com/s?rh=n%3A3880961%2Cp_lbr_characters_browse-bin%3AAladdin&ie=UTF8

Please advise in this issue.
Thanks in advance!"
Product Advertising API	"Receiving threats of legal action
I periodically (maybe once a year) receive an email from somebody or other that has an issue with particular products in Amazon's catalogue and they threaten me with legal action if I don't remove them.  It's not the same person/products - just that somebody has a bee in their bonnet about some product that they think we are selling illegally.

I tell them how we don't sell anything and that if Amazon are allowing pirated copies of DVDs (in the latest case) to be sold then they should get them to remove them and that would also remove them from our site and every other affiliate's.  Usually they aren't happy with that and say that me listing them is promoting the products and they will take legal action if I don't remove them.

Now, I don't believe they have a case.  I'm just displaying the fact that these products exist and linking to Amazon, a reputable website.  But I also don't want to get into a long, legal dispute as even if they're wrong it takes up time and, if it did go to court, money.

It is also the case that they are always for products that nobody ever looks at, e.g. the latest is about some DVDs ranked around 300,000 or worse in Amazon UK's best-seller list.  So I usually say how I don't think they have a case, that getting Amazon to sort it out is the best way forward, but that I'll remove them anyway.  As nobody ever searched for these items anyway it doesn't make any difference to me if they're listed so I prefer to just placate them so they can move elsewhere.

Anyway - as I say I get these every so often on a range of products.  So I was wondering if anyone else ever has this happen?  Particularly in the UK, as  it's the UK legal system/laws that are relevant.

If you do have it happen, how do you handle it?

Also, I'm assuming that they don't have a legal foot to stand on as we're not selling any of these items ourselves - I just think they want to threaten lots of things whether or not they are legally enforceable - but is this actually true?  I wouldn't really want to get into any legal battle, but it would be nice to know if they did potentially have a legal case!"
Product Advertising API	"Re: Receiving threats of legal action
Yes, I've had this happen quite a bit actually. The two main complaints are these:
You aren't authorized to sell our products.
You are violating our MAP (minimum advertised price) policy.

While I've had some heated back-and-forths with some of the companies, ultimately none has gone so far as to taking legal action. I'm in the US, so not sure how applicable this is to your situation. My experience mirrors yours in that explaining the situation rarely placates those who are complaining. However, pointing them to the relevant documentation at least gets them headed in the right direction:
https://www.amazon.com/report/infringement

Typically, the company itself is selling through the Amazon marketplace or has its products sold through the vendor program, and they're very upset to see the items advertised elsewhere. With the pricing, it's either Amazon who's discounting vendor products directly or other sellers who are violating the manufacturer's MAP. I simply provide the contact page for the marketplace seller and explain that pricing will reflect on our website as soon as it's fixed."
Product Advertising API	"Re: Receiving threats of legal action
I'd be surprised if anyone did take legal action over something like this, but I find (particularly with my current one) they can just be bloody minded about it and be quite rude, as if you were deliberately peddling dodgy goods.  The latest one has actually turned quite rude, which makes me think he's more of an angry individual rather than a proper legal department.

I have also pointed him to the Amazon UK version of that infringement page.  He says he's already done that, which he may or may not have - I don't know.  I just think he's angry, can't get the companies that sell the products (e.g. Amazon & eBay) to do what he wants and so wants to pick a fight with sites that make no actual difference.

But it made me think that I can't be the only one getting these issues, as over the years I've had a few of them, so thanks for sharing - I know I'm not the only one!"
Product Advertising API	"Server side calls without OATH
I am having trouble understanding how to call the advertising API from the end-to-end from the server side.  It appears based on  https://advertising.amazon.com/API/docs/guides/authorization  that you are required to use login with amazon which requires a human/browser  interaction, as the auth id is temporary ( and obviously being required to constantly poll to refresh using the refresh token seems... ridiculous)"
Product Advertising API	"Re: Server side calls without OATH
I'm not sure which forum would be ideal for this question, but this forum is for the Product Advertising API, which is for advertising Amazon products on remote sites. You're referencing the Advertising API, which is for advertising on Amazon itself."
Product Advertising API	"Sometimes get ""Service Unavailable"" with the Product Advertising API
Hello,

since around begin of december I sometimes get the following error when making a request to the amazon product advertising api:
Website temporarily unavailable: Our website is currently unavailable... (as img, see here: http://g-ecx.images-amazon.com/images/G/01/website/errors/503/generic.png)
With this HTTP response header:
Array ( [0] => HTTP/1.1 503 Service Unavailable [1] => Date: Sat, 06 Jan 2018 20:23:06 GMT [2] => Server: Server [3] => Vary: Content-Type,Accept-Encoding,User-Agent [4] => Last-Modified: Thu, 12 Apr 2012 18:37:11 GMT [5] => ETag: ""...."" [6] => Accept-Ranges: bytes [7] => Content-Length: 521 [8] => Connection: close [9] => Content-Type: text/html )

I am using the german endpoint of the API. I make the request with a PHP script and file_get_contents(""....""). For all requests I am using the same key-pair.

Confusing is the following: I use the exactly same script with same key-pair on different/multiple web servers from one web hoster. On two of the servers, the script produces the error. On the other servers, the request is working correctly and no error is produced.
It really looks like the servers are somehow different configured. But I have ordered exactly the same hosting from the hoster. The hoster also ensures me that they are exactly same configured. Does anybody have an idea what a difference could be? Or how I could further debug to find a difference in the way the request is made?
Or is there a possibility that amazon shows a better description of the error instaed of this generic error.

I would be very happy, if someone can help me.

Jens"
Product Advertising API	"Re: Sometimes get ""Service Unavailable"" with the Product Advertising API
Hi Jens,
I'm encountering the same issue exactly.
Did you find the cause? How did you solve it?"
Product Advertising API	"Re: Sometimes get ""Service Unavailable"" with the Product Advertising API
Experienced this too."
Product Advertising API	"Re: Sometimes get ""Service Unavailable"" with the Product Advertising API
If the sale of goods with your AssociateTag & AccessKeyId was zero in the 31 days before today,
AWS server may return HTTP status code 503 frequently.
This incident is what I have actually experienced several times.

Edited by: ""shomoku"" on May 18, 2018 4:50 AM"
Product Advertising API	"Re: Sometimes get ""Service Unavailable"" with the Product Advertising API
Hi,

from my side an update: After some time the problem was solved by itself. I didn't get the 503 reply anymore. But I couldn't find out what the reason actually was. I tried multiple things but none of them actually changed sth.

But today (half a year later), I had the same problem again. Again on one specific website. I also tried the same key-pair with the associate ID on another webserver. There is everything working without any problem.
So it's again the same problem. Would be very nice if someone can help me with that.

Best regards

Jens"
Product Advertising API	"Latest WSDL / Cannot convert type error
Could someone please tell me the location of the latest WSDL? The most recent one I can find is at:
Link: http://webservices.amazon.com/AWSECommerceService/2013-08-01/AWSECommerceService.wsdl

I am trying to use it, but getting the error message Cannot convert type 'KDPAdvantage_New.AWSECommerceService.ImageSet[]' to 'KDPAdvantage_New.AWSECommerceService.ImageSet'. It seems to be the same issue reported here: Link: https://forums.aws.amazon.com/thread.jspa?messageID=395285&#395285

I'm trying the fix specified in that thread, but the referenced sample code is no longer available anywhere. Thanks!"
Product Advertising API	"Re: Latest WSDL / Cannot convert type error
I'm not sure about your error, but this is the WSDL I have bookmarked:
https://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl

Although it's using the old namespace, I didn't notice any differences in the ImageSet element."
Product Advertising API	"Re: Latest WSDL / Cannot convert type error
Thanks, Morley. That's one of the 2 I've tried, and they both give me this error."
Product Advertising API	"I lost my AWSAccessKeyId
I mistakenly thought, the AWS account would be completely separate from the use of the Associates Program and Product Advertising API. So I thought, I didn't need the AWS any more and closed the AWS account. Now the Product Advertising API returns an error (invalid AWSAccessKeyId).

Basically, the AWS account can be reactivated within a period of 90 day, but the support refuses to do so, because I haven't entered a payment method, i.e. a credit card (which I never needed and never will need for Product Advertising).

Since I do not have and do not want a credit card (which is quite common in Germany), I have a big problem. I have created more than half a million $ Amazon.de revenue during the past 15 years with this Associates Program account. Should this silly incident be the end of the story?

Is there another way to get my AWSAccessKeyId  back?

Kind regards, Artus

Edited by: Artus on Jun 15, 2018 1:35 PM
Replaced  ""Partnernet"" (German name) by ""Associates Program"".

Edited by: Artus on Jun 15, 2018 1:39 PM"
Product Advertising API	"Re: I lost my AWSAccessKeyId
Ich blicke auch nicht mehr durch. Hatte die zweite Aufforderung von AWS per Mail erhalten, meine Daten zu aktualisieren und wollte mich heute damit beschäftigen. Nun sehe ich, das einzige was fehlt, sind Daten von einer Kreditkarte und Angaben zur Zahlungsmethode. Nur ich will ja nichts zahlen, sondern wie bisher erhalten. Innerhalb von Partnernet lese ich etwas von Product Advertising API, fand aber bisher keinerlei Hinweis, ob da irgendwie die verwendeten Scripts umgeschrieben werden müssen, wenn z.B. der QueryString andere Parameter erhält oder was weiß ich.

Also, nur ""Partnernet"" wird nicht genügen und wenn Du Deinen Account nicht mehr reaktivieren kannst, wirst Du wohl ein neues eröffnen müssen. Bleibt die Frage, ob das ohne Nennung einer Kreditkarte möglich ist und ewig bestehen bleibt. Weiß ja selbst nicht, was ich da angeben soll und wie das letztendlich enden könnte.

Zitat - ""Only the primary account owner of the Amazon Associate account can sign up for the Product Advertising API.""

https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingDev.html

Gruß Horst

Edited by: Horst on Jun 15, 2018 8:38 AM"
Product Advertising API	"Re: I lost my AWSAccessKeyId
Hmm ja, sieht wohl schlecht aus.

Die einzige Möglichkeit für ein AWS-Konto ohne Kreditkarte ist offenbar ein AWS Educate Starter Account für Schüler, Studenten und Lehrer von eingetragenen Bildungsorganisationen. 
https://aws.amazon.com/de/education/awseducate/apply/
https://www.awseducate.com/faqs

Grüße A.

Edited by: Artus on Jun 15, 2018 6:44 PM"
Product Advertising API	"Re: I lost my AWSAccessKeyId
Wenn ich sehe, was AWS alles für Leistungen anbietet, dann denke ich, wir bewegen uns da nur noch in einer kleinen Nische bei den Webservices-Angeboten und Amazon wird keine Ausnahmen mehr bei der Eröffnung eines Accounts machen.

Nach Punkt 4 scheint es nicht neu mit den Daten von einer Kreditkarte zu sein. 
https://thomaskekeisen.de/de/blog/anleitung-amazon-webservices-account-aws/

Ob es unbedingt eine Kreditkarte sein muss oder irgendeine Bankkarte mit einem bekannten Zeichen, sollte Amazon wohl egal sein, so lange da ein paar Cent als Bestätigung abgebucht werden können, denke ich. 
Probieren werde ich es vielleicht in den nächsten Tagen. Nur bisher dreht es mir noch den Magen um, meine Bankverbindung herauszurücken. Nicht das die am Ende doch einmal irgendeine Leistung abbuchen.

Was mich aber mehr wundert, im Forum von Abakus ist nichts zu finden, im Forum Partnernet ist nichts zu finden, gerade so, als hätte kein anderer ein Problem damit.  

Welchen Sinn das haben soll, die API zu wechseln, wenn doch praktisch kein Vorteil ersichtlich wird, verstehe ich noch nicht. Klicks und Vergütung wurden doch von Anfang an mit in den Statistiken von Partnernet angezeigt.

Edited by: Horst on Jun 15, 2018 11:30 PM

Jetzt stelle ich mich gerade etwas dumm an. Bei meinen Buchungen gebe ich ja die IBAN an und keine Kartennummer, wobei die Kartennummer bei einer Kreditkarte anders aufgebaut ist, als von meinen Karten. Dürfte wohl so nicht gehen.
Aber dann fiel mir ein, dass Amazon vor Monaten damit warb, eine Amazon-Kreditkarte/Visa Karte für Einkäufe zu benutzen. Nun frage ich mich, ob die nicht dafür brauchbar ist und welche Kosten dafür später anfallen?

Amazon Kreditkarten-Shop
https://www.amazon.de/b/ref=DE_VISA_MP?ie=UTF8&node=45963203"
Product Advertising API	"Re: I lost my AWSAccessKeyId
Eine Verwandte hat mir inzwischen eine ""nutzlose"" Kreditkarte für das AWS-Konto zur Verfügung gestellt. Die Karte war bei ihrem Pflegegeld-Bankkonto kostenlos mit dabei. Jetzt warte ich nur noch auf die Freischaltung.

Zuvor hatte ich mal nach kostenlosen Kreditkarten geschaut. Da gibt es einige, die mindestens zwei Jahre lang kostenlos sind (z.B. via Check24). Man kann die ja dann auch wieder kündigen. AWS ist zufrieden, weil die ehemalige Kreditkarte eingetragen ist und wird sicher nicht ständig prüfen, ob die noch gültig ist (erst nach Ablauf der Gültigkeit, i.d.R. nach fünf Jahren). Brauchen tut man die Karte für das Product Advertising API ohnehin nicht.

Grüße A."
Product Advertising API	"Re: I lost my AWSAccessKeyId
Nun wird mir klar, warum ich keine aktuellen Beiträge in anderen Foren fand. Diese Angabe einer Kreditkartennummer bei der Registrierung ist alles andere als neu, sondern wurde bereits vor etwa 5 Jahren eingeführt. Meine Anmeldung liegt aber 10 Jahre oder weiter zurück, war somit vor dieser Zeit.
Zwei Zitate:

April 2013
Jetzt lese ich da was wie: ... ""Für ein AWS-Konto ist eine gültige Kreditkarte erforderlich.""
https://www.lima-city.de/thread/amazon-api-kostenpflichtig

Juni 2014
... und man sich nur per Kreditkarte anmelden kann. 
https://www.lima-city.de/thread/amazon-api-kostenpflichtig

Habe zwischenzeitlich eine Karte bei meiner Hausbank beantragt.

Gruß Horst"
Product Advertising API	"Re: I lost my AWSAccessKeyId
Mir ging es ähnlich. Die Anmeldung liegt über 10 Jahre zurück.

Nachdem mein AWS-Account endlich wieder aktiviert wurde, lief die Product Advertising API übrigens trotzdem noch nicht. Ich habe aber herausgefunden, woran es lag: die alte AWSAccessKeyId (plus Security-Key) waren ungültig geworden. Ich musste erst ein neues Key-ID / Security-Key - Paar generieren und damit läuft das API schließlich wieder.

Grüße A."
Product Advertising API	"No child items from a parent Merch t-shirt listing anymore?
If I remember months ago, I was able to get all the varied t-shirt colors, sizes, and child item ASIN's from Amazon Merch T-shirt listings.  Did that get taken away?  Why?  I've tried all types of ResponseGroup combinations including VariationMatrix, but always just returns only the info of the submitted ASIN, whether it is a parent or a child."
Product Advertising API	"Re: No child items from a parent Merch t-shirt listing anymore?
Have a look at this thread:
https://forums.aws.amazon.com/thread.jspa?messageID=821675

It seems they're using a ""customId"" parameter in the URL to designate the different variations, but when I run requests with the custom IDs, the response says that they're not accessible through the Product API."
Product Advertising API	"Re: No child items from a parent Merch t-shirt listing anymore?
well that's just disappointing!   I really hope this gets their attention and make changes."
Product Advertising API	"Offers group not coming back at all when requested
I'm developing a site for a client that has working Product Advertising API credentials and via code or in the scratchpad when I request any of the offers groups they are not returned, the rendered response always has N/A in the price and the XML is missing the node entirely.  The site is a bargain book site and we want to remove the books when they are no longer on sale, so we are checking prices.  I have tried adding all 23 of the response groups but related items and prices are not returned in any node in the XML including all with offers and variations in them.  I would post a screen shot but now I'm getting this even if I wait 5 minutes before retrying:

Error! RequestThrottled
HTTP Status 503: Service Unavailable
AWS Access Key ID: &ltAccess Key Removed&gt. You are submitting requests too quickly. Please retry your requests at a slower rate."
Product Advertising API	"Re: Offers group not coming back at all when requested
Are you saying that every response is a ""throttled"" error, or only when you were trying to post an example?"
Product Advertising API	"Re: Offers group not coming back at all when requested
Only trying to post an example, it's working now.

Attached is an example call.  No matter which item groups we select or which ASIN we pass in we cannot get any prices returned, or any offers or variations at all.

Edited by: Ryan D. White on Jun 7, 2018 1:16 PM"
Product Advertising API	"Re: Offers group not coming back at all when requested
It's because that's a Kindle eBook. See this:
https://forums.aws.amazon.com/ann.jspa?annID=854

However, you may be able to display the price if you include a custom Native Ad on the page."
Product Advertising API	"Re: Offers group not coming back at all when requested
It says list prices are available but I do not see that anywhere in the response, where would that fall under?

This sites lists books on sale submitted by the authors and we are trying to use the API to automate removing them when they are off sale, if we cannot get the price we cannot do that."
Product Advertising API	"Re: Offers group not coming back at all when requested
I'm not seeing list prices for eBooks either, so I guess that part has changed since the post (2010). It would normally be under Items/Item/ItemAttributes. You may have to work out a different method to get that information unfortunately."
Product Advertising API	"List of authors and/or books in a specific genre
Before I start down the rabbet hole, I am hoping that someone can tell me whether or not what I want to do is even possible.

What I am wanting to do is generate a list of all Authors in a specific genre similar to the results you get when you drill down on genres in Kindle Books listing.  This is the result from drilling down to the ""Kindle Store:Kindle eBooks:Science Fiction & Fantasy:Science Fiction:Post-Apocalyptic:Author""

Link: https://www.amazon.com/gp/search/other/ref=lp_6361471011_sa_p_lbr_one_browse-bin?rh=n%3A133140011%2Cn%3A%21133141011%2Cn%3A154606011%2Cn%3A668010011%2Cn%3A158591011%2Cn%3A6361471011&bbn=6361471011&pickerToList=lbr_one_browse-bin&ie=UTF8&qid=1527965532

I am hoping to be able to generate this list, and if possible sort it by sales rank and/or review ranking.

I am also hoping to be able do this for Series in a specific genre.

Any help would be much appreciated.

Thanks,

Eric"
Product Advertising API	"Join button to access Amazon Product Advertising API is disabled
After I signed up for my Amazon Associates account, I went to the Amazon Product API Page but the Join button was disabled. I'm not sure why and there weren't any other instructions on the page ti able the button. 

Does Anybody have any suggestions?

Thanks in advance."
Product Advertising API	"Re: Join button to access Amazon Product Advertising API is disabled
See this post for the recent policy regarding new Associates and the Product API:
https://engagedforums.com/discussions/Amazoncom_Associates/Discussions/am-associhelp/1?tsn=14&nav=messages&tid=50421"
Product Advertising API	"API making Products  UNAVAILABLE
All my products now show Unavailable, but the amazon API is syncing fine,  amazon also says my API is fine. 

Any suggestions? 

I have 15 sites and all products now show unavailable but are available on amazon. 
I did a woocommece update 2 days ago, this issue happen shortly after

Example page:  https://telescopedeals.gebranding.com/shop/vivitar-tel76700-263x-525x-telescope-reflector-with-tripod-black

Steps I've Taken

1. Uninstalled All Plugins and Cached.
2. Created New API and Key
3. Changed Amazon affiliate ID

Any Suggestions?

Edited by: CEO2 on May 29, 2018 2:10 AM"
Product Advertising API	"Re: API making Products  UNAVAILABLE
You should raise an issue with the plugin authors:
http://www.wzone-plugin.com/

The API is responding correctly, so it must be the plugin."
Product Advertising API	"ItemAttributes missed PublicationDate
Hi there,
im new Aws api, i just use scratchpad to post.
this is my Unsigned URL:
http://webservices.amazon.com/onca/xml?Service=AWSECommerceService&Operation=ItemSearch&SubscriptionId=&ltAccess Key Removed>&AssociateTag=greatfamily-20&SearchIndex=Fashion&Keywords=3 piece Dad Daddy Daughter Stole My Heart these girls kids Fathers Day Pendant Necklace Keychain Set&ItemPage=1&ResponseGroup=ItemAttributes 
But in response xml  ItemAttributes missed PublicationDate, 
How to get it.

Thanks you"
Product Advertising API	"Re: ItemAttributes missed PublicationDate
Have a look here to see the full list of potential ItemAttributes:
https://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl

Although PublicationDate and ReleaseDate are both listed, I believe those are merchant-provided values, not the date that items are first made available through Amazon. I don't think the ""first available on Amazon"" data is available through the API."
Product Advertising API	"Can not join PA API without site review, can not build site without API
There seems to be a chicken-and-egg problem here. 

I am an AWS developer. I would like to use the Product Advertising API. I followed the steps described in the documentation, e.g. https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingAssociate.html 

However, upon selecting the PA API from the Tools menu, I am given this message: ""Registration for the Product Advertising API is only available to Associates that have been reviewed and received final acceptance in to the Associates Program. ""

How can I develop a web service without access to the API? The service will not exist until I develop it, so there is nothing to review - ! 

Thanks
John"
Product Advertising API	"Re: Can not join PA API without site review, can not build site without API
Yeah, they made this policy change fairly recently. They should definitely have some kind of sandbox for building applications, but unfortunately using the beta endpoint http://beta.ecs.amazonaws.com/ still requires production credentials. Also, Amazon is pretty strict in their requirement that the site have substantial original content prior to getting approval for the Associates program, so that's another obstacle."
Product Advertising API	"Product Advertising API - is it the correct way of working?
Hello, I am building a mobile application and I am trying to use the Product Advertising API in it to fetch Amazon products to display to my users in the app. 
The way I am working with it is the following: 

the user enters a phrase
this phrase is sent to my backend server
my backend server makes a request to the Product Advertising API Item Search with my AWS_KEY, ASSOCIATE_KEY, SECRET KEY etc., parses the XML response and send info such as detailPageUrl, formattedPrice, imageUrl, title back to the mobile app.
on the mobile app I use the info that my server sent in order to build custom html product boxes, and add a button saying ""Go to amazon"" or whatever with a link to the ""detailPageUrl"" I received from my server. After clicking the link, the user is taken to the amazon page with my referral tag.


The questions are: is this a valid and legal way of working with the Product Advertising API? Can I use my own, hand-made, custom product boxes? Are there any rules I should remember about, like putting an amazon logo somewhere or something?

Please help and share your advice 
Regards

Edited by: Kabad on May 7, 2018 11:15 PM"
Product Advertising API	"I want to get multiple price from Single ASIN
Hi,

I want to get all price of all available sizes. Please refer this product:
https://www.amazon.com/3M-Buffer-5100-Floor-Machine/dp/B006LW2YVE/ref=sr_1_1?ie=UTF8&qid=1525334328&sr=8-1&keywords=3M+Red+Buffer

This product has different different sizes & prices but when I get the details via API(PHP) it's showing only price of 12inch but I want to capture all the prices for available sizes(12,13,14,15 inchs). I'm using following response groups:
ItemAttributes,Large,OfferFull,Offers,PromotionSummary,OfferSummary,Variations,VariationSummary,VariationMatrix,VariationOffers

 Please let me know that how can I get it.

Thanks"
Product Advertising API	"Re: I want to get multiple price from Single ASIN
I just verified that the API is returning offers for that item's variations. You'll have to share the code that's iterating through the results."
Product Advertising API	"Re: I want to get multiple price from Single ASIN
Hi Morley,

Thanks for your reply. I have attached the output of API. Please refer that also Offers object doesn't show any variations.

Please let me know."
Product Advertising API	"Re: I want to get multiple price from Single ASIN
The problem is, you can't get variations using a child ASIN. Change your call to use the parent ASIN, B006LW2YVE as the ItemId, and it will work."
Product Advertising API	"Order Management Software
We're looking for existing software that can help us manage an Amazon webstore with everything from inventory control to order management.We've seen both Mercent and Monsoon but would like to know if there are any other software packages that are comparable to Monsoon.Your feedback is appreciated.Rey"
Product Advertising API	"Re: Order Management Software
Copy from another thread:http://developer.amazonwebservices.com/connect/thread.jspa?threadID=16073&tstart=0Amazon ECS does not provide detailed customer order information.  You'll want to take a look at one of the seller supported services. The below tech note includes a link to a new seller forum, where you will find more information. <span style=""color: #003399"">http://developer.amazonwebservices.com/connect/entry.jspa?externalID=215&categoryID=53</span>"
Product Advertising API	"Re: Order Management Software
InfiPlex OMS is a new system that is connected to Amazon.com and all of the other major marketplaces -  https://infiplex.com/?tak=RQUCWYY8JE ."
Product Advertising API	"Order Management
Are there any ""Order Management"" web services available? Being able to get a sales report and process order fulfillment and post shipping via web service would be helpful."
Product Advertising API	"Re: Order Management
Not sure if it is what you are wanting but have you looked at Monsoon?http://www.monsoonworks.com/main/Jim"
Product Advertising API	"Re: Order Management
InfiPlex OMS is a new system that is connected to Amazon.com all of the other major marketplaces -  https://infiplex.com/?tak=RQUCWYY8JE ."
Product Advertising API	"ItemLookup Call - Movie/TV Purchase Options
Hey,
I'm trying to retrieve some data (price, buy/rent, HD/SD) about movies and tv shows using the API, but so far I only get the object price.
Is it even possible to get the other data that I need?
I am attaching a screenshot with the data I need from the Amazon movie page (in this example, wonder woman)."
Product Advertising API	"Re: ItemLookup Call - Movie/TV Purchase Options
Looks like your screenshot didn't get attached."
Product Advertising API	"Re: ItemLookup Call - Movie/TV Purchase Options
Thanks,
Attaching the screenshot again."
Product Advertising API	"Re: ItemLookup Call - Movie/TV Purchase Options
Try adding RelatedItems to your response groups list. You can use RelationshipType=AuthorityTitle to get the ""parent"" item. From there, you should theoretically be able to retrieve the ""children"" although that part is fairly confusing since there's a very limited set of relationship types you can specify. Here's the documentation on relationship types:
https://docs.aws.amazon.com/AWSECommerceService/latest/DG/Motivating_RelatedItems.html#RelationshipTypes"
Product Advertising API	"Amazon Fresh Support?
Hi. I am building a program that allows users to view prices and add items to a remote cart on an external webpage. They are then able to checkout via amazon, all tasks within the purview of the product advertising API.

Some products that I need to add are only listed on AmazonFresh. I am able to do an ItemLookup but a price is not returned. Also, I cannot add them to my cart. My research leads me to believe that this is not supported with AmazonFresh products but it would be immensely helpful if I could get confirmation on this.

Can AmazonFresh products be added to a remote cart? If so, is it a matter of the user's location (i.e. in a AmazonFresh area?)"
Product Advertising API	"1
1"
Product Advertising API	"Blocked IP address?
Hi
We have a site with about 8000 book reviews made by our members and wanted to get the correct links to start offering purchase books from Amazon. I wrote a script that ran through our isbn lists, captured the result of a ItemLookup call and stored the xml for offline processing. The first 1000 ran fine, one call every 10 seconds. I left the script to continue running and when I came to it this morning I found that my server cannot connect to any amazon.com, amazon.co.uk domain. I can't even ping or traceroute.
My script was within the efficency guidelines so i'm not sure what has happened.
Please can someone get back to me. My ip was 91.109.10.95 

Thanks for any advice

Mark"
Product Advertising API	"Re: Blocked IP address?
Call your ISP. The symptoms you describe don't sound like anything Amazon would or could do. At most, you would get a rejection from Amazon's servers, but the inability to ping them sounds like your web service provider cut you off."
Product Advertising API	"Re: Blocked IP address?
According to my ISP, they could not ping any of the amazon domains either but could call them up in a web browser. They said to ask Amazon if they've selectively blocked the IP!
So round we go.
M

p.s. I tried using wget to access amazon.co.uk and that worked fine. 
Tried using wget with the correct webservices.amazon.co.uk call and get a failed connection timed out.

Edited by: Mark Fleeson on Apr 13, 2016 11:29 AM"
Product Advertising API	"Re: Blocked IP address?
Your story might be interesting when paired with this other one in which a real Amazon Rep posted an answer. The answer seemed to indicate that the Associate Program is cracking down on certain usage profiles. 

What might be interesting is if your usage is contrary to the TOS in which they demand that you give them web traffic. (That is the stated purpose of the Product Advertising API.) So, do you have a website that currently has Amazon links on it? And do they know about the site? If so, then disregard this wild guess. But if you don't (yet) have links, then perhaps your usage looked like abuse to them and after a few thousand queries they cut you off. 

I haven't heard of Amazon taking such actions before, but perhaps they are doing so now.

Edited by: K. Lucius on Apr 13, 2016 2:32 PM"
Product Advertising API	"Re: Blocked IP address?
It sounds possible, the site currently has not generated traffic to them as the old managers didn't want to sell through it. The new people do hence my job of trying to get asin links to put on the site. 
This is really a one time access to get the asin links to pass business to Amazon with the occasional update to add new titles to our review site.

Weirdly though, my access credentials still work from other ip addresses.

Thanks

Mark"
Product Advertising API	"Re: Blocked IP address?
Same thing happen with me.

My ISP IP range 202.189.226.10/14 blocked by amazon.

following websites are not open with the IP.

http://static.digg.com/static/fe/1aa0ea/css/bs/digg_v2.css
https://cdn.pearltrees.com/v2/vendor/bootstrap/css/bootstrap.min.css
https://d3h5jhobc20ump.cloudfront.net/3d6aace85b97884c22a06e8b9cd8b99e.css

and so on.

The common point of all this domain is, They are hosted in AMAZON server.

Please suggest me how to unblock IP rage from amazon server.

Thanks in advance"
Product Advertising API	"Amazon API Details Invalid
Hi there, i have been uploading products the last couple of days to my worpress website and now they don't connect to amazon API.

I have downloaded new keys and that doesn't work either please advise

This is the error message ""Amazon API Details Invalid""

its happened to three websites."
Product Advertising API	"Re: Amazon API Details Invalid
You're going to have to provide more details such as the locale, programming language, affected ASINs, etc. I haven't come across that particular error in testing or production. Check the message instead of the code for more details on the specific error.
https://docs.aws.amazon.com/AWSECommerceService/latest/DG/ErrorCodesAndMessages.html

Edited by: Morley Tatro on Apr 18, 2018 11:04 AM"
Product Advertising API	"Re: Amazon API Details Invalid
Hi there, i am not a programmer but here is the error message, the website were working ok a few hours ago now none other them work

Fatal error: Uncaught exception 'Exception' with message '<h1>Amazon API Details Invalid</h1>We could not connect to Amazon because your Amazon import settings are incorrect.' in /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-content/plugins/wlt_amazon/class/class_amazon.php:8 Stack trace: #0 /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-content/plugins/wlt_amazon/class/class_amazon.php(178): AmazonProductAPI->verifyXmlResponse(false) #1 /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-content/plugins/wlt_amazon/wlt_amazon.php(1073): AmazonProductAPI->CreateCart(Array, 'co.uk') #2 https://forums.aws.amazon.com/: _new_checkout_steps('') #3 /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-includes/class-wp-hook.php(286): call_user_func_array('_new_checkout_s...', Array) #4 /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-includes/class-wp-hook.php(310): WP_Hook->apply_filters('', Array) #5 /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-includes/plugin.php(453): WP_Hoo in /homepages/4/d640547588/htdocs/submersiblepumpsupplier/wp-content/plugins/wlt_amazon/class/class_amazon.php on line 8"
Product Advertising API	"Re: Amazon API Details Invalid
That error isn't coming from the API itself. It looks like you're using a Wordpress plugin to connect to it. This one, perhaps?
http://www.premiumpress.com/forums/topic/amazon-import-tool/

Try running a request through the scratchpad with your credentials and report back with the actual API error message:
https://webservices.amazon.com/scratchpad/"
Product Advertising API	"Re: Amazon API Details Invalid
The plugin gets the product information from Amazon API, it is on three different websites and they all have stopped working, does amazon block too many api requests?

How do you use scratchpad? I don't understand what to do, i go to the page and don't know what to do next., thanks for your help so far."
Product Advertising API	"Re: Amazon API Details Invalid
Yes, Amazon does throttle depending on certain factors. Read about it here:
https://docs.aws.amazon.com/AWSECommerceService/latest/DG/TroubleshootingApplications.html#efficiency-guidelines

Did you update the plugin on all three sites right before the errors started? For the ScratchPad, click ItemLookup on the left side and then enter your credentials in the top section. Then enter an ASIN in the ItemId field and click the ""Run request"" button. Then you can scroll down and check the response."
Product Advertising API	"Amazon Associates account disabled with access to Product Advertising API
Hello to whom it may concern, 

Last week our Amazon Associates account was revoked by Amazon. 

Because of this, we lost access to the PA API. 

We have entered in support tickets and have been told we violated policy, but have not been told how we violated policy. 

We've been using the API to get prices of books and items we list, before listing to Amazon. 

We only opened the Amazon Associates account because it was required to continue using the PA API, and we have not touched it after opening it. 

Is there any way to escalate this with Amazon? We got a reply from our last support ticket saying that all future support tickets would be ignored. 
Is there any alternative API that Amazon has that would allow us to get the same information we would get from ItemLookup? 

It has been pretty frustrating because all our support tickets have been met with what seems like automated canned replies. I feel like if we could talk with someone from Amazon this could get resolved. We still are uncertain what we did to even cause a policy violation at this time.

Any hope for a path forward here? Or are we just 100% out of luck?"
Product Advertising API	"Re: Amazon Associates account disabled with access to Product Advertising API
I don't think you're going to have any luck with the API since it's now restricted to Associates who drive traffic to Amazon:
https://forums.aws.amazon.com/ann.jspa?annID=4737

You may want to look into an outside service, such as this:
https://asinscout.com/"
Product Advertising API	"Digital items with OfferListingId are not being added to remote cart
Hello all,

I noticed that some products (i.e. B004KPX4W2) returns an OfferListingId but trying to use that in a CartCreate or CartAdd operation results in the product not being added to the cart at all. The API doesn't return any response that indicates that the product was not added to the cart, actually it just returns a successful response with CartId and HMAC, but upon checking the CartId, it's always empty. 

In the ItemLookup response, it returns an Availability : ""Usually ships in 1-2 business days"" parameter, so I don't think trying to filter by the Availability value would work.

Is this a bug or am I missing something?

Edited by: thomm11 on Apr 16, 2018 4:48 AM"
Product Advertising API	"Re: Digital items with OfferListingId are not being added to remote cart
Yeah, it's been that way for as long as I've been working with the API. It's unfortunate, but that's the reality. You'll probably want to filter out digital items so as not to give people the impression that they can add them to your remote cart. I just provide a link to the Amazon page in place of an add to cart button when a digital product is loaded."
Product Advertising API	"Re: Digital items with OfferListingId are not being added to remote cart
Thanks for the confirmation, also may I know how are you filtering out digital products?"
Product Advertising API	"Re: Digital items with OfferListingId are not being added to remote cart
I check to see if the value for Item/ItemAttributes/ProductTypeName is in the following list:

'ABIS_EBOOKS',
'ABIS_DOWNLOADABLE_SOFTWARE',
'ABIS_GIFT_CARD',
'EBOOK_BUNDLE',
'DOWNLOADABLE_AUDIO',
'DOWNLOADABLE_MUSIC_TRACK',
'DOWNLOADABLE_MUSIC_ALBUM',
'DOWNLOADABLE_TV_EPISODE',
'DOWNLOADABLE_TV_SEASON',
'DOWNLOADABLE_MOVIE',
'MOBILE_APPLICATION',
'PAYMENT_CARD',
'ELECTRONIC_GIFT_CARD',
'PRIME',
'CONSUMER_SERVICES_SUBSCRIPTION',
'NEWSPAPER'

If you come across any additional digital types not in this list, please share them."
Product Advertising API	"Re: Digital items with OfferListingId are not being added to remote cart
Thanks a lot for the info!"
Product Advertising API	"API approval pre-launch
Hi,
I have a chicken-and-egg problem. I'm trying to get approval for the Product Advertising API for a site I haven't built yet. This is not an add-on to an existing site; in order to launch anything, I'll need to develop against the API.

I stated this in my application but was denied for the following reasons:


Lack of content which is original to your site and beneficial to your visitors
Pages that are mainly empty when advertisement content is removed


The site I'm developing currently consists of a single page with a logo, so it's understandable if the review requires a public site, but it's a bit frustrating that there doesn't seem to be a way to accommodate someone in my situation.

I don't suppose I've missed a way to get ""test only"" credentials? I could develop a minimal, static site with some content just to get approval but this would be a waste of time, and doesn't seem in the spirit of the approval process anyway.

I'd appreciate any advice on this, or help from someone at Amazon who could help with approval. Thanks!

Edited by: xuku on Apr 16, 2018 10:47 AM"
Product Advertising API	"Amazon Products Only (First Party) via ItemLookup
Hi,

When I provide MerchantID=Amazon in the ItemLookup API, I receive back MerchantID=Deprecated.

Is there any way to identify which product in the response is sold by Amazon direct?

Thanks."
Product Advertising API	"Re: Amazon Products Only (First Party) via ItemLookup
I'm not seeing the deprecated message when I include MerchantId=Amazon in my requests. Note the capitalization of MerchantId. The other thing you can do is include OfferFull in the response groups parameter and then look for Amazon.com here:
ItemLookupResponse / Items / Item / Offers / Offer / Merchant / Name"
Product Advertising API	"SimilarityLookup - multiple pages of results possible?
When using SimilarityLookup with an Item, is it possible to specify pages of similar items beyond the first?  is there something like a SimilarityPage parameter that can be passed in with the REST URL?  Any help appreciated, thanks in advance."
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Any Amazonians out there who could comment on this question please?"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Hi all,
I have the same need: multipages results for SimilarityLookup operation, which I guess isn't possible, or for ItemSearch & ItemLookup operations with Similarities response group, which should exist according to the documentation: it says the Similarities response group returns a TotalPages value. I never managed to get this value in the response.
Is the documentation incorrect?
Did someone find a workaround?
Best,
SM"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
The documentation is a bit contradictory and misleading on this point.  I think the following from the documentation is true though...""...A maximum of ten similar items are returned; the operation does not return additional pages of similar items. if there are more than ten similar items, running the same request can result in different answers because the ten that are included in the response are picked randomly...""If you want more than ten the only option is to submit another request and add any new ones to the list.Jim"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Thanks; however the reality (I observed) is that running the same request usually results in exactly the same answer. It's a strong limitation of the possibility to help users discover other products starting from a product of interest... Does Amazon plan to enhance Similarities response group or SimilarityLookup?"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
My problem is that I can't find an item with 10 similar items so assuming it requires at least 10 to have a chance of having more and thus generating different results I can't really say what it does on that front...Hope you find a good answer...Jim"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
In the Music department, all items seem to have around 100 similar items. For example the request...

http://ecs.amazonaws.com/onca/xml?Service=AWSECommerceService&Operation=SimilarityLookup&ResponseGroup=Small&SimilarityType=Random&AssociateTag=YourTag&AWSAccessKeyId=YourKey&ItemId=B00192KCQ0

...answers the same set of similar items every time, whereas the product page displays many more :

http://www.amazon.com/Death-Magnetic-Metallica/dp/B00192KCQ0/ref=pd_bbs_sr_1?ie=UTF8&s=music&qid=1222187968&sr=8-1

Stephane"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Wish I had an answer.  As you noted, it doesn't change as the documentation says it should.  Also, when I use the Similarities ResponseGroup it only returns five items.Jim"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Hi,The SimilarityLookup operation only returns random results when you specifiy more than 1 item:http://docs.amazonwebservices.com/AWSECommerceService/2008-08-19/DG/SimilarityLookup.htmlI'll agree that this fact isn't so obvious the first time you read.  We'll review the documentation and see if we can improve it.  We'll also see about a documentation update for the Similarities ResponseGroup.In regards to ""multipages results for SimilarityLookup operation"", we'll add this as a feature request.Regards,JoeJ"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Thanks JoeJ. We hope this feature will be available soon!
Best regards,
Stephane"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Stephanie, When do you expect this feature to be released?"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Hi JoeJ,When do you expect this feature to be released?Stephane"
Product Advertising API	"Re: SimilarityLookup - multiple pages of results possible?
Any news on this feature? I'd really like to have it also. Not holding my breath since this thread is nearly 10 years old."
Product Advertising API	"Some Numeric Character References are not correctly encoded
Hi

I've found PA API's response in Numeric Character References are not correctly encoded.

I'm using PA API in JP, and hiragana is not correctly encoded.

For intance hiragana""の"" is ""&#x306e;"" in Numeric Character Reference, but PA API returns ""&amp;#x306e;"".

I hope it will be fixed or is there any work around?"
Product Advertising API	"Re: Some Numeric Character References are not correctly encoded
Do you have an example ASIN to share?"
Product Advertising API	"Re: Some Numeric Character References are not correctly encoded
Now it seems the API is fixed. mmm...

I attached a part of response on yesterday anyway.

I hope it won't happen again..."
Product Advertising API	"Get all features and descriptions
Hello,

for my tool I need the title, description and features from an ASIN. Often thats not a problem. Im taking the large responseGroup and can access the datas.
Normally i take:
$response->Items->Item->ItemAttributes->Title;
$response->Items->Item->EditorialReviews->EditorialReview->Content;
$response->Items->Item->ItemAttributes->Feature;

Works mostly perfekt all the time.
But at some specific ASIN, I dont get a EditorialReview and not all Features.
When the ASIN is a parent ASIN, then there are sometimes missing some Features, for example (B00RDBLJ9U). On the webpage i have 8 features, AmazonECS only response 5 Features and i dont know where i can find the other features.
And at some ASINs, I dont get an EditorialReview, so no description of the item. I checked all responseGroups and have no idea where I can find the description. For example this ASIN(B01M7UFWSE). Its has two descriptions, but none of them are in the $response = $amazonEcs->responseGroup('Large')->lookup($asin); response.

Anyone know where I can find them?"
Product Advertising API	"Re: Get all features and descriptions
I don't have any advice for the first situation (truncated features list), but I think the actual features are the five returned, and that Amazon's site code is incorporating additional details that aren't available through the API.

In the second case, I confirmed that the description is available here:
$response->Items->Item->EditorialReviews->EditorialReview->Content;

In some scenarios, I have noticed that the API doesn't return a description when the onsite one has a bunch of enhanced content through Brand Registry."
Product Advertising API	"Re: Get all features and descriptions
Thanks Morley Tatro,

I had the same idea about the features but couldnt confirm it, thanks.

To the second scenario, what was your request?
I tried the following 3 requests and none of them had the editorial review in it. The request are in PHP with the amazonECS.class.php:
$response = $amazonEcs->responseGroup('Large')->lookup(""B01M7UFWSE"");
$response = $amazonEcs->responseGroup('Medium')->lookup(""B01M7UFWSE"");
$response = $amazonEcs->responseGroup('EditorialReview')->lookup(""B01M7UFWSE"");"
Product Advertising API	"Re: Get all features and descriptions
I just ran a regular ItemLookup request and was able to retrieve it with either ""Medium"" or ""Large"" response groups. This was using a Node library as well as a PHP one, though not the same one you're using. It's definitely in the response."
Product Advertising API	"Too many request error
Using the Product Advertising api - The end point is - http://webservices.amazon.com/onca/xml , we are getting the  error - You are submitting requests to quickly. Please try submitting request at a slower rate.

Please help resolve the issue by either increasing the requests per second or let us know whats the accepted wait time between 2 requests.

Error video - http://www.screencast.com/t/aJy2f40p1txD"
Product Advertising API	"Re: Too many request error
Generally, the limit is 1 request per second, which increases with revenue generated. Here are some links for handling throttling:

https://docs.aws.amazon.com/AWSECommerceService/latest/DG/TroubleshootingApplications.html#efficiency-guidelines
Note the additional per-day restriction of 8,640 until you're fully accepted into the program.

https://docs.aws.amazon.com/general/latest/gr/api-retries.html"
Product Advertising API	"ASIN BrowseNodeID Name is not the same as DP webpage's catalog name???
ASIN:B00ECHYTBI
AD api responsed browse node id:166870011
AD api responsed parent browse node id and name :165796011,Baby Products->safety->monitors
ASIN detail page cataglog name: #1 in Baby > Safety > Monitors

why ？ how can I get the relationship between baby and baby products."
Product Advertising API	"API calls return ""Website Temporarily Available"" HTML for 2 days now
Hi guys!

I've been successfully using the Product Advertising API for 6 months on my website.
A couple of days ago, I started running into a very strange and severe problem:

Every 10-20 API calls I make, the API starts returning an HTML response of ""Website Temporarily Available"" with this image inside: http://g-ecx.images-amazon.com/images/G/01/website/errors/503/generic.png
I suspected this may be throttling, but it doesn't make sense, as I'm using the API at a very slow rate (1 request every 3 seconds).
Clue #1: If I stop making API calls for 15 minutes or so, things go back to normal, but once I make a dozen more API calls, the problem returns. This is unbearable.
Clue #2: This phenomena doesn't happen when I'm making those API calls from my home PC (Israel), only when I make the same API calls from my Amazon EC2 instance (Virginia, USA)

I'm running out of ideas, guys.
Any idea what might cause this problem, or how to solve it?

_____________________________
This is the HTML I get when making API calls:
<!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"">
<html xmlns=""http://www.w3.org/1999/xhtml"">
<head>
<meta http-equiv=""Content-Type"" content=""text/html; charset=iso-8859-1"" />
<title>Website Temporarily Unavailable</title>
</head>
 
<body>
<p> </p>
<center><img src=""http://g-ecx.images-amazon.com/images/G/01/website/errors/503/generic.png"" alt=""website temporarily unavailable"" width=""500"" height=""300""></center>
</body>
 
</html>


Edited by: Montigo on Jan 25, 2018 12:32 AM"
Product Advertising API	"Re: API calls return ""Website Temporarily Available"" HTML for 2 days now
Experienced this too."
Product Advertising API	"API integrate with network load balancer
HI,

I have trying setting up micro-service architecture , main goal is need to create API with end point should connected to load-balancer target group , 
API end point we can connect a single ec2-instant , but if i connect single system if any new system come up with auto scaling it should not work out of diagram, mean in this new ec2-instant need to configure manually for API again.
. but the same if new system comes inside the group just like application load balancer (scaling is happening  only inside the target group) it should work .
here what am doing is API trying to connect with target group that is working under network load balancer .
I have create VPC endpoint using below url 
https://aws.amazon.com/blogs/aws/aws-privatelink-update-vpc-endpoints-for-your-own-applications-services/

and API integration with NLB 
https://docs.aws.amazon.com/apigateway/latest/developerguide/getting-started-with-private-integration.html
But i have created using below things
created endpoint service in inside VPC first ,then created end-point  and added end point service ID  ,  that ID given to API  integration point resours method using VPC link .
but the problem is we need give endpoint url , i think that should be a target group ID inside the NLB,
because we can not use ec2-instant url here , as per the micro-service architure .

Edited by: shufi on Mar 7, 2018 1:14 AM

i will explain one again , 

 Need end point url working with API (API using for versioning and staging like http://domainname.com/V1/login), and end point should be a network load balancer target group , because it will get high availability and scaling (in one group many ec2-instent can run).

like that ween to create many services like login, booking, accounts , list etc.."
Product Advertising API	"MP3 search does fuzzy matching and is sometimes wrong. How can I fix that?
Hi,

Let's say I'm looking for this MP3.

Artist: Jack & Jack
Song: Groove

I try this API call:
http://webservices.amazon.com/onca/xml?Service=AWSECommerceService&Operation=ItemSearch&Author=Jack%26Jack&Title=Groove&SearchIndex=MP3Downloads

It does a fuzzy search and gives me this incorrect album:
http://www.amazon.com/1984-Jack-Grooves-Remix/dp/B00704BPB2

I happen to know the UPC for this MP3 (it's 872133936255). But Amazon doesn't seem to allow UPC searches in the ""MP3Downloads"" SearchIndex. 

And the ""All"" SearchIndex shows zero results for any MP3 UPC.

Is there a way to do a non-fuzzy search of MP3s? Say if I know the UPC or ISRC. Or something else...?

Note: The particular example I'm giving, is of an album that's actually not in Amazon yet (it was just submitted via a third party, and will be live in 2-3 days). But the problem exists for any MP3. For example, here's a UPC of an album that's definitely in Amazon: 840090155545. But there's no way to search for it.

Edited by: pud on Nov 21, 2014 2:42 AM"
Product Advertising API	"Re: MP3 search does fuzzy matching and is sometimes wrong. How can I fix that?
Unfortunately, you can only fix that by querying the ASIN in an ItemLookup. Since that isn't an option: an ItemSearch should return 10 items on the first page. You are apparently taking the first item as the one returned by the API. Instead you should iterate through them all comparing the returned data with whatever data you were trying to match. 

I think it is impossible to simply take user input and return a definitive match. Possible for some items with unique titles or authors, but mostly unreliable. Any match will have to be validated by a human brain. Once validated, you should record the ASIN so you need not rely on the ItemSearch to refresh the data."
Product Advertising API	"Re: MP3 search does fuzzy matching and is sometimes wrong. How can I fix that?
Did you ever solve this?

I notice that on many websites, the 'Amazon Music' link maps directly to an individual track. From my understanding - the affiliate API only lets you link to album level (using UPC).

I want to link to individual tracks using the API, without having do this manually each time using ASINs. 

I want to get amazon ASIN's by posting UPC and ISRC values, at a track level - not album. Can you use ISRC lookups via the API?

It is for a personal project I'm working on.

Examples of websites that do this:
http://top40-charts.com/chart.php?cid=27
https://hypem.com/popular"
Product Advertising API	"Individual [music] track lookup from non-ASIN indetifier
I notice that on many websites, the 'Amazon Music' link maps directly to an individual track. From my understanding - the affiliate API only lets you link to album level (using UPC).

Can someone advise me how to link to individual tracks using the API? Without having do this manually each time using ASINs. 

I want to get amazon ASIN's by posting UPC and ISRC values, at a track level - not album. Can you use ISRC lookups via the API?

It is for a personal project I'm working on.

Examples of websites that do this:
http://top40-charts.com/chart.php?cid=27
https://hypem.com/popular"
Product Advertising API	"Amazon Advertising API not showing a listing in Search but does in Lookup
On the scratch pad, if I use the ItemSearch function with Keyword=""B0779W5BLS"" and MerchantId=Amazon restriction then it does not return a result. Even though the item is in stock and is being sold by amazon. However, if I use the ItemLookup function with the same parameters it works correctly and the listing is returned.

Seems like the API has a bug?"
Product Advertising API	"Re: Amazon Advertising API not showing a listing in Search but does in Lookup
Searching by ASIN on the Amazon site doesn't pull up the item either; I believe that's the intended behavior. If you already know the ASIN, why would you make an ItemSearch call instead of an ItemLookup one?"
Product Advertising API	"Re: Amazon Advertising API not showing a listing in Search but does in Lookup
It is not the intended behavior. You can search by ASIN and it does come up for other items. The reason it didnt show up in your search is because I forgot to specify that this is on Amazon.ca. I couldnt post until now, and it seems to be fixed at this point."
Product Advertising API	"Re: Amazon Advertising API not showing a listing in Search but does in Lookup
Ah, fair enough. Glad it's squared away now."
Product Advertising API	"Re: Amazon Advertising API not showing a listing in Search but does in Lookup
Ya, but I would still like to know why it wasn't working."
Product Advertising API	"False negative in BrowseNodeLookup
There are a few BrowseNode IDs that return an error when I look them up. However, I can tell they exist because:
1) I received them from the API on traverse.
2) I can navigate to their category page via: https://www.amazon.com/exec/obidos/tg/browse/-/https://forums.aws.amazon.com/

One example is 2232339011.

When I run it through the BrowseNodeLookup in Scratchpad, I get:

    <BrowseNodes>
        <Request>
            <IsValid>True</IsValid>
            <BrowseNodeLookupRequest>
                <BrowseNodeId>2232339011</BrowseNodeId>
                <ResponseGroup>BrowseNodeInfo</ResponseGroup>
            </BrowseNodeLookupRequest>
            <Errors>
                <Error>
                    <Code>AWS.InvalidParameterValue</Code>
                    <Message>2232339011 is not a valid value for BrowseNodeId. Please change this value and retry your request.</Message>
                </Error>
            </Errors>
        </Request>
    </BrowseNodes>"
Product Advertising API	"Convert ASIN to ISBN?
Is there any way to convert the ASIN to an ISBN? (assuming one exists!)"
Product Advertising API	"Re: Convert ASIN to ISBN?
I am responding under the assumption you are speaking of ASINs which begin with a ""B""...There is no conversion and there is no correspondence between the two values.You can retrieve the item and see if there is any value in the ISBN and/or EAN field, which will become necessary as the 979, 13 digit ISBNs become common.Jim"
Product Advertising API	"Re: Convert ASIN to ISBN?
Thanks, Jim... sorry for the delay."
Product Advertising API	"Re: Convert ASIN to ISBN?
Hi,
Sometimes there is a conversion from ASIN to ISBN.
You can perform such a conversion using this  ASIN to ISBN converter: http://www.asinlab.com/asin-to-isbn/ 
If there is a conversion it will give you the ISBN number."
Product Advertising API	"Re: Convert ASIN to ISBN?
This is correct. You can usually convert a 13 digit ISBN to a 10 digit ISBN, and this will correspond to a book's asin in Amazon. For the one's you cannot convert, you could try adding in one off cases or searching by 13 digit ISBN. 

http://lmgtfy.com/?q=convert+13+digit+isbn+to+10

-Joe

Edited by: DutchPi on Mar 1, 2018 3:25 PM"
Product Advertising API	"Mobile Friendly purchase url
Hi All,
I'm having a problem with purchase url that you get from Cart API endpoint. If you open the purchase url on mobile phone the web page is for desktops, there is no ""m"" version.
It makes very poor user experience because other parts of the shopping experience are mobile friendly.

I did search the forum and found same issue reported back in October 2010. 

Is there a chance it can be addressed? Universal link to the actual amazon store app ? or at least mobile friendly version of the merge cart web page ?

Best,"
Product Advertising API	"Why do some items can not be accessible through AD API?
B008VWN510, it can't be accessible through AD API while its other type B01LAG1YQG can!!!
why why why???"
Product Advertising API	"Re: Why do some items can not be accessible through AD API?
Unfortunately, Amazon hasn't commented on this, so nobody knows for sure.
https://forums.aws.amazon.com/thread.jspa?messageID=812401"
Product Advertising API	"Fastest way to retrieve Prime Movie List
HI all,
wanted to create an alternative search for the Amazon Prime Movies and am currently a bit stuck whats the fastest way to get the movie list.

Actually I am searching for the year and then checking all movies for a genre but this is kinda slow and causes lots of calls to the API.

Do you know if there is any faster way to retrieve the full list?

Thanks Phil"
Product Advertising API	"Product Advertising API Getting Started C# Example cut off
It looks like the Getting Started CD# example here is cut off. 
https://docs.aws.amazon.com/AWSECommerceService/latest/GSG/ImplementinganA2SRequest.html"
Product Advertising API	"Amazon Affiliate requires Help with Product Advertising API
Hi, is this the right forum where to post my message?

Here you go.

#1 I'm an Amazon associate and I've got to understand I am allowed to use product images from Amazon website only if I register with AWS and use the Product Advertising API

Is this correct?

#2 When I go into the API section of my Amazon account, I see two keys...

what I did was to click on 'Tools' --> 'Product
Advertising API' and all I see is a 'Manage Your Credentials' section with
two created KEYS..

Is this the right way to setup this or am I missing something?

#3. Is the setup done required for me to be allowed to add Amazon product images on my site?

Thank you."
