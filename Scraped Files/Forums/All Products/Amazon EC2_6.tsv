label	description
Amazon EC2	"c4.xlarge cant recover from reboot
I'm constantly experiencing a problem with server reboots. The instance doesn't boot.
I see Initializing for ~15 min. Then 1/2 checks passed. The server isn't reachable via SSH.

My business is down suffer losses since i-05e6ee2a is down"
Amazon EC2	"Re: c4.xlarge cant recover from reboot
Hello,

Thanks for posting. I've reviewed instance i-05e6ee2a, but it currently is in a stopped state. Unfortunately this reduces our visibility into this instance. I did look at the items that were available and I see no issue with the CPU or Networking portion of this instance. I am suspicious of the amount of IO you are pushing to the root EBS volume. The root volume is 16GB which gives you a baseline of 48 IOPS. If you look at the following CloudWatch metric you'll see that you depleted your burst credits and were being throttled to the baseline IOPS starting on 6/12/2015 at 21:55 UTC:

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeWriteOps~2015-06-12T10%3A25%3A46Z~2015-06-17T21%3A25%3A46Z~Average~600~VolumeId~vol-ec1fc5a2 

I suspect that the throttling of your volume is also impacting it's ability to reboot and if you were to start this instance again at a later time when you've accumulated burst credits you'll find it will boot normally. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_gp2

I do see another instance under your account i-4801a0a1 that appears to be similar to this stopped instance. Currently I see that write IOPS are around 184/s. If this continues and you deplete your burst credits this instance may experience the same behavior. This issue may also reduce your ability to SSH to the instance itself. I would look into either increasing the size of the volume to bring the baseline within the expected IO you are pushing to this volume or use another volume type.

Regards,
Brandon"
Amazon EC2	"Cannot SSH after Launching a duplicate instance using ""Launch Like This""
Hey,

I have just duplicated an EC2 m3.xlarge instance into a m3.large instance using Launch More Like This, setting the same security group and the same key pair. However, I am not able to ssh to the instance using the pem file, nor password with a reply:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic).

I have tried with both public IP and public DNS. As well as sshing through an instance in the VPC.
I am able to SSH into the previous one with both pem and password.

The OS is Centos7.

What might the problem be?

Edited by: rt-zed on Jun 17, 2015 4:56 AM"
Amazon EC2	"Re: Cannot SSH after Launching a duplicate instance using ""Launch Like This""
Hey there,

So ""Launch More Like This"" will launch another instance using the same AMI that the instance was launched with.
Any changes made to the instance since launch will not make it to the new instance (You would have to create an AMI and launch it manually).

So with this in mind;
1) Are you correctly connecting with the correct user -- centOS uses, I believe, ""root"" as the default user.
2) Are you using the correct .pem with the correct user? So in this case, the user root would use the key associated with the user."
Amazon EC2	"Re: Cannot SSH after Launching a duplicate instance using ""Launch Like This""
I have tried both centos and root users. It didn't work. I spent an hour trying to figure it out with the ssh -vvv and still to no avail. I removed the instance and its volume and created created a new one, and ssh-ing worked.

I seriously have no idea what happened. Hope it won't happen again."
Amazon EC2	"instance was rebooted, logs not showing why
At Jun 17 05:10:41 UTC my instance (i-ac816867) was rebooted for unknown reasons.

Was there anything going on with the host at that time?"
Amazon EC2	"Re: instance was rebooted, logs not showing why
Hello,

Thanks for posting. I've reviewed the instance and the underlying host and from my investigation it appears the underlying host had an issue around 5:09:14 UTC on 2015-06-17. The underlying host is marked healthy at this time. You can stop and start this instance to move it to a different underlying host if you are concerned with this. I would also recommend looking into building a fault tolerant solution if this is a major concern. 

http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Regards,
Brandon"
Amazon EC2	"Re: instance was rebooted, logs not showing why
Thanks Brandon,

This instance was just one member of the pool so we didn't have any service disruption, but I was just unable to find the cause of a reboot and in the past they were typically due to host problems.  I just wanted to confirm that was the case also.

Thanks again for checking."
Amazon EC2	"ec2-create-instance-export-task returned error
Hi,

I am try to export the EC2 using the ec2-create-instance-export-task cmd.

when run the command i got the error as 

Client.InvalidParameterValue: Could not read the ACL associated with the S3 bucket.

please any of them help me solve this problem.

Thanks in Advance,
Mike"
Amazon EC2	"Re: ec2-create-instance-export-task returned error
Hi All,

I'm also stuck on export command but with different error.

I run command as like

ec2-create-instance-export-task <instance-id> -e vmware -c ova -b <http://s3-ap-southeast-2.amazonaws.com/bucketname>

It give below error.
Client.InvalidParameterValue: s3-bucket must conform to S3 restrictions on character set and length (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameterValue; Request ID: 6d705923-ef4d-449b-b77f-0a9711c47fa3)"
Amazon EC2	"Re: ec2-create-instance-export-task returned error
this error is because the bucket name should only be the actual bucket name. you don't need to add the ""s3://"" prefix to the bucket."
Amazon EC2	"Re: ec2-create-instance-export-task returned error
to bypass this, i used the GUI and went to the S3 bucket and added vm-import-export@amazon.com and gave it all the permissions and then removed the permissions once i was finished."
Amazon EC2	"Instance i-9fec4fe4 stuck in stopping
Hi,

please stop this instance i-9fec4fe4 - has been stuck instopping for 4H.

Thanks,
Talal."
Amazon EC2	"Re: Instance i-9fec4fe4 stuck in stopping
Good day Talal

I successfully stopped the instance.

Best Regards
Imthian"
Amazon EC2	"Re: Instance i-9fec4fe4 stuck in stopping
Thanks guys, I was able to restart after you stopped it.
Talal."
Amazon EC2	"EC2 instance to Local VM access issue- VPN-VPC
hello Sir ,
i could able to ping the specific EC2 linux instance ""Example 1""  via the VPN through Customer Gateway.
But i could not ping from the EC2 linux instance to the local Datacenter Windows VM via VPN. 
We have already structured our AWS VPC and VPNs . Suddenly we are facing this issue in one of the VM in AWS. 
Please provide any suggestions or possibilities for the cause of this issue?

Edited by: RajVTG on Jun 11, 2015 10:25 AM"
Amazon EC2	"Re: EC2 instance to Local VM access issue- VPN-VPC
we had corrected the Local firewall inbound rule . then this issue is solved ."
Amazon EC2	"How does billing work with EBS Snapshots?
Hi AWS Community-

Let's say I have an Instance with Windows+SQL Standard (fairly expensive due to licensing costs).  If I were to snapshot that Instance and restore the snapshot onto a Instance that has Windows but no SQL Standard, would AWS track all of the billing correctly and bill me for two Instances with Windows+SQL Standard?

More generally, I'm trying to understand how EBS Snapshots and AMI work with software licensing.

Thanks."
Amazon EC2	"lost contact with c3.large instance
We have lost contact with i-7bbab3ab a c3.large instance for the past hour. There is no indication of a problem on the console (2/2 checks passed) but we cannot connect to the instance.
We had the same problem with another c3.large instance on 14/6 and despite the reboots and the start/stop operations the instance stayed offline for more than 10 hours and we had to set up a new one (i-7bbab3ab). 
Is there anything we can do to resolve it?"
Amazon EC2	"2x EC2 Instances unavailable
Good Afternoon,

One of our frontend LAMP servers (i-621ef195) stopped responding without warning around three hours ago. I am unable to hit this box with anything (ssh, ping, http, etc) and have not been able to locate any problems with the VPC configuration. A second instance (i-80145f77) was added to this VPC almost 36 hours ago, and is also exhibiting a similar lack of connectivity.

Status checks are coming back as 1/2 and Insufficient Data respectively, and I cannot get any console output from these nodes. Is this a problem with my VPC configuration that took 36 hours to manifest? Or something else entirely?

Any assistance you can offer would be greatly appreciated.

EDIT: As of 12:33PM PST instance i-621ef195 is back up and I am able to connect to it. Would love to know why it dropped into limbo for three hours, but the fire seems to be out for now.

Edited by: terracel on Jun 16, 2015 12:33 PM"
Amazon EC2	"Re: 2x EC2 Instances unavailable
Hi,

Typically many Status check failures are a result of underlying hardware failing which only Amazon can confirm for your instance.  But it was likely a hardware fault on the host that your instance resides on.  Sometimes if you stop and restart your instance (not reboot) then the instance will spin up on different physical hardware resolving the issue. 

However, do be aware of this if your are using instance store backed devices instead of EBS you will lose the data on the instance store performing a stop/start.

Cheers,

Stooby..."
Amazon EC2	"Re: 2x EC2 Instances unavailable
Hello  terracel, 

I took a look at both of these instances. I can confirm that the first instance  i-621ef195, is now operational. It has been passing Status Checks for the past 22 hours. I also checked the underlying hardware and did not see any issues. The console output for the instance is blank; unfortunately we are unable to give you any additional information about what may have taken it offline. Hopefully there are some details in the error logs on the instance that can help you there. 

As for the second instance you mentioned:  i-80145f77, this is still failing both System and Instance Status Checks. The last line in the console reads:
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(8,1)

I believe that the file system may have been corrupted. To look into this further I suggest removing the root volume from the instance and adding it as a secondary volume on another instance and investigating what may have happened. 

I hope this information has been helpful! Please let us know if you have any additional questions. 

Best Regards,
Jillian L."
Amazon EC2	"some Amazon Linux features and options from customer point of view
1. Amazon Linux instance must be secure for unauthorized changes
 One of the feature for this support would be some option integrated into kernel for prevent changes for system and data critical files. root not be able to change those files until special ""keys"" not entered. Must be min two independent ""keys"" in the system to unlock system files.

2. Amazon Linux must be flexible for migration between cloud and traditional DC
 Customer must have option for download and install Amazon Linux on own datacenter environment

3.Amazon Linux must have mechanism by default install most critical updates automatically.
 This feature must have some option like critical, important and optional. Critical must be installed by default with some mechanism like create temporary instance updated, update main instance, release temp inform customer what was done.

4. Amazon Linux must have mechanism provide instance backup to S3 with some policy during instance creating.
 This option important for deployment procedure and may be part of deployment process interface API

5. Amazon Linux must have mechanism integration with CloudWatch
 For performance troubleshooting will be good to have visible on CloudWatch what data will be collected on instance side, and enable/disable debug for instance on CloudWatch

to be continue..."
Amazon EC2	"Re: some Amazon Linux features and options from customer point of view
Hello,

Thank you for your feature requests for Amazon Linux. I've forwarded them along to the appropriate team to take a look at. Unfortunately, I can't comment on if or when your feature requests may be implemented.

For the time being, a number of your feature requests can be implemented on your own with some scripting and use of other AWS features. For example, snapshots are effectively backups to S3 and you can write a shell script using the AWS CLI to automatically run snapshots on your Amazon Linux instances. Some other customers have developed scripts to help make this easier as well such as https://github.com/colinbjohnson/aws-missing-tools/tree/master/ec2-automate-backup

You can also publish custom CloudWatch metrics that monitor specific things as you need them. Our documentation covers some examples of how to work with CloudWatch and publish custom metrics about your instance: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/mon-scripts.html#using_put_script
http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/publishingMetrics.html"
Amazon EC2	"Re: some Amazon Linux features and options from customer point of view
Hello,

In addition to my previous response, I've received some additional feedback on some other features you have suggested:

Regarding securing against unauthorized changes to your instance's system files, you may use SELinux for this. It isn't supported by default, but it is one option. Alternatively you can use a combination of 'auditd' (http://linux.die.net/man/8/auditd) and the 'immutable' file attribute to detect and prevent changes.

Regarding installing critical updates by default, Amazon Linux installs critical security updates when the instance is first launched. However, subsequent updates must be performed by the user. The expectation here is that you should test updates before accepting them into your production environment. Automatically updating an environment in production could cause your application(s) to fail in unexpected ways.

Please let us know if you have any additional feedback to share."
Amazon EC2	"Re: some Amazon Linux features and options from customer point of view
David, Amazon Linux team,

Thanks of lot for your response. You are 100% correct and we do on this way from instance side.

But, my list was been about features for amazon linux.

1. like from Amazon console we may make changes, stop/start, terminate, etc. instances personally. I'm talking introduce some protection for specific name this ""Secure Instances"" which will have option to make change from for example busines and support staff. For make changes from amazon console/ instance need to be enter two keys on console for make changes on that secure instances. This option on console enable protection feature on instance, and for example root user not be able to make changes on ""secure instances"" until two independent codes entered like one code from busines ovner, another from service support.

2. Second options, for Amazon linux ""migration"" it's good option for distrubute amazon linux wide on different hardware and types. It's will be primary for Amazon policy and vision. For customer perspective and experience will be good to have some local datacenter cloud which will interact with Amazon cloud in intercloud communication.
Will be nice to have Amazon Linux as primary platform also for all Amazon devices in some scaling. This solution will create Amazon platform for build global cloud system base on any Amazon devices connected to the network. Each small device may share some resource to the global cloud and receive some coins for sharing for Amazon store usage.  

3. Next option will be nice to have some choice on Amazon console for instance which latest patch will be use and those patches will be automatically apply into instance.

4. Instance backup mechanism will be nice integrate into Amazon console, and for instance or instances group chose backup policy. May be some separate service like Elastic backup will be able to manage integrated instance backup and retrieve from S3 or Glacier. This feature will be very helpful for backup integration and unification.

5. CloudWatch with instance integration is very important for flexibility system and application monitoring. For example if on instance we enable some log or parameter monitoring it's must be visible in CloudWatch. 

6. Inventory machanism for integrate Amazon AWS to corporate inventory DB. Much arreciate some mechanism to export console info into some spreadheet format to keep customer side inventory and automate this process from console. Some parameters like /etc/sysinfo or similar good to have visible on console.

7. Will be good to have some mechanism restrict user login into instance during specific time, to keep maintenance in control."
Amazon EC2	"Re: some Amazon Linux features and options from customer point of view
I see my suggestion 

3.Amazon Linux must have mechanism by default install most critical updates automatically.
This feature must have some option like critical, important and optional. Critical must be installed by default with some mechanism like create temporary instance updated, update main instance, release temp inform customer what was done.

already released in amazon Linux. Thanks

Amazon Linux AMIs are configured to download and install security updates at launch time. This is controlled via a cloud-init setting called repo_upgrade. The following snippet of cloud-init configuration shows how you can change the settings in the user data text you pass to your instance initialization:
#cloud-config
repo_upgrade: security
The possible values for the repo_upgrade setting are as follows:
security
Apply outstanding updates that Amazon marks as security updates.
bugfix
Apply updates that Amazon marks as bug fixes. Bug fixes are a larger set of updates, which include security updates and fixes for various other minor bugs.
all
Apply all applicable available updates, regardless of their classification.
none
Do not apply any updates to the instance on startup.
The default setting for repo_upgrade is security. That is, if you don't specify a different value in your user data, by default, the Amazon Linux AMI performs the security upgrades at launch for any packages installed at that time. The Amazon Linux AMI also notifies you of any updates to the installed packages by listing the number of available updates upon login using the /etc/motd file. To install these updates, you need to run sudo yum upgrade on the instance.
Important
If your instance is running in a virtual private cloud (VPC), you must attach an Internet Gateway to the VPC in order to contact the yum repository"
Amazon EC2	"EC2 and Volume ""Stuck""
Hello,

I have an EC2 instance (i-9605089f) stuck in the ""stopping"" process and the associated root volume (vol-245c5126) stuck in the ""attaching"" process.  The message on the volume states ""Volume stuck in attaching since 52 days, 23 hours and 25 minutes ago ago"" which is totally new to me.

Can you please remedy the situation or instruct me on fixing it."
Amazon EC2	"Re: EC2 and Volume ""Stuck""
Hello,

I'm showing that instance is now running and passing all healthy checks and the EBS volume is presently attached. 

Let us know if you are having any further issues. 

Regards,
Nick"
Amazon EC2	"Re: EC2 and Volume ""Stuck""
Thanks,

What would have caused this hang-up?  I was unable to force the shut-down of both the EC2 and EBS volume.

Thanks
JA"
Amazon EC2	"Re: EC2 and Volume ""Stuck""
Hi ARCA-Admin,

I have checked the history of this instance and there was a problem with the underlying infrastructure the instance was running on when you issued the Stop command. This resulted in the stuck state you unfortunately experienced. 

I can confirm your instance is is now running on healthy infrastructure after you started it again. 

I apologize for the inconvenience. 

Regards,

Alastair

Edited by: AlastairC@AWS on Apr 14, 2014 8:38 PM"
Amazon EC2	"Re: EC2 and Volume ""Stuck""
Hello.

We have the same situaction with instance i-ffe53214 and volume vol-d677b59c.

The instance can't force stop and the volume can't force detach."
Amazon EC2	"Re: EC2 and Volume ""Stuck""
Hello, 

We were able to stop  i-ffe53214, please let us know if you continue to have any issues with the volume. 

Best Regards,
Jillian L."
Amazon EC2	"Suitability of ELB for requests coming from one source
We are currently designing our AWS infrastructure for a client where an API will be hosted on EC2 instances, sat behind an ELB. This all takes place in a private subnet as the API will only be available over VPN, thus an internal ELB is to be used. All the requests to the API will be coming from the VPN, and most likely from one source address. Will an ELB load balance properly requests coming from just one source?"
Amazon EC2	"Re: Suitability of ELB for requests coming from one source
Hi,

Yes, I believe the ELB will work as expected performing a round-robin transfer of requests to your instances despite coming from the same source.  If you introduced Elasti-cache into the equation too then it would most likely route to the same EC2 if configured to do so for session data.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Which EC2 is better for 20,000 users are simultaneous accessing the web
If there are about 20,000 users are accessing my website at the same time, which one suits my need please?And what is the serve limit of the EC2, Please help."
Amazon EC2	"Re: Which EC2 is better for 20,000 users are simultaneous accessing the web
Hi,

It all depends on what these users are actually going to be doing once attached? 

The following link shows all the instances types and their capabilities.  If you have some information relating to what utilisations these connections will require then you might be able to make a good match.

http://aws.amazon.com/ec2/instance-types/

Bear in mind though, you can always scale up or down your instance size should you not have the balance right.

Cheers,

Stooby..."
Amazon EC2	"Windows spot instance with permanent storage
Hello everybody!

I'm a noob, since I started using AWS yesterday, and windows today after 14 years. But I have a decent experience with linux servers.

I built an app which needs a windows environment to run some code. I would like to fire up a windows spot instance, with a permanent storage, so that I can fire up and terminate the spot instances without losing the attached windows data.

Under linux I would simply attach a volume and run a script to create some symbolic links. What's the best approach with windows? Can I reuse the same volume as root device on multiple spot instances?

Thanx!"
Amazon EC2	"Re: Windows spot instance with permanent storage
Hi,

You would need to store your data on an EBS (Elastic Block Store) Volume.  This is permanent storage and be can detached and reattached to different EC2s using the Console or CLI or AWS commands when you have a new instance.  

Take a look at:
http://aws.amazon.com/ebs/details/
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumes.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"t2.micro EC2 Instance not reachable
Hi,

I have two micro instances with following IPs. Initially it all worked fine but lately I am observing a very frequent disruption in the service. For example, sometimes I am unable to reach the applications running in these EC2 instances. And this is not a constant behavior so there is no clue when it will happen next.

54.200.240.187
54.68.203.147


Please refer to the below ping statements that will clearly show that I am able to reach 54.200.240.187 but not 54.68.203.147 at the same time.

C:\Users\Aryanm>ping 54.200.240.187
 
Pinging 54.200.240.187 with 32 bytes of data:
Reply from 54.200.240.187: bytes=32 time=324ms TTL=46
Reply from 54.200.240.187: bytes=32 time=323ms TTL=46
Reply from 54.200.240.187: bytes=32 time=323ms TTL=46
Reply from 54.200.240.187: bytes=32 time=323ms TTL=46
 
Ping statistics for 54.200.240.187:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 323ms, Maximum = 324ms, Average = 323ms
 
C:\Users\Aryanm>ping 54.68.203.147
 
Pinging 54.68.203.147 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.
 
Ping statistics for 54.68.203.147:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
 
C:\Users\Aryanm>ping 54.68.203.147
 
Pinging 54.68.203.147 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.
 
Ping statistics for 54.68.203.147:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
 
C:\Users\Aryanm>ping 54.68.203.147
 
Pinging 54.68.203.147 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.
 
Ping statistics for 54.68.203.147:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
 
C:\Users\Aryanm>ping 54.200.240.187
 
Pinging 54.200.240.187 with 32 bytes of data:
Reply from 54.200.240.187: bytes=32 time=328ms TTL=47
Reply from 54.200.240.187: bytes=32 time=325ms TTL=47
 
Ping statistics for 54.200.240.187:
    Packets: Sent = 2, Received = 2, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 325ms, Maximum = 328ms, Average = 326ms
Control-C
^C


I was planning to increase my server capacities, but with this recent fluctuations in the availability, I am not very sure. Please let me know if anyone is aware of the cause or resolution of this problem.

Edited by: rlgsystems on Jun 16, 2015 12:13 PM

Edited by: rlgsystems on Jun 16, 2015 12:15 PM

Edited by: rlgsystems on Jun 17, 2015 8:29 AM
The instance ids are 
i-6b0a0c60 -> 54.68.203.147
i-ccae2e3a -> 54.200.240.187"
Amazon EC2	"Re: t2.micro EC2 Instance not reachable
Hi,

Have you checked the Cloudwatch metrics of these instances when you are having the connectivity problems.  It could be that your CPU utilisation is peaking at 100% as I have seen this happen before, especially as you are running the Micro instances.  

It could simply be a lack of resource available to process the request.

Cheers,

Stooby..."
Amazon EC2	"nginx  + uwsgi + websockets
Hello guys,
I've been struggling to config a ec2 ubuntu linux instance to work with WebSockets using nginx with uwsgi.

I've noticed one thing... the headers on the request are changed when arrives at the EC2 instance:
""HTTP_CONNECTION"": ""keep-alive""

And running on my LAN, the header still:
""HTTP_CONNECTION"": ""Upgrade""

Can anyone help me?"
Amazon EC2	"Auto notify - when ec2 instance change states
Is there any efficient wa to have notification setup, when ec2 instances change states { running, shutdown, terminated etc }.  Notification could be like triggering webservice endpoint, probably through sns. But there is no way to setup cloudwatch alarm to monitor instance state. And there is this crude way to setup scripts during instance startup/shutdown, which can be updated in AMI.

Is there any other way which AWS provides inbuilt, which helps in notifying a webservice endpoint when the instance change states. Thanks."
Amazon EC2	"Re: Auto notify - when ec2 instance change states
Hi there,

You can create CloudWatch alarms to notify based on the follow metrics:

StatusCheckFailed-  Values for this metric are either 0 (zero) or 1 (one.) A zero indicates that the status check passed. A one indicates a status check failure.

StatusCheckFailed_Instance -  A zero indicates that the status check passed. A one indicates a status check failure.

StatusCheckFailed_System -  A zero indicates that the status check passed. A one indicates a status check failure.

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/ec2-metricscollected.html

You could create a CloudWatch alarm to evaluate these metrics, and in the case of a Status Check Failure, send a notification to an SNS Queue, which could then propagate the alarm based on how you wish to handle it (Email, Endpoint, SQS etc)
http://aws.amazon.com/about-aws/whats-new/2012/07/18/CloudWatch-Metrics-for-EC2-Status-Checks/"
Amazon EC2	"My instance is stopping but never ends
Hello,

My DB instance was failed and I tried to stop it. But the console shows ""stopping"" continously.
I tried to force stop with the management console option, but until now, the instance status is the same.
What can I do ??
The volumes associated with it are in OK status.

Can someone help me out?

Thanks"
Amazon EC2	"Re: My instance is stopping but never ends
Sorry, my instance name is: i-1025755b

Thanks"
Amazon EC2	"Re: My instance is stopping but never ends
Good day

I am engaging with our EC2 operations team regarding this. I will get back to you shortly.

Best Regards
Imthian R"
Amazon EC2	"Re: My instance is stopping but never ends
Good day

We have successfully stopped the instance from our end.

Kind Regards
Imthian R"
Amazon EC2	"Re: My instance is stopping but never ends
Thanks Imthian, the environment is working fine now.

Thnk you so much. Good support."
Amazon EC2	"Is it possible to make current instance as like new created ?
I was trying to do something on terminal, after a bit mistake some core packages crashed. I cant solve all problems. So instead of dealing with this, is it possible to re-create or re-start instance ? I want to make current instance as like new created and i want the billing not affected.

Thanks"
Amazon EC2	"Re: Is it possible to make current instance as like new created ?
Hi there,

In this case, if you wish to start completely from scratch, you will want to just terminate the instance and launch a new instance.
If you want to keep the same IP address as the old Instance, you will to have been using an Elastic IP address. If you were, you can simply just attach the Elastic IP to the new instance.

Keep in mind that if you do terminate and delete the EBS volume of the old instance, that data is lost and there's no way to recover it.

You won't be charged for resources you do use, so if you terminate and launch a new instance, you'll only be charged for the time the instances are actually running."
Amazon EC2	"Failed instance i-6451ae03 stuck in stopping state
I've tried a normal stop and a forced stop and neither has worked.  Can an AWS staff person please help get instance i-6451ae03 into a startable state, please?"
Amazon EC2	"Re: Failed instance i-6451ae03 stuck in stopping state
Couldn't wait any longer so went ahead and performed a snapshot-based replace.  I've now attempted to terminate the instance and it's stuck ""shutting-down""."
Amazon EC2	"Re: Failed instance i-6451ae03 stuck in stopping state
Good day

We have now shut down the instance as requested.

Regards
Imthian"
Amazon EC2	"Can't connect to instance via ssh
Hi,

I used EC2 back in 2011 but I have't used it since.  Recently when I launched a new instance and tried to ssh into it I get the following:

chuck@ubuntu:~$ ssh -vvv -i /home/chuck/.ec2/gamos-keys.pem ubuntu@ec2-54-88-166-162.compute-1.amazonaws.com
OpenSSH_6.6, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-54-88-166-162.compute-1.amazonaws.com http://54.88.166.162 port 22.
debug1: connect to address 54.88.166.162 port 22: Connection timed out
ssh: connect to host ec2-54-88-166-162.compute-1.amazonaws.com port 22: Connection timed out

after reading some threads I think it has something to do with my default VPC settings which is a new concept for me.  My ultimate goal is to launch a small linux cluster to do some monte carlo simulations (hopefully!)

Being a EC2 newbie I would appreciate step by step help in resolving my SSH connection issues.

Thanks"
Amazon EC2	"Re: Can't connect to instance via ssh
Hey there,

So usually, these timeout errors are due to the Security Group associated with your instance to not allow TCP packets to Ingress on port 22.

The Security Group is a set of rules that sit in-front of your instance, without a specific rule that allows TCP packets from your IP to filter into your instance, these packets will just be dropped and will not be responded to.
From your EC2 instance's point of view, it never sees these packets.

So the first thing to check is the Security Group rules:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html
Make sure there's a rule that allows TCP Connections from your IP address to port 22.

If you've checked this and it looks okay, would you mind sharing your Instance's ID and I'll take a look."
Amazon EC2	"Lost ssh access due to less secure file permission on ec2-user directory
I was able to access the aws server before, using the pem file downloaded from aws  console (while setting up the instance). Yesterday I wanted to give access to my developer, so I created an FTP user to give him access to the home directory of ""ec2-user"".

After creating FTP user I was changing the permissions (777) to grant the access to the FTP user. Meanwhile I got disconnected from ssh due to some network issue. And since then the pem file is not working at all for ""ec2-user"". Its always showing this error
Permission denied (publickey)




Attached is the screenshot of the terminal




I guess the issue is due to the less secure permissions on the ssh key folder. Is there any way we can reset the permissions for home directory of ""ec2-user""? 

OR

Is there any way we can get the passwords for either ""ec2-user"" or ""root""?


On a side note: I some how managed to add public keys in the newly created user. So I am able to log into the aws via ssh through that user (using same pem file I downloaded via aws console). But since that user is not in admin/sudoers list, so it can't just help resetting the permissions."
Amazon EC2	"Re: Lost ssh access due to less secure file permission on ec2-user directory
Hi there,

To quickly reset file permissions on an EC2 instance:

1) Stop the instance
2) Detach the root volume and attach it as a secondary volume to another instance
3) Mount the secondary volume to the other instance
4) Change the permissions from the another instance's CLI
5) Dismount device, attach back to the root of the origin instance
6) Start the instance again.

This will get the permissions back to the way you wish them to be (The other instance will have the sufficient permissions to do this)"
Amazon EC2	"AWS import/export services
Hi Team,

We want to move development environment which is running on AWS to some other x vendor. Just confirming,  do i have to use AWS import/export services?  So that i safely move all the data using vmdk/ova file to their environment provided i have AWS access on that vendors environment. 

Please suggest.

Regards,
Sukhbir"
Amazon EC2	"can't connect to ec2 instance with ssh
I'm trying to connect to an AWS ec2 instance but I keep being refused.
Instance ID: i-790dec8b
It was working fine until yesterday but today I haven't been able to connect to the instance.
I'm using the same computer, the same wifi but suddenly when I connect to one of my ec2 instance, it fails. 

when I connect, it says..


    ssh -i successintoeflcom.pem ec2-user@52.68.152.179
    ssh: connect to host 52.68.152.179 port 22: Connection refused

    ssh -v successintoeflcom.pem ec2-user@52.68.152.179
    OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
    debug1: Reading configuration data /etc/ssh_config
    debug1: /etc/ssh_config line 26: Applying options for *
    ssh: Could not resolve hostname successintoeflcom.pem: nodename nor servname provided, or not known

I looked at /etc/ssh_config line 26, and found

    Host *
       SendEnv LANG LC_*

something got to be wrong, but I haven't found a way to make it right.

On security group, I made sure that Port 22 is open.
I also tried deleting the ec2 instance and make new one with new ssh key and new EIP but it did not work.
honestly, I'm new to ssh settings. Any help would be appreciated. 

PS
For some reason, I was able to connect to other ec2 instance that is on other aws account, which I use for work.

Edited by: yuuki1111 on Jun 14, 2015 12:23 AM"
Amazon EC2	"Re: can't connect to ec2 instance with ssh
Hi there,

The first error is the one you want to focus on, the second error was merely due to you leaving out the -i flag, which led to the SSH process trying to do a DNS lookup for successintoeflcom.pem.

The first error shows that the connection was outright refused.
Basically this means that the TCP SYN packets were responded to with a TCP RST packet, shutting down the TCP Connection request.
This will usually happen when the packets reach a TCP port that does not have a process listening to it.

If it had been a security group issue, the connection would timeout (Packets are dropped from Security Groups if they do not match an accept rule)
In this scenario, the SG rule let the packet hit the instance, but the instance's OS killed the TCP connection attempt.

Usually this means the SSHD process isn't running, or atleast isn't running on this port.
Common reasons for this is if you had made a change to the sshd_config file, but left an error.
So when the instance rebooted, the corrupted sshd_config file prevented the instance from started the sshd daemon.
In which case, you'll need to attach the root volume to another instance, and inspect/fix the sshd_config file."
Amazon EC2	"Upgrading Linux Kernel Version of an EC2 instance launched from an AMI
Hello,

I have custom AMI with a kernel version 
3.10.57-57.140.amzn1.x86_64
and a bunch of other softwares installed. I have loads of ElasticBeanStalk envs configured using this AMI.

I need to upgrade the kernel version of all the ec2 boxes servicing all of my EBS-es to 3.14.  While I could choose to - 
1) grab an ec2-box servicing one of the EBS
2) execute sudo yum clean all && sudo yum update on it
3) reboot it
4) create a new AMI out of it, thus having a new AMI which differs with my older AMI only wrt the newer kernel version, 

I essentially can not do this, because all of my EBS-es are worker tier ones, consuming from different sqs-queues. (Tried doing this, configured every EBS to use the new AMI, but then it crapped out when all of my EBS-es started consuming the same queue)

So now I am trying to -

1) launch a new box from the older AMI
2) execute sudo yum clean all && sudo yum update
3) reboot it
4) create a new AMI after reboot
5) have all EBS use the new AMI

but somehow the new box does not get the new kernel. uname -r still shows 3.10.57-57.140.amzn1.x86_64, after the reboot.

Is this not possible, upgrading kernel version on a box launched from an existing AMI ?"
Amazon EC2	"Windows Exchange Password is not available
Hello team,

I have launched an instance named Exchange in Community AMIs, but I can't get the password, even re-launch the instance,the instance ID is i-62aef194,  please see the message as below:

Password is not available.
This instance was launched from a custom AMI, or the default password has changed. A password cannot be retrieved for this instance. 
If you have forgotten your password, you can reset it using the Amazon EC2 configuration service. For more information, see Passwords for a Windows Server Instance.

I have read the for guideline, but it require EC2Config service in Windows, remember I can't login into Windows.

Thanks"
Amazon EC2	"Re: Windows Exchange Password is not available
Anyone can help?"
Amazon EC2	"Re: Windows Exchange Password is not available
Hi, 

Most of time the custom Windows AMI is created from the Amazon AMIs which it does have ec2config installed.

How did you create this AMI?
Do you have the administrator account and password setup for the instance which you used to create the AMI?

Thanks,"
Amazon EC2	"Re: Windows Exchange Password is not available
Hi, are you still seeking assistance?

The custom AMI that you used (AMI-ID: ami-3dc98c0d) has the password generation disabled hence the console doesn't show you the password. If you remember the old password you may log in using that. If you like to reset the password, one option would be to 
1. shutdown the instance, 
2. deattach the volume, 
3. attach the volume to another instance which you can RDP in
4. Bring the volume online say it will come up as D drive. 
5. Open this file from that volume say : ""C:\Program Files\Amazon\Ec2ConfigService\Settings\Config.xml""
6. Enable the plugin Ec2SetPassword to Enabled.
7. Make the volume offline
8. Deattach the volume 
9. Attach the volume to your original instance id and boot the machine.
10. After boot, the password can be retrieved from console."
Amazon EC2	"Disabling TCP Timestamp on a Window Server EC2 Instance
Hi,

As title, I need to disable the TCP Timestamp from my Windows 2008 R2 DataCenter. I'm not looking for a OS level solutions like : running command, using powershell or editing the registry but rather than a firewall solution. 

Is there such a thing available from AWS or Is there a third party solution do this that can be implemented on AWS EC2?"
Amazon EC2	"Instance Stuck Shutting Down
Hello,

Instance i-85789d64 is stuck in shutting down state.  I tried rebooting it after noticing I was unable to connect.  I then tried stopping it, tried a forceful stop, tried to detach the root (only) volume, and lastly tried to do a forceful detach of the root volume.

Can you assist stopping this instance?

Thank you"
Amazon EC2	"Re: Instance Stuck Shutting Down
The instance is stopped now.  No action needed.

Thanks!"
Amazon EC2	"PHP56 cannot connect to RDS ca-cert-2015 instances
We're trying to upgrade to php-5.6 but php56 cannot connect RDS instances with the new 2015 ca cert set.

I can confirm connections works using php55 after downgrading.

Can the AWS team investigate this issue?"
Amazon EC2	"Re: PHP56 cannot connect to RDS ca-cert-2015 instances
AWS support got back to me:

To answer your question regarding upgrading from php 5.5 to php 5.6, RDS currently does not have full support for php 5.6. 


Disappointing since php56 is in the YUM repositories."
Amazon EC2	"error when mounting windows server shared folder on ubuntu
we have a windows server VM which has a folder shared. when trying to mount it on our ubuntu instance using `mount -t cifs //ip/shared /local_shared -o username=windows_user`

we got this error: ""mount error(115): Operation now in progress""

We have SMB's port 445 open on windows server for both windows firewall and AWS security group, we are using IP instead of machine name so we don't need netBIOS ports open, windows server can access ubuntu instance on port 8080 so there's no network issue.

anything we might missed here?

TIA"
Amazon EC2	"Instance Status Checks Fail, system log empty after stop and start
Hi,

I have an instance running perfectly for about a year.  Today, i want to make an image out of this instance, so i stop it, make an image, and then start it.  But after start, the ""Instance Status Checks"" was always fail, and i can't connect to that instance any more, the system log is also empty.

I didn't change anything in that instance before stop (i even didn't connect to that instance before stop).

The instance id is i-b088415e. Can anyone pls help me?  its our production server!

thanks."
Amazon EC2	"Re: Instance Status Checks Fail, system log empty after stop and start
Hello, 

I see you've terminated the instance. Without the instance up our ability to troubleshoot is greatly reduced. Regarding your description of the problem, any number of things could have gone wrong. The best next step would be to take a look at the root volume itself to verify what prevented the OS from booting properly. You can use the following guide to mount your root volume to another working instance to troubleshoot:
http://aws.amazon.com/articles/5213606968661598

Regards,
Nick"
Amazon EC2	"timeout trying to connect to any instance
Hi I am unable to connect to any instances using putty (on linux ami's) and rdp on windows ami's ive tried creating a new vpc, checked the security group settings and even disabled my desktops firewall with no luck. any advice on what else i can do?
instance id is: i-7ec341b5
thanks"
Amazon EC2	"Re: timeout trying to connect to any instance
I'm having the exact same problem, created 3 new instances ubuntu, amazon linux, windows. Created new security groups, set to allow all traffic. Created new VPCs. Nothing seems to work. In the system log I'm getting numerous errors regarding network state 

Jun 10 23:31:45 ubuntu pollinate765: ERROR: Network communication failed [7]\n23:31:42.601724 * Hostname was NOT found in DNS cache
Jun 10 23:31:45 ubuntu pollinate765: ERROR: Network communication failed [7]\n23:31:42.601724 * Hostname was NOT found in DNS cache
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     023:31:42.632246 *   Trying 91.189.94.53...
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     023:31:44.118335 * After 1485ms connect time, move on!
23:31:44.118396 * connect to 91.189.94.53 port 443 failed: Connection timed out
23:31:44.118425 *   Trying 91.189.94.50...
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     023:31:44.859543 * After 741ms connect time, move on!
23:31:44.859607 * connect to 91.189.94.50 port 443 failed: Connection timed out
23:31:44.859648 * Failed to connect to entropy.ubuntu.com port 443: Connection timed out
23:31:44.859672 * Closing connection 0
curl: (7) Failed to connect to entropy.ubuntu.com port 443: Connection timed out

Instance: i-e4ea1d1d"
Amazon EC2	"Re: timeout trying to connect to any instance
Hello B. Lyon,

You've terminated your instance, and with that 

If you've created a new VPC and you're sure security groups are correct, the issue may be with your route tables or lack of an IGW. Please see the following for more information and confirm your route table for these instances has a default route (0.0.0.0/0) pointing towards your IGW:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

P.M. Hill, 

The instance you listed is up and I've found the EIP is properly responding to port 22, I assume you were able to figure it out. 

Regards,
Nick"
Amazon EC2	"Jetpack monitoring says site down
Hi, 
I am new to EC2, I have created a EC2 windows instance on t2 micro. 
I have installed WP in it. In WP (wordpress) I have also installed the Jetpack monitoring system. 
For the last three days it have been informing me that my site has down times. 

I am adding the text here: 

Case 1: 


Hi masterbinoy,

Good news — your site http://www.wilsons-work.us is back up!

Your total downtime was 3 mins, but your site was up again as of Monday, June 8, 6:51 pm.

If it goes down again at some point (we hope it doesn’t!), we’ll be in touch.

Cheers,
The Jetpack Team

Case 2:


Hi masterbinoy,

Good news — your site http://www.wilsons-work.us is back up!

Your total downtime was 8 hours, but your site was up again as of Tuesday, June 9, 11:21 am.

If it goes down again at some point (we hope it doesn’t!), we’ll be in touch.

Cheers,
The Jetpack Team

This is a big concern for me."
Amazon EC2	"Re: Jetpack monitoring says site down
Hello, 

A few things I can think of to check:

1. CPU Utilization, Network IN/Out, Memory Utilization of the instance during these time frames and look for anything abnormal or excessive. 

2. Apache access logs during these times. You can specificaly look for the 'jetmon/1.0' head request(Found referenced here: http://jetpack.me/support/monitor/)  to see what Apache is returning during these time frames

3. System logs during this timeframe to verify any errors/crashes ect. 

Regards,
Nick"
Amazon EC2	"Cannot connect to my MicroStrategy EC2 instance via RDP or public address
Hello community,

to me it seems so easy, but it doesn't work at all.

I just bought MicroStrategy Analytics Enterprise with SQL Server Standard (25 users) as ""1-click-launch"" in the AWS marketplace. 
Link: https://aws.amazon.com/marketplace/pp/B00JK1ZEK6

Afterwards I received the following mail:
1. Use the One Click Launch tab in AWS Marketplace to create your new EC2 Instance.

2. Once your instance is running, connect to it via Remote Desktop (see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/LaunchingAndUsingInstancesWindows.html).
...

Okay, sounds easy. But when i try to connect via RDP - no chance. My instance is running, I download the RDP file and open it but the computer can never be found.

Second try: Connect via public address. I try to but my browser doesn't find anything.

What am I doing wrong? All security and other settings should be done already within the ""1-click-launch""?!

Thanks for help.

Edited by: gnannick on Jun 10, 2015 5:11 AM"
Amazon EC2	"Re: Cannot connect to my MicroStrategy EC2 instance via RDP or public address
Hello, 

Without an instance ID, I can't verify these elements for you, but you'll want to check that:

1. Your instance has a public IP. 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

2. Your instance's security group is allowing TCP port 3389/80/443. 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html

3. Your instance's subnet has a route table which has a default route pointing towards the IGW.
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html

Regards,
Nick"
Amazon EC2	"execution of Load Balancing code (wriiten in matlab ) in Amazon ec2.
i have wriiten a load balancing code in Matlab. i want to execute it on cloud. That's why i used parallel computing tool of Matlab. Further i have distributed computing server License. and six more machine in which matlab client version is installed. 

Now please tell me how should i proceed. i want to execute my code on amazon ec2.

any body please guide!
Thanks in advance."
Amazon EC2	"Re: execution of Load Balancing code (wriiten in matlab ) in Amazon ec2.
Hello, 

The following article covers the architecture of how to setup a software Load Balancer (HAProxy in this case) on EC2 in a VPC environment:
http://blog.kloud.com.au/2013/07/04/elbs-do-not-cater-for-your-environment-set-up-haproxy-for-your-iis-servers-2/

The same concepts apply in most any software load balancer case. Really you just need to understand subnetting, security groups, and routing within VPC to be able to properly configure this. Please review the following documentation ifor more information: 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html#vpc-subnet-diagram

Regards,
Nick"
Amazon EC2	"Sales come very close together then nothing for long periods
Hi folks

We have an ecommerce site and for the last year we have noticed that we get a number of sales really close together in time and then nothing for long periods. Our traffic is fairly consistent all day long. There could be lots of explanations, but wondering if there was a way I could check the server performance to see if there are any problems at this end? 

Thanks

Dean www.segzi.co.uk"
Amazon EC2	"Re: Sales come very close together then nothing for long periods
Hello, 

There are a number of ways to check server performance, but the AWS mechanic for doing so is CloudWatch metrics (CPU Utilization, Network In/Out) and the instance status. 

More on CloudWatch:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html

More on instance status checks: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html

Additionally you have full access to the OS of your instance. So you can check system logs, the system's own CPU/Memory utilization, and application logs. 

Regards,
Nick"
Amazon EC2	"M4 doesn't allow launch into EC2-Classic network
The new m4 instances are not launching into EC2-Classic network (only VPC option is choosable and EC2-Classic is disabled). I chose a HVM AMI (Ubuntu 14.04).

Did a miss something? Appreciate any pointers on this."
Amazon EC2	"Re: M4 doesn't allow launch into EC2-Classic network
As you noticed, some instance types require a VPC. For more information, see the following documentation: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#instance-networking-storage."
Amazon EC2	"AWS import/export delay between reception and start of copying
Dear AWS Team,

I've sent three disks for an import job to my bucket in the EU(Ireland) region. The drives arrived five days ago, however copying has not started yet. Is there anything that can be done to speed this process up? We would like to send in data on a regular basis, it would be great for us to know how long it takes from reception until copying so that we can calculate this time into our production timeplan.

kevin"
Amazon EC2	"Re: AWS import/export delay between reception and start of copying
Another day and nothing happened. How do I know when the copying will start? Or how would I know if anything went wrong?"
Amazon EC2	"Re: AWS import/export delay between reception and start of copying
Hello, 

If you still require an update on the status, please PM me the Job IDs so I can further delve into the status of the jobs themselves.  

Regards,
Nick"
Amazon EC2	"Re: AWS import/export delay between reception and start of copying
Hi Nick,

Copying has started for two of the devices (eventhough GetStatus lists the jobs as not started..).  So I'm no longer afraid that the data got lost somewhere. It still would be good to know how long the delay from reception until copying usualy is. So this was now seven days, can it be any longer? Where does this delay come from (internal procedure, limited copystations etc.)?

Regards,
Kevin"
Amazon EC2	"Re: AWS import/export delay between reception and start of copying
Hello,

Presently we don't have any expected timelines/SLAs for import/export jobs. The amount of time it takes varies per size of the device, how busy that particular region/data center is, the speed of the device and transfer method, ect. 

You can use the following to estimate how long data transfer will take and cost:
http://calculator.s3.amazonaws.com/index.html?s=importexport

I'm also responding to your PM with additional details. 

Regards,
Nick"
Amazon EC2	"instance i-8c59eb6a stuck on termination
Hi,
I terminated some instances but one of them (i-8c59eb6a) remained in state ""shutting-down"" (for > 1 day now).
Could you pls .terminate?

Many thanks in advance
F.C.Otto"
Amazon EC2	"Re: instance i-8c59eb6a stuck on termination
Hello F.C.Otto,

I sincerely apologize for the issue you had experienced with your EC2 instance becoming stuck while terminating. I was able to successfully clear this issue and I can confirm that your EC2 instance has been successfully terminated.

Regards,
Mohsin S."
Amazon EC2	"Converting Windows instance with SQL Server license type to non SQL Server
We are currently running a Microsoft Windows Server 2012 R2 with SQL Server Standard instance. This server hosts both IIS and SQL Server. We want to change the architecture to two servers running in a VPC:

server 1 is a Microsoft Windows Server 2012 R2 Base instance which will host IIS
server 2 is a Microsoft Windows Server 2012 R2 with SQL Server Standard instance


We would like to create an AMI of our original server and launch two instances from this AMI (server 1 and server 2). We will then uninstall SQL Server from server 1.

We have some questions regarding this:
1. Is this possible?
2. If possible, will we be paying at the SQL Server license rate or regular Windows rate?

Thanks..."
Amazon EC2	"apt-get :: The package lists or status file could not be parsed or opened
Hi, 

during last two days we've got many 'apt-get' errors. Actual message may be different, but in every case the error was caused by wrong package index file:

# apt-get update
 
...
 
Get:28 http://us-east-1.ec2.archive.ubuntu.com trusty-updates/main Sources [206 kB]
Fetched 2245 kB in 25min 51s (1446 B/s)
STDERR: W: Failed to fetch gzip:/var/lib/apt/lists/partial/us-east-1.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_source_Sources  Invalid file format
 
E: Some index files failed to download. They have been ignored, or old ones used instead.
---- End output of apt-get update ----
 
 
...
 
 
---- Begin output of apt-cache policy upstart ----
STDOUT: 
STDERR: E: Encountered a section with no Package: header
E: Problem with MergeList /var/lib/apt/lists/us-east-1.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_i18n_Translation-en
E: The package lists or status file could not be parsed or opened.
---- End output of apt-cache policy upstart ----
 
 
...
 
 
Hit http://us-east-1.ec2.archive.ubuntu.com trusty/universe Translation-en
Fetched 576 kB in 10s (52.6 kB/s)
Reading package lists...
STDERR: W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: http://us-east-1.ec2.archive.ubuntu.com trusty-updates Release: The following signatures were invalid: BADSIG 40976EAF437D05B5 Ubuntu Archive Automatic Signing Key <ftpmaster@ubuntu.com>
 
W: Failed to fetch http://us-east-1.ec2.archive.ubuntu.com/ubuntu/dists/trusty-updates/Release  
 
W: Some index files failed to download. They have been ignored, or old ones used instead.
E: Encountered a section with no Package: header
E: Problem with MergeList /var/lib/apt/lists/us-east-1.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_i18n_Translation-en
E: The package lists or status file could not be parsed or opened.
---- End output of apt-get update ----


Inability to complete basic 'apt-get update' has been causing many failing autoscaling attempts.

Is there a chance that AWS uses transparent proxy to cache  http://us-east-1.ec2.archive.ubuntu.com  requests ? 
It could happen that it cached a broken or outdated version of apt index file - is there a way to flush this cache ?

With regards, 
Anatoliy D."
Amazon EC2	"Re: apt-get :: The package lists or status file could not be parsed or opened
I am having the same issue. Anyone find anything?"
Amazon EC2	"Re: apt-get :: The package lists or status file could not be parsed or opened
Hello,

Thanks for posting. I've just launched an instance in us-east and was able to update an upgrade without issue. I also installed a few packages for good measure. Is this issue still present for you? 

Regards,
Brandon"
Amazon EC2	"Re: apt-get :: The package lists or status file could not be parsed or opened
I was being really dumb. I just needed to run an apt-get update. Maybe the same for you?

Edited by: CodeNinja on Jun 16, 2015 10:19 AM"
Amazon EC2	"Client.Unsupported: The requested configuration is currently not supported.
I have been trying to up the size of one of my instances tonight from m2.xlarge to an m3.xlarge.  The instance is located in us-east-1b, but when I tried to restart the machine from the command line, I received the error message below:

ec2-modify-instance-attribute i-9073c4f2 -t m3.xlarge
instanceType	i-9073c4f2	m3.xlarge
cebus:dashboard-dhs matt$ ec2-start-instances i-9073c4f2
Client.Unsupported: The requested configuration is currently not supported. Please check the documentation for supported configurations.

I was unable to restart the instance while it was set as m3.xlarge.  I had to revert it back to the m2.xlarge type before it would restart.  Even then, I kept getting error message when I was trying to re-associate my elastic IP to the instance.  I tried both the command line tools and the aws console ways with no luck for about 40 minutes.  

When trying to associate the elastic IP on the aws console, I kept getting a error message saying the JSON object was invalid.

It finally started and associated the elastic IP, but I am back where I started with the ec2 size that I don't want.  Is the m3.xlarge machine type not available in us-east-1b for some reason?  How can I up my size?  I need it to avoid some CPU saturation on my application.

Please help..."
Amazon EC2	"Re: Client.Unsupported: The requested configuration is currently not supported.
Hi matt-smartyants,

Sorry for the inconvenience caused. The M3 instance types are not available in your current AZ. You would need to launch in us-east-1a/d/e. You can create an EBS image of your current instance and then launch it either without specifying an AZ or target one of the 3 I mentioned above. FYI, AZ mappings are different for each account too.

Hope that helps,

Brendan"
Amazon EC2	"Re: Client.Unsupported: The requested configuration is currently not supported.
Thanks so much for the answer.  It makes sense.

For future reference, where would I look up this type of information?  I am learning the ec2 cli tools but there seems to be a lot of subtleties that aren't quite clear yet."
Amazon EC2	"Re: Client.Unsupported: The requested configuration is currently not supported.
Same here no t2 instance types were available for me... Instead I had to import into a more expensive c3.large instance type, just going to convert it after.

Also way to go AWS for the error message  what a pain in my a**.

""Client.Unsupported: The requested configuration is currently not supported""

You might have well said ""Unsupported is unsupported"" fml."
Amazon EC2	"Intermittent connection issue with on all of my instances
Hi,
We are having connection issues with for instance i-c86d4432, sometime it works sometime no.

Even with an standard http connection and also thru ssh.

Anybody can help me on this?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Same for me. Videotron in Quebec?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Yes my client is with videotron"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
The tech at Videotron has no clue so they did transferred the problem to their engineer. I will create a case with Amazon and we will see what happen."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Looks like its not videotron. 

Any ideas?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Keep in touch.

I can't figure it out what is the root cause.  No reports anywhere"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Hey ,

I m with Videotron too I have the same problem . any update ? 

thanks"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
No...I have submitted a trace route to videotron. No news yet..."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Any news on your sides?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
nothing 
did someone call them ?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
I have > 20 instances in EC2 at US-EAST-1 Datacenter and they all have the same issue when issuing call from Videotron ISP in quebec city.

I called at videotron today and basically tech support had no clue either about it but said it was on amazon's end (Which I doubt as routing works great from other isp IE Telus)."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Are you guy all in Quebec City? I Am."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
I am in Gatineau . are videotron working on that ?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
On the phone right now..."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Escalated at the engineer level at Videotron, again...Should know more within 30 minutes."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
we hope so"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
I am too."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
That's really weird.  Looks like a firewall that are blocking us sometime"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
is someone from amazon team can tell us if your firewall is working well ?"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
I just got confirmation that they are working on trying to resolve the issue...no timeline.

I would higly recommand that you guys also contact them (Videotron business support), maybe that will help us all.

What is really weird is that our HTTPS traffic works just fine. Only RDP to EC2 and RDS doesnt work for us. Also weird...I have open an RDP connection this morning to an EC2 instance. Still runnning, no connection lost. But when I try to connect again, it will take 3-4 time before it works. 

Ah Ah En écrivant ce message tout s'est mis à fontionner!!!!"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
C'est corrigé pour moi. Je sais pas si j'hallucine mais on dirait que c'est plus rapide que d'habitude. 

Et ben!"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Still not fixed on my side"
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Ok...back to not working."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
It feels like a switch is flipping out or something as you could prob. do a few good queries and then bang get some timeouts again...

It's great that they are working on the issues however ."
Amazon EC2	"Re: Intermittent connection issue with on all of my instances
Keep in touch Martin, seems a bit better here"
Amazon EC2	"Move elastic ip to VPC
I'm trying to move my elastic ip address to vpc from classic and get the error:
A client error (InvalidState) occurred when calling the MoveAddressToVpc operation.

I read it's to do with a PTR associated to the address. Can this be removed so that I can migrate the address please?"
Amazon EC2	"Re: Move elastic ip to VPC
In the end it was easier to create a new elastic ip address and change the dns than wait for this to be resolved."
Amazon EC2	"Dependency conflict for php-common
Hi, I am running wordpress and found that I need to install a module php-mbstring for a theme I'm running. However when I attempt to run sudo yum install php-mbstring I am receiving the following conflict: 

Loaded plugins: priorities, update-motd, upgrade-helper
Resolving Dependencies
--> Running transaction check
---> Package php-mbstring.x86_64 0:5.3.29-1.8.amzn1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.3.29-1.8.amzn1 for package: php-mbstring-5.3.29-1.8.amzn1.x86_64
--> Running transaction check
---> Package php-common.x86_64 0:5.3.29-1.8.amzn1 will be installed
--> Processing Conflict: php55-common-5.5.25-1.101.amzn1.x86_64 conflicts php-common < 5.5.25-1.101.amzn1
--> Processing Conflict: php56-common-5.6.9-1.112.amzn1.x86_64 conflicts php-common < 5.5.22-1.98
--> Finished Dependency Resolution
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest


I tried running using --skip-broken but it didn't work. Any ideas what I need to do here?

Thanks"
Amazon EC2	"Platform for EC2 instance
Hi,
I am trying to get platform for instance but it is listing null for flavors other than windows.
So tried to get platform through AMI id but even there the result is same.
Is there any other way to find platform which will list all flavors like linux, unix etc.."
Amazon EC2	"Re: Platform for EC2 instance
Hello,

I'm afraid not -- the platform field is quite limited.

Can you help me understand exactly what your use case is here? There might be a better approach for your requirements.

Richard"
Amazon EC2	"Re: Platform for EC2 instance
My requirement is to get platform for all ec2 instances.
List<Reservation> reservations = describeInstancesResult.getReservations();
if(!reservations.isEmpty()){
   for(Reservation reservation : reservations){
    List<Instance> instances = reservation.getInstances();
      if(!instances.isEmpty()){
	for(Instance instance : instances){
         System.out.println(""Platform:""+instance.getPlatform());
         }
    }
}
This what i am trying.But the output that i can see is 
null
null
windows
null.
So tried to get platform from ami id...When i logged in to aws console under ami id for instance i can find Description https://bitnami.com
Status available
Platform Ubuntu
Image Size 10GB
Visibility Public..
My concern is how to i get this platform.Tried different ways but gives the same output"
Amazon EC2	"Re: Platform for EC2 instance
Hi Richard,

    We have a use case, where we need to retrieve the list of instances launched after a certain date and with exact platform (AMZN Linux, winsql, rhel etc) details. This info will be used for estimated cost reporting for the latest addition of resources.

   Please suggest a way to find the platform detail retrieved through APIs

Regards
Hari"
Amazon EC2	"Re: Platform for EC2 instance
Hello,
as already said, the platform filter value is limited, you can have only Windows and blank.

Because you could have some AMI using some paid Linux in addition to the Windows instances to achieve correctly your need you will have to find all the ami in use using the describe-instances then query the ami in use with describe-images --image-ids

Regards."
Amazon EC2	"Sudden Increase in ELB latency
We run an ELB that balances load between around 110 instances.
The ELB has been serving around 1.5 million requests per minute for the last two weeks with average latency of less than 100 Ms.

On Midnight of 30th December , this latency suddenly increased to 1 second and has been around that level for the last 2 days.

We have not seen an increase in traffic and we have recycled almost all the machines without any benefit

The no of instances is now 130+  and the traffic went down to even 1 million RPM
but whatever we do, the average latency refuses to go below 1 second

The cpu load on all machines is between 40 to 60% and memory usage is within limits

What could have caused this sudden issue?

Hosted Zone ID:
Z3DZXE0Q79N41H

ELB id: 2049130586"
Amazon EC2	"Re: Sudden Increase in ELB latency
Hello,

I was not able to locate your account details with the user name and was not able to find the ELB you were having issues with from the details provided.

Can you please provide us the ELB dns name or PM me the account number the elb is in, name and region so we can better assist you with this.

I apologize for the inconvenience.	

Regards,
Baseer M."
Amazon EC2	"Re: Sudden Increase in ELB latency
we are facing simiar issue and this is affecting us a lot.
please fix this issue asap

Edited by: vishal1398 on Jun 11, 2015 2:56 AM"
Amazon EC2	"Re: Sudden Increase in ELB latency
Hello,
I checked the instance behind the ELB. and I have not found any particular network load or CPU issue.

I found you are running a t1.micro instance and I need to explain that the possible delay could depend from the priority of the access to the network resources:
http://aws.amazon.com/ec2/previous-generation/
I would suggest you to migrate to a new generation instance type.

Thanks!"
Amazon EC2	"Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
I've been looking around the forums and scoured every cert chain article, but nothing I do seems to help.

I'm trying to use a Thawte certificate with the Elastic Load Balancer.  However, I can't seem to get AWS to accept the certification chain. I used the instructions at:

... to download a combined CA. No luck. I reversed the order, no luck. I found that my web server has a THIRD cert at the top, so I added that in. No luck. Then reversed the order. No luck.

Has anyone successfully used a cert from Thawte on Elastic Load Balancers?"
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
same here - when I verify the files using: openssl verify -verbose -CAfile chain.pem public.pem I get:
public.pem: OK

I'm using a Thawte SGC CA - G2 certificate"
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
just have been in contact with amazon support and the problem was that in the certificate chain file there were 3 certificates - the public cert of my site, the intermediate and a root cert

removing the site and root cert (and just leave the one intermediate cert) fixed the problem

stefan"
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
I've been trying to get thawte to work right with ELB as well.

It doesn't like the SSL intermediate chain bundle located at : https://search.thawte.com/library/VERISIGN/ALL_OTHER/thawte%20ca/SSL_CA_Bundle.pem

How did you get yours working?"
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
Hi @ll,

I was having the same issues with ELB and Thawte SSL123 certs here. As this post was the closest to my problem which I could find I'd like to share my solution, in case someone else gets stuck:

In order to be able to successfully save the Thawte SSL123 key, cert and ""chain"" you obvisouly need your key and cert as provided by thawte (x509 PEM encoded). The trick to make it work is to ONLY use Thawte's  Secondary Intermediate CA.

Just paste this and ONLY this into the chain field and you're ready to go 

happy cloudbusting,

chrono
--
Apollo-NG Mobile Hackerspace 
""Hack the Planet"""
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
Hi, 

this cert did not work for us see

https://ssltools.thawte.com/checker/views/certCheck.jsp

to find the right missing cert.

Peter"
Amazon EC2	"Re: Unable to use Thawte SSLs with the ELB b/c of Cert Chain Problems
We had exact same issue & that worked for me too - thanks Peter!"
Amazon EC2	"How to upload the file in to my EC2?
Hi,
 
I am new EC2 AWS(Windows). I have setup the Websphere application on my instance.
I want to copy my .ear file from my local system to EC2 system.
How to do it?
While connecting through ftpClient(SmartFTP,Putty), its not connecting.
Whether EC2 system i have to install FTP server?
I tried to install the FTP server through windows componenets console its asking WindowsCD,
 
Someone please guide how to setup the FTP server into my EC2 windows instance.
How to access the application outside the EC2 system through ElasticIP?
 
Sundar"
Amazon EC2	"Re: How to upload the file in to my EC2?
Easiest way is to use RDP - configure it to bring your local resources to your remote host - ie C drive. It will appear in windows explorer on your remote host.Or copy to S3 and download from S3 on the remote host"
Amazon EC2	"Re: How to upload the file in to my EC2?
I did a couple of videos on how you can use FTP and/or Remote Desktop sharing: http://learnaws.com/archives/category/blog"
Amazon EC2	"Re: How to upload the file in to my EC2?
How to configure?"
Amazon EC2	"Re: How to upload the file in to my EC2?
Please let me know How to configure FTP in EC2. I do need to configure FTP server.Any help would be appreciated.ThanksSudarsan"
Amazon EC2	"Re: How to upload the file in to my EC2?
Here is a simple command line you can use (manually or via a script) to distribute your content to your EC2 instance over SSH

1. You need to have PuttY installed on your system (if you are on Windows or a system that can run PuTTY)
2. Make use of the Secure Copy command (pscp = PuTTY SCP) by passing the relevant parameters

e.g.
C:\Users\<username>\My Documents\java>""C:\Users\<username>\My Documents\java>""C:\Program Files (x86)\PuTTY\pscp"" -i ""C:\Users\<username>\My Documents\AWS\EC2-tomcat\EC2-tomcat-for-PuTTY.ppk"" myWar.war  ec2-user@52.16.114.159:/home/ec2-user/

myWar.war              | 227 kB | 227.9 kB/s | ETA: 00:00:00 | 100%

Edited by: Chris on Jun 16, 2015 6:22 AM

Edited by: Chris on Jun 16, 2015 6:32 AM"
Amazon EC2	"Issues with availability of resources in an EU-West Placement Group
Hi,
Appreciate some aid on this pls. We have a small Placement Group with 4 instances within & have recently been experiencing various failures to start all these instances of a morning with 'availability of instance types in placement group'. We have 2 C3.XL's, C3.L & an i2.2xl. Not always the same instance type that fails to start & timings vary as to when the start retry will work. This morning was the little c3.l (i-aebc65ec) & some 15 minutes.
Is it at all possible for yourselves to manually remove instances from the placement group (UAT)? As I understand that this is not possible through the console/api except through termination of the instance... Or possibly change the placement group physical hardware 'location' where resources are more readily available?
Really appreciate as these are client facing systems...
Many Thanks,
Lee."
Amazon EC2	"No Upfront Reserved instance is incurring on demand charges for m2.4xlarge
Hi,

I have recently purchased a reserved instance of m2.4xlarge with ""No Upfront"" option. But when I checked the monthly bill, the charges appear both in the reserved instance and on-demand instance section. Please help sort out this issue, this is causing billing issues on our end. How do I prevent this in the future?

Thanks and Regards,"
Amazon EC2	"Re: No Upfront Reserved instance is incurring on demand charges for m2.4xlarge
Have a look here:  http://aws.amazon.com/ec2/pricing/#reserved-instances  I think that is how it is supposed to work.   Do the numbers add up in your case?

We only purchase all up-front reserved instances so I'm not 100% sure that I'm right about this."
Amazon EC2	"Re: No Upfront Reserved instance is incurring on demand charges for m2.4xlarge
Hi,

I have created an outbound billing support case to address your query regarding the charges in relation to instance m2.4xlarge and a Reserved Instance with ""No Upfront"" on case 1422225711. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M"
Amazon EC2	"Instances stuck in Stopping state.
Hi,

We've had two instances in separate accounts get stuck in the stopping state since last night due to underlying hardware failures and need a hand getting them stopped. Force stop and trying to detach the volumes don't work.

Instance IDs:
i-231df71f
i-0babc548

Cheers,
Brian"
Amazon EC2	"Re: Instances stuck in Stopping state.
Good day Brian

I confirm  i-231df71f  has already been stopped and restarted.
I also confirm that I have now manually stopped i-0babc548, you should be able to restart the instance.

Best Regards
Imthian R"
Amazon EC2	"Re: Instances stuck in Stopping state.
Thank you Imthian!"
Amazon EC2	"IIS client certificate authentication behind ELB
Hi,

We would like to setup SSL Client Certificate authentication on IIS behind ELB. If we connect directly to site without ELB, certificate authentication works as it should but if we setup ELB and access through ELB, we are keep on getting an error ""HTTP Error 403.7 - Forbidden"". 

On ELB I've configured https with 443 port for load balancer and EC2. Just for test I've disabled certificate authentication on IIS and webpage works ok through ELB so certificate for backend authentication on ELB is configured properly. As soon I enabled certificate auth on IIS, we get http error 403.7.

Any idea what did a miss? Can this even be done?

Best regards,
Matjaz"
Amazon EC2	"Re: IIS client certificate authentication behind ELB
Bumping this thread because I'm having the exact same issue."
Amazon EC2	"Re: IIS client certificate authentication behind ELB
Hello,

Be sure you have setup the back-end authentication on the ELB if you would like to have the traffic from the ELB to your instances encrypted.  You can do this via the ELB launch wizard when first creating it; however, if you are looking to configure it after-the-fact, you will need to utilize the AWS CLI.

Via the Console (creation only): http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/config-backend-auth.html
Via the CLI (any time): http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/configure_backendauth_clt.html

Best regards,
Justin G."
Amazon EC2	"Re: IIS client certificate authentication behind ELB
Hi there, 

I would like to add some context on client side certificates and ELB. 

At this point in time the ELB does not support client side certificates when using layer 7 listeners. In order to get client side certificates working through the ELB, you can change the listeners to use a TCP listener and set the port to 443.

When using TCP listeners, the ELB will simply pass all traffic from the client to the backend instances associated to the ELB as is. 
This will not work with SSL listeners as the ELB will now terminate the client connection on the ELB before sending the request to the backend which will cause issues with the certificate.

Although you will be using TCP listeners on port 443, this traffic will still be encrypted between the client and backend instance, the ELB will simply pass the client traffic to the backend. 

Regards
Darren R"
Amazon EC2	"185.34.22.38 spamming our ec2 instances
EC2admins,

We are being spammed from this ip 185.34.22.38. So far all requests hitting a single url on our ELB based instances. Can you guys block this spammer? I have sent an email with requests we are getting from this ip.

Thanks!"
Amazon EC2	"Re: 185.34.22.38 spamming our ec2 instances
Are you running EC2-VPC? If you are, you should be able to block the IP in your VPC's ACL. The problem with trying to do this at the ELB level is that the security groups can only allow traffic but not deny traffic, and it's hard to set up a EC2 security group that says ""ALLOW all EXCEPT …"". I'm not even sure if it's possible.

But go over to the VPC control panel and select Security > Network ACLs, select the default ACL group for your VPC and you should be able to add a DENY Inbound rule for the offending IP address. Refer to the manual carefully: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html"
Amazon EC2	"Re: 185.34.22.38 spamming our ec2 instances
Thanks. Unfortunately we are using ec2 classic and hence we can't block it. USually AMazon will detect such traffic and block the ip at their firewall. For some reason, tehy haven't responded yet."
Amazon EC2	"Re: 185.34.22.38 spamming our ec2 instances
Hi  skchub,

I'm investigating this now. We'll get you an update once we have further information.

Regards,

Rodney"
Amazon EC2	"Re: 185.34.22.38 spamming our ec2 instances
Good day 

Thank you for bringing this to our attention, this has been noted. However you should be configuring on your backend instances to parse the X-Forwarded-For header that our ELBs add:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/x-forwarded-headers.html#x-forwarded-for
Similar to what's posted at: http://hungrygeek.holidayextras.co.uk/ops/2012/09/19/apache-deny-ip-address...
if you are using Apache for example. In addition we suggest engineering more security into the application layer by implementing CAPTCHAs and tarpitting.

Best Regards
Imthian"
Amazon EC2	"Transfer AMI's to Another AWS Account and not be associated with my account
Hi- I was interested in finding out the process to be able to Create a Clone of an AMI in my account and then transfer this Cloned AMI with all rights to an non-affiliated account who will be the only one with completed control over the AMI."
Amazon EC2	"Re: Transfer AMI's to Another AWS Account and not be associated with my account
Hi,

Take a look at:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharingamis-explicit.html

Cheers,

Stooby..."
Amazon EC2	"Re: Transfer AMI's to Another AWS Account and not be associated with my account
Hi Stooby33-  Will this process make us independent of each other going forward?"
Amazon EC2	"Re: Transfer AMI's to Another AWS Account and not be associated with my account
Hi dailye,

I can only speak to the service itself and how it works. You are essentially taking an exact copy (AMI) and sharing it with another account. The account receiving the shared AMI should also create an AMI from the shared AMI which essentially makes it a permanent addition to their account.

With regards to the rights and affiliations, you should consult legal counsel to ensure the process aligns itself with your use case and goals.

Regards,

Rodney"
Amazon EC2	"Re: Transfer AMI's to Another AWS Account and not be associated with my account
Thanks for the input Rodney"
Amazon EC2	"How to enable www in subdomain in Amazon AWS EC2 Server
Using: Amazon AWS EC2 Ubuntu 

I have some problems when I want to add www in subdomain. Because subdomain.domain.org works fine but www.subdomain.domain.org.

I connected to my AWS Instance I go to Route53->Hosted zones-->Add Records Set.

Example:

domainname.org. A ALIAS www.domainname.org.

domainname.org. NS

domainname.org. SOA

subdomain.domain.org. A ALIAS www.subdomain.domainname.org.

www.subdomain.domainname.org. A MyElasticIP

www.domainname.org. A MyElasticIP

Then in my /etc/apache2/sites-available/httpd.conf I have inserted virtualhosts

<VirtualHost *:80>
   ServerName domainname.org
   ServerAlias www.domainname.org
   DocumentRoot var/www/html/domainname.org
</VirtualHost>
<VirtualHost *:80>
   ServerName www.subdomain.domainname.org
   ServerAlias subdomain.domainname.org
   DocumentRoot var/www/html/subdomainname.domainname.org
</VirtualHost>

When I try to access to subdomain.domainname.org URL is ok but www.subdomain.domainname.org URL doesn't work. So I don't know know what I am doing wrong here, please I need some help. Thank you in advance!"
Amazon EC2	"Re: How to enable www in subdomain in Amazon AWS EC2 Server
Moving to appropriate category"
Amazon EC2	"How to prevent account owner from accessing EC2 and Redshift
One of our customers wants us to process their data in their own AWS account. They will create an AWS id for us and we will create an environment in their account.

We are concerned that they will have access to our code, intermediate calculations, database schema etc and our intellectual property (IP) may not be protected.

Our environment consists of a Redshift cluster and EC2 machines running python code. Data is stored in S3.

Are there any steps we can take to prevent the customer from accessing our environment even when they own the account?

Encryption will not help because the encryption keys are stored in the account itself, which the account owner can access. Code obfuscation is another option (not so good).

Thanks!"
Amazon EC2	"Re: How to prevent account owner from accessing EC2 and Redshift
Hi KishoreGa,

It sounds like you want to use IAM (http://aws.amazon.com/iam/) inversely. I've submitted your feature request to our internal teams for review.

That being said, you could technically lock-down each resource to prevent the account owner from accessing it. The thing is though, the account owner will always have control over the resource (copy, delete, move at the resource level). 

As an example let's think about an EC2 instance. You want to launch an EC2 instance but prevent the account owner from accessing it. You take steps to generate your own access keys for the instance (not stored in AWS), and have passwords applied to the instance and applications itself. None of this information is shared with the account owner. In this situation, the account owner can't access the instance/data, but they still have control over it. The account owner can still take snapshots or stop/start/terminate the instance.

Let's assume the account owner takes a snapshot of an EBS volume with your data on it. The account owner could then create a new EBS volume from the snapshot and attached said volume to a new instance. Without some level of encryption the account owner could easily access your data.

I hope the above info is helpful.

Regards,

Rodney

Edited by: RodneyM@AWS on Jun 15, 2015 3:55 PM"
Amazon EC2	"Licensing question for SQL Server 2012 in EC2 machine
Hi all,

In creating an EC2 instance with Server 2012 and SQL Server 2012 Standard, I found it very nice that Amazon rolls the SQL for you so you don't have to install it.

My one question though --we have a license for SQL Server 2012 Standard Core Edition.  I want to make sure we're compliant with that license, and unsure of the next step.  Does it just make more sense to create an instance of Server 2012 and install our SQL server on top of it, or is there a way I can make sure I'm doing things aboveboard with the pre-fabbed instance?"
Amazon EC2	"Re: Licensing question for SQL Server 2012 in EC2 machine
Hi lonewolf-15,

I'd take a look at the following article and work through the process outlined by Microsoft. If you still have questions there's a contact form & email address you can reach out through for more information.

http://aws.amazon.com/windows/resources/licensemobility/

Regards,

Rodney"
Amazon EC2	"Elastic IP is falsely blackedlisted by bl.spamcannibal.org
Hello everybody, 

Our Elastic IP (107.21.110.125) has been blacklisted by SpamCannibal, falsely.
The reason, I believe, is that in the same IP segment, there is a real newly-blacklisted IP 107.21.110.89.

Does anyone know whether it's possible to remove our IP from their blacklist? How?
Any suggestions are welcome.

Thanks in advance."
Amazon EC2	"Re: Elastic IP is falsely blackedlisted by bl.spamcannibal.org
Hi  swencheng,

I'm looking into this now. Myself or someone on the team will get you an update once we have further information.

Regards,

Rodney"
Amazon EC2	"upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
I tried to upgrade my old instance, which is 0.9.9-beta.

Here are what I did. 
1, run ""sudo yum update""
2, reboot the instance.
3, follow http://aws.amazon.com/amazon-linux-ami/2011.02-release-notes/, and I did
sudo yum upgrade system-release
sudo /usr/sbin/distro-upgrade.sh
sudo /usr/sbin/distro-upgrade.sh --I-agree
sudo /sbin/reboot -f
4, after rebooting, I cannot reach my instance. (ssh connection always time out).

I noticed the http://aws.amazon.com/amazon-linux-ami/2011.02-release-notes/ is for upgrading from older Amazon Linux AMI 2010.x, but mine is 0.9.9-beta. Is there any guide for upgrading 0.9.9-beta?

Thanks."
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
Hi there,

Can you please supply an instance-id so we can take a closer look?

Thanks,
ColinD"
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
hi, 

Instance-id: i-b3699bdf
It is located in us-east-1c.

I didn't upgrade it directly. 
Instead, I made an AMI from it, and started another test instance to test upgrading and encountered the problem.

Thanks in advance."
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
Hi swencheng,

I am getting a response from sshd on port 22. Can you verify connectivity please?

Regards,
Mary"
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
The one I gave you is still 0.9.9-beta version. 

Try this one, I just upgraded it to 2011.02, and cannot reach it after rebooting.
Instance-id: i-0692367e

Thanks."
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
Hi there,

Sorry for the late response on this.

I can see from the ""Get System Log"" on the instance i-0692367e that it's hitting errors like:
Map 2048 (25f7fd, ...) at 0x27eed000 failed: -22.
Do_exit called!
base is 0x26617b58 caller is 0x45c87
base is 0x26617b88 caller is 0x507a4

This normally indicates that there has been an issue with loading the kernel itself or a kernel module.

It is unclear how old the image is or what changes may have occurred to it because I see you have created many snapshots and launched from those snapshots over the lifetime of this image.

To try to troubleshoot this, you could try to perform the upgrade the same way, but when it fails, you could then detach the volume and attach and mount it to a running instance and review the logs to see if you can determine what the cause might be.

As this is quite an old image, I would recommend that you start a new instance from the most recent Amazon Linux AMI, re-add your software stack and transfer the data over from snapshot to upgrade to the latest version.

Thanks,
ColinD"
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
Hello,

The error ""Map 2048 (822bab, ...) at 0x27eed000 failed: -22"" is a known issue with an older PV-Grub AKI. Only i386 (32-bit) t1.micro instances exhibit the issue, when upgrading Amazon Linux AMI from versions previous to 2011.09 to the latest kernel:
https://aws.amazon.com/amazon-linux-ami/2011.09-release-notes/

The solution is modifying the instance AKI to use the lastest PV-Grub AKI.

Find the PV-Grub AKI's for your given region by running:

ec2-describe-images -o amazon --filter ""manifest-location=*pv-grub-hd0_1.03-i386*"" --region REGION.

Currently running instances need to be stopped before replacing the AKI. The following commands point an instance to the new AKI:

ec2-stop-instances --region us-east-1 i-#####
ec2-modify-instance-attribute --kernel aki-b6aa75df --region us-east-1 i-#####
ec2-start-instances --region us-east-1 i-#####.

A complete list and further background can be found in the ""Enabling Your Own Linux Kernels"" section of the EC2 User Guide here:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/UserProvidedkernels.html

Best regards,
Joshua F."
Amazon EC2	"Re: upgrading problem - cannot reach my instance after upgrading  0.9.9-beta
I copied everything to a new instance, manually, and replaced the old instance with it."
Amazon EC2	"Instance myseriously quit responding, won't stop or force stop.
About 12 hours ago I had an alarm that my instance (i-261f565d) stop responding. I just tried to restart it, stop it, and force stop it. It has been in ""stopping"" state for at least 15 minutes.

What can I do to get this resolved?"
Amazon EC2	"Re: Instance myseriously quit responding, won't stop or force stop.
It's finally stopped."
Amazon EC2	"EC2 t2.*? trunicates HTTP header
Hi All,

A strange one I have found other references to this online, but no answer to the issue. I has a t2.micro instance and have found that the HTTP POST header trunicates. Online there is a reference to this as an issue and the suggestion was to upgrade to a bigger server. 

I upgraded to a t2.small and still have the same issue.

Note I am not doing any file uploads so its not that big, its just quite a long form that gets submitted as it contains arrays of values.

Does anyone know why this happens and what can be done to fix it?

TIA"
Amazon EC2	"VPC Endpoint for S3 using s3fuse - Verify it's working
After setting up a VPC endpoint, is there any way to actually tell if the S3 traffic is being routed internally while using s3fuse?"
Amazon EC2	"Using CLI to set multiple instances in ASG to StandBy results in error
I have a process setup with CodeDeploy to automate the deployment of my application. The deploy involves automated scripting of deregistering/registering instances from an ELB. I'm using the same scripts from the awslabs/aws-codedeploy-samples repo. This process works well when deploying to multiple instance one-by-one, however when attempting to deploy to half of the instances at once the 'autoscaling enter-standby' command errors out every time for at least one instance.

Generally, performing this command on two separate instances in same ASG at the same time seems to result in one responding successfully and the other responding with an error:
.
.
""userAgent"": ""aws-cli/1.7.14 Python/2.7.9 Linux/3.14.35-28.38.amzn1.x86_64"",
""errorCode"": ""InvalidParameterValueException"",
""errorMessage"": ""An unknown error occurred"",
.
.

The requestParamters object is exactly the same for each response from the API, so this error code is misleading... 

Is this just an issue being the inability to perform same operation for separate instances within an ASG at the same time or is this an issue with the API?

Note: ASG min capacity is being adjusted prior to this command within the bash script

Edited by: kusea20 on Jun 12, 2015 2:12 PM"
Amazon EC2	"Re: Using CLI to set multiple instances in ASG to StandBy results in error
After looking at this further, looks to be a concurrency issue with the scripts while setting minimum capacity"
Amazon EC2	"Intermittent network connection with EC2 instances
Hello,

We are experiencing intermittent network connectivity issues to our EC2 instances today. At a certain point, SSH and MySQL are responsive and reachable, but a few seconds later, they time out and become unresponsive. We have checked a few things, but nothing seems wrong. CPU usage is about 60%. Memory usage is about 50%.  What is weird is that we are able to do an operation (let's say SVN, SSH or MySQL), and a few seconds later, the same operation times out, as if the network was going down then back up, then down again and so on.

Here is a Traceroute to one of our affected servers

C:\Users\User>tracert cmq.io

Tracing route to cmq.io
over a maximum of 30 hops:

  1    <1 ms    <1 ms    <1 ms  10.10.1.1
  2    <1 ms    <1 ms     1 ms  modemcable073.82-70-69.static.videotron.ca
  3    28 ms    27 ms    44 ms  10.57.120.1
  4    25 ms    21 ms    28 ms  216.113.124.190
  5    38 ms     *       21 ms  216.113.126.134
  6    20 ms    19 ms    20 ms  216.113.125.58
  7     *        *        *     Request timed out.
  8     *        *        *     Request timed out.
  9     *        *        *     Request timed out.
 10     *        *        *     Request timed out.
 11     *        *        *     Request timed out.
 12     *        *        *     Request timed out.
 13    28 ms    28 ms    23 ms  216.182.224.235
 14     *        *        *     Request timed out.
 15     *        *        *     Request timed out.
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22    34 ms    26 ms    22 ms  ec2-54-83-199-76.compute-1.amazonaws.com

Trace complete.

I don't know exactly where or what to look for to fix this issue. 
Is anybody having the same issue at the moment? Or had this issue in the past?

Thank you"
Amazon EC2	"Re: Intermittent network connection with EC2 instances
hi 
there is some networking issue between videotron and Ec2 
see here : https://forums.aws.amazon.com/thread.jspa?messageID=629922&#629922"
Amazon EC2	"Re: Intermittent network connection with EC2 instances
Any news from them? Or has any solution been found at all?

I mean, it can't just be between one ISP and Amazon, right? It has to be generalized in some way.

We tried many things to fix that problem but nothing has worked so far. 
Our servers seem to work properly,  as far as we could see when we were able to connect to them.

Your thread is on my watch list, I'll keep checking out for answers.

Cheers!"
Amazon EC2	"EC2 instance stuck in ""stopping"" state
Hi EC2 support,

I received an alert on the Management Console that my EC2 instances id ""i-b9eba0a5"" was scheduled for retirement, and suggested me to stop, and restart instance for migration.

I've clicked the ""stop"", but the instance stuck in ""stopping"" status, I clicked ""stop"" again to Force stop, but it still in ""stopping"" status. Can you please check this issue?

My instance id is: i-b9eba0a5

Thanks,
Bruno"
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello Bruno,

Apologies for the inconvenience, your instance should be reporting as stopped now.

Best regards,
Justin G."
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Justin, 

The issue was solved.

Thank you very much! 

Best Regards,
Bruno"
Amazon EC2	"EC2, directory service and sql installation
Hi,

I have set up EC2 instance and join it Simple AD, which is set up on AWS directory service.

When I try to install SQL server 2014 (on Win Server 2012 R2), it hangs during SQL setup wizard, on Server Configuration screen. Everytime I select account from directory service, setup stops responding. 

Did anyone else had any similar problems...?

Best regards,
Matjazs"
Amazon EC2	"Connection refused after create image
After creating an image from an instance our website is down and we are getting connection refused. Searching the forum yielded answers saying I need to detach the volume and reattach to another running instance to modify the iptables however NO changes were made to the running instance, would the IPtables be modified?

How could the iptables have changed?

Instance ID : i-efc41924

Website down

Edited by: Kevinc1234 on Jun 15, 2015 3:15 AM"
Amazon EC2	"Re: Connection refused after create image
Apache and MySQL were down, not iptables problem."
Amazon EC2	"Unable to connect to ASG instances
One of the services running under an ASG appears to have gone down --however the ASG health check is reporting the instances as up. In trying to troubleshoot it appears that we can no longer connect to these instances over SSH either via our VPN>VPC connection or from another instance in EC2.

We tried changing the security group to allow all traffic but we are still unable to connect. We also tried to connect from a server already in the cloud but no luck that way either. We included some of the logs from trying to connect and the instances that are having this issue.

Instances
i-d4c5ae38
i-d5c5ae39
i-6589bf9a
i-07c1aaeb
// Inside EC2
[ec2-user@ip-10-0-1-101 ~]$ ssh 10.0.3.213 -vvv
OpenSSH_6.2p2, OpenSSL 1.0.1j-fips 15 Oct 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 50: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 10.0.3.213 [10.0.3.213] port 22.
debug1: connect to address 10.0.3.213 port 22: Connection timed out
ssh: connect to host 10.0.3.213 port 22: Connection timed out

// Over VPN
HAL9000:~ jworden$ ssh -i ~/.ssh/aws ec2-user@10.0.3.213 -vvvv
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/jworden/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: auto-mux: Trying existing master
debug1: Control socket ""/Users/jworden/.ssh/control-master/ec2-user@10.0.3.213:22"" does not exist
debug2: ssh_connect: needpriv 0
debug1: Connecting to 10.0.3.213 [10.0.3.213] port 22.
debug1: connect to address 10.0.3.213 port 22: Connection refused
ssh: connect to host 10.0.3.213 port 22: Connection refused

// Over VPN
HAL9000:~ jworden$ telnet 10.0.3.213 22
Trying 10.0.3.213...
telnet: connect to address 10.0.3.213: Connection refused
telnet: Unable to connect to remote host


Any ideas what we can try in order to restore connectivity?

At this point we're starting to rebuild the stack in a new group to restore access to our production services that rely on it.

Edited by: solocommand on Jun 15, 2015 9:00 AM"
Amazon EC2	"Re: Unable to connect to ASG instances
I should point out that new instances launched from the AMI that this ESG is using (ami-4c8be924) are not able to be connected to via SSH either.

New instances don't appear to have a connection issue, but we're unable to boot up an new instance using the existing configuration on the AMI to restore data to the new cluster."
Amazon EC2	"Elastic IP Re-associated to my Account
Please Help.

We upgraded our instance and lost our elastic IP address. We had the image from the AWS marketplace and the IP must have been obtained automatically. We never realized that it was not specifically associated with our account. Once we upgraded our instance the IP was lost forever.

Is there anyway to get the following ip address associated with our account? 54.152.53.162

Edited by: afry316 on Jun 15, 2015 9:11 AM"
Amazon EC2	"Re: Elastic IP Re-associated to my Account
Hello,

Unfortunately, 54.152.53.162 was not an Elastic IP but rather a standard public IP.  A public IP will be lost on instance stops and starts and cannot be regained.  In this case, your best option would be to provision an Elastic IP, associate it with your instance, and update any DNS entries to prevent this from happening again in the future.

Best regards,
Justin G."
Amazon EC2	"AuthorizeSecurityGroupIngress doesn't work w SourceSecurityGroupName param
The parameter SourceSecurityGroupName for the ec2 API function AuthorizeSecurityGroupIngress is a bit misleading.

I thought I should be able to authorize access from to a certain security group by specifying the source group name. Here is the sample code (using boto): 

conn.authorize_security_group(
   group_id=db_sg.id, 
   ip_protocol='tcp', 
   from_port='3306', 
   to_port='3306', 
   cidr_ip=None, 
   src_security_group_name='DEVVPC-appserver-sg')


And this is the result:
ERROR:boto:400 Bad Request
ERROR:boto:<?xml version=""1.0"" encoding=""UTF-8""?>
<Response><Error>
<Code>InvalidParameterCombination</Code>
<Message>An IP permission for a VPC security group may only include a group ID, not a group name.</Message></Error>
</Response>


I'm going to change my code to work with sg-ids, but begs the question, what is the purpose of SourceSecurityGroupName parameter?"
Amazon EC2	"Amazon Linux Docker 1.6
Hi,

Doesn't look like anyone's asked yet. We're on docker 1.5 in our production environments and docker 1.6 has some much needed improvements. Can you provide a timeline for the release of docker 1.6 to the official repos? Also, generally how long do you typically wait to release feature updates to docker in particular?

Thank you!"
Amazon EC2	"Re: Amazon Linux Docker 1.6
Hi,

We are aware of Docker 1.6's release, and we are working through the related packages that we will need to update it along with Docker 1.6 as part of the Amazon Linux AMI repositories.

We have made a note of this thread and we will return to it once Docker 1.6 is available.

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: Amazon Linux Docker 1.6
Any update on this? I'm interested in timeframes as there's a bit of a conundrum with deciding to use Docker Registry or the newly released Docker Distribution with requires 1.6+ clients."
Amazon EC2	"Re: Amazon Linux Docker 1.6
Its already released.

http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/concepts.platforms.html#concepts.platforms.docker

Edited by: zaller1 on Jun 15, 2015 7:38 AM"
Amazon EC2	"EC2 Instance Freeze
I own a ec2 instance (m2.xlarge) (i-ec0ca0f9) than 3 times that week just stopped responding, follows days/hours schedules:

Sunday (07/06) - 21:16 (UTC-3)
Monday (08/06) - 21:42 (UTC-3)
Friday (12/06) - 2:06 (UTC-3)

Windows log is equal to three situations:

Log Name: System
Source: EventLog
Date: 6/12/2015 8:39:17 AM
Event ID: 6008
Task Category: None
Level: Error
Keywords: Classic
User: N / A
Computer: WIN-C3TJBKLIK46
Description:
The previous system shutdown at 2:07:44 AM on 6/12/2015 was unexpected.

Log Name: System
Source: Microsoft-Windows-Kernel-Power
Date: 6/12/2015 8:39:11 AM
Event ID: 41
Task Category: (63)
Level: Critical
Keywords: (2)
User: SYSTEM
Computer: WIN-C3TJBKLIK46
Description:
The system has rebooted without cleanly shutting down first. This error Could be Caused if the system stopped responding, crashed, or lost power unexpectedly.

Both times I was only able to restore service by turning off the server and on again, the reboot action was only thinking.

It can be a problem in the hardware this instance?"
Amazon EC2	"Re: EC2 Instance Freeze
Hi  caio_henrique,

I had a look at the instance i-ec0ca0f9 and the previous host(s) it was running on. During the times your instance become unresponsive the underlying hosts were reporting healthy and I didn't see any network errors which would make the instance inaccessible. At this time I don't believe the underlying host(s) are the cause with the issues you are experiencing.

I would suggest taking a look at the applications you have running and what they are doing around the time your instance freezes. 

Regards,

Rodney"
Amazon EC2	"Re: EC2 Instance Freeze
I understand,

Well, this morning the problem occurred normally, and the symptoms were exactly alike. Looking on it from the Microsoft Forum find the following content:

""Scenario 3: The system randomly restarts and no Stop error BugcheckCode is listed, or the computer is completely unresponsive (hard hang)

Click here to show / hide scenario
The Stop error code and the PowerButtonTimestamp are listed zero. For example, the handsome Following scenarios:
The Stop error BugcheckCode value is listed zero. Circumstances can Prevent writing the Stop error BugcheckCode information before the computer restarts or shuts down. In this case, the BugcheckCode value of zero is logged. Also, perhaps the Stop error occurred, and the shutdown resulted from a power loss. For example, on a portable computer, this que Could mean the battery is removed or completely drained. Or, on a desktop computer, this mean que Could the computer was unplugged, or a power outage occurred.
The PowerButtonTimestamp is listed zero. Circumstances can Prevent writing the PowerButtonTimestamp information before the computer restarts or shuts down. In this case, the value of zero is logged. This can Occur if the power button is pressed and held for at least four seconds When Windows has an operation running que Prevents writing the event to disk. You might also see this scenario if the computer is ""hard-locked"" and Therefore unresponsive to any input, and the computer has to be powered off. To determine Whether the computer is unresponsive, try pressing the CAPS LOCK key to toggle the CAPS light on the keyboard.
To check Whether this scenario is occurring, press the CAPS LOCK key on the keyboard. When you do this, if the CAPS LOCK light on the keyboard does not change When You press the CAPS LOCK key, the computer may be completely unresponsive (hard hang).

This scenario Usually Indicates a problem with the hardware. To help isolate the problem, check the Following items:
Overclocking: Disable overclocking to see Whether the issue Occurs when the system is run at the correct speed.
Check the memory: Verify the memory by using a memory checker. Verify que each memory chip is the same speed and That It is Correctly configured in the system.
Power supply: Make sure que the power supply has enough wattage to handle the Appropriately installed devices. If you added memory, installed a newer processor, installed additional drives, or added external devices, such devices can require more energy than the current power supply can Provide consistently.
Overheating: Check Whether the system is overheating by examining the internal temperature of the hardware.
Defaults: Reset the system back to the system defaults to see Whether the issues Occur When the system is running in its default configuration.""

The more complicated is that we do not have more information on any site, the only task that we run at night is a backup through the ""Windows Server Backup"", however this is already running for months and never presented any problems, I'll be disabling routine to check if it has some connection.

Att;"
Amazon EC2	"EC2 import stuck at 53%
Good Afternoon,

I am hoping for assistance with my EC2 Import getting stuck at 53%. Please see below for output.

TaskType	IMPORTINSTANCE	TaskId	import-i-fg9iz0gz	ExpirationTime	2015-06-19T19:50:34Z	Status	active	StatusMessage	Progress: 53%	InstanceID	i-a15b765e
DISKIMAGE	DiskImageFormat	VMDK	DiskImageSize	907831296	VolumeIvol-8b9a9973	VolumeSize	15	AvailabilityZone	us-east-1d	ApproximateBytesConverted	907829312	Status	completed"
Amazon EC2	"Re: EC2 import stuck at 53%
Hello,

We have contacted you directly via support case 1420457411.

Please reply there and we'll continue to troubleshoot this with you.

Thanks,

Richard"
Amazon EC2	"Re: EC2 import stuck at 53%
Edited: Will reply to the support case section, thanks Richard!

Edited by: DustinIWG on Jun 15, 2015 6:23 AM"
Amazon EC2	"Is there a sandbox or development environment
Hi,

I would like to develop a web application to create and manage EC2 instances. To avoid costs, I would like to do that on a sandbox environment. For example, creating a new instance return success code on the api but no actual instance would be creates. In a similar way instances could be started/stopped from the api without this having any effect.

Is this possible at the moment?

Thanks"
Amazon EC2	"Re: Is there a sandbox or development environment
Hello,

Thanks for contacting AWS Premium Support.  As described in the API reference (http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) you could use the ""DryRun"" parameter and code your application to accept the DryRunOperation exception as a success while in test mode.

I hope this helps.

Regards,

Matt W."
Amazon EC2	"EC2 instance powered off, why?
Hi guys,

I wanted to let some computations run during the weekend, started an r3.2xlarge instance on Friday (instance ID is i-8db78343) and somehow, when I returned to my computer this morning, the log said:
Broadcast message from root@ip-172-31-14-227
	(unknown) at 6:48 ...

The system is going down for power off NOW!

It looks like the instance went off-line for some time and then came back at some point since it was marked as running in the console when I came back. As nobody had access to the machine and I did not initiate the shutdown, my best guess would be that something went wrong on the cluster...? Otherwise, I really do not know what happened

Greetz,
Phil"
Amazon EC2	"Re: EC2 instance powered off, why?
Hi Phil,

I've had a look at instance i-8db78343 and can see that it is currently in the stopped state. I only see two API calls for this instance:

RunInstances
2015-06-12T15:09:32+0000
StopInstances
2015-06-15T06:48:19+0000

These calls were issued by your root account via the AWS EC2 web console. Let us know if there is anything else we can do to help.

Kind regards,
Chris"
Amazon EC2	"Re: EC2 instance powered off, why?
Hi Chris,

thanks for the quick answer! What you state is correct, from the console there were only 2 actions: starting the instance on Friday and then stopping it this morning when I discovered something went wrong (btw: in the meantime there is 1 more run+stop call for this instance, so 4 calls in total). I checked /var/log/syslog* but did not find signs for a shutdown there either. So, at the moment, nothing explains the The system is going down for power off NOW! message... I'll just hope it won't happen again and leave it at that for the moment...

Cheers,
Phil"
Amazon EC2	"Instance i-51d6da33 stuck in shutting down
I have an instance i-51d6da33 that is stuck in the shutting-down state."
Amazon EC2	"Re: Instance i-51d6da33 stuck in shutting down
Hello,

Instance i-51d6da3 has terminated successfully.

Kind regards,
Chris"
Amazon EC2	"Your service sign-up is almost complete!
Hello!
 I'm a new AWS user, I've created account and try to access EC2 console, but I get following message:
======
Your service sign-up is almost complete!

Thanks for signing up with Amazon Web Services. Your services may take up to 24 hours to fully activate. If you’re unable to access AWS services after that time, here are a few things you can do to expedite the process:
Make sure you provided all necessary information during signup. Complete your AWS registration.
Check your email to see if you have received any requests for additional information. If you have, please respond to those emails with the information requested.
Verify your credit card information is correct. Also, check your credit card activity to see if there’s a $1 authorization (this is not a charge). You may need to contact your card issuer to approve the authorization.
If the problem persists, please contact Support:
=====

I filled my personal info correct, I filled my credit card data, 1$ was holded. I registered more than 72 hours ago. But I still can't access EC2 console. I create support case, no any reaction. Its status unassigned. Case ID is  1419719901. Account number is 665989344435. Help please."
Amazon EC2	"Re: Your service sign-up is almost complete!
Hi,

I see that you have a support case opened regarding the difficulty you are experiencing with accessing the EC2 Service. I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1419719901

Regards,

Luke H."
Amazon EC2	"Volume stuck in 'deleting'
Hi,

We also have a volume stuck in deleting for 12+ hours now, can someone remove it: vol-fe556bf9

Cheers
Andy"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hello Andy,

I have requested our EBS team to take a look at the issue you are facing. We will update you with details through this forum post.

Regards
Shiroy"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hello,

I can confirm that now your volume vol-fe556bf9 is correctly deleted.

Regards,
Giorgio"
Amazon EC2	"Re: Volume stuck in 'deleting'
Thank you for fixing it, we have two more now in the same condition:

vol-cf647ca6
vol-d32a35ff

Is there a reason they keep getting stuck?
I assume the billing time is not counted when in this state?"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hello Andy,

I have passed this information to the EBS team to look at this issue further for you. Once we have more information we will let you know.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Volume stuck in 'deleting'
Hi Andy,

The two additional EBS volumes were correctly deleted on 2015-05-22, and should no longer be appearing in your console.

Regards
Daniel J"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hi.

Can you please also look at vol-e52e24f1 (ap-southeast-2b) which has been stuck 'deleting' for several days.

Many thanks"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hi davo9,

Sorry about that! We're looking into this for you and will update this thread when we know more.

Kind regards,
Chris"
Amazon EC2	"Re: Volume stuck in 'deleting'
Hi davo9,

Volume vol-e52e24f1 has now been deleted.

Kind regards,
Chris"
Amazon EC2	"I can't make changes to my systems - is my account frozen?
The credit card date had expired and I have now updated it.

a/c 319631048400"
Amazon EC2	"Re: I can't make changes to my systems - is my account frozen?
Hi,

I see that you have a support case opened regarding the account issue. 

We have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1418955521

Regards,

Luke H."
Amazon EC2	"Instance i-96c337f4 is unreachable since almost 2 days
Instance i-96c337f4 is unreachable since 1 days, 5 hours and 16 minutes ago. It is in us-east-1d availability zone.
I tried Reboot, but it didn't help.
 Please help."
Amazon EC2	"Re: Instance i-96c337f4 is unreachable since almost 2 days
Hi there, 

Unfortunately the underlying hardware of this instance is having issues. 
Can you please try to stop/start your instance? 
If it does not stop in a timely manner, please force stop your instance by clicking stop again.

A reboot of this instance will not assist, as you will essentially be restarting it on the same underlying host that is experiencing an issue.

In order to move to a new underlying host, you will need to perform a stop start.

Data on the instance store volumes (if any) will be lost when you stop/start your instance. 
More information about instance store volumes can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#instance-store-lifetime
Also, the public IP associated with an instance will change after a stop start.  I can see that you are using an EIP, so this doesn't apply here. you will have to re-associate the EIP with your instance after you start it. (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#concepts-elastic-addressing)"
Amazon EC2	"Re: Instance i-96c337f4 is unreachable since almost 2 days
Thank you. 
We actually started another instance itself. 
When this happens next time, will try ""STOP"" and ""START"""
Amazon EC2	"bad magic number
Hello,

I am trying to import a vmdk with the command Import-EC2Instance.  The import goes OK until it starts the conversion, then it comes back with the error ClientError:File has a bad magic number

Does anybody know what that error means, and how to fix it?"
Amazon EC2	"Re: bad magic number
Hello, 

This usually occurs when we try to validate a vmdk and it is not in the correct format.

1. Can you make sure that this in fact is a vmdk ? Sometimes if we don't give the correct format choice, for example if it is a raw image and the format is set to vmdk this will occur.
2. If it is a vmdk, does it boot on your environment ? How did you create it?

I can see that you already opened a support case with us. Please update the support case with these info and an engineer will look at it for you. 

Regards
Fawzi"
Amazon EC2	"Deploying CloudFoundry on AWS - bosh deploy returns timed out pinging
Hi, guys!

I'm trying to deploy CF on aws and I'm following strictly this tutorial: http://docs.cloudfoundry.org/deploying/ec2/aws_steps.html

I completed succesfully steps 1, 2 and 3, but I'm stuck on step 4. When I run bosh deploy, I got it:

bosh deploy

Processing deployment manifest

Getting deployment properties from director...
Compiling deployment manifest...
Please review all changes carefully

Deploying

Deployment name: `minimal-aws.yml'
Director name: `microbosh'
Are you sure you want to deploy? (type 'yes' to continue): yes

Director task 33
  Started unknown
  Started unknown > Binding deployment. Done (00:00:00)

  Started preparing deployment
  Started preparing deployment > Binding releases. Done (00:00:00)
  Started preparing deployment > Binding existing deployment. Done (00:00:00)
  Started preparing deployment > Binding resource pools. Done (00:00:00)
  Started preparing deployment > Binding stemcells. Done (00:00:00)
  Started preparing deployment > Binding templates. Done (00:00:00)
  Started preparing deployment > Binding properties. Done (00:00:00)
  Started preparing deployment > Binding unallocated VMs. Done (00:00:00)
  Started preparing deployment > Binding instance networks. Done (00:00:00)

  Started preparing package compilation > Finding packages to compile. Done (00:00:00)

  Started compiling packages
  Started compiling packages > rootfs_cflinuxfs2/3e1f990a4a77b3daf012fdb278ece231150182b4
  Started compiling packages > haproxy/630ad6d6e1d3cab4547ce104f3019b483f354613
  Started compiling packages > buildpack_binary/816fc3f418dd9e6f3fd8a1dd0de4812c53a729d4
  Started compiling packages > buildpack_staticfile/f6c501e6e86abbd0620074d67c2aac2e49225ee3
   Failed compiling packages > rootfs_cflinuxfs2/3e1f990a4a77b3daf012fdb278ece231150182b4: Timed out pinging to 0d86a715-5035-4d2d-a7d8-62b17026d3fc after 600 seconds (00:11:04)
   Failed compiling packages > buildpack_staticfile/f6c501e6e86abbd0620074d67c2aac2e49225ee3: Timed out pinging to 435b8765-8e9a-4615-8328-6f7b30bca3c0 after 600 seconds (00:11:04)
   Failed compiling packages > haproxy/630ad6d6e1d3cab4547ce104f3019b483f354613: Timed out pinging to 4c86e063-3c06-497d-829b-12b5455679e9 after 600 seconds (00:11:04)
   Failed compiling packages > buildpack_binary/816fc3f418dd9e6f3fd8a1dd0de4812c53a729d4: Timed out pinging to 0a734427-f633-420e-94da-8d20ddc1d0be after 600 seconds (00:11:04)

Error 450002: Timed out pinging to 0d86a715-5035-4d2d-a7d8-62b17026d3fc after 600 seconds

I see on ec2 dashboard that the compilation vms workers start to run, but in a couple of minutes they suddently got terminated (the terminated ation is made by bosh, of course). The problem here, I think, is that the bosh director aren't communicating properly with compilation vms and so they got a timeout error. But I followed exactly the same steps from tutorial.

Also, I checked all the network config on aws console and nothing seems to be wrong. How can i solve it? Thanks in advance, guys!"
Amazon EC2	"about  ec2 reserved instance wrong platform and quantity duplicate
can someone help me ?

Question 1
Subject: I chose the wrong platform to VPC
Case ID: 1418777081
Status: Unassigned
Created: Jun 11, 2015 09:52 AM +0800
Case type: AccountCategoryBilling, Reserved Instances
By: vsp-rd@mivatek.com

I purchased resvered instance, but I chose the wrong platform , can you  help to modify a Non-VPC please?

Question 2
Subject: Quantity reserved instance to duplicate in tokyo
Case ID:1418938451StatusUnassigned
Created: Jun 11, 2015 05:17 PM +0800
Case type: AccountCategoryBilling, Reserved Instances
By: vsp-qa@mivatek.com"
Amazon EC2	"EC2 running multiple ENI
Hi everyone,

We have a EC2 instance which has minimum utilisation.  It's running Plesk 12 on CentOS 6.6.

We want to run additional ENIs so that we can segment the websites into those on shared IP addresses and those running dedicated IP's for SSL etc.

Of course we know that simply adding the second ENI is going to cause routing problems and have done a lot of reading on the subject however nearly every post says ""of course this is not the right way to do this"" but none detail the correct way.  So here is the question.  Are there any guides to the correct way to add multiple ENIs and EIPs to a CentOS based web server?  What is the official guide, if any?"
Amazon EC2	"Re: EC2 running multiple ENI
No one?  Hmmm, time to escalate this I think."
Amazon EC2	"How to Mimic Prod Environment
We have a particularly unique situation so I will try to be as clear as I can be.

We've a sales cloud account which UAT team uses for testing and another account for production. I want to know how can we make sure that the UAT environment mimics the production environment so that we can maximize your chances of finding any bugs. 

I created prod DB AMI and gave it to QA team for testing before release but it didn't work later I found out that, perhaps, due to some sort of restriction we can't use encrypted volumes AMI created in one account to another other account in VPC.

Note : Sales cloud is used by UAT teams for testing other products also.(Shared Environment). 

Could someone please provide any suggestion."
Amazon EC2	"t2.medium very poor gp2 iops
I have a very lightly used MySQL instance running on a t2.medium, with the data stored on a 945 GiB gp2 EBS volume. The volume contains a backup of production data, and a new volume is created every day. The t2.medium has far more CPU than need; I'm running a medium simply for the memory.

The volume should get 2835 IOPS (3 * 945), but when looking in `nmon` or `iostat` I get no more than 100 IOPS when running `dd` and even less when MySQL is waiting on the EBS volume.

Is there a way to get gp2 IOPS anywhere even close to the advertised 2835 capacity on a t2 instance?"
Amazon EC2	"Re: t2.medium very poor gp2 iops
Hello,

Thanks for posting. Without a volume id it will be hard for us to have any idea what might be happening. The first thing that comes to mind is you are being limited by bandwidth. If the chunks of data that are being sent are quite large you may see a reduction in IOPs. If you've not reviewed the following documentation I believe it might be useful:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html

I've personally found tools such as fio, iozone or sysbench as being really helpful. AWS does have a guide for using fio at the following link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/benchmark_piops.html

The configuration disk configuration is different but it might be worth looking into. Again if you can provide an volume id or the instance id that the volume is attached to we can look into this further.

Regards,
Brandon"
Amazon EC2	"Re: t2.medium very poor gp2 iops
The current volume is vol-97197d79 . Note that this volume will be deleted in approximately 18 hours as it is replaced daily as part of testing backups. The instance used remains the same day to day, and it has plenty of CPU credit.

The filesystem is ext4, no reserved blocks, but otherwise default settings. There are no other block layers in between (mdadm, etc.).

fio --directory=test --name fio_test_file --direct=1 --rw=randwrite --bs=16k --size=1G --numjobs=16 --time_based --runtime=180 --group_reporting --norandommap produces:

fio_test_file: (groupid=0, jobs=16): err= 0: pid=3926
  write: io=7124.7MB, bw=40517KB/s, iops=2532 , runt=180047msec
    clat (msec): min=1 , max=1167 , avg= 6.31, stdev=19.05
     lat (msec): min=1 , max=1167 , avg= 6.32, stdev=19.05
    bw (KB/s) : min=   28, max= 4032, per=6.46%, avg=2618.41, stdev=765.62
  cpu          : usr=0.12%, sys=0.35%, ctx=456918, majf=0, minf=421
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued r/w/d: total=0/455940/0, short=0/0/0
 
     lat (msec): 2=32.91%, 4=10.05%, 10=48.33%, 20=7.15%, 50=1.40%
     lat (msec): 100=0.03%, 250=0.05%, 500=0.03%, 750=0.02%, 1000=0.01%
     lat (msec): 2000=0.01%
 
Run status group 0 (all jobs):
  WRITE: io=7124.7MB, aggrb=40517KB/s, minb=41489KB/s, maxb=41489KB/s, mint=180047msec, maxt=180047msec
 
Disk stats (read/write):
  xvdz: ios=0/462402, merge=0/49652, ticks=0/4033132, in_queue=4033112, util=100.00%


Which shows appropriate numbers, and a simple `dd` confirms great performance.

Is there a period of time after making a gp2 volume from a snapshot where performance will be subpar? Even for repeated reads of the same blocks on disk? I was testing earlier, `cat`ing the same file to /dev/null and seeing on the order of 100 IOPS."
Amazon EC2	"Re: t2.medium very poor gp2 iops
Hello,

Thanks for providing the tests results. Looking at that output I believe the volume was performing as expected. You mentioned that you replace the volume daily, do you pre-warm the volume before use?

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-prewarm.html

If you are restoring a volume from a snapshot you'll more than likely notice a decrease in performance, but once pre-warmed the performance should return as stated in the above documentation. I've never tested cat'ing a single file and reviewing the IO, I've always dd the entire volume to the bit bucket and then tested.

Regards,
Brandon"
Amazon EC2	"Instance not responding
Instance i-90be0673 is not responding. It has passed the System status check, but not the Instance status check. Also, I can't get its System logs. I have tried rebooting already, with no success."
Amazon EC2	"Re: Instance not responding
After a few hours, the instance passed  the Instance status check and started responding. I still don't know what happened, though."
Amazon EC2	"Re: Instance not responding
Hello,

Thanks for posting. I've reviewed instance i-90be0673 and see that it is marked healthy as well as the underlying host. I can also reach port 22 on the instance. Are you still having issues with this instance? If you could provide further details such as the time you noticed this and what you mean by 'not responding' (is this SSH, web server, pings, etc...) that would be very helpful.

Regards,
Brandon"
Amazon EC2	"Re: Instance not responding
Hi Brandon,

As I wrote in my second post, after a few hours the instance passed the Instance status check and started responding. By responding I mean accessible through SSH. The problem happened around 10 pm GMT on June 09th."
Amazon EC2	"Re: Instance not responding
Hello,

Thank you for providing further information. Using this time frame the only item that I'm able to uncover is that the EBS volume had been throttled back to the baseline or 24 IOPs from 19:48 until 21:46 on June 9th.

There was an uptick in read and write IOPs issued to the volume starting around 16:30. This slowly depleted your burst credits until you were throttled back to the baseline of 24 IOPs for this 8BG volume. This can be seen around 19:46 in the following CloudWatch graphs:

https://console.aws.amazon.com/cloudwatch/home?region=sa-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeReadOps~2015-06-08T01%3A01%3A26Z~2015-06-10T23%3A59%3A26Z~Average~300~VolumeId~vol-5af45d46

https://console.aws.amazon.com/cloudwatch/home?region=sa-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeWriteOps~2015-06-08T01%3A01%3A26Z~2015-06-10T23%3A59%3A26Z~Average~300~VolumeId~vol-5af45d46

The Queue Length started increasing at 16:36 as seen in the following:

https://console.aws.amazon.com/cloudwatch/home?region=sa-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeQueueLength~2015-06-08T01%3A01%3A26Z~2015-06-10T23%3A59%3A26Z~Average~300~VolumeId~vol-5af45d46

I see no other issues with this instance other than the above. If you expect this type of IO behavior to continue I would recommend that you increase the root volume size to increase the baseline IOPs that is suitable to handle this.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_gp2
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

This is very similar to another forum thread that I just responded to exhibiting similar symptoms.

https://forums.aws.amazon.com/thread.jspa?tstart=0&threadID=181122

Regards,
Brandon

Regards,
Brandon"
Amazon EC2	"Are EC2 instances behind NAT?
I just tried having my EC2 instance listen on port 8000 for an incoming UDP packet (size 1230 bytes) and my packet won't come through. It works just fine when I listen from localhost and I changed the security group for that instance to allow incoming packets from that port. Is the EC2 instance NAT'd? Does it have an unusually small (sub 1500 byte) packet limit?

Running on a fresh Ubuntu 14.04 instance"
Amazon EC2	"Re: Are EC2 instances behind NAT?
Hello,

Could you give me the instance ID (i-xxxxxxxx) so I can review your security group configuration please?

Richard"
Amazon EC2	"Re: Are EC2 instances behind NAT?
I was being stupid, the socket wasn't bound to the wildcard address."
Amazon EC2	"EC2 instance down! - HELP
Hi,
I can not connect to my instance!
Not with ssh, not with FTP nothing...

Instance reachability check failed

I have rebooted this instance, 
System Log - is empty

I dont know what the error  is...

ANY HELP???"
Amazon EC2	"Re: EC2 instance down! - HELP
Hello,

Thanks for posting. You didn't provide an instance id and the only instance that I can locate under your account is running and currently marked healthy. If you still need assistance please provide the instance id and we'll look into this further.

Regards,
Brandon"
Amazon EC2	"Re: EC2 instance down! - HELP
Hi Brandon,
Thanks for your help - it happens again and again .... tried a couple of stuff didn't work as well...
instance id  - i-46b564af
Whats wrong there?
Thanks,
Chen."
Amazon EC2	"Re: EC2 instance down! - HELP
Now it started to work again...
The trouble shooting page for server not responding is - NO HELP!"
Amazon EC2	"Re: EC2 instance down! - HELP
Hello, 

I'm happy to hear that your instance is now running, and I am sorry that the troubleshooting page did not help you. 

Instance i-46b564af has been passing Status Health Checks for the past 3 hours. I am able to telnet to port 22 on the instance successfully. I also checked the underlying hardware - there haven't been any issues with this hardware. 

Please let us know if you continue to experience any issues with this instance, we will be happy to take another look. 

Best Regards,
Jillian L."
Amazon EC2	"Re: EC2 instance down! - HELP
Hi Jillian,
Take a look now.... it is not responding.... again."
Amazon EC2	"Re: EC2 instance down! - HELP
Still down!!
Tried to reboot, stop, start and more - nothing!!!!

WHAT IS GOING ON WITH AMAZON??"
Amazon EC2	"Re: EC2 instance down! - HELP
Hello,

I apologize for the issues you are encountering, but I've just tested my connection to this instance and I'm having no issues connecting to port 22.

~> nc -vz x.x.x.44 22
Connection to x.x.x.44 22 port tcp/ssh succeeded!

Looking at the CloudWatch metrics I see that the instance was flagged as failing Health Checks on the following dates:

6/10 starting around 11:20 through 12:40 UTC
6/11 starting around 05:50 through 06:35 UTC

This can be seen in the following CloudWatch graph:

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_Instance~2015-06-10T00%3A20%3A27Z~2015-06-11T15%3A20%3A27Z~Average~300~InstanceId~i-46b564af

Looking at CPU utilization and Network In/Out they both appear normal, but when I look at your EBS volume I see that there was a spike in reads at the following times:

6/10 starting around 09:40 through 10:40 UTC
6/10 starting around 19:40 through 20:00 UTC

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeReadOps~2015-06-10T00%3A20%3A27Z~2015-06-11T15%3A20%3A27Z~Average~300~VolumeId~vol-49ba6b07

The first spike you can see your read IOPs where around 2600. At this point your burst credits were being used. If you look after the spikes noted above you will see the IOPs went flat, this was because you had depleted your burst credits and were now being throttled back to the baseline of 24 IOPs on this 8GB volume. You were throttled until 06:30 on 6/11. You can also see this in the queue length on the volume:

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeQueueLength~2015-06-10T00%3A20%3A27Z~2015-06-12T15%3A20%3A27Z~Average~300~VolumeId~vol-49ba6b07

At this point I believe that your instance has over utilized the EBS volume. IO had been queued up and when you attempted to SSH to the instance your request was being placed in queue.

If you continue to use the EBS volume in this manner I believe you will encounter this again. I would recommend increasing the size of this volume to accommodate your IO activity.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_gp2
http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/ebs-metricscollected.html

For expanding the root volume you can review the following links:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html
https://forums.aws.amazon.com/message.jspa?messageID=336789

Regards,
Brandon"
Amazon EC2	"Jessie AMIs is missing resolv.conf file
Hi all,

Sorry if my question has a trivial answer.
I created a new instance based on the Debian Jessie AMI (the one I'm using is ami-e31a6594).

Once logged in, I noticed there was no resolv.conf file, and thus, my user data scripts failed (unable to resolve DNS).
Is there something I'm missing ?

Thanks for you help.
Best,
Chris"
Amazon EC2	"EC2 instance won't come back online after reboot
Our EC2 hosted site went offline and I was notified nearly immediately with our DNSMadeEasy watch service. I RDP's into the IIS instance (i-db845493 m3.medium) and found the single CPU pegged at 100% usage.

it was the ever-descriptive svchost.exe that was maxing the CPU, so I rebooted, from within RDP. The RDP session terminated as usual and I waited a few minutes before trying it again. After about 10 minutes and the website having not come back up ( like it usually does) I tried RDPing back in again, without success.

I logged into the EC2 Management Console and noticed the instance had passed its System Status Checks, but failed its Instance Status Checks. I followed the link to the FAQ and tried rebooting the instance form ther EC2MC. Nothing appeared to happen – the status didn't chnge, the checks didn't change, nothing changed. I then checked the System Log using the Right-click Get System Log as advised in the FAQ – the System Log was a blank, black screen.

I have tried manually stopping the Instance, which it did just fine, then manually restarting and reattaching the elastic IP for the instance that we use. That went fine, but again, it failed the Instance Status Checks and the System log was blank.

Please help, I'm not sure what to do next and I'd really like to get our website back online again.

Thanks."
Amazon EC2	"Re: EC2 instance won't come back online after reboot
Oh well. Couldnt' wait any longer, I've recovered it from a 3 week old snapshot (although the svchost.exe is still pegging the CPU – I've just set it to below normal priority) and refreshed the files from git.

Any advice on how to track down what's causing the svchost.exe program to peg the CPU?

Thanks."
Amazon EC2	"Re: EC2 instance won't come back online after reboot
Hello,

My first instinct with a problem of this nature is to run the antivirus/antimalware software of your choice just to ensure that the instance is completely clean. After that, I'd suggest reviewing the contents of Event Viewer to see if you have any recorded errors.

Good luck!

Richard"
Amazon EC2	"Security group changes not applied
Hello, I am frequently having trouble making changes to my security groups. Here is the most recent example:

I have a security group assigned to one of my Windows instances and tried to add a new rule to it, to allow port 8443 from my office. After saving the rule I did not have access. As a test I connected to the instance via RDP, and was able to Telnet to 8443 so I know that the port is being listened to. 

I tried to establish a Telnet session to the port from my office and it timed out. As another test, I tried creating a rule to open the port to all IPs but that did not work either. As a final test, I tried removing the existing rule for port 80 and confirmed that I was able to remove and then restore access to that port by removing and recreating the rule. So the port 80 rule works as expected but a new rule for port 8443 does not, within the same security group and the same instance. 

Can anyone tell me what might be happening here? I am accessing the instance via public IP."
Amazon EC2	"Re: Security group changes not applied
Hello,

At a guess, your office might be blocking outbound connections on port 8443?

Have you tried connecting to the instance on port 8443 from a different location?

Richard"
Amazon EC2	"Server won't boot
My Ubuntu server won't boot.  And there is nothing in the console output.  HELP!

Instance: i-af8b0d43

Edited by: nope on Jun 11, 2015 11:32 AM"
Amazon EC2	"Re: Server won't boot
Hello,

I can see that you've terminated this instance since posting here -- and I'm afraid that means that I won't be able to do anything at this stage.

Sorry about that.

Richard"
Amazon EC2	"Auto Scaling Instances Die Instantly When Scaled Above 43 Instances
Hello, I'm trying to figure out if there are service limits besides just the instance limit. I have both a total instance and a specific instance type limit of 150 for the particular type I'm trying to scale, and it scales fine up to 43. But when I try to scale up to 44 or any higher, all the instances that are launched terminate themselves before they start running, and my console gets clogged with hundreds of terminated instances.

There are 71 total instances in my account. And another weird thing is I can manually launch instances of the same type into that particular VPC and subnet without issue. But even if I create a separate auto scaling group it has the same inability to launch effect.

Any assistance is much appreciated."
Amazon EC2	"Re: Auto Scaling Instances Die Instantly When Scaled Above 43 Instances
Hello,

I'd like to investigate this for you. Can you give me:

a) The region
b) The group name
c) A sample instance ID that was terminated unexpectedly

Thanks!
Richard"
Amazon EC2	"ASG does not respect Termination Protection flag
In an attempt to troubleshoot an issue we have enabled Termination Protection on one of the instances in ASG group to prevent it from being replaced as we worked on it. Expectation was that since ASG is using API and API termination calls are disabled, ASG would not be able to terminate it. However in practice it turned out that ASG had no problem terminating the instance.  This is not the expected/desired behavior.  Is this a bug or a ""feature""? 

-M 

(BTW, I know we can suspect ASG group actions, but we did not want to do it as this was only one instance and we needed for ASG to continue doing its thing with other instances)"
Amazon EC2	"Re: ASG does not respect Termination Protection flag
Hello,

Termination Protection is designed to protect against manual termination of an instance by a user. It is not designed to protect against:


Instance storage instances that are shut down.
Actions taken by an Autoscaling group.
Any other reason that might cause an instance to stop.


The correct approach in this case would be to remove your instance from the ASG temporarily.

http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/detach-instance-asg.html

I hope this helps.

Richard"
Amazon EC2	"Creating a status check and/or alarm?
Hi,

I'm really confused about exactly what I have to do in order to create a custom status check.

What I want to do is make something that sends a particular request to my server on a regular basis and checks for the expected response -- and then alerts me if the proper response isn't received.

I've combed through the ""Status Checks"" and ""Alarms"" menus but couldn't find anywhere to set up something like this.

Thanks,
Frank"
Amazon EC2	"Re: Creating a status check and/or alarm?
Hi Frank,

We don't have a facility like that within AWS at present.

What you could potentially do is run a script on your instance that performs the required check and reports success/failure to CloudWatch. At that point you could alarm based on the results.

I hope this helps.

Richard"
Amazon EC2	"Can't verify identity through phone number
Hi,

I'm trying to register but i'm stuck in the identity verification. Now it says I've tried too many times and I should wait 12 hours to try again.

I'm from Argentina (+54) and I'm trying to enter my cell phone number as follows:

(+54) 2222222 (Ext. 911)

I also tried to contact support center yesterday (Almost 24 hours from now), but I still have no reply.  I created three  tickets in different categories, but couldn't get through anyone. Support ticket with phone option is not working for me either.

https://console.aws.amazon.com/support/home?region=us-west-2#/case/?displayId=1420357401&language=en
https://console.aws.amazon.com/support/home?region=us-west-2#/case/?displayId=1420353671&language=en
https://console.aws.amazon.com/support/home?region=us-west-2#/case/?displayId=1419575661&language=en

Am I missing something maybe?"
Amazon EC2	"Re: Can't verify identity through phone number
Hello,

I can see that all three of your cases are queued for my colleagues in the account/billing team to answer. They will be in touch with you as soon as possible.

Richard"
Amazon EC2	"Account incorrectly suspended
Hi,

Our account was incorrectly suspended and after 48 hours we still have no reply from support after posting multiple cases.

Could somebody please help? Case ID 1419844501

Thanks."
Amazon EC2	"Re: Account incorrectly suspended
Even My Account is suspended, and I am not able to get any response from the AWS Verification Team

When I start my INSTANCE its giving me bleow error
Error starting instances
This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.


And NO RESPONSE FROM AMAZON SUPPORT

AccountId 533281146911 *"
Amazon EC2	"Re: Account incorrectly suspended
Hello,

I have asked my colleagues in the billing team to reach out to you. You can expect to hear from them within the next few minutes.

Thanks,

Richard"
Amazon EC2	"Custom kernel options for Amazon Linux 2015.03
Hi,

I've been attempting to build a custom kernel for the 2015.03 release with CONFIG_HOTPLUG_CPU disabled. Following a bunch of threads on this forum and elsewhere I've been able to build a new kernel RPM but the option I'm setting is not taking effect.

The steps so far are:

# Download the kernel source
/usr/bin/get_reference_source -p kernel-$(uname -r)
 
# Install some needed packages
/usr/bin/yum install -y gcc gcc44 system-rpm-config m4 rpm-build gdb xmlto asciidoc elfutils-devel zlib-devel binutils-devel python-devel perl gettext newt-devel perl-ExtUtils-Embed bison audit-libs-devel python27-devel pciutils-devel
 
# Add the mockbuild user which seems to be needed by the kernel source RPM
/usr/sbin/useradd mockbuild
 
# Install the source RPM
/bin/rpm -Uvh /usr/src/srpm/debug/kernel*.src.rpm
 
# Disable CONFIG_HOTPLUG_CPU
/bin/sed -i 's/HOTPLUG_CPU=y/HOTPLUG_CPU=n/' /usr/src/rpm/SOURCES/config*
 
# Set a custom build ID in the spec file
/bin/sed -i 's/buildid 31.38/buildid mybuild/' /usr/src/rpm/SPECS/kernel.spec
 
# Build the RPM
/usr/bin/rpmbuild -bb /usr/src/rpm/SPECS/kernel.spec
 
# Install the RPM
/usr/bin/yum localinstall /usr/src/rpm/RPMS/x86_64/kernel-3.14.42-31.38.tmo.amzn1.x86_64.rpm


From there I can see that the new kernel is indeed available on disk but CONFIG_HOTPLUG_CPU is still enabled:

$ grep HOTPLUG_CPU= /boot/config-3.14.mybuild*
/boot/config-3.14.42-mybuild.amzn1.x86_64:CONFIG_HOTPLUG_CPU=y
/boot/config-3.14.42-mybuild.amzn1.x86_64:CONFIG_ACPI_HOTPLUG_CPU=y


Any ideas what else is needed to disable CONFIG_HOTPLUG_CPU and set up the new kernel?

Edited by: Ben Whaley on Jun 8, 2015 9:29 PM"
Amazon EC2	"Re: Custom kernel options for Amazon Linux 2015.03
Hi Ben,

In our kernel, the option can't be disabled unless you modify kernel/power/Kconfig manually.

Could you please provide more details about your problem? Why do you need to disable the feature? We are happy to find a way to solve the problem without having such special kernel.

Thank you for using Amazon Linux AMI.

Regards,
Munehisa"
Amazon EC2	"ec2 instance not reachable
Hello ,

My ec2 instance is not reachable via SSH, for last few hours, not sure when the problem started. 
ec2 console says Instance reachability check failed .  No issue with security groups.

I have already tried a reboot and stop and start from the ec2 console, that did not help. Instance id is i-b95fbd4e. Can you please help me recover this instance ?

Thanks."
Amazon EC2	"Re: ec2 instance not reachable
Hi  arinc,

I had at a look at your instance and can see you recently issues a stop/start which brought the instance up on a new host. I see it's passing all health checks. Can you confirm if you are able to access the instance?

Regards,

Rodney"
Amazon EC2	"Re: ec2 instance not reachable
Thanks looks like it came back up, appreciate your help."
Amazon EC2	"Instance unresponsive and stuck in stopping state
Dear AWS,

I have an instance, i-27195ed1, which is unresponsive and stuck in the ""stopping"" state. Can you help?

Thanks,
Gary"
Amazon EC2	"Re: Instance unresponsive and stuck in stopping state
After 30 minutes, it finally stopped."
Amazon EC2	"Re: Instance unresponsive and stuck in stopping state
Hi Gary,

Looks like the underlying host encountered some technical issues. The result was longer than normal stopping times. I see you were able to start the instance up and it is now on a new healthy host. Feel free to reach out if you have further questions.

Regards,

Rodney"
Amazon EC2	"clamsmtp in amazon linux
I am using amazon linux and trying to setup clamsmtp to complete the working of postfix + clam. I dont find a package for clamsmtp when i do yum search clamsmtp. Does the amazon repo have it or is there a way i can get it into amazon linux repo?"
Amazon EC2	"Re: clamsmtp in amazon linux
Hi Jithesh,

We do not currently provide clamsmpt in the official Amazon Linux AMI repositories.
You can, however, install the package from epel with relative ease: sudo yum install clamsmtp --enablerepo=epel

Please let us know if that works for you.
Thanks for using the Amazon Linux AMI!"
Amazon EC2	"Re: clamsmtp in amazon linux
thank you, any idea if it will be and when it will be included in the amazon packages"
Amazon EC2	"unable to forcefully stop instance
Our instance (i-43687a28) which was scheduled to be restarted later this month became unresponsive.  we tried to reboot, stop then forcefully stop the instance to no avail."
Amazon EC2	"Re: unable to forcefully stop instance
instance finally stopped"
Amazon EC2	"Suddenly unable to ssh to to my instance
Hi, 
   I am suddenly unable to ssh to my instance (i-5e83d90e). It's running a web server and I can access port 80 and 443 fine. My security group allows port 22 for 0.0.0.0/0 but I'm still getting ""port 22: Connection timed out"". Any help or pointers would be of great help..

Thank You,
Sashree Seepersad

Edited by: Sashree Seepersad on Sep 17, 2014 7:20 AM"
Amazon EC2	"Re: Suddenly unable to ssh to to my instance
Hi, I was able to resolve this issue by myself."
Amazon EC2	"Re: Suddenly unable to ssh to to my instance
Hello,

I tested the TCP connection on port 22 on your instance and it seems that it works:
$ nc -vz XXX.XXX.XXX.XXX 22
Connection to XXX.XXX.XXX.XXX 22 port [tcp/ssh] succeeded!

Can you confirm if you are still experiencing this issue ? 

Best Regards,
Dimos C."
Amazon EC2	"Re: Suddenly unable to ssh to to my instance
Hello,

I just noticed that you replied while I was typing my response. I am glad the the issue is resolved now. Please let us know if you require any further assistance on this.

Best Regards,
-Dimos C."
Amazon EC2	"Re: Suddenly unable to ssh to to my instance
Hello, I have the same problem today.  I was able to ssh in to my instances fine before, this morning I no longer can ssh into my instances.  I terminated those instances and created others, but after the initial successful ssh session, I no longer can ssh in anymore.

Any help is needed.

Thanks."
Amazon EC2	"AWS update bricks boot process
After installing these updates and rebooting, my EC2 instance cannot complete boot. More than likely the AWS related ones - I've confirmed by restoring to a snapshot made a few hours earlier, rebooting; installing these updates again, rebooting and getting the error again. T

Should I refrain from these AWS updates, is there an issue?

Total download size: 27 M
Downloading packages:
(1/21): aws-cfn-bootstrap-1.4-9.4.amzn1.noarch.rpm                                                                                                                                      | 862 kB     00:00
(2/21): aws-cli-1.7.31-1.14.amzn1.noarch.rpm                                                                                                                                            | 689 kB     00:00
(3/21): ec2-net-utils-0.4-1.23.amzn1.noarch.rpm                                                                                                                                         |  11 kB     00:00
(4/21): ec2-utils-0.4-1.23.amzn1.noarch.rpm                                                                                                                                             | 7.7 kB     00:00
(5/21): kernel-3.14.42-31.38.amzn1.x86_64.rpm                                                                                                                                           |  16 MB     00:00
(6/21): kernel-headers-3.14.42-31.38.amzn1.x86_64.rpm                                                                                                                                   | 964 kB     00:00
(7/21): kernel-tools-3.14.42-31.38.amzn1.x86_64.rpm                                                                                                                                     |  90 kB     00:00
(8/21): nodejs-npm-registry-client-0.2.28-3.el6.noarch.rpm                                                                                                                              |  20 kB     00:00
(9/21): pcre-8.21-7.7.amzn1.x86_64.rpm                                                                                                                                                  | 254 kB     00:00
(10/21): python26-bcdoc-0.14.0-1.7.amzn1.noarch.rpm                                                                                                                                     |  30 kB     00:00
(11/21): python26-botocore-1.0.0-0.1.a3.12.amzn1.noarch.rpm                                                                                                                             | 2.0 MB     00:00
(12/21): python26-jmespath-0.7.1-1.8.amzn1.noarch.rpm                                                                                                                                   |  41 kB     00:00
(13/21): python27-bcdoc-0.14.0-1.7.amzn1.noarch.rpm                                                                                                                                     |  29 kB     00:00
(14/21): python27-botocore-1.0.0-0.1.a3.12.amzn1.noarch.rpm                                                                                                                             | 2.0 MB     00:00
(15/21): python27-jmespath-0.7.1-1.8.amzn1.noarch.rpm                                                                                                                                   |  40 kB     00:00
(16/21): ruby20-2.0.0.645-1.25.amzn1.x86_64.rpm                                                                                                                                         |  69 kB     00:00
(17/21): ruby20-irb-2.0.0.645-1.25.amzn1.noarch.rpm                                                                                                                                     |  89 kB     00:00
(18/21): ruby20-libs-2.0.0.645-1.25.amzn1.x86_64.rpm                                                                                                                                    | 3.7 MB     00:00
(19/21): rubygem20-bigdecimal-1.2.0-1.25.amzn1.x86_64.rpm                                                                                                                               |  79 kB     00:00
(20/21): rubygem20-psych-2.0.0-1.25.amzn1.x86_64.rpm                                                                                                                                    |  76 kB     00:00
(21/21): rubygems20-2.0.14-1.25.amzn1.noarch.rpm                                                                                                                                        | 224 kB     00:00



Error log's last relevant info:

http://    1.115910 udevd773: starting version 173
udevd1343: failed to execute '/lib/udev/input_id' 'input_id /devices/platform/i8042/serio0/input/input0': No such file or directory

udevd1350: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory

/usr/bin/growpart: 566: grep: not found
growroot: NOCHANGE: disk=/dev/xvda partition=1: size=62910430, it cannot be grown
http://    1.323756 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.344500 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    1.354212 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.361723 dracut: Mounted root filesystem /dev/xvda1
http://    1.379075 dracut: Switching root
exec: 344: switchttp://    1.382092 dracut Warning: Signal caught!
h_root: not found


http://    1.386184 dracut Warning: Boot has failed. To debug this issue add ""rdshell"" to the kernel command line.
http://    1.396246 Kernel panic - not syncing: Attempted to kill init! exitcode=0x00000100
http://    1.396246

Edited by: thinice on Jun 7, 2015 12:19 AM"
Amazon EC2	"Re: AWS update bricks boot process
Here is the kernel before the update:

Linux pluto 3.14.35-28.38.amzn1.x86_64 #1 SMP Wed Mar 11 22:50:37 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux"
Amazon EC2	"Re: AWS update bricks boot process
Still looking for input - I see the kernel update won't show for an older m1.large, m3.medium or a t1.micro instance,  apparently this only comes through on my t2.medium; they all have 3.14.35-28.38.amzn1.x86_64"
Amazon EC2	"Re: AWS update bricks boot process
Hi thinice,

I'm sorry that you're running into this issue.
Can you tell us more about the state of your system before you apply a yum update?

What AMI are you launching?
Which instance type are you launching that AMI on (and seeing the boot failures on)?
Have you modified the instance in any way before you apply the update?
Are you applying a blanket yum upgrade (sudo yum -y upgrade), or something more specific?
Feel free to provide any other information you think would help us debug this issue.

Thank you for using the Amazon Linux AMI!"
Amazon EC2	"Re: AWS update bricks boot process
Instance type: t2.medium
AMI: amzn-ami-hvm-2014.09.2.x86_64-ebs (ami-146e2a7c)
---
Short hand notes per your request:
In it's current state, I can reboot it and it boots up correctly. Everything running properly.
If I apply the kernel update through 'yum update -y', it will not boot properly (see first post).

Unfortunately I'd prefer not to double check if it's the kernel update specifically, as that would require more downtime. If I find time, I'll spin up a new instance from snapshot - replicate, and then restore again and install specific updates to find a culprit package.

----
Longer story

Installed blanket update of packages noted in OP
Rebooted - hang on error noted in OP
Restored from backup made earlier that day ~6hours old - attached to new instance.
Rebooted - worked fine
Installed blanked update again (if memory serves correct, I didn't specify packages) 
Rebooted - hang on error noted in OP
Restored from backup again
Rebooted - works fine (not updating again)


Edited by: thinice on Jun 12, 2015 3:37 PM

Edited by: thinice on Jun 12, 2015 3:37 PM

Edited by: thinice on Jun 12, 2015 3:38 PM"
Amazon EC2	"Multiple EC2 Micro Instance not Responsive
I've had two micro instances become non-responsive; I can't ping, no SSH, Instance Status Check fails. When the first became unresponsive, I imaged the instance, created a new one and the new instance worked great. However, that one has also become unresponsive. 

I've followed http://aws.amazon.com/articles/5213606968661598 to debug the network configuration, but everything was in order.

Does anyone have suggestions on next steps to figure out why the instance is dying? I have a new small running, as I hope it might be memory?"
Amazon EC2	"EC2 instance unreachable and won't stop
My instance won't stop, could someone help me out?

My instance id is: i-7d641a2e

Thanks in advance!"
Amazon EC2	"Re: EC2 instance unreachable and won't stop
Hello,

The instance is now in stopped state. 

Best Regards,
-Chandra P."
Amazon EC2	"Re: EC2 instance unreachable and won't stop
Thank you so much, I was able to restart the instance and get back in. 

You're a lifesaver!"
Amazon EC2	"ES2 got much slower after assigning Elastic IP
Hi,
Please if anyone could help suggest how to fix this. I have been running Wordpress site on LAMP (t1 EC2) . It was fine until I tried to assign an Elastic IP. The instance address was changed from ec2-xx- to ec2-yy- on the process and I had to run a simple script to rename content of all WP related files from ec2-xx- to ex2-yy. It seems to got my site back but apparently it seems much shower, especially when loading the first page.

I would be really grateful for any suggestions."
Amazon EC2	"Sharing AMI with another account - Security
We have shared one of our AMI with another AWS account.
When we create an instance  in that account using this AMI, we were able to login with our key files as well.

When we contacted the customer care we were requested to follow the link
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/building-shared-amis.html#remove-ssh-host-key-pairs needs a clear explanation.

Byt the solution provided at http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/building-shared-amis.html#remove-ssh-host-key-pairs needs a clear explanation.

Here are the scenarios
If the command is run before creating the instance, then once after Image creation, I couldn't login into my machine as information is deleted!

If it is ran after creating instance from AMI, then the information again gets deleted and I couldn't login with neither my key or with the original key associated with the account!

Are there any other possible ways?

Thanks"
Amazon EC2	"Authentication failed because your account has been suspended.
I am getting the above message when trying to go to the AWS console.  I've opened a support case but haven't received a response.  

Thanks Rob"
Amazon EC2	"Re: Authentication failed because your account has been suspended.
Hello,

Thanks for opening the support case.  Your account has been reinstated.  Please look out for the response to your support case for the actions you need to perform. 

Best Regards, 
Chandra"
Amazon EC2	"Instance ""stuck"" will not shut down
Our instance i-e254be8c is stuck and unresponsive.  It has been trying to shutdown for a long time and will not stop.  Please look into this ASAP"
Amazon EC2	"Re: Instance ""stuck"" will not shut down
Thank you"
Amazon EC2	"Re: Instance ""stuck"" will not shut down
Hello,

The instance is now in running state. Hope the issue is resolved. 

Best Regards,
-Chandra."
Amazon EC2	"Best Latency To My Broker
I have finally decided to run my MetaTrader 4 Platform on a virtual server known as Amazon EC2 instance.
But I have encountered some problems on the way and I need help to figure things out.
My broker is Fxglory (www.fxglory.com) 
IP Address of their MT4 Servers are:         dc1.real.fxglory.com (174.142.90.143) 
                                                                  dc2.real.fxglory.com (41.223.54.105)
                                                                  dc3.real.fxglory.com (52.74.17.139)

My question is 
A) which region from the list below offers the best latency to my broker
US West (Oregon) 
US East (N. Virginia)
US West (N. California)
EU West (Ireland)
EU Central (Frankfurt)
Asia Pacific (Singapore)
Asia Pacific (Tokyo)
Asia Pacific (Sydney)
South America (São Paulo)"
Amazon EC2	"Re: Best Latency To My Broker
Those are all in different areas of the world (the last one is actually in Amazon's Asian-Pacific Southeast-1 region) -- response time will vary for all of them depending on where you place your instances.  Best advice I can give is see if you can set up a preference list in your software to make all requests go to ones in a particular region, with the higher latency ones less preferred (to be used only in the event of a service outage on the others.)   You should probably also just fire up a T2 micro Linux instance in each region and test traceroutes to the vendors servers to figure out which are ""closest"" in regards to latency."
Amazon EC2	"Not able to connect to other Ports from Public IP
Hi there.

I am having one EC2 with Windows Server 2012 (Public IP : 52.24.235.156).

I have three ports are running 80, 90 in IIS and 9090 in Apache.

Out of this only site running on 80 Port is accessible from out side. (http://52.24.235.156/) but sites running on Ports 90 and 9090 are not accessible. (http://52.24.235.156:90 and http://52.24.235.156:9090).

If I run from server browsers (localhost:90 and localhost:9090) they are absolutely running fine.

I also make sure that that those two ports are accessible from out side in Network security.

Am I missing something, your help will be really appreciated.

Thanks
Rushi"
Amazon EC2	"Re: Not able to connect to other Ports from Public IP
Hello,

Could you please make sure the Windows Firewall allows inbound connections to port 90 and 9090 on this instance ? You will have to open ""Windows Firewall With Advanced Security"" and create an inbound rule. 

Best regards,
-Chandra"
Amazon EC2	"Cant Remote Desktop into Windows VM
I cannot RDP into my EC2 t2.micro instance.  I know that there are a ton of posts about this but I've read every one and for some reason I cannot get this working.  It is probably something super simple but I'm not seeing it. 

My current VPC is not the Default VPC so the Default must have been deleted at some point in the past.  I've made a Subnet, Internet Gateway, and Route Table (added 0.0.0.0/16 to internet gateway) and linked them together.  Also I've added RDP as allowed from any IP.  I've tested port 3389 on http://portquiz.net/ and it tests successfully.  

When I try to RDP to IP address it just says Connecting to: {IP address} and Initiating remote connection.  It then times out.

Any ideas would be very helpful.

Brent"
Amazon EC2	"Re: Cant Remote Desktop into Windows VM
my fault.   I had 0.0.0.0/16 in my routing table instead of 0.0.0.0/0"
Amazon EC2	"Moving Local Server to EC2
Hi All, 

I have a local Linux server running fedora as a LAMP stack. I wanted to move this server to EC2.

Is there an easy way of making some kind of image and uploading it? or is the only way to rebuild and configure from scratch and copy all the data?

TIA

Charlie"
Amazon EC2	"Re: Moving Local Server to EC2
Bump"
Amazon EC2	"Re: Moving Local Server to EC2
Final Bump"
Amazon EC2	"SSH Login failed Urgent
Hi,

We are facing major issue with production instance from morning.

We are unable to ssh the instance through Winscp and putty as well. It is showing ""Server unexpectadely closed the conenction"" message. We need to upload major update on server in few hours so please fix this asap.
Instance ID(s): i-244e29c5"
Amazon EC2	"Failover using Heartbeat / Pacemaker on Ubuntu 14.04 not working.
Hello all,

I am trying to create a two node heartbeat / pacemaker cluster for failover using Ubuntu 14.04.  My security group is wide open between the two machines and I can see traffic between the two on port  694, but they keep getting Could not establish cib_ro connection: Connection refused (111) in crm_mon.  My /etc/ha.d/ha.cf on the primary is as follows:

root@ftp-primary:~# cat /etc/ha.d/ha.cf
keepalive 1
warntime 5
deadtime 10
initdead 30
#crm on
compression bz2
traditional_compression off
logfacility local0
use_logd on
autojoin none
node ftp-primary ftp-secondary

#ucast eth0 10.130.0.36
ucast eth0 10.130.0.225
#respawn hacluster /usr/lib/heartbeat/dopd
#apiauth dopd gid=haclient uid=hacluster

respawn root /usr/lib/heartbeat/mgmtd -v
apiauth mgmtd uid=root


I have the IP addresses switched on the secondary (uncomment, comment).

I'm seeing this in tcpdump on the primary:

root@ftp-primary:~# tcpdump -v port 694
tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes
13:33:57.122772 IP (tos 0x10, ttl 64, id 52193, offset 0, flags DF, proto UDP (17), length 330)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 302
13:33:57.333108 IP (tos 0x10, ttl 64, id 52200, offset 0, flags DF, proto UDP (17), length 349)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 321
13:33:57.739900 IP (tos 0x10, ttl 64, id 58298, offset 0, flags DF, proto UDP (17), length 351)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 323
13:33:58.333928 IP (tos 0x10, ttl 64, id 52333, offset 0, flags DF, proto UDP (17), length 349)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 321
13:33:58.740813 IP (tos 0x10, ttl 64, id 58423, offset 0, flags DF, proto UDP (17), length 351)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 323
13:33:59.334632 IP (tos 0x10, ttl 64, id 52394, offset 0, flags DF, proto UDP (17), length 349)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 321
13:33:59.741725 IP (tos 0x10, ttl 64, id 58590, offset 0, flags DF, proto UDP (17), length 351)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 323

And this on the secondary:

root@ftp-secondary:~# tcpdump -v port 694
tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes
13:34:54.078930 IP (tos 0x10, ttl 64, id 858, offset 0, flags DF, proto UDP (17), length 351)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 323
13:34:54.673477 IP (tos 0x10, ttl 64, id 60157, offset 0, flags DF, proto UDP (17), length 349)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 321
13:34:55.079706 IP (tos 0x10, ttl 64, id 1050, offset 0, flags DF, proto UDP (17), length 332)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 304
13:34:55.079728 IP (tos 0x10, ttl 64, id 1051, offset 0, flags DF, proto UDP (17), length 351)
    ftp-secondary.35812 > ftp-primary.694: UDP, length 323
13:34:55.473962 IP (tos 0x10, ttl 64, id 60164, offset 0, flags DF, proto UDP (17), length 330)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 302
13:34:55.674117 IP (tos 0x10, ttl 64, id 60186, offset 0, flags DF, proto UDP (17), length 349)
    ftp-primary.56702 > ftp-secondary.694: UDP, length 321

Both authkeys are identical.  From everything I can tell, this should be working.  Can anyone point me in the right direction for the answer?  Thanks!"
Amazon EC2	"EC2 Instance Rebooted Itself
Hello,

Can someone from Amazon explain why our instance i-c7f35dcd rebooted itself slightly before Jun 11 15:52:32 UTC? There is nothing in /var/log/messages from before the restart and we didn't initiate this action ourselves. Thanks!"
Amazon EC2	"Re: EC2 Instance Rebooted Itself
Hello,

I can confirm that this reboot took place due to a technical issue on the underlying physical host.

I apologize for the inconvenience caused.

Richard"
Amazon EC2	"Instance does not stop
Hi,

I have a instance that is on ""stopping"" state for quite long. First I received an alarm status that it was not reachable, so I stopped it but now it does not finish the stop to me start it up again. I already used the force option, but it does not seem to work.

Instance ID:  i-608baa33

Thanks."
Amazon EC2	"Re: Instance does not stop
Hello,

I have checked this instance and can see that it stopped on its own approximately twelve hours ago. If there is anything more I can do please ask.

Richard"
Amazon EC2	"View Server Files in AWS Console
Hello

Is it possible to browse server files (.php, etc.) inside the AWS Console (in the browser) and not via a SSH or FTP client? For example; view files just like in CPanel on a regular web host.

I am working on a EC2 instance of a Debian OS that was created by someone else and they didn't save the private key (.pem). We just need to see what files are in there and structure not update. So the easiest way is just to view the files in the AWS Console.

Note the former person didn't create any Buckets either."
Amazon EC2	"Re: View Server Files in AWS Console
Hello,

I'm afraid not -- the EC2 Console is not able to view the internal file structure of instances.

Sorry about that.

Richard"
Amazon EC2	"EC2 instance froze ubuntu 14.04
Hi,
I tried to ssh and the instance froze. It was an Ubuntu 14.04. 
The insatnce id is i-2b9d2eea . The ami id is ubuntu-trusty-14.04-amd64-server-20150417 (ami-00dae61d) .
The instance can't be rebooted and can't be stopped. And I have no right for technical support (Basic tier).
I've seen people had a similar issue. 
So how can I fix this issue? I'll be very happy if someone from aws technical support assists.

Thanks,
Ronnie"
Amazon EC2	"Re: EC2 instance froze ubuntu 14.04
Hello,

We have forced this instance to stop for you. Unfortunately in this case the problem was an issue on the underlying host, which took your instance with it.

You should be able to start again without problems.

Apologies for the inconvenience caused.

Richard"
Amazon EC2	"Re: EC2 instance froze ubuntu 14.04
Thank you.

Edited by: ronnie on Jun 12, 2015 4:30 AM"
Amazon EC2	"instance stuck in stopping
Hi,

Our instance has been stuck in stopping state for 30+ minutes, have tried force stopping it several times as well to no avail.  The id is: i-8a0e89cc.  Please assist.

Thanks"
Amazon EC2	"Re: instance stuck in stopping
Hello,

We have forced this instance to stop for you.

Happy Friday 

Richard"
Amazon EC2	"Connection problems with t2-micro instance
I just set up a new T2-micro instance a few days ago, and it has been rather flaky!  SSH died and wouldn't even syn-ack yesterday, and a reboot didn't fix it.  Today, I got into it once, but after the session dropped, I can't reconnect anymore, I get connection reset by peer.   I tried using the aws page to view the logs, but it's always blank.  Has anyone experienced these issues with connecting to their instances?

user@nix:~$ ssh -vvv -i ~/.ssh/perm.pem ec2-user@52.0.94.151 
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.0.94.151 http://52.0.94.151 port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""/home/user/.ssh/perm.pem"" as a RSA1 public key
debug1: identity file /home/user/.ssh/perm.pem type -1
debug1: identity file /home/user/.ssh/perm.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
ssh_exchange_identification: read: Connection reset by peer"
Amazon EC2	"EC2 Instance Access issue from my ip address
Hi I have t2-small instance in region singapore. When i trying to access this instance. Between frequent requests some requests not reached at instance  or instance reject my request.It send response error 'Socket time out exception'.I don't know the reason. But same thing is working fine on virginia region. Is there any problem with AWS of blocking source ip address on specific region. My IP address is 122.177.116.145

Edited by: vjangra on Jun 12, 2015 3:21 AM

Edited by: vjangra on Jun 12, 2015 3:30 AM

Edited by: vjangra on Jun 12, 2015 3:30 AM"
Amazon EC2	"EC2 access issue
HI I have t2.micro instance running in singapore region. Problem is that when i am trying to access instance over tcp some times it drop  my request or request can't reach to instance. For testing i used wget command to download default page of tomcat. i run this command ins script using loop. And after 3-4 times this command failed ,loop got stuck generate exception. I tried same using python  http server.  But result is the same connection timeout exception.

Edited by: vjangra on Jun 12, 2015 1:51 AM"
Amazon EC2	"Kernel error ""rcu_sched self-detected stall on CPU""
Today our i2 instance was unreachable, did not answer on ssh port or any other port that usually responds.
When issuing a instance reboot through the AWS console, nothing happened. But we managed to stop the instance, and start it again.

When analyzing the /var/log/messages, we saw kernel traces that starts with the line ""rcu_sched self-detected stall on CPU"".
Further reading we can see ""bcache"", as this is something we have installed and enabled on the instance.

Can someone with more knowledgeable in Linux kernel please take a look, and see what is happening?
I have attached the /var/log/messages lines to a file."
Amazon EC2	"Re: Kernel error ""rcu_sched self-detected stall on CPU""
Same thing happend today, at the exakt same time as yesterday?
Is there some maintenance going on from Amazon perspective?"
Amazon EC2	"Re: Kernel error ""rcu_sched self-detected stall on CPU""
We had the same thing happen to us today.

Only affected one of the two instances that are using bcache kernel module.

Same error as you.  Gives me hope that it is an AWS anomaly rather than a config problem or other intermittent edge-case on our end."
Amazon EC2	"Re: Kernel error ""rcu_sched self-detected stall on CPU""
We have had this instance running for about 1,5 week without any remarkable workload.
Though this week, the instance have been working hard 24/7 with many disk writes too the bcache. It's only now, during high workload the issues come.

We will tonight halt/pause the intense disk writes during an hour when we previously experienced the problem."
Amazon EC2	"Re: Kernel error ""rcu_sched self-detected stall on CPU""
Last night, when minimizing the reads and writes to the bcache disk. We had no problems.
We can live with pausing the workload for half an hour or so, but it would be really good if any Amazon representative could comment here saying wether they investigate the issue or not.

Edited by: aws-slm on Jun 12, 2015 12:24 AM"
Amazon EC2	"EC2 Instance Won't Shut Down
Could I get assistance with a forced shutdown on instance i-f2dbf8c6.  It has been stuck shutting down for hours, and a force shutdown has not worked."
Amazon EC2	"Re: EC2 Instance Won't Shut Down
Thank you, the machine finally shut down."
Amazon EC2	"Can't SSH into new instance but all checks are OK
I am just starting out with EC2 and I followed the getting started guide to create a new instance (i-68798ca0).  I have a public IP but I can't ping it or SSH to it.  I have tried it from two different internet connections and have verified that I can connect to another public server that I have.  To test the SSH port I have also tried telnet to port 22 but that connection times out as well.  My security group rules allow SSH from anywhere, so what is going on?"
Amazon EC2	"Re: Can't SSH into new instance but all checks are OK
Hi,

Thank you for the post. 

Unfortunately I could not investigate into the issue as the instance has been terminated from your end. To troubleshoot issues, we would need the instance to be running. 

Let us know if you have any concerns. 

Thank you,
Varun"
Amazon EC2	"Instance stuck in stopping state
Our instance went unavailable with both ""System Status"" and ""Instance Status"" checks failing.  I tried stopping the instance, even forcefully, but its still stuck in the ""stopping"" state.  Please stop this instance so I can start it on another (working) host.

Instance ID: i-1dae6237"
Amazon EC2	"Re: Instance stuck in stopping state
Hi,

Thank you for the post.

I took a look at your instance ""i-1dae6237"" and it is running now. Let us know if you have any issues. 

Thank you,
Varun"
Amazon EC2	"Elastic IP or running instance changing Randomly
Hi,

I have allocated an elastic IP to one of EC2 instance since 1 year.  I sometime restart/stop the instance but keep the IP and reassign it when needed.  But now, since last week I am experiencing a rather strange phenomenon i.e. Elastic IP assigned to one of instance is got changed by EC2.  And it keeps changing since now .  

In fact my instance was running and was assigned elastic IP (reserved).  Now it has got changed automatically at least 3 times.

It never happened to me in past.  My understanding is that elastic IP allocated and assigned retains with you unless released.  And as I have not released it so it should be remain allocated to me to associate with any of my instance.

Now, any advise why Elastic IP is keep changing and new IP is assigned to already associated instance even I have not released it.  In fact, my Elastic IP which I am using for last year is not allocated to me any more."
Amazon EC2	"Re: Elastic IP or running instance changing Randomly
Hi Kashif,

Thank you for the post. 

Is this EC2 instance in EC2 Classic Platform or inside a VPC?

In EC2 Classic platform, when you associate an EIP with an instance, the instance's current public IP address is released to the EC2-Classic public IP address pool. If you disassociate an EIP from the instance, the instance is automatically assigned a new public IP address within a few minutes. In addition, stopping the instance also disassociates the EIP from it.

In the VPC platform, if the EC2 instance is inside a default VPC, when you associate an EIP with an instance in a default VPC, or an instance in which you assigned a public IP to the eth0 network interface during launch, its current public IP address is released to the EC2-VPC public IP address pool. If you disassociate an EIP from the instance, the instance is automatically assigned a new public IP address within a few minutes.

Yes, the elastic IP allocated and assigned retains with you unless released.

In EC2 platform, if you have stopped the instance then the EIP will be released from the instance but will be allocated to your account.
In VPC, the EIP will be allocated and assigned to your instance unless you have released it and disassociated from your account.


I believe if you are in EC2 platform, anyone else(who has access to your account) may have stopped or released the EIP and disassociated from your account. Hence the new public IP is being assigned and also the EIP got removed from your account. 

If this is not the case, then kindly let us know more about the instance ID, the EIP and steps you performed and we can take a look. 

The following document gives more information - 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

Thank you,
Varun"
Amazon EC2	"Changed RDP port, now can't connect
I changed the RDP listening port on my free tier instance (Windows 2012 server) and now I can't connect on the old port (3389) or the new port. I know you need to reboot after changing the listening port, and I've rebooted more than once. I have both ports open on the firew.... SECURITY GROUP, so I'm not sure what is wrong. Any ideas how to connect now?"
Amazon EC2	"Re: Changed RDP port, now can't connect
I am guessing it's the Windows firewall that needs to be updated. Am I out of luck here? I tried connecting to my second server that I created just to reset the password on the first server and am unable to connect to it by private or public IP (using pstools, computer management, etc...). Please help!"
Amazon EC2	"t2.micro no resolve.conf
Hi,

I'm just starting out with AWC EC2 instances.  I have launched 4 instances now of the t2.micro amazon Linux.  I was trying to use user data with Cloud-Init to install some software, but it fails.  Upon logging into the instances, I find that there is no /etc/resolv.conf  so there is no DNS name resolution taking place.  Routing is fine, I can ping external IP addresses fine.  But I can't figure out why an instance wouldn't be ready to resolve names... I don't seem to see any options for configuring this in the launch dialogs.  Sorry if this is a stupid question, but it doesn't seem to be spurious as it happens every time.  Googling and searching the forums didn't seem to bring up any further info.

Thanks for any advice or help on this matter.

Bill"
Amazon EC2	"t2.micro Reserved Instance Limit Exceeded?
I've tried to purchase no-upfront reserved instance and got this error

Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 67b1961e-29d9-41e6-9cfd-88caa35e5772)

I don't have any reserved instance at the moment

Edited by: Ronald Suwandi on Mar 24, 2015 11:24 PM"
Amazon EC2	"Re: t2.micro Reserved Instance Limit Exceeded?
Hi  Ronald Suwandi,

I have responding to your billing support case 1364916541 to address your query regarding not being able to purchase No Upfront Reserved Instances.

Should you have any additional questions please respond to that case for further information and assistance.

Have a great day!"
Amazon EC2	"Re: t2.micro Reserved Instance Limit Exceeded?
I am having the same problem, and no one is responding to my support ticket.  Can someone help me raise my quota?

Thanks.
Jeff"
Amazon EC2	"Requesting a spot instance, but I don't care which subnet it's in.
If I request a spot instance with a price cap of say $0.70, and there are price points within that range, then will the spot instance be created in the group with the lowest price, or not created until the highest price comes down to be below the max price I've set?

Right now us-east1b has a price of $3.00 for a r3.2xlarge. -c through -e are in down at around $0.07.

If I have a persistent request then I would think that if the instance in 1b is killed (because the spot price exceeds the max I've set), then another spot would be launched in one of the other groups. That doesn't seem to be happening though."
Amazon EC2	"How to configure SecurityGroup so private instances can access LoadBalancer
http://stackoverflow.com/questions/30785695/any-way-to-configure-aws-security-group-to-allow-private-instances-to-access-a-p"
Amazon EC2	"Solaris EC2
HI

We currently have Solaris 9 and 10 running and we would like to know if its possible to run production on any  Emulation software, or is this simply not advisable for production?"
Amazon EC2	"Why won't UserData when outbound traffic permissions are restricted?
http://stackoverflow.com/questions/30769355/why-wont-boto-commands-run-in-userdata-when-outbound-traffic-permissions-are-lo"
Amazon EC2	"Packet loss / undocumented firewall behavior
I'm investigating some undocumented networking behavior that manifests as packet loss, which I believe is being done intentionally by routers/firewalls for all EC2 nodes. Can anyone confirm (or ideally expand on / provide further explanation for) these two conclusions that I've come to below?

1. After a FIN packet is sent, if more than 30 seconds goes by since the last packet is sent and no data has been received from the other side, then drop all future incoming packets from that TCP stream. This applies even if we send more packets, eg retrying a FIN packet more than 30 seconds after our last packet sent - any reply from the other side would be dropped.
2. After a FIN packet is sent, if a packet is received from the other side within 30 seconds of the last packet sent then as long as packets continue to be received more often than every 120 seconds, continue to allow it, otherwise drop all future incoming packets from that TCP stream.

This is mainly for curiosity, but I'd appreciate hearing confirmation / further details for this behavior.

Edited by: DonnyPD on Jun 11, 2015 6:45 AM

Edited by: DonnyPD on Jun 11, 2015 6:48 AM"
Amazon EC2	"Getting ""Error 503.The service is unavailable"" for web api on windows insta
While accessing .net web api we are getting error, ""HTTP Error 503. The service is unavailable."" . 
We published web api on windows instance in IIS server.
and My windows Instance ID,  i-22b71b2f .

Edited by: indrakp on Jun 11, 2015 6:31 AM"
Amazon EC2	"ports issue
hello I opened port 25565. 14147.port from the security group , but I do seem to be disabled port testing , please can you help

i-7dbc3ab6

Edited by: raskolln on Jun 11, 2015 4:02 AM"
Amazon EC2	"Re: ports issue
How you open it ? TCP port or UDP port ? how you test it ? any firewall installed in the instance ?"
Amazon EC2	"Re: ports issue
safety off the wall but when I do I test the site seems off from http://www.yougetsignal.com/ port 14147 and 25565"
Amazon EC2	"How to change platforms of Reserved Instances?
Hi, 

I bought Reserved Instances that platform is ""Windows with SQL Server Standard"". but I mistook buy. I want to buy ""windows"" platforms.
So, Can I change platform ""Windows with SQL Server Standard"" to ""windows""? How to change it?

Regards,
Takeru Ichii"
Amazon EC2	"Re: How to change platforms of Reserved Instances?
You can get in touch with Billing and Account support through https://aws.amazon.com/contact-us/ - They can hopefully help you with this problem."
Amazon EC2	"Re: How to change platforms of Reserved Instances?
Hi,

I have created an outbound billing support case to address your query regarding the Reserved Instance Purchased. 

Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1418937671

Regards,

Luke H."
Amazon EC2	"Re: How to change platforms of Reserved Instances?
Thanks! I asked Billing and Account support."
Amazon EC2	"Email me when new EC2 instances are started
Hi,

I have an alert that tells me when my Auto Scale has changed, but I need to know the EC2 Instance Public URL of the new server. Is there a way to do this?

Best wishes

Michael"
Amazon EC2	"Can't open port on ec2 windows 2008 instance
Hi

I created simple server on sockets on c# and connect to 127.0.0.1:3838. But I can't make it work on ec2 windows 2008 instance.

On instance I make inbound rule for this port
In EC2 console I also added inbound rule to the associated security group (custom tcp 3838 0.0.0.0/0)

But when I check this port using telnet it says ""Could not open connection to the host, on port 3838: Connect failed"".
I tried public DNS and elastic IP and both failed

Can somebody help me?"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
Hi myevsey,

Please can you post the Instance ID of your server in question in order for me to further investigate this issue for you.

Regards,

Brendan"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
id: i-d8e12bb7
By the way, if I bind socket to the IP obtained from public DNS, then socket responces. But the public DNS is changed after instance was rebooted"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
Hi myevsey,

I have investigated your instance, and the I would suggest that you use an Elastic IP. Then, everytime you reboot it will have the same public IP + DNS . Also when you 'stop' and 'start' the instance, you need to re-associate the EIP to the instance again when it is up and running.

Regards,

Brendan"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
I also have an instance (i-29857a7c) where I opened a port I critically need (7778) but it does not open regardless of rebooting etc. (Win 2008) 

Another port i have open  (7777) does work. 

I have an elastic IP on this.


BTW The original post also said they had tried an elastic IP."
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
Hi nd_cloud,

Sorry for the delay in the response here. I have had a look at your instance and the underlying hardware and networking stack look okay. I can connect to your http port and RDP successfully. I see you have the other ports open in your security group rules. It looks like the issue could be the windows firewall within your instance perhaps blocking this traffic or the listener on those ports is not configured correctly. You could confirm if the listeners are up by running the ""netstat -a"" command from the command prompt. 
Hope that helps you troubleshoot the issue.

Regards,

Brendan"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
Hi,

I'm with the same problem. I'm trying to use a TCP 2121 port but I can't. I put on the security rules of my instance (i-e8657cf5) but can't connect, I tried to turn off the firewall on windows and nothing... Can anybody help me?

I associated in security rules for my elastic IP and for instance, but not connect...

Thanks"
Amazon EC2	"Re: Can't open port on ec2 windows 2008 instance
hello I opened port 25565. 14147.port from the security group , but I do seem to be disabled port testing , please can you help"
Amazon EC2	"default subnets no longer there
I can't launch elastic beanstalk worker environment with EC2 and node.js in eu-west-1 region running because it says my default subnets are no longer there?

What do I do? I want to launch the eb environment but can't seem to do so...?

I've done this via both CLI and web interface, and neither works."
Amazon EC2	"Re: default subnets no longer there
Hello,

I've marked subnet-c39a669a as the default for you, which I hope should solve the issue.

Thanks,

Richard"
Amazon EC2	"Re: default subnets no longer there
Thank you! 

I will check and come back."
Amazon EC2	"Re: default subnets no longer there
It's getting further in the process but still hanging. 

I don't think this is something that I'm doing, but it's stopping after creating the EC2 instances, and doesn't seem to be updating the security group or anything.

Very confusing. I may be wrong though.

Environment: giftcardservice-env"
Amazon EC2	"Re: default subnets no longer there
It errored with this:

2015-06-08 09:43:24 UTC+0100	ERROR	Stack named 'awseb-e-xmpi3ahx7u-stack' aborted operation. Current state: 'CREATE_FAILED' Reason: The following resource(s) failed to create: AWSEBInstanceLaunchWaitCondition.
2015-06-08 09:43:13 UTC+0100	ERROR	LaunchWaitCondition failed. The expected number of EC2 instances were not initialized within the given time. Rebuild the environment. If this persists, contact support.

I'm going to try a completely basic version of the code to see if it gives me any more info."
Amazon EC2	"Re: default subnets no longer there
Can you ensure a default subnet is set for eu-west-1a/b/c please?"
Amazon EC2	"Re: default subnets no longer there
Hello,

I've had a look at the default VPC (vpc-caec16af) in eu-west-1 for the account associated with your forums username. This VPC currently has two subnets. Both of these subnets are in the same Availability Zone (eu-west-1a). Each AZ can only have one default subnet. If you would like default subnets in eu-west-1b and eu-west-1c, you will first need to create them. Once they are created, we can then mark these subnets as the default subnets. 

Note that you have four VPCs in eu-west-1 so please ensure that you're working in the correct one. 

Let us know when you are ready to proceed.

Kind regards,
Chris"
Amazon EC2	"How to kill process on instance without ssh?
I have an instance (ec2-54-86-222-136.compute-1.amazonaws.com) that is behaving badly. 

I cannot ssh into this machine, and rebooting has not helped. I receive the following error:

wilsone123 [23:24:27] $ ssh tm-prod -vvv
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/wilsone123/.ssh/config
debug1: /Users/wilsone123/.ssh/config line 71: Applying options for tm-prod
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 102: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-54-86-222-136.compute-1.amazonaws.com [54.86.222.136] port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""/Users/wilsone123/.ssh/tm-prod.cer"" as a RSA1 public key
debug1: identity file /Users/wilsone123/.ssh/tm-prod.cer type -1
debug1: identity file /Users/wilsone123/.ssh/tm-prod.cer-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
ssh_exchange_identification: read: Connection reset by peer


I don't think there is an issue with permissions or the key, I have another instance using the same permissions, and I just generated a new key.

I suspect it has to do with a change I made to uwsgi, which is making the log files extremely verbose. There was indication in the system log that it is filling up memory.

So I suspect that if I could kill the process, I would regain access to the machine. Is there a way to do that? Rebooting won't help, I've tried that, it runs as a daemon."
Amazon EC2	"Re: How to kill process on instance without ssh?
I'm marking as answered, having found a workaround: https://alestic.com/2011/02/ec2-fix-ebs-root/"
Amazon EC2	"two more spontaneous instance reboots
Hi,

note this: 
https://forums.aws.amazon.com/thread.jspa?threadID=182147&tstart=25

This morning I had TWO more reboots:


Instance was always i-5b45c61b in Dublin.
Wed Jun 10 06:12   and Wed Jun 10 02:57 (UTC)
Instance is running Amazon Linux 2015.03


I need someone from AWS to check out what is happening. For AWS it's easy to
check whether these reboots are related to the host OS. If they are, please let me
know, so I can stop worrying whether it's something related to my installation [*].

Bye,
Chris.

[*] which I think it's not as I don't see anything suspicious in the logs."
Amazon EC2	"Re: two more spontaneous instance reboots
Hello,

Thanks for posting. I've taken a look at instance i-5b45c61b and the underlying host. From my investigation it does appear that the underlying host had become unhealthy around 06:05 UTC. As to the exact cause I'm not able to identify, but the host is now marked healthy.

If you are concerned about this underlying host you can stop/start the instance to move to another underlying host. If you are concerned about one instance going offline you may want to consider using an ELB to balance traffic across multiple instances.

Regards,
Brandon"
Amazon EC2	"Re: two more spontaneous instance reboots
Hi,

thanks. This morning it happened again (Thu Jun 11 03:49).

I guess the host does have issues...

I've just done a stop and start now. I suppose the instance is running on another host now
and things will be fine again.

Thanks and Bye,
Chris."
Amazon EC2	"How to pay a payment overdue?
I bought a reserved instance and my credit card didn't have the funds. Now thats solved but I don't know where to pay that bill. When I press the ""Make payment"" button doesn't do anything more than show me my bills."
Amazon EC2	"Re: How to pay a payment overdue?
Hi,

I see that you have a billing support case opened regarding the failed Reserved Instance charge. I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1416772921

Regards,

Luke H."
Amazon EC2	"Here's a spreadsheet for EC2 pricing
For my own use, I created an Excel spreadsheet to compare the pricing of different EC2 options, including average Spot Instance pricing (would need to be kept current of course). The sheet computes pricing monthly and annually for Spot, On Demand, and Reserve instances, as well as ratios of Spot/On Demand and (EC2 Units * RAM)/Spot Pricing as well as (EC2 Units)/Spot Pricing and (EC2 RAM)/Spot Pricing. 

The rationale for using (EC2 Units * RAM)/Price is to try to quantify the overall value of a system. Not a perfect metric but still useful. The larger the number, the greater the value of the system. On this basis, the least relative value (for Spot pricing) is m1.small (53.13), up to m2.4xlarge (2067.91), a whopping 39 fold difference.  

One interesting thing I found: the mean hourly Spot price is almost identical to the hourly Reserved price.

Let me know if you find the spreadsheet useful."
Amazon EC2	"Re: Here's a spreadsheet for EC2 pricing
Thanks for doing this - I'm new to EC2 and wanted to get better idea of possible monthly/annual costs. This is very helpful and interesting breakdowns on possible costs per option.  Thanks, David"
Amazon EC2	"Re: Here's a spreadsheet for EC2 pricing
Here's an updated one we keep updated at all times, with reserved instance pricing, storage, memory, etc.

https://docs.google.com/a/copperegg.com/spreadsheet/ccc?key=0AthwQzSGHFM1dGtKM3ppc2F6UHZrRGdHY1phdV96cWc#gid=0

Eric Anderson
http://copperegg.com"
Amazon EC2	"Re: Here's a spreadsheet for EC2 pricing
Stratalux has also created an AWS pricing spreadsheet you can download for free from the following link. http://www.stratalux.com/aws-pricing-spreadsheet.  With it you can price out EC2 and RDS instances relatively easily as well as run pricing scenarios based upon the number and type of reserved instances you decide to choose.

Hope it helps!

Jeremy"
Amazon EC2	"Re: Here's a spreadsheet for EC2 pricing
Very useful - thanks Eric.

I assume this is for a US data center (N Virginia)?

Is there a version available for Sydney (ap-southeast-2)? Or a way to switch data centers?"
Amazon EC2	"Re: Here's a spreadsheet for EC2 pricing
For folks like myself who may have landed on this looking for something always up to date, I whipped this up for my own purposes:

https://gist.github.com/matschaffer/4912279e49dce41ab9b2

It makes use of node.js and jq to build a tab-delimited listing of types & prices (on demand & reservations) for a given region

Pastes into a google spreadsheet really nicely."
Amazon EC2	"How to bypass the S3 route to move files from iOS app to EC2?
Dear AWS experts,

I am trying to create an iOS app, which will transfer the files from an iPhone on to a server, process them there, and return the result to the app. 

I have noticed that AWS offers an SDK to transfer files from iOS app to S3, but not to EC2. I wonder why I have to go through S3, when my business logic doesn't warrant storage of files. I am concerned that the route through S3 will kill time, especially when the users expect result in a split second. 

Could you please guide me on how can I bypass the S3 route to move files from iOS app to EC2?

Regards,
Sriram Vepuri"
Amazon EC2	"Instance won't stop
Hello,

Instance id i-c24c609 became unresponsive and wont stop. Please help.

Best Regards"
Amazon EC2	"Re: Instance won't stop
Help?

i-c24c609a"
Amazon EC2	"Re: Instance won't stop
Hello,

It looks like instance i-c24c609a successfully stopped and restarted. Please let us know if you experience any further issues.

Kind regards,
Chris"
Amazon EC2	"How to create tage programatically in AWS
Hi,

Im using below code to launch instance . How can i create tags and incorporate that in instance launching?

 List<string> groups = new List<string>() { mySG.GroupId };
            var launchRequest = new RunInstancesRequest()
            {
                ImageId = amiid,
                InstanceType = awsInst,
                MinCount = 1,
                MaxCount = 1,
                KeyName = keyPairName,
                SecurityGroupIds = groups

            };"
Amazon EC2	"VM Import Stuck at 87%
I'm currently trying to test Meat (getmeat.io) using their provided virtual machine with amazon EC2. However, the import-image (as followed on the documentation) hung up at 87% while ""preparing ami"". What could be the causes and how can I manage to fix that issue in order to finish the AMI creation?

Kind regards,
Guilherme"
Amazon EC2	"Is there a way to directly convert a file system to an EBS volume?
Say I use these two commands to create a file system ""data.dd"":

    dd if=/dev/zero of=./data.dd bs=1M count=5
    mkfs.ext2 ./data.dd

It seems like it should be straightforward but despite many hours of trying different parameters and options I couldn't find a direct way to import a disk as an EBS volume using either

    ec2-import-volume
    aws ec2 import-snapshot

Anyone know if this it can be done?"
Amazon EC2	"Binding application on the elastic IP
Hello,

I am hosting a Mumble server (voice for gaming), on my amazon EC2 instance. Everything is working great, except some of the statistics that the application spits out. Players on the server, ping, ect...

Now from my research and talking with the Mumble forum, you are supposed to bind the application on the servers static IP address. However, with using an internal IP address to bind and then using the elastic IP address to connect - none of these variables get sent out. 

What would be the best way to get get this done? Load balance? some sort of nat? Port forwarding? 

Thanks!!!"
Amazon EC2	"AMI amzn-updates repo - package request php55-5.5.25
Latest version on the repo is 5.5.24-1.100.amzn1.  However, there is a PHP multipart/form-data remote dos vulnerability that just got fixed in official php 5.5.25 (http://bugs.php.net/69364)

Consider the vulnerability's impact, I'd suggest amzn-updates to catch up with 5.5.25 asap."
Amazon EC2	"Re: AMI amzn-updates repo - package request php55-5.5.25
Hello,

Thank you for bringing up this feature request with us. I've passed it on to the appropriate team to review. Unfortunately, I can't say if or when this package update request will be implemented."
Amazon EC2	"Re: AMI amzn-updates repo - package request php55-5.5.25
Hello,

The version of PHP available within the Amazon repository was updated on the 28th May 2015. Below are the versions currently available:

PHP 5.4.41

PHP 5.5.25

PHP 5.6.9"
Amazon EC2	"Re: AMI amzn-updates repo - package request php55-5.5.25
Hello,

The Team has pushed a fix for the vulnerability's that you mentioned. You should also see this once you've updated your packages. Please let us know if you have any further questions.

Regards,
Brandon"
Amazon EC2	"elb not registering backend server and instance are not able communicate
from 7am UTC 10 June 2015 none of our backend server getting registered neither it is receiving traffic  from ""useast-sc-load-balancer2"" also none our server able to communicate within security group
ELB(s): useast-sc-load-balancer2"
Amazon EC2	"Re: elb not registering backend server and instance are not able communicate
any help, i have also open support ticket, i haven't heard anything from yet."
Amazon EC2	"Re: elb not registering backend server and instance are not able communicate
Hello,

Thank you for posting. I do see that there is a Support Engineer that has been working on the case with you. I believe continuing to work on this issue via that case will be the most productive path to resolution.

Regards,
Brandon"
Amazon EC2	"Unable to access RDS from EC2 - not sure what's missing
I have an RDS instance set up that I'd like to access from both external hosts and an EC2 instance. I believe the RDS instance is inside VPC but the security group is open. No matter what I set the other security group details to, I cannot access the RDS instance from EC2. Every time the login times out. RDS is marked publicly accessible and I'm using the endpoint DNS, but I have had no luck so far. The RDS security group lists my EC2 private IP, EC2 security group and the office IP (for connecting externally). It's clear that the requests are getting blocked, but right now I have no idea where."
Amazon EC2	"Re: Unable to access RDS from EC2 - not sure what's missing
I've been able to gain access from my EC2 and remote machines by setting VPC access, and it appears that security groups for the RDS instance itself has little to no effect. Does this mean that publicly accessible RDS instances do not respond to their dedicated RDS security groups?"
Amazon EC2	"Can't delete EBS volume
Hi
Please help me!
I can't delete volume vol-987dc187 (it's still deleting, about 2 hrs). Volume is detatched and no instance is running at the moment. Is there any way to delete it? Using Actions -->Delete Volume doesn't work. 
Best"
Amazon EC2	"Re: Can't delete EBS volume
Hello, 

I am seeing the volume vol-987dc187 as deleted on my end. Is it still showing as 'deleting' in the EC2 console?

Best Regards,
Jillian L."
Amazon EC2	"Added new security group and now i can't connect through SSH
I have Ubuntu VPC and i've decided to add a new security group to it and i can't access it through ssh anymore, i got ""connection timed out"" error. Also i can't ping the server IP, i get ""request timed out"".
I don't think i've made mistake in the security group settings so what else could be the problem. I have other virtual machines with their default settings but i don't want to change the security groups for them because i may loose access to them too. I am not very experienced with Amazon VPC service so i hope someone can tell me how to troubleshoot the problem.

Edited by: peter701 on Jun 6, 2015 10:19 AM

Edited by: peter701 on Jun 6, 2015 10:37 AM"
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
Hello,

Thanks for posting. Looking under your account I can see two Ubuntu instances, i-da64092d and  i-0de567fb. I can connect to port 22 on i-da64092d, but I am unable to connect to port 22 on i-0de567fb. From what I can see in the Security Groups and ACLs my connection should be allowed.

Have you attempted to revert the changes you've made?
Are you utilizing a firewall within the instance?
Can you SSH to the private IP address from i-da64092d?

You can also try to stop/start this instance and see if you are able to connect.

Regards,
Brandon"
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
The problem i have is with instance i-0de567fb. All i did was to create new security group for rdp connection because i wanted to access Ubuntu server with RDP from my Windows 7 machine. Then from instances dashboard i selected the Ubuntu entry and then Action>Networking>Change Security Group selected the newly created security group and clicked Assign Security Groups. That's all i did. After this i couldn't connect through ssh.

I restarted the instance, also removed the new security group setting but still can't connect. The firewall on the ubuntu server doesn't have any rules set. I can't ping the private IP address from the other instance so i doubt ssh will work also."
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
Hi there peter701,

As confirmed we cannot connect to instance ID i-0de567fb over TCP 22. We have confirmed that the VPC config is correct and should be allowing the connections. This means that it is being stopped inside the instance.

I have looked at your console log and I can see that you have xrdp running, so change the SG that is currently applied to one of the other two that you have that allows 3389 to be open as well. Once that is done we can test again to see if the instance is responding over that port.

If you cannot connect to the instance at all then the last resort would be to attach the volume to a working donor instance so you can access the impaired instance logs files and see what might be causing the issue.

Start with opening 3389 again and let us know when you have done that and we can then test again.

Quim."
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
I created new instance i-6c27139a and during the creation i created only one security group for it, for ssh access. After this a created a new security group for RDP access and after this i applied this new security group to the newly created instance. After this i was able to login into the instance through ssh.
I did the same thing with the instance i can't login i-0de567fb but i don't know why i lost ssh access to it. I also added security group for RDP access to it."
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
Hello 

The instance appears to be stopped at the moment, so we are unable to test further. 

As my colleague Quim mentioned earlier, you may need to detach the root volume from this instance and attach it to another instance as a secondary volume to investigate why SSH is no longer working. 

Here is a link to our documentation on how to detach an volume from an instance:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
(Since you do not have access to the instance, you can skip steps one.)

Here is a link to our documentation on how to attach a volume to an instance:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

I hope this is helpful, please let us know if you have any additional questions. 

Best Regards,
Jillian L."
Amazon EC2	"Re: Added new security group and now i can't connect through SSH
I think i detached the right volume, its ID is vol-77ba3365.
I attached the volume to instance i-6c27139a. But now if i try to start the instance i get error: 

Error starting instances
Invalid value 'i-6c27139a' for instanceId. Instance does not have a volume attached at root (/dev/sda1)

Edited by: peter701 on Jun 10, 2015 10:58 AM

Edited by: peter701 on Jun 10, 2015 11:02 AM"
Amazon EC2	"Cloudflare on top of ELB- Anyone?
Are there any users that use Cloudflare on top of ELB for taking advantage of ip blocking? With Cloudflare, they have the ability to block ip's which we can't do with ELB. Is anyone using this? If so, are there any pitfalls to be aware of? Looks like the entire dns record needs to be moved to them from route54. We already use cloudfront so we won't need their caching. Thanks for any suggestions."
Amazon EC2	"Weird networking issue running a new Linux kernel on HVM
Hello.

I am experimenting with running the latest Linux kernel (4.0.4) on a HVM based EC2 instance (i-87038846).
The kernel and Linux system boot just fine, however, after several KB of network traffic has gone through the instance (such as reading files over SSH), the network traffic completely halts and the instance cannot be reached anymore via TCP or ICMP, thus failing Instance Status Check.

The instance is however operational even after the network trouble, it responds to EC2 reboot command and I observe proper systemd shutdown sequence in the console. No error is logged in dmesg or systemd journal.

After a reboot, the network remains working until several more KB are transferred, then the network halts again.

I cannot understand how a newer kernel can cause such a weird networking issue, could an AWS guru please check the network situation on the instance?

Many thanks!"
Amazon EC2	"Which is better - SQL on server or SQL in Amazon RDS?
Why would I pick Amazon RDS to go with my EC2 instance rather than picking an EC2 instance that has SQL Server already on it? 

Thanks,
Patrick
patrick at allaboutfocus.com"
Amazon EC2	"Re: Which is better - SQL on server or SQL in Amazon RDS?
It's a tough question to answer in any general way; RDS just ""exists"" and raw SQL Server needs you to care for it, do backups etc.  Such ""care"" might be a good thing for you, giving you much more flexibility and control which you would not have with RDS.

I can't answer the first question well, but I do want to point out one more option; use a regular EC2 instance, and install your own SQL Server onto it.  In this way you can easily configure it any way you like, right from the start.  Install such that master/msdb reside on mirrored (or stripped) EBS partitions, or whatever.  If you are plannign to run 24/7 this option might be cheaper too.  With EC2 SQL Server instances, license fees a pro-rated hourly; that hourly option might be nice if the instance was not used 24/7.

James

P.S. We installed our own SQL Server Enerprise Edition an an EC2 instance.  We needed Enterprise Edition so we could use TDE for ""at rest"" encryption.  Plus, it is cheaper for us to use our own license."
Amazon EC2	"Re: Which is better - SQL on server or SQL in Amazon RDS?
It looks to me like RDS comes with backups right?"
Amazon EC2	"Re: Which is better - SQL on server or SQL in Amazon RDS?
And yes the instance will be used 24/7. I'm looking at spooling up two servers to present a web-based application. It will have a web-based component and web-services based component that several laptops will be connecting to for data syncing. Heck - I'll still trying to determine if EC2 is my best option vs. 1and1, etc. 

Thanks for the answers. Any downside you've seen on your windows hosting on EC2 ?"
Amazon EC2	"Re: Which is better - SQL on server or SQL in Amazon RDS?
I'd use RDS for all my prod needs as long as it's 2008R2 or 2012. 

Having AVZs is amazing.

It's like having a built cluster that you don't have to support with the click of a button."
Amazon EC2	"Delay in account reactivation after suspension impacting our business
Hi, this is fifth day since we paid the due bill that caused our account to be suspended. We have opened 2 support cases to no answer till now. Could someone at AWS help us and reactivate our account?

We are a small company struggling to survive. This outage has a major impact in our business. We know we caused it in the first place, but once the pending bill was paid, we expected the usual high level of customer support and care from AWS.

Many thanks in advance,

Support cases: 1415000691 and 1416225791

Zoar"
Amazon EC2	"Re: Delay in account reactivation after suspension impacting our business
Hi zoarrj,

I sincerely apologize for the delay in responding to your case.

The account has successfully been reinstated and your account is in good standing.

Should you require any further assistance please feel free to reopen the support case and we will gladly further assist.

Have a great day!
C.Manuel"
Amazon EC2	"instance i-ddab1a2a stuck in shutting down state
Hi there,

one of our instances i-ddab1a2a has been stuck in a shutting down state for some time (days).

What's the best way to resolve this?

thanks
Owen"
Amazon EC2	"Re: instance i-ddab1a2a stuck in shutting down state
Hi,

We are looking into this for you now. 

Regards,
Julian H."
Amazon EC2	"Re: instance i-ddab1a2a stuck in shutting down state
Hello,
The instance has been stopped a while ago, Please let us know if you need help with anything else.
Regards,
Baseer."
Amazon EC2	"Re: instance i-ddab1a2a stuck in shutting down state
Hi there, it's still showing as shutting down in the console"
Amazon EC2	"Re: instance i-ddab1a2a stuck in shutting down state
Hi buildmaster,

The instance should now reflect as terminated on your end.

Thanks
C.Manuel"
Amazon EC2	"Case still unassigned after 48 hours.
Edit: Sorry, wrong forum.

Edited by: michalbak on Jun 10, 2015 1:04 AM"
Amazon EC2	"READ REPLICA IS GETTING 100% CPU
Hi, 

I am using m1.large RDS instance with read replica but from last few day read replica became a headache for us. 
It's getting 100% CPU, when we reboot or recreate replica it works fine for one or two day and again goes to 100% CPU. 

Need your help. 

Thanks in advance! 

Abhishek"
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
Hi,

Are you using the same instance size on your read replica as you are for your primary RDS instance?

Cheers,

Stooby..."
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
Yes, instance size is same. 

cheers!! 
abhi"
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
Are other Cloudwatch metrics slowly creeping up after these couple of days other than the CPU, for example ReplicaLag ?"
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
I am sending you metrics for both instances as attachment. and there is no query stuck in DB."
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
And other metrics are not creeping with CPU."
Amazon EC2	"Re: READ REPLICA IS GETTING 100% CPU
This is still unresolved, can anyone help?"
Amazon EC2	"Some existing tags not showing up in Filter condition of Cost Explorer
Hi,

We are currently running lots of EC2 instances, and trying to confirm how much they cost based on Name tag of the instance using Cost Explorer.
However, some Name tags isn't shown in 'Filter' condition with auto-completion.

One of the instances where this issue happens was launched yesterday, and another instance launched 5 days ago. The types of the instances are c3.large and m3.medium respectively.

Thanks for any help."
Amazon EC2	"cannot install scipy, installation is stucked at the beginning
I used an ec2 t2.micro instance (only 1 GB RAM) with amazon linux platform to do some python programming. I wanted to install numpy, scipy, pandas etc. I was able to install numpy. For pandas, the installation gave the memory error. So I made a swap file to install it. It took a long time to install. 

The problem came when I installed the scipy. It stucked at the beginning of the installation, i.e.
stucked at the line "" Running setup.py install for scipy"" in the screen and will never went on. I used the ""top"" command to see that ""cc1plus"" consumed the most of RAM.

How can I install scipy package for python? Any suggestions?"
Amazon EC2	"Re: cannot install scipy, installation is stucked at the beginning
Hi,

In order to help you out, we need a specific set of reproduction steps including the AMI that you are starting with and any user-data that you are passing into the AMI's launch command.

If you can provide that, we'll be happy to help further!

Thanks!"
Amazon EC2	"PhpMyAdmin version 4.0.10.9 in yum repository out of date - cannot update
Hi,

I am running an Amazon Linux instance on EC2 with PHP and MySQL installed, as well as PhpMyAdmin which was installed via the sudo yum repository. When I log in to PhpMyAdmin via it's web portal, the version is 4.0.10.9 but it says that the latest stable version is 4.4.9. 

When I try to update via the sudo yum command in Putty, I am told everything is up-to-date.

How can I update to the latest stable version? Why is the version in the package in the repository out of date?

Any ideas or confirmation would be great. Thanks"
Amazon EC2	"Re: PhpMyAdmin version 4.0.10.9 in yum repository out of date - cannot update
Does anyone have any advice on this please?"
Amazon EC2	"Re: PhpMyAdmin version 4.0.10.9 in yum repository out of date - cannot update
Hi,

You have the EPEL repository enabled on your Amazon Linux AMI instance, and you are getting the phpMyAdmin package from EPEL.  EPEL is a third party repository, and the Amazon Linux AMI team does not have control over the package versions that are available in EPEL.

For more information, please see https://fedoraproject.org/wiki/EPEL/FAQ

Thanks!"
Amazon EC2	"website not working and cant ping domain
HI

Our instance ID is  i-733a5bbf, we cant ping server and all services are working fine DB is on RDS and website is with EC2 domain name http://theawesomesquad.in

Please check let us know"
Amazon EC2	"Re: website not working and cant ping domain
Hello, 

Your instance's security group (sg-9f8d3bfa) isn't allowing ICMP, so ping is not going to work. To read more on security groups please see the following: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html

Regards,
Nick"
Amazon EC2	"My account was suspended.
My account was suspended. I have started a support case. Case# 1416533311. I payed all the past due bills that I didn't know were due from over a year ago. Can someone help me get this going again? Thanks"
Amazon EC2	"Re: My account was suspended.
Hello, 

As you'll see in the case notes, your account is no longer suspended. Please follow up in the case if you have any additional questions or concerns. 

Regards,
Nick"
Amazon EC2	"Installing WLS and accessing console on EC2 instance
We have installed WLS 11g on our EC2 instance (CentOS 6.4) successfully and have been able to start the NodeManager, the AdminServer, and a managed server -- all are in a ""RUNNING"" state.  The machine listed on the config.xml file is the hostname of the private IP that was generated when the instance was created.

We added a public (elastic) IP to the instance and tried to access the WLS console via IE.

http://<public DNS name>:7001/console

But this times out.  Obviously -- by definition -- we cannot access the console with the private IP, but thought the public IP ""should"" be able to accept the connection.

Is there something ""special"" we need to do to access WLS from an external browser?  This question also dovetails into a similar issue we have with accessing other consoles for other applications that successfully install on the EC2 instance.

Regards"
Amazon EC2	"Re: Installing WLS and accessing console on EC2 instance
Hello,

Have you added the appropriate rule to your security group?

If you give me the instance ID (i-xxxxxxxx) I'll take a look for you.

Richard"
Amazon EC2	"Re: Installing WLS and accessing console on EC2 instance
In order to remove any doubt about ports, iptables, etc we set it up to be wide open.

This is an issue with the private vs public IPs that Amazon insists on using rather than just a singular public or static IP.  When I install WLS on our server -- all that's good, but the installation requires the use of the private IP/hostname to access things like jndi, the nodemanager, etc.  Which in turn means that the ""machine"" in WLS that the application is deployed on is defined as the private IP.

Therefore any application I deploy will be defined as being on the private IP and not the public IP -- which makes the application invisible externally."
Amazon EC2	"Re: Installing WLS and accessing console on EC2 instance
Also, the answer so far to every question from AWS is ""talk to Oracle""... this is an AWS issue..."
Amazon EC2	"Re: Installing WLS and accessing console on EC2 instance
Instance ID:  i-a78ee158"
Amazon EC2	"Re: Installing WLS and accessing console on EC2 instance
We have tried to change the Listen Address to the public IP when starting the NodeManager and AdminServer.  When we changed both to use the public IP, the NodeManager would not start.  The following was in the NodeManager log file:

<Jun 9, 2015 6:19:22 PM EDT> <Info> <Security> <BEA-090905> <Disabling CryptoJ JCE Provider self-integrity check for better startup performance. To enable this check, specify -Dweblogic.security.allowCryptoJDefaultJCEVerification=true>
<Jun 9, 2015 6:19:22 PM EDT> <Info> <Security> <BEA-090906> <Changing the default Random Number Generator in RSA CryptoJ from ECDRBG to FIPS186PRNG. To disable this change, specify -Dweblogic.security.allowCryptoJDefaultPRNG=true>
<Jun 9, 2015 6:19:22 PM EDT> <Info> <Security> <BEA-090908> <Using default WebLogic SSL Hostname Verifier implementation.>
<Jun 9, 2015 6:19:22 PM> <SEVERE> <Fatal error in node manager server>
java.net.BindException: Cannot assign requested address
        at java.net.PlainSocketImpl.socketBind(Native Method)
        at java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)
        at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)
        at java.net.ServerSocket.bind(ServerSocket.java:326)
        at javax.net.ssl.impl.SSLServerSocketImpl.bind(Unknown Source)
        at java.net.ServerSocket.<init>(ServerSocket.java:192)
        at javax.net.ssl.SSLServerSocket.<init>(SSLServerSocket.java:106)
        at javax.net.ssl.impl.SSLServerSocketImpl.<init>(Unknown Source)
        at javax.net.ssl.impl.SSLServerSocketFactoryImpl.createServerSocket(Unknown Source)
        at weblogic.nodemanager.server.SSLListener.init(SSLListener.java:73)
        at weblogic.nodemanager.server.NMServer.start(NMServer.java:206)
        at weblogic.nodemanager.server.NMServer.main(NMServer.java:382)
        at weblogic.NodeManager.main(NodeManager.java:31)

Jun 9, 2015 6:19:22 PM weblogic.nodemanager.server.NMServer main
SEVERE: Fatal error in node manager server
java.net.BindException: Cannot assign requested address
        at java.net.PlainSocketImpl.socketBind(Native Method)
        at java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)
        at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)
        at java.net.ServerSocket.bind(ServerSocket.java:326)
        at javax.net.ssl.impl.SSLServerSocketImpl.bind(Unknown Source)
        at java.net.ServerSocket.<init>(ServerSocket.java:192)
        at javax.net.ssl.SSLServerSocket.<init>(SSLServerSocket.java:106)
        at javax.net.ssl.impl.SSLServerSocketImpl.<init>(Unknown Source)
        at javax.net.ssl.impl.SSLServerSocketFactoryImpl.createServerSocket(Unknown Source)
        at weblogic.nodemanager.server.SSLListener.init(SSLListener.java:73)
        at weblogic.nodemanager.server.NMServer.start(NMServer.java:206)
        at weblogic.nodemanager.server.NMServer.main(NMServer.java:382)
        at weblogic.NodeManager.main(NodeManager.java:31)

When we changed the NodeManager Listen Address (in nodemanager.properties) back to a null/default value, NodeManager started but AdminServer did not.  The AdminServer had the following in its logfile:

<Jun 9, 2015 6:21:15 PM EDT> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to ADMIN>
<Jun 9, 2015 6:21:16 PM EDT> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to RESUMING>
<Jun 9, 2015 6:21:16 PM EDT> <Emergency> <Security> <BEA-090087> <Server failed to bind to the configured Admin port. The port may already be used by another process.>
<Jun 9, 2015 6:21:16 PM EDT> <Error> <Server> <BEA-002606> <Unable to create a server socket for listening on channel ""Default"". The address 54.165.106.68 might be incorrect or another process is using port 7001: java.net.BindException: Cannot assign requested address.>
<Jun 9, 2015 6:21:16 PM EDT> <Critical> <WebLogicServer> <BEA-000362> <Server failed. Reason: Server failed to bind to any usable port. See preceeding log message for details.>
<Jun 9, 2015 6:21:16 PM EDT> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to FAILED>
<Jun 9, 2015 6:21:16 PM EDT> <Error> <WebLogicServer> <BEA-000383> 
<Jun 9, 2015 6:21:16 PM EDT> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to FORCE_SHUTTING_DOWN>

It appears that we need to be able to change the IP that the nodemanager listens on to the public IP, but cannot figure out how to do this."
Amazon EC2	"iptables not working (need 2.6.32-346-ec2 modules)
Here is the error I got:

$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 13.10
Release:	13.10
Codename:	saucy
$ uname -r
2.6.32-346-ec2
$ ls /lib/modules
3.11.0-15-generic <---- There is no 2.6.32-346-ec2 modules on my machine.
$ sudo iptables -L <---- iptables does not run
libkmod: ERROR ../libkmod/libkmod.c:554 kmod_search_moddep: could not open moddep file '/lib/modules/2.6.32-346-ec2/modules.dep.bin'
iptables v1.4.18: can't initialize iptables table `filter': Table does not exist (do you need to insmod?)
Perhaps iptables or your kernel needs to be upgraded.

Where to download or how to install 2.6.32-346-ec2 modules??"
Amazon EC2	"Re: iptables not working (need 2.6.32-346-ec2 modules)
Hello, 

Could you tell me the AMI and region you're using when you got these errors? 

Regards, 
Nick"
Amazon EC2	"ELB overriding Forwarded-Proto
We have the following setup Public ELB -> NGINX -> internal ELB -> App Servers
We are handling HTTPS on the Public ELB and Nginx is forwarding the Forward-Proto header to the internal ELB as https. But the app servers receive the header as http. I assume the internal ELB is ignoring the forwarded header and making up its own because he is listening on the http protocol.

Is there any way to let the internal ELB just forward the header instead of overriding it?"
Amazon EC2	"Re: ELB overriding Forwarded-Proto
What is the internal listener setup? Are you using HTTP or TCP?"
Amazon EC2	"Re: ELB overriding Forwarded-Proto
The internal ELB is listening on the HTTP protocol"
Amazon EC2	"Re: ELB overriding Forwarded-Proto
Have you tried telling it to listen on TCP port 80 and send that to TCP port 80 on its instance? See if that makes any difference?"
Amazon EC2	"Re: ELB overriding Forwarded-Proto
Hello, 

Thank you for posting to the AWS Forums. 

Mal is on the right track with recommending a TCP Listener. When using an HTTP listener the ELB updates the X-Forwarded-For headers with it's clients information as described here:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/TerminologyandKeyConcepts.html#x-forwarded-headers

A TCP listener does not have this behavior, and will simply forward the packets without modification. 

Regards,
Nick"
Amazon EC2	"Re: ELB overriding Forwarded-Proto
I'm facing a very similar problem, and the last response makes me wonder:

If I use a TCP listener, what will become of the health checks? Will the ELB start to believe that the instances are healthy just by checking whether the TCP port is in a listening state? Or will it continue to perform HTTP requests against the health check URL and consider the instance healthy only when it receives an HTTP 200 in response?

In addition, when we deploy applications on Elasticbeanstalk these configurations can't be changed. One would have to create the EBS environment, and, then, go to the ELB to change the listener. Isn't that so?"
Amazon EC2	"i2.4xlarge with RHEL5.9
How can i create i2.4xlarge EC2 instance with RHEL5.9
i didnt find HVM AMI for RHEL5.9.
please help me"
Amazon EC2	"Re: i2.4xlarge with RHEL5.9
Hello, 

If you can't find an AMI with the exact parameters you require, you may want to look into the Import/Export Tools, which allow you to import your own VM into AWS for use with EC2. You can read more on this feature here: 
http://aws.amazon.com/ec2/vm-import/

Otherwise you can look into booting an AMI with an older version on HVM, and update specifically to RHEL 5.9 and not beyond. 

Regards,
Nick"
Amazon EC2	"i want to create Amazon EC2 instance with RHEL5.9
Hi
i want to create EC2 with  RHEL5.9 version.
but i didnt find any AMI for 5.9 version in market place.
is there any other way to  create EC2 with RHEL5.9 version?"
Amazon EC2	"Re: i want to create Amazon EC2 instance with RHEL5.9
Hello, 

If you can't find an AMI with the exact parameters you require, you may want to look into the Import/Export Tools, which allow you to import your own VM into AWS for use with EC2. You can read more on this feature here: 
http://aws.amazon.com/ec2/vm-import/

Regards,
Nick"
Amazon EC2	"Not able to connect to the VM just created one day ago
The Status Check says ""System reachability check passed"", and ""Instance reachability check passed"", but when I use ssh to connect, it always timeout. This happened just from today."
Amazon EC2	"Re: Not able to connect to the VM just created one day ago
Found the issue, and fixed: the local linux machine's default gateway changed."
Amazon EC2	"EC2 Instance shows ""Status Check as 1/2 checks passed"".
Hi,

My EC2 Instance Dashboard shows ""Status Check as 1/2 checks passed"" for my Instance... and could not able to connect to the Instance. I didn't do any changes like attaching or removing volumes to the Instance.. suddenly starts showing the error messages...

Please can anyone explain me what went wrong with the Instance and can give me solution for this.. 

Waiting for the reply..."
Amazon EC2	"Re: EC2 Instance shows ""Status Check as 1/2 checks passed"".
Hello, 

If you provide us the instance ID we will be better able to assist you with this. Otherwise the following documentation details how to troubleshoot an EC2 instance that has failed status checks: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html

Regards,
Nick"
Amazon EC2	"Account compromised, no reply from support center yet.
Hey,

I got an email about my account being compromised. It appears there was a file with the keys on that were uploaded to github due to me having an issue with my .gitignore file. I have followed the instructions on the email and removed the keys and the github repository. 

My issue now is that I am left with a huge bill due to whoever used my keys, made many instances of EC2! I have tried replying to the support center and have had no reply all day and my ticket status has changed to ""Customer Action Completed"". Case ID: #1415118941

I have read other articles and threads of other people having the same issue but they sorted it out through the support center but I havent had a reply.

Any ideas?

Edited by: emobe on Jun 8, 2015 2:24 PM"
Amazon EC2	"Re: Account compromised, no reply from support center yet.
Hello, 

It looks like this case was properly addressed yesterday. Please work through the case if you have any further issues. 

Regards,
Nick"
Amazon EC2	"Transfer of IP from Classic to VPC
I followed the thread https://forums.aws.amazon.com/thread.jspa?threadID=181023 where DavidH@AWS mentions that they (AWS engineers) are working on providing a seamless service for moving IP to VPC. 

I have an IP (I got it about 4 years ago - for a non VPC instance) which I need to move to a VPC. The move needs to take place over a short period (a couple of hours) or if there is a chance that it will take longer, then I need to know the absolutely maximum time.

Has anyone got experience with a similar problem?
Is there a timeplan for the improved service that DavidH@AWS mentions?

Thanks

Dimitris"
Amazon EC2	"Re: Transfer of IP from Classic to VPC
Hello, 

The time it takes shouldn't be a few minutes at most providing there isn't a manually set rDNS record. In the form post you mentioned, the user had set an rDNS entry for the EIP which caused it to be held up. You can read more on rDNS records used with an EIP here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#Using_Elastic_Addressing_Reverse_DNS

Another factor that will prevent the EIP from moving is if it's currently associated with an Instance, but as long as the EIP is 'Available' then you should be able to migrate to VPC within minutes. 

Regards,
Nick"
Amazon EC2	"Attach/Detach buggy/unreliable (API)
A feature in our software requires us to reliably attach and detach volumes inside a running instance; the code generates new volumes, attaches them to itself, does some I/O, then detaches them.  

However, we are finding some serious issues with this in practice.  Attaching generally works cleanly, but detaching poses serious problems.  Rather easily in testing, one of two things occurs:

1) The detach never completes; the instance remains responsive, but the volume stays stuck in ""detaching"" for the life of the instance.  A stop, then start, of the instance is required to ""un-stick"" the volume.
2) The detach never completes, AND the instances becomes unresponsive (this is a Windows instance; remote desktop connections die, no software responds on other open ports, but instance is still ""running"").  Only solution is to stop and start the instance in the console.  (A ""reboot"" does not work; has to be a stop, then start.)

(I currently have a case of #1 -- instance i-04a43a64 in us-east with volume vol-9d88cef7, which is the result of the attached test program).

Neither of these is acceptable; I can't have these operations requiring instance cycling.  Is there a known issue here and/or a known-bugs list that is publicly available about the EC2 API?  

There's one reference to a timing bug/issue here:
https://forums.aws.amazon.com/thread.jspa?messageID=106019&#106019

which doesn't make me feel any better.

Is there any reliable way through the API to guarantee that attach and detach requests complete without affecting the instance?  Can someone from Amazon explain clearly what, if any, issue(s) there are with attaching and detaching that seem to result in a lot of messageboard traffic?

Thanks!"
Amazon EC2	"Re: Attach/Detach buggy/unreliable (API)
This problem appears to still be occurring four years later! Still unanswered, seemingly..."
Amazon EC2	"Re: Attach/Detach buggy/unreliable (API)
Hello, 

As mentioned in our documentation here, a force detach can be used to force an EBS volume stuck in the 'detaching' state:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html

Regards,
Nick"
Amazon EC2	"Unable to (re)attach a root partition to its instance
At a dead-end after attempting to resize a root partition of a CentOS 6.4 x86_64 instance.  Followed this process:

1. Stopped instance
2. Created a snapshot of the root partition
3. Created a larger volume using the snapshot
4. Attached the new volume to the instance
5. The instance did not start, claiming it could not find/mount the root volume
6. Now trying to re-attach the ORIGINAL root volume to the instance and receive this error:
'Error attaching volume: Invalid value '/dev/sda1' for unixDevice. Attachment point /dev/sda1 is already in use'
7. Researched the issue and found various references to already-used mount points being unavailable temporarily/permanently. So I attempted to re-attach the original volume using another mount point and receive this error upon launch:
'Instance does not have a volume attached at root (/dev/sda1)'

Anyone have thoughts or solutions?  Thank you!"
Amazon EC2	"Instance Status Checks failed
Hello, 
   The instance status checks for my EC2 instance has been failing repeatedly. I have tried to reboot the instance a couple of times. 

The system status checks has passed. 

I am unable to ssh into the machine, or even ping it. The system log is empty. 

If someone from Amazon reads this and has access to machines, the instance id is i-e7375311. 

Please let me know how can I go about fixing it. 

Since the system status checks has passed, I think there is some hope that I can revive the machine, at least temporarily so I can copy the database, and move it to another machine. 

thank you very much."
Amazon EC2	"Re: Instance Status Checks failed
The instance came back up after I repeatedly rebooted it for 6 times. 

mods, feel free to close this thread"
Amazon EC2	"EC2 Instances randomly becoming unreachable with no recovery
This is the second time this week that an EC2 instance just goes away.  No system log.  Can't reboot, can't stop, force stop and start does nothing.  Status checks good.  Never get a system log back never can regain control.  WTF?  Is EC2 really becoming this unreliable?

Current ID that is totally wrecked: i-41abb530
ID from earlier this week that got nuked: i-c7afb1b6

BTW imaging the instance after this new awesome instances randomly become useless feature does NOTHING.  If I image it an create an instance from that image, no log, no reaching, no nothing just dead.

What's going on Amazon?

Is this like the Black Log Screen of Death???

Edited by: trtrax on May 16, 2015 1:50 AM"
Amazon EC2	"Re: EC2 Instances randomly becoming unreachable with no recovery
Hello trtrax,

I'm sorry to see you're having problems with your instances.

With your instance i-41abb530 in a stopped state it's very difficult for me to see what is wrong.  Can you please start the instance and update forums thread for me and I will look into this issue for you.

Can you also please describe to me what you mean by ""goes away"".  Is the instance no longer visible in the EC2 Console?  Is it no longer responding to connection attempts on any ports?  Does it fail the EC2 Health Checks?

Kind Regards,
Anthony H."
Amazon EC2	"Re: EC2 Instances randomly becoming unreachable with no recovery
This instance has now been lost with the same black log screen of death.

i-291239f9

I tried to move the hard drive to a new instance as the root but get the same black screen.  I have left this instance on so it would be great if you can look fast because we are paying to have this dead box turned on.

Thanks"
Amazon EC2	"instance will not start after reboot
My amazon linux instance i-5491b69d has 1/2 status checks and will not reboot or let us ssh in."
Amazon EC2	"Re: instance will not start after reboot
I started and stopped and still had the same issue. After 45 mins it seemed to have fixed itself. Is there somewhere I can find a status of hardware or find out the exact issue that caused this? I checked the logs and because of the start and stop everything cleared."
Amazon EC2	"MS : Project work submission ideas in AWS
Hi all,

I am in my final Semester of my MS  in computer science . Need  suggestions  what are different project submission ideas to make and submit using AWS resources .

Thanks,
Subhash.G"
Amazon EC2	"Unable to Resolve DNS Over Night
Hi everyone, not sure what happened, but overnight my EC2 server stopped resolving to it's DNS hostname, magicblox.com , IP 54.244.244.33.

I am able to SSH to the server, and AWS doesn't think anything is wrong.  I also checked with my developer in Pakistan who is not having any issues getting to the server normally, but here in the US it's failing.

How do I resolve this issue?  Thanks!"
Amazon EC2	"Re: Unable to Resolve DNS Over Night
It started working after a while.  My domain registrar must have had a DNS server outage this morning."
Amazon EC2	"Instance unreachable and fails instance status checks
My t2.micro instance (ubuntu-trusty-14.04-amd64-server-20150325 (ami-d05e75b8)) was working fine last night- I ssh'd in and nothing was amiss.

This morning when trying to connect, ssh would hang with the following (with -v -v -v output):

---
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/dbrown/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to REDACTED REDACTED port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""/Users/dbrown/.ssh/id_rsa"" as a RSA1 public key
debug1: identity file /Users/dbrown/.ssh/id_rsa type 1
debug1: identity file /Users/dbrown/.ssh/id_rsa-cert type -1
debug1: identity file /Users/dbrown/.ssh/id_dsa type -1
debug1: identity file /Users/dbrown/.ssh/id_dsa-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
---

My keys haven't changed at all, and googling the ""Could not load... RSA1"" message there sounds like that's nothing to worry about, and unrelated (indeed, it appears when successfully connecting to an unrelated EC2 instance). Telnetting to port 22 connected fine, so it was listening. The console showed it as Running.

I tried to restart from the console UI, but nothing happened - it stayed in Running state. So I did a Stop, and it did stop. I did a Start, and after Status Check initialization it says only ""1/2 checks passed"", and ""Instance reachability check failed"".

Now ssh doesn't get as far as it did before stop/start:

--
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/dbrown/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to REDACTED REDACTED port 22.
--

The instance has been up for about half an hour now, but this is still the behavior.

""Get System Log"" shows no output at all.

Any ideas? Thanks."
Amazon EC2	"Re: Instance unreachable and fails instance status checks
Immediately after posting this, I saw that the console was showing Status Checks as passing, so I tried to ssh in again, and was successful.

But I'm still curious if anyone has any ideas on what the problem was (being unable to connect initially, then still after Stop/Start).

Thanks."
Amazon EC2	"How much will I be charged if I expand my volume from 30GB to 40GB?
Hi,
My t1.micro instance is currently free.
I intend to expand the volume from 30GB to 40GB.
May I know how will I be charged for the additional 10GB?
Thanks for your kind assistance."
Amazon EC2	"Re: How much will I be charged if I expand my volume from 30GB to 40GB?
Try using this:

http://calculator.s3.amazonaws.com/index.html"
Amazon EC2	"Pinging my Elastic Load Balancer host name works half of the time
Hi,

I created a new Elastic Load Balancer and I attributed a security group to it so I can ping it from anywhere (allow ICMP from/to anywhere). It (as of now) resolves to 4 IP addresses:
$ dig ...1362493744.eu-central-1.elb.amazonaws.com +short
52.28.107.156
52.28.106.159
52.28.79.215
52.28.36.210

But only 2 of the 4 can be pinged:
$ ping -c 1 52.28.107.156
PING 52.28.107.156 (52.28.107.156) 56(84) bytes of data.
64 bytes from 52.28.107.156: icmp_seq=1 ttl=51 time=24.5 ms
 
--- 52.28.107.156 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 24.554/24.554/24.554/0.000 ms
 
$ ping -c 1 52.28.106.159
PING 52.28.106.159 (52.28.106.159) 56(84) bytes of data.
 
--- 52.28.106.159 ping statistics ---
1 packets transmitted, 0 received, 100% packet loss, time 0ms
 
$ ping -c 1 52.28.79.215
PING 52.28.79.215 (52.28.79.215) 56(84) bytes of data.
64 bytes from 52.28.79.215: icmp_seq=1 ttl=53 time=24.3 ms
 
--- 52.28.79.215 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 24.340/24.340/24.340/0.000 ms
 
$ ping -c 1 52.28.36.210
PING 52.28.36.210 (52.28.36.210) 56(84) bytes of data.
 
--- 52.28.36.210 ping statistics ---
1 packets transmitted, 0 received, 100% packet loss, time 0ms


Earlier before, none of the IP addresses could be pinged, but maybe they changed since then? (I don't remember what they were.)

I know I'm not supposed to access the IP addresses of the Load Balancer directly (it's only to demonstrate my point), but as of now, I have a CNAME from my own domain name towards the DNS name of the load balancer, and pinging my CNAME doesn't work most of the time, since the underlying IP addresses which ELB is using don't always respond.

Under which circumstances my ELB name would not be pingable? How can I ensure it always is?

Thanks,

Jonathan"
Amazon EC2	"Re: Pinging my Elastic Load Balancer host name works half of the time
Hello Jonathan,

I was able to locate your ELB and a private subnet was chosen for the ""eu-central-1b"" Availability Zone.  This subnet will be where the individual ELB nodes are provisioned and must have a route to a VPC Internet Gateway in order to have public connectivity.  You can swap out the subnet for this Availability Zone for another that has this route [1], or you can replace the route if this private subnet is not necessary (turn it into a public subnet).

[1] http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-manage-subnets.html#attach-subnet-console

Best regards,
Justin G."
Amazon EC2	"Re: Pinging my Elastic Load Balancer host name works half of the time
Hi Justin,

thanks for having a look! I think I start to understand how it works.
I have another question though, which I'm not sure if it's possible or how to proceed: since I'm supposed to configure my ELB to only use public subnets, is there a way to:


have the ELB with public subnets
to have my backend instances NOT in a public subnet while providing them with Internet access (to pull configuration and packages, etc.)


I would like to avoid giving public IP addresses to my backend instances, if possible.

Thanks again for your answer!

 Jonathan"
Amazon EC2	"Same configuration multiple instance with desired Ip pool
I would like to have a very basic windows machine with Chrome browser installed. I need 25 copies of that basci windows machine with reserved IP block let say x.x.x.10 to x.x.x.35

What is the easy way of achieving that ?

I am only aware that how to create built-in windows configuration for 25 but then do i have to install chrome to each one and configure Ip... it is too complex right...

Please help me..."
Amazon EC2	"Can launch AMI as micro or small, but not medium , fail status check 1/2
I have an older instance-store AMI that I have been running as both m1.medium or m1.small. It's running Windows 2003 Server.

Fast forward to this week; I'm in need of starting new medium instances. Both the recent and older AMI's start without issue on m1.small but fail every time on m1.medium. I suspected it may be a hard drive issue even though I have 4gb free on my 10gb instance-store drive.

So I converted the AMI to an EBS backed image, and resized the partition to 30GB. I can now start the EBS-backed AMI on a t2.micro or t2.small, but it also fails on t2.medium.

I think I've tried everything. The System Log is empty. There is currently an instance (failed) running from a recent AMI - i-f55f801c. This same AMI runs without problem on t2.small.

Help?"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
Hi Jason,

Can you switch this instance to a t2.small (or indeed any other working platform) and install the latest EC2Config? Doing that should dump out some information about the drivers on the instance into the System Log which we can then look at?

https://aws.amazon.com/developertools/5562082477397515

Richard"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
Hi Richard,

I had updated ec2Config at some point but I lost the update, so I just did that again. I rebooted into a t2.small instance and installed the latest tools. I had version 1.0.0.3 installed (LOL early adopter much??).

Anyway, back to t2.medium and it appears to be the same thing; I can't see anything in System Log. I also turned on the option to push event logs to the system log while I was in there in case that helped.

Jason"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
Hi Jason,

We're still getting no information in the log, but if you had EC2Config 1.x (which I've never seen before...) I'd suggest that you probably have obsolete network drivers too. 

Can you have a look at this link and see if helps?

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html

Richard"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
I went down the upgrade path; this instance didn't even have Powershell hah. Once I had that, the script for the Citrix drivers ran, but the Redhat drivers didn't uninstall. I attempted that manually, but I lost connectivity and now it's unreachable.

Monday, I will try again but I think I may just rebuild this functionality on a new, modern image."
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
I tried once more.. and it's alive again!"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
It booted on medium! Well done, thank you for the assistance!"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
It booted on medium! Well done, thank you for the assistance!"
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
Updated EC2 config and drivers."
Amazon EC2	"Re: Can launch AMI as micro or small, but not medium , fail status check 1/2
Upgrading the Redhat network drivers to the Citrix drivers appears to have fixed this. Keep in mind this AMI was made in the first weeks since Windows was available."
Amazon EC2	"Two instances failing connectivity status - cannot connect
This evening I noticed that two instances are no longer available, I rebooted them earlier and it may have installed windows updates etc, and now no longer available.

I have tried repeated stop, start and reboots and unfortunately no change, and I am now at a loss to find the root cause, can anyone help me with anything I can try to get these servers back online?

I have check some forum posts and they talk about system log, but I have attempted to get that on the server and all I get is a black screen.

INstances in question are;
i-baedf5cc
i-c2f5edb4

Any help greatly appreciated as starting to get worries at this stage!
Cheers"
Amazon EC2	"Re: Two instances failing connectivity status - cannot connect
I found the following link, which sounds like the same issue, but I am not sure if I should attempt, as I am not sure if still valid as a fix?

https://forums.aws.amazon.com/thread.jspa?threadID=159191

Can anyone help, has anyone had a similar issue?"
Amazon EC2	"Re: Two instances failing connectivity status - cannot connect
This is still an issue is there any AWS Staff that can help me please, I have posted this issue about 5 hours now and still no response?

PLease any help at this stage would be greatly appreciated as I am getting no where?"
Amazon EC2	"Re: Two instances failing connectivity status - cannot connect
No answer as such gone through all the various checks eith AWS support (which were great BTW) and seems like the OS dead on both servers following windows updates. nothing to do but rebuild and replace"
Amazon EC2	"Instance Check Fails, Get System Log Fails
hi:
  i hava a HVM ami by myself ,and i start a instance based on the ami ,but the Instance Check Fails, Get System Log Fails, i cannot get an system log , i want to know,what should to do?
my instance id is  i-beb0fa6e  
Is ""xm console"" exist in ec2 cli?"
Amazon EC2	"Re: Instance Check Fails, Get System Log Fails
Hi,
Your root volume doesn't look bootable.
As an alternative, you could consider using a standard AMI and then migrate data to it.
I hope this helps!"
Amazon EC2	"Re: Instance Check Fails, Get System Log Fails
thank you,
but i have another quession, if my instance can success run on citrix xen, why canot start on aws ec2? If i wanna modify my ami, how can i know that  where is wrong?"
Amazon EC2	"Re: Instance Check Fails, Get System Log Fails
Hello,

There are many different reasons why a custom AMI might fail to boot in EC2.

Unfortunately it is basically not possible to diagnose those that fail to output any log information. Our service doesn't support console access and thus in this scenario all you can really do is use another AMI.

Sorry about that.

Richard"
Amazon EC2	"Re: Instance Check Fails, Get System Log Fails
hi:
   I have a vm on xenserver,and i export its vhd format from xenserver, i  import the vm's vhd to ec2 like the order: 

ec2-import-instance 703838e9-f49c-444a-8a04-f50858d3c1cb.vhd -f vhd -t m3.medium  -a x86_64 -b mylinuxhvm -o xxxxxxxxxx -w xxxxxxxxxxxxxxxxxxxxxxxxxx -p linux 

but i can success to import s3,  failed to import ec2 from s3,   it show the log:

   ec2-describe-conversion-tasks import-i-fh2vvrtc
TaskType	IMPORTINSTANCE	TaskId	import-i-fh2vvrtc	ExpirationTime	2015-06-16T03:45:40Z	Status	active	StatusMessage	ServerError: an internal error has occurred during conversion.	InstanceID	i-505403af
DISKIMAGE	DiskImageFormat	VHD	DiskImageSize	1319441408	VolumeId	vol-ed6ddcab	VolumeSize	5	AvailabilityZone	us-east-1d	ApproximateBytesConverted	1319441408	Status	completed

i wanna know what is the ServerError , i cannot google it."
Amazon EC2	"Re: Instance Check Fails, Get System Log Fails
hi:
 i have another quession
my linux's grub.conf like this:

default=0
timeout=5
splashimage=(hd0,0)/grub/splash.xpm.gz
title Mylinux-HVM 
	root (hd0,0)
	kernel /boot/bzImage rw ramdisk_size=122880 root=/dev/ram0 console=hvc0 crashkernel=48M vmalloc=512M
	initrd /boot/initrd.img

I use ram as ""/""  , the system boot: BIOS->MBR->GRUB->bzImage->initrd.img ,and my system's root directory  mount /dev/ram0 by initrd.img, but when i import the system to ec2,  it show error  log :  no /etc found, but my initrd.img contain all directory   eg: /etc, /bin and so on

can you tell me what happened?
thanks!"
Amazon EC2	"Misleading error message from ImportKeyPairs
I'm using a golang binding to the web service call.

If I try to import an OpenSSH keypair (starts with AAAA), I get: ""Key is not in valid OpenSSH public key format""

The key format it will accept is a base64-encoding of the base64-encoding of the RSA Public Key extracted from the OpenSSH keypair.

So either the error message should be fixed, or (better), the call should have whatever magic was done in the CLI import-keypairs stuff to do the accept-an-SSH-key-and-extract-the-private-key.  If any EC2 API devs are reading: please, please, please.

The fingerprint returned by DescribeKeyPairs is also not the fingerprint of the SSH key but of the extracted RSA key.

So for anyone in the future struggling with this who gets here via a web search: what you have to do is this:

Parse your OpenSSH key.  Extract the modulus and exponent from that.  Make an RSA key from that modulus and exponent (without all the PEM stuff that OpenSSH adds).  That should give you a DER-encoded RSA public key.  Take the fingerprint of that.  Then base64-encode the cert.  The resulting base64-encoded RSA key will start with ""MIII"".  Then base64-encode, again, the base64-encoded-starts-with-MIII key.  THAT is what ImportKeyPairs will accept.

This only works for ssh-rsa keys.  Or at least, that's all I've done at this point.

ImportKeyPairs will like that one, and the fingerprints will agree."
Amazon EC2	"Active Directory Domain Services on the AWS Cloud
Hi there,

I'm currently doing the Active Directory Domain Services on the AWS Cloud: Quick Start Reference Deployment by Mike Pfeiffer found here: https://s3.amazonaws.com/quickstart-reference/microsoft/activedirectory/latest/doc/Microsoft_Active_Directory_Quick_Start.pdf 
and I've done the quick start deployment found here: 
https://s3.amazonaws.com/quickstart-reference/microsoft/activedirectory/latest/templates/Template_1_AD_2012.template or Figure 5 in the Quick start guide and I'm having trouble connecting to the DC's. I can connect to DC1 inside my running RDGW1 instance fine with remote desktop connections but I can't connect to it using my physical Windows 8 remote desktop connection. I'm using the FQDN (RDGW1.example.com) in advanced settings and it lets me put in username and password but I keep getting the error ""Your computer can’t connect to the remote computer because the Remote Desktop Gateway server is temporarily unavailable."" Any ideas?"
Amazon EC2	"What distribution of linux is the base for  amazon linux
I need  to know which distribution of linux  and version is used  in Amazon-Linux.  is it Centos, RH and which version (4,5,6)?
. here is the output of uname command  on a machine which has Amazon-Linux:
Linux 3.10.53-56.140.amzn1.x86_64 x86_64

Best Regards,

Ahsan"
Amazon EC2	"Re: What distribution of linux is the base for  amazon linux
Hi Ahsan,

Amazon Linux is not based on any one upstream Linux project. However, we aim to be as compatible as possible with RHEL 6.

I hope this helps.

Richard"
Amazon EC2	"Re: What distribution of linux is the base for  amazon linux
Personally, I need a more concrete answer on how to identify which distribution a given Amazon Linux AMI is built on (or most closely resembles), as there are various tools I need to install each of which require different configuration based on the specific distro. 

For example:
https://forensics.cert.org/#centossupport

Can someone please walk me/us through how to determine this on a given Amazon Linux AMI so that we can appropriately install and configure various software?

Edited by: jp_dswrx on Jun 3, 2015 2:19 PM"
Amazon EC2	"Re: What distribution of linux is the base for  amazon linux
Hi there

Amazon Linux is a custom built image and can be considered it's own distribution, with repos selected and managed by AWS. If you have specific packages tested against specific distributions then I would recommend selecting one of those distributions. 

We enabled the EPEL 6 repo and have checked the package you want to install. There are tons and tons of missing packages.

From a 2015.03 AL AMI: 

Edit /etc/yum.repos.d/epel.repo and enable the EPEL 6 repo 


rpm -Uhv https://forensics.cert.org/cert-forensics-tools-release-el6.rpm 


Edit /etc/yum.repos.d/cert-forensics-tools.repo and replace $releasever with 6 


yum clean all 



yum install CERT-Forensics-Tools 


For this package you will want to use something other than Amazon Linux.

Regards,
Julian H."
Amazon EC2	"Re: What distribution of linux is the base for  amazon linux
Will do. Thanks for the reply!"
Amazon EC2	"You Recommend s3fs ??
Your recommend used s3fs to mount a S3 Bucket Mounting as a File System in Linux (Debian7) ???"
Amazon EC2	"Getting ""Webpage not available""
After setting up my instance, I am only getting: ""CoolNovo could not load the webpage because ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com took too long to respond. The website may be down, or you may be experiencing issues with your Internet connection."" in my browser window.

I have triple checked my settings and I believe everything is the way it should be, but still the error persists. I reviewed all of the other posts on this subject and none of the solutions have worked for me. 

Any help or direction would be appreciated."
Amazon EC2	"Re: Getting ""Webpage not available""
Hello

I had a look at your instance and noted you have only opened TCP 22. In order for you to access the instance remotely via HTTP, you need to open TCP 80 on your instance Security Groups. 

You can find more info here: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html

Let us know if you need more info or guidance in this regard.

Kind Regards,
Monique B"
Amazon EC2	"Re: Getting ""Webpage not available""
Thank you! issue resolved with your recommended change.

Edited by: justjust_s on Apr 23, 2014 1:53 PM"
Amazon EC2	"Re: Getting ""Webpage not available""
hi I am having the same problem, all my inbound security group settings are ok 
I have opened http, https, ssh, dns and mysql so why am I still getting the error and sometimes it says no data received and I cant event connect to ssh !

Can you help me out please?"
Amazon EC2	"Re: Getting ""Webpage not available""
Hi shehroze37,

Would you please provide your instance ID so we can check for you.

Best Regards,

Souza S"
Amazon EC2	"Re: Getting ""Webpage not available""
hello,
i am having the similar issue.  when i tried to access the ec2 instance webpage not available. while creating the CFS i gave all the details that are necessary. but the site is not showing up,
Please advise.
my ec2 instance look like this http://ec2-XX-XX-XXX-XX.eu-west-1.compute.amazonaws.com/
Note: when i tried to access the instance for the first time, it showed up. when i tried it again it is giving me the same error. tested in diff browsers , cleared my cache done everything, but it seem to be not working.

Thanks"
Amazon EC2	"Re: Getting ""Webpage not available""
Hello,

Thanks for posting. Unfortunately I cannot locate your instance with the provide information. Can you please provide the instance id that you are experiencing issues with?

Items you can review for this issue are that you are allowing ingress traffic to port 80 in your Security Groups. Verify the web server is running and listening on the correct port (e.g. sudo netstat -tpln). Test connecting to the web server from within the instance, ssh to the instance and run curl -vIL localhost.

Regards,
Brandon"
Amazon EC2	"Re: Getting ""Webpage not available""
here is the instance i am taking about.
ec2-54-73-176-61.eu-west-1.compute.amazonaws.com"
Amazon EC2	"Re: Getting ""Webpage not available""
Hello,

It looks like the Web server is no longer running, or is otherwise no longer listening on port 80:$ nc -zv 54.73.176.61 80
nc: connect to 54.73.176.61 port 80 (tcp) failed: Connection refused

Unfortunately, we do not have internal access to the OS on instances so we are unable to specifically determine what is the cause.  Can you try performing a stop and start on this instance and see if you are able to connect via Web/SSH?

Best regards,
Justin G."
Amazon EC2	"Re: Getting ""Webpage not available""
Hi, I am having the same problem, all my inbound security group settings are proper.
My instance id i-367e533a.
Please let me know what other steps I need to follow to get this up and running ? 

Thanks,"
Amazon EC2	"Remote Desktop can’t connect to the remote computer
I am having similar issues with instance i-323822ed any help would be great, thanks"
Amazon EC2	"Re: Remote Desktop can’t connect to the remote computer
Hi there klatlap,

I have looked at the configuration for your instance ID i-323822ed and I have identified the cause of the issue. Your instance does not have a route to the internet, hence it will not be able to communicate outside of the VPC that is currently resides in.

Looking at the configuration of that VPC I can see that you have an Internet Gateway ID igw-9d06fdf8 that is attached to the VPC but is not used in route table ID rtb-2894344d.

To resolve this issue please follow the steps in the below link.


http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#AddRemoveRoutes


The above linked information should be able to fill in gaps in the below high level overview steps.

1 - Load up your VPC console for the region that this instance is in (Sydney) and then click on Route Tables in the left menu pane
2 - Highlight route table ID rtb-2894344d, click on Routes in the bottom window pane and then click on the Edit button then click on the Add another route button.
3 - In the destination field enter 0.0.0.0/0 In the target field enter igw-9d06fdf8 (clicking on this field should present that as a menu option also)
4 - Click the save button and that instance now can communicate with the internet.

Once the above steps are executed the initial issue of not being able to RDP into the instance should be resolved.

For your future reference below are links to information that will assist you resolve related issues.


http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html


Please note that if your instance is failing support health checks then you can create a support case for assistance using the below information


https://aws.amazon.com/premiumsupport/faqs/#howsfhc"
Amazon EC2	"Re: Remote Desktop can’t connect to the remote computer
Ty for your help, all connected now, i can't understand where i went wrong as i thought i followed all the setup option when creating the server."
Amazon EC2	"Binary content in apt cache from AWS mirrors - normal?
We've been observing apt failures causing Chef to fail on 2 of our ubuntu 14.04 boxes (ami-e7b8c0d7). It took me a while to get around to investigating it, but today I looked and got a little bit scared..

The error was the same on both nodes, except the filenames were different:

E: Encountered a section with no Package: header
E: Problem with MergeList /var/lib/apt/lists/us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_i18n_Translation-en
E: The package lists or status file could not be parsed or opened.


The other node was complaining about us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_universe_i18n_Translation-en instead.

When I opened the files with Vim, they both had garbage in them similar to what one would get from opening a binary. The same file on ""good"" nodes just had text in them. The files both have an mtime of 05/21/2013 23:02 UTC.

Neither of the files have the executable bits set, but I'm still very nervous about arbitrary looking junk data showing up on the server. Is this a normal occurrence with apt? With the ec2 apt mirrors? Could there be some reason that the us-west-2 ubuntu archive would briefly return garbage data?

OR - should I be treating this as a security incident?

Some details about the files:

Node 1:
$ stat  us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_universe_i18n_Translation-en
  File: ‘us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_universe_i18n_Translation-en’
  Size: 185646    	Blocks: 368        IO Block: 4096   regular file
Device: ca01h/51713d	Inode: 18571       Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2015-06-08 09:45:17.266505631 +0000
Modify: 2015-05-21 23:02:27.000000000 +0000
Change: 2015-05-22 06:58:45.643041679 +0000
 Birth: -


Node 2:
$ stat us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_i18n_Translation-en
  File: ‘us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_main_i18n_Translation-en’
  Size: 306424    	Blocks: 600        IO Block: 4096   regular file
Device: ca01h/51713d	Inode: 7735        Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2015-06-08 09:04:32.877855276 +0000
Modify: 2015-05-21 23:02:27.000000000 +0000
Change: 2015-05-22 06:55:24.202443173 +0000
 Birth: -


I am happy to provide full copies of the files to interested parties as well. I have done the basics (hexdump and strings) and found nothing of interest in there. `file` seems to think they're bzip2 archives. Trying `bunzip2` on em results in an error, `bzip2recover` produces:

$ sudo bzip2recover us-west-2.ec2.archive.ubuntu.com_ubuntu_dists_trusty-updates_universe_i18n_Translation-en
bzip2recover 1.0.6: extracts blocks from damaged .bz2 files.
bzip2recover: searching for block boundaries ...
   block 1 runs from 80 to 1485168 (incomplete)
bzip2recover: sorry, I couldn't find any block boundaries.


The fact that it's looking for the first block at byte 80 seems to indicate that the file does match up with the bzip2 format as described here (16+8+8+48=80).

Is it safe to assume that some sort of apt network operation failed resulting in truncated bzip2 files and call it a day? As I dug deeper while writing this post, I started to feel better about it, but the initial ""binary in what should be text files"" feeling was not a good one.

There's a semi-related ticket here but that appears to address a problem where a proxy serves HTML instead of the package listing apt expects. This seems like a different issue.

Edited by: mihasya-opsmatic on Jun 8, 2015 3:09 PM

Edited by: mihasya-opsmatic on Jun 8, 2015 3:10 PM"
Amazon EC2	"VPC NAT not working
I'm battling to get an Amazon Linux NAT instance to pass traffic through to the internet.

I have a VPC with public and private subnets. The NAT instance was launched from this AMI:

amzn-ami-vpc-nat-hvm-2015.03.0.x86_64-ebs (ami-b0210ed8)

I can SSH into the NAT and it has internet access via the VPC's gateway (I can ping google.com).

From the NAT instance, I can SSH into an instance inside the Private Subnet. 

From the private instance, I cannot ping google.com. I can ping the NAT machine. 

On the NAT box, I can see the ICMP requests coming in from the private instance:

15:59:58.723083 IP 10.0.2.56 > 74.125.141.100: ICMP echo request, id 14426, seq 4, length 64

I have disabled Source/Dest. Check on the NAT instance.

I'm pretty sure the problem lies with the NAT instance, since it has internet access, but the private instance does not (but it can connect to the NAT instance). However, I've tried creating the NAT instance a few times (updating the Routing Tables each time), so I know this is a clean AMI.... 

If anyone can help me out, I'd be very grateful!"
Amazon EC2	"Re: VPC NAT not working
Hello,

Can you provide an instance ID for both your NAT and private instance?  Additionally, can you verify (you can post the output here) on your NAT instance there is a MASQUERADE rule in the iptables configuration [1] and that ipv4 forwarding has been enabled [2]?  These should have been set in the AMI, but it always good to check.

[1] $ sudo iptables -L -t nat
[2] $ sysctl net.ipv4.ip_forward


Best regards,
Justin G."
Amazon EC2	"Re: VPC NAT not working
Hi JustinG,

NAT: i-291a37f9
Private Instance: i-a2163b72

1:
[ec2-user@ip-10-0-12-180 ~]$ sudo iptables -L -t nat
Chain PREROUTING (policy ACCEPT)
target     prot opt source               destination         
 
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         
 
Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination         
 
Chain POSTROUTING (policy ACCEPT)
target     prot opt source               destination         
MASQUERADE  all  --  ip-10-0-0-0.ec2.internal/16  anywhere


2:
[ec2-user@ip-10-0-12-180 ~]$ sysctl net.ipv4.ip_forward
net.ipv4.ip_forward = 1"
Amazon EC2	"Re: VPC NAT not working
Hello,

I have taken a look at your NAT instance (which looks to have been just launched) and see that source/dest. check is still enabled.  Additionally, the Security Group on the NAT does not allow ICMP.  Otherwise, all looks well--can you make the above changes and see if you can ping Google from your private instance?

Best regards,
Justin G."
Amazon EC2	"Re: VPC NAT not working
Thanks JustinG,

I basically dropped the VPC soon after posting my question, then was mid-way through recreating when I answered with the stats above, at which point, I'd missed the issues you raised above.... So, thank you for setting me right and sorry for wasting your time; there was clearly something amiss with the original setup (which was much more complex). I'll build the VPC back up again much more methodically this time. 

So everything is working. Thanks for the rapid and helpful response - much appreciated!"
Amazon EC2	"Instance stuck in shutting down state
Initiated shutdown on instance i-fe4f9204 about 20 minutes ago and it appears to be stuck in the Shutting Down state."
Amazon EC2	"Re: Instance stuck in shutting down state
Hello,

Apologies for the trouble; your instance should correctly report as stopped.

Best regards,
Justin G."
Amazon EC2	"AWS EC2 uname -r gives wrong version
$ ls /boot/
abi-3.11.0-15-generic     initrd.img-3.11.0-15-generic  System.map-3.11.0-15-generic
config-3.11.0-15-generic  memtest86+.bin                vmlinuz-3.11.0-15-generic
grub                      memtest86+_multiboot.bin
$ uname -r
2.6.32-346-ec2
$ 

The instance is running 3.11.0-15-generic but uname -r gives 2.6.32-346-ec2, how to fix this?

Edited by: cweng2014 on Jun 8, 2015 10:06 AM"
Amazon EC2	"For how long will it be possible to launch c3.* instances?
Our business is heavily using C3.large instances (100,000+ instance-hours/month). I read somewhere that there will be a push to use C4 instances, but our AMI are paravirtual. C4 requires HVM.

Can someone confirm how long it will be possible to launch and sustain C3 instances? If we need to prepare for converting to C4, it will be a mini-crisis for us.

Thanks in advance!"
Amazon EC2	"Re: For how long will it be possible to launch c3.* instances?
Hello,

While I cannot predict the future, what I'd say is that we have never retired an instance type; the very first instance types we launched with the EC2 service in 2006 are still available today.

We've always encouraged migration to newer types by providing a better price/performance ratio. 

I hope this helps.

Richard"
Amazon EC2	"Re: For how long will it be possible to launch c3.* instances?
We do not have any near term plans to remove support for C3 instance launches. You should be able to continue using C3 instances for the foreseeable future."
Amazon EC2	"Unable to connect to Windows Server t2.medium
I'm wondering if someone can look into my instance id i-7cade683 as I'm still unable to connect to the machine.

I've launched a couple of t1.micro instances over the last few days, never able to connect. Today I decided to try t2.medium in hopes that the better cpu/ram would speed things up. An hour later, still nothing.

Also would there be any reason to have 6 different ""default"" security groups, is that conflicting with anything? The one other named launch-wizard-3 currently has everything open so I should be able to connect."
Amazon EC2	"Re: Unable to connect to Windows Server t2.medium
Hello,

I have taken a look at your instance--from where are you attempting to connect to it?  Looking at the route table for the subnet (""rtb-ce3329ab"" and ""subnet-98a0cec1"", respectively), there is no Internet Gateway referenced.  In order to enable external access, you will need to provision and attach an IGW to your VPC ""vpc-d48fb4b1"" and reference it via a route for 0.0.0.0/0 in the route table.

Best regards,
Justin G."
Amazon EC2	"Re: Unable to connect to Windows Server t2.medium
Hi Justin, thanks. I have it working now. BTW do you know if I can remove the other route tables, subnets..etc. as I have no other EC2's running. I see no harm in removing them I think."
Amazon EC2	"reinstall wordpress
First of all, I know this forum doesn't support Wordpress.

I installed Wordpress.  It worked great.  Then I tried installing a theme.  Worked great.  Then I started installing some plugins for that theme.  Something made the site crash.  I tried a few things, but since I couldn't go to the sites Wordpress Admin panel, it seemed hopeless.  So I decided to start from scratch.  I deleted the html directory (including wp-content) and dropped all the wordpress tables.  I moved a fresh copy of Wordpress into the html directory, reconfigured the config.php file, and it recreated the Wordpress tables in the database.  Seems to work great.  When I try to upload a theme, it says:
 *Connection Information*
To perform the requested action, WordPress needs to access your web server. Please enter your FTP credentials to proceed. If you do not remember your credentials, you should contact your web host.

I noticed that wp-content didn't have a uploads directory, so I created one.  That seemed to let me upload the theme, but it showed up as a media file.  I moved it to the theme directory and that worked.  But when I tried to upload a plugin, I got the same message as a above.

What happened when I deleted everything?  Or rather, where was information stored that when I reinstalled Wordpress, it didn't create a uploads directory?

I am using the Amazon Linux.

Edited by: jasonbunnell on Jun 8, 2015 7:38 AM

Edited by: jasonbunnell on Jun 8, 2015 7:39 AM"
Amazon EC2	"Can a single AMI be generated from multiple snapshots?
Hi,

I know there is a way to import a vm with multiple explicit disks into Amazon EC2 by specifying the s3 location of each of the disks. But I wanted to know if there was a way to import a single vm from multiple snapshots each corresponding to the snapshot of an explicit disk?

Thanks."
Amazon EC2	"Visual Studio Load Runner
Hi,

Does anyone have any experience using visual studio loadrunner tools with EC2?

I think it sends allot of network traffic when running tests. I am asking as one of the developers here thinks that this might been seen as a DDOS attack by amazon on our servers. What mitigation are in place for DDOS attacks by AWS EC2 instances?

David"
Amazon EC2	"VM image conversion by EC2 failed (initiated by Cloudscaper)
VM image conversion by EC2 failed.

The VM uploaded was started upload using Cloudscaper. Cloudscaper transfer process console shows that its stuck at conversion:
""18:00:57 System volume has been uploaded, now it's converted by Amazon EC2 to run as EC2 instance.

I've already opened a ticket on Cloudscaper. There is an AWS error message regarding conversion failure:
""We have detected a problem with this task. A technician will take a look at the issue within 24 hours.""

I found the task Id in logs and got following from AWS describe conversion task.
AWS command: ""AW ec2 describe-conversion-tasks --conversion-task-ids my-task"" 
Output:

   ""ConversionTasks"": [
       {
           ""ConversionTaskId"": ""import-i-****,
           ""ImportInstance"": {
               ""InstanceId"": ""i-*****"",
               ""Description"": ""cloudscraper-2015-06-04"",
               ""Volumes"": [
                   {
                       ""Volume"": {
                           ""Id"": ""vol-******"",
                           ""Size"": 60
                       },
                       ""Status"": ""completed"",
                       ""Image"": {
                           ""Size"": 36572352512,
                           ""ImportManifestUrl"": ""https://cloudscraper-******-us-west-2.s3.amazonaws.com/*****"",
                           ""Format"": ""VHD""
                       },
                       ""BytesConverted"": 36572352512,
                       ""AvailabilityZone"": ""us-west-2a""
                   }
               ]
           },
           ""ExpirationTime"": ""2015-06-11T22:00:54Z"",
           ""State"": ""active"",
           ""StatusMessage"": ""We have detected a problem with this task. A technician will take a look at the issue within 24 hours.""
       }"
Amazon EC2	"Re: VM image conversion by EC2 failed (initiated by Cloudscaper)
Decided to use AWS vm instead."
Amazon EC2	"Can't stop/backup instance scheduled for retirement on 2015-06-23
Hi,

I have an instance marked for retirement (i-767f227d), which I was unable to stop nor create an AMI from. Both actions keep ""pending"" and never complete.

As instance data is hosted in EBS, is there any way I could have access to them so I can migrate away from the faulty hardware?

Best,
Carlos."
Amazon EC2	"Re: Can't stop/backup instance scheduled for retirement on 2015-06-23
Hi there Benjamin,

I have checked the status of your instance ID i-767f227d and I can confirm that it has been stopped as of about 1 hour ago. This would mean that the scheduled event has now been complete and you can start your instance again.

Normally with these situations there are self healing systems in place that will kick in and I can confirm that this was the case on this occasion.

For your future reference below is a link to some information on your support options when your instance is impaired.


https://aws.amazon.com/premiumsupport/faqs/#sfhc


Quim."
Amazon EC2	"Re: Can't stop/backup instance scheduled for retirement on 2015-06-23
Instance stopped. Event complete."
Amazon EC2	"Re: Can't stop/backup instance scheduled for retirement on 2015-06-23
Thank you so much. Service is back!"
Amazon EC2	"Instance is unusable, billed for nothing
can't connect to ssh

1. My instance uses default VPC : vpc-356b0850
2. Internet Gateway attached to my VPC : igw-b52696d0
3. I have a route in the subnet that instance resides in pointing to 0.0.0.0/0 via IGW
4. I have security Group (ID:sg-37948253) that my instance is associated with has SSH open from 
the source you are trying to connect from
5. Public IP address of the instance : 52.5.85.136
6. Network ACL : acl-e844258d

Result: No route to server. Money *billed for nothing*(may be colorfull numbers in control panel)"
Amazon EC2	"Re: Instance is unusable, billed for nothing
Problem solved by fairies."
Amazon EC2	"How to Install poedit on Amazon Linux AMI (EC2, t2 micro)?
Hello,

I am a newbie to Linux and have been trying to install poedit on Amazon Linux AMI (EC2, t2 micro) through source code. Although gtk+-2.10.14 has been installed successfully, failed to wxWidgets 3.0.2 as gtk+-2.0 has not been found. I checked and set the PKG_CONFIG_PATH, LD_LIBARARY_PATH many times, still gtk+-2.0 not found. Searched online, some said also need gtk2-devel-2.10.14, but hard to find it. Sounds quite frustrated,doesn't it?

I am tired of configuring , making , making install... Now hope one repository with yum will be easier to me .I checked my system and found out my Linux is 3.14.35-28.38.amzn1.x86.64(gcc version 4.8.2 20140120(RedHat 4.8.2-16). Three available  repositories on Amazon Linux AMI (EC2, t2 micro) including epel 6 can not install poedit, and said no poedit pachage found. Could you inform me about any other repository will do?

Thank you very much in advance.

Best regards,
NQ"
Amazon EC2	"Re: How to Install poedit on Amazon Linux AMI (EC2, t2 micro)?
You need to find a yum repository that contains the poedit package. Maybe epel? You can add the --enablerepo=epel on the command line to try it.

yum install poedit --enablerepo=epel


If it's not available in epel, you'll have to find and enable another one."
Amazon EC2	"Re: How to Install poedit on Amazon Linux AMI (EC2, t2 micro)?
Hello Kwilson,

Thanks for your advice. Unfortunately, Amanzon Linux epel doesn't contain poedit package. I've searched for while  and just found epel5 containing poedit, but epel5 is older than current Amazon Linux epel repository. I have tried to install epel6, but unsuccessful as it is older than Amazon Linux epel.

So go back to compile again. This time make some progress: finished installing wxWidgests 3.0.2. 
$ wx-config --version
3.0.2
wx-config --unicode --libs
-L/usr/local/lib -pthread   -lwx_gtk2u_xrc-3.0 -lwx_gtk2u_html-3.0 -lwx_gtk2u_qa-3.0 -lwx_gtk2u_adv-3.0 -lwx_gtk2u_core-3.0 -lwx_baseu_xml-3.0 -lwx_baseu_net-3.0 -lwx_baseu-3.0

But 
""sudo ./configure
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether to enable maintainer-specific portions of Makefiles... no
checking whether make supports nested variables... yes
checking for install location... /usr/local
checking for gawk... (cached) gawk
checking whether ln -s works... yes
checking for ranlib... ranlib
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking dependency style of g++... gcc3
checking how to run the C++ preprocessor... g++ -E
checking whether g++ supports C++11 features by default... no
checking whether g++ supports C++11 features with -std=gnu++11... yes
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking cpprest/http_client.h usability... no
checking cpprest/http_client.h presence... no
checking for cpprest/http_client.h... no
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for wx-config... no
configure: error:
        Please check that wx-config is in path, the directory
        where wxWidgets libraries are installed (returned by
        'wx-config --unicode --libs' command) is in LD_LIBRARY_PATH or
        equivalent variable and wxWidgets is version 3.0.0 or above,
        with Unicode build available.
""
Before configuring , I have checked out that wx-config was  in /usr/local/bin,
 and I have set 

export CFLAGS=/usr/local/lib/wx/include/:/usr/local/include/wx-3.0/wx:$CFLAGS
export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
export PATH=$PATH:/usr/local/bin/wx-config

Any suggestion for this situation?

Thank you very much. 

Best regards,
Ningquan"
Amazon EC2	"Linux AMI SSH timeout
Hello,

    I have been trying to connect to a new instance I spun up earlier today but to no avail.  I am using cygwin on my local machine to try to ssh with the key in the pem file I downloaded but it is acting like the machine doesn't exist.  The instance has id ""i-a425fc4d"".
     I always get ""connect to host 52.5.50.114 port 22: Connection timed out"" where 52.5.50.114 is the current public IP.  I have tried with the public DNS name as well as the public IP but they give the same result.  I stopped and started the machine a few times to get new IPs but the problem persists.  I made sure the security groups have SSH on port 22 allowed from all inbound locations and just to be overly safe, I allowed all ports temporarily (I'll turn this off once I can connect).  I also can't ping the server... makes me wonder what is blocking this.  
     I just want to be able to connect to the server through SSH.  As this is a brand new instance I imagine there isn't anything wrong with the machine but rather with my network configuration.  One additional piece of info -- I logged into a previously running ec2 instance with ssh and from there was also unable to reach the new machine. It is as if it isn't really there or the network is just ignoring all incoming requests.  Amazon does show logs for CPU, network, etc. so it must exist.  Can anyone help me troubleshoot this?  Thanks in advance.

Edited by: Ethan Berl on Jun 7, 2015 11:17 AM

Edited by: Ethan Berl on Jun 7, 2015 12:02 PM"
Amazon EC2	"Re: Linux AMI SSH timeout
Hello,
Can you please edit the route table rtb-8f6a8feb  and add the default route with the right gateway ?
Regards,
Baseer."
Amazon EC2	"Re: Linux AMI SSH timeout
Hello Baseer,

      Thank you so much for the helpful pointer, can you explain a bit more (I am rather new to the stuff in VPC).  For the route you mentioned I have in the routes tab a rule like destination: 172.30.0.0/16 target:local status:active propagate:no but that is the only rule. In the tab route propagation there aren't any rules yet.
     What is the default route and what would be the right gateway for me to be able to access the machine simply by ssh?  Will I need to add to this route table if I later want to make it an HTTP and HTTPS server?  Thanks"
Amazon EC2	"Re: Linux AMI SSH timeout
Hi there Ethan,

What you need to do is go back to route ID rtb-8f6a8feb and then click the route tab in the bottom window. From there click on edit and then click add another route. 

For the destination enter 0.0.0.0/0 and for the target enter igw-6d681508 (when you click on the target field that option would also be available in a menu. When you have done this click on save.

The reason that you have had to do this is that there was no route for anything outside of the local network of the VPC. When configuring a VPC you need to ensure that there is a route available for what you are trying to do. In this case you want to have internet communication, so you need to setup a route for all traffic that is not local to the VPC network to be routed via the Internet Gateway.

For more information please see the below link


http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html


To answer your final question, now that you have a route to the internet if you setup an HTTP/S server you will not need to change your route table, you will however need to mindful of your security groups so that they allow the intended service whilst blocking access to administrative ports.
Quim."
Amazon EC2	"Re: Linux AMI SSH timeout
No route to internet"
Amazon EC2	"PERMISSIONS
I'm having issues trying to install forums. I tried phpbb and mybb. Both give me not writable on install to certain files and or folder(s).

I do an ls -al and the permissions reflect what the documentation calls for ( they are writable ), but via the web install it says no go. Can this be an apache thing? 

Centos 7
Apache"
Amazon EC2	"Re: PERMISSIONS
Hi,

Check the users and groups that the permissions are set for.
Usually apache will run as a different user (for example ""www-data""). Make sure these locations are writeable for that user. You will need to check your distribution to see what user and group ID apache is running as.

Kind regards,
Michael"
Amazon EC2	"Upgrade Ubuntu from 14.04 to 15.
Just out of curiosity I tried to upgrade my ec2 instance. I changed the lts to normal and did an upgrade. It looked like it upgraded and gave me no errors. After a restart cat /etc/issue still shows 14.04. Is there something with the instance that prevents this?"
Amazon EC2	"Re: Upgrade Ubuntu from 14.04 to 15.
Hello,

I just tested this out with an Ubuntu 14.04 LTS instance where I changed the /etc/upgrade-manager/release-upgrades file to normal. After running 'sudo do-release-upgrade' once I saw that the instance was upgraded to 14.10 successfully. Another run of 'sudo do-release-upgrade' successfully updated the instance to 15.04. Please be sure to upgrade your instance using do-release-upgrade. Take a snapshot before doing this in case any problems should arise during the upgrade so you have a point in time to recover to if it fails for any reason."
Amazon EC2	"Re: Upgrade Ubuntu from 14.04 to 15.
It upgraded after a second try"
Amazon EC2	"SSH login to EC2 instance: how to check fingerprint?
When connecting for the first time to a EC2 instance through SSH, how can I make sure that the ECDSA key fingerprint shown in terminal is right (so that there is no Man In The Middle)?$ ssh -i kp-mykey.pem ubuntu@52.26.9.165
The authenticity of host '52.26.9.165 (52.26.9.165)' can't be established.
ECDSA key fingerprint is SHA256:27xZhLR+VfUS2fphAES3wmppceCWPzmx1oQikkBHOZM.
Are you sure you want to continue connecting (yes/no)? yes 
I understand that I can use ssh-keyscan from my computer or (better) from another EC2 instance:$ ssh-keyscan 52.26.9.165 >> ec2key_52.26.9.165
$ ssh-keygen -l -f ec2key_52.26.9.165 
2048 SHA256:Pc2zdzPOJxHBQkIgRup/c20xlV1IpyBBkfGO9eNHYyg 52.26.9.165 (RSA)
256 SHA256:27xZhLR+VfUS2fphAES3wmppceCWPzmx1oQikkBHOZM 52.26.9.165 (ECDSA) 
But how can I find this confirmation through the Amazon web console: ( instances > actions > instance settings > get system log ) ?
It looks like the fingerprint shown by ssh ( SHA256:27xZhLR+VfUS2fphAES3wmppceCWPzmx1oQikkBHOZM ) isn't in the same format as the one shown in the log ( ca:b4:69:d0:44:67:da:a9:a7:4c:46:e6:b9:74:2a:7e )?Generating public/private rsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_rsa_key.
Your public key has been saved in /etc/ssh/ssh_host_rsa_key.pub.
The key fingerprint is:
7f:2e:71:af:21:3f:ec:22:c7:fa:a1:cb:76:a0:7a:6b root@ip-172-31-38-93
The key's randomart image is:
+--[ RSA 2048]----+
|                 |
|                 |
|                 |
|                 |
|        S        |
|        ... .    |
|       . o++o.   |
|      E.o.**o..  |
|    .+.o=B.+=o   |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
de:ca:ac:3f:2a:48:e4:45:d3:67:e8:2a:2b:bf:67:bb root@ip-172-31-38-93
The key's randomart image is:
+--[ DSA 1024]----+
|     . .         |
|    o o o        |
|   . o o         |
|  . . .          |
| o . .  S        |
|  + .  . .       |
| . +    . .      |
|. o +  o..       |
| oo+E+o+=.       |
+-----------------+
Generating public/private ecdsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_ecdsa_key.
Your public key has been saved in /etc/ssh/ssh_host_ecdsa_key.pub.
The key fingerprint is:
ca:b4:69:d0:44:67:da:a9:a7:4c:46:e6:b9:74:2a:7e root@ip-172-31-38-93
The key's randomart image is:
+--[ECDSA  256]---+
|      . o        |
|     . = .       |
|      = o        |
|     * o         |
|    . X S        |
|     O X         |
|    . @          |
|   . oE          |
|    ..           |
+-----------------+
ip-172-31-38-93 login: Cloud-init v. 0.7.5 running 'modules:final' at Mon, 08 Jun 2015 01:17:54 +0000. Up 15.78 seconds.
ci-info: ++++++++Authorized keys from /home/ubuntu/.ssh/authorized_keys for user ubuntu++++++++
ci-info: +---------+-------------------------------------------------+---------+--------------+
ci-info: | Keytype |                Fingerprint (md5)                | Options |   Comment    |
ci-info: +---------+-------------------------------------------------+---------+--------------+
ci-info: | ssh-rsa | e4:87:e3:7d:fb:31:ac:e2:c7:68:fa:61:fe:2c:50:1e |    -    | kp-mykey     |
ci-info: +---------+-------------------------------------------------+---------+--------------+
ec2: 
ec2: #############################################################
ec2: -----BEGIN SSH HOST KEY FINGERPRINTS-----
ec2: 1024 de:ca:ac:3f:2a:48:e4:45:d3:67:e8:2a:2b:bf:67:bb  root@ip-172-31-38-93 (DSA)
ec2: 256 ca:b4:69:d0:44:67:da:a9:a7:4c:46:e6:b9:74:2a:7e  root@ip-172-31-38-93 (ECDSA)
ec2: 2048 7f:2e:71:af:21:3f:ec:22:c7:fa:a1:cb:76:a0:7a:6b  root@ip-172-31-38-93 (RSA)
ec2: -----END SSH HOST KEY FINGERPRINTS-----
ec2: #############################################################
-----BEGIN SSH HOST KEY KEYS-----
ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPmajHkgwpIv2padtRT2iQR7UftI1iK6W1VT5IeULgBre4i+FjGWyhQHAvsSL6q4i6VDuUUMMk+BYBo3+4U5dQ4= root@ip-172-31-38-93
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDet3V6cZuNmvMmxLD7IuGpMLWQzG0L8fw/Xu40SQw3UVo9fpyKMttetzDItxhsOHSenF6dRMm2ISW8GyYHc/nklb8p5s8zxx/7SafZhYhwZjOdf2Mz91VbTXKQNQeJsxZgq8V+isLwZL4itbFpL6ercwr+WGjdJR5bkL2jYsCLtoIRNNK+M1vL+MtO12NpZQZvk0Hruh3KOW7/L84RW/PIe9PtOe0OGn1xrlAKCk5YUtKUdERvaMEx6H49n79EsvtxwcWFGhqTvy3ISck4FUE6X/mUtKvPweuGmPiEcjIsxHV95oXyqoEHF3Oi4GMFXbcCBMofkr1tLX1fh0bte3zh root@ip-172-31-38-93
-----END SSH HOST KEY KEYS-----"
Amazon EC2	"My EC2 website just stopped responding.
I know this is a silly way to put it, but everything worked just fine up to the point that it stopped...

Up to yesterday evening my website http://akihabara.tokyo was working fine and now (nothing was changed) I can't access it ass of a sudden by domain name or IP, nor can I connect via SSH.

Do you have an idea of what might be happening?
(the EC2 console says that the instance is running fine)
Thank you!"
Amazon EC2	"Re: My EC2 website just stopped responding.
Hello,

I've just had a look at your instance, and you're quite right; it's not responding. I would suggest that you do a stop/start or reboot it to bring it back to life.

Once it comes up you should probably look at the log files inside the instance to determine what happened here.

Richard"
Amazon EC2	"Re: My EC2 website just stopped responding.
did a reboot, doesn't seem to help..."
Amazon EC2	"Re: My EC2 website just stopped responding.
stop / start didn't help either."
Amazon EC2	"Re: My EC2 website just stopped responding.
I really need help here."
Amazon EC2	"Re: My EC2 website just stopped responding.
Hello,

It appears you've managed to work through this issue as your website is now opening, but if you still have questions or concerns please let us know and we'll be happy to assist.

Regards,
RonnieN"
Amazon EC2	"Re: My EC2 website just stopped responding.
No, I still haven't figured out what happened. After a while my account came back online all on its own.

I would still like to know what's happened and why my account was inaccessible for over 24 hours and how I could avoid this situation in the future."
Amazon EC2	"Re: My EC2 website just stopped responding.
Hi there Sergey,

As my colleague previously mentioned we have not found any issues with this instance on the AWS service side of things. Now that you are able to get back into it have you had a look at the log files to get more information about what was going on at the time of the issue?

As for what you can do to avoid this sort of situation in the future, the first thing you need to do is not have the website running from a single instance. It would be best to setup an Elastic Load Balancer that is routing web requests to multiple backend instances that are in different AZs.

Below is a high level link to get you started.


http://aws.amazon.com/architecture/"
Amazon EC2	"Re: My EC2 website just stopped responding.
Instance now responding"
Amazon EC2	"Windows Instance does not start
My windows instance does not start and is hung up on waiting for meta-data. I tried creating a second network interface and attaching to my instance but still no luck. I have attached my error log. What else can I do to restore the instance?

++2015/06/06 17:41:57Z: AMI Origin Version: 2014.05.16++
++2015/06/06 17:41:57Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base++
++2015/06/06 17:41:57Z: OS: Microsoft Windows NT 6.2.9200.0++
++2015/06/06 17:41:57Z: Language: en-US++
++2015/06/06 17:41:57Z: EC2 Agent: Ec2Config service v2.2.3.0++
++2015/06/06 17:42:06Z: Difficulty detecting PV driver details for Console Output++
++2015/06/06 17:42:21Z: Message: Waiting for meta-data accessibility...++
++2015/06/06 17:45:32Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:47:23Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:49:14Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:51:04Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:52:55Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:54:45Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:56:36Z: Still waiting for meta-data accessibility...++
++2015/06/06 17:58:27Z: Still waiting for meta-data accessibility...++"
Amazon EC2	"Re: Windows Instance does not start
Hello,
Can you please follow this article : http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#metadata-unavailable

Regards,
Baseer."
Amazon EC2	"Please login as the user ""ec2-user"" rather than the user ""root"" incorrect
I am trying to ssh into my instance, but am getting an odd error:

Please login as the user ""ec2-user"" rather than the user ""root"".


I've searched for this error and in every case I can find the person was not trying to ssh with ec2-user, but when I from mac osx terminal:

ssh -i ec2_key.pem ec2-user@****.us-west-2.compute.amazonaws.com


I am still getting this error. It is not an issue for any of my other instances. Does anyone have an idea?"
Amazon EC2	"Instance not starting
Instance ID: i-32f3d738

This morning the instance was hosed. It responded to pings, but SSH was gone. Reboot from console seemed to do nothing. Tried a start/stop and now it says ""running"" but status checks are stuck on ""Initializing..."" and the instance no longer responds to pings and CloudWatch monitoring is not recording data.

What gives?"
Amazon EC2	"Re: Instance not starting
Well it's finally back online. That solves the issue, but I'm still curious what could have caused this."
Amazon EC2	"Contractor to not see other machines, how?
I have created an IAM user and given them access to one particular instance.  However when they log in, they can ""see"" all of my other instances.  When I tried to resolve this issue it appears DescribeInstances only allows an * for the resource.

Here is my policy
{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmtxxx"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:RebootInstances"",
                ""ec2:RunInstances"",
                ""ec2:StopInstances""
            ],
            ""Resource"": [
                ""arn:aws:ec2:us-east-1:xxx:instance/i-xxx""
            ]
        },
        {
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:DescribeInstances"",
                ""ec2:DescribeInstanceStatus""
            ],
            ""Resource"": [
                ""*""
            ]
        }
    ]
}


How is it possible to only list ""one"" instance and not make visible all my other instances?

Here is the context in case someone has a different solution than the one I am attempting to use.

I have setup a machine for an outside contractor.  The intentions are for the contractor to be able to start, stop and reboot the machine.  However, I do not want the contractor to see all my other machines."
Amazon EC2	"Re: Contractor to not see other machines, how?
Hi there William,

If you are going to use the describe instance permission then your contractor is going to be able to see all your instances, at the very least in the same region.

The easiest way to resolve your issue would be to remove the describe instance all together. From what you have mentioned the contractor will still be able to start, stop and terminate instances but they will not be able to get a current status of the instance. This of course introduces other problems depending on your use case...

I have tested this out using Powershell, and an IAM user that only has permissions to start, stop and terminate an instance will be able to do those tasks, but they will not be able to see the status of the instances.

Below is a link to documentation that currently shows what policy elements currently have resource level permissions.


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-supported-iam-actions-resources.html


To help engineer your options for your use case below is a link of the EC2 actions that currently do not support resource level permissions.


http://docs.aws.amazon.com/AWSEC2/latest/APIReference/ec2-api-permissions.html#ec2-api-unsupported-resource-permissions


If you keep an eye on the below link from time to time you will see the announcement if / when then required feature is implemented.


http://aws.amazon.com/new/"
Amazon EC2	"Re: Contractor to not see other machines, how?
Thank you."
Amazon EC2	"Which folder to upload my Php Files for website to run ?
Hi, I have created micro instance with Ubuntu 14.04 HVM.

Now, i have installed Nginx, Php FPM, MySQL and PhpMyadmin.

1. where do i install the website files to run the website ?
2. How can i connect my domain like abc.com to this instance domain ip ?

thanks

Edited by: speedyrv on Jun 7, 2015 3:30 AM"
Amazon EC2	"Instance not working
Hi,

My instance, i-2c615b20, crashed earlier and isn't working after rebooting and stopping/starting. Usually it at least works after a stop and restart. Could it be a hardware failure? This same thing happened to me a few months ago. Thanks for any help."
Amazon EC2	"Re: Instance not working
well, after stopping and starting for the 3rd time it seems to have worked."
Amazon EC2	"ELB can reach instance, but can't reach ELB externally
Hi I am tearing my hair out over not being able to figure this out, here is what I know.

I have an instanace in a private VPC subnet listening for http connections on port 8000.
I setup an ELB that maps port 80, to port 8000
I have placed my instance into rotation, and it's healthy
I can see that my ELB is sending healthchecks to my instance
I can curl from my instance and get my webpage
I can curl from another box, in another subnet inside the same VPC and get the webpage
I can not curl instance.ip:8000  from a laptop connected to the VPC through a VPN
I can not seem to reach the ELB, I get a connection timeout.
Both the ELB, and the Instance have security groups that allow port 8000 through
My network ACL's are wide open as far as I can tell

Something that is confounding to me is that I can ssh from my laptop throught the VPN to the box in question, but I can not curl port 8000.

How can I figure out what is blocking my connection to the ELB?"
Amazon EC2	"Re: ELB can reach instance, but can't reach ELB externally
Hi there BepAlex,

From your description it sounds like you might have the ELB configured as internal only, as detailed in the below link.


http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-internal-load-balancers.html


I have not been able to find your account though, so I cannot confirm this without looking at your resources and how they are configured. Please update the thread with the relevant resource IDs and I will check and confirm for you. Alternatively feel free to PM me the resource IDs if more appropriate."
Amazon EC2	"Latency within Amazon network
Hi,

I'm experiencing a lot of latency to/from my EC2 instance, and a traceroute seems to show that the latency is happening inside amazon's network (between 205.251.* hosts)

Traceroute: http://privatepaste.com/f1a35ef9b3

Thanks"
Amazon EC2	"Re: Latency within Amazon network
Hi there Tom Flanagan,

Unfortunately I do not have the data that I need to adequately investigate a network latency issue going back to the reported date.

I have checked the historical service status page and I see no issues reported around that time either. If you are still having these issues please update the thread with a TCP traceroute using the port that you are using for your workload. Please ensure that you also include timestamps for the test that you are running so that I can cross check with internal tools.

The above would be the minimum information that I would require to adequately investigate this issue, but any more information that you can provide would assist the investigation."
Amazon EC2	"Why is CPU credit being used when utilization is below Base Performance
Can someone explain why the CPU Credit on my t2.medium (i-54c642b3) instance are slowly being used when the CPU Utilization is a long way below the Base Performance.

I have attached 2 charts, from CloudWatch, showing the last 24 hrs. The first shows maximum CPU Utilization and CPUCredit Balance, where maximum CPU balance below 12% on average. This is especially the case between 02/06 @ 16h00 and the end f the chart, but this is when the largest amount of CPU Credit is used.

The second chart shows CPUCredit Balance and CPUCredit Usage. Between 02/06 @ 17h00 and 02/06 @ 2000 the credit usage was about 0.6 and the Balance increased over the period, but between 03/06 @ 00h00 and 04h00 credit usage was below 0.5 and the CPU Credit Balance fell.

Why is CPUCredit Balance being used when the CPUCredit Usage is low?
Why is CPUCredit Balance being usage when CPU Utilization is well below the instance's Base performance?

This doesn't appear to be right.

Edited by: stuartovic on Jun 3, 2015 1:51 AM"
Amazon EC2	"Re: Why is CPU credit being used when utilization is below Base Performance
Hello,

The credit is based on a rolling twenty-four hour cycle. Credits that are over twenty-four hours old will expire whether they have been used or not.

I hope this clarifies.

Richard"
Amazon EC2	"Amazon Developer Support Plan SLA is just a lie, it's too slow to be useful
Over the last few months I have had to get in touch with Amazon to discuss technical issues we have encountered.  Whilst the quality of response is typically quite good, I have found that their claim to respond within 12 hours for my paid support plan is quite simply a lie.

My experience with Amazon support is that I raise a ticket in my support area with as much detail as possible so that we can avoid support tennis, and can hopefully get the problem solved in one reply.  

48 hours later, and with one or two additional messages prompting for a response, I get a single reply that does not even answer my question because unfortunately it seems the person responding has not taken the time to look through my description in detail and has misunderstood things.

So I reply within a few minutes explaining why the actual issue was not addressed, and wait yet again.

It's now been 72 hours since my last reply, and 6 days since I raised my issue (issue number 1407454941 Amazon if you care), and I am still without an answer.

This experience has repeated itself over the last 6 months whenever I have to deal with Amazon, forcing me to constantly follow up with additional tickets to get my actual ticket responded to.

Is it just me, or are other people who are paying for support not getting the service Amazon are promising on https://aws.amazon.com/premiumsupport/?"
Amazon EC2	"Re: Amazon Developer Support Plan SLA is just a lie, it's too slow to be useful
Hello,

I apologise for the slow response to your case - as my colleague explained in your case we are experiencing a high caseload at the moment and your case is logged into one of our busier queues.

I've asked one of my colleagues to take a look at your case now so you should be receiving a response from us soon.

Regards,

Matt W."
Amazon EC2	"Re: Amazon Developer Support Plan SLA is just a lie, it's too slow to be useful
I did indeed get a great response now from Amazon, however it's just a bit sad that I have to resort to shaming them online to get a response."
Amazon EC2	"Re: Amazon Developer Support Plan SLA is just a lie, it's too slow to be useful
Hi Matthew,

We have a large number of new engineers in training at the moment, and we're hiring more in a variety of locations (Seattle, Dallas, Virginia, Dublin, Cape Town, Beijing, Tokyo, Sydney) to bring our response time back to what it should be.

If you know anyone who might be interested please send them here:

http://www.amazon.jobs/

Thanks,
Richard"
Amazon EC2	"instance stuck in shutting-down
Hello 
could you please terminate i-ef29443f"
Amazon EC2	"Re: instance stuck in shutting-down
terminated"
Amazon EC2	"How to replace reserved instance to another normal instance
Hi, I have few reserved instance running, few days ago I got another instance, now I want to new instance with one of my reserved instance.

I will be terminate that not needed reserved instance today. is that automatically replaced with new instance?"
Amazon EC2	"Re: How to replace reserved instance to another normal instance
Hello,

Reserved Instances are applied at billing time to any matching instance within your AWS account.

In other words, if you have one m1.large linux reservation and two m1.large instances running linux then the reservation will be applied to either of them.

Should you terminate the second instance, then the reservation will be automatically moved to the one that remains.

I hope this clarifies.

Richard"
Amazon EC2	"Re: How to replace reserved instance to another normal instance
Hello Richard, I got a small problem my existing reserved instance is on us-east-1a but accidentally I created new instance on us-east-1c and everything set up my site is live on us-east-1c, can you please tell me how can I move my instance us-east-1c to us-east-1a?

Please give me suggestion. Do I need to create support ticket or I can do this?"
Amazon EC2	"Re: How to replace reserved instance to another normal instance
I need to change instance zone"
Amazon EC2	"Re: How to replace reserved instance to another normal instance
Hello,

Your best bet here is to talk to our Account and Billing team who might be able to assist.

http://aws.amazon.com/support/createCase

I hope this helps.

Richard"
Amazon EC2	"Data transfer rate speed limited by amazon?
Hello,  we will use ec2 instances , as much as we need , in order to push traffic around 2gbps to our specific target server in europe. however, when we try on a large x8, with a dedicated hw, and 10g bandwidth aws 'ubuntu' server in frankfurt, we get rates around 1000mbps only, and this is for udp traffic.
Is there a limit on data transfer rates? And could you please tell me how to overcome this problem?

We have an assignment task deadlined in 2-3 days, and I appreciate your quick response.
thanks a lot for your very quick response.

-ozkan"
Amazon EC2	"ELB & 20-Second Lag
Hello,

I'm not the server wizard handling this, but I am technically sound and would love some feedback on this.

There's a 20-second lag very often where it would say ""Connecting..."" on the browser for that amount of time before the page loads, which is very fast once it gets to that point.

Our non-ELB test server which we connect directly to does not have this issue at all.

We have not been able to isolate the problem after a few days of testing and elimination.

It doesn't seem to be the servers, especially since we only have devs accessing it and we've upgraded it to M3.medium.

It also isn't our script, and we get the same issue when we go directly to a .js file on our server.

It seems it isn't the ELB either based on some tests, but we'll need some input on this.

It's rather intermittent and it seems it happens most often when you just launch a new browser, or have the site closed for awhile and then re-accessing it.

The ELB address:
wazaarELB-1356601601.ap-northeast-1.elb.amazonaws.com
affiliatesELB-910470332.ap-northeast-1.elb.amazonaws.com

It shows an error but that's because it isn't the right domain, but it's meant to illustrate the delay.

We have multiple ELBs set up but they all have the same issue.

It could be our infrastructure + AWS quirks, and we'd like to know why, if you could take a look.

We are using a NAT for all outbound HTTP from private subnets.

Thanks so much for getting back to us!

Also, video of said lag: https://youtu.be/7_Z8AU5AhYA

Jeremy"
Amazon EC2	"Re: ELB & 20-Second Lag
Hi Jeremy,

Both of these ELBs are enabled in multiple zones but only have back-end instances in one.

That means that a certain number of requests will have to jump across zones, which adds latency. I would not expect twenty seconds, mind, but fixing this should help somewhat.

See here:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/enable-disable-az.html

Richard"
Amazon EC2	"Restore Cancelled Account
I cancelled my account a few months ago, but would like to use EC2 again.  Can it be restored?"
Amazon EC2	"Re: Restore Cancelled Account
Hello,

Our team can reactivate your account. However, we do not keep data for accounts that have been closed, so any AWS resources you may have had will need to be set up again.

Please contact Account/Billing Support:

http://aws.amazon.com/support/createCase

Richard"
Amazon EC2	"HVM AMI from scratch shows no system log
I am trying to create an HVM AMI from scratch. 
*I created a AMI image from a loopback device, with partition /dev/sda1, /dev/sda2, /dev/sda3 .

I installed grub on /dev/sda1 and created the following grub.conf

default=0

timeout=10

#splashimage=(hd0,0)/grub/splash.xpm.gz

hiddenmenu

title AOS-P0

        root (hd0,2)

        kernel /boot/vmlinuz_AOS_9xx_6.4.3.0 quiet rdinit=/sbin/init console=ttyS0



I created a bundle and registered with --virtualization-type set to ""hvm""


However when I create an instance of this AMI, and launch it, I cannot get any output on the system log. I would think even if there is an issue with grub I should be able to get some output in the sytsem log to debug??"
Amazon EC2	"Re: HVM AMI from scratch shows no system log
Hello,

In an ideal world yes, but unfortunately certain AMI problems result in no text output at all - and as you've probably realized, debugging this type of situation is difficult if not impossible.

We would generally recommend you start with one of our standard AMIs and customize it it to meet your requirements.

I'm sorry I can't be more help.

Richard"
Amazon EC2	"Re: HVM AMI from scratch shows no system log
One more question. For HVM instances, is there a specific console type that is recommended on the kernel commandline?"
Amazon EC2	"Re: HVM AMI from scratch shows no system log
Hello,

Not that I'm aware of.

Richard"
Amazon EC2	"instance status check was fail, unable to ssh
Hello,

My instance id is i-d8b9962b. 
I have a problem with my instance. it suddenly stopped working and I've noticed it instance status check was failing. I've stop, start and rebooted the instance but it is still failing and the system log is totally blanck. the instance is now unreachable through ssh. 

I have found some suggestion:
1. attach the volume from the broken instance to a working one, and then run fsck on it. 

2. modify the Fstab file, specifically the 6th field. You can turn off the fsck on start up to hopefully let the instance boot up correctly. 

however, I am not sure whether I will lose all my file in the original instance?
i already have a drupal website on the broken instance. if I create a new instance and attached the volum to the new one. how could I move the website to the new instance ..... I don't have back up and not able to ssh to the broken one at this moment......

any suggestions?

Many thanks"
Amazon EC2	"Re: instance status check was fail, unable to ssh
Hello,

I have just reviewed instance i-d8b9962b and as far as I can see it is running normally now. I can see that it is responding to SSH.

Please let me know if there is anything else I can help with.

Richard"
Amazon EC2	"Can no longer access Elastic IPs in the EC2 web management console
When I click on ""Elastic IPs"" under ""Network & Security"" in the EC2 web management console, I get the following error:

An error occurred fetching address data: The instance ID 'i-64b346cd' does not exist

Additional info:
None of our elastic IPs are shown
The elastic IPs that are assigned instances are working properly
This has been happening since yesterday
The instance ID does not match any of our instances

Thanks"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Hello M. Goldberg,

I'm very sorry you're experiencing this problem.  I have raised it with the EC2 Engineering team and I am currently awaiting a response from them.  I will update you as soon as I have more information.

Kind Regards,
Anthony H."
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Hello,

Are you still experiencing this issue? Do you see the same problem when using a different browser? If so, would you be able to provide a screenshot and timestamp (with timezone) showing the error as well as the IAM user(s) affected by this?

Kind regards,
Chris"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Yes, I am still having this issue. Across browsers. My AWS account ID is 202119337318 - I do not have any specified user besides whatever is default (one user, myself.) 

Attached is a screenshot with system clock in upper right corner. This is from Chrome. I also tried Safari with the same result.  

My time zone is UST -10 - Hawaii

This has been for over 24 hours, not sure how much, but between 24-48 hours was first occurrence."
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Thanks for the update. We're looking into it.

Kind regards,
Chris"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Thanks Chris -

Any update? Still having the issue over here.

Thanks!"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Hello,

No update yet, I'm afraid, but we do have an active internal discussion going on this point and will get back to you as soon as we can.

Richard"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Thank you. Still experiencing the problem. Just noticed the instance ID that it says is different, I had not checked that regularly, it appears to change every time.

Edited by: M. Goldberg on Jun 2, 2015 1:25 PM to say ""it appears to change every time."""
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Any ETA? We need to change the IP on a server"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Hello,

I apologize for the delay here. I've just escalated this internally; I'll be in touch when I know more.

Richard"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Hi  M. Goldberg,
The team corrected the issue in your account and you should be able to access the Elastic IP page. Can you please confirm this?

Regards,
Isaac"
Amazon EC2	"Re: Can no longer access Elastic IPs in the EC2 web management console
Yes, we're back. Thank you."
Amazon EC2	"unable to ssh into ec2
ssh stopped working after i stopped the instance and started it some time later. Here's the debug log. Pls help 
$ ssh -vvv -i container.pem ec2-user@54.68.245.42
OpenSSH_6.1p1, OpenSSL 1.0.1e-fips 11 Feb 2013
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 50: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 54.68.245.42 http://54.68.245.42 port 22.
debug1: connect to address 54.68.245.42 port 22: Connection refused
ssh: connect to host 54.68.245.42 port 22: Connection refused

Edited by: laks444 on Apr 6, 2015 5:08 PM"
Amazon EC2	"Re: unable to ssh into ec2
Hello,

The provided IP address is not tied to an EC2 instance but to a RDS instance, and unfortunately connection via SSH is not allowed to RDS instances.

Regards"
Amazon EC2	"Re: unable to ssh into ec2
Sorry I think i stopped that instance. So ipaddress was re-assigned to someone else ..

Here's my new ip 52.25.146.193 I tried to login as root/fedora/ec2-users..nothing worked 

PS : I'll turn-off the machine in another 12 hrs.

Edited by: laks444 on Jun 3, 2015 8:31 PM"
Amazon EC2	"Re: unable to ssh into ec2
Anyone knows, why on my free-tier VM after 1yr I'm unable to login ?

EDIT : turn off the VM after 48hrs"
Amazon EC2	"Website Not Working (Error Connection Timed Out)
Hi!

Actually I am new to EC2.

I tried, all that was needed to host a domain on EC2, for last 3 days, I am spending more than 50 hrs just to make it happen and the bad luck is , still its not working.

I don't know why this AWS was formed, I believe its just for highly technical individuals who can run command lines on terminal and all. This is not good for those people who are semi-technical and believe in DIY things.

Still, as I already stopped my previous hosting account on JUSTHOST, I am left with no option, but to keep punching my head and going through AWS Documentation.

My instance id - i-a51b5969
Public DNS : ec2-52-74-74-131.ap-southeast-1.compute.amazonaws.com

Please help

Thanks
Saurav"
Amazon EC2	"How to move an instance to another zone
Hi, I have some reserved instance on us-east-1a but after everything set up I found that I have accidentally I create an instance on us-east-1c, how can I move my instance to us-east-1a?"
Amazon EC2	"Re: How to move an instance to another zone
Hi nick2015,

I see all your instances are EBS backed. To move the instance to us-east-1a, you need to do the following:


Stop the instance in us-east-1c.
Create an image of the instance. 
Launch a new instance that matches your reservation in us-east-1a


Please let us know if you need any further assistance.

Regards,
Isaac

Edited by: IsaacNK@AWS on Jun 5, 2015 10:43 AM

Edited by: IsaacNK@AWS on Jun 5, 2015 11:32 AM"
Amazon EC2	"Re: How to move an instance to another zone
Hi Isaac, 

Thank you, can you please check this instance i-dc03f975 I want to move on us-east-1a, how much time it can be take for create an image? I dont want a long down time.

Also can you please give me a proper documentation on this? I checked this http://docs.aws.amazon.com/AWSToolkitVS/latest/UserGuide/tkv-create-ami-from-instance.html 
I think this is an old documentation."
Amazon EC2	"Re: How to move an instance to another zone
Hello,

Taking an AMI is as simple as right clicking the instance in the AWS console, Image, Create Image and follow the wizard. Tick the ""No reboot"" box and your running instance will not be effected, so no down time. The image will take a little while depending on the size of the volumes and the actual data on them. 

Once it completes, launch a replacement instance in the new AZ. Test everything is working ok, detach the Elastic IP from the old on and attach it to the new one. Should take only a few mins to move the EIP. 

Here is some better documentation on taking AMIs. 

Windows
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html
Linux
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

Regards,
Julian H."
Amazon EC2	"Any one or third party use my account
Please help me. On the day May 31,2015 i received a email from aws-verification@amazon.com  with subject ""Account Closure: Please Read"" but I did not read until today. Today credit account debited report on sms (5,165.13 USD). I have logged into an account but must reset the password to login. I check console aws billing. I was very surprised with dollar bills and cost over 3K  USD per day.
Please help me and please give me a refund. AWS seems to have security issues when granting rights to the 3rd party open EC2 instance.
I did not use anything other than Amazon Route53 in last month and this month. Thanks and appreciation. My email in amazon aws is: hoangvantundvn@gmail.com . Thanks you very much for your helping.
I CANNOT PAY . PLEASE HELP ME FOR REFUNDING.
I am a Vietnamese. For me this amount is too large."
Amazon EC2	"Re: Any one or third party use my account
Hello,

I have asked my colleagues to look at this for you.

I'll be in touch as soon as possible.

Richard"
Amazon EC2	"Re: Any one or third party use my account
Hi  hoangvantu,

I've sent you a private message.

Rodney"
Amazon EC2	"Application installation failing because ""port being used""
Hey all,
I am trying to install a program on an instance of Windows Server 2012 but when it asks me to specify an HTTP port, an HTTPS port, and a ""port bind base"", no matter what values I input, the installer says the ports are in use. I am not at all experienced with this, but I believe HTTP/S ports can be anything not in use and are only 80 and 443 by default. 

The security group the instance is in allows all traffic from anywhere, so I don't think that could be the issue. I also shut down the Windows Firewall within the instance. I specifically tried port numbers that don't show up when I use netstat -an, which means they are not in use, so I have no idea what the problem could be what am I missing? 

Thanks in advance for your help."
Amazon EC2	"Multiple email domains with rDNS on one EC2 instance?
I want to host multiple domains on one EC2 Linux instance, but I can't figure out how to configure things so that I can send out mail from all of the domains and not have it rejected by other mail servers.

The problem is that the server's Elastic IP address will most likely appear in spam lists such as Trend Micro, Spamhaus, and SORBS, so the mail will often be rejected by other mail servers. It's possible to remove the server's IP address from those blacklists, but first you have to ask Amazon to create a reverse DNS entry, so that the server's Elastic IP address points back to the domain name. But I'd need the IP to point back to all of the domain names, and Amazon will only create one reverse DNS entry per IP address (and apparently ""having multiple PTR records for the same IP address is generally not recommended"" anyway). I think the usual solution would be to have a separate IP address for each domain, but Amazon only allows one Elastic IP address per EC2 instance.

So unless there's some other way, it seems like I have two choices:

1) Host multiple domains on a single EC2 instance but only send out mail from one of the domains.

2) Create (and pay for) a separate EC2 instance for each domain.

Any other ideas?

Thanks!
Russell"
Amazon EC2	"Re: Multiple email domains with rDNS on one EC2 instance?
I'm having exact same problem here, only on windows instance...
Only solution I see is to put ec2 instance in Amazon VPC and map a bunch of IP's to it.
But you can't move existing EC2 instance to VPC... 
One needs to create VPC first, then add EC2 inside it... slap a bunch of IP's, and that's about it...
That, of course, is a waist of IP's, and of course, money...

Other than that, I can only hope that other mail servers would recognize PTR record in DNS and not reject my mail...

Regards,
Damir"
Amazon EC2	"Re: Multiple email domains with rDNS on one EC2 instance?
Just curious if there is anyone have tried put multiple IP address separate by , or space, how it goes.."
Amazon EC2	"Re: Multiple email domains with rDNS on one EC2 instance?
Hi Masaaki

Have you tried this? I am also going to try and see if I can specify multiple domains in the form."
Amazon EC2	"Re: Multiple email domains with rDNS on one EC2 instance?
You can using SES: http://aws.amazon.com/ses/

SES should not have any blacklist issues due to missing or incorrect PTR records."
Amazon EC2	"HTTPS / SSL ELB supports weak Diffie-Hellman (DH) key exchange parameters
Hi, 
I have nginx web server running on EC2 instance and configured SSL with some other security stuff. I usually test my site at https://www.ssllabs.com/ssltest/analyze.html.

It rated my website to A grade when I was using elastic ip with Route 53. But when I configured Auto scaling & HTTPS / SSL Load balancer, my website grade is lowered to B.
Reason supports weak Diffie-Hellman (DH) key exchange parameters. I wonder how ELB is configured to use HTTPS / SSL and is there ay plan to support strong / custom Diffie-Hellman (DH) key exchange parameters."
Amazon EC2	"Re: HTTPS / SSL ELB supports weak Diffie-Hellman (DH) key exchange parameters
Hello,

I can't comment on future plans, but in terms of your other question, the following link might help:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-security-policy-options.html

Richard"
Amazon EC2	"Re: HTTPS / SSL ELB supports weak Diffie-Hellman (DH) key exchange parameters
There is a new ELB security policy ELBSecurityPolicy-2015-05 that will bring the SSLLabs test back to Grade A.

This announcement describes the update and contains instructions on how to change the settings on your ELB:
https://forums.aws.amazon.com/ann.jspa?annID=3061"
Amazon EC2	"Creating a single AMI from multiple snapshots
Hi everyone,

I have few VM disk images. After I upload the VM disk images to Amazon S3, I use the AWS CLI to import snapshots into AWS EC2. Can we import a single VM AMI back from these Amazon EBS snapshots as input to the AWS EC2 ImportImage API? 

I know there is a way to import a single VM AMI from multiple explicit disks into Amazon EC2 by specifying their S3 URIs. But I wanted to know whether we could the same using the snapshot ids of multiple VM disk image snapshots?

Thanks."
Amazon EC2	"Server.InternalError: Internal error on launch in ap-southeast-1a
Hi,
Trying to upgrade instance i-d69977fe in ap-southeast-1a from m2.xlarge to a m2.2xlarge.

The instance won't start. Attempts to do so return 

""Server.InternalError: Internal error on launch""

and no system log files.

Can someone please help me start this instance. I've even tried setting it back to an m2.xlarge, but that has also gone."
Amazon EC2	"Re: Server.InternalError: Internal error on launch in ap-southeast-1a
Hello,

I have checked this instance, and it looks like there is a problem with vol-0aedd205 which is attached to it. 

Please detach this volume, then attach it again to /dev/sda and try to start your instance again.

Richard"
Amazon EC2	"Re: Server.InternalError: Internal error on launch in ap-southeast-1a
Thanks, I had already tried doing that, but just in case I tried it again just now and I get the same issue, the instance doesn't start and the error message ""Server.InternalError: Internal error on launch"".

I did notice that the m2 instances are the older instance types.  Is the issue that these aren't available? Please note too that it is a reserve instance (r-929f72ba) so surely I should be able to go back and use the reserve instance? 

Thanks,
Colin."
Amazon EC2	"Re: Server.InternalError: Internal error on launch in ap-southeast-1a
Hi Colin,

No, this is not a capacity issue. If it were you would receive a message about insufficient capacity.

Can you try attaching the volume to /dev/sda1 instead and see if that helps?

Thanks,

Richard"
Amazon EC2	"Re: Server.InternalError: Internal error on launch in ap-southeast-1a
Thank you using /dev/sda1 fixed it."
Amazon EC2	"An existing connection was forcibly closed by the remote host
Our application is calling s3 service, which are working fine on windows 2008 server.
Recently we have moved them to windows 2012 server and it's giving the following error:

""An existing connection was forcibly closed by the remote host
System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host""

We don't have any firewall rule which is blocking anything.

Please let me know if you require more information to investigate this issue."
Amazon EC2	"EC2- Instance not Responding even after reboot
Instance ID i-d1583b1d
Facing the problem regularly with other account also. It dosent even allow SSH access but shows running in the AWS console. 

Have stopped and restarted the server twice. Also post the stop can't access the system logs now."
Amazon EC2	"Re: EC2- Instance not Responding even after reboot
I'm having the same problem! 4 instances failed to reboot. The console log shows this for each one:

Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
[    1.674403] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
lxcmount stop/pre-start, process 232
The disk drive for / is not ready yet or not present.
 
Continue to wait, or Press S to skip mounting or M for manual recovery
 


Not being able to mount the root volume seems to be a bad thing. This is not an /etc/fstab thing either. I checked by doing the mount-elsewhere exercise that's discussed elsewhere.

This might be isolated to us-west-2c. I patched/rebooted an instance in us-west-2a and everything came back normally.

PlzHlp!

Todd

Edited by: todds-ai on Jun 5, 2015 5:56 AM

Edited by: todds-ai on Jun 5, 2015 6:09 AM"
Amazon EC2	"Re: EC2- Instance not Responding even after reboot
No tried that did not work. I tried upgrading from Micro to Small no resolution with the same too."
Amazon EC2	"S3 Upload
HI,

I am located in Sydney and I have selected for my EC2 and S3 servers to be located in Sydney. I have a hard drive with data on it that I would like uploaded by Amazon to the cloud using the service offered at (http://aws.amazon.com/importexport/pricing/ ).

Can I send the hard drive somewhere in Australia or do I have to send it to Singapore? It seems quite strange that I would need to send it to Singapore when the servers are located in Australia.

Kind regards,
Bradley"
Amazon EC2	"Re: S3 Upload
Hello,

At present our Import/Export service only supports five regions, and Sydney is not one of them. While this may change in the future I cannot comment about when or if that might happen.

Sorry about that.

Richard"
Amazon EC2	"Is AWS Appropriate for Mission Critical Services?
I have hosted my own mission critical architecture for the last 7 years and have never had a significant issue. But, I have been intrigued with the idea of getting out of the hardware business and moving everything to the cloud. So I decided to explore AWS. I setup an account and launched a micro instance to experiment and I was very impressed with the seemingly simple setup and interface. Except it didn't work. I couldn't RDP or telnet to my instance, even after reviewing all the comments in another thread specifically related to this. Some of the solutions offered suggested the need to configure gateways and routing tables. Nothing in the setup instructions suggested this was necessary and now I'm waiting for an answer related to instance i-0280a3f4. Seems that considering all the others with the same problem that something is wrong with the setup instructions or they could be more complete.

Then I read this post 'Amazon account hacked and mass purchase with EC2 c3.8xlarge EVERY region' and it scares the hell out of me. How can something like this happen? All of a sudden, I'm seriously wondering if this is a good idea. Seems that Amazon should be going to the ends of the earth to prevent & resolve issues like this. The RDP thread titled 'Remote Desktop can’t connect to the remote computer for one of these reasons' has multiple years of posts for this problem and yet the current instructions do not address it. As a brand new user who followed the setup instructions provided, I currently have the same long standing issue as so many others - can't connect.

So, assuming that I work through my issues and move forward, now it seems like I have to worry about how secure and reliable these cloud services are. I'd appreciate it if someone at AWS could weigh in on this in a timely manner.

Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

I can understand your concern and how you may have been scare mongered reading particular posts, however I would like to reassure you that AWS is VERY secure providing you have the knowledge to apply the necessary security steps to prevent such incidents from happening.  There are a number of security features that AWS provides, from a physical access level, Identify and Access Management level, Network level and Instance (host) level, not forgetting the security you can then apply yourself once you have you instance in control.  There area number of security features for each service AWS provides and its ensuring you follow best practices and architect your infrastrucutre corrently using these security features that will ensure your data and infrastructure is hidden behind a fortress.    

Further information on Security can be found in this whitepaper here:
http://d0.awsstatic.com/whitepapers/Security/AWS%20Security%20Whitepaper.pdf

Also take a look at these Security best practises:
http://media.amazonwebservices.com/AWS_Security_Best_Practices.pdf

When people first start using AWS and fire up an instance within the first few minutes they then run into problems when trying to connect to it.  This could be down to a number of issues, depending if the instance has been deployed in the default VPC or your own custom VPC.  

If its been launched into the default VPC its likely to be a security group issues preventing the RDP/SSH ports from source to destination.  

If it has been launched into your own VPC that YOU have created then likely to be an issue:

No Internet Gateway attached to your VPC
No Elastic IP address attached to your instance
No route in the subnet that your instance resides in pointing to the outside world via the IGW (Internet Gateway)
Lack of security group allowing correct ports
Lack of NACL allowing correct ports on the instance subnet


AWS is built for reliability, redundancy, high availabilty of its infrastructure.  Many of the services by default provide the user with a highly available service.  For example S3 automatically copies data to different availability zones on your behalf providing data stored on S3 with a durability of 99.999999999%.  EBS is also automatically backed up to other devices on your behalf.... Many of AWS services are built with HA in mind and take a lot of effort and hard work out from yourself by default.  

If you are looking to migrate your existing infrastructure to the cloud then you must ensure you have someone with the correct architecture knowledge to assist you with this.  Your infrastructure could be moved to the cloud I am sure within a highly available, self healing, autoscaling environment where your estate will benefit from many of its features, helping you and your customers.

http://media.amazonwebservices.com/AWS_Cloud_Best_Practices.pdf

I hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi Stooby33, thanks very much for your response. Relative to these comments:

If its been launched into the default VPC its likely to be a security group issues preventing the RDP/SSH ports from source to destination. 

If it has been launched into your own VPC that YOU have created then likely to be an issue:
No Internet Gateway attached to your VPC
No Elastic IP address attached to your instance
No route in the subnet that your instance resides in pointing to the outside world via the IGW (Internet Gateway)
Lack of security group allowing correct ports
Lack of NACL allowing correct ports on the instance subnet

Where in the setup instructions for an instance, does it talk about any of these things?

When you launch an instance, you have to associate a security group. Whether the default security group or one you create for launch, you open up port 3389 for RDP for inbound traffic, leave outbound traffic open and the instructions give the impression it should work. There is a public IP and DNS shown for the instance in question. I appreciate the detail in your response, but I see nothing in the setup instructions that addresses anything other than what I mention above.

Thanks - still unresolved."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
In the troubleshooting section, this is the only guidance provided relative to not being able to establish an RDP connection:

Remote Desktop can't connect to the remote computer

Try the following to resolve issues related to connecting to your instance:

Verify that you're using the correct public DNS hostname. (In the Amazon EC2 console, select the instance and check Public DNS in the details pane.) If your instance is in a VPC and you do not see a public DNS name, you must enable DNS hostnames. For more information, see Using DNS with Your VPC in the Amazon VPC User Guide.

Verify that your security group has a rule that allows RDP access. For more information, see Create a Security Group.

I have 3389 enabled from any inbound source. I have a public IP address and public DNS host name. If anyone can provide specific guidance relative to the other items that Stooby33 mentioned, I'd be grateful.

Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

In short answer it probably wouldnt mention some of the thing I mentioned in the instance guide as information regarding VPC's, IGW's etc relates to the network configuration of the Virtual Private Cloud rather than launching an instance.

However, could you answer the following questions for me please:

1. Using the AWS Console, select ""VPC"", Click ""Your VPCs"" - How many VPCs do you have? - I suspect 1? 
2. From this same location, does that VPC state ""Yes"" under the column ""Default VPC""
3. From within ths Console go to EC2, Click on Security Groups under Network and Security.  Select the Security Group you associated to your instance. Click the inbound tab.  Look at the row that allows RDP and let me know what it says under Source
4.  Are you accessing this from inside your corporate network? Its likely that you will have your own internal firewall rules blocking this RDP access outbound from your network.

I am not sure what setup instructions you are using but its likely that it doesnt dive deep into network conifugrations and the items that can prevent you from accessing your instance. 

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi Stooby33, thanks again for your response.

1) Yes, 1 VPC.
2) Yes, default VPC.
3) Source 0.0.0.0/0
4) I access multiple other sites on the public internet using RDP from this location successfully, so I'm pretty sure that my firewall is not the issue.

Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

Thank you for providing the information.

Did you create a Key Pair when you created this instance.  You would have needed to have downloaded this key to connect.

Are you getting any error messages? What is happening when you are trying to connect.

Cheers,

Stooby...

If any of my answers are helpful, I would very much appreciate it if you could mark them as so, thank you!"
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
I did create a key pair, but as I understand it, this is used to acquire the password for the first connection. I don't even get that far. I get the standard error message dialog box:

Remote Desktop can't connect to the remote computer for one of these reasons:
1) Remote access  to the server is not enabled
2) The remote computer is turned off
3) The remote computer is not available on the network

I am trying to connect using the public IP address displayed in the EC2 dashboard for the instance in question.

Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Still waiting for someone at Amazon to investigate and provide some direction. I realize this is not a support avenue, but I see plenty of responses to issues here from Amazon. Please investigate access to instance i-0280a3f4. I can't even ping, let alone RDP.

Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

Ping would not work unless ICMP traffic was open on the Security Group.

Has the instance passed the status checks? should appear as 2/2 

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi Stooby33,

 See this response from AWS.

They tell me everything is set up correctly, yet don't know why there is a connection issue. Still not resolved.



Hello my name is Julian from AWS

We aim for our services to be simple, but I know things can be confusing and frustrating at times. AWS Forums are a community where everyone helps each other. There are hundreds of threads and AWS moderate them as fast as we can and help as fast as we can. If you need direct support we offer Support contracts and have SLAs for the level you purchase.

But lets help you right now. 

It looks like you have all the right things for connection. An instance in a subnet with an internet gateway in the route table and an elastic IP. Security groups allow for inbound RDP. For ping you need to allow ICMP inbound in your security group which i see you have. 

I have done a test telnet and I can reach your instance on the RDP port

$ telnet 52.24.33.x 3389
Trying 52.24.33.x...
Connected to 52.24.33.x.
Escape character is '^]'.

I can't ping it though. So i checked your infrastructure for issues and there are none that I can see. We can't see inside the instance, but it may be the the firewall is stopping things. Why you can't RDP to is may also be onboard the instance, or you have a local issue on your network.

Next steps would be to do a telnet test as above. I hope this helps!

Regards,
Julian H."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

Can you bypass your corporate network? Maybe try and connect to this from home (without VPN'ing to your work obviously) to see if it works? if it does then it would appear that it would be an internal firewall issue to your corporate network - Just something else to rule out if all the setting appear to be correct from an AWS perspective.

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi Stooby33,

Since this is a bare-bones Windows instance and I have nothing to lose at this point, can you try to connect (telnet, ping, RDP)? IP is 52.24.33.55

Once I get to the bottom of this, I may terminate this instance and start a new one if needed, once I understand what is going on here.
Thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

Unfortuantely I am sitting behind a tightly locked down corporate firewall and I am unable to connect through as this connection would be blocked.  I will however try for you when I get home later this eve and post the results...

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi,

I tried this from home last night and I was still unable to connect.

I would be tempted to create another instance to see if there is something spurious going on with this one.

Cheers,

Stooby..."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi Stooby33,

Thank you very much for trying. This is already my 2nd instance with the same result. In the absence of assistance from someone at Amazon who will stay on this to a conclusion, I am giving up and dismissing this as a viable platform to do anything mission critical.

I appreciate your input - thanks."
Amazon EC2	"Re: Is AWS Appropriate for Mission Critical Services?
Hi rfidi,

I noticed your other post to AWS Management, I hope you get the desired result and required feedback.

Sorry I was unable to assist you further on your problem and I hope you get a result soon.

It would be much appreciated if you could select any of my comments as ""helpful"" if indeed you found them so.

Thanks again,

Stooby..."
Amazon EC2	"Cannot delete network interfaces
I am unable to delete these two network interfaces that are associated with deleted VPC, can you please help? 

eni-282c5704
eni-3f364f77"
Amazon EC2	"Re: Cannot delete network interfaces
Hello,

These ENIs appear to be associated with an AWS Directory Service directory.

If you delete that directory the ENIs should be removed also.

Richard"
Amazon EC2	"Need information on Redhat AMI images to download RHN packages
Hi AWS,

We have purchased redhat AMI images from the standard AMI instances available in AWS Community, however we are unable to install any packages which are from Redhat network (RHN) gives message not subscribed to RHN, 

Can anyone help us in understanding how to subscribed to RHN network as we have brought the AMI instance from AWS community, we have to install tools like - High availability (keepalived,heartbeat) from RHN repository.

Regards,
Sukhbir"
Amazon EC2	"Re: Need information on Redhat AMI images to download RHN packages
Hello,

Can you give me the instance ID and the full output of the command that is failing please?

Thanks!

Richard"
Amazon EC2	"Restrict output of ec2-describe-images to only three fields
When running ec2-describe-images from a windows command line, I would like the output results to be restricted to AMI name, AMI ID and Creation Date.

Any help is greatly appreciated."
Amazon EC2	"Re: Restrict output of ec2-describe-images to only three fields
Hi,

Take a look at this link:  http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeImages.html

You are able to add filters and specify which AMI-ID etc.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"cannot access RDP windows server
Hi from yesterday I cannot access anymore  one of my EC2 instances (i-fc119e18)
the port is open from my ip if I do a nmap.
As I said some days ago it worked, but now no. There are different users and noone works.

Thank you in advance"
Amazon EC2	"Re: cannot access RDP windows server
Hi,

The most common things to check are the following:


Check to ensure you have an Internet Gateway (IGW)
Ensure this IGW is attached to your VPC
Ensure the security group that the instance belongs to has the appropriate ports open for RDP
Ensure the Network ACL of the Subnet that the instance resides in has the appropriate ports open for RDP
Check your Route Table of the instance subnet to ensure it has an outgoing route to the internet via your IGW, eg: 0.0.0.0/0 via IGW
Check to ensure you have the right Public IP address.  If this instance has stopped and restarted recently there is a change it would have a different IP address that you would need to connect to (unless you are using EIP).


Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: cannot access RDP windows server
Al this point are verified, I have another instance identically configured where I'm able to access.
This one no. 

Is it possible that I misconfigured something inside windows?
Can someone of Amazon team check my situation?

Thank you"
Amazon EC2	"Re: cannot access RDP windows server
Hi,

Can you check your Cloudwatch logs to see if you are having CPU spikes or other metrics that are being maxed out? 

Cheers,

Stooby..."
Amazon EC2	"WIndows instance went unreachable
One of my windows instance went unreachable ,  then i tried stopping and starting the instance , instance stopped successfully , but dint startup up , it showed running , but status check failed , then i tried few below steps

1. Tried launch a instance from AMI taken in the same day , still the same result ( Instance is running status check failed )

2.  Tried launch a instance from AMI taken on June 1 , still the same result ( Instance is running status check failed ) 

3 . i Created a new AMI from the instance and tried to launch instance still same result , i have left the instance in same state , i can share instance id to check the issue 

After 2 hours the the unreachable instance started responding automatically , 

Please guide in  understand  this issue and how to avoid such failures 

Please let know if needed i can share the instance ids"
Amazon EC2	"Re: WIndows instance went unreachable
Hi,
Do you have an instance id we can have a look at? This way I can check if there was any problem with the underlying hardware,
It could also be Windows was installing and configuring updates when you started the instance the second time.
In cases like this you can only wait. In general, make sure you regularly update Windows to minimize the configuration time.

I hope this helps!

Edited by: AlessandroM@AWS on Jun 4, 2015 5:27 AM"
Amazon EC2	"Re: WIndows instance went unreachable
hi , 

Please check this instance -  i-05b291c8 ,  this is still in status check failed state ,  

On windows update part , we do constantly update monthly , and updates are handled manually , automatic update is disabled"
Amazon EC2	"Re: WIndows instance went unreachable
Hi,

I see your instance is in the stopped state. Are you still having problems?

Regards,
Julian H."
Amazon EC2	"Can Ubuntu Desktop w GUI run on a free Basic Tier micro-instance?
Hi All,

I just signed up with AWS EC2 Free aka Basic Tier service. I would like to run Ubuntu 13.10 desktop version on my EC2 account. I want to control my Ubuntu Desktop instance using the Ubuntu GUI rather than command line.

Simple question: Does Ubuntu 13.10 Desktop (either AMD and/or i386) run within the limits of the EC2 ""Basic"" (free) Tier? Or do I need a higher, paid tier in order to do this? I hope my question is clear.

Thanks!

Advait"
Amazon EC2	"Re: Can Ubuntu Desktop w GUI run on a free Basic Tier micro-instance?
I also had the same question if anyone out there can answer it? Thank you"
Amazon EC2	"EC2 instance not reachable
Hi,

My EC2 instance is not reachable through SSH, though its shows up 
and running in the EC2 dashboard.

i-d5b9031e

Could you pls check and let me know what is going on here.

Rgds
-Arun

Edited by: av1111 on Jun 3, 2015 10:08 PM"
Amazon EC2	"Re: EC2 instance not reachable
Hello,

I have taken a look at your instance, i-d5b9031e and noted that you have not allowed TCP port 22 on your Ingress Security Group rules. Please allow TCP port 22 in your Ingress Security Group rules for you to be able to ssh to your instance. Please refer to the following URL for more information on VPC security groups:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html

Regards,
RonnieN"
Amazon EC2	"Re: EC2 instance not reachable
Thanks"
Amazon EC2	"Can downgrade to free tier?
Hi,

Good day to you.
I have downgraded an instance type from t2.medium, to t1.micro. Does that mean that I am on free tier now? I did not change any default setting in launching the instance.
Instance ID: i-44b9fa88
Thanks for your kind attention."
Amazon EC2	"Re: Can downgrade to free tier?
Hi,

The T1.micro is the older generation, however it is still included on the Free Tier.  However, the free tier is only applicable if your account is less than a year old.

Please note if your AMI wasn't a free tier eligible then you will be charged for that aspect irrespective of the instance.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Can downgrade to free tier?
Hi Stooby,

Thanks for your generous help. Have a pleasant day."
Amazon EC2	"unable to ssh into AMI t2.micro
I have tried launching this instance several times, and my ssh attempts are timing out. I checked that my security rules allow inbound port 22. The syslog on the instance looks fine - it is booted up and is waiting with the login prompt. But when I try ssh to its public IP, it simply times out without any response. I also tried netcat and it is timing out too. I suspect the packets are not being routed correctly, but I am not sure where else to look.

I even tried terminating the instance and re-creating an identical one with the same results. Any input would be appreciated."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Hi,

If you are launching this into your own VPC (non default) then check the following:

1 - Ensure you have an Internet Gateway (IGW)
2 - Ensure this IGW is associated with your VPC
3 - Ensure you have a route added for the subnet that the instance resides in that routes traffic out of AWS, such as 0.0.0.0/0 via IGW
4 - Ensure the Security Group allows the correct port from the source your are trying to connect from
5 - Ensure the Network ACL also allows the ports through the network of your Subnet that your instance resides in
6 - Ensure you are using the correct Public IP address to connect

I hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Thanks for the reply, but I am not exactly sure what you meant by ""launching this into your own VPC (non default)"". 

This machine was the default setup for the AMI t2.micro. I did not edit any of the configurations. Just started it up and tried to ssh into it. It has eth0 interface attached, a private and a public IP, and the security groups allows port 22 for incoming from any IP. Public DNS is blank, but I am not sure if that is necessary. The sys log shows that eth0 is up and it also has a hardware address."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Hi Andrew,

Could you please post the instance id for us to take a look?

Regards,
Isaac"
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Instance id is i-93ec936c
I also changed the security group, so now all ports and all protocols are open. But still can't connect.
Thank you for looking at this."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Hi,

The instance's route table does not have a route to the internet. 
To fix this, you will need to:

1. Create and attach an IGW to the VPC
2. Then on the route table rtb-21667d44, add a route to allow all other traffic to pass through the IGW. The rule would look something like this:

Destination: 0.0.0.0/0
Target: igw-xxxxyyyy

You can find detailed steps here:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway

I hope this helps.

Let us know if you are still unable to connect after attaching an IGW.

Regards,
Isaac

Edited by: IsaacNK@AWS on Jun 4, 2015 9:55 AM"
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Should the local target IP be the same as the instance private IP. For example in my routing table, the local destination is 172.31.0.0/16, but the private IP address is 172.31.40.16 and this was the default setup upon launching the instance.

Is this correct, as I am not able to reach my instance and never have since launch?

Thanks."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Hi,

I am not sure if I understand the question but all you need is to add an extra route to the route table which becomes the default route for any traffic that is not destined for your VPC. This is an additional route to the local one already in the route table.

Regards,
Isaac"
Amazon EC2	"Re: unable to ssh into AMI t2.micro
My question is simple. I described the default configuration that is listed for my non-connectable instance. I'm asking if it is correct, since no one can tell me why I can't connect (Jillian responded earlier and confirmed that my setup appeared correct, but was unable to ping.)

To summarize, I launched a new t2.micro instance (i-0280a3f4) with Windows Server yesterday. I set up the security group - right now, wide open for RDP and ping. I have never been able to access it. So I'm simply asking if the parameters I show as the default values in the routing table are correct.

Thanks."
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Sorry, I am still having trouble making connections:

VPC Settings:
internet gateway: igw-9adeadff
VPC: vpc-77695212. CIDR: 172.30.0.0/16
Routing table: rtb-21667d44
Subnet: subnet-4c98f715

Instance Settings:
Instance id: i-93ec936c
vpc id: vpc-77695212
subnet: subnet-4c98f715
Local IP: 172.30.0.205"
Amazon EC2	"Re: unable to ssh into AMI t2.micro
Don't know what exactly happened, but I deleted everything under the VPC panel and followed step by step the description in the following two documents, and it started working again. Still don't know why, but it works now.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html"
Amazon EC2	"Cannot delete old volumes
I have 2 volumes from 2010 that are struck in my East region.

vol-4c6c6a25
vol-d87527b1

They say they are in use but they are not having any attachment.  How can I delete these?

Thanks,

Jeremy"
Amazon EC2	"Re: Cannot delete old volumes
Hi Jeremy,

Sorry to hear your having trouble deleting the volumes.

I have created an internal request with the EBS team  to have this further investigated and will keep you updated via email.

Thanks
C.Manuel"
Amazon EC2	"Re: Cannot delete old volumes
Hello, 

The recommended method to delete these is to force delete these volumes. You can read more on this here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
""If your volume stays in the detaching state, you can force the detachment by clicking Force Detach.""

Regards,
Nick"
Amazon EC2	"Re: Cannot delete old volumes
Hi C.Manuel,

Just checking but we do actually need you to try force-detach these volumes and if that fails we can take a look for you. 

Thank you,
Julian H."
Amazon EC2	"Instance stopped and wouldn't start.
Hello.

Our instance i-bd6ea89d stopped on May 28th. We noticed it just today, and now it cannot be started - it just goes through pending-starting-stopping-stopped cycle. Could you please look into possible cause of this behavior? We have two more active instances on the same account, and they are running just fine."
Amazon EC2	"Re: Instance stopped and wouldn't start.
Hello,
the instance is stopped right now.
In order to get the messages from the console, please can you start the instance and leave it running?
Also please specify if you apply any change to the configuration.
Thanks!"
Amazon EC2	"Re: Instance stopped and wouldn't start.
Hi adolfoaws, thanks for your assistance.

The problem is that the instance won't keep running - it immediately goes from pending state to stopped state when I try to start it. I guess I should note that it's a Windows instance. The system log is blank. Is there any other way to troubleshoot the starting process?
Also, I'm pretty sure we didn't apply any change to the configuration. 

Thanks."
Amazon EC2	"Re: Instance stopped and wouldn't start.
Hi,

When you start your Windows instance, if it comes up ok, it will post messages to the System Console. Using these messages you can look for clues as to the problem. In your case though, there are no messages which indicates that Windows is crashing as it starts up. This is an OS issue and not an AWS infrastructure issue. 

You 'can' move the root disk to another instance and look through the event logs for other clues. If you can't find the problem, copy the data off to your new instance and re-install your apps etc. Or recover from a previous snapshot, AMI or other backup.

Regards,
Julian H."
Amazon EC2	"Re: Instance stopped and wouldn't start.
Hi Julian, thanks for your input.

We managed to reattach the root disk to another instance, but it appears to be completely blank - no OS files, no logs, nothing at all, as if it has been formatted. On the old instance (that became unbootable) we had two disks - one with OS, and the other one with some data (databases mainly). We attached the second disk to the new temporary instance, and all the data files seem to be in place, so it is still possible that we will be able to recover at least some data. We are trying to rerun all the apps right now.
My main question now is what is the cause of the abrupt shutdown and total disappearance of all the data from the root disk. Was it something on our side (we mangled the OS, though I can't understand how exactly) or on the EC2 side (hardware problems?).
Also, is there any way to restore the root disk? We didn't have backup set up for this particular instance, but as far as I know EC2 performs automatic daily backups.

Thanks."
Amazon EC2	"Re: Instance stopped and wouldn't start.
Hi

There were no hardware issues that i can see that would have been impacting your instance. The reason for the failure is on the OS and not something we have visibility into. Maybe some updates crashed the OS or your disk filled or some drivers are crashing it. But highly unlikely to related to the hardware. 

As for your data, there is also no mechanism for AWS to delete data off your disks. We can destroy the volume, then you wouldn't be able to attach it etc. But we can't delete the blocks off it. Whatever happened on the OS layer may have corrupted the file system. When you attach the root volume does it prompt you to format it? Maybe run a file system check on it for bad blocks. 

The other thing is that you had 1 ephemeral volume attached to the instance. This is temporary storage and data gets deleted with any stop start. 

If you have launched a new instance of the same size it will also have one of these and you should expect it to be blank. Are you aware of how ephemeral volumes work and could this be a factor in the loss of your data?

EC2 is not automatically backed up by AWS. We have redundant protection for EBS volumes should our storage hardware fail, but no direct backup. We provide snapshots and AMI functions for customers to make copies of their data. We recommend you also take offsite backups. 

Regards,
Julian

Edited by: Julian@AWS on Jun 5, 2015 1:17 AM

Edited by: Julian@AWS on Jun 5, 2015 3:30 AM"
Amazon EC2	"AWS Staff - I would be grateful if you would forward this to management
Dear Amazon Management,

I had high hopes for leveraging your infrastructure to take my business to the next level. Today, we host our own hardware without issues, but for growth purposes, wanted to see if there was a better way.

So, after considering it for a while, I decided to establish an account and evaluate what you have to offer. The initial goal was simple, establish a t2.micro instance, migrate some applications to Windows Server 2012, evaluate the process and if successful, scale to meet a desired level of performance. We need high availability, as we have global customers that are depending on us to deliver solutions for them - no excuses.

So I launched an instance and then everything started to fall down. I have never been able to gain access to that instance to do anything. After pleading on this forum, I got minimal feedback from AWS staff that my setup appeared correct, but no explanation as to the connection problems as confirmed by your staff.

I was told that I could 'buy' support if I wanted a dedicated effort to resolve this. You want me to buy support for something that didn't work from the very first moment. Yet is seems this is my only AWS provided option if I want an instance I can actually work with.

Now, if I treated my customers this way, I wouldn't have any customers. It seems that for any new potential customer, there should be at least some start-up support to get things going. Yet I blew up on launch and no one at AWS seems to care.

So it seems I am left to completely dismiss AWS as a business solution, because I am left to fend for myself to determine what is wrong, when it seems that even AWS staff cannot tell me what is wrong. I would just like to offer that if this is your policy going forward, you are going to lose customers and potential customers.

If you truly care, you will assist to a resolution instead of asking me to pay to determine why your infrastructure is not working. In the absence of a meaningful response from AWS, I have come to the conclusion that this platform will not work for us, as we can't afford to be held hostage when our customers depend on us.

Thanks for listening...Dave aka 'rfidi'"
Amazon EC2	"Cannot reach instance
My Instance ID is: i-141497e3

It suddenly stopped responding and cannot login through ssh.

Tried stop/start and Reboot, status back to running but still cannot login through ssh.

Can someone help to take a look at the console log?

Thanks.

Simon"
Amazon EC2	"Re: Cannot reach instance
Error message shown below:

connect to host ec2-52-25-161-217.us-west-2.compute.amazonaws.com port 22: Connection timed out

It was working fine all week until about 5pm EST."
Amazon EC2	"Re: Cannot reach instance
Actually IP changed."
Amazon EC2	"Allowing a comment or tag to be saved for each security group rule.
A helpful new feature with EC2 security management would be to provide a way to save a comment or tag with each security group rule (e.g. Joe's home computer) rather than just a name & description at the group level.  For example, we might have a security group called ""Developer Access"" but it can become difficult to manage and categorize the numerous rules when they span multiple people & purposes."
Amazon EC2	"Re: Allowing a comment or tag to be saved for each security group rule.
Hello,

Thank you for your hint!
I have created a feature request for having the ability to add a tag/comment at rule level.

Regards,
Giorgio"
Amazon EC2	"Re: Allowing a comment or tag to be saved for each security group rule.
AWS is big on tagging resources ... yet for security group rules we still can't have tags or descriptions to document what that rule is for.

+1 for this feature"
Amazon EC2	"Re: Allowing a comment or tag to be saved for each security group rule.
Totally agree. We use white-lists pretty extensively and there's no means of adding a description to each rule/IP. Even the most basic HW firewalls and even my home router provide this capability."
Amazon EC2	"Re: Allowing a comment or tag to be saved for each security group rule.
+1"
Amazon EC2	"Security Group Rule Tagging issue
Hi,

First, thanks for the ability to be able to comment/give names to security group rules. This will really save me a lot of time trying to match loads of numbers against a spreadsheet.

HOWEVER. I came across an issue while I was tagging IP addresses against rules in our main security group (attached). Any idea how I can add more tags? I need to add one to pretty much every rule in the group, and there's about 30 odd rules in there and it seems I can only have 10 comments. Seems to be a very silly restriction if you ask me. Why would you even deliberately restrict the number of comments?

Dan"
Amazon EC2	"Re: Security Group Rule Tagging issue
**nudge**"
Amazon EC2	"Re: Security Group Rule Tagging issue
hm. the feature vanished.

??

(feels like forever alone in this thread...)"
Amazon EC2	"Re: Security Group Rule Tagging issue
very annoying.  This is a really useful feature, why did it disappear with no warning!?"
Amazon EC2	"Re: Security Group Rule Tagging issue
bump"
Amazon EC2	"Re: Security Group Rule Tagging issue
AWS is big on tagging resources ... yet for security group rules we still can't have tags or descriptions to document what that rule is for.

+1 for this feature"
Amazon EC2	"Re: Security Group Rule Tagging issue
Hello,

Security groups can now be tagged. Please see the following links:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#tag-restrictions
https://aws.amazon.com/blogs/aws/resource-groups-and-tagging/

Kind regards,
Chris"
Amazon EC2	"Re: Security Group Rule Tagging issue
I'm sorry, but tagging a security group doesn't cut it. What the starter of this thread asks - and what I sorely need as well - is the ability to tag individual rules within a single security group.

Scenario: you have a security group that manages access to EC2 instances for developers working from home. It contains the public IP addresses of the developer's home internet connections, so those developers can access the EC2 instances this SG is attached to, from home.
How do I remember who or what each IP address in the SG belongs to? The only way to properly do this, if we're allowed to tag rules within a security group (or at least give rules a name)

Could we please get this?"
Amazon EC2	"So many connection problems posted - normal or not?
Greetings, I am new to this forum and as such, I am trying to understand if all the connection problem posts I am seeing is a normal percentage of the total (I realize that people don't post as much when things are going well).

Is what I am seeing here typical or is there something larger going on?

Thanks."
Amazon EC2	"Re: So many connection problems posted - normal or not?
I'm thinking that things are NOT normal. Looking at all the recent posts on connection issues, all I see is boilerplate responses, but I have yet to see resolutions. I hate to be negative, but for credibility's sake, it would be nice if AWS staff would follow-up on ANY of these to a successful resolution, so we can all learn what we are doing wrong."
Amazon EC2	"Re: So many connection problems posted - normal or not?
Continuing to host my own hardware is looking pretty good at this point. Still no resolution from AWS on connection issues. This will be my last post on this issue, as I've spent way too much time on what should have been a routine and simple issue. Just doesn't seem reliable enough."
Amazon EC2	"Connection timed out (but not a security group problem)
Hi,

My instance (i-acc0bf48) was working just fine (thank you for that, by the way) and now I cannot connect with ssh. First i had this message :

ssh_exchange_identification: read: Connection reset by peer

Then I stopped it and restarted it, and now I get :

connect to address 52.16.140.162 port 22: Connection timed out

The port 22 of my security group is open, the status check says it's ok, I didn't change my pem key,... I don't understand what's happening !

Thank you very much for your help,
Ekigui"
Amazon EC2	"Re: Connection timed out (but not a security group problem)
Hi Ekigui,

It appears your IP changed after stop/start. This is expected behavior when you do not have an Elastic IP attached to an instance. Try to use the current IP of the instance and see if you can log in.

Regards,
Isaac"
Amazon EC2	"EC2 instance stopped responding to requests overnight..
Title says it.

Overnight, an EC2 instance I have simply stopped responding to requests. I've rebooted it, shut it down, started it back up.. nothing.

It's simply dead. No response to ping at all and there doesn't appear to be any way to troubleshoot it without being up.

Is there anything else I can do? This is an instance I had started to get setup (about 4 hours into the process). Rather disconcerting if this is going to end up being a normal problem."
Amazon EC2	"Re: EC2 instance stopped responding to requests overnight..
Hello Geoff,

Could you please share the id of the instance you are having issues with?

Regards
Shiroy"
Amazon EC2	"Re: EC2 instance stopped responding to requests overnight..
I'm having exactly the same problem right now.

Anything I could do or Amazon could help with?

My instance ID: i-1c391209

Edited by: Pimpo on Jun 4, 2015 3:59 AM"
Amazon EC2	"Re: EC2 instance stopped responding to requests overnight..
Hi Pimpo,

I had a look at the instance and it's underlying host and did not see any apparent issue. I can also reach it through it's public IP. 
Since you stopped/started the instance and the public IP changed, can you confirm that you are using the instance's current IP? 

Regards,
Isaac"
Amazon EC2	"403 Errors for All Amazon Linux Repos
Hello,

I'm getting 403 errors on all the yum repos on a brand new EC2 instance. I just launched this thing, and first thing I did was run yum update. I also tried running a yum clean all first before posting just to be sure it wasnt something old that was cached in the AMI.

Here's the output:

# yum -y update
Loaded plugins: fastestmirror, priorities, security, update-motd
Loading mirror speeds from cached hostfile
 * amzn-main: packages.us-east-1.amazonaws.com
 * amzn-updates: packages.us-east-1.amazonaws.com
http://packages.us-east-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.us-west-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.eu-west-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.us-west-2.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.sa-east-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.ap-northeast-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
http://packages.ap-southeast-1.amazonaws.com/2012.03/main/24ff18fc5683/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - ""The requested URL returned error: 403""
Trying other mirror.
Error: Cannot retrieve repository metadata (repomd.xml) for repository: amzn-main. Please verify its path and try again


Edit: This is an Amazon Linux EC2 instance running in Oregon within a VPC.

Edited by: jonkleinnewcorp on May 15, 2012 10:06 AM"
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
I saw your update when I was just about to ask if this is a VPC instance. It sounds like you are routing the traffic out through the VPN connection. The repositories allow connections from within EC2 only. I'm afraid you will need to route this traffic out through the Internet Gateway instead."
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Hi,

Do you have an Elastic IP attached to this VPC instance? VPC instances require a public IP to access the repos.

Regards,
Preethi"
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Hmm thought that would be easy, but I've got something wrong somewhere. I set up the routing table to send traffic bound for our physical site (10.230.0.0/16) over the VPN, and set a route for 0.0.0.0/0 to use the internet gw, but it's not working. 

I've checked both the security groups and the network ACLs and everything looks fine.

I've attached a screenshot of my config for this particular subnet. Any ideas what I've done wrong here?"
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Did you attach an Elastic IP address as well? That will be required in order to use the Internet Gateway. The route table and network acl looks fine."
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
I'm assuming you mean attach an Elastic IP to the instance itself?

Is there no way to get it to do NAT for you?

Edit: NAT the entire subnet, that is. I see that assigning an EIP is technically doing NAT. I'd like to have the gateway NAT all outbound traffic from all of our instances if possible.

Edited by: jonkleinnewcorp on May 15, 2012 11:55 AM"
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Yes, the instance needs an Elastic IP address.

It is possible to set up NAT, but it is essentially just a separate EC2 instance with an Elastic IP address. This NAT instance is placed in a public subnet, which means it has a default route to the Internet Gateway. The private instances will then need to be placed in a separate subnet with a default route to the NAT instance. If you have a single subnet right now, you can add a new one for the NAT instance. The route table for your existing subnet can then be modified to route everything through this NAT instance. No Elastic IPs will be required for your private instances. See NAT Instances."
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Thank you much for your help."
Amazon EC2	"Re: 403 Errors for All Amazon Linux Repos
Is this true even if I assigned a Public IP to the VPC instance when creating it?

I am having this same issue, but don't understand why I would need an Elastic IP for a Public Subnet instance that has a Public IP."
Amazon EC2	"Instance Stuck after reboot - was not able to connect before either
Hello everyone,

Some time yesterday I  noticed I could not ping my server through the public IP or the public DNS. I also could not connect via SSH. I then tried to reboot the instance after which it got stuck at status check 1, where it has remained ever since. 

The instance ID - i-df9d4e36
I can provide logs upon request.

Thanks in advance"
Amazon EC2	"Re: Instance Stuck after reboot - was not able to connect before either
Hi,

Try stopping the instance and restarting rather than rebooting.  This will likely cause the instance to spin up on different hardware which you currently might be having issues with.

Note, if you are using EBS backed instance then your data will be ok, if you are using instance store backed then this data will be lost, so best to perform a backup if this is the case if you are able to.

Cheers,

Stooby..."
Amazon EC2	"Re: Instance Stuck after reboot - was not able to connect before either
Hi mclenhard_,

I had a look at the instance's underlying host and did not find any issue at the time of the issue. However, I noted the instance health checks were failing at a time when the instance CPU had spiked. It is likely the instance was ""too busy"" to respond to the health checks in time. You might need to check your logs to see if anything was reported. 

I hope this helps.

Regards,
Isaac."
Amazon EC2	"Instance stopped responding to requests overnight
Overnight, an EC2 instance I have simply stopped responding to requests. I've rebooted it, shut it down, started it back up.. nothing.

It's simply dead. No response to ping at all and there doesn't appear to be any way to troubleshoot it without being up.

Is there anything else I can do? Is this a usual problem?

My instance ID: i-1c391209

Thank you."
Amazon EC2	"Administrator Password not correct.
I am new to EC2 and have tried to create a instance of Windows in both the Oregon and Virginia regions. I seem to be successful. The instance launches and starts to run, I am vended a password and I can use my .pem file to view the password. 

However upon entering the password the message returned is that the password is not correct. 

I have stopped, started and recreated the instance to to avail.

I am trying to connect from a Macbook Air running Mac OS X 10.10.2

I am using the Microsoft Remote Desktop from the AppStore.

I have copied and pasted the password as well as hand typing it and verifying the correct password by revealing it. 

I have never logged in. This is happening upon creation and launch of the instance.

Does anyone know how to overcome such an issue?"
Amazon EC2	"Re: Administrator Password not correct.
The username should be:

Administrator

You spelled it wrong  : Adminstrator"
Amazon EC2	"Re: Administrator Password not correct.
Thanks! I didn't actually spell it that way, that is what was entered in the file I downloaded from Amazon. Didn't think they would enter an incorrect username in an auto generated file.

Thanks for your help! It worked!"
Amazon EC2	"BIG problem with EC2 !
My bank told me about the transaction through $ 1,760.4.
I have a free account and did not make any transactions.
Recently, I did not use an account.
I deleted my account and debit card information, and the bill continues to rise.
I'm not going to pay him. I thought that my account would be free.
The only thing I did is I put 10 photos on S3 Bucket.
What does this mean?"
Amazon EC2	"Re: BIG problem with EC2 !
Hi,
We are working on the AWS cases you opened and we will get back to you as soon as possible.
Thank you for your patience here."
Amazon EC2	"Re: BIG problem with EC2 !
Thank you for your interest.
I just wanted to tell you that my bill continues to grow.
I don't now why. Hacker attack?"
Amazon EC2	"Allowing limited SFTP access to a subfolder
Looking for some pointers. I need to grant a specific user sFTP access to only a specific folder tree - for example /mnt/hd0/vhosts/mysite/mywebapp.

Perhaps using chroot?

I need an external developer to do some work on my server but for obvious reasons I don't want them to have free reign.

Any pointers on how to achieve this on an AWS ec2 (amazon linux) instance would be greatly appreciated.

Thanks,

Danny."
Amazon EC2	"Re: Allowing limited SFTP access to a subfolder
bump?"
Amazon EC2	"instance i-35879e9e stopped working last night (3rd june,about  8:30pm UTC)
my instance just stopped working last night  i-35879e9e
no error output in the get system log
tried to restart it several times, no system log, nothing happens when trying to start it. 

How to solve this, and more importantly why did it just dissapear?"
Amazon EC2	"Re: instance i-35879e9e stopped working last night (3rd june,about  8:30pm UTC)
Hi,

The issue was most likely underlying hardware fault (but AWS will have to confirm this).  Are you trying to Restart, or have you tried Stopping and then restarting the instance as stopping and restarting will likely cause the instance to spin up on other hardware.  

If you instance is EBS backed then your data will be safe, if you have any data on the instance store/ephemeral then data will be lost so backup first if you can.

Cheers,

Stooby..."
Amazon EC2	"Re: instance i-35879e9e stopped working last night (3rd june,about  8:30pm UTC)
Hello,

Your instance gp2 volume was throttled due to the IO credits being depleted for the amount of gp2 storage the instance possesses resulting in your instance failing to boot. gp2 or General Purpose volumes have baseline IOP of 3 x the volume size in GiB. Therefore in your case with an 8GiB root volume, you have a baseline of 24 IOPs. 

At this point your option would be to either keep your instance in a stopped state for some time to allow for the burst credits to accumulate or create a volume from a recent snapshot of the volume preferably at least 30GB so that you have at least comparable baseline performance of a standard magnetic volume.

For more information about General purpose (SSD) and EBS, please check the following link:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#IOcredit"
Amazon EC2	"Virtual Machine.. why EC2 not Azure?
Hi,
Good day to you.
Can anyone here please convince me to stay with EC2 for Virtual Machine?
What are the good points of EC2 virtual machine comparing to that of Azure?
Thanks for your kind attention.

Edited by: thomwlh on Jun 4, 2015 2:27 AM"
Amazon EC2	"About SSH login problems
Dear All,

I use the free trial account. 
I have setup a cloud ubuntu-trusty-14.04. 
I use putty to access SSH. In first time, I can install Apache, PHP, MYSQL and phpmyadmin.

Next day, when I use a same PC to login again, I want install another program. SSH shows (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?

And I want to restart Apache again. It shows fail.

Is my key pair problems?
Can anyone tell me the reason and how to fix the problems?

Best Regard
Chuk"
Amazon EC2	"Re: About SSH login problems
Hello,

Could you please provide your instance ID for us to investigate?

Regards,
RonnieN"
Amazon EC2	"Elastic loadbalancer Arn name
I ma trying to write a policy to give a user rights to an elastic loadbalancer already created.
I am using doc 
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/UsingIAM.html

I need to know where to get the arn name  of my load balancer to replace
""Resource"": ""arn:aws:elasticloadbalancing:us-west-2:123456789012:loadbalancer/my-load-balancer""

thanks for any help"
Amazon EC2	"Re: Elastic loadbalancer Arn name
Hi,

You can see the name of your load balancer within the AWS Console

EC2 > Load Balancers

From here you can see the Load balancer name to add and replace with the section in bold below:

""Resource"": ""arn:aws:elasticloadbalancing:us-west-2:123456789012:loadbalancer/ MY-LOAD-BALANCER""

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Unable to connect to instance, no system log
My instance i-7d9d338a became unreachable this morning. I have tried rebooting the instance and stopping and starting it several times now. When I try to get the system log it returns a blank log. I received a timeout with ssh connections, telnet, and my browser to hosted webpages. What can I do next?"
Amazon EC2	"Re: Unable to connect to instance, no system log
I have the same problem with a newly created instance yesterday and it seems no one knows why. I just started evaluating this as a possible solution to move to the cloud and already, I'm not paying for support, since I'm just evaluating, but after several posts and replies to other threads with similar problems, not one response from anyone at Amazon. If I was in production right now, I'd be freaking out! What is going on AWS people?"
Amazon EC2	"Re: Unable to connect to instance, no system log
Hello,

Could you please provide your instance ID for us to investigate?

Regards,
RonnieN"
Amazon EC2	"Re: Unable to connect to instance, no system log
Hello,

Your issue appears to have been caused by your instance volume being throttled due to the IO credits being depleted for the amount of gp2 storage the instance possesses. Your volume stats looks normal now. Please try stop/start your instance and check if you will have console output. 

Regards
RonnieN"
Amazon EC2	"Cant connect to any servers after account unblocked
Hello,

We created an aws account a few months back for evaluation. We decided not to use it and so we deactivated it and it became blocked.

We recently unblocked it again because we decided to re-evaluate aws. However we cannot connect to any servers in it via rdp or ssh or ping or http or anything. We tried new VPCs, different configurations, changing things around, deleting everything and starting from scratch. We still cannot connect.

As a test I created a personal account, followed the same basic step of creating a VPC and adding an instance and I can connect to it quickly and easily via rdp.

Something seems to be wrong with our old account however we would like to use it because it is set up with our proper email and all our company details.

As example is instance i-31e694ce which should be setup for RDP. We cannot rdp to it or telnet to it.

I hope someone can help us out, we are close to declaring AWS too difficult and unreliable and searching for alternatives instead, however AWS has many features id like to take advantage of if possible."
Amazon EC2	"Re: Cant connect to any servers after account unblocked
Hi Dionigb,

I have created a support case to help clarify this issue. 

Please reply to the open support case, ID: 1413889011, for further assistance with regards to this issue.

Regards,

Nolen M."
Amazon EC2	"Unable to get system log
Hi, 

We have an instance 'i-20051a47'. On the management console, the state is 'running' and status check is '1/2 checks passed'. We know that there is some issue with instance as it is a custom AMI that is under debug. The instance was rebooted as per the troubleshooting guide and still the status check fails.

The issue is we are unable to get the Sytem log from the console. 'Get System Log' shows an empty screen. Can't go further without this. Any help will be appreciated. 

Thanks"
Amazon EC2	"Re: Unable to get system log
Hi,

The instance's operating system does not appear to have launched properly.  As such, no system log is available. 

I could find no successful launches of this AMI.  If it was created from an instance that is currently working, you may need to create the image again. 

Cheers,
Karen"
Amazon EC2	"Re: Unable to get system log
Thanks for your comments. 

Yes, this AMI is yet to work properly. The previous system log goes like: 

""
root            (hd0,0)
Error 5: Partition table invalid or corrupt
Press any key to continue...""

This is after the xen os reading the menu.lst and deciding to boot the correct OS. Now, what does the above message signify? We have two partitions: sda1 (xvda1) which is the /boot partition and sda2 which is a volume group, eventually to be mounted on /dev/mapper/root. Is there something fundamentally wrong in what we are doing? Any inputs will be much appreciated."
Amazon EC2	"Re: Unable to get system log
hi;
 i have a same quession, the ami is maked by myself and based on virutualization-type hvm.
i canot get any system log , i hope know how to get this log?"
Amazon EC2	"EC2 Instance i-a88bc5a4 stuck initializing
Hello,

Our EC2 instance i-a88bc5a4 is stuck on initializing.  The console log is just a black screen.  

Please advise.

Thanks you"
Amazon EC2	"Re: EC2 Instance i-a88bc5a4 stuck initializing
my instance i-35879e9e did that same. Just crashed 10:30pm 3rd june, and cannot start again. No output available on get system log screen."
Amazon EC2	"Re: EC2 Instance i-a88bc5a4 stuck initializing
Multiple stop/start cycles over the course of several hours ""fixed"" our issue.  Would still like to know the cause and why the log was empty."
Amazon EC2	"Re: EC2 Instance i-a88bc5a4 stuck initializing
Stuck again."
Amazon EC2	"Max spot instance count exceeded
I have one m3.2xlarge spot instance running, and no other spot instances. However, when I try to request a second m3.2xlarge spot instance, it fails to open, and gives me the message ""max spot instance count exceeded"". I thought the limit was 20 spot instances per region, so I should have 19 more requests available."
Amazon EC2	"Re: Max spot instance count exceeded
Hello,

I have checked your environment and noted that you currently have two m3.2xlarge instances running. 

Please let us know if you are still experiencing ""max spot instance count exceeded"" issue for further assistance."
Amazon EC2	"Re: Max spot instance count exceeded
Hi Jennifer W,

I have created a support case to help clarify this issue. 

Please reply to the open support case, ID: 1413867911, for further assistance with regards to this issue.

Regards,

Nolen M."
Amazon EC2	"Official guide on attaching volumes renders instance un-bootable
So I followed the guide here to attach an additional volume to an instance, down to the letter:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html

And I suspect the fstab entry:
/dev/xvdf       /data   ext4    defaults,nofail        0       2
(yes I changed mount points as required)

Has rendered my instance un-bootable. It's a market place AMI, so I can only attach volumes when the instance is stopped. Every time I do, it get console errors.

I have tried various work arounds: creating snapshot, attaching to new instance in same zone, and fix the fstab, however I still cannot boot. 

Is there ANY way to recover and edit the bad fstab entry?"
Amazon EC2	"To AWS Staff: What is the criteria for a response from you in this forum?
Greetings and please excuse my frustration in advance. I have explored numerous threads here about instance connection problems, as well as added my own experience with this problem. One forum user was kind enough to respond in great detail, but unfortunately we were not able to resolve my instance connection problem. After several posts or replies from me to other posts, not one response from someone at AWS that can actually look up the instance and determine the problem.

Given AWS responses to other similar problems, I don't understand the lack of a response. To summarize, I created a new micro instance 24 hours ago. I cannot RDP to this instance or even ping it after setting up the proper rules in the security group. I really want to get this working and understand if I am doing something wrong or if there is some issue at AWS.

The instance is i-0280a3f4 and I'd be grateful if someone at Amazon can take a look at this and offer some insight as to what is wrong. I am trying to evaluate this as a solution to migrate some critical infrastructure and it seems I am getting off to a rocky start.

Thanks for any assistance you can provide."
Amazon EC2	"Re: To AWS Staff: What is the criteria for a response from you in this forum?
Hello my name is Julian from AWS

We aim for our services to be simple, but I know things can be confusing and frustrating at times. AWS Forums are a community where everyone helps each other. There are hundreds of threads and AWS moderate them as fast as we can and help as fast as we can. If you need direct support we offer Support contracts and have SLAs for the level you purchase.

But lets help you right now. 

It looks like you have all the right things for connection. An instance in a subnet with an internet gateway in the route table and an elastic IP. Security groups allow for inbound RDP. For ping you need to allow ICMP inbound in your security group which i see you have. 

I have done a test telnet and I can reach your instance on the RDP port

$ telnet 52.24.33.x 3389
Trying 52.24.33.x...
Connected to 52.24.33.x.
Escape character is '^]'.

I can't ping it though. So i checked your infrastructure for issues and there are none that I can see. We can't see inside the instance, but it may be the the firewall is stopping things. Why you can't RDP to is may also be onboard the instance, or you have a local issue on your network.

Next steps would be to do a telnet test as above. I hope this helps!

Regards,
Julian H.

Edited by: Julian@AWS on Jun 4, 2015 1:11 AM"
Amazon EC2	"Re: To AWS Staff: What is the criteria for a response from you in this forum?
Hi Jillian, thank you very much for your response. When a brand new instance is started, I assume that the instance firewall settings are supposed to be such that one can connect via RDP, since that is the default option offered by the Management Console.

I have never had access to this instance since it was started. Before this instance, I initially started another and was also unsuccessful, so I terminated it and started this one.

I routinely RDP to other infrastructure on the internet, so I know that RDP works from my client. So, if the instance firewall is stopping things, then how does one ever gain access to a default instance?  Also, the telnet test does not work from my client.

How can we get to the bottom of this? I want to make this work. It really appears to me that the default instance that starts Windows Server is somehow mis-configured on your side. 

Thanks."
Amazon EC2	"ELB with instances running with apache virtual hosts
Hello all,

while setting up ELB with instances running with apache virtual hosts,
we found that http://example.com/health_check works correctly without ELB
but fails with ELB.

After debugging, it seems that ELB does not support host header transfer.
ELB would use private IP address to check if health check works.

Is there any way to resolve it?

Thanks a lot"
Amazon EC2	"Re: ELB with instances running with apache virtual hosts
Configure Apache to serve the health check endpoint from the default host configuration instead of the vhost configuration.

Edited by: Christopher G. Stach II on Oct 1, 2012 9:44 PM"
Amazon EC2	"Re: ELB with instances running with apache virtual hosts
Is there any way to resolve instead of setting default host?
Thanks a lot"
Amazon EC2	"Re: ELB with instances running with apache virtual hosts
You could point your health checks to a different web server daemon on the same machine that handles them, but it also would need to handle the requests without a Host header."
Amazon EC2	"Re: ELB with instances running with apache virtual hosts
Just use a TCP health check until AWS allows for customizing the host header sent for the health check. Even with a default entry on your webserver you are not actually checking the health of your app, just your webserver which is pretty much the same as checking if the tcp port is open."
Amazon EC2	"Wrong zone in RI
Hi all.

We have just reserved 6 m3.large instances in the same zone by mistake. I wonder if there is a chance to get a refund or change some zones in the RI. 

Thanks in advace"
Amazon EC2	"Re: Wrong zone in RI
Hello,

Thanks for posting. Yes you can modify the Availability Zone or your Reserved Instances. Please see the following link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ri-modification-process.html

Regards,
Brandon"
Amazon EC2	"Temporary problems with the connection to
Hi!
I watched today a problem with one of my instance (id: i-91f29e76). I could not connect to it by ssh around 7:30 (UTC). And application which is deployed here could not connect to another instance.
What the reason of this problem? Does it problem bind with incorrect settings?

Edited by: dz_dsx on Jun 3, 2015 6:06 AM"
Amazon EC2	"Re: Temporary problems with the connection to
Hello,

Thanks for posting. Looking at the instance you provided I believe you ran out of memory. Unfortunately CloudWatch does not have memory information but looking at the console output I can see OOM Killer was invoked.

416233.553696] Out of memory: Kill process 857 (systemd-logind) score 1 or sacrifice child
[416233.558329] Killed process 857 (systemd-logind) total-vm:47716kB, anon-rss:984kB, file-rss:0kB


You can also review this log by following the documentation located at the following link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

I would recommend upgrading to an instance type that has more memory available if this is a concern.

Regards,
Brandon"
Amazon EC2	"Modify EC2 Config service settings of an image?
Hi everyone,

I have an ec2 instance launched from a custom AMI. I want to run few scripts as part of the start-up action when launching this instance. I know this can be done by including the scripts in the UserData parameter of the aws ec2 runInstances command. But by default for custom AMI, the EC2HandleUserData plugin in Config.xml of EC2 Config Service is disabled. So, even when I provide the scripts as part of UserData, they are not being executed because the plugin is disabled.

So, Is there a way to modify few of the EC2 config service settings while importing the image into ec2 or after it is imported?

Thanks."
Amazon EC2	"Re: Modify EC2 Config service settings of an image?
Hello, 

User Data is our method for running commands/scripts on startup of the instance. With EC2HandleUserData disabled, you won't be able to use it. 

To get around this though, you can launch a copy of this AMI, enable the 'EC2HandleUserData' plugin, then create an AMI of that instance after it's been updated. You will then have a copy of the AMI that supports userdata. 

Regards,
Nick"
Amazon EC2	"Re: Modify EC2 Config service settings of an image?
Actually, one of the scripts that is included in the UserData is to enable RDP service. Before this script is executed I will not be able to get onto the instance to modify the EC2HandlUserData plugin. This means, now I have a custom AMI where RDP service is not enabled. I was thinking somehow if I could run a script that would enable RDP service on instance launch from this custom AMI. But for this the EC2HandlUserData plugin has to be enable. So, I thought if there was any way to modify this setting while importing image itself or after the image is imported?"
Amazon EC2	"Re: Modify EC2 Config service settings of an image?
Then the work you'll want to do will be after the instance is launched. The easiest to recover this is to launch another instance off of a working AMI, detach the root volume of this problem instance, and attach it to another working instance so you can modify the config.xml manually. The following article details the steps required to detach the root volume and attach it to another instance, although the instructions are for using our recovery AMI instance, you can use any AMI you want:
https://aws.amazon.com/premiumsupport/knowledge-center/recover-windows-instance/

Or you can follow the article exactly and use the recovery AMI, as it can help you enable RDP as well. 

Regards,
Nick"
Amazon EC2	"Which AWS to run MS Access front-end on virtual server?
Hopefully I'm on the proper forum... if not please direct me.

If possible we want to make available to a potentially large paid subscriber base a cloud based vba rich MS Access application.

1 - We have found that we can migrate the existing back-end data and tables to SQL Azure with a very hand online tool provided by MS...
a - Can we migrate the back-end to an AWS service? An EC2 virtual windows server with SQL perhaps... or what?
b - Does AWS provide an online migration tool to move the existing MS Access back-end tables and data to the cloud?

2 - Next can we place the vba rich MS Access front-end on an AWS virtual server such that multiple paid subscribers can simultaneously use our proprietary MS Access database application?
a - If so which AWS service would we use? an EC2 virtual windows server?
b - If so is there an online video or written tutorial on how to do this?
c - If so we would assume once a user subscribe to our online application we would then grant them permission to become one of our users with privileges to use the cloud based Access front-end to access and manipulate their data on our cloud based back-end... right?
d - In this case can AWS pass us a user id when they log on so we can know how to select only their data from the back-end? And if so how is the user id passed to us and how can we retrieve it?
e - What is the AWS pricing for each additional user?

If we are barking up the wrong tree we may be looking at completely rewriting the application using my sql, sql server, orcal db, or whatever and php or asp for the web based user forms and business logic.

Thanks for any help."
Amazon EC2	"RDP to Windows Instance failing with blank/black screen
I've seen many reports of this in the forums, but no workable solutions, so here's my report.

After starting a Windows Server 2008 instance (i-82ef85ed), connecting via RDP (Remote Desktop Connection for Mac) fails as follows:


I get a prompt to accept the invalid/self-signed certificate.
A black window appears.
After a minute or so, the black window disappears.
Repeat


Sometimes it takes as little as 5 minutes to get a live connection, sometimes it takes an hour.
Right now it has been 2 hours and I still can't get through.

The Security Group firewall settings for RDP are open, as evidenced by the fact that eventually it does connect.  A local network trace shows activity on the relevant ports.

Does anyone have any idea what else to try?

Edited by: sbnoble on Apr 26, 2011 10:30 AM"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
sbnoble,

Does this occur when you try to connect from other workstations as well? This appears to be related to a Windows issue possibly with bitmap caching.

I would recommend the following article from Microsofts website:

http://support.microsoft.com/kb/555840"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
I am getting this also on some of my windows instances - I tried the bitmap caching and other client computers, they all get the same. The servers still work ok but I just cannot RDP to them (so quite uncomfortable about this)."
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
I have tried toggling the bitmap cache setting, to no effect.

I have not tried a different workstation.  The instance is working at the moment (after four hours, with a reboot at the 2 hour mark).  Once RDP starts working, it will stay working until I stop and restart the instance.

Note that simply rebooting Windows does NOT cause RDP to break.
It is only after stopping and starting the instance that RDP breaks."
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
So is there any solution to this problem?"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
I stopped using Windows on ec2.

So... not really."
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
I am getting the same issue, can someone guide me out of this?"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
+1 - same issue"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
Hi sbnoble,

Please confirm the instance ID that you supplied (i-82ef85ed). Is it the correct instance ID or it is for a different account as I can not pick it under the account number you used for this post.

To the others facing this same issue, please provide your instance IDs so that we can investigate the issue from our end.

Regards,

Tonderai."
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
Hi Tonderai - my instance ID is i-04457061. Thanks"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
Hi,

Please try to RDP as mstsc/admin and put the IP after this. Let us know the outcome.

Regards,

Tonderai"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
I had the same issue...it is likely that your instance is running out of physical memory.  I simply stopped the running instance and started it back up.  Once it came up, I was able to connect.  Try to clean up your instance so you have some physical memory for next login."
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
Hi Tonderai,

Still unable to connect. See screenshot.

We also tried rebooting the instance last night, which also didn't work.

Edited by: RC on Jun 3, 2015 10:51 AM"
Amazon EC2	"Re: RDP to Windows Instance failing with blank/black screen
Thanks ayendadeveloper, we also tried rebooting and stopping and starting which didn't work. If we could get in to the server, we could clean it up!"
Amazon EC2	"Cannot reach a newly created instance
I created an instance ID i-3a2754c5. Status says ok, ""Instance reachibility check passed"". Everly thing looks good. I can access via ssh. However, the IP address will time out on a Ping. Also the problem started occurring with an instance that had been running for quite some time. I deleted that instance and recreated it with an image of the privious instance, same problem. I terminated the new instance and created a new one NOT using the image, and the same problem occurrs. I have done it several times to no avail. Any help will be greatly appreciated."
Amazon EC2	"Re: Cannot reach a newly created instance
Hello, 

I took a look at instance i-3a2754c5, I do not see a rule allowing ICMP in the Security Group rules. It's possible that the ICMP rule was removed from the Security Group. 

I am able to telnet to port 22 on the instance. Is ping timing out the only issue you have with the instance? Is there a particular reason why you need to send a constant ping to the instance?

Best Regards,
Jillian L."
Amazon EC2	"Re: Cannot reach a newly created instance
Jillian,

Thank you very much for your prompt response. I am having other problems as well, http will not work, not sure of ftp but it probably does not as well. http is enabled in the security group and it had worked fine in the pass with the same security group."
Amazon EC2	"Re: Cannot reach a newly created instance
I did add the rule, tried with echo reply and echo request. Same problem, the ping times out."
Amazon EC2	"Re: Cannot reach a newly created instance
I have the same problem. Cannot reach instance i-0280a3f4 with a ping or any other method after adding ICMP rule (for my source IP only)."
Amazon EC2	"Re: Cannot reach a newly created instance
Hello Xavier, 

I see that you have opened the Security Groups up to allow ICMP. I can now ping the instance using the IP address. 

It looks like there is nothing listening on port 80 (HTTP). Can you please ensure that the web server is running and listening on port 80, then test again?

Best Regards,
Jillian L."
Amazon EC2	"Re: Cannot reach a newly created instance
Thanks for your very valuable help Jillian. yes you are correct, we do not have the http servier up at this time. We deleted the previous instance and decided to start fresh. Now that I see what the problem was, we may have not needed to do that...:-)

Thanks again,

Xavier Navarro"
Amazon EC2	"EC2 Instance Failing to stop/terminate
I received an email today explaining that the hardware one of my instances is on has caused my instance to become inaccessible and that it will be retired in two weeks. I would like to terminate it now so I can recreate it, but it won't respond.

Instance: i-11196add
Region: AP-Southeast-1A (Singapore)

Please let me know if there is anything else you need from me to assist."
Amazon EC2	"Re: EC2 Instance Failing to stop/terminate
We have the same issue...

Instance ID: i-e87b69c2
Region: US East"
Amazon EC2	"Re: EC2 Instance Failing to stop/terminate
Hello, 

Thank you for bringing this to our attention. 

Both instances are now terminated. Thank you for your patience. 

Best Regards,
Jillian L."
Amazon EC2	"Incorrect CPU Credit Count calculated
The CPU count drastically reduced to 0.03 without any high utilization on the website.

where i am aware there is least utilization of the server.

How can i verify if the details that are showing up are correct?"
Amazon EC2	"Re: Incorrect CPU Credit Count calculated
Hello,
please can you post the instance-id of the affected instance and what is the monitoring tool you are using to check the load on the instance?
We will check the affected instance directly!
Thanks!
Adolfo."
Amazon EC2	"Re: Incorrect CPU Credit Count calculated
Hi Adolfo,

Instance ID i-3b756537
Using the AWS Monitoring tools

Let me know if you need any further details"
Amazon EC2	"Re: Incorrect CPU Credit Count calculated
Hello varunvarde,

I took a look at  i-3b756537 - this is a R3 class instance and does not support CPU Credits. Are you referring to a different instance?

Also - are you using CloudWatch to monitor the resources, or a separate AWS monitoring tool?

Thank you in advance, we are looking forward to hearing from you.  

Best Regards,
Jillian L."
Amazon EC2	"error when detaching internet gateway
Hi,
I try to detach an internet gateway from a  VPC.
In this vpc there is a EC2 that has a elastic ip associated.

When i try to detach the gw i got the error :
""Network vpc-758f5d10 has some mapped public address(es). Please unmap those public address(es) before detaching the gateway.""

I tried to dissociate the elastic ip but i still have the same problem.

Anyway to solve this ??"
Amazon EC2	"Re: error when detaching internet gateway
Please delete the security group for default VPC and the reference of default VPC security group from other security group. This should help in deleting the IGW."
Amazon EC2	"Re: error when detaching internet gateway
Hi, thanks for your answer.

Unfortunately I can't delete the default security group : These security groups are default security groups, which cannot be deleted."
Amazon EC2	"Re: error when detaching internet gateway
Can someone from Amazon answer me ???

I can't delete my internet gateway, because of something that looks a lot like a bug in the platform and there is no support to solve this..."
Amazon EC2	"Re: error when detaching internet gateway
Hello,

I've had a look at this from our side and don't see anything that should be blocking this.

Can you try deleting the three subnets within your VPC individually, and assuming that works, try deleting igw-65926b00? It'd be useful if you could provide screenshots of exactly what you see.

Richard"
Amazon EC2	"Re: error when detaching internet gateway
Hi Richard,

Thank you for your constant support.

Here is what i got from CLI : 

ubuntu@ip-:~$ aws ec2 disassociate-address --public-ip 52.x.x.x
{
    ""return"": ""true""
}
ubuntu@ip-:~$ aws ec2 detach-internet-gateway --internet-gateway-id igw-bb4dbfde --vpc-id vpc-758f5d10
A client error (DependencyViolation) occurred when calling the DetachInternetGateway operation: Network vpc-758f5d10 has some mapped public address(es). Please unmap those public address(es) before detaching the gateway.
ubuntu@ip-:~$ 

and from web console attached.

Deleting subnets is kind of difficult because right now.. Would you have other advice to help us detach this internet gateway ?"
Amazon EC2	"Re: error when detaching internet gateway
Hello  ppsomc,

I took a look at your VPC and it looks relatively empty. If you are unable to delete the three subnets from the VPC could you please try to delete the routes to the IGW from all the Route Tables in the VPC and then try deleting the IGW again?

Best Regards,
Jillian L."
Amazon EC2	"ELB and persistent TCP connection Not Stable
Hi guys, i have been having some problem with the ELB and the solution we have.  We are only using TCP with the elb and we have a many to One senario (n client --> ELB --> server).

here is the outline of what i am seeing (i already ask the question on Stack overflow)

Stackoverflow Link 

What do you guys think?

Thanks

Edited by: areontar on Nov 14, 2013 12:39 PM"
Amazon EC2	"Re: ELB and persistent TCP connection Not Stable
Hi there areontar,

I've been able to locate one of your AWS Accounts based on your forums profile, however that account does not have any EC2 instances or ELB's.

So we can take a look at your ELB configuration for you, are you able to post back an EC2 Instance ID that is associated with the ELB, and the ELB hostname (we don't need the fully qualified domain name, just the first part is fine)?

Best regards,
Phil P"
Amazon EC2	"Re: ELB and persistent TCP connection Not Stable
Hi Phil, thanks for a swift reply, 

I am doing all my test form the Corporate account that i cannot share at the moment, but i would like to if conceptually there is a known problem with the scenario i outlined and if the ELB is made to handle long lasting connection.

While the scenario 2 in the problem is the one that causes me the most trouble, Scenario 1 really intrigues me to know if its Design behavior.

Thanks"
Amazon EC2	"Re: ELB and persistent TCP connection Not Stable
Have your tried changing the ELB timeout parameter? The max is 3600 seconds, though."
Amazon EC2	"Re: ELB and persistent TCP connection Not Stable
Hello areontar, 

Unfortunately I cannot access the Stackoverflow link provided in the initial post. Would it be possible to describe what you are looking to do in a forum post? If not could you please relink the Stackoverflow article?

Best Regards,
Jillian L."
Amazon EC2	"Cost Explorer not working for my account
Hi

The cost explorer option for my account was not working for past 3 days. I can see the billing only for 3 days before.

Can you guys look into it?

Thanks"
Amazon EC2	"Support for THAI language on Amazon Linux instances
Hi,

Our client wants us to gather information from Thai websites for Marketing and Research purpose. Unfortunately, our Amazon instances do not have Thai support installed so all the Thai characters appear as rectangular boxes on screen. Kindly let us know if any support for Thai language is available on Amazon instance? Our Amazon instances are:

aws --version
aws-cli/1.5.0 Python/2.6.9 Linux/3.14.20-20.44.amzn1.x86_64

Sample Thai website: http://www.itcityonline.com/shop/index.php?id_category=868&controller=category&id_lang=7

Your urgent feedback in this regards would be appreciated.

Edited by: yasirhusain on Jun 2, 2015 2:09 PM"
Amazon EC2	"Re: Support for THAI language on Amazon Linux instances
Hi there,

Amazon Linux does include the Thai Locale (th_TH.utf8, th_TH.tis620 etc).
You can check if your instance has this locale installed using the ""locale -a"" command.

The blocks that you are seeing is usually a mismatch between what the instance is displaying, and what your terminal emulator is capable of displaying.
For example, if you are using PuTTY to connect to your instance, and that's currently not set to display UTF-8 characters, when your CLI tries to display this character, PuTTY does not make sense of it and instead displays a block.

To fix this, you need to configure PuTTY/Terminal to use the same character encoding as your instance.

For PuTTY - http://thegreyblog.blogspot.ie/2009/08/configuring-putty-to-use-utf-8.html"
Amazon EC2	"EC2 time an hour behind
Hi,
I am having issues on some of my instances where the time is an hour behing.The timezone selected is correct, and after setting the clock correctly, it is again 1 hour behing after reboot.
OS is Windows 2008 R2 (64bit)
I have the KB2922223 installed.
I have installed the latest EC2 service (3.5.228) on the instance.

And still having the issue.
Any suggestions would be appreciated.
Thanks
Nicolas"
Amazon EC2	"Re: EC2 time an hour behind
resolved."
Amazon EC2	"May I know why I can create the instance but I cannot calculate the cost?
Hi,

I have created a virtual machine with the following specifications:
Operating System: Windows and Std. SQL Server
Name: t2.medium
vCPU: 2
Memory (GiB): 4.0
https://calculator.s3.amazonaws.com/index.html

May I know why I can create the instance but I cannot calculate the cost?"
Amazon EC2	"Re: May I know why I can create the instance but I cannot calculate the cost?
Hi,

This is likely down to the fact that the instance size, whether it be the memory or storage capacity is not sufficicent to run Windows plus SQL server and so is not available as an instance.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"what is EBS-Optimized
Hi,

May I know what is EBS-Optimized as attached?

Thanks"
Amazon EC2	"Re: what is EBS-Optimized
Hi,

""An Amazon EBS–optimized instance uses an optimized configuration stack and provides additional, dedicated capacity for Amazon Elastic Block Store (EBS) I/O. This optimization provides the best performance for your Amazon EBS volumes by minimizing contention between Amazon EBS I/O and other traffic from your instance.""

Taken from source: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Instance Unavailable Suddenly
My EC2 instance unavailable suddenly. All programs are not responding. Not able to connect through SSH or putty. 

Instance Id : i-f0a169d8

It was working for last one year without  any issues. Please help me."
Amazon EC2	"Re: Instance Unavailable Suddenly
Hi,

Your instance's CPU utilization shot to 100% during the period in question. I can see stopping and starting the instance seem to have resolved your issue. Port 22 is open to the world; please make sure that you lock down the management ports to your known IPs and shut down all unutilized services and ports.

Regards,

Tonderai."
Amazon EC2	"Re: Instance Unavailable Suddenly
Thanks for the comments.

Now the issue solved. Also taken care your advice too."
Amazon EC2	"Connection timeout on new EC2 instance using Putty, cannot Telnet either
I just started an EC2 Ubuntu instance with a new set of key pairs. I followed the steps in the documentation but no luck.
The security group has port 22 open. The key pair has been converted with PuttyGen.
I can't telnet the IP port 22 either: ""Connect failed""

Any ideas?"
Amazon EC2	"Re: Connection timeout on new EC2 instance using Putty, cannot Telnet either
Hi,

Your instance is using a restricted IP for SSH inbound. It is restricted to a /32. Is that your current IP?

I tested port 80 and it looks like it is up.

$ telnet  52.16.70.x 80
Trying 52.16.70.x...
Connected to 52.16.70.x.
Escape character is '^]'.

I hope this helps,
Julian H."
Amazon EC2	"Re: Connection timeout on new EC2 instance using Putty, cannot Telnet either
It is my IP.

I also tried with 0.0.0.0/0 and no luck. I don't seem to be able to have the same result as you on the Telnet:

Connecting To 52.4.145.x...Could not open connection to the host, on port 80: Connect failed"
Amazon EC2	"Re: Connection timeout on new EC2 instance using Putty, cannot Telnet either
It turns out the bit of documentation that helped was this:

EC2-VPC Check the route table for the subnet. You need a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC.

I still don't know why I had to do this but I'm glad to move on from this one.."
Amazon EC2	"Re: Connection timeout on new EC2 instance using Putty, cannot Telnet either
Ah ok I'm glad you spotted this and have resolved it. Well done and all the best."
Amazon EC2	"Re: Connection timeout on new EC2 instance using Putty, cannot Telnet either
Hi,

The reason this is required is to allow the subnet know how to get back to your IP address.  Other routes in your routing table would not have known how to get back to your machine outside of the VPC.  

The route of 0.0.0.0/0 (Any other address not known in the routing table) via the Internet Gateway, essentially tells AWS to route any traffic outside of AWS via the IGW, and ultimately back to your IP address via outher Internet routers.

Cheers,

Stooby..."
Amazon EC2	"Port 5985 already used Windows Server-2012 R2 64Bit SQL 2014 RTM Express
I have created an java application that communicates with an instant messenger application. This application communicates using TCP on Port 5985. I set Security Groups and firewall and all is fine. I checked with external tools and the port is open but I have some problem. I have an exception:
java.rmi.server.ExportException: Port already in use:5985

I checked with commad prompt:
TCP	 0.0.0.0:5985	 0.0.0.0:0	 LISTENING	 4

netstat -abn
http://svchost.exe
TCP :::5985	::	LISTENING
Can not obtain ownership

I already cannot run my application without using ports other than port 5985, since a process called ""NT Kernel & System"" is using it. I don't have any IIS or Web Server installed so I am pretty frustrated how to use that Port 5985.

suggest??"
Amazon EC2	"Can't receive email from outside the domain.
Hi,

I'm having some issue, I am following this How To : https://www.exratione.com/2014/05/a-mailserver-on-ubuntu-1404-postfix-dovecot-mysql/

I believe i was able to follow the procedures since I was able to send and receive emails locally. i can send emails outside but I can't receive emails from outside. In the server I am not seeing any errors on the logs. 

Can someone help me?

Here is the Delivery Status Notification Failure:

Technical details of permanent failure: 
Google tried to deliver your message, but it was rejected by the server for the recipient domain domain.ph by aspmx.l.google.com. http://74.125.28.27.

The error that the other server returned was:
550-5.1.1 The email account that you tried to reach does not exist. Please try
550-5.1.1 double-checking the recipient's email address for typos or
550-5.1.1 unnecessary spaces. Learn more at
550 5.1.1 http://support.google.com/mail/bin/answer.py?answer=6596 wf6si15487171pac.18 - gsmtp"
Amazon EC2	"Re: Can't receive email from outside the domain.
Hi,

Any feedback?"
Amazon EC2	"Re: Can't receive email from outside the domain.
what is the MX record in the DNS for the domain name in the email address?  it should have a number 0-255 and a host name.

what is the A record in the DNS for the domain name given in the MX record?

are you using route 53 for the domain name in the email address?

what is the domain name in the email address? by knowing this we can double-check some things

does the user 'postmaster' exist in the domain name in the email address?

Edited by: skaperen257 on Apr 20, 2015 3:34 AM"
Amazon EC2	"Re: Can't receive email from outside the domain.
Hi,

Thanks for the reply I will just compile the answers to your questions and I will get back to you ASAP.

Just a preview the domain we use is airfair.ph.And I am using mail.airfair.ph as the mail server.I can receive emails from example@airfair.ph to anotherexample@airfair.ph. I can also send email from example@outsidedomain.com but I can't receive emails from example@outsidedomain.com.

I believe airfair.ph has a MX record based on mxtoolbox but mail.airfair.ph only has A record but no MX record. Do you think that is one of the reason why I can't receive emails from different domain?

Edited by: yonduaws on Apr 21, 2015 12:23 AM"
Amazon EC2	"Re: Can't receive email from outside the domain.
the MX records for airfair.ph go to Google.  this is enough to prevent you from getting the email to your instance:

airfair.ph.		14400	in	mx	1 aspmx.l.google.com.
airfair.ph.		14400	in	mx	5 alt1.aspmx.l.google.com.
airfair.ph.		14400	in	mx	10 aspmx2.googlemail.com.

you need to change your MX records.

Edited by: skaperen257 on Apr 21, 2015 3:42 AM"
Amazon EC2	"Re: Can't receive email from outside the domain.
If we change the MX Records where should we point it? Sorry but I am not the one who created the MX Records here in the company so I have an idea but the information is not enough. Can you still help me? Thanks!

Edited by: yonduaws on Apr 21, 2015 6:15 PM"
Amazon EC2	"Re: Can't receive email from outside the domain.
Hi,

Any update? Thanks!"
Amazon EC2	"Re: Can't receive email from outside the domain.
Hi,

Can someone help please.. Thanks!"
Amazon EC2	"Re: Can't receive email from outside the domain.
Thanks!"
Amazon EC2	"ELB mark cookie httponly and secure
We use stickiness in the elb configuration so the client is sent two cookies, one from our app which is marked httponly and secure and one from the elb which is not.  Is there a way to enable both settings for the elb issued cookie?"
Amazon EC2	"Re: ELB mark cookie httponly and secure
You can create a directory called .ebextentions and in that directory add a config file such as mysettings.config which contains the following:

commands:
python_ini_cfg_httponly:
command: perl -wlp -i -e 'if (/^session.cookie_httponly\s=$/){$_=""$_ 1""};' /etc/php.ini
test: '( grep ""session.cookie_httponly = 1"" /etc/php.ini ) || echo ""php ini not enabled for httponly.""'
python_ini_cfg_secure-cookie:
command: perl -wlp -i -e 's/^;(session.cookie_secure\s=)/$1 1/' /etc/php.ini
test: '(grep ""session.cookie_secure = 1"" /etc/php.ini ) || echo ""php ini not enabled for secure cookies.""'

This will set the required attributes for cookies such as sessions IDs etc that aren't explicitly set through your application.

Add the .ebextensions directory to your archive and delpoy. (Note: to create a .ebextensions folder in Windows you must name the directory .ebextensions. which will stripe the period at the end when saving)"
Amazon EC2	"ELB support for HTTPOnly cookie attribute
I have set the  HTTPOnly attribute on the web server, and am able to see the attribute set when I access the server directly. But this attribute is not set when I access the server through the ELB.

Does ELB support the HTTPOnly cookie attribute?"
Amazon EC2	"Re: ELB support for HTTPOnly cookie attribute
You can create a directory called .ebextentions and in that directory add a config file such as mysettings.config which contains the following:

commands:
python_ini_cfg_httponly:
command: perl -wlp -i -e 'if (/^session.cookie_httponly\s=$/){$_=""$_ 1""};' /etc/php.ini
test: '( grep ""session.cookie_httponly = 1"" /etc/php.ini ) || echo ""php ini not enabled for httponly.""'
python_ini_cfg_secure-cookie:
command: perl -wlp -i -e 's/^;(session.cookie_secure\s=)/$1 1/' /etc/php.ini
test: '(grep ""session.cookie_secure = 1"" /etc/php.ini ) || echo ""php ini not enabled for secure cookies.""'

This will set the required attributes for cookies such as sessions IDs etc that aren't explicitly set through your application.

Add the .ebextensions directory to your archive and delpoy. (Note: to create a .ebextensions folder in Windows you must name the directory .ebextensions. which will stripe the period at the end when saving)"
Amazon EC2	"ELB Support for HTTPOnly and Secure Cookie Attributes?
Is there a way to add support for the HTTPOnly and Secure cookie attributes when using ELB?  Our latest penetration test result flagged this as a potential security issue, and I have verified that our web application (python/django through nginx/uwsgi) is properly sending out those attributes, but it looks like ELB is truncating them."
Amazon EC2	"Re: ELB Support for HTTPOnly and Secure Cookie Attributes?
Hello,

Can I confirm what your listeners are set to?"
Amazon EC2	"Re: ELB Support for HTTPOnly and Secure Cookie Attributes?
HTTP 80 -> HTTP 80
HTTPS 443 -> HTTPS 443 (with an assigned SSL cert)

(But we're really only running on HTTPS; HTTP just does a redirect to HTTPS)

Edited by: joemastersemison on Oct 8, 2012 1:11 PM"
Amazon EC2	"Re: ELB Support for HTTPOnly and Secure Cookie Attributes?
You can create a directory called .ebextentions and in that directory add a config file such as mysettings.config which contains the following:

commands:
python_ini_cfg_httponly:
command: perl -wlp -i -e 'if (/^session.cookie_httponly\s=$/){$_=""$_ 1""};' /etc/php.ini
test: '( grep ""session.cookie_httponly = 1"" /etc/php.ini ) || echo ""php ini not enabled for httponly.""'
python_ini_cfg_secure-cookie:
command: perl -wlp -i -e 's/^;(session.cookie_secure\s=)/$1 1/' /etc/php.ini
test: '(grep ""session.cookie_secure = 1"" /etc/php.ini ) || echo ""php ini not enabled for secure cookies.""'

This will set the required attributes for cookies such as sessions IDs etc that aren't explicitly set through your application.

Add the .ebextensions directory to your archive and delpoy. (Note: to create a .ebextensions folder in Windows you must name the directory .ebextensions. which will stripe the period at the end when saving)"
Amazon EC2	"Snapshot pending
Snapshot snap-e21b488e pending for too much time, just 50gb, please fix asap !"
Amazon EC2	"Re: Snapshot pending
its stuck now at 99%"
Amazon EC2	"Re: Snapshot pending
Hi,

I was not able to locate this snapshot i'm sorry. Is it still a problem? If so, please send me the ID of a running instance so i can look up your account and search for the snapshot that way. 

Regards,
Julian H."
Amazon EC2	"Re: Snapshot pending
i just removed it and after few retries, more than 10 mins, (re-create snapshot) it finished in just few minutes,
why are so long delays ?"
Amazon EC2	"Instance running but site not working on Ubuntu 14.04 LTS
Hello,

After installing PHP-Mysql-Apache on Ec2 Ubuntu, sometimes it neither connect thru SSH putty on windows nor site opening. Can anyone idea what could be issue?

Thanks in advance.

Regards"
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi,

Your instance is responding on port 22 ok

$ telnet 52.7.224.xxx 22
Trying 52.7.224.xxx...
Connected to 52.7.224.xxx.
Escape character is '^]'.
SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2

There are no hardware issues that we can find about this. Please check your logs for clues. 

Regards,
Julian H."
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi Julian,

Thank for your reply. 
Can you tell which log file i need to check. i mean php or system or apache etc...?

Regards"
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi,

For SSH issues check the system logs and auth log, e.g /var/log/auth.log

For Mysql it looks like this is being addressed in your other thread

https://forums.aws.amazon.com/thread.jspa?threadID=181730

If Mysql is crashing this would probably be why your site doesn't work. 

Regards,
Julian H."
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi Julian,

Issue is that i am unable to connect thru SSH .PFA when try to connect it only shows the blank screen but no any message or error. So cannot get log file.

Regards"
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi,

I do not understand what you mean by SSH .PFA, but from your screen shot it looks like putty is connecting but there is no console output. You may have a full root disk or some permissions error on the SSH config that is causing this.

If you fire up a test instance and upload the SSH .pem key (not .ppk) from your Windows desktop with WinSCP app, then connect to the instance with 

ssh -i \path\to\uploaded\ssh.pem ec2-user@yourip -vvv
or
ssh -i \path\to\uploaded\ssh.pem ubuntu@yourip -vvv

The -vvv will show you verbose output and you might see more about what is going on. Obviously use your own path and IP etc.

Or as before, ,move the root disk to another instance, mount the volume and then read the logs. 

Regards,
Julian H."
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
HI,

After reboot intance i connected ftp and got attached output from /var/log/auth.log.
PFA.
Now, can you tell me what the issue here is?

Regard"
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi,

There is nothing immediately obvious there, or i'm not seeing anyway. Have you tried with username ec2-user?

I'm not sure what else to advise you. Maybe check your sshd_conf for issues, like any mention of it trying to load keys from /etc/ssh/ssh_host_ed25519_key? And or that file itself?

Regards,
Julian H."
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
HI,

ec2-user is not accepting.
But some queries in mind, when i linked domain back to my original registrar and it is working fine now.
So does it is due to max connections on server? if so where to set max connections?

Regards"
Amazon EC2	"Re: Instance running but site not working on Ubuntu 14.04 LTS
Hi,

I'm confused. SSH runs on port 22. You connect to that port with putty. I'm not sure what a domain has to do with that. When you say ""linked domain back to my original registrar"" are you talking about DNS?

I'm not sure how much help i can be but perhaps someone else in the AWS forums community can offer some advice. Ultimately, you should rebuild on a brand new instance, move the root disk over and copy your data off it. 

When it is running nicely, and always before you do the next major installs, take an AMI of the instance then make changes.

Regards,
Julian H."
Amazon EC2	"Amazon EC2 instance unreachable through ssh and http
Hi,

This is the 5th time my instance has become unreachable. Temporarily, I create an Image, and launch a new instance with that image and it works for me. But sooner or later, the Instance become unreachable again. how do I solve this problem permanently? I cannot ssh either, although the instance is running.

Amazon Linux AMI release 2014.09
Kernel 3.14.27-25.47.amzn1.x86_64 on an x86_64

attaching my last captured system log."
Amazon EC2	"Re: Amazon EC2 instance unreachable through ssh and http
Hello,

Can you give me the impacted instance ID please (i-xxxxxxxx)?

Richard"
Amazon EC2	"Re: Amazon EC2 instance unreachable through ssh and http
My Instance Id is i-4f7a79a8. Please let me know the update!"
Amazon EC2	"Re: Amazon EC2 instance unreachable through ssh and http
Now, the instance is not even showing the system log."
Amazon EC2	"Re: Amazon EC2 instance unreachable through ssh and http
Hi,

Your attachment shows that there are IO errors. e.g
 end_request: I/O error, dev xvda, sector 133442

If the file system on your disk is corrupted, then that corruption will be present on the AMI and every instance you launch. If you are re-launching often then you will be on new EBS volumes each time so the corruption is probably not on the hardware side. IO errors may be crashing your instance. 

I recommend you stop the current instance and detach the root disk. Launch a test instance and attach the volume there. Run a file system check on the volume.

You could also (take an AMI backup first) attempt to update to the latest kernel. 

Regards,
Julian H."
Amazon EC2	"Ubuntu 14.04 LTS - Mysql stop automatically
Hello,

I have created instance on m1.small Ubuntu 14.04 LTS and install PHP-Mysql-Apache manually. Everything install successfully but after launch instance Mysql stop automatically. When i restart thru SSH then again site go up.

Any one have idea what could be issue here and avoid to stop Mysql automatic?

Any help would be greatly appreciated.

Thanks"
Amazon EC2	"Re: Ubuntu 14.04 LTS - Mysql stop automatically
Hello, 
check for errors in the boot log file:
/var/log/boot.log
Also I would suggest to check:
/var/log/mysql/mysql.log  
/var/log/mysql/mysql.err
/var/log/syslog
/var/log/kern.log

Regards,
Adolfo"
Amazon EC2	"Re: Ubuntu 14.04 LTS - Mysql stop automatically
Hi Adolfo,

I checked syslog, boot.log what types of error may be there? it is huge log file.
But there is not mysql/mysql.log or mysql/mysql.err.

Regards

Edited by: mitenriseit on Jun 2, 2015 8:35 PM"
Amazon EC2	"Re: Ubuntu 14.04 LTS - Mysql stop automatically
Hi Adolfo,

I found below in error.log

150602 10:46:58 InnoDB: Completed initialization of buffer pool
150602 10:46:58 InnoDB: Fatal error: cannot allocate memory for the buffer pool
150602 10:46:58 ERROR Plugin 'InnoDB' init function returned error.
150602 10:46:58 ERROR Plugin 'InnoDB' registration as a STORAGE ENGINE failed.
150602 10:46:58 ERROR Unknown/unsupported storage engine: InnoDB
150602 10:46:58 ERROR Aborting

150602 10:46:58 Note /usr/sbin/mysqld: Shutdown complete

How to avoid such issue in future.?

Regards"
Amazon EC2	"Re: Ubuntu 14.04 LTS - Mysql stop automatically
Hi,

This doesn't appear to be an AWS related issue. I recommend you search the Mysql community boards for suggestions. 

There was some interesting options in this third party guide

http://serverfault.com/questions/379714/unknown-unsupported-storage-engine-innodb-mysql-ubuntu

Regards,
Julian H."
Amazon EC2	"Unable to Reach EC2 Instance
I'm unable to reach my EC2 micro instance -- the device is unresponsive, even after rebooting, and the Java client in the AWS console fails silently as well.  The device won't even respond to pings.

What can I do to gain access to the device to determine what's wrong?  I'd like to save the data on the device.

Thanks!"
Amazon EC2	"Re: Unable to Reach EC2 Instance
Hi,

Your instance looks like SSH is working. 

$ telnet 52.25.107.x 22
Trying 52.25.107.x...
Connected to 52.25.107.x
Escape character is '^]'.
SSH-2.0-OpenSSH_6.2

Are you hitting the correct IP? You are not using an Elastic IP rather a public dynamic IP which changes when you stop start. To prevent this in future allocate and attach an EIP. 

If you really can't reach it, stop the instance, move the root volume to a new instance and copy the data off. 

Regards,
Julian H."
Amazon EC2	"Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
See here https://groups.google.com/forum/#!topic/mechanical-sympathy/QbmpZxp6C64

The most recent instance I launched, based on Amazon Linux 2015.03 and fully updated, reports the following kernel version:
$ uname -a
Linux myhostname.mydomain.net 3.14.35-28.38.amzn1.x86_64 #1 SMP Wed Mar 11 22:50:37 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux

...but I'm not aware of anywhere I can look up kernel-level release notes, or what patches that version number includes."
Amazon EC2	"Re: Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
Hello,
The fix for the futex_wait() bug referenced in the link you posted was fixed in the 3.14.23 kernel in the Amazon Linux AMI repositories. Any fully updated 2014.09 or 2015.03 instance will contain the fix. I have taken the issue back to my team about making it easier to track changes to the Amazon Linux kernel. For the most part we follow the upstream 3.14 kernel branch, but as in this case, we sometimes backport fixes for important issues. We track kernel issues closely and make every effort to quickly fix issues or fix security vulnerabilities.  If you have any further questions please let us know.

-Heath"
Amazon EC2	"Re: Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
Thank you very much!"
Amazon EC2	"Re: Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
Does anyone know the earliest version that has this bug?

For example, we have the following kernel versions on some of our AMIs:

3.2.30-49.59.amzn1.x86_64
3.4.37-40.44.amzn1.x86_64
3.4.43-43.43.amzn1.x86_64
3.10.42-52.145.amzn1.x86_64
3.10.48-55.140.amzn1.x86_64

Will any of these AMI versions will have the bug? Or can you just tell us the range of versions that will have it?"
Amazon EC2	"Re: Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
Hi theschmick,

The older kernels you listed are not affected. In Amazon Linux AMI, the following kernels should be affected:

kernel-3.14.19-17.43.amzn1
kernel-3.14.20-20.44.amzn1

As Heath said, kernel-3.14.23-22.44.amzn1 or later is safe."
Amazon EC2	"Re: Which Amazon Linux releases / kernels are affected by the futex_wait() bug?
Thank you for the speedy reply!"
Amazon EC2	"Amazon account hacked and mass purchase with EC2 c3.8xlarge EVERY region
Hello,

can any support help me out with this, our company account is hacked and pawned with massive orders of c3.8xlarge instances . Can anyone help with this issue. totally panic. 

Need to settle the cause, solution and billing.

Thanks"
Amazon EC2	"Re: Amazon account hacked and mass purchase with EC2 c3.8xlarge EVERY region
Hi,

Sorry to hear of the issue you are having with your account. You should immediately disable and or rotate your IAM and root user keys.

In each region, check for spot instance launch configurations and delete them. Then go and delete all suspect fraudulent instances in each region.

We are unable to locate your account at present. Please post a running instance ID so we can track it down, and we will open an outbound support case to assist you further.

Regards,
Julian H."
Amazon EC2	"Re: Amazon account hacked and mass purchase with EC2 c3.8xlarge EVERY region
Hello,

I have removed those that were created by the hacker. I also disabled all access key and created IAM role instead.

I only have 1 instance running: i-b7ca667b at the moment

Please help to investigate. 

Thanks"
Amazon EC2	"Re: Amazon account hacked and mass purchase with EC2 c3.8xlarge EVERY region
Hello,

We have checked your account and I see and active support case that we are working with you on this issue. It looks like you have taken the right steps already. We will continue to update and track things with you via your case rather than in forums. 

Best Regards,
Julian H."
Amazon EC2	"Stable ""sticky"" load balancing for tcp sessions
Hi.

It would be great if elastic load balancer supported some sort of stable distribution algorithm in tcp mode, like hash on client ip or client ip + port.

//Anton"
Amazon EC2	"Re: Stable ""sticky"" load balancing for tcp sessions
+1

This would also solve this issue: https://forums.aws.amazon.com/thread.jspa?messageID=402895"
Amazon EC2	"Re: Stable ""sticky"" load balancing for tcp sessions
This would be very helpful. Right now if I want to load balance a server with multiple https hostnames I need to create a separate load balancer for each one. If the lb supported sticky sessions in TCP mode I could just use one balancer."
Amazon EC2	"Assign second public IP address to running instance
Hi,

I need to assign another public IP address to an existing/running instance. How do I do this?

I tried creating an elastic IP address, but when I went to assign it to my instance, I was warned: ""If you associate an Elastic IP address with your instance, your current public IP address is released."" This is not what I want; I need two addresses to be active. Is this possible?

Edited by: nobleapplications on Jun 2, 2015 3:00 PM"
Amazon EC2	"Re: Assign second public IP address to running instance
Hello, 

The following document details how to assign a secondary private IP to your instance:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html

After you have a secondary IP you can assign your EIP to that secondary private IP address:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html#StepThreeEIP

Regards,
Nick"
Amazon EC2	"Instance Won't Start - I/O Errors
I have an instance (i-5efbbfa8) that just won't start. The health checks for the instance never initialize, either. Prior to trying to restart it, I checked the console and saw a bunch of I/O errors in the console. 

The instance is using SSD based storage and all the health checks on the instance indicate that the volume is OK. Can anyone assist? 

Best,
JLS"
Amazon EC2	"Re: Instance Won't Start - I/O Errors
Hello, 

I pulled up this instance and wasn't able to pull the console logs as it's been terminated. Do you have the exact error messages? If you start another instance do you get the same errors with this AMI? Did you attempt a stop/start of this instance? 

Regards,
Nick"
Amazon EC2	"Importing Windows Server vhd with ec2-import-instance, subnet not found
I am trying to import a vhd that had already been sysprepped, rdp enabled, etc. into our existing VPC, using the command line:

ec2-import-instance aws-dev-st1.vhd -f VHD -t d2.xlarge -a x86_64 -b dtdovhds -d aws-dev-st1 -z us-east-1a --subnet vpc-ed7c4388 -o secret -w secretkey -p Windows

ec2-describe-vpcs reports the vpc as I have it above:

VPC     vpc-ed7c4388    available       10.100.0.0/16   dopt-9fff15fa   default false
TAG     vpc     vpc-ed7c4388    Name    AWS-East-10.100.0.0

The result of the ec2-import-instance is:

Requesting volume size: 127 GB
Client.InvalidParameter: The subnet ID 'ed7c4388' does not exist (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameter; Request ID: 4aecd5c6-d19e-479d-ac6b-5932cd73a85f)

I've done much googling without hitting on anything, and I would really like to get this up and running! Does anyone have any suggestions as to what I'm doing wrong and what I could do to fix the problem?

Thank you!

Edited by: happyllama2 on Jun 2, 2015 3:06 PM"
Amazon EC2	"Re: Importing Windows Server vhd with ec2-import-instance, subnet not found
I finally realized that each VPC ID has a corresponding Subnet ID and that it was the Subnet ID that I needed to use!"
Amazon EC2	"Instance got unexpectedly rebooted
Hello!

The instance  i-8a5e7a9f got unexpectedly rebooted on Sun, May 31 17:47 (UTC)

I checked the EC2 Events Panel but there is nothing in there. Also, I checked the EC2 instance system logs and appears that this machine rebooted itself without OS intervention (I am guessing here, sorry).

Can someone help me check if it was a hardware problem or something else?

Thanks!"
Amazon EC2	"Re: Instance got unexpectedly rebooted
Hello, 

Generally issues with the underlying hardware won't manifest itself as a solitary restart. However, I took a look at the underlying hardware and didn't notice any issues currently or during the time frame you mentioned.  

The console logs can sometimes reveal a reason for an OS restart, but generally you'll want to take a look at your system logs themselves to verify what was occurring with the OS leading up to the restart. Most of these logs will generally be under '/var/log'. 

Regards,
Nick"
Amazon EC2	"Intermittent Network Connectivity in EU-West-1c
Hi guys,

A web server with an elastic IP has intermittent network connectivity and is failing status checks. We've stopped and started it but its made no change and connectivity remains intermittent (dropped pings, failing to connect to 443 / 80)
We've made no changes to the server and it kinda suddenly just happened.

Instance ID is i-0df5aa4f and issues started to occur Sat, 30 May 2015 18:43:04 +0000

Thanks.

Edited by: trex666 on May 30, 2015 1:27 PM"
Amazon EC2	"Re: Intermittent Network Connectivity in EU-West-1c
Hello, 

If you're still are having this issue, I had additional questions. 

1. I notice this instance is using two EIPs, are you experiencing this issue with both EIPs or just one? 
2. I noticed your instance can use Enhanced Networking. Hhave you enabled enhanced networking? You can read more on Enhanced Networking here: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/enhanced-networking.html
3. Have you looked into memory utilization or system logs of the instance to verify if anything abnormal is occurring during these failures? 

Regards,
Nick"
Amazon EC2	"Ubiquiti Windows AMI - Windows - Can't access web interface or RDP?
The youtube video here: https://www.youtube.com/watch?v=NSMM5dT1vSk makes it seem so easy, yet I get everything set up the same way and when I try to log into my instance/web interface via the DNS name with port 8443, nothing comes up. Did something change at AWS? Is there a 2015 version walkthrough? I've created the ""security group"" (port forwards) as shown in the video. I am stuck at the video at 1:45 where he brings up the web page just fine, yet mine times out. I even just tried https://<my instance IP address>:8443 but no go.

I also tried going into the actions menu --> networking --> change security groups... and clicking on the security group that I entered all the port forwards in (called Unifi) -- but ""Jamie"" in the Youtube video never went into the Security groups to change anything or ""apply"" it to the instance. So now I have two security groups checked/enabled: ""launch-wizard-1"", and ""unifi"". The third security group ""default"" is not selected/checked/enabled.

Also, when I download the RDP file from AWS and try to remote desktop, what password or credentials do I use? Do I have to go through the daunting ""reset password"" steps here just to RDP in?: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-passwords.html?console_help=true#ResettingAdminPassword

Thank you for any assistance!"
Amazon EC2	"Re: Ubiquiti Windows AMI - Windows - Can't access web interface or RDP?
Hello,

I can't speak for Ubiquiti, but for the other part of your question, you need the ""Get Windows Password"" function in the AWS Console.

I hope this helps.

Richard"
Amazon EC2	"Re: Ubiquiti Windows AMI - Windows - Can't access web interface or RDP?
Thanks for your reply, however, when I do the ""Get Password"" option as explained in Step #2 from the help page here (https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html?console_help=true), I get this error:

""This instance was launched from a custom AMI, or the default password has changed. A password cannot be retrieved for this instance. If you have forgotten your password, you can reset it using the Amazon EC2 configuration service. For more information, see Passwords for a Windows Server Instance.""

I have deleted the instance and am looking around online for something newer but all I find is that one video. There are comments from 2015 where others say they are having the same issue. Sadly, the only place to get support for the free tier is here. Post and pray someone will know what to do. I hope I don't end up spending my whole free tier just trying to gain access to my instance :\

Edited by: mysweetusername on Jun 1, 2015 3:54 PM"
Amazon EC2	"Re: Ubiquiti Windows AMI - Windows - Can't access web interface or RDP?
---FINAL UPDATE---
I went through the password reset steps a second time and was able to reset the password, again. And after RDP'ing to Amazon's predefined image ""Ubiquiti Unifi Controller (ami-79bff749)"" -- it turns out there is NO Unifi software installed whatsoever. So that's why I wasn't able to bring up port 8443 in a web browser like Jamie does very simply in this video (because the AMI image is bogus!!!!!!!!!!!): https://www.youtube.com/watch?v=NSMM5dT1vSk
---FINAL UPDATE---

---UPDATE AFTER I POSTED THE BELOW---
I RDP'd into the server and reset my password. Now I can't reconnect with the old password or the new password. Even when I do the ""get password"" function, it decrypts it and tells me the password is the original one I used to RDP in, yet that isn't working. I am confused how this AWS stuff is so popular.
---UPDATE AFTER I POSTED THE BELOW---


Well, I got the password reset by following this article, so at least I can RDP in. I can't help but think they could have made a simple thing a little easier than this, but in case anyone is in the same position in me, just bite your tounge and do it...: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-passwords.html?console_help=true#ResettingAdminPassword

Now that I'm able to connect to the Unifi Ubiquiti AMI, I can try to diagnose why I'm unable to access the web admin interface for the Ubiquiti's from https://<my public AWS DNS name>:8443

Edited by: mysweetusername on Jun 2, 2015 1:48 PM

Edited by: mysweetusername on Jun 2, 2015 2:14 PM"
Amazon EC2	"Standard EC2 instance has yet to be billed for May. Need to switch card...
Hi everybody,

First post here and I'm sorry if this isn't quite the right place to ask. I searched AWS FAQ extensively and couldn't find anything about a delay in charging my card.

Nearly 3 days into the next billing cycle and no charges have been posted to the card associated with my AWS account. It is a rather significant sum and I'm waiting on it to post, so I can pay it, then change the card associated with the account going forward for business purposes.

Is there a known delay between the end of a billing cycle and the point when you can actually pay?

I only ask because the service is great, and everything else seems to be so fast and streamlined. 

Thanks in advance."
Amazon EC2	"Re: Standard EC2 instance has yet to be billed for May. Need to switch card...
Hello,

Currently our billing cycle is in progress which means we have already initiated the charges with your bank. Typically this process takes a few days, so please expect your credit card to be charged between the 3rd and 7th of the month.

If you have any additional questions please contact our Account/Billing team directly via the Support Center: http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-get-answers.html

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Standard EC2 instance has yet to be billed for May. Need to switch card...
Thanks. The not knowing was killing me."
Amazon EC2	"Internal error while using importImage API
Hi, 

I am trying to import a single volume disk from S3 snapshot. However I get the following error.

Error Message:     (Service: AmazonEC2; Status Code: 500; Error Code: InternalError; Request ID: b04bbfc3-5418-4062-978d-06ba9c57de2a)
HTTP Status Code: 500
AWS Error Code:   InternalError
Error Type:       Unknown
Request ID:       b04bbfc3-5418-4062-978d-06ba9c57de2a

Any idea what might be the reason?"
Amazon EC2	"Re: Internal error while using importImage API
Hello, 

As noted here, if you don't have a default VPC you'll get this error if you don't specify a subnet/AZ yourself:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportTroubleshooting.html#ServiceInternalError

Please make sure you're specifying the subnet/AZ if you don't have a default VPC. 

Regards,
Nick"
Amazon EC2	"AWSome days survey credit
By now i have filled in two surveys after going to AWS days. 
I should have getting like two times 25$ in credit added to my account but so far i have yet to see them to be added .

On the credit/billing page it says ""You currently have no redeemable credits."""
Amazon EC2	"Re: AWSome days survey credit
Hello,
please open a request to the Customer Service.
Thanks!
Adolfo"
Amazon EC2	"Re: AWSome days survey credit
Thanks Adolf"
Amazon EC2	"Blocked EIP
I'm trying to release an Elastic IP, but I'm getting the following error: 

We could not release the following Elastic IP (54.207.95.219) The address with allocation id eipalloc-9c6d7ffe cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 80085fb8-c880-4b72-af3f-498e70506ea6) 

How can I fix this?"
Amazon EC2	"Re: Blocked EIP
Hello,

This Elastic IP has a PTR DNS record setup:$ dig -x 54.207.95.219 +short
mail.mendesjunior.com.br.
If you are sure you would like this removed, please let us know and we can do that for you.  Once done, you will be able to release the Elastic IP.

Best regards,
Justin G."
Amazon EC2	"Re: Blocked EIP
Would you please romove this setting?

Regards."
Amazon EC2	"Re: Blocked EIP
Hi Justin!
I'm getting the same error as before.
Could you check again?
Thanks in advance."
Amazon EC2	"Re: Blocked EIP
Hello,

I have removed the reverse DNS record you requested.  Please note that propagation of this update to DNSBL services that Amazon works with may take up to a week.

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Public DNS is not working
Hi All,

My Instance ID: i-ce834f31

After creating Elastic IP my Public DNS changed. From that moment my new Public DNS/IP is not working. I checked my Security group also. Rules are correct.

I'm new to AWS. I don't know where is the problem. Please help me.

Thanks,
-Guna"
Amazon EC2	"Re: Public DNS is not working
Hello,
assigning the Elastic IP changes the IP of the instance.
You need to configure your DNS name to refer to the new EIP assigned.
Once you assigned the new name you need to wait for propagation.

Factors that affect DNS propagation time include:
Your DNS TTL (Time to Live) settings
Your domain name's registry time to update the records.
Your ISP DNS cache time.

Regards,
Adolfo"
Amazon EC2	"Re: Public DNS is not working
Hello Adolfo,

Thank you so much for your reply,

I've already associated my Elastic IP to my Instance by using 'Associate Address' button in Elastic IPs section. Now Elastic IP & Public IP are same. I pinged that IP. But Its not responding. Should I need to do more. Please advice.

Thanks,
-Guna"
Amazon EC2	"Change instance type from M1 to M3?
Hi,
I have got a reserved M1 instance,which is ending soon - can I change the instance directly from M1 to M3, and this would work without any problems i.e. all my files and setup remaining same?"
Amazon EC2	"Re: Change instance type from M1 to M3?
Hello,

Think of a Reserved Instance not as an actual server, but as a reservation for space that assures that the capacity you need is available to you when required. This means that when that reservation expires, you do not lose any data (because an RI is not a virtual machine), you just lose reserved capacity. At this stage, you can purchase another reserved instance and go back to your previous reserved capacity.

The Reserved instance will apply to the on-demand instance as long as the Reserved instance your purchased matches the instance type, operating system and availability zone. 

For example, you launch one single on-demand instance and purchase a reserved instance. If the on-demand instance matches the criteria of the reserved instance, you’ll automatically benefit from the reserved instance.

For more information on reserved instances, please visit the link below:

http://aws.amazon.com/ec2/purchasing-options/reserved-instances/

Best Regards, 

Ahmed H."
Amazon EC2	"Amazon EC2 volume
I have running instance on Amazon EC2 and appended 8GB standard volume. How can I find out how full is my volume? I mean for example   1.3GB from 8GB

Edited by: martinoo93 on Jun 2, 2015 8:07 AM"
Amazon EC2	"Re: Amazon EC2 volume
Hello,

Unfortunately there is not a way to see your volume used space from the AWS Management Console. However, you can use Amazon CloudWatch Monitoring Scripts for Linux which is a sample scripts for monitoring memory and disk space utilization on your Amazon EC2 instances running Linux.

Available metrics include:


Memory Utilization (%)
Memory Used (MB)
Memory Available (MB)



Swap Utilization (%)
Swap Used (MB)



Disk Space Utilization (%)
Disk Space Used (GB)
Disk Space Available (GB)


More information about Amazon CloudWatch Monitoring Scripts for Linux can be found here: 

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts-perl.html

Best Regards, 

Ahmed H."
Amazon EC2	"Powershell script not appearing under the /Scripts folder on windows ec2
I have a custom ami windows image. I have a powershell script that would printout a simple message. The code that launches a new ec2 from this image is written using AWS Node SDK. This powershell script file contents are read as a string and base64 encoded and passed to the UserData parameter. This powershell script string is base64 encoded because the UserData specification expects a base64 encoded string parameter. 

The problem is I am not able to see the message from powershell script in the log file generated by ec2 config service. Also I cannot see my script under the ../Amazon/EC2ConfigService/Scripts/ folder. Please any would know what I might be doing wrong. Any pointers would be appreciated.

The Nodejs code that I am using to launch instance is as follows:

fs = require('fs');
var userDataString = fs.readFileSync('/home/ec2-user/riddhi/sample.ps1');
var userData = new Buffer(userDataString);
userDataString = userData.toString('base64');

var AWS = require('aws-sdk');
var ec2 = new AWS.EC2({
        region: 'us-west-2'
});

var params = {
  ImageId: 'STRING',
  InstanceType: 't2.micro',
  MinCount: 1,
  MaxCount: 1,
  KeyName: 'STRING',
  SecurityGroups: ,
  UserData: userDataString
};

// Create the instance
ec2.runInstances(params, function(err, data) {
        if (err) { console.log(""Could not create instance"", err); return; }
        var instanceId = data.Instances[0].InstanceId;
        // Add tags to the instance
        params = {
                Resources: instanceId,
                Tags: [{
                        Key: 'Name',
                        Value: 'STRING'
                      }]
        };

        ec2.createTags(params, function(err) {
                console.log(""Tagging instance"", err ? ""failure"" : ""success"");
        });
});

The powershell script is as follows:
<powershell>
Write-Host ""Powershell script ran successfully!!!""
</powershell>"
Amazon EC2	"T2-Micro losing network connectivity daily
I have a T2-Micro that is losing network connectivity about once per day. It is in US-WEST-2b running the latest Amazon Linux AMI.

When I start the machine from scratch, it works great for about a day, and then all connectivity dissapears. The EC2 instance checks keep passing, but no traffic can reach it (on port 80, 443, or 22). I have not changed anything about security groups, etc.

Stopping and starting the instance does NOT help. The only thing that has worked is to stop the instance, detach its volume, create a new instance and then attach the old instance's volume. This takes a few minutes, but when the new instance comes up with the old volume, everything is perfectly fine until the next time it fails.

Looking at the machine metrics, there is nothing out of the ordinary. Its CPU credit is around 150 - so it isn't getting throttled, no CPU spikes surround the failure, and nothing else looks odd.

Any suggestions on what is causing this? The machine is running Apache, PHP and Wordpress, with very low loads (may a dozen requests per minute)."
Amazon EC2	"Re: T2-Micro losing network connectivity daily
When I got a new instance up, attached to the old volume, I checked out /var/log/messages. Aside form a DHCP request every 30 (or so) seconds, nothing interesting happens until the machine appears to run out of memory and invoking the oom-killer. It does that a few times, which seems to help a little each time, but then it just stops responding all together.

I have no idea why restarting the machine doesn't help though. Why do I need to create an entirely new instance to correct the problem?"
Amazon EC2	"Re: T2-Micro losing network connectivity daily
Hello,
please can you provide the instance-id?
Thanks!"
Amazon EC2	"Amazon EC2 Instance scheduled for retirement
I've received the following email from AWS support. 

We have important news about your account.  EC2 has detected degradation of the underlying hardware hosting one or more of your Amazon EC2 instances in the ap-southeast-1 region. Due to this degradation, your instance(s) could already be unreachable. Running instances will be stopped or terminated after 12:00AM UTC on 2015-06-12. The affected instances are listed below:
  i-b9c824ee

I've checked the root volume is EBS, should I need to do anything before Jun 12, 2015? 
or I only need to restart the EC2 instance after the machine shutdown at 2015-06-12 ?

I can bare few hours down time, but I have to make sure I won't have any data loss."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement
Hello,
your instance is running with an EBS volume and an Elastic IP.

You can proceed with the stop/start of the instance to let it run on a different underlying host.

You could also create an AMI of the instance for safety reasons.

Regards,
Adolfo"
Amazon EC2	"our ssd is not gone but the files.
Hello

SSD is connected to our ec2 (about 2 months) however, now, the files/folders are gone. I even did not login for 2 months, and the instance didnt reset itself in this period. What can be the solution to retrieve the files?"
Amazon EC2	"Re: our ssd is not gone but the files.
Hello,
can you provide the instance-id?

Also, please be sure you are not using instance-store volumes.

Regards,
Adolfo"
Amazon EC2	"Instance check failed 1/2, Windows Instance
Instance Id -- i-79829609.

We were having issues while trying to connect to the server through RDP, but FTP was working, rebooted the Server through AWS console but now Instance status check shows Fail. FTP also not accessible now, can anyone help me getting this sorted? Server is down from past 1 hour now."
Amazon EC2	"Re: Instance check failed 1/2, Windows Instance
Hello,
I checked your instance.
In the console you can see:
Waiting for meta-data accessibility...

For EC2-Classic, you'll need to perform offline registry edits to reenable DHCP and overcome static IP configurations.

Please check the Waiting for the metadata service section of the Troubleshooting Windows Instances documentation.

Regards,
Adolfo"
Amazon EC2	"System won't start
Nevermind, fixed it.

Edited by: MorningSleeper on Jun 1, 2015 11:26 PM"
Amazon EC2	"Can not create spot instances(price-too-low) while its true only for 1 sub
Hi

I am at NVirginia region.
I am starting c4.4xlarge spot instance without availability zone specification with 0.3 maximum price
In all but e zones prices are about 0.15-0.16 which is considerably smaller then my max price. In e zone it's 1.1 which is greater

Problem is, that after I do run this request, it's not fulfiled with price-too-low error

How is that too low if there are 3 availability zones with prices that lower my bid?

P.S. If I specify zone (say d) in my spot request, it's fulfilled with same (0.3) price

P.P.S. In case this is important - I have another running on-demand instance in e zone, so I understand why e zone can be in priority to run new spot instance, but what i do not think it's right behavior for this prioirty to block ability to run instance at all

Edited by: andll on May 1, 2015 8:32 AM"
Amazon EC2	"Re: Can not create spot instances(price-too-low) while its true only for 1 sub
Hi

So, it really seem to be that it defaults to 'e' availability zone, instead of picking availability zone with lowest price, if no az is specified in spot request

As you can see on screenshot provided - there are currently different prices: 0.309 in e zone and 0.25-0.26 in c/d.
Spot instance request without az specified fails with
Your Spot request price  is lower than the minimum required Spot request fulfillment price of 0.309

Which is price in e zone and not lowest price.

Can you please tell me if it's intended ec2 spot behavior, or bug that will be eventually fixed?"
Amazon EC2	"Re: Can not create spot instances(price-too-low) while its true only for 1 sub
Hello,

This is the expected behaviour for Default VPCs. Please see  this documentation :

[Default VPC] If you want your Spot Instance launched in a specific low-priced Availability Zone, you must specify the corresponding subnet in your Spot Instance request. If you do not specify a subnet, Amazon EC2 selects one for you, and the Availability Zone for this subnet might not have the lowest Spot Price.


Kind regards,
Chris"
Amazon EC2	"Re: Can not create spot instances(price-too-low) while its true only for 1 sub
Hello,

Just to add to Chris's response, you can also use the new Spot Fleet APIs which will automatically pick the cheapest availability zone for you. For more information about Spot Fleet APIs, please see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-fleet.html.

Thanks,
Ani."
Amazon EC2	"Cannot stop instance or create replacement image
Instance: i-eef2dc8e
AMI: ami-cce31aa5

Instance automatically rebooted today then we received an email stating the backend hardware was degraded. I've encountered this before so I tried stopping the instance so I could migrate it to new hardware but it's been stuck in the stopping state for a while now. I tried creating an AMI but that didn't progress anywhere so I tried to create snapshots of each volume however it's stuck on one of the volumes. I'm guessing this is related to the issue of the instance not being able to stop.

Volume: vol-93fbfaf9 is the questionable volume and the snapshot is snap-817be01c.

Ideally I'd like to just stop the instance and start it and have it migrate on the back end instead of launching a new one."
Amazon EC2	"Re: Cannot stop instance or create replacement image
Instance finally stopped and I was able to relaunch it on new backend hardware."
Amazon EC2	"Migrate EIP to VPC
Hi, 

I'm working on migrating an EIP from classic to VPC, however I got this exception when using CLI:
C:\Windows\system32>aws ec2 move-address-to-vpc --public-ip 54.248.102.56
 
A client error (InvalidState) occurred when calling the MoveAddressToVpc operati
on: Address 54.248.102.56 cannot be moved. Please refer to documentation.


I read from previous post that it may be caused by a reverse DNS pointer record, but not knowing how to clear the PTR record on this EIP.
Please advise. Thanks!"
Amazon EC2	"Re: Migrate EIP to VPC
never mind, I decide to give up the old IP..."
Amazon EC2	"Instance stuck on stop
Hello,

After loosing contact with this istance i-8a8ce3d9, it is stuck on stop state (even after force stop) for over 30 minute.

Can you please advise?

Regards."
Amazon EC2	"Re: Instance stuck on stop
Hello, although this instance is unreachable for over 2 hours we are unable to open a support case and it is stuck on stop state.

Can you please check its status and update us.

Regards."
Amazon EC2	"Re: Instance stuck on stop
Instance has finally stopped and we restarted it. We would appreciate a root cause analysis for reference.

Thanks."
Amazon EC2	"Volumes stuck in deleting status
Dear Amazon Team, 

The following volumes have been stuck in a ""deleting"" status in my management console for 24 hours. Could you complete the deletion process. Thanks. 
vol-64fdb620
vol-00fdb644
vol-2cfdb668
vol-53074d17"
Amazon EC2	"Re: Volumes stuck in deleting status
Hello,

Thank you for posting. I've brought this to the attention of the EBS Team and awaiting feedback from them. Once they've had a chance to address the issue we'll update this thread.

Regards,
Brandon"
Amazon EC2	"Re: Volumes stuck in deleting status
Bump ...

Brandon, Thank you but it is now 48 hours and the volumes are still stuck in a ""deleting"" status. Can you provide an update."
Amazon EC2	"Re: Volumes stuck in deleting status
Hello,

Engineering will progress this for you as soon as they can.

Please note that this is a cosmetic issue only insofar as you are not charged for volumes in the deleting state.

We'll be in touch.

Thanks!
Richard"
Amazon EC2	"Re: Volumes stuck in deleting status
Hello,

This issue should be cleared up.  Please let us know if you still see volumes stuck deleting.

Best regards,
Justin G."
Amazon EC2	"Re: Volumes stuck in deleting status
Thank you. All stuck volumes have since deleted. All OK now."
Amazon EC2	"Let me know the name of AWS service which has the following actions
Hi ,

Please let me know the name of AWS service which has the following actions 
ec2-reports:ViewInstanceUsageReport, 
ec2-reports:ViewReservedInstanceUtilizationReport.

Thanks,
-Bidyut."
Amazon EC2	"Re: Let me know the name of AWS service which has the following actions
Hi,

They look like entries on an access policy (IAM) regarding a users access to allow them to perform those actions:

Additional details can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/usage-reports.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Let me know the name of AWS service which has the following actions
These define metrics/reports available to you through CloudWatch.  You can explore the metrics hierarchy through the AWS Console by selecting ""CloudWatch"" from the home screen and then ""Metrics"" on the left hand navigation menu.  Consult the API documentation for further details."
Amazon EC2	"Run a Virtual Image on AWS
Hello

I would like to run my windows 7 machine on AWS. I can use VMware P2V and import the virtual image. Is there a better way. Please assist...Thanks"
Amazon EC2	"Email provider
Hello. I have 20 clients and each client requires 25 email accounts. you know any mail storage provider is good but not expensive.?"
Amazon EC2	"Cannot reach EC2 instance using registered domain, only using public IP
I can reach the website I set up on the EC2 instance using its public IP address, however if I try to reach the website using the domain name it cannot resolve the hostname. In my settings on the server (ubuntu running apache) I set virtual host up to point to the directory in apache2.conf. The instance id is i-c04d237. Any help would be appreciated, if you need more information to help let me know! Thanks"
Amazon EC2	"Re: Cannot reach EC2 instance using registered domain, only using public IP
Hi,

This appears to be a DNS problem, what are you using for the DNS of your website? Are you using Route53?

Has this ever worked, or are you in the process of setting this up?

Cheers,

Stooby..."
Amazon EC2	"Re: Cannot reach EC2 instance using registered domain, only using public IP
Hi there, I am using Route53. I had it working for a month or so and it just stopped working yesterday. I created a hosted zone for the address and pointed it towards the public ip address of the instance. Like I said it just seemed to stop working, I did not change any settings to it. However, it is strange that when I do try and reach the server by typing in the ip address in a browser it brings me to the home page for the application, which isn't in the default /var/www/html folder but a separate folder that I point to using virtualhost."
Amazon EC2	"Re: Cannot reach EC2 instance using registered domain, only using public IP
Hello,

It looks like your hosted zone for your domain was recently created (or recreated, as of today).  The name servers that the domain has been configured to reference do not match the name servers delegated as authoritative to your zone.

As an example, WHOIS shows the following as name servers for the domain:ns-587.awsdns-09.net
ns-1486.awsdns-57.org
ns-247.awsdns-30.com
ns-1793.awsdns-32.co.uk

They should be the following:ns-1425.awsdns-50.org.
ns-196.awsdns-24.com.
ns-839.awsdns-40.net.
ns-1537.awsdns-00.co.uk.

You will need to update your domain with Route 53 to have the correct name servers:

http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/registrar.html#domain-name-servers-glue-records

After the domain change propagates, the domain name should begin resolving once again.

Best regards,
Justin G."
Amazon EC2	"Re: Cannot reach EC2 instance using registered domain, only using public IP
I tried setting it up with a new instance from scratch, and I assume that is where the issue with the name servers arose. However, this problem started before I switched to a second instance. Is there anything that might have caused the name servers to change? Thanks for the help, much appreciated! At least I can get back to work now!"
Amazon EC2	"Spot instance requests are not supported for this AMI
Hi

I am currently trying to request a spot instance for a custom private AMI I have created with the following Image ID: ami-1d9eee6a

The original vanilla AMI was based on RedHat

I have tried both through the Console as well as using the AWS CLI tools and both ways fail with the following error:

A client error (UnsupportedOperation) occurred when calling the RequestSpotInstances operation: Spot instance requests are not supported for this AMI.

I am creating the spot in eu-west-1 region with the following command

aws ec2 request-spot-instances --spot-price 0.0401 --instance-count 1 --type ""one-time"" --region eu-west-1 --launch-specification ""{\""ImageId\"":\""ami-1d9eee6a\"",\""KeyName\"":\""key\"",\""SecurityGroups\"":,\""InstanceType\"":\""m3.xlarge\"",\""UserData\"":\""file:///path/to/userdata\"",\""Placement\"":{\""AvailabilityZone\"":\""eu-west-1a\""}}""

Please can you help me work out what the problem is with this request. Could it be the original AMI I used to create my custom AMI? I cant find anything in the docs that says I need to select a specific AMI if I want to be able to create spot instances from the custom AMI?

Thanks
Andrew"
Amazon EC2	"Re: Spot instance requests are not supported for this AMI
Hello,

Red Hat is not currently supported for spot instances I'm afraid - you could use Amazon Linux which is based on Red Hat?

Please see the following FAQ regarding Red Hat instances:
http://aws.amazon.com/solutions/global-solution-providers/redhat/faq/ondemand/

Regards,

Matt W."
Amazon EC2	"Re: Spot instance requests are not supported for this AMI
Hi Matt

Thanks for letting me know. That link (which I have found in another post before) is a dead link and the page is not found, do you have an updated link?"
Amazon EC2	"Re: Spot instance requests are not supported for this AMI
Will RedHat AMI's be supported in the future or is that never going to happen?"
Amazon EC2	"Re: Spot instance requests are not supported for this AMI
Here's the Red Hat FAQ:
http://aws.amazon.com/partners/redhat/faqs/"
Amazon EC2	"How to access SSH
Hello. I am new to EC2. I created Ubuntu instance, and I want to access via SSH.

The instance is already active, but I do not know my ID and PW.

I skipped creating ""Key Pairs."" I always use PuTTY to access Linux servers.

Did I do something wrong when I build this server?

I created ""Key Pairs"" and saved pem file after I made the instance. But, this new key does not seem to be linked to my instance. 

Could you advise me what was wrong, and what I should do to access the server with root?

Thank you."
Amazon EC2	"Re: How to access SSH
Hi,

Yes, you shouldn't have skipped this section of the Key Pairs as you need a key pair associated to the instance to make any API call to the instance such as Putty/SSH.

Now you have created the Key Pair you will need to create the instance again, however when prompted again regarding Key Pairs, select the Keys you have just created (or simply create another one for that instance during the configuration of the instance).

Without having a key pair associated with this instance you will not be able to access it with Putty.

Hope this helps.

Cheers,

Stooby..."
Amazon EC2	"Multiple outgoing ip amazon
We've recently been trying to migrate our ""Proxy service"" to Amazon Web Service for more flexibility / maybe better pricing than what we're using at the moment (multiple servers) but I'm still not sure on how to proceed.

We need to get multiple outgoing public IPs (Can be dynamic / static).

Currently when we're launching an EC2 server, attaching a few Elastic IP to it using 2 Networks interfaces, doesn't matter which IP we'll be using to connect TO the server, the server is always answering with the same public IP.

To be a bit more specific here is our current AWS Network Interface setup :

http://i.stack.imgur.com/VxHfx.png

When we're connecting to the instance (SSH tunnel) using 172.31.25.x, the public IP we're getting is the same than if we connected using 172.31.28.x, which is 52.28.58.x.

I'm not sure the issue is coming from the settings we're using or from the fact that EC2 instances are just not the correct Amazon service we should be using from the multitude we've been able to see (Customer Gateway / VPC / ...)

Anyway, thanks a lot for any help !"
Amazon EC2	"Port 80 blocked on Ubuntu server
I apologize if this question has been asked over and over, but I started up a t2.micro instance with an Ubuntu OS. I'm wanting to use this as an icecast2 server. I'm trying to get it to work on port 80, but I'm not having any success. I have opened port 80 (as well as port 8000) in the AWS security group the server is under. I've verified that there are no rules blocking port 80 in iptables, and I've verified that ufw is disabled. Still nothing.

I have set icecast to listen on both port 80 and 8000. I'm connecting successfully via port 8000, but nothing with port 80.

Can anyone offer me any help with this? I would appreciate it very much!"
Amazon EC2	"Re: Port 80 blocked on Ubuntu server
Hello,

Please could you provide us with an instance ID so we can troubleshoot this?

Regards,

Matt W."
Amazon EC2	"Re: Port 80 blocked on Ubuntu server
i-a848b201"
Amazon EC2	"Re: Port 80 blocked on Ubuntu server
Hi breissie,

I've checked the instance and underlying host. Both are healthy and passing all checks. I see the security group is setup properly to allow traffic on the port examples you gave.

I was able to establish a tcp connection on 8000 but 80 gives me a connection refused error. You'll usually see this response when the service isn’t running or a firewall is rejecting the connection. 

Since you believe you've ruled out the firewall then there is most likely something wrong with the icecast service configuration.

Next step would be issuing a $ sudo netstat -plnt to see what port(s) the icecast service is listening on.

Hope the above info helps!

Rodney"
Amazon EC2	"Re: Port 80 blocked on Ubuntu server
Here's the output of that:

Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1057/sshd
tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      4963/icecast2
tcp6       0      0 :::22                   :::*                    LISTEN      1057/sshd

However, a quick search on using port 80 with icecast gave me the answer I was looking for.

In order for icecast to be able to use port 80, it has to be started as root. To do this with the startup file, I had to modify the userid and group that executed icecast in the /etc/init.d/icecast2 file. I changed it from:

USERID=icecast2
GROUPID=icecast

to

USERID=root
GROUPID=root

Additionally, I had to modify the icecast config file as well. I added the following:

<security>
    <chroot>0</chroot>
    <changeowner>
        <user>icecast2</user>
        <group>icecast</group>
    </changeowner>
</security>

This changes the owner of the program after executing it, so it can run normally after booting up as root, giving it access to port 80. Now the netstat command gives me this:

Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1057/sshd
tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      8484/icecast2
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      8484/icecast2
tcp6       0      0 :::22                   :::*                    LISTEN      1057/sshd

Thanks for the help!"
Amazon EC2	"Data loss on EBS volume
Hello team,
we're running a cluster of EC2 instances located at North California (us-west-1) region.
This Monday we've figured out that various files on one of our instance were affected by the data corruption. While analyzing the backups we've found out that data corruption was approximately from last Thursday (2015/05/21) to Monday (2015/05/25). Could you clarify if something was happening with your underlying infrastructure those days?

Host ID is i-438b9f80.
EBS volume ID is vol-ee0a6af3.

Thank you in advance,
Andrey Sizov"
Amazon EC2	"Re: Data loss on EBS volume
Hi Andrey,

I have reviewed this volume, and there are no errors flagged on it for either April or May.

That would indicate that the source of this corruption wasn't the Amazon infrastructure.

I'm sorry if this wasn't the answer you were hoping for.

Richard"
Amazon EC2	"Re: Data loss on EBS volume
Thank you for investigation, Richard."
Amazon EC2	"Elastic IP Address Changing
I have noticed at times when the EC2 Server is stopped and started again, the elastic ip is refreshed or changed.

Is this meant to happen, or can we lock it to an instance.

As pointing this to a domain and changing it every time is difficult.

--
Regards,
Suraj"
Amazon EC2	"Re: Elastic IP Address Changing
Hi there, 

Please provide me with your Instance ID so that I can investigate this for you. 

Kind regards, 
Belynda"
Amazon EC2	"Account suspended
My account was suspended and I'm not sure why.....haven't logged on in a couple months, but didn't have any servers running or anything so no bills to pay (I double checked). Case #1411165061, would really appreciate a quick response on this."
Amazon EC2	"Re: Account suspended
Hi,

I have responded to the billing support case that you created regarding your account suspension. 

Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1411165061

Regards,

Luke H."
Amazon EC2	"Cannot stoping EC2 instance
Hello,

My EC2 instance cannot create the AMI image or reboot.
Please help me to recheck!

Instance: i-934ebb3a

Thanks!"
Amazon EC2	"Re: Cannot stoping EC2 instance
Hello,

This instance appears to have recently been started - is your issue resolved?

Regards,

Matt W."
Amazon EC2	"Incorrect AWS Abuse report and no response from AWS
Hi,

I received the following abuse report (Case number: 18062583078-1) yesterday with the following information.


It has come to our attention that Denial of Service (DoS) attacks were launched from your instance to IP(s) 198.41.136.141 via UDP port(s) 0. Please investigate your instance(s) and reply detailing the corrective measures you will be taking to address this activity.

In the meantime, we have blocked outbound UDP 0 on the instance(s) to prevent further abuse.


My server does not need to make any UDP connections, so I updated the security group for the server to block all outgoing UDP connections. As requested in the email I replied to the email detailing this. 

I did not receive any reply from the abuse team after this. But this morning I received another abuse report email (Case number: 18062583078-2) saying the following.


It has come to our attention that Denial of Service (DoS) attacks were launched from your instance to IP(s) 104.18.50.163 via UDP port(s) 0. Please investigate your instance(s) and reply detailing the corrective measures you will be taking to address this activity.

In the meantime, we have restricted network access to only inbound TCP ports 22 and 3389 on the instance(s) to prevent further abuse.


I have completely blocked all outgoing udp connections using the firewall on the server and also the security group. 

Why have they placed restrictions on the incoming ports? How is that going to solve the issue? This is a web server and all our websites are now inaccessible because port 80 is blocked and our business has come to a standstill. 

I have sent 4 emails so far since then (its been 23 hours since my first one yesterday), requesting more information or anything that can help solve the issue and I have not got any reply from them.

I don't want to create another instance because we just set this one up and it has taken us weeks to get everything working correctly. What can I do to get them to remove the block on port 80 (which has got nothing to do with the abuse)?

Regards
TJ"
Amazon EC2	"Re: Incorrect AWS Abuse report and no response from AWS
It has been 36 hours since my first email to the Abuse team and I am still to receive a single acknowledgement from them. In the mean time almost all the connections to the server has been blocked and all my website are down and my business has come to a stand still. 

Is this the kind of service that is to be expected as a standard for AWS?"
Amazon EC2	"Re: Incorrect AWS Abuse report and no response from AWS
Hello,

I saw this thread earlier and brought it to the attention of a colleague in Abuse who is currently working on this.  Due to the nature of the incident he can't reply to you on the public forums - he'll email you on your registered email address once he has some information for you.  Please refrain from starting more threads about this issue.

Regards,

Matt W."
Amazon EC2	"Re: Incorrect AWS Abuse report and no response from AWS
Thanks for the response Matt. As I mentioned earlier in my post, my whole business is at stand still because of this and need this resolved asap.

Can you please ask your colleague to at least acknowledge my emails sent from my registered email address by responding to it even if there isn't any information at the moment! 

How long does it generally take to resolve these kind of issues?! 

Since this does not pertain to any specifics of this issue, can you please answer this question - If there is an outbound abuse problem what is the logic behind blocking all inbound connections!??"
Amazon EC2	"Re: Incorrect AWS Abuse report and no response from AWS
Hello,

You should be hearing from my colleague very shortly.  The SLA for Abuse response is 24 hours - apologies that we didn't meet that in this instance.  Unfortunately I'm unable to comment on Abuse processes for security reasons.

Thanks,

Matt W."
Amazon EC2	"uploaded vm to S3, but instance is terminated and cannot start
I uploaded my vm to S3 but now I cannot start my instance in ec2. It says the instance is terminated."
Amazon EC2	"Re: uploaded vm to S3, but instance is terminated and cannot start
Hello,

Can you give me the instance ID (i-xxxxxxxx) please and any log information you have from the conversion please?

Thanks,
Richard"
Amazon EC2	"Re: uploaded vm to S3, but instance is terminated and cannot start
ok the instance dissapeared by itself. I am following the instructions to upload the vm with ec2-import-instance 

like this

ec2-import-instance ./vcenter6-disk1.vmdk -f vmdk -t t2.small -a i386 -b s3bucketname -o xxxxxxxxx -w yyyyyyyyyy --region us-west-1 -p Linux

but this is an ovf appliance that has multiple vmdks.

how do I import all the vmdks?"
Amazon EC2	"Re: uploaded vm to S3, but instance is terminated and cannot start
Hello, 

First, Make sure your VM only uses a single disk as importing a VM with more than one disk is not supported. Please refer to this link for more info about VM Import/Export Prerequisites: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-limitations

Second, regarding importing volumes into Amazon EBS, you can follow this guide to import each volume to Amazon EBS and then attach them to your instance: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/importing-your-volumes-into-amazon-ebs.html

you can check the status of your import tasks by running ""ec2-describe-conversion-tasks"":  http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeConversionTasks.html"
Amazon EC2	"IAM Role support in cloud-init for EC2 instance launches
This may be my own ignorance by I'm having trouble getting cloud-init to pick up an S3 include URL using an IAM Role (instance profile). 
Ideally I could do the following:
#include
s3://bucket/config/cloud-init.yaml
The role would have access to the bucket and this would save a fair bit of hassle on my side.. 

At the commandline 
aws s3 cp s3://bucket/config/cloud-init.yaml . 
works great so I don't think it's a config error. 
This is using the Amazon linux AMI (I assumed the cloud-init package might be patched for amazon)."
Amazon EC2	"Another SSH timeout thread
First I should start by saying I have never successfully connected to an Amazon EC2 instance. With triple verbose on I get no output. I ran a traceroute and it never connects to the target IP and not sure where to go with this. I manage several DigitalOcean ""Droplets"", IBM Bluemix and dedicated servers without issue from this same computer and connection. Does anyone know why I cannot connect to an Amazon instance? I have tried several Security Groups, IAM accounts etc... nothing is working for me.

Here is my traceroute output
$traceroute -p 22 52.7.57.223
 
traceroute to 52.7.57.223 (52.7.57.223), 30 hops max, 60 byte packets
 1  router.asus.com (192.168.1.1)  1.625 ms  2.245 ms  2.354 ms
 2  c-24-5-168-1.hsd1.ca.comcast.net (24.5.168.1)  10.939 ms  16.585 ms  17.567 ms
 3  te-7-3-sr01.fremontcev2.ca.sfba.comcast.net (68.87.197.241)  17.884 ms  17.967 ms  18.070 ms
 4  te-0-7-0-12-sur03.fremont.ca.sfba.comcast.net (68.87.192.25)  18.369 ms  18.344 ms  18.332 ms
 5  be-216-ar01.santaclara.ca.sfba.comcast.net (162.151.78.197)  18.991 ms  19.679 ms  20.277 ms
 6  * * *
 7  be-10915-cr02.losangeles.ca.ibone.comcast.net (68.86.86.98)  28.824 ms  27.742 ms  22.942 ms
 8  be-11315-cr01.dallas.tx.ibone.comcast.net (68.86.85.141)  57.021 ms  54.651 ms  52.126 ms
 9  be-14-pe02.1950stemmons.tx.ibone.comcast.net (68.86.83.110)  59.744 ms  59.064 ms  59.724 ms
10  50.242.148.110 (50.242.148.110)  58.106 ms 50.242.148.102 (50.242.148.102)  77.591 ms 50.242.148.106 (50.242.148.106)  57.337 ms
11  54.240.229.98 (54.240.229.98)  92.256 ms 54.240.229.96 (54.240.229.96)  87.818 ms 54.240.229.104 (54.240.229.104)  88.669 ms
12  54.240.229.16 (54.240.229.16)  86.972 ms 54.240.228.254 (54.240.228.254)  94.637 ms 54.240.229.6 (54.240.229.6)  95.636 ms
13  54.240.229.168 (54.240.229.168)  92.609 ms 54.240.229.162 (54.240.229.162)  90.304 ms 54.240.229.170 (54.240.229.170)  89.059 ms
14  54.240.228.161 (54.240.228.161)  84.860 ms 54.240.229.127 (54.240.229.127)  89.693 ms 54.240.228.175 (54.240.228.175)  88.715 ms
15  72.21.220.110 (72.21.220.110)  91.373 ms * 72.21.220.20 (72.21.220.20)  87.900 ms
16  72.21.220.61 (72.21.220.61)  89.210 ms * *
17  72.21.220.69 (72.21.220.69)  93.653 ms 72.21.220.37 (72.21.220.37)  92.271 ms 72.21.220.69 (72.21.220.69)  91.116 ms
18  * * *
19  * * *
20  * * *


and here is a video of me failing to some pleasant background music.
https://www.youtube.com/watch?v=VD2MLTA_gVQ

ANy help is very appreciated.

Edited by: Kevin B. Chappell on May 30, 2015 12:21 AM"
Amazon EC2	"Re: Another SSH timeout thread
Hi Kevin,

I've had a look at i-071f68d7, and I can see the problem.

Your route table does not allow traffic to escape your local subnet -- and thus your connection fails because the response never comes back to you.

To fix this, you should add a route to rtb-b7657ad2, allowing traffic to 0.0.0.0/0 and pointing to an Internet Gateway.

Once that is done you should be able to access your instance.

The background music is wonderfully soothing by the way 

Richard"
Amazon EC2	"Re: Another SSH timeout thread
I can't thank you enough Richard! That did the trick.

THANK YOU."
Amazon EC2	"where to get more entropy in many instances
i will be launching many instances from the same AMI.  each needs to generate its own strong crypto key.   is there a good source of additional entropy to seed /dev/random differently in each instance?  the time of launch and instance ID / root volume ID may not be good enough for instances launched in the same region.  i'm thinking that waiting a couple minute for the OS to initialize will get some entropy from network traffic timings behind EBS I/O.

Edited by: skaperen257 on May 27, 2015 4:37 AM"
Amazon EC2	"Re: where to get more entropy in many instances
I'd look at using some of the unique instance information, usec time and /dev/random and feed it into openssl rand."
Amazon EC2	"Re: where to get more entropy in many instances
Hello,

I'm personally rather fond of http://www.random.org/.

Please note that this service is not endorsed by Amazon.

Richard"
Amazon EC2	"Getting the Waiting for meta-data thing.  Please help.
Instance i-a7cba1c0
Microsoft Windows NT 6.1.7601 Service Pack 1 (en-US)

 Ec2Config service v2.1.14.0

  Citrix PV Ethernet Adapter v5.9.960.49119

2015/05/20 14:39:34Z: Waiting for meta-data accessibility...

I've rebooted and still get this message.  We can't set up the elastic IP address.  Our company has no system administrator.  I'm totally unfamiliar with Windows NT.  No one has changed anything on this system.  Our nightly processes completed as usual and shut down.  The first person in this morning started it up, but couldn't do the elastic IP part.  I'm looking into the problem but I don't know what to do.

Help!!!"
Amazon EC2	"Re: Getting the Waiting for meta-data thing.  Please help.
Hello,

I have checked this instance, and it looks to me like it eventually became responsive after about five hours -- I can see an entry in the log for that:

2015/05/29 16:39:23Z: Message: Windows is Ready to use

I can only speculate what was happening here; perhaps some disk checking was in progress?

I'd encourage you to update the version of EC2Config on your instance when you can; the version in place is quite old, and the update has better debugging information:

https://aws.amazon.com/developertools/5562082477397515

I hope this helps!

Richard"
Amazon EC2	"Spot Instance Terminated for bad parameters (legacy record with manifestKe)
Hello,

My spot instance (which has been running for a few weeks) just got terminated with this information:

State: failed
State reason: But there is a marker for a legacy record with manifestKey = null (400 response code)
Status: bad-parameters
Status message: Your Spot request failed due to bad parameters.

What does that mean? This looks like something failed on AWS's part....
Im not happy!"
Amazon EC2	"Re: Spot Instance Terminated for bad parameters (legacy record with manifestKe)
Hello,

Can you give me the instance ID (i-xxxxxxxx) and I'll take a look?

Richard"
Amazon EC2	"Instance Reservation Modification Assistance
I have 3 m1.large partial upfront ec2-classic reservations in us-east-1b that I need to convert to us-east-1a.  The modification is failing.  I am trying to determine if this is a temporary or permanent issue and if the former should I try again in a few days, weeks or will it be months?

Thank you,
Matt"
Amazon EC2	"Re: Instance Reservation Modification Assistance
Hello,

I have checked your account, and as far as I can determine the zone you see as us-east-1a should not be constrained. To that end, I would advise you to contact our Account and Billing support team for assistance with this:

http://aws.amazon.com/support/createCase

Have a great day 

Richard"
Amazon EC2	"Spot Requests ""Pending Evaluation""
Hello. I am using AWS for a series of class projects, and have gotten my instance limits for c3.large and r3.large each raised to 10. 

I have not needed more than two slave nodes (so 3 in total) until now, but I have just tried to get 10 r3.large instances for the first time, and I got a ""max spot instance count exceeded"" error.

I gave up on trying r3.large after a while, and decided to try requesting 10 c3.large instances, but now these seem to have a status of ""pending evaluation,"" and I have not been able to use them.

Has anyone had this issue before, and if so, how can I fix it?









Edit: 

Part of my problem appears to have been resolved, as I now have the instance requests for c3.large fulfilled. 

If someone from AWS could explain what went wrong with the ""max spot instance count exceeded"" for my r3.large requests, I'd be grateful!

Edited by: la7ency on May 25, 2015 8:52 PM"
Amazon EC2	"Re: Spot Requests ""Pending Evaluation""
Hello,

Max Spot means pretty much what it says on the tin; by default, all new AWS accounts have relatively low limits for the number of spot instances allowed. 

You can request a limit increase here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html

I hope this helps.

Richard"
Amazon EC2	"Slow spot request fulfillment
What's the typical spot fulfillment time for a spot request and are there any recommended actions to be done if that is exceeded? 

I have an application that sends out a spot request and cancels it (and uses an on-demand instance) if it is not fulfilled within 5 min. I've noticed that those situations happen quite a bit - what's the reason for those and is there a recommended way of dealing with such slow to fulfill requests? If it's a matter of spot availability, is there any info on availability by instance type/region anywhere that I can use to request for a different type/zone combo that would get filled quicker instead?

Thanks!

Edited by: eyeviewnn on May 26, 2015 9:48 AM"
Amazon EC2	"Re: Slow spot request fulfillment
Hello,

The short answer is that spot instance fulfillment time varies depending on supply and demand at any given time. While many spot requests will be fulfilled quickly (minutes), others will not. Unfortunately it is not possible to reliably predict what will happen with a request until you've made it.

If start time is critical to you then you might be better off using on-demand instances.

Richard"
Amazon EC2	"Connect 2 VPCs present in different AWS regions
Hi,

I have 2 EC2 based HBase clusters present in two different AWS regions. I want to configure cluster replication feature between these 2 HBase clusters. Currently both the HBase clusters are in respective private subnets and can be accessed via tomcat servers present in public subnets (There are 2 VPCs, each VPC contains 1 private subnet for HBase and 1 public subnet for tomcat. So total 4 subnets).

I would like to know if it is possible to connect these 2 HBase clusters with each other? What settings I have to do connect these 2 clusters? I know I will be charged for data transferred across the region, I am fine with it.

Request you to please give a high level overview or steps I have to take to connect these 2 clusters.

Edited by: Chandrashekhar on May 26, 2015 10:22 AM"
Amazon EC2	"Re: Connect 2 VPCs present in different AWS regions
Hello,

Connecting VPCs across regions is not entirely straight forward, I'm afraid, but we do have a guide you can follow that explains how to set this up:

http://aws.amazon.com/articles/5472675506466066

I hope this helps.

Richard"
Amazon EC2	"Joomla Email Not Working Since Migration to AWS and Office365
Hi Guys

I used to use the same provider for email and webspace, but since moving my website to AWS EC2 and email to Office365 the mail functions in my Joomla website has stopped working. Ive tried all the various methods (sendmail,php,snmp).

An example of an error is ""Could not instantiate mail function."". This was when set to PHP Mail.

I've also tried SMTP with the below settings, but i get this error ""Notice SMTP connect() failed""

Ive checked my settings in Office365 to make sure the server, port and security are correct in Joomla, ive also double checked my password. But same error.

My Joomla Mail Server setting are below:

Send Mail Yes
Mailer SMTP
From me@domain.com 
From Name me@domain.com 
Disable Mas Mail Yes
SMTP Auth Yes
SMTP Security TLS
SMTP Port 587
SMTP Username me@domain.com 
SMTP Password mypassword
SMTP Host smtp.office365.com (i have also tried smtp.mydomain.com)

Does anyone know where im going wrong? The Joomla forums suggest there are known issues with this and AWS.  Your help is much appreciated.

Thanks

Thanks!"
Amazon EC2	"Re: Joomla Email Not Working Since Migration to AWS and Office365
I have just spun up a fresh install of Joomla 3 and bitnami ami and it now works again   I have no idea what the issue was.

Edited by: timedout on May 30, 2015 3:53 AM

Edited by: timedout on May 30, 2015 3:54 AM"
Amazon EC2	"Re: Joomla Email Not Working Since Migration to AWS and Office365
Hello,

I'm glad you've managed to solve this. Please ask if you need anything else 

Richard"
Amazon EC2	"Can't ""Launch More Like This"" from Instace imported using command line?
Hi,

After importing an instance from a converted Virtual Box VM I get errors stating I can't use this AMI because its been deregistered or I don't have permission. Strange as I created the instance using my owner credentials and there's only one user on my AWS account.

Is there a better way to import and be able to duplicate instances of a VM? Here's a few details.

./ec2-import-instance -o xyz -w abc -t import-i-ffn02cpl -f VHD ~/Desktop/123.vhd

Ends up with instance and ami : i-fd35a802, ami-d36e8fb8"
Amazon EC2	"Re: Can't ""Launch More Like This"" from Instace imported using command line?
Hello,

I think what you'd need to do in this case would be to create a new AMI from the instance after it is imported, then launch additional instances from that.

I hope this helps.

Richard"
Amazon EC2	"Error during creation of WorkSpace Value Plus/Standard with Office 2010
Hello AWS Support,

This evening, I was trying to launch workspaces. But both of my attempts failed.

I tried with both the Value Plus with Office 2010 as well as the Standard with Office 2010.

It shows pending status for about 5 to 10 minutes and then gives the message ""Error during creation of WorkSpace""

Can you kindly help resolve this problem as soon as possible. Is there is a known issue ?

-Srinivas"
Amazon EC2	"Re: Error during creation of WorkSpace Value Plus/Standard with Office 2010
Hello AWS Support.

Kindly can you help me on this issue ?

-Srinivas"
Amazon EC2	"Re: Error during creation of WorkSpace Value Plus/Standard with Office 2010
Good Day, 

May you verify the IAM user /role that you are using to launch the Workspace if it has sufficient permission. If you are using an IAM user please attempt to do the launch with the root account in AWS Console. 

Trust you find this helpful. 

Regards

Tawanda"
Amazon EC2	"No SSD is available when changing the instance type
Hi, 
We had an instance m2x2xlarge with few volumes attached to it. Recently I changed the instance type to i2x2xlarge and expecting to have 2 SSDs. However after changing the type, I could not see any SSD in the new instance. All the volumes are attached as before, but the no SSD. 
Checking the disk manager, I couldnt find any information about SSD either. 
The AMI used for creating this instance is Microsoft Windows Server 2012 with SQL Server Standard - ami-e1d82496.
Any one faced similar issue? Did I miss some configuration? 

Best Regards,
Mon"
Amazon EC2	"Re: No SSD is available when changing the instance type
Hi there Mon,

When you change an existing instance type from one to another, the Instance Store volumes are not able to be added. You can only specify the Instance Store volumes at initial launch configuration time.

If you are looking to take advantage of those SSD Instance Store volumes, I would suggest that you capture an AMI of your current instance (which will capture the configuration and all data) and then launch a new instance using the i2x2xlarge instance type and you should be able to use them from there.

Information around capturing a custom AMI for Windows can be found here:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html
You can skip straight to Step 4 and go from there to capture an AMI.

Then when you launch a new instance from that AMI, make sure you firstly select the instance type of i2x2xlarge and then make sure you add the Instance Store SSDs.

Please post back if you have any further problems or questions around this.

Best regards,
Phil P"
Amazon EC2	"Re: No SSD is available when changing the instance type
Thanks for the help, 
Apparently I forgot to set this as answered"
Amazon EC2	"Win 2012 instance keeps going out of sync with UTC by 15 mins
Hi.
I have a production instance of EC2 Win 2012 server which runs a .NET web application. Recently we added a feature which uses files on an S3 instance. This worked fine initially but lately the time on the server (Ec2) goes off by exactly 15 minutes. I reset it manually and some time later it jumps out of sync - by the same amount - again.

This causes our feature not to work and our customers to call with complaints. 
Please let me know what can be done here as we cannot continue to change the time every time a customer calls up that the feature is not working.

Urgent!

Thanks,

nkireland"
Amazon EC2	"Re: Win 2012 instance keeps going out of sync with UTC by 15 mins
Thank you for your forum post. 

I believe your instances are experiencing time drift due to the nature of virtualized environments. 

To mitigate the time drift, I would suggest making sure the Time Service is set up on the Windows instance.

You may need to re-register the windows time service and configure it to sync with the correct time source/NTP servers. Please run the following commands/processes to accomplish the task:

1. Stop the Windows Time service, at a command prompt, ""net stop w32time"", and then press ENTER.

2. Unregister the Windows Time service dynamic-link library (DLL), at a command prompt, ""w32tm /unregister"", and then press ENTER.

3. Register the Windows Time service DLL, at a command prompt, ""w32tm /register"", and then press ENTER.

4. Start the Windows Time service, at the command prompt, ""net start w32time"", and then press ENTER.

5. Configure NTP servers: w32tm /config /manualpeerlist:""0.us.pool.ntp.org 1.us.pool.ntp.org 2.us.pool.ntp.org 3.us.pool.ntp.org"" /syncfromflags:manual /update

6. Please verify that the instance is (or is not) in sync with an NTP source by doing the following: w32tm /monitor /computers:0.us.pool.ntp.org

7. This command will force a sync and cause the time provider to get fresh IP addresses from the underlying DNS source: w32tm /resync /rediscover

8. To confirm that instances was now syncing with the correct sources you can run: w32tm /query /source

The sync does not take a lot of resources, you can create a scheduled task that forces  w32tm /resync /rediscover every say 10minutes for starters because  your drift is after very 28mins or so

Please consider also updating your Amazon Windows EC2Config Service: http://aws.amazon.com/developertools/5562082477397515

I trust you find this information useful, and should you require any further assistance with the above, please do not hesitate to contact me.

Regards
Tawanda

Edited by: TawandaZ@AWS on May 30, 2015 1:59 AM"
Amazon EC2	"Instance reachability failed
I have an instance that is only a couple of days old, it is starting but unreachable. It is a very basic machine, just apache and ftp installed. I'm not sure what could have gone wrong. I've already built another and it is working. I created an image of the new one just in case the same thing happened.

I've tried starting and stopping it, restarting it. Some other posts suggested changing the type then changing it back. None of that worked. I have some data on it I need to get off. I had planned on backing it up but like I said this instance is only a couple of days old.

i-c998ca3f"
Amazon EC2	"Re: Instance reachability failed
Looks like it eventually came back up."
Amazon EC2	"Re: Instance reachability failed
Ok, now I'm seeing the same issue with another instance that I just built. Only thing installed was apache and php. This seems to happen daily. It happened to the instance listed above, so I built the new one, and now it is happening to the new one:

i-e4336a12

Once this happens I can no longer ssh into the instance."
Amazon EC2	"Re: Instance reachability failed
After looking at the server logs I see that I am running out of memory. I will change instances and see if that helps."
Amazon EC2	"Unable to delete network interface
Hi,

I'm trying to detach one of my unused network interface and I get a permission error. 

Error deleting network interface
eni-2837134c: You do not have permission to access the specified resource.

This is a RDS interface. Can someone help me with this?

Thanks."
Amazon EC2	"Re: Unable to delete network interface
Hi,

It would seem that you might not have the correct access to modify the RDS instance.  It might be worth speaking with your administrator/root to have them modify your permissions.

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to delete network interface
I'm the administrator. I'm new to using amazon cloud. Sorry, if I'm missing something. I login to the console using my regular user name and password and I don't remember setting any special privileges for RDS."
Amazon EC2	"macro ec2 instance  report  IO error frequently
ec2 instance frequently report  IO error 

the log display on console as following,.
ip-172-31-29-246 login: Cloud-init v. 0.7.5 finished at Tue, 19 May 2015 08:19:27 +0000. Datasource DataSourceEc2.  Up 325.30 seconds
http://191027.858507 end_request: I/O error, dev xvda, sector 775177
http://191027.861344 end_request: I/O error, dev xvda, sector 3246281
http://191027.862502 end_request: I/O error, dev xvda, sector 3246377
http://191027.862502 end_request: I/O error, dev xvda, sector 3246401
http://191027.862502 end_request: I/O error, dev xvda, sector 3246417
http://191027.862502 end_request: I/O error, dev xvda, sector 3246457
http://191027.862502 end_request: I/O error, dev xvda, sector 3246481
http://191027.862502 end_request: I/O error, dev xvda, sector 3246497
http://191027.862502 end_request: I/O error, dev xvda, sector 3249577
http://191027.862502 end_request: I/O error, dev xvda, sector 3249697
http://191027.862502 EXT4-fs error (device xvda1): __ext4_get_inode_loc:3935: inode #271065: block 1049165: comm kworker/u30:2: unable to read itable block
http://191027.891753 Aborting journal on device xvda1-8."
Amazon EC2	"Re: macro ec2 instance  report  IO error frequently
i run ubuntu 14.04 

the new log  as 

Ubuntu 14.04.1 LTS ip-172-31-29-246 ttyS0

ip-172-31-29-246 login: Cloud-init v. 0.7.5 finished at Thu, 21 May 2015 13:56:43 +0000. Datasource DataSourceEc2.  Up 580.74 seconds
http://54877.755246 end_request: I/O error, dev xvda, sector 5219937
http://54877.758304 end_request: I/O error, dev xvda, sector 13770225
http://54877.759238 end_request: I/O error, dev xvda, sector 608657
http://54877.759238 end_request: I/O error, dev xvda, sector 5219753
http://54877.759238 end_request: I/O error, dev xvda, sector 4488881
http://54877.759238 end_request: I/O error, dev xvda, sector 8048953
http://54877.759238 end_request: I/O error, dev xvda, sector 8048985
http://54877.759238 end_request: I/O error, dev xvda, sector 3246801
http://54877.759238 end_request: I/O error, dev xvda, sector 3246881
http://54877.759238 end_request: I/O error, dev xvda, sector 3246921
http://54877.759238 Aborting journal on device xvda1-8.
http://54877.905301 Buffer I/O error on device xvda1, logical block 557056
http://54877.908214 JBD2: Error -5 detected when updating journal superblock for xvda1-8.
http://54878.265208 Buffer I/O error on device xvda1, logical block 1050567
http://54878.285158 Buffer I/O error on device xvda1, logical block 1050554
http://54878.415222 EXT4-fs error (device xvda1): ext4_wait_block_bitmap:471: comm rs:main Q:Reg: Cannot read block bitmap - block_group = 57, block_bitmap = 1572873
http://54878.515171 Buffer I/O error on device xvda1, logical block 0
http://54878.517866 EXT4-fs error (device xvda1): ext4_discard_preallocations:3954: comm rs:main Q:Reg: Error loading buddy information for 57
http://54878.523611 EXT4-fs (xvda1): previous I/O error to superblock detected
http://54878.605263 Buffer I/O error on device xvda1, logical block 0
http://54878.685174 EXT4-fs error (device xvda1): ext4_wait_block_bitmap:471: comm rs:main Q:Reg: Cannot read block bitmap - block_group = 58, block_bitmap = 1572874
http://54878.692233 EXT4-fs (xvda1): previous I/O error to superblock detected
http://54878.725214 Buffer I/O error on device xvda1, logical block 0
http://54878.728418 EXT4-fs error (device xvda1): ext4_discard_preallocations:3954: comm rs:main Q:Reg: Error loading buddy information for 58
http://54878.734524 EXT4-fs (xvda1): previous I/O error to superblock detected
http://54878.765207 Buffer I/O error on device xvda1, logical block 0
http://54878.805233 EXT4-fs error (device xvda1): ext4_wait_block_bitmap:471: comm rs:main Q:Reg: Cannot read block bitmap - block_group = 40, block_bitmap = 1048584
http://54878.814874 EXT4-fs (xvda1): previous I/O error to superblock detected
http://54878.865263 Buffer I/O error on device xvda1, logical block 0
http://54878.868304 EXT4-fs error (device xvda1): ext4_discard_preallocations:3954: comm rs:main Q:Reg: Error loading buddy information for 40
http://54878.874407 EXT4-fs (xvda1): previous I/O error to superblock detected
http://54878.935243 Buffer I/O error on device xvda1, logical block 0"
Amazon EC2	"Re: macro ec2 instance  report  IO error frequently
Hello,

This might be an issue on the host running your instance. Could you give me the instance ID (i-xxxxxxxx) and I'll investigate?

Thanks!

Richard"
Amazon EC2	"Re: macro ec2 instance  report  IO error frequently
hello,  instance id is  i-77481085

happened again. 

 log as 

Fri May 22 15:50:42 UTC 2015: shutting down for reboot up 35289s.
wait-for-state stop/waiting
http://35381.576682 end_request: I/O error, dev xvda, sector 10510529
http://35381.580456 end_request: I/O error, dev xvda, sector 3250161
http://35381.580662 end_request: I/O error, dev xvda, sector 4300889
http://35381.580662 end_request: I/O error, dev xvda, sector 3246785
http://35381.580662 end_request: I/O error, dev xvda, sector 5227073
http://35381.580662 end_request: I/O error, dev xvda, sector 5221937
http://35381.580662 end_request: I/O error, dev xvda, sector 5221969
http://35381.580662 end_request: I/O error, dev xvda, sector 3249937
http://35381.580662 end_request: I/O error, dev xvda, sector 4552937
http://35381.580662 end_request: I/O error, dev xvda, sector 430737
http://35381.580662 Aborting journal on device xvda1-8.
http://35381.580662 Buffer I/O error on device xvda1, logical block 557056
http://35381.618443 JBD2: Error -5 detected when updating journal superblock for xvda1-8.
http://35381.622183 EXT4-fs error (device xvda1): ext4_find_entry:1309: inode #157129: comm qmgr: reading directory lblock 0
http://35381.896636 Buffer I/O error on device xvda1, logical block 0
http://35381.996652 EXT4-fs error (device xvda1): ext4_wait_block_bitmap:471: comm postgres: Cannot read block bitmap - block_group = 61, block_bitmap = 1572877
http://35382.003699 EXT4-fs (xvda1): previous I/O error to superblock detected
http://35382.036535 EXT4-fs error (device xvda1): ext4_wait_block_bitmap:471: comm python: Cannot read block bitmap - block_group = 57, block_bitmap = 1572873
http://35382.196604 Buffer I/O error on device xvda1, logical block 0
http://35382.199888 EXT4-fs error (device xvda1): ext4_discard_preallocations:3954: comm postgres: Error loading buddy information for 61
http://35382.206341 EXT4-fs (xvda1): previous I/O error to superblock detected
http://35382.256780 Kernel panic - not syncing: Attempted to kill init! exitcode=0x00000007
http://35382.256780 
http://35382.260575 CPU: 0 PID: 1 Comm: init Not tainted 3.13.0-36-generic #63-Ubuntu
http://35382.260575 Hardware name: Xen HVM domU, BIOS 4.2.amazon 05/06/2015
http://35382.260575  ffff88003d5f3480 ffff88003da5bc88 ffffffff8171e569 ffffffff81a4f488
http://35382.260575  ffff88003da5bd00 ffffffff817176e0 ffffffff00000010 ffff88003da5bd10
http://35382.260575  ffff88003da5bcb0 ffffffff81f239e0 0000000000000007 ffff88003dad0398
http://35382.260575 Call Trace:
http://35382.260575 <ffffffff8171e569> dump_stack+0x45/0x56
http://35382.260575 <ffffffff817176e0> panic+0xc8/0x1d7
http://35382.260575 <ffffffff8106a451> do_exit+0xa41/0xa50
http://35382.260575 <ffffffff8106a4df> do_group_exit+0x3f/0xa0
http://35382.260575 <ffffffff8107a150> get_signal_to_deliver+0x1d0/0x6f0
http://35382.260575 <ffffffff81013448> do_signal+0x48/0x960
http://35382.260575 <ffffffff811792e2> ? handle_mm_fault+0x482/0xf00
http://35382.260575 <ffffffff81013dc9> do_notify_resume+0x69/0xb0
http://35382.260575 <ffffffff81726b7c> retint_signal+0x48/0x8c"
Amazon EC2	"Re: macro ec2 instance  report  IO error frequently
Hi,

Looks like it might have been the previous host. I see your instance has been up and running on a new host for the past 3 days, are you still experiencing this issue?

Regards,

Rodney"
Amazon EC2	"EC2 Instance stuck in a ""stopping"" state
Hi,
I have an instance that refuses to shut down cleanly (after it failed status checks).
It's within eu-west-1, with the id of i-c6445f84.

It's status is ""Stopping"" and has been for nearly an hour.

Is there anything I can do to resolve this?

Edited by: RW_JimP on May 29, 2015 10:21 AM"
Amazon EC2	"Re: EC2 Instance stuck in a ""stopping"" state
OK, so it's finally stopped, and has been restarted.
So there's nothing to fix.

Is there anything that can be done at times like that to determine what has happened, and why it's taking a long time?"
Amazon EC2	"Re: EC2 Instance stuck in a ""stopping"" state
Hello RW_JimP,

I'm sorry to see you're having problems with your instance.

The following troubleshooting documentation provides guidance on the steps to take should you experience the problem again. http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

If you have any further specific questions please let me know.

Thanks,
Anthony H."
Amazon EC2	"unable to connect to newly created instance
Hello All,

I just created a new instance using AMI (Amazon Linux AMI 2015.03.0 x86_64 HVM GP2). I cannot ping or ssh to it using the public IP.  I modified the security settings to allow inbound traffic on port 22.

Can anyone suggest a way to debug the problem?

Thanks!

--john"
Amazon EC2	"Re: unable to connect to newly created instance
Hi John,

I'm sorry to see you're having problems connecting to your new instance.

As you've not given the specific error messages and the instance is not running it's very difficult for me to know why you cannot connect to your instance.  The following EC2 Troubleshooting guide is a good place to start when investigating connection errors - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

If you continue to have problems please leave the instance in a running state and update this thread and I will look into it for you.

Thanks,
Anthony H."
Amazon EC2	"Use of IPv6 in EC2 security groups
One year previously, AWS mentioned they may be looking into use of IPv6 as an option in security groups - does anyone know what the status is on this?"
Amazon EC2	"Re: Use of IPv6 in EC2 security groups
Nothings been announced yet, but IPv6 is getting popular enough I am hopeful we will hear something about IPv6 at ReInvent 2015 or 2016."
Amazon EC2	"Re: Use of IPv6 in EC2 security groups
Hi hubbler,

This is a common feature request and something our team is actively looking into. I've added your feedback to the discussion.

Regards,

Rodney"
Amazon EC2	"Trying to Import VMware VM that is already uploaded to S3
Well, like the title says, I'm try to import a VM from S3.  The .ovf, .vmdk, and .mf files are in my S3 bucket.  I've installed both the AWS CLI toos as well as the java tools (ec2-import-instance).

I have tried numerous combinations of command-line incantations but nothing will work.  Searching forum and on-line posts reveals no examples of a sucessful import from existing S3 bucket files.

I can sucessfully do ""ec2-describe-instances"" so I know I have the keys right, etc ...

Does this feature (import from S3) actually work?  Anyone care to share a complete, working command example?

Thanks in advance!

Reiney"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
You can use the command described at http://docs.aws.amazon.com/cli/latest/reference/ec2/import-image.html. The input JSON will look like this:

{
""Description"": ""Description String"",
""DiskContainers"": [
        {
                ""Description"": ""Disk Description"",
                ""UserBucket"":
                        {
                                ""S3Bucket"": ""<bucket name>"",
                                ""S3Key"" : ""<filename>.vmdk""
                        }
        }
        ],
        ""LicenseType"": ""AWS""
}"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
I tried that command via the CLI first thing.  It is/was unclear about whether or not I just specify the .vmdk file and ignore the others (.mf and .ovf).  I'll give it another shot using just the parameters you've mentioned.

Thanks!"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
No Luck ...  I get:  ""_api_call() keywords must be strings""

Trying this:  aws ec2 import-image --cli-input-json file://aws2

Contents of aws2:

{
    ""DryRun"": true, 
    ""Description"": ""XP Import Test"", 
    ""DiskContainers"": [
        {
            ""Description"": ""XP-2 Disk-1"", 
            ""Format"": """", 
            ""Url"": """", 
            ""UserBucket"": {
                ""S3Bucket"": ""http://qs1-test.s3.amazonaws.com"", 
                ""S3Key"": ""WinXP-2-disk1.vmdk""
            }, 
            ""DeviceName"": """", 
            ""SnapshotId"": """"
        }
    ], 
    ""LicenseType"": ""AWS"", 
    ""Hypervisor"": """", 
    ""Architecture"": """", 
    ""Platform"": """", 
    ""ClientData"": {
        ""UploadStart"": null, 
        ""UploadEnd"": null, 
        ""UploadSize"": null, 
        ""Comment"": """"
    }, 
    ""ClientToken"": """", 
    ""RoleName"": """"
}"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
The New Features for VM Import ... announcement says: ""You can use VM Import to create an Amazon Machine Image (AMI) from VMs stored in Amazon S3.""

Does this new ""feature"" exist?  I really need to get this working.  Anyone have any ideas?

Thanks!  

Edited by: reiney62 on May 22, 2015 6:15 PM"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
Runnning into same issue with ec2-import-instance with this command from windows


ec2-import-instance ./vcenter6-disk1.vmdk -f vmdk -t t2.small -a i386 -b s3bucketname -o xxxxxxxxx -w yyyyyyyyyy --region us-west-1 -p Linux

any idea?

my folder vm is ovf file with multiple vmdks"
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
I tried something like that as well with no luck.  I have an .ovf file, a single .vmdk, and a .mf file (manifest, I think).  You would think they (Amazon) would have an example or two since this is a new feature.  My Free-Tier service expires in 5 days and I'm ditching AWS in favor of Rackspace if I can't get this working."
Amazon EC2	"Re: Trying to Import VMware VM that is already uploaded to S3
Anyone?"
Amazon EC2	"cannot connect - ssh connection timed out
instance ID is i-df1ef339
i have the key file
security group allows all traffic
it briefly failed the reachability check but now seems OK
ssh -i <file_name>.pem ubuntu@54.72.68.247
ssh: connect to host 54.72.68.247 port 22: Connection timed out"
Amazon EC2	"Re: cannot connect - ssh connection timed out
Have you setup the correct security groups?

Linux needs port 22 open,  (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html)
windows needs RDP 

Second to that, if you have used VPC, then you need to ensure you have created an internet gateway and assigned it to your subnet.

Edited by: goosennec on May 26, 2015 8:58 PM"
Amazon EC2	"Re: cannot connect - ssh connection timed out
to be sure use the web console
ec2
security groups
select the security group used by that instance
inbound
edit
add rule
under type select ""all traffic""
under source select ""my ip""
save
ping your instance from your client

Edited by: skaperen257 on May 27, 2015 4:54 AM"
Amazon EC2	"Re: cannot connect - ssh connection timed out
Hello, 

I took a look at the instance i-df1ef339, and there is no route to the internet in the instance's route table - rtb-73890416. I did not see an Internet Gateway in your VPC, you may need to create a new one. 

Here are some instructions on how to create an IGW and add a route to the route table:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway


Best Regards,
Jillian L."
Amazon EC2	"Re: cannot connect - ssh connection timed out
thanks, but I have another instance with the same security group and I can connect to that instance on port 22

ive enabled all traffic on this security group"
Amazon EC2	"Re: cannot connect - ssh connection timed out
thanks for your response

there is an internet gateway listed for vpc-469a2a23
internet gateway ID is igw-ac5d8ac9
route table ID is rtb-73890416

also, the security group currently allows all incoming traffic on all ports

Edited by: zombiebovine on May 28, 2015 3:38 PM"
Amazon EC2	"Re: cannot connect - ssh connection timed out
clearly ive botched something up during the setup process, because I have all the things people have suggested

im going to delete everything and try again

thanks for all your help"
Amazon EC2	"How to sell Heavy Utilization Reserved Instance on Marketplace?
It seems that it is now impossible to sell a heavy utilization reserved instance on the marketplace.  Although the AWS console allows creation of a listing, the listing is never shown to any potential buyers because the Purchase Reserved Instance page does not show Heavy Utilization Instances anymore, even when searching for All instance types.

How can a heavy utilization instance be sold now?

P.S. If anyone needs a m3.medium heavy utilization instance in the us-west2a region, I'm willing to give it away for free.  There are 20 months left on the reservation."
Amazon EC2	"Trying to delete EC2 instance , another instance come up - not sure
I am Trying to delete EC2 instance , another instance come up - not sure what service is tied up , always getting another instance popped up , how do i terminate all instances.
Thanks in advance"
Amazon EC2	"Re: Trying to delete EC2 instance , another instance come up - not sure
Do you have an Auto-scaling group set up?  Check that and get rid of it if you don't want instances to be automatically recreated."
Amazon EC2	"Re: Trying to delete EC2 instance , another instance come up - not sure
Thanks much - i did use ECS service - it did set up auto scaling group. Thanks a lot."
Amazon EC2	"Access Windows Machine IP from AWS EC2 instance
I have provisioned a SAP HANA DB on an AWS EC2 server. I can access this instance using an elastic IP. However, I need to set up a data provisioning ETL between Source1 (file/Twitter/etc.) and HANA. For the purpose, I have installed an agent on the windows machine where my file/Twitter will be accessed. The problem is that the IP address of the windows machine is not accessible/reachable from the AWS instance, so the adapter (FileAdapter or TwitterAdapter) is not getting registered on the agent. Is there any way I can make the windows machine IP reachable from the AWS instance. I tried pinging the windows machine IP from the AWS instance and ping fails.

Any suggestions?"
Amazon EC2	"SSL failure when contacting ELB by old clients, started a few hours ago
We've been keeping our ELB in an old SSL configuration (2014-01) in order to support clients that use Java 1.6 to access our APIs. However, today, and suspiciously following the DH change announced last week (https://forums.aws.amazon.com/ann.jspa?annID=3061), our Java 1.6 customers started receiving SSL protocol errors when accessing our ELB

javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair 
... 114 common frames omitted 
Caused by: java.security.InvalidAlgorithmParameterException: Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive) 

Could it be that our ELB's have been updated for us? The configuration still says 2014-01 - can this change be reverted in some way?

Thanks
Ran."
Amazon EC2	"Re: SSL failure when contacting ELB by old clients, started a few hours ago
We managed to work around this be removing DHE encryption from the supported cypher list.
However the implications of removing DHE support are not known yet (could affect other customers who depend on it).
Can you consider making DHE key length a configurable parameter for the ELB, so that 1024-bit key can be used for older clients?

Thanks,
Ran."
Amazon EC2	"EC2 maintenance Reference: d5e9a1c3-dbc0-4308-8811-07d3d6e79038
We received the following email on EC2 maintenance notice to be perform on 26 May 2015 UTC 10:00
..
This message was produced and distributed by Amazon Web Services LLC, 410 Terry Avenue North, Seattle, Washington 98109-5210.

Reference: d5e9a1c3-dbc0-4308-8811-07d3d6e79038
..

However, today we saw the status as follows, 

Event: i-c8c386e0

Availability Zone: ap-southeast-1a
Event type: system-reboot
Event status: Canceled
Description: scheduled reboot
Start time: May 26, 2015 at 6:00:00 PM UTC+8
End time: May 26, 2015 at 6:02:00 PM UTC+8

Event status showed : Canceled, is the maintenance performed? if not, is it postpone? What is the status.
Does anyone receive this maintenance reference? And maintenance is performed as scheduled?

Best Regards,
1nn0m"
Amazon EC2	"Re: EC2 maintenance Reference: d5e9a1c3-dbc0-4308-8811-07d3d6e79038
Hello 1nn0m,

I checked on the maintenance event status for your instance (i-c8c386e0). I see the event was canceled as there was no need to reboot the underlying host to complete the operation. At this time there is no further maintenance events scheduled for your instance.

Cheers,

Rodney"
Amazon EC2	"How to host my software either on Ec2 or AMI, what's the diff?
Hello all,

Here is my goal:
1. I would like to host my software either on an EC2 instance or AMI.
2. A customer who has interest in my software will just attach my EC2 volume to their current or newly created EC2 instance.
3. Once either a volume/ec2 instance/ami is attached and upon boot, I think it boots when this happens.  But if it boots, I want to add user data, I think User data is the area I do this.  This as in: I want my software to install via typical gz | tar bash script and start an agent for my software.

My questions:
Do I use Ec2 instance for this need?
Do I use an AMI for this need?

I have created a bash script for a user to get our software, coupled with installing and starting the agent.  All that works.  Even from on-premise.
But
We don't want users having a pem key to make this work.  
So I am thinking using a volume as in AMI or EC2 instance to host my software and users just attach this instance/ami or volume and upon attaching, a start-up bash script will run.

So at the end of the day:
The customer will have my software installed and the agent running for -their- ec2 instance, and my running software does reflect on THEIR ec2 instance.  Reflect as in, my software is utilizing resources on their ec2 instance to process.

Am I over thinking this?
Am I even on the right track?

I created an AMI from my current EC2 instance that currently hosts my software.  Am I on the right track with this? 
NOTE: While doing this, I noticed I can attach a SNAP and I do see my AMI snap that I mention above.  
If this is correct, all I have to give is my customer is the SNAP id and the customer will attach to their EC2 or create as new one, but use my snap id?

Yes folks, i am reading all the help pages, its just getting/understanding the buzz words. My apologies ahead of time for the trivial questions.

Thanks,
-chris"
Amazon EC2	"Re: How to host my software either on Ec2 or AMI, what's the diff?
An AMI is instantiated into an instance. You can't launch an instance without an AMI.  If you make your AMI available to others, when they run it in their AWS accounts they will pay the AWS bills.  There's no way for you to have an instance in your account that is individually billed to another account.

If you host the software yourself then the bill-back for the usage / AWS is up to you."
Amazon EC2	"Unable to launch instances into AZ b in US-East
Cross-posting from the ruby forum per Amazon's suggestion:

I'm getting this exception trying to launch an instance into us-east-1b:

/Users/carlcliver/.rvm/gems/ruby-2.2.0/gems/aws-sdk-core-2.0.44/lib/seahorse/client/plugins/raise_response_errors.rb:15:in `call': The requested Availability Zone is currently constrained and we are no longer accepting new customer requests for t1/m1/c1/m2/m3 instance types. Please retry your request by not specifying an Availability Zone or choosing us-east-1a, us-east-1c, us-east-1d. (Aws::EC2::Errors::Unsupported)


yet running this code:
ec2.describe_availability_zones.availability_zones.each do |zone|
  pp zone
end


returns
#<struct
 zone_name=""us-east-1a"",
 state=""available"",
 region_name=""us-east-1"",
 messages=[]>
#<struct
 zone_name=""us-east-1b"",
 state=""available"",
 region_name=""us-east-1"",
 messages=[]>
#<struct
 zone_name=""us-east-1c"",
 state=""available"",
 region_name=""us-east-1"",
 messages=[]>
#<struct
 zone_name=""us-east-1d"",
 state=""available"",
 region_name=""us-east-1"",
 messages=[]>
#<struct
 zone_name=""us-east-1e"",
 state=""available"",
 region_name=""us-east-1"",
 messages=[]>


Which appears to indicate that there are no issues in any AZ. I expected I'd see something in the messages field or at the very least something along the lines of a ""degraded"" zone state. How can I determine that a zone is unable to accept certain instance types (without blindly trying to launch an instance and catching the exception)? If I don't provide an availability zone the API seems to launch every instance into zone A which is not what I want. I'd like the instances to be launched across all zones."
Amazon EC2	"Can't connect to ec2 instance on port 80
Hi there,

I'm new to AWS, I've created an instance (id: i-55274189) and created a security group with ssh and http on ip 0.0.0.0/0.

I can ssh fine but cant hit the ip on the browser 

If I run ""netstat -tap | grep LISTEN"" on the server I get the following result
https://gist.github.com/lucabernardino/c89b4a2fb1f7429c4625

Clearly http is not there, what am I doing wrong?"
Amazon EC2	"Re: Can't connect to ec2 instance on port 80
Do you have a service installed that should be listening on port 80? Like nginx?"
Amazon EC2	"EC2 hosted website is extremely slow
My website takes long to load. I check the monitor and I did not notice anything."
Amazon EC2	"Re: EC2 hosted website is extremely slow
Hi,

Are you able to add additional information to this to allow people to assist, for example.

Where is the instance located?
Where are you trying to access it from?
Has it always been slow?
Is this something that has just happened?
What information does Cloudwatch show?
What do you perceive to be 'slow'?
What instance size are you using?

Cheers

Stooby..."
Amazon EC2	"Re: EC2 hosted website is extremely slow
Hello,

Thanks for posting. You didn't provide an instance id but I was only able to locate one instance under your account, i-d4c0347d. If this is the incorrect instance can you please provide the instance id?

Looking at the metrics I have available I don't see any issues as far as resources are concerned. CPU, Networking and EBS usage are all low. As Stooby33 has pointed out, having some information as to what you are are exactly seeing would be helpful. What exactly are you seeing? What tests have you ran to demonstrate this? What applications are you running? Before anyone can offer suggestions they will need further information as to the nature of the issue and your environment.

Regards,
Brandon"
Amazon EC2	"Re: EC2 hosted website is extremely slow
Sorry for the limited information.... I hope the below information can provide insights into my problem:

Where is the instance located?

US East (N. Virginia)


Where are you trying to access it from?

Toronto, Canada


Has it always been slow?

Yes, it has been slow


Is this something that has just happened?

No, always has been slow


What information does Cloudwatch show?

CloudWatch shows that everything is ok, as Brandon mentioned


What do you perceive to be 'slow'?

Slow, as in the site takes a few minutes to load. At times, it will crash as it try's to load on my browser. After a couple of refresh, it eventually loads. You can access my site at http://swiftwareadvisory.com/


What instance size are you using?
Not sure if this is what you are asking, but I am using isntance type t2.micro.
Instance ID is i-d4c0347d (as Brandon mentioned)

Types of Test?
I am just trying to access my site on my browser (chrome and firefox). It usually says 'waiting for swiftadvisory.com..' and then crashes. I have to wait between 5 - 10 mins (with a couple of refresh) for the site to load.

Edited by: aaronthev on May 28, 2015 4:58 PM"
Amazon EC2	"Re: EC2 hosted website is extremely slow
Hi,

I just tried accessing the website through Firefox and its lightening fast? Are you still having issues with this? - I am accessing it from the UK.

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 hosted website is extremely slow
Its been fixed now. My web developer said there was a big gap between the dns lookup and initial connection.

Thanks again everyone."
Amazon EC2	"Unable to reach instance after creating instance
My production instance is unreachable after i tried to create an image from it. How can i get it back up?

The instance is set to ""running""."
Amazon EC2	"Re: Unable to reach instance after creating instance
Did you have a EIP? Has the public IP address changed?"
Amazon EC2	"Re: Unable to reach instance after creating instance
Same IP."
Amazon EC2	"Re: Unable to reach instance after creating instance
Any error messages in the boot syslog? If not, I think the next stop will be creating a new instance and attaching the root volume to it and check the /var/log messages."
Amazon EC2	"Re: Unable to reach instance after creating instance
I get this message from the System log:

2015/05/28 10:21:24Z: Message: Waiting for meta-data accessibility..."
Amazon EC2	"Re: Unable to reach instance after creating instance
Just done a quick search and found Re: why getting this Waiting for meta-data accessibility...??"
Amazon EC2	"Re: Unable to reach instance after creating instance
Thanks for the reference. Im using EC2 classic though.

I have tried launching multiple instance from the same image, but without any luck yet. Nothing seems to be working. Not even attaching root volume to another instance."
Amazon EC2	"Re: Unable to reach instance after creating instance
If this is linux, create a new instance from one of the standard images. Mount the root filing system from your image and check the /var/log folder for error messages."
Amazon EC2	"Re: Unable to reach instance after creating instance
This is a windows instance."
Amazon EC2	"Re: Unable to reach instance after creating instance
Sorry to say that I only have Linux instances. Hope a Windows guru drives by soon."
Amazon EC2	"Re: Unable to reach instance after creating instance
Thanks for the help though. 

I am absolutely horrified that this can happen. Right now, i have lost everything in production. Hopefully i will be able to access the instance or get some backup working from amazon."
Amazon EC2	"Re: Unable to reach instance after creating instance
Hello,

I'd like to help you with this.

Can you give me the instance ID (i-xxxxxxxx) please?

Also, can you tell me exactly what steps you followed that led to the instance becoming unresponsive?

Thanks,
Richard"
Amazon EC2	"Missing Ephemeral Storage
Hi there,

We have been having a frequent problem with m3.xlarge instances where they are provisioned with no ephemeral storage:

$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      9.8G  2.2G  7.2G  23% / 
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            7.4G   12K  7.4G   1% /dev
tmpfs           1.5G  188K  1.5G   1% /run
none            5.0M     0  5.0M   0% /run/lock
none            7.4G     0  7.4G   0% /run/shm
none            100M     0  100M   0% /run/user


This is causing our Chef recipes to fail during provisioning because the entire /mnt volume is missing.

This has been happening sporadically for several weeks now, and is wasting time and money for us.

An example instance is i-8f7e3463 in us-east-1.

Any help with his would be appreciated.

Andrew"
Amazon EC2	"Re: Missing Ephemeral Storage
UPDATE:  The issue seems to be related to the instance type.  Switching from m3 to c3 seems to help as a temporary fix."
Amazon EC2	"Re: Missing Ephemeral Storage
Hi Andrew,

i-8f7e3463 is showing in my tools as having had an instance storage volume on /dev/sdb.

Might it just be that you need to adjust your fstab to account for the presence of this volume?

Richard"
Amazon EC2	"Re: Missing Ephemeral Storage
Hi there,

Unfortunately, the instance is gone now, so I can't check.  However, we've never previously had to make any fstab adjustments for this ephemeral volume to show up.

Why would the volume sometimes be listed, and sometimes not?

Thanks"
Amazon EC2	"Re: Missing Ephemeral Storage
Hello, 

From our documentation please see the following excerpt:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html#bdm-instance-metadata

 Depending on instance store capacity at launch time, M3 instances may ignore AMI instance store block device mappings at launch unless they are specified at launch. You should specify instance store block device mappings at launch time, even if the AMI you are launching has the instance store volumes mapped in the AMI, to ensure that the instance store volumes are available when the instance launches.  

This is why you see the different behavior with the C3 instance type, and why if you want to ensure availability of ephemeral storage with the M3 instance type you'll have to update fstab to mount these volumes for you on launch.

Regards,
Nick"
Amazon EC2	"Re: Missing Ephemeral Storage
Wow, thanks for this.  I had no idea m3 instances could behave this way.  What a strange ""feature""."
Amazon EC2	"Re: Missing Ephemeral Storage
This is a very convoluted way of doing things. I've been using Tomcat .ebextensions/xxx.config to set up swap storage on the ephemeral drive on my m3.large instance for a while, but now it appears there are no ephemeral drives available to the m3.xlarge instances.

Could you explain how one might use the .ebextensions/xxx.config command file to modify fstab and make those drives available? I really don't understand why you can't just have them visible to the instance without forcing us to mess about with config files inside WAR archives that modify fstab. It doesn't help that getting the blockdevicemapping entry wrong terminates the environment.

(edit)
Eventually I switched to a single r3.xlarge without swap, rather than a few m3.large instances. Side-effect: everything is faster. Still disappointed about the swap configuration issue -- it should not be that difficult to use the ephemeral drives you've paid for.

Edited by: msparko on May 29, 2015 5:48 AM

Edited by: msparko on May 29, 2015 5:50 AM"
Amazon EC2	"How Availability Zones behave under High demand situation?
Hello All,

I have a stuation, in Singapore region AWS has only two AZ, *-1a,*-1b
Now , say i have my application load balanced with both AZ.
Lets say AZ 1a has max capacity to handle n million EC2 instance and same is with 1b.

Now if AZ 1a goes completely down , then all the Application Load(all deployed application) will directed with AZ 1b, and there might be a chance that AZ 1b face a ovelaoded capacity situation.

I such a case how is AWS going to handle my Auto scaling configuration,(How will AWS ensure my application availibilty, if they dont have any capacity of create more insatnces in that region). ?

Thanks,
Devi"
Amazon EC2	"Re: How Availability Zones behave under High demand situation?
Hi Devi,

If an availability zone becomes available it is true that a lot of auto scaling groups will launch instances in the surviving availability zone.

However, it is important to remember that only some AWS instances are part of an auto scaling group, and thus you can assume that only a percentage of the instances in zone A will attempt to launch in zone B.

In practice this means that applications that use auto scaling should generally be able to scale up, at least to a point; they might not be able to launch 100% of their usual instances (as we do not have infinite capacity) but they should be able to expand somewhat.

You can mitigate this potential risk by not allowing your instances to run too hot -- that is, scale up when they are at 60-70% of their maximum load (rather than 80-90%), as in that scenario you will have more instances available to take the load in the event of a failure.

I hope this helps.

Richard"
Amazon EC2	"Re: How Availability Zones behave under High demand situation?
Thanks a lot Richard for explanation. This helps.

Thanks,
Devi"
Amazon EC2	"spot bid fails depsite higher max placed, in Singapore
I'm trying to launch 10 g2.8xlarge in Singapore, with a max price above the current pricing.  The price chart shows an increase after I place my bid, but is still lower than my max.  All instances are unfulfilled, 2 with capacity-oversubscribed and 8 with launch-group-constraint.  This is working in other regions.

Any idea why it would fail only in singapore, what's going on, and/or how to get around it?

Thanks in advance!"
Amazon EC2	"Re: spot bid fails depsite higher max placed, in Singapore
Hello,

We have very limited availability for spot instances on the g2.8xlarge type in Singapore at present. That said, can you give me the Spot Instance requests (sir-xxxxxxxx) and I'll check out exactly what's going on?

Richard"
Amazon EC2	"Status Checks: 1/2 checks passed. No SSH connection with EC2 instance
Hello, 

I realized that I can't access to my EC2 instance this morning with SSH. (I am using same putty settings like I did in the last 3 months, so it not a key or security group issue) 

Instance settings -> get system log returns a black blank window.

So, I don't know where to start troubleshooting the issue.  Instance id is: i-147992be 

Thank you,"
Amazon EC2	"Re: Status Checks: 1/2 checks passed. No SSH connection with EC2 instance
Hi,

Typically if an instance doesnt pass both the status checks its always best to stop the instance and restart.  Please be aware that if you are using isntance backed storage instead of EBS then you will lose any data on the ephemeral storage when performing this step - So always good to take a snapshot first if this is the case as a backup.  If you are using EBS then there is no issues with this.

By stopping the instance and restarting there is a good chance that the instance will spin up on another physical piece of hardware.  Status Checks are usually relating to underlying hardware issues so this is always a good first step to take.

Cheers,

Stooby..."
Amazon EC2	"Re: Status Checks: 1/2 checks passed. No SSH connection with EC2 instance
Stop - start solved my issue. Thank you."
Amazon EC2	"Re: Status Checks: 1/2 checks passed. No SSH connection with EC2 instance
No problem at all, I am glad you're back up and running! 

Cheers,

Stooby..."
Amazon EC2	"Can't SSH to Singapore EC2 instance
Hi guys,

I just created EC2 instance in Singapore region. However I still cannot SSH to the instance. I have been using Amazon instance for few years now and followed the same security rules. Only region is changed for this particular case. Appreciate your help.
Instance ID - i-797235b5

Thanks"
Amazon EC2	"Re: Can't SSH to Singapore EC2 instance
Hello,

It looks like you're using a non-default VPC for instance i-797235b5. This VPC (vpc-c128e2a4) does not have an internet gateway associated with it. The following documentation should help you set it up: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

I hope this helps!

Kind regards,
Chris"
Amazon EC2	"Re: Can't SSH to Singapore EC2 instance
Hi,

I can see internet gateway is associated with that VPC. Anyway I created new instance with different VPC, still issue persists. Instance name = i-8786c14b.
Can you please help on this? I just need a reachable set up with same configuration. VPC configurations are not required for me.

Thanks"
Amazon EC2	"Re: Can't SSH to Singapore EC2 instance
Hello,

You need to manually add the internet gateway to your route table. A default VPC has subnets/route tables/internet gateways etc configured automatically whereas custom VPCs (like the ones you are using) need to be manually configured. 

Your account does not have a default VPC in the Singapore region as it supports both EC2-Classic and VPC. We can create one for you if you have no EC2-Classic resources in this Region. However, once this is done you will no longer be able to launch resources within EC2-Classic in the Singapore region. If you're interested, let us know.

See the following docs for more information: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/default-vpc.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-supported-platforms.html
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

Kind regards,
Chris"
Amazon EC2	"Issue spinning up new ec2 instances in us-west-1b
My autoscaling group was spinning up new instances but any that were started in us-west-1b ultimately were terminated due to failing health checks. 

We eventually got the idea to pin them to us-west-1a and that resolved it. 

Any issues that you know of?"
Amazon EC2	"Re: Issue spinning up new ec2 instances in us-west-1b
Can you please provide one of the failed instance IDs? What type of instance were you trying to launch?

Kind regards
Tony"
Amazon EC2	"Re: Issue spinning up new ec2 instances in us-west-1b
Sorry for the late response. I was out of town on vacation.

Sure,
One Instance ID was:  i-3effa960 
It was an m3.xlarge.

The reason it was killed was due to :
Terminating EC2 instance: i-3effa960
Cause:CauseAt 2014-09-14T13:02:21Z an instance was taken out of service in response to a ELB system health check failure.

This health check is related to it being able to reach our mongodb instance. So not sure if it was some kind of network partition or what.

All I know is once we prevented the us-west-1b AZ and only allowed 1a it worked.

Thanks!"
Amazon EC2	"Re: Issue spinning up new ec2 instances in us-west-1b
Hi Tony, 
Any updates? 
Thanks, 
mike"
Amazon EC2	"Re: Issue spinning up new ec2 instances in us-west-1b
Hi,

I see the same issue happening on my account:

Successful Terminating EC2 instance: i-fe569554 2015 May 27 17:05:49 UTC+3	2015 May 27 17:06:46 UTC+3
Description:DescriptionTerminating EC2 instance: i-fe569554
Cause:CauseAt 2015-05-27T14:05:49Z an instance was taken out of service in response to a ELB system health check failure.

Do you have an explanation why is this happening?
Flavius

ps. btw I'm using eu-west-1b zone

Edited by: Mediastreamtech on May 27, 2015 8:29 AM"
Amazon EC2	"Re: Issue spinning up new ec2 instances in us-west-1b
Hi Flavius,

Can you check that these instances are able to boot up completely (with all required services) within the gracetime period (currently set to 300 seconds)? Also, is there a service on the instance that is listening on the port you have specified for the TCP health check? You can run the following command on the instance to check:

 netstat –ant 


Additional troubleshooting steps can be found here: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-healthcheck.html

I hope this helps!

Kind regards,
Chris"
Amazon EC2	"How to snapshot/create image for ""Instance Store"" storage type - c3.large?
My Boss asked me to create new instance by using c3.large (ubuntu) for webserver. 
I have created Instance and found 2 SSDs (Instance Store1 & Instance Store2). I am looking for idea how to backup data on them.
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      7.8G  1.4G  6.0G  19% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            1.9G   12K  1.9G   1% /dev
tmpfs           377M  352K  377M   1% /run
none            5.0M     0  5.0M   0% /run/lock
none            1.9G     0  1.9G   0% /run/shm
none            100M     0  100M   0% /run/user
/dev/xvdb        15G  1.6G   13G  11% /var/www/public
/dev/xvdc        15G 1000M   14G   7% /data

SSD Disks: /dev/xvdb  and /dev/xvdc

I have not seen how to snapshot it (SSD:Instance Store) .
Tested, but unable to create image for it (SSD:Instance Store) .

So, How to snapshot/create image for ""Instance Store"" storage type - c3.large?

Do you have link/doc about it?

Thank You,"
Amazon EC2	"Re: How to snapshot/create image for ""Instance Store"" storage type - c3.large?
Hello,

Instance Store volumes are fundamentally different from EBS backed volumes since they are directly attached to your instance rather than separate from your instance. EBS volumes are able to be snapshotted because they are independent of your EC2 instance. Instance Store volumes would need to be copied to an EBS volume using rsync or DD in order to be snapshot. You can also back up data you store in Instance Store volumes to S3 manually.

This Stack Overflow thread goes over the caveats of using Instance Store and backing it up thoroughly: http://stackoverflow.com/questions/10749099/how-to-take-backup-of-aws-ec2-instance-ephemeral-storage"
Amazon EC2	"Re: How to snapshot/create image for ""Instance Store"" storage type - c3.large?
Thank You so much for your information. It's very helpful for me.

One question for Instance Store volumes.
Can I store mysql data on Instance Store volumes?  Anything I should concern? disk failed or etc."
Amazon EC2	"Re: How to snapshot/create image for ""Instance Store"" storage type - c3.large?
After found out more information, we can store mysql in Instance Store.
but we should not do ... 
we should have backup solution...."
Amazon EC2	"Instance unreachable all of a sudden
My instance became unreachable today around 12pm pst. I've tried restarting a few times but I can't ssh into it.  I know my security group is set up correctly.

Any help is appreciated."
Amazon EC2	"Re: Instance unreachable all of a sudden
Hello tracerstevens1,

I'm sorry to see you're having problems with your instance i-1d336717.

In order for me to look into this for you the instance will need to be in a running state - can you please start it and reply to this thread and I will look into it for you.  Can you also please let me know what error message you get when you attempt to SSH into the instance.

Thank you,
Anthony H."
Amazon EC2	"""Unable to execute HTTP request: peer not authenticated"" error in Console
Hi all,

I meet some issues when using AWS Console for ELB.

1) When I am using AWS Console to browse the existing ELB, I get the error ""Unable to execute HTTP request: peer not authenticated"".

2) When I create a new ELB (port 80 to 80 ELB) and I add a new instance, the instance is always out-of-services (message: Instance has not passed the configured HealthyThreshold number of health checks consecutively).

3) After the 2) issue, I try to create another ELB, but failed. The message said ""Failed to create load balancer Failed to create load balancer: Unable to execute HTTP request: peer not authenticated""

4) I try to check the existing ELB list and found I couldn't see it. The AWS console just show ""An error occurred fetching load balancer data: Unable to execute HTTP request: peer not authenticated"". However the existing ELB is working fine, just cannot see it.

Could anyone help on this issue? Not so sure what happen and how to fix it. I am only using the AWS Console. Not doing anything but just creating an ELB.

Thanks.
Wang

Edited by: EDYYWANG on May 28, 2015 1:12 AM

Edited by: EDYYWANG on May 28, 2015 7:16 PM"
Amazon EC2	"Re: ""Unable to execute HTTP request: peer not authenticated"" error in Console
Found EC2 setting issues"
Amazon EC2	"Too many elastic ip allocated?? What the heck?
I have 14 instance and 11 elastic ip's

I tried to allocate another ip and got the following message:

An error occurred while attempting to allocate the IP address
Too many addresses allocated

What's this all about?"
Amazon EC2	"Re: Too many elastic ip allocated?? What the heck?
Hello stratusnine,

This error is happening because of a limit in the number of Elastic IP addresses per account per region.  I have therefore raised your the limit of Elastic IP Addresses for your account in us-east-1 for VPC and EC2-Classic to 20.

Please let me know if you continue to have problems.

Regards,
Anthony H."
Amazon EC2	"Instance reachability check failed
Hi all
I am running a website using AWS EC2 (t2.mirco) and the instance has been unreachable for the past 2 hours. I've tried to reboot it but its still not back. The status says 1/2 checks passed and I my company's webpage has been offline for too long.

I am a newbie so would be grateful for your help, Should I just wait for this to resolve? Or should I take some additional steps?

I exported the system log:

http://10310641.029090 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://10310641.035370 INFO: task sendmail-mta:7237 blocked for more than 120 seconds.
http://10310641.040259       Not tainted 3.13.0-36-generic #63-Ubuntu
http://10310641.044200 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://10312502.097691 Out of memory: Kill process 18841 (apache2) score 23 or sacrifice child
http://10312502.103429 Killed process 18841 (apache2) total-vm:400092kB, anon-rss:13548kB, file-rss:9284kB
http://10316435.403315 Out of memory: Kill process 25666 (rsyslogd) score 15 or sacrifice child
http://10316435.408392 Killed process 25666 (rsyslogd) total-vm:260272kB, anon-rss:15380kB, file-rss:0kB
http://10316435.460878 Out of memory: Kill process 25668 (in:imuxsock) score 15 or sacrifice child
http://10316435.465841 Killed process 25668 (in:imuxsock) total-vm:260272kB, anon-rss:15412kB, file-rss:0kB
http://10316993.766092 end_request: I/O error, dev xvda, sector 8408513
http://10316993.769868 end_request: I/O error, dev xvda, sector 8408569
http://10316993.770085 end_request: I/O error, dev xvda, sector 8424129
http://10316993.770085 end_request: I/O error, dev xvda, sector 8424265
http://10316993.770085 end_request: I/O error, dev xvda, sector 8674345
http://10316993.770085 end_request: I/O error, dev xvda, sector 8674377
http://10316993.770085 end_request: I/O error, dev xvda, sector 8674425
http://10316993.770085 end_request: I/O error, dev xvda, sector 8674441
http://10316993.770085 end_request: I/O error, dev xvda, sector 8674529
http://10316993.770085 end_request: I/O error, dev xvda, sector 8681833
http://10316993.801945 EXT4-fs error (device xvda1): __ext4_get_inode_loc:3935: inode #269433: block 1049063: comm apache2: unable to read itable block
http://10316993.809258 EXT4-fs error (device xvda1): __ext4_get_inode_loc:3935: inode #300818: block 1051025: comm apache2: unable to read itable block"
Amazon EC2	"Re: Instance reachability check failed
Hello Rishi Dhaliwal,

I'm sorry to see you're having problems with your instance i-ccf74228.

This problem appears to have been caused by Apache running out of memory.  Have you tried rebooting your instance as per the following guide? http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-reboot.html

T2.micro instances have only 1 GiB of memory and if you do not re-size your instance this is likely to happen again.  Information on re=-sizing instance can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Please let me know if you need further assistance.

Kind Regards,
Anthony H."
Amazon EC2	"Instance status check is 1/2, strange messages in system log
Hi,

I am trying to  start EC2 instance but time to time I have the following issue during instance startup.

Instance seems to have issue during reboot (I am rebooting the instance after applying patches to Amazon Linux): my instance gets stuck and does not respond to ssh/ping/etc.

Here's what I can see after I do ""Get system log"":

http://i.imgur.com/NzBhfzu.png
http://i.imgur.com/fuhDegR.png

Instance: m3.medium
AMI: amzn-ami-pv-2015.03.0.x86_64-ebs (ami-bf0897c8)
Virtualization: paravirtual
Kernel: aki-52a34525

Instance ID: i-31aa49d7 
(it's running now so that Amazon guys can have a look)

I can do ""Stop""-""Start"" for the instance (in Amazon WEB GUI) to bring it back to live.

Please have a look, this issue is fully reproducible.

Regards,
Sergey"
Amazon EC2	"Re: Instance status check is 1/2, strange messages in system log
Please have a look!"
Amazon EC2	"Re: Instance status check is 1/2, strange messages in system log
Hello jb-sergeye,

I'm sorry to see you're having problems with your instance.

Before starting any kind of upgrade work I always recommend taking a snapshot. Then, in situations like this, you can quite easily create a new volume from the snapshot an replace the original and be back up and running quickly. More information about snapshots can be found below.
Taking snapshots: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html
Restoring from a snapshot: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-restoring-volume.html

In the case you don't have a snapshot, the easiest way forward is to create a replacement instance and transfer the files to the new instance. You can do this by...
1. Launch a replacement instance,
2. Stop the failed instance,
3. Detach the EBS volume(s) from it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html),
4. Attach them as secondary volumes to the new instance (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html),
5. Make the volume available for use by mounting it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html),
6. Copy the files to the new instance.
You could try and repair the problem using this method but in situations like this it's probably easier to start again.

If you have any further questions please let me know.

Regards,
Anthony H."
Amazon EC2	"Unable to access Instance after assigning a Default VPC Elastic IP
I have used the ""Allocate New Address"" from the Elastic IP section in the EC2 console.
Then I chose the instance to be associated with. 
A Default VPC has been created automatically, and I see the Public IP in the instance details.
Problem is.. it's not accessible.

In the VPC console: it has 1 VPC, 4 Subnets, a Route Table that has the 4 subnets associated (but not ""explicitly associated""). The Route Table routes to 2 targets: ""Local"" and the Internet Gateway.
The Internet Gateway appears to be ""attached"" and ""available"".

The instance was launched via the AWS Marketplace (Bitnami Magento, Ubuntu), and I notice that the VPC has both the vpc default security group & the security group that was created by the Marketplace.

It's worth mentioning that I was able to access the instance just fine with the Public DNS, before adding the Elastic IP.

What I'm trying to accomplish is to point a GoDaddy domain that was already purchased there, to the Public IP of the instance, so that going to that domain, will access the instance like it did with the Public DNS before.

Thanks for any help!

Update: It seems that I can access the instance's filesystem (via SFTP) from the Public IP and even from the custom Domain name... But not from a browser.

Edited by: sndwav on May 28, 2015 6:25 AM

Edited by: sndwav on May 28, 2015 6:27 AM

Edited by: sndwav on May 28, 2015 6:32 AM"
Amazon EC2	"Re: Unable to access Instance after assigning a Default VPC Elastic IP
So I stopped the instance and started it back up again, and now it's working.

I noticed that the way I connected the custom Domain to AWS isn't the ideal way to do it (although it is working, but the url changes back to amazon's url after entering the custom domain). I probably need to use Route53 somehow... But that's for another topic."
Amazon EC2	"Re: Unable to access Instance after assigning a Default VPC Elastic IP
Hi,

You might want to take a look at the following with regards to Route53:

http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/MigratingDNS.html

Hope this helps,

Glad you managed to resolve your problem!

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to access Instance after assigning a Default VPC Elastic IP
Thanks Stooby.
It turns out that the url change was just a Magento issue (the base url was still using the old amazon url). So all is well now."
Amazon EC2	"Re: Unable to access Instance after assigning a Default VPC Elastic IP
Hello,

Thanks for posting. From what I can see this has been resolved but if there are further questions or concerns please let us know.

Regards,
Brandon"
Amazon EC2	"Free tier windows server, ""up to 30 gigs"", system drive is instantly full!
I'm evaluating EC2 for our company using a free trial.  I created a new instance, and during the wizard the below message appears during storage allocation.

Free tier eligible customers can get up to 30 GB of EBS General Purpose (SSD) or Magnetic storage. Learn more about free usage tier eligibility and usage restrictions.

That's fine and dandy, but when the server came up, the C: drive had 150 megs free.  I couldn't download or install anything.  I created an additional volume but very quickly the c drive was at 0 bytes free and I couldn't do anything anyway. 

What do I do?"
Amazon EC2	"Re: Free tier windows server, ""up to 30 gigs"", system drive is instantly full!
How big is the C: volume, and how big do you want it to be? Have you tried increasing the root volume size when creating the instance?"
Amazon EC2	"Re: Free tier windows server, ""up to 30 gigs"", system drive is instantly full!
I've just spun up an instance for the same reason and its pointless.

The instance volume is at its maximum 'free' size of 30Gb, and already full due to the image having 14.2GB of update backup in the WinSxS folder.  Is this an indication of the quality of drive images?"
Amazon EC2	"Re: Free tier windows server, ""up to 30 gigs"", system drive is instantly full!
@Scott

If you're still looking at this, my solution has been to run the DISM tool and cleanup the packages (something that should have been done to the image).

DISM.exe /online /Cleanup-Image /StartComponentCleanup
DISM.exe /online /Cleanup-Image /SPSuperseded

The process can take many hours (I'm up to 12 and still on the first command) but it will recover the disk space, enough to actually get working."
Amazon EC2	"Microsoft Licensing Clarification
Hello,

I need to get a better understanding of what Microsoft licensing we are required to purchase. I understand that the Windows OS license is included in our monthly fee we pay for each server we have hosted within AWS. Does that license include any CALs for end users that will be accessing the server?

For example if we have a Windows 2012 server in AWS that will be accessed by 10 users using Remote Desktop Services do we need to purchase 10 Windows Server CALs and 10 RDS CALs?

Thanks,

MH"
Amazon EC2	"Re: Microsoft Licensing Clarification
Hello,

Windows OS license is the only thing that is included with Amazon Windows EC2 instance hourly rate. You will need to purchase the CALs separately from Microsoft. 

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Raise VPC Elastic IP Limit
Hello,

Is it possible to have the limit of 5 elastic IPs raised?

We're still building our infrastructure and seem to have hit a limit.

Thanks,

Mike"
Amazon EC2	"Re: Raise VPC Elastic IP Limit
Hello Mike,

Per your request, we have increased the number of Elastic IP addresses for EC2-VPC available to your account in the US EAST (N.Virginia) region. Your new limit in this region is now 20. 

You can view your usage and limits for each service in a specific region in Trusted Advisor:

https://aws.amazon.com/support/trustedadvisor

To view the limits, click performance, then click service limits.

The following link provides the default limits for AWS services for an AWS account:

http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html

Please feel free to contact us again if you need any further assistance.

Have a wonderful day!

Best Regards, 

Ahmed H."
Amazon EC2	"How do I fix this error: IIS 8.5 404.2 ?
Hello everyone,

I'm quite new to AWS and have set up my first EC2 instance. I am trying to run a program for a digital signage panel at our school. In the process I had to partition the C drive and create a D drive (requirement of the software). Once I did that I also installed the necessary .NET Framework files.

Anyway, to cut the long story short I am now facing this error message when I try to launch the signage software - please see the attachment.

The error tells me that the most likely causes are:
•No handler mapping for this request was found. A feature may have to be installed.
•The Web service extension for the requested resource is not enabled on the server.
•The mapping for the extension points to the incorrect location.
•The extension was misspelled in the browser or the Web server.

My inexperience and lack of technical knowledge has left me quite lost as I do not understand what those possible causes mean.

Does anyone know what this issue could be and how I can fix it?

I really appreciate any help from the forum. TIA."
Amazon EC2	"Re: How do I fix this error: IIS 8.5 404.2 ?
Anyone?"
Amazon EC2	"node.js server fails to start
Hi. I have installed node.js (v0.7.9) and tried to start the server, but failed with an error

events.js:65
        throw arguments[1]; // Unhandled 'error' event
                       ^
Error: listen EADDRINUSE
    at errnoException (net.js:766:11)
    at net.js:886:26
    at EventEmitter._tickCallback (node.js:238:9)

the code is very simple

var http = require('http');
var app = http.createServer(function (request, response) {
	response.end(""Hello node.js"");
}).listen(3000);

Is this due to the version of the node.js?  Could anyone guess?"
Amazon EC2	"Re: node.js server fails to start
Anyone have an answer for this?  I'm having the same problem.  I thought it had something to do with opening ports, but I believe I did that within a security group opening a tcp port to allowing incoming traffic on the port I had node listening on.  Any help on this would be much appreciated!"
Amazon EC2	"Re: node.js server fails to start
I finally got nodejs to work on AWS.  

I put in the private IP to run the server on, but then in the browser i put the public IP.  I also made sure to shut down apache, then ran my node.js server on port 80, it was an express nodejs app, so I guess this makes sense."
Amazon EC2	"Allocated machine does not have correct Memory
Hi,

I have selected r3.2xlarge machine, which by the price list should have 61GB ram.

However, in the machine itself there is only 32GB RAM 

Instance ID i-5a198286"
Amazon EC2	"Re: Allocated machine does not have correct Memory
Hi,

I have seen someone else have this issue before, a simple stop and restart of the instance resolved their issue.

Cheers,

Stooby..."
Amazon EC2	"Re: Allocated machine does not have correct Memory
Hello,

Are you still experiencing this issue? Which method are you using to verify the amount of RAM available, ""free -m""?

Kind regards,
Chris"
Amazon EC2	"Re: Allocated machine does not have correct Memory
Actually after doing a restart the issue was solved."
Amazon EC2	"Re: Allocated machine does not have correct Memory
Good to hear."
Amazon EC2	"How to do provisoning using cross credintials
Hi,

we are creating a portal where customer will login and they can able to do provision for EC2.
My account will be payer account .
when customer login to my portal i will display the servers for provisioning.
When customer click select , using API call system will provision the server.

For acheiving this , i need clarity on below points,

1) Which accountID should i use for provisioning? My account id or customer account ID?
2) Do i have to create seperate security group and keypair under customer account and use that for provisoning?
3) do i have to create IAM role for my account and can i sue that Role for provisioning instead of using customer accountID?

Thanks"
Amazon EC2	"Intermittent connection issues
Hi, 

I'm hosting an HAProxy load balancer on an EC2 instance that sits in front of multiple application servers, also hosted on EC2. I've had no downtimes according to both EC2 instance monitors, application and Haproxy logs, yet almost daily there are brief (about 5 minute periods a day) connection issues.

The server serves as an API for a mobile application and multiple users reported that the app lost connection to the server. I have also New Relic availability check set up, which checks a URL periodically. It too reports these connection issues. 

All this said, I was able to connect to every instance both through SSH and HTTP, so there was definitely no downtime, just a connection

Is this an availability zone issue? My instances are in Oregon.

Please advise."
Amazon EC2	"EBS volumes stuck in 'In-use', can't delete
I just discovered that I have two EBS volumes that are stuck in ""in use"" in the US region. I rarely use that region so they've been around for a while...

I can't force detach. When I do this, it tells me that they're ""available"". However, as far as the console is concerned they are ""in use"" and there is no option to delete them.

Volume IDs are: 	
vol-fcba3da5
vol-874af4de

Can any of the ops here poke them for me, perhaps?"
Amazon EC2	"Re: EBS volumes stuck in 'In-use', can't delete
Hello,

I have reached out to our EBS team to look at this issue further for you. Once we have more information we will let you know.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: EBS volumes stuck in 'In-use', can't delete
Hello,

You should now be able to delete these two volumes. Can you please try again? Let us know if you're still experiencing any issues.

Kind regards,
Chris"
Amazon EC2	"Re: EBS volumes stuck in 'In-use', can't delete
Yeah, I managed to delete them this time. Thanks for your help."
Amazon EC2	"Allow for encrypted private keys to decrypt windows password
Please support encrypted private keys to decrypt the Administrator password of Windows instances.
We have a policy that encourages users to encrypt their private key. We tell them currently to generate a separate, unencrypted key for Windows passwords. It's doable but an annoyance."
Amazon EC2	"AWS Volumes not Created on Instance Startup
I am using aws-sdk-go to launch instances. However, I am not able to attach volumes on the newly created instances on startup. I also created an issue here: https://github.com/awslabs/aws-sdk-go/issues/239

If you go through the issue on GitHub repo, you will find that the volumes are not being attached on startup neither by the go SDK, nor by the CLI.

Please, help me to get this right."
Amazon EC2	"t2.micro instance turned into a t1.micro after launching from image
Hello,

First, I've create a snapshot of my instance.
Then I copied the snapshot file from Frankfurt to Ireland. 
Then I created an image from the snapshot.
Then I launched the image.

Now I'm launching a new instance. But I thought that you may want to know this problem.

Then I encountered these two problem;
1- New instance seems as 't1.micro' instance despite being t2.micro originally.
2- Instance status check gives alert 1/2 checks passed (console message is like the below)

If you are having problems with this instance, you can try one of the following options to resolve it:
Reboot this instance.
Modify your operating system configuration.
Terminate this instance and launch a replacement.
Refer to Troubleshooting Instance Status in the EC2 User Guide."
Amazon EC2	"Re: t2.micro instance turned into a t1.micro after launching from image
Hello,

Apologies for the delayed response. I've had a look at your account and it appears that you currently have two healthy t2.micro instances in the eu-west-2 region. Is this issue resolved?

When you launched the instance, did you specify that you wanted a t2.micro instance? I ask this because you can use the same AMI to launch many types of instances.

Kind regards,
Chris"
Amazon EC2	"EBS volume frozen
My EBS volume vol-4f5c9126 stopped responding at 05:30 (30min ago).  Looking at the monitoring, idle time has dropped to zero and latency is 60,000+.   Looks like there's a problem with the underlying EBS volume on the AWS side.   Can someone in support take a look?"
Amazon EC2	"Re: EBS volume frozen
We are also facing same problem. One of our Volume ""vol-ae70cbc6"" which is attached to instance ""i-ae25b4c7"" is stuck. Can you please look into it quickly.

Asif"
Amazon EC2	"Re: EBS volume frozen
Both of these volumes appear to be functioning normally and doing reads and writes and reasonable rates at present."
Amazon EC2	"Re: EBS volume frozen
Yes thanks, my volume is indeed looking healthy again."
Amazon EC2	"Memory Error - Urgent
We are having some issues on one of our instance which is related to memory. Given below are the details about the instance as well the errors which user has reported to us. It will be grateful if you or your technical support can provide some assistance in this regards.

Instance Details:
Instance ID=i-2cea09c3
Instance Type=m3.large
Availability Zone=us-east-1d
Region= US.East (N.Virginia)

Error”
150522  6:59:23 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30-log'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): invalid next size 





(normal): 0x00007f22e012a620 ***

150522  6:15:01 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30-log'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): invalid next size 





(normal): 0x00007f385c0cc550 ***





Error in `/usr/local/mysql/bin/mysqld': free(): corrupted unsorted 





chunks: 0x00007f8bb8000ed0 ***
======= Backtrace: =========

50522  6:09:33 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30-log'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): invalid next size 





(normal): 0x00007f6bcc099670 ***

150522  6:08:50 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30-log'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): corrupted unsorted 





chunks: 0x00007fe990015860 ***

150522  6:05:45 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30-log'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): corrupted unsorted 





chunks: 0x00007fc90c0d3540 ***

150516  5:30:32 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): invalid next size 





(normal): 0x00007ffa84253020 ***

150515  8:40:00 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': malloc(): memory corruption: 





0x000000000ade95e0 ***

150514 23:46:53 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': free(): invalid next size 





(normal): 0x00007f2f10107ac0 ***

150514 23:42:57 Note /usr/local/mysql/bin/mysqld: ready for connections.
Version: '5.5.30'  socket: '/tmp/mysql.sock'  port: 3306  MySQL 
Community Server (GPL)





Error in `/usr/local/mysql/bin/mysqld': malloc(): memory corruption: 





0x00007fca2c04da40 ***
======= Backtrace: =========

Looking forward to hear from you soon."
Amazon EC2	"Instance network partially available
Hello!

We had an spot instance i-db96e5cf network stop responding partially. Databases and SSH connections were slow.
After instance reboot it solved, but a few minutes network was completely unavailable.

So we stoped the spot instance and requested a new one. Appears to solved the problem.

I read other threads this may be a hardware problem with the instance, so a new request should solve it.

I wondered if this is the same problem as other members had experienced.

Thank you!"
Amazon EC2	"Re: Instance network partially available
Hi,

Its difficult to ascertain exactly what the problem could have been, but its likely that it could have been an underlying hardware fault.  By requesting a new Spot Instance it would have almost certainly spun up on a different physical host.  Did you notice if both the status checks had passed and completed on the initial faulty spot instance? if not, thats sometimes a clue of a hardware problem. 

Its always worth looking at Cloudwatch and the metrics of the instance when having performance problems to try and determine where the bottleneck exists as sometimes its not always a hardware issue and sometimes a configuration or instance size issue.

Cheers,

Stooby..."
Amazon EC2	"Can't connect to any of my EC2 instances
Hi,

I have tried creating ec2 instances from several of my AMIs - the instances came up, but I couldn't connect to them (I got ""No supported authentication methods available"") .
I tried creating a new private key ((transforming it with puttyGen etc) - but this didn't help.
When I tried connecting to an ubuntu service - everything worked fine, so I created an ami from it (ami-4763852c) , but an isntance created from this had some trouble going up (it got to the running state, but the status check say  ""Insufficient Data"" & I am getting connection timed out whenever I try to connect - and seems like somehow it isn't reachable at all , not even getting to the authentication.

All my AMI & keypair I used worked a month ago when I last tried them - what changed? what am I doing wrong? 

Thanks
Yuval"
Amazon EC2	"Re: Can't connect to any of my EC2 instances
Hello Yuval,

Sorry to see you're having problems with your instance.

I have had a look at instance i-510cddb8 and I can see it's not booting properly which is why you cannot connect - this is not a problem with the key files.  The reason it is not booting correctly is because the root volume has not been mounted correctly.  The source instance operating system is using an EXT4 formatted file system and it looks like i-510cddb8 is expecting EXT3.

I can also see the original instance is using EBS root volume but your new instance is setup to use Instance Store root volumes?  Has this been done on purpose?  Let me know what set of instructions you have followed and I will try to reproduce the problem for you.

Thank you,
Anthony H."
Amazon EC2	"Re: Can't connect to any of my EC2 instances
Hello,

Thank you, this explains why my new AMI doesn't work (didn't check the instance store/ ebs thing - I have always worked with S3 instances before).  
However, I still can't connect to many other instances created from several AMIs: 
1. ubuntu-trusty-14.04-amd64-server-20150325 (ami-d05e75b8) -> Created an instance which seems to start correctly, but getting ""Connection Timed out"" when trying to connect.
2. ami-62edac0a - an AMI I created a few months back and worked fine until this week : now I can't connect, getting - ""Server refused our key/ No supported authentication Method (publickey)"" (this is the same key that worked for the ebs instance). 
Any idea what's happening? 
Thanks,
Yuval"
Amazon EC2	"[Docker Usage] - How to mount EBS on EC2
Hello,

I've been trying for quite a while to mount an EBS volume in order to save the whole ""Docker Environment"" (Containers Pulled // Running & their data).
However everytime I stop the instance, everything is cleaned up. How should I do in order to save everything related to Docker inside the EBS Volume ?

I use the following image : Amazon ECS-Optimized Amazon Linux AMI

Thanks a lot for your help,

Regards,"
Amazon EC2	"Re: [Docker Usage] - How to mount EBS on EC2
Docker's state should be stored in its ""graph path"" which can be configured with the daemon option ""-g=/some/path"".

On the ECS Optimized AMI, as well as Amazon Linux AMIs, you can configure Docker's daemon options by editing the file ""/etc/sysconfig/docker"".

If you mount an EBS volume at, say, ""/opt/dockerdata"" and then edit your Docker daemon options to be ""-g=/opt/dockerdata"", restart docker with ""sudo service docker restart"", and then proceed as normal, Docker's state should be saved to your EBS volume.

If the above process doesn't work, can you give more information about what issues you're having and what you've tried?

Best,
Euan"
Amazon EC2	"Routing dies in US-1-EAST
Starting this week (all was normal last week) we could no longer complete traceroutes to cluster25 and it appears to die between 72.21.220.55 and 72.21.222.155 see transcript below. Source is from Charter in Missouri.

traceroute to cluster25-2104430952.us-east-1.elb.amazonaws.com (52.0.160.224), 64 hops max, 52 byte packets
 1  172.31.9.1 (172.31.9.1)  1.835 ms  0.915 ms  0.851 ms
 2  10.166.128.1 (10.166.128.1)  9.012 ms  8.548 ms  8.061 ms
 3  dtr01olvemo-tge-0-3-0-8.olve.mo.charter.com (96.34.52.60)  9.019 ms  8.941 ms  9.660 ms
 4  crr01olvemo-bue-100.olve.mo.charter.com (96.34.48.94)  10.501 ms  17.927 ms  10.799 ms
 5  bbr01olvemo-bue-70.olve.mo.charter.com (96.34.2.164)  14.747 ms  13.189 ms  15.164 ms
 6  bbr01blvlil-bue-3.blvl.il.charter.com (96.34.0.15)  18.929 ms  13.221 ms  15.277 ms
 7  bbr01dllstx-bue-4.dlls.tx.charter.com (96.34.0.17)  40.626 ms  43.276 ms  42.525 ms
 8  prr01dllstx-bue-3.dlls.tx.charter.com (96.34.3.69)  31.497 ms  28.217 ms  29.790 ms
 9  96-34-149-46.static.unas.mo.charter.com (96.34.149.46)  37.145 ms  34.915 ms  42.075 ms
10  54.240.229.96 (54.240.229.96)  58.992 ms  60.220 ms
    54.240.229.108 (54.240.229.108)  49.293 ms
11  54.239.41.168 (54.239.41.168)  54.045 ms
    54.240.229.2 (54.240.229.2)  58.609 ms
    54.240.229.4 (54.240.229.4)  61.403 ms
12  54.240.229.168 (54.240.229.168)  61.485 ms
    54.240.229.170 (54.240.229.170)  64.504 ms  59.021 ms
13  54.240.228.139 (54.240.228.139)  59.017 ms
    54.240.228.159 (54.240.228.159)  58.848 ms
    54.240.228.139 (54.240.228.139)  51.585 ms
14  72.21.220.55 (72.21.220.55)  49.821 ms *
    72.21.220.108 (72.21.220.108)  58.395 ms
15  72.21.220.167 (72.21.220.167)  49.569 ms
    72.21.220.159 (72.21.220.159)  47.057 ms *
16  54.239.108.68 (54.239.108.68)  77.716 ms
    72.21.222.157 (72.21.222.157)  48.181 ms
    72.21.220.55 (72.21.220.55)  51.586 ms
17  * * 72.21.222.155 (72.21.222.155)  50.709 ms
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *

This transcript is from AT&T mobile LTE

traceroute: Warning: cehe.instructure.com has multiple addresses; using 107.23.209.217
traceroute to cluster25-2104430952.us-east-1.elb.amazonaws.com (107.23.209.217), 64 hops max, 52 byte packets
 1  192.168.43.1 (192.168.43.1)  27.073 ms  2.948 ms  5.861 ms
 2  172.26.96.161 (172.26.96.161)  44.617 ms  42.234 ms  40.007 ms
 3  172.16.232.228 (172.16.232.228)  40.260 ms  38.975 ms  44.464 ms
 4  12.83.186.161 (12.83.186.161)  41.899 ms  36.512 ms  39.213 ms
 5  12.83.186.145 (12.83.186.145)  54.899 ms  101.994 ms  65.493 ms
 6  ggr6.cgcil.ip.att.net (12.122.133.185)  68.338 ms  153.624 ms  85.109 ms
 7  12.251.4.22 (12.251.4.22)  58.141 ms  64.175 ms  45.772 ms
 8  178.236.3.92 (178.236.3.92)  69.591 ms  65.713 ms
    54.240.229.70 (54.240.229.70)  59.934 ms
 9  54.240.228.230 (54.240.228.230)  60.928 ms
    54.240.228.244 (54.240.228.244)  56.281 ms
    54.240.228.248 (54.240.228.248)  71.253 ms
10  54.240.229.187 (54.240.229.187)  77.029 ms
    54.240.229.191 (54.240.229.191)  54.800 ms
    54.240.229.185 (54.240.229.185)  60.040 ms
11  54.240.228.171 (54.240.228.171)  59.502 ms
    54.240.228.173 (54.240.228.173)  82.641 ms
    54.240.229.135 (54.240.229.135)  58.349 ms
12  205.251.244.66 (205.251.244.66)  65.241 ms
    205.251.244.82 (205.251.244.82)  74.319 ms
    205.251.244.72 (205.251.244.72)  59.939 ms
13  205.251.245.23 (205.251.245.23)  62.452 ms
    205.251.245.25 (205.251.245.25)  76.186 ms
    205.251.245.29 (205.251.245.29)  74.760 ms
14  205.251.245.121 (205.251.245.121)  77.657 ms
    205.251.245.41 (205.251.245.41)  72.545 ms
    205.251.245.121 (205.251.245.121)  59.375 ms
15  * * *
16  * * *
17  * * *"
Amazon EC2	"What influences performance when copying AMI's across regions?
We are just recently getting into multi-region functionality. We use EC2 to provide ad-hoc QA environments and wanted to allow for the best performance for different offices by putting them geographically close.

For this QA service, we have two primary EBS backed AMI's that we use; a Linux one which was imported from an Openstack cluster through a VMDK, and a Windows one which we've created by building from a base windows image and then using the ""Create Snapshot->Create AMI"" workflow.

Both images use roughly the same size ebs partitions. However, the VMDK we used to create the linux AMI was around ~6gb. The Windows is using 58gb on disk, although a lot of that is junk that should compress out (pagefile and the like).

Needless to say, when we try copying the AMI's out of Oregon, the linux one completes in an acceptable time, while the Windows one takes forever. Literally 2.4 days to copy from Oregon to Singapore. I have some sense that the underlying Windows AMI image is larger, but how much larger? There does not seem to be a way to determine the size of an AMI image. 

Is there anything I can do to ""shrink"" my Windows image before taking the snapshot that converts to an AMI? And any way to verify that what I'm doing is helping, besides timing multi-region copy performance.

We update these AMI's semi-frequently, so multi-day copy time is friction on our workflows.

Any help appreciated. Thanks!
-adam malter"
Amazon EC2	"Permission denied when attempting to replace web files
I use WinSCP to connect to ec2.
host name: ec2-52-24-38-233.us-west-2.compute.amazonaws.com
user: ec2-user
and I select a ppk file that was created a while back.

I can connect to the server w/o any problems.

All of my files are located at /var/www/html

I receive a 'permission denied' message when attempting to delete or update any of the files.

How do I provide permissions for myself or another developer? 
Many people say I need to do something with 'chmod 755', but where specifically do I need to run that command? Is there a utility I need to download to run those types of commands?

Please provide specifics. I know this is very simple for a lot of you, but I'm not quite the 'server' guy.
Thank you in advance!
DK"
Amazon EC2	"Re: Permission denied when attempting to replace web files
Hi, 
I’m with an IT company that’s trying to design an offer to help people with AWS migrations and support within AWS. It would be really helpful to speak with you for 5 mins as we’re developing our offer. This is solely to better understand user problems, to guide our product development, not to solicit a sale of any kind. Would you be willing to speak with me? If you would or anyone else experiencing the same issues would be interested in a quick call, please email me at vmiller@internetcontrasts.com.

Thanks for your time and I look forward to hearing back from you. Thanks!"
Amazon EC2	"Re: Permission denied when attempting to replace web files
What commands should I use in the winSCP Console to give full rights to my web files.
I get 'permission denied' on everything I attempt.

Could it be that I am using the same Private Key File for two different EC2 servers?
Maybe I need to create a new .ppk file for my latest server that I am having trouble with.

Or is there something I need to do in the AWS Management Console to allow me to delete and update files?

Please assist if you have experience with this.
(let me know if you need to see a screenshot or I can record a screen cast video)"
Amazon EC2	"Re: Permission denied when attempting to replace web files
Your issue really doesn't have anything to do with private keys or EC2.  It is more of a Linux question.  Read through this tutorial on how to set up a web server on Amazon Linux.  Note: this is assuming you are using something like Putty to connect to the instance and running commands on the command line.  But it describes how to set the correct permissions on your directory.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html"
Amazon EC2	"Re: Permission denied when attempting to replace web files
Thank you!
I followed that tutorial and it worked.

I still get an error when I try to 'copy' a file, but I just have to click OK on the error message and the new file gets copied over."
Amazon EC2	"Remove Reverse DNS
What is the correct way to remove Reverse DNS entry on a elastic IP? A quick search suggests that the form used to request rDNS could be used to disassociate it, but I haven't had any luck that way, leaving the fields blank. I want to move my IP to VPC, and I understand from another thread that the rDNS needs to be disabled.

The IP is the elastic IP on i-874b86fb. It can be removed at any time.

Thanks,
Ryan"
Amazon EC2	"Re: Remove Reverse DNS
I have been wondering this, too. For me it's instance i-3b35a7eb and it's ready to go, too."
Amazon EC2	"Re: Remove Reverse DNS
Hi Ryan,

The PTR record for the elastic IP address that is associated to the EC2 instance i-874b86fb has been removed. Please allow a few minutes for this change to propagate. Unfortunately, the only way to clear an outdated rDNS record is to reach out to AWS Support.

Regards
Mohsin S."
Amazon EC2	"Re: Remove Reverse DNS
Hello suwpat,

Upon reviewing your EC2 instance i-3b35a7eb, I do not see any Elastic IP attached. Is this the correct instance-ID in question that you would like to a rDNS record?

Look forward to your reply.

Regards,
Mohsin"
Amazon EC2	"Re: Remove Reverse DNS
Oh, sorry, I disassociated the IP when I removed the old non-VPC instance. The IP is x.x.x.x and it's good to go.

Sorry to hijack the thread, too!

Edited by: Mohsin@AWS on May 26, 2015 11:19 AM"
Amazon EC2	"Re: Remove Reverse DNS
Hello suwpat,

I have edited and removed the Elastic IP address from your post. The PTR record for the elastic IP address in question has been removed.

Regards,
Mohsin"
Amazon EC2	"Re: Remove Reverse DNS
All resolved now. Thanks!"
Amazon EC2	"My micro instance stopped working after installing vsftpd
I get ERR_CONNECTION_REFUSED on my page now. I can ssh in no problem but when I went back to this tutorial to reset all my directories permissions (in case I broke anything tinkering with vsftpd) I get these error messages when I reach #5 under To fix file permissions for the Apache web server:

sudo: unable to execute /bin/chmod: Argument list too long


and then..

Stopping httpd:                                            [FAILED]
Starting httpd: AH00526: Syntax error on line 159 of /etc/httpd/conf/httpd.conf:
<Directory> directive requires additional arguments
                                                           [FAILED]


Before trying any of this, I removed vsftpd. I feel like I just set some bad permissions somewhere and too much of a sysadmin noob to know where or when."
Amazon EC2	"EC2 instance cannot access anything outside
This happened twice. 
An EC2 instance in a not-VPC configuration was working properly for a week and then just stopped having access to the Internet. I can ssh into it, >curl google.com does nothing but waits forever.  

Created AMI from it, run new EC2 from the image - and it works perfectly. In a week or so - same thing. For some reason instance cannon connect to anything outside and cannot be accessed from outside except SSH. 

Again, created AMI from it, run another EC2 from the image and it's working fine. 

I have an impression that it gets blocked after a week or so."
Amazon EC2	"Re: EC2 instance cannot access anything outside
Hello, 

This is interesting behavior, are you making any adjustments to the instance, like Security Group rules or IP tables, that may cause the instance to lose connectivity to the internet?

If the instances that lost connectivity are still running could you provide the instance IDs? We can take a look at this instance from our end and let you know if we see anything wrong. 

Best Regards,
Jillian L."
Amazon EC2	"ELB-HealthChecker problem, got lots requests from 10.170.108.233
I am receiving lots  ELB-HealthChecker requeset from  10.170.108.233,
It makes CPU full loading and storage out of space.

PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                  
2124 root      20   0  253m 1644 1112 S 99.5  0.1  18:50.61 rsyslogd      

==========
My ELB Health Check Setting:

Ping Target	TCP:80
Timeout	20 seconds
Interval	30 seconds
Unhealthy Threshold 5
Healthy Threshold	3

==========
Partial logs in server log file. 
May 20 08:35:22 ip-10-181-239-110 FOTA2287:Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:35:22 ip-10-181-239-110 FOTA2287: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200
May 20 08:34:52 ip-10-181-239-110 FOTA1866: Middleware GET /health/ 10.170.108.233 10.181.239.110 http://ELB-HealthChecker/1.0 [-] 200"
Amazon EC2	"Re: ELB-HealthChecker problem, got lots requests from 10.170.108.233
Hello, 

Thanks for your post!

It looks like there are multiple ELBs in your account. Could you please provide us with the ELB DNS name and we will be happy to take a look for you. 

Best Regards,
Jillian L."
Amazon EC2	"EC2 stuck in stopping state. Force stop does not work
I am unable to shut down this EC2 instance.
us-east1a
instance id: i-9e308dfe

It has been stuck in the stopping state for the past 4+ hours

At minimum I need to create a snapshot of the 8mb volume attached to it, however that does not seem to work in the current state. No error messaging reported, but no snapshot created either."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Looks like snapshot was created. It just took a little time.
EC2 instance is still stuck in stopping status."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi,

I've engaged an engineer to take a look at your instance.

Regards,
Preethi"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi,

The instance has transitioned to stopped state now.

Regards,
Preethi"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi guys

I also have an EC2 micro instance with AMI ami-6fa27506 stuck in a permanent stopping state for the past 3 hours now

region: US East Virgina
instance id: i-0c030369
ami id: ami-6fa27506

Can this be stopped for me please? I tried all I can and its not stopping."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
docte,

Instance i-0c030369 is in stopped state now.

Regards,
Preethi"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi there,

I'm having the same issue for instance i-8ac2aefc 

Please can you stop? Force stops not working.

Many thanks"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi there,

I'm having the same issue for instance i-8ac2aefc 

Please can you stop? Force stops not working.

Many thanks"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi,

Instance i-8ac2aefc is stopped now.

Regards,
Preethi"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi I am having the same issue with instance i-6f82f60a"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Thank you, it was resolved through another post."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
This seems to be the place to solve this.... My instance i-a61a17de is stuck. I have tried force stop a couple times and have waited a couple of hours.

I had gotten an email about degraded hardware two days ago and had not gotten a chance to try and restart until today as I was out of the country.  The server had been down (unbeknownst to me) during that time."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hello scottrogo,

Your instance should be stopped now and you should be able to start it again. 

I would recommend detaching and re-attaching any EBS volumes (including the root volume on /dev/sda1) once and then starting the instance. 

Please let us know if you have any further questions."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi I am having the same issue with instance i-4fc31207."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
We too! Please stop thins instance i-a06c01cf
This is very urgent. We have a launch in less than an hour! 
Please."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
My hung instance is i-9eefbad4.  Can you take a look?"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi, 

this should be stopped for you now."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi I am having the same issue with instance i-1bc9e618."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hello,

It looks like this instance stopped and was relaunched; I can see it has been up and running for approximately ten minutes. Please let me know if you need anything else.

Richard"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
i-a26fadd8 stuck in stopping state for about 30 mins. Has never happened before. Need help as this is urgent."
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi newsdeeply,

I have had a look at your instance and it currently running.

Regards

Darrell"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hi, my instance ""i-3042c148"" is also stuck in ""stopping"" state. Can this be sorted out?

Thanks and Regards,
Arun"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Instance id  ""i-3042c148"" problem of getting stuck in stopping has been sorted out. It is working fine now. 

Thanks!

Regards,
Arun"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Hello,

That's no problem. Please let us know if you need anything further.

Richard"
Amazon EC2	"Re: EC2 stuck in stopping state. Force stop does not work
Instance: i-e8ff07a2 

is also stuck in stopping state for about 30 mins now. Stopped responding just before that without reason and when trying to stop remained in this state.

Can anyone have a look at it?"
Amazon EC2	"Wrong CPU Utilization in Monitoring, constant 50%
Hi,
Nobody from AWS seems interested in picking up my question in the CloudWatch forum, so I'm posting it here on the EC2 forum (original https://forums.aws.amazon.com/thread.jspa?threadID=139277)

I upgraded our instance from an m1.xlarge to a cc2.8xlarge at about 7:30am UTC. At first, the Status Checks 2/2 reported ""server unreachable"", so I stopped it, and started it again. It was then reachable. Nothing else out of the ordinary.

On current instance Id i-04e04f6a, the CPU is now constantly showing around 50%, even when the box is idle. A local monitor on the box shows low values (maybe 5%). See both attached files.
The spike to 55% between 8.15 and 8.30am was real usage, I launched a CPU intensive process. The box was idle the rest of the time.
The cloudwatch CPU Chart shows this has started after the instance type changed.

What can I do to get accurate data again?

Thanks,
T

A week on, I still have the problem. I disabled detailed monitoring as I don't see the point in paying for something that's reporting invalid data. Stopping detailed monitoring has not ""fixed"" the issue."
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
any idea anyone?"
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Hello,

I am sorry for the delay in response.  I do see both this thread and the original one in CloudWatch.  We are currently looking into the issue.  

To work with more specific details on your case we are opening an outbound case for.  Please reply through the Case 129870071 located in your support center."
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Still no news. Does it take Amazon 6 months to investigate why paid-for Cloudwatch detailed monitoring doesn't work?
I will ask for a refund of the detailed monitoring since it's not accurate.
Is there any update on this?"
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Hi - this is a duplicate update as per thread 139277

Hi,

We are very sorry for the delay. This has proved to be a complicated issue, and the service team is still performing tests on a solution before it gets deployed to make sure that it doesn't adversely affect other services.

We do appreciate your ongoing patience. A credit has been applied to your account from our customer service team as per your Support case 129870071. We will update your case and this forum thread as soon as a solution is deployed. 

Regards
Julian H.

Edited by: Julian@AWS on Jul 5, 2014 1:26 AM"
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Hi,

Issue is still occuring. Case ID129870071 is still waiting for Amazon to take action.This ticket has status = pending amazon action. I've opened it in November 2013. One year and a half ago.

The CPU utilization still report the wrong figure. It is constantly at 35%. Whereas Task Manager in Windows reports 10 to 15%. Asking me for an updated screenshot every 6 months is not going to make this go away.

Are you maybe waiting for me to launch a new instance and delete that one? This would make the problem go away but is very unprofessional from Amazon.

Am I the only one at AWS having this issue?"
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Reply from Amazon Support Center:

From my understanding of the extensive internal discussion related to this issue, the system CPU in Task Manager is not properly reflecting interrupts within the OS. CloudWatch will still show these though. Process Monitor and Task Manager do not aggregate the interrupts into the overall CPU usage, but rather just look at the CPU of the processes, while the interrupts do have a small overhead on the CPU. Normally this goes unnoticed. The important point: as actual process-driven CPU utilization gets closer to 100%, the interrupt driven CPU nears 0% and both Task Manager and CloudWatch agree on the percentage. In other words, the percentage gap narrows as processes use the CPU more heavily. 

I'm very sorry for the complete lack of visibility over an extremely long period of time. As I mentioned, there has been extensive internal discussion and I am personally following up on this to see if we can get an official response on the forums as well. 

I will again leave the case Pending Amazon.

Best regards,

Joshua F.
Amazon Web Services"
Amazon EC2	"Re: Wrong CPU Utilization in Monitoring, constant 50%
Some useful links about the same issue:
https://discuss.newrelic.com/t/cpu-load-reported-by-nr-differs-dramatically-from-aws-console/1946
http://axibase.com/news/ec2-monitoring-the-case-of-stolen-cpu/

My last reply from the Support Center:

Now I know what I'm looking for, there are actually people out there with the same question, and useful answers:

http://www.stackdriver.com/cpu-steal-why-aws-cloudwatch-metrics-are-different-than-agent-metrics/
http://stackoverflow.com/questions/11703320/aws-ec2-high-cpu-alarms-going-off

Including on AWS forums:

https://forums.aws.amazon.com/thread.jspa?threadID=67697
https://forums.aws.amazon.com/thread.jspa?threadID=95288

Just a shame it took one year and a half to get somewhere. You can close this ticket."
Amazon EC2	"EC2 instance was rebooted unexpectedly
Hello guys,
on Fri, May 22, 2015 at 6:29 PM our EC2 instance i-61222085 rebooted unexpectedly. 
We haven't found anything related in our inboxes or AWS console events page.

Could you clarify what it was and how to prevent it in the future?

EC2 instance system log: 
reboot   system boot  3.2.30-49.59.amz Fri May 22 21:03 - 11:09 (2+14:06)

Thank you in advance,
Andrey Sizov"
Amazon EC2	"Re: EC2 instance was rebooted unexpectedly
Hi Andrey, 

I've investigated your instance and can confirm the unexpected reboot was due to an issue on the underlying host. The underlying host recovered from the issue, however I would recommend that you migrate away from this host. 

I see this is a instance-store backed instance, so in order to migrate, you will need to re-launch a new instance and move over your EBS volumes and IP.

Should you need any further assistance, please don't hesitate to let us know. 

Kind regards, 
Belynda"
Amazon EC2	"Re: EC2 instance was rebooted unexpectedly
Thank you for your answer.

JFYI: tonight this instance was rebooted once again by itself. We would recreate it on another instance."
Amazon EC2	"can't see created instance in EC2 service page after successful importing
Dear AWS Forum,

run ec2-import-instance to import the instance to AWS again. below is the console output:

************************************************
Requesting volume size: 1024 GB
TaskType    IMPORTINSTANCE    TaskId    import-i-fgpqvx0u    ExpirationTime    2015-06-01T20:53:40Z    Status    active    StatusMessage    Pending    InstanceID    i-385ddfc7
DISKIMAGE    DiskImageFormat    VMDK    DiskImageSize    12767035904    VolumeSize    1024    AvailabilityZone    us-east-1d    ApproximateBytesConverted    0    Status    active    StatusMessage    Pending : Downloaded 0
Creating new manifest at stevenwumebucket/12966469-e3bb-4c37-98b9-ce0321bff598/ISP_Hosting-disk1.vmdkmanifest.xml
Uploading the manifest file
Uploading 12767035904 bytes across 1218 parts

   Upload progress              Estimated time      Estimated speed
 / 100% ====================>                     0.099 MBps                 









































All 12767035904 Bytes uploaded in 01 days 11h 42m 34s  *********************









































Done uploading.
Average speed was 0.099 MBps
The disk image for import-i-fgpqvx0u has been uploaded to Amazon S3
where it is being converted into an EC2 instance.  You may monitor the
progress of this task by running ec2-describe-conversion-tasks.  When
the task is completed, you may use ec2-delete-disk-image to remove the
image from S3.
************************************************

from above console output, the importing process finished successfully. but there is no instance (in stopped status) created in the EC2 service page, while there are 1218 parts in S3 stevenwumebucket. this is weird. (moreover when the importing start and before importing finished, i checked the EC2 service page and there is always a created instance (in stopped status) in EC2 service page for this importing process. but when the importing successfully completed, this created instance disappeared. it is much appreciated if anyone can help with this)

as per my previous email, when the 1st time importing this VM into AWS, it finished successfully and there is instance (in stopped status) created in the EC2 service page and there are 1218 parts in S3 stevenwumebucket, but i deleted them by mistake without trying to start the stopped instance.

a few days ago, i tried to import this VM to AWS again, it stuck at 99% forever (i sent you an email for this and raised a ticket from Support page), then i canceled the importing process and re import the VM again and get the above successful result, but there is no instance created.

run ec2-describe-conversion-tasks and get below console output:

******************************************
TaskType    IMPORTINSTANCE    TaskId    import-i-fgpqvx0u    ExpirationTime    2015-06-01T20:53:40Z    Status    cancelled    StatusMessage    ClientError:Invalid Master Boot Record.  The MBR must end with the bytes 0x55 0xAA    InstanceID    i-385ddfc7
DISKIMAGE    DiskImageFormat    VMDK    DiskImageSize    12767035904    VolumeSize    1024    AvailabilityZone    us-east-1d    ApproximateBytesConverted    0    Status    cancelled    StatusMessage    ClientError:Invalid Master Boot Record.  The MBR must end with the bytes 0x55 0xAA
******************************************

it says "" ...... Status    cancelled    StatusMessage    ClientError:Invalid Master Boot Record.  The MBR must end with the bytes 0x55 0xAA"".

why get the above error message and the cancelled status? it is much appreciated if you can explain. thanks.

in all, i import the same VM to AWS 3 times, the 1st time importing is successful and can see all the expected content in AWS (however i mistakenly deleted some content), the 2nd time isn't successful, the 3rd time is successful but can't see the created instance.

i believe the AWS platform should allow me to import the same VM successfully as my 1st importing, but now it doesn't look like so. why there is no created instance in EC2 service page? it is much appreciated if anyone can help with this and explain to me.

Thank you very much.

Edited by: stevenwume on May 27, 2015 4:10 AM"
Amazon EC2	"what is reason of high iowait of sar & wa of top?
Hi

Ive experinced high iowait situration now.
i don't know what's problem.

instance : i-fbcedb32"
Amazon EC2	"My website is running very slow, need help
Hi,

My instance and RDS database is created at Singapore, as of this morning my website needs 30-50 seconds to wait for DNS (shown in Firefox developer console), and then starts loading the page slowly.

I used trace route for my elastic IP 52.74.56.72 and below is the result, looks like the trace route didn't even finish because the long timed out and stop at 203.83.223.237.

But my EC2 instance is showing ""running"" and status check ""2/2"" after reboot, Amazon's service health dashboard says all their servers are fine.

What should I do? Really need some advise. Thanks!

Fiona

TraceRoute from Network-Tools.com to 52.74.56.72
Hop	(ms)	(ms)	(ms)		     IP Address	Host name
1 	  0 	  0 	  0 	     206.123.64.233	  -  
2 	  1 	  1 	  1 	     129.250.202.253	 xe-0-4-0-12.r01.dllstx04.us.bb.gin.ntt.net  
3 	  1 	  1 	  1 	     129.250.2.198	 ae-1.r21.dllstx09.us.bb.gin.ntt.net  
4 	  39 	  40 	  39 	     129.250.4.154	 ae-8.r23.snjsca04.us.bb.gin.ntt.net  
5 	  42 	  40 	  40 	     129.250.2.182	 ae-0.r22.snjsca04.us.bb.gin.ntt.net  
6 	  Timed out 	  217 	  Timed out 	     129.250.3.49	 ae-2.r20.sngpsi05.sg.bb.gin.ntt.net  
7 	  227 	  227 	  218 	     129.250.3.147	 ae-2.r00.sngpsi02.sg.bb.gin.ntt.net  
8 	  212 	  213 	  213 	     116.51.17.46	 ae-0.amazon.sngpsi02.sg.bb.gin.ntt.net  
9 	  210 	  228 	  228 	     203.83.223.8	  -  
10 	  224 	  214 	  214 	     203.83.223.31	  -  
11 	  222 	  221 	  211 	     203.83.223.237	  -  
12 	  Timed out 	  Timed out 	  Timed out 	    	  -  
13 	  Timed out 	  Timed out 	  Timed out 	    	  -  
14 	  Timed out 	  Timed out 	  Timed out 	    	  -  
15 	  Timed out 	  Timed out 	  Timed out 	    	  -  
16 	  Timed out 	  Timed out 	  Timed out 	    	  -  
17 	  Timed out 	  Timed out 	  Timed out 	    	  -  
18 	  Timed out 	  Timed out 	  Timed out 	    	  -  
19 	  Timed out 	  Timed out 	  Timed out 	    	  -  
20 	  Timed out 	  Timed out 	  Timed out 	    	  -  
21 	  Timed out 	  Timed out 	  Timed out 	    	  -  
22 	  Timed out 	  Timed out 	  Timed out 	    	  -  
23 	  Timed out 	  Timed out 	  Timed out 	    	  -  
24 	  Timed out 	  Timed out 	  Timed out 	    	  -  
25 	  Timed out 	  Timed out 	  Timed out 	    	  -  
Trace aborted.

Edited by: fionalu17 on May 27, 2015 1:35 AM"
Amazon EC2	"HTTP error 503 Service Unavailable
Hi,
My EC2 web server was running fine for months until a few days back it started serving HTTP error 503 Service Unavailable most of the time I try to access the website (It goes away only when I complete reboot the system for sometime). 
No clue what to do and I didn't make any changes to my server at all for a while.
Here's my EC2 instance id: i-c50e8f08
Thanks a lot for your help, that’s pretty urgent!"
Amazon EC2	"Instance Stuck on Initializing.
I have an instance stuck on initializing, what can be done about it?

the instance is i-bd358d5e"
Amazon EC2	"Re: Instance Stuck on Initializing.
Hello lspecian,

I'm sorry to see you're having problems with your instance.

As it's currently in a stopped stated it's hard for me to tell exactly what is going on but the last message I see in your console log related to instance launch is
Process /opt/apps/eyso-platform/app-eyso.js launched
 This suggests to me that there may be a problem with the application and you should try disabling it by...
1. Launch a temporary instance,
2. Stop the failed instance,
3. Detach the EBS volume(s) from it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html),
4. Attach the volume as secondary volumes to the temporary instance (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html),
5. Make the volume available for use by mounting it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html),
6. Disable the applications automatic start up capabilities
7. Unmount the volume and detach it.
8. Attach the volume to the original instance as device /dev/sda1
9. Start the instance

If you continue to have problems, have a look at the console output again and update this thread.  More information on viewing the console output can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

Kind Regards,
Anthony H."
Amazon EC2	"What is the maximum size VHD that can be imported with ec2-import-volume
A while ago I was trying to import a VHD volume with  ec2-import-volume and ran into a limit of a maximum size of 1TB.

I believe this was because at the time the maximum size of an EBS volume was 1TB. I've seen that now they can be up to 16TB, so has the ec2-import-volume also increased?"
Amazon EC2	"Re: What is the maximum size VHD that can be imported with ec2-import-volume
Nothing like trying it for yourself, I spun up an EC2 installed the tools and created an empty 2TB VHD and tried to import it:

Windows PowerShell
Copyright (C) 2014 Microsoft Corporation. All rights reserved.
 
PS C:\Users\Administrator> ec2-import-volume.cmd 'C:\BigDisk\big_disk.vhd' -f vhd -z ap-southeast-2a -o %AWS_ACCESS_KEY%  -w %AWS_SECRET_KEY% -b import-ebs-volumes --region ap-southeast-2
Requesting volume size: 2000 GB
Client.DiskImageSizeTooLarge: The specified volume size is too large. Max size is 1024 (Service: AmazonEC2; Status Code: 400; Error Code: DiskImageSizeTooLarge; Request ID: --uuid redacted--)


So it looks like the answer is the maximum size is still 1TB."
Amazon EC2	"CentOS 6.6 HVM on 3.4.x RT kernel ixgbevf and enhanced networking trouble
Hello,

I am having trouble with getting our enhanced network to work.  I followed the guide located here: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html

I am running a c3.4xlarge instance (i-c78c1117), and 3.4.x utilizes ixgbevf version 2.2.0-k.  After following the guide to enable enhanced networking, when starting the instance, it fails to pass instance reachability checks and I cannot SSH into it.  The system log shows:

Bringing up interface eth0:  
Determining IP information for eth0...ADDRCONF(NETDEV_UP): eth0: link is not ready
ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready failed.
Unable to obtain IPv4 DHCP address eth0.   OK  

I have tried this with several instances and they have all had the same outcome.  Has anyone had this problem or can anyone point me into the right direction?

Thanks"
Amazon EC2	"Re: CentOS 6.6 HVM on 3.4.x RT kernel ixgbevf and enhanced networking trouble
Resolved.  I was dumb and misread the version as 2.20.x and not 2.2.x.

The problem ended up being my version was very outdated."
Amazon EC2	"Re: CentOS 6.6 HVM on 3.4.x RT kernel ixgbevf and enhanced networking trouble
Answered my own question with previous post."
Amazon EC2	"Instance crashed during a yum update, kernel panic on restart
I was running a yum update on my centos 7 EC2 instance when the terminal stopped responding, checking the logs I saw a kernel panic so I tried rebooting and now it just keeps getting the same kernel panic and won't boot. Is there any way I can save the data on the machine? I hadn't pushed my git repo to a remote host and theres quite a lot of work on here that I need.

Yum was installing ""selinux-policy-3.13.1-23.el7_1.7.noarch"" when it locked up, which updates a part of the kernel I think so that's probably where it broke.

Here's the call trace, any help is super appreciated, this was for a school project so it'd be really unfortunate if I had to start over.

http://    1.540459 No filesystem could mount root, tried: 
http://    1.543867 Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)
http://    1.544861 CPU: 0 PID: 1 Comm: swapper/0 Not tainted 3.10.0-229.4.2.el7.x86_64 #1
http://    1.544861 Hardware name: Xen HVM domU, BIOS 4.2.amazon 05/06/2015
http://    1.544861  ffffffff81814288 0000000017c60e9e ffff88003dac7d60 ffffffff81604eaa
http://    1.544861  ffff88003dac7de0 ffffffff815fe71e ffffffff00000010 ffff88003dac7df0
http://    1.544861  ffff88003dac7d90 0000000017c60e9e 0000000017c60e9e ffff88003dac7e00
http://    1.544861 Call Trace:
http://    1.544861 <ffffffff81604eaa> dump_stack+0x19/0x1b
http://    1.544861 <ffffffff815fe71e> panic+0xd8/0x1e7
http://    1.544861 <ffffffff81a4560d> mount_block_root+0x2a1/0x2b0
http://    1.544861 <ffffffff81a4566f> mount_root+0x53/0x56
http://    1.544861 <ffffffff81a457ae> prepare_namespace+0x13c/0x174
http://    1.544861 <ffffffff81a4527b> kernel_init_freeable+0x203/0x22a
http://    1.544861 <ffffffff81a449db> ? initcall_blacklist+0xb0/0xb0
http://    1.544861 <ffffffff815f33f0> ? rest_init+0x80/0x80
http://    1.544861 <ffffffff815f33fe> kernel_init+0xe/0xf0
http://    1.544861 <ffffffff81614d3c> ret_from_fork+0x7c/0xb0
http://    1.544861 <ffffffff815f33f0> ? rest_init+0x80/0x80

Edited by: Dante Knowles on May 26, 2015 10:38 AM"
Amazon EC2	"Re: Instance crashed during a yum update, kernel panic on restart
Hello Dante,

Before starting any kind of upgrade work I always recommend taking a snapshot.  Then, in situations like this, you can quite easily create a new volume from the snapshot an replace the original and be back up and running quickly.  More information about snapshots can be found below.
Taking snapshots: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html
Restoring from a snapshot: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-restoring-volume.html

In the case you don't have a snapshot, you will need to replace the instance and transfer the files to the new instance.  You can do this by...
1. Launch a replacement instance,
2. Stop the failed instance,
3. Detach the EBS volume(s) from it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html),
4. Attach them as secondary volumes to the new instance (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html),
5. Make the volume available for use by mounting it (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html),
6. Copy the files to the new instance.
You could try and repair the problem using this method but in situations like this it's probably easier to start again.

If you have any further questions please let me know.

Regards,
Anthony H."
Amazon EC2	"Some requests are too slow
I'm not sure if this is a problem with our EC2 servers or the ELB in front of them, but there are intermittent slow responses from our servers.

I've attached a screenshot of a `siege` on our servers, to a URL whose only job is to print the string ""success"". As you can see most requests in around 0.3 seconds, but there is one outlier in those requests that takes 67 seconds.

What might be the cause of these outliers?

Edited by: bluedogfrontiers on May 25, 2015 11:39 PM"
Amazon EC2	"Re: Some requests are too slow
In addition to the siege output above, here's a screenshot of the CloudWatch monitoring for average latency on the affected Load Balancer"
Amazon EC2	"eb deploy when you are using multiple aws accounts
Hi - I am working on two different projects for two different companies.  Each of them gave me access to their AWS management console to deploy Ruby applications.  I'm writing the code on my Mac OS/X.  I can't see where to change the configuration for the eb commands to point to the different accounts.  I did eb init, but it seems to point to the same AWS account and creates the application and server instance on that account.  Can someone please help or guide me to instructions when using two different AWS accounts for two different projects and trying to deploy using the eb command?

Thanks,"
Amazon EC2	"Snapshots stuck on pending -  500GB
Hi all,

I am new to EWS/EC2 and attempting to create a Windows snapshot.
I am following the doc at http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

I started 1 snapshot which sat on pending at 20% for over 90 min. I deleted this and started it again.
It is now sitting with no progress. I have googled the issue and some replies suggest it could be an AWS issue.
Can anybody help ?
Snapshot ID: snap-80fe1f04

Thanks"
Amazon EC2	"Re: Snapshots stuck on pending -  500GB
Hello, 

Depending on the size and usage of the snapshot, snapshot creation times can take varying amounts of time. 

Did your snapshot ever complete? 

Regards,
Nick"
Amazon EC2	"Does Amazon make some backup of my EC2? I'm DESPERATE, I lost my website.
Yesterday my website (an e-commerce) stoped to run.
It was some database comunication problem.
Today I tried to recover my manual backup, but the file is corrupted.

Is it possible to recover some backup from Amazon?
I was thinking to migrate to a Amazon more expensive plan to have the suport. Will the suport help with this problem?

My website is my business, I cant lost that. There are many clients contacts and orders data. i need to recover that.

Any help will be really good.

thank you in advanced

Regars,

Gabriel"
Amazon EC2	"Permantent Public IPs / Protecting Elastic IP for 'released' accidentally
Hi,

We have a VPC environment with 20+ instances and accesed by 20 team members. For easing connectivity we have set up a micro instance as a VPN server. This micro instance has an Elastic IP associated that we have allowed in our corporate firewall  for VPN connectivity. We are looking towards securing this Elastic IP as somebody accidentally released it and now we need to set up a new firewall rule. 

Can we either protect an Elastic IP for accidental release (all our users are Admins) or can we arrange for a permanent/long-term public IP that we can pay annually? 

ps. We are not keen on using the Direct Connect service since it provides muce more bandwith that we require, and hence we will pay for something we don't use. I'm aware that there are authorized suppliers that can set up a slower connection but it seems too hassle in terms of paperwork since we would like to get a single bill from AWS (as we do today).

Thanks,
Marcos"
Amazon EC2	"Re: Permantent Public IPs / Protecting Elastic IP for 'released' accidentally
Hi Marcos,

It is not possible to protect an Elastic IP against accidental release if all your users have administrative rights to your account.

Sorry about that.

Richard"
Amazon EC2	"Re: Permantent Public IPs / Protecting Elastic IP for 'released' accidentally
HI Richard,

Is there a way to perhaps arrange for a fixed public IP that we can use for a VPN? We would like to rely on OpenVPN since Direct Connect is a bit off-budget for our environment.  

Or is there perhaps a way to a adjust the IAM policies so that access to Elastic IPs panel is restricted?

I'm keen to explore options so please feel free to suggest what options we have for our case.

Thanks,
Marcos"
Amazon EC2	"Re: Permantent Public IPs / Protecting Elastic IP for 'released' accidentally
Hello, 

EIP is our sole static IP method, and your users who have correct privileges will be able to release those. 

The easiest way to disallow this access would be to not grant your users ""ReleaseAddress"" privileges, which would prevent them from releasing EIPs from your account. If you wanted to take it one step further you could even block users from being able to use ""DisassociateAddress"", so they wouldn't be able to remove EIPs from instances. 

Regards,
Nick"
Amazon EC2	"storage setting on RHEL 6.6 instance does not take effect
Hello, I launch an instance with a RHEL 6.6 AMI (RHEL-6.6_HVM_GA-20150319-x86_64-1-Hourly2-GP2 - ami-b0fed2d8). In the ""Add Storage"" step, I give root 30 GB. But I find actually root size only have 5.8 GB.  Please see below command result.

ec2-user@ip-10-0-0-105 ~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      5.8G  1.9G  3.7G  34% /
tmpfs           1.8G     0  1.8G   0% /dev/shm

ec2-user@ip-10-0-0-105 ~$ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  30G  0 disk 
`-xvda1 202:1    0   6G  0 part /

It seems root is only a partition of the disk. It looks like a bug to me. I have tried RHEL 6.4 and 7.1 AMI, no such issue. Root size is just 30 GB. Is there any workaround for this issue? I just need to use RHEL 6.6, and cannot switch to other distribution. BTW, below two RHEL 6.6 AMIs are also tried. Same issue exists.
RHEL-6.6_HVM_GA-20150128-x86_64-1-Hourly2-GP2 - ami-48400720
RHEL-6.6_HVM_GA-20141017-x86_64-1-Hourly2-GP2 - ami-aed06ac6

Thanks!"
Amazon EC2	"Re: storage setting on RHEL 6.6 instance does not take effect
It sounds like you need to expand the file system to use the entire volume. This should hopefully point you in the right direction:

Extending a Linux File System"
Amazon EC2	"Re: storage setting on RHEL 6.6 instance does not take effect
Thanks for your replying. But when I run resize2fs , it seems failed.

ec2-user@ip-10-0-0-105 ~$  sudo file -s /dev/xvd*
/dev/xvda:  x86 boot sector; GRand Unified Bootloader, stage1 version 0x3, boot drive 0x80, 1st sector stage2 0x156070, GRUB version 0.94; partition 1: ID=0xee, starthead 0, startsector 1, 20971519 sectors, extended partition table (last)\011, code offset 0x48
/dev/xvda1: Linux rev 1.0 ext4 filesystem data (needs journal recovery) (extents) (large files) (huge files)

ec2-user@ip-10-0-0-105 ~$  sudo resize2fs /dev/xvda1
resize2fs 1.41.12 (17-May-2010)
The filesystem is already 1572864 blocks long.  Nothing to do!"
Amazon EC2	"Re: storage setting on RHEL 6.6 instance does not take effect
Hello,

can you please try the following solution? I advise you to create a volume snapshot or better an AMI before starting.
I launched the same AMI, same issue:

lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  10G  0 disk 
������xvda1 202:1    0   6G  0 part / 


install gdisk:
sudo yum -y install gdisk


is possible that some ami does not include sgdisk utility in the initramfs images:
sudo dracut --force --install 'sgdisk' /boot/initramfs-$(uname -r).img


reboot your instance and verify your partition:

lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  10G  0 disk 
������xvda1 202:1    0  10G  0 part / 


Regards,
Giorgio"
Amazon EC2	"Re: storage setting on RHEL 6.6 instance does not take effect
Thank you! It works well."
Amazon EC2	"Re: storage setting on RHEL 6.6 instance does not take effect
Forget ...

Edited by: pjp-ubid on May 26, 2015 3:24 PM"
Amazon EC2	"Memory not as advertised?
I am running several instances of c4.2xlarge, which is advertised as having 31gb of memory.

When I try to run ""java -server -Xmx30g"" (which should run java with 30gb of memory) it runs out of memory.

So then I invoked the command ""free"" and got the following report:

             total       used       free     shared    buffers     cached
Mem:      15404800     846224   14558576         68      25852     622368
-/+ buffers/cache:     198004   15206796
Swap:            0          0          0

Looking at the first line, it appears that there are only about 14g of free memory on this instance.  What's going on?  Why is the memory so much lower than advertised?  Is the ""cache"" memory included in the stated memory size, and if so, how can I get access to it for my java server?

Thanks."
Amazon EC2	"Re: Memory not as advertised?
Never mind, I was looking at the wrong column.  The memory is as advertised, the ""31"" is the ECU column."
Amazon EC2	"Add an Alarm to an existing Auto Scaling Group via PowerShell
Hello
I am trying to add an alarm to an existing ASG's Scaling Policy. The Scaling Policy gets created via Write-ASScalingPolicy, but it does not provide for alarm properties to be set (I am using AWS Tools 2.3.38.0). I want to add (or rather link to an existing) alarm in the Scaling policy that I create for the ASG, but I don't see a way currently. I tried getting the scaling policy into an object, then setting the Alarms property, with the hope I can pass it to Write-ASScalingPolicy, but that failed. I also tried creating a new object of type System.Collections.Generic.List[Amazon.AutoScaling.Model.Alarm]
but that does not seem to accept an .Add(""My Alarm ARN"", ""My Alarm Name""), or setting AlarmARN or AlarmName (following this doc)

How do I modify the Scaling Policy?

Edited by: NaydenK on May 26, 2015 1:58 PM"
Amazon EC2	"Received notice that my instance would be retired
Have been notified that my instance i-f298399e will be retired due to underlying hosting hardware issues.  The instance is currently up and running properly.

Per the instructions I received:

""If your instance's root device is an EBS volume, you can replace the instance by creating an AMI of your 
instance, and launching a new instance from the AMI.""

1. Not having gone through that process before, I have questions.  When I create the AMI of the existing instance and then launch a new one, will it maintain the same IP settings we currently have, or will new IP's foraccess be assigned?

2. Can the AMI be created while the current instance continues to run?

Thanks for your assistance."
Amazon EC2	"Re: Received notice that my instance would be retired
Hello, 

The state of IPs on your instances depends on if it's an EIP or not. EIPs can be reassigned between instances, so if you launched a new instance you 'd be able to assign your original instance's EIP to it upon start up, and fail over that way. You can read more on IP addressing within AWS here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html

The AMI creation process will power down the instance before creating the AMI to ensure consistency in what is being copied. You can read more on AMI creation here: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

Let us know if you have any additional questions. 

Regards,
Nick"
Amazon EC2	"Unable to connect to instance
Background: I am trying to setup the Jaspersoft Analytical BI software instance and have made some progress. I have the instance setup with the key pair and have managed to get everything opened up in Putty. 

Problem: When I try to connect to the instance I keep getting errors like ""Permission denied (publickey)."" But when I try to run the chmod 400 command it says there is no such file or directory.  I have attached the command prompt to show all the information I am looking at. I have been at this for hours searching for answers online but I am not having any luck and I am quite new to this. Anyone know what i am doing wrong? Let me know if you need more information."
Amazon EC2	"Re: Unable to connect to instance
Hello, 

So your putty output shows you've SSH'ed into an EC2 host, and it looks like from that EC2 instance you're attempting to SSH to another EC2 instance. 

So are you attempting to SSH to your instance directly? If so it looks like you're doing so successfully already. If you're aware of that and are attempting to SSH from some bastion host to your BI software instance, then can you confirm you have a testJasper.pem file in your home directory with a 'ls' command output? 

Regards,
Nick"
Amazon EC2	"Protection against Logjam on ELB, unique diffie-hellman Group
Following logjam weakness in Diffie-Hellman (https://weakdh.org/), about the second weakness, using the same diffie-hellman group for everyone, the author recommend to generate unique diffie-hellman group with an higher size.

When we checked for websites deployed behind ELB, we had this warning:

Warning! This site uses a commonly-shared 1024-bit Diffie-Hellman Group, and might be in range of being broken by a nation-state. It might be a good idea to generate a unique, 2048-bit group for the site.

As the ELB do SSL termination, there is nothing we can do about I guess, is it possible or planned to be able to use unique key per customer? I imagine for some critical users, the need will be urgent, but will it be available for every customer and automatically deployed or will we need to ask customer support?

Has anyone some informations about this topic?"
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
I would also like to know this."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
I vote on a answer for this as well."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
Same here."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
AWS needs to give feedback on this. Has anyone with a business support made a ticket?"
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
I have.  They will be back to me in 12 hours."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
You can examine the ciphers that your ELB supports. I don't see DHE_EXPORT among the options, however. But maybe that designation is for a class of ciphers. I guess there's more to this..."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
Please see the announcement in this forum regarding this issue: https://forums.aws.amazon.com/ann.jspa?annID=3061"
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
the announcement only talks about load balancers and does not mention Beanstalk load balancers, which is different, because in case of beanstalk the load balancers are re-created."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
From the announcement:All load balancers created after May 20, 2015 17:00 PM PST will use this new SSL Security Policy by default.

It looks like we can assume that EB load balancers will be created with this policy when scaling occurs. It would be nice to know definitively though."
Amazon EC2	"Re: Protection against Logjam on ELB, unique diffie-hellman Group
All new Elastic Beanstalk environments created after 5/20 will use the new policy by default. If you want to update an existing environment's ELB to use the new policy, please include the following ebextension (change the LoadBalancerPorts list as necessary) in your application archive. For more information on ebextenions, see Customizing and Configuring Elastic Beanstalk Environments.

Note: Please ensure line endings are unix/linux (LF only) when copy/pasting in your editor

Resources:
  AWSEBLoadBalancer:
    Type: AWS::ElasticLoadBalancing::LoadBalancer
    Properties:
      Policies:
      - PolicyName: ""ELBSecurityPolicy""
        PolicyType: ""SSLNegotiationPolicyType""
        LoadBalancerPorts: [ ""443"" ]
        Attributes:
        - Name: ""Reference-Security-Policy""
          Value: ""ELBSecurityPolicy-2015-05""


Thanks,
AbhishekS

Edited by: AbhishekS@AWS on May 26, 2015 12:59 PM"
Amazon EC2	"Security Group Not working
For some reason any new security groups I create are not working anymore! Even if I just copy the security group from a working security (exact same settings) it doesn't work. Only the existing security groups I created weeks ago work now. WTF Amazon ????"
Amazon EC2	"Re: Security Group Not working
What about it is not working?"
Amazon EC2	"Re: Security Group Not working
Any new Security group I add does not work. Even if I just copy a working security group and swap that for the old security group on an instance it no longer allow traffic to pass through it (same exact rules). Even if I manually create a new security group it doesn't work. It seems the only security groups that work are my existing security groups."
Amazon EC2	"Re: Security Group Not working
Is there anyone at Amazon that can explain this? Only security groups that were originally created are working. Any new security groups that are created (even ones that are copied from working security groups) are not working. AWS?????"
Amazon EC2	"Instance unreachable
Yesterday at 2015-05-25 11:21:26 PDT we lost contact to an instance, with no apparent reason. The instance id was i-eafe47e7. Issue was resolved by relaunching a new instance. Would like to know if we can get additional information about what happened and if there is something we can do to prevent or monitor these kind of incidents. Thanks in advance.

Nicolas"
Amazon EC2	"Re: Instance unreachable
Hello Nicolas,

I do apologize for the issue you encountered with your EC2 instance i-eafe47e7. I am able to confirm the underlying-host where your EC2 instance resided experienced an issue. Again, I apologize for any inconvenience caused. 

You can create an Amazon CloudWatch alarm that monitors an Amazon EC2 instance and automatically recovers the instance if it becomes impaired due to an underlying hardware failure or a problem that requires AWS involvement to repair. A recovered instance is identical to the original instance, including the instance ID, private IP addresses, Elastic IP addresses, and all instance metadata. For more information about using Amazon CloudWatch alarms to recover an instance, see Create Alarms That Stop, Terminate, or Recover an Instance in the Amazon EC2 User Guide for Linux Instances. 

If you have any additional questions or concerns, please do let us know. We would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Not able RDP on newly created instance
I have recently created a new Windows 2008 r2 instance on which i am not able use Remote Desktop.

Instance ID : i-3fcec1e9
VPC ID in use: vpc-b42615d1
Active Security Group have RDP(3389) allowed from Anywhere. 

I have two instances running which seems to be on classic architecture. Since i am not able to launch similar instances i launched a new one. During configuration it asked me to select a VPC which i did. I am able to see DNS, public ip and elastic ip address i assigned to this new instance. But i am not able to launch remote desktop. 

Please guide me as i think it is some settings in VPC i need to change."
Amazon EC2	"Re: Not able RDP on newly created instance
What i did i entered a new route to IGW in VPC for newly created instance. Now i am able to take RDP of my new instance. 

This should be automated while creating new instance, people who are not aware they have to manually enter this would never know without searching for answers on internet or contacting Amazon support."
Amazon EC2	"Re: Not able RDP on newly created instance
I figured out the settings myself and made required changes in VPC Route Tables."
Amazon EC2	"Instance Restart i-2485a267
The above server restarted on 21/5/15 @ 4PM UK Time - Can anybody through any light onto why this may have happened.

I have checked event logs on the server to no avail - If it was a physical server I would say somebody just pulled the power out....

Rgds
Mark"
Amazon EC2	"Re: Instance Restart i-2485a267
Hello Mark,

I understand your EC2 instance i-2485a267 experienced an unexpected reboot. I apologize for any inconvenience caused by this. Upon reviewing your EC2 instance, your EC2 instance appears healthy, and the underlying-host also appears in good health. I can also confirm there were no reboots that were experienced on the underlying-host.

I did review your EC2 instance further, and noticed the EC2 instance experienced a spike in CPU Utilization to 100% at 2015-05-21T14:54+0000. It is advised for further review your OS level logs to gain more information on what may have occurred during that time.

I hope this information is helpful to you. If you have any additional questions, please do let us know.

Regards,
Mohsin"
Amazon EC2	"Load Balancer Health Check
I am using Auto Scaling with Elastic Load Balancer.
Auto Scaling group has two healthy running instances. I can access these with remote desktop connection.
But these instances are labeled unhealthy in load balancer.
In monitoring metrics “Sum ELB 5XXs” I have error indication dot with value one.
My ELB health check configuration is as below:

Ping Target	HTTP:80/elbhlth.html (html page in my root directory specifically put for ELB health check
Timeout	60 seconds
Interval	200 seconds
Unhealthy Threshold	2
Healthy Threshold	2

ELB Listners are:
Load Balancer Protocol	Load Balancer Port	Instance Protocol	Instance Port	Cipher	SSL Certificate
HTTP		80	HTTP	80	N/A	N/A
HTTPS	443	HTTPS	443	Change		Cert240515 Change

I have spent a lot of time configuring ELB trying every thing in documentation without success.
I would be very obliged if I could get some response as I have to present my solution very shortly to the clients.
Thanks"
Amazon EC2	"Re: Load Balancer Health Check
Finally I was able to solve the problem by knowing what I was doing wrong.
For anyone doing the same mistake (though chances are small any one doing such dumb mistake) here are the details.
I am using IIS for websites hosting and have multiple websites on web server.
ELB look for ping target in default website, which I had stopped and I had put ping target html page in an other website root (my mistake).
To make this website default, I changed the port of IIS default website from 80 to something else and stopped it.
I left blank the Host Name field in my website binding(where I had placed ping target page). This make it default website of IIS server. 
Now the ELB is able to ping and all the instances are declared healthy."
Amazon EC2	"AWS can't connect to instance using same pem key at office
Hi,

I have a .pem key and I can connect to instance from AWS management console. But I can't connect to instance at the office using same key.

May I know how to generate another key for different machine or location?

Regards,
Alex"
Amazon EC2	"Re: AWS can't connect to instance using same pem key at office
Hello,

Please provide the output of ssh with the -vvv options. Please also provide the instance ID.

Regards,

Matt J"
Amazon EC2	"Re: AWS can't connect to instance using same pem key at office
Hi Matt,

Here is my instance i-5f823a08. I will provide the output of shh when I reached home. I can only connect from my home pc.

Regards,
Alex"
Amazon EC2	"Re: AWS can't connect to instance using same pem key at office
I Lounch an Linux Ubuntu instance from my Windows PC and I am using that Ubuntu server now. But, I want to connect to the same instance from my Macbook too. I don't want to Lounch another instance from my Mac. But, when i try to open the instances in the site from my Mac, the Amazon site tel me that there is no instance currently open.  Also i copy the same key in my Macbook. 
What I need to do to connect to the current instance that I create already and use it in my Mac too?
I will be appreciated it you guide me."
Amazon EC2	"Restarted EC2 instance, data wiped clean
Hi,

I want to upgrade one or more of our EC2 instances, so to test this process I used our Staging server. From the dashboard I set Instance State > Stop. After a few minutes I set Instance State > Start. I didn't change the Instance Type or anything else, I just stopped it and started it again this time as an initial test.

Now having restarted, I can connect to the server over SSH, but all of the files and the configuration that was there is gone. I had a few PHP apps running in /var/www/sites and /var/www/html, Apache virtual hosts configured, etc., but there is nothing there now – the command history is even empty.

Can anyone suggest why this would be the case, and how can I restore the lost data to what was there before the restart?

I did not do anything with the EBS volumes – there is one seemingly attached to the EC2 instance, but I did not attach or detach this. There are no unattached volumes, so I don't know if this data is backed up anywhere.

Any help appreciated.

Thanks,

Dave"
Amazon EC2	"Re: Restarted EC2 instance, data wiped clean
Hello,
probably you were using Instance-Store volumes 
I would suggest to use EBS in order to keep the data available across stop/start operations.
Regards
Adolfo"
Amazon EC2	"Re: Restarted EC2 instance, data wiped clean
Hi,

If you were using the instance storage/ephemeral storage for your apps/data then during a stop/start operation all of this data is lost.  It is only temporary storage.  To maintain your data and ensure it is available after stopping/starting your instances then you must use EBS Volumes.  These allow persistant storage of your data.  You can even detach these volumes and keep them with the data on whilst launching a new instance and reattching this volume to your new instance.

More info on EBS can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html

Info on instance/ephemeral storage can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Restarted EC2 instance, data wiped clean
Thanks guys. How can I tell if I 'm using EBS from now on? There is supposedly an EBS volume attached to this instance, so how do I know if it's storing the data there? I presume – since I didn't set up EBS after restart – that it was attached previously. So is being attached different to being used?

I'll read the docs now, thanks."
Amazon EC2	"Re: Restarted EC2 instance, data wiped clean
Hi

To make an EBS volume available and ready for use:

Linux: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html

Windows: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html#using-ebs-volume-windows 

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"SecurityGroup in ImportImage api
Is there a way to set securityGroup id in ImportImage API?"
Amazon EC2	"What possible MAC addresses can be assigned to a network interface?
I noticed that the MAC addresses assigned to my EC2 instances don't show up in the IEEE OUI.  That is, they aren't registered with any particular manufacturer.  Is there a particular range of MAC addresses that gets randomly assigned to the ethernet interfaces?  I'm more curious about instances that do not have elastic network interfaces."
Amazon EC2	"Instance stuck over weekend
On Sunday one of our instances became available, with 0/2 status checks passing. I tried shutting it down, however this got stuck.

Terminating the instance eventually worked after a couple of hours, where I presume it was forcefully terminated.

I was unable to see anything in the system log, are you able to provide any information as to why this happened? It would be good to know, so that we can possibly avoid it happening in the future.

The instance ID was i-005d7642.

Thanks."
Amazon EC2	"Re: Instance stuck over weekend
Hello,
After reviewing your account I was able to locate the instance in question and checked the instance health history. I could see that the underlying hardware had some issues during that time frame which might have led to the instance being unreachable.
I really apologize for the inconvenience. 
Regards,
Adolfo"
Amazon EC2	"Putty connection refused on new ubuntu instance
Hello,

I know, i know. There are probably a hundred threads about this topic, but none of them helped me. I basically followed the setup for connecting to my EC2 ubuntu instance with putty, but I keep getting the same ""Network Error: Connection refused"" response.

My instance's id: i-fd1d9d3c

Thanks in advance!"
Amazon EC2	"Re: Putty connection refused on new ubuntu instance
Hi there, 

I've taken a look at your instance and it shows that its ready to login via the system log. 

Have you confirmed the following: 
1) You are using the right keypair
2) You converted the pem key to a .ppk key for putty
3) You are using the ubuntu user name to login? 

Kind regards
Belynda"
Amazon EC2	"Re: Putty connection refused on new ubuntu instance
Thank you very much,

it seems like I accidentally selected the wrong key. My bad. Sorry for that pointless question."
Amazon EC2	"Re: Putty connection refused on new ubuntu instance
HI,

I am facing the same problem, I can't connect my instance. my instance ID is i-c0b92f37

1. I am using the right key pair.
2. I am using .ppk key for putty
3. what do you means by Ubuntu user name to login"
Amazon EC2	"Detach and Reattach Volume. Instance Won't Initialize
After following documentation and correct procedures for detaching and reattaching a volume to an instance, instance ID will not intialise after stopping and trying to start. After initially stopping, taking a volume snapshot, detaching the volume, and reattaching a larger volume to the instance, it did not work (couldn't initialise 1/2). I tried creating a new instance, and attach the volume to that, as per AWS documentation suggestions, but wouldn't initialise with the volume, and also simply rebooting, which didn't work, and so just tried to restart the very original instance after attaching with the very original volume - unchanged in other words. Won't initialise. Cannot create a new version of the site, and can't reinstate the old. Have no options, no operating site, and no way out for what seems to be a frustrating system prone to inconsistency, error, and no apparent technical support. Note that in all cases, volumes are being attached and reattached to /dev/sda1 as per previous setup and all documentation. Instance is Windows 2012."
Amazon EC2	"Re: Detach and Reattach Volume. Instance Won't Initialize
Logs...

2015/03/19 02:06:33Z: AMI Origin Version: 2014.07.10
2015/03/19 02:06:33Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/03/19 02:06:33Z: OS: Microsoft Windows NT 6.2.9200.0
2015/03/19 02:06:33Z: Language: en-US
2015/03/19 02:06:33Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/03/19 02:06:34Z: Difficulty detecting PV driver details for Console Output
2015/03/19 02:06:42Z: Message: Waiting for meta-data accessibility...
2015/03/19 02:08:23Z: Still waiting for meta-data accessibility...
2015/03/19 02:10:13Z: Still waiting for meta-data accessibility...
2015/03/19 02:12:04Z: Still waiting for meta-data accessibility...
2015/03/19 02:13:54Z: Still waiting for meta-data accessibility...
2015/03/19 02:15:44Z: Still waiting for meta-data accessibility...
2015/03/19 02:17:35Z: Still waiting for meta-data accessibility...
2015/03/19 02:19:25Z: Still waiting for meta-data accessibility...
2015/03/19 02:21:15Z: Still waiting for meta-data accessibility...
2015/03/19 02:23:06Z: Still waiting for meta-data accessibility...
2015/03/19 02:24:56Z: Still waiting for meta-data accessibility...
2015/03/19 02:26:46Z: Still waiting for meta-data accessibility...
2015/03/19 02:29:44Z: AMI Origin Version: 2014.07.10
2015/03/19 02:29:44Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/03/19 02:29:44Z: OS: Microsoft Windows NT 6.2.9200.0
2015/03/19 02:29:44Z: Language: en-US
2015/03/19 02:29:44Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/03/19 02:29:45Z: Difficulty detecting PV driver details for Console Output
2015/03/19 02:29:53Z: Message: Waiting for meta-data accessibility...
2015/03/19 02:31:34Z: Still waiting for meta-data accessibility..."
Amazon EC2	"Re: Detach and Reattach Volume. Instance Won't Initialize
I have learnt more about the issue here
https://forums.aws.amazon.com/thread.jspa?messageID=573535

and would just like to see if there is any assistance that can be provided with this yet.

Instance is still off line."
Amazon EC2	"Re: Detach and Reattach Volume. Instance Won't Initialize
Hi there sonicavatar,
Looking at the other thread that you linked to I see that you are talking about instance ID i-1fd05841. Looking at the details of that instance it does indeed seem that you might be affected by the issues identified in the below link:
http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

I would suggest that you start this instance, then after it has been failing health checks for more than 20 minutes you could create a support case using the information in the below link:
https://aws.amazon.com/premiumsupport/faqs/#sfhc

After you create this support case we can take you over the process in more detail specific to your situation. If you like you can PM me the case number after you create it and I will check it out when I am next on shift.

Quim."
Amazon EC2	"Still waiting for meta-data accessibility - Server 2012 R2 loses connection
After rebooting the server instance due to windows updates required, the server instance has once again become in an impaired state and cannot start up (checks 1/2, exclamation mark).

The logs once again show:
Still waiting for meta-data accessibility...
Still waiting for meta-data accessibility...
Still waiting for meta-data accessibility...

This is despite following all procedures and work arounds to fix the error last time including all instructions outlined at:
http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/
and at:
https://forums.aws.amazon.com/thread.jspa?messageID=573535

A completely new instance was created with the suggested long term updates achieved by CLI Tools and the issue with certain EC2 instances running Windows Server 2012 R2 that lose network connectivity after an instance reboot has now reappeared. At the very next reboot required after a windows update.

Your urgent assistance would be greatly appreciated. Instance ID i-320f08f1"
Amazon EC2	"Re: Still waiting for meta-data accessibility - Server 2012 R2 loses connection
Hello,
This can occur if the OS has no route out to the metadata service.
It can be caused by a scenario such as a static IP set within the guest for a different subnet, as may be caused by deploying a custom AMI into a new instance in a new subnet.
Thanks to new features of VPC, adding a second interface (ENI) to the instance will provide the missing route and should allow you to access the instance and resolve the issue with the statically assigned IP.

More information about ENIs is available here:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#metadata-unavailable
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/using-eni.html#create_eni
Regards,
Adolfo"
Amazon EC2	"Error: Unsupported kernel version 3.0.101-0.46-default
The conversion tasks after uploading vm to ec2 keeps failing

I keep getting this error

Error: Unsupported kernel version 3.0.101-0.46-default  InstanceID      i-a85eec6a

any idea?"
Amazon EC2	"Re: Error: Unsupported kernel version 3.0.101-0.46-default
any fix to this? Why isnt there any response?"
Amazon EC2	"EBS volumes are stuck in state 'deleting'
Hi,

I have attempted to delete these 2 EBS volumes several days ago, but they are stuck in status 'Deleting'. Here are the problem volumeIDs that are stuck:

vol-d76e6e8d   ... deleting 
vol-237b8448  ... deleting

Please help,

Thanks,

Matthias"
Amazon EC2	"Re: EBS volumes are stuck in state 'deleting'
Hi,

I have reached out to the EBS team to assist with deleting your volumes. In the meantime, if you have not yet done so, try force the detachment by clicking Force Detach.

Thanks.

Ronnie"
Amazon EC2	"Re: EBS volumes are stuck in state 'deleting'
Hello Matthias

Our EBS team has reported that these volumes are now deleted, please will you check and confirm you see the same result?

Kind regards

Leon"
Amazon EC2	"Re: EBS volumes are stuck in state 'deleting'
These volumes are deleted now. Thanks for your help.

There is one more question. I have created an IAM user with Administrator Access Rights, yet this user is not able to post questions to this EC2 forum. I have to login with root credentials in order to be able to post to this forum. Do you know why this is the case ?

Matthias"
Amazon EC2	"Create new volume from snapshot - everyone else's snapshots visible
I created a new volume from a snapshot this morning, and noticed that there were many, many snapshots to choose from (my single snapshot included). I selected one at random and was indeed allowed to create the volume. I did not go any further as I did not want to look at what may have been on that snapshot.

This appears to be a huge security lapse - who knows what might be on these snapshots?

Have I misunderstood something?"
Amazon EC2	"Re: Create new volume from snapshot - everyone else's snapshots visible
Hi,

Permissions can be given on who can create a volume from a specific snapshot.  The snapshot you have seen are likely to be backups of other EC2 instances within your infrastructure.  

Permissions and security of Snapshots can be read about here: http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeSnapshots.html

If you feel you are able to create volumes based on EC2 instances that you shouldnt really have access to you should inform your Admin/Security team who look after AWS access on your account to get them to lock this aspect down.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"EC2 (windows) Storage Spcae Full
We are using Free Tier ""Windows_Server-2008-R2_SP1-English-64Bit-SQL_2008_R2_SP2_Express"" along with 30GB Storage. We Still not put any data in this server, but when I check My Computer,  C driver space show only 1GB free out of 30GB.

We did not  find out the where space used.

Please help"
Amazon EC2	"Re: EC2 (windows) Storage Spcae Full
Hi,

Remember that the OS and SQL will largely be taking up most of this space.  To add additional space attach another EBS volume/increase current volume to your instance using this procedure.

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Mysterious price-too-low status
I have been attempting to launch 4 g2.2xlarge instances using spot requests. The current spot market rate shows a price of ~ $0.065 across three of the us-east availability zones (1b, 1c, 1d). One availability zone, 1e, shows a current spot price of $6.0. When I attempt to launch my 4 instances with a maximum price of $0.08, well above the $0.065 market price on 1b, 1c, and 1d, my requests go into the ""price-too-low"" status and are never fulfilled.

The status message informs me that my request price is below the market price of $6.0. I have tried to launch a g2.8xlarge instance instead, and again, AWS seems to default to the highest market price. Is this a bug, or some new behavior?"
Amazon EC2	"Re: Mysterious price-too-low status
Tried it again today, same behavior. Does anyone know what could be causing this?"
Amazon EC2	"Re: Mysterious price-too-low status
Hi,

Are your trying to launch and of these instances in the 'e' availability zone where the price is $6? if so, then this is why you are getting the error.  If you try launching the other 3 in the other AZ's with your spot price, does this work? 

Cheers,

Stooby..."
Amazon EC2	"Instance i-6ba910aa stuck in stopping state
Hi everybody

The instance was unreachable externally and the EC2 health checks also indicated that the instance was unresponsive. I tried to forcefull stop the instance both via web and the cli, now the instance has been stuck in the stopping state for over on hour.
I would greatly appreciate if someone could resolve the state to stopped.

Thanks in advance!
Jan"
Amazon EC2	"Re: Instance i-6ba910aa stuck in stopping state
solved it self apparently about 60min after first shutdown attempt.
Is that coincendence or is 1 hour the usual threshold?

Regards
Jan"
Amazon EC2	"Unable to SSH to elastic IP present in same subnet
Hi,

I have two EC2 instances in the same private subnet within same VPC. I am not able to connect to one of the machine by using its elastic IP address but I can connect to that machine using its private IP address.

Ex. When I give following command, I get connection timed out error

ubuntu@ip-10-0-4-10:~$ ssh -i ~/access_keys/dasher-prod-keypair.pem ubuntu@52.8.42.12
ssh: connect to host 52.8.42.12 port 22: Connection timed out

but when I ssh to this (52.8.42.12) instance using its private IP, I am able to connect.

52.8.42.12 instance and 10-0-4-10 instances are in same VPC and in same subnet  then also I am not able to connect to it through SSH.

Can anyone please help in this problem?

Edited by: jithen on May 25, 2015 11:39 PM"
Amazon EC2	"Re: Unable to SSH to elastic IP present in same subnet
Hi,

Where are you trying to connect from? Your local network so the traffic is coming from a public source, or from an instance within AWS? 

EIPs are public IP addresses, yet you state that the instance is in a Private Subnet?? So there seems to be a conflict of configuration here.  If it is in a private subnet then you shouldnt need your EIP and simply connect to it from its private IP address from other instances.

If it need to be publically accessible then the instance needs to be moved to a subnet that is Public, to do this setup and ensure the following:


Check to ensure you have an Internet Gateway setup 
Check to ensure this Internet Gateway (IGW) it attached to your VPC
Check to ensure that your security groups allow SSH to your subnet from the source you are trying to connect from
Check to ensure that your Network ACLs are configured to also allow this connection
Check to ensure you have a route table attached to your subnet that allows a public route to the internet via the IGW, for example: 0.0.0.0/0 via IGW


Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Volume status remains ""deleting"" for more than 2 weeks now
I deleted one of my detached volumes via the AWS EC2 console two weeks ago. However the volume still is visible in the volumes list and the status is ""deleting""? Shouldn't take that long? I also tried to delete it via de ec2 cls with no luck either. No warning is show, when the command is executed other than the volume id itself. 

What can I do to loose the volume? I can imagine the diskspace is still being billed?

Thanks for the help,

Luciano"
Amazon EC2	"Re: Volume status remains ""deleting"" for more than 2 weeks now
Hi Luciano,

Can you please provide the volume id's (eg. vol-d3XXXXX) of the volumes that are stuck? We'll gladly have a look and see whats going on.

Kind regards,
Chris"
Amazon EC2	"Re: Volume status remains ""deleting"" for more than 2 weeks now
Hi Chris,

I see that the volume is removed at last. Did you remove it?

Thanks,
Luciano"
Amazon EC2	"Re: Volume status remains ""deleting"" for more than 2 weeks now
Hi Luciano,

I was waiting for the volume id to investigate this further. Our system must have completed the delete process. Apologies that it took so long!

Kind regards,
Chris"
Amazon EC2	"Increase File System space for /dev/xvda2 for AWS EC2 Virtual Server
ec2-user@ip-172-31-12-112 ~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda2      6.0G  4.3G  1.8G  72% /
devtmpfs        482M  348K  482M   1% /dev
tmpfs           497M     0  497M   0% /dev/shm
tmpfs           497M   57M  441M  12% /run
tmpfs           497M     0  497M   0% /sys/fs/cgroup
ec2-user@ip-172-31-12-112 ~$

Based on the output shown above, howto increase the filesystem space, in aws.amazon.com volume shows 30GB, Need help increasing the space for /dev/xvda2"
Amazon EC2	"Re: Increase File System space for /dev/xvda2 for AWS EC2 Virtual Server
Hello,

If you have recently increased the size of an EBS volume and the file system is not partitioned, then you most likely will need to issue a resize2fs command so that the instance will see the true size of the volume.

The command would go something like:

sudo resize2fs /dev/xvda2

More detail is provided here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

Regards,
Troy W"
Amazon EC2	"Re: Increase File System space for /dev/xvda2 for AWS EC2 Virtual Server
Hi Troy.

Tried below command:

sudo resize2fs /dev/xvda2

Error observed:

resize2fs 1.42.9 (28-Dec-2013)
resize2fs: Bad magic number in super-block while trying to open /dev/xvda2
Couldn't find valid filesystem superblock."
Amazon EC2	"Re: Increase File System space for /dev/xvda2 for AWS EC2 Virtual Server
Hi Troy.

it shows like below when i type lsblk command. all my softwares are installed on /opt/app directory and i need more size.

root@# lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  30G  0 disk
├─xvda1 202:1    0   1M  0 part
└─xvda2 202:2    0   6G  0 part /

Thanks
Hari Kodali"
Amazon EC2	"Re: Increase File System space for /dev/xvda2 for AWS EC2 Virtual Server
HI, 

can you re-attempt to resize the disk using parted or gdisk here, dependent on your disk configuration: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html

Kind regards, 
Belynda"
Amazon EC2	"Error when starting intance
Hi.
I have problem with starting my instance:
I press start and it give me error:

This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.

What is this mean ? 
How can I unlock my account ? 
Thanks for reply"
Amazon EC2	"Re: Error when starting intance
Hi there, 

As per the message you received, please contact aws-verification@amazon.com via email in order for them to verify your account. 

Kind regards, 
Belynda"
Amazon EC2	"[Retirement Notification] Amazon EC2 Instance scheduled for retirement
Hey there,

We received retirement notification for instances: 
i-1cbfcb51
i-942fa9d9

I'm unable to reach the instances and wanted to stop and start instances but they stuck at ""stopping"" status.

What should I do now?

Thank you."
Amazon EC2	"Re: [Retirement Notification] Amazon EC2 Instance scheduled for retirement
Hi there, 

I have taken a look at your instances and they are both in the running state now.  Please let us know if you need any further help. 

Kind regards, 
Belynda"
Amazon EC2	"ec2 medium instance
""server un expectedely close network connection"" when i am tryng to connect to my ec2 instance using  putty 
. please help me solve this error

Edited by: bagyanat on May 25, 2015 11:24 PM"
Amazon EC2	"Load Balancer Static IP ??
Hello everyone,
Our clients are having troubles with configuring their firewalls. They can only add exceptions by IP address, not by hostname. And because Load Balancers keep changing IPs, these clients can not use our services.

Is it possible to assign static IP to Load Balancer (using other AWS services or third-party applications?)

Thank you for your answer."
Amazon EC2	"Re: Load Balancer Static IP ??
BUMP"
Amazon EC2	"Houdini render can't start VMs in EC2
Hello community,

I use Houdini Apprentice and was testing to submit my very small .hip file to the cloud. However, in trying so, 90% of the times it fails. It's like you submit the ""Submit"" button and nothing happens. It just sits there without actually starting my EC2 VMs. It's not that it never works but like I said, it works like only once in many many attempts. Sometimes, you just can't even make it work once no matter how many times you try.

Anyone else has faced this issue? FYI, I am using Houdini 14.0.291 on Mac on v10.10.02.

Any help much appreciated.

Best,

Faiz"
Amazon EC2	"Re: Houdini render can't start VMs in EC2
I can't even figure out how to sign up here for Houdini cloud computing..."
Amazon EC2	"AWS ELB to Apache2/Nginx Reverse Proxy for Kibana4
Hello

I am hoping someone can point out to me what i am doing wrong

i am trying to load balance 2 Kibana4 EC2 Instances now what i have done is setup apache2 with following configuration to act as a proxy for kibana4 and if i hit the IP Address of the EC2 Server Directly it works

<VirtualHost *:80>
        ServerName kibana.mysite.com
        ServerAdmin admin@mysite.com

  #
  # Proxy
  #
  ProxyRequests Off
  ProxyPass / http://127.0.0.1:5601
  ProxyPassReverse / http://127.0.0.1:5601
  RewriteEngine on
  RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f
  RewriteRule .* http://127.0.0.1:5601%{REQUEST_URI} P,QSA

        ErrorLog ${APACHE_LOG_DIR}/kibana_error.log
        LogLevel warn
        CustomLog ${APACHE_LOG_DIR}/kibana_access.log combined
</VirtualHost>

But when i put a ELB in front of it i get ERR_EMPTY_RESPONSE from the browser, and i can't see any errors on the EC2 Server indicating why

can someone point me in the right direction

Thanks"
Amazon EC2	"Instance i-f95bcf84 is stuck while 'stopping'
Can somebody unstick this instance?"
Amazon EC2	"Re: Instance i-f95bcf84 is stuck while 'stopping'
Hi attensadev,

Truly sorry for the concern and inconvenience this has caused you. I've manually put the instance into a stopped state. You should be able to issue a start which will bring it up a new healthy host.

Regards,

Rodney"
Amazon EC2	"How to Disable Hyper-Threading on AWS EC2 on a Windows Server 2012 instanc?
Is there a command to use (in the command window, perhaps?) to disable Hyper-Threading on a Windows Server instance on AWS EC2?  The default hyper-threading slows down my HPC Sci/Engineering codes.  I only know how to do this in the BIOS - is there another way?  Thanks!"
Amazon EC2	"Problem sourceforge download (mirror ufpr)
Hi

Every time I need to do to donwload my servers (Region: sa-east-1 | Linux / Windows) some contents of sourceforge am directed to ufpr mirror and then end up getting timeout.

I auditioned coming from somewhere else (like AWS Virginia) or coming from my company (RJ) and this error does not happen.

wget http://sourceforge.net/projects/webadmin/files/webmin/1.750/webmin-1.750-1.noarch.rpm/download?use_mirror=ufpr
--2015-05-25 11: 16: 40-- http://sourceforge.net/projects/webadmin/files/webmin/1.750/webmin-1.750-1.noarch.rpm/download?use_mirror=ufpr
Resolving sourceforge.net (sourceforge.net) ... 216.34.181.60
Connecting to sourceforge.net (sourceforge.net) | 216.34.181.60 |: 80 ... connected.
HTTP request sent, awaiting response ... 302 Found
Location: http://downloads.sourceforge.net/project/webadmin/webmin/1.750/webmin-1.750-1.noarch.rpm?r=&ts=1432563400&use_mirror=ufpr [Following]
--2015-05-25 11: 16: 40-- http://downloads.sourceforge.net/project/webadmin/webmin/1.750/webmin-1.750-1.noarch.rpm?r=&ts=1432563400&use_mirror=ufpr
Resolving downloads.sourceforge.net (downloads.sourceforge.net) ... 216.34.181.59
Connecting to downloads.sourceforge.net (downloads.sourceforge.net) | 216.34.181.59 |: 80 ... connected.
HTTP request sent, awaiting response ... 302 Found
Location: http://ufpr.dl.sourceforge.net/project/webadmin/webmin/1.750/webmin-1.750-1.noarch.rpm [Following]
--2015-05-25 11: 16: 40-- http://ufpr.dl.sourceforge.net/project/webadmin/webmin/1.750/webmin-1.750-1.noarch.rpm
Resolving ufpr.dl.sourceforge.net (ufpr.dl.sourceforge.net) ... 200.236.31.2, 2801: 82: 80ff: 8000 :: 3
Connecting to ufpr.dl.sourceforge.net (ufpr.dl.sourceforge.net) | 200.236.31.2 |: 80 ... connected.
HTTP request sent, awaiting response ... Read error (Connection timed out) in headers.
Retrying.
 
--2015-05-25 11: 31: 42-- (try: 2) http://ufpr.dl.sourceforge.net/project/webadmin/webmin/1.750/webmin-1.750-1.noarch.rpm
Connecting to ufpr.dl.sourceforge.net (ufpr.dl.sourceforge.net) | 200.236.31.2 |: 80 ... connected.
HTTP request sent, awaiting response ...


att

Edited by: rmsysadmin on May 25, 2015 11:44 AM"
Amazon EC2	"upload data to s3 bucket through android application
i am trying to upload data to amazon s3 bucket through android application. i follow all the instruction that is provided by amazon mobile upload example. but unable to do it. it shows some ssl errors 
1. error exit in 23RSHA SSLv2/v3 read server hello A.
2. error exit in 3RSC_A SSLv3 read server certificate A.
3.  error exit in 3RFINA SSLv3 read finished A.
i am unable to solve that errors and without solving these data is not uploading to server. if any body have solution for this problem then respond it."
Amazon EC2	"AWS  Hosted Website are being blocked by certain ISPs in India
AWS hosted websites, including AWS console are being blocked by Airtel (ISP) at certain times but the same websites were accessible through other ISPs at the same time. This issue occurs only for ""https""  sites and not for ""http"" sites, its happening frequently.  Is it a problem with AWS or ISP's DNS?"
Amazon EC2	"Unexpected promblem with Amazon EC2 DNS 172.16.0.23 2015.05.07
Hello! 2015.05.07 we have unexpected problem with Amazon EC2 DNS 172.16.0.23. We use this DNS for all our EC2 nodes. Starting 2015.05.07 10:45 PDT it started to resolve DNS names from our zone with errors. As a result, we had a huge down time for our Production nodes (42 nodes). Our customers couldn't use any of our services. It is realy big and unpleasant problem for us. We investigated this problem on our side (because we send information about this zone from our DNS), but at that time we didn't make any changes with records in our zone was visible for world DNS servers. Besides, we didn't see this problem on other world DNS servers (for example, on Google Public DNS 8.8.8.8). This problem with your DNS disappeared after 1 hour. But it is a very long time period for solving such kind of problems without any messages (about maintenance, for example). Could you give your explanations about this problem? Thanks in advance."
Amazon EC2	"I can not connect to the VPS server
I can not connect to the VPS server writes ""Unable to connect to a remote computer,"" tried to reboot the server and re-download connection, the problem is not corrected."
Amazon EC2	"Re: I can not connect to the VPS server
Hello,

Thanks for posting. You didn't provide an instance id, but I only see one instance that is running under your account, i-acefef83. Currently I see that it's running and marked as healthy. I do see that the Security Group is limited to one IP address. If you are still having issues connecting to this instance please verify you are coming from the IP listed in sg-549cbe30.

Regards,
Brandon"
Amazon EC2	"Re: I can not connect to the VPS server
I read a lot of documents, I still can not connect.
Ping says ""timed request"""
Amazon EC2	"Volumes stuck in deleting
Hi,

We still have two volumes stuck in deleting for 4 days now, a previous post response from AWS said it would be looked into but nothing has happened since - 

vol-cf647ca6
vol-d32a35ff

Cheers
Andy"
Amazon EC2	"Re: Volumes stuck in deleting
Hi Andy,

The two EBS volumes were correctly deleted on 2015-05-22, and should no longer be appearing in your console.

Regards
Daniel J"
Amazon EC2	"Volume in deleting state !
Hi there;

    Today I noticed that my vol-5ee31342 , is in deleting state; 

    Really I do not realize that before !

   Please some one can check  !

forwards thansks !

Marcos Ortega"
Amazon EC2	"Re: Volume in deleting state !
in which region?"
Amazon EC2	"Re: Volume in deleting state !
Hello,

Thank you for posting. I've asked the EBS Team to look into this further. Once we have feedback from them we'll update this post. I apologize for any inconvenience.

Regards,
Brandon"
Amazon EC2	"Re: Volume in deleting state !
Hi Marcos,

I can confirm that your EBS volumes was successfully deleted on 2015-05-21, and should no longer be showing in your console.

Regards
Daniel J"
Amazon EC2	"Is PHP 5.6.9 be available on aws ec2?
Hi, 

On php.net, I saw that version 5.6.9 has been released on May 14th 2015. Is this available on aws? 
I launched and instance following the tutorial in documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html

When I checked, the version of php shows, 5.6.8 

It'll be great if someone can point me in the right direction:
1. if 5.6.9 is not available, can we find out when it will be made available?
2. If available, how do I upgrade the version on my instance?
3. If its going to take a long time for 5.6.9 to be available, is there a way I can install it from php.net? I have seen many installation instructions for installing using tar.gz from php.net, but I'm skeptical about configuration on aws ec2. These tutorials haven't been written for aws. 

I'm asking this because, a bug in 5.6.8 has exhausted the CPU usage credit balance on the instance. This bug has been fixed in 5.6.9. My team is done with all the development work. But we are not able to move to production because of this bug in php 5.6.8

Any help will be much appreciated.

Regards,
Vishy"
Amazon EC2	"EC2 Billing
I have a r3.large instance running.  I purchased a reserved instance for it, but I noticed in my billing it's showing the following items.  Looks like I'm being charged twice?

USD 0.243 hourly fee per Windows, r3.large instance	744 Hrs	$180.79
0.2571310116 USD per Windows, r3.large instance-hours used this month (blended price)*	516 Hrs	$132.68"
Amazon EC2	"Re: EC2 Billing
Hello,

I've asked a member of our billing team to look at this thread. 

We'll be in touch as soon as possible.

Richard"
Amazon EC2	"Re: EC2 Billing
Hi,

I have created an outbound billing support case to address your query regarding the EC2 charges. Should you have any additional questions please respond to the case for further information and assistance.

Case ID: 1406615291

https://console.aws.amazon.com/support/home/

Regards,

Luke H."
Amazon EC2	"Permission problems everyday at the same time
Hello, i have a t2 micro running +- 6 months now. And there is a problem i cant fix. Everyday starting at 23h30 GMT -3h the permissions of the ec2-user goes crazy. I cant do anything withou sudo command, like mkdir. It becomes normal at 1h-2h of the other day. And i never saw a maintenance status...

What the hell is this ?

Edited by: kauetl on May 24, 2015 8:26 PM"
Amazon EC2	"Instance not available -- recently upgraded from 52.micro to t2.medium
Hi,

I have instance ID i-c246b4cd which locked up and doesn't seem to come up despite reboot and stop/restart tries.

The instance was running for a few months fine as a t2.micro; I upgraded early today  to a t2.medium. I did change some apache tunings to use more memory, but I have since attached the EBS volume to another instance and backed that change out, and reattached the EBS volume as root to the instance.

The instance has an elastic IP and the same security group that has worked for sometime.

In the EC2 Management console the instance is showing as:
awsec2-i-c246b4cd-Status-Check-Failed-Any-

I just see a blank screen when I try to ""Get System Log"".

From various clients, I get no connectivity via
SSH (open only to my home IP)
ping (open to all)
http (open to all)
https (open to all)

Trying the instance check commands suggested in the faq from another instance, I get:

[root@ip-172-31-27-108 /]# ec2-describe-instances i-c246b4cd
Client.InvalidInstanceID.NotFound: The instance ID 'i-c246b4cd' does not exist (Service: AmazonEC2; Status Code: 400; Error Code: InvalidInstanceID.NotFound; Request ID: 654450cf-35f7-4ceb-a4dd-1a43c39da7db)
[root@ip-172-31-27-108 /]# ec2-get-console-output i-c246b4cd
Client.InvalidInstanceID.NotFound: The instance ID 'i-c246b4cd' does not exist (Service: AmazonEC2; Status Code: 400; Error Code: InvalidInstanceID.NotFound; Request ID: ed7dcd95-1cd0-4b17-8d3a-8b4b357a5330)


Thanks for any idea.
John"
Amazon EC2	"Re: Instance not available -- recently upgraded from 52.micro to t2.medium
Back up.  Thanks!"
Amazon EC2	"Upgraded Ubuntu 12.04 to 14.04, now Instance Status Check fails i-7e49d84e
InstanceId: i-7e49d84e 

Simply ran the following commands on an Ubuntu 12.04 server:

$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo do-release-upgrade

When prompted to reboot, I did. But when server came back up the Instance Status Check failed and the machine is inaccessible. I tried rebooting and got the same result. I stopped/started the instance, same result. What do I need to do to get the machine running again? Below is the system log. Any help MUCH appreciated!!!

Xen Minimal OS!
  start_info: 0x1890000(VA)
    nr_pages: 0x1e0000
  shared_inf: 0x7defe000(MA)
     pt_base: 0x1893000(VA)
nr_pt_frames: 0x11
    mfn_list: 0x990000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x94f860-0x96f860
MM: Init
      _text: 0x0(VA)
     _etext: 0x6000d(VA)
   _erodata: 0x78000(VA)
     _edata: 0x80b00(VA)
stack start: 0x94f860(VA)
       _end: 0x98fe68(VA)
  start_pfn: 18a7
    max_pfn: 1e0000
Mapping memory range 0x1c00000 - 0x1e0000000
setting 0x0-0x78000 readonly
skipped 0x1000
MM: Initialise page allocator for 27a0000(27a0000)-1e0000000(1e0000000)
MM: done
Demand map pfns at 1e0001000-21e0001000.
Heap resides at 21e0002000-41e0002000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0x1e0001000.
Initialising scheduler
Thread ""Idle"": pointer: 0x21e0002010, stack: 0x36f0000
Initialising xenbus
Thread ""xenstore"": pointer: 0x21e00027c0, stack: 0x3700000
Dummy main: start_info=0x96f960
Thread ""main"": pointer: 0x21e0002f70, stack: 0x3710000
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********






































backend at /local/domain/0/backend/vbd/1849/2049
Failed to read /local/domain/0/backend/vbd/1849/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1849/2049/feature-flush-cache.
62914560 sectors of 512 bytes
**************************
vbd 2064 is hd1





































BLKFRONT for device/vbd/2064 **********






































backend at /local/domain/0/backend/vbd/1849/2064
Failed to read /local/domain/0/backend/vbd/1849/2064/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1849/2064/feature-flush-cache.
880732160 sectors of 512 bytes
**************************
[H[J  Booting 'Ubuntu 14.04.2 LTS, kernel 3.13.0-53-generic'


root  (hd0)

 Filesystem type is ext2fs, using whole disk

kernel  /boot/vmlinuz-3.13.0-53-generic root=LABEL=cloudimg-rootfs ro console=h

vc0 

initrd  /boot/initrd.img-3.13.0-53-generic


close blk: backend at /local/domain/0/backend/vbd/1849/2049
close blk: backend at /local/domain/0/backend/vbd/1849/2064
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-53-generic (buildd@phianna) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #89-Ubuntu SMP Wed May 20 10:34:39 UTC 2015 (Ubuntu 3.13.0-53.89-generic 3.13.11-ckt19)
http://    0.000000 Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 ACPI in unprivileged domain disabled
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 Xen: mem 0x0000000000000000-0x000000000009ffff usable
http://    0.000000 Xen: mem 0x00000000000a0000-0x00000000000fffff reserved
http://    0.000000 Xen: mem 0x0000000000100000-0x00000001e07fffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 DMI not present or invalid.
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x1e0800 max_arch_pfn = 0x400000000
http://    0.000000 e820: last_pfn = 0x100000 max_arch_pfn = 0x400000000
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x1dfe00000-0x1dfffffff
http://    0.000000 init_memory_mapping: mem 0x1dc000000-0x1dfdfffff
http://    0.000000 init_memory_mapping: mem 0x180000000-0x1dbffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x17fffffff
http://    0.000000 init_memory_mapping: mem 0x1e0000000-0x1e07fffff
http://    0.000000 RAMDISK: mem 0x02404000-0x0341dfff
http://    0.000000 NUMA turned off
http://    0.000000 Faking a node at mem 0x0000000000000000-0x00000001e07fffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x1e07fffff
http://    0.000000   NODE_DATA mem 0x1df118000-0x1df11cfff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   mem 0x100000000-0x1e07fffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009ffff
http://    0.000000   node   0: mem 0x00100000-0x1e07fffff
http://    0.000000 SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
http://    0.000000 smpboot: Allowing 2 CPUs, 0 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000fffff
http://    0.000000 e820: cannot find a gap in the 32bit address range
http://    0.000000 e820: PCI devices with unassigned 32bit BARs may break!
http://    0.000000 e820: mem 0x1e0900000-0x1e0cfffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen
http://    0.000000 Xen version: 3.4.3.amazon (preserve-AD)
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:2 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff8801dee00000 s81536 r8192 d20864 u1048576
http://73489387.149712 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 1937258
http://73489387.149714 Policy zone: Normal
http://73489387.149717 Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://73489387.151367 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://73489387.151417 Checking aperture...
http://73489387.160658 No AGP bridge found
http://73489387.199372 Memory: 7674448K/7872124K available (7391K kernel code, 1146K rwdata, 3408K rodata, 1336K init, 1448K bss, 197676K reserved)
http://73489387.199492 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
http://73489387.199527 Hierarchical RCU implementation.
http://73489387.199528 	RCU dyntick-idle grace-period acceleration is enabled.
http://73489387.199530 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=2.
http://73489387.199531 	Offload RCU callbacks from all CPUs
http://73489387.199535 	Offload RCU callbacks from CPUs: 0-1.
http://73489387.199547 NR_IRQS:16640 nr_irqs:288 16
http://73489387.199716 Console: colour dummy device 80x25
http://73489387.199851 console tty0 enabled
http://73489387.200058 console hvc0 enabled
http://73489387.205336 allocated 31981568 bytes of page_cgroup
http://73489387.205354 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://73489387.205438 installing Xen timer for CPU 0
http://73489387.205494 tsc: Detected 1799.998 MHz processor
http://73489387.205516 Calibrating delay loop (skipped), value calculated using timer frequency.. 3599.99 BogoMIPS (lpj=7199992)
http://73489387.205529 pid_max: default: 32768 minimum: 301
http://73489387.205857 Security Framework initialized
http://73489387.205914 AppArmor: AppArmor initialized
http://73489387.205921 Yama: becoming mindful.
http://73489387.207513 Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes)
http://73489387.818729 Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://73489387.819758 Mount-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73489387.819792 Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73489387.820204 Initializing cgroup subsys memory
http://73489387.820224 Initializing cgroup subsys devices
http://73489387.820230 Initializing cgroup subsys freezer
http://73489387.820236 Initializing cgroup subsys blkio
http://73489387.820242 Initializing cgroup subsys perf_event
http://73489387.820256 Initializing cgroup subsys hugetlb
http://73489387.820345 ENERGY_PERF_BIAS: Set to 'normal', was 'performance'
http://73489387.820345 ENERGY_PERF_BIAS: View and update with x86_energy_perf_policy(8)
http://73489387.820363 CPU: Physical Processor ID: 0
http://73489387.820368 CPU: Processor Core ID: 4
http://73489387.820378 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://73489387.820378 Last level dTLB entries: 4KB 512, 2MB 32, 4MB 32
http://73489387.820378 tlb_flushall_shift: 5
http://73489387.871901 ftrace: allocating 28577 entries in 112 pages
http://73489387.892450 cpu 0 spinlock event irq 17
http://73489387.906234 Performance Events: unsupported p6 CPU model 45 no PMU driver, software events only.
http://73489387.908321 NMI watchdog: disabled (cpu0): hardware events not enabled
http://73489387.908437 installing Xen timer for CPU 1
http://73489387.908455 cpu 1 spinlock event irq 24
http://73489387.908486 SMP alternatives: switching to SMP code
http://73489388.553973 x86: Booted up 1 node, 2 CPUs
http://73489388.554436 devtmpfs: initialized
http://73489388.557924 EVM: security.selinux
http://73489388.557933 EVM: security.SMACK64
http://73489388.557936 EVM: security.ima
http://73489388.557940 EVM: security.capability
http://73489388.559250 pinctrl core: initialized pinctrl subsystem
http://73489388.559311 xen:grant_table: Grant tables using version 1 layout
http://73489388.559335 Grant table initialized
http://73489388.559397 regulator-dummy: no parameters
http://73489388.579275 RTC time: 165:165:165, date: 165/165/65
http://73489388.579360 NET: Registered protocol family 16
http://73489388.580821 PCI: setting up Xen PCI frontend stub
http://73489388.582155 bio: create slab <bio-0> at 0
http://73489388.582459 ACPI: Interpreter disabled.
http://73489388.582476 xen:balloon: Initialising balloon driver
http://73489388.585209 xen_balloon: Initialising balloon driver
http://73489388.585426 vgaarb: loaded
http://73489388.585651 SCSI subsystem initialized
http://73489388.585824 usbcore: registered new interface driver usbfs
http://73489388.585852 usbcore: registered new interface driver hub
http://73489388.585932 usbcore: registered new device driver usb
http://73489388.586114 PCI: System does not support PCI
http://73489388.586121 PCI: System does not support PCI
http://73489388.586245 NetLabel: Initializing
http://73489388.586251 NetLabel:  domain hash size = 128
http://73489388.586255 NetLabel:  protocols = UNLABELED CIPSOv4
http://73489388.586276 NetLabel:  unlabeled traffic allowed by default
http://73489388.586393 Switched to clocksource xen
http://73489388.593367 AppArmor: AppArmor Filesystem Enabled
http://73489388.593399 pnp: PnP ACPI: disabled
http://73489388.597145 NET: Registered protocol family 2
http://73489388.597511 TCP established hash table entries: 65536 (order: 7, 524288 bytes)
http://73489388.597845 TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
http://73489388.598029 TCP: Hash tables configured (established 65536 bind 65536)
http://73489388.598076 TCP: reno registered
http://73489388.598109 UDP hash table entries: 4096 (order: 5, 131072 bytes)
http://73489388.598165 UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes)
http://73489388.598267 NET: Registered protocol family 1
http://73489388.598348 Trying to unpack rootfs image as initramfs...
http://73489388.622765 Freeing initrd memory: 16488K (ffff880002404000 - ffff88000341e000)
http://73489388.622941 platform rtc_cmos: registered platform RTC device (no PNP device found)
http://73489388.623061 microcode: CPU0 sig=0x206d7, pf=0x1, revision=0x70a
http://73489388.623079 microcode: CPU1 sig=0x206d7, pf=0x1, revision=0x70a
http://73489388.623179 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://73489388.623188 Scanning for low memory corruption every 60 seconds
http://73489388.623570 Initialise system trusted keyring
http://73489388.623639 audit: initializing netlink socket (disabled)
http://73489388.623660 type=2000 audit(1432412820.440:1): initialized
http://73489388.659064 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://73489388.660184 zbud: loaded
http://73489388.660403 VFS: Disk quotas dquot_6.5.2
http://73489388.660462 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://73489388.661077 fuse init (API version 7.22)
http://73489388.661193 msgmni has been set to 15021
http://73489388.661268 Key type big_key registered
http://73489388.661938 Key type asymmetric registered
http://73489388.661945 Asymmetric key parser 'x509' registered
http://73489388.661987 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://73489388.662048 io scheduler noop registered
http://73489388.662053 io scheduler deadline registered (default)
http://73489388.662088 io scheduler cfq registered
http://73489388.662155 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://73489388.662176 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://73489388.662236 ipmi message handler version 39.2
http://73489388.662842 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://73489388.664779 Linux agpgart interface v0.103
http://73489388.666485 brd: module loaded
http://73489388.756095 loop: module loaded
http://73489388.766545 libphy: Fixed MDIO Bus: probed
http://73489388.766666 tun: Universal TUN/TAP device driver, 1.6
http://73489388.766673 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://73489388.766750 PPP generic driver version 2.4.2
http://73489388.766813 xen_netfront: Initialising Xen virtual ethernet driver
http://73489388.767500 blkfront: xvda1: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73489388.770091 blkfront: xvdb: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73489388.770102 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://73489388.770109 ehci-pci: EHCI PCI platform driver
http://73489388.770144 ehci-platform: EHCI generic platform driver
http://73489388.770164 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://73489388.770169 ohci-pci: OHCI PCI platform driver
http://73489388.770180 ohci-platform: OHCI generic platform driver
http://73489388.770190 uhci_hcd: USB Universal Host Controller Interface driver
http://73489388.770245 i8042: PNP: No PS/2 controller found. Probing ports directly.
http://73489389.776272 i8042: No controller found
http://73489389.776524 mousedev: PS/2 mouse device common for all mice
http://73489389.797277  xvdb: unknown partition table
http://73489389.797526 Setting capacity to 880732160
http://73489389.797536 xvdb: detected capacity change from 0 to 450934865920
http://73489389.836384 rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
http://73489389.836487 rtc_cmos: probe of rtc_cmos failed with error -38
http://73489389.836603 device-mapper: uevent: version 1.0.3
http://73489389.836738 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://73489389.836752 ledtrig-cpu: registered to indicate activity on CPUs
http://73489389.836908 TCP: cubic registered
http://73489389.837021 NET: Registered protocol family 10
http://73489389.837285 NET: Registered protocol family 17
http://73489389.837312 Key type dns_resolver registered
http://73489389.837553 Loading compiled-in X.509 certificates
http://73489389.838831 Loaded X.509 cert 'Magrathea: Glacier signing key: 9aac900abd0220fb93c8be10f20d6973dab829f5'
http://73489389.838863 registered taskstats version 1
http://73489389.843578 Key type trusted registered
http://73489389.852203 Key type encrypted registered
http://73489389.852218 AppArmor: AppArmor sha1 policy hashing enabled
http://73489389.852228 IMA: No TPM chip found, activating TPM-bypass!
http://73489389.852291 regulator-dummy: incomplete constraints, leaving on
http://73489389.852374   Magic number: 1:252:3141
http://73489389.852447 /build/buildd/linux-3.13.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
http://73489389.852527 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://73489389.852543 EDD information not available.
http://73489389.853610 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://73489389.853622 Write protecting the kernel read-only data: 12288k
http://73489389.858526 Freeing unused kernel memory: 788K (ffff88000173b000 - ffff880001800000)
http://73489389.859066 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://73489389.896388 systemd-udevd100: starting version 204
Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
http://73489390.147053 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
http://73489390.860893 random: nonblocking pool is initialized
http://73489391.582859 init: plymouth-upstart-bridge main process (154) terminated with status 1
http://73489391.582906 init: plymouth-upstart-bridge main process ended, respawning
http://73489391.595583 init: plymouth-upstart-bridge main process (168) terminated with status 1
http://73489391.595615 init: plymouth-upstart-bridge main process ended, respawning
http://73489391.601395 init: plymouth-upstart-bridge main process (173) terminated with status 1
http://73489391.601424 init: plymouth-upstart-bridge main process ended, respawning
http://73489391.611618 init: plymouth-upstart-bridge main process (174) terminated with status 1
http://73489391.611666 init: plymouth-upstart-bridge main process ended, respawning
lxcmount stop/pre-start, process 157
http://73489391.623802 init: plymouth-upstart-bridge main process (178) terminated with status 1
http://73489391.623839 init: plymouth-upstart-bridge main process ended, respawning
http://73555871.641929 init: hwclock-save main process (356) terminated with status 70
 * Starting configure network device security[74G OK 

 * Starting Mount filesystems on boot[74G OK 

 * Starting Mount network filesystems[74G OK 

 * Starting Populate and link to /run filesystem[74G OK 

 * Stopping Populate and link to /run filesystem[74G OK 

 * Stopping Mount network filesystems[74G OK 

 * Stopping Track if upstart is running in a container[74G OK 

 * Starting Bridge socket events into upstart[74G OK 

 * Starting configure network device[74G OK 

 * Starting Initialize or finalize resolvconf[74G OK 

 * Starting emergency keypress handling[74G OK 

 * Stopping Bridge socket events into upstart[74G OK 

 * Stopping Initialize or finalize resolvconf[74G OK 

 * Stopping emergency keypress handling[74G OK 

 * Starting System V runlevel compatibility[74G OK 

 * Starting Waiting for state[74G OK 

The disk drive for / is not ready yet or not present.

keys:Continue to wait, or Press S to skip mounting or M for manual recovery

http://73555871.851877 init: plymouth-upstart-bridge main process (183) killed by TERM signal
http://73555871.864211 init: wait-for-state (rcplymouth-shutdown) main process (369) killed by TERM signal
wait-for-state stop/waiting

 * Asking all remaining processes to terminate...       [80G 
[74G OK 

 * All processes ended within 1 seconds...       [80G 
[74G OK 

 * Deactivating swap...       [80G 
[74G OK 

http://73555872.561545 EXT4-fs (xvda1): re-mounted. Opts: (null)
 * Will now restart

http://73555872.957463 reboot: Restarting system
Xen Minimal OS!
  start_info: 0x1890000(VA)
    nr_pages: 0x1e0000
  shared_inf: 0x7defe000(MA)
     pt_base: 0x1893000(VA)
nr_pt_frames: 0x11
    mfn_list: 0x990000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x94f860-0x96f860
MM: Init
      _text: 0x0(VA)
     _etext: 0x6000d(VA)
   _erodata: 0x78000(VA)
     _edata: 0x80b00(VA)
stack start: 0x94f860(VA)
       _end: 0x98fe68(VA)
  start_pfn: 18a7
    max_pfn: 1e0000
Mapping memory range 0x1c00000 - 0x1e0000000
setting 0x0-0x78000 readonly
skipped 0x1000
MM: Initialise page allocator for 27a0000(27a0000)-1e0000000(1e0000000)
MM: done
Demand map pfns at 1e0001000-21e0001000.
Heap resides at 21e0002000-41e0002000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0x1e0001000.
Initialising scheduler
Thread ""Idle"": pointer: 0x21e0002010, stack: 0x36f0000
Initialising xenbus
Thread ""xenstore"": pointer: 0x21e00027c0, stack: 0x3700000
Dummy main: start_info=0x96f960
Thread ""main"": pointer: 0x21e0002f70, stack: 0x3710000
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********






































backend at /local/domain/0/backend/vbd/1855/2049
Failed to read /local/domain/0/backend/vbd/1855/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1855/2049/feature-flush-cache.
62914560 sectors of 512 bytes
**************************
vbd 2064 is hd1





































BLKFRONT for device/vbd/2064 **********






































backend at /local/domain/0/backend/vbd/1855/2064
Failed to read /local/domain/0/backend/vbd/1855/2064/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1855/2064/feature-flush-cache.
880732160 sectors of 512 bytes
**************************
[H[J  Booting 'Ubuntu 14.04.2 LTS, kernel 3.13.0-53-generic'


root  (hd0)

 Filesystem type is ext2fs, using whole disk

kernel  /boot/vmlinuz-3.13.0-53-generic root=LABEL=cloudimg-rootfs ro console=h

vc0 

initrd  /boot/initrd.img-3.13.0-53-generic


close blk: backend at /local/domain/0/backend/vbd/1855/2049
close blk: backend at /local/domain/0/backend/vbd/1855/2064
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-53-generic (buildd@phianna) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #89-Ubuntu SMP Wed May 20 10:34:39 UTC 2015 (Ubuntu 3.13.0-53.89-generic 3.13.11-ckt19)
http://    0.000000 Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 ACPI in unprivileged domain disabled
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 Xen: mem 0x0000000000000000-0x000000000009ffff usable
http://    0.000000 Xen: mem 0x00000000000a0000-0x00000000000fffff reserved
http://    0.000000 Xen: mem 0x0000000000100000-0x00000001e07fffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 DMI not present or invalid.
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x1e0800 max_arch_pfn = 0x400000000
http://    0.000000 e820: last_pfn = 0x100000 max_arch_pfn = 0x400000000
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x1dfe00000-0x1dfffffff
http://    0.000000 init_memory_mapping: mem 0x1dc000000-0x1dfdfffff
http://    0.000000 init_memory_mapping: mem 0x180000000-0x1dbffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x17fffffff
http://    0.000000 init_memory_mapping: mem 0x1e0000000-0x1e07fffff
http://    0.000000 RAMDISK: mem 0x02404000-0x0341dfff
http://    0.000000 NUMA turned off
http://    0.000000 Faking a node at mem 0x0000000000000000-0x00000001e07fffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x1e07fffff
http://    0.000000   NODE_DATA mem 0x1df118000-0x1df11cfff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   mem 0x100000000-0x1e07fffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009ffff
http://    0.000000   node   0: mem 0x00100000-0x1e07fffff
http://    0.000000 SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
http://    0.000000 smpboot: Allowing 2 CPUs, 0 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000fffff
http://    0.000000 e820: cannot find a gap in the 32bit address range
http://    0.000000 e820: PCI devices with unassigned 32bit BARs may break!
http://    0.000000 e820: mem 0x1e0900000-0x1e0cfffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen
http://    0.000000 Xen version: 3.4.3.amazon (preserve-AD)
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:2 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff8801dee00000 s81536 r8192 d20864 u1048576
http://73555927.528300 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 1937258
http://73555927.528301 Policy zone: Normal
http://73555927.528304 Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://73555927.529980 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://73555927.530036 Checking aperture...
http://73555927.539318 No AGP bridge found
http://73555927.578585 Memory: 7674448K/7872124K available (7391K kernel code, 1146K rwdata, 3408K rodata, 1336K init, 1448K bss, 197676K reserved)
http://73555927.578706 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
http://73555927.578740 Hierarchical RCU implementation.
http://73555927.578741 	RCU dyntick-idle grace-period acceleration is enabled.
http://73555927.578743 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=2.
http://73555927.578744 	Offload RCU callbacks from all CPUs
http://73555927.578748 	Offload RCU callbacks from CPUs: 0-1.
http://73555927.578761 NR_IRQS:16640 nr_irqs:288 16
http://73555927.578934 Console: colour dummy device 80x25
http://73555927.579075 console tty0 enabled
http://73555927.579261 console hvc0 enabled
http://73555927.584488 allocated 31981568 bytes of page_cgroup
http://73555927.584505 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://73555927.584581 installing Xen timer for CPU 0
http://73555927.584632 tsc: Detected 1799.999 MHz processor
http://73555927.584652 Calibrating delay loop (skipped), value calculated using timer frequency.. 3599.99 BogoMIPS (lpj=7199996)
http://73555927.584663 pid_max: default: 32768 minimum: 301
http://73555927.584984 Security Framework initialized
http://73555927.585034 AppArmor: AppArmor initialized
http://73555927.585040 Yama: becoming mindful.
http://73555927.586665 Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes)
http://73555928.201065 Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://73555928.202047 Mount-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73555928.202082 Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73555928.202492 Initializing cgroup subsys memory
http://73555928.202507 Initializing cgroup subsys devices
http://73555928.202513 Initializing cgroup subsys freezer
http://73555928.202519 Initializing cgroup subsys blkio
http://73555928.202524 Initializing cgroup subsys perf_event
http://73555928.202531 Initializing cgroup subsys hugetlb
http://73555928.202621 ENERGY_PERF_BIAS: Set to 'normal', was 'performance'
http://73555928.202621 ENERGY_PERF_BIAS: View and update with x86_energy_perf_policy(8)
http://73555928.202638 CPU: Physical Processor ID: 0
http://73555928.202643 CPU: Processor Core ID: 6
http://73555928.202652 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://73555928.202652 Last level dTLB entries: 4KB 512, 2MB 32, 4MB 32
http://73555928.202652 tlb_flushall_shift: 5
http://73555928.252148 ftrace: allocating 28577 entries in 112 pages
http://73555928.273022 cpu 0 spinlock event irq 17
http://73555928.286786 Performance Events: unsupported p6 CPU model 45 no PMU driver, software events only.
http://73555928.288912 NMI watchdog: disabled (cpu0): hardware events not enabled
http://73555928.289037 installing Xen timer for CPU 1
http://73555928.289056 cpu 1 spinlock event irq 24
http://73555928.289094 SMP alternatives: switching to SMP code
http://73555928.939369 x86: Booted up 1 node, 2 CPUs
http://73555928.939755 devtmpfs: initialized
http://73555928.943237 EVM: security.selinux
http://73555928.943245 EVM: security.SMACK64
http://73555928.943249 EVM: security.ima
http://73555928.943252 EVM: security.capability
http://73555928.944584 pinctrl core: initialized pinctrl subsystem
http://73555928.944653 xen:grant_table: Grant tables using version 1 layout
http://73555928.944676 Grant table initialized
http://73555928.944738 regulator-dummy: no parameters
http://73555928.964613 RTC time: 165:165:165, date: 165/165/65
http://73555928.964688 NET: Registered protocol family 16
http://73555928.966014 PCI: setting up Xen PCI frontend stub
http://73555928.967255 bio: create slab <bio-0> at 0
http://73555928.967533 ACPI: Interpreter disabled.
http://73555928.967550 xen:balloon: Initialising balloon driver
http://73555928.970759 xen_balloon: Initialising balloon driver
http://73555928.971034 vgaarb: loaded
http://73555928.971280 SCSI subsystem initialized
http://73555928.971420 usbcore: registered new interface driver usbfs
http://73555928.971440 usbcore: registered new interface driver hub
http://73555928.971508 usbcore: registered new device driver usb
http://73555928.971680 PCI: System does not support PCI
http://73555928.971687 PCI: System does not support PCI
http://73555928.971808 NetLabel: Initializing
http://73555928.971815 NetLabel:  domain hash size = 128
http://73555928.971819 NetLabel:  protocols = UNLABELED CIPSOv4
http://73555928.971840 NetLabel:  unlabeled traffic allowed by default
http://73555928.971947 Switched to clocksource xen
http://73555928.978722 AppArmor: AppArmor Filesystem Enabled
http://73555928.978747 pnp: PnP ACPI: disabled
http://73555928.982016 NET: Registered protocol family 2
http://73555928.982374 TCP established hash table entries: 65536 (order: 7, 524288 bytes)
http://73555928.982720 TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
http://73555928.982930 TCP: Hash tables configured (established 65536 bind 65536)
http://73555928.982988 TCP: reno registered
http://73555928.983029 UDP hash table entries: 4096 (order: 5, 131072 bytes)
http://73555928.983095 UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes)
http://73555928.983194 NET: Registered protocol family 1
http://73555928.983275 Trying to unpack rootfs image as initramfs...
http://73555929.007315 Freeing initrd memory: 16488K (ffff880002404000 - ffff88000341e000)
http://73555929.007463 platform rtc_cmos: registered platform RTC device (no PNP device found)
http://73555929.007582 microcode: CPU0 sig=0x206d7, pf=0x1, revision=0x70a
http://73555929.007596 microcode: CPU1 sig=0x206d7, pf=0x1, revision=0x70a
http://73555929.007687 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://73555929.007695 Scanning for low memory corruption every 60 seconds
http://73555929.008120 Initialise system trusted keyring
http://73555929.008188 audit: initializing netlink socket (disabled)
http://73555929.008212 type=2000 audit(1432479359.450:1): initialized
http://73555929.043740 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://73555929.044930 zbud: loaded
http://73555929.045157 VFS: Disk quotas dquot_6.5.2
http://73555929.045215 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://73555929.045825 fuse init (API version 7.22)
http://73555929.045937 msgmni has been set to 15021
http://73555929.046011 Key type big_key registered
http://73555929.046678 Key type asymmetric registered
http://73555929.046685 Asymmetric key parser 'x509' registered
http://73555929.046727 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://73555929.046795 io scheduler noop registered
http://73555929.046800 io scheduler deadline registered (default)
http://73555929.046835 io scheduler cfq registered
http://73555929.046910 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://73555929.046934 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://73555929.047006 ipmi message handler version 39.2
http://73555929.047597 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://73555929.049568 Linux agpgart interface v0.103
http://73555929.051287 brd: module loaded
http://73555929.139985 loop: module loaded
http://73555929.148634 libphy: Fixed MDIO Bus: probed
http://73555929.148739 tun: Universal TUN/TAP device driver, 1.6
http://73555929.148746 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://73555929.148833 PPP generic driver version 2.4.2
http://73555929.148902 xen_netfront: Initialising Xen virtual ethernet driver
http://73555929.149769 blkfront: xvda1: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73555929.152755 blkfront: xvdb: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73555929.152815 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://73555929.152834 ehci-pci: EHCI PCI platform driver
http://73555929.152863 ehci-platform: EHCI generic platform driver
http://73555929.152878 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://73555929.152884 ohci-pci: OHCI PCI platform driver
http://73555929.152898 ohci-platform: OHCI generic platform driver
http://73555929.152908 uhci_hcd: USB Universal Host Controller Interface driver
http://73555929.152962 i8042: PNP: No PS/2 controller found. Probing ports directly.
http://73555930.158877 i8042: No controller found
http://73555930.159128 mousedev: PS/2 mouse device common for all mice
http://73555930.161263  xvdb: unknown partition table
http://73555930.161512 Setting capacity to 880732160
http://73555930.161522 xvdb: detected capacity change from 0 to 450934865920
http://73555930.218965 rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
http://73555930.219058 rtc_cmos: probe of rtc_cmos failed with error -38
http://73555930.219181 device-mapper: uevent: version 1.0.3
http://73555930.219303 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://73555930.219315 ledtrig-cpu: registered to indicate activity on CPUs
http://73555930.219474 TCP: cubic registered
http://73555930.219599 NET: Registered protocol family 10
http://73555930.219885 NET: Registered protocol family 17
http://73555930.219915 Key type dns_resolver registered
http://73555930.220124 Loading compiled-in X.509 certificates
http://73555930.221357 Loaded X.509 cert 'Magrathea: Glacier signing key: 9aac900abd0220fb93c8be10f20d6973dab829f5'
http://73555930.221382 registered taskstats version 1
http://73555930.226106 Key type trusted registered
http://73555930.234639 Key type encrypted registered
http://73555930.234650 AppArmor: AppArmor sha1 policy hashing enabled
http://73555930.234657 IMA: No TPM chip found, activating TPM-bypass!
http://73555930.234704 regulator-dummy: incomplete constraints, leaving on
http://73555930.234780   Magic number: 1:252:3141
http://73555930.234845 /build/buildd/linux-3.13.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
http://73555930.234914 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://73555930.234922 EDD information not available.
http://73555930.235991 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://73555930.236001 Write protecting the kernel read-only data: 12288k
http://73555930.240771 Freeing unused kernel memory: 788K (ffff88000173b000 - ffff880001800000)
http://73555930.241293 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://73555930.278068 systemd-udevd100: starting version 204
Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
http://73555930.564427 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
http://73555931.316570 random: nonblocking pool is initialized
lxcmount stop/pre-start, process 159
http://73555931.889868 init: plymouth-upstart-bridge main process (156) terminated with status 1
http://73555931.889904 init: plymouth-upstart-bridge main process ended, respawning
http://73555931.896193 init: plymouth-upstart-bridge main process (172) terminated with status 1
http://73555931.896223 init: plymouth-upstart-bridge main process ended, respawning
http://73555931.902051 init: plymouth-upstart-bridge main process (174) terminated with status 1
http://73555931.902080 init: plymouth-upstart-bridge main process ended, respawning
http://73555931.907844 init: plymouth-upstart-bridge main process (175) terminated with status 1
http://73555931.907874 init: plymouth-upstart-bridge main process ended, respawning
http://73555931.924153 init: plymouth-upstart-bridge main process (178) terminated with status 1
http://73555931.924196 init: plymouth-upstart-bridge main process ended, respawning
http://73555931.932196 init: plymouth-upstart-bridge main process (183) terminated with status 1
http://73555931.932224 init: plymouth-upstart-bridge main process ended, respawning
http://73556016.573652 init: hwclock-save main process (360) terminated with status 70
 * Starting Uncomplicated firewall[74G OK 

 * Starting configure network device security[74G OK 

 * Starting Mount network filesystems[74G OK 

 * Starting Mount filesystems on boot[74G OK 

 * Starting Populate and link to /run filesystem[74G OK 

 * Stopping Mount network filesystems[74G OK 

 * Stopping Populate and link to /run filesystem[74G OK 

 * Stopping Track if upstart is running in a container[74G OK 

 * Starting Bridge socket events into upstart[74G OK 

 * Starting configure network device[74G OK 

 * Starting Initialize or finalize resolvconf[74G OK 

 * Starting emergency keypress handling[74G OK 

 * Stopping emergency keypress handling[74G OK 

 * Stopping Bridge socket events into upstart[74G OK 

 * Stopping Initialize or finalize resolvconf[74G OK 

 * Starting System V runlevel compatibility[74G OK 

 * Starting Waiting for state[74G OK 

The disk drive for / is not ready yet or not present.

keys:Continue to wait, or Press S to skip mounting or M for manual recovery

http://73556016.672532 init: plymouth-upstart-bridge main process (188) killed by TERM signal
http://73556016.684225 init: wait-for-state (rcplymouth-shutdown) main process (373) killed by TERM signal
wait-for-state stop/waiting

 * Asking all remaining processes to terminate...       [80G 
[74G OK 

 * All processes ended within 1 seconds...       [80G 
[74G OK 

 * Deactivating swap...       [80G 
[74G OK 

http://73556017.055254 EXT4-fs (xvda1): re-mounted. Opts: (null)
 * Will now restart

http://73556017.409738 reboot: Restarting system
Xen Minimal OS!
  start_info: 0x1890000(VA)
    nr_pages: 0x1e0000
  shared_inf: 0x7defe000(MA)
     pt_base: 0x1893000(VA)
nr_pt_frames: 0x11
    mfn_list: 0x990000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x94f860-0x96f860
MM: Init
      _text: 0x0(VA)
     _etext: 0x6000d(VA)
   _erodata: 0x78000(VA)
     _edata: 0x80b00(VA)
stack start: 0x94f860(VA)
       _end: 0x98fe68(VA)
  start_pfn: 18a7
    max_pfn: 1e0000
Mapping memory range 0x1c00000 - 0x1e0000000
setting 0x0-0x78000 readonly
skipped 0x1000
MM: Initialise page allocator for 27a0000(27a0000)-1e0000000(1e0000000)
MM: done
Demand map pfns at 1e0001000-21e0001000.
Heap resides at 21e0002000-41e0002000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0x1e0001000.
Initialising scheduler
Thread ""Idle"": pointer: 0x21e0002010, stack: 0x36f0000
Initialising xenbus
Thread ""xenstore"": pointer: 0x21e00027c0, stack: 0x3700000
Dummy main: start_info=0x96f960
Thread ""main"": pointer: 0x21e0002f70, stack: 0x3710000
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********






































backend at /local/domain/0/backend/vbd/1856/2049
Failed to read /local/domain/0/backend/vbd/1856/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1856/2049/feature-flush-cache.
62914560 sectors of 512 bytes
**************************
vbd 2064 is hd1





































BLKFRONT for device/vbd/2064 **********






































backend at /local/domain/0/backend/vbd/1856/2064
Failed to read /local/domain/0/backend/vbd/1856/2064/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1856/2064/feature-flush-cache.
880732160 sectors of 512 bytes
**************************
[H[J  Booting 'Ubuntu 14.04.2 LTS, kernel 3.13.0-53-generic'


root  (hd0)

 Filesystem type is ext2fs, using whole disk

kernel  /boot/vmlinuz-3.13.0-53-generic root=LABEL=cloudimg-rootfs ro console=h

vc0 

initrd  /boot/initrd.img-3.13.0-53-generic


close blk: backend at /local/domain/0/backend/vbd/1856/2049
close blk: backend at /local/domain/0/backend/vbd/1856/2064
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-53-generic (buildd@phianna) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #89-Ubuntu SMP Wed May 20 10:34:39 UTC 2015 (Ubuntu 3.13.0-53.89-generic 3.13.11-ckt19)
http://    0.000000 Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 ACPI in unprivileged domain disabled
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 Xen: mem 0x0000000000000000-0x000000000009ffff usable
http://    0.000000 Xen: mem 0x00000000000a0000-0x00000000000fffff reserved
http://    0.000000 Xen: mem 0x0000000000100000-0x00000001e07fffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 DMI not present or invalid.
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x1e0800 max_arch_pfn = 0x400000000
http://    0.000000 e820: last_pfn = 0x100000 max_arch_pfn = 0x400000000
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x1dfe00000-0x1dfffffff
http://    0.000000 init_memory_mapping: mem 0x1dc000000-0x1dfdfffff
http://    0.000000 init_memory_mapping: mem 0x180000000-0x1dbffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x17fffffff
http://    0.000000 init_memory_mapping: mem 0x1e0000000-0x1e07fffff
http://    0.000000 RAMDISK: mem 0x02404000-0x0341dfff
http://    0.000000 NUMA turned off
http://    0.000000 Faking a node at mem 0x0000000000000000-0x00000001e07fffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x1e07fffff
http://    0.000000   NODE_DATA mem 0x1df118000-0x1df11cfff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   mem 0x100000000-0x1e07fffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009ffff
http://    0.000000   node   0: mem 0x00100000-0x1e07fffff
http://    0.000000 SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
http://    0.000000 smpboot: Allowing 2 CPUs, 0 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000fffff
http://    0.000000 e820: cannot find a gap in the 32bit address range
http://    0.000000 e820: PCI devices with unassigned 32bit BARs may break!
http://    0.000000 e820: mem 0x1e0900000-0x1e0cfffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen
http://    0.000000 Xen version: 3.4.3.amazon (preserve-AD)
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:2 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff8801dee00000 s81536 r8192 d20864 u1048576
http://73556073.172108 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 1937258
http://73556073.172110 Policy zone: Normal
http://73556073.172113 Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
http://73556073.173836 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://73556073.173896 Checking aperture...
http://73556073.183128 No AGP bridge found
http://73556073.221847 Memory: 7674448K/7872124K available (7391K kernel code, 1146K rwdata, 3408K rodata, 1336K init, 1448K bss, 197676K reserved)
http://73556073.221965 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
http://73556073.221999 Hierarchical RCU implementation.
http://73556073.222000 	RCU dyntick-idle grace-period acceleration is enabled.
http://73556073.222001 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=2.
http://73556073.222003 	Offload RCU callbacks from all CPUs
http://73556073.222006 	Offload RCU callbacks from CPUs: 0-1.
http://73556073.222019 NR_IRQS:16640 nr_irqs:288 16
http://73556073.222184 Console: colour dummy device 80x25
http://73556073.222321 console tty0 enabled
http://73556073.222493 console hvc0 enabled
http://73556073.227794 allocated 31981568 bytes of page_cgroup
http://73556073.227811 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://73556073.227878 installing Xen timer for CPU 0
http://73556073.227928 tsc: Detected 1799.999 MHz processor
http://73556073.227939 Calibrating delay loop (skipped), value calculated using timer frequency.. 3599.99 BogoMIPS (lpj=7199996)
http://73556073.227949 pid_max: default: 32768 minimum: 301
http://73556073.228265 Security Framework initialized
http://73556073.228306 AppArmor: AppArmor initialized
http://73556073.228312 Yama: becoming mindful.
http://73556073.229870 Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes)
http://73556073.843159 Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://73556073.844151 Mount-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73556073.844185 Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://73556073.844567 Initializing cgroup subsys memory
http://73556073.844582 Initializing cgroup subsys devices
http://73556073.844588 Initializing cgroup subsys freezer
http://73556073.844594 Initializing cgroup subsys blkio
http://73556073.844599 Initializing cgroup subsys perf_event
http://73556073.844605 Initializing cgroup subsys hugetlb
http://73556073.844685 ENERGY_PERF_BIAS: Set to 'normal', was 'performance'
http://73556073.844685 ENERGY_PERF_BIAS: View and update with x86_energy_perf_policy(8)
http://73556073.844702 CPU: Physical Processor ID: 0
http://73556073.844706 CPU: Processor Core ID: 5
http://73556073.844716 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://73556073.844716 Last level dTLB entries: 4KB 512, 2MB 32, 4MB 32
http://73556073.844716 tlb_flushall_shift: 5
http://73556073.893996 ftrace: allocating 28577 entries in 112 pages
http://73556073.915642 cpu 0 spinlock event irq 17
http://73556073.929517 Performance Events: unsupported p6 CPU model 45 no PMU driver, software events only.
http://73556073.931734 NMI watchdog: disabled (cpu0): hardware events not enabled
http://73556073.931868 installing Xen timer for CPU 1
http://73556073.931894 cpu 1 spinlock event irq 24
http://73556073.931933 SMP alternatives: switching to SMP code
http://73556074.587421 x86: Booted up 1 node, 2 CPUs
http://73556074.587788 devtmpfs: initialized
http://73556074.591311 EVM: security.selinux
http://73556074.591321 EVM: security.SMACK64
http://73556074.591327 EVM: security.ima
http://73556074.591332 EVM: security.capability
http://73556074.592648 pinctrl core: initialized pinctrl subsystem
http://73556074.592724 xen:grant_table: Grant tables using version 1 layout
http://73556074.592755 Grant table initialized
http://73556074.592836 regulator-dummy: no parameters
http://73556074.612722 RTC time: 165:165:165, date: 165/165/65
http://73556074.612805 NET: Registered protocol family 16
http://73556074.614311 PCI: setting up Xen PCI frontend stub
http://73556074.615737 bio: create slab <bio-0> at 0
http://73556074.615998 ACPI: Interpreter disabled.
http://73556074.616027 xen:balloon: Initialising balloon driver
http://73556074.619285 xen_balloon: Initialising balloon driver
http://73556074.619607 vgaarb: loaded
http://73556074.619879 SCSI subsystem initialized
http://73556074.620033 usbcore: registered new interface driver usbfs
http://73556074.620053 usbcore: registered new interface driver hub
http://73556074.620136 usbcore: registered new device driver usb
http://73556074.620344 PCI: System does not support PCI
http://73556074.620353 PCI: System does not support PCI
http://73556074.620531 NetLabel: Initializing
http://73556074.620541 NetLabel:  domain hash size = 128
http://73556074.620545 NetLabel:  protocols = UNLABELED CIPSOv4
http://73556074.620568 NetLabel:  unlabeled traffic allowed by default
http://73556074.620682 Switched to clocksource xen
http://73556074.627773 AppArmor: AppArmor Filesystem Enabled
http://73556074.627799 pnp: PnP ACPI: disabled
http://73556074.631102 NET: Registered protocol family 2
http://73556074.631452 TCP established hash table entries: 65536 (order: 7, 524288 bytes)
http://73556074.631781 TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
http://73556074.631967 TCP: Hash tables configured (established 65536 bind 65536)
http://73556074.632015 TCP: reno registered
http://73556074.632048 UDP hash table entries: 4096 (order: 5, 131072 bytes)
http://73556074.632105 UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes)
http://73556074.632206 NET: Registered protocol family 1
http://73556074.632284 Trying to unpack rootfs image as initramfs...
http://73556074.656460 Freeing initrd memory: 16488K (ffff880002404000 - ffff88000341e000)
http://73556074.656656 platform rtc_cmos: registered platform RTC device (no PNP device found)
http://73556074.656814 microcode: CPU0 sig=0x206d7, pf=0x1, revision=0x70a
http://73556074.656829 microcode: CPU1 sig=0x206d7, pf=0x1, revision=0x70a
http://73556074.656937 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://73556074.656946 Scanning for low memory corruption every 60 seconds
http://73556074.657333 Initialise system trusted keyring
http://73556074.657399 audit: initializing netlink socket (disabled)
http://73556074.657424 type=2000 audit(1432479505.101:1): initialized
http://73556074.692801 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://73556074.693947 zbud: loaded
http://73556074.694177 VFS: Disk quotas dquot_6.5.2
http://73556074.694231 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://73556074.694857 fuse init (API version 7.22)
http://73556074.694982 msgmni has been set to 15021
http://73556074.695061 Key type big_key registered
http://73556074.695757 Key type asymmetric registered
http://73556074.695770 Asymmetric key parser 'x509' registered
http://73556074.695814 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://73556074.695874 io scheduler noop registered
http://73556074.695880 io scheduler deadline registered (default)
http://73556074.695915 io scheduler cfq registered
http://73556074.695996 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://73556074.696017 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://73556074.696077 ipmi message handler version 39.2
http://73556074.787801 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://73556074.789799 Linux agpgart interface v0.103
http://73556074.791526 brd: module loaded
http://73556074.792467 loop: module loaded
http://73556074.802489 libphy: Fixed MDIO Bus: probed
http://73556074.802601 tun: Universal TUN/TAP device driver, 1.6
http://73556074.802607 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://73556074.802685 PPP generic driver version 2.4.2
http://73556074.802746 xen_netfront: Initialising Xen virtual ethernet driver
http://73556074.803478 blkfront: xvda1: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73556074.806170 blkfront: xvdb: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
http://73556074.806176 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://73556074.806183 ehci-pci: EHCI PCI platform driver
http://73556074.806195 ehci-platform: EHCI generic platform driver
http://73556074.806211 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://73556074.806223 ohci-pci: OHCI PCI platform driver
http://73556074.806242 ohci-platform: OHCI generic platform driver
http://73556074.806253 uhci_hcd: USB Universal Host Controller Interface driver
http://73556074.806307 i8042: PNP: No PS/2 controller found. Probing ports directly.
http://73556075.812010 i8042: No controller found
http://73556075.812237 mousedev: PS/2 mouse device common for all mice
http://73556075.814092  xvdb: unknown partition table
http://73556075.814304 Setting capacity to 880732160
http://73556075.814314 xvdb: detected capacity change from 0 to 450934865920
http://73556075.872070 rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
http://73556075.872165 rtc_cmos: probe of rtc_cmos failed with error -38
http://73556075.872288 device-mapper: uevent: version 1.0.3
http://73556075.872411 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://73556075.872424 ledtrig-cpu: registered to indicate activity on CPUs
http://73556075.872571 TCP: cubic registered
http://73556075.872695 NET: Registered protocol family 10
http://73556075.872955 NET: Registered protocol family 17
http://73556075.872974 Key type dns_resolver registered
http://73556075.873167 Loading compiled-in X.509 certificates
http://73556075.874397 Loaded X.509 cert 'Magrathea: Glacier signing key: 9aac900abd0220fb93c8be10f20d6973dab829f5'
http://73556075.874421 registered taskstats version 1
http://73556075.879042 Key type trusted registered
http://73556075.887515 Key type encrypted registered
http://73556075.887527 AppArmor: AppArmor sha1 policy hashing enabled
http://73556075.887534 IMA: No TPM chip found, activating TPM-bypass!
http://73556075.887586 regulator-dummy: incomplete constraints, leaving on
http://73556075.887660   Magic number: 1:252:3141
http://73556075.887719 /build/buildd/linux-3.13.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
http://73556075.887792 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://73556075.887799 EDD information not available.
http://73556075.888813 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://73556075.888822 Write protecting the kernel read-only data: 12288k
http://73556075.893600 Freeing unused kernel memory: 788K (ffff88000173b000 - ffff880001800000)
http://73556075.894111 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://73556075.930598 systemd-udevd100: starting version 204
Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
http://73556076.111553 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
http://73556076.362236 random: init urandom read with 88 bits of entropy available
http://73556076.427912 init: plymouth-upstart-bridge main process (155) terminated with status 1
http://73556076.427950 init: plymouth-upstart-bridge main process ended, respawning
http://73556076.449819 init: plymouth-upstart-bridge main process (163) terminated with status 1
http://73556076.449849 init: plymouth-upstart-bridge main process ended, respawning
http://73556076.464985 init: plymouth-upstart-bridge main process (170) terminated with status 1
http://73556076.465015 init: plymouth-upstart-bridge main process ended, respawning
http://73556076.890258 random: nonblocking pool is initialized"
Amazon EC2	"Volume Snapshot
I understand that if we take a snapshot of a volume, it will take just the ""delta"" of the volume. I have the following question:
1. After I take the second and the third snapshot, can I delete the first one?
2. When I create a new volume from a snapshot, should I create it from the last one to get the latest data? 

Any information is greatly appreciated.

THanks a lot."
Amazon EC2	"Convert a private key generated for ECDSA-ECDHE based ciphers failed
I tried to convert my private key generated for ECDSA-ECDHE according to the information found in http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html#upload-cert.

However I got the following error:
unable to load elliptic curve parameters
36602:error:0906D06C:PEM routines:PEM_read_bio:no start line:/SourceCache/OpenSSL098/OpenSSL098-52.20.2/src/crypto/pem/pem_lib.c:648:Expecting: EC PARAMETERS

Can anybody point me what the cause of the error is?

Thanks a lot in advance..

Kind Regards,"
Amazon EC2	"Re: Convert a private key generated for ECDSA-ECDHE based ciphers failed
Hello,

Are you sure you're trying to convert an ECDSA-ECDHE key? A key conforming to this standard will have 2 blocks in it, -----BEGIN EC PARAMETERS----- and -----BEGIN EC PRIVATE KEY-----. This is why you're receiving the error ""expecting EC PARAMETERS"" when trying to load your key in openssl.

Your private key will either be an RSA format key or ECDSA-ECDHE format key. You only need to run the appropriate conversion function for the specific key type for uploading your key to ELB, not both."
Amazon EC2	"Re: Convert a private key generated for ECDSA-ECDHE based ciphers failed
So in other words, if I use RSA, I don't have to worry about converting the ECDSA-ECDHE?

Kind Regards,"
Amazon EC2	"Re: Convert a private key generated for ECDSA-ECDHE based ciphers failed
It was my misunderstanding. I already use RSA, so I don't need to convert"
Amazon EC2	"How to delete / release EIP when a server is brought down
I have a requirement to not only disassociate the EIP but also delete / release the EIP when the associated EC2 instance is brought down / scaled down (from a fleet).  We do not want an EIP hanging there without being associated .

I am not sure how I can do this automatically (when a server is down automatically as part of an auto-scaling group of servers).  Please advise .

I don't know where to start - via CLI , scripting, CloudWatch , etc 
I am very new to AWS .   Please help

Thank you"
Amazon EC2	"Instance not available
I have a windows 2K8 r2 server running Pentaho suit. I was working with it through RDP and sudnely it stopped answering and even reboots and stop-start form console dont help.
Any  ideas how to solve it?"
Amazon EC2	"Re: Instance not available
After some hours working, it just came back...

Edited by: terrenim on May 23, 2015 10:02 PM"
Amazon EC2	"Does anyone worry about the AWS Customer Agreement?
Per the AWS Customer Agreement (emphasis mine):

(a) Termination for Convenience. You may terminate this Agreement for any reason by:  providing us notice and (ii) closing your account for all Services for which we provide an account closing mechanism. We may terminate this Agreement for any reason by providing you 30 days advance notice.

Certainly for someone as large as Netflix, it's not a real worry, but for a lot of businesses it seems like a large risk to have out there unmitigated? Do people execute agreements to get better terms than this or does everyone just ignore it?   Everyone I've asked and seems to shrug that it won't happen, but IMHO this is insufficient for a CEO/CTO that's trying go build a company and needs to CTA with regards to liability."
Amazon EC2	"cannot start imported instance
I got my vm to upload into aws but cannot start it

instance id i-f8ab163a

can you please take a look"
Amazon EC2	"Re: cannot start imported instance
jeez, why am I having so many problems with uploading a vm to aws? The upload tasks completed but now the conversion tasks seems stuck

C:\vcsa\vcenter6>ec2-describe-conversion-tasks
TaskType        IMPORTINSTANCE  TaskId  import-i-fhcw77uh       ExpirationTime
2015-05-31T01:18:56Z    Status  active  StatusMessage   Progress: 53%   Instance
ID      i-f8ab163a
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   10140846592     VolumeId
        vol-bb5160a6    VolumeSize      40      AvailabilityZone        us-west-
1a      ApproximateBytesConverted       10140836496     Status  completed
TaskType        IMPORTINSTANCE  TaskId  import-i-fh9soy0j       ExpirationTime
2015-05-31T01:39:19Z    Status  active  StatusMessage   Progress: 6%    Instance
ID      i-dea61b1c
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   2145355264      VolumeId
        vol-e45564f9    VolumeSize      12      AvailabilityZone        us-west-
1a      ApproximateBytesConverted       2145349728      Status  completed
TaskType        IMPORTINSTANCE  TaskId  import-i-fg9b2rti       ExpirationTime
2015-05-30T13:12:56Z    Status  cancelled       StatusMessage   ClientError: Uns
upported kernel version 3.0.101-0.46-default    InstanceID      i-a85eec6a
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   2145355264      VolumeId
        vol-23d5e33e    VolumeSize      12      AvailabilityZone        us-west-
1a      ApproximateBytesConverted       2145349728      Status  completed

C:\vcsa\vcenter6>"
Amazon EC2	"Re: cannot start imported instance
ok now 

instance id i-dea61b1c shows terminated

and 

i-f8ab163a shows stopped and cannot start"
Amazon EC2	"EBS Volume still in deleting state
One of our EBS volumes (vol-10db895d) has been in the deleting state for about 6 days. Is it possible for someone to take a look at it and delete it?

Thanks."
Amazon EC2	"Re: EBS Volume still in deleting state
Hello,

I'm so sorry about that! We're looking into this and will update the thread when we have more info.

Kind regards,
Chris"
Amazon EC2	"Re: EBS Volume still in deleting state
Hello

This  volumes is now deleted, please will you check and confirm that you see the same result?

Kind regards

Leon"
Amazon EC2	"Re: EBS Volume still in deleting state
Yes, the volume that should have been deleted is no longer listed in the AWS console. Thanks for resolving the issue."
Amazon EC2	"Instance stuck in stopping
Can you please help me with instance i-61b34c13 which is stuck in stopping?

Thanks"
Amazon EC2	"Re: Instance stuck in stopping
Instance stopped"
Amazon EC2	"EC2 instance scheduled for ""retirement"" is not stopping!
One of my EC2 instances, i-f12e85ff, is scheduled for ""retirement"" tomorrow due to it being hosted on faulting hardware. I am trying to stop the instance so that I can detach its volume and reattach it to a new instance. Unfortunately, the instance appears to be stuck in a stopping state! I've already tried force-stopping the instance multiple times through both the AWS CLI and the EC2 Management Console. How do I stop this instance?

Edited by: nathanaldenevermarket on Apr 6, 2015 8:17 AM"
Amazon EC2	"Re: EC2 instance scheduled for ""retirement"" is not stopping!
Hello,

I do apologize for the troubles you saw here and I have gone ahead and moved ""i-f12e85ff"" along for you.  You should now see this instance as stopped.

Best regards,
Justin G."
Amazon EC2	"Re: EC2 instance scheduled for ""retirement"" is not stopping!
Thank you! I was able to detach/attach its volume and terminate the broken instance."
Amazon EC2	"Re: EC2 instance scheduled for ""retirement"" is not stopping!
I received similar email and be told my instance i-3ac80d60 is scheduled for retirement. I then tried to stop it but it stuck in stopping state. Please help!"
Amazon EC2	"EC2 Ubuntu Instance - Server Unexpectedly Closed Network Connection
I have an instance that stopped allowing me to access it using SSH. It fails with a Server Unexpectedly Closed Network Connection. I followed some threads around here and created a new volume of the boot drive of the problem instance. I created a new instance, which I can access with no problems. Then I attached the problem volume to the new instance as /dev/sdf and reboot. I then can't get into the new instance and it tells me when I try to connect that the servers  key has changed. Detach the volume and I am back to working properly. Any thoughts?"
Amazon EC2	"Re: EC2 Ubuntu Instance - Server Unexpectedly Closed Network Connection
I have similar issue.

Created new instance then created AMI from said instance.

Now orig instance I cannot ssh into and any instance booted from the new ami I cannot ssh into"
Amazon EC2	"Re: EC2 Ubuntu Instance - Server Unexpectedly Closed Network Connection
Hello,

Thanks for posting. I believe what has happen is when you rebooted the instance the volume from your 'broken' instance was mounted as the root volume on this instance instead of the volume that actually belongs as root.

For example in the fstab file on an Ubuntu instance:

~> cat /etc/fstab
LABEL=cloudimg-rootfs	/	 ext4	defaults,discard	0 1

It is using the disk label to id the root filesystem and not UUID or a device path. If you were to check each of these volumes you'll find they are both labeled cloudimg-rootfs:

~> sudo tune2fs -l /dev/xvda1 | head -n 2
tune2fs 1.42.9 (4-Feb-2014)
Filesystem volume name:   cloudimg-rootfs

During the boot process if it finds your 'broken' volume first it will mount that volume as the root device. Typically you don't need to reboot the good instance when identifying an issue with another EBS root volume.

Regards,
Brandon"
Amazon EC2	"EC2 instance isn't passing the status check & can't attach root EBS volume
Yesterday we had access of CPU usage on Ec2 instance(m3.xlarge) and probably because of instance was down. We tried restarting and stop-start the instance several times but it is not helping. Instance is not able to pass the status check. Even we tried to attach the root volume to another EC2 instance post stopping the instance but the volume status is not changing from attaching to attached. Site is in production and it's down since last 12hrs. Needs help.
Instance details :
instance ID : i-11e186dd (Stopped state currently)

have started the instance from AMI of 14th may but that instance is also facing the same issue. the instance is for that is -  i-3d1b65f1

Looking for the quick help.

Thanks,
Nikunj"
Amazon EC2	"Re: EC2 instance isn't passing the status check & can't attach root EBS volume
Hello,

Thanks for posting. Looking at the two instances provided it appears you are having issues with the root filesystem as seen by the following:

Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/ contains a file system with errors, check forced.
/: Inodes that were part of a corrupted orphan linked list found.  
 
/: UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY.
	(i.e., without -a or -p options)
[FAILED]
 
*** An error occurred during the file system check.
*** Dropping you to a shell; the system will reboot
*** when you leave the/dev/fd/9: line 2: plymouth: command not found
Give root password for maintenance
(or type Control-D to continue): init: rcS main process (1550) killed by TERM signal


You can do as instructed and launch a temporary instance in the same AZ as this instance, detach the root volume from the 'broken' instance and attach it to a temporary instance and then run fsck. If fsck can repair the filesystem then you can detach the volume and attach it back to the original instance and try to boot again.

If fsck cannot repair the filesystem then you'll more than likely need to restore from back up. I would try to mount the filesystem to your temporary instance to see if you can recover any data. 

You can also get the same logs by following the documentation located here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

Regards,
Brandon"
Amazon EC2	"Problem with attach EBS volumes back to the server
Hello experts,

Thank you for helping me out. I am not very well versed with AWS procedures or terminology so forgive me if I try to describe my problem in my own words.

I have an AWS instance (i-0cfc214e) and this server had two volumes attached to it as follows:

Volume ID (vol-bb01b2b9) which was the C: drive on my Windows 2008 R2 Server system
Volume ID (vol-e001b2e2) which was the D: drive on my Windows 2008 R2 Server system

I detached these two volumes from the instance.

Now I want to re-attach them back as they were before.

I attach one of them as /dev/sda1 and the other as /dev/sdf successfully but the instance does not Start properly. In the ""State Transition Reason"" field of the intance details, it throws the following error:

Client.InstanceInitiatedShutdown: Instance initiated shutdown

What is this and what do I do wrong?

Please help, thank you."
Amazon EC2	"Re: Problem with attach EBS volumes back to the server
Hi,

I am not sure if this will help, but I have seen on another post that instead of attaching it to:

/dev/sdf

Attach it as:

/dev/xvda

Cheers,

Stooby..."
Amazon EC2	"Re: Problem with attach EBS volumes back to the server
Thank you for your response, but it didn't help.

I attached the two volumes as /xvda and /xvdb respectively, then proceeded to start the instance. This is the error message I get:

Error starting instances
Invalid value 'i-0cfc214e' for instanceId. Instance does not have a volume attached at root (/dev/sda1)"
Amazon EC2	"Re: Problem with attach EBS volumes back to the server
Hello,

Thanks for posting. Looking at instance i-0cfc214e I see that it is currently running and passing health checks. I see two volumes attached:

/dev/sda1 	vol-e001b2e2 
/dev/xvdb 	vol-bb01b2b9

Are you still experiencing issues or have you resolved this?

Regards,
Brandon"
Amazon EC2	"Connection from EC2 inside VPC to RDS on EC2 classic
Hi , 

I have a EC2 inside a VPC and I am trying to connect to a RDS instance that is not part of this VPC. I have another EC2 instance ( EC2 classic) that is connected to this RDS instance for mysql.
Issue is that I am not able to connect to the RDS instance from EC2 inside the VPC.

Tried the following:
1. Added the public IP of the ec2 instance in VPC on the security group of RDS and authorized
2. Assigned an elastic IP for the above ec2 instance and tried adding the EIP to RDS and authorized.

As my ec2_classic is production and is connected to this RDS, moving the RDS to above said VPC is not an option at this moment. 

Is there any other way to have this accomplished.

Thanks in advance"
Amazon EC2	"Re: Connection from EC2 inside VPC to RDS on EC2 classic
Hello,

That sounds like it should work.

Can you post the instance IDs and the name (and region) of the RDS instance and we'll review the groups for you to see if we can see anything?

Richard"
Amazon EC2	"Re: Connection from EC2 inside VPC to RDS on EC2 classic
Hi Richard, 

Actually I found out what was missing.
When I checked the RDS instance main page , there was a Security Group field and it was listing one particular security group in the RDS and had ""active"" in brackets.
What I did was like adding a new security group under the DB security groups and assigning the ip address there. But that was not coming it effect as the above listed one was the active.

So as a solution, I did the following, in case someone stumble upon the same issue.
1. Goto RDS Dashboard
2. Click on the instance.
3. Identify the value for the Security Groups field ( there will be DB security group entry listed with 'active' in brackets.
4. Goto the Security Groups menu
5. Click on the one found as active
6. Select the Connection Type as CIDR/IP and add the IP address/32 ( Eg: 10.0.0.1/32) 
7. Click on authorize.

That should do the trick. Basically , you just need to authorize the new IP under the active security group instead of adding a new one.

Thank you."
Amazon EC2	"AWS VPN instance not able to connect to internet with Elastic IP
Hi , 

I have set up a t2.medium instance with VPC. I don't have connectivity to internet from inside the instance.
For eg: If I do wget www.google.com, its just giving me connection timed out. 
As per some of the suggestions,  I have tried out the following

1) I have associated a Elastic IP to the VPC and to the specified instance. 
2) Added the rule 0.0.0.0/0 to point to a igw in the routing table
3) Allowing outbound traffic to 80 on a) Security group, 2) Network ACL, 3) centos firewall.

I was able to setup tomcat server in the instance and is able to access the 8080 port from internet. For some reason the instance is not able to connect to internet as outbound. 

Instance Details

Instance ID : i-d5413819
Type : t2.medium
Elastic IP assigned.

Thanks in advance"
Amazon EC2	"Re: AWS VPN instance not able to connect to internet with Elastic IP
Hi Leon, 

Thank you for the information.
Though I got confirmation that my rules are fine, I am still unable to get internet access from my instance. 
As per your answer, what I understand is that the aws configurations for the internet are quite well, but its something to do with the restrictions local to the instance. In that case, would you suggest that it is  related to firewall settings ?
And interestingly, I was having internet access when I started the instance. But in the middle I lost it. The only change I can recollect is executing the following in the instance.
firewall-cmd --permanent --add-port=8080/tcp
firewall-cmd –reload

Do you think this might has caused the issue. I believe that the internet stopped working after that.
Appreciate your feedback!!"
Amazon EC2	"Re: AWS VPN instance not able to connect to internet with Elastic IP
Hi , 

I was not able to figure out what was the issue.
I ended up terminating the instance, deleting all the VPCs( and associated subnets) and then creating a new instance.
This resolved the issue and I suspect that I had connectivity issues due to some misconfigurations in the ACL or subnets.

Thanks"
Amazon EC2	"Re: AWS VPN instance not able to connect to internet with Elastic IP
Hello,

Thanks for posting back - I'm glad you figured it out.

Have a great weekend 

Richard"
Amazon EC2	"EC2 Instance cannot access throw SSH: it hangs after ""last login:xxxxxx""
Hey, 
I was working on my instance throw ssh on mac. After 12am, when I try use ssh connect to my instance, it stopped at ""last login: xxxxxxxxx."", and after few mins, it gives me the error connection to xx,xxx.xxx closed. I can't access it. 
My instance id: i-282969d8. Can you help me with this please? 

Thanks,
Jerry

Edited by: golden_wing on May 21, 2015 11:49 PM

Edited by: golden_wing on May 21, 2015 11:49 PM"
Amazon EC2	"Re: EC2 Instance cannot access throw SSH: it hangs after ""last login:xxxxxx""
Hello,

I've had a look at this, but it seems like you've already terminated your instance -- so I'm afraid there's not going to be much I can do at this point.

Sorry about that 

Richard"
Amazon EC2	"Unable to Release Elastic IP
Hi there,

I'm trying to release an Elastsic IP address that I have and it's saying it's locked to my account. This is likely because of the rDNS records that I asked AWS to create for me. Please remove those records and let me know when I can release the address.  Also, I've created a ticket within your ticketing system regarding this; case number is 1343800151.

The IP Address is 54.186.108.129. 

Thanks,
Kasun"
Amazon EC2	"Re: Unable to Release Elastic IP
Hello Kasun,

Thank you for posting on AWS Forum.

I have replied to the web case 1343800151.

Regards,
Giorgio"
Amazon EC2	"Re: Unable to Release Elastic IP
Same here with 54.209.13.139

Account Id: 921411722305 

An error occurred while attempting to release the IP addresses
54.209.13.139: The address with allocation id eipalloc-337e7751 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 36296422-b555-4785-8072-b88eb8d9ddd7)"
Amazon EC2	"Re: Unable to Release Elastic IP
Hello,

I have just checked 54.209.13.139 and my tools indicate that it is not locked at this time.

Can you advise if you're still seeing this issue? If so, I would advise you to open a request with our support team -- you can use account/billing support if you do not have a Premium Support subscription.

Richard"
Amazon EC2	"Forgot to terminte instance? Shocked by bill!
Hi!

I already opened a support-ticket two days ago, but still no answer and I am sitting on very hot coals right now.

I am very new in AWS-using. I always used the free t2.micro but on 5th of May I tried the r3.8xlarge to test a java program. See this thread (I am user: punkrock): https://goo.gl/L3jHkG

I am totally shocked. I am 100% sure, I terminated it after about 9 hours, when my bill was about 30 dollars (I checked my bill after or right before I terminated the instance) - now my bill shows ~1,300 dollars. On 21st of May I saw that the instance was still running. I am completely shocked. I didn't use the instance after I thought I terminated it after ~9 hours on 5th of May.

In addition, I would note that I have logged out from the instance on 05/05/2015 and never logged in again since this via SSH. Nor, on 05/21/2015, when I noticed the dilemma, that the instance was still running.

Two of my posts in the linked forum above:

""I don't want to blame Amazon, but you only see the running instances of the region that have been selected in the menu (top right). My free node for NEM always ran in Frankfurt and the expensive VPS that caused these costs, ran in North Virginia. But since I assumed that I had terminated the instance in North Virginia, I didn't use the menu on the upper right again and instead left it standing on Frankfurt. There is no overview of how many instances are running total on my account, otherwise I would have noticed the problem much earlier. Just to even identify the problem, how this could happen.""

""Truely, I don't know, if I did shutdown the VanityGenerator. I opened 29 putty's on my local machine as you can see. When I decided after about 9 hours that this enough ""playing"" around with the monster-EC2, I planned to terminte the complete instance, like I did before with other instances. So, if you terminate, there is no need to stop the programs that are running. I only can hope, that I did shutdown it or that the instance fails to work. I tried to rethink what happened that day. I can't belief that I didn't terminate it, because I did know from the first minute, what this monster costs. 100% I checked my bill that day, after I decided to terminate the instance. It was nearly 30 dollars.""

Edited by: Anonym on May 23, 2015 3:21 AM"
Amazon EC2	"Re: Forgot to terminte instance? Shocked by bill!
Hello,

I have just spoken to one of my colleagues in the Account and Billing team and I've asked them to prioritize your support case. They will be in touch later today.

Richard"
Amazon EC2	"Re: Forgot to terminte instance? Shocked by bill!
Thank you very much."
Amazon EC2	"Re: Forgot to terminte instance? Shocked by bill!
No problem 

Richard"
Amazon EC2	"Scheduled for retirement
I just don't understand why Amazon would ""retire"" my instance. Isn't it their responsibility to maintain the hardware and why we pay them?

Anyways, I got this retirement notification. We did not pay heed. Today I found that my instance was ""stopped"". I went ahead and ""started"" it. It seems to be working fine now.

Is there any threat to our data? Should I consider moving it to another host since Amazon can do this anytime now? I cannot make out from their email how this is our fault and what needs to be done about it so that it doesn't happen again.

If there is any threat to our data, I would just like to move out of Amazon."
Amazon EC2	"Re: Scheduled for retirement
Hello,

The service offered by AWS is somewhat different to that offered by a traditional web hosting provider, in that it is expected that from time to time individual resources, including instances, will fail.  We've published a white-paper that explains a little about how to design fault tolerant applications using the AWS service:

http://aws.amazon.com/whitepapers/designing-fault-tolerant-applications/

Amazon will send you an Instance Retirement Notice when we detect a fault on the physical hardware that your instance is running on that we believe may lead to downtime. When you receive an instance retirement notice the general approach is to stop your instance and then start it again, which will migrate it to new physical hardware with no data loss except that found on instance storage volumes, which are not designed to survive a stop/start event. It sounds like that is what happened here.

It is not currently possible to prevent an instance from being retired I'm afraid, as this is a design limitation of the service.

If you have other questions please ask.

Richard"
Amazon EC2	"Can't access instance after some time
Hello,

I am using Elastic BeansTalk to provision the EC2 instances and after some time, the instance is just not reachable anymore. I don't know if I am in the right forum here, but since I am trying to connect to the instance via SSH, I guess I am. I had to terminate the instance now, not sure if you can still access it(i-a96a4767), but the issue will certainly arise again. Please give me instructions on what I should do to make it possible for you to investigate the problem. The monitoring says the instance is healthy, but not being reachable does not sound healthy to me.

I sometimes have the problem, that my docker daemon dies on that instance, apparently due to memory issues? Is it possible that at some point the whole instance becomes unreachable because of this memory problem?

Hope you can help me with this. Having to provision a fresh EC2 instance every time this happens is really annoying."
Amazon EC2	"Site is down after associated an Elastic IP...
Hello,

My instance ID is i-210bb1d6. 

I'm new to EC2. I've followed some toturials and set up an instance running Amazon Linux; I was able to install LAMP, VSFTPD, and Wordpress on ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com through SSH. I've added ports 80 and 443 for 0.0.0.0/0, port 22 for my home IP under my security group. At first, I could navigate to ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com and see my Wordpress site running via Chrome. 

However, after I've registered a new domain via Route 53, added an Elastic IP and the A records (which is pointing to that Elastic IP). I couldn't enter my site through any browsers (Browsers returned: No data received). I know that there might be a delay for my new domain to attach to the EC2 instance. But it's been almost 8 hours, I still cannot see my site online. I've tried flushing my OS' DNS caches and my browsers' caches, reboot the instance through EC2 console a few times. My site is still down.  

I noticed my Elastic IP was different from the very first public IP of the instance. So I've changed to the Elastic IP from my login details and I'm still able to connect with SSH via Terminal and SFTP via FileZilla. I've checked my home IP after restarting my modem, it's still the same. 

How long does it usually take for a domain to finish connecting to an EC2 instance?
Does anyone know what's going on? How can I fix this?"
Amazon EC2	"Re: Site is down after associated an Elastic IP...
Figured it myself... I forgot to ""sudo service httpd start"" and ""sudo service mysqld on"" and also update the site url in the option table of the Wordpress database. Now I just need to figure out how to make my new domain pointing to the instance. 

Thanks for reading... lol"
Amazon EC2	"Unable to SSH
I am unable to SSH into my instance from yesterday. Used to be able to do so without problem earlier.

Running ssh with debug gives me

ssh -vvv -i rtac.pem ec2-user@PublicDomain.ap-southeast-1.compute.amazonaws.com
OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to PublicDomain.ap-southeast-1.compute.amazonaws.com IPAddress port 22.
debug1: connect to address IPAddress port 22: Connection refused
ssh: connect to host PublicDomain.ap-southeast-1.compute.amazonaws.com port 22: Connection refused

The instance id is i-939e5ebb

I am currently setting up a new instance and if the old one does not work I will be migrating to the new one. Is there any better option

TIA"
Amazon EC2	"Re: Unable to SSH
Hi,

Your instance is stopped now and I could not perform any tests from my end. Can you start the instance and detail the events prior to having this issue, e.g any system updates ran, etc.

My first guess though would be a firewall issue.

Regards,

Tonderai."
Amazon EC2	"Re: Unable to SSH
Hi,

Must be something wrong there. My instance is hosting a web site and has not been stopped. It is i-939e5ebb in Singapore. Could you please check. 

I have not made any system updates lately or any firewall changes.

Regards
Tushar"
Amazon EC2	"Ec2-import-instance ovf
I need to import an ovf with a bunch of vmdks - approximately 11 vmdk files

how do i do it and do i need to create a bucket in s3 before I import?"
Amazon EC2	"EC2 CentOS 7 Cannot change Hostname
when I go to /etc/hostname and change my hostname to test.example.com, it reverts back to the old hostname when i reboot ( ip-xxx.xx.xx.xx.us-west-2.compute.internal )

same thing happens when i Run 'hostnamectl set-hostname test.example.com'

any ideas? 

I need the hostname to work for email"
Amazon EC2	"eC2 tools not working on windows
I downloaded the ec2 tools on windows and followed the doc to setup my env for java and the ec tools directory

however when i type

ec2-describe-regions

it gave me this error which I think its java

C:\Users\tkw>ec2-describe-regions
Error: Could not find or load main class Files

any idea?

this is my java version

C:\Users\tkw>java -version
java version ""1.8.0_45""
Java(TM) SE Runtime Environment (build 1.8.0_45-b14)
Java HotSpot(TM) Client VM (build 25.45-b02, mixed mode, sharing)"
Amazon EC2	"Ephemeral storage mount points are missing after AMI creation
Hi There,

I have instance which is running i2.4xlarge type with 4*800 ephemeral storage. So I am using hole ephemeral storages for some temp data saving.

**Problem: After creating the AMI backup of above server I have started the server, Server is come up without any issues but all ephemeral storage mount points are missing from server, Why ?**

So I have formatted the file system and did the mount -a , Then able to see all mount points.

Here are the output from the server.
sh-4.1# mount -a 
mount: wrong fs type, bad option, bad superblock on /dev/xvdb, 
       missing codepage or helper program, or other error 
       In some cases useful info is found in syslog - try 
       dmesg | tail  or so
mount: wrong fs type, bad option, bad superblock on /dev/xvdc, 
       missing codepage or helper program, or other error 
       In some cases useful info is found in syslog - try 
       dmesg | tail  or so
mount: wrong fs type, bad option, bad superblock on /dev/xvdd, 
       missing codepage or helper program, or other error 
       In some cases useful info is found in syslog - try 
       dmesg | tail  or so
mount: wrong fs type, bad option, bad superblock on /dev/xvde, 
       missing codepage or helper program, or other error 
       In some cases useful info is found in syslog - try 
       dmesg | tail  or so
sh-4.1# dmesg | tail 
EXT4-fs (xvdb): VFS: Can't find ext4 filesystem 
EXT4-fs (xvdc): VFS: Can't find ext4 filesystem 
EXT4-fs (xvdd): VFS: Can't find ext4 filesystem 
EXT4-fs (xvde): VFS: Can't find ext4 filesystem 
sh-4.1#

sh-4.1# cat /etc/fstab

#

/etc/fstab
Created by anaconda on Mon Apr 21 15:44:15 2014

#

Accessible filesystems, by reference, are maintained under '/dev/disk'
See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info

#
UUID=05e7b919-2577-40a7-91fb-1ccdede87fc4 /                       ext4    defaults        1 1
tmpfs                   /dev/shm                tmpfs   defaults        0 0
devpts                  /dev/pts                devpts  gid=5,mode=620  0 0
sysfs                   /sys                    sysfs   defaults        0 0
proc                    /proc                   proc    defaults        0 0

/dev/xvdb       /data1   ext4    defaults,noatime  1  2
/dev/xvdc       /data2   ext4    defaults,noatime  1  2
/dev/xvdd       /data3   ext4    defaults,noatime  1  2
/dev/xvde       /data4   ext4    defaults,noatime  1  2
sh-4.1# 

Note 1: Formatted the file system as EXT4. Is that any issue.?
sh-4.1# df -TH
Filesystem           Type   Size  Used Avail Use% Mounted on
/dev/xvda1           ext4    27G  6.3G   19G  26% /
tmpfs                tmpfs   65G   78k   65G   1% /dev/shm
/dev/xvdc            ext4   788G  207M  748G   1% /data2
/dev/xvdd            ext4   788G  207M  748G   1% /data3
/dev/xvde            ext4   788G  207M  748G   1% /data4
/dev/xvdb            ext4   788G  207M  748G   1% /data1
sh-4.1#

Note 2 : If I stop and start the server able to see all mount points without any issues, The only issue after creating AMI backup.
Note 3: I haven't launched any other server with that AMI, Also I haven't changed instance also.Just stopped the server for AMI backup and started with same instance type.

***Question is : Why Ephemeral storages mount points are missing after AMI backup?*** 

Kindly give a solution ASAP. I believe above information is fine and let me know if you need any other information from end.

Thanks in advance.

Edited by: mahesh_aws_rhce on May 22, 2015 5:13 PM"
Amazon EC2	"When i start an Ami, always PasswordAuthentication change to no.
Hi:

I configured an instance with Rhel 6.4, and changed the option PasswordAuthentication to yes.

When i finished the configuration, i created an ami. If I start this ami, the option PasswordAuthentication set to no, and i can't access with my users.

I need that this option can't change.

what is the possible solution?

Thanks and sorry, my english is bad."
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Hello,

Would you be able to provide the output of cat /etc/rc.d/rc.local
 from the original instance?"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Thanks!!

My  cat /etc/rc.d/rc.local


#!/bin/sh
#
# This script will be executed *after* all the other init scripts.
# You can put your own initialization stuff in here if you don't
# want to do the full Sys V style init stuff.
 
touch /var/lock/subsys/local
if [ ! -d /root/.ssh ] ; then
    mkdir -p /root/.ssh
    chmod 0700 /root/.ssh
    restorecon /root/.ssh
fi
 
# bz 707364
if [ ! -f /etc/blkid/blkid.tab ] ; then
        blkid /dev/xvda &>/dev/null
fi
 
cat <<EOL >> /etc/ssh/sshd_config
UseDNS no
PermitRootLogin without-password"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
edit this post.

Edited by: beekeka on Jul 10, 2013 1:55 AM"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Hello,

Thank you for the output. Please remove the below from the rc.local file from the original.cat <<EOL >> /etc/ssh/sshd_config
UseDNS no
PermitRootLogin without-password

This is a current known bug with Redhat AMI's as this gets added to sshd_config and then when the new instance is launched from the AMI sshd fails to start due to configuration file errors.  This is due to be addressed in the release 6.5 of the Redhat AMI's."
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Thanks, this resolve my other problem, but in this case, i can access with the original user (ec2-user) and the key, but i can't access with created users after.

I can't access because the ""PasswordAuthentication"" option changes to no when i start an Ami.

# To disable tunneled clear text passwords, change to no here!
PasswordAuthentication yes
PermitEmptyPasswords no


What is the file or script that change this option? maybe ""cloud-init"".

Thanks for the attention."
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Hello,

I am confused, you originally said that the issue was resolved but now its occurring again? Can you clarify?

Regards,

Matt J"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Hello!

The problem envelope I need help is about ""PasswordAuthentication"", this option is in the /etc/ssh/sshd_config.

I try to explain my problem step by step.


Access  a new instance.
I Changed the option ""PasswordAuthentication"" to yes.
Restart ssh.
I Created new users.
I try to access with new users and their passwords and i can access perfectly.
I Made an Ami, based in this instance.
Launch this new Ami.
When I try to access with my new users, I can't.
Access with the original user (ec2-user) and his key, and i can access to the instance.
I Reviewed the option ""PasswordAuthentication"" and this option change to no.


Why the option ""PasswordAuthentication"" changed alone when i launch a modified ami?


In my before post, i tell thanks, because i solving the problem ""UseDNS no PermitRootLogin without-password"",  is more effective that the solution that i used before.

But the real problem in this post, is the automatic change in ""PasswordAuthentication"".

Thanks for all!! 

Edited by: beekeka on Jul 16, 2013 12:43 AM"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
This might have to do with RHEL's cloud-init settings.  Check /etc/cloud/cloud.cfg, you may need to change the ssh_pwauth parameter to 1, as the default of 0 looks like every time you reboot it will disable PasswordAuthentication in your sshd_config."
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
Thanks for the support.

This is i need.

I will try to understand much better these init scripts.

Edited by: beekeka on Jul 29, 2013 5:12 AM"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
I had the same problem and got resolved with your solution. Thanks a ton!!"
Amazon EC2	"Re: When i start an Ami, always PasswordAuthentication change to no.
AWS LINUX : /etc/cloud/cloud.cfg.d/00_defaults.cfg file you may need to change the ssh_pwauth parameter to true, as the default of false looks like every time you reboot it will disable passwordAuthentication in your sshd_config.

Except AWS Linux:/etc/cloud/cloud.cfg file you may need to change the ssh_pwauth parameter to 1, as the default of 0 looks like every time you reboot it will disable PasswordAuthentication in your sshd_config."
Amazon EC2	"error installing aws import tools = python error on mac osX
I am trying to install the aws import export tool on mac osX 10.10.1

but keeps giving this error

Running cmd: /usr/bin/python virtualenv.py --python /usr/bin/python /usr/local/aws
Traceback (most recent call last):
  File ""./awscli-bundle/install"", line 138, in <module>
    main()
  File ""./awscli-bundle/install"", line 128, in main
    create_install_structure(working_dir, opts.install_dir)
  File ""./awscli-bundle/install"", line 64, in create_install_structure
    _create_virtualenv(location=install_dir, working_dir=working_dir)
  File ""./awscli-bundle/install"", line 81, in _create_virtualenv
    location))
  File ""./awscli-bundle/install"", line 44, in run
    p.returncode, cmd, stdout + stderr))
__main__.BadRCError: Bad rc (100) for cmd '/usr/bin/python virtualenv.py --python /usr/bin/python /usr/local/aws': b'Already using interpreter /usr/bin/python\nUsing base prefix \'/Library/Frameworks/Python.framework/Versions/3.4\'\nNew python executable in /usr/local/aws/bin/python\nERROR: The executable /usr/local/aws/bin/python is not functioning\nERROR: It thinks sys.prefix is \'/private/tmp/tmp1gk5uft4/virtualenv-1.10.1\' (should be \'/usr/local/aws\')\nERROR: virtualenv is not compatible with this system or executable\nFailed to import the site module\nTraceback (most recent call last):\n  File ""/usr/local/aws/bin/../lib/python3.4/site.py"", line 67, in <module>\n    import os\n  File ""/usr/local/aws/bin/../lib/python3.4/os.py"", line 616, in <module>\n    from _collections_abc import MutableMapping\nImportError: No module named \'_collections_abc\'\n'

any idea?"
Amazon EC2	"Getting grey screen when I try to remote desktop to ubuntu AMI from Windows
I am getting a grey screen when I try to remote desktop to ubuntu AMI from Windows. I have listed the details here: http://askubuntu.com/questions/603314/gray-screen-when-i-try-to-remote-desktop-to-ubuntu. I am really blocked because of this. Note that I was able to remote desktop initially when I did the initial setup. Please help me. My AMI ID is ubuntu-trusty-14.04-amd64-server-20150123 (ami-29ebb519)"
Amazon EC2	"Re: Getting grey screen when I try to remote desktop to ubuntu AMI from Windows
Hi,

Can you try following the steps in  How can I connect to an Amazon EC2 Linux instance with desktop functionality from Windows? 

Regards,

Trace"
Amazon EC2	"How to set virtual desktop and remote in (Ubuntu)
I've been trying to set up a large instance with Ubuntu so that I can remote in with a tablet. I have followed the various instructions to be found around the internet, but have had no luck. I've come the closest using these: http://xmodulo.com/2013/06/how-to-set-up-ubuntu-desktop-vm-on-amazon-ec2.html

But the vncserver goes down immediately after I connect. It works longer in a micro instance, but only for ten or twenty seconds in a large instance (for instance if I'm trying to use the GUI to install some better form of remote desktop connection). The difference between the micro and large instances makes me think that there might be something going on with this (rather than my just not being very competent with Ubuntu). 

Before I started trying to use this, I was thinking, ""Why isn't it more common to see people using tablets as thin clients for a box in AWS's reasonably-priced cloud?"" Now I know: because it's apparently very difficult to set up.

I'd appreciate any help offered--all the solutions on the web seem out of date."
Amazon EC2	"Re: How to set virtual desktop and remote in (Ubuntu)
Hi,

I have replicated the case with the VNC Server on an Ubuntu Linux and it worked without any timeouts. From the issue I could gather that there compatibility issues with the virtualization of VNC on Android and it's virtualizatrion in general. These are steps I followed. Please note that this is a third party app, so we have limited capabilities with troubleshooting.
I gathered that you have 3 stopped instances with the same AMI, so I used that AMI. Replication was done with Sumsung Galaxy Tab 10.0 with Android 4.3, downloaded the App form the play store.

1. To install the server: sudo apt-get install tightvncserver
2 Retrieve the IP address of the instance: ifconfig
3. Reboot: vncserver :1
4. Edit the auto start script: vi ~/.vnc/xstartup to make it:

#!/bin/sh

Uncomment the following two lines for normal desktop:


unset SESSION_MANAGER
#exec /etc/X11/xinit/xinitrc

gnome-session --session=gnome-classic &
 -x /etc/vnc/xstartup  && exec /etc/vnc/xstartup
http:// -r $HOME/.Xresources  && xrdb $HOME/.Xresources

xsetroot -solid grey
vncconfig -iconic &

#x-terminal-emulator -geometry 1280x1024+10+10 -ls -title ""$VNCDESKTOP Desktop"" &
#x-window-manager &

5. Stop service: vncserver -kill :1
6. Start service: vncserver :1
7. Install a viewer: sudo apt-get install gtkvncviewer
8. Try to launch it: gtkvncviewer
9. Make sure you have openssh installed and running: sudo apt-get install openssh-server openssh-client
10. Verify the changes are still visible: vi ~/.vnc/xstartup
11. Stop service: vncserver -kill :1
12. Start service: vncserver :1
13. Reboot instance: sudo reboot
14. Make the port secure ready for VCN ssh /home/local/key.pem -L 5901/127.0.0.1/5901
15. Reboot again: sudo reboot
16.Access instance this time with the secure connection: ssh -v -i /home/local/key.pem ubuntu@ec2-54-***-***-9.us-west-2.compute.amazonaws.com -L 5901/54.184.162.9/5901 -v -v -v
17. Set the geometry of your choice: vncserver -geometry 1440x900 -alwaysshared -dpi 96 -localhost :1
18. And resolution: vncserver -rgb

From the log in screen on the Tablet, run the App, these are the peremeters to input:

1. Secure vnc over ssh
2. choose the name for the connection
3. ssh tunnel settings - IP: 54.***.***.9 (this is my public Ip from the management console) with log in name as ""ubuntu"" on port 22
4. entered the key.pem ( you muust import your key)
5. vnc connection settings - the is port 5901 with IP: 10.***.***.77 (this is my private IP from the management console)
6. no username - leave blank
7. enter the password you created for vnc when you installed vnc
8. connected


Ashley"
Amazon EC2	"Re: How to set virtual desktop and remote in (Ubuntu)
If you happen to be using a Windows based tablet follow the steps at  How can I connect to an Amazon EC2 Linux instance with desktop functionality from Windows? 

Regards,

Trace"
Amazon EC2	"Root access key compromised, please help
Dear Amazon,
My AWS access was compromised. Thankfully I was alerted to the problem by email titled ""Amazon Web Services: New Support case: 1405139931"", I have taken all the steps to lock down my account, and I even tried to close my account for sure. I'm really concerned as the unauthorized access spawned over so many EC2 instances in a short space of time. To my fear, I have checked the billing console many times, only to discover the total amount increased from around $900 to nearly $2,133.71 within 6 hrs, even after I have closed my account. Please can someone contact me about how I get these charges reversed? 

Many thanks,
Wu"
Amazon EC2	"Re: Root access key compromised, please help
Hello Wu, 

I am going to send you a private message regarding this matter. 

Best Regards,
Jillian L."
Amazon EC2	"Network Error: Software caused connection abort
I have a EC2 linux instance , I was able to connect to the instance using putty for a while then it started throwing an exception ""Network Error: Software caused connection abort"" . I suspect this could be the result of a  command I've executed to change the permissions for a folder. If you have ever experienced the same problem or know how to fix it, Please let me know. Any help would be appreciated.

Thanks!"
Amazon EC2	"Re: Network Error: Software caused connection abort
Hi,

I have the same problem here, may you post the solution?"
Amazon EC2	"Re: Network Error: Software caused connection abort
Same issue here. Could connect two weeks ago, now cannot. Why? What is the problem?"
Amazon EC2	"Re: Network Error: Software caused connection abort
Hi, 
I’m with an IT company that’s trying to design an offer to help people with AWS migrations and support within AWS. It would be really helpful to speak with you for 5 mins as we’re developing our offer. This is solely to better understand user problems, to guide our product development, not to solicit a sale of any kind. Would you be willing to speak with me? If you would or anyone else experiencing the same issues would be interested in a quick call, please email me at vmiller@internetcontrasts.com.

Thanks for your time and I look forward to hearing back from you. Thanks!"
Amazon EC2	"Ubuntu instance cannot be access after rebooting
I had an ubuntu instance (instance ID is i-9b01c550) running fine. But due to some memory issues, I rebooted it and the status is ""2/2 checks passed"". When I used Putty to log in (it worked fine before),  it shows a PuTTY Fatal Error: Network error: Connection refused. Not sure what happened and like to know possible reasons."
Amazon EC2	"Re: Ubuntu instance cannot be access after rebooting
Hello,

I did take a look at your instance and noticed the following message in your instance console output.

From the instance console output
Serious errors were found while checking the disk drive for /data.
keys:Press I to ignore, S to skip mounting, or M for manual recovery


I would recommend you to check if there is any issues with the volume which you are trying to mount on the mount point /data.

Alternatively,you can detach your instance's root volume and attach it to any other running Linux instance in the same availability zone and comment the entry in the volume's fstab file which does the mount on /data. Once this is done, you can detach the volume and attach it back to your actual instance as /dev/sda1 and try booting the instance. Once booted up, check if there are any issues with your volume which is configured to mount on /data.

Regards
Shiroy"
Amazon EC2	"Re: Ubuntu instance cannot be access after rebooting
Thanks for your look. I created an image for the instance and re-launched it. The new instance worked."
Amazon EC2	"Re: Ubuntu instance cannot be access after rebooting
I created an image of it and re-launched a instance. The new instance is fine."
Amazon EC2	"Cannot Release Elastic IP
Hello there,
I'd terminated an instance but cannot release the Elastic IP. Please help!

Got this error message below...
54.169.7.55: The address with allocation id eipalloc-847063e6 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: aea2e853-f490-44df-befe-a41dbd010fc4)"
Amazon EC2	"Re: Cannot Release Elastic IP
Hello,

Could you please try releasing the IP now and let us know if you are still facing any issues?

Regards
Shiroy"
Amazon EC2	"Re: Cannot Release Elastic IP
Ok done ... released!
Thanz!"
Amazon EC2	"Issue with python27-setuptools in EC2
Hi,
 While trying to use easy_install to install supervisord on a new EC2 instance I encountered an issue in python27-setuptools (which came pre-installed on the EC2 intance):

$ sudo easy_install --install-layout=posix --force-installation-into-system-dir supervisor
Traceback (most recent call last):
  File ""/usr/bin/easy_install"", line 9, in <module>
    load_entry_point('setuptools==12.2', 'console_scripts', 'easy_install-2.7')()
  File ""/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py"", line 2297, in main
    distclass=DistributionWithoutHelpCommands, **kw
  File ""/usr/lib64/python2.7/distutils/core.py"", line 151, in setup
    dist.run_commands()
  File ""/usr/lib64/python2.7/distutils/dist.py"", line 953, in run_commands
    self.run_command(cmd)
  File ""/usr/lib64/python2.7/distutils/dist.py"", line 971, in run_command
    cmd_obj.ensure_finalized()
  File ""/usr/lib64/python2.7/distutils/cmd.py"", line 109, in ensure_finalized
    self.finalize_options()
  File ""/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py"", line 270, in finalize_options
    'site_dirs')
  File ""/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py"", line 1321, in _expand
    elif elf.install_layout and self.install_layout.lower() in ('posix', 'unix'):
NameError: global name 'elf' is not defined


More details:

EC2 instance type: m3.medium

Distro: Amazon Linux AMI release 2015.03

python27-setuptools:
    Version     : 12.2
    Release     : 1.29.amzn1
    Repo        : installed

After fixing the above error in easy_install.py manually, the command seems to work.
Is this a bug in python27-setuptools? If so, is there a better place for me to report it?

Thanks for any info!"
Amazon EC2	"Re: Issue with python27-setuptools in EC2
Hello,

Thank you for reporting the issue. The bug will be fixed in an upcoming update.

Please feel free to contact us again if you need any further assistance. 

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Issue with python27-setuptools in EC2
I have this same issue."
Amazon EC2	"Server is in initializing mode from long time.
Hi 

The micro instance which I'm using is in initializing mode from a long time.
 I tried to stop and start the instance couple of times, but I'm still facing the same issue.

Can you please look into the matter and let me know.

Bhandari"
Amazon EC2	"Re: Server is in initializing mode from long time.
Hello Bhandari,

I checked your account and could see the t2.micro instance  i-4588806d in your account.
So, I assume, you are mentioning about the instance  i-4588806d.

Currently, the instance is passing 2/2 status checks and looks healthy.
However, I understand that your instance took a long time to boot up and pass the status checks.

From the metrics, I understand that your root volume as doing an IOPs rate of 24 IOPs approximately.
This is the base performance delivered by an general purpose EBS volume of 8GB size. Due to slow IOPs rate, it took longer time for your instance to boot up fully. 

EBS volumes get limited to the performance rate of 3 IOPs per GB when they run out of IO credits. To get better performance and longer burst performance and shorter IO credit accumulation, you can consider using a bigger EBS volume or even consider using EBS volumes with PIOPs.

Regards
Shiroy"
Amazon EC2	"Difference between CPU ""model name"" and ""cpu MHz""
HI, 
We have a running instance m3.large, i have question why there is difference between CPU ""model name"" and ""cpu MHz""

model name      : Intel(R) Xeon(R) CPU E5-2650 0 @ 2.00GHz
cpu MHz         : 1799.999

Thanks 
Mudasar"
Amazon EC2	"Instance started but unreachable
Hi the below instance was restarted over an hour ago and hasn't come back online yet. The server appears to be running, but is unreachable.  Can you advise how to bring the instance back online?

Many thanks

{
    ""InstanceStatuses"": [
        {
            ""InstanceId"": ""i-daf1f7ac"",
            ""InstanceState"": {
                ""Code"": 16,
                ""Name"": ""running""
            },
            ""AvailabilityZone"": ""eu-west-1a"",
            ""SystemStatus"": {
                ""Status"": ""ok"",
                ""Details"": [
                    {
                        ""Status"": ""passed"",
                        ""Name"": ""reachability""
                    }
                ]
            },
            ""InstanceStatus"": {
                ""Status"": ""impaired"",
                ""Details"": [
                    {
                        ""Status"": ""failed"",
                        ""ImpairedSince"": ""2015-05-22T08:41:00.000Z"",
                        ""Name"": ""reachability""
                    }
                ]
            }
        }
    ]
}"
Amazon EC2	"Re: Instance started but unreachable
Hello,

I did take a look at your instance and could identify that it is currently in stopped state.
From the Instance Console Output, it indicates that your instance root volume needs a file system check.

From the instance console output:
[ 2.705277] EXT3-fs warning: checktime reached, running e2fsck is recommended
[ 2.705997] EXT3 FS on sda1, internal journal


You can detach your instance's root volume and attach it to any other running Linux instance in the same availability zone and perform a file system check. Once the file system check is completed successfully, you can detach the volume and attach it back to your actual instance as /dev/sda1 and try booting the instance.

Regards
Shiroy"
Amazon EC2	"Problem with SAP Gui
Hi,

I create a Instance on cal.sap.com using a AWS service, yesterday everything was OK. But today the SAP   Gui doesn´t open and the error appears like in print that is attached."
Amazon EC2	"m3.xlarge instance ephemeral storage is missing in EBS backed instance
I have created a new instance of m3.xlarge Ubuntu instance and as per AWS instance type it should have 2(40)GB i.e.. total of 80 GB of space . 

But I have only 16GB of storage that was initially asked when I launch an ebs instance, where my other storage is getting missed... ??

Since I am launching an EBS backed instance should i need to create an extra EBS VOLUME to be added ??
 how i will be billed if I go for a reserved type of instances.. ?

Please suggest what I am missing and what i need to follow ??

Thanks,
DSNOPS

Edited by: dsndevops on May 18, 2015 10:21 PM"
Amazon EC2	"Re: m3.xlarge instance ephemeral storage is missing in EBS backed instance
Hi DSNOPS,

It looks like you may have not have specified the the 2 x 40GB instance store disks as block devices. During instance creation you will need to specify the instance storage volumes as block devices if they are not already specified by the AMI that you are using. If you are creating an instance using the AWS web console this can be done on the ""Step 4: Add Storage"" page by clicking the ""Add New Volume"" button and adding ""Instance Store 0"" and ""Instance Store 1"". If this is not done, you will be unable to access the instance store volumes. The options for ""General Purpose (SSD)"", ""Provisioned IOPS (SSD)"" and ""Magnetic"" are specifically for EBS volumes - these are not included in the per-hour cost of the EC2 instance. EBS pricing can be found here: http://aws.amazon.com/ebs/pricing/ . You can attach additional EBS volumes after launching an instance, but not instance store volumes.

You can check the Block Device Mappings on a Linux instance by running the ""lsblk"" command.

If you don't need any of the data on the instance, it will be easier and quicker to create a new instance from scratch and specify the instance store volumes you want as mentioned above. If you need to save the data on the instance, the basic steps required to create a replacement instance and add instance store volumes are as follows:

1) Create an AMI of your instance (right click instance and select ""Create Image"");
2) Once the AMI creation process is complete, launch a new instance with this AMI and specify the desired volume types and sizes.

Note that data on ephemeral/instance store volumes is not permanent so any stop/start, termination or underlying host hardware failure will lose all of the data on these disks. These types of volumes are located on the underlying host hardware of the instance. When you stop an instance, the ephemeral disks are wiped clean. When you start the instance up again, it will be running on a different underlying host using the new host's empty ephemeral disks. Instance store volumes are ideal for temporary storage of information that changes frequently, such as buffers, caches, scratch data, and other temporary content, or for data that is replicated across a fleet of instances, such as a load-balanced pool of web servers.

You should use EBS volumes if you need to retain data after a stop/start. EBS volumes can be created in any size up to 16TB and added to any instance type at any time. You can think of EBS volumes like network attached storage versus the ""on hardware host"" storage of ephemeral disks. The EBS volumes will follow the instance no matter which host it resides on. 

Please see the following documentation for more information on the various storage options offered by AWS: 

1) http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html#instance-block-device-mapping
2) http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Storage.html
3) http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#using-instance-storage
4) http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html
5) http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSPerformance.html

I hope this helps!

Kind regards,
Chris"
Amazon EC2	"Instance reachability check failed
Hi,

I have two instances that are failing the instance reachability check, i-f46f29ba and i-ff89c0bc.

Both were running fine last week however when restarted this morning were both are failing the check and are unreachable via RDP.  Rebooting and restarting the instances had no effect.

I have tried detaching the original volumes, creating new volumes for both instances from snapshots taken on Saturday and attaching the new volumes to the instances but the error persists and there is no output from the system log on either instance.  I cannot see any reason for this error occurring.

Could someone please advise of a way to resolve this issue?"
Amazon EC2	"Re: Instance reachability check failed
Hello,

It looks like both of your instances are back up and running. Are you experiencing any further issues?

Kind regards,
Chris"
Amazon EC2	"Poor traceroute results to EC2 instance in Virginia
Hi

I'm getting really poor traceroute results with multiple hops coming back as ""Request timed out"" and I think it's causing issues with uploads to our server. Any idea what might be causing this?

Here's the tracert:
racing route to alpha.sparkrender.com http://54.164.51.206
over a maximum of 30 hops:

  1    <1 ms    <1 ms    <1 ms  www.routerlogin.com http://192.168.20.1
  2    21 ms    21 ms    21 ms  losubs.subs.dsl7.th-lon.zen.net.uk http://62.3.84.3
  3    21 ms    21 ms    21 ms  ae1-137.cr2.th-lon.zen.net.uk http://62.3.86.149
  4    21 ms    22 ms    22 ms  xe-0-4-0-7.r02.londen03.uk.bb.gin.ntt.net http://83.231.235.229
  5    22 ms    21 ms    22 ms  ae-4.r22.londen03.uk.bb.gin.ntt.net http://129.250.5.24
  6    96 ms    91 ms   100 ms  ae-4.r22.nycmny01.us.bb.gin.ntt.net http://129.250.3.126
  7    94 ms    94 ms   102 ms  ae-2.r06.nycmny01.us.bb.gin.ntt.net http://129.250.4.175
  8   100 ms    90 ms    90 ms  ae-10.amazon.nycmny01.us.bb.gin.ntt.net http://129.250.201.134
  9   105 ms   112 ms   111 ms  54.240.229.78
 10     *        *        *     Request timed out.
 11     *        *        *     Request timed out.
 12     *        *        *     Request timed out.
 13   102 ms   102 ms   151 ms  72.21.220.45
 14   114 ms   123 ms   113 ms  205.251.245.65
 15     *        *        *     Request timed out.
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18   115 ms   114 ms   106 ms  ec2-54-164-51-206.compute-1.amazonaws.com http://54.164.51.206

thanks"
Amazon EC2	"How to get EC2 website running with PostgreSQL database
Hi,

I want to use a PostgreSQL database with 3 or 4 tables to store a couple of million records of data and use a simple web interface, which will be powered by PHP, to allow users to search and navigate the database. Data will be imported to the database through a CSV file.

What is the best way to do this? So far, I have created a PostgreSQL database in AWS RDS and set up an Amazon Linux instance on EC2. I have also got PHP installed on this server. 

I am very new to cloud computing/AWS and more used to a simple web hosting environment. I am really struggling to get my head around how to use this server. My background is not in Linux, and whilst I have used web hosting before, it has been through a simple cPanel frontend and FTP, so the command line hasn't come into it. 

1) How do I FTP/SFTP with a client (e.g. Filezilla) into the directory where I can upload web-accessible files? (E.g. public_html or www)? I have tried connecting with the ec2-user account and all I can see from there is the /home/ec2-user directory, which has a .ssh directory and nothing else. 
2) Would it be fairly straightforward to connect to the PostgreSQL database on AWS RDS from EC2, for instance through a PHP file? What settings might I need for this to work? 

Thank you for your help!"
Amazon EC2	"Re: How to get EC2 website running with PostgreSQL database
Can anyone help me with this please?"
Amazon EC2	"Re: How to get EC2 website running with PostgreSQL database
What SCP or SFTP client would you prefer to use?  You can Google instructions on how to use them using a public/private keypair (your Keypair in AWS).  That will let you get files to the server.

You will need to install a web server (most likely Apache) with PHP, configure it to point it to a directory where your PHP files will exist, and also ensure that you have the PHP libraries for PostgreSQL installed so that you can use PHP code to access your database.

This particular example that AWS provides shows how to set up WordPress.  WordPress is PHP and uses MySQL rather than PostgreSQL, but you can get some guidance from there and adjust where necessary.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/hosting-wordpress.html"
Amazon EC2	"Re: How to get EC2 website running with PostgreSQL database
Thanks Kristofer. I used the WINSCP SSH/SFTP client to login, downloading the secure key from the EC2 area in the Console, converting it from .pem to .ppk.

Just to explain for anyone else who sees this in the future:

I opted to run everything on the EC2 server (rather than using the EC2 environment for just the hosting and RDS for the database). I installed the various components I needed through a command line interface on Windows ( using the instructions found here to use Putty). 

I then used Putty to install a LAMP server (Linux, Apache, MySQL, PHP) on EC2. I did deliberate about PostgreSQL but decided to stick with MySQL for my purposes, mostly because of familiarity with it and time constraints at work.

There were some problems that I ran into:

1) I am used to the public_html (publicly accessible web folder) being in the /etc/home folder, but instead it is found in /var/www/html/ instead. I had to change the owner of the folder from root user to ec2-user, as it is not possible to login as root user on EC2. This allowed me to write files to this folder. I then used a program called Notepad++ to build the website in this folder, and installed PhpMyAdmin to design the MySQL database.

2) I ran into a problem where I received the message, ""You don't have permission to access /phpmyadmin on this server"" after installed PhpMyAdmin. The reason for this was that the phpmyadmin.conf file in /etc/httpd/conf/extra/phpmyadmin.conf contained a line that only allowed 127.0.0.1 IP address access to the web accessible folder. The solution was to edit this file and add my own IP address, as instructed here. (You may have to use the sudo command in front of vi as the file is owned by the root user not ec2-user).

3) Every time that the EC2 server is manually shut down and then started again via the Console, the IP address and hostname change. If you choose only to reboot the EC2 instance, the IP address does not change however. One way to get around this is to allocate an elastic IP address to the instance, so that even if the instance is moved from one server to another, the IP address and hostname will remain the same. It is possible to get this set on the  sequence to make the change permanent.

4) On a slightly different note, one of the challenges I faced was how to upload Excel-created CSV files into PhpMyAdmin when numbers had more than 3 digits. These CSV files had thousand separators so the numbers were enclosed in double quotes, which threw off the importer. The solution was to go back to the original Excel file and turn the thousand separator comma setting off before saving the file as CSV, so that no double quotes are used. 

Hopefully this advice will prove useful to others stuck in the future. My best advice is simply to persevere and Google anything for understanding."
Amazon EC2	"Packet loss at us-east-1.ec2.archive.ubuntu.com
I was performing an apt-get update on one of my EC2 instances running Ubuntu, and I noticed that it had trouble connecting to us-east-1.ec2.archive.ubuntu.com, which hosts a number of repositories. Sure enough, my ping test from the instance yielded the following results:






us-east-1.ec2.archive.ubuntu.com ping statistics ---





176 packets transmitted, 62 received, 64% packet loss, time 175639ms
rtt min/avg/max/mdev = 73.898/92.040/105.790/7.560 ms

Any reason why this is happening? I know it's not a networking issue with my instance, as I got similar results with a ping test from my local machine."
Amazon EC2	"Re: Packet loss at us-east-1.ec2.archive.ubuntu.com
The issue appears to have subsided."
Amazon EC2	"Re: Packet loss at us-east-1.ec2.archive.ubuntu.com
Now I'm getting >70% packet loss again. Can someone please look into this?"
Amazon EC2	"Re: Packet loss at us-east-1.ec2.archive.ubuntu.com
Marking as unanswered accordingly."
Amazon EC2	"Not able to Access website after applying self-signed certificate to ELB
I have successfully created and installed Self Signed SSL certificate in ELB (AWS). I have tried to access the website using domain name.Conection is establised but it is not opened.Same thing happened while access web site using ELB DNS name. 

I have implemented small website. With http:// I am able to access my site. After applying self signed certificate to load balancer i have tried to access my site but I am not able to access my site with https:// It showing blank page.

Edited by: vchreddy on May 21, 2015 10:03 PM"
Amazon EC2	"how to cluster instances for oracle
Hi friends,
I am looking for solutions to have high compute like 120 vcpu for oracle database... Can we cluster multiple instances to get this compute power?
Can we use elastic file storage for more than 10 TB data storage?
Please help the possibilities available on was for high compute oracle deployment....

Raj"
Amazon EC2	"Transferable Private IP Address between Availability Zones
I understand an Elastic IP is a public static IP that is easily transferable, even between different Availability Zones.  I would like to avoid ""public"" traffic, and instead, route all traffic to private IPs over a VPN between a customer site and the AWS VPC.

On the customer's end, an application will be installed that refers to an IP Address in the AWS VPC.  I would like that traffic to continue routing over the VPN as it is now, but have the ability to transfer that IP Address to a new EC2 Instance in a different Availability Zone in the event the primary AZ goes down.  That way, the client end doesn't need to change...the application will continue to point to the same private IP Address.

A Subnet is assigned to an Availability Zone.
An Elastic Network Interface is assigned to a Subnet.
The Subnet CIDR determines the available IP Addresses.
You can't assign an ENI from AZ #1 to an EC2 Instance in a AZ #2.
You can't have Subnets in different AZs with the same CIDR.

Does anyone know of a way to have a private IP Address that is transferable between Availability Zones?"
Amazon EC2	"Re: Transferable Private IP Address between Availability Zones
It is not possible to transfer a private IP to another AZ.  You would need to delete the subnet and re-create it in a different AZ.

This is a use case where DNS (your own, or Route 53) pointing to the IP address in the AZ that you want would be most ideal."
Amazon EC2	"Instance reachability check failed
I am running a centOS 7 instance (i-df75a813) on m3.medium. The instance is running MySQL database along with a custom TCP/IP server on port 443 and 5222.

I am facing strange issue with EC2 instance. I have noticed every 5 weeks that instance becomes unreachable from internet and on EC2 dashboard it shows an error of ""Instance reachability check failed"". I am force to reboot multiple times till instance passes the reachability test and become available.

However, this time I tried debugging it thinking that custom server is playing foul. So, I tried to access the same server running on CentOS 7 instance (i-df75a813) from another instance (i-ffec4e33) in the same account. Interesting server running on ""i-df75a813"" instance was working fine.

To me it looks like the public interface or traffic from internet is not reaching my instance. Any pointer would be helpful.

Please note all these instance are test instance and are not in production. I am really worried about using AWS service for production."
Amazon EC2	"Re: Instance reachability check failed
Hi,

When troubleshooting connectivity over the internet to your instances within AWS check the following:

1.  Ensure the correct ports in the Security Group are open that is associated with your instance
2.  Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3.  Ensure you have an Internet Gateway associated with your VPC
4.  Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5.  Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Instance reachability check failed
Instances and services running on the instances are properly configured. The instance runs fine for 5 weeks and then ""Instance reachability check failed"" to come up making my instance un-reachable from Internet. 

As I have reported, the instance is not dead or hanged because of application running on it as I am able to access the instance and its services from private LAN IP.

To me it looks like AWS issue."
Amazon EC2	"Instance reachability check failed
Hi,

We've currently got an EC2 instance (i-46115f8f) that is failing the reachability check. 
We were not able to connect to it (including HTTP/S and SSH) so restarted the instance.

There is nothing in the ""Get System Log"" window so I can't see what might be causing the problem.

We had what seems to be the similar issue with another instance in last month so we launched a replacement instance.

Is there any way to find out what the cause of the problem is?

Thanks,
Prathmesh"
Amazon EC2	"Re: Instance reachability check failed
Hello, 

I show this instance failed health checks and then recovered. The underlying hardware wasn't having any issues and presently I show it's responding to both SSH and HTTP, and 'get system log' appears to be working fine. CPU utilization doesn't look to have been maxed during this time frame, but perhaps something else occurred that caused these issues. 

I'd recommend taking a look at your OS system logs to verify if any errors were occurring during that time frame. 

Regards,
Nick"
Amazon EC2	"Re: Instance reachability check failed
Hi.

We have face similar issue in last 3  or 4 days.

Server CPU usage went 100%.  see attached screenshot.

I thing we are facing ddos attack. 

@NickL@AWS  can you guide us what exactly causing server to reach 100% CPU usage.

I am investigating in the syslog and apache log. If get  any suspicious log I will post  it."
Amazon EC2	"Re: Instance reachability check failed
Hello, 

Did your system reachability check fail during that timeframe as well? 

Any number of issues can cause CPU utilization to hit 100%, but the troubleshooting is the same for EC2 as it would for a racked server or any other host. Regarding DDOS, your image is showing one minute intervals, and it strikes me as extremely unlikely that someone would run a DDOS against you for one minute. Do you show a large increase in requests hitting your apache logs? Do you show an increase in networkIn/networkOut at the same time as CPU spikes?  

Regards,
Nick"
Amazon EC2	"A client error (AuthFailure) occurred RunInstances operation
Hello

I created a new amazon aws account and downloaded the key pair. 

a)  I copied the keypair name university.pem to /home/ec2-user 
b) and trying to launch a new EC2 instance using a publicly available AMI from /home/ec2-user directory

I get the below error for both the regions.  Kindly can you review and provide any tips to solve this problem ? This keypair university.pem  is working OK from the browser as i use it to launch an EC2 instance from the browser using the Java SSH client (MindTerm).

But command line CLI is not working.

A client error (AuthFailure) occurred when calling the RunInstances operation: AWS was not able to validate the provided access credentials

aws ec2 run-instances --image-id ami-319b0b01 --count 1 --instance-type t1.micro --key-name university.pem --security-groups hadoop-ClusterLauncherSecurityGroup --region us-west-2

aws ec2 run-instances --image-id ami-319b0b01 --count 1 --instance-type t1.micro --key-name university.pem --security-groups hadoop-ClusterLauncherSecurityGroup --region us-east-1

Note: I masked the security group name and key file name here as it is a public forum.

-Thanks
Srini"
Amazon EC2	"Re: A client error (AuthFailure) occurred RunInstances operation
BTW, i am able to launch the same instance from the AWS management console using the same key pair university.pem  But i really need it be working with the amazon aws ec2 command line interface (CLI)

-Srini"
Amazon EC2	"Re: A client error (AuthFailure) occurred RunInstances operation
Hello AWS Support Team,

When you get a few minutes, kindly can you help me ?

-Srini"
Amazon EC2	"Re: A client error (AuthFailure) occurred RunInstances operation
How did you set up your credentials (access key/secret key) for CLI?  Wherever you have those set, check to make sure they are valid."
Amazon EC2	"Re: A client error (AuthFailure) occurred RunInstances operation
Hello,

Thanks for posting. Can you successfully run the following command?

aws ec2 describe-instances


If you cannot run the above command then I suspect that you have not configured the CLI as  jfendors has mentioned. Please see the following link:

http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.htm

If you can successfully run the above command then please add the --debug flag to the command to get further output.

Regards,
Brandon"
Amazon EC2	"aws ec2 import-image Unknown OS / Ubuntu / BTRFS
I've tried many combinations on Ubuntu and BTRFS using .ova files and .vmdk but they all fail at updating.

""ClientError: Unknown OS / Missing OS files.'

There is no log to really tell me anything that I can find for the import failing.

The same .ova and vmdk files work fine in VMWare Fusion and vSphere 5.5.  They boot right up with no issues.

I've tried 12.04 and 14.04 but neither work.

I believe BTRFS is supported, is that not the case?"
Amazon EC2	"Import VM from vCenter to EC2 using AWS Connector problems
I am trying to migrate a Ubuntu 12.04 64-bit VM from VMWare vCenter 5 to Amazon EC2 using Connector. After the migration was completed, I attached a volume and tried to start the instance. However the instance never boots up successfully. It always went directly from “initializing” into “stopping” and then “terminated”. No system log is available. The State Transition Reason is showing: Client.UserInitiatedShutdown: User initiated shutdown. 

After inspecting the poller.log, I found the following two errors.

1.	2014-10-28 18:15:24 WARN StorageService:271 - Encountered 1 Internal Server error(s), will retry in 50ms

2014-10-28 18:15:24 WARN RestStorageService:417 - Error Response: PUT '/8fb663fa-fe94-4833-ac40-80dd6e44adee%2F9855c73b-d3aa-4bbd-87a2-2bc100ef8392%2F38.vmdk.part111' -- ResponseCode: 500, ResponseStatus: Internal Server Error, Request Headers: Content-Length: 10485760, Content-MD5: nVjGcXhOL4NXL74z6Rk6vQ==, Content-Type: application/octet-stream, x-amz-meta-md5-hash: 9d58c671784e2f83572fbe33e9193abd, Date: Tue, 28 Oct 2014 18:15:14 GMT, Authorization: AWS &ltAccess Key Removed>:6kJoxPnAyLl4y3hJlyxgXJYF0T4=, User-Agent: AWS-CONNECTOR-V2.2.0-PROD, Host: import-to-ec2-8b1edc15-4883-4a47-a3fb-895aab7eb2b2.s3.amazonaws.com, Expect: 100-continue, Response Headers: x-amz-request-id: B395F9C6427E2A24, x-amz-id-2: 090BSEco4zuj/hdJJXFl3ro5ay9WDpCrKZqqwQgj/oNPx8scZWolSG+mndQlVDUL, Content-Type: application/xml, Transfer-Encoding: chunked, Date: Tue, 28 Oct 2014 18:15:21 GMT, Connection: close, Server: AmazonS3

2.	2014-10-28 18:15:24 INFO SecureX509TrustManager:142 - sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target

Among these two errors, the second one occurs almost every 2-3mins regardless if there is a migration in progress. Whereas the first error occurs only during a migration process.

Just to provide more background information, the Ubuntu machine we are using is a newly-installed machine with no special applications running.  The Connect Management Console shows green light for all the Health Status checks. Please also see the attached Connector log bundle if you need more information (**Rename** it to ZIP to open it)."
Amazon EC2	"Re: Import VM from vCenter to EC2 using AWS Connector problems
Would be interested to hear the resolution if you were able to get this working..."
Amazon EC2	"Re: Import VM from vCenter to EC2 using AWS Connector problems
Hello,

The VM Import has taken a look into this issue. From their investigation they are seeing that the import was not of an entire VM but only of the volume, then the volume was attached to an instance and this instance fails to start. Can you confirm this?

Their suggestion it to import the entire VM and try again. Please be sure to verify you've met the prerequisites listed at the following URL:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

If you have further issues please let us know.

Regards,
Brandon"
Amazon EC2	"IAM user to turn instance on and off?
Hello, I need to create a IAM user that only has permissions to turn on and off and specific instance through the AWS Console mobile app, is this possible? If so, what are the permissions needed for the user?

Thanks."
Amazon EC2	"Re: IAM user to turn instance on and off?
Hello, 

You can create the following IAM policy below for the IAM user in order to Stop/Start specific instances:

{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmt1432235358502"",
            ""Action"": ""ec2:Describe*"",
            ""Effect"": ""Allow"",
            ""Resource"": ""*""
        },
        {
            ""Sid"": ""Stmt1432235358501"",
            ""Action"": [
                ""ec2:StartInstances"",
                ""ec2:StopInstances""
            ],
            ""Effect"": ""Allow"",
            ""Resource"": [
                ""arn:aws:ec2:us-east-1:398637056871:instance/i-xxxx"",
                ""arn:aws:ec2:us-east-1:398637056871:instance/i-xxxx""
            ]
        }
    ]
}

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: IAM user to turn instance on and off?
Thanks for the reply!

I get the ""EC2 Instances"" option greyed out with the legend ""You are not authorized to perform this operation""; I guess it just needs adittional permissions on the policy, but I don't know which ones."
Amazon EC2	"Re: IAM user to turn instance on and off?
I'm sorry, I forgot to attach the policy to the group, it works now.

Thank you very much!

Cheers."
Amazon EC2	"Need help getting a charity website back online
Hello,

Save a Child's Heart (SACH) is a charity organization that performs pediatric heart surgery in third-world countries all over the world. They have already saved the lives of thousands of children.

My grandmother's son was the doctor who started this organization (he has passed away). One of their websites (a critical one) has become unreachable and I volunteered to help her get it back up again. This is no easy task since my grandfather, who originally paid to create the website, is now an elderly person who is unable to communicate for medical reasons.

From my inquiries so far I have found that the domain name is still owned by the elderly person I mentioned, and registered with GoDaddy. A WHOIS query on the IP to which the domain name points to shows that the website is hosted on compute-1.amazonaws.com .

1. Does that mean that amazonaws is necessarily the actual host?
2. If not, is there a way to find the actual host?
3. If the actual host is amazonaws, what kind of details/authorization is required to get amazonaws to work with me on resolving the issue (either by giving me access to a management console / FTP, or by having their support staff figure out what went wrong.

I do have quite a bit of computer skills, but I'm not exactly an expert on web technology. I might be asking the wrong questions, so please feel free to answer this in any way you see fit. I have not provided the name or domain name for security/privacy concerns. I may not have a reason to be concerned, but I'm trying to be cautious. If it would be required and deemed safe, I can later provide these details either on this thread on by PM.

Any help or advice would be greatly appreciated! This is for a very good cause."
Amazon EC2	"Re: Need help getting a charity website back online
Hello, 

Thank you for posting to the AWS Forums!

To answer your questions: 

1. It generally implies that yes, your domain name is resolving to a host within AWS. This is documented here: http://docs.aws.amazon.com/gettingstarted/latest/awsgsg-intro/gsg-aws-compute-network.html
Additionally, if you do a whois on an IP hosted by Amazon, you will generally see that Amazon owns the IP throughout the response, not just on the public DNS name for the host. 
2. See above. 
3. To recover access to an account you don't have access to, you'll want to open an account and billing support case and they'll work with you to attempt to verify this account. You can open a case here: https://aws.amazon.com/support/createCase?type=account_billing
It would be best to have as much information as possible about the account holder and owner. 

Regards,
Nick"
Amazon EC2	"Very Poor SSH performance
Hi,

We have recently begun seeing very poor SSH performance across the whole of our EC2 estate manifesting as - delayed terminal and broken pipes.

Are there a networking latency issue? i've checked the service status page and that just shows green. Our connection is fine we have a leased line and traffic is flowing properly.

Thanks

Tony"
Amazon EC2	"Re: Very Poor SSH performance
Hello, 

There weren't any reported issues around the time you created this post. Are you still experiencing issues? Were you able to capture latency with any other types of traffic (ICMP, HTTP, ect)? 

Regards,
Nick"
Amazon EC2	"Importing a VM running Windows 7 and converting it to EC2 instance
I have tried importing/converting a Windows 2008 VM to EC2 instance successfully with Amazon EC2 CLI API ec2-import-instance. When trying the same thing on a Windows 7 VM, the conversion task failed with reason of ""unsupported Windows OS"". According to this documentation (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html), Windows 7 is supported if BYOL flag is used with licenseType parameter. I think licenseType or something similar is not available to ec2-import-instance as a parameter. Is importing Windows 7 VM supported at all currently? Do I need to do the import with other ways? Do we need to get BYOL enabled for our account (we have MSDN licenses) before we can do the import? Please advise.

Thanks
Paulino"
Amazon EC2	"Re: Importing a VM running Windows 7 and converting it to EC2 instance
Hello, 

Sounds like you are using our older CLI Tools. The newest version of CLI tools command would be ""aws ec2 import-image"" and the ""--license-type"" parameter is an option. You can download the latest CLI tools here:
http://aws.amazon.com/cli/

And read more on the ""import-image"" command here:
http://docs.aws.amazon.com/cli/latest/reference/ec2/import-image.html

Regards,
Nick"
Amazon EC2	"May not detach network interfaces: do not have permission
Hello,

I am trying to detach two old network interfaces what I may not do as I have not the permission to access the resource:

""eni-834dacdb: You do not have permission to access the specified resource.""

The regarding interfaces are
eni-834dacdb
eni-c155f2a5

Can you help me with this issue?"
Amazon EC2	"Re: May not detach network interfaces: do not have permission
Hello, 

Are you using an IAM user to attempt to detach this interface? If so which one? You'll want to specify that you have the correct permissions to detach the network interface. 

Regards,
Nick"
Amazon EC2	"I stopped an instance to expand and it was terminated
Hi,

I stopped the instance to increase disk size by changing type to small instance and the aws service terminated it without asking. Is this normal? Can I recover it? Unfortunately I don't have a backup in AWS.

Instance ID:
i-2165a2e0

Please Help"
Amazon EC2	"Re: I stopped an instance to expand and it was terminated
Hello ruca84,

I understand you wanted to increase the disk size of the root EBS volume attached to the instance in question by changing the instance-type, is this correct? Changing the instance-type has no impact on the disk size of the EBS volumes. For information with regards to 'Expanding the Storage Space of an EBS Volume on Linux', please see the AWS documentation here. Information on 'Resizing Your Instance' can be found here. 

Upon reviewing your EC2 instance i-2165a2e0, I do see that it has been terminated. The termination was user-initiated at 2015-05-15 15:01:01 GMT.  Because the EC2 instance is terminated, and the root EBS volume is also in a deleted state, we do not have any means to recover the EC2 instance. I truly apologize for any inconvenience caused. It is best practice to create necessary backups of your EC2 instance by creating frequent AMIs and EBS snapshots. For information on Building Fault Tolerant Applications in the AWS cloud, please see the following AWS white paper -- http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Again, I apologize for any loss of data that occurred by this termination. If you do have any additional questions or concerns, please do let us know. We would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Re: I stopped an instance to expand and it was terminated
Hi Mohsin,

It is not correct to say I've terminated it, I stopped it. By stopping it AWS is automatically creating a new instance because of load balancing health check. As the number of minimum instances is set to 1 it appears stopping the unique instance causes it to be terminated and a new blank (but with same settings) instance is being created and therefore the data is lost.

Please provide feedback.

Thanks

EDIT:

I recognize now that stopping a certain type of instance might cause it to be terminated instantly. Therefore following instructions to stop the instance to change the type of the instance, for example, from micro to small might not be possible in certain conditions.

Edited by: ruca84 on May 21, 2015 12:21 PM"
Amazon EC2	"EC2 instance- ""wget"" a page from Gutenberg site gives: 403 Forbidden Error
Hi,   I am using Amazon EC2 instance to try to ""wget"" a page from Gutenberg site ( For example: wget http://www.gutenberg.org/files/11/11-h/11-h.htm ). I get the 403 forbidden error. wget for same URL works fine from my local computer, but not from EC2 instance.I get following error when using wget on EC2 instance:Resolving www.gutenberg.org... 152.46.7.81Connecting to www.gutenberg.org|152.46.7.81|:80... connected.HTTP request sent, awaiting response... 403 Forbidden2010-03-05 20:04:04 ERROR 403: Forbidden.  Same thing happens with a few other sites. Any help is appreciated. Thanks.  Message was edited by: userec2

Message was edited by: userec2"
Amazon EC2	"Re: EC2 instance- ""wget"" a page from Gutenberg site gives: 403 Forbidden Error
1. Is the directory that you are running wget from write-able?"
Amazon EC2	"Re: EC2 instance- ""wget"" a page from Gutenberg site gives: 403 Forbidden Error
I also get wget error and don't know how to resolve.

I'm not the most talented developer out there, and the question I'm asking may be basic, but I need some help:) I used wget to get source content from Seeking Alpha on my AWS server, and have been getting the 403 forbidden error. See details below. I tried the same from my other (test) machine, which is NOT Amazon, and it works just fine. Can you let me know how I resolve this error? Code details are below.

$ wget http://seekingalpha.com/symbol/goog.xml

--2014-12-23 07:05:02--  http://seekingalpha.com/symbol/goog.xml
Resolving seekingalpha.com (seekingalpha.com)... 23.3.13.8, 23.3.13.42
Connecting to seekingalpha.com (seekingalpha.com)|23.3.13.8|:80... connected.
HTTP request sent, awaiting response... 403 Forbidden
2014-12-23 07:05:02 ERROR 403: Forbidden."
Amazon EC2	"Re: EC2 instance- ""wget"" a page from Gutenberg site gives: 403 Forbidden Error
did you got any solution for this issue. I am also encounter same issue."
Amazon EC2	"Re: EC2 instance- ""wget"" a page from Gutenberg site gives: 403 Forbidden Error
Hey bud..  Did you find an answer for this?
I'm hitting it too.

Thanks-"
Amazon EC2	"Is it possible to get voter id card in punjab
Can you please clarify that the information given in the link below has the relevant procedure to get votr id card in Punjab:
How to Get New Voter ID Card in Punjab

The homepage is http://www.voteridcardonline.in/"
Amazon EC2	"Missing some repository in RHEL 7 image
Hi,
I deployed a RHEL7 image and found that some of the packages were missing, I believe the missing packages should come from rhel-x86_64-server-optional-7 channel, how can I add that channel? Do I need to pay for RedHat for the optional channel?
Thanks. 

root@xxxx ~# yum search lua-devel
Loaded plugins: amazon-id, rhui-lb
rhui-REGION-client-config-server-7                       | 2.9 kB     00:00     
rhui-REGION-rhel-server-releases                         | 3.7 kB     00:00     
(1/2): rhui-REGION-client-config-server-7/x86_64/primary_d | 2.5 kB   00:00     
(2/2): rhui-REGION-rhel-server-releases/7Server/x86_64/pri | 4.2 MB   00:00     
(1/2): rhui-REGION-rhel-server-releases/7Server/x86_64/gro | 133 kB   00:00     
(2/2): rhui-REGION-rhel-server-releases/7Server/x86_64/upd |  29 kB   00:00     
Warning: No matches found for: lua-devel
No matches found
root@xxxx ~# yum repolist
Loaded plugins: amazon-id, rhui-lb
repo id                                         repo name                 status
rhui-REGION-client-config-server-7/x86_64       Red Hat Update Infrastruc     1
rhui-REGION-rhel-server-releases/7Server/x86_64 Red Hat Enterprise Linux  4,457
repolist: 4,458

Edited by: bc8656 on Jun 21, 2014 9:25 PM"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Hello, 

Red Hat Update Infrastructure (RHUI) is maintained by Red Hat.

You can add the epel repository with the command:
rpm -Uvh http://download-i2.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm

I do see that it has some lua RPMs, but I don't see lua-devel. You might be able to find the RPM and install it manually using one of the RPM search tools on the web. 

Thank you, 
Chris"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Keep an eye on this public knowledgebase article for more information as it becomes available: https://access.redhat.com/solutions/1120983"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
It's not just lua-devel.

 A VERY LARGE number of packages are missing, which are present both in RHEL 6, and in the CentOS 7 release candidate. So I suspect something is very wrong with Red Hat's repositories. Especially since the missing packages I spot checked aren't in the official package manifests (for any channel) either. Many things which worked on RHEL 6 are going to break on RHEL 7 because their supporting libraries have gone missing.

The one I ran into just now is gamin-python. It's present in the RHEL 6 manifest, and present in CentOS 7, but missing from RHEL 7.

I think this is something that Red Hat needs to take a close look at, before the complaints really start rolling in. We should not have to pull in CentOS-built packages to make RHEL functional.

Edited by: rlroleaccount on Jul 4, 2014 10:08 PM

Edited by: rlroleaccount on Jul 4, 2014 10:14 PM"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Yes, I just found even git and git-daemon packages are missed. Any one know how to solve it? Thanks in advance."
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Hi Chris, 

Redhat manage RHUI, but amazon has the ability to choose which repositories to subscribed. 
Can you modify the subscription to include rhel-x86_64-server-optional ? 

As of today rhel-x86_64-server-optional contains more than 4800 packages ( including php-mbstring which required by wordpress )"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
According to the Red Hat Knowledgebase article, the content sets for Supplementary and Optioinal are now available to EC2 clients. Read this article for more information:

https://access.redhat.com/solutions/1120983"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
I tried accessing the URL on RHEL website but it requires a subscription which I do not have.  Any way you can post the steps needed to get the Optional-7 package installed on EC2 RHEL 7 image?  Thank you for your help and time."
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Hi everyone,

I've only just come across thread by chance today, so apologies that we weren't able to help you all earlier. You should able to use the following commands to see what additional repos are available to your RHEL 6/7 instances by executing the following commands:

# yum -y install yum-utils
# yum repolist all
Loaded plugins: amazon-id, rhui-lb
repo id                                                                     repo name                                                                          status
epel/x86_64                                                                 Extra Packages for Enterprise Linux 7 - x86_64                                     enabled: 6,532
!epel-debuginfo/x86_64                                                      Extra Packages for Enterprise Linux 7 - x86_64 - Debug                             disabled
!epel-source/x86_64                                                         Extra Packages for Enterprise Linux 7 - x86_64 - Source                            disabled
!epel-testing/x86_64                                                        Extra Packages for Enterprise Linux 7 - Testing - x86_64                           disabled
!epel-testing-debuginfo/x86_64                                              Extra Packages for Enterprise Linux 7 - Testing - x86_64 - Debug                   disabled
!epel-testing-source/x86_64                                                 Extra Packages for Enterprise Linux 7 - Testing - x86_64 - Source                  disabled
rhui-REGION-client-config-server-7/x86_64                                   Red Hat Update Infrastructure 2.0 Client Configuration Server 7                    enabled:     2
!rhui-REGION-rhel-server-debug-extras/7Server/x86_64                        Red Hat Enterprise Linux Server 7 Extra Debug (Debug RPMs)                         disabled
!rhui-REGION-rhel-server-debug-optional/7Server/x86_64                      Red Hat Enterprise Linux Server 7 Optional Debug (Debug RPMs)                      disabled
!rhui-REGION-rhel-server-debug-rh-common/7Server/x86_64                     Red Hat Enterprise Linux Server 7 RH Common Debug (Debug RPMs)                     disabled
!rhui-REGION-rhel-server-debug-rhscl/7Server/x86_64                         Red Hat Enterprise Linux Server 7 RHSCL Debug (Debug RPMs)                         disabled
!rhui-REGION-rhel-server-debug-supplementary/7Server/x86_64                 Red Hat Enterprise Linux Server 7 Supplementary Debug (Debug RPMs)                 disabled
rhui-REGION-rhel-server-extras/7Server/x86_64                               Red Hat Enterprise Linux Server 7 Extra(RPMs)                                      disabled
rhui-REGION-rhel-server-optional/7Server/x86_64                             Red Hat Enterprise Linux Server 7 Optional (RPMs)                                  disabled
rhui-REGION-rhel-server-releases/7Server/x86_64                             Red Hat Enterprise Linux Server 7 (RPMs)                                           enabled: 5,071
!rhui-REGION-rhel-server-releases-debug/7Server/x86_64                      Red Hat Enterprise Linux Server 7 Debug (Debug RPMs)                               disabled
!rhui-REGION-rhel-server-releases-source/7Server/x86_64                     Red Hat Enterprise Linux Server 7 (SRPMs)                                          disabled
rhui-REGION-rhel-server-rh-common/7Server/x86_64                            Red Hat Enterprise Linux Server 7 RH Common (RPMs)                                 enabled:    76
!rhui-REGION-rhel-server-rhscl/7Server/x86_64                               Red Hat Enterprise Linux Server 7 RHSCL (RPMs)                                     disabled
!rhui-REGION-rhel-server-source-extras/7Server/x86_64                       Red Hat Enterprise Linux Server 7 Extra (SRPMs)                                    disabled
!rhui-REGION-rhel-server-source-optional/7Server/x86_64                     Red Hat Enterprise Linux Server 7 Optional (SRPMs)                                 disabled
!rhui-REGION-rhel-server-source-rh-common/7Server/x86_64                    Red Hat Enterprise Linux Server 7 RH Common (SRPMs)                                disabled
!rhui-REGION-rhel-server-source-rhscl/7Server/x86_64                        Red Hat Enterprise Linux Server 7 RHSCL (SRPMs)                                    disabled
!rhui-REGION-rhel-server-source-supplementary/7Server/x86_64                Red Hat Enterprise Linux Server 7 Supplementary (SRPMs)                            disabled
!rhui-REGION-rhel-server-supplementary/7Server/x86_64                       Red Hat Enterprise Linux Server 7 Supplementary (RPMs)                             disabled
repolist: 11,681


So to enable Red Hat's Extras and Optional repos, you would then run the following:

# yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional"
Amazon EC2	"Re: Missing some repository in RHEL 7 image
Thank you! 

That worked for me when I was looking for missing packages for an R installation on RHEL 7."
Amazon EC2	"Re: Missing some repository in RHEL 7 image
that worked perfectly, saved my day!

thanks
patrick"
Amazon EC2	"Instance not responding
Our instance id i-554cc67d. It says running, but not able to connect/reach to it. status checks are also failing. How can we get this back asap? Thanks."
Amazon EC2	"Re: Instance not responding
Hi,

Have you tried stopping and restarting this instance? - Remember if you have data on the ephemeral drives (instance store) then this will be lost performing this step.

When stopping and restarting an instance there is a chance that it will be restarted on different physical hardware within the AZ and hopefully resolve the status check problem.

Cheers,

Stooby..."
Amazon EC2	"Re: Instance not responding
Yes, stopped and restarted. Same  issue."
Amazon EC2	"Re: Instance not responding
Hello,
I checked and the instance is reachable to me.
I have not found any particular issue regarding the infrastructure.
The fact that multiple restarts (on different hosts) do not fix the issue lead to an internal issue with the instance.
Also, I found some CPU spikes in the CloudWatch metrics then I suggest to review the operating system logs.
Thanks.
Adolfo."
Amazon EC2	"Re: Instance not responding
Thank you."
Amazon EC2	"Disk i/o has become very slow
Our instance id i-554cc67d. Since this morning this instance disk i/o has become very very slow. It has become a major issue, what can I verify? how can I fix this issue? Help please ASAP.."
Amazon EC2	"Re: Disk i/o has become very slow
Hello,

I did take a look at your instance and it appears like your volume's performance is affected as it ran out of IO credits. 

Due to this, your EBS volume will be restricted to 96 IOPs (32 GB x 3 IOPs) till your volume accumulate back IO credits.

If this is affecting you badly, a quick way to fix is to either increase your EBS volume size or move to provisioned IOPs.

Regards
Shiroy"
Amazon EC2	"Re: Disk i/o has become very slow
thanks for the reply. our instance is down completely. not able to start back up. what can be done to get it back asap?"
Amazon EC2	"Re: Disk i/o has become very slow
Hello,

The easiest option in this case is to create an image of your instance and launch the new AMI with a bigger EBS volume, so that your volume gets better base performance, longer burst periods and shorter IO credit accumulation period. The base performance, burst period and the IO credit accumulation time is dependent on the EBS volume size.

Regards
Shiroy"
Amazon EC2	"Re: Disk i/o has become very slow
Our current instance type is m3.large, want to change to m3.xlarge. What are the steps I need to take? Thanks."
Amazon EC2	"Re: Disk i/o has become very slow
Hello,

Please see the full instructions in the link below:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html#resize-ebs-backed-instance

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Disk i/o has become very slow
I changed it accordingly. Now the instance gets stuck at Status Check Initializing. and not reacheable. Though instance state is running status check is initializing forever... I have also associated with our ip. We seem to be having lot of issues with our server today and too much downtime. Can we get this up and running right away please?"
Amazon EC2	"Re: Disk i/o has become very slow
our instance id now is i-554cc67d"
Amazon EC2	"Re: Disk i/o has become very slow
I see it running fine now. I had changed from m3.large to xlarge.  But I do not see any change in the available hard disk space. I still see /dev/xvda1 for 32 gb as per m3.large. xlarge has to give me 2x40 gb space isn't it? What step am I missing?"
Amazon EC2	"Re: Disk i/o has become very slow
and disk i/o is still very slow. Please help us asap. To be able to get a good disk i/o rate and needed some disk space, we change to m3:xlarge. But not seem to be working. It is our production server, affecting us badly. Help!"
Amazon EC2	"Re: Disk i/o has become very slow
Hello,

I'm seeing your instance now running in a healthy state as ""m3.xlarge"" instance type. Are you still having issues?

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Disk i/o has become very slow
I created a new volume with larger disk space and mounted it. But can you please verify we indeed got all the m3.xlarge features.. ram etc. especially we had ran out of io credits. Did we get that back to normal? Thanks."
Amazon EC2	"Re: Disk i/o has become very slow
Hello,
the disk activity appears to be really slow it is clear from your cloudwatch metrics.

I sent you the details in a pm.

Thanks
Adolfo"
Amazon EC2	"Re: Disk i/o has become very slow
Thank you."
Amazon EC2	"Cannot access instance via SSH after attaching a different EBS volume
Hi,

We are having trouble accessing Instance ID i-36d2b0c7.

We recently stopped the instance to detach one of the EBS volumes. So we stopped the instance. Detached the EBS volume. Attached an equivalent one. When we started the instance, we were not able to reach the instance via SSH. 

Thought it might be an issue with the newly attached EBS volume so we detached that one and reattached the original EBS volume but continue to have problems accessing the instance. 

Within AWS console, it is showing that the ""instance check"" failed. 

Thanks,
ellatech

Edited by: ellatech on May 20, 2015 6:59 PM

Edited by: ellatech on May 20, 2015 7:01 PM

Edited by: ellatech on May 20, 2015 7:04 PM"
Amazon EC2	"Re: Cannot access instance via SSH after attaching a different EBS volume
Hi,

A couple of things to check here:


Status checks are sometimes caused by an issue with the underlying hardware that the instacne is running on (of which you have no control over).  Therefore try stopping and then restarting the instance, by doing so there is a chance that the instance will spin up on a different physical host.  NOTE: If you are using ephemeral storage then this data will be lost



When you detatched and reattached the EBS volumes did you stop/restart the instance at all? if so and you didnt have an EIP (Elastic IP Address) attached to the instance then the public IP address would have changed.  So when connecting via SSH ensure you have the right public ip address.


Cheers,

Stooby..."
Amazon EC2	"Re: Cannot access instance via SSH after attaching a different EBS volume
Hi Stooby,

Thanks for the suggestions. 

We have already tried stopping and restarting the instance a few times. 

When we detached/reattached the EBS volume, we did make sure to re associate the EIP."
Amazon EC2	"AWS PowerShell Tips
Hi Everyone,

I am somewhat new to Amazon Windows Powershell, but that does not mean I do not know what I am trying to accomplish.

Problem:
I have about 20+ servers that I usually deploy new file to on a monthly basis, and to get it done I have been RDP into each box. Needless to say that as the number of servers have been increasing over the years, it has become a tedious, time consuming and confusing process. 

Solution:
Instead, I am trying to create an amazon powershell script to simultaneously or sequentially upload the new files to each server instead of uploading them manually. I have creating a few scripts that does that but only to an FTP Server.

Obstacle:
At the moment none of the servers have FTP enabled on them, and I want to keep them that way. So, my script cannot upload to regular box with FTP enabled on it. I am stuck. I have been experimenting with S3 with the intent to upload file to S3 then each box would go to S3 to pull the new files. However, I am not too sure if EC2 windows based box can download files directly from S3.

Questions: 
Has anyone done anything remotely resemble my situation? Do you know of any resources that you can point me to? Which cmdlet do you think I can use to get to where i want? 

Your help is very much appreciated.

Best,

FVB

Edited by: Constant S. on May 13, 2015 2:43 PM"
Amazon EC2	"Re: AWS PowerShell Tips
Hi,

EC2 resources can communicate with S3 and pull down scripts providing security is in place.

Also, have you looked at:
http://aws.amazon.com/powershell/

Also look at:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonS3.html

Use the following command to copy an Amazon S3 object to your Windows instance.

PS C:\> Copy-S3Object -BucketName my_bucket -Key my_folder/my_file.ext -LocalFile my_copied_file.ext

Hope some of this helps,

Cheers,

Stooby.."
Amazon EC2	"Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Hello gentlemen,

We have one issue that is related to the Security Groups module in the EC2.

We are running a Windows Server 2008 R2 Datacenter 64 bits.

There is one policy that allows from any address (0.0.0.0/0) packets to the TCP port 8000.

From inside the EC2 server, we can access the application (it's an Apache web service) without problems, but only with the Internal IP address or using the name 'localhost' on the URL.

But if we try to access through the valid Elastic IP, from the Internet or even from the EC2 Server, it doesn't works.

We already tryed to reboot the server and it still doesn't works.

This is a very urgency issue, I would appreciate if someones help us soon as possible.

Thank you."
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Hello,

It is possible that your application is only listening on the localhost interface and not 0.0.0.0/0. You can check this by taking a look at 'netstat -an | grep 8000' and taking a look at what interface it is listening on. Please check that and let me know how it goes.

Regards,

Matt J"
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Hello Matt,

Thank you very much for answering.

So, the service is listening in the interface as I can show you with the output of netstat -an in the image attached.

We can also access the service from the local machine through the interface IP address.

Is there any way to debug the translation from the valid IP to the EC2 server interface?"
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Hello,

Please also check Windows Firewall and make sure its disabled or allowing connections through, any antivirus should also be disabled for testing. If you can provide the instance I can confirm settings there as well.

Regards,

Matt J"
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Matt,
Thanks for answering again.
Our Windows Firewall has an exception for this service.
We still without access through the valid IP.
If we try to access from the localmachine using the Interface IP address, it works.
But, using the valid IP it does not.
Can we check the logs of the network address translation?
If you want I can provide the access to the server.
How can I send to you the credentials in a secure way?
Thank you very much."
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
Hello,

If you could provide the instance ID I can take a look at the security groups and make sure they are set correctly.

Regards,

Matt J"
Amazon EC2	"Re: Problem with Security Groups: Cannot allow access from Any to TCP port 8000
It's old question, but a little tip for those have simlar problem with me:

After you create secruity group rules, you have to associate  group to instance:

Go to “Instances""
Right click your instance
Goto “Networking” -> “change security group""
assign security group on your instance"
Amazon EC2	"Network Connectivity lost to Windows Server 2012 R2
Hi,

I am unable to connect to my Windows Server 2012 R2 instance. I realised after investigations that a reboot of the system in certain 2012 instances triggers this to happen. For me the connectivity went off after creating an image from the instance. Subsequently I did re-boot the instance.

Is there a way by which I may be able to restore connectivity to this instance? I tried creating a new instance from the AMI but, I could not log into it either. While browsing through the support forums, there was a suggestion to change the Instance Type. However, the 'Change Instance Type' is disabled.

I am pretty new to AWS - cannot figure my way out on this. Any help on this is appreciated.

Thanks in advance.
Kpsid"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Instance Type can be changed only for stopped instances and the option is disabled as long as the instance is running. Please stop the instance and try again.

However, I doubt if that would help. And Amazon had announced a script that can fix the issue, however with no access to this machine you may not be able to run this script, but may help in the future before Amazon releases a permanent fix for this. You also have an option to open a complimentary support case with Amazon just for this issue, this may help. Refer these URLs below.

http://aws.amazon.com/windows/2012r2-network-drivers/
https://forums.aws.amazon.com/thread.jspa?messageID=575165&#575165

Regards,

Aravind K

Edited by: Aravind K. on Oct 9, 2014 7:38 AM"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hello,
Are you still having issues with this , Can you please share the instance ID with us ?
Regards,
Baseer."
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hello,

I have totally lost connectivity after a reboot. I cannot connect through remote desktop and I really do not know what else I should try.

I am aware that this is a known issue to Amazon since the following notification has been posted a while ago.
http://aws.amazon.com/windows/2012r2-network-drivers/

However, since I cannot connect through remote desktop, i cannot run any scripts on EC2.

I would appreciate any help on solving this problem. Thanks in advance."
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
I too am having the same issues after rebooting my instance and I am really not sure what to do or how to fix the problem. I am pretty much in the same shoes as vkalaitzo above me.

I know just enough to configure some stuff, but I'm not sure how to run the script supplied that was mentioned here:  http://aws.amazon.com/windows/2012r2-network-drivers/

Edited by: NYPD on Nov 23, 2014 5:20 PM"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
I found this thread:  https://forums.aws.amazon.com/thread.jspa?messageID=575165&#575165  and it helped fix my problems!!! 

The solution posted by SnehaV@AWS should be mentioned in the official news page to help any other people with this issue"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hello vkalaitzo,

If you are still having trouble connecting to your instance, please share the instance ID with us and we will investigate.

Kind regards,
LloydM"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
I too suffer from this ""automated uninstalled network driver bug""   and have spent the last few days trying various recovery methods mentioned in the forums  (Cloned drives/cloned servers/  fresh Ami's, temporary upgrade of my server to enable enhanced network etc.)  all to no avail.

my instance had been running for almost two months before i decided to reboot it, to apply some recommended Windows Updates.   I'd just spent the last 6 months on holiday, so hadn't logged into the AWS console or read my e-mail advising of this issue, until it was to late.

I don't know if your able to assist me in recovering my RDP connectivity to my 
instance id:   i-2736712d  
with 
volume id vol-6fcfa86e.

As I'm out of ideas, and this fault originated through no fault of my own"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
I too suffer from this ""automated uninstalled network driver bug"" and have spent the last few days trying various recovery methods mentioned in the forums (Cloned drives/cloned servers/ fresh Ami's, temporary upgrade of my server to enable enhanced network etc.) all to no avail.

my instance had been running for almost two months before i decided to reboot it, to apply some recommended Windows Updates. I'd just spent the last 6 months on holiday, so hadn't logged into the AWS console or read my e-mail advising of this issue, until it was to late.

I don't know if your able to assist me in recovering my RDP connectivity to my
instance id: i-2736712d
with
volume id vol-6fcfa86e.

As I'm out of ideas, and this fault originated through no fault of my own"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hello,

Thank You for creating this forum post. I have reviewed your instance and it appears it is related to the issue described in the below post:
http://aws.amazon.com/windows/2012r2-network-drivers/

There is currently a known issue with Windows Server 2012R2 instances becoming inaccessible after reboot. This is caused by a scheduled task built into the Operating System which checks for inactive plug and play devices on a 30 day basis. At this time, the scheduled task is detecting the AWS PV Network driver as inactive, and uninstalls it. The changes are not finalized until a user initiated reboot occurs, causing the instances to become inaccessible (failing system health check).

It is possible to regain access to an instance that is currently in this state by switching to an instance type which has enhanced networking pre-enabled (C3., R3., and I2.* instance types). This is due a different network driver being used on instances running with enhanced networking.

Below are the steps that should be taken to mitigate the issue. Please follow these steps exactly.

1. Ensure your instance is running in VPC. If your instance is running in EC2 classic, complete the steps detailed in the following documentation to migrate your instance and all associated data to VPC:http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-migrate.html

2. Stop your instance through the AWS console

3. Create an AMI copy from the AWS console: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html

4. Right click the instance in the management console, select change instance type

5. Select any C3., R3., or I2.* instance type to change the instance to.

6. Start the instance.

7. When the instance passes health check, RDP to the instance.

8. Uninstall the AWS PV Driver Version 7.2.0 via ""Programs and Features.”

9. Reboot the machine when prompted by the uninstaller.

10. Download and install the AWS PV Driver Installer from: https://s3.amazonaws.com/ec2-windows-drivers/AWS+PV+7.2.0/MicrosoftSigned/Installer/AWSPVDriverPackager.exe

11. Reboot when prompted by the installer.

12. Download and run the following script: http://ec2-downloads-windows.s3.amazonaws.com/Scripts/RemediateDriverIssue.zip, this will ensure that this issue is corrected ongoing.

13. Stop the instance and change the instance type to your previous instance.

Cheers
Iain"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hello 

I tried indicated procedure with instance i-ea6d2217 and it is not working. It remains disconnected. Any advice will be greatly appreciated.

Thanks"
Amazon EC2	"Re: Network Connectivity lost to Windows Server 2012 R2
Hi,
Thank you for the instance id.
I checked the instance and it is stopped now, so I can't tell why it is failing the health checks for you.
I do see from the System logs that the AWS PV drivers are already updated:

Driver: AWS PV Storage Host Adapter v7.3.0.1

Could you please confirm if you are still facing the issue?

If so, could you please leave the instance running?

Thank you for your collaboration!"
Amazon EC2	"Prepay for a running on-demand EC2 instance
Hello, 

I have existing m2.medium running in Singapore 1b zone. As it is costing me a lot, I would like to prepay for 6/12 months. 

It is not clear that if I Add Cart via the Reserved Instances on the console, that these reduced prices will be automatically applied towards the running instance (which is hosting my live server). 

Thanks in advance! 
Maheima."
Amazon EC2	"Re: Prepay for a running on-demand EC2 instance
Hi,

If you are looking to buy a reserved instance from AWS then you can do this on a 1 year or 3 year term.  

Once purchased, a Reserved Instance discounted hourly rate is automatically applied to an on-demand instance which matches the instance type, availability zone, platform, and tenancy during a given hour.  

So as long as the reserved options you purchase match the above criteria to your existance the charges will automatically be applied.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"i couldn't launch a Amazon EC2 instance in EU(Frankfurt)
hi yesterday i tried to launch a Amazon EC2 instance in EU(Frankfurt) but i could not , i got a error message , the message was ""This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions."" 
Please can you launch a one for me ? , please i need it
My account ID : 898343713699

Edited by: adelingame on May 21, 2015 1:39 AM"
Amazon EC2	"Re: i couldn't launch a Amazon EC2 instance in EU(Frankfurt)
Hi,

Have you contacted AWS on the e-mail address in the message regarding the fact that your account has been blocked??

You will not be able to perform any AWS commands/services until your account has been re-instated and this issue resolved.

Cheers,

Stooby..."
Amazon EC2	"Question about connecting to my instance
I have launched a instance whose id is: i-486c549e. I am in China now. And when I try to connect to the instance via terminal, it always shows : ""ssh: connect to host 54.88.253.5 port 22: Operation timed out"". 
So my question is: can people in China successfully connect to their instances? 

Thanks a lot!"
Amazon EC2	"Re: Question about connecting to my instance
Hi,
It looks like your instance can only be accessed from a specific IP.
Please review the security group of the instance and allow the required SSH traffic from the source addresses you need to connect from.

I hope this helps!"
Amazon EC2	"Moving EC2 from t2.micro to m3.large
Hi,

I'm building a Java app (CentOS image) which is currently deployed on t2.micro.
Once ready for production, I plan to move it to a more powerful m3.large.

My question is what is the simplest way to make this move?
I want to avoid doing 100s of OS and app level settings all over again on the new instance. Is there an easy portability option?
Thanks"
Amazon EC2	"Re: Moving EC2 from t2.micro to m3.large
Hi,

Take a look a this link, it explains how to resize you instance step by step:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Moving EC2 from t2.micro to m3.large
Hi Sandeep,

Thank you for reaching out to us.

I have created a support case and sent instructions on how to resize your EC2 instances. If you have any further questions, please feel to reply to the support case, ID: 1404457231.

Regards,

Nolen M"
Amazon EC2	"Create AMI then immediately terminate instance
If tell EC2 to create an AMI, and then I terminate the instance while the AMI is pending will it still create the AMI?

Edited by: aottobon on May 20, 2015 2:07 PM"
Amazon EC2	"Re: Create AMI then immediately terminate instance
Hi,

It depends how far in the process the AMI has completed.  During the AMI creation process, Amazon EC2 creates snapshots of your instance's root volume and any other Amazon EBS volumes attached to your instance.  If this process hadnt finished when you terminated the instance then its unlikely that the AMI would be 100% successful.

Cheers,

Stooby..."
Amazon EC2	"Can we detach instance from autoscaling group
I have created auto scaling group and wrong instance is attached to group.
Is it possible to detach this instance from auto scaling group?"
Amazon EC2	"Re: Can we detach instance from autoscaling group
Hello,

Thank you for using the AWS forums. I am trying to understand your question fully. In a auto scaling group and instance will launch based of an AMI in a Lunch Configuration. If you have used the wrong Launch configuration you would need to just tear down the Auto Scaling group and select the correct Launch Configuration. If you used the wrong AMI in a launch configuration you would need to create a new Launch Configuration with the correct AMI. Once this has been corrected it will launch the new instances based of the AMI in the Launch Configuration.

-AdamC"
Amazon EC2	"Re: Can we detach instance from autoscaling group
Thanks for reply, my problem is different.

I have created auto scaling group as below,
1. Create auto scaling group as below,
MIN_INSTANCE_SIZE=0
MAX_INSTANCE_SIZE=1
DESIRED_INSTANCE_CAPACITY=0
2. This will create auto scaling group with out any instance then attached one instance to it using  below command
as-attach-instances

But wrong instance get attached to auto scale group.
Now I need to remove this instance from auto scaling group without terminating or loosing it.
Is there any possible way to do it?"
Amazon EC2	"Re: Can we detach instance from autoscaling group
Hi there!

Looking at our CLI, it appears that there's no detach capability:
http://docs.aws.amazon.com/cli/latest/reference/autoscaling/index.html

If you need to keep that instance (i.e if there is data on it and it was not intended to be part of an autoscaling group) you may have to take an AMI of the instance and relaunch. You may need to back up any data on instance-store volumes to EBS volumes too.

Thanks
Iain"
Amazon EC2	"Re: Can we detach instance from autoscaling group
You can now detach instances from an Auto Scaling Group:


http://docs.aws.amazon.com/cli/latest/reference/autoscaling/detach-instances.html


Using this command from the AWS CLI will detach the instance and leave it in a running state. 
Unforutnately, using the AWS API to detach an instance will detach it from the Auto Scaling Group and also terminate the instance. I think the behaviors need to be consistent, specifically, using the API should not terminate the instance. 

I'm not sure where I can file an issue directly against the API, so I reply here hoping something will come of this."
Amazon EC2	"Re: Can we detach instance from autoscaling group
Hi,

According to the latest AWS AutoScaling API, you should be able to manage independently an instance detached from an AutoScaling group. 

http://docs.aws.amazon.com/AutoScaling/latest/APIReference/API_DetachInstances.html

To assist further on this issue, could you please share with us the request that is resulting in your instance being deleted by AutoScaling DetachInstances API.

Thanks.

Ronnie"
Amazon EC2	"Malware Scanner for Websites on EC2
I have an small AWS Linux instance hosting a few Wordpress sites.
They are all working well but I think I should install a Malware detector.
Any recommendations and how difficult would it be to install?
I was thinking about ClamAV."
Amazon EC2	"Data Usage limit?
I just wanted to know what is the data usage limit for the free tier. Is it 15GB / month?"
Amazon EC2	"Re: Data Usage limit?
Hi,

Are your referring to storage or data transfer or something else?

Details of the free tier can be found here:

http://aws.amazon.com/free/

Cheers,

Stooby..."
Amazon EC2	"Re: Data Usage limit?
I want to know the bandwidth limit for the instance. Thanks"
Amazon EC2	"Re: Data Usage limit?
Hello nilangan,

According the the Free Tier page mentioned by Stooby, each account eligible for the free tier is entitled to ""15 GB of bandwidth out aggregated across all AWS services"" per month.  Information about the expected network performance (per instance bandwidth) for each instance type can be found in the ""Instance Types Matrix"" section of this page: http://aws.amazon.com/ec2/instance-types/.

Please let me know if you have any follow up questions.

Regards,
Anthony H."
Amazon EC2	"connection refused - new t2 instance created but unable to ssh and billed
Hi, 
 I have a newbie question. 
1- I created a 2 new t2.micro instance using this image : ami-d05e75b8. But i am not enable to ssh into it from my computer. I installed aws and is able to describe my instance using (aws ec2 describe-instances --output table --region us-east-1). I open all the ports.

got this error when try to ssh and don't know why:

ssh -vvv -i ~/.ssh/test-key-pair.pem ubuntu@ec2-my-ip.compute-1.amazonaws.com
OpenSSH_5.9p1 Debian-5ubuntu1.4, OpenSSL 1.0.1 14 Mar 2012
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-my-ip.compute-1.amazonaws.com my-ip port 22.
debug1: connect to address my-ip port 22: Connection refused
ssh: connect to host ec2-my-ip.compute-1.amazonaws.com port 22: Connection refused

2- I am also being charge although i am using the free tiers, is it normal?
free tier is suppose to be 750 hours per month of Linux t2.micro instance usage.  Run one instance at a time or multiple instances simultaneously.

Thanks

Edited by: techmm on May 20, 2015 8:55 AM

Edited by: techmm on May 20, 2015 9:08 AM

Edited by: techmm on May 20, 2015 9:09 AM

Edited by: techmm on May 20, 2015 9:10 AM"
Amazon EC2	"Re: new t2 instance created but unable to ssh and being charge
Hello, 

Thank you for your post!

I took a look at the two instances in your account with AMI ami-d05e75b8, it looks like they don't have a route to the IGW in their Route Table rtb-66d1da03. Please add a route to the Route Table for destination 0.0.0.0/0 with the target as the IGW. 

For step-by-step instructions please see our documentation here:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Routing

The AWS free tier is only available for the first 12 months the service has been activated. It looks like the current account was activated in March 2009, so it is no longer eligible for free tier.  

I hope this information helps!

Best Regards,
Jillian L."
Amazon EC2	"Re: new t2 instance created but unable to ssh and being charge
Thanks for the quick reply. 
I am able to ssh now.
Thanks"
Amazon EC2	"Re: new t2 instance created but unable to ssh and being charge
Please add a route to the Route Table for destination 0.0.0.0/0 with the target as the IGW. 

Thank you for this response...

Now, why the heck did I have to add this myself?  I didn't specifically remove it.  I don't think I chose any defaults which should have made a Route Table without this?  Why?  Why?  I easily wasted 6 hours of my time, and at least 4 hours of a t2.medium trying to figure out why I couldn't RDP into it."
Amazon EC2	"problem with amazon linux 2015.03 with httpd open files and php-fpm
I tried to clone an image for amazon linux 201503 while I found that the /etc/httpd/conf.d/php.conf will be reset to the default one. To enable php-fpm, I will have to modify the /etc/httpd/conf.d/php.conf instead of using the default one. With this problem, we cannot auto scale the instance since the php.conf will be reset so that it will hook up php using cgi mode instead of php-fpm. After further checking, it is found that the /etc/httpd/conf.d/php.conf is linking to /etc/alternatives/php.conf, is that the cause of the problem?

BTW, after the image is first launched (or after reboot), it is also found that the no. of open file for apache is not right (1024) even though I have setup as 65536 in /etc/security/limits.conf. While the no. of open file will be setup correctly after I have restarted the httpd process using the command ""service httpd restart"".

Some more information below:-
cat /etc/security/limits.conf:-
apache  soft    nofile 65536
apache  hard    nofile 65536

ls /etc/httpd/conf.d/php.conf
/etc/httpd/conf.d/php.conf -> /etc/alternatives/php.conf

yum list | grep httpd | grep \@
httpd24.x86_64                         2.4.10-1.59.amzn1            @amzn-updates
httpd24-devel.x86_64                   2.4.10-1.59.amzn1            @amzn-updates
httpd24-tools.x86_64                   2.4.10-1.59.amzn1            @amzn-updates

yum list | grep php | grep \@
php-pear.noarch                        1:1.9.4-20.15.amzn1          @amzn-main
php55.x86_64                           5.5.22-1.98.amzn1            @amzn-main
php55-cli.x86_64                       5.5.22-1.98.amzn1            @amzn-main
php55-common.x86_64                    5.5.22-1.98.amzn1            @amzn-main
php55-devel.x86_64                     5.5.22-1.98.amzn1            @amzn-main
php55-fpm.x86_64                       5.5.22-1.98.amzn1            @amzn-main
php55-gd.x86_64                        5.5.22-1.98.amzn1            @amzn-main
php55-mbstring.x86_64                  5.5.22-1.98.amzn1            @amzn-main
php55-mcrypt.x86_64                    5.5.22-1.98.amzn1            @amzn-main
php55-mysqlnd.x86_64                   5.5.22-1.98.amzn1            @amzn-main
php55-opcache.x86_64                   5.5.22-1.98.amzn1            @amzn-main
php55-pdo.x86_64                       5.5.22-1.98.amzn1            @amzn-main
php55-pecl-jsonc.x86_64                1.3.2-1.9.amzn1              @amzn-main
php55-pecl-jsonc-devel.x86_64          1.3.2-1.9.amzn1              @amzn-main
php55-process.x86_64                   5.5.22-1.98.amzn1            @amzn-main
php55-xml.x86_64                       5.5.22-1.98.amzn1            @amzn-main

uname -a
uname -a
Linux ip-172-31-12-223 3.10.53-56.140.amzn1.x86_64 #1 SMP Thu Aug 14 22:00:02 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux

yum list | grep kernel | grep \@
kernel.x86_64                          3.10.53-56.140.amzn1         @amzn-updates
kernel-devel.x86_64                    3.10.53-56.140.amzn1         @amzn-updates
kernel-headers.x86_64                  3.10.53-56.140.amzn1         @amzn-updates

Any help is much appreciated."
Amazon EC2	"Re: problem with amazon linux 2015.03 with httpd open files and php-fpm
Hello,
I'm trying to understand the process you are following to setup php55 and httpd 2.4 on your system. When you say clone, do you mean you are starting a stock 2015.03 Amazon Linux AMI, installing packages and making configuration changes on that instance, then creating your own AMI based on that instance? In this case the configuration should not be reset to default, any instance you launch after creating your own AMI should have the changes you made to the initial instance. If you are using another method please outline that here.

In Amazon Linux AMI 2015.03, we are managing multiple versions of PHP using alternatives. As you pointed out the /etc/httpd/conf.d/php.conf is a symlink to /etc/alternatives/php.conf, which is then a symlink to /etc/httpd/conf.d/php-conf.5.5. If you happen to install php56 on the system for whatever reason, that link will be moved to the php-conf.5.6 file in the http configuration directory. You can see what alternatives configuration you are using by running:
alternatives --display php

In your case you should see: link currently points to /usr/bin/php-5.5
 in the output of the above command. 

I'm not sure on the ulimit question. Typically the /etc/security/limits.conf just sets the limit a user can request, but it won't be automatically raised for the apache user because the apache user doesn't have a login shell. Most administrators add a ulimit command to the httpd init script (in the start() function), or in the httpd configuration to raise the limit before starting the webserver. 

Thanks for using the Amazon Linux AMI
Heath"
Amazon EC2	"Re: problem with amazon linux 2015.03 with httpd open files and php-fpm
Well, actually I  starting a stock 2015.03 Amazon Linux AMI, install packages (httpd and php) using yum, then modify the configuration /etc/httpd/conf.d/php.conf. After that, I create an image for this instance and setup an auto scaling group as well as launch configuration using this cloned instance.

It is found that the /etc/httpd/conf.d/php.conf has been resumed to the default one after started.

Yes, alternatives --display php see link currently points to /usr/bin/php-5.5

For apache no. of open files, I have modified /etc/security/limits.conf with the below setting

*       soft    nofile  32768

*       hard    nofile  32768

apache  soft    nofile 65536

apache  hard    nofile 65536

While after the instance started or rebooted, I cat /proc/procno/limits and found that the no of open file for the httpd instance which was owned by the apache user have got only 1024 no of open files. What I need to do is to restart the apache instance by using the command ""service httpd restart"" and the no. of open file will be setup as 65536 correctly by then. 

With the above problem, I cannot do auto scaling with my instance. Kindly please help or feel free to let me know should you require further information. Many thx for your kind help in advance.

Edited by: FrankCheong on Apr 23, 2015 9:33 PM"
Amazon EC2	"Re: problem with amazon linux 2015.03 with httpd open files and php-fpm
Hello Frank,

Please accept our apologies for the delay in answering your questions.

Regarding php.conf:
It seems that you may have replaced the symlink, /etc/httpd/conf.d/php.conf, instead of the target of the symlink, so that symlink can get replaced later. If you instead modify the target of the symlink, /etc/httpd/conf.d/php-conf.5.5, that file will not be replaced on upgrade. The link was made to allow for incompatibilities between the configuration of the different versions of PHP.
[root@ip-172-31-41-245 ~]# readlink -f /etc/httpd/conf.d/php.conf 
/etc/httpd/conf.d/php-conf.5.5


Regarding limits:
/etc/security/limit.conf controls limits for login sessions, but the Apache httpd is not running under a login session, so it does not have a direct impact on the limits applied to httpd. The best way to raise the limits for httpd is to add a line to /etc/sysconfig/httpd:
[root@ip-172-31-41-245 ~]# echo 'ulimit -n 65536' >> /etc/sysconfig/httpd
[root@ip-172-31-41-245 ~]# tail -n1 /etc/sysconfig/httpd 
ulimit -n 65536
[root@ip-172-31-41-245 ~]# service httpd start
Starting httpd:                                            [  OK  ]
[root@ip-172-31-41-245 ~]# grep 'open files' /proc/$(cat /var/run/httpd/httpd.pid)/limits
Max open files            65536                65536                files     

This will cause that command to be run before the httpd process is started, and should work reliably on reboot. Also this file is marked as a config file, so RPM and Yum will not replace it on upgrade.

I hope this helps you, and thank you for using the Amazon Linux AMI on EC2.
Best wishes,
Andrew"
Amazon EC2	"Re: problem with amazon linux 2015.03 with httpd open files and php-fpm
Dear Andrew,

No problem. Actually I don't really understand the case for php.con. While I found that when I clone a new image, the php.conf not getting reset anymore.

For httpd limits.conf I will try the sysconfig/httpd instead. Thanks for pointing that out.

Have a good day.

Rgds,
Frank"
Amazon EC2	"2nd Instance in 2 days to mysteriously become unreachable
My instance: i-d10cba2b (t1.micro)

Has become unreachable several times today with zero changes on my part. A prior instance had this issue yesterday and I received an email from AWS that there was a hardware issue and I needed to re-create it.

What's happening? I've never had these problems before and now my EC2 instances are not dependable at all. I can't even get system logs...."
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
Hi William,

I can see from the CloudWatch metrics that your instance has reach 100% CPU utilization.  When the CPU reaches 100% it will not respond until the load has decreased.  Can you please check the CPU spikes against the times you experienced the problem and let me know if the times do not correlate.
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2015-04-29T01%3A38%3A01Z~2015-05-09T01%3A38%3A01Z~Maximum~600~InstanceId~i-d10cba2b

The notification from the EC2 team regarding your instance retirement due to a hardware fault appears unrelated to the CPU utilization issue you have experienced.  Hardware failures do happen from time-to-time and we do our best to provide customers with notification of potential issues so you can migrate in a controlled way.

Please let me know if you have any further questions.

Regards,
Anthony H."
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
Thanks for your reply Anthony, however in looking through the CPU utilization history, I only see a single point in the past 48 hours where the instance hit 100% briefly. Even now, with CPU basically flat, there is no response from the server.

Hopefully I'm missing something - please advise."
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
Hi William,

Thank you for the update.  

When I test the connectivity against the instance's Elastic IP address I get the following output, which suggests to me the instance is responding to requests:
ubuntu@ip-10-10-0-140:~$ nc -zv i-d10cba2b 22
Connection to i-d10cba2b 22 port [tcp/ssh] succeeded!
ubuntu@ip-10-10-0-140:~$ nc -zv i-d10cba2b 80
Connection to i-d10cba2b 80 port [tcp/http] succeeded!

Can you please show me how you are testing connectivity (Please include the command you are using and the output)?

Regards,
Anthony H."
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
I'm using terminal to attempt an SSH session. Here is the output:

Last login: Sat May  9 09:50:55 on ttys000
AMAC02NQ7LDG3QD:~ wupshaw$ ssh -i dropbox/ec2/mykey.pem ec2-user@myip -vv
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to myip myip port 22.
debug1: Connection established.
debug1: identity file dropbox/ec2/mykey.pem type -1
debug1: identity file dropbox/ec2/mykey.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
ssh_exchange_identification: read: Connection reset by peer
AMAC02NQ7LDG3QD:~ wupshaw$"
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
To all who all may be experiencing the same thing - I believe this ended up being a resource issue. The micro instance is just too small for anything other than tests, even with only Wordpress.

Moved to a small instance and looks solid so far."
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
I am having the same problem today with instance i-f6367dfb. I was in earlier today and now I cannot get in. I am receiving an error ""because of a protocol issue, your session will be disconnected."""
Amazon EC2	"Re: 2nd Instance in 2 days to mysteriously become unreachable
Hello kmezatasta,

I've had a look at your instance and I can see it regularly topping out at 100% utilized.  I have seen cases in which this error is directly related to instance CPU over utilization but as you've not mentioned the time (and timezone) at which the problem occurred it's hard for me to say.  Should the problem recur can you please take a look at the CloudWatch metrics for your instance's CPU utilization and confirm if this is or isn't the problem and let me know.

Thank you,
Anthony H."
Amazon EC2	"Instance i-c05c9a3d stuck in ""stopping"" state
My ec2 instance with ID i-c05c9a3d is stuck in the ""stopping"" state. Doing a ""force Stop"" has not resolved the problem."
Amazon EC2	"Re: Instance i-c05c9a3d stuck in ""stopping"" state
It stopped eventually."
Amazon EC2	"Re: Instance i-c05c9a3d stuck in ""stopping"" state
Hello staphit,

Your instance is now in a stopped state and can be restarted at any time.  Please let me know if you need further assistance.

Regards,
Anthony H."
Amazon EC2	"Strange cipher suite selection at AWS endpoint
AWS endpoint choose a weak cipher suite like RC4-MD5 for TLS connection even if more preferable cipher suites such as AES256-SHA are in ClientHello message.  As far as I tested, endpoints at any  regions have the same behavior. Is it expected one?

Here is a test result using openssl command.
Line:
$ openssl s_client -connect ec2.us-east-1.amazonaws.com:443
CONNECTED(00000003)
depth=3 C = US, O = ""VeriSign, Inc."", OU = Class 3 Public Primary Certification Authority
verify return:1
depth=2 C = US, O = ""VeriSign, Inc."", OU = VeriSign Trust Network, OU = ""(c) 2006 VeriSign, Inc. - For authorized use only"", CN = VeriSign Class 3 Public Primary Certification Authority - G5
verify return:1
depth=1 C = US, O = ""VeriSign, Inc."", OU = VeriSign Trust Network, OU = Terms of use at https://www.verisign.com/rpa (c)10, CN = VeriSign Class 3 Secure Server CA - G3
verify return:1
depth=0 C = US, ST = Washington, L = Seattle, O = ""Amazon.com, Inc."", CN = ec2.us-east-1.amazonaws.com
verify return:1
---
Certificate chain
 0 s:/C=US/ST=Washington/L=Seattle/O=Amazon.com, Inc./CN=ec2.us-east-1.amazonaws.com
   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
 1 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign, Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary Certification Authority - G5
 2 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign, Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary Certification Authority - G5
   i:/C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification Authority
---
Server certificate
-----BEGIN CERTIFICATE-----
MIIFWzCCBEOgAwIBAgIQH9DjiAHhLz729Vonn8KMhzANBgkqhkiG9w0BAQUFADCB
tTELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL
ExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2Ug
YXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykxMDEvMC0GA1UEAxMm
VmVyaVNpZ24gQ2xhc3MgMyBTZWN1cmUgU2VydmVyIENBIC0gRzMwHhcNMTQwOTEw
MDAwMDAwWhcNMTUwOTE4MjM1OTU5WjB1MQswCQYDVQQGEwJVUzETMBEGA1UECBMK
V2FzaGluZ3RvbjEQMA4GA1UEBxQHU2VhdHRsZTEZMBcGA1UEChQQQW1hem9uLmNv
bSwgSW5jLjEkMCIGA1UEAxQbZWMyLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tMIIB
IjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiBZ0YrBgCox05LhUQ2gjyyGK
+zEozmRREukyi13JT+Hb50fGZ9bvi+q8CYC4WZT+VmEJLqwXdfLmU++ame4bDJ4H
oItK+6oqHmYM5Awbv/0AMU0aWiwAafNUJ3kvKw2jbc+DeSkjSU7LAuhBhzg/Dbyv
XB+KygbdzUdqCHMyGCj1Pd3NeLRymUHFBueQjEH5pfp7+TBDWYXFZ6ol6k3HVAL8
4bxykizOwcR8WLQnLc76OuNoQOnvklNgyr+sm6ULeaEe0n3HD4zeLCILqx4BMHx8
yTD2QTtPG0TNOsOSR3sAMXU9Aaitq2I+A25i1WguS99qEX2GVrgOllPWZXCpqwID
AQABo4IBpDCCAaAwVgYDVR0RBE8wTYIbdXMtZWFzdC0xLmVjMi5hbWF6b25hd3Mu
Y29tghFlYzIuYW1hem9uYXdzLmNvbYIbZWMyLnVzLWVhc3QtMS5hbWF6b25hd3Mu
Y29tMAkGA1UdEwQCMAAwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUF
BwMBBggrBgEFBQcDAjBlBgNVHSAEXjBcMFoGCmCGSAGG+EUBBzYwTDAjBggrBgEF
BQcCARYXaHR0cHM6Ly9kLnN5bWNiLmNvbS9jcHMwJQYIKwYBBQUHAgIwGRoXaHR0
cHM6Ly9kLnN5bWNiLmNvbS9ycGEwHwYDVR0jBBgwFoAUDURcFlNEwYJ+HSCrJfQB
Y9i+eaUwKwYDVR0fBCQwIjAgoB6gHIYaaHR0cDovL3NkLnN5bWNiLmNvbS9zZC5j
cmwwVwYIKwYBBQUHAQEESzBJMB8GCCsGAQUFBzABhhNodHRwOi8vc2Quc3ltY2Qu
Y29tMCYGCCsGAQUFBzAChhpodHRwOi8vc2Quc3ltY2IuY29tL3NkLmNydDANBgkq
hkiG9w0BAQUFAAOCAQEAZsGwMnuhOpI6ajTHYebxFgeTPOQiEfCs9oJdfzP5nzev
DXVwTDSRzduEUUU/EnchoObJQB3li4zQZOWiye3r/OtPRO3CGvG7Df/AnV0HsQQv
erfuo5luP7m3bHz3EItLdw4/xjHIu91iktSfBojkRPyrDxLepcbdZS/GtmjOjyGk
krr4pj5e0TteW0PQ76IY+M9Wc0nNB9YBupmUQRP0rPSJ6C8JjUP0QelLpcs0FBEZ
jRtHdmUyGMyLZ8u9L4v9TjE65V3a8wY62v/shKrU8a29Cpxd+1uyqOcOFdcuc3jd
KH4nNpr3AuMYLX7NRZHX6fBWsO7tyQ3wLd+TRKl5vg==
-----END CERTIFICATE-----
subject=/C=US/ST=Washington/L=Seattle/O=Amazon.com, Inc./CN=ec2.us-east-1.amazonaws.com
issuer=/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
---
No client certificate CA names sent
---
SSL handshake has read 4273 bytes and written 557 bytes
---
New, TLSv1/SSLv3, Cipher is RC4-MD5
Server public key is 2048 bit
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
SSL-Session:
    Protocol  : TLSv1
    Cipher    : RC4-MD5
    Session-ID: 6940883368D32D1487559C0E55F38409C6D4F56A8A87E050195BE40A7555EA23
    Session-ID-ctx:
    Master-Key: DE087AB852AF5D760F07431000F55360668C9015391B8227B8995EFB134847E3DB3611B18BBBA6A8D92603A51C4F8220
    Key-Arg   : None
    Krb5 Principal: None
    PSK identity: None
    PSK identity hint: None
    Start Time: 1425027443
    Timeout   : 300 (sec)
    Verify return code: 0 (ok)
---
Line:"
Amazon EC2	"Re: Strange cipher suite selection at AWS endpoint
Depending on your cipher selection,  the ELB may be preferring those to protect against the BEAST attack."
Amazon EC2	"Re: Strange cipher suite selection at AWS endpoint
RC4/MD5 seems to be disabled at least. (Although it still has a behavior to choose weaker ciphers.)
It uses AES128-SHA now.



$ openssl s_client -connect ec2.us-east-1.amazonaws.com:443
CONNECTED(00000003)
depth=3 C = US, O = ""VeriSign, Inc."", OU = Class 3 Public Primary Certification Authority
verify return:1
depth=2 C = US, O = ""VeriSign, Inc."", OU = VeriSign Trust Network, OU = ""(c) 2006 VeriSign, Inc. - For authorized use only"", CN = VeriSign Class 3 Public Primary Certification Authority - G5
verify return:1
depth=1 C = US, O = ""VeriSign, Inc."", OU = VeriSign Trust Network, OU = Terms of use at https://www.verisign.com/rpa (c)10, CN = VeriSign Class 3 Secure Server CA - G3
verify return:1
depth=0 C = US, ST = Washington, L = Seattle, O = ""Amazon.com, Inc."", CN = ec2.us-east-1.amazonaws.com
verify return:1
---
Certificate chain
 0 s:/C=US/ST=Washington/L=Seattle/O=Amazon.com, Inc./CN=ec2.us-east-1.amazonaws.com
   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
 1 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign, Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary Certification Authority - G5
 2 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign, Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary Certification Authority - G5
   i:/C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification Authority
---
Server certificate
-----BEGIN CERTIFICATE-----
MIIFWzCCBEOgAwIBAgIQH9DjiAHhLz729Vonn8KMhzANBgkqhkiG9w0BAQUFADCB
tTELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL
ExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2Ug
YXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykxMDEvMC0GA1UEAxMm
VmVyaVNpZ24gQ2xhc3MgMyBTZWN1cmUgU2VydmVyIENBIC0gRzMwHhcNMTQwOTEw
MDAwMDAwWhcNMTUwOTE4MjM1OTU5WjB1MQswCQYDVQQGEwJVUzETMBEGA1UECBMK
V2FzaGluZ3RvbjEQMA4GA1UEBxQHU2VhdHRsZTEZMBcGA1UEChQQQW1hem9uLmNv
bSwgSW5jLjEkMCIGA1UEAxQbZWMyLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tMIIB
IjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiBZ0YrBgCox05LhUQ2gjyyGK
+zEozmRREukyi13JT+Hb50fGZ9bvi+q8CYC4WZT+VmEJLqwXdfLmU++ame4bDJ4H
oItK+6oqHmYM5Awbv/0AMU0aWiwAafNUJ3kvKw2jbc+DeSkjSU7LAuhBhzg/Dbyv
XB+KygbdzUdqCHMyGCj1Pd3NeLRymUHFBueQjEH5pfp7+TBDWYXFZ6ol6k3HVAL8
4bxykizOwcR8WLQnLc76OuNoQOnvklNgyr+sm6ULeaEe0n3HD4zeLCILqx4BMHx8
yTD2QTtPG0TNOsOSR3sAMXU9Aaitq2I+A25i1WguS99qEX2GVrgOllPWZXCpqwID
AQABo4IBpDCCAaAwVgYDVR0RBE8wTYIbdXMtZWFzdC0xLmVjMi5hbWF6b25hd3Mu
Y29tghFlYzIuYW1hem9uYXdzLmNvbYIbZWMyLnVzLWVhc3QtMS5hbWF6b25hd3Mu
Y29tMAkGA1UdEwQCMAAwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUF
BwMBBggrBgEFBQcDAjBlBgNVHSAEXjBcMFoGCmCGSAGG+EUBBzYwTDAjBggrBgEF
BQcCARYXaHR0cHM6Ly9kLnN5bWNiLmNvbS9jcHMwJQYIKwYBBQUHAgIwGRoXaHR0
cHM6Ly9kLnN5bWNiLmNvbS9ycGEwHwYDVR0jBBgwFoAUDURcFlNEwYJ+HSCrJfQB
Y9i+eaUwKwYDVR0fBCQwIjAgoB6gHIYaaHR0cDovL3NkLnN5bWNiLmNvbS9zZC5j
cmwwVwYIKwYBBQUHAQEESzBJMB8GCCsGAQUFBzABhhNodHRwOi8vc2Quc3ltY2Qu
Y29tMCYGCCsGAQUFBzAChhpodHRwOi8vc2Quc3ltY2IuY29tL3NkLmNydDANBgkq
hkiG9w0BAQUFAAOCAQEAZsGwMnuhOpI6ajTHYebxFgeTPOQiEfCs9oJdfzP5nzev
DXVwTDSRzduEUUU/EnchoObJQB3li4zQZOWiye3r/OtPRO3CGvG7Df/AnV0HsQQv
erfuo5luP7m3bHz3EItLdw4/xjHIu91iktSfBojkRPyrDxLepcbdZS/GtmjOjyGk
krr4pj5e0TteW0PQ76IY+M9Wc0nNB9YBupmUQRP0rPSJ6C8JjUP0QelLpcs0FBEZ
jRtHdmUyGMyLZ8u9L4v9TjE65V3a8wY62v/shKrU8a29Cpxd+1uyqOcOFdcuc3jd
KH4nNpr3AuMYLX7NRZHX6fBWsO7tyQ3wLd+TRKl5vg==
-----END CERTIFICATE-----
subject=/C=US/ST=Washington/L=Seattle/O=Amazon.com, Inc./CN=ec2.us-east-1.amazonaws.com
issuer=/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)10/CN=VeriSign Class 3 Secure Server CA - G3
---
No client certificate CA names sent
---
SSL handshake has read 4279 bytes and written 635 bytes
---
New, TLSv1/SSLv3, Cipher is AES128-SHA
Server public key is 2048 bit
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
SSL-Session:
    Protocol  : TLSv1
    Cipher    : AES128-SHA
    Session-ID: 6B746F216E4D8AA24941ECBC5495568FD426FA0DD18ED96A95BFF400DBB4B6F1
    Session-ID-ctx:
    Master-Key: D826340734D88F0382DAD88D745DFB3D59E06831448D5020EF8F10BA86D8FFB7FA5D95D8BEA5659B26F3CFDAA06AB2C2
    Key-Arg   : None
    Krb5 Principal: None
    PSK identity: None
    PSK identity hint: None
    Start Time: 1432169167
    Timeout   : 300 (sec)
    Verify return code: 0 (ok)
---"
Amazon EC2	"EC2 instance automatically stopped due to an event Stopped due to scheduled
Hi,

We had a new incident where one of our EC2 instance i-ac6131ef found to be automatically stopped. We have started the server and had investigation on this. From your documentations we came to know that it was scheduled by Amazon due to the instance was running on degraded hardware.

The root device of this instance is an Amazon EBS volume and the instance seems to working as expected.

But we would like to know if any action needs to be performed other than the one you have mentioned in the documentation:

You can wait for the instance to stop as scheduled. Alternatively, you can stop and start the instance yourself, which migrates it to a new host computer. 

Also we haven't received any notification about this event.

Regards,
Aravind"
Amazon EC2	"Re: EC2 instance automatically stopped due to an event Stopped due to scheduled
Hello,

I apologize for any inconvenience this instance stoppage has caused for you. Occasionally events like this can happen, causing unexpected interruptions. The best way to mitigate such interruptions is to build your application to scale horizontally and provide backup capacity in case of any failures.

As for the procedure of restoring service to your instance: stopping and starting your instance is the quickest way to get it back onto underlying hardware in good condition. An instance on degraded underlying hardware may or may not be accessible to the outside world. You may also wait for the instance to be automatically retired by AWS, however this may result in a poor user experience for you or your customers due to the instance being unreachable.

Lastly, addressing the notifications: I took a look at your account history and saw that a notification for this instance's retirement was emailed to the primary email address on your account on May 4, 2015 4:34 PM Pacific Daylight Time. I can't post what that email address is on the forums, but I would advise you to review the email address tied to your account as well as the operations contact on your account as these two addresses are the ones that receive email notifications of scheduled instance retirements and reboots.

If you have any further questions or concerns, please let us know and we'll be glad to address them for you."
Amazon EC2	"Re: EC2 instance automatically stopped due to an event Stopped due to scheduled
Hello David,

Thank you for your quick response. Really appreciate it.

Regards,
Aravind"
Amazon EC2	"Releasing EIPs
Hi,

I would like to release the following IP addresses, as they are not in use and bound to the reverse PTR record:

54.194.84.199
54.77.137.72

Thanks,
Peter"
Amazon EC2	"Re: Releasing EIPs
Hello,

I've made sure the rDNS PTR records for those EIPs are reset. You should now be able to release the EIPs at will. Let me know if you have any problems with releasing your EIPs now."
Amazon EC2	"Medium Instance high cpu steal rate
We are experiencing a high cpu steal rate (~50.0%st) on instance i-a82b1ea3.

can you kindly check for issues in underlying infrastructure?

thanks in advance"
Amazon EC2	"Re: Medium Instance high cpu steal rate
Hello,

CPU steal is a normal occurrence on instance types with lower vCPU counts. The reason for this is because programs like 'top' report CPU utilization based upon the number of underlying CPU cores in the hypervisor whereas CloudWatch reports CPU utilization based upon the actual amount of CPU power assigned to you. CPU steal time is the difference between these two metrics where your VM may be demanding 100% of the CPU core but the hypervisor has only assigned 40% of that core to the instance  you will see 60% CPU Steal. For more information on CPU Steal check out these articles that go into more depth:

https://axibase.com/news/ec2-monitoring-the-case-of-stolen-cpu/
http://www.stackdriver.com/cpu-steal-why-aws-cloudwatch-metrics-are-different-than-agent-metrics/

In order to avoid CPU Steal you'll need to utilize a larger instance type that can handle the load your application is producing or review your application and make sure it's using the CPU as efficiently as possible."
Amazon EC2	"Please reinstate my account - urgent
Account Id: 303324139825 
John Bishop

It's my fault that i cancelled but didnt realize the critical files i had in my account. Please reinstate asap. i will pay for premium service - just dont know how to do that.
signed,

newb
Account Id: 303324139825 
John Bishop"
Amazon EC2	"Re: Please reinstate my account - urgent
Hello,

I understand you need your account reinstated as soon as possible. I noticed you have a case open with us and I'm going to ask someone to take a look at it and you should hear back from us soon.

For future reference, the quickest way to get help for a situation like this would be to open a support case with our Account and Billing support team through the support center and using the Phone option to speak with a live representative."
Amazon EC2	"error importing a vmdk to amazon
Hello 
I get an error when trying to import a vmdk file with ec2 tools to amazon
the error is required option '-f, --format' missing .
the command is not missing its exactly like in amazon command example.
any assistance will be appreciated .
(I changed the keys and names in the paste here)

E:\ec2-api-tools-1.7.3.0\bin\ec2-import-instance ./xxx.vmdk -f VMDK -
t t2.medium -a x86_64 -b arr -o xxx -w xxx/xxx
zzz -p windows --region ap-southeast-2

WARNING:  Ignoring extra parameter(s):  ?f, vmdk 
WARNING:  Ignoring extra parameter(s):  ?f, vmdk 
Required option '-f, --format FORMAT' missing (-h for usage)"
Amazon EC2	"Re: error importing a vmdk to amazon
Hello,

With the EC2 Command Line tools, the expected format of the command is: ec2iin [general parameters] [specific parameters] disk-image


You may want to try putting the file format in the specific parameters block as it is being parsed incorrectly as-is. Try:
ec2-import-instance --region ap-southeast-2 -f VMDK -t t2.medium -a x86_64 -b arr ./xxx.vmdk  -o xxx -w xxx/xxxzzz -p windows


This information can be found by querying the help for the command using ""ec2iin -h"". Could you link me to the documentation where you found the example you're using? I'd like to get that corrected if possible."
Amazon EC2	"EC2's connection to RDS (MS SQL) dropped out/timed out frequently
Hi, Team,

I am a new guy here and have signed up a free tier for just a few weeks to try out cloud computing and EC2. I have a testing server running ASP.Net website connecting to RDS (MS SQL) at the backend.

The challenge, which I faced, is the unstable connection between EC2 and RDS. EC2's connection to RDS (MS SQL) dropped out/timed out frequently. Accordingly to my monitoring tool,  my AWS’ uptime is only 90%.  In one of the days, it dropped to70%. In the course of last week, I have experienced 134 downtime.

I have tested and noted the following:
1.	EC2 is holding up well because during the downtime which I have tested, my static webpages run well.
2. My dynamic webpages threw the following error message (I think it is the connection between EC2 and RDS):

+
Server Error in '/' Application.
Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.

Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.Data.SqlClient.SqlException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.

Source Error: 

An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.

Stack Trace: 

SqlException (0x80131904): Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
   System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection) +404
   System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning() +412
   System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj) +1363
   System.Data.SqlClient.SqlDataReader.ConsumeMetaData() +59
   System.Data.SqlClient.SqlDataReader.get_MetaData() +118
   System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString) +6388241
   System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async) +6389810
   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result) +538
   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method) +28
   System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method) +256
   System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior) +19
   System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior) +21
   System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior) +325
   System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior) +420
   System.Data.Common.DbDataAdapter.Fill(DataSet dataSet) +306
   DP.DB.DataBaseConnection.ExecuteSqlProce(String procedure, SqlParameter[] parameters, DataSet ds) +767
   AustralianHome.site_fault.bindData() +520
   AustralianHome.site_fault.Page_Load(Object sender, EventArgs e) +31
   System.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) +25
   System.Web.UI.Control.LoadRecursive() +71
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +3064

+

3. The DB connection time out issues do not always happen. It is always timed out. I will mean that my coding is poor and database query is heavy. But most of the time is ok. The number of downtime is not acceptable and falls contrary to my belief of cloud computing (being reliable and scalable)

Can anyone enlighten me with the following question:

1. What do I need to do to resolve the EC2 and RDS connection timed out (I have set in my web.config file to set the Connection Timeout=200 to extend the connection time and my DB is a simple select top 10 entries from a table)?

2. Is it due to my free tier (hardware capacity)? Again my enquiry is very light and does not seem to me to be a concern?

3. What is the uptime expected for RDS? I am experimenting because I would like to get a sense of how reliable AWS is. Currently my experience is appalling. 

Thanks guys and look forward to hearing from you soon.

Regards,
Ray"
Amazon EC2	"Re: EC2's connection to RDS (MS SQL) dropped out/timed out frequently
Hi, guys,

Can someone help?

AWS services seem to be disappointing. Maybe I did not get it right. But from what I can see, it is just due to the DB server's performance.

Two days ago, in 24 hours, I had outage for 16 hours.

I appreciate any piece of advice. 

Thanks guys."
Amazon EC2	"Re: EC2's connection to RDS (MS SQL) dropped out/timed out frequently
After one month, there is still no one reply to my question in the forum. AWS service is really disappointing (both the stability of the services and the response to the customer service request).

Edited by: anewguy on Feb 23, 2014 11:24 AM"
Amazon EC2	"Re: EC2's connection to RDS (MS SQL) dropped out/timed out frequently
We are testing RDS with MS SQL 2012 too on Amazon. At loading metadata and loading SQL results, we get errors like:

  at System.Data.SqlClient.SqlCommand.ValidateCommand(String method, Boolean async)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.ProviderBase.DbMetaDataFactory.ExecuteCommand(DataRow requestedCollectionRow, String[] restrictions, DbConnection connection)
   at System.Data.ProviderBase.DbMetaDataFactory.ExecuteCommand(DataRow requestedCollectionRow, String[] restrictions, DbConnection connection)
   at System.Data.ProviderBase.DbMetaDataFactory.GetSchema(DbConnection connection, String collectionName, String[] restrictions)
   at System.Data.ProviderBase.DbConnectionInternal.GetSchema(DbConnectionFactory factory, DbConnectionPoolGroup poolGroup, DbConnection outerConnection, String collectionName, String[] restrictions)
   at System.Data.SqlClient.SqlConnection.GetSchema(String collectionName, String[] restrictionValues)
   at Invantive.Data.SqlServerProvider.GetDatabaseMetadata() in File102:line 338

It happens for several mini databases with 6 tables and less than 10 rows per table. It occurs intermittently. Timeout is 30 seconds. When it works, the queries finish within <1 second.

Other settings: SQL Server Express 11.00.2100.60.v1, option group: default:sqlserver-ex-11-00, parameter group: default.sqlserver-ex-11.0, instance class: db.t2.micro

Have you been able to get this fixed?"
Amazon EC2	"Re: EC2's connection to RDS (MS SQL) dropped out/timed out frequently
Added this one: RDS according to this URL not always runs reliably, even with no load at all: http://www.ithuan.com/36083/unexpected-sql-server-timeout, registered in 2014.

Note this specific call that occurs in the call stack:
at System.Data.SqlClient.SqlDataReader.get_MetaData()"
Amazon EC2	"Extreme write latency
I have been seeing periodic write latency over 2000ms for extended period of time.  This is on volume vol-44ad505f, but I had the same problem on a different volume as well.  This make the instance unusable: all web serving stops and it is impossible to even log into it via SSH in less than 5 minutes.  Currently, the volume has been at around 2000ms write latency for the past 2 hours.  Is this a problem or an intended feature of EBS?  It is also very frustrating that I can open a support ticket for such issues without paying 2x my monthly bill for a dev support account...

Thanks.

Edited by: caedesnet on May 19, 2015 6:29 PM
Graph attached

Edited by: caedesnet on May 19, 2015 6:37 PM"
Amazon EC2	"Re: Extreme write latency
Apparently this is how it is designed to work.  It would be nice to have a visible metric for the IO credits..."
Amazon EC2	"unexpected reboot (maintenance?)
My d2.xlarge instance i-1c0744cb in the us-east-1c region mysteriously rebooted at 11:53 UTC on May 19.  I didn't instruct it, I don't recall any resource-intensive jobs running at the time (and I don't see them in syslog or kern.log), and I don't recall getting notice of an EC2 maintenance event.

""last -x"" simply reports:

runlevel (to lvl 2)   3.13.0-29-generi Tue May 19 11:53 - 16:26 (1+04:32)   
reboot   system boot  3.13.0-29-generi Tue May 19 11:53 - 16:24 (1+04:30)   

and auth.log reports:

May 19 11:53:40 ip-172-31-37-234 systemd-logind898: Watching system buttons on /dev/input/event0 (Power Button)
May 19 11:53:40 ip-172-31-37-234 systemd-logind898: Watching system buttons on /dev/input/event1 (Sleep Button)

Can you recommend a way to get more information about this reboot?"
Amazon EC2	"describe-reserved-instances doesn't return platform
When using the describe-reserved-instances functions from the CLI or Python, describing the available reserved instances doesn't return the ""Platform"" attribute (EC2-Classic, EC2-VPC). So, when managing reserved instances outside of the web console, it's impossible to determine whether the RI is for VPC or Classic. This attribute can be set from the CLI or API, but can't be returned in describe output.

The reason I need this feature is I am trying to add VPC support to a script for comparing RIs to running instances and identifying gaps. The web console RI graph is cumbersome and impractical, especially when managing multiple (20+) AWS accounts with separate billing, and it's not ideal to have our support rep email us reports every time we need them.

Right now I'm checking the description for the 'VPC' string, but that's unreliable at best, since that's not in the description in VPC-only accounts that don't have EC2-Standard enabled: https://github.com/rhartkopf/ec2-check-reserved-instances/blob/master/ec2-check-reserved-instances.py#L56-L57

Here's the current output from the CLI:
{
  ""ReservedInstancesId"": ""redacted"",
  ""OfferingType"": ""Heavy Utilization"",
  ""AvailabilityZone"": ""us-west-1b"",
  ""End"": ""2015-12-01T17:56:25.000Z"",
  ""ProductDescription"": ""Linux/UNIX"",
  ""UsagePrice"": 0.0,
  ""RecurringCharges"": [
    {
      ""Amount"": 0.083000000000000004,
      ""Frequency"": ""Hourly""
    }
  ],
  ""Start"": ""2014-12-01T17:56:26.904Z"",
  ""State"": ""active"",
  ""FixedPrice"": 652.0,
  ""CurrencyCode"": ""USD"",
  ""Duration"": 31536000,
  ""InstanceTenancy"": ""default"",
  ""InstanceType"": ""c3.xlarge"",
  ""InstanceCount"": 1
}


I'd love to see this line in there too:
  ""Platform"": ""EC2-Classic""


Any thoughts would be great. If this is not in the works, I'd love to see it added, because it's a very important part of evaluating RIs.

Edited by: ryanhartkopf on Mar 26, 2015 2:01 PM"
Amazon EC2	"Re: describe-reserved-instances doesn't return platform
The only way to know that is to either read the Internal IP address (EC2 Classic will always be in 10.0.0.0/8) or (as you are doing) reading the VPC ID... Which will not be present if it's EC2 Classic.

One very quick win for you will be to add a tag to your instances: Platform: EC2 or VPC. You can then read that tag to tell you where it is."
Amazon EC2	"Re: describe-reserved-instances doesn't return platform
Hello,

Thank you for posting on AWS Forum and for you advise.

I am going to open a feature request with your feedback but cannot provide any ETA on this.

Regards.
Giorgio"
Amazon EC2	"Re: describe-reserved-instances doesn't return platform
thetechieuk,

The issue is not that I can't tell if an instance is in a VPC; the issue is that I can't tell if an instance reservation is in a VPC. If you look at the output I posted there's no IP address.

The ProductDescription changes depending on whether EC2-Classic is enabled for your account. A VPC instance reservation in one account may have the description ""Linux/UNIX (VPC)"", while in another account it will just have the description ""Linux/UNIX"". So that field is not reliable in determining if the reservation is for a VPC instance or EC2 Classic instance.

Instance reservations also don't have tags, so no luck there either."
Amazon EC2	"Re: describe-reserved-instances doesn't return platform
Thanks Giorgio! I appreciate the request."
Amazon EC2	"Re: describe-reserved-instances doesn't return platform
I opened a ticket in the correct forum (AWS Command Line Interface), so perhaps I will get some feedback in there.

https://forums.aws.amazon.com/thread.jspa?threadID=180930&tstart=0"
Amazon EC2	"Unable to connect to EC2 Instance
Hello,

I'm unable to connect to our EC2 instance. Our Remote Desktop is not connecting and the sites are not loading. Also, we are seeing the following message in the Instance Status Check section of the dashboard ""Instance reachability check failed at June 22, 2014 9:39:00 PM UTC-7 (1 minutes ago)"".

We've tried rebooting this instance but the problem did not go away. We also tried to stop and start the service and problem still did not go away. So far the RDS is not connecting and the sites are not resolving. 

We also tried to use the ""Launch More Like This"" option for the instance but there is an error ""We cannot continue with your requested configuration. You cannot use this AMI (AMI-c5e40dac). This AMI has been deregistered or you do not have permission to use it. "" Not sure why this message is showing since we are using the main password for managing this instance.

Also, this issue happened over the weekend and we have not made any changes to the server for the past week and it was working fine.

Any help would be appreciated.

Thank you.


Al A."
Amazon EC2	"Re: Unable to connect to EC2 Instance
Hello

Thanks for contacting AWS

Your post did not contain the instance ID which is what I'd need to use to know what instance you are referring to. That said, I've had a look at all your instances and I could only find one which was in a ""Stopped"" state. I am assuming you are referring to Instance ID: i-6b296d07 as that is the only one using the AMI ID: AMI-c5e40dac

A Windows instance failing reachability checks generally indicate a problem on the network layer. The cause could be anything from a Network Card misconfiguration to a windows driver or security update which impacted the Network layer of the OS.

By looking at the AMI details, I can see that its a very old AMI which would probably answer the question on why you weren't able to launch ""more like this"".

The problem is more than likely the fact that the AMI is using the old PV Drivers and EC2Config Service and/or a Windows driver/security patch. I see that you are not using a VPC which make recovery a bit harder... unfortunately you wont be able to add an additional NIC to try an recreate the stack/IP as a 'quick fix'.

The first thing I'd try and do is to:
1: Update the EC2Config service
-> You'll need to do this ""Offline"". The high level steps are:
--> detach root volume of affected instance and attach it as a secondary volume to a Windows 2003 Instance (note: Use a Windows 2003 instance  - Windows2008 will try and write to the Boot sector)
--> Copy the Ec2Config binaries on the volume
--> Use the ""RunOnce"" key to define the installation of the Ec2config service

You can find more information about this process here:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html

2: Update the PV Drivers to the latest version
--> use the same method as above

You can find more details at these links:
EC2Config Service Update:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html#UsingConfig_Install
http://aws.amazon.com/developertools/5562082477397515

Latest Para-Virtual Drivers:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html
http://aws.amazon.com/developertools/2187524384750206

Hope this helps:
Regards
Parker"
Amazon EC2	"Re: Unable to connect to EC2 Instance
Hi Parker,

Im having the same issue.
can you help me check what's going on?

Instance ID : i-83333ba8

thanks
Vitor"
Amazon EC2	"Re: Unable to connect to EC2 Instance
I am also getting same error.
instance id : i-88741163"
Amazon EC2	"Re: Unable to connect to EC2 Instance
I am also experiencing this issue and need access to the server urgently.
Instance ID: i-1e4ddd23

Would really appreciate if someone can look into this for me. Thanks!"
Amazon EC2	"instance stuck in shutting down state
i-50ab1aa7 in us-west-2b is seems to be wedged.  Help?"
Amazon EC2	"Re: instance stuck in shutting down state
Hello,

I have engaged our team to see if we can get this instance moving for you.  Once we have more information, we will update the thread.

Best regards,
Justin G."
Amazon EC2	"Re: instance stuck in shutting down state
Hi  M. Keisler,

Can you confirm if you are looking to have the instance and EBS volume deleted? Volume in question is, vol-1fe2310f.

Regards,

Rodney"
Amazon EC2	"Re: instance stuck in shutting down state
Yes, just kill it."
Amazon EC2	"Problem : ""Connection refused"" after rebooting
Hi there, im facing some trouble trying to connect over ssh (using putty) to one of my instances.
To give you some context on what i was doing... 
I was trying to back up the volumes, so i stopped the instance, detached the volumes, took a snapshot, re attached them and started the instance again.
After this process i couldn't connect to it again.

I've searched the forum for similar problems, and tried many possible solutions, and yet no connection...

What i've tried so far:

-Created a fresh instance and attached new volumes (created from snapshots). no luck.
-Attached the root volume to a working instance and checked the logs, apparently ssh daemon started fine on booting.
I inspected the sshd config file, and there wasnt anything sospiciuos there.

My instance id is: i-2c1e207f

Any suggestion is welcome!"
Amazon EC2	"Re: Problem : ""Connection refused"" after rebooting
Anyone?"
Amazon EC2	"Re: Problem : ""Connection refused"" after rebooting
Hello, 

So in the process you described there are many things that could have potentially gone wrong. If you're still having issues, can you answer fo rme:

So upon launching a new instance and attaching/detaching volumes, can you SSH to it? 
I noticed your security groups are only allowing port 22 traffic from certain IPs, are you connecting from one of these IPs? 

Regards,
Nick"
Amazon EC2	"Re: Problem : ""Connection refused"" after rebooting
Nick, thanks for your reply.

The problem was the mounting point of one of the EBS, as there was little documentation about deployment of the system running on the instance i didnt know that i had to maunt the db volume on a specific point. 
I noticed the problem by looking in the fstab file, then i realised where was the correct point to mount the volume, after that the instance booted just fine i could ssh to it again."
Amazon EC2	"VM Import job Stuck.
Hi,

We have triggered an import-image request using as input an ova template we exported from VMWare and copied over to S3.
This is a Linux machine that has 17 disks attached.
The total size of the data on all 17 disks is around 3.5TBs.
The total size of the disks is around 4.5 TBs.
Using the describe-import-image-tasks method we can see that the import-image request is stuck at 28% (Converting) for the last 2-3 days.

-Is this expected considering that the total size of the imported data is around 3.5 TBs?
-Is there any other way for us to debug this and determine if the job is actually progressing or it is stuck for real?

This is the AWS CLI method we used for importing the ova template:
aws ec2 import-image --cli-input-json ""{  \""Description\"": \"" *********\"", \""DiskContainers\"": }""

The import task Id we got back is:""import-ami-fh6mfgtt""

Any help would be greatly appreciated.
Thanks!"
Amazon EC2	"EC2 server has become inaccessible
I have an EC2 server that's been running fine for a over two years. On Friday, it has suddenly become completely inaccessible.  I can no longer ssh to it, and it is no longer responding to pings nor could we access apache on it anymore.

It's an instance-store EC2 server (i.e. not EBS backed), I have tried to restart it from the management console (as well as the ec2-reboot-instances command), to no avail.

If I look at the system log (in the management console), there's nothing to indicate any sort of problem, all services appear to be loading fine and it's not segfaulting or anything like that.

Any suggestions/help anyone can offer?"
Amazon EC2	"Re: EC2 server has become inaccessible
cambrianhouse,

Can you post the instance ID?"
Amazon EC2	"Re: EC2 server has become inaccessible
I am having the exact same issue with instance i-676d1d0d"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi Luke.

The instance id is i-96a4c1ff

Thanks
Todd"
Amazon EC2	"Re: EC2 server has become inaccessible
cambrianhouse,

It looks like there is an issue with the underlying host, I'll see if we can rectify the issue however as your instance is not EBS-backed you may have to launch a replacement instance and restore from any of your recent backups. We will update this thread once the investigation has been completed.

legacyit,

Your instance is online and responding to RDP without issue."
Amazon EC2	"Re: EC2 server has become inaccessible
I am having the same problem. One of my EC2 servers just stopped responding to SSH as well as I have a monitoring agent that reports in every minute. In the last 24 hours I have only received 2 connections from my agent...about 12 hours apart. My other EC2 systems are working fine an they are on the same AMI ID. I have not made any changes to this EC2 system.

EC2: i-5eb699a"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi Todd

The physical host your instance is on seems to be having technical issues. I've sent a request to have the host checked out to see if we can get your instance back online. It's possible that the hardware has failed completely, if not we'll see what we can do to get it working.

Regards,

Martin"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi Martin.

Thanks for the update.  Our server came back online a couple of hours ago and I can now ssh to it and recover anything needed.

Thanks
Todd"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi, this is happening for me as well since two days ago.  

instance id is i-020d6746

Can you let me know what the status of the underlying machine is, if it's recoverable or not?  Thanks."
Amazon EC2	"Re: EC2 server has become inaccessible
Hi emileleon,

The underlying host for your instance is healthy and responding.  Please try to reboot your instance.  If this is not successful, you will need to launch a replacement from a recent AMI."
Amazon EC2	"Re: EC2 server has become inaccessible
Hi JBrown,

I rebooted but now ssh is not connecting.  Read the forums and it seems to be a known issue about ssh not working after reboot.  From the Console it shows this:

The disk drive for /files is not ready yet or not present
Continue to wait; or Press S to skip mounting or M for manual recovery

Suggestions?  Thanks."
Amazon EC2	"Re: EC2 server has become inaccessible
Hi emileleon,

I'm sorry to hear that rebooting did not work.  The error indicates a problem within your instance and we have no access / ability to modify it.  Feel free to try rebooting again, but as I mentioned before, if it is unsuccessful, you will need to launch a replacement."
Amazon EC2	"Re: EC2 server has become inaccessible
Hi JBrown,

This seems to be the only option as I rebooted w/o any luck.  Is there any way at all at getting at the instance or is it beyond access at this point?

Also, what was the root cause of this problem in the first place?  Was it a hardware issue?

Thanks for the quick responses.
emile"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi emile,

Since this instance is not EBS-backed and it fails to boot, there is no way to get at the instance.  If it were EBS-backed, you could detach/attach the root volume on another instance to troubleshoot it and copy any critical data from it.  I would recommend looking into the use of EBS-backed AMIs / instances going forward:

http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/Concepts_BootFromEBS.html

The underlying host is healthy and responsive so this would suggest that something broke in the instance."
Amazon EC2	"Re: EC2 server has become inaccessible
I have the same problem as well. My instance suddenly inaccessible either from web browser or ssh.

From this forum, It seems that I need to reboot the instance.
But could AWS guys help me, to check if there is any hardware problem?

My Instance ID : i-bbe92fec

Thanks"
Amazon EC2	"Re: EC2 server has become inaccessible
Hello,

The instance in question appears to have since been terminated. Is there anything else you need here?

Regards,

Matt J"
Amazon EC2	"Re: EC2 server has become inaccessible
Hey

I know this is an old thread but I have exactly same issue with our m3.large instance (Instance ID
i-b99007f9). 

I can no longer ssh to it, and it is no longer responding to pings nor could we access any website hosted on it anymore.

What could be the reason for this and what is a solution to it?

Thanks

Edited by: sachem1000 on May 16, 2015 12:31 PM"
Amazon EC2	"Re: EC2 server has become inaccessible
Hi there,

From the looks of it, the instance is accessible over TCP Port 80 (HTTP) again, so the issue may have been resolved prior to this post, but I will mention that SSH (Port 22) is limited to one /32 IP address within the instance's security group.
 So if you had been attempted to connect via a different IP, this wouldn't have connected.

Additionally, ICMP isn't allowed over your security group, so the instance will never receive your ping requests, causing all ICMP ping packets to time out."
Amazon EC2	"VM Import failed: ""ServerError: an internal error has occurred during conve
While using aws ec2-import-image to import a VMWare OVA, I got this error message:

 ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."",
 ""ImportTaskId"": ""import-ami-fg14lk1b""

Can't see any obvious reason for this but would like to check what's happened before I reattempt."
Amazon EC2	"Re: VM Import failed: ""ServerError: an internal error has occurred during conve
Hi there uoeqtl,

This is just a quick message to let you know that I have initiated an investigation into the issue that you reported and that we will be back in touch again when we have more information.

Quim."
Amazon EC2	"Re: VM Import failed: ""ServerError: an internal error has occurred during conve
Hello,

There was an issue that occurred during the import but it was fixed and the import was successful despite the error message. The messaging on the VM Import was not updated, but you should see the AMI on your account as ami-63503c14."
Amazon EC2	"Re: VM Import failed: ""ServerError: an internal error has occurred during conve
Hello, DavidH@AWS

From already uploaded to s3 .vmdk and .raw disk images i'm trying to create ami through ec2 api Import Image and found the same issue:
 'statusMessage': u'ServerError: an internal error has occurred during conversion.',
 'importTaskId': u'import-ami-fgxee4mn',
 'requestId': u'e772365e-05e7-47bf-8823-a1c9ef757309',
 'status': u'active'

But no new amis available in aws console as mentioned above and returned empty list in ec2 api Describe Images with owner=self.
So the question is - is it my mistake or backend?
Api_version=""2015-04-15""

UPD: aws ec2 Import Snapshot from the same s3 .raw disk image works fine and I see new imported snapshot.

Edited by: PythonBear on May 20, 2015 1:03 PM

Edited by: PythonBear on May 20, 2015 1:04 PM"
Amazon EC2	"How to allo Amazo EC2 to use external database
Hello, I'm new on amazon ec2, and I want someone to help me. I  have created an ubuntu instance on amazon ec2 where I have uploaded my laravel project. On this project that I did I'm using an external database from where the laravel is collecting information. When I tried to load the page I got the error message ""SQLSTATEHY000 2002 Connection timed out""

Does anyone knows how I can allow the Amazon EC2 to connect into that database server?

Thank you"
Amazon EC2	"Re: How to allo Amazo EC2 to use external database
Hi,

Before I try to help you troubleshoot this problem I will need to know a little more information.  

-Where is the external database, is this also in AWS (RDS perhaps) or is this database held on your own local network? 
-Are you using the default VPC in AWS or have you created your own VPC?

Cheers,

Stooby..."
Amazon EC2	"Re: How to allo Amazo EC2 to use external database
I found the solution I had to add the ip of the amazon ec2 on the whitelist of the external database server"
Amazon EC2	"EC2 Purchasing Options
Hello,
I have the following two questions;

1.  When we go into purchase a EC2 instance, from the list of instances available, it shows that each server has a specific amount of storage space. For example, for a 'c3.4xlarge' instance the instance storage column shows '2 x 160 (SSD)'. Can someone explain the meaning of this information, because when we create the instance we don't get to see that many space attached to the server anywhere.

2. Also related to the above scenario, what is the meaning of storage column showing 'EBS only' for some instances while others showing SSD and HDD. What's the underlying storage method for 'EBS Only' instances, if not either SSD or HDD.

Many Thanks"
Amazon EC2	"Re: EC2 Purchasing Options
There are two types of storage available. Instance storage refers to local drives that are attached to the underlying physical host. It is important to understand that instance storage is ephemeral and not in any way a good place for data you care about. EBS on the other hand is persistent network-attached storage. ""EBS only"" tells you that a particular instance type doesn't come with any ephemeral instance storage. An instance type that does support instance storage can be configured with both EBS and instance storage volumes. Both storage types are offered as SSD and regular magnetic storage.

Instance storage, if available, is included in the hourly rate, while EBS is charged separately."
Amazon EC2	"Re: EC2 Purchasing Options
Nodes that have ephemeral storage available still need that storage mapped to a device at instance-creation time. When configuring the instance pre-launch on the configure storage tab, add some block devices and map the ephemeral* drives to them.

But note that ephemeral store goes away when the instance stops or terminates.   A 'restart' or 'reboot' does not clear the ephemeral storage. I'm less clear about what happens if EC2 triggers a 'system reboot'.

ephemeral store is great for logs that you can stand to lose / are transmitted elsewhere, and for replicas of data that you copy from some other source of truth that is more durable.  Never store the source of truth on ephemeral store -- you will lose it eventually.

Emphemeral store is comparatively fast as it does not have to contend with any network access as does EBS.  Emphemeral store will win vs 'standard' EBS.  You can probably get a EBS Optimized / PIOPS drive faster than ephemeral but it'll cost more."
Amazon EC2	"Re: EC2 Purchasing Options
Hi, Many thanks for your response. I was a bit confused about how to identify the ephemeral storage in the instances. To check what you have mentioned I have selected an instance type 'm3.2xlarge' as it doesn't say 'EBS only', and at the pre-installation step apart from the default root device, when go into adding a new device in the drop down, it shows instance storage 0 and instance storage 1. So are these the ephemeral storage devices for that instance? Also in that case is the root device is always persistent storage? 

Looking forward for the response

Many Thanks"
Amazon EC2	"Expanding an EBS Volume with RAID
Hello, 
I have some problem with expanding an EBS Volume with RAID. I have RAID1 with very important data. And now, I need to use this data with my another account and on bigger volume. So, I created snapshot  for one volume from this RAID, shared it with my other account. After that, I created bigger volume from this snapshot, but I still have a problem. I attached md volume from snapshot with: mdadm --assemble --scan --verbose /dev/mdX /dev/sdX
And I need to expand this RAID partition. How can I do this, without miss my data?
resize2fs /dev/mdX doesn't work. 
Using your instructions (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html), I will damage RAID.
Can you help with this issue?
Thanks in advance."
Amazon EC2	"Re: Expanding an EBS Volume with RAID
Solved in another way."
Amazon EC2	"moved from t1.micro to t1.medium and now unable to ssh in.
I have exactly error indicated in this   https://forums.aws.amazon.com/message.jspa?messageID=536048 

I just shutdown, change the instance type then start the ec2 and now I can't ssh to the ec2 instance.

Here is the detailed log in ssh:
richersoon@richersoon:~/.ssh$ ssh -i dev001.pem ec2-user@52.11.121.5 -vv
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /home/richersoon/.ssh/config
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.11.121.5 http://52.11.121.5 port 22.
debug1: Connection established.
debug1: identity file dev001.pem type -1
debug1: identity file dev001.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
ssh_exchange_identification: read: Connection reset by peer

NOT OK - I change ISP, but I can't still log in.
OK - I created other ec2 instance with same pem file, subnet, etc, but I can log in.
NOT OK - I created AMI from that ec2, but I can't log in.

Here is the ec2 instance id: i-b0add646

Edited by: richersoon04 on May 19, 2015 9:02 AM

Edited by: richersoon04 on May 19, 2015 9:13 AM"
Amazon EC2	"Re: moved from t1.micro to t1.medium and now unable to ssh in.
Please help"
Amazon EC2	"Re: moved from t1.micro to t1.medium and now unable to ssh in.
I am getting something similar.

I created an ami from an instance and cannot ssh into the original instance I created the ami from or the instance I boot from the new ami.

Have been doing the same thing all day and suddenly stopped working"
Amazon EC2	"Re: moved from t1.micro to t1.medium and now unable to ssh in.
Any help is appreciated."
Amazon EC2	"Re: moved from t1.micro to t1.medium and now unable to ssh in.
Hello,

I'm sorry to read you're having problems with your instance.

EC2 Public Addresses are released when an instance is stopped or terminated.  Please check in the EC2 console for your instances new Public IP address.  If you require a persistent public IP address that can be associated to and from instances as you require, use an Elastic IP address instead. You can allocate your own Elastic IP address, and associate it with your instance. For more information, see: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html.

Please let me know if you have any further problems or questions.

Regards,
Anthony H."
Amazon EC2	"Re: moved from t1.micro to t1.medium and now unable to ssh in.
That's not the cause, the machine has elastic ip then I removed it because I already created new instance from the start. In other words, the issue still occurs even before I remove the elastic ip from the EC2.

I suspect that this is the cause of the issue:

After EC2 stop successfully. I create image of EC2 instance then I clicked the Change EC2 type.


Please let me know if we have known issue if this is what I above with the EC2.

Edited by: richersoon04 on May 20, 2015 12:38 AM

Edited by: richersoon04 on May 20, 2015 12:56 AM"
Amazon EC2	"end_request: I/O error
We are unable to access our free tier instance i-e2f9811e from ssh, when we checked system logs from aws console login we are getting the below error messages 

http://762459.054005 end_request: I/O error, dev xvda, sector 13073289
http://762459.054005 end_request: I/O error, dev xvda, sector 13073321
http://762459.054005 end_request: I/O error, dev xvda, sector 1778305
http://762459.054005 end_request: I/O error, dev xvda, sector 487833
http://762459.054005 end_request: I/O error, dev xvda, sector 12989225"
Amazon EC2	"ImportImage works in one region but failed in aother
Hi,

I found the ImportImage is not working for one of my accounts if I set my region to Oregon.

For the same RAW disk I uploaded and run ImportImage against, if the region of the bucket and command is set to Sydney, it works perfectly fine. But if I do it in Oregon region, it fails immediately with error message (ClientError: Disk validation failed Invalid S3 source location). 

I'm using my root access key, and there is no IAM policy set (except the one required for VM-import). I've also double checked the RAW file, the file exists in S3, and the s3 bucket name and s3 object key is set correctly in ImportImage.

I also tried signed URL of the RAW S3 object. The ImportImage then gives error ""ServerError: an internal error has occurred during conversion.""

For now, I found the only way I can get ImportImage working in Oregon is to set the s3 file public, and then use URL in ImportImage.

Edited by: lzhao on May 19, 2015 8:32 PM

Edited by: lzhao on May 19, 2015 8:49 PM"
Amazon EC2	"""No space left on device"" on c3.2xlarge with 2 x 80 SSD - how get the rest?
Hello,

first i want to mention, that i m not so familar with linux. 

I create a new instance and I downloaded a 3gig file via wget. After I want to extract the content (10gjg)

ubuntu@ip-172-31-50-17:~/trunk$ gzip -d corpus.gz
gzip: corpus: No space left on device

ubuntu@ip-172-31-50-17:~/trunk$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      7.8G  7.4G   24K 100% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            7.4G   12K  7.4G   1% /dev
tmpfs           1.5G  336K  1.5G   1% /run
none            5.0M     0  5.0M   0% /run/lock
none            7.4G     0  7.4G   0% /run/shm
none            100M     0  100M   0% /run/user
/dev/xvdb        79G   56M   75G   1% /mnt
overflow        1.0M     0  1.0M   0% /tmp
ubuntu@ip-172-31-50-17:~/trunk$

I tried to download the file in the dev/xvdb folder, but I havent the permission do that. How can I get the permission? I rent this big server to store big data and now it doesnt work?

Can somebody say me what is the easiest and fastest way? I only want to extract the gzip and run a short c programm on it.

THanks in advance!"
Amazon EC2	"move-address-to-vpc Internal error - does it work for anyone ?
Hi All,
I was surprised to see this new feature, but I cannot get it to work.
I am using eu-west-1 region.

aws ec2 describe-addresses lists the following address (among others):
       {
            ""InstanceId"": """",
            ""PublicIp"": ""<my public EIP address>"",
            ""Domain"": ""standard""
        }

but when I run:
aws ec2 move-address-to-vpc --public-ip <my public EIP address>
I get the following error message: ﻿A server error (InternalError) occurred when calling the MoveAddressToVpc operation: Failed to retrieve details for <my public EIP address>

I have this EIP active for more than 24 hours.
I suspect there is a bug in this command - has anyone succeeded in using it ?

I followed this page: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#migrating-eip
and also tried using the JAVA SDK (with same error).

Too bad this highly desired new feature has been released but is not working...

Any help would be greatly appreciated."
Amazon EC2	"Re: move-address-to-vpc Internal error - does it work for anyone ?
Hi,

I have just send you a private message.

Regards,
Giorgio"
Amazon EC2	"Re: move-address-to-vpc Internal error - does it work for anyone ?
Hi Giorgio,

Could you please send me a private message as well, I am having the same issue.

Best regards, Ton

BTW Also region eu-west-1

Edited by: Susanne Kroon on May 16, 2015 10:51 AM"
Amazon EC2	"Re: move-address-to-vpc Internal error - does it work for anyone ?
Hi,

as discussed in pm I am glad that now your issue is solved.

Giorgio"
Amazon EC2	"Re: move-address-to-vpc Internal error - does it work for anyone ?
Hi Susanne,

I am working with our service team on your issue, will reply to this forum post as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: move-address-to-vpc Internal error - does it work for anyone ?
Hello, 

The most common cause of this issue appears to be that the IP hasn't been disassociated with the Instance yet. You can use the following documentation to disassociate an IP from an instance:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-associating-different

When have dissociated the IP please try again and let us know if you have further issues. 

Regards,
Nick"
Amazon EC2	"AMI Image Launch but Cannot Remote Desktop
I created an AMI image then tried to launch a new instance from the AMI image. Once it completed the initiation, I cannot remote desktop to the new instance. 

I did add my IP address to the inbound RDP.

The username and password screen does not come up. I just get the standard error around 1. Not set up to accept remote connection, 2. is not turned on, 3. network problems.

What am I missing? Thanks in advance for any suggestions.

I have no problem remote desktop connecting to the original instance the AMI was based on.

Instance ID i-49602dbf and i-927d3064

Edited by: tk1ansr on May 18, 2015 8:57 PM

Edited by: tk1ansr on May 18, 2015 9:04 PM

Edited by: tk1ansr on May 18, 2015 10:35 PM

Interesting. It seems to be working for both instances now. I guess it takes over an hour after it finishes initializing to get everything up and running and working normally?

Is that correct?"
Amazon EC2	"Re: AMI Image Launch but Cannot Remote Desktop
Hi,

No not normally - connectivity should be pretty much instant once the status checks have been completed etc.  

If you do have connectivity issues in future its worth checking these points below:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: AMI Image Launch but Cannot Remote Desktop
Hello,
I checked the instances, but they are terminated/stopped then there is no possibility to check the connection.
Please reproduce the issue and keep the instances running. 
Open a new forum post then asking to review it.
Thanks!
Adolfo"
Amazon EC2	"Re: AMI Image Launch but Cannot Remote Desktop
I am unable to connect once again. I will leave the instance running.

Instance i-927d3064

Edited by: tk1ansr on May 19, 2015 3:37 PM"
Amazon EC2	"Instance hung again; strange console log output.
Hello! I have an EC2 instance that has, twice now, just completely hung. The stop procedure through the console takes about 2-3m before it registers as stopped, and then it won't ever start up again. It passes the first internal communications check, but never comes back online. SSH and all other access is down, and the system log through the AWS console shows the attached. I could not find any information on this anywhere, and this has caused me to have to create a new AMI, launch a new instance, and decomission the old in order to get it back up and running. Any help would be greatly appreciated!

Thank you."
Amazon EC2	"Can't connect to my instance
Instance ID is i-810e8a76

It's passed both checks and is running but, can't SSH into it.  Keep getting ""Permission denied: publickey""  even after running chmod 400 on the .pem file.  Have tried logging in from Ubuntu terminal window, PuTTy, and MindTerm with no luck.  

Please help!"
Amazon EC2	"Re: Can't connect to my instance
Hi,

When troubleshooting connectivity to your instances check the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Can't connect to my instance
Hello,
I checked the instance and the AMI is from the MarketPlace. 

Please check the User Guide available for the product on the MarketPlace to login correctly.

Regards.
Adolfo"
Amazon EC2	"Re: Can't connect to my instance
Hi Stooby

1.  The correct ports are open.  Port 22 Inbound is open for SSH access from anywhere right now.  Port 443 for https is open from anywhere.  This is what the AMI documentation says to do.

2.  The NACL associated with the instance subnet has all traffic inbound/outbound open.  I did not edit these settings at all. 

3.  There is a IGW associated with the VPC.

4.  There is a route associated to the correct subnet.  Under the ""Propogated"" tag it says ""No"".  Could that be an issue?

5.  There is a public IP and DNS associated with the instance.  

The only weird thing is that the fingerprint for the key file that was sent via the EC2 key pair creator doesn't seem to be the same as the stored file that should be on the instance from when it was created.  I did not do anything to the local key file except chmod 400 it and that is suggested.

I am completely out of ideas.  I feel like I've followed the directions with the AMI perfectly and it just won't work! 

Thanks for the ideas and if you have anymore please let me know."
Amazon EC2	"Re: Can't connect to my instance
Hi Adolfo

I have followed that guide step by step and something is preventing me from logging into the instance.  I have deleted several instances and started over from scratch using that guide without any luck.  It's always ""Permission denied:  publickey""

I will try Teradici support also since they are the creator of that AMI.

Thank you for the link and if you have any other ideas that might help the ""Permission denied: publickey"" issue please let me know."
Amazon EC2	"Re: Can't connect to my instance
Hello,

I have reviewed your EC2 instance i-810e8a76, and the instance and underlying-host both appear in good health. I understand you are receiving ""Permission denied: publickey"" error messages when trying to SSH into your instance. I apologize for the issue you have encountered. During my own troubleshooting, I performed a telnet to your EC2 instance on port 22(SSH), and I received a successful SSH response. It appears you should have no issue when connecting to the EC2 instance via SSH.

I see that you are using an Ubuntu based AMI. Can you confirm if you are using the correct user-name to connect to the instance? You should be using the 'ubuntu' user to connect to the EC2 instance in question.

Look forward to your reply,

Regards,
Mohsin"
Amazon EC2	"Re: Can't connect to my instance
Hi Mohsin

I have tried the following user names with no luck:  Ubuntu, root, ec2-user.  I just retried them all in an Ubuntu terminal window and with PuTTY on my Windows machine.  I used the ""telnet"" protocol on port 22 with PuTTY and got the following attached response in the terminal window.  When I used the SSH protocol on port 22 it just gives me the Permission denied: publickey response. 

Any commands I can run to get a better diagnostic log for the login procedure?

Thank you for the response, I really appreciate the help.

JK

Edited by: JK on May 19, 2015 1:52 PM"
Amazon EC2	"Re: Can't connect to my instance
I am getting something similar.

I created an ami from an instance and cannot ssh into the original instance or the instance I boot from the new ami.

Have been doing the same thing all day and suddenly stopped working

I have terminated the instance but I tired that same thing 4 times and got the same result

Edited by: alistairprestidge on May 19, 2015 2:02 PM"
Amazon EC2	"Cannot access instance via SSH when volume is attached
Hello,

I have dettached and attached a volume to a differente instance in order to recover some permissions I had wrongly set. When reattaching it back to its original instance, I cannot access it through SSH. This is the debug verbose:

Me-pc:dir me$ ssh -i key_file.pem ec2-user@site.ip -v
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 53: Applying options for *
debug1: Connecting to site.ip [site.ip] port 22.
debug1: Connection established.
debug1: identity file key_file.pem type -1
debug1: identity file key_file.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.2
debug1: match: OpenSSH_6.2 pat OpenSSH*
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA key:id:goes:here
debug1: Host 'site.ip' is known and matches the RSA host key.
debug1: Found key in /path/to/ssh/.ssh/known_hosts:1
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: key_file.pem
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).


Then, when I try to reattach it to the ""recover instance"", it says again  Permission denied (publickey) 
. I have tried to change the key_file, still no success.

Any help would be welcome. Thanks in advance."
Amazon EC2	"Re: Cannot access instance via SSH when volume is attached
Hello, 

SSHD requires specific permissions to function properly. Specifically the '.ssh' directory will need to be readhable/writeable by ONLY that particular user. If you were modifying permissions and lost connectivity, I'm guessing you need to modify this. The default linux AMI settings are:

ec2-user@ip-172-31-18-188 .ssh$ ll -a
total 16
drwx------ 2 ec2-user ec2-user 4096 Aug 12  2014 .
drwx------ 8 ec2-user ec2-user 4096 Apr 14 20:33 ..
-rw------- 1 ec2-user ec2-user  390 Oct  8  2013 authorized_keys
-rw-r--r-- 1 ec2-user ec2-user 1994 Jan 27 20:22 known_hosts

Otherwise, you can look at your SSH logs on your recover instance to verify SSH logs to see what is occurring. On an Amazon linux AMI the default log location is '/var/log/secure'. 

Regards,
Nick"
Amazon EC2	"Domain Not Resolving At Regular Intervals
Hi,

I've a Top-Level Domain (TLD) hosted with a private name server that is pointing to Amazon EC2 instance through the assigned elastic IP. However, I noticed that there is a tendency for the domain to stop resolving at regular intervals. It typically occurs around HH:25 to HH:40, where HH refers to hour.

I'm running a wordpress site on the server. Could it be due to Apache or MySQL?

Have anyone face similar problem? I am trying to understand the root cause of this matter. 

Thank you."
Amazon EC2	"Re: Domain Not Resolving At Regular Intervals
Hello, 

How are you determining that the domain is not resolving? 

If the domain name is truly not resolving, then I'd think you'd want to look at the private name server istelf, and specifically look for logs during these time frames and to verify network/CPU/memory utilization isn't spiking. 

Also could you please verify when you say 'I'm running a wordpress site on the server', are you referring to your private DNS server or to the EC2 instance as running wordpress? 

Regards,
Nick"
Amazon EC2	"Intermittent SSL Handshake read errors us-east-1
Starting approximately 6:30am PST, I have been seeing intermittent HTTPS SSL Errors across 3 EC2 instances but it is only happening to our instances in the us-east-1 region. 

Were there any problems affecting this region this morning? I wasn't able to see anything listed."
Amazon EC2	"Re: Intermittent SSL Handshake read errors us-east-1
Hello, 

You can use the Service Health Dashboard to verify currently or previously if a service was experiencing issues: 
http://status.aws.amazon.com/

With that being said it doesn't look like we were having issues that day. Are you still having issues? 

Regards,
Nick"
Amazon EC2	"Instance stuck in 'stopping' state
Hi Amazon team, this is regarding i-d05ce306. I'm unable to force stop this instance to attempt recovery. Can someone please assist? We have already tried stopping via the console and through the API, and have attempted force stop with no change in status. 

Image attempts fail due to the instance state not being 'running' or 'stopped' as well."
Amazon EC2	"Re: Instance stuck in 'stopping' state
I see it's now in the stopped state. Attempting image process now. Thanks for your prompt response."
Amazon EC2	"Re: Instance stuck in 'stopping' state
Hello i-d05ce306,

I do see that your EC2 instance has been successfully stopped. I apologize for the issue you had encountered. It appears the underlying-host where your EC2 instance resided experienced an issue. You may start the instance back up so it can migrate to a new healthy underlying-host.

Regards,
Mohsin"
Amazon EC2	"Re: Instance stuck in 'stopping' state
The instance has started successfully and is now manageable. Thank you for your reply."
Amazon EC2	"Unable to see AWS resources in AWS Plugin for vCenter on esxi 5.5 client
I can't find any errors in the 2.4.0.7 plugin deploy or setup.  The plugin connector management console web page shows all green.  The AWS user that is making the connection has all admin privileges, but the plug doesn't show any resources available or any tasks available.  We have 3 VPCs and multiple subnets and multiple instances in multiple regions, but nothing shows up in the AWS plugin for vCenter.  I created the log bundle from the plugin instance, but don't see anything helpful in the way of errors.
Any suggestions?
Thanks,
Mark"
Amazon EC2	"Re: Unable to see AWS resources in AWS Plugin for vCenter on esxi 5.5 client
Mark,

When you click on the AWS Management Portal icon in vCenter, are the ""VPC"" and the ""Admin Users"" tabs greyed out for you?"
Amazon EC2	"AWS hadoop installation keeps failing canary test
I installed CDH5.4.1 on ubuntu 14.04 on AWS EC2 working with VPC EPI using the internal IPs.
Every thing works fine untill the machines are restarted, then the name node begins to faile on canary test.
It is hapening again and again, any way to solve this?"
Amazon EC2	"Re: AWS hadoop installation keeps failing canary test
bump!"
Amazon EC2	"EC2 instance stuck stopping after forced stop
Hi support,

I received an email notification that my instance is running on degraded hardware and needs to be migrated off. Since it's using an EBS storage, it seems to read that I can just stop and start it again.

It's stuck in a rebooting loop now (I can see with pinging that it's up for 15 or so then gone, then back up)

Instance ID i-72a58353"
Amazon EC2	"Re: EC2 instance stuck stopping after forced stop
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

I ended up having to follow this guide and make an AMI from the instance and then terminate the old one (Which also got stuck terminating)"
Amazon EC2	"Re: EC2 instance stuck stopping after forced stop
Now it's been stuck ""shutting-down"" after 10 hours"
Amazon EC2	"Re: EC2 instance stuck stopping after forced stop
Hello,

The instance is now terminated. The problems with the host system that prompted us to contact you about the degraded hardware also prevented the smooth termination of the instance. I am very sorry for trouble you experienced. 

Regards,

Matt R."
Amazon EC2	"Instance went down, it isnt rebooting and it is not stopping
Hello, the instance i-a37dc674 just went down, and we cant reboot it or stop it, it is stuck stopping now. Can you check it? Does it have a hardware issue?
Thanks."
Amazon EC2	"Re: Instance went down, it isnt rebooting and it is not stopping
Hello,

I am able to see that your EC2 instance  i-a37dc674 has now stopped. It does appear the underlying-host where the EC2 instance resided experienced an issue. You may start your instance back up again so the instance can migrate to a new healthy underlying-host.

I do apologize for any inconvenience caused. If you have any questions or concerns, please do let us know and we would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Rails App Location On EC2 Instance
I'm trying to access my rails app on the ec2 instance, but I have no idea what directory the rails app would be in."
Amazon EC2	"Re: Rails App Location On EC2 Instance
I've solved it:
Your app is either in /var/app/current , or in var/app/ondeck.

I used elastic beanstalk to deploy my app so it was in the ondeck directory."
Amazon EC2	"Apache MPM worker on Amazon Linux Micro instance
Hi,

I am running Amazon Linux 64 bit AMI micro instance. I am running small web server on it, but would like to squeeze max performance. For that, I would like to switch from current prefork model to multithreaded MPM worker. Bit there is no MPM worker supplied with current httpd nor it is available in yum repositories. Am I missing something or it is not supplied at all ?

Recompile is always an option, but I would like to avoid it.

Thanks a lot.

Dusan"
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
Hi,

There is currently no Apache MPM package available in the Amazon Linux Yum repository.  At this stage your best option would be either to recompile Apache with MPM support.  

Alternatively, you may be able to use packages from a recent Red Hat Enterprise Linux or CentOS distribution, but you may possibly run into dependency issues in this case."
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
Is there still no apache repos that are compiled with worker?  Or is prefork still the default?"
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
Hi,

do I asume right that this is still an unsolved, open issue?
Are there any plan to provide a httpd package incl. MPM worker mode?

Cheers,
Martin"
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
its now June 2014 and still no official supported Worker MPM or even the new Event MPM available on the Amazon Linux AMIs. 

I acually tried to compile my own optimized apache 2.4 yesterday which i succeeded.
However bad news, i couldnt get any PHP version installed or compiled against this apache.
Amazons offered yum PHP would fail due to all missing httpd dependencies while a own PHP compiling of 5.3.28 failed with few errors on soap.c, zend..., openssl, etc...
Even after researching, could not solve these compiler issues with PHP.

So as im moving an 15 server environment to amazon aws, my first disappointment is this lack of performance tuning. Now i need to go with the yum repository versions of apache and php 

Let us know, when any progress on different apache MPMs is available."
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
Since i was searching the same information and didn't get much help from forums i'm updating this with what I've found out.

Using current Amazon Linux with httpd24 there's a configuration file 00-mpm.conf at /etc/httpd/conf.modules.d

Just uncomment the desired mpm and it'll be enabled.

httpd -V
Server version: Apache/2.4.10 (Amazon)
Server built:   Jul 30 2014 23:57:26
Server's Module Magic Number: 20120211:36
Server loaded:  APR 1.5.0, APR-UTIL 1.4.1
Compiled using: APR 1.5.0, APR-UTIL 1.4.1
Architecture:   64-bit
Server MPM:     event
threaded:     yes (fixed thread count)
forked:     yes (variable process count)
Server compiled with....
 -D APR_HAS_SENDFILE
 -D APR_HAS_MMAP
 -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
 -D APR_USE_SYSVSEM_SERIALIZE
 -D APR_USE_PTHREAD_SERIALIZE
 -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
 -D APR_HAS_OTHER_CHILD
 -D AP_HAVE_RELIABLE_PIPED_LOGS
 -D DYNAMIC_MODULE_LIMIT=256
 -D HTTPD_ROOT=""/etc/httpd""
 -D SUEXEC_BIN=""/usr/sbin/suexec""
 -D DEFAULT_PIDLOG=""/var/run/httpd/httpd.pid""
 -D DEFAULT_SCOREBOARD=""logs/apache_runtime_status""
 -D DEFAULT_ERRORLOG=""logs/error_log""
 -D AP_TYPES_CONFIG_FILE=""conf/mime.types""
 -D SERVER_CONFIG_FILE=""conf/httpd.conf"""
Amazon EC2	"Re: Apache MPM worker on Amazon Linux Micro instance
You can use mpm_worker if you change the file /etc/sysconfig/httpd. If you open the file you can find the line: #HTTPD=/usr/sbin/httpd.worker. Uncomment this line and start apache2. Apache2 is now using mpm_worker instead of mpm_prefork."
Amazon EC2	"i can't connect instance.
instance state is running.  status check is intiializing.
i can't open ssh, http.
i have tried reboot. stop and start.
i can't see any logs too"
Amazon EC2	"Re: i can't connect instance.
i made new instance after make image using snapshot. and it working now. but old instance still not working."
Amazon EC2	"Re: i can't connect instance.
Hi,

Thank you for the post. 

Could you please provide the instance ID for us to take a look. The instances that are running under your account have the status checks passed. 

Regards,
Varun"
Amazon EC2	"Re: i can't connect instance.
i-105c5ad9 

it happens same situration again. i can't connect now."
Amazon EC2	"Re: i can't connect instance.
Hello,

I did take a look at your instance i-105c5ad9  and it appears to be passing 2/2 health checks at the moment.
So, it seems like your instance was taking time to initialize fully  and to start responding to the health checks.

I would recommend you to take a look at the dmesg command output to understand if any step during the boot process took longer time than expected. Also, it is worth checking the system's log file (/var/log/messages for Redhat/CentOS/SLES/Amazon Linux and /var/log/syslog for Ubuntu and other debian based distros).

Regards
Shiroy"
Amazon EC2	"Re: i can't connect instance.
same issue again now.

always not conectable ssh after this happening. even stop or reboot."
Amazon EC2	"Re: i can't connect instance.
Hello,
you terminated the instance then I was not able to check the details of the problem during the issue.
Always because the instance is terminated we cannot check the operating system logs, anyway, I checked the CloudWatch metrics and I found that the CPU had a spike at 100%.
That probably is the root cause of the issue.
In case the issue persists with another instance please keep it running to make the troubleshooting.
Thanks
Adolfo"
Amazon EC2	"No RDP Connection
Hello there,
Any help to connect via RDP to Windows EC2 Instance?

i-7e2cb69d

TKS"
Amazon EC2	"Re: No RDP Connection
Did you open port 3389 in the Security Group you used for your windows instance?
Also on your windows server instance did you ""allow"" remote rdp connections?"
Amazon EC2	"Re: No RDP Connection
Hi,

Also check to ensure the NACL associated with you subnet that your instance resides in isnt blocking the RDP port.

Check to ensure you have an internet gateway associated with your VPC and that there is a route in your instance subnet that points to the IGW.  For example 0.0.0.0/0 via IGW.  This will route all external traffic through your IGW and out to the internet.

Also check to ensure you have a Public IP address set up on your instance

Cheers,

Stooby..."
Amazon EC2	"Re: No RDP Connection
It's a fresh installation, just Launched.
I have terminated old one and created new one, but problem continue.

No RDP access."
Amazon EC2	"Re: No RDP Connection
Hi,

Did you check all the points I mentioned previously?

Cheers,

Stooby..."
Amazon EC2	"Re: No RDP Connection
Hi there,

I researched your account an currently seeing there is only 1 windows instance currently running,  i-5b6b0eb8 can you confirm if this is the trouble instance?

If it is, I see that the route table associated to the route table rtb-240dd241 used with this instance does not have an internet gateway which might explain why you can not RDP to the instance. 

As per our document here

""To enable access to or from the Internet for instances in a VPC subnet, you must attach an Internet gateway to your VPC, ensure that your subnet's route table points to the Internet gateway, ensure that instances in your subnet have public IP addresses or Elastic IP addresses, and ensure that your network access control and security group rules allow the relevant traffic to flow to and from your instance.""

Please see the steps for Attaching an Internet Gateway  to the route table here

Let me us know if this resolves your issue.
Kind regards,
Ridwaan M."
Amazon EC2	"Re: No RDP Connection
AWS has confirmed that it might be an IGW issue which I mentioned in my previous posts, I hope this resolved your issue for you.

Cheers,

Stooby..."
Amazon EC2	"Re: No RDP Connection
Hello, it's correct, i-5b6b0eb8 Instance.

Well, i'm tryning to figure out yout suggestion, but without no success, in fact, i no have options availables in:
Create Internet Gateway > Attach to VPC (dropdown is empty)
Maybe i need to detach or release someting?

Thanks Cris,"
Amazon EC2	"Re: No RDP Connection
Hi,

Presuming you have set up a VPC already, ensure you are in the same region as the VPC that you created.  If you have selected a different region then the VPC will not be in the dropdown list.

Let me know if you have not set up a VPC.

Cheers,

Stooby..."
Amazon EC2	"Re: No RDP Connection
Stooby, VPC already exist:

vpc-b361fad6
available
172.30.0.0/16
dopt-5b1aff3e
rtb-240dd241
acl-03b86766

Route table:
rtb-240dd241
0 Subnets
Yes
vpc-b361fad6 (172.30.0.0/16)

Gateway:
igw-75b84e10
attached
vpc-b361fad6 (172.30.0.0/16)

Edited by: criscalleo on May 19, 2015 6:25 AM"
Amazon EC2	"Re: No RDP Connection
Solved, thanks, i have added route and now work."
Amazon EC2	"Re: No RDP Connection
Hi,

Glad you have resolved it.  I mentioned in my comment at 9:35 that it could be a route issue for the IGW.

If any of my comments helped, please mark the comment as the accepted answer or as helpful, it would be much appreciated.

Many thanks,

Stooby...."
Amazon EC2	"Cannot connect to Windows Instance
I am trying to connect to a Windows instance, i-1ff7f83e

I am receiving a error ""An Authentication error has occurred. The local security Authority cannot be contacted. Remote computer: xx.xx.xx.xx. This could be due to an expired password. Please update your password if it has expired. For assistance, contact your administrator or technical support.

I am not on a domain.  I had a backup admin account and same message....I even launched another AMI with latest backup and same error message....how can I get into my server?

Edited by: gcarson73 on May 19, 2015 6:01 AM"
Amazon EC2	"Re: Cannot connect to Windows Instance
We joined our machine to the domain....we had to use username: .\administrator to log in"
Amazon EC2	"82599 VF TX Hang
Hello, 

  We're working with spot instances running Ubuntu 14.04 to facilitate with the testing of our application. Our application performs TX/RX directly, without using the native Linux driver. Usage of the VF involves bursts of traffic sent at high rates (often as much as the link can provide) and for prolonged periods of time.

Occasionally, the TX queue of the VF will fill up and not empty pending a VF reset. In this condition, RX works as normal. Performing a reset of the VF seems to resolve the issue. I've noticed that it times, several (~3/4) resets are required before the VF resumes normal operation.

Can you assist on what's causing this issue?"
Amazon EC2	"Instance unresponsive
Hello,
One of our instances has become unresponsive: i-03b40ce5
At first I could ping to it, but not connect to it over ssh. 
I tried:
 * reboot => didn't seem to do anything
 * stop => worked, but took very long
 * start (same instance) => reported to be running, but the machine is still unresponsive, now even ping doesn't work and also the Instance reachability check failed
 * reboot still doesn't seem to do anything
 * 'get system log' just shows a black screen

Do you have any idea what could be wrong ?
Thanks for having a look,
Jeroen
instance ID i-03b40ce5"
Amazon EC2	"Re: Instance unresponsive
Update: it seems the instance i-03b40ce5 is now responsive again !
I'm still interested to learn what went wrong yesterday, so I'll keep this thread open just a little longer."
Amazon EC2	"Re: Instance unresponsive
Hi EC2 team,
Today we had a similar situation with another instance (i-90aa3976).
This time I was able to see that there were memory issues (probably too many instances of an application launched at the same time). Unfortunately I was unable to ssh to the machine to try to recover it. But it's a pity that in that situation even a reboot does not seem to work. Stopping the instance worked, but afterwards when starting it again, the machine became once again unresponsive. This seems a bit of a PITA. 
So after running out of memory, we should terminate our instance and relaunch another one or wait a long undetermined time to see the original one come back alive ?
The instances are of type T2.medium. Does that make a difference ?
Regards,
Jeroen"
Amazon EC2	"Cannot SSH to a newly cloned Instance (Network error: Connection refused)
Availability Zone: Singapore (South-East Asia)
instance ID: i-8f5f9443
Appliance: TurnKey Linux (lamp-11.3-lucid-x86)
(I snapshot and create this instance from the original instance id: i-8f5f9443)

I received this message when I startup my newly cloned instance:
===
Snapshot launch: manual action required
This server contains configurations specific to the original snapshot server, and requires reconfiguration. Please log into this server (SSH or Webshell) as root, and execute the following:
/usr/lib/inithooks/firstboot.d/25ec2-userdata
===

The problem is I cannot SSH to it to perform the required command!

I've created a new user (userkey) on the original instance and put a key file in /home/userkey/.ssh/authorized_keys and successfully use this key to SSH (port changed to 2224) to the original instance before I snapshot and create a new instance from it.

But on the new instance, when SSH, I've received this message ""Network error: Connection refused"".  The status check is green with 2/2 checks.  When I use an online port scanner, all ports are closed, it seems like none of the services are up.

Any help or suggestion would be highly appreciated, I've been trying to fix it for many days already."
Amazon EC2	"Re: Cannot SSH to a newly cloned Instance (Network error: Connection refused)
What's the solution for this issue?
I just cloned a ec2 and created another ec2 using this Image and i can't SSH to the new instance that i created.
Please help.."
Amazon EC2	"Re: Cannot SSH to a newly cloned Instance (Network error: Connection refused)
Hi,

Check each of the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Instance automatically rebooted.
Team,

On March13th around 2:14 PST, the below instance is automatically rebooted, but none of us triggered the reboot commands and we count find any logs related to reboot. 

Instance ID : i-5fdc269d

But found the below status in the last command : 
reboot   system boot  3.10.48-55.140.a Wed May 13 14:13 - 15:43  (01:29)

Note : We haven't got any email related to scheduled event. 

Can anyone help us?

Regards,
Rishi"
Amazon EC2	"Re: Instance automatically rebooted.
Hello,

I can confirm that this instance rebooted due to a technical fault on the underlying physical host.

The host is now working normally so no further action is required at this time.

I apologize for the inconvenience caused.

Richard"
Amazon EC2	"Re: Instance automatically rebooted.
Thanks for the response Richard. 

But why there is no alert/update from AWS, How AWS will ensure this will not happen again?
This is our Production server.

~Rishi"
Amazon EC2	"Re: Instance automatically rebooted.
Hello,
problems can always occur to a single OS environment. 
If you need to ensure a stable production environment you need to design your application to run in a fault tolerant environment.
I would suggest you to review the AWS whitepaper documentation to setup properly a fault tolerant environment accordingly to your needs.
Thanks.
Adolfo."
Amazon EC2	"My EC2 instance has a Data Transfer Problem (Attacked by Spider?)
Hi
I'm a free user of EC2 in China,  I was keeping using an instance in Tokyo as a simple VPS server
In the last 16 hour or more, the data transferring is keeping so high
unusually number 1,500,000,000 bits/s, about 150M bytes/s. So it made me a
bill over $15 when I got the first billing alert at this morning .
I have tried to find the problem until I have to shut the instance. In the
mean time,my bill was keeping growing to $50 now .

I'd changed the config of SSHD service to skip the logging in  through PEM
key for using sftp as root easier yesterday.It's my bad,but I think the
Data transferring is so unusual cause of attack by the third party as some
spider or the other.
So what should I do for resolving this problem now?"
Amazon EC2	"unable to detach and delete volume  - no instances or AMI in the account.
Hi Team,

I am also having problem in deletion of the volume, it say's it is in use. However I dont have any instances or AMI associated with the account.

Delete volume button is disabled, force detach says it is in use.

The volume id is vol-b946f8d0 

Request your help in clearing this volume.

Thanks and regards
venkatesh"
Amazon EC2	"Re: unable to detach and delete volume  - no instances or AMI in the account.
Hello Venkatesh,

I have asked our EBS team to look into the issue that you are facing.
We will update you with details as soon as we hear back from them.

Have a good day.

Regards
Shiroy"
Amazon EC2	"Re: unable to detach and delete volume  - no instances or AMI in the account.
Hi venkatesh,

Just wanted to let you know we are still investigating.

Could you try using the AWS CLI to delete the volume?

Example here - http://docs.aws.amazon.com/cli/latest/reference/ec2/delete-volume.html

If you've never used the CLI before you can find the getting started guide here - http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html

Regards,

Rodney"
Amazon EC2	"Re: unable to detach and delete volume  - no instances or AMI in the account.
Good day Venkatesh

We have resolved the issue on our end. The volume is available and can be deleted.

Best Regards
Imthian R"
Amazon EC2	"I've accidentally deleted my default vpc  (US East)
Could someone please restore my default vpc in the US East (Virginia) region? Thanks."
Amazon EC2	"Re: I've accidentally deleted my default vpc  (US East)
Hello,

I've checked the account associate it with this forum username and I'm seeing the account is EC2-VPC which means it does not have Default VPC by default. More information can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-supported-platforms.html

Best Regards, 

Ahmed H."
Amazon EC2	"Re: I've accidentally deleted my default vpc  (US East)
If the account doesn't have default vpcs why was there one when I tried starting a machine at the Oregon site? Why is it I'm unable to connect to a micro instance in the East but have no problem doing so in the West?"
Amazon EC2	"Unable to view specific websites while on EC2 Instance
Good Afternoon,

We have a few clients that use EC2 instances for terminal services. We have found that certain websites just won't load while logged into the TS. Outside the TS on the local machine it works fine. We are have tested on multiple instances in different VPC's and different zones. All with the same results.

The main website in questions is http://www.austlii.edu.au. When you navigate to it within the TS you get the following error.

""Forbidden
You don't have permission to access / on this server.
Apache Server at www5.austlii.edu.au Port 80""

If anyone could shed some light on why this is happening it would be greatly appreciated.

Thanks

Simon
onPlatinum ICT

Edited by: onPlatinumICT on Feb 10, 2015 10:46 PM"
Amazon EC2	"Re: Unable to view specific websites while on EC2 Instance
Hello,

It seems like accessing that website directly through a web browser works OK for me but if I try to 'curl' it from an EC2 instance I get the 403 forbidden error. Are you able to examine the access logs for that website?  The website may be configured to reject traffic from certain browser User Agents or certain IP ranges. From the breadth of your testing and my own affirmation of the situation, this looks like it's an issue with the website in question rather than the EC2 side of things."
Amazon EC2	"Re: Unable to view specific websites while on EC2 Instance
Owner of website made changes an their end allowing connection from AWS services."
Amazon EC2	"Connectivity problem from internet to our EC2 servers
From the last 4 days we was experimented connectivy problems accessing to our web servers.  Trace and debug all the process in our servers, start new instances trying to discard wrong code or config in our servers, but the issue continue for a some minutes, and, after that time, all is normally again.

Today we experiment the same issue, and try to do another tests, stablishing the connection from four differents ISPs, and detect a pattern: when cant access to our sites, cant access too to any aws site.  aws console o forums aws are unaccesible.  After a few minutes (with a lot stress), the service  is accesible again, and can access normally to our servers and aws sites.  Is possible to that problem is related with the aws network infraestructure?  how can we confirm or discard that?.

When we experiment the issue, the network in and out monitor registry some peaks."
Amazon EC2	"Unable to connect my instance
Hi There ,

I am unable to connect my instance (i-b41c48bc). I tried connecting through SSH, http & https but connection timed out everytime. I restarted the instance from console but that also didnt help.

Can you please look into that ASAP.

Thanks."
Amazon EC2	"Re: Unable to connect my instance
Hello,

This instance appears to be passing it's health checks and running in a healthy state. Are you still having issues connecting?

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Unable to connect my instance
Yes, health check shows ""2/2 checks passed"" but still unable to connect. When I see at Amazon Management console > Actions > All the sub options like Start, Stop, Restart, System Log ..etc.

All are disable from console and machine status is same. I am still unable to connect plz help."
Amazon EC2	"Re: Unable to connect my instance
Hello,

 The instance is responding publicly on port 22 for SSH. What is the error message that you are seeing? How are you trying to connect to the instance? You can also use the -vvv flag while ssh'ing to shed some light on the issue. 

Best Regards, 

Ahmed H."
Amazon EC2	"How to terminate EC2 t2 micro free? Release EIP and terminate the instance?
How to terminate EC2 t2 micro free? 
Would like completely stop amazon ec2 t2 micro, still has some time left for 1 year free usage. Just release EIP and terminate the instance? Or need do more work? Thanks for help."
Amazon EC2	"Re: How to terminate EC2 t2 micro free? Release EIP and terminate the instance?
Hello,

To terminate an instance using the AWS Console:

1. Open the Amazon EC2 console.
2. In the navigation pane, click Instances.
3. Select the instance in question, click Actions, select Instance State, and then click Terminate.
4. Click Yes, Terminate when prompted for confirmation. 

More information can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html

To release an Elastic IP address using the console:

1. Open the Amazon EC2 console.
2. Choose Elastic IPs in the navigation pane.
3. Select the Elastic IP address, choose Release Address, and then Yes, Release when prompted.

More information can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-releasing

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Reset Default VPC Oregon
Can you please recreate my default VPC in Oregon. Thanks"
Amazon EC2	"Re: Reset Default VPC Oregon
Hello,

I've created a new default VPC in the US West (Oregon) region. This should now be available for any new resources you launch in this region.

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Windows 10 Upgrade?
Hi can you upgrade to windows 10 on ec2?, Last time I tried it the instance didn't respond or booted. I mean Windows 10 Pro, not the Server One.
I tried doing the UpgradeHelperService on the help menu from aws' upgrade guide here
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/serverupgrade.html

but Still the machine doesn't respond I checked the volume and saw that many of the files were deleted I have no clue why is there a way to update windows 10 safely and make it boot on aws?."
Amazon EC2	"Re: Windows 10 Upgrade?
Hello,

As of now we don't support a migration path to Windows 10 Pro on Amazon EC2.

Please keep your eyes on the AWS blog, and our website for announcements and releases:

http://aws.amazon.com/blogs/aws/
http://aws.amazon.com/about-aws/whats-new/

Best Regards, 

Ahmed H."
Amazon EC2	"Instance not reachable - cannot SSH, would like to retrieve files
Hello everyone!

Thanks for checking out my thread. Any help is greatly appreciated 

I've had an old EC2 instance that was unreachable, but since the site was being redeveloped, I didn't worry about it too much. Recently, I realized there were a few important files not backed up and present on this unreachable instance. 

I tried to stop this unreachable instance, detached the root device, and launched a new one with a new . This new one was reachable - but once I stopped it, detached the root device, and attached the root device (with files I want) from the unreachable one it was now unreachable upon reboot. So that didn't work 

I would really like to retrieve these files. Any suggestions on how to access the filesystem via ssh, or without ssh would be really handy. I just need to get in, grab some files, and get out!

Thank you for any help in advance!

All the best,
Chris Fuller"
Amazon EC2	"Re: Instance not reachable - cannot SSH, would like to retrieve files
Hello,

If you only need to recover the files from the volume you don't need to attach the broken volume as the root device. Instead attach the broken volume to a working instance in the same availability zone as a secondary volume and then attempt to mount the volume to the filesystem.

1. Launch temporary instance or use an instance in the same AZ as the volume
2. In the EC2 console select Volumes on the left and locate the volume
3. Select the volume and then right-click or use the Action button and Attach the volume to the instance. You can specify another device if you wish, generally the default value is sufficient
4. SSH to this instance and then mount the volume to the filesystem
$ sudo mount /dev/YOUR-DEVICE /YOUR-MOUNTPOINT


If the mount is successful then you can navigate to the correct location and gather your files. Once done:

1. Unmount the filesystem
$ cd; sudo umount /YOUR-MOUNTPOINT

2. Detach the volume from the instance using the EC2 console

Regards,
Brandon"
Amazon EC2	"Re: Instance not reachable - cannot SSH, would like to retrieve files
Hi Brandon,

This is very helpful, and made a lot of sense. Thank you! I'm learning my way around slowly but surely 

I did as instructed and created a new EC2 instance, attached the 'broken' volume to it, and then tried to mount. I got this error:
$ sudo mount /dev/sdf DEBUG-MOUNTPOINT
mount: /dev/xvdf is write-protected, mounting read-only
mount: wrong fs type, bad option, bad superblock on /dev/xvdf,
       missing codepage or helper program, or other error
 
       In some cases useful info is found in syslog - try
       dmesg | tail or so.""


So close! I assumed if it had mounted properly I could browse it easily. If you have any insight on this error, I'd greatly appreciate it 

EDIT: I have consulted Google, then found out my error was due to attempting to mount a partitioned volume. I typed:
$ sudo mount /dev/sdf1 /DEBUG_MOUNTPOINT

And it seems to have mounted! Let me poke around now and see if it works. Note the 1 after the /dev/sdf. This is because it was partitioned 

EDIT: It's all good! The mountpoint had restricted access for the ec2-user but I got in by typing 'sudo su'. Thank you again Brandon!

All the best,
Chris Fuller

Edited by: iProgramStuff on May 18, 2015 8:57 AM

Edited by: iProgramStuff on May 18, 2015 9:14 AM"
Amazon EC2	"Re: Instance not reachable - cannot SSH, would like to retrieve files
SUMMARY:
The solution was to create a working/SSH-able EC2 instance. Then to mount the 'broken' volume to it. That way I was able to SSH into the instance and browse the broken volume, without needing to SSH directly to the broken one"
Amazon EC2	"AWS Account Blocked
Hi, 

my Account is blocked. Could anyone help me? 
I already opened a ticket but without response yet: 1401126861

Thank you!!!"
Amazon EC2	"Re: AWS Account Blocked
Hello,

I have asked a member of the Account/Billing team to contact you regarding your account inquiry. They will reach out to you via the case shortly.

Best Regards, 

Ahmed H."
Amazon EC2	"EBS Snapshot Corruption?
Has anyone else experienced a situation where the contents of an EBS snapshot, when used to create a new volume for reading, demonstrably do not match the contents of the volume that was snapshotted?

I have a large encrypted (using AWS key management) volume with routine snapshots (all made with a quiesced filesystem/database) which has worked fine up until a few days ago; all snapshots made after a certain point are unusable due to assorted filesystem corruption issues, changes in the contents of totally static files like binaries, etc.

I've opened a support ticket on the specific volume in question but was wondering if this is a phenomenon anyone has ever experienced and whether there are particular risk factors (e.g. large volume, encrypted-ness, etc).

Thanks!"
Amazon EC2	"Re: EBS Snapshot Corruption?
Size will increase the chances that there is a problem just by virtue of more bytes to roll the MTBF dice.   Encryption could increase the blast-radius of any given corruption if the encryption block-size does not match the disk block size. 

EBS Snapshots are stored in S3 and are very reliable.  If you say snapshots after a certain point are corrupted I suspect more that the volume you are snapshotting has latent corruption. I suggest looking carefully at the originating volume  for corruption."
Amazon EC2	"Re: EBS Snapshot Corruption?
Thanks, Jason, for the thoughts. It makes sense both that size and encryption are risk factors to some extent.

I'd agree that the S3 storage ought to be very reliable, and also that if my underlying volume has corruption then we would of course have a ""garbage-in-garbage-out"" situation on the snapshots from some point forward. The troubling part, though, is that I can find no evidence of any problems on the source volume - all the files I have checked (including ones that are known to be corrupt in the snapshots) have their correct/original contents and, unlike in the snapshots where this is easy to reproduce, I have not been able to generate any I/O errors reading files -- again including ones that are bad in the snaps. Hence my pondering whether it's possible that some block(s) was miscopied in one particular snapshot on Friday and has then propagated forward due to the incremental nature thereafter.

Now, it could, I suppose, be the case that my XFS filesystem has some kind of problem that will only manifest if and when I were to remount the volume (clearly the snapshots do have to go through a mount process), and I could examine that further when dismounted using xfs_check etc. But of course that poses a bit of a problematic situation in that I currently have a working volume/mount, and if I do in fact have latent corruption on the volume that I discover via a dismount, I then have nothing since both the live volume and the snapshots would then be bad. I'd be interested in any suggestions about how to proceed from here without possibly making things worse.

Thanks!"
Amazon EC2	"Re: EBS Snapshot Corruption?
I suggest provisioning a new EBS volume and rsync'ing the existing content over. Watch carefully for IO read-errors while doing that. Then perhaps mount the volume and compare for diffs, and once you are certain you  have a good fallback position either swap to the 'good' volume or do the xfs_check on the bad volume.

Spelling"
Amazon EC2	"Re: EBS Snapshot Corruption?
I did end up doing this (rsyncing contents to a new volume) and switched my production workload off of the troublesome one. Interestingly enough, even after dismounting the volume, doing xfs_checks, etc, there remains absolutely no sign of corruption on the live volume, whereas any and all snapshots since that one date remain unusable.

I am now able to reproduce the following strange set of events:

1. Dismount/detach volume
2. Make new snapshot of volume (in detached state)
3. Make new volume from snapshot in step 2
4. Attach the original volume and the ""step 3 volume"" to an instance, don't mount filesystem
5. xfs_check on both devices. The original shows no errors, the ""step 3 volume"" does.

So I've gotten to a place where a resting/detached volume and a snapshot created from that simply don't match. Has anyone else seen anything like this?"
Amazon EC2	"Disk IO problems with m1.xlarge instance
Hi!

We are experiencing some problems with our instance with running CentOS 6 x64.

For example, hdparm shows the following results (xvde is 8GB system virtual disk).
[root@ip-172-31-4-88 ~]# hdparm -t /dev/xvde
 
/dev/xvde:
 Timing buffered disk reads:   6 MB in  4.96 seconds =   1.21 MB/sec
[root@ip-172-31-4-88 ~]# hdparm -t /dev/xvde
 
/dev/xvde:
 Timing buffered disk reads:   4 MB in  5.31 seconds = 771.50 kB/sec


At the same time hdparm running on another instance shows better results, like:
[root@ip-172-31-13-77 ~]# hdparm -t /dev/xvde
 
/dev/xvde:
 Timing buffered disk reads: 198 MB in  3.01 seconds =  65.67 MB/sec
[root@ip-172-31-13-77 ~]# hdparm -t /dev/xvde
 
/dev/xvde:
 Timing buffered disk reads: 158 MB in  3.03 seconds =  52.18 MB/sec


What can cause such problems?
Thanks a lot."
Amazon EC2	"Re: Disk IO problems with m1.xlarge instance
Hello,

The issue that you are facing might be because of the EBS volume running out of IO credits.

If the volume ran out of IO credits, the volume will be restricted to it's base performance of 3 IOPs/GB. In the case of a 8GB EBS volume, the volume gets an IOPs rate of 24 IOPs till it accumulate the IO credits. You can verify the same by looking the IOPs graphs associated with the EBS volume.

Once the IO credits are accumulated, the volume can burst upto 3000 IOPs till the volume finishes it's credits.

Regards
Shiroy"
Amazon EC2	"How to see attacker's IP address?
We are under attack by someone's DDOS attacks and I simply can't do anything about that. I'd like to see from which IP address i'm getting attacked? SO I can try blocking it off. I'm using Windows Server 2008 R2. Any help would be great as I'm really feel down because of this problem."
Amazon EC2	"ec2-import-instance from vmware fails: Status Code: 500; InternalError
I try to import vmware to ec2. I get this error:

Service.InternalError: An internal error has occurred (Service: AmazonEC2; Status Code: 500; Error Code: InternalError; Request ID: fa0655f9-d499-46f3-aa75-45854a8ede9b) 

Same command was used (without the verbose and monitor options a lot of times before successfully, so I would like to know was is causing the failure.

The command with verbose output:

/usr/lib/ec2/ec2-api-tools-1.7.3.2/bin/ec2-import-instance -o $akey -w $skey -O $akey -W $akey -a x86_64 -p Linux -t m3.large -z us-east-1a --region us-east-1 -b vmware2ec2-migration -f VMDK /new_portal_net_dir/PortalImages/Base\ Images/CentOS_7_Base_Image/CentOS_7_BaseImage-disk1.vmdk --monitor --verbose

Setting User-Agent to http://ec2-api-tools 1.7.3.2
Requesting volume size: 16 GB
2015-05-07 17:38:43,990 main DEBUG org.apache.http.wire  - >> ""HEAD / HTTP/1.1\r\n""
2015-05-07 17:38:43,992 main DEBUG org.apache.http.wire  - >> ""Host: vmware2ec2-migration.s3.amazonaws.com\r\n""
2015-05-07 17:38:43,993 main DEBUG org.apache.http.wire  - >> ""Authorization: AWS $akey:BbcZZjcr6dMq9zSOxqATm/ux2w0=\r\n""
2015-05-07 17:38:43,993 main DEBUG org.apache.http.wire  - >> ""User-Agent: aws-sdk-java/unknown-version Linux/3.8.0-22-generic Java_HotSpot(TM)_Server_VM/25.31-b07/1.8.0_31\r\n""
2015-05-07 17:38:43,993 main DEBUG org.apache.http.wire  - >> ""Date: Thu, 07 May 2015 14:38:43 GMT\r\n""
2015-05-07 17:38:43,993 main DEBUG org.apache.http.wire  - >> ""Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n""
2015-05-07 17:38:43,994 main DEBUG org.apache.http.wire  - >> ""Connection: Keep-Alive\r\n""
2015-05-07 17:38:43,994 main DEBUG org.apache.http.wire  - >> ""\r\n""
2015-05-07 17:38:44,143 main DEBUG org.apache.http.wire  - << ""HTTP/1.1 200 OK\r\n""
2015-05-07 17:38:44,145 main DEBUG org.apache.http.wire  - << ""x-amz-id-2: HQD1+Z+k4vD8cvbknClzSS3jRcGSRytOPUQAX9Z1k/scxt+MuhC9DpU1DSCyym2ZTzcaFXecqk0=\r\n""
2015-05-07 17:38:44,145 main DEBUG org.apache.http.wire  - << ""x-amz-request-id: 9776B0AB7A0D5D32\r\n""
2015-05-07 17:38:44,145 main DEBUG org.apache.http.wire  - << ""Date: Thu, 07 May 2015 14:38:45 GMT\r\n""
2015-05-07 17:38:44,146 main DEBUG org.apache.http.wire  - << ""Content-Type: application/xml\r\n""
2015-05-07 17:38:44,146 main DEBUG org.apache.http.wire  - << ""Transfer-Encoding: chunked\r\n""
2015-05-07 17:38:44,146 main DEBUG org.apache.http.wire  - << ""Server: AmazonS3\r\n""
2015-05-07 17:38:44,146 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:44,158 main DEBUG org.apache.http.wire  - >> ""GET /?location HTTP/1.1\r\n""
2015-05-07 17:38:44,158 main DEBUG org.apache.http.wire  - >> ""Host: vmware2ec2-migration.s3.amazonaws.com\r\n""
2015-05-07 17:38:44,158 main DEBUG org.apache.http.wire  - >> ""Authorization: AWS $akey:6SsaEH20Hj91I+cy9Q8tT8H7cUM=\r\n""
2015-05-07 17:38:44,158 main DEBUG org.apache.http.wire  - >> ""User-Agent: aws-sdk-java/unknown-version Linux/3.8.0-22-generic Java_HotSpot(TM)_Server_VM/25.31-b07/1.8.0_31\r\n""
2015-05-07 17:38:44,159 main DEBUG org.apache.http.wire  - >> ""Date: Thu, 07 May 2015 14:38:44 GMT\r\n""
2015-05-07 17:38:44,159 main DEBUG org.apache.http.wire  - >> ""Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n""
2015-05-07 17:38:44,159 main DEBUG org.apache.http.wire  - >> ""Connection: Keep-Alive\r\n""
2015-05-07 17:38:44,159 main DEBUG org.apache.http.wire  - >> ""\r\n""
2015-05-07 17:38:44,303 main DEBUG org.apache.http.wire  - << ""HTTP/1.1 200 OK\r\n""
2015-05-07 17:38:44,304 main DEBUG org.apache.http.wire  - << ""x-amz-id-2: MnGTa7AocWB1h0izXJfy3r3gNt+JdZdDNkxGaUDgWy2K+tzg1kG4VLIhFPtWordPDKD76N4+DYE=\r\n""
2015-05-07 17:38:44,304 main DEBUG org.apache.http.wire  - << ""x-amz-request-id: 2F6BCDCDA605AEA1\r\n""
2015-05-07 17:38:44,304 main DEBUG org.apache.http.wire  - << ""Date: Thu, 07 May 2015 14:38:45 GMT\r\n""
2015-05-07 17:38:44,305 main DEBUG org.apache.http.wire  - << ""Content-Type: application/xml\r\n""
2015-05-07 17:38:44,305 main DEBUG org.apache.http.wire  - << ""Transfer-Encoding: chunked\r\n""
2015-05-07 17:38:44,305 main DEBUG org.apache.http.wire  - << ""Server: AmazonS3\r\n""
2015-05-07 17:38:44,305 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:44,399 main DEBUG org.apache.http.wire  - << ""6c\r\n""
2015-05-07 17:38:44,399 main DEBUG org.apache.http.wire  - << ""<?xml version=""1.0"" encoding=""UTF-8""?>\n""
2015-05-07 17:38:44,400 main DEBUG org.apache.http.wire  - << ""<LocationConstraint xmlns=""http://s3.amazonaws.com/doc/2006-03-01/""/>""
2015-05-07 17:38:44,406 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:44,407 main DEBUG org.apache.http.wire  - << ""0\r\n""
2015-05-07 17:38:44,407 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:45,000 main DEBUG org.apache.http.wire  - >> ""POST / HTTP/1.1\r\n""
2015-05-07 17:38:45,001 main DEBUG org.apache.http.wire  - >> ""Host: ec2.us-east-1.amazonaws.com\r\n""
2015-05-07 17:38:45,001 main DEBUG org.apache.http.wire  - >> ""Authorization: AWS4-HMAC-SHA256 Credential=$akey/20150507/us-east-1/ec2/aws4_request, SignedHeaders=host;user-agent;x-amz-date, Signature=e078b7e80297298d8ba8bab1afec6d9cf5b8741adcb56cbb870f5ef56a66b5fb\r\n""
2015-05-07 17:38:45,001 main DEBUG org.apache.http.wire  - >> ""X-Amz-Date: 20150507T143844Z\r\n""
2015-05-07 17:38:45,002 main DEBUG org.apache.http.wire  - >> ""User-Agent: ec2-api-tools 1.7.3.2, aws-sdk-java/unknown-version Linux/3.8.0-22-generic Java_HotSpot(TM)_Server_VM/25.31-b07/1.8.0_31\r\n""
2015-05-07 17:38:45,002 main DEBUG org.apache.http.wire  - >> ""Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n""
2015-05-07 17:38:45,002 main DEBUG org.apache.http.wire  - >> ""Content-Length: 652\r\n""
2015-05-07 17:38:45,002 main DEBUG org.apache.http.wire  - >> ""Connection: Keep-Alive\r\n""
2015-05-07 17:38:45,003 main DEBUG org.apache.http.wire  - >> ""\r\n""
2015-05-07 17:38:45,004 main DEBUG org.apache.http.wire  - >> ""Action=ImportInstance&Version=2014-10-01&Description=%7BB%7B1%7DT%7B83%7D%7D&LaunchSpecification.Architecture=x86_64&LaunchSpecification.InstanceType=m3.large&LaunchSpecification.Placement.AvailabilityZone=us-east-1a&LaunchSpecification.Monitoring.Enabled=true&DiskImage.1.Image.Format=VMDK&DiskImage.1.Image.Bytes=1004588032&DiskImage.1.Image.ImportManifestUrl=https%3A%2F%2Fvmware2ec2-migration.s3.amazonaws.com%2Fdbfd5691-a19e-4cf8-9434-707d20b22aba%2FCentOS_7_BaseImage-disk1.vmdkmanifest.xml%3FAWSAccessKeyId%3D$akey%26Expires%3D1431614324%26Signature%3Dbay9CdyrC%252B5x9KwKoCIlyTlHPi8%253D&DiskImage.1.Volume.Size=16&Platform=Linux""
2015-05-07 17:38:45,535 main DEBUG org.apache.http.wire  - << ""HTTP/1.1 500 Internal Server Error\r\n""
2015-05-07 17:38:45,535 main DEBUG org.apache.http.wire  - << ""Transfer-Encoding: chunked\r\n""
2015-05-07 17:38:45,535 main DEBUG org.apache.http.wire  - << ""Date: Thu, 07 May 2015 14:38:45 GMT\r\n""
2015-05-07 17:38:45,535 main DEBUG org.apache.http.wire  - << ""Cneonction: close\r\n""
2015-05-07 17:38:45,536 main DEBUG org.apache.http.wire  - << ""Server: AmazonEC2\r\n""
2015-05-07 17:38:45,536 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:45,537 main DEBUG org.apache.http.wire  - << ""e2\r\n""
2015-05-07 17:38:45,537 main DEBUG org.apache.http.wire  - << ""<?xml version=""1.0"" encoding=""UTF-8""?>\n""
2015-05-07 17:38:45,537 main DEBUG org.apache.http.wire  - << ""<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>fa0655f9-d499-46f3-aa75-45854a8ede9b</RequestID></Response>""
2015-05-07 17:38:45,537 main DEBUG org.apache.http.wire  - << ""\r\n""
2015-05-07 17:38:45,538 main DEBUG org.apache.http.wire  - << ""0\r\n""
2015-05-07 17:38:45,538 main DEBUG org.apache.http.wire  - << ""\r\n""
Service.InternalError: An internal error has occurred (Service: AmazonEC2; Status Code: 500; Error Code: InternalError; Request ID: fa0655f9-d499-46f3-aa75-45854a8ede9b)
Request ID: fa0655f9-d499-46f3-aa75-45854a8ede9b"
Amazon EC2	"Re: ec2-import-instance from vmware fails: Status Code: 500; InternalError
Hello,

I have engaged our VM Import Service Team for this issue, we will update this forum post as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: ec2-import-instance from vmware fails: Status Code: 500; InternalError
Hello,

The VM Import Service Team has asked if you could please try import your VMDK again. They believe your problem was related to an internal issue, which has now been resolved.

Regards
Daniel"
Amazon EC2	"Re: ec2-import-instance from vmware fails: Status Code: 500; InternalError
The issue was indeed solved, and I managed to complete my task, without making any changes... Why does it happen? Can it be avoided somehow?"
Amazon EC2	"Linux server's SSH putty client not connecting
Hello All,
I have created a Instance in Oregon region, using  AWS Community AMI ""Fully Automated Nagios 2.3-i386 (ami-ee3eb7de)"" i have given a Key pair while launching  this instance. Now I have converted that .pem key to .ppk with the help of puttygen.exe and trying to SSH using this keys .PPK file but not able to login in the instance. it gives me ""Server refused our key"" error. 
iam attaching error snapshot in this ticket.

is there any predefined user name or password in this AMI  ""Fully Automated Nagios 2.3-i386 (ami-ee3eb7de)"" please help to login via putty."
Amazon EC2	"Instance Status Check Failing After Stopping & Starting Instance
I have one instance running on my EC2 implementation. This instance powers my web server. Prior to initiating any changes, both status checks were passing flawlessly.

After losing my admin password, I was attempting to follow the instructions for recovering the password. Part of those instructions include stopping the instance and starting a new one in its place. I stopped the instance and began the process of starting a new one, but gave up when I reached a prompt for key pair information (as I do not have the keyfile easily accessible). At this point, I decided the best course of action was to restart the instance, get my site back up, and tackle the password issue later.

Accordingly, I started the instance. Everything appeared to go smoothly, until the status checks finished initializing. The system status check passed, but the instance status check failed. I attempted to reboot the instance, but that did not resolve the situation. Next, I followed the trouble-shooting steps at https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html and tried to get a system log. Clicking ""Get System Log"" produces a popup with an empty black box. Since there were no errors listed, I had no idea how to proceed.

I tried stopping the instance and starting it again. This produced the same results as above: when the instance was back to running, the system status check passed and the instance status check failed. What can I do from here to resolve the issue and get my site back online?"
Amazon EC2	"Re: Instance Status Check Failing After Stopping & Starting Instance
I have no explanation as to how or why, but everything seems to be working again with the instance (and site).

Any tips on anything else I could have / should have done? Or on what could have caused the problem in the first place?

Edited by: iwiaws on May 17, 2015 11:43 PM"
Amazon EC2	"Unable to create EC2 instances
Hi, 

I am unable to create any EC2 instances. I am getting any error message as below,

This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions. Launching EC2 instance failed.

I tried contacting the given mail and also through ticket. But no response. Please help me. Thanks"
Amazon EC2	"Re: Unable to create EC2 instances
Hi,

I see that you have a support case opened regarding your account and accessing EC2. 

Case ID: 1401130621

I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Regards,

Luke H."
Amazon EC2	"You must sign up for Amazon EC2 before you can use the Amazon EC2 Console.
Hi
I have used the Amazon service for three months and paid for it. And today i enter in my account, chose EC2 and see this massage:

You must sign up for Amazon EC2 before you can use the Amazon EC2 Console.
It's quick and free to sign up, just click the button below.
What does in mean , support help me please...."
Amazon EC2	"Re: You must sign up for Amazon EC2 before you can use the Amazon EC2 Console.
Hi,

I see that you have a support case opened regarding the EC2 Service that you are unable to access. I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1401619271

Regards,

Luke H."
Amazon EC2	"Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Hi There, 

I've initiated a delete for the volume vol-c7717bd2 in EC2 Singapore Region but it has been stuck in the ""deleting"" state for many hours. 

Please help

Edited by: justinlusg on May 14, 2015 8:13 AM"
Amazon EC2	"Re: Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Hi There, 

can anybody help me with this?"
Amazon EC2	"Re: Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Hello,

We're looking into this. We'll update the thread when we have more info.

Kind regards,
Chris"
Amazon EC2	"Re: Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Thank you, Chris."
Amazon EC2	"Re: Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Hello,

We have been able to manually intervene and force the volume into a deleted state. Our apologies for for any trouble this caused. 

Regards,
Julian H."
Amazon EC2	"Re: Volume vol-c7717bd2 stuck in ""deleting"" for many hours
Thank you for resolve my issue"
Amazon EC2	"How to retrieve list of AWS AutoScalingGroups in Java filtered by a specifi
In AWS console, you can search for all autoscalinggroups and filter by a string if the name contains that string. Is it possible to do the same in Java?

I see that I can do the following through the Java API:
AmazonAutoScalingClient scalingClient = new AmazonAutoScalingClient(awsCredentials);
DescribeAutoScalingGroupsResult autoScalingGroups = scalingClient.describeAutoScalingGroups();

But, is there a way to say ""only return autoscalinggroups if name contains specified string"" ?

Thanks"
Amazon EC2	"powershell command to query instance status
I am trying to query status of a running instance by powershell Get-EC2InstanceStatus but not getting the desired output. I am able to achieve this by AWS command line tool for windows. any thoughts how can I do it by powershell...

C:\>aws ec2 describe-instance-status --instance-ids i-6c85ac91
INSTANCESTATUSES        us-east-1a      i-6c85ac91
INSTANCESTATE   16      running
INSTANCESTATUS  ok
DETAILS reachability    passed
SYSTEMSTATUS    ok
DETAILS reachability    passed

PS C:\Program Files (x86)\AWS Tools\PowerShell\AWSPowerShell> Get-EC2InstanceStatus i-6c85ac91

AvailabilityZone : us-east-1a
Events           : {}
InstanceId       : i-6c85ac91
InstanceState    : Amazon.EC2.Model.InstanceState
Status           : Amazon.EC2.Model.InstanceStatusSummary
SystemStatus     : Amazon.EC2.Model.InstanceStatusSummary"
Amazon EC2	"EC2 Stuck in stopping state
Hello Team,

   we tried to stop one of our instance  i-6962b640 but it  stuck in  ""stopping "" state  for more than 24 hrs. Even we tried to take image/snapshot of the instance ,but all our effort went in vain . we tried the following link ""http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html""  to fix this issue. It is an ubuntu instance and we figured out  disk error in log file . end_request: I/O error, dev xvda1, sector 163973824. 

Any way to recovery the instance without  data loss ? 

Thanks,
vijai k"
Amazon EC2	"Re: EC2 Stuck in stopping state
Hello Vijai,

I have reached out to our internal team to look into the issue that you are facing. We will update you the details through this forum post.

Regards
Shiroy"
Amazon EC2	"Re: EC2 Stuck in stopping state
Hi vijaik,

We are still investigating the issue with the host machine that is causing your instance from reaching a graceful stop. I would suggest trying to create a snapshot of your root volume (vol-e53599eb). Once the snapshot is completed you could create an image from said snapshot and launch a new instance from the image.

Creating snapshot - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html

Create image from snapshot - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#creating-launching-ami-from-snapshot

Regards,

Rodney"
Amazon EC2	"EC2: OLD INSTANCE REPLACES THE NEW ONE
Hi,

I terminated my account in april/15. I just returned and received my old credentials again. So, I installed a new instance, group, elastic ip and associated it to the new installed instance. Right after that, I installed mysql server, httpd, php, route 53, WP with success, etc...everything was working fine until yesterday.

But, today, I just reboot the system and guess what!? The old instance and it´s elastic ip replaced the new one and I lost everything that was done yesterday: Group, Elastic Ip, etc. But, I can access the new ""removed"" instance throught SSH normally. But I can´t see how to put it back.

How to solve this?"
Amazon EC2	"Re: EC2: OLD INSTANCE REPLACES THE NEW ONE
The problem resides just on REGION to choose."
Amazon EC2	"POP Server unreachable in EC2 instance
Hi We have setup a mail server in our ec2 instance and it has been sending and receiving mail for a while now.  However today it has stopped allowing me to connect to the mailboxes I have setup to collect mail.Telneting into the server, it connects then drops connection.  I have opened the required firewall ports and this has been working up until today.Any help is appreciated."
Amazon EC2	"Re: POP Server unreachable in EC2 instance
What a shame...no answer for your question...

Five years after you wrote that - I am here looking to correctly install pop mail server to my instance. The SMTP action must take place using SES, so, it´s not necessary to install it. But, I am not sure this will work here on AWS.

Edited by: webmasterbitart on May 17, 2015 9:04 AM"
Amazon EC2	"How to reduce the max virtal size of Ubuntu VM instance already imported to
Dear AWS Forum,

I import a .vmdk VM (ubuntu 12.04, 64 bits server) into AWS. its max virtual size is 50GB, but its actual size is about 20GB.

It is much appreciated if anyone can let me know the steps on how to reduce its max virtual size, say to 30GB, so can create its instance with minimum volume of 30GB.

Thank you very much."
Amazon EC2	"Instance status check fails
So apparently one of our instances fails an instance status check after multiple attempts to reboot and start-stop. Viewing system log gives me no output. Any pointers to what should I do? Will provide an instance ID when it's needed and asked for.

Edited by: klojniewski on May 5, 2015 1:32 AM"
Amazon EC2	"Re: Instance status check fails
Apparently either the almighty gods behind AWS' Engineering Team fixed the issue or it fixed itself. In any case, issue resolved."
Amazon EC2	"Re: Instance status check fails
I just had the same problem Here, 
""So apparently one of our instances fails an instance status check after multiple attempts to reboot and start-stop. Viewing system log gives me no output. Any pointers to what should I do? Will provide an instance ID when it's needed and asked for.
""""
Please helpppp me."
Amazon EC2	"Re: Instance status check fails
fixed itself aswell."
Amazon EC2	"default vpc
Can you please recreate my default VPC in N. Virginia. 
Thanks"
Amazon EC2	"Re: default vpc
Hi there, 

I have recreated your default VPC in the N.Virginia region. 

Kind regards, 
Belynda"
Amazon EC2	"Re: default vpc
Thank you!

I have another question:
I have no service running on N. Virginia servers and my cost daily increases.
Could you verify please.
Tks,"
Amazon EC2	"ALERT!  /dev/disk/by-label/cloudimg-rootfs does not exist.
I have patched two instances from 12.04 to 12.04.5, after rebooted, they won't be accessible anymore, the log shows:
ALERT!  /dev/disk/by-label/cloudimg-rootfs does not exist.  Dropping to a shell!
The two instances are i-fae90583 and i-66f5ea4a.

How to avoid it from happening again since I have a few similar instances that need to be patched?

Thanks
Sue"
Amazon EC2	"Re: ALERT!  /dev/disk/by-label/cloudimg-rootfs does not exist.
Hello,

Thanks for posting. This looks very similar to another forum post that I attempted to assist with, but it's unclear if this was resolved. Can you please look at the following thread and see if might help:

https://forums.aws.amazon.com/thread.jspa?messageID=566601

I would create an Image/AMI of your instance and operate on that before working on your production instances. Select the No Reboot option if you are concerned about the instance rebooting during this process.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

Regards,
Brandon"
Amazon EC2	"East-1b connectivity issues
We're suffering intermittent connectivity issues to our instance on East-1b. Earlier on, our site was down for a few hours, then mysteriously came back up. 

Now we're seeing the same problem. 

We're also getting ""Error establishing database connections"" on our site. 
We happened to be logged in via the terminal second time, and running top. Here's what was displaying when everything went dead. 


Instance ID: i-13363aef
Instance type c3.large"
Amazon EC2	"Re: East-1b connectivity issues
Hello,

Thanks for posting. I see the instance is not running at this time, but looking at the console/System Logs it appears you were running out of memory on the instance:

5192.468247 Out of memory: Kill process 5277 (mysqld) score 45 or sacrifice child

Reducing memory usage or moving to an instance type with more memory may be necessary.

Regards,
Brandon"
Amazon EC2	"issues in eu-west-1b?
Have had an instance (t2.micro/ i-4311fca7) get stuck (respond to pings but no more) - on reboot console log said that it was having i/o errors writing to journal. No indication of other issues from status checks, associated volume marked as fine. Ok, it had been running for >3300 hours without issue - assume some underlying h/w issue.

So stopped an re-started the instance - now it can't properly initialise. Going to try it again - I thought that stop/start cycle would get you different h/w?

UPDATE: got a bit further on the second reboot (console output got produced). However there is still signs of issues - the volume response times (vol-6cdae46b) are > 500ms - maybe some excessive congestion in the interconnect (numbers like that imply loss at the network level with recovery succeeding - eventually)

UPDATE: Disk i/o is still VERY SLOW - fsck took 15+mins, any i/o stuff (e.g. package upgrades) is very slow - system spending 95%+ waiting on i/o. Anyone else seeing such issues? (though it does look like the previous issues have drained the i/o credit on the volume)

UPDATE: SSD response time is still in >300-400ms range (x50-100 the usual for this volume - it also is varying dramatically over <10s timescales - iostat reporting between 150ms and (wait for it) 15seconds!! It is clear that the EBS subsystem is NOT sustaining the minimum IOPS for this volume, consistently getting a less than 90% of the minimum (which in this case would be 24 IOPS) - is dropping down to 8/9 IOPS per second when the response time peaks (8/9seconds for the corresponding case)

Edited by: Predictable Network Solutions on May 16, 2015 10:54 AM
Edited by: Predictable Network Solutions on May 16, 2015 11:07 AM
Edited by: Predictable Network Solutions on May 16, 2015 12:16 PM"
Amazon EC2	"Re: issues in eu-west-1b?
Hello,

Thanks for posting. I apologize for the issues you've encountered. I've investigated the instance i-4311fca7 and the EBS volume vol-6cdae46b. I see the instance and the underlying host the instance is running on are both marked healthy. CPU usage on the instance looks fine.

Looking at the EBS volume itself here is what I can see:

Starting on 05/16/2015 at 06:26 UTC there was a large increase in read operations sent to the volume. This lasted until 06:56 UTC. During this time you bursted to 3000 read IOPS and consumed your burst credits. Please see the following:

https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeReadOps~2015-05-16T05%3A01%3A02Z~2015-05-16T16%3A01%3A02Z~Average~300~VolumeId~vol-6cdae46b

I see the queue length and service time also increase after this, which is consistent with being throttled.

At this point you are still being throttled as your volume is still active with reads and writes:

https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeWriteOps~2015-05-16T05%3A01%3A02Z~2015-05-16T16%3A01%3A14Z~Average~300~VolumeId~vol-6cdae46b

Between the reads and writes your volume is not idle and when you do gain burst credits they are used. For example there was a period of idle time starting at 14:06 UTC that lasted for 30 minutes.

https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeIdleTime~2015-05-16T05%3A01%3A02Z~2015-05-16T16%3A01%3A24Z~Average~300~VolumeId~vol-6cdae46b

Then at 14:41 UTC you had another burst of reads to 163 IOPS which then depleted your credits. 

You can of course increase the size of this volume which will give you a higher baseline. You'll also accumulate credits faster with a larger volume. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_gp2

I also see that at one point you were running low on memory:

15211.817423 Out of memory: Kill process 23065 (java) score 250 or sacrifice child

Regards,
Brandon"
Amazon EC2	"vol-5bd79447 stuck in deleting
Hi AWS,

Volume vol-5bd79447 in the eu-west-1 region is stuck in deleting for a few days already. Can you forcefully delete it?

Thx."
Amazon EC2	"Re: vol-5bd79447 stuck in deleting
Hello,

I have engaged our EBS team to take a look at the issue that you are facing. We will update you the details via this forum post.

Regards
Shiroy"
Amazon EC2	"Re: vol-5bd79447 stuck in deleting
Hello,

I can confirm that now your volume vol-5bd79447 is correctly deleted.

Regards,
Giorgio"
Amazon EC2	"Regarding Enabling FTP server and getting ftp address for my instance
Hello Currently i am having two ec2 instance up and running on with amazon linux ami . i want to upload my website in aws. i had enabled apache tomcat 6 and done all necessary configuration to run it . now i want to write some data in file and for that purpose i need ftp address  which is in following format::

String uriString =
""ftp://user:password@ftp.abc.in/www/folderaddress/temp.txt"";

SO is there any provision in aws for solving this issue?"
Amazon EC2	"Cannot Connect to EC2
As of May 14, 2015 5:56am (EST) I can't access my EC2 via SSH after multiple reboots and manual stop & start. The instance status check failed (after being initialized for a long time). There was no change made to the instance since last time I was able to access."
Amazon EC2	"Re: Cannot Connect to EC2
Hi,

It looks like you have terminated the instance so im afraid there is no further assistance we can provide. If there is something we can do please let us know. 

Regards,
Julian H."
Amazon EC2	"Poor performance using ELB / HTTPS / Chome
Admittedly, our application is not efficient at loading the main page.  However, since I started using HTTPS with an elastic load balancer, using an unsigned certificate, the page load performance is slow.

http, takes about 3 seconds in chrome over http.

In https, it is 10-15 seconds.

Firefox performs fine with both.

So it could be a chrome issue. I don't know where to start debugging this. Any ideas?

Thanks"
Amazon EC2	"Re: Poor performance using ELB / HTTPS / Chome
The issue is unsigned certificates or self-signed certificates are slow in chrome.  Once I used a signed cert performance was fine.

Firefox has no such issue."
Amazon EC2	"EC2 Microsoft Windows server with no windows SDK
Hi,

 I have setup an EC2 instance with Microsoft Windows Server 2012. I was trying to deploy a WCF service and noticed that there was no SvcUtil.exe, i.e., in fact there is no bin directory under MicrosoftSDKs/windows/v8.0A. I would like to know how I can access SvcUtil on EC2 instance?
 The server is otherwise running fine hosting a dynamic website.

 Thanks."
Amazon EC2	"Re: EC2 Microsoft Windows server with no windows SDK
Moving thread to the EC2 forum."
Amazon EC2	"Forcely Stop doesn't work
Could someone stop this instance for me? Forcely stop didn't work on it.
i-ba0d1296

Thanks"
Amazon EC2	"Re: Forcely Stop doesn't work
Hi zoroBG,

I see that your EC2 instance i-ba0d1296 has successfully stopped.  I do apologize for the issue you encountered. If you have any questions or concerns, please do let us know, and we would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Security on port forwarding using ELB
Hi,

I have an ELB set up on port 80 that forwards to an application running on an EC2 instance on port 8060. This works fine BUT it seems like I have to have port 8060 open to the world in my security group in order to get this to work. There must be a way to do this more securely given both IPs are in the same subnet but I haven't figured it out yet.

Any ideas?

Thanks,
Tim"
Amazon EC2	"Re: Security on port forwarding using ELB
Whoops, sorry, realized I had already asked this and got an answer."
Amazon EC2	"Notepad++ cannot connect to EC2 Linux - Change of username or service not..
So I am trying to connect to my EC2 instance through Notepad++ and I keep getting this error:

SFTP Error during authentication: Received SSH_MSG_DISCONNECT: Change of username or service not allowed: (ec2-user,ssh-connection) -> (,ssh-connection)
Unable to connect

I have not seen this error before and I am not sure what the heck is going on. I would appreciate any help with this.

I am using the .pem version of my key."
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
Hello

From the error I see that you are trying to sftp to the instance from notepad++. Wonder if you are able to sftp by using other tool instead of the notepad++, such as winscp?

Kind regards
Tony"
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
Hi Tony,

Thanks for replying to my post. Yes, WinSCP is connecting without issues. I am not sure why notepad++ is not connecting correctly."
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
Hello, 

I was able to use the NppFTP plugin to SFTP connect to an EC2 instance without issues. I left all settings default but the following for a new profile: 

Under the connection tab: 
Hostname -> IP Of Instance
Connection Type -> SFTP
Port -> 22
Username -> ec2-user

Under the Authentication tab: 
""Try password authentication"" -> Unchecked
""Try private key authentication"" -> Checked
""Private Key File:"" -> Select the .pem private key of the instance

Everything else I left blank and was able to SFTP to instance via Notepad++ without issues. 

Regards,
Nick"
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
Thank you very much. I didn't even try to put ""ec2-user"" in the username field since I already used ec2-user@...... for the hostname. This worked perfectly."
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
Great news 

Please let us know if you need anything else.

Richard"
Amazon EC2	"Re: Notepad++ cannot connect to EC2 Linux - Change of username or service not..
I am having the same problems with Notepad++ and NppFTP.  The only difference in my setup is that I am not using the default ec2-user login, but a new user I created.  I am able to ssh with PuTTY and sftp with FileZilla, but NppFTP in Notepad++ gives me the following error:
Connecting
[SFTP] Host key accepted
[SFTP] Error during authentication: Access denied. Authentication that can continue: publickey
Unable to connect
Disconnected

I've tried all sorts of key files including an id_rsa file created by ssh-keygen and a .ppk created from it with puttygen.  Any suggestions?"
Amazon EC2	"HTTPS lost connection
Hi,

Could somebody have idea why this happens:

I have LAMP stack (bitnami drupal 7.37 and PHP 5.4.39) on Amazon EC2.
I run Drupal multisite on HTTPS and I use ELB and RDS. 
I have installed SSL certs on Apache and Load balancer (also added the chain SSL). 

The problem is that the browser shows a message: ""connection lost"" when browsing the site normally. This happens like after every 100-page refresh's (about). So mostly the site is working but time to time comes ""connection lost"" and after that the page loads again and functions normally.  
I have another stack where this same configuration is working, and can't find the setting what could be different. The only difference between the working version and this is older PHP 5.4.33 version, but that should not be the cause of the problem..."
Amazon EC2	"Cluster of Databases running on EC2 !
Hello,
Can some let me know how do I create a cluster of Databases running on EC2 ? And also, how to automate the backup of it without disturbing primary instance and it should have the latest info.

Edited by: cloudops3k on May 15, 2015 8:11 PM"
Amazon EC2	"ec2 instance not responding
Hi,
My EC2 instance is no longer responding: the websites it hosts are down, and I cannot connect with  ssh either.
I tried rebooting the instance and no change..
EC2 Support, please take a look.
The EC2 Instance ID is: i-3700df3a

Thank you,"
Amazon EC2	"Re: ec2 instance not responding
Hello,

I took a look at your instance and from the console messages, it seems that your instance is running out of memory.

From the console logs:
[4408630.039100] Out of memory: Kill process 14495 (httpd) score 57 or sacrifice child
[4408630.042641] Killed process 14495 (httpd) total-vm:561344kB, anon-rss:57452kB, file-rss:0kB
[4576902.987732] Setting capacity to 0


You can try to reboot your instance to bring it back online. But, if you are encountering out of memory issues again, I would suggest you upgrade your instance type which matches your requirement.

Regards
Shiroy"
Amazon EC2	"Re: ec2 instance not responding
Thank you Shiroy..
Can I use the same instance and increase the memory? If so, where could I do it?

Thank you,"
Amazon EC2	"Re: ec2 instance not responding
Hello,
You should be able to resize your existing instance. You can refer to our following documentation to understand how to do this: Resizing an Amazon EBS–backed Instance

Please keep in mind that the pricing of the instance varies as per the instance type you choose. You can review the pricing for each instance type before you finalize the instance type of your choice - Amazon EC2 Pricing

Since you are using an HVM based AMI, you can only resize your instance to a type which supports HVM. More details about this can be found here:

Linux AMI Virtualization Types
Amazon Linux AMI Instance Type Matrix


Regards
Shiroy"
Amazon EC2	"Best practice? Blocked DNS queries routed through shared EC2 DNS server
We're running a company mail server on a VPC instance.  One of the things it does is run SpamAssassin, which uses DNS queries to a service like URIBL.com to determine whether the content of a given message is spammy.

Our instance uses the default VPC DNS server assigned via DHCP, which in turn routes queries through some Amazon-managed and presumably shared DNS server running elsewhere within EC2.
URIBL has blocked queries from that Amazon-managed DNS server, presumably because of volume, or abuse, or both.

So, our options seem to be:

1) Run a private DNS server on the instance, which will issues DNS queries originating from the Elastic IP associated with it instead of from the Amazon-managed DNS server.  Downside: we lose the advantage of DNS query caching and internal resolution being performed by that Amazon DNS server.

2) Stop querying the URIBL service in SpamAssassin.

3) Work with Amazon to chip in for the purchase of high-volume access to the URIBL data feed for Amazon-owned IP addresses so that everyone on EC2 can use URIBL without worrying about being blocked.

Are there other options I'm not thinking of?  Any recommendations for best practices here?

Thanks,
Chris"
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
Hello,

An interesting question.

You could potentially run your own DNS server on the instance and route traffic to the AWS provided server unless the request goes to URIBL. That would likely require a little code hacking, but it should be doable...

Richard"
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
@Richard, Sorry to resurrect an old thread, but I don't think running my own nameserver on an EC2 instance will work. I tried doing a test query specifying a uribl mirror DNS and it still refused my query:

% host -tTXT test.uribl.com.multi.uribl.com ff.uribl.com
Using domain server:
Name: ff.uribl.com
Address: 23.21.128.205#53
Aliases: 

test.uribl.com.multi.uribl.com descriptive text ""127.0.0.1 -> Query Refused. See http://uribl.com/refused.shtml for more information [Your DNS IP: XXX.XXX.XXX.XXX]""

(My EIP removed for privacy.) So, who do we ask to get AWS to supply a uribl service? This is a deal breaker for me."
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
I have the same problem. URIBL queries are being refused from Amazon's DNS resolver IP address as well as both the EIP addresses I am using.

Did anyone  find a solution to this problem?"
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
Same here. I have set up a caching DNS server on my micro instance with a very low volume of emails and lookups, and URIBL is still refusing my queries. Did they block all of AWS? That seems extremely heavy handed. I have emailed them, but suspect they don't have the resources to deal with individuals.

$ host -tTXT 2.0.0.127.multi.uribl.com
2.0.0.127.multi.uribl.com descriptive text ""127.0.0.1 -> Query Refused. See http://uribl.com/refused.shtml for more information Your DNS IP: xxx""

The response contains my elastic IP."
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
Found this old thread:
https://forums.aws.amazon.com/thread.jspa?messageID=128047&#128047

We'll see if I get a response to my email..."
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
Any message from URIBL? Here is more information why Amazon EC2 is blocked:

http://uribl.com/datafeed_faq.shtml

The mentioned ""discounted Datafeed over DNS rates"" for cloud hosted low-volume users (1000 messages per day or less) is still 120 $ per year."
Amazon EC2	"Re: Best practice? Blocked DNS queries routed through shared EC2 DNS server
Same problem here.  Any solutions?

Would love some input from AWS."
Amazon EC2	"Please open our ""throttling""
IMPORTANT: Our main internet connection at our office got cut this week when a manhole exploded outside our office.

What we did: Used a ""Free tier"" Ubuntu EC2 server to act as a relay to just send important mail to Gmail. 

PROBLEM: You are throttling the service so that mail can't get delivered.

Please unblock it. This mail has to get delivered. Thank you."
Amazon EC2	"Re: Please open our ""throttling""
Hello,

 In order to maintain the quality of EC2 addresses for sending email, we enforce default limits on the amount of email that can be sent from EC2 accounts. If you wish to send larger amounts of email from EC2, you can apply to have these limits removed from your account by filling out this form.

Regards
Shiroy"
Amazon EC2	"CentOS 6.5 not booting, shows status check 1/2
Hello AWS,

I launched autoscaling for my client and I see the instance created from my AMI CentOS6.5 isn't booting up, it struck at 1/2 in status check, can you please help fixing it ?"
Amazon EC2	"Re: CentOS 6.5 not booting, shows status check 1/2
Hello,
The instance status check failure indicates that there is some issue with the instance (or may the custom AMI that you have created) which is preventing the instance from responding to the status checks. 
If you are launching the instance using the auto-scaling group, the auto-scaling group would terminate the instance automatically since the instance is failing health checks.

I would recommend you to launch an instance separately using the same AMI mentioned in your launch configuration and check if the instance is able to boot successfully. If the instance is failing to pass the status checks, look at the instance's console log for more details.

I did check your account and could find an instance which is failing status checks 1/2. Looking at the instnace console logs, I could see the following:
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: | Device | Up | Address | Mask | Hw-Address |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: | lo | True | 127.0.0.1 | 255.0.0.0 | . |
 
ci-info: | eth1 | False | . | . | 0e:a0:45:f4:d3:95 |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
2015-05-15 12:24:18,660 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [0/120s]: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: [Errno 101] Network is unreachable)]


This indicates that your instance's network is not initialized properly. You would need to fix this by attaching the root volume of your instance to any other working Linux instance as a data volume, mount it and fix the configuration errros. Once fixed back, you can attach back the volume to your actual instance as root volume and verify if everything works as expected. Once that is confirmed, you can create a new AMI and update your auto-scaling group with a new launch configuration which uses the newly created error free AMI.

Regards
Shiroy"
Amazon EC2	"Lost connection to my SQL Server database
All of a sudden I have lost the ability to connect from my EC2 server to the SQL Server database  (timeout expired)

What is the best/fasted way to get this resolved ?"
Amazon EC2	"All Outbound SMTP traffic is slow and usually times out
Starting yesterday at around 14:00 my maillog started filling with messages like this:

Apr 16 00:48:11 ip-172-31-11-211 sendmail27827: t3FD1tiE024977: to=xxxxxxx@gmail.com, delay=15:46:15, xdelay=00:00:00, mailer=esmtp, pri=948101, relay=alt4.gmail-smtp-in.l.google.com., dsn=4.0.0, stat=Deferred: Connection timed out with alt4.gmail-smtp-in.l.google.com.

I tried telnetting to alt4.gmail-smtp-in.l.google.com port 25 and that times out, too. (Although occasionally I do get a connection. Maybe one in ten attempts)

I checked my outbound rules and everything is open.

When I attempt to telnet to that gmail server from anything outside of the amazon network, I get an almost instantaneous connection. (I've tried from several locations). 

From my server that times out, I am able to traceroute to the server. The traceroute is fast.

I also tried OTHER mail servers from my EC2. They timeout as well.  

Then I tested outbound from my EC2 to www.google.com:80. That was instantaneous.  The problem appears to be limited to outbound smtp.

So: ALL smtp traffic from my EC2 server times out most of the time. The problem started yesterday afternoon. It doesn't appear to be an issue with my EC2 server. It also doesn't appear to be a problem with the smtp server at the other end.

What's going on?"
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
This is still a problem:

Pom # telnet alt4.gmail-smtp-in.l.google.com 25
Trying 74.125.141.26...
telnet: connect to address 74.125.141.26: Connection timed out
Trying 2607:f8b0:400c:c06::1a...
telnet: connect to address 2607:f8b0:400c:c06::1a: Network is unreachable

I need to get this resolved and the problem doesn't appear to be an issue on my server.  Other outbound works just fine: 

Pom # telnet alt4.gmail-smtp-in.l.google.com 25
Trying 74.125.141.26...
telnet: connect to address 74.125.141.26: Connection timed out
Trying 2607:f8b0:400c:c06::1a...
telnet: connect to address 2607:f8b0:400c:c06::1a: Network is unreachable
Pom # telnet www.google.com 80                   
Trying 216.58.216.132...
Connected to www.google.com.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.0 200 OK"
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
I just performed an experiment. I brought up a new server:
Public IP   52.10.102.173
Private IPs 172.31.1.92

And I can do outbound SMTP just fine from there:

New # telnet alt1.gmail-smtp-in.l.google.com 25
Trying 173.194.74.26...
Connected to alt1.gmail-smtp-in.l.google.com.
Escape character is '^]'.
220 mx.google.com ESMTP c80si11774078ioc.41 - gsmtp
quit
221 2.0.0 closing connection c80si11774078ioc.41 - gsmtp
Connection closed by foreign host.

Summary:

This server CANNOT initiate outbound SMTP connections:
Private IPs  172.31.11.211
Public IP  54.69.60.184

This server CAN initiate outbound SMTP connections:
Public IP   52.10.102.173
Private IPs 172.31.1.92

The second is a CLONE of the first with the same security groups applied."
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
/me pounds head on desk

So yesterday I decided to just clone and relaunch my system to ""fix"" this problem.

New Private IP:  172.31.34.131
New Public IP:  52.11.204.181

And for much of yesterday, life was grand. It was able to quickly reach external mail servers. This morning? Not so much:

Pom $ telnet gmail-smtp-in.l.google.com 25
Trying 74.125.28.27...
^[[Ctelnet: connect to address 74.125.28.27: Connection timed out
Trying 2001:4860:400b:c01::1b...
telnet: connect to address 2001:4860:400b:c01::1b: Network is unreachable

Does anyone else have this problem? I can't keep moving my server on a daily basis...."
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
Hi there JoeDog,

What you are describing sounds very much like the result of the default limitations on output SMTP. These limitations are put in place by default to maintain the sending quality of EC2 addresses.

To resolve the issue please fill out the details in the below form

https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

Once this is approved and processed you will find that the connections from the old instance will improve to what you expect to see.

Regards,
Quim."
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
Gave details on EC2 default restriction and form to remove"
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
Quim,

Thanks for the reply. 

I moved my mail to gmail and all this mailer does is forward our messages to gmail. It also uses authenticated SMTP relaying. (GMail logs in to forward our messages). Since only authenticated users could relay and since gmail was filtering our spam, I removed spamassassin. (This server is undermanned) 

Well, we got joe-jobbed and the server was backscattering. I reinstalled spamassassin which protects against backscattering and all is well now. 

Jeff"
Amazon EC2	"Re: All Outbound SMTP traffic is slow and usually times out
We filled out the form yesterday and need the ports opened, please! We had our office connection go down and need this little ""forwarder"" using postfix to work for the next couple of days. PLEASE open the ports, I had no idea they weren't already open. Thank you.

Also: We too are ONLY using this to forward the emails to GMAIL. Thank you, this is very very important.

Edited by: aeppm6k on May 15, 2015 3:15 AM"
Amazon EC2	"No longer able to ssh to EC2: port 22: Operation timed out
It was fine until a few days ago, but I can no longer ssh to my instances:
i-71a34969
i-6ba94373

Here's the output of ssh:
ssh -vvv -i ****** ec2-user@*********
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ********* http://54.178.134.173 port 22.
debug1: connect to address 54.178.134.173 port 22: Operation timed out
ssh: connect to host ********* port 22: Operation timed out

One of those instance is a web server and I can normally access the web server.
Any idea?

Thanks,

Purbo"
Amazon EC2	"Re: No longer able to ssh to EC2: port 22: Operation timed out
Hello Purbo,

I did check your instance and they both are looking healthy passing 2/2 health checks.

I did notice that your security group configuration is only allowing SSH connections from 2 specific IP sources.
Could you please check and confirm that you are trying to SSH to your instances from those sources?

Regards
Shiroy"
Amazon EC2	"Re: No longer able to ssh to EC2: port 22: Operation timed out
Aaaaah, I see. Sorry about that. Thank you!"
Amazon EC2	"change php version from 5.6.8 to 5.6.9RC1
Hi, 

I'm using EC2 t2.micro to test twitter streaming. The php version installed is 5.6.8. There is a bug in 5.6.8 which causes high CPU usage when reading open empty streams. Links below:

https://github.com/fennb/phirehose/issues/83#issuecomment-101971405 
https://bugs.php.net/bug.php?id=69402 
https://bugs.php.net/bug.php?id=69428 

It seems this has been fixed in 5.6.9RC1 version. 
https://github.com/php/php-src/blob/php-5.6.9RC1/NEWS

I want to change my php version to 5.6.9RC1 by downloading the zip  https://github.com/php/php-src 

From AWS documentation, I know how to download and install wordpress and move it to a specific folder. I don't know how to do this for php. All I know is that we have to remove the previous version and install desired version. If there's a package for 5.6.9, it will be easy. But is there one?

Please do help me. My ec2 instance CPU Utilization credits have been exhausted due to this bug. 

Thanks in advance.
Vishy"
Amazon EC2	"Instance ""Stopping"" for past 24 hours, tried multiple forced stops...no go
My instance (i-1c735a7c) was not responsive, a restart did not fix it.  I'm attempting to stop/start it to bring it up on new hardware, but it is still in a ""stopping"" state.

I've tried multiple forced-stops, but it is not stopping.

Please advise."
Amazon EC2	"Re: Instance ""Stopping"" for past 24 hours, tried multiple forced stops...no go
Hello,

Instance i-1c735a7c is now in the ""stopped"" state. Apologies for the frustration and inconvenience this may have caused!

Kind regards,
Chris"
Amazon EC2	"Volume vol-8cd17682 stuck on 'Deleting'
hi, 

The volume vol-8cd17682 (Singapore) has been stuck in the 'Deleting' state for several hours now... I'd appreciate if AWS tech can delete it for good. thanks in advance!"
Amazon EC2	"Re: Volume vol-8cd17682 stuck on 'Deleting'
Hi there, 

I have asked engineering to take a look at the volume. As soon as we have an udpate we will let you know via the forum post here. 

Kind regards, 
Belynda"
Amazon EC2	"Re: Volume vol-8cd17682 stuck on 'Deleting'
thanks.. still waiting for feedback."
Amazon EC2	"Re: Volume vol-8cd17682 stuck on 'Deleting'
volume has been deleted thanks!"
Amazon EC2	"Re: Volume vol-8cd17682 stuck on 'Deleting'
Glad to help! Please let us know if you run into any further problems.

Kind regards,
Chris"
Amazon EC2	"EC2 Instance failing Status Checks
Our EC2 instance (i-23daa6df) failed a status check this morning and we are no longer able to RDP into the instance.  We have tried rebooting multiple times but this has not solved the problem."
Amazon EC2	"Re: EC2 Instance failing Status Checks
Hi,

Do you have any data on the instance store? if not then you could try stopping and restarting.  By doing so there is the chance that the instance will fire up on another piece of physical hardware within AWS infrastructure, performing a reboot would not do this and would continue to boot on hardware that is potentially causing you to have these issues.

Please remember though that if you have any data on the instance store then this data WILL be lost by doing this.  

Dont forget to Snapshot as a backup! 

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 Instance failing Status Checks
This started happening to my T2 instances as well running Ubuntu 14.04.  T1s are not affected.  Some seem to recover on their own but it will take some time after a stop/start cycle.  A side note is that these agents are running as Monitoring Agents and some send network statistics such as MTU to a controller.  They are returning AWS MTU of 9100 bytes which we suspect is causing some issues with the data collection service.  At this time I only have a few instances down most are back online but given the forum posts it's not isolated to my instances."
Amazon EC2	"EC2 Intance Stuck ""Pending""
Hello,

I am trying to delete an EC2 instance (i-54349ea3), but it is stuck in ""Pending"" mode. I've tried all of the fixes in the documentation, but can't seem to get it to stop. Any help deleting it would be very appreciated. Thank you."
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi there, 

The instance appears to have been terminated successfully now. 

Should you still need further help, please do let me know. 

Kind regards,
Belynda"
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi, thank you for your help.

The instance appears to be gone, but my OpsWorks continues to show it as Pending. I've tried everything I know of from the command line, logged out and back in, etc., and I can't figure out what's going on."
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi there, 

Apologies, I assumed you were directly mentioning an EC2 instance here, and not an opsworks stack. 

I've tracked down the instance and found the stack that is showing as pending. I've requested that engineering take a look at the stack, and as soon we have further information we will update the forums post. 

Kind regards, 
Belynda"
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
I'm sorry, I should have been clearer. Thank you for sending it on."
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi,

The state of the instance is now stopped on your ops-work stack. 

Hope this helps.

Thank you,
Varun"
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi Varun,

The instance finally did stop, but when I went to delete it, it got stuck in the stopping phase. Is there any way you can just delete the instance completely?

Edited by: Daniel D. Schatz on May 12, 2015 5:11 PM"
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi,

The instance looks terminated. Where are you seeing it as 'Stopping' ? Can you send us a screenshot please? 

Regards,
Julian H."
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
I agree. I'm not sure what's going on."
Amazon EC2	"Re: EC2 Intance Stuck ""Pending""
Hi,

We have manually intervened and forced the instance to stop. Any problems please let us know. 

Regards,
Julian H."
Amazon EC2	"Connection refused on a running instance (Running since 4 months)
My instance (i-8265e673) has been running for 4 months and now suddenly it has started acting weirdly

In the AWS console, it shows that the instance is ""running"" with 2/2 status checks passed

But when I try to ssh into it, I get Connection Refused.

I Rebooted the instance in hoped of rectifying the issue to no avail.

Please help

Edited by: spicavigo on May 14, 2015 12:51 AM"
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
Hi,

A few things to double check:

1.  Check to ensure the Security Group the instance belongs to has not changed to prevent SSH
2.  Check to ensure no Network ACLs have been updated to prevent SSH or the IP address/CIDR block you are trying to connect from to this instance
3.  Check to make sure you still have your Internet gateway associated with your VPC
4.  Check to ensure you still have a route in the instance subnet to the outside world of 0.0.0.0/0 via the IGW

Cheers,

Stooby..."
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
I created a new instance using a snapshot from current one. It has the same issue (I double checked the security group settings).

Second, I launched a new instance backed by the Amazon Linux image. It did not allow me to connect based on my pem file (Permission denied).

I am at a loss here."
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
This is ridiculous.

Even after multiple restarts, I was not able to connect to the instance. Finally, I created a new one using the same image I used for the running one and that worked fine.

And to clarify, I had not sshed into the running machine for over a week. I had not even visited the AWS console for a long time.

Its sad to see that Amazon has no interest in helping its customers and makes me wonder if perhaps Google or Rackspace or someone else would be a better choice for me."
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
Hi,

I am sorry for the experience you had due to the issue.

I took a look at the instance ""i-8265e673"". The instance seems to have been terminated. Due to this we do not have any ability to look deeper to investigate the issue. 

The cloudwatch graph for CPU utilizations shows that the CPU for this instance was spiking to 100%. There was very low network IN and  Network OUT during this time. This looks like any application or process running on the instance was consuming high CPU.

Also the console logs shows that an error occurred while mounting.

Like I said, since the instance has been terminated, we cannot investigate more into this. 

Hope this helps.

Thank you,
Varun"
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
I'm having a similar problem in N Virginia.  I've used the same instance/security rules/etc for over a year now no problems.  Up to last night putty and sftp were both working fine.  I can connect to my instance (i-1e3c5b63) using http but putty (SSH) and sftp are both failing as of this afternoon.  I have no idea what is going on.  I've already rebooted the instance to no avail.

Do security keys expire?

Peter"
Amazon EC2	"Re: Connection refused on a running instance (Running since 4 months)
Never mind; I think my provider changed my public IP address and it was failing an inbound security rule."
Amazon EC2	"Default VPC Restore in N. Virginia
Hi, Can you please help restore my default VPC in US East (N. Virginia)? Thanks!"
Amazon EC2	"Re: Default VPC Restore in N. Virginia
Hello,

Thank you for the post. 

If you have deleted your default VPC and want it to be restored, we would need your AWS account ID. Please send me your AWS Account ID via the private message(PM). 

Regards,
Varun"
Amazon EC2	"Re: Default VPC Restore in N. Virginia
Hello Varun,

I sent via private message

Edited by: RodZappa on May 14, 2015 2:31 PM

Edited by: RodZappa on May 14, 2015 2:36 PM"
Amazon EC2	"Re: Default VPC Restore in N. Virginia
Hi,

Thank you for sharing the info via the PM. I took a look at your AWS Account for the N.Virginia region. 

The N.Virginia region under your account supports the EC2 Classic Platform. The EC2 Classic platform does not have a default VPC. You can launch into EC2-Classic using the launch wizard by selecting Launch into EC2-Classic from the Network list. To launch into a VPC, you can select a VPC from the Network list, and a subnet from the Subnet list. 

The EC2-VPC platform consists of a default VPC and you cannot launch instances in the EC2 Classic network. We can restore the default VPC under this platform, if you have deleted the existing default VPC. 

The followings links may be useful - 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-supported-platforms.html
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/default-vpc.html#detecting-platform

Thanks,
Varun"
Amazon EC2	"Re: Default VPC Restore in N. Virginia
I deleted the default VPC.
Please, restore it."
Amazon EC2	"Re: Default VPC Restore in N. Virginia
Hi,

I am sorry I was not more clear in my previous post. 

Under your account, N.Virginia region does not consist of a default VPC. This is because it supports EC2 Classic platform. Hence there is no default VPC ever in EC2 classic platform. We neither can create a default VPC in this platform.

Hope this helps,
Varun"
Amazon EC2	"Can NOT stop or force stop for instance?  stuck stopping for ever
My Instance ID i-086958df got stuck while stopping the instance. Force stop also didnt help. Tried Force stopping twice in succession, and even that didnt help. This is high priority and would prefer getting solved at the earliest.

please help"
Amazon EC2	"Re: Can NOT stop or force stop for instance?  stuck stopping for ever
Hi,

Thank you for the post. 

The ""i-086958df"" is currently stopped. 

Regards,
Varun"
Amazon EC2	"Detailed of DataTransfer Costs
Hi,

I wanna to know the amount of my DataTransfer cost by ec2-instance.

We have 7 ec2- instances, and +- 2T DataTransfer/monthly. How can i see how much of this amount is consumed by each instance.

Edited by: rafaellda on Jan 19, 2015 11:44 AM"
Amazon EC2	"Re: Detailed of DataTransfer Costs
You will need to use the billing report, ""aws-billing-detailed-line-items-with-resources-and-tags"". You can then do a group by based on 'ProductName', 'UsageType', 'ResourceId'. That should give you usage and cost by each resource. Keep in mind there will probably be different charges, ec2-> web and ec2-> AZ."
Amazon EC2	"Join your EC2 Windows instances to an AWS Directory Service domain
You can now seamlessly join your Amazon EC2 for Microsoft Windows Server instances to a domain that you have configured with AWS Directory Service. Join an instance to an existing, on-premises Active Directory using AD Connector, or a stand-alone Simple AD directory running in the AWS Cloud. Configure this new feature using the AWS Management Console or the EC2 API. When you launch a new instance you can choose the domain you wish the instance to join.  You can also automatically join existing instances to a domain. Learn more at http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-configuration-manage.html.  Domain Join is just one of a number of features provided by the newest version of EC2Config.  It can run PowerShell scripts, configure your CloudWatch logs, and install, repair or uninstall your MSI packages.  

This feature is available now in the US East (Northern Virginia) region.  Click here to learn more: https://docs.aws.amazon.com/ssm/latest/APIReference/Welcome.html

Edited by: NikoP@AWS on Feb 17, 2015 12:22 PM"
Amazon EC2	"Re: Join your EC2 Windows instances to an AWS Directory Service domain
So how do you join an EC2 windows instance to a domain if you are not in US East (Northern Virginia) region?"
Amazon EC2	"Re: Join your EC2 Windows instances to an AWS Directory Service domain
Hello, at the moment this service is only available in the US East region so you can't join instances to an AWS Directory Service domain in other regions.  We are considering expanding to other regions in the near future so let us know which regions you'd like to see this in.

Thanks,
Niko"
Amazon EC2	"Re: Join your EC2 Windows instances to an AWS Directory Service domain
Hi,

Its is okay if you can give my access to this service in eu-west-1c also. 

Thanks
Magnus"
Amazon EC2	"Re: Join your EC2 Windows instances to an AWS Directory Service domain
Hi, the feature is now available in eu-west-1 and us-west-2:
https://forums.aws.amazon.com/thread.jspa?messageID=623797&#623797"
Amazon EC2	"Join Your EC2 Windows Server Instances to an AWS Directory Domain
You can now easily join your Amazon EC2 for Windows instances to a domain that you have configured with AWS Directory Service in two additional regions, including EU (Ireland) and US West (Oregon). You can join an instance to an existing, on-premises Active Directory, using AD Connector, or a stand-alone, Simple AD directory running in the AWS Cloud. Once you configure this new feature using the AWS Management Console or the EC2 API, you can choose which domain a new instance will join when it launches. For existing instances, you can use the EC2 API to seamlessly join them to a domain.

AWS Directory Service is a managed service that allows you to connect your AWS resources with an existing on-premises Microsoft Active Directory or to set up a new, stand-alone directory in the AWS Cloud. Connecting to an on-premises directory is easy and once this connection is established, all users can access AWS resources and applications with their existing corporate credentials. You can also launch managed, Samba-based directories in a matter of minutes.

To get started, please see our blog, or learn more about AWS Directory Service by visiting our website.

Edited by: NikoP@AWS on May 14, 2015 2:07 PM"
Amazon EC2	"RDP Limited to 6 Active Sessions
I have a Windows Server 2012 r2 EC2 instance with 8 per user CALs and server licenses that can only manage 6 active connections at a time. When a seventh connection is attempted, it simply hangs. Additional sessions are allowed if they are disconnected. I can’t find any new events in the event viewer to reference these failed connections. This instance is both the licensing server and the only server we use for RDP.

• The server is not a domain controller.

• Local Firewall accepts RDP connections, but I’ve also tested without a firewall.

• Network (AWS Security Group) firewall accepts RDP connections, but I’ve also tested without the firewall.

• GPO does not limit connections. I’ve tried disabling the GPO connection limit option, setting it to a low number, as well as 999999 for unlimited. I’ve tried this on the local and domain GPO, as well as through the Server Manager.

• I’ve reinstalled the licenses from scratch twice, once manually, and the second time by listing the licensing database as corrupted and using the wizard to reinstall.

• No changes when accessing RDP via a private IP over VPN, or public IP address.

• Server is a member of the terminal services group.

Something I’m missing?
Possibly related: the server won’t display which licenses it is handing out to users, but the license diagnoser reports no issues. It always reads as having 8 licenses available, none handed out. 

Six seems like such an arbitrary number in this case. I can’t find anyone else describing a similar situation, AWS or otherwise. My assumption is there’s something local causing this issue, but I thought I’d ask the AWS forums about similar issues before outsourcing any assistance. Apologies if this is the incorrect forum."
Amazon EC2	"Is it secure to store EC2 User Data shell scripts on S3?
I have an EC2 ASG on AWS and I'm interested in storing the shell script that's used to instantiate any given instance in an S3 bucket and have it downloaded and run upon instantiation, but it all feels a little rickety even though I'm using an `IAM Instance Role`, transferring via HTTPS, and encrypting the script itself while at rest in the S3 bucket using `KMS`.

The Setup

 - Created an `IAM Instance Role` that gets assigned to any instance in my ASG, resulting my AWS creds baked-in to the instance
 - Uploaded and encrypted my `App-Instance-Init.sh` script to S3 resulting in a private endpoint like so : s3://super-secret-bucket/App-Instance-Init.sh

In The `User-Data` Field
#!/bin/bash
 
apt-get update
apt-get -y install python-pip
apt-get -y install awscli
cd /home/ubuntu
aws s3 cp s3://crypto.myApp.com/App-Instance-Init.sh . --region us-east-1
chmod +x App-Instance-Init.sh
. App-Instance-Init.sh
rm App-Instance-Init.sh


The above does the following:

 - Downloads and installs Python, pip, and the aws-cli
 - Downloads the contents of the S3 endpoint to a local file located at `/home/ubuntu/App-Instance-Init.sh`
 - Runs the script
 - Deletes the script after it's completed.

The `App-Instance-Init.sh` Script

The script itself will do stuff like setting `env` vars and `docker run` the containers that I need deployed on my instance. Kinda like so:

#!/bin/bash
 
export MONGO_USER='MyMongoUserName'
export MONGO_PASS='Top-Secret-Dont-Tell-Anyone'
    
docker run - e MONGO_USER=${MONGO_USER} -e MONGO_PASS=${MONGO_PASS} --name MyContainerName quay.io/myQuayNameSpace/MyAppName:latest


Very Handy

This creates a very handy way to update `User-Data` scripts without the need to create a new `Launch Config` every time you need to make a minor change. And it does a great job of getting `env` vars out of your codebase and into a narrow, controllable space (the `App-Instance-Init.sh` script itself).

But it all feels a little insecure. The idea of putting my master DB creds into a file on S3 is unsettling to say the least.

The Questions

 1. Is this a common practice or am I dreaming up a bad idea here?
 2. Does the fact that the file is downloaded and stored (albeit briefly) on the fresh instance constitute a vulnerability at all?
 3. Is there a better method for deleting the file in a more secure way?
 4. Does it even matter whether the file is deleted after it's run? Considering the secrets are being transferred to `env` vars it almost seems redundant to delete the `Instance-Init.sh` file.
 5. Is there something that I'm missing in my nascent days of ops?

Thanks for any help in advance.

Edited by: aaron-j-ban on Apr 29, 2015 3:46 PM

Edited by: aaron-j-ban on Apr 29, 2015 3:47 PM"
Amazon EC2	"Re: Is it secure to store EC2 User Data shell scripts on S3?
Bueller? Bueller?

Is there anyone at AWS that can provide an answer to this. It's pretty important."
Amazon EC2	"Re: Is it secure to store EC2 User Data shell scripts on S3?
These forums are useless."
Amazon EC2	"Can remote in to a spawned EC2 instance
I am not able to remote desktop into a T2.micro instance that I spawned from the AWS Java API. Here is what I did:

1. Created an instance using the Amazon console
2. Successfully remoted into it
3. Created an AMI of the instance
4. Wrote a Java program to runInstance using the same security group, availability zone, subnet, and keyname as the original
5. Ran the program and saw it start successfully
6. Tried to connect and got the message: ""Password is not available. This instance was launched from a custom AMI, or the default password has changed. A password cannot be retrieved for this instance. If you have forgotten your password, you can reset it using the Amazon EC2 configuration service""

Am I missing something? Shouldn't this work?"
Amazon EC2	"Re: Can remote in to a spawned EC2 instance
I found I could log in to the spawned image using the password of the original instance.  So rather than request the password for the spawned image (which failed every time), I just remoted into the spawned image and used the original instance's password."
Amazon EC2	"Not able to ping EC2 instance to check connectivity
Hi All,

I am trying to ping my EC2 instance from my machine but not able to do that.

I have applied security group with all Ports and Protocols.

Infact I am trying to use it to configure my Oracle Apex Listener but that is also not working.

Would anyone please suggest how to resolve this.

Instance ID: i-7c895c8b
DNS: ec2-54-201-224-3.us-west-2.compute.amazonaws.com

Regards,
Tauceef"
Amazon EC2	"Re: Not able to ping EC2 instance to check connectivity
No reply yet

No one from Amazon looking into this??

We are trying to migrate our environment into Amazon Cloud but facing issues testing things on time, initially I was frustrated with configuring Oracle Apex with ORDS there also I didn't had any reply from anyone and now when I am able to do that having this issue.

I have successfully configured Apex with Listener in an EC2 instance, it is working fine locally in EC2 but not able to access it from my machine.

If anyone from Amazon is looking into this please help me resolving the issue as lot of time is getting wasted because of these things.

Regards,
Tauceef"
Amazon EC2	"'describe-instances --filter'  with multiple values only returns 1 result
So yesterday afternoon this issue cropped up, previously this had always worked as expected.

Ive reproduced on CLI and .Net SDK:

aws ec2 describe-instances --filter 'Name=tag:Name,Values=instance1,instance2'

Only returns instance1 

aws ec2 describe-instances --filter 'Name=tag:Name,Values=instance2,instance1'

Only returns instance1

aws ec2 describe-instances --filter 'Name=tag:Name,Values=instance2'

returns instance2

aws ec2 describe-instances --filter 'Name=tag:Name,Values=instance1,instance2,'
 
returns both correctly (instance1 and instance2).   Note the trailing comma.   
This makes me think it's a bug.

The documentation suggest the syntax is correct, and my code hasn't changed (this always worked fine before)

.
Has anyone else been experiencing this issue?  Have there been any changes to the underlying api that might have caused this?

Thanks!
-Dmytry"
Amazon EC2	"Re: 'describe-instances --filter'  with multiple values only returns 1 result
Hi Dmytry,

I've successfully tested your command:

$ aws ec2 describe-instances --query 'Reservations[*].Instances[*].[Placement.AvailabilityZone, Tags[0].Value ,State.Name, InstanceId]' --output text --region eu-west-1 --filter 'Name=tag:Name,Values=TestBox1,ubuntu'
eu-west-1a      TestBox1        running i-c4569386
eu-west-1b      ubuntu          running i-4c1097a8


I used the following AWS CLI version:

$ aws --version
aws-cli/1.7.25 Python/2.7.6 Linux/3.13.0-48-generic


Which version of the AWS CLI are you using?

Kind regards,
Chris"
Amazon EC2	"Re: 'describe-instances --filter'  with multiple values only returns 1 result
I was running:
aws-cli/1.7.10 Python/2.7.9 Windows/7

However as of this morning, the issue has gone away for MOST instances.   
It is still occurring with one or two of my instances, if they are included in the filter.  

Updating to latest cli didn't have any effect on the results."
Amazon EC2	"Re: 'describe-instances --filter'  with multiple values only returns 1 result
Hello,

After some investigation, this looks to have been caused by an update on our side and has since been rolled back.  I do apologize for this issue.

Best regards,
Justin G."
Amazon EC2	"Re: 'describe-instances --filter'  with multiple values only returns 1 result
Thanks, it's completely gone!"
Amazon EC2	"Elastic IP will not show any instances to associate with
Hello,

When I go to my elastic IP, and click the associate address button, it brings up a box that is supposed to be helpful in finding my instance id.

It doesn't find anything.  If I type ""i"" none of my ""i-"" instances show up.  If I paste an instance ID, like i-da55190c, it ""doesn't find it"".  If I try to submit it, the stupid ""smart box"" erases the ID since it ""cannot find it"" and the form complains that I need to submit an ID.  ""i-da55190c"" is the ID, it won't find it, it won't let me paste it or type it.  

Extremely frustrating."
Amazon EC2	"Re: Elastic IP will not show any instances to associate with
Hello,

It looks like the IP you provisioned is for the EC2-Classic platform and your instance is in VPC.  Can you please try allocating a new address (release the old one if needed), making sure you select ""VPC"" in the initial dialog.

Best regards,
Justin G."
Amazon EC2	"Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
I would love to be able to have Auto Scaling launch instances that are EBS backed.  I would then like for autoscaling to be able to ""stop"" these EBS-backed instances instead of ""terminate"" when they are scaled down.  I'm sure a bunch of other details would come up as a result of this, like specifying a pool of EBS volumes to use, and a snapshot to use when running out of volumes.

My specific use case is to have a single server/desktop, backed by EBS, that automatically turns on in the morning, and off late at night.  For now, I'll have to write a cron that performs the scale up and down actions for me.  Unfortunately I don't have a machine that I leave ""always on"" to initiate those commands for me, but I'll figure something out.

It is my understanding from the documentation that this is not possible today, in which case please consider this a feature request.  Otherwise, can someone point me to the documentation for how to set up an Auto Scaling group this way?

On a somewhat unrelated topic, documentation for the CreateLaunchConfiguration API is missing from the docs: http://docs.amazonwebservices.com/AutoScaling/latest/APIReference/

This post also asks for the ability to launch instances from EBS snapshots, but I'm not completely sure if this is the same feature request: https://forums.aws.amazon.com/thread.jspa?threadID=47146&tstart=0&messageID=181884"
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
Thanks very much for your suggestion!  Input like this makes a huge difference when we are prioritizing our work.  We  very much appreciate it.

-blake"
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
And for the record, I was either just not seeing the documentation for the CreateLaunchConfiguration API, or it has been added:
http://docs.amazonwebservices.com/AutoScaling/latest/APIReference/API_CreateLaunchConfiguration.html"
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
Any ETA on this feature request? Would be useful for us as well."
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
Hi,

We don't have an ETA yet. 

Regards,
Preethi"
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
Hi Preethi,

Any update on this yet?

Thank you very much."
Amazon EC2	"Re: Auto Scaling: Start/Stop with EBS volumes instead of Launch/Terminate?
Curious to find out if this is on the roadmap.  A start/stop feature would be useful alongside the launch/terminate procedure currently established.

Thanks."
Amazon EC2	"ELB - Private key did not match the public key provided
I'm installing an SSL cert from Comodo onto the ELB and getting an error that the ""private key did not match the public key provided."" (I've attached an image of the error message).

As a sanity check:

1. The private key - this is the .PEM file that was used to create the server. I opened the .PEM file in a text editor and copied the contents to the Private Key box.

-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEAhww5jSHLOvy7y1hvGxVHVBg7I1qYIuLzLoIpsjVu0C6VdvS8eEAqvRtrUG/i
.....
gAxwx7UDi854vwoPc3O58nUJtEGC5RFoIwcat8djbe9L5KPI5rMCbHrDgFXkpn0SCsE=
-----END RSA PRIVATE KEY-----

2. Public Key Cert. - I opened the .crt file I got from Comodo in a text editor and copied the contents to the dialog box.

-----BEGIN CERTIFICATE-----
MIIFTzCCBDegAwIBAgIRALRNZNdw8WSU7AcjDDsuSVQwDQYJKoZIhvcNAQELBQAw
....
oPwJlBFAesdzUXS2ORguaqCoRw==
-----END CERTIFICATE-----

3. Certificate Chain. I opened the .crt files I got from Comodo in a text editor and copied the contents to the dialog box. There were 2 intermediate files and 1 root file.

It appears to be a simple copy and paste, but it still does not work.

Edited by: manishmumbai on May 14, 2015 5:00 AM"
Amazon EC2	"Re: ELB - Private key did not match the public key provided
The issue may be due to the cut/paste operation inserting cr/lf characters.  I've seen this before but not specifically having to do with ELB.  What happens is on a multi-line cut/paste of the keying material, depending on what OS you are performing the cut/paste, it may insert newlines.

Therefore, I suggest you try again but this time only cut/paste one line at a time (do not select multiple lines) and repeat until all lines have been copied.

If this was helpful or resolved the issue, please mark this response so my score increases accordingly."
Amazon EC2	"Hive inserting wrong fields into table, ignoring distinct, etc
I am trying to insert 3 distinct fields from one table into another table in Hive. However, Hive will not cooperate at all.

CREATE EXTERNAL TABLE data (number STRING, name STRING, state STRING) ROW FORMAT DELIMITED BY '|' STORED AS TEXTFILE LOCATION 's3://bucket...' TBLPROPERTIES('serialization.null.format'=''); 
INSERT INTO TABLE data SELECT DISTINCT number, name, state FROM customer;


This creates the table and file, but when i select * from data it shows 3 fields, but the fields shown are just the first 3 fields that appear in the customer table, NOT the 3 fields I specified. Then when i go and open the table's file, it is just literally the entire customer table copied over, somehow having 20+ fields when I only created the table with 3. 

If I put parentheses around the distinct fields (SELECT DISTINCT(number, name, state)...) I just get ""FAILED: NullPointerException null"".

Even running the most basic of queries without distinct doesn't work.
create table temp (num STRING, name STRING, state STRING);
insert into table temp select number, name, state from customer;

This has the exact same results as above.

EDIT: I discovered that my hive interpreted the creation of my customer table as all in the first column, with all the other fields null. So, I had to specify there too that it was delimited by | and then recreate the tables.

Edited by: mrcamp on May 14, 2015 7:52 AM"
Amazon EC2	"Instance ID i-8bebbc7b not stopping after retirement msg
Issue: AWS EC2 Instance of type m3.xlarge shows Status Checks 0/2 
System reachability check failed at certain time.
This instance has been unreachable since 1 days, ...
Retiring: This instance is scheduled for retirement after ....

I tried to reboot , stop , stop forcefully but none of the options helping so far.
Instance is in stopping state since last half n hr.

Please check and help."
Amazon EC2	"Availability Zones and Typical Latencies
Hello,I am trying to understand the following from the experience of other users:1. How does the latency vary when the instances are in different availability zones when compared to them being in the same avaiability zone?  Assuming the availability zones here are in the same region.  I see that from http://developer.amazonwebservices.com/connect/entry.jspa?externalID=1347 it is mentioned that the link between different availability zones is of low latency type.  But I wanted to know what order ( 2X or 3X or 0.5X ) of difference in latency can be typically seen between different availability zones in the same region.2. What is typical latency / speed observed when transferring data between S3 and EC2 instances? Thanks in advance for your inputs.Vram"
Amazon EC2	"Re: Availability Zones and Typical Latencies
I am trying to find out the same information. 

The Amazon doc says, ""Availability Zones are engineered to provide low latency network connectivity to other Availability Zones in the same Region.""

However, I cannot find an answer to your question, ""How does the latency vary when the instances are in different availability zones when compared to them being in the same avaiability zone?""

The reference below suggests it may be 6 times slower
http://orensol.com/2009/05/24/network-latency-inside-and-across-amazon-ec2-availability-zones/

It would be really helpful if Amazon could be a little clearer about what ""low latency network connectivity"" means. It is really six times slower when using different Availability Zones?
I am currently trying to move an RDS instance to the same availability zone as the rest of the application because I do not know what the performance overhead is."
Amazon EC2	"Cannot connect to instance
All of a sudden I cannot connect to my instance i-bf6f78b5 via SSH or HTTP.  I'm also getting this error in the console:

Instance reachability check failed at May 13, 2015 at 8:30:00 PM UTC-5 (10 minutes ago)

I haven't changed any config recently.  Can you investigate?  Thanks."
Amazon EC2	"Re: Cannot connect to instance
Hello,

Instance i-bf6f78b5 looks to be up and running now without any status check failures. Are you able to connect to your instance? Note that the public IP of your instance will change after a stop/start if no EIP is used. 

Kind regards,
Chris"
Amazon EC2	"Re: Cannot connect to instance
Seems to be fine now.  Thanks."
Amazon EC2	"Host Authentication Failed - Mindterm
Hi..i've created a new instance from a volume with a snapshot of an old instance that just stopped working for no apparent reason. i created a new key pair. At first I could connect with mindterm but could only see files on local side not remote. Now I can't even get that far and keep getting the error Host Authentication Failed. 

Any help/advice would be very much appreciated.

thanks

ps. just tried to ping the ip address and it failed...please help

Edited by: add_site on May 12, 2015 2:58 AM"
Amazon EC2	"Re: Host Authentication Failed - Mindterm
Hello,

For what I can see  your instance is up and running.
You may want to double check the security group, as it is not allowing ICMP (thus ping is failing).

To further troubleshoot the connection issue you may refer to our documentation.

Regards"
Amazon EC2	"Re: Host Authentication Failed - Mindterm
Hi...i'll add that to the security group.

Any ideas about the server auth error...would not having icmp cause that..

thanks"
Amazon EC2	"Re: Host Authentication Failed - Mindterm
starting afresh"
Amazon EC2	"What Should I See
Hi, im connecting to an instance with mindterm. I open up scp file transfer...i can see files on the left hand side(local) but nothing on the right. If I click refresh etc ..I get unknown error...should i see a list of files on the right(remote). MindTerm is reading as connected but not behaving as such...anyone any ideas

thaanks"
Amazon EC2	"Re: What Should I See
starting again"
Amazon EC2	"EBS Volume stuck at attaching state
One our EBS Volumes is stuck in attaching state. Looking at previous questions answered on similar issues, tried the following.

1. Force detached the volume, and tried attaching to different mount point with no luck.
2. Stopped and started back the instance and tried attaching the volume. It still gets stuck.

Volume Id of the EBS is vol-c864d581

Please let us know if there is anything else that we could do to attach the drive successfully.

Thanks"
Amazon EC2	"Re: EBS Volume stuck at attaching state
Hello,

We are checking the volume and will update you as soon as possible.

Regards,
Lorenzo"
Amazon EC2	"Re: EBS Volume stuck at attaching state
The volume should be in a consistent state now.
Could you please check and update the forum thread?

Thank you for your collaboration here!"
Amazon EC2	"Windows activation fails
Hi,
I am running a windows 2008 server for a couple of years.
Now it is asking for windows activation.
I have updated the EC2configservice to the last version and tried to reboot.
I have checked that the Date and time settings (internet time) is set to synchronize the computer with time.windows.com.
I have tried the 2 command prompts:
slmgr.vbs / skms ec2-174-129-233-152.compute-1.amazonaws.com
slmgr.vbs / skms / ato

Nothing helps.

Any suggestion ?

Thank you"
Amazon EC2	"Re: Windows activation fails
Hello,

Can you give me the instance ID please (i-xxxxxxxx)?

Thanks,
Richard"
Amazon EC2	"Re: Windows activation fails
I am having the exact same issue 

Again server running fine for a couple of years!

Getting:

Code: 0x800706BF
Description: The remote procedure call failed and did not execute

The RPC service looks to be running fine

Edited by: keith_d99 on May 13, 2015 7:43 AM"
Amazon EC2	"Re: Windows activation fails
(updated)

My problem is solved.

It had something to do with the PD driver.
We updated the PD driver and it did the work.
Here is a link :
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html

Thanks to the support team.

Hi Richard

Thank you for the answer.
Here is my instance ID : i-e9d5e0aa
I also have created a ticket in your support center.
Regards

Boris

Edited by: boris38800 on May 14, 2015 12:31 AM"
Amazon EC2	"Re: Windows activation fails
Boris - Many thanks for the update!

Worked a treat for me!"
Amazon EC2	"Instance stuck at stopping
Hi, I try to stop the instance (i-071117f5), but it stuck at stopping."
Amazon EC2	"Re: Instance stuck at stopping
The instance state of it is still show ""stopping"" not ""stopped"".
Instance: i-071117f5 (Tokyo)"
Amazon EC2	"Re: Instance stuck at stopping
Hello,

Instance i-071117f5 is now in the ""stopped"" state. Apologies for the frustration and inconvenience this may have caused!

Kind regards.
Chris"
Amazon EC2	"Re: Instance stuck at stopping
Thank you for your assist!"
Amazon EC2	"How to run Magento CE on EC2 spot instance? Newbie EC2 ninja here :D
Hey folks,

I have read EC2 howto. For example http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#StorageOnInstanceTypes

Some instances come with EBS volume. My idea is to store all data on EBS, use persistent request. This way when price goes higher shop shuts down and when its down its open again. Since instance uses terminate what is impact on Magento database?

Is there a way to continue to run store on instance 2 perhaps? So say 1 is down, ebs volume attaches itself to newly launches instance 2. Then I need a) some way to name ebs volume to choose instance 2 and b) some way to start instance 2 upon instance 1 termination.

Your advice is very appreciated  Alex."
Amazon EC2	"Re: How to run Magento CE on EC2 spot instance? Newbie EC2 ninja here :D
Hi Alex,

Did you manage to run Magento on spot instance? with EBS

Thanks

Junaid"
Amazon EC2	"ec2 is failing status checks and hence wont run
i-25adefc2 is showing failed status checks and system log wont populate.
Im using the instance to in conjunction with sendy (www.send.co) 
I just sent out a very very important email campaign for a very very important client, and now everything is dead and i dont know how to the instance working again, i cant get a system log, this is the second time it has happened. it happend previously on the 10th or 11th April, i need to get it up and running and need to understand the root cause of the issue"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
IVe stopped the instance ,changed instance type to t2-small and restarted it, ( its an ebs backed instance) and it now just fails 1|2 status checks, no matter how many times i stop, start it, it wont pass 2/2 status checks and run.

Edited by: amnesiahaze on Apr 24, 2015 2:15 PM"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
Hi,

I had a look at i-25adefc2 and can see it's passing all health checks. Can you confirm if you are still having issues? 

If so, you should check the following logs to try to determine what happened.

/var/log/dmesg
/var/log/cloud-init.log
/var/log/boot.log
/var/log/messages

Regards,

Rodney"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
It's fine now thanks. But I don't understand how to read the logs you suggested to see what happend.  
I'm glad it's back up and running but really need to know what instance type will meet my needs so it doesn't happen  again. Can you help with that?"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
Hi amnesiahaze,

As I'm not able to see inside your instance it's hard to pin down a root cause for your recent troubles.

If you are able to grab the above mentioned logs and post them here then it's possible we can narrow things down a bit.

Always make sure before posting logs that personal account information or credentials are removed first.

Cheers,

Rodney"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
ITs happend again,  just now and wont recover again, how do i access the logs so i can send them to you to review please, its very frustrating not knowing why it keeps happening at the worst possible time"
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
Ive upgraded instance type and it still wont pass status checks either."
Amazon EC2	"Re: ec2 is failing status checks and hence wont run
Hi,

Your 8 GB EBS GP2 root volume has a 24 IO baseline. When you run out of burst credits which i see you have done so, you get rate limited to 24 IO. This can cripple most instances. 

Take an AMI of your instance, relaunch it with a larger GP2 root disk, maybe 100GB. This will give you a 300 IO baseline. Or switch to magnetic root disk with no rate limiting, a guaranteed 100 IO, but likely it will provide many hundreds of IO.

Move your EIP over to the new machine once you test it. This should solve your problem. 

Regards,
Julian H."
Amazon EC2	"Bundle task remains in waiting-for-shutdown state.
I am trying to create an AMI from instance i-4ff8f860 but the bundling operation remains
in waiting-for-shutdown state.   Any ideas as to why?

The bundle operation was started using the AWS console."
Amazon EC2	"Re: Bundle task remains in waiting-for-shutdown state.
Hello,

Others have had issues with bundling Windows instances before, and typically the reason for this is because the instance has been configured as a DC. It's not recommended to roll out images of instances configured as a Domain Controller. You can give this thread a read over to get some more information on a bundle task being stuck in waiting-for-shutdown: https://forums.aws.amazon.com/thread.jspa?threadID=25996

In general, you'll want to make sure EC2Config is running properly so that it can prepare the system for bundling, and once that's verifieid, you can manually issue a shutdown to the instance by running ""shutdown /r /t 0"" from a command prompt. This should get the instance to start bundling. If you're still having difficulty in getting this instance to bundle, please send us the last 10 lines of ""C:\Program Files\Amazon\Ec2ConfigService\Logs\Ec2ConfigLog.txt"" for further investigation. Please remove any data from the logs that may be confidential before posting it here."
Amazon EC2	"General Info and Getting Started, Using AWS & Services
Hello.

We have an EC2 instance, we made the switch from the DNS to our IP Registro.br on AWS.
But the propagation sent to an address page not found. In some cases it pointed to our previous server and another for EC2.

How to avoid these problems to other sites?
There are similar reports?

Best regards

_____
Message in Portuguese:
Erro de propagação DNS
Olá.

Temos uma instancia EC2, realizamos a troca do DNS no Registro.br para nosso IP na AWS.
Porém a propagação enviava para uma página de endereço não encontrado. Em alguns casos apontava para nosso servidor anterior e em outro para o EC2.

Como evitar estes problemas para outros sites?
Existem relatos semelhantes?"
Amazon EC2	"Cant disable HYPER-V on EC2 Windows 2012 Platform - please help
Hello,

i need to disable HYPER-V on a Windows 2012 Platform on EC2 so that I can use VMWare.

Normally I use the servermanager for this.  Then I go to ""Add roles and features"", then
""Start the Remove Roles and Features Wizard"".

After some ""next"" I see the Server Roles. But all the entries are grey.
I am not able to select ""Hyper-V"".

It would be very nice if you have any hints because amazons service is not the best.
thanx a lot,
cheers,"
Amazon EC2	"Re: Cant disable HYPER-V on EC2 Windows 2012 Platform - please help
Hello,

While the Hyper-V role should not be installed by default on any EC2 Windows instances, it is also not possible to run additional layers of virtualization within your EC2 instances. VMWare needs to be installed on bare-metal hardware with certain virtualization features exposed in the CPU which are unavailable in EC2. You can learn more about these requirements in this detailed article here: http://cloudstacking.com/posts/running-hyper-v-vmware-or-xen-on-an-aws-ec2-instance.html"
Amazon EC2	"STFP to Ubuntu as Root?
So I trying to move my Cert's from my desktop to my EC2 Server running Ubuntu, and I am curious is this possible? If so how ?

I am trying to use SFTP as it's easy, but I get ""permission denied""."
Amazon EC2	"Re: STFP to Ubuntu as Root?
Hello,

Root login to EC2 instances is generally blocked by default. The default user for Ubuntu instances is 'ubuntu'. You could upload your cert files to the instance under the ubuntu user and then use an SSH session to adjust ownership and permissions on the files after you upload them. Alternatively, you could enable root login over SSH (and thereby allowing root to also SFTP to your instance) by editing the /etc/ssh/sshd_config file, however I do not recommend this as it is a potential security hazard for your instance."
Amazon EC2	"Amazon EC2 Instance scheduled for retirement will not stop
I was notified by email that my EBS instance ( i-90565ff4 ) is scheduled for retirement because of the equipment it is on, and that I should stop the instance and thus cause it to be migrated to newer equipment. I have issued a ""stop"" command via the AWS web interface. The instance, which only has an 8GB disk, has been ""stopping"" for over 30 minutes now and there is no indication that it is going to ever stop.

The email instructions that I received telling me to stop and restart my EBS-backed instance do not say anything about how long this migration takes. There are also no instructions about what to do with an instance that never stops. I'm hoping someone from Amazon reads this and lets me know what is going on with my instance and what I should do about it, because it's currently out of service and I'd really like to get it back into service.

Thanks,

DZ"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
UPDATE: After about 35 minutes, the instance stopped. I just issued a ""start"", which in theory means I will start up on new hardware. Hope this small bit of feedback helps someone in the same situation."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi Amazon, we got the same issues and all ourt services is down...please help!
Instance  i-8a0c6cfd.

Regards,
// Rickard"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Good day.

May you please try to ""force-stop"" your instance. Please let me know if this doesn't help.

Regards,

Tonderai."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
We have tried that several times and nothing happens. Thanks for quick response!

Regards,
// Rickard"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi.

I am escalating your issue to our service team. You will get feedback as soon as I hear from them.

Regards,

Tonderai."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Thank you!

// Rickard"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi.

The issue is resolved now. May you please confirm if you are still having the same issue?

Should you require any further assistance, please let me know.

Regards,

Tonderai."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi i have the same problem,

instance i-10d4d169 is not stopping even after force-stop.

Please let me know what i have to do , all services on that instance are down.

Thank you"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
I have the same problem here. EC2 instance i-c543f1a1. It's been ""stopping"" for 12 hours and despite 2 forced attempts to stop, continues to operate. My site is still online.

Please help"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi cristianpiacente,

I can see that your instance is currently in the 'stopped' state so you should be able to start it when needed. Let me know if you have any further issues.

Regards,

Brendan"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi mfnmfn,

I have progressed your instance to the 'stopped' state now. Please try and start it again when needed and let me know if all is now okay.

Regards,

Brendan"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Me too! Second time this has happened when trying to stop an instance scheduled for retirement. Seems like others have similar problem so perhaps a bug somewhere in Amazon's infrastructure?

Instance: i-82553ee5

Can you force stop this? 

I also need to ensure the volume stays available. vol-7267d01d."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hello,

Your instance, i-82553ee5 has now stopped. We apologize for the inconvenience. The instance was stuck stopping because the underlying host was unhealthy. Please start your instance again let me know if you are still facing issues.

Regards,
-Tipu Q"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
I have the same problem...

Can you stop my instance?

Instance: i-62c0b002

Thanks."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
After 1 hour the instance has stopped...

Thanks"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi,

Instance i-62c0b002 should be in a stopped state now.

You may need to re-attach the EBS volumes if you get an error when starting the instance. If so here are the steps:

1. Click the ""Volumes"" link under ""ELASTIC BLOCK STORAGE"".

2. Right-click the root EBS volume for i-62c0b002 (/dev/sda1) and click ""Detach Volume"". If the volume still shows attached after a couple of minutes, refresh the page then right-click the volume and click ""Force Detach"".

3. After detaching the volume, attach it again to the instance as device /dev/sda1 - right-click the volume and click ""Attach Volume""."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi,

thanks!

It was not necessary to re-attach  the volume."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Im facing the same issues with my instance i-67a77b1c. It won't stop, even after several force stop attempts.

Thank you in advance."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hi,

I have resolved the issue and your instance is stopped.

Regards,
Mary"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
The instance is now stopped but won't start, it stays in the ""pending"" stats for a few seconds only to go back to ""stopped"". The associated EBS volume will not detach or force-detach."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Our instance (f16634b9) sheduled for retirement wont stop either even after force stop ,please assist."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Our instance, i-e48387b0 in Singapore also got marked for retirement and we are still waiting for the forced stop to finish. Please help.

Edited by: systemacorp on Nov 16, 2012 12:22 AM"
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Regardiing our instance i-e48387b0 in Singapore. Its stopped now but it wont start. Every time I attempt to start, it becomes pending for a while and then eventually goes back to stopped."
Amazon EC2	"Re: Amazon EC2 Instance scheduled for retirement will not stop
Hello systemacorp.

Please detach and re-attach your instance's root volume and start the instance."
Amazon EC2	"Missing something simple Im sure.  Unable to view server on the internet
Hello,
I am new to Amazon Web Services (1st day).  Im setting up an EdX server for my school to see about providing online classes for the students.  I was able to SSH into the machine and have it configured correctly I believe.  I also have gone through the updates for the EdX system.  Now Im not sure where to go from here.  The instance ID is: i-8647e34d   Supposedly I should be able to see the site but Im not even  sure what to put in for a URL.  Im usually pretty tech savvy but Im a bit out of my depth here.
Any help would be appreciated
Gary"
Amazon EC2	"Re: Missing something simple Im sure.  Unable to view server on the internet
Two things:

Hostname/IP address
Make sure that you allocate an Elastic IP address to the instance. You don't need to do this to access the instance, but it keeps things simple. When performing certain actions, the public IP address can change, unless you're using an Elastic IP.

Check the public DNS property of the instance for the host name (or the Public IP) for the address to use to access the instance. This will change when you allocate an EIP to the instance!

Security Groups
Make sure that the security groups allow access to the appropriate port numbers. In the case of web traffic this is normally TCP ports 80 & 443. It's normally best practice to restrict access to port 22 to those IP addresses that should be accessing the machine.

You may need to create a new security group to allow the web traffic and attach it to the instance."
Amazon EC2	"Re: Missing something simple Im sure.  Unable to view server on the internet
Thank you so much.  I knew I was missing something basic.  I am now able to hit the website.  I do get an intermittent Bad Gateway Problem so I may be back to ask about that.   

Thanks Again."
Amazon EC2	"Instant is running but unreachable even after reboot
Summary:

Instance ID: i-8a4c2dda
Problem: Following ""Install updates and shut down"" action from windows earlier this morning followed by restart from Amazon console, it shows up as running but cannot access sites on it or RDP to it.


Details
Earlier this morning I used the ""Install updates and shut down"" option from Windows on one of my instance. Eventually the instance ended up in the ""stopped"" state and I used the ""Instance State -> Start"" command from Amazon AWS EC2 dashboard to restart it. 

After a while the instance was showing up as ""Running"" but the ""Instance Status Checks"" was failing and I could not connect via Remote Desktop to it or access web sites running on it.

I used the ""Instance State -> Reboot"" command but the instance just came back in the same state.

Right now I'm creating an Image and will try to reboot a new instance but I was wondering if anyone had ideas or solutions to our problem.

Thanks!"
Amazon EC2	"Re: Instant is running but unreachable even after reboot
Ok I think the instance was short on disk space and trying its best to complete the Windows Updates. It became accessible again after 1h30 of just letting it sit there and complete its work."
Amazon EC2	"zsh version on Amazon Linux AMI
Amazon Linux AMI 2015.03 still uses zsh 4.3.10, which is pretty outdated. I don't know if it's because of the upstream repo or it's just been overlooked, but do you have any plan to upgrade it?"
Amazon EC2	"Re: zsh version on Amazon Linux AMI
Hi haisoo,

I understand you are wondering if there are plans to upgrade zsh in the future within the Amazon Linux AMI. Currently, we do not have any information and ETA on when there will be a new version of zsh released. I do apologize for any inconvenience caused. 

We sincerely appreciate your feedback, it is very valuable to us. If you have any additional questions or concerns, please do let us know. We would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Re: zsh version on Amazon Linux AMI
Hi,

We'll take a look at including a newer zsh in a future updates push and post here again when a newer version is available.

Thanks for using the Amazon Linux AMI!"
Amazon EC2	"Network issues in us-east-1b?
We're seeing sporadic packet loss to all of our machines in us-east-1b since about 10a EST.  Anyone else getting this?

|------------------------------------------------------------------------------------------|
|                                      WinMTR statistics                                   |
|                       Host              -   %  | Sent | Recv | Best | Avrg | Wrst | Last |
|------------------------------------------------|------|------|------|------|------|------|
|                            208.92.***.*** -    0 |  251 |  251 |    0 |    6 |  221 |    0 |
|                   ash-b2-link.telia.net -    0 |  251 |  251 |    0 |    0 |   35 |    5 |
|                   ash-b1-link.telia.net -    0 |  251 |  251 |    0 |    0 |    3 |    0 |
|    vadata-ic-157234-ash-bb1.c.telia.net -    0 |  251 |  251 |    0 |    1 |   72 |    0 |
|                            72.21.220.69 -    0 |  251 |  251 |    0 |    0 |   19 |    0 |
|                         205.251.245.230 -    0 |  251 |  251 |    0 |    1 |   48 |    0 |
|                          216.182.224.49 -    0 |  253 |  253 |    1 |    6 |   21 |    6 |
|ec2-184-73-169-148.compute-1.amazonaws.com -   10 |  180 |  162 |    0 |    0 |   26 |    3 |
|________________________________________________|______|______|______|______|______|______|
   WinMTR v0.92 GPL V2 by Appnor MSP - Fully Managed Hosting & Cloud Provider"
Amazon EC2	"Re: Network issues in us-east-1b?
These headaches continue, but I'm starting to think it's not the network specifically, but all of our boxes in this group (good example i-952ab77e).  They're all exhibiting painfully slow IO both to local drives and across the network."
Amazon EC2	"How to set MTU permanently on Amazon AMI Linux
Hello

I am using amzn-ami-hvm-2014.03.2.x86_64-ebs (ami-76817c1e) and trying to set the MTU permanently from 9000 to 1500. I put MTU=1500 in /etc/sysconfig/network-scripts/ifcfg-eth0 but upon network or system reboot, it again resets to 9001. How do I make it permanent?"
Amazon EC2	"Re: How to set MTU permanently on Amazon AMI Linux
Per {https://www.flydata.com/how-to-make-ec2-mtu-settings-compatible-with-amazon-redshift-part-2/}

Here is what should be added to the /etc/dhcp/dhclient.conf (on Ubuntu Precise LTS):

#added these two lines before the request line
default interface-mtu 1500;
supercede interface-mtu 1500;"
Amazon EC2	"Re: How to set MTU permanently on Amazon AMI Linux
That's ubuntu, not  amazon linux.  Here is how you permanently set the MTU on amazon linux instances. This seems pretty important because hanging mysql and redshift queries seems like a common problem, due to the default MTU value being 9001 (jumbo)

Add MTU=1500 to /etc/sysconfig/network-scripts/ifcfg-eth0

Add the following line to /etc/dhcp/dhclient.conf

request subnet-mask, broadcast-address, time-offset, routers, domain-name, domain-search, domain-name-servers, host-name, nis-domain, nis-servers, ntp-servers;

Try other values if 1500 doesn't work. In my case, 1000 was needed, due to whatever was set on our DB server at our location.

Edited by: jazzed88 on May 13, 2015 10:59 AM

Edited by: jazzed88 on May 13, 2015 10:59 AM"
Amazon EC2	"How to use your own Microsoft licences
Hello.

we have a number of MSDN subscriptions that cover the majority of windows server OS versions including Windows Server 2008r2 & 2012 , rather than paying the additional premium of have the licences taken care of by AWS i would like to use my own licences for some of our EC2 instances, we already use our own version of SQL for several database instances.

how is it possible to use your own licences for Windows Server when deploying a new instance.

Many Thanks

Edited by: bpdzenith on May 13, 2015 8:18 AM"
Amazon EC2	"Re: How to use your own Microsoft licences
Hello, 

Although some AWS services allow you to bring your own licenses, EC2 does not offer that option. If you have existing licenses with Microsoft and would like to know where they can be applied within AWS, please check out Microsoft License Mobility. 

Here is a link to Microsoft Mobility information for your reference:
http://aws.amazon.com/windows/resources/licensemobility/


Best Regards,
Jillian L."
Amazon EC2	"My Public DNS Is missing on my spot instance
I was in the process of attempting to get an smpt virtual server on iis to relay to my website, when I found that it seemed to be having trouble connecting to my website - like it was blocked.

In order to diagnose this, I disassociated the elastic IP, and found that there was no Public DNS.

Its been 10 minutes and the public DNS still appears blank - even after a reboot.

Can someone suggest a resolution?

Instance ID :   N.Virginia - US-EAST-1B
i-5c453631

BTW Its a spot instance, so I cannot stop it, without it being terminated."
Amazon EC2	"Re: My Public DNS Is missing on my spot instance
Hello,

I had a look at your instance and I can see that with a delay of 5 minutes the new IP address and the public DNS name is assigned to the instance.

I can see the public DNS host of your instance, if you still don't see the DNS name please refresh the console and let us know.

Regards,

Mostafa S."
Amazon EC2	"Re: My Public DNS Is missing on my spot instance
Hi,
I have restarted mine but my instance does not have Public DNS or IP. Can you please help.
i-97b15755

Please please help.
--Hien"
Amazon EC2	"Re: My Public DNS Is missing on my spot instance
Hello Hien, 

The instance  i-97b15755 has four ENIs but no public addresses associated. If you would like to associate an EIP with one of the ENIs you can follow the instructions in our documentation here: http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/EIP.html

I hope this is helpful! 

Best Regards,
Jillian L."
Amazon EC2	"ELB custom headers
Hello,

Our app uses a bunch of custom headers when communicating to the backend server, which we would like to move to EC2. However in testing, it looks like the ELB is blocking/not passing the custom headers that we use. How do we fix this?
We would like to terminate SSL on the ELB, so using a layer 4 TCP listener would be a last resort."
Amazon EC2	"Re: ELB custom headers
Custom headers are passed.  I performed a curl with --header ""foo: bar""  and received via tcpdump on the host behind the ELB:

GET /snip HTTP/1.1
host: [snip]
Foo: Bar
User-Agent: curl/7.28.1
X-Forwarded-For: x.x.x.x
X-Forwarded-Port: 80
X-Forwarded-Proto: http
Connection: keep-alive


However, depending on your definition of 'a bunch' perhaps you are running into a size limit.

Edited by: Jason H. Martin on May 12, 2015 4:01 PM"
Amazon EC2	"Re: ELB custom headers
Anyone know what the limit is on custom headers, if any? We usually have about 5 separate headers, I would need to check how large they are though."
Amazon EC2	"Re: ELB custom headers
It would be helpful to understand which non-standard headers you are trying to pass.  Please note that with respect to custom headers, ELB supports only the following types:


X-Forwarded-For
X-Forwarded-Proto
X-Forwarded-Port


For example, X-Requested-With (a non-standard Header) is not supported.

Standard HTTP Headers are supported by ELB.  If this information was helpful, please mark as such.

Edited by: GMan on May 12, 2015 8:52 PM"
Amazon EC2	"Re: ELB custom headers
Thanks guys, we did some additional testing and the headers seem to work now."
Amazon EC2	"Feature request SLES 11 Support for VM Import /Export
Hi,

is there a chance that VM Import Feature will support SUSE in the near feature?
We're testing BC/DR Solution to protect our SLES Servers with AWS as Replication Target but Import tells me that the Kernel is not supported.

Thx, Stephan

Edited by: StephanR123 on May 12, 2015 1:00 AM

Sorry for posting in the wrong Forum Category. 

Edited by: StephanR123 on May 12, 2015 1:25 AM"
Amazon EC2	"Re: Feature request SLES 11 Support for VM Import /Export
Yes, VMImport support for SUSE Linux Enterprise is under active development. There is no target date yet but it should be available in the not too distant future."
Amazon EC2	"Public IP address changed
Instance:  i-9a011870
AZ:  us-east-1b
The public IP address was recently changed without my knowledge.
There was a recent maintenance announcement that stated that the instance would be rebooted on May 12, and it stated that all configuration settings would be retained.  Logging in to the new IP address shows that the instance was indeed rebooted yesterday.  The Private IP address did not change.

Is this normal for the Public IP address to be changed?"
Amazon EC2	"Re: Public IP address changed
Hi,

Unless the public IP address was an EIP then yes this public IP address can change on a reboot as this gets automaticaly assigned from a pool of addresses on boot.  If you require your instance to maintain a fixed public IP address then you must assign it an EIP (Elastic IP Address).

Hope this helps,

Many thanks,

Stooby..."
Amazon EC2	"Can not access an Amazon instance
Hi,

A machine on my account is getting messages from another machine.
The other machine doesn't show on the AWS console (I checked all regions to be sure).
I had to check each netstat connection to find out the other's machine IP, but it doesn't help me.
I cannot SSH to it, there's no way to terminate it from the console. Since it passes the security policies set up for that specific port, it is probably a zombie instance which keeps sending messages.

Unfortunately I can't even find the instance id of that machine...
All I know is the machines internal IP: 10.36.145.223

Is there a way to shut it down?"
Amazon EC2	"Re: Can not access an Amazon instance
No reply at all?"
Amazon EC2	"Re: Can not access an Amazon instance
Hello,
Is there an elastic load balancer associated with this instance ?
Can you please provide the instance id which is seeing this traffic?
Regards,
Baseer."
Amazon EC2	"Re: Can not access an Amazon instance
Hi Baseer,

Thank you for your reply.
There's no elastic load balancer.
The instance id getting the traffic is: i-536c7013

I checked the iptables counters and it seems packets have stopped arriving, but netstat still lists an established TCP connection."
Amazon EC2	"Re: Can not access an Amazon instance
Hello, 

Thank you for your reply. 

I took a look at your instance, and it looks like the Security Group has a few ports open to the internet (0.0.0.0/0). If it is possible to close those ports down to only the IPs that are needed to access it, you will see less unwanted traffic. 

Unfortunately, since this is a EC2 Classic instance you cannot explicitly block an IP address using AWS tools. However, you can block the IP on the OS level if it continues to be an issue, by using iptable rules. 

I hope this information is helpful!

Best Regards,
Jillian L."
Amazon EC2	"activation windows with slmgr script
Hi
I need to activate my windows server after importing it to amazon.
from the next article I understand that I can do it with amazon mks servers since I already pay for the windows license to amazon.
http://cloudstacking.com/posts/windows-product-activation-for-aws-ec2-imported-vms.html

I wasn't able to activate it with the servers in the list and my server is on Sydney and I am not able to find the correct amazon server to try to activate to.

can anyone help with it ?

Thank you."
Amazon EC2	"Re: activation windows with slmgr script
Hello,

The article you are looking at has old information.

The correct way to activate in the AWS environment today is:


Identify the product key corresponding to the server edition:

http://technet.microsoft.com/en-us/library/jj612867.aspx


Install the key:

slmgr .vbs /ipk <key>


Install the latest release of EC2Config which will process the activation for you:

https://aws.amazon.com/developertools/5562082477397515

I hope this helps.

Richard"
Amazon EC2	"How to access billing Usage programtically
Hi,

Am using EC2 and s3 storage.
I want to access my billing information programtically by passing my account number.
Could anyone help me on how to do this."
Amazon EC2	"Re: How to access billing Usage programtically
Hello,

Please see the following link:

https://aws.amazon.com/blogs/aws/new-programmatic-access-to-aws-billing-data/

I hope this helps.

Richard"
Amazon EC2	"Re: How to access billing Usage programtically
Hi Richard,

Programmatic access enable option is not appearing for me.
I have my csv files under s3 bucket.
i want to programtaically access my bills instead of downloading CSV and coding from there.

Any help will be highly appreciated.
Thanks"
Amazon EC2	"Re: How to access billing Usage programtically
Hello,

I do apologize, I gave you an old link. The current one is this:

http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/detailed-billing-reports.html

We do not currently offer an API that allows direct access to billing data. CSV files are the only supported option.

Sorry about that.

Richard"
Amazon EC2	"Re: How to access billing Usage programtically
Hi Richard,

Thanks for the above link.

I have already gone through that link. http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/detailed-billing-reports.html 

In the figure, it mentioned that ""write an application that uses the Amazon s3 REST API or  an aws sdk to reference your billing data PROGRAMATICALLY.""

Thats why i posted this question to find out whether any API available to read billing data instead of using CSV.

anyway thanks Richard. How frequently those bills are generated in S3 bucket?

Month wise ? week wise ?

Edited by: rathirojini on May 13, 2015 6:15 AM"
Amazon EC2	"Re: How to access billing Usage programtically
Hello,

These reports are generated several times per day. The exact frequency is variable.

I hope this helps.

Richard"
Amazon EC2	"Problem with Linking  accounts
hi,

Am trying to link another AWS account to my account but it shows the attached error."
Amazon EC2	"Re: Problem with Linking  accounts
Hello,

You will need to contact our Account and Billing Support to resolve this:

http://aws.amazon.com/support/createCase

I apologize for the inconvenience caused.

Richard"
Amazon EC2	"error while upgrading ed2 instance from t2.micro to m3.medium
Hi,

I tried to upgrade from t2.micro to m3.medium. As i upgraded and started my instance it is now showing 

Status Checks:  1/2 checks passed
and in Status Checks: Instance Status Checks it is showing Instance reachability check failed 
I tried whatever i could find on internet while associated and deassiocite my elastic IP/ Roobted instance nothing seems to work

Please help what can be possible reasons for this error. I am unable to connect to amazon linux instance from putty it shows connection timeout

Thanks,
Rakesh Bhatt"
Amazon EC2	"Re: error while upgrading ed2 instance from t2.micro to m3.medium
Hi,

Try stopping and restarting the instance. By doing so there is the chance that the instance will fire up on another piece of physical hardware within AWS infrastructure, performing a reboot would not do this and would continue to boot on hardware that is potentially causing you to have these issues.

Cheers,

Stooby..."
Amazon EC2	"Re: error while upgrading ed2 instance from t2.micro to m3.medium
Hi ,

Thanks for your reply, What should i suppose to do. Should i wait for 1-2 hours and then i try contacting AWS support for assistance if it doesn't work. It's frustrating to wait and watch to get issue resolved when you even don't know what the actual problem is 

Thanks"
Amazon EC2	"Re: error while upgrading ed2 instance from t2.micro to m3.medium
Hi,

If it doesnt work then you could take a look at the following to help you troubleshoot the issue:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html

Cheers,

Stooby..."
Amazon EC2	"SSL Certificate on single EC2 instance
Hi

I'm trying  to SSL enable the site that is running on EC2. 

I'm pointing to the elastic beanstalk endpoint through subdomain (s)  that name servers are pointing to MediaTempl. ( studio.mobidonia.com ). So far so good, http is working great. I use the same ec2 instance for other subdomains also.

I have created self signed certificate that common name is ""*.mobidonia.com""  ( also tried with CA signed cert)
If I enter ""ServerName *.mobidonia.com"" in ssl.con the site doesn't work. 
with error 
ssl:warn pid 27410 AH01909: ip-172-31-43-160.us-west-2.compute.internal:443:0 server certificate does NOT include an ID which matches the server name

If I comment that line (ServerName), the site works but in https it says the the certificate is invalid. 

I'm stack here, It is ok to use the ssl only on one subdomain ( and only http on the other subdomain ).

Appreciate your help."
Amazon EC2	"Re: SSL Certificate on single EC2 instance
Anyone?"
Amazon EC2	"Are >1TB EBS imports now supported?
We want to be able to import an EBS volume that is greater than 1TB in size. EBS now supports larger than 1TB volumes, but the documentation in AWS Import/Export still differentiates between smaller than 1TB imports and larger than 1TB imports.

I have two questions:
1). Is it now possible it import to a single EBS snapshot a volume larger than 1TB?
2). If not, and snapshots are ""chunked"" as described in the documentation, is it possible to create a single >1TB EBS volume from the chunked snapshots?

Thanks."
Amazon EC2	"Re: Are >1TB EBS imports now supported?
Hello,

There is a way to import more than 1 TB of data into an EBS volume. If your device capacity is greater than 1 TB, we store the device image as a series of objects in an Amazon S3 bucket. You can then create a RAID of Amazon EBS volumes using software such as Logical Volume Manager, and copy the image from Amazon S3 to the new volume. 

You must submit a separate job request for each device.

Best Regards,
Chandra P."
Amazon EC2	"Re: Are >1TB EBS imports now supported?
Thanks.

But why must I create a RAID array? And is it possible to move the objects in S3 directly to one of the new EBS volumes that's >1TB in size?

IOW, can I create a 3TB EBS volume as a destination for the S3 chunks? And what is the purpose of LVM in this scenario?"
Amazon EC2	"Re: Are >1TB EBS imports now supported?
Hello,

This is a limitation of the service as it stands right now.

It is likely that we will offer support for directly importing larger EBS volumes at some point in the future, but I'm afraid I don't have a timeline for that.

Richard"
Amazon EC2	"SSH Timeout
Hi Amazoners,

I have same issue on my server ec2-50-19-50-77.compute-1.amazonaws.com, it was worked well yesterday. But today, it just stop working. I was try to reboot this server on Management Consle, but nothing helps. Would you please help check this server? 

The error message is:


Connecting to ec2-50-19-50-77.compute-1.amazonaws.com (press Esc to cancel)...

FAIL: TIMEOUT
SSH CONNECT ec2-50-19-50-77.compute-1.amazonaws.com
SSH FAIL: ssh_exchange_identification: read: Operation timed out
SSH INFO: DISCONNECT


Thanks,
Ronnie"
Amazon EC2	"Re: SSH Timeout
Can you go to the console and check if the public DNS has changed? If you did not use an elastic IP, the IP address of the instance can change."
Amazon EC2	"Re: SSH Timeout
My instance is not accessible either.  I can reach the management console, which says the instance is fine, but it is not reachable by any means from any location I have access to.

I have an elastic IP, and it matches the IP I'm trying to reach.  There's definitely something wrong..."
Amazon EC2	"Re: SSH Timeout
jinxuerong,

Your instance is now back online and responding to requests. The root cause here was a hardware related issue with the underlying host, this now appears to be resolved."
Amazon EC2	"Re: SSH Timeout
Luke,

My problem has also been resolved - thank you!

Ken"
Amazon EC2	"Re: SSH Timeout
Hi Luke,

The server ec2-50-19-50-77.compute-1.amazonaws.com is back now.

But today, I created another server ec2-23-20-29-216.compute-1.amazonaws.com, then I try to connect it by SSH, it report me timeout again, the logs in below. Would you please help tak a look again?


7DZJMG1:documents RKing$ ssh -i marc.pem root@ec2-23-20-29-216.compute-1.amazonaws.com -vvv
OpenSSH_5.6p1, OpenSSL 0.9.8r 8 Feb 2011
debug1: Reading configuration data /etc/ssh_config
debug1: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-23-20-29-216.compute-1.amazonaws.com http://23.20.29.216 port 22.
debug1: connect to address 23.20.29.216 port 22: Operation timed out
ssh: connect to host ec2-23-20-29-216.compute-1.amazonaws.com port 22: Operation timed out


Thanks,
Ronnie"
Amazon EC2	"Re: SSH Timeout
Luke, I am having a similar problem.  How can I know if it is also an underlying hardware problem or not?"
Amazon EC2	"Re: SSH Timeout
Hi team,

I've been unable to establish ssh to my EC2 instance for the last couple of days. I've rebooted the machine through the AWS console and double checked the ip address and verified that the sites are still accessible via the loadbalancer... please help

$ ssh -vvi /***/**.pem ubuntu@<ip_addr>
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to <ip_addr> <ip_addr> port 22.
debug1: Connection established.
debug1: identity file /***/**.pem type -1
debug1: identity file /***/**.pem type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
ssh_exchange_identification: read: Operation timed out
$"
Amazon EC2	"Re: SSH Timeout
Hello,

Unfortunately you've redacted a little too much information for me to easily help you.

Can you give me the instance ID (i-xxxxxxxx) and I'll take a look?

Thanks!

Richard"
Amazon EC2	"Re: SSH Timeout
Hey Richard, 
Thanks for getting back to me - it seems I've over secured myself... but I've got myself
back in.
Thanks for taking the time."
Amazon EC2	"Re: SSH Timeout
No problem 

Richard"
Amazon EC2	"website performance going slow when google crawling goes high
Hi

We are having an instance t2.medium in which we have put an e commerce site in which we are having 1300000 products.So google is crawling around 30000 pages /day.We expect because of which our some search queries are going slow.
How can we improve performance of website with keeping google crawl rate at high rate in current instance.we have put the content on apache server with mysql in linux.
Please suggest a solution for this instance or suggest if we need to upgrade this machine.."
Amazon EC2	"Re: website performance going slow when google crawling goes high
What’s your current caching setup?"
Amazon EC2	"Re: website performance going slow when google crawling goes high
no caching setup sir as of now."
Amazon EC2	"Re: website performance going slow when google crawling goes high
Hello,

It sounds to me like you should either add a cache layer or move to a bigger instance type.

One relatively easy thing to do would be to move your statics to Amazon S3, and set up a CloudFront distribution to keep performance high. See here:

http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/MigrateS3ToCloudFront.html

Richard"
Amazon EC2	"Do I need an AMI
I created a snapshot of an instance which I didn't have the key details for to work out what was wrong as it had stopped working. I can't see any AMi's associated with my account within the dashboard...Should I or do they not show up once used...

thanks"
Amazon EC2	"Re: Do I need an AMI
An AMI is a machine image, you will need that to launch a new instance. A Snapshot is a copy of a virtual disk.

It is possible to create an AMI from a Snapshot providing the snapshot is of the correct disks. However, from what you have said I cannot ascertain if your issue is related to a mistake in terminology or technology.

Which screen are you looking at to find the AMI? Are you in the correct region? Looking at the Snapshots page, what is the meta for your Volume Snapshot?"
Amazon EC2	"Re: Do I need an AMI
Hi...im looking on the ec2 management console on the left hand side menu under ami's which says you do not have any ami's owned by me. Should there be something in there if the original instance was properly created and working..I'm not sure if what i've copied is just an empty template or not as it was created some time ago by someone else and I don't have the pem file to get access to it. So I copied it and attached a new pem file to it but then i was still getting host authorisation messages. 

The volume meta - do u mean the Volume ID, availability zone etc.

thanks for helping"
Amazon EC2	"AWS Schedule Events notification
Hi,
 Is possible to add additional email for any of the AWS Schedule Events notification ?

Thanks"
Amazon EC2	"Deployment Process
Hi guys,

The past year or so, I've been moving the company I work for over to AWS.  It's going great, but there is one thing where I've hit a bit of a wall.

We have several devs working on several things.  The way they develop is they develop on an in house server which is linked to GitHub.  The project on GitHub will have several branches, including the Dev, Staging and Master.  When they are ready they merge the dev branch with staging and then eventually with Master.  When the code is merged with Staging, TeamCity detects this and pushes the changes to the Staging server, and then the same with the Master which pushes through to the Live site.  This is all automated once the dev has used git merge.  Is there a way I can do this with Amazon?  I've been looking at CodeDeploy but the tutorial I found was quite hands on and you needed to enter a commit ID whenever you wanted it to update.  I'm looking to get rid of TeamCity as I think it's unnecessary, I'm sure AWS can do this but I just don't know how.

At the minute I'm using autoscaling.  Would I need to somehow push the changes to an image and then use this to create the new instances?

Thanks!"
