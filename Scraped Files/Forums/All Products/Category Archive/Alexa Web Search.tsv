label	description
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"Performance Insight for Oracle Standard
Hi all,

I need to activate Performance Insight for a database, but this section is not shown for the database. It's a Oracle Standard Edition Twi db.t2.micro instance. As I found in docs all oracle should be supported. Any suggetions how to enable this feature or did I miss something?

Regards
Stefan"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
Performance Insights is not supported yet on t2 instance types. 

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
""Note
Performance Insights is not supported on db.t2 DB instance classes.""

We do plan to add support for t2 instance types soon.

Kyle"
Alexa Web Search	"Re: Performance Insight for Oracle Standard
:facepalm: Thank you"
Alexa Web Search	"Performance Insights now supported in Cloudformation.
Cloudformation now supports Performance Insights.

EnablePerformanceInsights property is available for the AWS::RDS:DBInstance resource.

Kyle"
Alexa Web Search	"Full SQL text now available for Performance Insights on Aurora PostgreSQL
Today we released full SQL text collection for Performance Insights on Aurora PostgreSQL.
Previously text was limited to 500 bytes. On the other hand the SQL text collection is still subject to the database parameter value track_activity_query_size which typically defaults to 1024 bytes  but can be increased to 102400 bytes.

Kyle"
Alexa Web Search	"Can't enable performance insights on a db.m4.large
I have a db.m4.large instance that I can't modify to enable performance insights.  It was not an option when a created it (snapshot restore) or when I try to modify via the console or awscli

$ aws rds modify-db-instance --db-instance-identifier xxxxxxxxxxx --enable-performance-insights
An error occurred (InvalidParameterCombination) when calling the ModifyDBInstance operation: Performance Insights not supported for this configuration, please disable this feature.

It was created via snapshot restore from another db.m4.large instance. The region is eu-west-1
I get the same error when trying to modify the original instance.
Any ideas?"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
What database engine and version? 
Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
from https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html
currently supported DB engines for Performance Insights:

Amazon Aurora PostgreSQL
Amazon Aurora MySQL (Aurora MySQL version 1.17.3 and higher 1.x versions)
Amazon RDS MySQL (MySQL 5.7 version 5.7.22 and higher)
Amazon RDS PostgreSQL version 10

Kyle"
Alexa Web Search	"Re: Can't enable performance insights on a db.m4.large
MySQL 5.7.17 
SO need to upgrade to 5.7.22

Thanks, I didn't spot that.

Edited by: pellis on Sep 25, 2018 12:38 AM"
Alexa Web Search	"RDS Performance Insights for MySql
Hello, 

Maybe I missed something, I thought AWS announced Performance Insights for MySQL 5.7.22 or higher (not Aurora), but I can't seem to enable it on any of my instances.  Is this really publicly available, or did I imagine that?  If so, how do I enable this on an existing instance?"
Alexa Web Search	"Re: RDS Performance Insights for MySql
I think I just found the answer to my problem...

""Performance Insights is not supported on db.t2 DB instance classes.""
from
https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html"
Alexa Web Search	"Performance Schema Not enabled error
In the Performance Insights page at the top we get an error for all 3 our DBs (write and 2 read replicas Aurora 5.6.10a 1.17.4). 
""The Performance Schema does not seem to be enabled for this database instance. This means Performance Insights will operate in a sub-optimal mode and some important data will be missing. You may need to reboot your database instance to re-enable the Performance Schema.""

We did enable performance schema ahead of the preview of performance insights. SHOW VARIABLES LIKE 'performance_schema'; query on the DB shows performance_schema	ON so I'm not really sure what this error message is referring to. Is there a secondary setting we're missing?"
Alexa Web Search	"Re: Performance Schema Not enabled error
The Performance Schema parameters needed for Performance Insights are documented here:

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.Enabling.html#USER_PerfInsights.EnableMySQL

The easiest way to manage Performance Schema for Performance Insights is to leave the Performance Schema parameters to their default which is off and then Performance Insights will automatically manage them. If Performance Schema is already on, then Performance Insights won't managed the Performance Schema parameters.  Whether managed automatically by Performance Insights or managed manually, shouldn't mater to Performance Insights if the right parameters are set. When the right parameters are set Performance Insights shows database load by wait events by default. When the parameters are not set Performance Insights shows database load by SQL by default and if load by  waits is chosen it will show load by ""states""  instead of ""waits"" (most waits have slashes in their name like ""wait/io/file"") . Showing load by waits is much more useful than load by state.  We have found situations where the message warning about the parameters not being set has been incorrect and that is being addressing quickly.

Kyle"
Alexa Web Search	"Performance Insights - All RDS types - Mysql and SQL Server
Hi There,

Is there any future plans or backlog work in relation to having performance insights enabled on all RDS types, in particular mysql and SQL server RDS instances ?

Cheers heaps

Jade"
Alexa Web Search	"Re: Performance Insights - All RDS types - Mysql and SQL Server
Yes, the plan is to roll out Performance Insights on all the RDS databases.

Stay tuned. More announcements should be coming shortly.

Kyle"
Alexa Web Search	"I'm runnning one SQL using all CPU, but cloudwatch disagrees
Cloudwatch says I'm using 6% CPU, but My one SQL statement visible in Performance Insights says it is using 100%."
Alexa Web Search	"Re: I'm runnning one SQL using all CPU, but cloudwatch disagrees
Performance Insights is divided into two sections. The top section shows the load of the database over time. By default that load is grouped by wait events and you can see among the waits, the CPU time demanded by the sessions on the database. This CPU should be the same or smaller than the CPU from Cloudwatch (as Cloudwatch CPU can include processes running outside the database). CPU will be reported in units of Average Active Sessions (AAS) which is different that % CPU. AAS can be converted to %CPU by dividing AAS for CPU by ""Max CPU"" which is the number of vCPU. If my AAS for CPU is 1 and my ""Max CPU"" is 4 (i.e. I have 4 vCPU) then my %CPU is 25%. Visually this is easy to see by seeing that AAS from CPU is about 1/4 of the height of the Max CPU line. 

On the other hand the bottom section of Performance Insights show by default the Top SQL. The bar in top SQL shows the relative load of each SQL. The load bar by default is grouped in to colors which represent the relative time spent on each type of wait. The wait colors correspond to the wait colors in the load chart on top. If the bar looks like it's full, it doesn't mean it's at 100% - it's just showing the relative load of the SQL vs the other SQL.  If that SQL's load bar is all CPU, it's spending 100% of it's time on CPU but it doesn't mean it's using 100% CPU on the host. The % CPU usage on the host can be seen in the Load chart.

Kyle Hailey

a"
Alexa Web Search	"SignatureDoesNotMatch on Classic ASP
Hi All,I'm trying to create a bucket using SOAP but I keep getting the SignatureDoesNotmatch error.I'm using me own .dll that I created using C# to generate a signature. IfI use C# code to generate the signatureand make requests it works well without any errors, but when I use the same signature in ASP I keep getting this error (SignatureDoesNotMatch).I don't know what I'm doing wrong in ASP but I don't understand why it works in C# but not in ASP when I'm using the same code to create the signature.Thanks for you help in advance."
Alexa Web Search	"Re: SignatureDoesNotMatch on Classic ASP
Hi,As announced here: http://developer.amazonwebservices.com/connect/ann.jspa?annID=399 the Alexa Web Search service was shut down on January, 27.- GregAlexa"
Alexa Web Search	"Re: SignatureDoesNotMatch on Classic ASP
Wrong place."
Alexa Web Search	"Need a startin point please
Hello,I am using wordpress and would like to be able to pull specific products into my pages or posts along with the reviews for each product. Obviously, I need to be able to include my affiliate link into the products.There is so much information on this site that I am not finding it easy to get a starting point. If someone could be so kind and steer my in the right direction, I would be greatful.Thanks in advance,Karen"
Alexa Web Search	"Re: Need a startin point please
Hi,This forum is for Alexa Web Search -- a service that has been shut down.I think you want the Amazon Associates Web Service. The link to that forum is:http://developer.amazonwebservices.com/connect/forum.jspa?forumID=9- GregAlexa"
Alexa Web Search	"Namespace (WSDL) Error
So, I think WSDL hates me. I'm trying to access AWS via Python using ZSI, however I get this error:kelvin@kelvin-laptop:~/alexa$ wsdl2py -b http://websearch.amazonaws.com/doc/2006-02-15/AlexaWebSearch.wsdlError loading http://websearch.amazonaws.com/doc/2006-02-15/AlexaWebSearch.wsdl:  namespace of schema and import matchTraceback (most recent call last): File ""build/bdist.linux-i686/egg/ZSI/generate/commands.py"", line 172, in wsdl2py File ""build/bdist.linux-i686/egg/ZSI/wstools/WSDLTools.py"", line 42, in loadFromURL File ""build/bdist.linux-i686/egg/ZSI/wstools/WSDLTools.py"", line 286, in load File ""build/bdist.linux-i686/egg/ZSI/wstools/XMLSchema.py"", line 102, in loadFromNode File ""build/bdist.linux-i686/egg/ZSI/wstools/XMLSchema.py"", line 1179, in load File ""build/bdist.linux-i686/egg/ZSI/wstools/XMLSchema.py"", line 1289, in fromDomSchemaError: namespace of schema and import matchkelvin@kelvin-laptop:~/alexa$ Does this mean anything to anybody? I've tried with the latest release of ZSI, in addition to the one from SVN."
Alexa Web Search	"Re: Namespace (WSDL) Error
just remove the import type statments, and retry it

   <types>
      <xs:schema>
         <xs:import namespace=""http://awis.amazonaws.com/doc/2005-07-11""
                    schemaLocation=""AWSAlexa.xsd""/>
      </xs:schema>
   </types>"
Alexa Web Search	"AWS/AWIS for linguistic statistics
Hello,

Is there any way to retrieve languange *detected* from pages ? I'm not referring to the language present on HTTP headers when the page was retrieved, but the actual contents of the page(s):

I've seen the following resource, but I think that the ""lang"" crawl metadata refers to the two letter code that the webserver sent (which could be wrong):

http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/SearchSyntax_SearchFieldsArticle.html

Thanks in advance,
Roman"
Alexa Web Search	"Re: AWS/AWIS for linguistic statistics
Hi,The ""lang"" search field is the language detected by analyzing the actual document.- GregNote: A reminder that the Alexa Web Search service is being turned off on January 27th, 2009 as announced here: http://developer.amazonwebservices.com/connect/ann.jspa?annID=374 !"
Alexa Web Search	"401 Code Failure
Here is our command line executable:java WebSearch &ltAccess Key Removed> <SEC KEY> www.yahoo.comWe are getting the following error:Exception in thread ""main"" java.io.IOException: Server returned HTTP response code: 401 for URL: http://wsearch.amazonaws.com?&Action=Search&ResponseGroup=Results&AWSAccessKeyId=&ltAccess Key Removed>&Version=2007-03-15&Signature=4VYg2rS%2FFUH54q7xldNubclA%2BVQ%3D&Timestamp=2009-01-18T01%3A25%3A19.484Z&Query=http%3A%2F%2Fwww.yahoo.com%2F+pagetype%3A%28-irrelevant%29at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)Can you help us? ThanksErik"
Alexa Web Search	"Re: 401 Code Failure
Hi,The reason you are getting this error is that you are not subscribed to the Alexa Web Search web service. Unfortunately, the service is closed to new subscriptions. The service has been deprecated and will be shut off next week on January 27th, 2008.- GregAlexa"
Alexa Web Search	"Depreication of ALL web search products..
Including ""Million Search Results"". What about the thumbnail image service?"
Alexa Web Search	"Re: Depreication of ALL web search products..
Zombadog, et al,There are no plans to deprecate the Thumbnail service."
Alexa Web Search	"Re: Depreication of ALL web search products..
Zombadog, et al, >>There are no plans to deprecate the Thumbnail service. The Thumbnail service is about the onlypart ofthe web search products Alexa OUGHT to deprecate!My startup search engineisusing a competingMUCH better thumbnail service.My search engine is basically pre-release beta at the moment....I have my own crawler machines & software setup to crawl the web & I wasplanning on using Alexa primarily to get data about places where my crawlers have been blocked.I'm also using Yahoo! BOSS, results from there are live on my beta search sites now, along with thumbnails from a much better service than the Amazon/Alexa offering.BOSS is nice in that it's free, unlimited results, etc, BUT it has some drawbacks.Esp. it's goes down for a few hours at a time every so often, it has sometimes gone down at the same time I've been working on code for it, which of course made me think my code was broken until the boss forum lights up with complaints. I had planned on using the Alexa search API as a live backup for when Yahoo BOSS goes down.My own crawlers results supplement boss/alexa resultsbut I can't afford enough crawlers myself to crawl the whole web, they are meant mainly for targeted crawling of sites/pages alexa, yahoo, etc does not crawl very well, and when I want to verify certain data. Alexa seems to almost never crawl certain sites as deep as I know is neccecary, all the missing pages on archive.org probably prove that.There are a number of things AWS allowed which yahoo does not, such as storing the results of your searches, using it for ""spider food"" for your own crawlers. Yahoorequires you add a url which goes thru Yahoo onyour search engineso they can track each click, for each and EVERY search engine result.Yahoo boss just has too many needless seeming, and arbitrary restrictionsin it's terms of use, which the Alexa AWS search api does not.Yahoo Boss TOS:http://info.yahoo.com/legal/us/yahoo/search/bosstos/bosstos-2317.htmlI don't think I can create a quality search alternative with only my own crawler data and Yahoo BOSS data, due mainly to the numerous serious restrictions on the usage of Yahoo BOSS data,such asthis one:""You will not, will not attempt, or will not permit or take actions designed to enable other third parties to:""...""(iv) access or use the Services for the purpose of aggregating, analyzing, extracting, or repurposing any Yahoo! branded properties;"" And of course also, ""Yahoo! may suspend Your access to and use of the Services"" ...""if""... ""(v) You use any of the Web Search Results other than as expressly permitted herein; """
Alexa Web Search	"Re: Depreication of ALL web search products..
The statements on top of the page at http://aws.amazon.com/alexawebsearch/ says that ""The service has been deprecated and is no longer available for new subscriptions."" What about ""old"" subscriptions ? Do we have to migrate to a new service ? And what about the impact on our analysis/development stage, nobody cares ? Thank you,Luigi"
Alexa Web Search	"Re: Depreication of ALL web search products..
Hi,If you are already subscribed to the Alexa Web Search service you can keep using it through January 26th, 2008. The service will be turned off on January 27th.<span style=""width: 500px""><span>Yes, you will have to migrate to another search service. The ProgrammableWeb website offers a list of alternative web services that provide web search:http://www.programmableweb.com/apis/directory/1?apicat=SearchWe apologize for the inconvenience to you. - GregAlexa</span></span>"
Alexa Web Search	"Retrieving cached files from S3
I know the Alexa search services are going away in a few weeks, but I am unable to retrieve cached alexa data from S3 right now. Has access been turned off to the alexa web crawl data in S3. For example, I did a query on the million search results interface and got the following resulthttp://digg.com:80/microsoft/Firefox_market_share_exceeds_20Digg - Firefox market share exceeds 20%!utf-832639/2008/08/07/51/5/51_5_20080807172846_crawl107.arc.gz11642414I am then trying to retrieve this data from S3bucket=""com.alexa.crawl"";key=""/2008/08/07/51/5/51_5_20080807172846_crawl107.arc.gz"";Map headers=new HashMap();headers.put(""Range"",Arrays.asList(new String[] { ""bytes=11642414-11675053""}));However, it returns Access Denied ( or 403 Forbidden ). I've tried several different methods ( REST, SOAP ) and several different tools ( curl, java, ) but they all seem to behave as if access has been restricted.I tried the same code on some personal items I have in S3 and it seems to work, so I think I am calling S3 properly.Can anybody help?"
Alexa Web Search	"Re: Retrieving cached files from S3
Hi,All arc files dated before 2008/08/18 no longer exists in S3. I'm sorry, but it looks like there are some documents in the search index marked as 'Cached' that have actually already been deleted. In order to exclude these old documents, you could add Date:(-200808 -200807) to your query to exclude documents crawled in July and August.I'm testing this now, I'll update this thread when the test completes. Thank you,- GregAlexaUpdate: test completed successfully and I was able to download the cached documents from S3.

Message was edited by: Greg@Alexa"
Alexa Web Search	"Re: Retrieving cached files from S3
Thanks for the information. However, I tried a later date and I am still having trouble ( still getting access denied type errors ). I want to make sure it isn't a problem with my download code. Can you give me an example of something I should be able to download. Basically, I would like the name of a file ( a.k.a key ) and an range where I should be able to download a cached page.Thanks,Mark."
Alexa Web Search	"Grep The Web Project Requirement...
I've got an old client who wants to do a raw, grep the web, typeof scan for some embedded javascript. Actually, a pretty simplepattern search. In short, they want to collect and parse over about 2 levels deepfrom the home page of domains across the alexa top 100,000 looking for some specific javascript src include file.If a page within the site has the target javascript, simply recordthe domain name. For example, if a page within somedomain.comhas the superspecial.js within the raw html, then add thedomain name to a list. For example,<script src=http://anothersite.com/lib/superspecial.js>I really don't do much search stuff anymore and amazon doesntseem to allow new registrations for the service, so just thought i'd post this for my former client. If this is a project you'd like to take on, email dan@abcsearch.com and daniel will be glad to give you the specifics and talk budget.thanks,-ah"
Alexa Web Search	"Getting a list of arc files
<div class=""jive-body"">Hi , I would like to load a portion of Alexa chached docs. Could you please advise, how can I get a list of all the arc files there is in the Alexa bucket for a specific crawl ? another minor question:How could I know the specific character set of each page ? Thanks in advance, Yigal </div>"
Alexa Web Search	"Re: Getting a list of arc files
We would also like to know this. We heard that the Alexa Web Search is going to be discontinued soon, and that wouldn't affect us if we still had access to the S3 crawl bucket and we could get a list of .arc.gz files, since we would just like to process these files. What would be ideal is if everyday a file was created in the S3 crawl bucket which would contain the list of .arc.gz files created/stored for that day. Then once a day we could launch an ec2 instance, process the new .arc.gz files and download the results.At the moment, we've found the only way to get a list of arc files is to run ""million result"" search queries and identify the arc files (the 5th column). This takes a lot of work and will no longer be an option for us next year.Does anyone have any suggestions or advice? We'd be happy to use ec2 for processing if we could only get a list of files to process. Thanks."
Alexa Web Search	"Re: Getting a list of arc files
Hi,We are looking into this. I will post back to this thread with a response.Are there any other ""million search"" users who just want to get access to the crawl?Thanks,GregAlexa"
Alexa Web Search	"Re: Getting a list of arc files
Hi Greg,Thanks for looking into this. Do you have any news?- Ray"
Alexa Web Search	"Can I use web search to find websites with a certain domain extension?
Hello,I'm not sure if I understand how to use websearch. Can I find a list of websites that have a particular domain extension? For instance I want to find 1 million websites that have the .us extension.How would I use websearch to find this?If websearch can't do this, is there another alexa tool that can?Thanks,- Green"
Alexa Web Search	"Re: Can I use web search to find websites with a certain domain extension?
Hi,Alexa Web Search does do this, but the service had been deprecated and is closed to new signups. See http://aws.amazon.com/alexawebsearchIf you are already a subscriber you can use the Site search field as described in the API docs on the ""Search Query Syntax --> Search Fields"" page:http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/site:(us)And make a request like this:http://wsearch.amazonaws.com/?Action=Search&amp;
Query=site%3A%28us%29&amp;
ResponseGroup=Context%2CResults%2CQueryCorrection&amp;
Signature=YOUR_SIGNATURE&amp;
Version=2007-03-15&amp;
PageNumber=1&amp;
MaxNumberOfDocumentsPerPage=10&amp;
AWSAccessKeyId=YOUR_ACCESS_KEY&amp;
Timestamp=YOUR_TIMESTAMP&amp;
SignatureVersion=0
- GregAlexa"
Alexa Web Search	"Re:  Deprecation of the Alexa Web Search service
<blockquote>	<span style=""color: #cc0033"">We are announcing the deprecation of the Alexa Web Search service as of	November 26, 2008. After this date, the Alexa Web Search service will	be closed to new subscriptions. The service will continue to be	operational for 60 days until February 26, 2009.	 	Thank you,		- The Alexa Web Services Team 	</span></blockquote>That's unbelievable! I just finished a big project using Alexa Web Search service.How can I trust any AWS in the future? It's not possible to develop anything with them if the service is stopped within a couple of days like this!Really disappointing!"
Alexa Web Search	"Re:  Deprecation of the Alexa Web Search service
martin52583, et al,The service is being deprecated over a period of 60 days. It will be available until then - until Jan 26th, 2009. So, you do have a couple of months during which you can port your current apps/services to another platform such as...<span><span style=""font-family: Verdana,sans-serif""><span style=""color: #0000ff""><u>http://www.programmableweb.com/apis/directory/1?apicat=Search</u></span>We are extremely sorry for the disappointment and inconvenience this decision has caused you and appreciate the support that we have gotten from developers like you. Thank you.</span></span>"
Alexa Web Search	"Re:  Deprecation of the Alexa Web Search service
The problem is that none of those platforms that I am aware of have the capabilities of AWS.Wouldn't it make more sense to just close the doors to new folks and let those that are using it keep access?Oh, well."
Alexa Web Search	"Getting ""giving up on search, too many failed attempts"" message? Fix?
Hello, we have been using the Alexa web search for quite some time. Over a year now, and have had no problems. However, the past couple of days we've been unable to have Alexa return any data for us. When we request data, this is what we get back:""<Message>giving up on search, too many failed attempts</Message>"" Is this an Alexa problem that is being fixed or is this something that we're doing on our end? Did something change on Alexa's end?Please let us know ASAP, as we're relying heavily on this search platform.Thank you."
Alexa Web Search	"Re: Getting ""giving up on search, too many failed attempts"" message? Fix?
Hi,We're looking into this. I will post back to this thread with an update.Thanks,GregUpdate: We have fixed the problem, and are working on deploying the fix.

Message was edited by: Greg@Alexa"
Alexa Web Search	"Re: Getting ""giving up on search, too many failed attempts"" message? Fix?
Hi Greg. Thank you. I've just re-ran the query and we're still getting the same thing... Have you deployed the fix yet? Today is thr 19th and I noticed your message was on the 18th.Thank you."
Alexa Web Search	"Re: Getting ""giving up on search, too many failed attempts"" message? Fix?
Hi,
The fix was deployed yesterday.   I've run a bunch of test queries of various sizes and they have all succeeded.   Could you please private message me the query you are making?
Thanks,
- Greg"
Alexa Web Search	"Grep the whole web
Hi all, I understood from someone that in the past it was possible to run grep the web (on the EC2 framework) on all the net (i.e. on a full Alexa 'crawl').From reading now the documentation, It seems that it's only possible to run it on a file that contains up to 10M urls.What's the truth ? Is there a possiblity to get a full Alexa 'crawl' as input to my program running on EC2 ?Yigal"
Alexa Web Search	"Re: Grep the whole web
Here is the link for the service as it was http://web.archive.org/web/20060508124304/websearch.alexa.com/welcome.htmlI'm asking if there is a similar service todayYigal"
Alexa Web Search	"Re: Grep the whole web
Hi,No, you can only run a Grep on up to 10,000,000 documents.- GregAlexa"
Alexa Web Search	"Intermittent but frequent empty results back from Alexa.
I am getting intermittent but frequent empty results back from Alexa search.
Here are the two main functions in my Alexa class

//execute the search after user has set the parameters
public function alexaSearchExecute()
{	$query_url=$this->generate_url($this->keyword);
	$this->raw_alexa_results=$this->make_http_request($query_url); // CURL function 
	return $this->resultsAsArray($this->raw_alexa_results);
}

// output function - converts the alexa result xml to an array
private function resultsAsArray($r)// uses PHP's simplexml_load_string for xml to array 
{	$result_set=Array('error'=>"""".$this->errors,'queryCorrection'=>"""",'totalDocumentsFound'=>0,'documents'=>Array());	
	$xml=simplexml_load_string($r);
	if(is_object($xml))
	{	if($xml->getName()==='SearchResponse')
		{	if($xml->SearchResult)
			$result_set['totalDocumentsFound']=(int)$xml->SearchResult->EstimatedNumberOfDocuments;
			if($xml->SearchResult->QueryCorrection){$result_set['queryCorrection']=(string)$xml->SearchResult->QueryCorrection;}
			$ri=0;
    	foreach($xml->SearchResult->Document as $document)
			{ $result_set['documents'][$ri]['title']=(string)$document->Title;
			  $result_set['documents'][$ri]['url']=(string)$document->Url;
				$result_set['documents'][$ri]['description']=(string)$document->Context;
				$ri++;
			}
		}
		elseif($xml->getName()==='ErrorResponse')
		{ // alexa response error - try to get cached results and alert admin
			$result_set['error'].=""|||TYPE:"".$xml->Error->Type.""\r\nCODE:"".$xml->Error->Code.""\r\nMESSAGE:"".$xml->Error->Message;
		}
		else // undetermined alexa error
		{	$result_set['error'].=""|||UNDETERMINED ALEXA ERROR"";
		}
	}
	else
	{ // non alexa error - try to get cached results and alert admin
		$result_set['error'].=""|||XML OBJECT ERROR\r\n\r\n---\r\n"".$this->raw_alexa_results.""\r\n---\r\n\r\n"";
	}
	return $result_set;
}

As you can see the second function turns the raw results from Alexa into an XML object($xml), and then checks that $xml is an object before loading the $result_set array with the data. Any errors detected are appended to $result_set['error'].

The actual script that shows the results to the user checks if $result_set['error']=='' and if it !='' shows a friendly error message and emails the admin the contents of $result_set['error'].

I frequently get these errors emailed to me - 

/search.php
2008/09/04 02:11:56
\|||XML OBJECT ERROR

---

---

This error indicates that $this->raw_alexa_results contained only a line ending ie. no XML was returned.
Because this is an intermittent error it seems like an error on Alexa's end rather than CURL failing on our server.

Any feed back would be appreciated."
Alexa Web Search	"Re: Intermittent but frequent empty results back from Alexa.
Hi,Could you please post an example of the full http request you are making?Thanks,Greg"
Alexa Web Search	"Re: Intermittent but frequent empty results back from Alexa.
Thank you for your fast response.

// the URL that is sent to Alexa
http://wsearch.amazonaws.com/?&Action=Search&AWSAccessKeyId=ACCESS_KEY
&ResponseGroup=Context,QueryCorrection&Version=2007-03-15&Timestamp=2008-09-07T22%3A58%3A12.000Z
&Signature=SIGNATURE&Query=whatever+porn%3A%28-yes%29+Lang%3Aen
&PageNumber=1&MaxNumberOfDocumentsPerPage=10


// create vaild URL for alexa
private function generate_url($query)
{ $timestamp=$this->generate_timestamp();
	$url=self::API_URL
  	.""&Action="".self::ACTION
     .""&AWSAccessKeyId="".self::ACCESS_KEY
     .""&ResponseGroup="".self::RESPONSE_GROUP."",QueryCorrection""
     .""&Version="".self::VERSION
		.""&Timestamp="".urlencode($timestamp)
     .""&Signature="".urlencode($this->calculate_RFC2104HMAC(self::ACTION.$timestamp,self::SECRET_ACCESS_KEY))
     .""&Query="".urlencode($query);
	if(strlen($this->country)==2){$url.=urlencode(' Region:'.$this->country);}
	if(strlen($this->language)==2){$url.=urlencode(' Lang:'.$this->language);}
	$url.=""&PageNumber="".$this->offset
		.""&MaxNumberOfDocumentsPerPage="".$this->limit;
	return $url;
}

// access Alexa, returns XML 
private function make_http_request($url)
{ if($ch=curl_init($url))//
	{ curl_setopt($ch,CURLOPT_TIMEOUT,4);
   	curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);
   	$result=curl_exec($ch);
   	curl_close($ch);
   	return $result;
	}
	else
	{	$this->errors.=""|||CURL INIT ERROR"";
		return;
	}
}

private function generate_timestamp()
{return gmdate(""Y-m-d\TH:i:s.\\0\\0\\0Z"", time());}

// a valid alexa URL requires an encoded signature of ACTION+timestamp+SECRET_ACCESS_KEY
private function calculate_RFC2104HMAC($data,$key)
{ return base64_encode(
   	pack(""H*"", sha1((str_pad($key, 64, chr(0x00))
     ^(str_repeat(chr(0x5c), 64))) .
     pack(""H*"", sha1((str_pad($key, 64, chr(0x00))
     ^(str_repeat(chr(0x36), 64))) . $data))))
    );
}"
Alexa Web Search	"Re: Intermittent but frequent empty results back from Alexa.
Hi,We have reproduced the error and are looking into this.- Greg"
Alexa Web Search	"Re: Intermittent but frequent empty results back from Alexa.
Any updates on this?"
Alexa Web Search	"Alexa Web Search Samples
I downloaded the VB.Net Sample, converted it to VS 2008I followed the instructions supplied with the example.Example fails withThe remote name could not be resolved: 'wsearch.amazonaws.com'Did I download an out of date copy? or what has gone wrong?"
Alexa Web Search	"Re: Alexa Web Search Samples
Solved!"
Alexa Web Search	"Data Traffic pricing EC2<->Alexa Web Search
Hi all,How will I be charged for the traffic between AMI in EC2 and Alexa Web Search?(suppose no more than 20 results for each search)I know that Alexa Web Search Platform is inside the EC2, so I expect that the above data traffic will not be charged, as for traffic between EC2 and S3-US.Is it correct?Regards"
Alexa Web Search	"Amazon Web service
i want to write a programm for our Bibiothek to search Books in WWW. If found the AWS from Amazon and i downloded the Coding for VisualBasic 2005. Also I rgiesterd a acount to aws free account.If send a query to amazon (http://wsearch.amazon.de i became with the VS Coding an Error:Caught Exception: AWS was not able to validate the provided access credentials.Response Status Code: 401Error Code: InvalidAccessKeyIdError Type: SenderRequest ID: 0288dbed-3539-4786-bdae-2fe61aa64725XML: <ErrorResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><Error><Type>Sender</Type><Code>InvalidAccessKeyId</Code><Message>AWS was not able to validate the provided access credentials.</Message><Detail>System.Object</Detail></Error><RequestId>0288dbed-3539-4786-bdae-2fe61aa64725</RequestId></ErrorResponse>Need I for this Query an awis Account who i have Cost for every Search our is there a service where I have no Cost.Sorry if my english is not the i wrote from germany"
Alexa Web Search	"Re: Amazon Web service
Hi,You are not signed up for the Alexa Web Search service. Please go to http://aws.amazon.com/alexawebsearch and click the ""Sign up for Alexa Web Search"" button.- GregAlexa"
Alexa Web Search	"database q
<pre> I want to create a database list that would have amazon's lowest used and new price and that i could update automatically or semi automatically. Let me know if you know if there is a way to do such a thing.</pre>"
Alexa Web Search	"Re: database q
Hi,This forum is for Alexa web search. Could you please post your question to the Amazon Associates Web Service fourm here:http://developer.amazonwebservices.com/connect/forum.jspa?forumID=9Thanks,- GregAlexa"
Alexa Web Search	"Cost of startGrep (""grep the web"")?
I'm considering using AWS for a project, I'm particularly interested in startGrep. However I noticed a cost remark that might make it a non-starter:Onhttp://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/MSR_GrepAction.html it says ""<span style=""color: #660000"">Note: Since the StartGrep action is billed per CPU hour used to process the request, the MaxNumberOfCPUHours sets the maximum you can be charged for a request. The minimum charge is 0.5 CPU hours."" </span><span style=""color: #000000"">(@ $1 per CPU hour). Does this mean that if I run a startGrep against say only 500 pages, that by my estimate should take about 18 CPU seconds (0.005 CPU hrs), that I'm going to be billed $0.50 (the charge for 1/2 CPU hour) for this execution of startGrep rather than $0.005that reflects theactual pro-rata amount of 18 CPU seconds to 1 CPU hour?Second and finally an aside question: To what degree might actual processing time be less that CPU time sincemultiple processors are used? Best and thanks in advance, - Jerry</span>"
Alexa Web Search	"Re: Cost of startGrep (""grep the web"")?
Hi,Yes, you are charged a minimum of $.50.Except for short jobs (such as 500 pages) the actual wall-clock time processing time will be less than the CPU time because there are multiple threads and/or multiple processors working on the job.- GregAlexa"
Alexa Web Search	"Can't access Alexa crawl bucket
Hi.  I did a million search query and got the results.  Now, I'd like to start grabbing the files from the cache, but I'm having a problem (I'm using boto but that probably doesn't matter)

bucket = conn.get_bucket(""com.alexa.crawl"")
Traceback (most recent call last):
  File ""<stdin>"", line 1, in ?
  File ""/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/boto-1.4c-py2.4.egg/boto/s3/connection.py"", line 232, in get_bucket
    rs = bucket.get_all_keys(None, maxkeys=0)
  File ""/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/boto-1.4c-py2.4.egg/boto/s3/bucket.py"", line 212, in get_all_keys
    raise S3ResponseError(response.status, response.reason, body)
boto.exception.S3ResponseError: S3ResponseError: 403 Forbidden
<?xml version=""1.0"" encoding=""UTF-8""?>
<Error><Code>AccessDenied</Code><Message>Access Denied</Message><RequestId>8459AA2E0611C48F</RequestId><HostId>vCCSKpSUC9S2rV+ce568JP+kQqCyozls1xiih+xgX1KfVHkkb8G55cFXHInxso5L</HostId></Error>
bucket = conn.get_bucket(""camill8_test"")


So I get an ""access denied"" error when trying to get the ""com.alexa.crawl"" bucket.  Is this where the cache files live?  Do I have to be on an EC2 instance when I try to access this bucket?  I have my s3 authentication tokens correct, since as you can see, I was able to access a bucket I created just fine.  I also can do web search queries so I know I'm signed up for that service too.  Any ideas what the problem is?  Thanks!"
Alexa Web Search	"Re: Can't access Alexa crawl bucket
Hi,You don't have permission to list all of the objects in the com.alexa.crawl bucket, so the bucket.get_all_keys won't work. You do have permission to get any individual object that is returned in the results.- GregAlexa"
Alexa Web Search	"Re: Can't access Alexa crawl bucket
I see.  You are right.  For the record, the following line is what I should have used:

bucket = conn.get_bucket(""com.alexa.crawl"", validate=False)

The validate keeps it from trying to get a list of all the keys.

Thanks again!"
Alexa Web Search	"how are MSR results ranked?
Are the URLs ranked in any particular order in Million Search Results? We recently got a set of 500K results and were expecting them to be more or less random, but they actually seemed to be ranked in some kind of relevance order..."
Alexa Web Search	"Re: how are MSR results ranked?
Yes, the results are returned sorted in order of their relevance score.- GregAlexa"
Alexa Web Search	"Re: how are MSR results ranked?
But they don't match the ranking that you get for the same query on www.alexa.com ?"
Alexa Web Search	"Re: how are MSR results ranked?
The StartSearch action of MSR searches the full search index. The search on www.alexa.com uses the Search action. The Search action first searches additional indices that are optimized for common web queries and recent events.- GregAlexa"
Alexa Web Search	"Pricing of Million Search Results + Grep The Web
I am bit puzzled on pricing of this scenario:I want to run a Million Search Results - let's say it returns 1 million results - then I want to use Grep on it - let's say it reduces the results to 1000. How much I am paying for such a query? (I don't need to get that million results just that filtered 1000)Thank you!"
Alexa Web Search	"Re: Pricing of Million Search Results + Grep The Web
Hi,They arebilled separately.You make a request using the StartSearch action to get 1,000,000 results. That's billed at <span class=""small"">$0.15 per 10,000 results = $15. You can examine the results at this point.Then you use the StartGrep on those results. The processing time is billed at $1/CPU hour.- GregAlexa</span>"
Alexa Web Search	"Re: Pricing of Million Search Results + Grep The Web
Thanks Greg! I thought if there was any chance that it was cheaper and I misunderstood the pricing. But no worries, grep must be expensive as I can't find any other company on the net that would be doing it."
Alexa Web Search	"Search Protection
Please can someone point us in the direction of some help?

We posted the question below which no one has answered so we tried asking Amazon support but all mails are bouncing <awsp-support@alexa.com>

Any suggestions most appreciated.

http://developer.amazonwebservices.com/connect/thread.jspa?threadID=23965&tstart=0

Hi, 

We are developing an application for the Alexa Web Search which will reward webmasters for putting the search onto their site. Our main concern is that 'some' will use their own search for personal gain - a bit like clicking on your own adsense ads. 

The solutions we have are to 

1. put in a captcha script but this is prohibitive 
2. to monitor the webmaster's IP but they can change that 
3. use cookes but again not effective 
4. or a combination of all three - 

We obviously want to avoid abuse of the search as there is a cost to us so can anyone please suggest a security measure that is more robust 

May thanks in advance"
Alexa Web Search	"online search simple
Okay, the MSR online applet is good, but is there a similar applet for simple search?I only need 5000 results and I don't mind just 200 at a time, but I'm not a VB man, so I need a basic online interface.Any ideas?"
Alexa Web Search	"Re: online search simple
The MSR applet is really meant for testing, and the closest equivalent for simple search would be the search box on the Alexa web site: http://www.alexa.com . The number of results you can get is limited, though.Apart from that, you'd have to do a little programming, or at least plug your AWS keys into an existing code sample. Besides VB, there are samples in Java, C#, Perl, Ruby, etc., at http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=97 ."
Alexa Web Search	"Re: online search simple
thank you!"
Alexa Web Search	"Expiration of cached results?
Hi,When trying to retrieve cached pages immediately after getting the results, I have no problems. But when trying to do the same after some time, I get ""access denied"" for some of the cached pages. Is there an expiration time for cached pages?Thanks, Amit"
Alexa Web Search	"Re: Expiration of cached results?
Pages do expire from the cache after two months."
Alexa Web Search	"Re: Expiration of cached results?
Is it two months from the day they were cached or from the day I got the results?Because I see it happening after a couple of days.."
Alexa Web Search	"Re: Expiration of cached results?
From the day they were cached."
Alexa Web Search	"inconsistent number of results
Hi,When searching for a phrase and limiting the number of results to 100000 I'm getting ~40000 results. When searching for the same phrase and limiting to 300000 I'm getting ~200000. Why is this happening?(I'm asking for cached documents only)Thanks, Amit"
Alexa Web Search	"Re: inconsistent number of results
If you're using the StartSearch action, the MaxNumberOfDocuments parameter sets an upper limit for the number of results you'll receive, but you're not guaranteed to get that many. We try to give you as close to MaxNumberOfDocuments as possible, but the actual number of results you'll get depends on a number of factors including the particular query."
Alexa Web Search	"Re: inconsistent number of results
I understand that, but I'm performing the exact same query with different limits.When I'm performing it with a high limit I get more results than the lower limit.e.g. when I limit it to 300000 I get ~200000, which is more than 100000.So why don't I get the full 100000, when I'm asking for it?"
Alexa Web Search	"Re: inconsistent number of results
I'm afraid I can't go into the details of why, but you're right -- if you ask for more, you get more. And as I mentioned before, it's not really possible to know in advance how many results you'll get."
Alexa Web Search	"Re: inconsistent number of results
Thanks for the clarification.As I see it, you could just pretend I asked for more and give back a subset the size I actually wanted. As a customer it feels that I'm not getting the service I want, with no real reason.That said, this service is a dream comes true, so I shouldn't complain too much"
Alexa Web Search	"MSR + SiteThrottle
Using the MSR online applet to test a search, I'm unable to get anyresults for a search when I include 'SiteThrottle=4' in the query.Any ideas please?e.g. I enter the following in the query textbox...football AND SiteThrottle=4and the result is# No results for query: football AND SiteThrottle=4"
Alexa Web Search	"Re: MSR + SiteThrottle
SiteThrottle is a separate request parameter from Query -- see http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/MSR_SearchAction.html . What you're typing in the MSR applet is just the Query. Unfortunately that interface doesn't support SiteThrottle.

Message was edited by: Kenji@Alexa"
Alexa Web Search	"Spamming The Web Search
Hi,

We are developing an application for the Alexa Web Search which will reward webmasters for putting the search onto their site.  Our main concern is that 'some' will use their own search for personal gain - a bit like clicking on your own adsense ads.

The solutions we have are to 

1. put in a captcha script but this is prohibitive
2. to monitor the webmaster's IP but they can change that
3. use cookes but again not effective 
4. or a combination of all three - 

We obviously want to avoid abuse of the search as there is a cost to us so can anyone please  suggest a security measure that is more robust

May thanks in advance"
Alexa Web Search	"How to used advanced features?(and is it possible at all)
after reading http://awis.blogspot.com/2007/01/developers-corner-gets-facelift.htmland comparing what I see with Alexa Search/AWIS documentation I become a little confused:Page sais:Just think of it... where else can you: Take the reins of a Web crawler and direct it to crawl specific pages on specific domains and collect specific document types  Mine the documents in the crawl and generate custom indices  Reorder search results and create custom verticals  Use your own advertising solutionUse your own advertising solutionNo problem as I seeTake the reins of a Web crawler and direct it to crawl specific pages on specific domains and collect specific document types HOW?Except using add site form onalexa.com|browsing tosite in question with toolbar?Also givenfact that 93% of documents types currently in index are HTMLMine the documents in the crawl and generate custom indices Using MSR and custom processing on my own EC2 instances?or there is other way?Reorder search results and create custom verticals Would be useful feature but again, how exept issuing MSR for very broad subject and reimplementing all stages of search engine except crawler on S3/EC2"
Alexa Web Search	"Re: How to used advanced features?(and is it possible at all)
It sounds to me like that blog post refers to some services that have since been discontinued. Check http://www.alexa.com/site/devcorner for updated information.- Kenji"
Alexa Web Search	"Camera Search
Hi,This message is specifically aimed at Derrick. Derrick, I've set up my AWS CIS seemingly exactly to spec as per your instructions, however it's returning the following error when I run the job:<span class=""bodyReg"">(12/28/06 08:31:59) ERROR: Executable /us/home/<myuserid>/cis/run.sh does not exist or is not executable.(12/28/06 08:31:59) INFO: Received cancel message from frameworkAs far as I can tell, the run.sh -is- there and -is- executable. I would be grateful for any help you can offer. I simply need to get the CIS running in my account as per your example.PS. Is there any option of support while it's in beta? I sent a request about this but did not receive a responser.Thanks!</span>"
Alexa Web Search	"Re: Camera Search
This issue is being handled off-line. We'll re-post any useful tips here after the fact."
Alexa Web Search	"Re: Camera Search
I am having the same issue. What is the problem?Steve"
Alexa Web Search	"Re: Camera Search
Hi, any update on this?"
Alexa Web Search	"Re: Camera Search
Howdy; I contacted you via private message. Anything related to the Platform side of Alexa Web Search should be taken care of by awsp-support@alexa.com; if you can execute that script from an interactive node you should be able to use it as part of a job."
Alexa Web Search	"Re: Camera Search
Well, where currently I can find documentation for Web Platform (except funcionality arleady available as Amazon Web Services)?"
Alexa Web Search	"Alexa Web Search and S3
Is it possible to use Alexa Web Search to search non-public content (i.e. content that does not have an public URL) that is stored in S3? If so, how do I tell the web search to crawl the content?"
Alexa Web Search	"Re: Alexa Web Search and S3
Drew,Currently, Alexa only crawls publicly accessible web pages.- Kenji"
Alexa Web Search	"Re: Alexa Web Search and S3
Is more details on crawling process available?For example I checked some sites with 'pubic' Alexa - their thumbtails are from front pages only, some sites are not in index, for some queries results is...disappointing(compared to google search)(on first pages on public Alexa search, is this mean that just Alexa's sorting algorithms are strange and using my own code with MSR helps?)GrepTheWeb is not documented (except price and how it was created - but there is no API/examples)Anyway, google recently announced trillion pages indexed, and Alexa had only 10 billion, this will be improved?"
Alexa Web Search	"Re: Alexa Web Search and S3
Alexa's crawl is guided by Alexa tool bar users. It's designed to crawl the bulk of the sites on the web that people actually visit.The GrepTheWeb API is documented at http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/ under Million Search Results / StartGrep."
Alexa Web Search	"Re: Alexa Web Search and S3
Thanks for answer.So if user visited one page(non-front) on site with toolbar, Alexa will not index other pages reachable on site?(this would be really strange) Or it will visit to a certain degree,how much if that's true?Also, I read that toolbar funcionality was originally in earlier IEs, is it still here and reporting?or 'Show related links' works without reportingAlso, is it possible to see somethere number of toolbar users/per country?"
Alexa Web Search	"Searching image URL's & How many images?
Hi, I'm new to the forum. We need a list of URL's for images on the web in two forms: First, as subject-specific sample searches, then unlimited in quantity (as in, the maximum possible of all images). Is the best approach to use simple search for the tests and StartGrep for the larger quantity? How many total image URL's (let's assume jpeg's) are accessible by Alexa Web Search? And, how many total if porn is removed from search results? Thanks,"
Alexa Web Search	"Re: Searching image URL's & How many images?
Hi,As far as searching for image URLs, the crawler prioritizes html docs much more than other types. The documentation says that ""Note: As of November 2007, about 93% of the pages in the search index were html."" This number is now about 98%.So, if you want to get a large number of image URLs, your approach would need to be to:- Use the MSR feature to locate html pages that are of interest to you.- Then, either use the StartGrep feature to harvest image URLs from those documents. Or, crawl the documents and process them yourself.- GregAlexa"
Alexa Web Search	"Alexa code samples?
Hey,I'm looking for the full code that accompanies the article on searching for hCards using Alexa: http://www.alexa.com/site/devcorner/samples?page=hcardThat page indicates that it was stored in Alexa User Store (/us/pub/getting_started/apps/hcard), which you can't access anymore as far as I know.Does anyone have a copy of the code? A link would be great, but feel free to email me at oliver - at - onesteprevolution - com.Thanks,Oli"
Alexa Web Search	"Re: Alexa code samples?
Hi Oli,That code sample was for our, now retired, Alexa Web Search Platform. The platform product is now active on a combination of Amazon's Web Services. The old User Store is now Amazon's S3 and you use Amazon's EC2 to run any code to process our crawl files (also stored on S3).I have attached our java parsing code for this hcard example to this response. Please use this on S3 and EC2 to process the hcard data you are looking for. Within the compressed file is a short ReadMe from the Alexa Developer who wrote this:""This hcard parser was used for a demo hcard search engine at Alexa. It should be fairly simple to compile; use the jar files in the libdirectory.I'm afraid I can't provide support for it. You'll have to play aroundwith it and see if it's useful for you. Start by looking at com.alexa.hcard.HcardParser. Kenji Matsuoka16 October 2007""-Ryan"
Alexa Web Search	"Re: Alexa code samples?
Outstanding, my thanks to Ryan and Kenji for their assistance.Oli"
Alexa Web Search	"Re: Alexa code samples?
Hi Ryan,I am also looking for a hCard search engine.If I understand correctly we should use the S3 and EC2.Could you please tell me how this works?Can we use this code for free?Looking forward.Thanks.K"
Alexa Web Search	"Re: Alexa code samples?
Hi,Are you looking to build your own hcard search engine? This whitepaper explains the basics of how to get access to find and process documents in Alexa's crawl:http://developer.amazonwebservices.com/connect/entry.jspa?externalID=801Can you tell me more about what you'd like to do, and I can point you in the right direction.- Greg Aexa"
Alexa Web Search	"getting past 10 M results
In an effort to get more than 10 M results for one query, I divided my one-day MSR search into contiguous rank ranges:PageType:(-irrelevant) Date:20080401 traffic:(top5)PageType:(-irrelevant) Date:20080401 traffic:(-top5 top10)PageType:(-irrelevant) Date:20080401 traffic:(-top10 top50)PageType:(-irrelevant) Date:20080401 traffic:(-top50 top100)PageType:(-irrelevant) Date:20080401 traffic:(-top100 top500)PageType:(-irrelevant) Date:20080401 traffic:(-top500 top1000)PageType:(-irrelevant) Date:20080401 traffic:(-top1000 top5000PageType:(-irrelevant) Date:20080401 traffic:(-top5000 top10000)PageType:(-irrelevant) Date:20080401 traffic:(-top10000 top50000)PageType:(-irrelevant) Date:20080401 traffic:(-top50000 top100000)PageType:(-irrelevant) Date:20080401 traffic:(-top100000 top500000)PageType:(-irrelevant) Date:20080401 traffic:(-top500000 top1000000)PageType:(-irrelevant) Date:20080401 traffic:(-top1000000 top5000000)PageType:(-irrelevant) Date:20080401 traffic:(-top5000000 top10000000)PageType:(-irrelevant) Date:20080401 traffic:(-top10000000)The numbers of results were: 85,003 50,920 743,106 113,409 834,991 277,947 2,787,101 1,652,600 4,438,343 811,363 1,799,898 707,886 3,373,361 1,103,852 1,149,234(The above will look better in a fixed-width font.)So, ranks 10,000 to 50,000 got over 4 M results, while the top 5 sites included only 83 k results. The total is nearly 20 M, but I'm given to understand that Alexa gets 60 M to 100 M URLs per day. Is there some way I can get more of them?-- mARK

Message was edited by: paulidee"
Alexa Web Search	"Re: getting past 10 M results
And why didn't even the catch-all last search return 10 M results?Something is missing here.-- mARK"
Alexa Web Search	"Re: getting past 10 M results
Hi,The Date:20080401 traffic:(-top10000000) search now returns 4,060,656 results.I'll repeat some of the other ones to see if they are showing a similar increase.- Greg"
Alexa Web Search	"Re: getting past 10 M results
Thanks for the test. What I'm really trying to do is get all the URLs Alexa has for a particular day. Will doing all the ranges now get a total of the 60 M to 100 M that I'm expecting?"
Alexa Web Search	"What date range is available to StartSearch?
Some months ago I ran MSR searches for each day of the first two weeks of January 2008, and got 10 M results for each. Two days ago I ran a search for 20080116, and got 1.7 M results. Today I re-ran 20080115, and got just 83 k results, not the 10 M of April. I also know that very recent dates are not available.My query string is, e.g.,Date:20080115 Porn:no Magic:(html) PageType:(-irrelevant)Are old results dumped from the index? How old? And how soon are new results available?-- mARK

Message was edited by: joeyideeinc"
Alexa Web Search	"Re: What date range is available to StartSearch?
Hi,Documents are generally kept in the index for about 6 months. For the documents currently available via the date: fields, 20080115 is the earliest day with data, and 20080612 is the latest day. - GregAlexaP.S. Note: In order to provide timely search results for news stories, for example, there are documents in the search index that were crawled and indexed the same day. But these documened are not indexed using the date search field. So they can't be selected via a query using that field."
Alexa Web Search	"Re: What date range is available to StartSearch?
I have just tried the first two days in May, and got nothing:# No results for query: Date:20080501 PageType:(-irrelvant) Porn:no Magic:(html) Country:(*)# No results for query: Date:20080502 PageType:(-irrelevant) Porn:no Magic:(html)Is there some problem with the index for those days?-- mARK"
Alexa Web Search	"Re: What date range is available to StartSearch?
Hi,I reproduced that behavior. We are looking into it.- GregAlexa"
Alexa Web Search	"Re: What date range is available to StartSearch?
Do you know of any dates that will work, or of dates that I should avoid trying? I am trying to get data as soon as possible. Thanks."
Alexa Web Search	"Re: What date range is available to StartSearch?
Yes, Dates up to and including Date:20080429 work.- Greg

Message was edited by: Greg@Alexa"
Alexa Web Search	"Re: What date range is available to StartSearch?
I did searches for two days in February, and got only 12 M or 13 M results each. The middle of March yielded nearly 19 M. Do the index entries start getting purged before they are six months old, so that there are some results at five months, but not as many as there used to be?"
Alexa Web Search	"Re: What date range is available to StartSearch?
Hi,1. The date index problem has been fixed. You should be able to do queries using any date in the range, as of today, Date:20080117 to Date:20080617.2. No, it is not a gradual process. The oldest index files are replaced first. - GregAlexa"
Alexa Web Search	"Re: What date range is available to StartSearch?
Does that fixed date-index problem relate to my unexpectedly-low numbers of results described in the thread ""getting past 10 M results""? Or did it only affect older indices, such as February's?"
Alexa Web Search	"Re: What date range is available to StartSearch?
Hi,I think that problem may have been fixed as well. We are running some queries to make sure.- Greg"
Alexa Web Search	"Re: What date range is available to StartSearch?
I repeated a multi-rank-range search (before seeing your message), for 20080319. On 20 June I got 18923299 results, and today I got 19490684. Not much of a difference. None of the ranges got as many as 4 M results.-- mARK

Message was edited by: paulidee"
Alexa Web Search	"Re: What date range is available to StartSearch?
Is it worth my while to try again? These tests are expensive.-- mARK"
Alexa Web Search	"context, or lack thereof & related search terms
I did a search for 'wii' with 'lang:en' and I get back several results. But, the context for the results is nonsensical.I get contexts like the following...system supports wireless connectivity with the Nintendo... 2008...NIN-WIIRAY This item is currently out of...Points, WiiWare titles will offer innovative and varied gaming...What's up with that? None of the contexts are even an entire sentence in length. The results I see on the official Alexa Web Search contain small paragraphs of context, like every other search engine.How do I retrieve the context like that found on the Alexa Web Search? Also, how can I get the link to the cached version of the website?In terms of related search terms, on the Alexa Web Search, when I search for 'wii' I get back 'Related searches:nintendo <span>wii</span>, <span>wii</span> games, <span>wii</span> controller, <span>wii</span> release date'But, in my search, I only get back 'wii release date' How do I change this?Thanks."
Alexa Web Search	"Re: context, or lack thereof & related search terms
After trying many different things, it appears as though my XML library was faulty. Looks as though full context is showing up now. Same with related search terms.Still curious about Cached versions..."
Alexa Web Search	"Re: context, or lack thereof & related search terms
Hi,For the general web search available via the Start action, there is not a way to get access to the Cached documents.It sound like this is not what you want to do ,but:If you use the ""Million Search Results"" feature to do an offline search using the StartSearch action, you can add CachedDocumentsOnly=True to the query and get a list of documents that match your search criteria, and have a cached copy available. You could then process those documents using EC2. This whitepaper has a more detailed explanation: http://developer.amazonwebservices.com/connect/entry.jspa?externalID=801- GregAlexa"
Alexa Web Search	"Error while making StartSearchResult call with MSR
I get following error while making StartSearchResult call with MSR""SSL connection required for backward compatible SOAP authentication.""I downloaded wsdl from link specified in reference documenthttp://msearch.amazonaws.com/doc/2007-03-15/MSR.wsdlThis is what is in Wsdl<span style=""font-size: x-small; color: #0000ff""><</span><span style=""font-size: x-small; color: #a31515"">wsdl:port</span><span style=""font-size: x-small; color: #0000ff""> </span><span style=""font-size: x-small; color: #ff0000"">name</span><span style=""font-size: x-small; color: #0000ff"">=</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff"">AlexaMSRPort</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff""> </span><span style=""font-size: x-small; color: #ff0000"">binding</span><span style=""font-size: x-small; color: #0000ff"">=</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff"">tns:AlexaMSRBinding</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff"">></span><span style=""font-size: x-small; color: #0000ff""> <<span style=""font-size: x-small; color: #a31515"">soap:address</span><span style=""font-size: x-small; color: #0000ff""> </span><span style=""font-size: x-small; color: #ff0000"">location</span><span style=""font-size: x-small; color: #0000ff"">=</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff"">http://msearch.amazonaws.com</span><span style=""font-size: x-small"">""</span><span style=""font-size: x-small; color: #0000ff"">/></<span style=""font-size: x-small; color: #a31515"">wsdl:port</span><span style=""font-size: x-small; color: #0000ff"">>What is correct SSL URL soap proxy needs to send request to.</span></span></span>"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
HiI could not find any relevant information to resolve this issue . I am new to amazon webservices. I would appreciate any information as I need to resolve this urgently.I just need SSL UrlThanks

Message was edited by: Yogesh Kolte"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
Hi,The Alexa Web Search service doesn't support SSL. I'm not sure where that message is coming from. What programming language are you using? Can you post the full SOAP response here?Thanks,- GregAlexa"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
I am using C# in VS 2005. I have removed acceskey and signatureHere is traceHTTPLibraryClient.vshost.exe---AfterSerialize ---- Client Message-----6/13/2008 1:56:13 PM<?xml version=""1.0"" encoding=""utf-8""?><soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema""><soap:Body><StartSearch xmlns=""http://msearch.amazonaws.com/doc/2007-03-15/""><Query>The simpsons</Query><MaxNumberOfDocuments>20</MaxNumberOfDocuments><SiteThrottle>2</SiteThrottle><AWSAccessKeyId></AWSAccessKeyId><Timestamp>2008-06-13T17:56:12.500Z</Timestamp><Signature></Signature></StartSearch></soap:Body></soap:Envelope>HTTPLibraryClient.vshost.exe---BeforeDeserialize ---- Client Message-----6/13/2008 1:56:13 PM<?xml version=""1.0""?><soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:aws=""http://webservices.amazon.com/AWSFault/2005-15-09""><soap:Body><soap:Fault><faultcode>aws:Client.RequiresSSL</faultcode><faultstring>SSL connection required for backward compatible SOAP authentication.</faultstring><detail><aws:RequestId xmlns:aws=""http://webservices.amazon.com/AWSFault/2005-15-09"">6f09fe51-d2dd-4bca-9156-879a11fb3ae6</aws:RequestId></detail></soap:Fault></soap:Body></soap:Envelope>This is what i see while debuggingSystem.Web.Services.Protocols.SoapException was unhandled Message=""SSL connection required for backward compatible SOAP authentication."" Source=""System.Web.Services"" Actor="""" Lang="""" Node="""" Role="""" StackTrace: at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall) at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters) at AlexaMSR.StartSearch(StartSearch StartSearch1) in C:\Code\MyCode\HTTPLibrary\HTTPLibrary\Amazon\AlexaMSR.cs:line 185 at HTTPLibrary.Amazon.AmazonMSRQuery.GetItemsFromWebSite(Int32 PageNumber, Int32& TotalNoOfPages) in C:\Code\MyCode\HTTPLibrary\HTTPLibrary\Amazon\AmazonMSRQuery.cs:line 43 at HTTPLibrary.BaseClass.ItemsFinder.SearchAndReturnItems(String SearchPhrase, Int32 MaxNoOfItems) in C:\Code\MyCode\HTTPLibrary\HTTPLibrary\BaseClass\ItemsFinder.cs:line 50 at HTTPLibraryClient.Program.Main(String] args) in C:\Code\MyCode\HTTPLibraryClient\HTTPLibraryClient\Program.cs:line 13 at System.AppDomain._nExecuteAssembly(Assembly assembly, String[ args) at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args) at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly() at System.Threading.ThreadHelper.ThreadStart_Context(Object state) at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state) at System.Threading.ThreadHelper.ThreadStart()Thanks

Message was edited by: Yogesh Kolte"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
Hi,We are able to reproduce the behavior you described, and are working on the issue.Thank you,- GregAlexa"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
Is it possible for you to give us timeframe to get this issue resolved.Thanks"
Alexa Web Search	"Re: Error while making StartSearchResult call with MSR
Hi,I'm sorry, but it will be two weeks until the issue is resolved. As a workaround can you use the Query API instead of the SOAP API?- GregAlexa"
Alexa Web Search	"Problem with C# library and internacionalization.
If I query for ""software proprietrio lang:br"" it throws ""The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details."" but if I query for ""software livre lang:br"" if works ok. It seems like the library has problems making the hash with keywords with accents.Another problem is that ""software livre lang:br"" just return 100 results with default unique. Google estimates 4 millons.Could you check it? Regards, Jonathan Barbero."
Alexa Web Search	"Re: Problem with C# library and internacionalization.
Hi,1. Yes, you must use SignatureVersion=0 with international characters. I recommend you look at the '<span class=""jive-name"">Alexa Web Search Query Example in C#</span>' in the Community Code section; http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=972. I'll look into your query ""software livre lang:br""- GregAlexa"
Alexa Web Search	"Re: Problem with C# library and internacionalization.
2. Yes, it appears that we don't have very many results for documents about ""software livre"" in the Breton language: lang:br. Is that the language you were looking for?Here's a list of language codes: http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes<pre></pre>"
Alexa Web Search	"Getting 0 results when searching by date
Hi thereI am trying to get results by month/day and getting back 0 results (the estimated number of results is 0 as well).* When using the query 'date:2007' I got some results* When trying any of the following queries I got 0 results: 'date:2007XX' (where XX is a 2-digit month representation), 'date:2006' and 'date:2006XX'.Here is the actual URL I am sending to the server (separated into lines just so it's easier to read):http://wsearch.amazonaws.com/?AWSAccessKeyId=My_Access_Key_ID&Timestamp=2007-10-24T20%3A43%3A22.000Z&MaxNumberOfDocumentsPerPage=1&Version=2007-03-15&Signature=Signature_Generated_Via_Python_Code&Action=Search&Query=date%3A2006&ResponseGroup=ResultsAnd here is the response<?xml version=""1.0""?><SearchResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><SearchResult><SearchTerms></SearchTerms><EstimatedNumberOfDocuments>0</EstimatedNumberOfDocuments></SearchResult><ResponseMetadata><RequestId>4e9cae49-0030-4d01-a882-67905c180844</RequestId></ResponseMetadata></SearchResponse>Any ideas?Thanks,Joey Freund"
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi Joey,Thank you for this update, our search index only goes back for 2 months before we archive it. Please make sure you only use that timespan.Best,-Ryan"
Alexa Web Search	"Re: Getting 0 results when searching by date
Thanks for your reply, I tried searching through the index from the past 2 months and encountered an even stranger situation:1. I sent a request and got back 0 results (estimated number of results is also 0)2.I sent exactly the same request again and got back results (estimated number results isaround 15K)Here are the request ID's in case you need them:1. 63f503e9-ef5d-4730-9a51-0a857b611add2. d49d6f63-1aae-46cd-ae96-3792fa6f1bb7Any ideas as to why this happens?"
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi Joey,Could you post the actual search sample request instead of the request IDs? I will try to recreate the searches myself and see if that behavior occurs again.Thanks,-Ryan"
Alexa Web Search	"Re: Getting 0 results when searching by date
Here it is ...Search query:""Date:200709 Code:200"" (no quotes)Actual REST URL:http://wsearch.amazonaws.com/?AWSAccessKeyId=<my-access-key-id>&Timestamp=2007-10-26T17%3A17%3A48.000Z&MaxNumberOfDocumentsPerPage=1&Version=2007-03-15&Signature=<my-generated-signature>&Action=Search&Query=Date%3A200709+Code%3A200&MaxTime=10&ResponseGroup=ResultsI made two requests, where the only difference between them was the 'Timestamp' and 'Signature' parameters which are being generated on each request.First response:<SearchResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><SearchResult> <SearchTerms></SearchTerms> <EstimatedNumberOfDocuments>0</EstimatedNumberOfDocuments></SearchResult><ResponseMetadata> <RequestId>653d5f35-fb0e-442b-ac7c-08e7bcb80a5f</RequestId></ResponseMetadata></SearchResponse>Second response:<SearchResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><SearchResult> <SearchTerms></SearchTerms> <EstimatedNumberOfDocuments>337714</EstimatedNumberOfDocuments> <Document> <Url>http://aco-invision.stores.yahoo.net/</Url> <Title>Ergonomic Computer Desks, Furniture and Accessories</Title> <Bytes>5793</Bytes> <Checksum>ZJ6oAo/d0bRmTORBMgzi</Checksum> </Document></SearchResult><ResponseMetadata> <RequestId>5b3389fa-4dcb-40e8-b4c7-bf8423cceeda</RequestId></ResponseMetadata></SearchResponse>If you need any additional informationjust let me know.Thanks,Joey"
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi Joey,When running more complex searches (like using the date: field), sometimes it takes a bit for those queries to execute. In some instances they actually timeout, for this you will see a <MaxTimeReached>true</MaxTimeReached> in the xml returned. This was probably the case for your first search and then the server was ready for your second same search to be run.To make sure it does go either run the search again (like you did) or increase the Maxtime limit beyond the standard 3 seconds.Best,-Ryan"
Alexa Web Search	"Re: Getting 0 results when searching by date
I actually took that into account - if you look at the REST URL in my request it specifies that the MaxTime as 10 seconds.In any case, the first response I got (0 results) does not have the MaxTimeReached tag."
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi,We have reproduced the behavior you reported and are investigating.Thanks,Greg"
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi,This is an issue which only affects searching using the date: field using the Start action. The impact is that sometimes you will not get any results returned from a search (due to an internal timeout). We are looking into a fix. I think the best approach when querying for a large number of documents from a specific date range, however, is to use the StartSearch action of the ""Million Search Results"" feature. - Greg"
Alexa Web Search	"Re: Getting 0 results when searching by date
was this resolved?"
Alexa Web Search	"Re: Getting 0 results when searching by date
Hi,The issue is still present in the Start action, but should not affect StartSearch.- Greg"
Alexa Web Search	"PHP5, SOAP, msearch: AWS wants SSL connection
Hi,when sending this request:<?xml version=""1.0"" encoding=""UTF-8""?><SOAP-ENV:Envelope xmlns:SOAP-ENV=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:ns1=""http://msearch.amazonaws.com/doc/2007-03-15/""><SOAP-ENV:Body><ns1:StartSearch><ns1:Query>my query</ns1:Query><ns1:MaxNumberOfDocuments>20</ns1:MaxNumberOfDocuments><ns1:MaxTime>30</ns1:MaxTime><ns1:CachedDocumentsOnly>false</ns1:CachedDocumentsOnly><ns1:Report>true</ns1:Report><ns1:SiteThrottle>3</ns1:SiteThrottle><ns1:AWSAccessKeyId>0DJXJNQPZT0NWN......</ns1:AWSAccessKeyId><ns1:Timestamp>2007-12-15T18:58:30.000Z</ns1:Timestamp><ns1:Signature>s/ChlwDG8MthU7B2tkVfEL5iel8=</ns1:Signature></ns1:StartSearch></SOAP-ENV:Body></SOAP-ENV:Envelope>I get an exception thrown at me:object(SoapFault)#3 (9) { [""message:protected""]=> string(68) ""SSL connection required for backward compatible SOAP authentication.""...[""faultstring""]=> string(68) ""SSL connection required for backward compatible SOAP authentication."" [""faultcode""]=> string(22) ""aws:Client.RequiresSSL"" [""detail""]=> object(stdClass)#2 (1) { [""RequestId""]=> string(36) ""12c152e8-2c34-4701-a450-e65585dbba24"" }}What could I be doing wrong?Since there was no sample code for PHP5 and SOAP, I used:<?phpfunction calculate_RFC2104HMAC ($data, $key) { return base64_encode ( pack(""H*"", sha1((str_pad($key, 64, chr(0x00)) ^(str_repeat(chr(0x5c), 64))) . pack(""H*"", sha1((str_pad($key, 64, chr(0x00)) ^(str_repeat(chr(0x36), 64))) . $data)))) );}function get_signature($string, $secret) {  return calculate_RFC2104HMAC($string, $secret);  //base64_encode(mhash(MHASH_SHA1, $string, $secret));}$keyid=""0D........"";$secret=""..."";$version = ""2007-03-15"";$MAX_DOC = 20;$MAX_TIME_SEC = 30;$CACHED_ONLY = false;$REPORT = true;$SITE_THROTTLE = 3;$client = new SoapClient(""http://msearch.amazonaws.com/doc/$version/MSR.wsdl"", array('soap_version' => SOAP_1_1, 'trace'=> true));var_dump($client->__getFunctions());//""http://wsearch.amazonaws.com/doc/$version/AlexaWebSearch.wsdl"");date_default_timezone_set('UTC');$timestamp = substr(date(""c""),0,19)."".000Z"";$cmd = $argv[1];if ($cmd == ""mysearch"") { $params=array(  'Query' => ""my query"",  'MaxNumberOfDocuments' => $MAX_DOC,  ""MaxTime"" => $MAX_TIME_SEC,  ""CachedDocumentsOnly"" => $CACHED_ONLY,  ""Report"" => $REPORT,  ""SiteThrottle"" => $SITE_THROTTLE,  ""AWSAccessKeyId"" => $keyid,  ""Timestamp"" => $timestamp,  ""Signature""=> get_signature(""StartSearch$timestamp"", $secret)  ); try { $result = $client->StartSearch($params); } catch (SoapFault $e) { var_dump($e); } print ""last req:\n"".$client->__getLastRequest();} print_r($result);"
Alexa Web Search	"Re: PHP5, SOAP, msearch: AWS wants SSL connection
I am facing similar issue. Were u able to resolve this issue if so what did u doThanks"
Alexa Web Search	"MSR Search Returning suspiciously few results
In November 2007 I executed the following search using MSR (from the Test Page) with a MaxTime of 900 seconds: ""Magic:pdf Lang:(en|unknown) Date:200710 SizeAtLeast:16m"".At the time, I received ~2,500 URLs in response.Today I tried the same search: No Matches.I tried to update it: ""Magic:pdf Lang:(en|unknown) Date:200805 SizeAtLeast:16m"".No Matches.I omitted the language specifier: ""Magic:pdf Date:200805 SizeAtLeast:16m"".No Matches.I omitted the date specifier: ""Magic:pdf SizeAtLeast:16m"". Got 55 matches.This is not what I would expect. What happened to the database? Can anyone explain?"
Alexa Web Search	"Re: MSR Search Returning suspiciously few results
Hi,The crawler prioritizes html docs much more than other types. The documentation says that ""Note: As of November 2007, about 93% of the pages in the search index were html."" This number is now about 98%.- GregAlexa"
Alexa Web Search	"Re: MSR Search Returning suspiciously few results
Yes, I saw the note in the documentation, but I read it more as a statement of fact than of policy. I also note that your documentation includes a 'Date' parameter as part of the search query syntax specification (e.g. http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/) -- it is not immediately obvious to me from the documentation that pages in your search index should rotate off the index, particularly given the fact that searches can be parameterized by 'Date'. Yet, if a later search returns less than an earlier one, they must.In the future, I will use your service for html files, or not at all."
Alexa Web Search	"I cannot access to Alexa Web Search Service - invalidAccessKeyId error
Hi,Im using the C# library (code community) to access to Alexa Web Search using the access key id &ltAccess Key Removed> . When I try to access to the Alexa service it returns an error ( image attached ).I registered the account with this key (the account with this key is not the account with Im posting now ) to the Alexa service on Wednesday. I should wait many days to get the service?Could you check if the account associated with this key has the Alexa service available ?Thanks, Jonathan."
Alexa Web Search	"Re: I cannot access to Alexa Web Search Service - invalidAccessKeyId error
Hi Jonathan,You can check which services you are signed up for by visiting your AWS Account Activity page. This page will list all of the services active for your account.https://aws-portal.amazon.com/gp/aws/developer/account/index.html/?ie=UTF8&action=activity-summaryIf you don't see Alexa Web Search listed, you'll need to sign up on the following page.http://aws.amazon.com/alexawebsearchThanks,Justin"
Alexa Web Search	"Re: I cannot access to Alexa Web Search Service - invalidAccessKeyId error
Hi Justin, Yes, the account aws (.go.) manas (dot) com (.) ar that Im using to access to the aws service is registered for Alexa Web Search. The access key id is &ltAccess Key Removed&gt. Could you check that this account is subscripted to Alexa service?Thanks, Jonathan."
Alexa Web Search	"Re: I cannot access to Alexa Web Search Service - invalidAccessKeyId error
Hi Jonathan,Please email webservices@amazon.com from the email address associated with your AWS account and someone will help get you up and running.Thanks,Justin"
Alexa Web Search	"Web Search Syntax Question
<span style=""color: #000000"">I want to create a query that searches the url for cats.htm but limits the results to having no parameters at the end of the url (not cats.htm?x=y)I have tried syntax such as:</span><span style=""color: #000000"">url:(cats.htm</span><span style=""color: #000000""> -""?"")</span><span style=""font-size: x-small; color: #a31515""><span style=""color: #000000"">url:(cats.htm</span><span style=""color: #000000""> -""*=*"")to no avail.Any advice?</span></span>"
Alexa Web Search	"Re: Web Search Syntax Question
Hi,You can't do exactly what you want, but you can get close.Here's a query to search for documents containing ""cats.com"" in the URL, and that end in htm:url:""cats.htm"" suffix:htmSome results:http://www.geocities.jp/space_j_cats/where-is-j-cats.htmhttp://goeurope.about.com/cs/rome/a/rome_cats.htmhttp://humor.about.com/b/2006/06/14/hitler-cats.htmhttp://www.alwebber.narod.ru/cats.htmhttp://baixaki.ig.com.br/download/United-Cats.htmI think it would also match documents like this, however:http://baixaki.ig.com.br/download/United-Cats.htm?x=y&url=cow.htm- GregAlexa"
Alexa Web Search	"SiteThrottle on MSR
I don't see the ability to set the site throttle in the C# example of the MSR. I tried adding SiteThrottle to the request parameters and get back no results. How do I use this parameter?"
Alexa Web Search	"Re: SiteThrottle on MSR
Hi,You can just add the SiteThrottle parameter to the request as follows:http://msearch.amazonaws.com/?Action=StartSearch&Query=cow&Signature=36eYalf8b8oR%2FSUBmWaZhJ3vHLM%3D&Version=2007-03-15&CachedDocumentsOnly=False&AWSAccessKeyId=YOUR_ACCESS_KEY&Timestamp=2008-05-06T21%3A15%3A45.000Z&SignatureVersion=0&SiteThrottle=4&MaxNumberOfDocuments=200- GregAlexa"
Alexa Web Search	"Re: SiteThrottle on MSR
Thank you for the quick response. The documentation for MSR states that the SiteThrottle is: ""Used to reduce the number of results returned per site."" I am finding that it also reduces the number of unique sites returned, not just the number results returned per site. Is that intentional?"
Alexa Web Search	"JOB POST: Looking for a dev to get a basic search app running.
Hello!I am looking for a developer with experience with the amazon web search API to build a basic search application. Not a very complex task, pretty much looking to replicate the functionality of this google app:http://www.bikipages.com.au/google/gweb.htmlIf your interested you can contact me via:email: peterwnicholls@gmail.comIM: yahoo --- petewnichollsThanks!!"
Alexa Web Search	"Re: JOB POST: Looking for a dev to get a basic search app running.
Job is still up for grabs!!!If you got what it takes contact me!!, i pay well"
Alexa Web Search	"Vertical Search?
Hi,Id like to do a vertical-like search, e.g. search for a phrase in 500 domains.Is it possible to restrict Web Search to 500 domains?Or can I access the index of amazon, and make an own index with those 500 domains?What do you think would be the best approach?Thanks."
Alexa Web Search	"Re: Vertical Search?
Hi Eventax,I would recommend using our site: search field to specifically target a domain in your search requests. Please look at the websearch manual located here:http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/This particular chapter goes over all the possible search fields you can use on our search engine:http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/SearchSyntax_SearchFieldsArticle.htmlThe type ""URL"" area will detail all the possible domain specific searches you can implement. Let me know if you have further questions regarding it.Best,-Ryan"
Alexa Web Search	"Re: Vertical Search?
Hi,the maximum query length seems to be around 7000 characters.So a single query will probably scale up to 1000 URLs.My question is following:1. Is it possible to search several thousand domains (e.g. 10000) with WebSearch?2. Can I extract an own index from Amazons Index, containing only those domains I am intereseted in? Maybe store it on Amazon S3?Any other ideas to how to resolve this issue?Thanks."
Alexa Web Search	"Re: Vertical Search?
Yes, you can use POST large queries containing thousands of domains. Please note that queries with many OR terms are billed for ""equivalent simple queries"" as explained on the http://aws.amazon.com/alexawebsearch page, and in the FAQs: http://www.amazon.com/b/ref=sc_fe_c_0_269962011_1?ie=UTF8&node=269968011&no=269962011&me=A36L942TSJ2AJASearching across 1000 domains in a single request will be billed $0.30 per 1,000 equivalent simple queries which is $0.30 per query!If you use the ""StartGrep"" action, which is our Million Search Results, you can search the raw code of the websites we index and it will return where the crawler files are on Amazon's S3."
Alexa Web Search	"Re: Vertical Search?
I am really confused. The promotional material implies that AWS is a good plateform for building a vertical search or topical search engine but reading this thread seems to indicate otherwise.I am in exactly the same boat as the initial poster. I have ~1,000 domains that I want to search from my website. But not at $0.30/search.I have read through some of the MSR docs but it is not clear to me how one would use it for this solution.Is the idea to find out where the crawled documents are on S3 then download them so I can index them myself with Lucene?Downloading those pages monthly could be a workable solution but not the ideal solution.How exactly should one go about building a vertical search with AWS?Whats the best practice?"
Alexa Web Search	"Re: Vertical Search?
The $0.30/search covers a single search for all 1000 URLs. Considering you are doing 1000 searches for $0.30, that is a bargin. Whether you use the standard websearch or MSR, the ""site:amazon.com"" field will work for both.MSR returns results for our crawl files on S3 but you will need to keep them on S3 and use EC2 to process those matching crawl files. The results of processing those crawl files can be downloaded to your server but not the actual crawl files themselves.The ""Site:"" field is the best practice for building a vertical search engine using our Alexa Web Search webservice.-Ryan"
Alexa Web Search	"Re: Vertical Search?
<span style=""color: #000000"">Ryan, Hi there.Reading this thread, I would just like to confirm something with you if I may.If I use the 'Equivalent Query Test page tool' to submit the following query:</span><span style=""font-size: x-small; font-family: Verdana"">rowing site:yallara.cs.rmit.edu.au site:www02.so-net.ne.jp site:www.yahoo.com site:www.usrowing.org site:www.users.bigpond.com site:www.skybusiness.com site:www.rz.uni-frankfurt.de site:www.rrm.co.uk site:www.rowingqld.asn.au site:www.rowinglinks.com site:www.rowingaustralia.com.au site:www.rowing.org.nz site:www.rowersresource.com site:www.rci.rutgers.edu site:www.phase-hl.com site:www.pasqualepanzarino.it site: site:www.matthewpinsent.com site:www.leonardopettinari.com site:www.hawthornrc.inter.net.au site:www.giovannicalabrese.com site:www.geocities.com site:google.com site:amazon.com site:rowingworld.com site:rowingworld.co.uk </span><span style=""color: #000000"">site:google.com site:yahoo.com site:amazon.comSo, this is one keyword with 28 top level domains to search, I still only get 1 equivalent search query returned. Is this correct because you said the following in your previous post:</span>""Searching across 1000 domains in a single request will be billed $0.30per 1,000 equivalent simple queries which is $0.30 per query!""<span style=""color: #000000"">Also would I be correct in thinking that a search query string of this nature would be applied in an OR fashion IE. any returning any pages from any of those sites which contain that search term.Hope I've made sense and I look forward to your reply.As always, many thanks. Natacha.</span><span style=""font-family: Verdana,Arial,Helvetica,sans-serif; color: #ffffff""><span style=""color: #000000""></span></span>"
Alexa Web Search	"Re: Vertical Search?
Hi,To seach for documents about rowing on a list of sites you would need to make the query:<span style=""font-size: x-small; font-family: Verdana"">rowing site:(yallara.cs.rmit.edu.au |www02.so-net.ne.jp |www.yahoo.com |www.usrowing.org |www.users.bigpond.com |www.skybusiness.com | www.rz.uni-frankfurt.de |www.rrm.co.uk |www.rowingqld.asn.au | www.rowinglinks.com |www.rowingaustralia.com.au |www.rowing.org.nz |www.rowersresource.com |www.rci.rutgers.edu |www.phase-hl.com|www.pasqualepanzarino.it | www.matthewpinsent.com |www.leonardopettinari.com |www.hawthornrc.inter.net.au | www.giovannicalabrese.com |www.geocities.com |google.com |amazon.com |rowingworld.com |rowingworld.co.uk | amazon.com)This says to find documents about rowing on yallara.cs.rmit.edu.au OR www02.so-net.ne.jp OR ww.yahoo.com OR...The ESQ test tool at http://www.alexa.com/webservices/esq.jsp? shows that there are 26 ESQs in the query.- GregAlexaP.S. With search fields you can't have any spaces after the field name. So you can do site:yahoo.com in the case of a single site.  or site:(yahoo.com | msn.com) in the case of multiple sites. If you add site:(yahoo.com msn.com) without the | in between you are asking for documents that are on both yahoo.com AND msn.com at the same time, so nothing will match. The same is true if you search for rowing site:yahoo.com site:msn.com. You won't get any results because you are asking for documents about rowing that are on both yahoo.com and msn.com at the same time. Any given document is only on one site.</span>"
Alexa Web Search	"Re: Vertical Search?
Greg,You made that very clear to me. Now, I understand.Thank you very much for your help with my question.Natacha."
Alexa Web Search	"Dmoz query
Hi,

I Have a problem when I make a request with the expresion:

dmoz: ('World/Espaol/Regional/Europa/Espaa/Comunidades Autnomas/Aragn')

I supose that I have to do something with the special characters of my language, I have tried to encode in html but I have no results.

dmoz:(%27World/Espa%C3%B1ol/Regional/Europa/Espa%C3%B1a/Comunidades%20Aut%C3%B3nomas/Arag%C3%B3n%27)

Can you help me please?

I'm doing this in a php program or directly with a browser.

Thank's for all"
Alexa Web Search	"Re: Dmoz query
Hi,It was indeed the special characters that caused some havoc. After some testing I would recommend you convert the accented characters back to non-accented. Also make sure to use double quotes:dmoz:(""World/Espanol/Regional/Europa/Espana/Comunidades Autonomas/Aragon"")This only applies for the WebSearch, if you are using AWIS you can still use the accented characters. Please let me know if you have any questions regarding this.Best,-Ryan"
Alexa Web Search	"Frequent '500 Internal Server' errors?
Hi,I keep on getting intermittent but very frequent code 500 Internal server errors. This happens about once every 6 requests to Alexa Web Search.I can submit a request and it works. I can then submit the same request and it returns the error. I have also tried waiting for a while but this doesn't seem to matter.I am fetching 100 results at a time and so have included MaxTime=100 but there is still no difference.Hope you can advise on these errors.Many thanks, Natacha"
Alexa Web Search	"Re: Frequent '500 Internal Server' errors?
Hi Natacha,Could you post what error XML that is being returned? A 500 error could be many possibilities and we need to narrow down which exact error you are getting in order to find out what might be causing it.I look forward to hearing back from you.-Ryan"
Alexa Web Search	"Re: Frequent '500 Internal Server' errors?
Hi Ryan,Apologies for not replying earlier.After I posted my previous message I was unable toreplicate the error. Did you do something?Many thanksNatacha"
Alexa Web Search	"Re: Frequent '500 Internal Server' errors?
Hi Natacha,No, all web services are operating as they have before.-Ryan"
Alexa Web Search	"Most Recent Results
Hi,I'm trying to find the most recent results for a given query.I was attempting to do that with the ""date"" parameter, but Greg from Amazon explained that ""can't use the date field to get documents crawled within the past few weeks.""So, I'm wondering if there is another way. Is there some kind of query that would request, ""The most recent 500 results"" or something of the sort?The goal is to be able to locate just the newest stuff found.I'm open to suggestions!!Thanks,-N"
Alexa Web Search	"Search with date parameter broken??
Hi,I've been trying, unsucessfully, to perform a search with the date parameter.I've tried both a direct search and MSR search with many different combinations of terms. The searches authenticate correctly and appear to be correct. The problem is that I get back reports of 0 results.The latest test search: +( ""Job Corps"" ) date:20080410With an MSR request, I get back:No results for query: +( ""Job Corps"" ) date:20080410Am I doing something wrong, or is there some kind of bug????Thanks,-Noah"
Alexa Web Search	"Re: Search with date parameter broken??
Hi,At this time you can't use the date field to get documents crawled within the past few weeks.The search engine is composed of many tiers. Some of these tiers are updated daily so that the results contain fresh information. However, these don't support the date search field.If you seach for date:200803, for example, you will get results.- GregAlexa"
Alexa Web Search	"search by file name
1. I'd like to search all text files whose names contain the word ""money"", but I don't want to search the contents of the documents

what's the query like?  ""magic:text money""?

2. I'd like to search all text files whose names contain the word ""money"", and the content of the text files contain ""USA""

what's the query like?"
Alexa Web Search	"Re: search by file name
Hi,<span class=""jive-quoteheader"">agilestorm wrote:</span><div class=""jive-quote"">1. I'd like to search all text files whose names contain the word ""money"", but I don't want to search the contents of the documents</div>If you want the URL to contain ""money"" and you want all text document types (including html pages, for example) the query would be: magic:text url:moneyIf you mean the title of the document, then: magic:text title:money<span class=""jive-quoteheader"">agilestorm wrote:</span><div class=""jive-quote"">2. I'd like to search all text files whose names contain the word ""money"", and the content of the text files contain ""USA""</div> magic:text title:money text:usa- GregAlexa"
Alexa Web Search	"MSR results too small??
Hi,I still developing some tests with MSR. I performed a basic search on the alexa website and the exact same search on MSR. Alexa said there were about 220,000 results. The MSR search returned 34,000. (This was a very common search term and I expected many more results.)Since alexa.com returned 220,000 shouldn't MSR return a similar number or results??Thanks,-N"
Alexa Web Search	"Re: MSR results too small??
No, they will not agree.The EstimatedNumberOfDocuments returned from the basic Web Search is just an estimate based on a small sample of the index. Also, although the basic web search and the MSR search share many of the same index files, not all are shared.What is the query you were testing? - GregAlexa"
Alexa Web Search	"Search Advertising
Hello!Just looking for information on search advertising. If i have created a search engine which is powered by Alexa, can i add search advertising in the results? (same way as google and yahoo do).Do anyone have any experience in doing this? Does anyone know of how to set up something like this? I have noticed that google and yahoo are supplying ads to a few search engines, anyone know where i could apply for this?Thanks for the info people!"
Alexa Web Search	"Extract Related Keywords For Large List of URLs?
I need to take a large lists of URLs and get the related keywords that describe the concepts of the sites/domains.I see for Alexa Web Information Service there is a ""keywords"" query that looks like it will do what I want. Is there anyway to do this with Alexa Web Search?Or can you run the data you extracted with AWS through AWIS somehow?Thanks!"
Alexa Web Search	"Re: Extract Related Keywords For Large List of URLs?
Hi,Yes the Keywords are available in the AWIS service and not the WebSearch service. It would not be difficult to cross reference the two in where you would pull unique domain names from the WebSearch results and ping them off AWIS to get the Keywords for each site.To see an example of how two Alexa Web Services are working together please read:http://developer.amazonwebservices.com/connect/thread.jspa?threadID=20637Let me know if you have any further questions.Best,-Ryan"
Alexa Web Search	"Re: Extract Related Keywords For Large List of URLs?
Thanks for the reply Ryan.I took a quick glance at the thread you referenced and think I get the basic gist.But just to clarify, can this be something done in large quantities? I'm talking tens of thousands of different domains. So would I be able to process all of this through your servers (reserve computing time).Essentially what I will be doing is collecting the information through the million search results feature, then further filter the results using StartGrep. After that the remaining domains I want to automatically run against the Keywords function in AWIS.Hope that makes sense."
Alexa Web Search	"Re: Extract Related Keywords For Large List of URLs?
It does make sense, sure. All you have to keep in mind is the 20 requests/sec/IP limitation. As long as you keep that restriction factored in, fire away!Good hunting!-Ryan"
Alexa Web Search	"Getting the number of results -- costs?
Hi,I need to get the total number of results that match a query.I don't really need all the URLs, but the actual document count.Is it possible to get that information using the web services api?What is the cost of running such request? Is it possible to run hundreds of them per second or is there a frequency limit per key?Thanks."
Alexa Web Search	"Re: Getting the number of results -- costs?
Hi,There are a couple of options:1. You can get an estimate of the number of documents that match using the Search action. The estimated number of matches is returned in the EstimatedNumberOfDocuments element. Your request would look like (not all parameters shown):http://wsearch.amazonaws.com/?Action=Search&Query=cat&ResponseGroup=Results&PageNumber=1&MaxNumberOfDocumentsPerPage=20&...The request above asks for only 20 results. If there are less than or equal to 20 results, then the EstimatedNumberOfDocuments would be the actual count. Otherwise, it is a statistical estimate.You can make these requests at 20 requests/sec and it would cost $0.30/1000 requests.2. For slightly faster responses you can use the above method, but set the MaxNumberOfDocumentsPerPage=1.3. You could raise the MaxNumberOfDocumentsPerPage=200. In this case the EstimatedNumberOfDocuments would return the actual count if there are <= 200 matches, and an estimate otherwise. These queries are slower and would cost 10x more since you are paying per result returned. See this thread for more information on pricing: http://developer.amazonwebservices.com/connect/thread.jspa?messageID=855094. To get the most accurate count of the number of documents that match you can use the StartSearch action. In this case you can ask for up to ten million results by passing in MaxNumberOfDocuments=10000000However, since there is a per-result charge, a single query like this could cost up to $150 depending on how many results are returned.- GregAlexa

Message was edited by: Greg@Alexa"
Alexa Web Search	"Re: Getting the number of results -- costs?
OK, thanks for the tip on MaxNumberOfDocumentsPerPage=1.That should do it.But could you please elaborate on statistical estimates?How accurately do they represent the complete data set?I don't need to know the actual number of matching documents down to a single one, but I need to be able to know with high probability that ""phrase a"" occurs in the database more frequently than ""phrase b"" but less frequently than ""phrase c"".Is the estimation good enough for such purposes or is it based on combining frequencies of occurrence of each individual keyword in the phrase to make a guess?Thanks."
Alexa Web Search	"Re: Statistical Estimates
The estimate is made by making a query against a small index that just a subset of the larger index, getting the full result count, and then scaling it up assuming the same distribution in the complete index. The small index used for query estimation was last updated a year ago.- Greg"
Alexa Web Search	"Re: Getting the number of results -- costs?
OK, thanks for the info.Do you know how often does that database get updated? Annually?"
Alexa Web Search	"Re: Getting the number of results -- costs?
Hi,Although, the general search index is updated daily, there is no set schedule for updating the index used for count estimation.- Greg"
Alexa Web Search	"Re: Getting the number of results -- costs?
EstimatedNumberOfDocuments seems more like a bogus number than anything.

my query is ""magic:image dog""(looking for images of dogs)

with MaxNumberOfDocumentsPerPage=10, the response gave me 8 as EstimatedNumberOfDocuments
with MaxNumberOfDocumentsPerPage=20, the response gave me 81 as EstimatedNumberOfDocuments

so I think EstimatedNumberOfDocuments is useless."
Alexa Web Search	"Search with date returning zero results
Hi,I'm working with some sample searches to test the functionality of the Web Search.As a test, I searched for:bush date:(20080318)This returned 0 resulsA search for : bushReturns a millions.It seems as if there is some kind of inconsistent bug. If I run the same search with the date more than once, SOMETIMES I get a result and sometimes I don't.Below is my query string:http://wsearch.amazonaws.com/?AWSAccessKeyId=XXX&Version=2007-03-15&Action=Search&ResponseGroup=Results&Timestamp=2008-04-09T09%3A18%3A00.000Z&Signature=XXX%3D&MaxNumberOfDocumentsPerPage=1&MaxTime=60&Query=bush%20date%3A20080401Any ideas??"
Alexa Web Search	"Re: Search with date returning zero results
Hi,The issue is an internal timeout that only affects usage of the date: field. It is a known issue that is in our bug database.When you repeat your query, most of the response is most likely cached, so it is returned.Workarounds:- Repeat the same query- Use the Million Search Results feature to get all documents that match a query in a certain date rate- GregAlexa"
Alexa Web Search	"Re: Search with date returning zero results
Greg,Thanks for the reply. I have a question about the MSR product.I might have 500+ searches that I want to perform daily. I only need the NEWEST results for each search. The goal is to ask AWS, ""What new things have you found in the last 24 yours. (Should be easy with the date parameter.)Is there a way to submit all 500 in one big query, or do I have to submit 500 separate search request???Do you have any other ideas or suggestion??Thanks,-Noah"
Alexa Web Search	"Re: Search with date returning zero results
Yes, you can get the newest results using MSR and the date field. Every query has to be submitted separately. Depending on your query, you might be able to combine many small queries into a single big one.For example you can submit queries like the one below to find all of the webpages that are in french, where the text contains 'anything from this list' and 'anything from this list' and 'anything from this list':  query=lang:(fr+unknown) text:((a|list|of|terms)(another|list|of|terms)(yet|another|list))- Greg"
Alexa Web Search	"Re: Search with date returning zero results
Great!Can I use the ""boolean"" features in a large query.For example:Bush +Iraq -CongressDisneyland -Mickey Mouse(Honda|Toyota) -NissanWould there be a way to group all three into a single request, or do I have to send them separately?Thanks Again,-N"
Alexa Web Search	"Combining several simple queries into one large query
Hi,You can make a query like this with the three queries :(Bush Iraq -Congress)|(Disneyland -Mickey Mouse)|((Honda|Toyota) -Nissan)which will look for documents containing bush iraq and not congress OR containing disneyland and mouse but not mickey ORcontaining honda or toyota but not nissan.You should add Report=True to the request. The Report parameter adds an extra column to the output which shows what matched. Here is an example query minus the signing parameters:http://msearch.amazonaws.com/?Action=StartSearch&amp;Query=%28Bush+%2BIraq+-Congress%29%7C%28+Disneyland+-Mickey+Mouse%29%7C%28%28Honda%7CToyota%29+-Nissan%29&amp;
Report=True&amp;MaxNumberOfDocuments=200&amp;...
Which will return results like this:\# Results for query: (Bush +Iraq -Congress)|( Disneyland -Mickey Mouse)|((Honda|Toyota) -Nissan)
http://dir.seznam.cz:80/reg/opava?      - Opava - Firmy.cz      utf-8   10765   /2008/03/13/51/2/51_2_20080313222001_crawl107.arc.gz    62538091        Text:honda(9
67)
http://vista.gallery.microsoft.com:80/  Windows Live Gallery    us-ascii        17398   /2008/02/27/51/2/51_2_20080227144642_crawl106.arc.gz    84308502        Text
:toyota(337)
...
The first result matched on honda at character 967, the second result matched on toyota at character 337.Remember to test your query using this form linked to from the FAQs to see how many ""Equivalent Simple Queries"" are in your request so you know how much you will be billed for those:http://www.alexa.com/webservices/esq.jsp?- GregP.S. Report is a new parameter which has not yet been added to the Developer Documentation.

Message was edited by: Greg@Alexa"
Alexa Web Search	"Re: Search with date returning zero results
Thanks Greg. That really helps a lot.I tried the MSR for my date search.The search was: McDonalds date:200804If I understand the protocol correctly, that should give me results for McDonalds found in April of this year. The MSR returned ZERO results. I can't imagine that there were no new pages found containing McDonalds in the past 10 days.Here is the request that I sent.http://msearch.amazonaws.com/?AWSAccessKeyId=XXXX&Version=2007-03-15&Action=StartSearch&Timestamp=2008-04-11T05%3A29%3A00.000Z&Signature=XXXX&MaxNumberOfDocuments=500&Query=McDonalds%20date%3A200804"
Alexa Web Search	"InvalidAccessKeyId
I'm trying to use WebSearch.java to run a test and get the following response:<?xml version=""1.0""?><ErrorResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><Error><Type>Sender</Type><Code>InvalidAccessKeyId</Code><Message>AWS was not able to validate the provided access credentials.</Message><Detail/></Error><RequestId>6249bb40-a20d-490c-86cd-d6b77852de36</RequestId></ErrorResponse>I double-checked the keys that I was supplying on the command line, but it doesn't seem to work."
Alexa Web Search	"Re: InvalidAccessKeyId
Hi,Could you post or PM your AccessKeyID#? I will verify the service on the backend before we start front end debugging.Thanks,-Ryan"
Alexa Web Search	"file search: alexa doesn't seem to index many files
I want to search by file types.

I searched ""type:msword"" in alexa.com.  I only got back 537 results.
I searched ""type:image"" in alexa.com.  I only got back 859 results.

according to http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/SearchSyntax_SearchFieldsArticle.html,  as of November 2007, about 93% of the pages in the search index were html.

so it's not a good use of Alexa to search by file types?"
Alexa Web Search	"Re: file search: alexa doesn't seem to index many files
Hi,Most of the search index is now comprised of text documents (html, plain, msword, pdf, etc.) There are hundreds of thousands of type:msword files in the search index, for example. As non-text documents have been de-emphasized, you won't get a lot of results for non-text mime types such as image. But there are hundreds of thousands of these as well.The estimated number of matching results shown on the Alexa website is just an estimate based on a sample of the entire index, (and it is apparently not very accurate for the type: field.)- GregAlexa"
Alexa Web Search	"Re: file search: alexa doesn't seem to index many files
what's the search query parameter I should use for file type search through alexa web service?""magic""?"
Alexa Web Search	"Re: file search: alexa doesn't seem to index many files
Yes, most likely you want to use magic. The type field just looks at the Content-type header returned by the request for the original document. If the header says it is a jpeg file, for example, then the document is indexed as a jpeg in the type field. However, a misconfigured server, for example, could return the wrong type for a document. The magic field indexes documents by the actual type of the content. - GregAlexa"
Alexa Web Search	"Re: file search: alexa doesn't seem to index many files
for million search result service, Is there a way to get an estimated number of results?<span style=""color: #ffffff""><span style=""font-family: Verdana,Arial,Helvetica,sans-serif""></span></span>like the EstimatedNumberOfDocument<span class=""parameter""> in regular search response?</span><span style=""font-family: Verdana,Arial,Helvetica,sans-serif; color: #ffffff"">ch Results</span>"
Alexa Web Search	"Re: file search: alexa doesn't seem to index many files
Hi,No, there's no separate estimate. The regular search and million search results share most of the same search index files, however. You can use the estimate from the Search action as an approximate.- GregAlexa"
Alexa Web Search	"parse the EstimatedNumberOfDocuments
Hello all,I am trying the published php web search code from the code repository and it works great. I am very new to xml parsing and would like to get to the EstimatedNumberOfDocuments but can't.Since this is not an array but a string that only occurs once, I read and tried many different ways to capture it, but can not seem to be able to do it. I am sure it is beyond simple for most developers.Could you kindly point me to the right direction. I need it to try and do the pagination.Thank you"
Alexa Web Search	"Re: parse the EstimatedNumberOfDocuments
Hi H. Elburai,To parse the EstimatedNumberOfDocuments xml element you will need to make changes to the contents and start_tag functions. First the contents function, simply add:case ""EstimatedNumberOfDocuments"":
after the case ""Context"": line. Then in the start_tag function add the same line after the case ""Context"": line along with:$results\[$result_number]\[&#39;EstimatedNumberOfDocuments&#<font color=""red"">39</font>;] =  &#<font color=""red"">39</font>;&#<font color=""red"">39</font>;;
</pre></td></tr></table><br/>after the $results[$result_number][&#39;Context&#39;] =&nbsp; &#39;&#39;; line. Then in the foreach loop in the print out the results section you can display the results of what the parse stored in the variable. Since it will only display the results for the first loop, you can add in a quick if statement to display the # of estimated documents just once:<br/><br/><table border=""0"" cellspacing=""1"" cellpadding=""3"" bgcolor=""#999999""><tr><td align=""left"" bgcolor=""#ffffff"" valign=""top""><pre><font color=&quot;navy&quot;><b>if</b></font> ($result\[&#<font color=""red"">39</font>;EstimatedNumberOfDocuments&#<font color=""red"">39</font>;]) <font color=""navy"">{</font>
    echo &quot;Estimated # is &quot;;
    echo $result\[&#<font color=""red"">39</font>;EstimatedNumberOfDocuments&#<font color=""red"">39</font>;];
    echo &quot;/n&quot;; <font color=""navy"">}</font>
</pre></td></tr></table><br/>Best,<br/>-Ryan<br/>
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        <div class=""jive-message-list"">
            <div class=""jive-table"">

                




<div class=""jive-messagebox"">

<table summary=""Message"" cellpadding=""0"" cellspacing=""0"" border=""0""
    width=""100%"">
    <tr id=""jive-message-85441"" valign=""top"">
        <td class=""jive-first"" valign=""top"">


        <table class=""jive-thread-messagebox"" style=""padding: 12px;"" width=""100%"">
            <tr>
                
                <td valign=""top"" width=""1%""></td>
 
 
     <td width=""100%"" valign=""top"">

       <span class=""jive-subject""> <a
            name=""85441""></a> Re: parse the EstimatedNumberOfDocuments
       </span>
        
        
<div style=""padding-top: 5px; font-size: 11px;"">
        
        
        


 
<div class=""jive-message-info"">Posted by:  <a href=""profile.jspa?userID=53388""
            title=""H. Elburai"">H. Elburai</a> 
   </div>
        
        
        
        <div class=""jive-message-info"">
         Posted on: 
            
        <font style=""color: #000;"">Apr 4, 2008 4:51 AM</font>
        </div>
        
        
        
        
        
          <div class=""jive-message-info""><a
            href=""message.jspa?messageID=85302#85302""
            title=""in response to: Ryan@Alexa""><img
            src=""images/up-10x10.gif"" width=""10"" height=""10"" border=""0""
            alt=""in response to: Ryan@Alexa""
            title=""in response to: Ryan@Alexa"" /></a>
         
        
        in response to: <a
                    href=""message.jspa?messageID=85302#85302""
                    title=""Go to message"">Ryan@Alexa</a> 
 </div>   


   
        



        
        
        
        
        
        </div>
        </td>
        <td align=""right"" valign=""top"">
                
<div class=""jive-buttons"">
        <table cellpadding=""0"" cellspacing=""0"" border=""0"">
            <tr>
                

                

                

                
                

                <td>&nbsp;</td>
                <td class=""jive-icon""><a
                    href=""post!reply.jspa?messageID=85441""
                    title=""Click to reply to this thread""><img
                    src=""images/reply-16x16.gif"" width=""16"" height=""16""
                    border=""0""
                    alt=""Click to reply to this thread""></a></td>
                <td class=""jive-icon-label""><a
                    href=""post!reply.jspa?messageID=85441""
                    title=""Click to reply to this thread"">Reply</a></td>

                
            </tr>
        </table>
        </div>
                 
                 
                </td>
            </tr>
            
            
            
       <tr style=""padding: 0px;"">
            <td  style=""padding: 0px;"" valign=""top"" colspan=""3"">
            

      <table  style=""padding: 0px;"" width=""100%"">
              <tr  style=""padding: 0px;"">
              <td width=""80%""  style=""vertical-align:bottom; padding: 0px; padding-left:11px;"" valign=""top"">
    

   
        
              
              </td>
              
              <td  style=""padding: 0px;"" valign=""top"" align=""right"">
                     

 
                 
 
 
              </td>
              </tr>
            </table>
              </td>
              </tr>
              
              
    <tr><td colspan=""3"">
    

    
        <table  border=""0"" cellpadding=""0"" cellspacing=""0"" width=""100%""
            class=""jive-message-body-wrapper"">
            <tr>
                <td>
                <div class=""jive-message-body"">
                <div style=""line-height:1.5; padding-left: 25px;padding-right: 10px;"">
                Thank you so much Ryan for your prompt response.<br/><br/>I actually did already try a similar way of doing it, by assigning it <br/>as a variable inside the existing foreach loop as such:<br/>$rTotal = $result[&#39;EstimatedNumberOfDocuments&#39;];<br/>but was not able to access the from outside the loop because I assume its value <br/>is empty after the second run.<br/>Also, since this foreach is mainly parsing the &lt;document&gt; array and it has a counter<br/>the EstimatedNumberOfDocuments was assigned its own number as being the number 1 result.<br/><br/>I ended up giving it it&#39;s own foreach loop. and was able to access its value as needed.<br/><br/>As I was reading a some related tutorials I thought there was a simpler way to directly <br/>access this value since it is not an array with something similar to this:<br/>$rTotal = $results-&gt;SearchResponse-&gt;SearchResult-&gt;EstimatedNumberOfDocuments;<br/>But none of the different variations of the above that I tried worked.<br/>Any ideas if this is another way to get at it.<br/><br/>I did manage to accomplish what I needed with your help, much appreciated.<br/><br/><br/>Couple of other questions if I may:<br/>1- Quote: &quot;The service returns up to 5000 search results for a given query. <br/>&nbsp;&nbsp; The returned XML response contains up to 200 results at a time.&quot;<br/>&nbsp;&nbsp; Are we charged by the quantity of links returned or number of calls <br/>&nbsp;&nbsp; 1- I make 1 call with max results to be returned = 200 <br/>&nbsp;&nbsp; 2- I make 10 calls max results to be returned = 20<br/>&nbsp;&nbsp; Which of the above is more expensive or are they both the same?<br/><br/>2- I&#39;ve seen references to [QueryCorrection QueryExpansion TrafficRank]<br/>&nbsp;&nbsp; Are we able to access these values with the standard xml response?<br/>&nbsp;&nbsp; I thought maybe by through adding their group to the RESPONSE_GROUP values.<br/>&nbsp;&nbsp; Any advice would be much appreciated.<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; Sorry for the long message, and thank you very much<br/>
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        <div class=""jive-message-list"">
            <div class=""jive-table"">

                




<div class=""jive-messagebox"">

<table summary=""Message"" cellpadding=""0"" cellspacing=""0"" border=""0""
    width=""100%"">
    <tr id=""jive-message-85509"" valign=""top"">
        <td class=""jive-first"" valign=""top"">


        <table class=""jive-thread-messagebox"" style=""padding: 12px;"" width=""100%"">
            <tr>
                
                <td valign=""top"" width=""1%""></td>
 
 
     <td width=""100%"" valign=""top"">

       <span class=""jive-subject""> <a
            name=""85509""></a> Re: parse the EstimatedNumberOfDocuments
       </span>
        
        
<div style=""padding-top: 5px; font-size: 11px;"">
        
        
        


 
<div class=""jive-message-info"">Posted by:   <img class=""jive-status-level-image"" align=""absmiddle""
            src=""images/status/amazonicon.gif"" border=""0""
            title=""Amazonian"" alt="""" />

        <a href=""profile.jspa?userID=30355""
            title=""Ryan@Alexa"">Ryan@Alexa</a> 
   </div>
        
        
        
        <div class=""jive-message-info"">
         Posted on: 
            
        <font style=""color: #000;"">Apr 4, 2008 3:05 PM</font>
        </div>
        
        
        
        
        
          <div class=""jive-message-info""><a
            href=""message.jspa?messageID=85441#85441""
            title=""in response to: H. Elburai""><img
            src=""images/up-10x10.gif"" width=""10"" height=""10"" border=""0""
            alt=""in response to: H. Elburai""
            title=""in response to: H. Elburai"" /></a>
         
        
        in response to: <a
                    href=""message.jspa?messageID=85441#85441""
                    title=""Go to message"">H. Elburai</a> 
 </div>   


   
        



        
        
        
        
        
        </div>
        </td>
        <td align=""right"" valign=""top"">
                
<div class=""jive-buttons"">
        <table cellpadding=""0"" cellspacing=""0"" border=""0"">
            <tr>
                

                

                

                
                

                <td>&nbsp;</td>
                <td class=""jive-icon""><a
                    href=""post!reply.jspa?messageID=85509""
                    title=""Click to reply to this thread""><img
                    src=""images/reply-16x16.gif"" width=""16"" height=""16""
                    border=""0""
                    alt=""Click to reply to this thread""></a></td>
                <td class=""jive-icon-label""><a
                    href=""post!reply.jspa?messageID=85509""
                    title=""Click to reply to this thread"">Reply</a></td>

                
            </tr>
        </table>
        </div>
                 
                 
                </td>
            </tr>
            
            
            
       <tr style=""padding: 0px;"">
            <td  style=""padding: 0px;"" valign=""top"" colspan=""3"">
            

      <table  style=""padding: 0px;"" width=""100%"">
              <tr  style=""padding: 0px;"">
              <td width=""80%""  style=""vertical-align:bottom; padding: 0px; padding-left:11px;"" valign=""top"">
    

   
        
              
              </td>
              
              <td  style=""padding: 0px;"" valign=""top"" align=""right"">
                     

 
                 
 
 
              </td>
              </tr>
            </table>
              </td>
              </tr>
              
              
    <tr><td colspan=""3"">
    

    
        <table  border=""0"" cellpadding=""0"" cellspacing=""0"" width=""100%""
            class=""jive-message-body-wrapper"">
            <tr>
                <td>
                <div class=""jive-message-body"">
                <div style=""line-height:1.5; padding-left: 25px;padding-right: 10px;"">
                Hi,<br/><br/>You are very welcome, glad you were able to figure it out yourself as well. As for your other questions:<br/><br/>1.&lt;span style=""color: #ff0000""&gt;They are both the same&lt;/span&gt;.<br/><br/>Making 10 requests for 20 results at a time:<br/>10 requests * $0.0003/request =&nbsp; $.003<br/><br/>Getting 200 results at a time:<br/>1 request&nbsp; *&nbsp; $0.0003/request + (200 results - 20 ) * $0.000015/result =&nbsp; $.003<br/><br/>So you can think of it as $0.000015/result with a 20 result minimum.<br/><br/>2. The XML response will change based upon the Response Group you make the request with. If you include all five response groups (Results, Context, QueryCorrection, QueryExpansion, TrafficRank) the xml being returned will be larger but you will still be charged the same price: per request.<br/><br/>Please let me know if you have any further questions, happy developing!<br/><br/>Best,<br/>-Ryan<br/>Message was edited by: Greg@AlexaMessage was edited by: Greg@Alexa<br class=""jive-newline"" />
<br class=""jive-newline"" />
Message was edited by: Greg@Alexa
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        <div class=""jive-message-list"">
            <div class=""jive-table"">

                




<div class=""jive-messagebox"">

<table summary=""Message"" cellpadding=""0"" cellspacing=""0"" border=""0""
    width=""100%"">
    <tr id=""jive-message-85544"" valign=""top"">
        <td class=""jive-first"" valign=""top"">


        <table class=""jive-thread-messagebox"" style=""padding: 12px;"" width=""100%"">
            <tr>
                
                <td valign=""top"" width=""1%""></td>
 
 
     <td width=""100%"" valign=""top"">

       <span class=""jive-subject""> <a
            name=""85544""></a> Re: parse the EstimatedNumberOfDocuments
       </span>
        
        
<div style=""padding-top: 5px; font-size: 11px;"">
        
        
        


 
<div class=""jive-message-info"">Posted by:  <a href=""profile.jspa?userID=53388""
            title=""H. Elburai"">H. Elburai</a> 
   </div>
        
        
        
        <div class=""jive-message-info"">
         Posted on: 
            
        <font style=""color: #000;"">Apr 5, 2008 12:01 AM</font>
        </div>
        
        
        
        
        
          <div class=""jive-message-info""><a
            href=""message.jspa?messageID=85509#85509""
            title=""in response to: Ryan@Alexa""><img
            src=""images/up-10x10.gif"" width=""10"" height=""10"" border=""0""
            alt=""in response to: Ryan@Alexa""
            title=""in response to: Ryan@Alexa"" /></a>
         
        
        in response to: <a
                    href=""message.jspa?messageID=85509#85509""
                    title=""Go to message"">Ryan@Alexa</a> 
 </div>   


   
        



        
        
        
        
        
        </div>
        </td>
        <td align=""right"" valign=""top"">
                
<div class=""jive-buttons"">
        <table cellpadding=""0"" cellspacing=""0"" border=""0"">
            <tr>
                

                

                

                
                

                <td>&nbsp;</td>
                <td class=""jive-icon""><a
                    href=""post!reply.jspa?messageID=85544""
                    title=""Click to reply to this thread""><img
                    src=""images/reply-16x16.gif"" width=""16"" height=""16""
                    border=""0""
                    alt=""Click to reply to this thread""></a></td>
                <td class=""jive-icon-label""><a
                    href=""post!reply.jspa?messageID=85544""
                    title=""Click to reply to this thread"">Reply</a></td>

                
            </tr>
        </table>
        </div>
                 
                 
                </td>
            </tr>
            
            
            
       <tr style=""padding: 0px;"">
            <td  style=""padding: 0px;"" valign=""top"" colspan=""3"">
            

      <table  style=""padding: 0px;"" width=""100%"">
              <tr  style=""padding: 0px;"">
              <td width=""80%""  style=""vertical-align:bottom; padding: 0px; padding-left:11px;"" valign=""top"">
    

   
        
              
              </td>
              
              <td  style=""padding: 0px;"" valign=""top"" align=""right"">
                     

 
                 
 
 
              </td>
              </tr>
            </table>
              </td>
              </tr>
              
              
    <tr><td colspan=""3"">
    

    
        <table  border=""0"" cellpadding=""0"" cellspacing=""0"" width=""100%""
            class=""jive-message-body-wrapper"">
            <tr>
                <td>
                <div class=""jive-message-body"">
                <div style=""line-height:1.5; padding-left: 25px;padding-right: 10px;"">
                Thank you very much Ryan. Much appreciated.<br/>
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        <div class=""jive-message-list"">
            <div class=""jive-table"">

                




<div class=""jive-messagebox"">

<table summary=""Message"" cellpadding=""0"" cellspacing=""0"" border=""0""
    width=""100%"">
    <tr id=""jive-message-85592"" valign=""top"">
        <td class=""jive-first"" valign=""top"">


        <table class=""jive-thread-messagebox"" style=""padding: 12px;"" width=""100%"">
            <tr>
                
                <td valign=""top"" width=""1%""></td>
 
 
     <td width=""100%"" valign=""top"">

       <span class=""jive-subject""> <a
            name=""85592""></a> Re: parse the EstimatedNumberOfDocuments
       </span>
        
        
<div style=""padding-top: 5px; font-size: 11px;"">
        
        
        


 
<div class=""jive-message-info"">Posted by:   <img class=""jive-status-level-image"" align=""absmiddle""
            src=""images/status/amazonicon.gif"" border=""0""
            title=""Amazonian"" alt="""" />

        <a href=""profile.jspa?userID=17092""
            title=""Greg@Alexa"">Greg@Alexa</a> 
   </div>
        
        
        
        <div class=""jive-message-info"">
         Posted on: 
            
        <font style=""color: #000;"">Apr 5, 2008 10:39 AM</font>
        </div>
        
        
        
        
        
          <div class=""jive-message-info""><a
            href=""message.jspa?messageID=85544#85544""
            title=""in response to: H. Elburai""><img
            src=""images/up-10x10.gif"" width=""10"" height=""10"" border=""0""
            alt=""in response to: H. Elburai""
            title=""in response to: H. Elburai"" /></a>
         
        
        in response to: <a
                    href=""message.jspa?messageID=85544#85544""
                    title=""Go to message"">H. Elburai</a> 
 </div>   


   
        



        
        
        
        
        
        </div>
        </td>
        <td align=""right"" valign=""top"">
                
<div class=""jive-buttons"">
        <table cellpadding=""0"" cellspacing=""0"" border=""0"">
            <tr>
                

                

                

                
                

                <td>&nbsp;</td>
                <td class=""jive-icon""><a
                    href=""post!reply.jspa?messageID=85592""
                    title=""Click to reply to this thread""><img
                    src=""images/reply-16x16.gif"" width=""16"" height=""16""
                    border=""0""
                    alt=""Click to reply to this thread""></a></td>
                <td class=""jive-icon-label""><a
                    href=""post!reply.jspa?messageID=85592""
                    title=""Click to reply to this thread"">Reply</a></td>

                
            </tr>
        </table>
        </div>
                 
                 
                </td>
            </tr>
            
            
            
       <tr style=""padding: 0px;"">
            <td  style=""padding: 0px;"" valign=""top"" colspan=""3"">
            

      <table  style=""padding: 0px;"" width=""100%"">
              <tr  style=""padding: 0px;"">
              <td width=""80%""  style=""vertical-align:bottom; padding: 0px; padding-left:11px;"" valign=""top"">
    

   
        
              
              </td>
              
              <td  style=""padding: 0px;"" valign=""top"" align=""right"">
                     

 
                 
 
 
              </td>
              </tr>
            </table>
              </td>
              </tr>
              
              
    <tr><td colspan=""3"">
    

    
        <table  border=""0"" cellpadding=""0"" cellspacing=""0"" width=""100%""
            class=""jive-message-body-wrapper"">
            <tr>
                <td>
                <div class=""jive-message-body"">
                <div style=""line-height:1.5; padding-left: 25px;padding-right: 10px;"">
                Hi,<br/><br/>Another way to state the pricing described at <a class=""jive-link-external"" href=""http://aws.amazon.com/alexawebsearch"">http://aws.amazon.com/alexawebsearch</a> is that you are charged charged <a name=""as11""></a>$0.000015 per result&nbsp; that you actually retrieve with a minimum charge of&nbsp; $0.0003/request.&nbsp;&nbsp;&nbsp; <br/><br/>If you make a request and ask for 20 or fewer results back, forexample, you will never be charged more than $0.0003/request (which translates into $.30/1000 requests.)<br/><br/>Here are some prices for example requests:<br/><br/>...Action=Search&amp;Query=cat&amp;MaxNumberOfDocumentsPerPage=10&nbsp; --&gt; $0.0003<br/>...Action=Search&amp;Query=cat&amp;MaxNumberOfDocumentsPerPage=20&nbsp; --&gt; $0.0003<br/><a name=""as11""></a>...Action=Search&amp;Query=cat&amp;MaxNumberOfDocumentsPerPage=100 --&gt; <a name=""as11""></a>$0.0015<br/>...Action=Search&amp;Query=cat&amp;MaxNumberOfDocumentsPerPage=200 --&gt;<a name=""as11""></a> $0.003<br/><br/>If you make an obscure query that doesn&#39;t return any results, you will only be charged for the results that are returned.&nbsp; The query below asks for 200 results, but doesn&#39;t actually return any, so you are charged the minimum $0.0003/request.<br/><br/>...Action=Search&amp;Query=some+strange+query+blah+blah+kakalakaka&amp;MaxNumberOfDocumentsPerPage=200<br/>--&gt; $0.0003<br/><br/>- Greg<br/>Alexa<br/><br/>P.S.&nbsp; For more complex queries you are also charged for the complexity of the query as described in the pricing on <a class=""jive-link-external"" href=""http://aws.amazonaws.com/alexawebsearch&nbsp;"">http://aws.amazonaws.com/alexawebsearch&nbsp;</a> and the FAQs linked to from that page.<br/>
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        <div class=""jive-message-list"">
            <div class=""jive-table"">

                




<div class=""jive-messagebox"">

<table summary=""Message"" cellpadding=""0"" cellspacing=""0"" border=""0""
    width=""100%"">
    <tr id=""jive-message-85672"" valign=""top"">
        <td class=""jive-first"" valign=""top"">


        <table class=""jive-thread-messagebox"" style=""padding: 12px;"" width=""100%"">
            <tr>
                
                <td valign=""top"" width=""1%""></td>
 
 
     <td width=""100%"" valign=""top"">

       <span class=""jive-subject""> <a
            name=""85672""></a> Re: parse the EstimatedNumberOfDocuments
       </span>
        
        
<div style=""padding-top: 5px; font-size: 11px;"">
        
        
        


 
<div class=""jive-message-info"">Posted by:  <a href=""profile.jspa?userID=53388""
            title=""H. Elburai"">H. Elburai</a> 
   </div>
        
        
        
        <div class=""jive-message-info"">
         Posted on: 
            
        <font style=""color: #000;"">Apr 7, 2008 1:26 AM</font>
        </div>
        
        
        
        
        
          <div class=""jive-message-info""><a
            href=""message.jspa?messageID=85592#85592""
            title=""in response to: Greg@Alexa""><img
            src=""images/up-10x10.gif"" width=""10"" height=""10"" border=""0""
            alt=""in response to: Greg@Alexa""
            title=""in response to: Greg@Alexa"" /></a>
         
        
        in response to: <a
                    href=""message.jspa?messageID=85592#85592""
                    title=""Go to message"">Greg@Alexa</a> 
 </div>   


   
        



        
        
        
        
        
        </div>
        </td>
        <td align=""right"" valign=""top"">
                
<div class=""jive-buttons"">
        <table cellpadding=""0"" cellspacing=""0"" border=""0"">
            <tr>
                

                

                

                
                

                <td>&nbsp;</td>
                <td class=""jive-icon""><a
                    href=""post!reply.jspa?messageID=85672""
                    title=""Click to reply to this thread""><img
                    src=""images/reply-16x16.gif"" width=""16"" height=""16""
                    border=""0""
                    alt=""Click to reply to this thread""></a></td>
                <td class=""jive-icon-label""><a
                    href=""post!reply.jspa?messageID=85672""
                    title=""Click to reply to this thread"">Reply</a></td>

                
            </tr>
        </table>
        </div>
                 
                 
                </td>
            </tr>
            
            
            
       <tr style=""padding: 0px;"">
            <td  style=""padding: 0px;"" valign=""top"" colspan=""3"">
            

      <table  style=""padding: 0px;"" width=""100%"">
              <tr  style=""padding: 0px;"">
              <td width=""80%""  style=""vertical-align:bottom; padding: 0px; padding-left:11px;"" valign=""top"">
    

   
        
              
              </td>
              
              <td  style=""padding: 0px;"" valign=""top"" align=""right"">
                     

 
                 
 
 
              </td>
              </tr>
            </table>
              </td>
              </tr>
              
              
    <tr><td colspan=""3"">
    

    
        <table  border=""0"" cellpadding=""0"" cellspacing=""0"" width=""100%""
            class=""jive-message-body-wrapper"">
            <tr>
                <td>
                <div class=""jive-message-body"">
                <div style=""line-height:1.5; padding-left: 25px;padding-right: 10px;"">
                Thank you Greg for clarifying the pricing scheme.<br/><br/>There would be a huge difference in total end cost between the first scenario given and yours (price being the same or not).<br/>10 to 1 difference to be precise according to my needs. I am glad I looked back again at this thread.<br/><br/>Thanks again, and I am glad that it is priced the way it is now, I can try and develop what I need while optimizing the total end cost.<br/><br/>Thanks to both of you.<br/>
                </div>
                
                </div>
                </td>
            </tr>
        </table>
       
 


        </td>
    </tr>
    
</table>

</td></tr></table>
</div>



            </div>
        </div>

        

        


            
        <table cellpadding=""3"" cellspacing=""0"" style=""padding-top: 10px;"" border=""0"" width=""100%"">
            <tr>

                <td nowrap width=""90%"">
                
                <div style=""padding-top: 5px""><a
                    href=""rss/rssmessages.jspa?threadID=20839""><img
                    align=""absmiddle"" style=""padding-right: 8px;""
                    src=""https://dn1lvoe5mgzdm.cloudfront.net/images/feed-icon-16x16.gif"" width=""16""
                    height=""16"" border=""0"" alt=""View Thread RSS Feed""></a>
                <a
                    href=""rss/rssmessages.jspa?threadID=20839""><b>View
                Thread RSS Feeds</b></a></div>
                
                </td>
                <td nowrap align=""right"" width=""10%"">
         

                </td>

            </tr>
         </table>
      
 
    
    
    

    </div>

        </td>

        
        <td valign=""top"" width=""1%"">
        
        
        



<div id=""sideNav"">
<div id=""subNavB"">
<div class=""decoratedBox"">
<div class=""head"">
<h4>Available Actions</h4>
</div>
<div class=""body"">
<table>
    <tbody>


        
        <tr>
            <td class=""jive-icon""><a
                href=""post!reply.jspa?threadID=20839""><img
                src=""images/reply-16x16.gif"" width=""16"" height=""16""
                border=""0""
                alt=""Reply to this Thread""></a></td>
            <td class=""jive-icon-label"">
            <a id=""jive-reply-thread""
                href=""post!reply.jspa?threadID=20839"">Reply to this Thread</a></td>
        </tr>
        

        

    </tbody>
</table>

</div>
</div>
</div>
</div>


         
        
        
        
        







<div id=""sideNav"">
<div id=""subNavB"">
<div class=""decoratedBox"">
<div class=""head"">
<h4>Icon Legend</h4>
</div>
<div class=""body"">
<table>
    


    

    <tr>
        <td valign=""top"" class=""jive-icon""><img
            src=""images/question-resolved-16x16.gif"" width=""16""
            height=""16"" border=""0"" alt=""""></td>
        <td valign=""top"" class=""jive-icon-label"">
        Answered question</td>
    </tr>
    <tr>
        <td valign=""top"" class=""jive-icon""><img
            src=""images/question-pts-available-16x16.gif"" width=""16""
            height=""16"" border=""0"" alt=""""></td>
        <td valign=""top"" class=""jive-icon-label"">
          Unanswered question with answer points still available 
        </td>
    </tr>
    <tr>
        <td valign=""top"" class=""jive-icon""><img
            src=""images/question-16x16.gif"" width=""16"" height=""16""
            border=""0"" alt=""""></td>
        <td valign=""top"" class=""jive-icon-label"">
        Unanswered question</td>
    </tr>


</table>


        
<div class=""jive-portlet-separator""><a style=""font-weight:bold;"" href=""recognition.jsp"">AWS Forums Status Icons</a></div>
<table cellpadding=""2"" cellspacing=""0"" border=""0"" width=""100%"">


    

        <tbody class=""jive-status-legend-points"">

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/ace16x16.gif"" border=""0"" title=""Ace"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">

                        Ace: 2000+      pts
                    </td>
                </tr>

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/expert16x16.gif"" border=""0"" title=""Expert"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">

                        Expert: 750-1999

                              pts
                    </td>
                </tr>

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/guide16x16.gif"" border=""0"" title=""Guide"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">

                        Guide: 300-749

                              pts
                    </td>
                </tr>

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/enthusiast16x16.gif"" border=""0"" title=""Enthusiast"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">

                        Enthusiast: 50-299

                              pts
                    </td>
                </tr>

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/newbie16x16.gif"" border=""0"" title=""Newbie"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">

                        Newbie: 5-49

                              pts
                    </td>
                </tr>

            

        </tbody>

    

    

        <tbody class=""jive-status-legend-groups"">

            
                <tr>
                    <td valign=""top"" class=""jive-icon"">
                        <img src=""images/status/amazonicon.gif"" border=""0"" title=""Amazonian"" alt="""" />
                    </td>
                    <td valign=""top"" class=""jive-icon-label"">
                        Amazonian
                    </td>
                </tr>

            

        </tbody>

    





</table>

</div>

</div>

</div>
</div>


         
        
        </td>
        


    </tr>
</table> 
                <br />
                <br />
              </article>
         &nbsp; 

      <footer id=""ft"" class=""footer"">
        <div style=""border-top: 1px solid #ccc; margin-bottom: 12px; margin-top: 10px; padding-top: 2px;"">
          <ul class=""h_bar"">
            <li class=""first"">
              <a href=""http://aws.typepad.com/"" target=""_blank"">AWS Blog <img src=""https://d36cz9buwru1tt.cloudfront.net/icon_offsite.gif"" width=""15"" height=""13"" border=""0"" alt=""This link will launch a new browser window or tab.""></a>
            </li>
            <li><a href=""http://phx.corporate-ir.net/phoenix.zhtml?c=176060&p=irol-InfoReq"">Press Inquiries</a></li>
            <li><a href=""https://aws.amazon.com/careers/"">Careers at AWS</a></li>
            <li><a href=""https://aws.amazon.com/contact-us/"">Contact Us</a></li>
            <li><a href=""https://aws.amazon.com/privacy/"">Privacy Policy</a></li>
            <li><a href=""https://aws.amazon.com/terms/"">Terms of Use</a></li>
          </ul>
          <div class=""grey666"">&#169;2013, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
          <img src=""https://d36cz9buwru1tt.cloudfront.net/awsmedia/logo_an_amazon_company.gif"" width=""160"" height=""21"" vspace=""8"">
        </div>
      </footer>
              
            </td>
          </tr>
        </table>
      </div>
    </tr>
  </table>

<style>  
    .aws-footer {
      font-size:85%;
      text-align:center;
    }
   
    .h_bar {
      list-style-image: none;
      list-style-position:outside;
      list-style-type: none;
      margin-left: 0;
      padding-left: 10px;
    }
  
    .h_bar li{
      border-left: 1px solid #CCCCCC;
      padding-left: 18px;
      padding-right: 18px;
      display: inline;
      list-style-type: none;
    }
  
     li.first{
      border-left: 0px;
    }
  </style> 
  <script src=""/js/all_3_en.js"" type=""text/javascript""></script>
  <script type=""text/javascript"" src=""https://d348hmg1ylg9cx.cloudfront.net/js/jquery.cookie.min.js""></script>
  <script type=""text/javascript"" src=""https://d348hmg1ylg9cx.cloudfront.net/js/jquery.jsonp-1.1.4.min.js""></script>
  <script type=""text/javascript"">
    jQuery.noConflict();
  </script>

      <script type=""text/javascript"">
        AWSGlobalNav.disableLanguageMenu = true;

        AWSGlobalNav.contentBaseURL = ""//l0.awsstatic.com/""; 

      </script>
    </div>
  </body>
</html>"
Alexa Web Search	"Status 500 - with over 1000 results
Alexa team,I am getting the following error (HTTP Status 500) when we try to go past 1000 results. Isn't the limit 5000? If it is the 5000 limit issue, how is it calculated for a web app where multiple users can be running the same query. Any ideas on why this would be happening. We are using the Java library.Thanks,-senthil31 Mar 2008 15:50:02,546 DEBUG query.AlexaWebSearchQuery - Done adding additional required parameteres. Parameters now:{SignatureVersion=1, Signature=XXXX, Query=how AND roast 'turkey', Action=Search, ResponseGroup.2=Context, Version=2007-03-15, MaxNumberOfDocumentsPerPage=100, AWSAccessKeyId=XXXX, Timestamp=2008-03-31T19:50:02.546Z, PageNumber=11, ResponseGroup.1=Results}31 Mar 2008 15:50:02,546 DEBUG query.AlexaWebSearchQuery - Sending Request to host: http://wsearch.amazonaws.com31 Mar 2008 15:50:02,546 DEBUG query.AlexaWebSearchQuery - Sending Request to host: http://wsearch.amazonaws.com31 Mar 2008 15:50:08,609 DEBUG query.AlexaWebSearchQuery - Received Response. Status: 500. Response Body: <?xml version=""1.0""?><ErrorResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><Error><Type>Receiver</Type><Code>InternalError</Code><Message>We encountered an internal error. Please try again.</Message><Detail/></Error><RequestId>9754ed53-2003-4f73-b9e3-d6b35e2cbdb9</RequestId></ErrorResponse>31 Mar 2008 15:50:08,609 DEBUG query.AlexaWebSearchQuery - Received Response. Status: 500. Response Body: <?xml version=""1.0""?><ErrorResponse xmlns=""http://wsearch.amazonaws.com/doc/2007-03-15/""><Error><Type>Receiver</Type><Code>InternalError</Code><Message>We encountered an internal error. Please try again.</Message><Detail/></Error><RequestId>9754ed53-2003-4f73-b9e3-d6b35e2cbdb9</RequestId></ErrorResponse>"
Alexa Web Search	"Re: Status 500 - with over 1000 results
Hi Senthil,Yes <span style=""font-size: x-small"">the upper limit is 5000. You might have seen a transitory error with the service. Are you still seeing this? We can't reproduce it.Also, terms are ANDed by default so you shouldn't use an AND in your query. Also, if you want to do a phrase search you need to use double quotes and not single ones.Please refer to the syntax section in the manual for this information:http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/SearchSyntax_GeneralQuerySyntaxArticle.htmlBest,-Ryan</span>"
Alexa Web Search	"Order of search results - WS vs Website
Is the web service supposed to return search results that match the search results on www.alexa.com. i.e. will the order of the URLs be the same? We are using the Java library. It doesn't appear to be the same. Anyone knows as to why they would be different?Thanks,-senthil"
Alexa Web Search	"Re: Order of search results - WS vs Website
Just a follow-up to my previous question (""Is the web service supposed to return search results that match thesearch results on www.alexa.com. i.e. will the order of the URLs be thesame?""). I have attached the request and responce TCP dumps (removed the accesskey info). You will notice that the response is missing any description at all and the order of the search results is slightly different.Any pointers?"
Alexa Web Search	"Re: Order of search results - WS vs Website
Hi,The website search is tailored for the user based upon what the browser passes to us. Language, location, etc are all variables that changes the search results on the website to fit each user request.The web service is not tailored or filtered in any way, it is the baseline search and nothing else unless you specify otherwise.Best,-Ryan"
Alexa Web Search	"Description/Context
Does anyone know as to how one could retrieve the descriptions for the search results using the Java library. We tried the following and the context field is never populated.if (document.isSetContext()) {logger.log(Level.INFO, ""desc=""+document.getContext());}"
Alexa Web Search	"Re: Description/Context
I didn't realize that I was not sending the Context option in the ResponseGroup. I am getting the descriptions now."
Alexa Web Search	"SenderSignatureDoesNotMatch error code
Hi,<u></u>I keep getting these <u>error codes</u> using your C# code:<blockquote>	 SenderSignatureDoesNotMatchThe request	signature we calculated does not match the signature you provided.	Check your AWS Secret Access Key and signing method. Consult the	service documentation for details.dcc8a876-fab3-410a-8d50-45bd8e76f229	</blockquote>I am using <u>this code</u>:<blockquote>		public static readonly string VERSION = ""2007-03-15"";	public static readonly string ACTION = ""Search"";	public static readonly string RESPONSE_GROUP = ""Results""; 	/// <summary>			/// Make the signature by hashing the data with the secret key			/// </summary>			/// <param name=""data"">The data to be hashed</param>			/// <param name=""secretKey"">The key to use</param>			/// <returns>Hash of the provided data</returns>			private static string MakeSignature(string data, string secretKey)			{			 Encoding ae = new UTF8Encoding();			 HMACSHA1 signature = new HMACSHA1(ae.GetBytes(secretKey));			 string b64 = Convert.ToBase64String(			 signature.ComputeHash(ae.GetBytes(			 data.ToCharArray()))			 );			 return b64;			}	 		/// <summary>			/// Get the timestamp for the current time			/// </summary>			/// <returns>Timestamp in format suitable for consumption by AWS</returns>			private static string GetTimestamp()			{			 return System.DateTime.UtcNow.ToString(""yyyy-MM-ddTHH:mm:ss.fffZ"", System.Globalization.CultureInfo.InvariantCulture);			}	 		/// <summary>			/// Compose the AWS url for an WebSearch request			/// </summary>			/// <param name=""query"">The query to pass to the search engine</param>			/// <returns></returns>			public static string GenerateUrl(string query)			{	 		 string timeStamp = GetTimestamp();			 string signiture = MakeSignature(ACTION + timeStamp, SECRET_ACCESS_KEY);	 		 StringBuilder url = new StringBuilder();			 url.Append(""http://wsearch.amazonaws.com?"");		 url.Append(""AWSAccessKeyId="").Append(ACCESS_KEY_ID);			 url.Append(""&Version="").Append(VERSION);			 url.Append(""&Action="").Append(ACTION);			 url.Append(""&ResponseGroup="").Append(RESPONSE_GROUP);			 url.Append(""&Timestamp="").Append(URLEncode(timeStamp));			 url.Append(""&Signature="").Append(URLEncode(signiture));			 url.Append(""&Query="").Append(URLEncode(query));			 return url.ToString();			}	 		/// <summary>			/// Properly URL Encode parameters for consumption by AWS 			/// </summary>			/// <param name=""str"">The string to encode</param>			/// <returns>Encoded string</returns>			private static string URLEncode(string str)			{			 return System.Web.HttpUtility.UrlEncode(str).Replace(""+"", ""%20"");		}	 </blockquote>Can you please help me prevent it?~~Gilad."
Alexa Web Search	"Re: SenderSignatureDoesNotMatch error code
Hi,Are you still getting these errors intermittently?I just tested the code below from the Resource center (http://developer.amazonwebservices.com/connect/entry.jspa?externalID=414&categoryID=97) from within Visual Studio 2005 and it works fine for me. Could you please post some more examples of the full http requests that are failing? (You can take out your access key, but please keep all other paramters.)And, could you please post the RequestId's of some failing requests?Thanks,- GregAlexausing System;
using System.Collections.Generic;
using System.Text;
using System.Collections;
using System.IO;
using System.Net;
using System.Security.Cryptography;
using System.Web;
using System.Xml;


namespace WEBSEARCH {

/// <summary>
/// Example query request to Alexa Web Search service
/// </summary>
public class WebSearch {

    public static readonly string ACCESS_KEY_ID = ""--- Replace with your access key id ---"";
    public static readonly string SECRET_ACCESS_KEY = ""--- Replace with your secret access key ---"";

    public static readonly string VERSION = ""2007-03-15"";
    public static readonly string ACTION = ""Search"";
    public static readonly string RESPONSE_GROUP = ""Results"";

    /// <summary>
    /// Make the signature by hashing the data with the secret key
    /// </summary>
    /// <param name=""data"">The data to be hashed</param>
    /// <param name=""secretKey"">The key to use</param>
    /// <returns>Hash of the provided data</returns>
    private static string makeSignature(string data, string secretKey) {
        Encoding ae = new UTF8Encoding();
        HMACSHA1 signature = new HMACSHA1( ae.GetBytes( secretKey ) );
        string b64 = Convert.ToBase64String(
                                    signature.ComputeHash( ae.GetBytes(
                                                    data.ToCharArray() ) )
                                           );
        return b64;
    }
        
    /// <summary>
    /// Get the timestamp for the current time
    /// </summary>
    /// <returns>Timestamp in format suitable for consumption by AWS</returns>
    private static string getTimestamp() {
        return System.DateTime.UtcNow.ToString(""yyyy-MM-ddTHH:mm:ss.fffZ"", System.Globalization.CultureInfo.InvariantCulture );
    }        
          
    /// <summary>
    /// Compose the AWS url for an WebSearch request
    /// </summary>
    /// <param name=""query"">The query to pass to the search engine</param>
    /// <param name=""timestamp"">The timestamp from getTimestamp()</param>
    /// <param name=""signature"">The signature from makeSignature()</param>
    /// <returns></returns>
    private static string generateUrl(string query, string timestamp, string signature ) {
        StringBuilder url = new StringBuilder();
        url.Append(""http://wsearch.amazonaws.com?"");
         url.Append(""AWSAccessKeyId="").Append(ACCESS_KEY_ID);
         url.Append(""&amp;Version="").Append(VERSION);
        url.Append(""&amp;Action="").Append(ACTION);
        url.Append(""&amp;ResponseGroup="").Append(RESPONSE_GROUP);
        url.Append(""&amp;Timestamp="").Append(URLEncode(timestamp));
        url.Append(""&amp;Signature="").Append(URLEncode(signature));
        url.Append(""&amp;Query="").Append(URLEncode(query));
        return url.ToString();
    }

    /// <summary>
    /// Properly URL Encode parameters for consumption by AWS 
    /// </summary>
    /// <param name=""str"">The string to encode</param>
    /// <returns>Encoded string</returns>
    private static string URLEncode(string str) {
        //return System.Web.HttpUtility.UrlEncode(str).Replace(""+"", ""%20"");
        return HttpUtility.UrlEncode(HttpUtility.UrlPathEncode(str)); 
    }

    /// <summary>
    /// Print the response from the input WebResponse object to the console
    /// </summary>
    /// <param name=""response"">WebResponse to print</param>
    private static void printResponse(WebResponse response) {
          StreamReader reader = new StreamReader(response.GetResponseStream());

          string str = reader.ReadLine();
          while(str != null) {
                Console.WriteLine(str);
                str = reader.ReadLine();
          }
    }

    /// <summary>
    /// Use Xpath to parse the response from the input WebResponse object and write
    /// the title and url to the console
    /// </summary>
    /// <param name=""response"">WebResponse to parse and print</param>
    private static void parseResponse(WebResponse webresponse)
    {

        HttpWebResponse response = (HttpWebResponse)webresponse;
        Stream resStream = response.GetResponseStream();

        System.Xml.XmlDocument xmldoc = new System.Xml.XmlDocument();
        xmldoc.Load(resStream);
        System.Xml.XmlNamespaceManager xmlnsManager = new System.Xml.XmlNamespaceManager(xmldoc.NameTable);
        xmlnsManager.AddNamespace(""aws"", ""http://wsearch.amazonaws.com/doc/2007-03-15/"");
        System.Xml.XmlNodeList nodeList = xmldoc.SelectNodes(""//aws:Document"", xmlnsManager);
        Console.WriteLine(nodeList.Count);
        int i = 0;
        foreach (XmlNode node in nodeList)
        {
            Console.Write(i++);
            Console.Write("". "");
            Console.WriteLine(node.SelectSingleNode(""aws:Title"", xmlnsManager).InnerText);
            Console.WriteLine(node.SelectSingleNode(""aws:Url"", xmlnsManager).InnerText);
            Console.WriteLine("""");
        }

    }

    /// <summary>
    /// Test making an request for an input query
    /// </summary>
    /// <param name=""args"">A website url is passed in as the first argument</param>
    /// <returns></returns>
    public static int Main(string[] args) {
        try {

            if (args.Length < 1) {
                System.Console.WriteLine(""Usage: WebSearch <Query>"");
                return 1;
            }

            string query = args[0];
            
            System.Console.WriteLine(""For query:"" + query);
            
            string timestamp = getTimestamp();
            System.Console.WriteLine(""Timestamp:"" + timestamp);
            string signature = makeSignature(ACTION + timestamp, SECRET_ACCESS_KEY);
            string searchUrl = generateUrl(query, timestamp, signature);

            System.Console.WriteLine(""Request:"");
            System.Console.WriteLine(searchUrl);
            
            
            WebRequest request = WebRequest.Create(searchUrl);
            WebResponse response = request.GetResponse();

            System.Console.WriteLine(""Response:"");
            parseResponse(response);

            return 0;

        } catch ( Exception e ) {
        
            System.Console.WriteLine( e.Message );
            System.Console.WriteLine( e.StackTrace );
            System.Console.ReadLine();
            return 1;
        }
    }        

}
}"
Alexa Web Search	"Java AlexaWebSearch - Thread safe?
Is the AlexaWebSearch class that comes with the java samples thread safe, i.e. can multiple threads use the AlexaWebSearch class concurrently.Thanks,-senthil"
Alexa Web Search	"Getting Book Biblio Information
I would like to be able to put in a book title, do a search, and get the bibliographic information about the book, including author, ISDN number, Lib Congress information, publisher, date, etc. 

Which web service do I use and has someone else already done this? I am currently writing in Witango, which I know is little known here, but can also incorporate PHP. 

Thanks,

Mark Weiss
CM Harbor, PLLC
dmw@cmharbor.com"
Alexa Web Search	"Re: Getting Book Biblio Information
Hi Mark,This is the forum for the Alexa Web Search, which is a search engine for websites and not for products like books and etc sold on Amazon.com. What you want to use is the Amazon Associates Web Service located here:http://www.amazon.com/E-Commerce-Service-AWS-home-page/b/ref=sc_fe_l_6?ie=UTF8&node=12738641This is the web service you will use for Amazon's products. Happy hunting!Best,-Ryan"
Alexa Web Search	"Nice pretty new Alexa websearch helper class (PHP)
I have updated the class, cleaned up a bit. Also added built in thumbnailing.Here is Usage:$alexa = new alexasearch('key', 'secret key');// search( search term, page number, max results displayed)   // search now returns an array of results.$res = $alexa->search('php', 1, 10);   $html = '<table>'; foreach($res as $r){ // thumbnail( array of urls, size - small or large, default image) // I used list() here because Im only requesting one image at a time list($thumbnail) = $alexa->thumbnail(array($r['url'])); $html .= '<tr> <td> <img src=""'.$thumbnail.'""></td> <td> <h4><a href=""'.$r['url'].'"">'.$r['title'].'</a></h4> <p>'.$r['context'].'</p> </td> </tr>'; } $html .= '</table>'; die($html);Hope this helps. If you have any questions you can email me at: wcope[at]frenzylabs[dot]com

Message was edited by: bigprize"
Alexa Web Search	"Getting multiple 403 responses
Hi, I have been using the Alexa web search service at the past few days and keep getting 403 error code pages.I believe it is happening for more then 50% of the requests...This is how I use the service:<span style=""color: #1f497d"">http://wsearch.amazonaws.com/?AWSAccessKeyId=<key>&Timestamp=2008-03-17T13:07:01.905Z&Signature=<signature>&Version=2007-03-15&Action=Search&ResponseGroup=Results&Query=""Pasha+Bitz""</span>Can you please help me prevent those 403...Thanks,<span>GiladZirkel.</span>"
Alexa Web Search	"Re: Getting multiple 403 responses
Hi,Could you please check the XML that is returned when you get a 403 response?There will be an error string explaining the cause of the error. The errors are documented on the ""Making Requests --> Errors"" page of the Developer's Guide http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/It seems to me that the most likely cause is that you are not URL encoding your signature or timestamp. If you look on the ""Making Requests --> Query Results"" page of the Developer's Guide, there is a recipe for making valid signatures.Could you post a few more URLs of requests that are returning 403, including the Signature parameters.Thanks,GregAlexa"
Alexa Web Search	"Re: Getting multiple 403 responses
Url encoding the time stamp and the signature did fix it.Thanks you very much.Gilad."
Alexa Web Search	"Re: Getting multiple 403 responses
Well, I talked too soon...The situation stayed the same...<u>I keep getting these error code:</u><blockquote>	SenderSignatureDoesNotMatchThe request signature we 	calculated does not match the signature you provided. Check your AWS Secret 	Access Key and signing method. Consult the service documentation for 	details.dcc8a876-fab3-410a-8d50-45bd8e76f229</blockquote><u>I am using this code:</u><blockquote>	/// <summary>	/// Make the signature by hashing the data with the secret key	/// </summary>	/// <param name=""data"">The data to be hashed</param>	/// <param name=""secretKey"">The key to use</param>	/// <returns>Hash of the provided data</returns>	private static string MakeSignature(string data, string secretKey)	{	 Encoding ae = new UTF8Encoding();	 HMACSHA1 signature = new HMACSHA1(ae.GetBytes(secretKey));	 string b64 = Convert.ToBase64String(	 signature.ComputeHash(ae.GetBytes(	 data.ToCharArray()))	 );	 return b64;	} 	/// <summary>	/// Get the timestamp for the current time	/// </summary>	/// <returns>Timestamp in format suitable for consumption by AWS</returns>	private static string GetTimestamp()	{	 return System.DateTime.UtcNow.ToString(""yyyy-MM-ddTHH:mm:ss.fffZ"", System.Globalization.CultureInfo.InvariantCulture);	} 	/// <summary>	/// Compose the AWS url for an WebSearch request	/// </summary>	/// <param name=""query"">The query to pass to the search engine</param>	/// <returns></returns>	public static string GenerateUrl(string query)	{ 	 string timeStamp = GetTimestamp();	 string signiture = MakeSignature(ACTION + timeStamp, SECRET_ACCESS_KEY); 	 StringBuilder url = new StringBuilder();	 url.Append(""http://wsearch.amazonaws.com?"");	 url.Append(""AWSAccessKeyId="").Append(ACCESS_KEY_ID);	 url.Append(""&Version="").Append(VERSION);	 url.Append(""&Action="").Append(ACTION);	 url.Append(""&ResponseGroup="").Append(RESPONSE_GROUP);	 url.Append(""&Timestamp="").Append(URLEncode(timeStamp));	 url.Append(""&Signature="").Append(URLEncode(signiture));	 url.Append(""&Query="").Append(URLEncode(query));	 return url.ToString();	} 	/// <summary>	/// Properly URL Encode parameters for consumption by AWS 	/// </summary>	/// <param name=""str"">The string to encode</param>	/// <returns>Encoded string</returns>	private static string URLEncode(string str)	{	 //return System.Web.HttpUtility.UrlEncode(str).Replace(""+"", ""%20"");	 return HttpUtility.UrlEncode(HttpUtility.UrlPathEncode(str));	}</blockquote>"
Alexa Web Search	"Access control error
I have setup my account. I still get access error below. Is my account setup fine ?<span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">Email: Vinod.viswanathan@gmail.com</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">AWS Access Key:&ltAccess Key Removed></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">AWS Secret Key:****************************************</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">Query:794043693229</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">MaxNumberOfDocuments:1000</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">MaxTime: 300</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">CachedDocumentsOnly:false</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black"">fatal exceptionwhile getting value in XML</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><?xmlversion=""1.0""?></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><ErrorResponsexmlns=""http://msearch.amazonaws.com/doc/2007-03-15/""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><Error></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><Type>Sender</Type></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><Code>InvalidAccessKeyId</Code></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><Message>AWSwas not able to validate the provided access credentials.</Message></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><Detail/></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""></Error></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""><RequestId>4ccaa4e6-5ccc-474d-bc8e-a2c55dfbfb63</RequestId></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: black""></ErrorResponse></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red"">Exception inthread ""main"" </span><u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: navy"">java.lang.NullPointerException</span></u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red""><span> </span>atcom.alexa.msr.example.query.QuerySearch.getElementValue(</span><u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: navy"">QuerySearch.java:205</span></u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red"">)</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red""><span> </span>atcom.alexa.msr.example.query.QuerySearch.startSearch(</span><u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: navy"">QuerySearch.java:147</span></u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red"">)</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red""><span> </span>atcom.alexa.msr.example.query.QuerySearch.main(</span><u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: navy"">QuerySearch.java:82</span></u><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;; color: red"">)</span><span style=""font-size: 10pt; font-family: &quot;Courier New&quot;""></span>"
Alexa Web Search	"Re: Access control error
It appears you are using Alexa. If so, you probably want to pick the appropriate forum and repost this question there...http://developer.amazonwebservices.com/connect/forumindex.jspa?categoryID=1Jim"
Alexa Web Search	"Re: Access control error
Moved to Alexa Web Search forum ..."
Alexa Web Search	"Running Query Search  Demo
I get the following error.QuerySearch demo startingAWS Access Key: &ltAccess Key Removed>AWS Secret Key: ****************************************Query: 794043693229MaxNumberOfDocuments: 1000MaxTime: 300CachedDocumentsOnly: falsefatal exception while getting value in XML<?xml version=""1.0""?><ErrorResponse xmlns=""http://msearch.amazonaws.com/doc/2007-03-15/""><Error><Type>Sender</Type><Code>InvalidAccessKeyId</Code><Message>AWS was not able to validate the provided access credentials.</Message><Detail/></Error><RequestId>4ccaa4e6-5ccc-474d-bc8e-a2c55dfbfb63</RequestId></ErrorResponse>Exception in thread ""main"" java.lang.NullPointerException at com.alexa.msr.example.query.QuerySearch.getElementValue(QuerySearch.java:205) at com.alexa.msr.example.query.QuerySearch.startSearch(QuerySearch.java:147) at com.alexa.msr.example.query.QuerySearch.main(QuerySearch.java:82)Note:- I am able to run AWS queries successfully using this. I think that my account code is not setup file. Could someone please check."
Alexa Web Search	"Re: Running Query Search  Demo
Hi Vinod,Sorry to hear you are having trouble, thanks for the XML information. We have verified you are signed up for the Alexa Web Search service with the key you posted. Could you post the full http request that you are making and the XML response you are getting?Thanks,-Ryan"
Alexa Web Search	"Nothing works, has something changed, am i blind?
Here is my php class:http://wattz.devpipe.com/alexasearch.phpsI have tried everything to get this to work. The examples on your site aren't working for me either. I have generated and regenerated the secret key like 8 times and tried a bunch of different things to get it to work. Could some one please steer me in the right direction?"
Alexa Web Search	"Re: Nothing works, has something changed, am i blind?
Nevermind got it. See my post were im releasing my helper class that 'works'"
Alexa Web Search	"Need help with the pricing of WebSearch
What pricing model am I using when I systematically do searches like ....""new fad"" ""fad new"" And want to see how many results Alexa has?For instance, the first one will have lots (e.g. 400,000) while the second one would have many fewer (e.g. 4,000).In the pricing and description page I see things talking about ""more than 20 results"" and some intermingling of what queries and results are.Thanks."
Alexa Web Search	"Re: Need help with the pricing of WebSearch
Hi,Another way to state the pricing is that you are charged a minimum of $0.0003/request, and you are charged $0.000015 per result that you actually retrieve. If you make a request and ask for only 30 results back, for example, then the queries for ""new fad"" and ""fad new"" cost the same no matter how many total documents there are that match.Here are some prices for example requests:...Action=Search&Query=%22new+fad%22&MaxNumberOfDocumentsPerPage=20 --> $0.0003...Action=Search&Query=%22new+fad%22&MaxNumberOfDocumentsPerPage=100 --> $0.0015...Action=Search&Query=%22new+fad%22&MaxNumberOfDocumentsPerPage=200 --> $0.003If you are just looking for an estimate of the number of documents that match a query you can just look at the <span style=""width: 500px""><span><span class=""hl"">EstimatedNumberOfDocuments</span>  returned. </span></span>- GregAlexa"
Alexa Web Search	"SiteThrottle
For the million search, how is SiteThrottle selecting 1-4 documents? Is it based on any ranking (populair, number of matches) or just the first 4 results that match. Is there a way to select only the most populair documents from a certain website (without limiting certain domains in the query)?2nd, I did a query and a few days later I noticed my active id's were gone. How much time are the results file stored on the servers?Thanks, Yvo"
Alexa Web Search	"Re: SiteThrottle
For the million search, how is SiteThrottle selecting 1-4 documents? Isit based on any ranking (populair, number of matches) or just the first4 results that match. Is there a way to select only the most populairdocuments from a certain website (without limiting certain domains inthe query)? The results are returned sorted in order of their relevance score. All other things being equal documents from higher traffic sites are returned before lower traffic sites. There is no way to select more popular documents within a site, however.2nd, I did a query and a few days later I noticed my activeid's were gone. How much time are the results file stored on theservers?Results are available for download for 48 hours from the StartDate returned in the GetStatus request. See this page in the Developer Guide for more details: http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/MSR_StatusAction.html- GregAlexa"
Alexa Web Search	"StartGrep
I know this ain't the most perfect place to ask this question, but lets give it a shot.I am working on a regex for startgrep that does this.- find a link (href(.*)</a>).- If the anchor text contains the word ""widget"".- return url + anchor text ( i don't really care if some html is left over in that return like "">)Who is regex king and can help me? ps: i have somethink like this (that doesn't work like I want, because also links with ""wodgit"" get returned):(?i)href=(?=.*?\bwidget\b)(.+?)</a>"
Alexa Web Search	"Re: StartGrep
Hi,I'm not sure if you've found a solution yet. But, I think the problem is the ""greedy"" .*? expression. There might be a more elegant way, but you could do something like this:(?i)href=(?=.{1,40}?\bwidget\b)(.+?)</a> - GregAlexa"
Alexa Web Search	"Re: StartGrep
Indeed I was too greedy! Thank you"
Alexa Web Search	"Can I build my own www.alexa.com/search ?
Hello.

I'm looking to build a simple search engine exactly like http://www.alexa.com/search where my users can search for whatever they like.

I will have my own unique interface and only want to show 4 results per search query in the serp.

Is this allowed/possible and can all this be done easily?

Many thanks."
Alexa Web Search	"Re: Can I build my own www.alexa.com/search ?
Hi Dillon,Yes you can use this service to do exactly what you are asking for. I would be happy to describe our full service, but you can read it (since I've already said it) here:http://developer.amazonwebservices.com/connect/thread.jspa?threadID=19710This thread also asks the same:http://developer.amazonwebservices.com/connect/thread.jspa?threadID=20212After reading those threads and service documentation, please let me know if you have any further questions. Good luck with your development!Best,-Ryan"
Alexa Web Search	"Can I build in my own front end and add additional features?
With this web search can I build my own front end? Add in some additional filters? Can I have it only search certian websites?"
Alexa Web Search	"Re: Can I build in my own front end and add additional features?
If a person had a proposal for Amazona about using their developer services in a unique way who would they talk to? And could it be done in a private way?"
Alexa Web Search	"Re: Can I build in my own front end and add additional features?
With this web search can I build my own front end? Yes. The service returns XML. You can display the results in any format you choose.Add in someadditional filters? Yes. You can find a list of the standard search fields you can use to filter results in the API documentation http://docs.amazonwebservices.com/AlexaWebSearch/2007-03-15/ on the ""Search Fields"" page of the ""Search Query Syntax"" section. You could also request up to 200 results at a time and do your own filtering of the results.Can I have it only search certian websites?Yes, you can use the site: search field to search specific sites. A query such as: cars site:(cnn.com|abcnews.com) would search for documents about cars on either cnn.com or abcnews.com.- GregAlexa"
Alexa Web Search	"Re: Can I build in my own front end and add additional features?
If a person had a proposal for Amazona about using their developerservices in a unique way who would they talk to? And could it be donein a private way?Please email <span>aws@amazon.com</span>"
