label	description

Amazon EC2	"Why can't CloudWatch stop my EC2 instance?
I have a CloudWatch alarm to stop my instance at specified threshold. The alarm gets executed but fails to stop the instance. I believe my instance’s root device is an EBS volume (Description tab says: 'Root device type: ebs'). I am able stop the instance manually via EC2 Management Console. 

What could prevent the alarm from stopping the instance?

Edited by: hgv on Aug 13, 2016 7:29 AM"

Amazon EC2	"Re: Why can't CloudWatch stop my EC2 instance?
Still unanswered and unresolved. Quite frustrating."

Amazon EC2	"Can't deregister AMIs
Hi there,

I can't deregister my AMIs. Can you please deregister the following ones: 

ami-6991a40a
ami-cd153bae
ami-d8b399bb

Thank you.

Regards,
Bruno"

Amazon EC2	"Re: Can't deregister AMIs
Hello Bruno,

I can see the first two AMIs have been already de-registered, however the last one still remains. From the API calls made to your account, I could see many DeregisterAMI calls failing due to an invalid AMI ID was provided.

Please re-try to remove the AMI from the console, and let us know if that works for you or if you receive any error message.

Cheers
Eduardo C"

Amazon EC2	"how to extend the CentOs ""root"" partition size without loosing data?
Hi,
I tried to extend partition of my CentOs instance (AMI: CentOS-6.5-Base-HVM-SR-IOV-1/30/2015 (ami-09f7d239)), from existing 15 GB to 25 GB using following steps, also tried steps of partition extension as mentioned in AWS documentation, but not able to view the expected results, i.e. view the 25 GB space as usable. I still see only 14GB usable as before adding space.

Please let me know any specific steps to be followed on the CEntOs instance ?

Below steps followed by me:
1. Stop the instance and detach the root volume.
2. Create a snapshot of the volume.
3. Create a volume from the snapshot and specify larger size (25 GB) for the new volume.
4. Attach the newly created volume to the instance as /dev/sda1 i.e. Root volume. Start the instance.
5. Notice the ""df"" command output still shows 14 GB usable, but in lsblk, it shows all the 25 GB with various partitions.

root@ip-172-31-21-134 ~# df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/VolGroup-lv_root
14G  1.4G   12G  11% /
tmpfs                 498M     0  498M   0% /dev/shm
/dev/xvda1            485M   54M  407M  12% /boot
/dev/xvda1            485M   54M  407M  12% /ext1

root@ip-172-31-21-134 ~# lsblk
NAME                        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
xvda                        202:0    0   25G  0 disk
ââxvda1                     202:1    0  500M  0 part /boot
ââxvda2                     202:2    0 14.5G  0 part
  ââVolGroup-lv_root (dm-0) 253:0    0 13.7G  0 lvm  /
  ââVolGroup-lv_swap (dm-1) 253:1    0  816M  0 lvm  SWAP

Now if I use ""parted"" utility to increase the partition size to use 100%, it doesn't work.
Steps followed from URL: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html#prepare-linux-root-part

How to increase the partition size of ""root"" so that atleast 24 GB of the new device becomes usable (assuming boot and swap allocated from the rest) ? the ""df -h"" should show all 25 GB allocation and not only the original one.

Please suggest.


below output of ""fdisk -l"" (if helps) :

root@ip-172-31-21-134 ~# fdisk -l

Disk /dev/xvda: 26.8 GB, 26843545600 bytes
255 heads, 63 sectors/track, 3263 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x000eacf6

    Device Boot      Start         End      Blocks   Id  System
/dev/xvda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/xvda2              64        1958    15214611   83  Linux

Disk /dev/mapper/VolGroup-lv_root: 14.7 GB, 14722007040 bytes
255 heads, 63 sectors/track, 1789 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Disk /dev/mapper/VolGroup-lv_swap: 855 MB, 855638016 bytes
255 heads, 63 sectors/track, 104 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000"

Amazon EC2	"Requesting release of IP address
I have the elastic IP address ""54.88.110.169"" on my account. It has a reverse DNS record, so it's ""locked"" and I can't release it. Can you please delete the reverse DNS and release the IP?"

Amazon EC2	"Re: Requesting release of IP address
Good day 

Successfully reset rDNS for 54.88.110.169 . You should be able to release it now.

Regards
Imthian R"

Amazon EC2	"Error on connecting to an intance using EC2
When connecting to an instance I got an error  window saying:

Instance is not associated with a key pair. Without a key pair you will need to login into this instance using a valid username and password combination.

But in my laptop we use wi fi to connect to internet. Is this an issue."

Amazon EC2	"Instance Not accessible after few min
Hi, 
I try launching few instances in Singapore region. (Then I remove those instances.) But every time server get disconnected after few min of launching or restart. now I have only one instance in this region. instance ID is i-49abbac7. I got this error only form this region. Mumbai instance working fine.
please look into this error. thank you."

Amazon EC2	"Re: Instance Not accessible after few min
Hello,

I have checked your instance but i don't see any obvious explanation of the issue that your are experiencing. The instance appears to be healthy and running fine. Can you tell us if you are able to connect to instance when it is first launched? Can you explain the disconnection issue in little bit more detail? Are you able to telnet on instance port 22 after disconnection? Can you share verbose ssh output. What application is running on the instance ? 

Regards,
Umair A."

Amazon EC2	"Re: Instance Not accessible after few min
yes i logged in to instance. few minutes after logged in, it automatically disconnected saying that""network error abort connection"". i launched new instance. problem still the same."

Amazon EC2	"Re: Instance Not accessible after few min
have you run any sort of checks of your network connection to the instance? Ie. have you performed tcptraceroutes, npings, and run packet captures on both ends?

If your connection is dropping after connecting, this could be as simple as a client misconfiguration, or it could be a problem with the instance or it could also be some hop between the source and destination. As there are likely more than just a few hops, if there is packet loss in between the source and destination, there could be a LOT of providers outside the AWS network to blame.

I recommend performing some of those checks to see what is going on."

Amazon EC2	"Re: Instance Not accessible after few min
I didn't touch a thing in the instance. I just create a instance and run a continues ping to the instance. in 1st few sec works fine. then some packets starting to drop out. after few minutes later instance not accessible."

Amazon EC2	"Need to utilize one EC2 IP for maintaining in the IP the HTML, PHP and jpg
I have created an IP in EC2. I have transferred one existing domain to AWS. I have some HTML, PHP and JPG files in my Laptop. I want to migrate those files to my Public IP in EC2. Please let me know the various steps to do it so I can do it. Also in the IP hoe can I manage the main directory and sub directory.

Regards,
Ramakrishnan Gopalan"

Amazon EC2	"Could not start any new instances (even after terminating some)
State transition reason Server.InternalError: Internal error on launch

No log available either, it just won't start (in fact nothing will start). Last one I tried was Instance ID i-4fdb0d4e (tried from my AMI but also the general AWS image).

Not sure how to debug from here. Would be nice to know how to debug or know what to do. Launched a worker in another account - that solve the problem. Solution = have a few AWS accounts so you don't get stuck? All was in docker so didn't need to do much to configure the machine in the new account luckily.

Edited by: Ian Connor on Aug 22, 2016 5:52 PM and then again on Sep 4th after no answer.

Edited by: Ian Connor on Sep 4, 2016 8:19 PM"

Amazon EC2	"ec2 instance stuck in ""Stopping"" state, please advice.
hi support,

i have a instance will retire on tomorrow, but it cannot access in the web, so i go to panel to stop it and restart it, but it stuck in stopping status.

please advice."

Amazon EC2	"Re: ec2 instance stuck in ""Stopping"" state, please advice.
problem solved. 

thx"

Amazon EC2	"Arn to restrict api calls to alb targetGroup related cli
Hey Guys

I've just started using Application Load Balancers (ALBs) and it's associated target groups.  I am trying to create an IAM policy that partitions the dev and prod ALB resources to prevent cross contamination of accidental api calls to the wrong environment.  i.e. from the machines in my dev infrastructure, I would like to only allow calls to Dev* related stuff.  

However I haven't found the right arn patterns that seems to work for target group related aws cli calls.  The cli I've tried include the following:
 - aws elbv2 create-target-group
 - aws elbv2 delete-target-group
 - aws elbv2 describe-target-groups

So far I have tried the following arn formats:
 - arn:aws:elasticloadbalancing:us-east-1:<aws-account-number>:targetgroup/Dev*
 - arn:aws:elasticloadbalancing:us-east-1:<aws-account-number>:targetgroup/*
 - arn:aws:elasticloadbalancing:us-east-1:<aws-account-number>:*
 - arn:aws:elasticloadbalancing:us-east-1::
 - arn:aws:elasticloadbalancing:::*

I always get an error similar to the following:
 - An error occurred (AccessDenied) when calling the DeleteTargetGroup operation: User: arn:aws:sts::<aws-account-number>:assumed-role/<iam-role-name>/<iam-id> is not authorized to perform: elasticloadbalancing:DeleteTargetGroup

The only arn format that works for the above cli is:
 - *

Is there anything wrong with the above arn format?  Or it is simply the case that ALBs are quite new and arn based security rules for ALB related stuff aren't supported yet?  Thanks.

Edited by: asdf01 on Sep 4, 2016 6:24 PM"

Amazon EC2	"running instance but getting err_connection_refused
Hello, 

We have a running instance (from EC2 status), we can ssh to it, but after a deploy, we cannot connect to it. All the API calls return err_connection_refused.

Any idea how I can investigate the issue?

Thanks.

Instance ID:
i-31331aea

IP: 52.10.24.217"

Amazon EC2	"Re: running instance but getting err_connection_refused
Hi,

It looks like your instance is reachable at this time:
%nc -vz 52.10.24.217 22                                                [0]
found 0 associations
found 1 connections:
     1:	flags=82<CONNECTED,PREFERRED>
       	outif utun0
       	src 10.50.2.124 port 53412
       	dst 52.10.24.217 port 22
       	rank info not available
       	TCP aux info available

Connection to 52.10.24.217 port 22 tcp/ssh succeeded!

Have you run an ssh with the verbosity flags on?
ssh -vvvi ~/.ssh/id_rsa ubuntu@52.10.24.217

I suggest running that to get a better understanding of what is going on. Also, have you attempted to check this from other locations? Have you run end-to-end connection testing such as nping, nc, tcptraceroute, and tcpdump?"

Amazon EC2	"EC2 Fraudulent Activity
I have an EC2 instance hosting Drupal. I have received an email stating that my account is fraudulent and that I need to follow the suggested security measures in order to resolve the issue. I have checked my logs and the suggested page that is suggesting that is issue is a ""phishing"" issue, but I'm not seeing any thing of the sort on the site. I have adopted the security recommendations and other recommendations for security since the creation of my instance. How can I get my site back to none fraudulent? I'm currently hosting email services through the same sight, so at the moment I'm not able to receive or send emails to reply to the Amazon fraudulent emails. Please help me fix this ASAP so I can get my site back up and running.

Edited by: mdtowers on Sep 3, 2016 1:11 PM"

Amazon EC2	"Re: EC2 Fraudulent Activity
what are the urls the email tells you to visit?  PLEASE blank out any long string of numbers in your post of these.  sounds like phishing to me.

do not give out any passwords to anyone, not in email, not in web forms, and not even to Amazon staff.

do not give out any account numbers or account info (such as email addresses) in these posts.

is your site working or not (as seen by your own checks)?"

Amazon EC2	"Re: EC2 Fraudulent Activity
Hi,

It seems that we have resolved your abuse case. Can you confirm if you are now able to send/receive emails? I'm able to connect to your server's SMTP port without issues from my remote instance."

Amazon EC2	"Re: EC2 Fraudulent Activity
So email seems to be functioning again and I guess the issue should be resolved. Though, I'm not sure this would be with Amazon anymore, but if I try to visit the site, using chrome, I'm seeing an alert ""Deceptive site ahead"". Is this something I can fix here?"

Amazon EC2	"Regarding get back Root directory lost
Hello,
        I am not able to access my site www.cliqnget.com. I told you all in previous case also. I don't know why is that happen i have already paid July billing also but now there is clearly showing my account has been blocked. Please tell me what happen and how can i get back my all data on my site. If there is any cloud base backup then please help me out because i don't have any backup or AMI or snapshot of my site data. So please share an link to get back my website data from cloud. I have created an intance in ""Amazon Linux AMI 2016.03.3 (HVM), SSD Volume Type - ami-ffbdd790"" and today i was working on filezilla FTP software and i saw there is no such ""html"" directory in /var/www. My wordpress directory was saved on html directory. Because of this install all command in Putty SSH again but now so many grevances i am facing. So please try to get back my previous wordpress website directory from cloud backup. Please check I have attached an screenshot what error comes if i create the new instance in Amazon Linux AMI 2016.03.3 (HVM), SSD Volume Type - ami-ffbdd790. And reply me asap.
     My details :-
                       Account Id : 363488662119
                      Instance ID : i-09d84537962fcacbe
                 Reservation ID : r-0133e58cbd43a4590
Thanks,
Ashish"

Amazon EC2	"Re: Regarding get back Root directory lost
Your instance appears to be running and I am able to connect to it without issue:

%nc -vz www.cliqnget.com 22                                                                      [0]
found 0 associations
found 1 connections:
     1:	flags=82<CONNECTED,PREFERRED>
       	outif utun0
       	src 10.50.2.124 port 50869
       	dst 52.66.92.160 port 22
       	rank info not available
       	TCP aux info available

Connection to www.cliqnget.com port 22 tcp/ssh succeeded!

From the web address you provided, it seems that you may have your apache configuration pointed at the wrong directory as I'm seeing the generic apache page. You may also need to reconfigure/turn off SELinux if you are using SELinux."

Amazon EC2	"Cannot access EC2 instance after set PasswordAuthentication=yes
After enable  PasswordAuthentication yes in the /etc/ssh/sshd_config, I cannot access my EC2 instance with the account as:
	$ ssh -i MyKey.pem ubuntu@ec2address

	I was asked to input password for the account ubuntu which I never set. So I cannot login.

	I tried -vvv to debug ssh and found the private key file was challenged then the password was asked for.

Any idea for this phenomenon?"

Amazon EC2	"billing problem
Hi everybody ,

I have received  a bill  although  i thought i only use  free services.  I think  i accidently did something  wrong.   Since  i am  just learning  the aws ,    i want  to   stop  everything .  
I terminated  the  instances  and i cancelled  my account.  Are these  enough  to  prevent  the  further costs ?  ( after the time  that  i  cancelled  my account)  

thx
tolga"

Amazon EC2	"URGENT Wordpress Help
Hi All,

I am really struggling with my installation of Wordpress with an EC2 Instance.  I get it to a point where it's installed and I can log in etc  no problem. But my issues are when I want to upload a theme or plugin. I get a could not create directory error and when I enter chown -R apache:apache /var/www/html  and restart httpd it brings my site down.  

There are plenty of YouTube videos on how to install a Wordpress Blog using an Amazon EC2 Instance but does anyone have any information on the steps to do after it, how to upload themes and plugins?  Really annoying things to tackle such as editing the Php.ini file to allow uploads of more than 2MB etc..
We are overloaded with different sources of information to complete this but is there a definitive working solution?

HELPPPPPP.

Cheers.

R"

Amazon EC2	"Updated linux AMI, instace failed to come back after reboot
I have had instance i-f892029a running for a few years. It has survived quite a few upgrades of various kinds, including kernel updates.

Today, I did a yum update and I noticed a kernel updated. It all went well on the linux side and   kernel.x86_64 0:4.4.16-27.56.amzn1 was installed successfully.

The machine did not come online after a reboot. I tried the following twice:

 * stop the instance (i-f892029a)
 * detach the volume (vol-91eaaafc)
 * wait a  few minutes
 * reattach the volume to the instance (as /dev/sda1)
 * start the instance

The instance does not seem to come online. I copied the system logs and this is what they have:

https://paste.fedoraproject.org/410527/15644671/

Notably, this seems to be the issue?

""main"" ""root=/dev/sda1"" ""ro"" ""4""
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********





































backend at /local/domain/0/backend/vbd/6816/2049
Failed to read /local/domain/0/backend/vbd/6816/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/6816/2049/feature-flush-cache.
20971520 sectors of 512 bytes
**************************

Can you advice what to do. There is valuable data on it that would take days to recover."

Amazon EC2	"Re: Updated linux AMI, instace failed to come back after reboot
I'm at a loss here. How can an amazon-provided update bork a machine?!?

How come there are seemingly multiple wide-ranging root causes with this error?

The responses range from issues with the underlying hardware to mounting issues, EBS issues, etc.

What shall be done here? How can this be escalated?

The service has been down for hours and hours .."

Amazon EC2	"Re: Updated linux AMI, instace failed to come back after reboot
I was able to revert the latest kernel through a mount+chroot in some other instance.

What kind of testing is done on these updates?!??!?

Mine is a plain vanilla linux ami that has been regularly kept up to date!"

Amazon EC2	"Re: Updated linux AMI, instace failed to come back after reboot
I had this problem as well, again for an instance I've been running for a few years.  Recovered as you did.

However, to make matters a bit worse, the new kernel just released 4.4.19-29.55.amzn1 also seems to suffer from the same problem."

Amazon EC2	"New XEN security advisor
Seems like there are a bit of cve(s) that will go public the 8th: https://xenbits.xen.org/xsa/
Still no announcement from you guys, can we sleep safe and sound or we'll relive the 2015 March event? :P"

Amazon EC2	"Cannot connect other than port 22
I have newly launched Centos AMI (instance ID i-037128bf). Security group has all ports open. IPTables is OFF. I cannot figure out why port 80 and port 10000 do not reply on Elastic IP 52.57.1.35.

eu-central-1b-i-037128bf root:~$ netstat -plnt
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State                         PID/Program name
tcp        0      0 172.31.28.52:80         0.0.0.0:*               LISTEN                        1698/httpd
tcp        0      0 0.0.0.0:10000           0.0.0.0:*               LISTEN                        1213/perl
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN                        994/sshd
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN                        1204/master
tcp6       0      0 :::22                   :::*                    LISTEN                        994/sshd
tcp6       0      0 ::1:25                  :::*                    LISTEN                        1204/master
eu-central-1b-i-037128bf root:~$ 

eu-central-1b-i-037128bf root:~$ nc -v 172.31.28.52 80
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connected to 172.31.28.52:80.
^C
eu-central-1b-i-037128bf root:~$ nc -v 52.57.1.35 80
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: No route to host.
eu-central-1b-i-037128bf root:~$ nc -v 52.57.1.35 22
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connected to 52.57.1.35:22.
SSH-2.0-OpenSSH_6.6.1
^C
eu-central-1b-i-037128bf root:~$ nc -v 172.31.28.52 10000
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connected to 172.31.28.52:10000.

Any ideas ?

Many thanks, Tim"

Amazon EC2	"Re: Cannot connect other than port 22
Something must be wrong with the Frankfurt region as same works fine in Ireland

Edited by: rouhu on Sep 3, 2016 4:31 AM"

Amazon EC2	"Re: Cannot connect other than port 22
So, I copied the working snapshot from Ireland and started it in Frankfurt and it worked. Before I started 2 fresh AMIs from Frankfurt but they did not work. There must be something wrong with how the security groups are applied to new instances as only port 22 works."

Amazon EC2	"Re: Cannot connect other than port 22
Same exact issue on mine. AWS has issues in multiple regions."

Amazon EC2	"Re: Cannot connect other than port 22
eu-central-1 is working fine for me.  i launched Stratus Relay there and ap-south-1 and us-east-1 and it automatically connected tunnels among them all with no trouble.  i was able to ssh in to port 22 on eu-central-1 ok."

Amazon EC2	"Cannot delete ec2 instance and ebs volume
Hello,

I am willing to delete an ec2 instance and an ebs volume of my account but cannot. Thanks for your help :

EC2
When I terminate on instance it automatically creates a new instance. And when I delete this new instance another one is automatically started and so on...

EBS : Trying to delet  volume, I am facing the following same error message with detach volume and force detach volume
Error detaching volume
vol-b5d2253d: Unable to detach root volume 'vol-b5d2253d' from instance 'i-90b06e88'"

Amazon EC2	"Re: Cannot delete ec2 instance and ebs volume
is this a persistent spot request?  if not, it might some other kind of instance management going on.  did you start it originally or someone else ?"

Amazon EC2	"Instance stopping
Instance ID i-2628ceee can't stopped.  

I had tried to follow theses steps : http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

but when I try to create an image, it return that error message : Invalid value 'i-2628ceee' for instanceId. Instance is not in state 'running' or 'stopping' or 'stopped'

So, after that, I had follow the steps (To create a replacement instance (if the previous procedure fails))
but when I had tried to create a Snapshot, I received this message : Error creating Snapshot, An internal error has occurred.

Thanks for your help."

Amazon EC2	"Re: Instance stopping
Hello,
I have checked your Instance ID i-2628ceee and it's in a stuck stopping state due to an issue with the EBS volume vol-bbe62d5c
I have engaged our service team in order to work on the issue and I will keep you updated.

Kind regards
Ale"

Amazon EC2	"Re: Instance stopping
Good Day, 
Thanks for your patience. 

I would like to confirm that the Instance ID i-2628ceee is in a stopped state. 
Please feel free to verify the same and come back to us should you have any further challenges. 

Regards
Tawanda"

Amazon EC2	"Re: Instance stopping
Thanks for investigation.  I am watched and it's on stopping state again."

Amazon EC2	"Can no longer access port 2480
Hey I have an ec2 instance running I can no longer connect to:
ec2-54-146-23-41.compute-1.amazonaws.com:2480

I can see that is it running but I can no longer access to it, instead i get (from both Safari and Chrome after clearing out the history):

""The server can unexpectedly dropped the connection. This sometimes occurs when the server is busy. Wait for a few minutes and then try again.""

This is the first time I get this, and I haven't made any changes to the instance or the services running onto it. Any idea what's going on?

Edited by: Kuassivi Mensah on Sep 2, 2016 11:44 AM

Edited by: Kuassivi Mensah on Sep 2, 2016 11:55 PM"

Amazon EC2	"EBS Snapshot stuck at 56% on a 1TB volume
Hi,
I have a snapshot stuck at 56%, it has been there for the past 14 hours this job was started 20 hours ago (snapid snap-a6a14cf6). What is the expected completion time of such snapshot ?

Thanks

Edited by: sastie on Aug 18, 2016 7:08 AM"

Amazon EC2	"Re: EBS Snapshot stuck at 56% on a 1TB volume
Hello,

It looks like there may be an issue with the EBS volume vol-61bd1de1 that is causing this snapshot to hang. I've asked engineering to take a look at this ASAP.

Someone will post back here when we know more.

Richard"

Amazon EC2	"Re: EBS Snapshot stuck at 56% on a 1TB volume
Is it some type of corruption ?
Does this mean that we may loose data on the volume if the underlying EBS volume is corrupted ?"

Amazon EC2	"Re: EBS Snapshot stuck at 56% on a 1TB volume
Hello,

I'm afraid I cannot definitively answer your question at the moment; in simple terms there is an issue with the volume that is causing the snapshot process to hang, and our team are currently trying to root-cause this.

Pending further investigation it is definitely a good idea to back up critical data from the volume elsewhere (such as to another EBS volume) if you can.

Richard"

Amazon EC2	"Re: EBS Snapshot stuck at 56% on a 1TB volume
Hello again,

The EBS team confirmed that the Volume in question has been lost. An email notification was sent to the primary of this account.

Please let us know if you have any questions.

Best,
Adolfo M."

Amazon EC2	"EC2 Windows Resets Firewall Policies Every 2 Days!
Hi,

I keep unmounting my volume and changing the firewall policies here
HKEY_LOCAL_MACHINE\System_old\ControlSet001\Services\SharedAccess\Parameters\FirewallPolicy
to connect with RDP. 
It works for 2 days and then policies are reset to default which blocks RDP.
This happens every 2 days. How can I fix this?

Thank You!"

Amazon EC2	"Re: EC2 Windows Resets Firewall Policies Every 2 Days!
Hi there,

The symptom that you described appears to the an issue with the OS. Please note that AWS does force the Windows Firewall ON after a certain period. 

In order to better assist you, can you please provide the following information:
1.What is the instance ID?
2.Have you installed any third party applications? 
3. Are you experiencing the issue with other instances? 
4.Have you reviewed the Event Log to check for more information? Please note that you may have to enable Windows Firewall Audit Events.

I hope this helps!

Best,
Adolfo M."

Amazon EC2	"Instance won't shutdown
I have an EC-2 instance, i-92cda69f, that won't shut down.  It has been in the shutting down state for days.  Asking it to stop in the UI again doesn't produce any different results.  No error message.  Just stays in the shutting down state.  Any help would be appreciated.

Thanks"

Amazon EC2	"Re: Instance won't shutdown
Hi,

I see this instance has been terminated now.

Thanks,
Avani"

Amazon EC2	"Re: Instance won't shutdown
Thanks."

Amazon EC2	"Cannot connect via ssh
Hello, I recently cannot connect to my instance via ssh. I've been forced to harden up my ssh since I have many attempts to break into it. 

I had it set so only I could log in from 1 ip and with correct username and keypair. 

I tried to log in and I keep getting connection refused. 

I tried to log in with - vvv and output below

OpenSSH_7.2p2 Ubuntu-4ubuntu2.1, OpenSSL 1.0.2g  1 Mar 2016
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: resolving ""ec2-IP-.us-west-2.compute.amazonaws.com"" port 22
debug2: ssh_connect_direct: needpriv 0
debug1: Connecting to ec2-IP-.us-west-2.compute.amazonaws.com [IP] port 22.
debug1: connect to address IP port 22: Connection refused
ssh: connect to host ec2-IP-.us-west-2.compute.amazonaws.com port 22: Connection refused


Any other thing I can try? 

Thank you"

Amazon EC2	"Re: Cannot connect via ssh
Hello,

Could you please provide the instance ID so I could look in to it?

I see that you're receiving a ""Connection Refused"" error. It seems like something on the instance level is blocking port 22. Perhaps IPTABLES rules?
You could try to perform an instance rescue and check if there are any IPTABLES rules running.






These steps are detailed here: https://aws.amazon.com/articles/5213606968661598 ****






(1.) Stop your instance
(2.) Detach the root volume of your instance
(3.) Attach the volume to a rescue instance (one which you can SSH in to). Make sure that the rescue instance is in the same availability zone as your original instance.
(4.) Mount the root volume to a temporary mount point on the rescue instance. For ex:

$ sudo mount /dev/xvdf /mnt/recovery


Please let me know if you have any further questions. I will be more than happy to assist you further!

Anup"

Amazon EC2	"Re: Cannot connect via ssh
--My instance id is i-f10c2efb

By doing that process will I lose any data? 

Thank you for the reply--

EDIT

Thank you so much you saved my instance. I was a bit dubious and I had to stray from the guide and mount with sudo mount /dev/xvdf1 -t ext4 however I have fixed the user error in sshd_config thanks again!

Edited by: Jinx13 on Sep 2, 2016 1:13 PM"

Amazon EC2	"Cannot release elastic IP
When trying to release one of my IPs, I am getting the following message:

An error occurred while attempting to release the IP addresses
54.236.75.198: The address with allocation id eipalloc-385f1355 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 2dad5396-3b9c-4d06-9493-5e40a15d568a)

Please remove the reverse DNS so I can release the IP.

Thank you."

Amazon EC2	"Re: Cannot release elastic IP
Hi,

The reverse DNS is removed. 

Could you please try to release the EIP again?

Thanks,
Avani"

Amazon EC2	"Re: Cannot release elastic IP
Thank you. It has been released."

Amazon EC2	"How to reduce IOPS on EBS (IO1)  drive?
So I am being charged quite high and want to reduce the IOPS.  How can this be done? It is currently at 4500 and the drive is 150GB and is root for an EBS optimized instance.

Thanks,"

Amazon EC2	"Second Elastic Network Interface not working outside of availability zone
If I create and attach an elastic network interface to a running EC2 instance (call it server1)--so this is the second network interface on this m3.medium CentOS instance--I am able to connect to it from the same availability zone, but not a different availability zone in the same location.  The security group I chose for the ENI is the same one I used for the primary interface: SSH only inbound; everything outbound.

So if server1 is in zone us-east-1b and server2 is also in zone us-east-1b, I can SSH from server2 to server1 using the IP address of the ENI I attached.  But if server3 is in us-east-1a or 1d or 1e, I cannot SSH to server1 using the IP address of the ENI I attached.

I checked the routes on server1 and they look fine.  If they weren't fine the SSH from server2 wouldn't work anywise.  It looks to me like the switches are not forwarding traffic between zones.  Is this correct?"

Amazon EC2	"Re: Second Elastic Network Interface not working outside of availability zone
Not sure why this shows as being from user br1823 (I don't even know who that is) as I am the one who posted it.  Still very interested in an answer."

Amazon EC2	"Re: Second Elastic Network Interface not working
I signed up for Developer Support from AWS and asked the same basic question.  Here is the awesome reply I received back, which answers my question:
==================================

Thank you for contacting AWS Premium Support, my name is Rajesh and I'll be assisting you today with your case.

At first glance it appears that your Instance is experiencing asymmetric routing problem.  Now what's that?? By default when a packet comes in to eth1 on its IP address, the routing will send the return packet out from eth0. The packet will then be rejected by the sender because it's not originating from the correct IP address.  This is a typical problem happening when two or more network interfaces are in the same subnet. To learn more about asymmetric routing issues please refer below URL -

Ref:  http://www.linuxjournal.com/article/7291?page=0,0

To get a first had feel I launched two instance in same subnet. Let’s call it as Server1 and Server2.
I'll use Server1 to connect on both the ENI of Server2. Now by default I am able to connect eth0 of Server2 but when I try to connect to eth1, it just fails to connect.

       Details of Server2

                OS – Centos 7
                ENI 1 - eth0 - 172.31.1.17
                ENI 2 - eth1 - 172.31.13.46
                Default gateway - 172.31.0.1   (You can run ""ip route show"" command to check that)

       Changes performed on Server2

1.      Create an interface configuration file for eth1 (/etc/sysconfig/network-scripts/ifcfg-eth1)
               Copy below contents in it


                DEVICE=""eth1""
                BOOTPROTO=""dhcp""
                ONBOOT=""yes""
                TYPE=""Ethernet""
                USERCTL=""yes""
                PEERDNS=""yes""
                IPV6INIT=""no""
                PERSISTENT_DHCLIENT=""1""


        2. Edit /etc/sysconfig/network and add below line in it.


                GATEWAYDEV=eth0


        3. Restart your network service


                /etc/init.d/network restart


        4. Create separate ip route table for eth0 and eth1, execute below command as root user.


                ip route add default via 172.31.0.1 dev eth0 tab 1
                ip route add default via 172.31.0.1 dev eth1 tab 2

        Note: 172.31.0.1 is my default gateway

        5. Check if above command worked or not.


root@ip-172-31-1-17 ~# ip route show table 1
                default via 172.31.0.1 dev eth0
root@ip-172-31-1-17 ~# ip route show table 2
                default via 172.31.0.1 dev eth1
root@ip-172-31-1-17 ~#


        6. Bind the interfaces to their specific rout tables.


                ip rule add from 172.31.1.17/32 tab 1
                ip rule add from 172.31.13.46/32 tab 2

        Note: 172.31.1.17 is private address of my first ENI, and 172.31.13.46 is my second ENI.

       Lets verify the changes made.

        Now from Server 1 I tried to SSH on second ENI of Server 2, and it worked for me.


root@puppet ~# ssh -i sig centos@172.31.13.46
                The authenticity of host '172.31.13.46 (172.31.13.46)' can't be established.
                ECDSA key fingerprint is 12:94:37:d3:07:de:3c:49:9a:be:df:2e:5a:5f:af:76.
                Are you sure you want to continue connecting (yes/no)? yes
                Warning: Permanently added '172.31.13.46' (ECDSA) to the list of known hosts.
                Last login: Fri Sep  2 06:49:29 2016 from 54.240.199.105
centos@ip-172-31-1-17 ~$


        Note: If you want to access eth1 from your desktop or laptop, you need to assign a public Ip/EIP to second ENI.

       Now how to make these changes persistent across network restart and reboot?

To make the changes persistent across reboot you can add below lines in /etc/rc.local


                ip route add default via 172.31.0.1 dev eth0 tab 1
                ip route add default via 172.31.0.1 dev eth1 tab 2
                ip rule add from 172.31.10.55/32 tab 1
                ip rule add from 172.31.11.49/32 tab 2


But what if you restart your network?? /etc/rc.local only gets executed at boot time so network restart will wipe out all the routing added by commands we executed in above steps. Most of the document suggests to run these command manually every-time you restart network but I did some testing and found a workaround.

Copy below lines in “/etc/init.d/network” just above the last line of this file. Changes will remain even after a reboot.


                ip route add default via 172.31.0.1 dev eth0 tab 1
                ip route add default via 172.31.0.1 dev eth1 tab 2
                ip rule add from 172.31.10.55/32 tab 1
                ip rule add from 172.31.11.49/32 tab 2


It’s highly recommended to create snapshot of your EBS volume or AMI of your instance before making changes to route tables, as any incorrect command can result in loss of connectivity.

I hope that it did answer your query, please feel free to get back to me in case of any other query or concern.

Best regards,

Rajesh C.
Amazon Web Services"

Amazon EC2	"What is the best EC2 instance choice for me?
Hi.
I need run Androi Studio in a EC2 instance. So, I need a instance with the following requirements:
Linux
64 bits
8 GB of RAM
2 GB of free space (persistent memory)
Intel processor compatible to Intel® VT-x, Intel® EM64T (Intel® 64) with the functionality Execute Disable (XD) Bit.

What is the best suited choice for me? Could t2.large be appropriated?

Any hint will be very helpful!
Best regards. Rodrigo."

Amazon EC2	"Re: What is the best EC2 instance choice for me?
If this is just to run Android Studio, which is a client application, why not consider Workspaces?
https://aws.amazon.com/workspaces/
-Brett"

Amazon EC2	"Re: What is the best EC2 instance choice for me?
Hi. I never saw such workspaces. I will take a look now about it. 
By the way, I will need space to save my projects. So, have I to use EBS, haven't I?

If I decide to EC2, could t2.large be a good choice? In this case, how is the price for EBS? I didn't find the price of EBS for T2.large.

Thank you very much.

Rodrigo."

Amazon EC2	"Re: What is the best EC2 instance choice for me?
Hi. I will have to give up of using Workspaces, because it requires to run Amazon WorkSpaces client application at my personal computer. But, my personal computer has Ubuntu only and the Amazon WorkSpaces client application is not for Ubuntu. I'm avoiding Windows.

Best regards."

Amazon EC2	"Re: What is the best EC2 instance choice for me?
The T2.large was slow to execute the Android Studio or the network has latency. So, I will try another kind of instance in the future."

Amazon EC2	"EC2 instance unresponsive.
My Instance ID is i-0c99f12a407706606

From around 3.30 PM IST today i am seeing a delay in every command i type to get it executed. For example if  ""sudo su -"" takes around 18 seconds to get executed. 

I have tried start/stop from aws console, reboot from the terminal but nothing seems to work. I am using t2.micro instance. OS i have installed is ubuntu 16.04.1.

Any help is highly appreciated."

Amazon EC2	"EIP cannot be released because it is locked to your account.
Hi,

I'm not gonna use this EIP anymore and want to release it.

Error message:
An error occurred while attempting to release the IP addresses
52.36.109.233: The address with allocation id eipalloc-3dd9de59 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: e19d58d9-e204-4cd6-a5e4-ba5952cc6d3c)"

Amazon EC2	"Re: EIP cannot be released because it is locked to your account.
Hi,

I have reached out to our EC2 team to look into this. 

Meanwhile, could you please try again to release the EIP?

Thanks,
Avani"

Amazon EC2	"Re: EIP cannot be released because it is locked to your account.
Hi,

It looks like your EIP was associated with a PTR record which has been reset. 

Could you please try to release the EIP again?"

Amazon EC2	"delete
delete

Edited by: raiden379 on Sep 2, 2016 8:08 AM

Edited by: raiden379 on Sep 2, 2016 8:10 AM"

Amazon EC2	"please helpe me
Hello I've got a rdp and you and engage him two hours after the piece stopped a possible solution and thank you"

Amazon EC2	"Re: please helpe me
Hello,
I see that your instance ID  i-0e7a243058a19506f in us-west-2 AWS region is with Status Check 1/2 and this means an issue at OS level (any Antivirus or firewall installed on the instance?)
Could you please try to stop and start the instance e.g. from AWS console or using AWS CLI?
In case the issue will be still present, I would encourage you to open a case with our Premium Support for a quicker resolution of the issue.

Kind regards,
Ale"

Amazon EC2	"(HELP) How to configure SSL between EC2 Load Balancer and Glassfish 4.1
Hi, I need to know where can I find how to configure properly the SSL / HTTPS communication between the Load Balancer and a Glassfish 4.1 instance.

The idea is to let the Load Balancer manage SSL, and communicate with Glassfish using HTTP.

( outside -> HTTPS -> Load Balancer -> HTTP -> Glassfish)

I tried changing the ports of the load balancer to the instance, adding the security-constraint in the web.xml of the application deployed in Glassfish, changing the ports of the Glassfish, but I can't make it work. The only thing I get when trying to go to the pages that have to be in HTTPS is a 45 secs time out that returns a blank page (that seems to be secured).

Is there a manual or something that explains how to do it properly? 

Thanks in advance."

Amazon EC2	"Re: (HELP) How to configure SSL between EC2 Load Balancer and Glassfish 4.1
The first thing that you'll want to make sure is that the security group for the load balancer allows the HTTPS traffic in from the Internet (CIDR 0.0.0.0/0), and that the security group for the EC2 instances themselves running Glassfish allow the HTTP requests inbound from the source security group of the load balancer."

Amazon EC2	"Re: (HELP) How to configure SSL between EC2 Load Balancer and Glassfish 4.1
Thank you for your reply. 

Yes, the Load balancer's Security Group and the Instance's Security Group have both inbound and outbound HTTP and HTTPS traffic allowed.

The problem persists.

Edited by: Nfuentes on Sep 2, 2016 6:49 AM"

Amazon EC2	"Application custom log doesn't rotate to s3 on Windows EC2 instance
Hello, i have an EC2 windows instance with standard IAM role(aws-elasticbeanstalk-ec2-role). My .net creates it's own log file, stored in custom folder. Correspondently to aws logging tutorial i've created an special config file in .ebextensions folder of project. File has folowing content

files:
  ""C:Program Files\\Amazon\\ElasticBeanstalk\\config\\publogs.dstorage-logs.conf"" :
    content: |
      C:\myLogs\

  ""C:Program Files\\Amazon\\ElasticBeanstalk\\config\\taillogs.dstorage-logs.conf"" :
    content: |
      C:\myLogs\System.log

Log rotation is turned on from elastic beanstalk.

So i expected that after deploying my application to EC2 i'll be able to rotate it's log file to s3. But that works fine only for tail logs, and no one log file didn't appear on s3 at location corresponded to my environment and instance, except one IIS log. At the same time i can see some action connected to processing paths from config file from i posted before in PublishLogs file from C:\Program Files\Amazon\ElasticBeanstalk\logs on my instance. Here's a clip from this file

2016-09-02 11:53:00,276 DEBUG 1 AWSBeanstalkCfnUtility.LogInfo - Adding log directory C:\myLogs
2016-09-02 11:53:00,276 DEBUG 1 AWSBeanstalkCfnUtility.LogInfo -   Including System
2016-09-02 11:53:00,307 INFO 1 PublishLogs - Publishing 'C:\inetpub\logs\LogFiles\W3SVC1\u_ex16090210.log' to S3 as 'resources/environments/logs/publish/e-pwmfxbwjge/i-08cd02424f696fff0/C__inetpub_logs_LogFiles_W3SVC1_u_ex16090210.log1472814000' in bucket 'elasticbeanstalk-eu-west-1-563236596324'
2016-09-02 11:53:00,323 DEBUG 1 AWSBeanstalkCfnUtility.S3Util - Attempting to upload data to environment bucket with instance role
2016-09-02 11:53:00,557 DEBUG 1 AWSBeanstalkCfnUtility.S3Util - Uploaded to S3 using instance role.
2016-09-02 11:53:00,557 INFO 1 PublishLogs - Publishing 'C:\inetpub\logs\LogFiles\W3SVC1\u_ex16090209.log' to S3 as 'resources/environments/logs/publish ....etc.

Any idea what's going on here and why my log wasn't uploaded to s3?"

Amazon EC2	"ELB timing out to HTTPS
I have set up ELB in front of my EC2 instance, and I've installed an AWS Certificate.  HTTPS via the load balancer is not working.  

HTTP access to my instance is working fine via the load balancer, but HTTPS is not. 
I can access the instance directly via HTTP and HTTPS.

I've verified all of the following:

Appropriate listeners are set up for http (80) and https (443)
Zones are properly set up
certificate is properly set up
instance works fine with accessed directly
all the security groups are allowing inbound traffic on 80 and 443
my domain is routed to the load balancer via a CNAME (not A Record)


I don't even see the connection in the access logs on the instance so it's not getting from the ELB to the instance for https requests.

I've exhausted all the answers I can find here in the forum, could I get some help?

ELB: my-airstreamhealth-com-712634696.us-west-2.elb.amazonaws.com
Instance: 52.89.20.218"

Amazon EC2	"Re: ELB timing out to HTTPS
Hello,
I can see that your ELB is configured to redirect traffic from port 443 to port 80 on the backend instance.

if you use URL:
https://my-airstreamhealth-com-712634696.us-west-2.elb.amazonaws.com/
it's working fine; it's just showing a warning for the certificate because it's related to domain my.airstreamhealth.com

It seems that now 
https://my.airstreamhealth.com
is working fine

Please let us know if you are still facing any issue.
kind regards
Ale"

Amazon EC2	"New Instance doesn't start properly after cloning existing one
I have an Ec2 (m42Xlarge) instance that i use for our company production website.
Now i would like to create a second one using the first one root volume as the basis. Like this i will have a new instance, mirroring the actual production instance, ready to be launched in the case the production instance have some problems (to not have website downtime).
So i created a snapshot of the production instance, i created un AMI image from that, and i launched the new instance using AMI image i juste created.
New instance start successfully but then i am not be able to log in via ssh using the same private key i use for the production instance (knowing that this new instance is a clone of the production one).

If i do a nmap i see that port 22 is closed even though it is opened for the firewall (setting in instance security group).

I tried to see startup logs for that new instance and i can't see any particular problem

Do you have any idea? it is difficult to know what is happening at startup in the machine cause i don't have any access to it"

Amazon EC2	"Re: New Instance doesn't start properly after cloning existing one
Hello,

Can you provide us the instance-id so that we can take a look ?

Regards,
Umair A."

Amazon EC2	"Re: New Instance doesn't start properly after cloning existing one
The instance id is: i-de1e4062

I was wondering if this is not a problem related to network interfaces addresses knowing that the new instance is a clone of an existing one with certain networks config in linux installation"

Amazon EC2	"Re: New Instance doesn't start properly after cloning existing one
Hello,
the instance is now terminated.
You ar right when saying that issues may be related to networking. THe new instance won't pass status checks if the original one had static IP addresses configured on the network interfaces.

You can refer to our documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/launch-more-like-this.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-launch-snapshot.html

Hpe this helps,
kind regards
Ale"

Amazon EC2	"Port 25 not routing?
Hello,

I have many instances, but two of them don't seem to be able to connect to anything on port 25:

79.125.117.149
79.125.19.209


They cannot even connect to port 25 between themselves. ""traceroute -T -p 25"" fails on the first hop.

Any insight into why this is the case?

Thanks.

Edited by: unifiedsupport on Aug 29, 2016 11:52 AM"

Amazon EC2	"Re: Port 25 not routing?
Hello,

Can you check if the port 35 is listening on your instance, telnet localhost 25 will tell you that, you can also verufy that from netstat command. if the port is listening and still there's a problem please share the instance id so that we can take a look at it.

Regards,
Umair A."

Amazon EC2	"Re: Port 25 not routing?
Incoming on port 25 is fine, and telnet to it works fine. It's outgoing that it fails.

The instances are:
i-f0987716
i-ccec032a

Thanks."

Amazon EC2	"Re: Port 25 not routing?
Hello,
I have checked your instances and both have Security Groups and ACLs allowing traffic for TCP 25, so everything seems to be fine from an AWS perspective.
Could you please double check for any firewall rules at OS level?

Thanks in advance,
kind regards
Ale"

Amazon EC2	"EC2-instance stuck in stopping state
Instance ID i-9fc8446e has been stuck in a 'Stopping' state for several hours. A force stop from the web GUI or using the 'ec2-stop-instances i-9fc8446e -f' command both seem to have no effect. Any help I can get with stopping this instance would be appreciated."

Amazon EC2	"Re: EC2-instance stuck in stopping state
Hello,

I see that your instance is stuck in stopping state. I have asked the service team to investigate this issue. We will contact you on this thread with update soon.

Regards,
Umair A."

Amazon EC2	"Re: EC2-instance stuck in stopping state
It looks like the instance has finally stopped, was there any cause found that we could avoid in the future?"

Amazon EC2	"Re: EC2-instance stuck in stopping state
Hello,
our service team will reach you out directly on this.

Kind regards
Ale"

Amazon EC2	"Can no longer access website hosted on ec2 instance.
I have been hosting a website on an ec2 instance for a few months. I am unable to access the website or ip address today despite the ec2 instance saying it is running. No changes have been made to the settings since I originally setup the instance. I have tried rebooting but that did not fix my issues. The instance id is: i-08d0368f

Any ideas on how to fix this would be greatly appreciated."

Amazon EC2	"Re: Can no longer access website hosted on ec2 instance.
Hi,

same here with our ec2 instance in Region Frankfurt.
I have created an image and moved this AMI to another regionand there everything is working.. strange..

Unfortunately Amazon said, that this must be our fault, which definately cannot be the case, since the same AMI with the same security groups is working in another region..

So let's hope for some more support here..

Best regards,
Patrick"

Amazon EC2	"Python 3.5 installation on Amazon EC2 Instance
Hi,
I want to deploy my python application on Amazon EC2 instance. My application is build up in python 3.5. For that reason I need to install python 3.5 on my EC2 instance but an error occurs ""No matching distribution found for python3.5"" against the command ""python -m pip install --upgrade python3.5"".

Do anyone have idea how can I install python3.5 on EC2? Waiting for your kind response.

Thanks."

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Which AMI did you use to build your EC2 device?
-Brett"

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Amazon Linux AMI 2015.09.1 x86_64 HVM GP2"

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
I would start with a search of available packages -
sudo yum list | grep python3

Then install the desired package.
-Brett"

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Thanks. It worked. but still facing issues while installing psycopg2 for Python 3.4"

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Are you trying to build psycopg2, install it via pip or install it via yum (keeping in mind that it is a c extention module and as such has extra requirements)?
-Brett

Edited by: BF on Aug 25, 2016 6:31 PM"

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Yes I have tried it using pip and yum. Bellow are the commands I have tried:
alias python = python3

pip3 install psycopg2

An error occurs ""pip3: No command found"". Then I have tried these:
sudo yumt install -y build-essential
sudo yum install -y python3.4-dev
sudo yum install -y libpq-dev

pip3 install psycopg2

But no gain."

Amazon EC2	"Re: Python 3.5 installation on Amazon EC2 Instance
Hello, 
You can install python34 and pip3x with the following command:

sudo yum -y install python34 python34-pip 

If you need to use pip3x version you can use /usr/bin/pip-3.4 after the above packages are installed.

Hope this fixes your issues.
Thanks for using Amazon Linux AMI.
-Praveen"

Amazon EC2	"Are EC2 Instances vulnerable to Flip Feng Shui?
Or more specifically does any of the Amazon  hardware use DDR3 RAM and also use   deduplication operations .

Link to specifics:

https://www.vusec.net/projects/flip-feng-shui/"

Amazon EC2	"Re: Are EC2 Instances vulnerable to Flip Feng Shui?
Thank you for bringing your security concern to our attention. Amazon Web Services (AWS) is aware of the research published by Systems and Network Security Group at VU Amsterdam regarding a potential security issue called 'Flip Feng Shui: Hammering a Needle in the Software Stack'.

AWS platforms use server processor versions which have various hardware features designed to mitigate row hammer effects. Additionally, memory de-duplication is not enabled by Amazon EC2's hypervisor.

For any security-related concerns or reporting security issues in AWS services, we encourage you to contact AWS Security at aws-security@amazon.com. The AWS Security PGP public key is available at https://aws.amazon.com/security/aws-pgp-public-key/

Edited by: Michael@AWS on Sep 1, 2016 4:10 PM"

Amazon EC2	"AMI from instance joins ""WORKGROUP"" instead of ""DOMAIN""
Hello,
So, I've spun up an instance from an AMI made with the EC2config/SYSPREP tool. The image is fine, except that when the machine launches, it populates the WORKGROUP field in the machine properties, instead of the DOMAIN field, with the Domain Name.

1.) Yes, the machine that the AMI was created from was a member of the domain.
2.) Yes, I have an AD connector that functions flawlessly when used on other AMIs or launching new instances
3.) Yes, the AD connector is working; I even received the message ""Joining Domain: Successful"" when on the 'Launching your instance"" landing page on the AWS console.
4.) DNS works fine, and registers the machine (just not the domain suffix)

Any ideas?

TMK"

Amazon EC2	"Unable to connect to AWS ec2 instance
Hi

I created a new instance in AWS and tried to connect with Putty using .ppk file for authentication. But i am getting the below error.

Unable to open connection to
ec2-54-165-248-158.compute-1.amazonaws.com
Host does not exist

I also tried to ping the Public IP and tried using http with above fully qualified host name. But I get unable to resolve host and it fails.

Can someone please help me on this!!!!!"

Amazon EC2	"Re: Unable to connect to AWS ec2 instance
Hello,

Could you please provide the instance ID so we could look in to it?

Meanwhile, please confirm that you have internet connection from the source you're trying to SSH in to. Try to perform a ""ping google.com"" and see if you're getting a response.

Looking forward to your response.

Anup"

Amazon EC2	"EIP unreachable
Hi,

I'm having problem to access EIP from 6th (beyond default 5 limits - our new limits is 15 EIPs).
That I don't have any troubles to access a Windows server (id: i-0c5e9fe77b6de2503) via RDP with default public IP or public DNS. But after associated the EIP to the server then I can't access it anymore.
I've also earlier launched another Linux server and got the same issue. After associated and ssh'ed to it for few minutes then kicked out and then can't access anymore. Thought can access it via internal VPC IP or default public IP. New associated EIP just didn't work. 

First 5 EIPs are working properly.

Please help to fix it ASAP.

Thanks,
Luan Nguyen"

Amazon EC2	"Re: EIP unreachable
Hello Luan,

Are you still facing issues with this? If so, could you please provide a traceroute out to the EIP you're trying to reach to?

Thanks,
Anup"

Amazon EC2	"Trouble installing AWS Connector for vCenter
I am following the instructions in the 'AWS Management Portal for vCenter User Guide'.  I've gotten to deploying the Connector Virtual Appliance in vCenter.  When I finish the wizard, it runs for a while and then aborts.  The Windows Event viewer shows the following

Log Name:      Application
Source:        MsiInstaller
Date:          9/1/2016 11:42:49 AM
Event ID:      11729
Task Category: None
Level:         Information
Keywords:      Classic
User:          WRIGHTSOFT\epsobolik
Computer:      goldrain4.wrightsoft.com
Description:
Product: VMware Client Integration Plug-in 5.5.0 -- Configuration failed.
Event Xml:
<Event xmlns=""http://schemas.microsoft.com/win/2004/08/events/event"">
  <System>
    <Provider Name=""MsiInstaller"" />
    <EventID Qualifiers=""0"">11729</EventID>
    <Level>4</Level>
    <Task>0</Task>
    <Keywords>0x80000000000000</Keywords>
    <TimeCreated SystemTime=""2016-09-01T15:42:49.630917000Z"" />
    <EventRecordID>23309</EventRecordID>
    <Channel>Application</Channel>
    <Computer>goldrain4.wrightsoft.com</Computer>
    <Security UserID=""S-1-5-21-1915290213-432805493-355810188-1002"" />
  </System>
  <EventData>
    <Data>Product: VMware Client Integration Plug-in 5.5.0 -- Configuration failed.</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>
    </Data>
    <Binary>7B39323241443639312D383731332D343134382D424133322D3032434236333846323746377D2C2031363032</Binary>
  </EventData>
</Event>

Log Name:      Application
Source:        MsiInstaller
Date:          9/1/2016 11:42:49 AM
Event ID:      11729
Task Category: None
Level:         Information
Keywords:      Classic
User:          WRIGHTSOFT\epsobolik
Computer:      goldrain4.wrightsoft.com
Description:
Product: VMware Client Integration Plug-in 5.5.0 -- Configuration failed.
Event Xml:
<Event xmlns=""http://schemas.microsoft.com/win/2004/08/events/event"">
  <System>
    <Provider Name=""MsiInstaller"" />
    <EventID Qualifiers=""0"">11729</EventID>
    <Level>4</Level>
    <Task>0</Task>
    <Keywords>0x80000000000000</Keywords>
    <TimeCreated SystemTime=""2016-09-01T15:42:49.630917000Z"" />
    <EventRecordID>23309</EventRecordID>
    <Channel>Application</Channel>
    <Computer>goldrain4.wrightsoft.com</Computer>
    <Security UserID=""S-1-5-21-1915290213-432805493-355810188-1002"" />
  </System>
  <EventData>
    <Data>Product: VMware Client Integration Plug-in 5.5.0 -- Configuration failed.</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>(NULL)</Data>
    <Data>
    </Data>
    <Binary>7B39323241443639312D383731332D343134382D424133322D3032434236333846323746377D2C2031363032</Binary>
  </EventData>
</Event>

I've tried it 3 times with the same result.  Any ideas?"

Amazon EC2	"Disappearing Spot Instances
Hello,

I've been seeing spot instances disappear. My max bid is above the spot price the whole time. I'm not making a request for a specific availability zone. The request is not persistent and did not reach its termination date.

Most recent one: unfortunately I don't have the ID, but it was an m4.2xlarge with DNS ec2-54-159-194-135.compute-1.amazonaws.com.

Cheers,
A."

Amazon EC2	"Re: Disappearing Spot Instances
Hi Alexander,
In the absence of a Spot request ID, our investigation suggests that the Spot instance was likely interrupted because of a price increase. If you can browse to the Spot market price for the OS, network addressing, instance type and availability zone, you may be able to confirm this as well. Please let us know if you see that this is not the case.

Thanks,
Anu"

Amazon EC2	"Host issues? cannot SSH all of a sudden
Hello,

is there an issue with host for Instance ID i-aca08240  ?
Since last night cannot SSH, or launch the Java terminal ..

Java terminal shows this message and stops there:
MindTerm home: C:\Users\procha\Application Data\MindTerm\
SSH Server/Alias: ec2-54-225-57-80.compute-1.amazonaws.com
Connected to server running SSH-2.0-OpenSSH_5.3

Server's hostkey (ssh-dss) fingerprint:
openssh md5:  e8:92:d2:8a:a2:60:12:0f:82:f9:0b:5f:d8:87:ec:87
bubblebabble: xecoh-cokyd-dinym-pecok-gufuv-lehok-lytyv-vifuk-ririv-kypoh-ka


In addition, there is a ""I/O error - read failed: unknown error"" popup on the Java ssh terminal, after the above prompt times out.

Instance was rebooted, and the problem persists. Any ideas?

Edited by: runnertech on Sep 1, 2016 8:38 AM

Edited by: runnertech on Sep 1, 2016 8:40 AM"

Amazon EC2	"Amazon EC2 instance scheduled for retirement  and  2 EBS Volumes attached
Hello,
I have few questions concerning « Amazon EC2 instance scheduled for retirement on 6 september 2016”.

What is recommended best practice if the instance is not accessible and there are 2 EBS Volumes attached? 

Is stopping instance by using EC2 will affect the data on this 2 volumes?

Is it better to detach the EBC Volumes before stopping the instance?

Thanks in advance"

Amazon EC2	"Instance stuck on stopping for 30-40 min
Hello,

instance i-aca08240 is stuck on stopping state, after reboot command, stop and force stop issued.

Can you please stop the instance, so I can restart ?

thank you"

Amazon EC2	"Re: Instance stuck on stopping for 30-40 min
instance stopped,
thank you"

Amazon EC2	"Windows 2012 instance randomly unreachable?
I've had a Windows 2012 instance running fine for the last week or so, this is a box joined to a Microsoft AD running in Domain Services. Randomly today now the instance has become unreachable via RDP (or via HTTP through the IIS site running on it).

The instance doesn't seem to respond to a Restart request, though Stopping and then Starting the it seems to fix the issue.

Any help or suggestions here would be greatly appreciated."

Amazon EC2	"Re: Windows 2012 instance randomly unreachable?
Hi DevonLJAMS. 
could you please give us the instance ID for your faulty instance, and the directory ID or the directory domain so we can check this on our end? 

You could paste the ID here or send it privately to me. 

Cheers
Javier C#"

Amazon EC2	"Re: Windows 2012 instance randomly unreachable?
Hi JavierC@AWS, I've gone ahead and sent you a PM with those instance ID's. Thanks for having a look!"

Amazon EC2	"Re: Windows 2012 instance randomly unreachable?
Hi Devon, 
sorry about the delay in the answer. 

As you may see here in this graph 

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUCreditBalance~2016-08-23T10%3A13%3A31Z~2016-08-25T10%3A13%3A31Z~Average~600~InstanceId~i-7acaf5e4

Your instance, on the moment started to became unavailable, it run out of CPU credits and started to rebuild. 

I understand you are running a website from the t2.large instance and it may come that one of the cpu hit the 60% ultilization limit by this moment, take into consideration that cloudwatch metrics for cpu usage shows the average usage between the 2 processors, but cpu credits are consumed when a single processor hits above 60%. 

I see from the historics this behavior was just that day and then the credits were not used after rebuild, so, I would say.. if this was an isolated incident, just keep an eye in the cpu credit cloudwatch metric. 
If you are expecting to have heavy payload on your CPU, I would like to strongly recommend you to move into an M serie instance which offers constant performance not subjected to a credit burst. 

Please let me know if this information was useful for you. To learn more about how the T2 instances credit works, check this link 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html

Cheers
Javier C#"

Amazon EC2	"Re: Windows 2012 instance randomly unreachable?
Hi Javier,

No worries! Thanks for the response here and explanation as to what happened. That's a big help .

Thanks,

Devon"

Amazon EC2	"UNRESOLVE1845855381: EC2 system reachability check failed for instance i-1b
When will Amazon provide a satisfactory answer in this UNRESOLVED case? Access to our instance failed on Aug 18th 2016 and Amazon seemingly made no efforts to recover our data from their Cloud backup consistant with their best practice recommendstions to protect data from instance failure."

Amazon EC2	"Re: UNRESOLVE1845855381: EC2 system reachability check failed for instance i-1b
Hello bwhite, 

Thank you for your post. 

We have updated your support case. Please reply to case 1845855381 if you have additional questions or concerns. 

Best Regards. 

Jayd J."

Amazon EC2	"Instances stuck in SHUTTING-DOWN state
I have several instances that were apparently spun up via my auto scaling group...not sure why.

They are stuck in SHUTTING-DOWN state.  Can you assist in terminating?

i-01ea46a43ff26a5fb
i-047be482861cc6245
i-06540d35c4c9ebd29
i-088ac6f095a4edf28
i-0c251ffaac078ccbe

I was finally able to whack my ELB, Launch Config, and AS Group."

Amazon EC2	"Re: Instances stuck in SHUTTING-DOWN state
Hello samtec-atg, 

Thank you for your post. 

After reviewing your Instances, I can confirm all are is a running state. Should you need any further assistance, please do reach out to us via the Support Center and we will be more than happy to further investigate: http://amzn.to/1pAUHYo.
Best Regards. 
Jayd J."

Amazon EC2	"EBS volume magically auto reverted back to an old snapshot
Does the EBS volumes or instances auto revert to an earlier AMI/snapshot if there was issue with instance? 

And during auto revert or when such issues happen, why it did not send us an email or alert before doing so?

We had our data stored on an EBS volume surprisingly reverted to an older set of data which was about 1 month back, looks like the point where we did a snapshot. In the end we had to perform a disaster recovery with data backup the day before. Lucky we did daily manual backup, or everything would have been lost. What kind of magic is this?

It could not have been scripts or anything on our part as the server running with the affected EBS volume has been working fine for months."

Amazon EC2	"Re: EBS volume magically auto reverted back to an old snapshot
I have just suffered from this issue myself.  I was extending a Windows 2008 boot volume because it ran out of disk space completely.  I followed these instructions:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

I snapshotted the attached volume, created a new volume from the snapshot, detached the old, attached the new and started the instance again: the result was a volume as it appeared quite a long time ago perhaps even as far back as the AMI that originally started it about 1 year ago.

Perhaps the fact that it ran out of disk was the issue?  The volume could have failed at that point in some way I guess.  Certainly it is annoying to have to put about 1 year's worth of Windows updates back in place, not to mention repeating the work I was doing when it ran out of disk in the first place.

Apologies that this post doesn't have a solution and is just a 'me too', but perhaps the information might help someone more knowledgeable identify what is happening."

Amazon EC2	"Re: EBS volume magically auto reverted back to an old snapshot
AWS should at least have the decency to inform us if they going to mess with our EBS, BEFORE they mess with it. We are running production use servers where our services and data is required to be up 24/7.

AWS staff, please let us know the possible cause of the issue and what we can do to prevent it from happening. And if it is some thing scheduled, please let us know at least 2 weeks in advanced."

Amazon EC2	"Re: EBS volume magically auto reverted back to an old snapshot
i am curious.... did you make a ""forensic snapshot"" of the volume (before restoring) to do more investigating of this?

Edited by: skaperen257 on Jan 14, 2015 2:47 AM to fix typo"

Amazon EC2	"Re: EBS volume magically auto reverted back to an old snapshot
sad to say, we did not do that as we saw no point in capturing an unusable state. It's an operational instance and we were more concerned about getting it back to the state it originally was, as fast as we could.

Does AWS staff ever reads posts at least once? Seems they are very selective in replying support questions here. If a simple question takes months to get answered, it might really be time for us to consider switching providers."

Amazon EC2	"Re: EBS volume magically auto reverted back to an old snapshot
I had a couple of similar occasions where my EBS volume reverted back to older snapshots as late as last week. Is this an unresolved AWS bug?

Does AWS even monitor this forum? I feel that they don't even want to do anything unless you pay for the next tier of support."

Amazon EC2	"EC2 starts and stops immediately after its initial launch
Hello, 

I just launched a new t2.micro instance (i-46b3aa78) and while it seems to start normally it stops immediately after a couple of seconds. The ""Get System Log"" is empty and the state transition reason is ""Client.InstanceInitiatedShutdown: Instance initiated shutdown"", however we didn't issue such kind of command. This instance launched from an AMI created from an existing snapshot - I don't know if this is related with the problem. Is there any workaround to start/debug the instance ? We would like to use that AMI/Snapshot to avoid setting up everything from scratch.

Thanks"

Amazon EC2	"How can i reduce the billing cost of my running instance?
Hi,

I have been running an m1.medium instance for many years. Every month i get more than $100 billing cost. 

Can anyone tell me how to reduce this billing cost? 

Thank you
Mayandi"

Amazon EC2	"How can i utilise the reserved instances so as to reduce my billing cost?
Hi,

I want to launch the new instance, but i don't want my billing cost so expensive.

How can i utilise the reserved instances so as to reduce my billing cost?

For example:
I want to launch the m3. medium instance,  then how to launch it either on-demand or reserved?

Thank you
Mayandi

Edited by: mayandi1 on Aug 31, 2016 11:51 PM"

Amazon EC2	"Getting the dedicated host configuration detail.
I am looking into the below configuration detail of dedicated host.
.Total Memory
.CPU speed
.Total CPU 
.Total core
.Core per socket
.Thread per core

Is there any API available which provides these information ?"

Amazon EC2	"Instance reachability check failed
I want to clone a running instance.

I took a snapshot of the instance, created an  image and launched that image (with the Kernel ID of the existing instance) as a new instance.  After initializing, it passes the System Status Checks but fails on the Instance Status Checks with ""Instance reachability check failed"".

I looked at the system log and last entry is:

""Error 17: Cannot mount selected partition"".  The last few lines of the log is attached.  

Any suggestions on how to resolve this?

Update:

I looked deeper in the system log and found this:  
Booting 'CentOS Linux (3.10.0-229.14.1.el7.x86_64) 7 (Core)

The Kernel ID for Centos 7 that I used: aki-fc8f11cc

From grubby boot file on running instance:

grubby:DBG: 28010: Tue Sep 22 19:50:31 2015: command line: --grub2 -c /boot/grub2/grub.cfg --add-kernel=/boot/vmlinuz-3.10.
0-229.14.1.el7.x86_64 --copy-default --title CentOS Linux (3.10.0-229.14.1.el7.x86_64) 7 (Core) --args=root=UUID=0f790447-e
bef-4ca0-b229-d0aa1985d57f  --remove-kernel=TITLE=CentOS Linux (3.10.0-229.14.1.el7.x86_64) 7 (Core) --make-default

So, apparently the new instance attempting to boot the same CentOS Linux version as the running instance.

/etc/centos-release:

CentOS Linux release 7.1.1503 (Core)

Edited by: somebodysysopsbn on Aug 30, 2016 7:19 PM"

Amazon EC2	"Re: Instance reachability check failed
Hello

I have read through your forum post, and I notice that you have created an image from a snapshot.

I would recommend you rather create an image directly of the running instance, and not from a snapshot to avoid the grub and kernel issues you experience.

Please refer to below documentation. (As you already have a running and configured instance you can follow it from the last part of step 3 onwards):

https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#how-to-create-ebs-ami

Please let us know if this also fails so that we can revert back to troubleshooting the image from snapshot method further."

Amazon EC2	"Re: Instance reachability check failed
Thank you very much.  This did the trick.  Instance comes up running smooth."

Amazon EC2	"Why am I not allowed to create any more instances?
""Your quota allows for 0 more running instance(s). You requested at least 1""

Why? Who sets the quota?

What info do you need to look into this?

Edited by: stratusnine on Aug 31, 2016 8:53 PM

Edited by: stratusnine on Aug 31, 2016 9:35 PM"

Amazon EC2	"Re: Why am I not allowed to create any more instances?
Never mind. Found out that I must request a limit increase."

Amazon EC2	"Instance stuck in state shutting-down for several hours
Instance ID i-8bf3cb71  has been stuck in shutting down state for hours days i removed termination protection and set to terminate per guidelines but it is still stuck, can you please terminate"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hello,

I have checked your instance, it seems like an issue with the EBS volume attached to your instance. I have asked internal teams to investigate this issue. We will update you soon.

Regards,
Umair A."

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hello,

The service team has confirmed that your instance has been marked as ""terminated"". Please let us know if you have any further questions.

Anup"

Amazon EC2	"Server terminated unexpectedly
Hi,
An instance used for our master DB was terminated unexpectedly.
As I can no longer see the instance on the console, I cannot determine why it was terminated and by whom.
The instance ID is i-5ffd297f.
How can we trace that? we would like to avoid such cases in the future,
Thanks,
Yaniv"

Amazon EC2	"Re: Server terminated unexpectedly
Hello Yaniv,

I just took a look at your instance. It looks like there was an eviction notice for this hardware that it's going to be taken out of service.

Could you please confirm if you received an email regarding that?

The instance was terminated as the root device was an instance store and not an EBS volume. Please get back to us with this information so we could investigate this further.

Anup"

Amazon EC2	"io1 disks vs gp2 disks
I did some calculations for io1 and gp2 disks, for example:


300 GB io1 disk with 2000 PIOPS would cost around 168$ per month in us-west-2 (I/O requests are not taken into account, so in fact it would be even more)



1TB gp2 disk will have 3000 PIOPS, and would cost 100$ per month


so, conclusion: bigger in size gp2 disk with 30% more PIOPS costs 1.7 times cheaper

so, question: does it makes sence to take io1 disks?

P.S.

I also did some stress testing of gp2 and io1 disks and looks they are not worse, but it can depend on particular scenario I guess"

Amazon EC2	"Feature Request: Reserved Instance Marketplace open to UK bank accounts
I would like to see the EC2 Reserved Instance Marketplace to allow UK bank accounts.

Is there any plan for this? If so when is it likely to be released?"

Amazon EC2	"Trouble with New Elastic IP Address allocation + association in N. Virginia
In N. Virginia, I allocated three new Elastic IPs, each of which appear to be having connectivity issues on all ports when associated with two of my instances (i-a71d0139 and i-037edb32).  I have released one of the address (52.44.0.175), so I do not have the Allocation ID.  However, the other two IDs in question are eipalloc-8e05b7b1 and eipalloc-e14cffde.

My security group is set to allow all traffic from my subnets.  From my computer, if I scan for port 22 on either of these addresses, I get a ""filtered"" result most of the time.  There have been some cases in which the port scan results as ""open"", and I can then proceed to SSH to the instance.  However, most of the day the connection has been down.

When disassociating the elasitc IP address from my instance, the connection to the instance IMMEDIATELY becomes available on the dynamic public IP address.  This also shows that my security group settings and my own connectivity are working properly.

A few others have reported connectivity issues to their instances recently, so I'm wondering if there is potentially a system wide issue with newly allocated elastic IPs in N. Virginia.

Of note, I manage another customer account and allocated and associated a new elastic IP to an instance in Oregon.  I have not experienced any issue."

Amazon EC2	"Re: Trouble with New Elastic IP Address allocation + association in N. Virginia
I am seeing the same issues in us-east-1 as well.

Some additional info:
When I try to ping my instance from a working instance in the same VPC using the internal VPC IP address it works fine.
When I try to ping my instance's EIP address i get a TTL expired in transit error.

Sounds like Amazon has a routing loop somewhere in their network in us-east-1."

Amazon EC2	"Re: Trouble with New Elastic IP Address allocation + association in N. Virginia
Thanks for the reply.  That's helpful knowing that others had experienced the same issue.

Also, I should add that none of my other 45 running instances that have an EIP are affected.  It is only new EIPs that I allocate and associate that are presenting this problem.

Lastly, as of the last couple of hours, connectivity appears to have been restored.  I will be working in these instances all day, and will report if we experience are any other issues."

Amazon EC2	"issue to deploy my meteor project on aws ec2
Hello,
I deployed my meteor project on aws ec2, everything gone well as you can see in attachments.

the problem is that when I try to see the result, nothing display in navigator(http://ec2-54-213-84-211.us-west-2.compute.amazonaws.com/)
even when I add simple html file with some texts

please did I missed something because I'm stuck  in that step for three weeks.

http://katso-paris.com/c1.png
http://katso-paris.com/c2.png

Best regards."

Amazon EC2	"Timeout and instance running slow
Hey,

We used MongoDB Cloud Manager to deploy a MongoDB Cluster with 3 shards over 3 EC2 instances, each shard has 1 replicaset of 3 processes

It was running perfectly for almost 4 months, we never touched it or change anything.

Yesterday and today our API was no more able to connect to the Cluster in proper way, it was slow and timing out.

I login to the 3 EC2 instances via SSH and checked the logs, everything was fine, no error, no high CPU Usage, no high memory usage and can connect to all mongod through the mongo shell.

I stopped the primary instance to force MongoDB to elect a new primary, and then I had to create a new instance and replace the current one keeping same IP and mounting the data directory back to the new instance.

After that things are back to normal. I tried to know where were the problem but without any hope, MongoDB logs don't show any problem, also access and error logs of NGINX and pm2.

CloudWatch showed for a very short while a health problem state but it disappear and was always showing OK.

I remember when I was using Elasticbeans, instances were almost everyday being replaced by new instances due to health check issue. Now we are not using Elasticbeans, we monitor everything by ourselves

Instance ID that has been replaced -> i-d39a3b6e
The instance where our API runs -> i-5d5f3fe1

Edited by: benishak on Aug 30, 2016 5:50 AM

Edited by: benishak on Aug 30, 2016 5:52 AM"

Amazon EC2	"Re: Timeout and instance running slow
We had the same issue last night -- also with a Mongo cluster and the connectivity between the cluster and the application would be slow or even timeout. Sometimes 100% packet lost between the instances. This was around 9:30 pm EST until 11pm EST when the issues stopped."

Amazon EC2	"Re: Timeout and instance running slow
How did you solve the problem ?

I checked the logs of the volumes

VolumeWriteOps
VolumeReadOps


We use 50GB GP2 (150/3000 IOPS) 
We descovered that these metrics we are exceeding 600 IOPS which is a serprise because actually when the server is slow and timing out, there were not so many users online.
We also got Alerts from MongoDB Cloud Manager saying

Disk I/O % utilization on Data Partition has gone above 60 on xvdg 

Volumes:
vol-b567933f
vol-f145b17b
vol-f145b17b"

Amazon EC2	"Autoscaling and content
Autoscaling is based on AMIs so when new instances are created, those new instances come with data that in some cases can be outdated. I am talking, for example, about a Wordpress blog where the content is updated daily. If a new instance is created based on an AMI, that new instance won't have the new content. That is how it will work if I understand correctly how autoscaling works. Is there any way to make the new instances launch based on a ""master instance"" (which is updated with all the content)?"

Amazon EC2	"Audio is not working, and missing Sound, video, and game controller
Audio on my AWS server is not working. I have the audio service turned on ... but I found out I do not have Sound, video, and game controller .

can anyone help me?"

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
ok I found how to added it, but every time i try the server crashes 
I really need sound on this server can anyone help me?

this is my  Instance ID i-67aeeb6d 
and it is in Oregon

Edited by: btb4198 on Jan 7, 2015 6:43 PM"

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
Hello,

I have found reports of functioning audio on EC2 Windows but have been unable to get this working using similar a similar set up to yours.  I have also tried multiple other configurations with similar results.  Amazon EC2 Windows instance are designed as a server solution not a virtual desktop.

If you require sound as part of a remote desktop solution I suggest you look into using Amazon WorkSpaces.  Amazon WorkSpaces offers you an easy way to provide a managed, cloud-based desktop experience... (that) provides users with full access to their desktop and includes support for multiple monitors, audio, and video.  More information can be found here: http://aws.amazon.com/workspaces/details/

I hope this helps.

Kind Regards,
Anthony H."

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
Wait so you are saying that servers do not have sound ? and that i have to use a Vm of a desktop computer to get sound to work ? Can a desktop computer host a  website ?

Ok lots of websites has sound: facebook, youtube... and they use Servers and not destop computer..

also I did not see a desktop top VM options in my EC2?
there has to be a working around for this right?

Edited by: btb4198 on Jan 9, 2015 4:45 AM"

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
The servers that our instances run on do not have any sound hardware, so any operating system you load on them will not find speakers, microphones, or similar capabilities.  Servers are generally intended to be used without speakers, mics, keyboards and monitors. They are servers, and don't have the usual user interface devices that a desktop does.

If you wish our servers to act more like your desktop machine, then you probably want to try our Workspaces product instead of EC2.

I don't understand your use-case, but if sound is something you need on our servers, there are ways of creating a virtual sound card without hardware dependencies. You can often pipe the sound back over your existing RDP connection, then.  You can see some of that in this forum posting from a number of years back."

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
ok I do not understand... 
Wedsite have sound right?
youtube and what not..
so you servers cant play any sounds at all?"

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
If you go to YouTube and watch a video with sound, that doesn't mean YouTube's servers are playing sound. The server sends a data stream to your browser, and the browser decodes it. No special audio or video hardware is needed on the server.

This isn't something unusual about EC2; it's just the way client-server systems work."

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
so why is my sound not playing?
when I run my code on my computer is works fine... but it is not on the server 
see for your server 
http://www.tensai-2.com/Default.aspx

I wrote the code in C# ASP.net and again it works on my computer fine and I move the site over to the server... so why is the sound not working ?"

Amazon EC2	"Re: Audio is not working, and missing Sound, video, and game controller
If the installation is Windows 2012 R2 which I have and says this machine doesnt have a audio hardware installed. 
Just go to control panel , click on Sound, you will get a confirmation box which asks if you want to enable sound say yes and voila you have the speaker icon on the task bar unmuted. 
Check and you should be able to play audio."

Amazon EC2	"Instances stuck in shutting-down
We shut down some EC2 instances last week and they are still not shutting-down. 

Region: us-west-2

i-1867bb11
 i-2af5591d
i-2fe95818
 i-4737b14c
i-5afaef6e
 i-5bfaef6f
i-90fb4399
 i-c9f33bc5
i-d1608cd9

The support guys told me to post here.

Thanks 

Edited by: james-yourmd on Aug 30, 2016 11:53 PM

Edited by: james-yourmd on Aug 30, 2016 11:54 PM

Edited by: james-yourmd on Aug 30, 2016 11:54 PM"

Amazon EC2	"Re: Instances stuck in shutting-down
Hello

Sorry to hear about the delay in instances shutting down.

I have gone through all the instances and on our side they all reflect as terminated at dates below:

i-1867bb11 -> 2016-08-30 06:52:41 UTC
i-2af5591d -> 2016-08-30 08:08:32 UTC
i-2fe95818 -> 2016-08-30 08:08:50 UTC
i-4737b14c -> 2016-08-30 08:09:18 UTC
i-5afaef6e -> 2016-08-30 08:09:17 UTC
i-5bfaef6f -> 2016-08-30 08:09:18 UTC
i-90fb4399 -> 2016-08-30 08:09:17 UTC
i-c9f33bc5 -> 2016-08-30 08:09:18 UTC
i-d1608cd9 -> 2016-08-30 08:09:18 UTC

Please let us know if you still do not see them as shut down on your side."

Amazon EC2	"Autoscale with windows IIS servers
Hi All,

We are trying to configure autoscale with windows IIS application servers. A IAM will be created using one of the application server, which will be used for scale out.

But below are the requirements need to accomplished during scale out.

1.	During scale-out, instances should be launched with unique hostname such as <appname>_<instance id>
2.	The scaled out instances should be joined windows AD automatically.
3.	During scale in, active sessions should be taken care. 

Need  suggestions from forum members.

Regards
Pavan"

Amazon EC2	"EC2 - Could not turn on instances this morning.
Hello,

I have had some issues with a couple of instances in the past 12 hours. Last night, two spontaneously shut down during the middle of a system refresh. Neither I nor the System Administrator shut them down. I was able to start them up again that evening to complete more work, but I left them on overnight to return to the refresh in the morning.

The following morning, I attempted to access both instances using Windows Remote Desktop but was unable to. I went back into my EC2 console and noticed that neither instance was on. I attempted to start both instances. One shut itself down multiple times and did not successfully start for 2 hours. The second got stuck in ""Pending"" status for the same amount of time. I was finally able to get them loaded and complete my work, but not until after several attempts at restarting both instances.

Were there any outages that could have caused these issues? Any other problems that could have occurred? This caused a lot of lost worktime for my organization, and I would like to prevent it from happening again.

Thank you!"

Amazon EC2	"Re: EC2 - Could not turn on instances this morning.
Hello

Sorry to hear about the issues you experienced.

Could you please provide us more details as per below for us to investigate further:

1) Instance IDs of all instances that were affected

2) Times you experienced the issues including the timezone

Hope to hear back from you soon."

Amazon EC2	"EC2 instance shutting down daily at same time
My EC2 instance i-ebbc6544 has been shutting down daily 4:25/4:26 pm server time. I have removed all software other than the primary thing its running for and its near impossible that the primary software will cause a daily shutdown. There are no scheduled tasks on the instance. 

The event log has the following message: 

The process C:\Program Files\Amazon\XenTools\LiteAgent.exe (*enter hostname*) has initiated the shutdown of computer enter hostname on behalf of user NT AUTHORITY\SYSTEM for the following reason: No title for this reason could be found
 Reason Code: 0x8000000c
 Shutdown Type: shutdown
 Comment:"

Amazon EC2	"Re: EC2 instance shutting down daily at same time
Hello,

Taking a look at your instance i see that the stopInstance api call is being made by ""Botmetric"" role. You can check what instances are using this role and then check if you have cronjobs or some scripts that are making this api call.
You can also see the API call details from the cloudtrail Console if you have enabled cloudtrail logs.

Regards,
Umair A."

Amazon EC2	"Re: EC2 instance shutting down daily at same time
Thanks, that helped resolve the issue."

Amazon EC2	"Unable to view all my partitions of a given volume.
Hi,

Is there a limit for number of partitions for a given volume?
For my machine (RHEL EC2) I am not able to see more the 15 partitions."

Amazon EC2	"Upgrade mysql55 to mysql56 ?
I see that AWS finally added mysql56 to the repos and I want to upgrade my current mysql55 to mysql56.

What is the best way to do this? Any pitfalls to be aware of?

I have a few databases on the server running, but nothing too big."

Amazon EC2	"Re: Upgrade mysql55 to mysql56 ?
Hello,

I have investigated your account and noted an RDS instance in the us-west-2 region named cartloomdbinstance, which is already on version mysql5.6.

However, should you be speaking about a  DB on normal EC2 instance then I suggest you have a look at the link here, Which should give you some guide lines and pointers. 

Further I would suggest that create a backup Snapshot of the instance before doing the upgrade and create a test instance from the the snapshot as best practice.
See docs here on creating a snapshot

I trust you find this information useful. Please, do not hesitate to re-contact us if you have any further questions or need any guidance with the above, we will happily help.

Kind Regards,
Ridwaan M."

Amazon EC2	"Re: Upgrade mysql55 to mysql56 ?
Thanks Ridwaan"

Amazon EC2	"Re: Upgrade mysql55 to mysql56 ?
Thanks. RDS is too expensive ( and limited ) for what it offers."

Amazon EC2	"Re: Upgrade mysql55 to mysql56 ?
So if I run yum install mysql56 will it replace the mysql55 currently installed?"

Amazon EC2	"Re: Upgrade mysql55 to mysql56 ?
I just tried this, It looks like the answer is no."

Amazon EC2	"ec2 status check 상황을 보니 ㅣ에러가 나서요
t2 micro -> t2 medium 으로 변경 했더니

init 진행 후 status check 가 0/2로 뜨고 에러가 나네요

어떤 이유인지 알 수 있나요?

Edited by: tyle on Aug 31, 2016 11:47 AM"

Amazon EC2	"EBS volume issues?
Hi.

The running volume (vol-345d0d82) on one of our instances suddenly stopped working earlier today. Any attempt to access the volume simply hangs. I have stopped the instance and started a snapshot; however, that snapshot has been running for 5 hours without completing. I completed a snapshot on Friday so there should not be that many changes... I even created a new instance with a new root file system, then attached the issue volume. Both attempting to mount or fsck the volume hangs the new instance. 

Help!? Is this a new issue? Am I doing something wrong?

Thanks! 

hope you are well
tim"

Amazon EC2	"Re: EBS volume issues?
When you look at the volumes list inthe AWS console and at the volume you mentioned, how does it appear there?

Under the attachment information for the volume, does it show (attached) at the end?

Perhaps it is stuck in some other state.  I've had a few critical drives get stuck in a stopping... or other state.  When it happened I had to call on AWS support to get the drive back to normal (either attached or detached).

I've also had snapshots seemingly hang and just deleted the snapshot that never got beyond 0% or got stuck at some other percentage from the snapshot list to cancel it."

Amazon EC2	"Re: EBS volume issues?
Hi, thanks. 

The volume shows attached or detached depending on how I have it configured. That seems normal and responsive. Trying to use the volume, however, causes that instance to hang. I don't think it is a filesytem-level corruption issue since even fsck -V hangs without producing any output. 

Deleting/canceling the snapshot and starting a new snapshot hangs at the same point, 99%. 

thanks again
tim"

Amazon EC2	"EBS Volumes and snapshot
How i can reduce cost for EBS Volumes and snapshot. Does EBS Volumes is necessary with instances.
Kindly suggest"

Amazon EC2	"Re: EBS Volumes and snapshot
The best way to reduce costs is to have less of them and to only keep what you truly need.  To do that you'd need to prune your snapshots and evaluate each one as to whether you need it.  I generally dump mine out to a file list with the AWS CLI and determine what to delete.  The savings over not deleting anything ever are huge.

http://harish11g.blogspot.com/2013/05/Amazon-Web-Services-AWS-Cost-Saving-Tips-Delete-Amazon-EBS-snapshots-regularly-retention-period.html

is a good article about how snapshots can get expensive and how pruning can greatly reduce costs."

Amazon EC2	"Why did instance  i-2e6d54a4 fail?
Yesterday we lost communication to instance i-2e6d54a4 (failed status checks).
We then tried stopping the instance with opsworks which failed and finally stopped it through the console after being in stopping state for a long time.

Is it possible to get some insight into what happened to the instance? Thanks."

Amazon EC2	"Re: Why did instance  i-2e6d54a4 fail?
Hello, 

Regrettably it looks like the underlying hardware for the instances failed, which is what caused your your instance to be stuck in the stopping state for so long. Starting the instance will place it on completely new hardware. 

Regards,
Nick"

Amazon EC2	"Autodelete EBS snapshots by date range
Hello, I'm trying to create a awscli bash script to delete snapshots by date range, example: let's say I want to delete snapshots created from July the 1st to March the 4th, is this possible? It is very frustrating to delete 100s of snapshots one by one.

Cheers."

Amazon EC2	"Error when configuring ALB in CloudFormation
I keep getting the following error when configuring ALB for ECS in CloudFormation.

Unable to assume role and validate the specified targetGroupArn. Please verify that the ECS service role being passed has the proper permissions.

Any help is appreciated ? On a side note i cannot see any sample templates for ALG.

My roles and policy is as follows,

    ""ECSServiceRole"": {
      ""Type"": ""AWS::IAM::Role"",
      ""Properties"": {
        ""AssumeRolePolicyDocument"": {
          ""Version"": ""2008-10-17"",
          ""Statement"": [
            {
              ""Sid"": """",
              ""Effect"": ""Allow"",
              ""Principal"": {
                ""Service"": ""ecs.amazonaws.com""
              },
              ""Action"": ""sts:AssumeRole""
            }
          ]
        },
        ""Path"": ""/""
      }
    },
    ""ECSServiceRolePolicy"": {
      ""Type"": ""AWS::IAM::Policy"",
      ""Properties"": {
        ""PolicyName"": ""ecs-service"",
        ""PolicyDocument"": {
          ""Version"" : ""2012-10-17"",
          ""Statement"": [
            {
              ""Effect"": ""Allow"",
              ""Action"": [
                ""ec2:AuthorizeSecurityGroupIngress"",
                ""ec2:Describe*"",
                ""ecs:*"",
                ""elasticloadbalancing:DeregisterInstancesFromLoadBalancer"",
                ""elasticloadbalancing:Describe*"",
                ""elasticloadbalancing:RegisterInstancesWithLoadBalancer"",
                ""elasticloadbalancing:DeregisterTargets"",
                ""elasticloadbalancing:DescribeTargetGroups"",
                ""elasticloadbalancing:DescribeTargetHealth"",
                ""elasticloadbalancing:RegisterTargets""
              ],
              ""Resource"": ""*""
            }
          ]
        },
        ""Roles"": [ { ""Ref"": ""ECSServiceRole"" } ]
      }
    }"

Amazon EC2	"Re: Error when configuring ALB in CloudFormation
After raising with AWS support I realized that I had a missing reference syntax in the ""TargetGroupArn"" property"

Amazon EC2	"EBS SSD vs Instance Store SSD
I'm having a hard time finding an authoritative answer to exactly how the disk I/O works in EC2.

My understanding: EC2 devices can optionally have Instance Store (ephemeral, temporary) storage which can be on an SSD directly connected to the EC2 instance.

Question 1. If I have a gp2 EBS volume (SSD-based), does that mean disk I/O happening in my EC2 instance to that volume is going off-machine to an SSD-based EBS volume?

Question 2. I've read about volumes created from snapshots that lazily load/initialize.  Does that mean data is transferred to the volume (in EBS) from a snapshot (in S3, etc)?   But once the data is in EBS, it is as fast as IOPS allows.

Question 3. Is there any way to have a local SSD drive (like instance store) for use by an EC2 instance that does not disappear when an instances is stopped or crashes?

Thank you for your help.

Doug"

Amazon EC2	"EC2 Instance Vanished
For years we have had an EC2 instance running. This morning the instance stopped serving pages and when I looked in the Management Console, not a single instance is listed. The backup images are also gone. The only thing still there are the DNS entries from Route 53. WTF!!!

So, unbelievable. We now have no website, no emails. No nothing. Here is another question. When will we ever again use Assamazon to buy more cheap Chinese junk online? When pigs fly. Moving to Azure.

Retracting the nasties. The console defaulted to another region. It seems a server update crashed the instance. Apologies for the above remarks.  It was a good venting session though. Thanks for that.

Edited by: gogisoft on Aug 30, 2016 10:08 AM

Edited by: gogisoft on Aug 30, 2016 11:14 AM

Edited by: gogisoft on Aug 30, 2016 11:24 AM"

Amazon EC2	"Instance via Port 80 not reachable anymore
Dear Amazon-Team,

our instance i-0a45ddb6, serving our homepage, is currently not reachable via HTTP / port 80.
httpd service seems to be ok. I already restartet instance and services, but this does not help.

Can you please check whether there is a general problem (region Frankfurt)?

Thanks,
Pat"

Amazon EC2	"Re: Instance via Port 80 not reachable anymore
Hello Pat,

Port 80 on your instance is not listening. See below simple telnet tests that i ran against your instance IP.

$ telnet 52.29.154.78 80
Trying 52.29.154.78...
^C
$ telnet 52.29.154.78 22
Trying 52.29.154.78...
Connected to 52.29.154.78.
Escape character is '^]'.
^]
telnet> quit
Connection closed.

You need to start the apache server and make sure that it is listening on port 80. From the above output you can see the port 22 is listening on the instance because ssh is running, However port 80 is not responding. This is an issue on your OS configurations side not with instance or AWS in general.

Regards,
Umair A."

Amazon EC2	"Re: Instance via Port 80 not reachable anymore
Dear Umair,

thanks for your answer.
The weird thing: the server was running untouched for more than 60 days and suddenly port 80 is not reachable anymore.
I made an AMI of this server yesterday, copied to another region, same security settings, just started the server and... it is running.. I can't understand this.

The oroginal instance in region Frankfurt is still not reachable..

Thanks, best regards
Patrick"

Amazon EC2	"hard drive disposal security
I have looked through the different security documentation provided but have not found any reference to what is the process for dealing with disks (physical HW) that is being replaced.im concerned about security of data that is present on a disk that is replaced and im not sure what is the process to get rid of this disk so the data will not be accessible by any 3rd party who might have access to the disk after Amazon loses possession of it."

Amazon EC2	"Re: hard drive disposal security
Our policy describing disk replacement can be found in our security white paper here: http://awsmedia.s3.amazonaws.com/pdf/AWS_Security_Whitepaper.pdfSpecifically to your question from that paper:When a storage device has reached the end of its useful life, AWS procedures include a decommissioning process that ensures customer data are not exposed to unauthorized individuals. AWS uses the techniques detailed in DoD 5220.22-­‐M (“National Industrial Security Program Operating Manual“) or NIST 800-­‐88 (“Guidelines for Media Sanitation”) to destroy data, as part of the decommissioning process."

Amazon EC2	"Re: hard drive disposal security
Updated link for this paper - https://d0.awsstatic.com/whitepapers/aws-security-whitepaper.pdf"

Amazon EC2	"Re: hard drive disposal security
The latest version of the AWS Security whitepaper no longer includes a reference to NIST-800 as the standard used for disposal of hard drives.  It is a lot more vague in the language.  Has AWS changed its policy on how it disposed of hard drives?"

Amazon EC2	"Instances stuck in shutting down status
Could I get the two instances below shut down so we can start them again? We would like them to be shut down, not terminated.
i-71d910c0
i-e9884158

Update: They shut down after a couple hours.

Edited by: nwiebe on Aug 30, 2016 8:14 AM"

Amazon EC2	"Server.InternalError: Internal error on launch
Hello.

Since 13:45 (UTC) my application has a problem with creating new ec2 instances (through the API) - 95% instances fail with ""Server.InternalError: Internal error on launch"".

Examples:
i-0990276657bc653fb
i-028cff40f59eb1329
i-0d9190a869fc9b13d
i-0ad4d21e1e7bd52af

I've tried different AMIs but problem is still here. This forum says that is something which I can't fix by myself. Can anyone help me?"

Amazon EC2	"EC2 Instance stuck in ""initializing""
Instance ID
i-7e559a19"

Amazon EC2	"Re: EC2 Instance stuck in ""initializing""
Now works!"

Amazon EC2	"Re: EC2 Instance stuck in ""initializing""
Hello,

I have checked your instance and i see the status checked are passing and the instance is running fine, It seems like filesystem check fsck at boot kicked in which resulted in taking some time to initialize the instance.

Regards,
Umair A."

Amazon EC2	"EC2 instance stuck in ""shutting-down""
Hi,

I have two instances that appear to be stuck in the shutting down state (i-41d0beb9 and i-f0d0be08). Is there anything I can do to fix this?

Many thanks."

Amazon EC2	"Re: EC2 instance stuck in ""shutting-down""
Hello,

Your instances have been terminated successfully.

Regards,
Umair A."

Amazon EC2	"create ami stuck pending
I see several other posts that are the same as my issue. https://forums.aws.amazon.com/thread.jspa?messageID=372982&#372982 I followed the suggestion there to stop and restart the instance before bundling. Didn't help and both these two instances are stuck pending:

ami-0c0f601b
ami-ab610ebc

Other than they're somewhat large and I was trying to convert a magnetic volume to a gp2 vol, I can't really guess what might be wrong."

Amazon EC2	"Re: create ami stuck pending
Hello,

We see that the AMI's have completed and they are available. Please note that it takes some time to create images, Pending doesn't mean the it is stuck, The image creation process continues in the background until it finishes. 

Regards,
Umair A."

Amazon EC2	"Instance:  i-ed786317
Hi,

Instance:  i-ed786317 is stuck in shutting-down state. Can you terminate it for us?

Thanks,"

Amazon EC2	"Re: Instance:  i-ed786317
Hello,

Your instance has been terminated successfully.

Regards,
Umair A."

Amazon EC2	"Disk space is incorrect
I have created an instance with 60 GB of disk space. But when I login to the Windows machine, I notice that  the drive has only 30 GB. Why don't I get 60 GB?

Instance id - i-4d34d1f9"

Amazon EC2	"Re: Disk space is incorrect
Hello,

The volume size is indeed 60Gb, you may need to expand/resize filesystem. Please see below link
[1] http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

Regards,
Umair A."

Amazon EC2	"T2 is stopped. So, why does the attached EBS continue increasing memory?
Hi.

My T2.large instance is stopped since some days ago.
However, I continue being charged for the EBS attached to it? That is, every day when I check my bill, the value of EBS usage to be charge is increasing. Why does it happen?

Should I terminate the T2 instance to avoid spending money with attached EBS?

Any hint will be very helpful!!"

Amazon EC2	"Re: T2 is stopped. So, why does the attached EBS continue increasing memory?
Hello,

You are charged for the volumes until you release the storage by deleting them. If this is root volume of the instance that is stopped you can terminate the instance and the volume will be deleted automatically, If you wish to take a backup before deleting the instance/volume you can simply create a snapshot of the volume. 

[1] How to take volume snapshot
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html

If you need assistance with billing related issues  i would ask you to contact our billing and accounts team

Regards,
Umair A."

Amazon EC2	"Reserved instance -- how to tell if image is 3rd party or AWS
I have a few on demand instances. All instances are the same image: CentOS 7 (x86_64) - with Updates HVM (https://aws.amazon.com/marketplace/pp/B00O7WM7QW) and are sold on the AWS marketplace. The image page says ""sold by centos.org"". I would assume this means that it is indeed a third party image -- however purchasing reserved instances for the wrong image type would be a major loss. Can someone tell me if this image is indeed ""3rd party"" or give me a definitive way to tell?

Thanks in advance,
Derek"

Amazon EC2	"Re: Reserved instance -- how to tell if image is 3rd party or AWS
Hello Derek,

Images that come from the marketplace are indeed third party images as they are provided and maintained by the third party vendors/publishers. 

Regards,
Umair A."

Amazon EC2	"Zone D resources very poor
Is there something going on in US-EAST zone D? 

Since noon EST, all of our resources in Zone D have been unstable.  High latency across all applications and ports."

Amazon EC2	"Re: Zone D resources very poor
Hello,

We don't see any problems in US-east-1. All services are reporting healthy status. See our service health dashboard at below link.
[1] http://status.aws.amazon.com/

Can you tell us from where you are getting high latency, do you have any tcp based traceroute, mtr and instance-ids for us to investigate ?

Regards,
Umair A."

Amazon EC2	"wcm-aws-iot-sdk
I am following project wcm-aws-iot-sdk at https://github.com/MicrochipTech/wcm-aws-iot-sdk. The code based on harmony version 1-06.

In Cmd Prompt I executed 
aws iot create-policy --policy-name PubSubToAnyTopic --policy-document file://C:\wcm-aws-iot-sdk-master\file
and there is response which is
{
""policyName"": ""PubSubToAnyTopic"",
""policyArn"": ""arn:aws:iot:us-west-2:562963742142:policy/PubSubToAnyTopic"",
""policyDocument"": ""{\n \""Version\"": \""2012-10-17\"",\n \""Statement\"": [{\n\
t\""Effect\"": \""Allow\"",\n\t\""Action\"":,\n\t\""Resource\"": \n}"",
""policyVersionId"": ""1""
}

but when i come to
aws iot attach-principal-policy --principal-arn certificate-arn --policy-name PubSubToAnyTopic
The error from CLI i got is,
usage: aws options <command> <subcommand> http://<subcommand> ... parameters
To see help text, you can run:
aws help
aws <command> help
aws <command> <subcommand> help
aws: error: argument --principal is required

Did i miss something? Looking forward to Amazon AWS expert attention for support and assistance."

Amazon EC2	"Re: wcm-aws-iot-sdk
Hello.

Looking at  CLI command we see you are passing incorrect arguments. Please see below link.

http://docs.aws.amazon.com/cli/latest/reference/iot/attach-principal-policy.html

Regards,
Umair A."

Amazon EC2	"Northeast EC2 DNS Outage 18:12 EDT 28 Aug 2016 Observed & Work Around
Some programs on my EC2 Instance failed a few minutes ago at 18:12 Eastern.
They were attempting to reach a remote host, but were unable to resolve the hostname of the remote host they were using.

The DNS server was the one provided to my EC2 instance via DHCP.

Has anyone else experienced DNS issues on EC2 in the northeast at around this time?

A work around to prevent this problem from happening again in the future is as follows.

edit the file:  /etc/dhcp/dhclient.conf
 as follows.
timeout 300;
 
# additional nameservers to avoid repeat of issue experienced on August 28th, 2016
interface ""eth0""
{
  append domain-name-servers 8.8.8.8, 8.8.4.4;
}


Basically, this is adding Google's Public DNS to the list of name servers resolved by DHCP.  If the DNS server supplied by Amazon fails to resolve the host, it will try against Google's Public DNS.  Only if it is unable to resolve the host name using Google's Public DNS, then it will fail.

Edited by: mdw on Aug 28, 2016 4:18 PM"

Amazon EC2	"Re: Northeast EC2 DNS Outage 18:12 EDT 28 Aug 2016 Observed & Work Around
Hello,

There was no outage or any large scale event on the mentioned date and time. Please see our services health dashboard. [1]

[1] http://status.aws.amazon.com/

You did not provide the instance id for us to look. This seems to be an intermittent issue with your instance. 

Regards,
Umair A."

Amazon EC2	"Why does this EC2 website take minutes to load?
www.los-angeles-web-design.com  seems to take several minutes to load. We double-checked Route 53 DNS, however it just takes that long to resolve. This seems to be an intermittent problem occurring over the last few weeks.

SSH and FTP work fine. Only HTTP is affected.

http://www.carltonmuench.com/ is also affected.

Instance IDS: i-0caf4d9b, i-f55bbf62

Thanks

24 hours later:
It turned out to be a XML-RPC bot attack from Russia. We identified the IP addresses and blocked them. We upgraded to Developer support to get some < 12 hours help, however AWS support was sleeping for the last 24 hours on this issue so we cancelled it.

Edited by: axmu on Aug 27, 2016 2:16 PM"

Amazon EC2	"Re: Why does this EC2 website take minutes to load?
Hello,

We are very sorry that you experienced delay from the support team on your case. Please accept our sincerest apology for the poor experience. Please let us know if your issue has been resolved or if there's anything that needs attention from AWS.

Regards,
Umair A."

Amazon EC2	"FEATURE REQUEST: Expand metadata service to include data on CF/ASG
I am wondering if it would make sense to add information about CloudFormation and AutoScaling groups the instance belongs to to the metadata available on each local box (http://169.254.169.254/...) , similar to how you can currently query for instance id, security groups, ami id, and other instance specific information

It is a very common pattern in CloudFormation to run tools (like cfn-init and cfn-signal) that need to know the name of the  CloudFormation stack/resource and name of the AutoScaling group (if any) Currently this is handled by hardcoding the data in cloud formation template and passing it via UserData or granting a lot of permissions to ec2 profile and let it use the AWS API to query this data. 

One of the places this data already exists is in the tags  - so a really simple implementation of this would be to expose the tags via metadata (That has a lot of other benefits too)

Thank you

-M"

Amazon EC2	"Re: FEATURE REQUEST: Expand metadata service to include data on CF/ASG
Hello,

Thank you for the feature request. The request has been placed with the ec2 internal team. Please note that we do have any timeliness of the feature request implementation. 

Regards,
Umair A."

Amazon EC2	"Character entity bug(s) in ELBv2 documentation
In the list of allowed characters for ELBv2 path patterns, the ampersand, and in some places the star (""*""), is not displayed correctly. Screenshot: http://pasteboard.co/1mk3nfwac.png

Spotted in various places:

http://docs.aws.amazon.com/cli/latest/reference/elbv2/create-rule.html#output
https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/ELBv2.html#createRule-property
http://docs.aws.amazon.com/sdkforruby/api/Aws/ElasticLoadBalancingV2/Types/RuleCondition.html"

Amazon EC2	"Re: Character entity bug(s) in ELBv2 documentation
Hello,

Thank you for pointing this out. I have asked the team to update the documentation. 

Regards,
Umair A."

Amazon EC2	"I can connect my EC2 via SSH: PTY allocation request failed on channel 0
Hi, I'm in big trouble with my EC2 server. I'm using Amazon Linux, and accidentally, I loose all data in /etc/fstab. After that, I cant connect my server via SSH with this message: PTY allocation request failed on channel 0.

I detached the volume and attached again, but it didn't work. I can't access it, so I can't do anything. Looks like data is still in there, but there is no way to get in!

Is there a way to fix my problem? I searched some solutions on google, but most of it is useless or saying recreate that file with some values. As I said earlier, I can't connect it, so basically I can't do anything.

The server contains plenty of data that I produced years and years, about hundreds, or thousands information, files... Please give me a hand."

Amazon EC2	"Re: I can connect my EC2 via SSH: PTY allocation request failed on channel 0
Hello,

You did not provide us the instance-id for us to take a look, but i believe you have some issues with fstab file that has made your instance unbootable or unreachable. 

To correct those issues with the configurations on the volume you need to stop the instance, detach the root volume, launch a new instance and login to it. Next you need to attach the problematic instance root volume to your new instance and mount it. Now you can fix the issues.

Once finished, unmount the volume and detach , attach it back to original instance and start it. Steps are documented on below page.

https://aws.amazon.com/articles/5213606968661598

Regards,
Umair A."

Amazon EC2	"EC2 will not boot after EBS Attachment
Hi!

I have an interesting problem-- I was trying to downsize my EBS Volume of 500GB and created a new volume of 200GB.  I formatted the new 200GB EBS to be ext4, just my like old one, and copied all the old volume's files over to it via Rsync.

I was able to attach the new volume to my instance and able to mount and access all the files on it.  But once I try to attach the new volume as /xvda and start my EC2 instance, my instance won't start!  It goes into pending -> started -> stopping -> stopped.  

This is really weird, as I know the file system is not corrupted, I can access it.  I ran sudo e2fsck -f on it, no errors.  I can mount it just fine, it just won't boot!  Am I missing something here?"

Amazon EC2	"Re: EC2 will not boot after EBS Attachment
Hi,

There's no recommended way to downgrade the EBS volume and the steps that you took are not sufficient. The easiest way is to take AMI of the instance and launch new instance with smaller volume size.

Regards,
Umair A."

Amazon EC2	"Custom AMI based on CentOS prompting to accept CentOS EULA
We have a custom AMI which was built based on a CentOS 7 image available in AWS Marketplace. It was produced with a one account id and shared with another account. When we tried launching it from another account, we got an error and were prompted to visit the CentOS 7 EULA page and accept it. 

Is it because of the CentOS product code attached with our custom AMI. If yes, is there a way to prevent the product code from being associated with the custom AMI? 

Any insight or help is much appreciated.

Thanks,
Nikhil"

Amazon EC2	"Re: Custom AMI based on CentOS prompting to accept CentOS EULA
Hi Nikhil,

Is it because of the CentOS product code attached with our custom AMI?

Yes the product code remain attached.

is there a way to prevent the product code from being associated with the custom AMI? 

You may be able copy the volume data to another using dd, but keep in mind that product code is there to allow you for using the product shipped by the marketplace vendor, You may run in to licensing or package update issues later on.

Regards,
Umair A."

Amazon EC2	"ADFS integration with web applications running on AWS
Hi All,
I am very new to AWS and thankful to all professionals who sharing their knowledge on this forum.

Let me come to my query.

We have running an IIS application with 6 back-end instances behind an ELB. For secure authentication we have decided to implement ADFS. But during the activity its been observed there are few limitations with AWS ELB such as ELB does not support SNI feature.
So what AWS technician suggested is to perform the SSL offloading in backend servers and modify ELB listener settings from HTTPS-->HTTP to TCP 443-->TCP443. In this case ELB just forwards the requests to backend servers and backend servers does all SSL offloading.
But problem is  we can not enable session stickiness at ELB level since same listens TCP instead of HTTPS.
Now if we keep single server behind ELB,ADFS works fine and URL page also loads.If we add multiple servers behind ELB then ADFS works but page does not load.
We suspect its due to the session stickiness.
Need to know how we can overcome this issue.
Requesting your expertise to solve this issue.

Regards
Pavan"

Amazon EC2	"i-c0b5c94e reboot on August 20th
Hi

It seems our instance i-c0b5c94e in ap-southeast-1a was restarted automatically (not by us) on August 20th around 4:30am GMT. I checked the AWS Service Health page for that date but nothing was reported. The system logs look OK until the reboot. CloudWatch metric StatusCheckFailed_System did log the incidence.

Could you please confirm if this was due to some issue with the underlying hardware? I'm just trying to rule out a problem on our side, as this server went live around a month ago with a new configuration of our software.

Thanks in advance"

Amazon EC2	"Re: i-c0b5c94e reboot on August 20th
Hello,

I looked at your instance and found that underlying hardware indeed experienced an issue on 08/20/2016. I apologize for the inconvenience.

I also confirmed that there has not been any incident since 08/20.

Regards,
Jay"

Amazon EC2	"Re: i-c0b5c94e reboot on August 20th
Thanks for the feedback, Jay. I think that settles it."

Amazon EC2	"Networking Connectivity Lost Between all EC2 Instances?
Hello,

We're trying to troubleshoot a problem that happened with our instances this evening.

Although we were able to connect to them, there seemed to slower connections between the instances. They're all located in the us-east zone.

The problem seems to have resolved itself just now after about 3-4 hours of intermittent connectivity problems between the instances.

Anybody see similar issues tonight?"

Amazon EC2	"instance status check fails due to disable ether net of rdp
i have a problem related to instance status check fails. I see in screenshot it show a disable ethernet how can i solve this problem?
MY 	instance id is:
i-0436a04e793f5cfb3

Edited by: furqanhaider838 on Aug 29, 2016 10:14 PM"

Amazon EC2	"ELB Health check fails over TCP
Doing a health check over TCP (22) for EC2 instance under a ELB - fails.

EC2 subnets, SG are setup correctly - has the port, igw etc.

When I try to TELNET into the ec2 using the private DNS - it is timing out as well. Standalone EC2 works fine.

Any suggestion on what I might be missing?

ELB is cyrcle-prod-lb-1363622687.us-west-2.elb.amazonaws.com if that helps.

Edited by: sharad1404 on Aug 29, 2016 2:38 PM"

Amazon EC2	"What does ""scheduled reboot do-not-complete"" mean?
We have an instance event scheduled that says ""scheduled reboot do-not-complete"" for it's description. What does this mean? This is the second one we've had with this description, and the first one did result in a reboot.

Thanks!"

Amazon EC2	"ELB connection timing out
I just set up an ELB and pointed it to an EC2 instance. I can access the EC2 instance from my web browser via its elastic IP address, but when I try to access the ELB URL, the connection times out. I actually tried both a classic and an application ELB. Both have the same behavior. With the classic ELB, the console is reporting that the instance is InService. What could be wrong?"

Amazon EC2	"Re: ELB connection timing out
Nevermind. Figured it out. Needed to have a security group with the right ports open. 80 and 443 for HTTP and HTTPS"

Amazon EC2	"Upgrade nginx to nginx-1.10.1
On Amazon Linux can you please provide nginx-1.10.1 so that yum install will work?

It is stable now.

Thanks."

Amazon EC2	"Re: Upgrade nginx to nginx-1.10.1
Hello,

Thank you for your interest in improving our services.

I have requested supporting nginx-1.10.1 version to Amazon Linux AMI team on your behalf. It will take a bit of time and if approved, we will let you know."

Amazon EC2	"Re: Upgrade nginx to nginx-1.10.1
To add to this, there are lots of people waiting on this for HTTP 2 and other features supported by nginx 1.10+ 
Users currently have to resort to other measures, like installing nginx from source. Would be great to have this officially supported."

Amazon EC2	"Non HTTP/HTTPS in Application ELB?
Hello AWS folks,
we are really happy to see the Application ELB that now allows us to run multiple ECS tasks from the same service on a single instance.
There is one issue that we are struggling with as of now - the protocol:
Our apps utilize SMTP & IMAP besides of HTTP / HTTPS. 
It's easy to support them using TCP in classic ELB but not possible in application ELB.
Is there any reason, why TCP is excluded from the application ELB? Any chance it will be added there later?

Thank you in advance,

Evgeny"

Amazon EC2	"Instance stuck in stopping state
Our instance i-783eef3d in US East region is stuck in stopping state. It seems that the instance suddenly crushed and we are unable to stop if completely. Reboot, Stop  and Forced Stop didn't work for us."

Amazon EC2	"Re: Instance stuck in stopping state
The issue seems to be fixed now. Server change it's state to stopped after 15 minutes."

Amazon EC2	"Instance stucked in stopping state
Hi, we really need help asap. 

We have an ec2 cluster processing realtime, and batch metrics. While restarting the cluster one node with instanceId i-ec53d825 was stucked in a stopping state. We tried a forced stop but nothing seems to happen. It is crucial for us to get that node alive and have our processes running again.

What happend with the instance?

Thanks!"

Amazon EC2	"Re: Instance stucked in stopping state
Hello,

Our EC2 team is investigating the issue. We'll update you as soon as we have more information.

Apologies for the inconvenience and frustration this issue has caused!

Kind regards,
Chris"

Amazon EC2	"Re: Instance stucked in stopping state
Hi Chris,

Thanks for your answer, but so far, after 96 hours, the instance is still stuck at the stopping state 

Any news?"

Amazon EC2	"Re: Instance stucked in stopping state
Good day 

The issue has been escalated on our EBS Service Team and is taking longer than expected. We will revert back to ASAP once we have resolve the issue.

Regards
Imthian R"

Amazon EC2	"Re: Instance stucked in stopping state
Hi Imthian,

Did the EBS team estimate a resolution date? Will we have to wait a few more days? a few more weeks? or a few more months?

Regards,

Jp.-"

Amazon EC2	"Re: Instance stucked in stopping state
Hello Jp,

Thank you for your patience while our EBS Service Team investigated the issue. Your instance is now in a stopped state. We apologize for this problem. Even though your systems are in AWS’s cloud, the possibility of hardware/software failure still exist.

If you have not already done so, consider taking snapshots of critical volumes or an AMI of the instance. If you are to encounter this problem again you can launch new instances from snapshots or AMIs.

https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html

Regard,
Tim"

Amazon EC2	"Re: Instance stucked in stopping state
Hello Tim,

Thank you very much for your response.

We do understand that even the ""cloud"" could have hardware / software failures, what we didn't expect was that a hardware / software failure could take  more than 168 hs. to be resolved.

Kind regards,

Jp.-"

Amazon EC2	"Any newly launched instance fails to connect after several minutes (Tokyo)
Hi,

I returned to AWS after a long time not using it, and I managed to launch some EC2-VPC instances in AP Tokyo region. However I found out that any instance launched here will be inaccessible forever, no matter how I configure EC2 and VPC, following AWS documentation or searching solutions by others. They were accessible for first few minutes but vanished from the Internet forever.

Here are two instances for example: i-077faefb166087c28 (Windows Server), i-089915e652e9c7f74 (SUSE Linux). They are all launched on VPC vpc-8f7bddea.

Days of experimentation and pinging have given some clues:
 - Only Tokyo region faces the issue as far as I could discover. All my instances in Singapore region work perfectly, and I use both my local machine and those working EC2 instances to ping and debug, thus unlikely to be a problem from my Internet environment.
 - Connections can be made from merely seconds to 5 minutes after launch. I have verified configurations one by one with Singapore VPCs, so I guess it's unlikely to be a VPC issue.
 - Any OS, either Windows or Linux, encounters the same problem.
 - They all look good from system logs and screenshots even I'm unable to connect them.
 - They also look good in EC2 Management Console (no indication of failure).
 - Stop/start, reboot instances won't help. I watched pings from Singapore EC2 instances and no responses at all before, during and after reboot.

I'm nowhere to find a possible solution and looking for your assistance.

P.S. In the similar thread (https://forums.aws.amazon.com/thread.jspa?threadID=235083&tstart=125) the OP said that the account was de/re-activated. Similarly, I once deactivated and reactivated my account as well. Could that be the source of cause?"

Amazon EC2	"Re: Any newly launched instance fails to connect after several minutes (Tokyo)
Hello,

I have passed your issue to Account team. We will update this thread as soon as we get an update."

Amazon EC2	"Re: Any newly launched instance fails to connect after several minutes (Tokyo)
My instance i-95859430 when I tried to stop and restart it just terminated and now I cannot restart.  Even when I set up a new instance I cannot connect to it from the the public IP.  I am on the Tokyo server."

Amazon EC2	"Re: Any newly launched instance fails to connect after several minutes (Tokyo)
Hi,

Looks like Account team responses fast! All the connections have resumed now, and newly launched instances are working as well.

I will follow-up if same issue occurs again; right now it's resolved. Thanks!"

Amazon EC2	"Unable to access the SAP IBO System
In order to access the SAP IBO system performed following steps:
1. Started SAP IBO instance from AWS.Amazon.com- EC2 
2.Login into SAP CAL system and activated the SAP IBO System and after 10 min status of instance become ""Active"" and Operation become and ""Connect""
3.Clicked on the ""Connect"" then it opened the ""Remote desktop connection"" and by entering user name and password it opened dedicated system.
4. From now onward problem started
    A. Unable to login into the HANA Studio for the ""SYSTEM"" user even after providing correct user name      and password.Its giving error ""SAP Control request failed"" and ""Database connection not available"".
   B. Unable to open the SAP OPInt workspace, SAP BPM Inbox,SAP Netweaver Administrator also.It giving message like ""Connection has timed out"" and showing following measage :
            1. The server at bpmhost is taking too long to respond and ""The site could be temporarily   unavailable or too busy"". Try again in a few moments.
            2.If you are unable to load any pages, check your computer's network connection.
            3.If your computer or network is protected by a firewall or proxy, make sure that Firefox is permitted to access the Web. 

Could you please help on this because problem is still persisting from the last 4 days."

Amazon EC2	"Re: Unable to access the SAP IBO System
Hi,

I understood that you are facing some issues with your SAP application running on the EC2 Windows instance.

However, from the Step 3, I can understand that you are able to log in to the EC2 instance. But then you are not able to access your application. Please correct me if I am wrong.

However, we are not quiet sure about how your application works and how to configure it. You might need to check up on that. You could check the CloudWatch metrics related to the instance for spikes in CPU, Network and check the OS metrics for memory utilization and see if the issue is caused because of the resource starvation. I am afraid that this is not the right place to troubleshoot application level issues. You might need to contact the vendor for the same.

If you can share the instance ID with us we can check the resource utilization for you. But for issues on SAP you need to get in touch with the vendor.

Regards,
Jayakrishnan L."

Amazon EC2	"Ec2 Instance Reboot
After rebooting Ec2 instance, the instance is not accepting web traffic. C"

Amazon EC2	"/bin/mail wont work on EC2 APAC (Singapore) region ..
Hi - 

I need to send out system alerts, errors and warnings from my application as well as things like fail2ban etc. running on my EC2 instance running behind an ELB.

I do not have Elastic IPs attached to my instances - due to security reasons and also do not want to enable them in future. 

While this is working as expected in my USA (Virginia) instance, for some reason it wont work on my APAC instance. Configuration wise, my setup is an exact replica of each other in both regions. 

Can someone help?

The mails are queued up and I can see that by using mailq."

Amazon EC2	"Re: /bin/mail wont work on EC2 APAC (Singapore) region ..
Hello,

Can you give me the instance ID (i-xxx...) this is running on in Singapore and I'll take a look?

Richard"

Amazon EC2	"Re: /bin/mail wont work on EC2 APAC (Singapore) region ..
Hi. Thanks Richard. I'm good now."

Amazon EC2	"EC2 Server shut down when these error occurs
My server is shutting down when ever these 3 below evens occurs please help ASAP what may be the reason also attached event log screens below
The Open Procedure for service ""WmiApRpl"" in DLL ""C:\Windows\system32\wbem\wmiaprpl.dll"" failed. Performance data for this service will not be available. The first four bytes (DWORD) of the Data section contains the error code.

The Open Procedure for service ""BITS"" in DLL ""C:\Windows\System32\bitsperf.dll"" failed. Performance data for this service will not be available. The first four bytes (DWORD) of the Data section contains the error code.

Unable to open the Server service performance object. The first four bytes (DWORD) of the Data section contains the status code."

Amazon EC2	"Re: EC2 Server shut down when these error occurs
a quick google search returned this:
https://support.microsoft.com/en-us/kb/977589

Looks like there is a hotfix for the issue."

Amazon EC2	"Re: EC2 Server shut down when these error occurs
Bret,

This is my production server,  when i am downloading it says warning as this  hotfix has not undergone full testing

For your convenience, we put the hotfix that you requested on an HTTP site. You can download the hotfix from this site without us filling up your e-mail inbox.

WARNING   This hotfix has not undergone full testing. Therefore, it is intended only for systems or computers that are experiencing the exact problem that is described in the one or more Microsoft Knowledge Base articles that are listed in ""KB Article Numbers"" field in the table at the end of this e-mail message. If you are not sure whether any special compatibility or installation issues are associated with this hotfix, we encourage you to wait for the next service pack release. The service pack will include a fully tested version of this fix. We understand that it can be difficult to determine whether any compatibility or installation issues are associated with a hotfix. If you want confirmation that this hotfix addresses your specific problem, or if you want to confirm whether any special compatibility or installation issues are associated with this hotfix, support professionals in Customer Support Services can help you with that. For information about how to contact support, copy the following link and then paste it into your Web browser:

http://support.microsoft.com/contactus/

For additional support options, please copy the following link and then paste it into your Web browser:

http://support.microsoft.com/

Before you install this hotfix

Edited by: venkat baggu on Aug 29, 2016 2:32 AM"

Amazon EC2	"Re: EC2 Server shut down when these error occurs
is this any instance problem? Instance id:  i-024e1e8fea2e25

Do need to rebuild by instance?"

Amazon EC2	"Production Servers automatic restart lead to website outage
Hello,

Since about past 8-9 hours our Production EC2 Instance (ID: i-a40ffe96) has rebooted twice automatically causing service outage. When we checked, we got
$ who -b
         system boot  2016-08-23 00:59

We've not received any notification about these reboots so its concerning. Also 2 reboots within a matter of 8-9 hours is a serious concern. This resulted in major recovery efforts at our end and loss of heavy website traffic during the outage period. This is the first time we're facing this issue ever since this instance was created more than 2 years ago.

The Amazon health dashboards did not indicate any issues at the time. We need to be up 24*7 and cannot afford such an automatic reboot in the future so could you please investigate this issue, if not done so already and let us know the cause for it and the steps to prevent this at your end in future.

If you need any further information, please let me know soon.

Thanks & Regards,
Sreeram"

Amazon EC2	"Re: Production Servers automatic restart lead to website outage
Good day Sreeram

I confirm this was due to a intermittent failure on the underlying host that your instance was running on. 

We have processes in place to alarm us of potential failures but in some rare cases the host fails before any warning can be triggered which is what happened here. 

We advise all customers when using the Cloud to adopt redundancy and high availability if they seek to further minimize any potential down time or issues induced by this type of failure.

If you would like to get more information about how you can design and implement fault tolerance or high availability in AWS, I highly suggest taking a look through the following resources I have linked here:

Fault Tolerance Whitepaper:
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Fault Tolerance Architecture Center:
https://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_ftha_04.pdf

Apologies for the inconvenience but unfortunately in some cases, hardware will fail without warning, as much as we try to architect around this ourselves.

Kind Regards
Imthian R"

Amazon EC2	"Re: Production Servers automatic restart lead to website outage
Thanks Imthian,

Couple of questions:
1. Can you confirm if the cause of the intermittent failure has been identified/fixed? 
2. Have you guys any taken steps to ensure that the underlying host gives a warning the next time, in case it happens again?

Basically, I'm wondering if I need to take an image of the current instance and launch a new instance with it, and shut down the current one.

Regards,
Sreeram"

Amazon EC2	"Re: Production Servers automatic restart lead to website outage
Things have gone from bad to worse. Now the instance has stopped responding. Can't connect via ssh nor any other port or service. I tried stopping this instance 20 minutes back and it is not stopping.

Please help

Regards,
Sreeram"

Amazon EC2	"Re: Production Servers automatic restart lead to website outage
Hello, 

We note that this instance is in a shut down state at present. Please let us know if you are still having an issue with this. 

With regards to the hardware failure that you experienced, while AWS does attempt to ensure a high availability, sometimes unaccounted hardware failures can  and will occur. These are unplanned and we cannot foresee what difficulties may arise from these failures. 

In order to mitigate this, we recommend to all our customers to ensure that they have redundancies built into their infrastructure. 

This document below outlines best practices in designing and architecting a highly available network within AWS. 

https://media.amazonwebservices.com/AWS_Cloud_Best_Practices.pdf
https://d36cz9buwru1tt.cloudfront.net/AWS_Building_Fault_Tolerant_Applications.pdf

I hope that this assists you today. Should you require further information, please do not hesitate to reach out."

Amazon EC2	".ebextensions File directive not creating file.
I have a need to mitigate a slowloris attack on my ELB application.
To do this i have decided to add rate limiting,
by using the nginx proxy.

I've added an additional .config file under the .ebextensions folder
When i deploy my app via the EBCLI I cannot see the file.

Is my config correct?
Is this file being created, or overwritten somewhere along the process.

File here:(can't upload it)
----
files:
""/etc/nginx/conf.d/00_rateLimit.conf"" :
group: root
mode: ""000755""
owner: root
content: |
http {
  limit_req_zone $http_x_forwarded_for  zone=one:10m rate=1r/s;
  server {
  location / {
  limit_req zone=one burst=5;
}}}
---

Edited by: Josef on Aug 28, 2016 10:57 PM"

Amazon EC2	"AMI image creation stuck at 'pending'
Hi all,

I have an AMI due for retirement by AWS, so I need to make an AMI snapshot and launch from it, but it is stuck at 'pending' for about an hour now. (ami-844177e7)

Should I wait a little longer, or is this something I need addressed?

Thanks in advance!"

Amazon EC2	"Re: AMI image creation stuck at 'pending'
Oh, and the instance ID is: i-59ac0287.

Thanks.

Edited by: d_mac_ on Aug 28, 2016 6:57 PM"

Amazon EC2	"Re: AMI image creation stuck at 'pending'
Okay so it has been two hours now, so I tried stopping the instance. Now the instance is stuck at the 'stopping' stage. Can anybody suggest what I should do next?

Image ID: i-59ac0287

Thanks."

Amazon EC2	"Re: AMI image creation stuck at 'pending'
Okay, the slow creation/stopping/starting seems to have cleared now. (Just took a lot longer than normal.)

Closing the thread as 'answered'."

Amazon EC2	"instance will not stop
Hi,

Is there a problem in us-east-1? I've not been able to stop an instance through the console, it's been in a ""stopping"" state for over 40 mins now. I've also tried a few force stops without any luck.

i-b8057094

cheers

Joe"

Amazon EC2	"Re: instance will not stop
it took a few hours at least but it was stopped when i got up this morning. Does anyone else experience this?"

Amazon EC2	"Re: instance will not stop
I've been having the same issue in Asia-Pacific (Sydney) today with an instance stuck at 'stopping' and AMI creation stuck at the 'pending' stage. 

A lot of the recent threads here are 'stuck' stopping, imaging, etc."

Amazon EC2	"Instance stuck in "" shutting-down"" state
Hi there

We have an instance which we are trying to shut down but it is stuck in the ""shutting-down"" state for a week now.We also need to delete this instance once it is shut down.
Can someone please assist.
Location: EU (Ireland)
Instance ID: i-662e1210"

Amazon EC2	"Re: Instance stuck in "" shutting-down"" state
Hello, 

It looks like there may have been a failure of the underlying hardware while you were attempting to stop this instance. I've engaged our EC2 teams to further investigate. 

Regards,
Nick"

Amazon EC2	"Re: Instance stuck in "" shutting-down"" state
Hello,

The instance has been shut down.

Please let us know if you have any questions."

Amazon EC2	"EC2 instance inaccessible
Hi -

My EC2 instance (which is used to host a website) has stopped working completely in the past 72 hours. It is no longer accessible using the website address, public DNS, public IP or any other method. The EC2 Management Console shows the instance state as ""running"", and a reboot of the instance briefly made the instance accessible by public DNS before ceasing to work again. The status checks all show as fine. Before these recent problems, the EC2 instance had been running perfectly since January. The log looks fine (but I'm not an expert). Here are the relevant details:

Instance ID: i-8007ea47
Instance Type: t2.micro
Public DNS: ec2-54-201-176-115.us-west-2.compute.amazonaws.com
Public IP: 54.201.176.115

Any help would be greatly appreciated!

Zachary"

Amazon EC2	"Instance stuck - not stopping, not force-stopping
Instance ID: i-8bacf105 (Singapore region).

This instance is completely stuck. I am trying to stop it for an hour now. It simply doesn't stop. I have already tried the Forced Stop option; that too hasn't worked."

Amazon EC2	"Re: Instance stuck - not stopping, not force-stopping
Hello,

There appears to be an issue with vol-be74d23a that is preventing this instance from stopping.

Can you try detaching this volume from your instance? It's mapped to /dev/xvdf at the moment.

Let me know how you get on.

Richard"

Amazon EC2	"Re: Instance stuck - not stopping, not force-stopping
I thought the volume problem is the effect of the instance not shutting down. I am unable to detach the volumes either. These two volumes were attached to it yesterday:

vol-be74d23a
vol-1c74d298

For both these, I get this message when I try to force-detach the volumes:

vol-be74d23a (y018-pv01): Unable to detach volume 'vol-be74d23a' from instance 'i-8bacf105'. The instance is not in a state in which volumes can be detached.
vol-1c74d298 (y018-pv02): Unable to detach volume 'vol-1c74d298' from instance 'i-8bacf105'. The instance is not in a state in which volumes can be detached."

Amazon EC2	"Re: Instance stuck - not stopping, not force-stopping
Hello,
I have engaged our EBS Service Team to investigate on the issue and I will get back to you as soon as we have feedback from them.

Regards
Ale"

Amazon EC2	"Re: Instance stuck - not stopping, not force-stopping
Hi,

I heard back from the service team and the issue has been resolved. Your instance is now in a stopped state. You can start it at any time."

Amazon EC2	"EC2 Instan accesible by Public DNS but not using Public IP from inside AWS
Hi,
one CentOS EC2 instance was working fine for months, but today stopped working. We are trying to figure out why, no changes on firewall nor security groups were made.

The most strange behaviour we see is this: from another EC2 instance, we try telnet to its pulic DNS name and it connects, ut when using its Pulic/Elastic IP, the connection is not estalished. This is the sequence:

root@m1 ~# telnet ec2-54-174-113-227.compute-1.amazonaws.com 8080
Trying 172.31.44.210...
Connected to ec2-54-174-113-227.compute-1.amazonaws.com.
Escape character is '^]'.
^C
Connection closed by foreign host.
root@m1 ~# telnet 54.174.113.227 8080
Trying 54.174.113.227...
^C
root@m1 ~# 

Any ideas where to look?

Thanks!
Sebastian"

Amazon EC2	"Re: EC2 Instan accesible by Public DNS but not using Public IP from inside AWS
Hi,

Looks like this is working fine for me:
$nc -vz 54.174.113.227 443
ec2-54-174-113-227.compute-1.amazonaws.com http://54.174.113.227 443 (https) open
$ nc -vz 54.174.113.227 80
ec2-54-174-113-227.compute-1.amazonaws.com http://54.174.113.227 80 (http) open
$ nc -vz 54.174.113.227 8080
ec2-54-174-113-227.compute-1.amazonaws.com http://54.174.113.227 8080 (http-alt) open

Have you tried checking from other locations?"

Amazon EC2	"Don't see my instance anymore and can't get access to my app !
Hi, 

I installed Odoo on AWS : http://ec2-52-42-77-176.us-west-2.compute.amazonaws.com:8069/fr_BE/
Everything was fine but since today, I can't get access anymore to Odoo (Internal Server Error 500) and when I get connected to AWS, I don't see my instance anymore.
I tried to install it again but it doesn't seem possible...
Please... Can you help me ?
I really need to use it on monday !!
Thanks in advance !"

Amazon EC2	"Re: Don't see my instance anymore and can't get access to my app !
Hi,

Can you confirm the instance id of your app server? From what I can see, your instance is still there. Is this your instance id:
i-0b2dfdf0a923e11cd

I believe if you aren't seeing your instance, you may be in the wrong region. Try changing the region dropdown to Oregon as that appears to be the region your instance is located. Additionally, it seems your instance is fine at this time. I suggest checking your instance's logs and verifying that the instance is healthy. Likely, you ran your instance out of memory, which caused the application to stop performing."

Amazon EC2	"Instance i-bf32cb78 stuck in shutting-down state
I have an instance that I've absent-mindedly left running since I finished classes in May. I received an email today notifying me that it will be shut down on Sept 2. I decided to go ahead and terminate it now so I don't forget (again).

Unfortunately the instance is stuck trying to shut down. If at all possible, I would like assistance for it to be terminated."

Amazon EC2	"Re: Instance i-bf32cb78 stuck in shutting-down state
Hi,

From what I see, it seems your instance has been terminated. I don't see any instances listed in your account. Can you confirm if this is the case?"

Amazon EC2	"Request to Remove Email Sending Limitations
Hi,

We've sent two ""Request to Remove Email Sending Limitations"" (first one was about a week ago) but didn't receive any answer yet.

How can we know the request was handled by Amazon? Both requests are not in the list of requests in our account."

Amazon EC2	"Re: Request to Remove Email Sending Limitations
Hi,

Thank you for reaching out to us.

Having a look at the account associated with your forum account I am not seeing any enforced limits for port 25.

I also see that you have already requested reverse DNS records for your Elastic IP address.

I apologize for the lack of communication.

Regards,
Coenraad"

Amazon EC2	"Re: Request to Remove Email Sending Limitations
I'm not speaking about 25 port limitations.
I filled this form twice, but didn't receive any answer:

https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

We have backup MX-server configuration on this IP for our company Exchange, so it will receive/send mail when primary MX (Exchange) is down."

Amazon EC2	"Re: Request to Remove Email Sending Limitations
Hi there, 

There was a response to your inquiry sent on the 29th of December to confirm that this has been completed. 

I have sent you a private mail with the details of the email as well. 

Please let us know if you require any further assistance. 

Kind regards, 
Belynda"

Amazon EC2	"Re: Request to Remove Email Sending Limitations
Hi,

I want to know that  how much time it take to complete process of request to remove email sending limitations of a particular instance?"

Amazon EC2	"Re: Request to Remove Email Sending Limitations
There is not a set time limit on this. This comes down to us being able to handle the request when we can get to it."

Amazon EC2	"Invalid: (InstanceType: c4.8xlarge,Os: generic,Addressing: nat)
When I click ""Launch"" in the spot instance wizard I get the following error message:

    Invalid: (InstanceType: c4.8xlarge,Os: generic,Addressing: nat)

What about these three things is invalid? If they're invalid, why did the wizard allow me to select them in the first place? Unfortunately the error message provides no other details, so I'm not sure what to do. Thanks for any help."

Amazon EC2	"Re: Invalid: (InstanceType: c4.8xlarge,Os: generic,Addressing: nat)
Hello,

Can you tell us which region you got this error? Also if you can attach screenshot, it would be great.

We will look forward to hearing from you."

Amazon EC2	"Re: Invalid: (InstanceType: c4.8xlarge,Os: generic,Addressing: nat)
I just ran into the same issue.

You're trying to launch with ""availability zone: no preference"", but us-east-1c does not support VPN.

Just go back to the first page and unselect region 1c."

Amazon EC2	"IPv6 in EC2 security groups
I recently got a new router and am now finding myself on an IPv6 address for the first time. I am trying to add my new IPv6 address to my EC2 VPC security group and I keep getting an error, it seems to want an IPv4 address. How can I add an IPv6 address?"

Amazon EC2	"Re: IPv6 in EC2 security groups
Hi,

VPCs currently cannot be addressed from IPv6 IP address ranges. However, we will consider the possibility in the near future.

Elastic Load Balancing supports both Internet Protocol version 6 (IPv6) and Internet Protocol version 4 (IPv4).  Communication between the load balancer and its back-end instances uses only IPv4 (regardless of how the client communicates with your load balancer). This means that your back-end Amazon EC2 instances do not need native IPv6 support. 

-Ashley"

Amazon EC2	"Re: IPv6 in EC2 security groups
I have not needed to use Elastic Load Balancers before, so I'm unfamiliar with how they work. Are you saying if I set up a load balancer I would then be able to access my VPC over IPv6 from the public internet?"

Amazon EC2	"Re: IPv6 in EC2 security groups
Hello,

To clarify this one, yes the ELB supports IPv6 and IPv4 both. An ELB can accept IPv6 traffic and pass it to it's backend instance via IPv4 as the internal communication between EC2 instances in the backend and ELB will only support IPv4 at this stage.

It's explained in detail here - http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/using-elb-ipv6.html

However, it depends and use of a ELB might not be the ideal solution for your use case. Because, the idea of a load balancer is to balance the incoming traffic between multiple backend instances serving the same application/website. So if you are merely trying to connect to a particular EC2 instance for example via SSH and you want to allow your security groups to be opened for your public IP, you'll need to look at use of a IPv4 address to proxy through.  

hope this explains,
Best regards,
Amo"

Amazon EC2	"Re: IPv6 in EC2 security groups
I know this is an old thread, but I'm wondering if this is still the case, and if there's any plan to update.  My new ISP is using IPv6 and now I'm suddenly unable to connect to my services."

Amazon EC2	"Re: IPv6 in EC2 security groups
Having the same problem as we changed to internet access through a temporary ISP and unable to connect."

Amazon EC2	"Re: IPv6 in EC2 security groups
it looks like IPv6 is getting more crucial for AWS.  over a year now and still now and still no word on how IPv6 will be done.  for example, there should be enough IPv6 allocations for every VPC to get an IPv6 /64 chunk directly, making a dual-stack VPC so instances can even make outbound connections using IPv6. yes, there is a lot to do to make IPv6 work, such as API changes and web console changes.  hopefully there won't be a need for an IPv6 EIP (make all IPv6 be public addresses each VPC being a /64). i am already doing IPv6 outside of AWS and hope this happens soon. one issue to consider is that AWS users will likely start making connections between VPCs in different regions without realizing that is not secure (not encrypted ... need to setup IPsec ... i need to make a script to automate that)."

Amazon EC2	"Re: IPv6 in EC2 security groups
Had the same problem recently and found a quick fix.  I just Googled for ""my ipv4"" and found a site that gave me a v4 version of my IP.  It seems many ISPs actually give you both v4 and v6.  Putting the v4 address into my security group rule worked."

Amazon EC2	"Re: IPv6 in EC2 security groups
Hi,

I'm going to try to address as many of the previous comments as I can really quickly. The way IPv6 and IPv4 work via ISPs is that IF a request goes out that is on an IPv6-only ISP, usually they have a gateway that handles all IPv4 end addresses. While IPv4 can be encapsulated in IPv6, it inherently has to be converted via 6to4 NAT translation.[1] If an ISP is IPv6 only, they should have a gateway that performs this function. If that's the case, you should be able to find that address that you are connecting through similar to the method mentioned by RyanShirley. Personally, I have IPv6 dual stack at home and you can use something like:

curl -4 https://icanhazip.com

It will force curl to use ipv4 to connect. This should return an ipv4 address that you should be able to add to your security group. Additionally, amazon has checkip.amazonaws.com which you can connect to via:

curl http://checkip.amazonaws.com

skaperen257: there are no restrictions on IPv4 addresses in your VPC or in EC2 classic. As far as I know, there are not any constraints on IP addresses for IPv4. If/When IPv6 becomes part of the plan for EC2 as a whole, it would be discussed on the AWS blog when/if ready to go live. The things you are discussing around changes are actually a bit myopic in terms of what is needed to change in VPC. A change like IPv6 in VPC is more complex than just changing web console and APIs. 

VPC is actually quite complex (I actually recommend you watch the re-invent video from last year where we discussed how VPC works. Eric Brandwine talks about VPC for the second time, he did another talk at reinvent a few years prior).[2] Due to those complexities, IPv6 would be quite a complex undertaking as it's not just simply setting up dual-stack.

Anyway, IPv6 has so much address space that yes, it would be quite easy to do a /64 allocation for every customer probably multiple times over. The number of IP addresses in IPv6 is vast, even if IANA has limited actual addresses as per an article I found on the vastness of IPv6.[3]

This is pure speculation, but I suspect there will still be a need for EIPs as ISPs are not assigning static IPv6 (as is the case with centurylink, my ISP, as well as AT&T, my former ISP). So, it is likely that these IPs would be assigned via DHCP like the current iteration of VPC. Stop/start would likely cause a public IPv6 to be changed just as it functions today. However, I would again like to point out that this is pure speculation based on current public knowledge of VPC.

We appreciate the interest and I will log these updates with the appropriate team internally to let them know you are interested in getting IPv6 in EC2.

[1] https://en.wikipedia.org/wiki/6to4
[2] https://www.youtube.com/watch?v=3qln2u1Vr2E
[3] https://rednectar.net/2012/05/24/just-how-many-ipv6-addresses-are-there-really/"

Amazon EC2	"503 error EC2 ELB SSL
I have 1 EC2 Instance, which is running WordPress (WordPress powered by Bitnami image from the Marketplace - https://aws.amazon.com/marketplace/pp/B007IP8BKQ).
Everything works fine, I can access both front and back-end of the WP installation running from standard http.

The problem starts when I connect the Instance to the ELB and I'm trying to access the site via the https.

I've run through the process of setting up the SSL certificate using the ACM and applied the cert to the ELB. I've also got the 443 and 80 port enabled on the security group for the EC2 instance. The port forwarding on the ELB is set up for both 443 and 80 to go to 80 and my WP config file is set up to check the HTTP_X_FORWARDED_PROTO header to stop WP getting into an infinite redirect loop.

I think this is all working fine, as I can access the site via the https and browse the pages. However, when I attempt to log in I am redirected to http and to solve this problem I have set wp site url and wp home to go to https URL. This then results in numerous 503 errors (503 Service Unavailable: Back-end server is at capacity). From the AWS Dashboard I can see the Instance is runnig just fine.

Any suggestions on how to get the ELB to work?"

Amazon EC2	"EC2 SSH with Free VPN
I am able to use Putty to SSH to my EC2 instance following the steps outlined here.  However, I am not able to do so if I have a free VPN, like CyberGhost or HotSpot, running.  This is a problem if I am travelling and only have access to a public network.  Is there some way to configure a free VPN so that I can use Putty to SSH to my EC2 instance?

Thanks,
OH"

Amazon EC2	"Re: EC2 SSH with Free VPN
Hi OH 

I suspect that access to your EC2 instances are restricted via your security groups to only a few public IPs. When using the Free VPNs your source IP is changed and blocked by the instance security groups. 

You might investigate creating a bastion host and allow ssh from 0.0.0.0/0 to the bastion host. 
http://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/

Regards
Conrad"

Amazon EC2	"Re: EC2 SSH with Free VPN
Thanks very much for your reply and sorry about my slow follow up.  I have been reading about how to implement this plan.  It seems like it should work with agent forwarding.  I will try to set that up and will get back if I have any problems.

Thanks again,
OH"

Amazon EC2	"Cross Region Proxy and Routing
I have a web application deployed in the Singapore region.  It only has about 25 users and the performance is fine for everyone (including me and I'm in the US) except for one user who is seeing horrific performance.  He's in Northern Europe.  Based on the troubleshooting I've done, it appears to be a routing issue.

I would like to set up a proxy server for him in the Frankfurt region but have it route requests over a more efficient route to the EC2 instance in Singapore.  I tried setting up an Nginx instance to do this but it wasn't much faster.  I'm not sure if there's another AWS service that can solve this problem, API Gateway maybe?

Basically, what I want is a (reverse) proxy in AWS' Frankfurt region and have that route more efficiently through Amazon's infrastructure to our EC2 instance in Singapore.

Any help is appreciated."

Amazon EC2	"New user added - Now Ubuntu user won't login
Hi,

I had setup the default 'ubuntu' user with the private keys I had when I created the EC2 instance. Everything was working, I could SSH and SFTP into the server. 

I have now created a new user and can login with their keys. However, the main 'ubuntu' user can't login. I haven't changed anything in FileZilla so I am not sure what has happened.

Has anyone experienced this before? 

Someone told me there can only be one user that can login to an EC2 instance at any given time, is this correct? If so is there a way to revert back to the 'ubuntu' user account?

Thanks!"

Amazon EC2	"VPS EC2 support is terminated
My new account registered to use Amazon's vps trial. This is the first time I used the vps try amazon but unfortunately when I was experiencing and want to try turning off vps, but I vps terminated. I want to ask technical support amazon reopen vps so I can continue to use and test the service experience of amazon vps. Thank you"

Amazon EC2	"Re: VPS EC2 support is terminated
So you accidentally terminated your EC2 instance in the Management Console? The Free Tier, which new customers qualify for, enables you to run a Linux and/or Windows instance of the t2.micro type for free during the first year. However, this offer isn't tied to any particular virtual server. You should simply be able to launch a new server with the same specifications and have it covered under the same terms."

Amazon EC2	"Instance stuck in stopping state
Hello,

Instance i-120653f4 is stuck in ""stopping state"".
Stop and forced stop not help...
Can you help us please?

Best regards"

Amazon EC2	"Re: Instance stuck in stopping state
Thank you
Instance is stopped now."

Amazon EC2	"Query regarding Auto Scaling group
Hi,

When we create Auto Scaling group, while creating Scaling policy, how will the action takes place if I have created an alarm to trigger when CPU utilization increases above 70% ?

I have configured following three actions :
1) Add 1 instance when CPU utilization is between 70% to 80% ?
2) Add 2 instances when CPU utilization is between 80% to 90% ?
3) Add 3 instances when CPU utilization is between 90% or more ?

As I understand, Action 1st will be processed always when CPU Utilization reaches beyond 70%. Please clarify when the subsequent actions (2nd and 3rd) will be processed ?

Thanks"

Amazon EC2	"Issues with EC2 Classic
We starting working with EC2 in 2009 and have had excellent results ever since.  But the platform has obviously been evolving and it appears that certain recent changes have broken our code.  

We used something that was called ""Amazon C# Library"" at the time which appears to no longer be supported.  It was a set of source code modules that demonstrated how to call the basic functions (RunInstances, TerminateInstances, etc) and used a DLL called Amazon.EC2.dll.  Obviously it didn't support the newer generation, including VPCs and so forth.  

We use the M1 instance type which spins up in EC2 Classic.  Recently I discovered that we were getting an error saying that our security group couldn't be found when starting an instance.  I omitted the security group parameter and it succeeded by using the default group.  Then I got an error saying that the DNS resolution for the endpoint  ec2.amazonaws.com had failed!

Is that endpoint no longer being used?  And has anyone else seen the problem with security groups no longer being found?

From the looks of the SDK it will require a major rewrite of our interface which I would like to avoid if possible.  I've opened a support ticket but would love to hear if anybody else has encountered these issues.

Thanks!"

Amazon EC2	"http resolution through ELB not working correctly
I have the following setup in my ELB

80 -> 80
and 443 -> 80 (with a certificate)

When I go to https://www.example.com it is working correctly

but if I go to http://www.example.com it is not working

If I add the ip of the server to my host file then I can resolve http://www.example.com

54.xxx.xxx.xxx example.com www.example.com

This leads me to believe the problem lies with the LB"

Amazon EC2	"Re: http resolution through ELB not working correctly
I did not have port 80 in my ELB security group

DUH!!"

Amazon EC2	"Access application in EC2 Instance from Internet
Hi All,

I have created a new EC2 instance in free tier and installed some application.I want to access those application from internet using public IP/Public DNS name.In security group I have set inbound request of type HTTP/S from all.But Still now not able to access.
My public IS is coming as 54.255.165.100 and application is running on port 7777 so I have tried using http://54.255.165.100:7777,but when I am running ping command to this public IP from internet I am getting response.

Is there any port level access needs to be provided.


Thanks
Baharul Islam

Edited by: Baharul on Aug 21, 2016 8:53 PM"

Amazon EC2	"Re: Access application in EC2 Instance from Internet
If you don't have a reverse proxy configured on your instance (listening to ports 80 or 443 and redirecting traffic to your application), adding an HTTP/S rule to your security group won't work as your application is listening on port 7777.

In order to access port 7777 on your instance, you must add an inbound TCP rule to your security group with 7777 as the port range, and then you can use http://54.255.165.100:7777/ .

If you select HTTP as the rule type, AWS forces the port number to 80 (or 443 for HTTPS)."

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Hi ,

I have set inbound TCS port range but still same issue.
type:All TCP
Protocol:TCP
Port Range:0-65535
Source :All"

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Is your web server configured to listen on all network interfaces?"

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Hi ,

I am not sure about about browser setting for listen all network interfaces but using browser with default setting and able to connect with services/application running on intranet.

Also I have tried to ping from external command prompt but not getting any response.

Please find the attached document.
https://www.dropbox.com/s/yzool4in88pyn02/AWS%20Configuration.docx?dl=0

Please let me know for any specific ocnfiguration if need to change."

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Hi ,

Any one please provide some more details on this."

Amazon EC2	"Re: Access application in EC2 Instance from Internet
If you can't ping your instance, the problem is not with the security group (your security group is wide open, consider removing all rules but the one for TCP 7777, and add a new one ""All ICMP"").

Please check the following:

Make sure that's your instance public IP: if you aren't using Elastic IPs, the instance's IP might have change.

If your instance was launched on a VPC: check the ACLs for that VPC as it might be denying all traffic (http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html)

Depending on the AMI you used for your instance (specially if you didn't used Amazon's), check the instance's firewall rules."

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Hi,
After adding ""All ICMP"" in security groups ,I can get response from Ping command.But still now port is not working.

I have checked firewell role ans looks good.

Please find below link for setting document.

https://www.dropbox.com/s/yzool4in88pyn02/AWS%20Configuration.docx?dl=0 

Please let me know what change needs to be done .

Thanks"

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Returning to ""Is your web server configured to listen on all network interfaces?""... this has nothing to do with the browser, but the network interface the webserver binds to.

If your webserver is configured to listen to other than 0.0.0.0 (which binds to all network interfaces), it won't answer to incoming connections from the public ip (only from localhost).
Depending on which webserver you are using, the configuration and defaults are different so you will need to look for it.

Here is an example for tomcat:
http://stackoverflow.com/questions/21303941/how-to-set-a-ip-address-to-the-tomcat"

Amazon EC2	"Re: Access application in EC2 Instance from Internet
Issue was due to firewall blocking from AWS instance.After turning of windows firewall rule it is working now.

Thank you all for your help.

Thanks
Baharul Islam"

Amazon EC2	"Poor network throughput with m4.xlarge
Hello,

We're running a very bandwidth intensive service and are running an m4.xlarge instance in US-West, which is advertised as having high network throughput. Transfers top out at around 350Mbps to Singapore (even over 32 concurrent TCP sessions). We'd like to see 1Gbps throughput really, and we've budgeted for that amount of data transfer (~330TB/month).

However, we've just tried a much larger instance with 10Gbps (m4.10xlarge), and we're now seeing almost 900Mbps, which is much closer to what we want. This is all very repeatable. This demonstrates very clearly that it's the instance type or the networking characteristics that it carries.

My questions are as follows:

1) Are we expecting too much from an m4.xlarge?
2) Do we really need to go to an m4.10xlarge?
3) Any other suggestions?

Thanks!"

Amazon EC2	"Need help to add on php
I need help on php module to add following on my EC2 Instance Red Hat Linux Instance:

eAccelerator
mbstring
mcrypt
mysql
mysqli
ssh2
soap
suhosin
Xmlrpc
cybersource
Pdftk"

Amazon EC2	"Re: Need help to add on php
done with this question"

Amazon EC2	"OVA Import: ServerError: an internal error has occurred during conversion
Hello, I'm trying to import an OVA and the conversion succeeds, but getting the following error and I do not yet see the VMDKs imported volumes on EC2.

{
    ""ImportImageTasks"": [
        {
            ""Status"": ""active"", 
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""..."", 
                        ""S3Key"": ""....ova""
                    }, 
                    ""DiskImageSize"": 841766912.0, 
                    ""Format"": ""VMDK""
                }, 
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""..."", 
                        ""S3Key"": ""....ova""
                    }, 
                    ""DiskImageSize"": 215399936.0, 
                    ""Format"": ""VMDK""
                }, 
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""..."", 
                        ""S3Key"": ""....ova""
                    }, 
                    ""DiskImageSize"": 35719680.0, 
                    ""Format"": ""VMDK""
                }
            ], 
            ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."", 
            ""ImportTaskId"": ""import-ami-fh7gcxcb""
        }
    ]
}


the task still shows 'active' which is a bit strange.  I've verified all the prereqs are met for the OVA import."

Amazon EC2	"Re: OVA Import: ServerError: an internal error has occurred during conversion
Hello, 

Taking a look at the import task, I see that the rc.local was symlinked from a directory that was itself symlinked with broken absolute paths. Setup symlink to point to relative paths to the directory and file and this should work just fine. 

Regards,
Nick"

Amazon EC2	"Re: OVA Import: ServerError: an internal error has occurred during conversion
So strangely enough that conversion seems to have completed on its own.

But I have two more in the exact same state.  
import-ami-fgvw3wo2
and
import-ami-fgttr9ub

I'm sure it's something I'm doing wrong that isn't mentioned in the AWS conversion prep documentation.  But I can't seem to nail down what it is..."

Amazon EC2	"Re: OVA Import: ServerError: an internal error has occurred during conversion
Thanks for looking at that Nick.  Good to know that broken symbolic links can break the import like that.  I'll check the same for the more recent import tasks and see what's going on.

Thanks again
Russ"

Amazon EC2	"Re: OVA Import: ServerError: an internal error has occurred during conversion
Hi,

I too my getting this error , my status shows active but after progressing for 41% i got internal error 

I tried to convert many OVA's but all of them result in the same error ? Is there a way to view the logs

Can some please take a look and let me know what could be the error 




aws ec2 describe-import-image-tasks --cli-input-json ""{ \""ImportTaskIds\"": , \""NextToken\"": \""abc\"", \""MaxResults\"": 10 } ""



{
    ""ImportImageTasks"": [
        {
            ""Status"": ""active"",
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""puneavayabucket"",
                        ""S3Key"": ""CM-Simplex-07.0.0.0.440-e55-0.ova""
                    },
                    ""DiskImageSize"": 685228544.0,
                    ""Format"": ""VMDK""
                },
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""puneavayabucket"",
                        ""S3Key"": ""CM-Simplex-07.0.0.0.440-e55-0.ova""
                    },
                    ""DiskImageSize"": 103444992.0,
                    ""Format"": ""VMDK""
                }
            ],
            ""Description"": ""Ubuntu OVA"",
            ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."",
            ""ImportTaskId"": ""import-ami-fg4ldagz""
        }
    ]
}

Edited by: developer on Aug 26, 2016 2:57 AM"

Amazon EC2	"Instance i-203ceac9 stuck in stopping state
I tried to stop instance i-203ceac9, and now it is stuck in the ""stopping"" state.  Could someone take a look a it?

Thanks in advance

Edited by: ClipOps on Aug 16, 2016 12:50 PM"

Amazon EC2	"Re: Instance i-203ceac9 stuck in stopping state
Hi, I think I'm having the same problem.
My instance ID is i-0749a79e
See attached screenshot.
Been stuck like this for over a day. Very unusual behavior - usually they terminate within minutes.

Please tell me I'm not getting billed for a full day of ""stopping"".

Edited by: apoliakov on Aug 16, 2016 1:10 PM"

Amazon EC2	"Re: Instance i-203ceac9 stuck in stopping state
After about 2 hr my instance finally stopped.   Please ignore my request.

Thanks"

Amazon EC2	"Re: Instance i-203ceac9 stuck in stopping state
Hello apoliakov, 

I see your instance is still stuck in the stopping state, and this is due to underlying hardware failures of the instance. I've pushed this up to our EC2 teams to investigate further and clear this out for you. 

We'll update you with what they find. 

Regards,
Nick"

Amazon EC2	"Re: Instance i-203ceac9 stuck in stopping state
Hello,

It appears that instance i-203ceac9 is back up an running. Please let us know if there is anything else that we can do to assist.

Kind regards,
Chris"

Amazon EC2	"Instance ID i-f130c65a stuck in shutting-down state since yesterday
Hi,

Instance ID i-f130c65a gets stuck in shutting-down state since yesterday.

Can you terminate it for us?

Instance ID i-f130c65a
Instance state shutting-down

Thanks,"

Amazon EC2	"Re: Instance ID i-f130c65a stuck in shutting-down state since yesterday
Hello,

Instance i-f130c65a has successfully terminated. Apologies for any frustration this may have caused!

Kind regards,
Chris"

Amazon EC2	"Status Check Failed for instance i-abba0c30
Our instance (i-abba0c30) was down for around 40 mins between 25 Aug 2016 9:40 PM UTC to 25 Aug 2016 10:15 PM UTC. Both status checks shown as failed at that time. When we rebooted the instance it is up in running state. When I checked in syslog there was no entry at that time. Also when I checked the aws instance log after rebooting i can not find any exception. Could you point to the right direction to trouble shoot the cause of the status failure."

Amazon EC2	"Re: Status Check Failed for instance i-abba0c30
Hello,

Sorry about this! There was a hardware issue with the physical host your instance (i-abba0c30) was running on. The problem has been fixed and your instance appears to be running without any issues now.

I apologise for the downtime this may have caused. Unfortunately, in some cases, hardware will fail without warning as much as we try to architect around this ourselves.

Kind regards,
Chris"

Amazon EC2	"Sudden High CPU Usage - T2.small/Wordpress
I am running LAMP on Amazon Linux using this tutorial. The site had been running fine for weeks, until at about 16:00 yesterday, my CloudWatch alarm went off warning me of constant high CPU usage (averaging 85%).  This continued for the next few hours as I tried to diagnose the problem.

top command showed 10 or so instances of httpd were collective eating the CPU. The only modification I made to the stack was to /etc/httpd/conf/httpd.conf 
<IfModule prefork.c>
 StartServers       10
 MinSpareServers    10
 MaxSpareServers   10
 MaxClients       10
 MaxRequestsPerChild  4000
</IfModule>

We dont have regular traffic is going to the site according to Google analytics. I did notice about 180 inbound tcp connections a second using netstat. I am new to this, so not sure if that is unusual or not.

If anyone can help I would really appreciate it. Thanks"

Amazon EC2	"Need help with attaching Debian volume
Hi,

I've managed to lock myself out of a Debian machine.

Does anyone know how to move the volumes to another machine to edit?

The machines are throwing the error:
""Error attaching volume: The instance configuration for this AWS Marketplace product is not supported. Please see http://aws.amazon.com/marketplace/pp?sku=8fvdn95s5ev33cprr62nq3q7t for more information about supported instance types, regions, and operating systems.""

Previously i was able to move Debian volumes between instances.

Edited by: Jason Howard on Aug 16, 2016 10:25 PM"

Amazon EC2	"Re: Need help with attaching Debian volume
Anyone able to help with this issue?"

Amazon EC2	"Packages requests for Amazon Linux AMI
Hi,

Can you make these geospatial libraries available through yum install in Amazon Linux?

Geospatial libraries for django including PROJ.4 and GDAL. (I think GEOS is available in AMI 14.09). There are a few other libraries on the django doc page but is not always required"

Amazon EC2	"Re: Packages requests for Amazon Linux AMI
Hello,

Thank you for your feedback. I have passed your feature request to the appropriate team.
Unfortunately, I cannot comment on any timelines or release dates associated with our future product and feature releases.

Please keep your eyes on the AWS blog, and our website for announcements and releases:

http://aws.amazon.com/blogs/aws/
http://aws.amazon.com/about-aws/whats-new/

Please let me know if you have any questions or need additional information.

Best Regards, 

Ahmed H."

Amazon EC2	"Re: Packages requests for Amazon Linux AMI
I'd be also interested in a recent version of those libraries ; Python bindings for GDAL are available on PyPI, but the GDAL version available in EPEL is much too old (1.7.3) to let me compile them properly on Amazon Linux -- they need at least 1.10.x."

Amazon EC2	"Re: Packages requests for Amazon Linux AMI
Just wanted to add another request for GDAL. The EPEL version is 1.7.3 which was released in 2010 and lacks many current features. Would be great to see a more recent version in one of the Amazon repos."

Amazon EC2	"Re: Packages requests for Amazon Linux AMI
I would also like to add a request for a more recent version of GDAL and related libraries.  From what I can tell, the best way for that to happen is for Amazon to support epel 7, is there any time frame for that happening?"

Amazon EC2	"Re: Packages requests for Amazon Linux AMI
I'll add another vote for this one.  Specifically, 1.11.4 would be a great thing to have.

I'm working on building an RPM that will integrate with the current epel loadout (we want to run some GDAL-linked python in an EMR cluster) - I'll post here if/when I have something useful."

Amazon EC2	"Instance stuck in shutting-down state
Hi,

I was trying to shutting down the instance since yesterday. but it still in shutting-down state. also, I cannot force detach the volume vol-cb851418.

Instance ID : i-e8b9a874
Volume ID : vol-cb851418
Zone : us-east-1c

Can you terminate it forcely please?

Thank you."

Amazon EC2	"Re: Instance stuck in shutting-down state
Hello,

I apologize for the issue you have encountered with the EC2 instance in question. I have engaged the team to further investigate and provide corrective action. The team will provide an update as soon as more information becomes available.

Regards,
Mohsin"

Amazon EC2	"Re: Instance stuck in shutting-down state
Hi Mohsin,

Thank you so much for your prompt reply and taking action. this instance is r3.8xlarge which is quite expensive and we couldn't use it for more than 2 days. I'm wondering it is considered in payment or not.

Thank you so much."

Amazon EC2	"Re: Instance stuck in shutting-down state
Hi,

Unfortunately our internal teams are still working to have your instance's issues resolved so it can finish terminating. However, you are not charged for any instances that are not in the running state, so you don't have to worry about the cost of the r3.8xlarge. 

Best Regards,
Omar S."

Amazon EC2	"Re: Instance stuck in shutting-down state
Hi,

I got an email from AWS. and email was related to this post.
Can you explain what was the root cause of this issue? Is that volume issue or instance issue? that will be very helpful for preparing the future incidents.

Thank you so much.


Dear Amazon Web Services Customer,

Your volume experienced a failure due to multiple component failures and we
were unable to recover it. Although EBS volumes are designed for reliability,
including being backed by multiple physical drives, we are still exposed to
durability risks when multiple concurrent component failures occur before we
are able to restore redundancy. We publish our durability expectations on the
EBS detail page here (http://aws.amazon.com/ebs/details).

Account Number: ******

Availability Zone: UNKNOWN

Impacted Resource Identifier: vol-cb851418"

Amazon EC2	"Re: Instance stuck in shutting-down state
Hello,

This was a volume issue. 

Despite the best efforts of our EBS team, vol-cb851418 has failed and is unrecoverable. Multiple and extraordinarily rare failures of the underlying hardware components meant it was not possible to recover any data from it. If you have previous snapshots of the volume you can launch new volumes from them.

On behalf of AWS, I apologize for the inconvenience this incident has caused you.

Regards,
Tim"

Amazon EC2	"Volume stuck detaching
I have a volume that I tried detaching from an instance. I tried a regular detach, then a forced detach and it is still in detaching state after the weekend. The instance it was connected to no longer exists. I really just want it detached so I can remove it. Can someone at aws help?  Volume ID is vol-caef09a5.

Thanks,
Steve"

Amazon EC2	"Re: Volume stuck detaching
Hi,

I apologize for the inconvenience. I will request the EBS team to look into this issue.

In the mean time, the fastest way for you to proceed is to take an EBS snapshot of this volume and create a new EBS volume from that snapshot. If you are able to successfully migrate your data using this method into a new volume, you can proceed with the new volume and attach it to any other instance.

Regards,
Chaitan B."

Amazon EC2	"Re: Volume stuck detaching
Thank you, I have the data already, just need to remove the volume."

Amazon EC2	"Re: Volume stuck detaching
Just following up, haven't seen any changes in 3 days with this volume in a detaching state."

Amazon EC2	"Re: Volume stuck detaching
Hi,

Thanks for your patience and sorry for the inconvenience. It should now be detached.

Regards,

Tariq
Amazon Web Services"

Amazon EC2	"Re: Volume stuck detaching
I too have a volume that is stuck in detaching state for several hours now vol-0fc857008ca88f3cb.

Actually the problem is bigger than this. I had mounted this volume to my instance i-03fec99a403db63cb. The mounted volume stopped responding. Doing ll on the mount would just hang. I decided to detach the volme and then force detach. 

Now it is stuck in detaching state.

I was considering migrating from my current provider to aws for all my dc needs - but I am not very confident about aws now. I am hoping this is a very rare thing.

I have been evaluating aws only for a week now."

Amazon EC2	"Re: Volume stuck detaching
Hello,

Volume stuck detaching is very rare issue, I have asked operations team to investigate this issue. We will update this thread with an update soon.

Regards,
Umair A."

Amazon EC2	"Re: Volume stuck detaching
Hello,

I have sent you a PM regarding volume vol-0fc857008ca88f3cb.

Regards,
Tim"

Amazon EC2	"Instance stuck in stopping mode
My instance  has been stuck in stopping mode for almost 48 hours. I even tried force a stop but nothing happens.

The instance is i-1e3796db

How do I restart it without losing the instance and all the data?

Thanks."

Amazon EC2	"Re: Instance stuck in stopping mode
Hello,
your instance is in stuck-stopping state due to an issue with your root volume vol-5fc4fdaa 30 GiB gp2.
I have engaged our EBS Service Team to work on it and I will update you as soon as I get feedback from them.

Kind regards,
Ale"

Amazon EC2	"Re: Instance stuck in stopping mode
Grazie Ale,

One question, it's now almost four days the instance is stuck. 

Is this typical of Amazon Web Services? It's kind of scary if I had a mission critical instance."

Amazon EC2	"Re: Instance stuck in stopping mode
Hello,

Thank you for your patience while our EBS Service Team investigated the issue. Your instance is now in a stopped state. We apologize for this problem. Even though your systems are in AWS’s cloud, the possibility of hardware/software failure still exist. 

If you have not already done so, consider taking snapshots of critical volumes or an AMI of the instance. If you are to encounter this problem again you can launch new instances from snapshots or AMIs.

https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-creating-snapshot.html
https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html

Regard,
Tim"

Amazon EC2	"ami user permmisions
hi,

i want my AMI user to have access to specific instances. I don't want every user to have access in all instances. I have read that we have the option to make our policies. I have read some tutorial but i tried and did't work. Can you please help? Send me an example? should i try to make my own our some other of the 2 option we have in the policies.

thank you"

Amazon EC2	"Re: ami user permmisions
Hello,

It is possible to allocated resource level permissions to IAM users. Here are some templates that might be helpful in achieving this:

http://blogs.aws.amazon.com/security/post/Tx29HCT3ABL7LP3/Resource-level-Permissions-for-EC2-Controlling-Management-Access-on-Specific-Ins

Please let us know if you have any questions while following these steps. We will be glad to help you out.

Regards,
Anup"

Amazon EC2	"Re: ami user permmisions
Hi,

thank you for your time. I have tried to make my own policy by using one of your examples:

{
  ""Version"": ""2012-10-17"",
  ""Statement"": [
    {
      ""Action"": [
        ""ec2:StartInstances"",
        ""ec2:StopInstances"",	  
        ""ec2:RebootInstances"",
        ""ec2:TerminateInstances""
      ],
      ""Condition"": {
        ""StringEquals"": {
          ""ec2:ResourceTag/Ami_user"":""true""
        }
      },
      ""Resource"": [
        ""arn:was:ec2:::instance/*""
      ],
      ""Effect"": ""Allow""
    }
  ]
}

The validator says it's right but the simulation brings this error : Permission denied   Implicitly denied (no matching statements)

What should i do?

P.S.In one instance of mine i have put the tag : key:Ami_user value ElKib_T2. Although i have add the policy to a user.The user now have no access at ec2 at all."

Amazon EC2	"Ec2 instance can no longer make outgoing connections
I have a two-fold problem.  I have a single ec2 server - linux Instance ID i-a27ed04e.  It's been running for years.  A week ago I accidentally halted it.  I was pretty sure I had it assigned an elastic IP address.  Problem 1:  when it came up, the ip address had changed.  That was a hassle but I got my domain name pointed to it and am getting back in with ssh and it's receiving email and web traffic.

Problem 2, the bigger one:  I cannot connect to anything from it.  Outgoing email times out (postfix).  It is able to do DNS lookups, but that seems to be the only outside service it can access.

One strange thing, what the aws console says is the public ip address disagrees with the inet addr for both eth0 and eth1.

My firewall setting is 0.0.0.0/0 for outgoing traffic.

The AMI ID is amzn-ami-hvm-2014.09.1.x86_64-ebs 

Any ideas for me?"

Amazon EC2	"Geo Location of IP Addresses
Is there any way to specify the geographic location of the IP address assigned to a new EC2 instance on startup?"

Amazon EC2	"Re: Geo Location of IP Addresses
No, there is no such option.

James"

Amazon EC2	"Re: Geo Location of IP Addresses
The location of an IP address can be assumed based on publicly available data and other information, but it is often highly unreliable. Unfortunately, there is nothing you can do about that. This isn't normally an issue though. Unless this is causing you real trouble, there is no reason to worry."

Amazon EC2	"Re: Geo Location of IP Addresses
Hi,

Please confirm that In Asia Pacific (Mumbai) region, can we have  APNIC IPs (geographic location India for Elastic ip) for our instances or still we wil get USA Elastic ip. As I have checked that we are getting USA (geographic location ) IP In Mumbai region too. Is there any way to get Indian APNIC IPs  ? 

Regards,
Sourabh"

Amazon EC2	"ELB Failure
We have setup a Mariadb 10.1 Galera cluster with 5-7 nodes in a VPC. We use an internal ELB (TCP 3306) with health checks setup using xinetd as described in this blog post:

http://severalnines.com/tutorials/deploying-galera-cluster-mysql-amazon-vpc

It has worked great, but then all of a sudden at around 7:30 pm on 8/23 we started getting alerts of website errors and long response times. We investigated further and found that periodically our services could not connect to the db, it would time out. This happened all of a sudden. We check all systems and everything was good, and then I noticed that the ELB health checks were ""fluttering"" for lack of a better word. Nodes were being turned off and on sporadically, but those nodes were perfectly healthy. I changed the health check from an http:9200/index.html as described in that blog to a simpler tcp/3306 ping health check to see if that would help. It did not, same intermittent, but frequent issue. Finally after much troubleshooting, I instead setup a quick round robin dns to the nodes and bypassed the ELB. The moment I did that and the DNS cache cleared, everything went back to normal and no more errors.

Over the following day I tried building new health checks and removing and re-adding instances and nothing worked to fix this ELB, so I deleted it, and rebuilt it, and it still didn't work right, but I used the same name and saw the history carried over. So I deleted it again and gave it another name and now it worked great, I ran some tests and then switched back OFF of DNS round robin and through the ELB and its all working.

Somehow, that ELB seems to have been corrupted. How can I avoid this in the future and how can I detect this before it goes bad?

Thank you."

Amazon EC2	"Create a MySQL Slave on EC2 or RDS
Hi, 
We have a MySQL database on EC2 which is nearly 3T in size. Is there any way which we could create a slave quickly by cloning the database to another EC2 or RDS and then start configuring mysql native replication, without restoring a backup?

Thanks,"

Amazon EC2	"Can ssh tunnel cause some latency due to security schemas?
hi.

I'm accessing an EC2 instance (T2.large), using ssh -X ... So, I can see GUIs of applications running in the instance.
However, is there some kind of latency here. The image of GUIs is being painted very slowly.

Could it have being caused by the ssh tunnel? That is, could it be caused by the cryptographic schema?  If yes, is there some way to access the instance without using the private key and cryptographic schemas?

2.42 Mbps -> this is my download link
0.62 Mbps ->  this is my upload link

The AWS datacenter is close to me, in the same country (Brazil). Is my bandwidth appropriate to use ssh -X and export display? If not, is there some workaround?

Any hint will be very helpful!
Best regards.
Rodrigo."

Amazon EC2	"Instance:  i-f130c65a stuck in shutting-down state
Hi,

Could you please terminate this instance which is stuck in shutting-down state?

Thanks,"

Amazon EC2	"Re: Instance:  i-f130c65a stuck in shutting-down state
Hello,

Could you please provide the instance ID?

Anup"

Amazon EC2	"Re: Instance:  i-f130c65a stuck in shutting-down state
Hi Anup,

The Instance ID is Instance:  i-f130c65a.

Thanks,"

Amazon EC2	"Is it possible to rename the primary network interface from 'eth0'?
In general, is it possible to rename 'eth0' on an Ubuntu 14.04 instance? Or does Amazon rely on the existence of 'eth0' for instance setup (e.g. assigning IP address).

I have tried playing with udev rules for persistent names. After a reboot, the instance becomes reachable. Its possible that the rename was successful, and causes further issues internally."

Amazon EC2	"Unable to connect out to certain IP/PORT from instance.
Hello. I run a domain name registrar and from time to time we need to query whois servers running on port 43. On one of our instances (i-d1558bdf) we are unable to connect to port 43 at 166.88.19.106. From other instances we can connect out to this same IP/port and from this same instance we can connect out to port 43 at other IP addresses. According to the operator of the whois server there is nothing blocking our IP and we have nothing prohibiting the connection from our end. 

Thank you,
Owen"

Amazon EC2	"Time is incorrectly set every hour
In more than one instance that we are running the time is getting reset at the exact same time every hour. The time gets set forward by about 1min 45sec. I can see the events in the Windows Event log when the time is reset, here is one from a little while ago

The system time has changed to ‎2013‎-‎05‎-‎09T20:24:53.500000000Z from ‎2013‎-‎05‎-‎09T20:23:07.283194600Z.

The correct time when this happened was 20:23:07, but it was set forward to 20:24:53. The exact minute and second past the hour is different on each instance, but it happens at pretty much the same minute and second past the hour every hour on each instance. 

I have a third party app correcting the time automatically, and millisecond accuracy is not necessary for our application, but this sudden variance of nearly two minutes causes major problems in our app because we cannot always reset it quickly enough to prevent incorrect notifications going out to clients."

Amazon EC2	"Re: Time is incorrectly set every hour
I was able to fix this as follows:

First ensure that you can get time from a NTP server, otherwise the instructions below are not going to work.
To test, get the current variance from an NTP server using the following Windows Time service command
w32tm /stripchart /samples:5 /computer:pool.ntp.org /dataonly

In a VPC we had to open UDP port 123 for inbound connections in the NAT security group.

To configure NTP time sync in Windows

1. Registry edit - HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\W32Time\TimeProviders\NtpClient
	Set SpecialPollInterval to polling interval in seconds (we set ours to 60).
2. Registry edit - HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\W32Time\Parameters
	Set Type to NTP
3. Run the following commands to configure the time servers (can use other servers, we're using 4 time servers - 0.pool.ntp.org, time.nist.gov, 1.pool.ntp.org, and 2.pool.ntp.org)
net stop w32time
w32tm /config /syncfromflags:manual /manualpeerlist:""0.pool.ntp.org,0x1 time.nist.gov,0x1 1.pool.ntp.org,0x1 2.pool.ntp.org,0x1""
net start w32time

To review the config
w32tm /query /configuration

To check the sync against a time server
w32tm /stripchart /samples:5 /computer:pool.ntp.org /dataonly"

Amazon EC2	"Re: Time is incorrectly set every hour
Marking my own follow-up as the answer."

Amazon EC2	"Re: Time is incorrectly set every hour
I have since decided that the Windows Time Service is simply not designed to keep the time accurately in sync. I now use the NTP service, which is available for Windows. My adjusted answer is thus:

In the EC2 VPC we had to open UDP port 123 for inbound connections in the NAT security group.

Ensure that you can get time from a NTP server.
Test current variance from NTP server using the following Windows Time service command
	w32tm /stripchart /samples:5 /computer:pool.ntp.org /dataonly

Use the NTP Service from 
https://www.meinbergglobal.com/english/sw/ntp.htm#ntp_stable to replace the Windows Time Service

See 
https://blogs.technet.microsoft.com/askds/2007/10/23/high-accuracy-w32time-requirements/
http://blogs.msmvps.com/acefekay/2009/09/18/configuring-the-windows-time-service-for-windows-server/
for why the Windows Time Service is not suitable for high accuracy (better than 5 minutes)."

Amazon EC2	"creating ELB and instance out of VPC?
Hi,

I need to implement ipv6 to satisfy apple, in order to do that you need to create an ELB and put the instance behind it. 
In order to work, the load balancer and the instance must be created out of a VPC because ipv6 is not implemented in a VPC (as far as I understand and tested (see https://app.loueunnumero.com/api/utility/ping to see the issue)).
The issue is that my account is a new account and every instance and load balancers are created inside the default vpc. I can't create an instance or a load balancer out of the VPC and thus cannot use ipv6 and thus cannot get my app validated by apple.

Help anyone?"

Amazon EC2	"Instance i-1139d6ef  stuck in shutting-down state
Hi,

Could you please terminate this instance i-1139d6ef?

Thanks,"

Amazon EC2	"Re: Instance i-1139d6ef  stuck in shutting-down state
Hi,

The issue preventing the instance from terminating has cleared up, so the instance is now terminated.

Best Regards,
Omar S."

Amazon EC2	"ssh into EC2 instance via tethered android phone fail
Unable to ssh into my EC2 instance when tethering my mobile phone to my laptop computer using the mobile network.

I can connect to my instance from both my desktop computer with a security group rule specifying the static IP address for my home network. I can also connect to the instance from my laptop computer using my android phone tethered to my laptop when accessing through my home wifi network (of course using the same security group).

But when I want to connect from my laptop with phone tethered and using the mobile network, it won't work.

I go into my EC2 console and set a new rule using the ""My IP"" setting while connected to the mobile network. I test that it has set the correct IP address by checking my IP address (typing ""What is my IP"" into a browser will get your public IP). I then make sure I am using the correct newly assigned security group and that I am not connected to the home network via wifi at all. I use the same .pem file and the same terminal command.

No connection. Just sits there blinking at me like Edgar in the film Electric Dreams."

Amazon EC2	"Re: ssh into EC2 instance via tethered android phone fail
Bump.

Edited by: Faulty on Aug 24, 2016 4:35 AM"

Amazon EC2	"Re: ssh into EC2 instance via tethered android phone fail
Did you try opening up the port to all traffic (0.0.0.0/0)?"

Amazon EC2	"Re: ssh into EC2 instance via tethered android phone fail
Just sits there blinking at me like Edgar in the film Electric Dreams.


Huh. There's an image that hasn't gone through my mind for quite some time...

I hate to give you this response, but I think mal might have the right path -- at least temporarily.  It sounds like the packets from the mobile network to your instance are being blocked by the security rules.  If you open those security rules wide, and it works, that will certainly tell us if that's the problem.  Additionally, the logs will tell us what IP address you are actually coming from.  I have a sneaking suspicion that the IP address reported from what-is-my-ip is still not your actual IP.  It might be a sneaky proxy at your mobile provider.
Obviously, you probably shouldn't leave that access open, but it will at least tell us if that security rule is, indeed, what is blocking you."

Amazon EC2	"ec2 windows server 2012 blocking localhost port
I have a ec2 windows server instance setup and linked to a elastic ip address. In the security groups i have inbound http traffic allowed.  I can successfully pass data to IIS that's setup on the ec2.  However, i have another program on the ec2 that's setup to listen on 0.0.0.0 port 12000.  IIS receives the request, however when we pass the request the the listening service on 0.0.0.0 port 12000 no response.

It appears data being sent to the program that's running locally (0.0.0.0) on the ec2 listening on port 12000 seems like it's being blocked.  I've tried using the private ip address, localhost, 127.0.0.1 no difference.

I've checked netstat and the program is listening on 0.0.0.0, the data's being sent to the service, but it appears to be blocked.  I can't figure out what's going on. Any help?"

Amazon EC2	"Re: ec2 windows server 2012 blocking localhost port
I forgot the instance id is i-7b239fe7"

Amazon EC2	"One of my instances won't hold ElasticIP association after shutdown/startup
Hi,

I have a number of instances that I can remote shutdown and they hold their associations with their elasticIP.  All except for 1.   Once the instance is shutdown, there is no more association with the elasticIP within the EIP configuration pane.   All my other instances on/off will still list their linked instance.   Not sure what could be causing this but I sure would like to solve it.

Any ideas greatly appreciated.

Thanks,
Larry"

Amazon EC2	"Re: One of my instances won't hold ElasticIP association after shutdown/startup
Hi Larry,

That is normal behavior for an EC2-Classic instance. If that instance is an EC2-Classic resource rather than in a VPC, then when you stop/start the instance it will lose its Elastic IP and you will have to reassociate. If this is not the case, please provide the instance id of the problematic instance so we can investigate.

Best Regards,
Omar S."

Amazon EC2	"Re: One of my instances won't hold ElasticIP association after shutdown/startup
Welcome to our hell 

We have had to create watchers that will go around and make sure EIPs are associated correctly."

Amazon EC2	"EC2 Instance running but no way access to the server through ssh http etc
I have this issue over a week
and when i start the instance after stop it for a while
I am not able connect through ssh any more
it show connection timeout 
i follow the instruction but didn't help at all
i am not able to connection to http server too
i open all port in the inbound and outbound rules of security group
using multiple private ip and secondary private ip  
try create another network interface
check the subnet, route table, internet gateway
still no luck on connect to the instance
any one can give me some hints to solve this problem"

Amazon EC2	"Re: EC2 Instance running but no way access to the server through ssh http etc
We had the same problem, paid for developer tier support and it was solved within 12hrs. We had previously cancelled our account and when it was re-opened it needed to be removed from isolation. Hope this helps somebody."

Amazon EC2	"Sending SQL server application logging data to AWS cloud watchlogs
Hi,

if all the application logging/tracing data are stored in SQL database.how can i integrate the SQL server to AWS cloud watch and monitor all the logging data using AWS cloud watch?
my SQL server is running in AWS cloud."

Amazon EC2	"Foreign EC2 host in traceroute to my instance - possible MITM?
Hello, i'm facing strange issue with one of my instances (i-ae49e2e3). 

We're watching that from time to time, downloads from that instance are running around 5kB/s. Load, memory, I/O, network bandwidth are looking fine from my point of view (using free/top/iptraf from within the host and Cloudwatch). So i was looking for another reason for so bad network performance. And when trying traceroute, i'm seeing some strange EC2 instance in the result:

#  traceroute -I x.x.x.x
traceroute to x.x.x.x, 30 hops max, 60 byte packets
...... <cutted>
 8  nix4.amazon.com (91.210.16.120)  19.642 ms  19.382 ms  19.365 ms
 9  54.239.107.30 (54.239.107.30)  52.657 ms  51.945 ms  51.929 ms
10  54.239.107.45 (54.239.107.45)  39.778 ms  39.815 ms  39.322 ms
11  176.32.106.248 (176.32.106.248)  40.227 ms  39.523 ms  39.494 ms
12  54.239.42.177 (54.239.42.177)  40.033 ms  39.934 ms  39.923 ms
13  176.32.106.47 (176.32.106.47)  40.687 ms  39.121 ms  39.146 ms
14  178.236.0.110 (178.236.0.110)  39.094 ms  39.327 ms  39.856 ms
15  176.32.107.13 (176.32.107.13)  39.251 ms  38.962 ms  39.118 ms
16  * * *
17  * * *
18  * * *
19  ec2-79-125-0-89.eu-west-1.compute.amazonaws.com (79.125.0.89)  39.711 ms  47.796 ms  39.552 ms
20  * * *
21..28 * * * cutted
29  * * *
30  x.x.x.x  39.229 ms  39.265 ms  39.267 ms


Any explanation of that line 19?

I'm using traceroute to Elastic IP of the EC2 instance, no loadbalancer. I'm not seeing anything like this when trying 10+ another hosts in another az/regions. Is it part of AWS infrastructure? Or did somebody succeed in mitm on me? Any ideas how to continue? 

Thanks in advance, Tomas

Edited by: tomasbizbox on Aug 20, 2016 2:08 AM"

Amazon EC2	"Re: Foreign EC2 host in traceroute to my instance - possible MITM?
Is at least somebody experiencing the same behavior - that some EC2 node can be seen in traceroute? Or is it just me? 
Thanks, Tomas"

Amazon EC2	"Do you need same no of ec2 instance for cross zone load balancing
Hi

As per sizing I need 5 instance for my web server.

Can I use odd no of instance across two zone with cross zone elb? E.g.3 instance in zone-a and 2 instance in zone-b.

Does this supported and good practice?

Thanks in advance

Pg."

Amazon EC2	"Re: Do you need same no of ec2 instance for cross zone load balancing
Hi,

Cross-zone load balancing reduces the need to maintain equivalent numbers of instances in each enabled Availability Zone, and improves your application's ability to handle the loss of one or more instances. However, we still recommend that you maintain approximately equivalent numbers of instances in each enabled Availability Zone for higher fault tolerance.

So a ratio of 2:3 is approximate enough and should be fine: 

http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/enable-disable-crosszone-lb.html

Regards,

Souza S"

Amazon EC2	"Help with GPU instance and directx 11
Hello everybody,
I hope this could be the right section for this kind of problem.

I am planning to develop unrealengine applications on a gpu instance. (g2.2xlarge)

I have installed the engine but to start it needs directx 11 with 10.0 feature.

I am kinda stuck with this, tried to update directx without any result.

Any idea on this kind of issue?

thanks a lot"

Amazon EC2	"Classic Elastic Load Balancer gives ""No Instances Available""
I'm trying to create a Elastic Load Balancer and when I get to step 5, Add EC2 Instances, it says ""No instances available"" when I do have running instances.

I'm able to add instances to the new Application Load Balancer type, so it seems there is something wrong with the Classic Elastic Load Balancer setup."

Amazon EC2	"Re: Classic Elastic Load Balancer gives ""No Instances Available""
Hello,

Which region are you seeing this in please? Might you be creating the classic load balancer in EC2 Classic rather than VPC?

Richard"

Amazon EC2	"Re: Classic Elastic Load Balancer gives ""No Instances Available""
For me this was when the wrong VPC was selected. If it's just that you've selected your instances and clicked Save then this is wrong as you first have to click add selected instances (top left of selection list) and then click save. This caught me out as it doesn't seem native to select instances and then click a button located above your selection and then save. Works different from the classic load balancer where you just select instances and click save."

Amazon EC2	"java.lang.UnsatisfiedLinkError on Spark for lpsolve
Hi,
We're trying to run an application using a Spark Cluster on EMR, but we are having difficulty linking to an external library (lpsolve). We install the library on all nodes using a script in the bootstrapping actions and have checked that the libraries are present on all the nodes. We set LD_LIBRARY_PATH in spark-env.sh, but when running spark-submit we get the error: java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path
We had to set JAVA_HOME after bootstrapping was completed since this somehow was not set when the cluster was created, so we're not sure if this issue is related to the linking error.
We have tried compiling our source code on the cluster itself and then running sbt test to see if the linking issue is present there too; however, the unit tests all complete with no issue which is baffling.

Has anybody run into a similar issue or have any ideas where we might be going wrong?

Edited by: shellshocked on Aug 23, 2016 5:36 PM"

Amazon EC2	"Is the T2.large memory a kind of RAM?
Hi.

I'm using T2.large. It has 8 GiB of memory. Is this memory a kind of RAM (volatile) or persistent one? Is this memory a flash memory?

I need a machine with 8 GiB of RAM memory, to run a specific software. 

Yesterday I had created a new file in the path /home/ubuntu. It was recorded in such memory. Then I stopped the T2.large instance and restarted it only today. The file is still there!! According to the documentation, I understood that any data would be lost if not in a EBS. What did happen ?

If those 8 GiB is a kind of persistent memory, how much of RAM does the instance have?

Any hint will be very helpful!
Best regards.
Rodrigo Pimenta Carvalho"

Amazon EC2	"Re: Is the T2.large memory a kind of RAM?
Hi. I found the answer:

You can stop an Amazon EBS-backed instance, but not an Amazon EC2 instance store-backed instance. Stopping causes the instance to stop running (its status goes from running to stopping to stopped). A stopped instance persists in Amazon EBS, which allows it to be restarted. Stopping is different from terminating; you can't restart a terminated instance. Because Amazon EC2 instance store-backed AMIs can't be stopped, they're either running or terminated.

Regards."

Amazon EC2	"Can someone take a look?
Hi - our church website is up and down finnicky. I'm in charge of overseeing if for our church, but it is beyond me of how to address it. Can someone take a look and give me clear instructions of how you would proceed? It's currently not loading as of 1:20pm Central time. Sometimes it randomly starts working again.  www.chccrca.org  Other times it takes FOREVER just to load the home page.

Thanks to anyone who can offer some feedback! I'm at a loss of what to do. Support has not been helpful at all."

Amazon EC2	"Re: Can someone take a look?
Hello,
I see you have two small instances , a t1.micro and a t2.micro and this second one is running costantly 100% CPU as you can also see in the Cloud Watch Metrics:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2016-07-17T14%3A05%3A18.106Z~2016-07-22T14%3A05%3A18.106Z~Average~300~InstanceId~i-88a57de4

I would recommend you to review your application and/or consider to migrate to a better performance instance.
Kind Regards
Ale"

Amazon EC2	"Re: Can someone take a look?
Thanks! We got it figured out. Changed a micro."

Amazon EC2	"Why Windows task manager shows 100% CPU usage while website shows 10%?
Dear AWS engineer,

My first language is not English, so I try my best to explain what happens.

My instance ID is i-56b23ec9, I am using this Windows instance running MT4 to do some test. (MT4 is MetaTrader4, a platform for trading Forex)

The problem is : when I run MT4 terminal or terminals in my Windows instance, when I open the software, everything is right, the CPU usage will be below 15%. But after sometimes (maybe hours, maybe days, depend on luck), the Windows instance will become very slow, and I can see from the task manager the Windows instance’s CPU usage become 100%. 

However, at the same time, if I check the monitoring from the AWS website, this Windows instance’s CPU utilization will be still below 15%. For me, it is so weird and difficult to understand.

There are some experiences of this problem:

1. The more MT4 terminals I open, the quicker this problem will happen.

2. When I close these MT4 terminals, the CPU usage goes down to below 15%. But when I open even one MT4 terminal again, the CPU usage jumps to 100% again immediately. (Open Firefox will get the same result)

3. Restart the Windows instance from Windows CANNOT solve the problem, after the Windows instance restarted, open any MT4 terminal will make the CPU usage jumps to 100%.

4. Login AWS website to restart the instance CANNOT solve the problem, like point 3.

5. Shut down the Windows instance from Windows and then Login AWS website to start the instance CAN solve the problem.

6. Login AWS website to stop the instance and then start the instance CAN solve the problem.

The attachment is a screenshot shows what happen. Now the instance i-56b23ec9 is in this situation, you can check it if you need.

Please help me to understand why this problem happens, and help me to solve it, thank you.

Best Regards

Kevin_Zhu

Edited by: kevin_zhu on Aug 19, 2016 11:37 AM"

Amazon EC2	"Re: Why Windows task manager shows 100% CPU usage while website shows 10%?
could anyone help me with this? Thank you."

Amazon EC2	"Re: Why Windows task manager shows 100% CPU usage while website shows 10%?
Hello, 

Taking a look at your instance I see that it's a T2 instance, which utilizes CPU credits. These instances are not meant for consistent high CPU utilization. In this case, you're using the instance above it's CPU threshold and have ran out of CPU credits which is why you're experiencing this issue. You can read more on CPU credits here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

Regards,
Nick"

Amazon EC2	"Finding the private IP address of a dead EC2 instance
By looking at the Activity History for the relevant auto scaling group, I can find the instance ID for an instance whose server has crashed (instance removed for failing health check).  But most logs, such as the ELB logs, will contain the instance's private IP address, not the instance ID.

Is there a way to find out the private IP address that an instance had at some time in the past?

Given:  instance ID + date-time
Find:    Private IP address of that instance at that time"

Amazon EC2	"AWS Snapshot is no longer compressed?
Just received a reply from AWS support: 

I reached out to the EBS service team to get a more direct answer for you and have been advised that EBS Snapshots do not use compression and you will find no mention of it in our public documentation (anymore).

A surprise answer to me. Any one cares to comment on this? That would mean very costly to keep snapshots compared with just tar and compressed and save to S3."

Amazon EC2	"Re: AWS Snapshot is no longer compressed?
It is not quite that bad. EBS snapshots are incremental so that only the blocks on the device that have changed after your last snapshot are saved in the new snapshot.
-Brett"

Amazon EC2	"Re: AWS Snapshot is no longer compressed?
Well, that would mean the initial snapshot is at least the size of the data used in the volume. It's hard to understand the rationale behind not compressing snapshot anymore? It would be an easy way to save storage. I don't believe users would care much about the added (uncompressing) time to recreate a volume from a snapshot..."

Amazon EC2	"Re: AWS Snapshot is no longer compressed?
Compressed would mean it's more difficult to do the incremental bit, and for me personally, I'd rather restore a volume from a snapshot quickly than save a few $$$. Besides snapshot storage cost has just been reduced by 47%."

Amazon EC2	"Re: AWS Snapshot is no longer compressed?
Maybe Amazon should give users a choice to have compressed or uncompressed snapshots, similar to encrypted?  That would solve this problem. For users like me, I care less about the snapshot creation/recover time. Besides, they were compressed before, if I understand this correctly."

Amazon EC2	"Status check failed on our EC2 instance and can't troubleshoot it
Our instance (i-a67491c4) has been down for a few weeks and we are now getting some pressure to get it back up and running.  I've tried to recreate a new instance from an AMI to no avail.  Could someone please help me restart the instance to get it into working order?

Thanks so much!

Luis Descaire"

Amazon EC2	"Re: Status check failed on our EC2 instance and can't troubleshoot it
Hi Luis,

We at AWS do not have access to customer resources. In order to troubleshoot the issue at hand, it is advised to review the console output of your EC2 instance. You can view the console output using the AWS console. For more information on how to view this output, please see the following documentation - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html. In addition, I am able to confirm the EC2 instance i-a67491c4 is failing instance-reachability status check. Have you attempted a reboot to see if the issue persists? If it is still experiencing an issue, you will have to dive deeper and understand what is causing it to fail this status check at the OS level. One way to do this is to launch a temporary EC2 instance, and stop the problematic EC2 instance, detach the root EBS volume, and attach it as a secondary device on the recovery EC2 instance. This will allow you to mount the volume and investigate logs to further and make any necessary changes. It is very important to note, since this EC2 instance has instance-store volumes attached to the EC2 instance, when you 'stop' the EC2 instance in question, any data residing in the instance-store volumes will be lost. I hope this helps and points you in the right direction.

Regards,
Mohsin"

Amazon EC2	"Re: Status check failed on our EC2 instance and can't troubleshoot it
Thanks for your help.  I tried the option to launch more like this and it seemed to resolve the problem in the new instance.  I am now looking through it to see what could have caused the error.  Really appreciate the nudge in the right direction.

Luis"

Amazon EC2	"Strange pattern for i2.xlarge spot bidding price for the last 2 weeks
In the past two weeks, we noticed a strange price pattern for i2.xlarge spot instances. Everyday, it almost always have a spike to maximum bidding price ($8.53) around 10:40AM EDT, last for about 40 minutes, and disappeared for the day.

https://www.dropbox.com/s/53vq019cyudtb8c/Screen%20Shot%202016-08-23%20at%2011.58.07%20AM.png?dl=0

It seems very artificial. Do you think it's due to someone within AWS engineering team manually planted those kind of price spikes to rip off spot instance customers? 

Thanks!"

Amazon EC2	"snapshot - deleted
i have a instance that have a snapshot associate that was deleted, now I am being charged for something that was deleted I can not disassociate the snapshot of instance.

Snapshot: snap-5bc5771e

Edited by: ivansl on Aug 23, 2016 8:41 AM"

Amazon EC2	"Re: snapshot - deleted
Hello,

Can you kindly contact our Billing and Account team? Please click on the following link here -- https://aws.amazon.com/contact-us/ to get in touch with the team.

Regards,
Mohsin"

Amazon EC2	"Re: snapshot - deleted
sure.. talked for me they can not help me with this but.. the billing were dropped"

Amazon EC2	"Re: snapshot - deleted
Hi,

Can you further explain  in more detail on what the exact issue you are experiencing and what is the impact?

Regards,
Mohsin"

Amazon EC2	"EC2 - PEM Key + Third Party
Hi,

I have setup an EC2 instance and now I want to give access to a third party contractor for them to make some changes. 

Is there any issues with me giving them this PEM key for them to access this instance? If there is a problem, is there an easy solution?

Thanks!"

Amazon EC2	"Re: EC2 - PEM Key + Third Party
Hello,

From the security point of view,  you should create a new user for your third party contractor, generate ssh key-pair for the user and then give user and private key to contractor for sshing to instances. You should also restrict the access level for the user through sudo so that he can only perform authorized operations. 

Regards,
Umair A."

Amazon EC2	"Re: EC2 - PEM Key + Third Party
Thanks for your reply!

I created a new user and the private/public keys. When I try to connect with the new details through Putty, I get ""Disconnected: No supported authentication methods available (server sent: publickey)"" - Do you happen to know what stage I went wrong at?

I also tried adding a user from the link:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/managing-users.html"

Amazon EC2	"local usb redirection
I got a local smart card on my desktop I need it redirected or available from my ec2 instance (windows 2012R2)

any idea how to do this?"

Amazon EC2	"aws ec2 raw import-image - need help with syntax
I am having difficulty understanding how to use the aws cli ec2 import-image command.  I have populated a json file in accordance with documented samples.  I must be missing something simple; I dont see how either in the command line arguments or the json file to reference the actual raw image file on the local file system that is to be imported.

Any help is appreciated."

Amazon EC2	"Re: aws ec2 raw import-image - need help with syntax
Hello,

The document provides step by step instructions for this process, [1] Can you tell us what is the problem that you are experiencing. Any errors/issues ?

[1]  http://docs.aws.amazon.com/vm-import/latest/userguide/vmimport-image-import.html

Regards,
Umair A."

Amazon EC2	"Re: aws ec2 raw import-image - need help with syntax
Umair,

Thanks for reaching out.  Specifically my goal is to import an existing virtualized  Lbuntu OS 14.04 16bit image onto EC2.  

Facts:

My virtual os in managed by XEN hypervisor and works fine on my local virtual environment.
The raw image is named: /var/rawimage1.img


I dont understand how to correctly use aws ec2 import-image.  There appears to be no way to 'point' or reference '/var/rawimage1.img' on my local drive for the import-image to import.

Thanks in advance for your help.  I am on a deadline.

Kind Regards,

Michael Fene'
Carlsbad, California
mfene5101@gmail.com
cell:  760 409 6954"

Amazon EC2	"Re: aws ec2 raw import-image - need help with syntax
Hi,

Have you gone through the documentation shared by Umair?

Are you getting any specific errors?

Regards,
Jayakrishnan L."

Amazon EC2	"instance wont stop/force stop
i-017368e6

marked for retirement for 3 days (I dont want this!) and I cant stop it, stuck in stopping. Please assist asap? Need to keep image, no delete... thankyou"

Amazon EC2	"Re: instance wont stop/force stop
Hi,

The instance - i-017368e6 is currently in stopped state.

You may create an AMI if you need to create an Image now and then terminate the instance if the instance is not required anymore.

Regards,
Jayakrishnan L."

Amazon EC2	"Instance won't shut down
I have an instance which won't shut down after more than 30 minutes.

Edited by: Macinric on Aug 23, 2016 5:24 AM"

Amazon EC2	"Slow read with EBS volume compare to other EBS
Hi,

I have got several i2.2xlarge ec2 instances.

Each instance attached to 2 EBS volume:

1. Root EBS Volume: Volume type io1, 1000IOPS, 50GB, ext4 (xvda).
2. Another EBS Volume - Volume type io1, 5000IOPS, 1000GB, xfs (xvdf).

The strage thing is that reading speed is lower in xvdf eventhough it has 5000IOPS compare to 1000IOPS.

For exmaple:
hdparm -Tt /dev/xvda1
/dev/xvda1:
 Timing cached reads:   18264 MB in  2.00 seconds = 9142.99 MB/sec
 Timing buffered disk reads: 476 MB in  3.00 seconds = 158.48 MB/sec

hdparm -Tt /dev/xvdf1
/dev/xvdf1:
 Timing cached reads:   17626 MB in  2.00 seconds = 8822.67 MB/sec
 Timing buffered disk reads: 276 MB in  3.01 seconds =  91.56 MB/sec

Also note that this EBS volumes was not created from snapshots (so this is not a prewarm issue)

What could be the issue?

Thanks !

Edited by: xglobe-adv on Aug 23, 2016 2:40 AM"

Amazon EC2	"Instance will not stop
Has been in ""Stopping"" state for > 1 hour - tried force stop and still wont stop

i-0249db216d5b98208 (ap-southeast-2 region)"

Amazon EC2	"Re: Instance will not stop
Good day

We are engaging with our Operations Team regarding this, we will revert back to you once completed.

Regards
Imthian R"

Amazon EC2	"Re: Instance will not stop
We have stopped the instance. You should be able to restart it.

Kind Regards
Imthian R"

Amazon EC2	"EC2 powershell error
I have tried to create EC2 instance by PowerShell error is below
PS C:\> New-EC2Instance -ImageId ami-12345678 -MinCount 1 -MaxCount 1 -InstanceType m3.medium -KeyName my-key-pair -Secu
rityGroup my-security-group
New-EC2Instance : A WebException with status ProtocolError was thrown.At line:1 char:1
+ New-EC2Instance -ImageId ami-12345678 -MinCount 1 -MaxCount 1 -Instan ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (Amazon.PowerShe...2InstanceCmdlet:NewEC2InstanceCmdlet) [New-EC2Insta
   nce], InvalidOperationException
    + FullyQualifiedErrorId : Amazon.Runtime.AmazonServiceException,Amazon.PowerShell.Cmdlets.EC2.NewEC2InstanceCmdlet
regards
Abhay"

Amazon EC2	"EC2 bandwidth: Is it per EC2 element or per ENI?
Hi,

I am designing and dimensioning a new AWS solution and I got stack into the following:

Question 1: I assume that an EC2 instance has X Network Capacity (Mbps) at any given point in time. If I added a second ENI, can I assume that if X traffic comes in from one subnet on its first network interface, then the same X traffic can go out from its second network interface OR, when the second interface is added the values become X/2 and X/2 ?

Question 2: A similar question is on ELBs: Lets assume an ELB places in two, internet facing, subnets in two availability zones. I assume that it has C1 network capacity to the Internet on the first availability zone and C2 on the second (I would expect to be the same, but one cannot be sure). Let's assume we have two EC2 instances behind the ELB in the first AZ and two in the second AZ. Does each one gets 

(Α) (C1+C2) / 4  ie, all incoming bandwidth is split towards the the 4 instances (assuming that all can serve traffic and they do not have any problems)   OR 
(B) isThhis (C1 + C2) / 6, where 4 became 6 assuming that the ELB bandwidth includes both the inside and the outside logical interfaces OR
(C) (one of C1, C2) / 4     OR
(D) (one of C1, C2) / 6

For argument's sake, let's assume that C1 = C2 = 1, then 
(A) becomes 0.5 per ec2 instance
(B) becomes 0.33 per ec2 instance 
(C) becomes 0.25 per ec2 instance and
(D) becomes 0.167 per ec2 instance

Question 3: Is the answer to question (2) the same both for the Classic Load Balancer and the newly introduced Application Load balancer?

Cheers,

Harry"

Amazon EC2	"IIS on Microsoft Windows Server 2012 R2 Issues with Database Login
I have searched everywhere and I have found no answers. I spun up an instance for the AWS Market Place (https://aws.amazon.com/marketplace/pp/B01ETPMYJG?qid=1471922582997&sr=0-1&ref_=srh_res_product_title) and I can not figure out how to gain access to the Database. 

The database is SQL Server Express 2012 and it comes pre-installed with the AMI. However, I can access the database with the Windows Auth... I can not access it via the SA Account, and my Windows Administrator account does NOT have sysadmin access... so I can not make any changes!!!

There is NO documentation on this AMI... sold by AWS... and since you have to pay for Tech Support to get answers, I am hoping to get them here - or I am going to have to go to Azure and use their service.

So - Does anyone know how to gain access to the database? Do I need to create a new user with admin rights? Is it through the Server Manager? What is the simple answer? Remember - I have NO access to make ANY changes with the Windows Account... so, I can not do the ""Change the password on the SA Account"" thing. Does not work.

Thank in advance..."

Amazon EC2	"Extremely slow EBS volume snapshots
Hello,

For the past week or two, I have been having problems with snapshots of my EBS volume (vol-dbb1559f) being extremely slow to complete.

For example, I started a snapshot of this volume (snap-9b94b262) almost 24 hours ago, and it is still only 89% complete. This is not a huge volume (200 GB) and I take snapshots of it regularly, so only the data that changed since the last snapshot should need to be saved, right?

I have looked at the CloudWatch metrics for the volume and nothing jumps out at me.

Has anyone else been having similar problems? Can someone from Amazon take a look at this volume and let me know if there is a problem that I'm not aware of?

Thanks."

Amazon EC2	"I need pointers creating a Wordpress social networking site.
I am a student in the process of creating a WordPress social networking site (using BuddyPress). The site will be based on Apache, php and mysql.  As I understand, when the site becomes popular in the future, it will utilize more AMI resources (memory, cpu power, etc.). What is the recommended way to setup an AMI in such a way I don't have to worry about upgrading services in the future? I currently have the free tier Amazon Linux AMI but am unsure whether this is going to be enough when thousands of visitors visit the site. The site will not have any video, just profile pictures to display. 

Any recommendations would be greatly appreciated!"

Amazon EC2	"Re: I need pointers creating a Wordpress social networking site.
Hello,

Thank you for writing into the Forums.

I would very much recommend that you read our White Paper AWS Cloud Best Practices:

https://media.amazonwebservices.com/AWS_Cloud_Best_Practices.pdf

You are wanting to create a scalable and durable infrastructure for your site, and while this is certainly possible with AWS, there are many things that have to be considered. One of the many important considerations would be decoupling key components (separate the DB from the web or app server for example), and making sure to implement things such as ELB, autoscaling, and other services that fit within the websites framework. 

While the Free Tier does allow the use of some services in a limited fashion, it is highly unlikely that you would be able to build a highly available and fault tolerant application without going over the Free Tier limits of say EC2, ELB, or RDS and thus incurring cost.

Another service to consider would be Elastic Beanstalk as we manage a lot of the back end infrastructure for you and you just have to manage the code.

Regards,
Troy W"

Amazon EC2	"Serious performance issues
I've got two instances that are experiencing serious performance issues. ID i-029bfcc01662f54ce keeps having the swap use 100%, even though I explicitly set it to only use if it's out of memory (which it's not at all). I tried upgrading it from a t2.micro to a t2.small, and that seemed to help, but only temporarily. My system slows to a crawl, even SSH takes forever to load.

ID i-0fa48a3d7058528ad is a port over from a DigitalOcean server that's still running under the same specs, and it too is experiencing extreme slowness, even though the DigitalOcean variant has no such issues. Both of my EC2 servers take ten minutes or more to process a ""sudo apt-get update"" command, something that should take mere seconds.

My third server, ID i-0cc57c59b95df507f, is having zero performance issues. I don't understand why it's immune either.

What can I try to diagnose and solve this issue?"

Amazon EC2	"Re: Serious performance issues
Hello,
I have double-checked both your instances, the underlying hosts and the gp2 volumes attached to them an dI have found no issues so far, this also accordingly to the Cloud Watch metrics (NO CPU or Network spikes, NO Status Check failed).
Cloud Watch is not providing directly metrics related to RAM, but you can check logs in the OS or monitor in real time e.g. using these scripts:
https://aws.amazon.com/code/8720044071969977
http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/mon-scripts.html
Are you still facing the issue?
I see both instances come from the same custom AMI ami-d732f0b7
Is this also happening with instances using Amazon AMIs?

kind regards
Ale"

Amazon EC2	"Re: Serious performance issues
I don't have any IAM roles on my account at all, and have learned quite a bit about them from the links you provided, but don't know how to set up a new instance from scratch for it. I haven't tried Amazon Linux, but am willing to give it a go. Normally run Ubuntu on my servers, but am always willing to try new things.

How do I set up an IAM role that can be utilized by those scripts? That seems like the first step, but I got lost when there were three categories of role types and a bunch of entries in each, but no directions on which one to choose.

Also, would you recommend HVM or Paravirtual? I'm not clear on the difference between the two, or if it could be related. Something with virtualization of hardware/software it seems, which is beyond my expertise.

I'm getting a ""Your message quota has been reached. Please try again later."" message whenever I try to reply to this message. Been going on for the past day. It's seriously annoying and disrespectful to treat a paying customer like that, but not your fault personally. Can you have someone look at it though?

EDIT:
To clarify my requirements, I need to run Emby, Seafile, and Nginx on server #1 (currently the t2.small instance that's having problems), and on server #2 (the t2.micro having issues) I need to run Magento and Nginx. Server #3 is currently running Ghost Blog, Nginx, and Joomla with no issues, and is a t2.micro. Servers #1 and #3 have external drives mounted (there's no way to share external HDD's across servers, is there?), but #2 does not. Yet #1 and #2 are incredibly slow.

If there's a way to share external drives across servers, I could remove the Seafile requirement from server #1 and put it on its own dedicated server. For now though, I'm more concerned with the why it's slowing down than trying to solve an issue I don't know the root cause of.

Edited by: DMCShep on Aug 20, 2016 10:23 AM"

Amazon EC2	"Re: Serious performance issues
Really guys? Dropped to page 2? Alright then, still need this fixed, so...

BUMP!!!"

Amazon EC2	"I am facing a Problem related to linking my DNS to my hosted EC2
HI,

I have bought a Domain name from Godaddy and I followed the instructions in EC2 guide to link my domain name to the hosted site. but every time I enter my domain name in my web browser, I reach my website but with the "".compute.amazonaws.com"" address. I want my website to appear in my web browser with the registered domain in the address bar.

I have also routed my domain name servers from Godaddy to Amazon Route 53, but without any effect on my website url

I don't know how to solve this problem. Please, help me.

Thank You"

Amazon EC2	"Unable to launch an EC2 instance from cmd line
Hi, 

I am trying to launch an instance using the following cmd and it fails.

C:\AWS KeyPair\RAC Nodes Scripts>aws ec2 run-instances --image-id ami-2d4a0848 -
-instance-type t2.large --key MyRACKeyPair --placement AvailabilityZone=us-east-
1d,GroupName=MyRACPlacementGroup,Tenancy=dedicated --associate-public-ip-address
 --subnet subnet-1f44bc56 --private-ip-address 10.0.0.51 --security-group-ids sg
-e9905b93 --user-data file://user-data-tgt01.sh

An error occurred (Unsupported) when calling the RunInstances operation: The req
uested configuration is currently not supported. Please check the documentation
for supported configurations.

I already confirmed the instance t2.large is available in us-east region.

Has anyone come across this error? I tried google but was not of much help!

Thanks"

Amazon EC2	"Instance i-bc0a7479 stuck in 'shutting-down'.
Hello,
Instance i-bc0a7479 has been stuck in 'shutting-down' status for several months.  Can you please terminate this instance?"

Amazon EC2	"Re: Instance i-bc0a7479 stuck in 'shutting-down'.
Hi,

I am sorry you had issues terminating the instance i-bc0a7479. I have forced the instance to be terminated from my end. Please let us know if you have any questions. We will be glad to help. 

Best,
Aish"

Amazon EC2	"RunCommand support in Asia(Mumbai) region
Looks like we cannot use RunCommand in Mumbai region. Is this support planned in near future? Please add this to the feature list if it has not been asked already.

Thank you
Upender @ banihal"

Amazon EC2	"Trying to understand my instance options
I currently have an M1 Large instance that has reached the end of a 3 year instance term.  I am trying to figure out what to do next, as the options have changed.

I am currently running the instance as you might a traditional co-lo server, where everything including MySQL is localhost.  Not using RDS (yet).

It appears that I have 2 main alternatives of roughly the same performance:

M4 Large seems very similar to M1 Large, but the storage options say ""EBS Only"".  No size is specified.  Does this mean that I must purchase EBS storage separately from the instance itself?

M3 Large appears to differ from M4 mostly in that the storage is SSD, and only 32Gbs worth.  My current usage is 50gb.  Obviously, if I were using RDS I could load the entire server into 32GB but that's not my situation (yet).  It seems that I can add SSD storage to an M3 Large; maybe upgrade the 32 to 100gb?  Is the 32gb in a different partition from added SSD storage?  Is it safe to put the entire database into SSD on a server?  If I have to reboot, does it persist?  This would be my first venture into SSD of any kind.

Thanks"

Amazon EC2	"An Application Tried To Create A Window
Hey There,

I am running wine on a Ubuntu 14.04 server on AWS EC2. I am loading up an application that tries to create a window, but obviously fails. It then states to make sure the X server is running and $DISPLAY is set correctly.

Display is set to : 0.0  (no space, it just automatically creates this emoticon with : 0 together.  ), however I cannot start the X server. I run startx and is says the user is not authorized to run that. I don't actually need to see the window, as it isn't very useful for me. Is there a way to circumnavigate this problem by having the display either set to something that just sends the data to a null screen or any other ideas?

If anyone could give some advice that would be awesome.

Thanks!

Edited by: Grendorf on Aug 22, 2016 10:15 AM

Edited by: Grendorf on Aug 22, 2016 10:15 AM"

Amazon EC2	"Instance:  i-756e84da stuck in shutting-down state since last Friday
Hi,

Can you terminate this instance for us?

Thanks,
Michael

Edited by: magame on Aug 22, 2016 9:31 AM"

Amazon EC2	"Re: Instance:  i-756e84da stuck in shutting-down state since last Friday
Hi Michael,

I am sorry you are facing issues with the instance  i-756e84da. The instance was stuck terminating because of a host issue. I have force-terminated the instance from my end. 

Please let us know if you have any other questions. 

Best,
Aish"

Amazon EC2	"Password not available - instance launched from custom AMI
I'd enjoy some help figuring out this one.  I'm creating an instance from a snapshot and I get this message.  Password not available.  Instance launched by custom AMI, or the default password has changed _ it hasn't.   I'm using a windows 2012 server and using a t2.micro instance type.

-M"

Amazon EC2	"Elastic beanstalk continues code deployment via bitbucket
Hi
i've django application deployed in Elastic Beanstalk, and i'm using a Bitbucket repository. I need continues deployment of code whenever there is a change in the Bitbucket branch. I was planning to use following blog  https://blogs.aws.amazon.com/application-management/post/Tx34AXRMYLXG5OT/Building-Continuous-Deployment-on-AWS-with-AWS-CodePipeline-Jenkins-and-AWS-Elas
But it has the steps for github repository. how can use this for deployment from bitbucket
Or can you suggest any other way for continues integration to elastic beanstalk using jenkins"

Amazon EC2	"Need help to Force Stop instance in us-east-1 - down since 07:00
Can someone please force this instance to stop and/or restart it to resume our normal operations? The server has been non-responsive since 07:00 UTC today and trying via the AWS Console or CLI tools don't seem to help motivate it to stop 

Instance:  i-4b32c2cb

Thanks Jim
Update: Opened a Support case Case 1849419631 instance i-4b32c2cb not stopping for this...

aws ec2 stop-instances --instance-ids i-4b32c2cb --force
{
    ""StoppingInstances"": [
        {
            ""InstanceId"": ""i-4b32c2cb"",
            ""CurrentState"": {
                ""Code"": 64,
                ""Name"": ""stopping""
            },
            ""PreviousState"": {
                ""Code"": 64,
                ""Name"": ""stopping""
            }
        }
    ]
}

Edited by: GoallineMurphy on Aug 22, 2016 11:52 AM"

Amazon EC2	"Re: Need help to Force Stop instance in us-east-1 - down since 07:00
Hi,

I am sorry you were facing issues with the instance  i-4b32c2cb. It was because of  issues with the host. I have force stopped the instance from my end. Please let me know if you have any other questions. 

Best,
Aish"

Amazon EC2	"How to get more than 10k IOPS
Hello, I'm not sure if this is the right place to ask, but...

My current physical data center servers are running FusionIO cards for storage (around 6 TB on a single host), and yes we use up to 42k IOPS at times. It's nasty.

I've been challenged to see if we can move our product into AWS.

Every combination of AWS EC2 type of disk, magnetic, ssd, provisioned iops, multiple disks set as stripe/RAID0 in Windows is limited to just under 10k IOPS maximum. I am expecting to get 20k IOPS using 2 10k provisioned disks when they are setup as a stripe/RAID0 in Windows, but they cap at 10k IOPS.

The only way I can get over 10k IOPS is to use the newer io1 instance (128 cores, 2 TB ram). I was able to get 43k IOPS using 3 20k provisioned IOPS disks - e.g. it was faster than we need at peak, which is great. The disks I tested with were anywhere from 500 GB and up to 6 TB each, none made a difference, they all stopped at just under 10k IOPS except when I used an io1 instance type.

But it was my understanding that we should be able to exceed 10k IOPS with ""lesser"" instance types.

Has anyone had any luck or recommendations on how to get at least 20k IOPS on a non-io1 instance type?"

Amazon EC2	"Re: How to get more than 10k IOPS
If this isn't the right place to ask, and someone knows where I should go, please let me know. Thanks!"

Amazon EC2	"Connect EC2 Instance via SSH Putty Issue -- Connection timeout error
Hi, I am using aws free tier instance and trying out examples from a book. I am trying to connect to instance from office.

I have configured the instance and it is up/running. Have created key/value pair and generated pkk file for that.

Now when i try to connect to EC2 instance from Putty, getting time out error. I can see the inbound is open for SSH port 22 and source 0.0.0.0/0

Instance id: i-0aa0f9e27e715db7a

Please assist me on what i am missing.

~Rajesh."

Amazon EC2	"Instance started via API but stayed off
I start my instances using API. 
From CloudTrail log, I can see the instance was started at 7AM, but it wasn't started as I checked at 8am and the instance was off.
CloudTrail doesn't show any command that might have stopped the instance so I am confuzed on what might have happened.
Instance id is i-ad9fb200. I have attached the event from CloudTrial.

I am wondering why the command to start the instance was received by AWS but the instance stayed off.

Thanks
Nicolas"

Amazon EC2	"Wither EC2ConfigServices?
What's up with EC2ConfigServices?

The download page says that page is being deprecated in favor of a new page (https://aws.amazon.com/developertools/5562082477397515). That new page has no trace of EC2ConfigServices, unless I missed it.

Obviously, both AWS and users need EC2ConfigServices. But if something more than the the page it's located on is changing, when do we find out what's up?"

Amazon EC2	"Re: Wither EC2ConfigServices?
Very interesting. No response here -- but the reference to the new page has been removed from EC2ConfigServices' download page.

How NSA-ish."

Amazon EC2	"Instance stuck in state shutting-down for several hours
Hi,
our instance with the id  i-9ad90911 got stuck in state shutting-down for several hours. Could u please terminate this instance asap?
Thx a lot

Edited by: norsten on Aug 17, 2016 12:25 PM"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hello,

Apologize for the inconvenience. I have reached out to the concern team regarding this. They will look in to this for you. We will update you as soon we receive an update from them.

Thanks,
Anup"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hi Anup,
thx for ur response. What do u think, how long will this last? We need this immediately for our continuous build via Atlassian Bamboo. Bamboo detects this instance as not terminated and let's us not start a new one till this old one is terminated.
Thx in advance
Bjoern

Edited by: norsten on Aug 18, 2016 6:03 AM"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hi,

Looks like the instance has been terminated. Please let us know if you continue to experience issues.

Regards,
Pavithra"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hi Pavithra,
sorry, I can't confirm the termination. The instance still appears in state ""shutting-down"", instance ID i-9ad90911.
best regards
bjoern"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hi Bjoern,

Our EC2 team is currently investigating this issue. So sorry for any frustration this has caused.

Kind regards,
Chris"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hi Chris,
any updates? The instance is still running.
Thx
Best
Bjoern"

Amazon EC2	"Re: Instance stuck in state shutting-down for several hours
Hello,

The issue was resolved by the service team and the instance successfully terminated. We are sorry for the inconvenience.

Regards,
Umair A."

Amazon EC2	"EC2 instance stuck in ""stopping"" state
Our instance i-48d591f4 was scheduled for restart due to degraded hardware. I stopped it manually, but the instance is now stuck in the ""stopping"" state. Could you please resolve the problem?

Best regards,
Jens"

Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
It took about two hours, but now the instance transitioned to ""stopped"" on its own."

Amazon EC2	"trouble sending email
I'm seeing lots of chatter about problems sending email but I'm unsure exactly which problem I may be having!

I've installed an EC2 with CentOS and added cPanel

I've transferred over a webiste that sends out transactional emails through campaign monitor using their own SMTP server.

The site is unable to connect. I'm not sure if it's Amazon, Linux or cPanel that's blocking me using an external SMTP. Any pointers would be appricated!"

Amazon EC2	"Re: trouble sending email
I would start by looking at the EC2 network security group, and the VPC network ACLs.
-Brett"

Amazon EC2	"Re: trouble sending email
Well, it looks like I'm now getting email out on ports 25 and 587. It may have been an issue with Amazon blocking - I've submitted a request to raise the limits and this has been done.

So I'm now in a situation that mail goes, but only if not TLS encrypted! It'll go on either port unencrypted, but as soon as I switch on TLS, I get the error 'Unable to connect with TLS encryption'.

Very odd!"

Amazon EC2	"Re: trouble sending email
This looks to be a PHP5.6 issue. The server I'm migrating from was running PHP5.5"

Amazon EC2	"Application load balancer and Health check protocols
I was so happy when you announced this new load balancer.
But now I realized that I am not able to use it. And the simple reason is that the ""Health check"" does not have protocol option ""TCP"" like the classic does. 

Because I am running only Drupal sites on my EC2 and forcing in httaccess file the ""www"" to all users, I am not able to get the instance health check working trough application load balancer. 

So when I have this in my ec2 instance web app settings:
  # RewriteCond %{HTTP_HOST} !^www\. NC
  # RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} L,R=301

The HTTP protocol Health check of the new application load balancer does not work!!!!
It works with ""TCP"" protocol using the classic load balancer.

Is there any reason why ALB does not have this protocol in the Health check?
How could I get the health check working when I have this ""force www"" setting on? 
I do not want the users to be able to access to my website without ""www"", this is also for SEO.

Edited by: ankos792 on Aug 15, 2016 9:09 AM"

Amazon EC2	"Re: Application load balancer and Health check protocols
I wouldn't recommend you using a TCP health check for a web application as it would only check for the WebServer listening to that port not that the application is actually healthy (a simple miss configuration on the app while the WebServer is running will say OK to the health check but actually serve 503 to the clients).

Nevertheless, you can use the HTTP health check with your current setup by configuring your Target Group's health check Success Code to 301 (not recommended as it will only guarantee that your web server is redirecting correctly).

Instead you could:

Setup a VirtualHost listening on another port on you Apache configuration which doesn't have the redirect rule... or create a custom Location for your health check path which overrides the redirect rule and points to your health check endpoint. This way you will be actually checking for your app status and not the web server's."

Amazon EC2	"cannot remote connect to AMI instance through win 7 rdp
Hello,
I have 2 instances 1) Windows Server 2008 that I can connect with rdp win 7 64 and Works fine,
2) an AMI Instance that when I try to connect with rdp win 7 I get a message when I try to get a password for the rdp from the AWS console that ""password is not available This instance was launched from a custom AMI, or the default password has changed. A password cannot be retrieved for this instance. If you have forgotten your password, you can reset it using the Amazon EC2 configuration service. For more information, see Passwords for a Windows Server Instance.""
when I download the rdp file and run it doesn't connect with message from my rdp client : remote Connection is not active to Server or remote pc is turned off or remote pc is not available, is there any configuration to make?

Thank you
I am NEW to this"

Amazon EC2	"Re: cannot remote connect to AMI instance through win 7 rdp
Hello,

Thank you for the post.

I took a look at your account and couldn't find any EC2 instances at this point in time.

In general, to connect to a Windows instance using Remote Desktop, you must specify an account and password. The accounts and passwords provided are based on the AMI that you used to launch the instance. You can either retrieve the auto-generated password for the Administrator account, or use the account and password that were in use in the original instance from which the AMI was created.

For more information about 'Password is not available', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#password-not-available

I hope the above information helps.

Thank you,
Nikhil"

Amazon EC2	"Re: cannot remote connect to AMI instance through win 7 rdp
I have the same problem.  I know the information to login, but the RDP fails before being prompted for username/login."

Amazon EC2	"Re: cannot remote connect to AMI instance through win 7 rdp
Hi gromit21 

Is there any specific error that RDP fails with? Has TCP 3389 been allowed in the security group assigned to the instance for your source IP? Can you telnet to the instance on port 3389?

Regards
Conrad"

Amazon EC2	"Incoming request to webserver hitting ELB's old (dead) IPs.
In logs, I can see incoming requests hitting old IP (which does not exist) so it gives 504 bad gateway. 
What could be the best solution here. If I reload webserver problem gets resolve."

Amazon EC2	"Re: Incoming request to webserver hitting ELB's old (dead) IPs.
Hello, 

This is typically a idle timeout/keep-alive issue between ELB and backend instance with one side holding a connection open when it's not actually available. 

You can read more on 504's here:
http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/ts-elb-error-message.html#ts-elb-errorcodes-http504

I'd recommend you verify you ELB timeout and web application timeouts match. 

Regards,
Nick"

Amazon EC2	"Re: Incoming request to webserver hitting ELB's old (dead) IPs.
If you look into my account, I've two domains pointing to same ELB with same backend. 
But problem I'm facing with only one particular domain. second one is working fine. 

If there is issue with timeout/keep-alive, it must happen with both domains."

Amazon EC2	"Re: Incoming request to webserver hitting ELB's old (dead) IPs.
awaiting for your response."

Amazon EC2	"How to export display from an EC2 instance ?
Hi.

I'm in home with Internet access and I'm interested in using an EC2 instance. With such instance I intend to run a software that has a GUI. 

So, let's suppose I have a EC2 instance running and in such instance I have installed the target software. Let's say Android Studio, for develop applications. As I'm in my home, wanting to use the Android Studio from an EC2 instance, how could I see the Android Studio GUI here in my personal computer at home? Thai is, how to export the display from an EC2 instance to my personal computer?

How to do it?

Any hint will be very helpful!

Best regards.
Rodrigo."

Amazon EC2	"Setting/Modifying rootDeviceName Attribute of an Instance
Long story short: I need to customize a MarketPlace AMI to change its rootDeviceName attribute to support a modified disk layout.

I'm trying to create a custom (PV) AMI from a (PV) AMI I got from the MarketPlace. The source-AMI sets the rootDeviceName to point to ""/dev/sda1"" (same for its first ""BlockDeviceMappings""):
{
    ""InstanceId"": ""i-NNNNNNNN"",
    ""RootDeviceName"": {
        ""Value"": ""/dev/sda1""
    }
}
{
    ""InstanceId"": ""i-NNNNNNNN"",
    ""BlockDeviceMappings"": [
        {
            ""DeviceName"": ""/dev/sda"",
            ""Ebs"": {
                ""Status"": ""attached"",
                ""DeleteOnTermination"": false,
                ""VolumeId"": ""vol-NNNNNNNN"",
                ""AttachTime"": ""2015-04-29T03:42:13.000Z""
            }
        }
    ]
}

I'd tried using the two differnet invocations of `modify-instance-attribute` tool:
aws ec2 --region us-west-2 modify-instance-attribute --dry-run --instance-id i-NNNNNNNN --attribute ""{\""rootDeviceName\"": \""/dev/sda\""}""
 
A client error (InvalidParameterValue) occurred when calling the ModifyInstanceAttribute operation: Value ({""rootDeviceName"": ""/dev/sda""}) for parameter attribute is invalid. Unknown attribute.

and
aws ec2 --region us-west-2 modify-instance-attribute --dry-run --instance-id i-NNNNNNNN --attribute rootDeviceName ""/dev/sda""    
  
Unknown options: /dev/sda

and
aws ec2 --region us-west-2 modify-instance-attribute --dry-run --instance-id i-NNNNNNNN --attribute rootDeviceName ""{\""Value\"": \""/dev/sda\""}""
 
Unknown options: {""Value"": ""/dev/sda""}

But both fail.

I figured that perhaps the tool simply didn't support the desired operation. So I tried using the CLI to launch an instance with the desired value set at instantiation-time (via `run-instances`), however, I can't seem to sort out the juju for doing so (if it's even possible).

Halp?"

Amazon EC2	"Re: Setting/Modifying rootDeviceName Attribute of an Instance
Hello,

The RootDeviceName parameter is not mutable. You can't change it with the modify-instance-attribute command. The attributes kernel, ramdisk, userData, disableApiTermination, or intanceInitiateShutdownBehavior are the only attributes that can be changed with the --attribute and --value flags."

Amazon EC2	"Re: Setting/Modifying rootDeviceName Attribute of an Instance
Bleah. I was hoping the years' older threads to that effect were no longer valid. Thanks for confirming that they're still valid.

 Is there any way to alter an AMI's default rootDeviceName setting when you instantiate via the `run-instance command`? There didn't seem to be a flagged-option for setting/overriding. Only thing I saw that might be usable was passing in a JSON config file (which isn't as easily scriptable as CLI args are). Even with the JSON method, it wasn't apparent whether run-instance would honor that setting."

Amazon EC2	"Re: Setting/Modifying rootDeviceName Attribute of an Instance
Question answered: sought-functionality not available."

Amazon EC2	"What ""type"" of Linux is behind an AWS AMI?
I have a Amazon Linux AMI 2016.03.3 (HVM), SSD Volume Type - ami-7172b611 instance onto which I would like to install Docker.  Docker asks me which type of Linux I have:  Arch Linux, CentOS, CRUX Linux, Debian, Fedora, FrugalWare, Gentoo, Oracle Linux, Red Hat Enterprise Linux, openSUSE and SUSE Linux Enterprise, Ubuntu, other from binaries, etc.  What is the best way to answer to ensure I am getting the correct/best Docker for my instance?

Thanks,
Don"

Amazon EC2	"Re: What ""type"" of Linux is behind an AWS AMI?
Hi,

To check which version of linux is running please run this command on the instance:

cat /etc/*-release

Please see the output from the command run from a Amazon linux instance:

$ cat /etc/*-release
NAME=""Amazon Linux AMI""
VERSION=""2015.09""
ID=""amzn""
ID_LIKE=""rhel fedora""
VERSION_ID=""2015.09""
PRETTY_NAME=""Amazon Linux AMI 2015.09""
ANSI_COLOR=""0;33""
CPE_NAME=""cpe:/o:amazon:linux:2015.09:ga""
HOME_URL=""http://aws.amazon.com/amazon-linux-ami/""
Amazon Linux AMI release 2015.09


As per out output (ID_LIKE=""rhel fedora"") you can try selecting Fedora. 

Regards,

Souza S"

Amazon EC2	"Timeout connecting to mail.mydomain.com
I have configured Sendmail and Dovecot on my EC2 instance, sendmail works perfectly.
However I can't connect remotely to my dovecot pop3/imap server.
I have tested it locally on the EC2 instance ,and it reports fine listening on ports 110,143 correctly.
When I traceroute to my mail server it gets as far as the Singapore hop then it times out.

traceroute to mail.xxxxxxxx.com (xx.xx.xxx.xxx)
 1  10.0.0.1 (10.0.0.1)  0.459 ms  0.373 ms  0.327 ms
 2  113.66.50.1 (113.66.50.1)  2.768 ms  2.716 ms  2.525 ms
 3  121.8.141.53 (121.8.141.53)  2.579 ms
    121.8.141.57 (121.8.141.57)  10.275 ms  3.659 ms
 4  61.144.3.14 (61.144.3.14)  6.558 ms
    58.61.216.121 (58.61.216.121)  4.924 ms  3.224 ms
 5  202.97.33.202 (202.97.33.202)  8.878 ms  9.764 ms  9.093 ms
 6  202.97.91.194 (202.97.91.194)  6.741 ms  3.526 ms
    202.97.34.82 (202.97.34.82)  3.738 ms
 7  202.97.52.214 (202.97.52.214)  164.472 ms  163.686 ms
    202.97.51.106 (202.97.51.106)  170.062 ms
 8  202.97.50.54 (202.97.50.54)  199.322 ms
    202.97.90.118 (202.97.90.118)  162.631 ms
    202.97.50.54 (202.97.50.54)  183.689 ms
 9  ix-xe-10-2-6-0.tcore2.lvw-los-angeles.as6453.net (64.86.252.157)  154.981 ms  155.060 ms  155.461 ms
10  * if-ae-7-2.tcore2.svw-singapore.as6453.net (180.87.15.25)  338.974 ms  340.735 ms
11  180.87.15.206 (180.87.15.206)  340.560 ms  337.913 ms  337.610 ms
12  * * *
13  * * *
14  * 203.83.223.77 (203.83.223.77)  339.034 ms  338.918 ms
15  * * *
16  * * *
17  * * *

any ideas?"

Amazon EC2	"Re: Timeout connecting to mail.mydomain.com
Hello,

Can you give me the AWS instance ID (i-xxx...) and I'll double-check your security group rules for you?

Richard"

Amazon EC2	"Re: Timeout connecting to mail.mydomain.com
Hi,
THanks for the response,

I have 2 instances, on one of them everything works fine (using postfix), the external mail arrives and rroutes correctly,

on the other instance, I have configured postfix the same , but... no email actually arrives, there is nothing in the mail or message logs, it appears that the emails never hit the server... and.. the emails never get bounced back, (checked the spam, etc- nothing)

very strange and i have run out of ideas to try!

The instance with the problem is this: i-85a2a60b"

Amazon EC2	"Re: Timeout connecting to mail.mydomain.com
Found the problem, fat fingers !!
I had inadvertently deleted port 25 from the security group!
Often it is the stupid mistakes that take the longest to find,

thanks for your assistance!"

Amazon EC2	"How to solve data migration problem with new instance created using AMI?
Hi,

I've created a new instance using a valid AMI with the following attributes:
instance type: t2.micro
it uses the AMI that the current instance uses.
PROBLEMS:
A) It's accessible, however, it DOES NOT mirror the resources including databases from the current working instance.
B) Unable to log onto the server remotely

Key current instance info:
instance type: t1.micro
accessible (working)
able to log into the server remotely

And both are on Windows Server 2008 R2 OS platform.

Thanks."

Amazon EC2	"Re: How to solve data migration problem with new instance created using AMI?
Hello,

If you take AMI without rebooting the instance, any data that is in memory and has not been stored onto disk yet will not be included in the AMI, therefore we advise customers to take AMI with reboot. Secondly if there's a problem in the parent instance configurations then they are replicated to new instances that are launched from its AMI.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html

Regards,
Umair A."

Amazon EC2	"Re: How to solve data migration problem with new instance created using AMI?
Thanks for the knowledgeable response.  Yeah, after reboot, all the services and data associated with them are now available.

And for the benefit of other EC2 users/customers, I re-created a new AMI based on my current instance and then use the new AMI to create a back-up / for-future-use instance.  It works fine so far."

Amazon EC2	"Why does  new instance created using a valid AMI not have a public DNS
Thus, not reachable.  How to add / configure for it to have a public DNS? 
Thanks.

Edited by: knowledgenotebook on Aug 19, 2016 5:49 PM"

Amazon EC2	"Re: Why does  new instance created using a valid AMI not have a public DNS
Hello,
If your instance do not have an public IP or public DNS, you can allocate an Elastic IP address and associate with the instance.

You can check below document for ""allocating an Elastic IP Address and Associating"" an ""Elastic IP Address with a Running Instance"".
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#working-with-eips

In a default subnet, instances receive both public IP address and public DNS hostnames. 
However, Instances that you launch into a nondefault subnet in a default VPC don't receive a public IP address or a DNS hostname. You can change your subnet's default public IP addressing behavior. For more information, see:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#subnet-public-ip

Best regards,
Louisa"

Amazon EC2	"Re: Why does  new instance created using a valid AMI not have a public DNS
Ok, thanks for your idea.  I resolved the problem by creating another instance.  But I have a MAJOR problem now, please check out my new thread about it."

Amazon EC2	"playbook for scaling
Definitely a newbie question and having gone thru lot of aws docs I still need some clarification on the following.
We are just starting out on aws.
Is there a playbook to accomplish the following for a minimal prod webservice as cost-effective as possible 

1. Start with a minimal t2.x (hvm 64bit linux)  x can be small or medium web servers
2. start with RDS (prefer postgres) minimal setup (<25GB) for core db but more on performance
3. start with s3 to dump preferably logs/archives and other non-critical data (if there are cheaper rdb storage that would be great, dont need performance, but organized storage and search capabilities?)

Down the road, we expect to expand webservers, and others. If that matters, we are completely java, linux postgress apache shop
Appreciate any pointers on this ; any caveats or things to look ahead 

Thanks!

Edited by: yescloud on Aug 20, 2016 4:51 AM"

Amazon EC2	"Has my instance been moved to a non to-be-retired machine?
I got an email from AWS that the host of my instance i-18a71cbc will be retired due to degradation, but by the time the email arrived, the instance and all my sites were taken down already. 

I had a hard time stopping the instance (was stuck in stopping mode for a while), but when it finally did, I restarted it and the sites are up again.

Am I in the clear? How do I know if the instance has moved?

Thanks

PS. I find it very disconcerting that AWS essentially took us offline without prior notice"

Amazon EC2	"Re: Has my instance been moved to a non to-be-retired machine?
Hi,
I understand that you concern about instance become unavailable before the maintenance notification.
I've looked into the details of your instance, and I can see that your instance has become unavailable due to an issue with the underlying hardware. When you stop and start the instance, it has automatically start your instance in a new underlying host.  Your instance is running in a healthy underlying host at the moment.

When AWS detects irreparable failure of the underlying host computer for your instance, it schedules the instance to stop or terminate, depending on the type of root device for the instance. We send the affected customers a notification, the retirement date on the notification usually indicates the limit time when your instance will no longer be available.
However, due to the unpredictable nature of hardware issues it may become unstable or uncontactable before that time. We notify you so you can take action as, migrate your resources, stop/start or replace the instance as soon as you can, but it is not expected for the instance to running healthy until the retirement date.

In the cloud environment it is recommended that customers design for failures by maintaining redundant copies of their services for high availability. The following link provides information on how to build a system which is designed from the beginning to withstand failure.
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

I would recommend you to consider using auto scaling group for your production environment. Auto Scaling periodically performs health checks on the instances in your Auto Scaling group and identifies any instances that are unhealthy. After Auto Scaling marks an instance as unhealthy, it is scheduled for replacement. It can help you to reduce the downtime.
http://docs.aws.amazon.com/autoscaling/latest/userguide/AutoScalingGroup.html
https://aws.amazon.com/autoscaling/

Best Regards,
Louisa"

Amazon EC2	"My instance i-1b70cc34 is unreachable for nearly 2 hours now.
My instance i-1b70cc34 is unreachable for nearly 2 hours now. I wonder if someone could kindly look into it."

Amazon EC2	"Re: My instance i-1b70cc34 is unreachable for nearly 2 hours now.
Hello, thanks for posting.

I looked into your instance and found that there was a problem with the underlying hardware and we sent out an instance retirement notification.  In order to fix this, you should be able to stop, then start your instance to move it to new underlying hardware.

Please let us know if you have any issues after performing this step!

Best regards,

David"

Amazon EC2	"Re: My instance i-1b70cc34 is unreachable for nearly 2 hours now.
We are experiencing similar issues. Our instance i-372684b3 is unreachable for the moment. ELB can't see it and I can't ssh to it through either public or private ip. We had the same issue with a production instance earlier today but a reboot helped us. We are wondering why this is happening and how to avoid it in the future. 

 Status Checks are passed (""System reachability check passed"" and ""Instance reachability check passed"")"

Amazon EC2	"Re: My instance i-1b70cc34 is unreachable for nearly 2 hours now.
Hello,

I have checked your instance and there are no underlying hardware issue with the instance.
However, I can see the CPU Utilization has spiked to 100% recently.
I would recommend you to check the logs(usually in /var/log/).
The logs may reveal an error that can help you to find out the root cause. 

Regards,
Louisa"

Amazon EC2	"Instance: i-022723db stuck in shutting-down state since yesterday
Hi,

Can you terminate this instance in Oregon for us? Thanks.

Do you know the reason why as I need to terminate several stopped instances?

Thanks,"

Amazon EC2	"Re: Instance: i-022723db stuck in shutting-down state since yesterday
Hello, 

As requested we were able to get this instance shut down for you completely. It was stuck due to a failure of the underlying hardware. Please let us know if you run into any further issues. 

Regards,
Nick"

Amazon EC2	"Suddenly cannot ssh to ec2 instance via putty or winscp
Yesterday I hit an issue attempting a putty ssh connection to my ec2 instance. The putty.log is returning the, hardly verbose, 

=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2016.08.15 11:10:41 =~=~=~=~=~=~=~=~=~=~=~=
login as: ec2-user
Server refused our key

I'm using exactly the same ppk file, nothing has changed on putty and when I check the ec2 instance through the management console the Key Pair file is displaying the correct name.

The same issue occured with Winscp as well. I believe this to be an issue with the ec2 instance as the instance terminated and rebuilt yesterday afternoon when the issue arose.

Any help, please?"

Amazon EC2	"Re: Suddenly cannot ssh to ec2 instance via putty or winscp
Do you have multiple key pairs on ec2? It is possible to add an key pair for perhaps an different instance, and now the default has changed and the user must select the correct key pair in order to log into the system. This is the last question you are asked when launching an instance!"

Amazon EC2	"Re: Suddenly cannot ssh to ec2 instance via putty or winscp
Hi

Thanks for replying, checking with the aws management console, there is only one key pair associated with the instance."

Amazon EC2	"Re: Suddenly cannot ssh to ec2 instance via putty or winscp
Probably ppk key file are corrupted, do you had any backups of it ?"

Amazon EC2	"Kemp Loadbalancer networking question
i have launched an EC2 instance of Kemp Virtual Loadmaster for AWS.  I would like to be able route the traffic that comes into this load balancer to a physical ip address outside of AWS.  My thoughts are if I can have a virtual load balancer in AWS pointing to either my production site or my dr site then failover and dr testing is a lot easier that having to change dns entries that I have in route 53.

Thank you

Alex"

Amazon EC2	"Re: Kemp Loadbalancer networking question
solution won't work the way I envisioned it"

Amazon EC2	"Re: Kemp Loadbalancer networking question
Try an ubuntu with nginx"

Amazon EC2	"Can NOT RDP anymore - URGENT!!!
Hi,

Have an ec2 instance running ""Microsoft Windows Server 2012 RTM with SQL Server Express"".

RDP was working fine up to a few hours ago.

We have not changed anything on the server.

The only thing I did notice is that the AMI ID reads:
Cannot load details for ami-75294010. You may not be permitted to view it.

The security inbound setting are correct.

Any idea how to fix this issue?"

Amazon EC2	"Re: Can NOT RDP anymore - URGENT!!!
Hello,

In order to better assist you, could you please provide us the instance ID? This way we would be able to investigate and further assist you.

Please let me know if you have any further questions.

Regards,
Anup"

Amazon EC2	"Re: Can NOT RDP anymore - URGENT!!!
Hi,

The instance ID is: i-a1e6f702

We've gone through other helpful threads such as https://forums.aws.amazon.com/thread.jspa?threadID=159957&start=75&tstart=0 and tried troubleshooting ourselves.

RDP just stopped working (well, we noticed it stopped), yesterday.  We'd successfully used the RDP just hours before.. it's a busy production web server.  So we are always going in and updating the website files.

Here's what we've tried in following the troubleshooting advice:


The AWS firewall is open to the world for RDP

Testing the RDC service on the server:
nc -v 52.x.x.xx 3389  - this returns a succeeded!
telnet 52.x.x.xx 3389 - this connects properly.

So this tells us that something is listening on port 3389.

We've rebooted a few times, so it's not old RDP sessions blocking.

We opened the firewall to make sure it's pingable, ping works.

It's a web server and the sites on it are still working.

We've taken a screenshot of the desktop - it shows that the server is waiting at the normal windows login.  This rules out system errors and windows update, etc.

We've tried connecting using windows, mac and linux RDP clients.  The connection is immediately refused - it doesn't ask for a username or password.  Just instant bumping refusal.


I've never seen a server that had RDP break like this.  Either you are blocked due to network config, or bad creds.  Never had one respond to telnet and bounce RDP connections like this.  I suspect maybe another program is using the port, but that's just a vague theory... we haven't added any programs or changed system files, so my #1 suspect is windows update... but again just a theory.

If you'd like to try RDPing, please just send me an email.  We're pretty desperate to get onto the server since one of our sites is busted!

Thanks"

Amazon EC2	"Re: Can NOT RDP anymore - URGENT!!!
Probably something had to do with updates / windows server firewall, since you can ping the DP port and test its connection using a telnet.

To be honest, i always had a secondary way to connect to the server, programs like ""remote utilities"".

Isnt there a secondary windows server at the same network, that yu can use to access first then connect to the server with problems ?"

Amazon EC2	"Cannot explain the extreme bandwidth usage for a start up blog
Hi all,

I've just started using the free tier lately to host a personal Wordpress blog and most visitors would generally be friends plus google crawler.

For several months now I've been paying an AWS bill of over $12, $9 of which is Data transfer.
My zone is Australia and so are the expected visitors to my blog. I found though that a lot of data is being transferred from my site to Singapore (6GB) and Ireland (8GB), USA about (24GB).

(Regional data transfer - in/out/between EC2 AZs or using elastic IPs or ELB) is 240GB.

Is that normal?? If not what should I be looking for or how to start investigating the matter?

Thanks

Edited by: bishoybt on Aug 18, 2016 10:31 PM"

Amazon EC2	"Re: Cannot explain the extreme bandwidth usage for a start up blog
Use some tool like google metrics to monitor your www traffic. Probably your server get compromissed and are being used for other people, this explain the high-traffic.

Lots of ppl try to use EC2, but they lack the information of how to make the server secure or had previous experience with internet server configurations."

Amazon EC2	"Request info from Amazon (Ubuntu Repo)
I Got Ubuntu servers runinng on the North Virginia Amazon Site. They are spread all over east-1b, east-1c, east-1d and east-1e.
I wish an IP Address List of Amazon internal Ubuntu repositories like the example bellow:
http://us-east-1.ec2.archive.ubuntu.com
I do want my servers to had access to it using HTTP and HTTPS access. Today my firewall Outbound Rule is openned to 0.0.0.0/0 and I want fo fix it making sure that only Amazon Official Ubuntu Repositories be accessible and nothing more.

I think this info should be available somewhere, because a good System Adimnistrator will restrict the servers under his administration to had access only to safe sites.

Best Regards,
nickaje"

Amazon EC2	"Re: Request info from Amazon (Ubuntu Repo)
Hi,

Thank you for posting your questions and concerns on AWS Forums.

To restrict the firewall to only access the Ubuntu repositories, you can try to resolve the domain as AWS does not own the repositories. You can modify the software repositories configuration file located at

/etc/apt/sources.list 

The dig results show that Authority section is Ubuntu.com. and Answer section is us-east-1.ec2.archive.ubuntu.com.
ANSWER SECTION: This displays the answer it receives from the DNS. This displays the A record of us-east-1.ec2.archive.ubuntu.com.
AUTHORITY SECTION: This displays the DNS name server that has the authority to respond to this query. Basically this displays available name servers of Ubuntu.com.

dig us-east-1.ec2.archive.ubuntu.com

; <<>> DiG 9.8.3-P1 <<>> us-east-1.ec2.archive.ubuntu.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 53405
;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 4, ADDITIONAL: 4

;; QUESTION SECTION:
;us-east-1.ec2.archive.ubuntu.com. IN	A

;; ANSWER SECTION:
us-east-1.ec2.archive.ubuntu.com. 51 IN	A	54.198.110.211
us-east-1.ec2.archive.ubuntu.com. 51 IN	A	54.205.195.154
us-east-1.ec2.archive.ubuntu.com. 51 IN	A	54.87.136.115
us-east-1.ec2.archive.ubuntu.com. 51 IN	A	54.144.108.75

;; AUTHORITY SECTION:
ubuntu.com.		339	IN	NS	ns2.p27.dynect.net.
ubuntu.com.		339	IN	NS	ns3.p27.dynect.net.
ubuntu.com.		339	IN	NS	ns4.p27.dynect.net.
ubuntu.com.		339	IN	NS	ns1.p27.dynect.net.

;; ADDITIONAL SECTION:
ns1.p27.dynect.net.	77176	IN	A	208.78.70.27
ns2.p27.dynect.net.	77176	IN	A	204.13.250.27
ns3.p27.dynect.net.	77176	IN	A	208.78.71.27
ns4.p27.dynect.net.	77176	IN	A	204.13.251.27

;; Query time: 27 msec
;; SERVER: 10.4.4.10#53(10.4.4.10)
;; WHEN: Wed Sep 30 14:56:15 2015
;; MSG SIZE  rcvd: 264

For a detailed description of these repositories, visit Ubuntu Repositories.

I hope the above information is helpful."

Amazon EC2	"Re: Request info from Amazon (Ubuntu Repo)
Perfect"

Amazon EC2	"Instance still in shut down state
Yesterday I terminated i-860ab930- Vidanet and it's still showing shutting down in process"

Amazon EC2	"Re: Instance still in shut down state
Hi,

I see the instance has been terminated now. 

Thanks,
Avani"

Amazon EC2	"Issue with filter on php api
I just started playing with the aws php api and I feel like this is a beginners question.  I've tried a few things but I can't get filters to work with the Ec2Client.  I've tried tag-key, tag, and hypervisor but none seem to return any results via php for me.

Below are the cli that works and returns 1 instances as I would expect but the php code does not return any instances.

aws ec2 describe-instances --filters ""Name=tag-key,Values=AutoTag_Creator""


$sharedConfig = [
    'region'  => 'us-east-1',
    'version' => 'latest',
];
$ec2Client = $sdk->createEc2();
$instances = $ec2Client->describeInstances([
    'Filters'=> [
        [
            'Name' => 'tag-key',
            'Value' => ['AutoTag_Creator']
        ]
    ]
]);


edit:  I should add that with out the filter I got all instances back including a instance with the AutoTag_Creator tag.

Edited by: bengert on Aug 18, 2016 6:54 PM"

Amazon EC2	"Re: Issue with filter on php api
I figured it out.  The correct key should have been Values not Value.  I'm a little surprised the api end point didn't throw an error.  Hopefully this helps someone else."

Amazon EC2	"EIP becoming invalid
Has anyone seen this happen?

I have a server that has had the same EIP allocated for years.  Yesterday, the service became unavailable.  I spun up a replacement server, re-associated the EIP and, nothing.  After working for a while with the support tech for the application (an appliance), I tried to ping it on the EIP.  Nothing.  Then I assigned a new EIP and pings worked.  We changed our DNS entries to point to this new EIP and re-associated it with the original server and the service was back to normal.

I do not have AWS technical support on the account where this EIP was allocated, so I can't engage them.  Anyone have a thought on why an EIP would become invalid and why, if was intentionally invalidated, we weren't notified?

An added data point.  The service we are running, github enterprise, has an email notification feature which was fixed just prior to the issue with the EIP.  Since it had been disabled for a few months, there was probably a sudden burst of email which was sent out through our on-premises SMTP server.  Is it possible that this set off some AWS security measure which cut the network connection for this server by disabling the EIP?

Edited by: GlennStauffer on Aug 19, 2016 4:45 AM"

Amazon EC2	"0/2 checks passed on a regular basis
My server keeps getting ""0/2 checks passed"" on a regular basis (once a week). Stopping and starting the server helps. But I can't find the underlying issue. Could someone please look into it? My instance id is i-06a44eb6.

Here's the system log right after a stop/start:
[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 3.13.0-48-generic (buildd@orlo) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015 (Ubuntu 3.13.0-48.80-generic 3.13.11-ckt16)
[    0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=d4f2aafc-946a-4514-930d-4c45e676f198 ro console=tty1 console=ttyS0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Centaur CentaurHauls
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000efffffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000080fffffff] usable
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.4 present.
[    0.000000] Hypervisor detected: Xen HVM
[    0.000000] Xen version 4.2.
[    0.000000] Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
[    0.000000] Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
[    0.000000] You might have to change the root device
[    0.000000] from /dev/hd[a-d] to /dev/xvd[a-d]
[    0.000000] in your root= kernel command line option
[    0.000000] No AGP bridge found
[    0.000000] e820: last_pfn = 0x810000 max_arch_pfn = 0x400000000
[    0.000000] x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
[    0.000000] e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
[    0.000000] found SMP MP-table at [mem 0x000fbba0-0x000fbbaf] mapped at [ffff8800000fbba0]
[    0.000000] Scanning 1 areas for low memory corruption
[    0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff]
[    0.000000] init_memory_mapping: [mem 0x80fe00000-0x80fffffff]
[    0.000000] init_memory_mapping: [mem 0x80c000000-0x80fdfffff]
[    0.000000] init_memory_mapping: [mem 0x800000000-0x80bffffff]
[    0.000000] init_memory_mapping: [mem 0x00100000-0xefffffff]
[    0.000000] init_memory_mapping: [mem 0x100000000-0x7ffffffff]
[    0.000000] RAMDISK: [mem 0x37130000-0x3788ffff]
[    0.000000] ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
[    0.000000] ACPI: XSDT 00000000fc00f5a0 000054 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] ACPI: FACS 00000000fc0035a0 000040
[    0.000000] ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: HPET 00000000fc00f4b0 000038 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: WAET 00000000fc00f4f0 000028 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: SSDT 00000000fc00f520 000031 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] ACPI: SSDT 00000000fc00f560 000031 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] No NUMA configuration found
[    0.000000] Faking a node at [mem 0x0000000000000000-0x000000080fffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x80fffffff]
[    0.000000]   NODE_DATA [mem 0x80ffde000-0x80ffe2fff]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x00001000-0x00ffffff]
[    0.000000]   DMA32    [mem 0x01000000-0xffffffff]
[    0.000000]   Normal   [mem 0x100000000-0x80fffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00001000-0x0009dfff]
[    0.000000]   node   0: [mem 0x00100000-0xefffffff]
[    0.000000]   node   0: [mem 0x100000000-0x80fffffff]
[    0.000000] ACPI: PM-Timer IO Port: 0xb008
[    0.000000] ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x01] lapic_id[0x02] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x02] lapic_id[0x04] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x03] lapic_id[0x06] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x04] lapic_id[0x01] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x05] lapic_id[0x03] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x06] lapic_id[0x05] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x07] lapic_id[0x07] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x08] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x09] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0a] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0b] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0c] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0d] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0e] lapic_id[0x00] disabled)
[    0.000000] ACPI: IOAPIC (id[0x01] address[0xfec00000] gsi_base[0])
[    0.000000] IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 15 CPUs, 7 hotplug CPUs
[    0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff]
[    0.000000] PM: Registered nosave memory: [mem 0xf0000000-0xfbffffff]
[    0.000000] PM: Registered nosave memory: [mem 0xfc000000-0xffffffff]
[    0.000000] e820: [mem 0xf0000000-0xfbffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on Xen HVM
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
[    0.000000] PERCPU: Embedded 28 pages/cpu @ffff88080fc00000 s82368 r8192 d24128 u131072
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8257416
[    0.000000] Policy zone: Normal
[    0.000000] Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=d4f2aafc-946a-4514-930d-4c45e676f198 ro console=tty1 console=ttyS0
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] xsave: enabled xstate_bv 0x7, cntxt size 0x340
[    0.000000] Checking aperture...
[    0.000000] No AGP bridge found
[    0.000000] Memory: 32937696K/33554036K available (7385K kernel code, 1145K rwdata, 3408K rodata, 1336K init, 1444K bss, 616340K reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000]  RCU dyntick-idle grace-period acceleration is enabled.
[    0.000000]  RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
[    0.000000]  Offload RCU callbacks from all CPUs
[    0.000000]  Offload RCU callbacks from CPUs: 0-14.
[    0.000000] NR_IRQS:16640 nr_irqs:1208 16
[    0.000000] xen:events: Xen HVM callback vector for event delivery is enabled
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] console [tty1] enabled
[    0.000000] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    0.000000] console [ttyS0] enabled
[    0.000000] allocated 134217728 bytes of page_cgroup
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
[    0.000000] tsc: Detected 2394.508 MHz processor
[    0.008000] Calibrating delay loop (skipped), value calculated using timer frequency.. 4789.01 BogoMIPS (lpj=9578032)
[    0.012003] pid_max: default: 32768 minimum: 301
[    0.014754] Security Framework initialized
[    0.016022] AppArmor: AppArmor initialized
[    0.020003] Yama: becoming mindful.
[    0.024101] Dentry cache hash table entries: 4194304 (order: 13, 33554432 bytes)
[    0.033823] Inode-cache hash table entries: 2097152 (order: 12, 16777216 bytes)
[    0.040445] Mount-cache hash table entries: 65536 (order: 7, 524288 bytes)
[    0.044036] Mountpoint-cache hash table entries: 65536 (order: 7, 524288 bytes)
[    0.048303] Initializing cgroup subsys memory
[    0.050854] Initializing cgroup subsys devices
[    0.052006] Initializing cgroup subsys freezer
[    0.056003] Initializing cgroup subsys blkio
[    0.058515] Initializing cgroup subsys perf_event
[    0.060008] Initializing cgroup subsys hugetlb
[    0.064059] CPU: Physical Processor ID: 0
[    0.066396] CPU: Processor Core ID: 0
[    0.068786] mce: CPU supports 2 MCE banks
[    0.071174] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.071174] Last level dTLB entries: 4KB 64, 2MB 0, 4MB 0
[    0.071174] tlb_flushall_shift: 6
[    0.076220] Freeing SMP alternatives memory: 32K (ffffffff81e6e000 - ffffffff81e76000)
[    0.086084] ACPI: Core revision 20131115
[    0.091238] ACPI: All ACPI Tables successfully acquired
[    0.094406] ftrace: allocating 28562 entries in 112 pages
[    0.121283] Switched APIC routing to physical flat.
[    0.128312] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
[    0.171521] smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz (fam: 06, model: 3f, stepping: 02)
[    0.177289] installing Xen timer for CPU 0
[    0.180071] cpu 0 spinlock event irq 69
[    0.186837] Performance Events: unsupported p6 CPU model 63 no PMU driver, software events only.
[    0.193316] NMI watchdog: disabled (cpu0): hardware events not enabled
[    0.196070] installing Xen timer for CPU 1
[    0.198669] x86: Booting SMP configuration:
[    0.200005] .... node  #0, CPUs:        #1cpu 1 spinlock event irq 75
[    0.217913] installing Xen timer for CPU 2
[    0.220056]   #2cpu 2 spinlock event irq 81
[    0.236101] installing Xen timer for CPU 3
[    0.238577]   #3cpu 3 spinlock event irq 87
[    0.254800] installing Xen timer for CPU 4
[    0.256063]   #4cpu 4 spinlock event irq 93
[    0.272128] installing Xen timer for CPU 5
[    0.274620]   #5cpu 5 spinlock event irq 99
[    0.289929] installing Xen timer for CPU 6
[    0.292065]   #6cpu 6 spinlock event irq 105
[    0.308099] installing Xen timer for CPU 7
[    0.310615]   #7cpu 7 spinlock event irq 111
[    0.325851] x86: Booted up 1 node, 8 CPUs
[    0.328005] smpboot: Total of 8 processors activated (38312.12 BogoMIPS)
[    0.332134] devtmpfs: initialized
[    0.338570] EVM: security.selinux
[    0.340004] EVM: security.SMACK64
[    0.342103] EVM: security.ima
[    0.344004] EVM: security.capability
[    0.346261] pinctrl core: initialized pinctrl subsystem
[    0.348068] regulator-dummy: no parameters
[    0.350533] RTC time: 13:59:45, date: 12/23/15
[    0.352048] NET: Registered protocol family 16
[    0.354708] cpuidle: using governor ladder
[    0.356005] cpuidle: using governor menu
[    0.358380] ACPI: bus type PCI registered
[    0.360005] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.363779] PCI: Using configuration type 1 for base access
[    0.365003] bio: create slab <bio-0> at 0
[    0.366485] ACPI: Added _OSI(Module Device)
[    0.368004] ACPI: Added _OSI(Processor Device)
[    0.370568] ACPI: Added _OSI(3.0 _SCP Extensions)
[    0.372004] ACPI: Added _OSI(Processor Aggregator Device)
[    0.379481] ACPI: Interpreter enabled
[    0.380008] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20131115/hwxface-580)
[    0.385632] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20131115/hwxface-580)
[    0.389627] ACPI: (supports S0 S3 S4 S5)
[    0.392000] ACPI: Using IOAPIC for interrupt routing
[    0.392040] PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
[    0.412408] ACPI: No dock devices found.
[    0.448568] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    0.451963] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI]
[    0.452012] acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
[    0.455706] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
[    0.456773] acpiphp: Slot [0] registered
[    0.459941] acpiphp: Slot [3] registered
[    0.460281] acpiphp: Slot [4] registered
[    0.462906] acpiphp: Slot [5] registered
[    0.464264] acpiphp: Slot [6] registered
[    0.466918] acpiphp: Slot [7] registered
[    0.468266] acpiphp: Slot [8] registered
[    0.470862] acpiphp: Slot [9] registered
[    0.472267] acpiphp: Slot [10] registered
[    0.474932] acpiphp: Slot [11] registered
[    0.476267] acpiphp: Slot [12] registered
[    0.478958] acpiphp: Slot [13] registered
[    0.480274] acpiphp: Slot [14] registered
[    0.482975] acpiphp: Slot [15] registered
[    0.484264] acpiphp: Slot [16] registered
[    0.486945] acpiphp: Slot [17] registered
[    0.488272] acpiphp: Slot [18] registered
[    0.490966] acpiphp: Slot [19] registered
[    0.492254] acpiphp: Slot [20] registered
[    0.494902] acpiphp: Slot [21] registered
[    0.496251] acpiphp: Slot [22] registered
[    0.498855] acpiphp: Slot [23] registered
[    0.500270] acpiphp: Slot [24] registered
[    0.502925] acpiphp: Slot [25] registered
[    0.504275] acpiphp: Slot [26] registered
[    0.506890] acpiphp: Slot [27] registered
[    0.508260] acpiphp: Slot [28] registered
[    0.510927] acpiphp: Slot [29] registered
[    0.512253] acpiphp: Slot [30] registered
[    0.514921] acpiphp: Slot [31] registered
[    0.516259] PCI host bridge to bus 0000:00
[    0.518745] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.520006] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7]
[    0.523317] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff]
[    0.524006] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff]
[    0.527742] pci_bus 0000:00: root bus resource [mem 0xf0000000-0xfbffffff]
[    0.533491] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
[    0.533491] * this clock source is slow. Consider trying other clock sources
[    0.537057] pci 0000:00:01.3: quirk: [io  0xb000-0xb03f] claimed by PIIX4 ACPI
[    0.548541] ACPI: PCI Interrupt Link [LNKA] (IRQs *5 10 11)
[    0.553311] ACPI: PCI Interrupt Link [LNKB] (IRQs 5 *10 11)
[    0.558295] ACPI: PCI Interrupt Link [LNKC] (IRQs 5 10 *11)
[    0.562734] ACPI: PCI Interrupt Link [LNKD] (IRQs *5 10 11)
[    0.580965] ACPI: Enabled 2 GPEs in block 00 to 0F
[    0.584151] xen:balloon: Initialising balloon driver
[    0.588029] xen_balloon: Initialising balloon driver
[    0.592041] init_memory_mapping: [mem 0x810000000-0x817ffffff]
[    0.592070] vgaarb: setting as boot device: PCI:0000:00:02.0
[    0.592072] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
[    0.592073] vgaarb: loaded
[    0.592073] vgaarb: bridge control possible 0000:00:02.0
[    0.592224] SCSI subsystem initialized
[    0.592268] ACPI: bus type USB registered
[    0.592268] usbcore: registered new interface driver usbfs
[    0.592268] usbcore: registered new interface driver hub
[    0.592268] usbcore: registered new device driver usb
[    0.592268] PCI: Using ACPI for IRQ routing
[    0.592357] NetLabel: Initializing
[    0.592357] NetLabel:  domain hash size = 128
[    0.592358] NetLabel:  protocols = UNLABELED CIPSOv4
[    0.592367] NetLabel:  unlabeled traffic allowed by default
[    0.592380] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
[    0.592380] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    0.592380] hpet0: 3 comparators, 64-bit 62.500000 MHz counter
[    0.644923] Switched to clocksource xen
[    0.650678] AppArmor: AppArmor Filesystem Enabled
[    0.653426] pnp: PnP ACPI init
[    0.655405] ACPI: bus type PNP registered
[    0.657900] system 00:00: [mem 0x00000000-0x0009ffff] could not be reserved
[    0.661725] system 00:02: [io  0x08a0-0x08a3] has been reserved
[    0.664981] system 00:02: [io  0x0cc0-0x0ccf] has been reserved
[    0.668243] system 00:02: [io  0x04d0-0x04d1] has been reserved
[    0.671716] system 00:0a: [io  0x10c0-0x1141] has been reserved
[    0.675086] system 00:0a: [io  0xb044-0xb047] has been reserved
[    0.692868] pnp: PnP ACPI: found 11 devices
[    0.695427] ACPI: bus type PNP unregistered
[    0.704997] NET: Registered protocol family 2
[    0.707929] TCP established hash table entries: 262144 (order: 9, 2097152 bytes)
[    0.712622] TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
[    0.716466] TCP: Hash tables configured (established 262144 bind 65536)
[    0.720165] TCP: reno registered
[    0.722299] UDP hash table entries: 16384 (order: 7, 524288 bytes)
[    0.725922] UDP-Lite hash table entries: 16384 (order: 7, 524288 bytes)
[    0.729880] NET: Registered protocol family 1
[    0.732563] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    0.735808] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    0.739132] pci 0000:00:01.0: Activating ISA DMA hang workarounds
[    0.742787] Trying to unpack rootfs image as initramfs...
[    0.853459] Freeing initrd memory: 7552K (ffff880037130000 - ffff880037890000)
[    0.857760] PCI-DMA: Using software bounce buffering for IO (SWIOTLB)
[    0.861293] software IO TLB [mem 0xec000000-0xf0000000] (64MB) mapped at [ffff8800ec000000-ffff8800efffffff]
[    0.866997] microcode: CPU0 sig=0x306f2, pf=0x1, revision=0x25
[    0.870723] microcode: CPU1 sig=0x306f2, pf=0x1, revision=0x25
[    0.874020] microcode: CPU2 sig=0x306f2, pf=0x1, revision=0x25
[    0.877316] microcode: CPU3 sig=0x306f2, pf=0x1, revision=0x25
[    0.880674] microcode: CPU4 sig=0x306f2, pf=0x1, revision=0x25
[    0.883988] microcode: CPU5 sig=0x306f2, pf=0x1, revision=0x25
[    0.887288] microcode: CPU6 sig=0x306f2, pf=0x1, revision=0x25
[    0.891086] microcode: CPU7 sig=0x306f2, pf=0x1, revision=0x25
[    0.894512] microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
[    0.899402] Scanning for low memory corruption every 60 seconds
[    0.903059] Initialise system trusted keyring
[    0.905718] audit: initializing netlink socket (disabled)
[    0.908790] type=2000 audit(1450879186.089:1): initialized
[    0.934156] HugeTLB registered 2 MB page size, pre-allocated 0 pages
[    0.939080] zbud: loaded
[    0.941035] VFS: Disk quotas dquot_6.5.2
[    0.943467] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    0.947491] fuse init (API version 7.22)
[    0.950003] msgmni has been set to 32768
[    0.952438] Key type big_key registered
[    0.955501] Key type asymmetric registered
[    0.957929] Asymmetric key parser 'x509' registered
[    0.960785] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
[    0.965079] io scheduler noop registered
[    0.967421] io scheduler deadline registered (default)
[    0.970392] io scheduler cfq registered
[    0.972839] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[    0.975926] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
[    0.979619] ipmi message handler version 39.2
[    0.982292] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    0.986516] ACPI: Power Button [PWRF]
[    0.988809] input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
[    0.993065] ACPI: Sleep Button [SLPF]
[    0.995565] GHES: HEST is not enabled!
[    0.998316] xen:grant_table: Grant tables using version 1 layout
[    1.002377] Grant table initialized
[    1.004640] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    1.007820] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    1.037535] 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    1.043429] Linux agpgart interface v0.103
[    1.047198] brd: module loaded
[    1.049858] loop: module loaded
[    1.066907] blkfront: xvda: barrier or flush: disabled; persistent grants: enabled; indirect descriptors: enabled;
[    1.075151] scsi0 : ata_piix
[    1.075227] scsi1 : ata_piix
[    1.075245] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
[    1.075246] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
[    1.075431] libphy: Fixed MDIO Bus: probed
[    1.075488] tun: Universal TUN/TAP device driver, 1.6
[    1.075489] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
[    1.075558] PPP generic driver version 2.4.2
[    1.075606] xen_netfront: Initialising Xen virtual ethernet driver
[    1.075615] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.075619] ehci-pci: EHCI PCI platform driver
[    1.075625] ehci-platform: EHCI generic platform driver
[    1.075630] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.075630] ohci-pci: OHCI PCI platform driver
[    1.075637] ohci-platform: OHCI generic platform driver
[    1.075641] uhci_hcd: USB Universal Host Controller Interface driver
[    1.075680] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
[    1.079506] serio: i8042 KBD port at 0x60,0x64 irq 1
[    1.079510] serio: i8042 AUX port at 0x60,0x64 irq 12
[    1.079645] mousedev: PS/2 mouse device common for all mice
[    1.080702] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
[    1.080874] rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
[    1.080925] rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
[    1.080978] device-mapper: uevent: version 1.0.3
[    1.081044] device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
[    1.081055] ledtrig-cpu: registered to indicate activity on CPUs
[    1.081148] TCP: cubic registered
[    1.081223] NET: Registered protocol family 10
[    1.081391] NET: Registered protocol family 17
[    1.081399] Key type dns_resolver registered
[    1.081673] Loading compiled-in X.509 certificates
[    1.082339] Loaded X.509 cert 'Magrathea: Glacier signing key: 4eb2de249917cbf39cb85692e54cebade594d680'
[    1.082350] registered taskstats version 1
[    1.084577] Key type trusted registered
[    1.087106] Key type encrypted registered
[    1.087108] AppArmor: AppArmor sha1 policy hashing enabled
[    1.087109] IMA: No TPM chip found, activating TPM-bypass!
[    1.195662]  xvda: xvda1
[    1.198696] blkfront: xvdf: barrier or flush: disabled; persistent grants: enabled; indirect descriptors: enabled;
[    1.206089]  xvdf: unknown partition table
[    1.208714] Setting capacity to 73400320
[    1.211091] xvdf: detected capacity change from 0 to 37580963840
[    1.215560] blkfront: xvdh: barrier or flush: disabled; persistent grants: enabled; indirect descriptors: enabled;
[    1.223633]  xvdh: unknown partition table
[    1.226241] Setting capacity to 2095054848
[    1.228710] xvdh: detected capacity change from 0 to 1072668082176
[    1.284096] xenbus_probe_frontend: Device with no driver: device/vfb/0
[    1.287759] xenbus_probe_frontend: Device with no driver: device/pci/0
[    1.291267] regulator-dummy: disabling
[    1.293700]   Magic number: 11:586:989
[    1.295956] machinecheck machinecheck2: hash matches
[    1.298883] memory memory32: hash matches
[    1.301374] rtc_cmos 00:04: setting system clock to 2015-12-23 13:59:46 UTC (1450879186)
[    1.305969] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
[    1.309300] EDD information not available.
[    1.313215] Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
[    1.317581] Write protecting the kernel read-only data: 12288k
[    1.322641] Freeing unused kernel memory: 796K (ffff880001739000 - ffff880001800000)
[    1.328479] Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
[    1.343377] systemd-udevd[168]: starting version 204
[    1.355049] ixgbevf: Intel(R) 10 Gigabit PCI Express Virtual Function Network Driver - version 2.11.3-k
[    1.360252] ixgbevf: Copyright (c) 2009 - 2012 Intel Corporation.
[    1.382126] FDC 0 is a S82078B
[    1.880110] tsc: Refined TSC clocksource calibration: 2394.458 MHz
[    2.411755] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
[    2.648113] random: nonblocking pool is initialized
Begin: Loading essential drivers ... done.
 
Begin: Running /scripts/init-premount ... done.
 
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
 
Begin: Running /scripts/local-premount ... done.
 
[    2.867615] EXT4-fs (xvda1): INFO: recovery required on readonly filesystem
[    2.867615] EXT4-fs (xvda1): write access will be enabled during recovery
[    4.035179] EXT4-fs (xvda1): orphan cleanup on readonly fs
[    4.053628] EXT4-fs (xvda1): 6 orphan inodes deleted
[    4.056556] EXT4-fs (xvda1): recovery complete
[    4.065141] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
 
done.
 
Begin: Running /scripts/init-bottom ... done.
 
 * Stopping Send an event to indicate plymouth is up[74G[ OK ]
 
 * Starting Mount filesystems on boot[74G[ OK ]
 
 * Starting Fix-up sensitive /proc filesystem entries[74G[ OK ]
 
 * Starting Populate /dev filesystem[74G[ OK ]
 
 * Starting Populate and link to /run filesystem[74G[ OK ]
 
 * Stopping Fix-up sensitive /proc filesystem entries[74G[ OK ]
 
 * Stopping Populate /dev filesystem[74G[ OK ]
 
 * Stopping Populate and link to /run filesystem[74G[ OK ]
 
 * Stopping Track if upstart is running in a container[74G[ OK ]
 
[    4.440364] EXT4-fs (xvda1): re-mounted. Opts: discard
 * Starting Signal sysvinit that the rootfs is mounted[74G[ OK ]
 
 * Starting Initialize or finalize resolvconf[74G[ OK ]
 
 * Starting Clean /tmp directory[74G[ OK ]
 
Cloud-init v. 0.7.5 running 'init-local' at Wed, 23 Dec 2015 13:59:50 +0000. Up 5.26 seconds.
 
 * Stopping Clean /tmp directory[74G[ OK ]
 
2015-12-23 13:59:50,834 - util.py[WARNING]: Getting data from <class 'cloudinit.sources.DataSourceOVF.DataSourceOVF'> failed
 
cloud-init-nonet[5.66]: waiting 10 seconds for network device
 
[   10.668105] EXT4-fs (xvdh): recovery complete
[   10.672125] EXT4-fs (xvdh): mounted filesystem with ordered data mode. Opts: (null)
 * Stopping Read required files in advance (for other mountpoints)[74G[ OK ]
 
[   11.834071] EXT4-fs (xvdf): recovery complete
[   11.837541] EXT4-fs (xvdf): mounted filesystem with ordered data mode. Opts: (null)
 * Starting set console keymap[74G[ OK ]
 
 * Starting Signal sysvinit that virtual filesystems are mounted[74G[ OK ]
 
 * Starting Signal sysvinit that virtual filesystems are mounted[74G[ OK ]
 
 * Stopping set console keymap[74G[ OK ]
 
 * Stopping Read required files in advance (for other mountpoints)[74G[ OK ]
 
 * Starting Bridge udev events into upstart[74G[ OK ]
 
 * Starting Signal sysvinit that remote filesystems are mounted[74G[ OK ]
 
 * Starting device node and kernel event manager[74G[ OK ]
 
 * Starting load modules from /etc/modules[74G[ OK ]
 
 * Starting cold plug devices[74G[ OK ]
 
 * Starting log initial device creation[74G[ OK ]
 
 * Stopping load modules from /etc/modules[74G[ OK ]
 
 * Starting Uncomplicated firewall[74G[ OK ]
 
 * Starting configure network device security[74G[ OK ]
 
 * Starting configure network device security[74G[ OK ]
 
 * Starting Mount network filesystems[74G[ OK ]
 
 * Stopping Mount network filesystems[74G[ OK ]
 
 * Starting Bridge socket events into upstart[74G[ OK ]
 
 * Starting configure network device[74G[ OK ]
 
 * Starting Mount network filesystems[74G[ OK ]
 
cloud-init-nonet[12.79]: static networking is now up
 
 * Starting configure network device[74G[ OK ]
 
 * Starting set sysctls from /etc/sysctl.conf[74G[ OK ]
 
 * Stopping set sysctls from /etc/sysctl.conf[74G[ OK ]
 
 * Stopping Mount network filesystems[74G[ OK ]
 
Cloud-init v. 0.7.5 running 'init' at Wed, 23 Dec 2015 13:59:58 +0000. Up 12.92 seconds.
 
ci-info: +++++++++++++++++++++++++Net device info+++++++++++++++++++++++++
 
ci-info: +--------+------+-----------+---------------+-------------------+
 
ci-info: | Device |  Up  |  Address  |      Mask     |     Hw-Address    |
 
ci-info: +--------+------+-----------+---------------+-------------------+
 
ci-info: |   lo   | True | 127.0.0.1 |   255.0.0.0   |         .         |
 
ci-info: |  eth0  | True | 10.0.0.14 | 255.255.255.0 | 0e:40:f9:ee:da:af |
 
ci-info: +--------+------+-----------+---------------+-------------------+
 
ci-info: ++++++++++++++++++++++++++++++Route info++++++++++++++++++++++++++++++
 
ci-info: +-------+-------------+----------+---------------+-----------+-------+
 
ci-info: | Route | Destination | Gateway  |    Genmask    | Interface | Flags |
 
ci-info: +-------+-------------+----------+---------------+-----------+-------+
 
ci-info: |   0   |   0.0.0.0   | 10.0.0.1 |    0.0.0.0    |    eth0   |   UG  |
 
ci-info: |   1   |   10.0.0.0  | 0.0.0.0  | 255.255.255.0 |    eth0   |   U   |
 
ci-info: +-------+-------------+----------+---------------+-----------+-------+
 
 * Starting Signal sysvinit that local filesystems are mounted[74G[ OK ]
 
 * Starting flush early job output to logs[74G[ OK ]
 
 * Stopping Failsafe Boot Delay[74G[ OK ]
 
 * Stopping Mount filesystems on boot[74G[ OK ]
 
 * Starting System V initialisation compatibility[74G[ OK ]
 
 * Stopping flush early job output to logs[74G[ OK ]
 
 * Starting D-Bus system message bus[74G[ OK ]
 
 * Starting Bridge file events into upstart[74G[ OK ]
 
 * Starting SystemD login management service[74G[ OK ]
 
 * Starting early crypto disks...       [80G 
[74G[ OK ]
 
Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
 
 * Starting system logging daemon[74G[ OK ]
 
 * Starting Handle applying cloud-config[74G[ OK ]
 
 * Starting AppArmor profiles       [80G 
[74G[ OK ]
 
 * Setting up X socket directories...       [80G 
[74G[ OK ]
 
 * Stopping System V initialisation compatibility[74G[ OK ]
 
 * Starting System V runlevel compatibility[74G[ OK ]
 
 * Starting deferred execution scheduler[74G[ OK ]
 
 * Starting regular background program processing daemon[74G[ OK ]
 
 * Starting save kernel messages[74G[ OK ]
 
 * Starting configure network device security[74G[ OK ]
 
 * Stopping save kernel messages[74G[ OK ]
 
 * Starting nginx - small, powerful, scalable web/proxy server[74G[ OK ]
 
 * Starting automatic crash report generation[74G[ OK ]
 
 * Starting OpenSSH server[74G[ OK ]
 
 * Starting CPU interrupts balancing daemon[74G[ OK ]
 
 * Starting configure virtual network devices[74G[ OK ]
 
 * Starting Seed the pseudo random number generator on first boot[74G[ OK ]
 
 * Stopping Seed the pseudo random number generator on first boot[74G[ OK ]
 
 * Starting ACPI daemon[74G[ OK ]
 
Cloud-init v. 0.7.5 running 'modules:config' at Wed, 23 Dec 2015 13:59:58 +0000. Up 13.50 seconds.
 
 * Stopping Handle applying cloud-config[74G[ OK ]
 
 * Stopping cold plug devices[74G[ OK ]
 
 * Stopping log initial device creation[74G[ OK ]
 
 * Starting enable remaining boot-time encrypted block devices[74G[ OK ]
 
 * Starting save udev log and update rules[74G[ OK ]
 
 * Stopping save udev log and update rules[74G[ OK ]
 
 * Starting MySQL (Percona Server) database server mysqld       [80G 
[74G[ OK ]
 
 * Checking for corrupt, not cleanly closed and upgrade needing tables.
 
PID file found in /usr/local/var/run/ec2_54_165_31_172_compute_1_amazonaws_com.pid
 
[1mStarting Elasticsearch...[0m [32m[OK][0m
 
Starting redis-server: redis-server.
 
open-vm-tools: not starting as this is not a VMware VM
 
landscape-client is not configured, please run landscape-config.
 
 * Restoring resolver state...       [80G 
[74G[ OK ]
 
 * Starting daemon monitor monit       [80G 
[74G[ OK ]
 
 * Stopping System V runlevel compatibility[74G[ OK ]
 
 * Starting execute cloud user/final scripts[74G[ OK ]
 
Cloud-init v. 0.7.5 running 'modules:final' at Wed, 23 Dec 2015 14:00:02 +0000. Up 17.13 seconds.
Cloud-init v. 0.7.5 finished at Wed, 23 Dec 2015 14:00:02 +0000. Datasource DataSourceEc2.  Up 17.20 seconds
 
 
Ubuntu 14.04.3 LTS ip-10-0-0-14 ttyS0
 
ip-10-0-0-14 login: 


Edited by: Alexander Zaytsev on Dec 23, 2015 6:09 AM"

Amazon EC2	"Re: 0/2 checks passed on a regular basis
Turns out the problem occurred because I used custom values when formatting one of my drives. I used mkfs with custom inode-size and bytes-per-inode values. Reformatting again with ""mkfs -t ext4 -T news /dev/xvdh"" solved all my problems."

Amazon EC2	"EC2 Instance - I can not connect with ssh
Hello!
Yesterday I was able to connect seamlessly via ssh to my EC2 instance. But today I have not changed anything and when I try to access tells me: Permission denied (publickey)

Yesterday I was creating a bucket in S3 and to connect with Transmit followed the instructions of this web. Might keys created not now let me connect to my EC2 form ssh in console?

I do not know what to do 
Regards!"

Amazon EC2	"lots of dhcp requests until cannot fork and server become inaccessible
Hello,

I've started a new instance (i-394a3034) 3 days ago and it's becoming inaccessible every day. 
Looking at /var/log/messages I can see the dhcp client is requesting a lease quite often and at some point the message ""dhclient1306: fork: Cannot allocate memory"" appears.
From there the server is not accessible anymore and needs to be rebooted (I suppose it has lost it's internal ip).

<lots of same messages before>
Aug 14 19:39:42 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 172.31.16.1 port 67 (xid=0x73a8f73b)
Aug 14 19:39:42 ip-172-31-27-94 dhclient1306: DHCPACK from 172.31.16.1 (xid=0x73a8f73b)
Aug 14 19:39:44 ip-172-31-27-94 dhclient1306: bound to 172.31.27.94 -- renewal in 1527 seconds.
Aug 14 20:05:30 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 172.31.16.1 port 67 (xid=0x73a8f73b)
Aug 14 20:05:32 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 172.31.16.1 port 67 (xid=0x73a8f73b)
Aug 14 20:05:49 ip-172-31-27-94 dhclient1306: DHCPACK from 172.31.16.1 (xid=0x73a8f73b)
Aug 14 20:25:25 ip-172-31-27-94 dhclient1306: fork: Cannot allocate memory
Aug 14 20:54:56 ip-172-31-27-94 dhclient1306: bound to 172.31.27.94 -- renewal in 557 seconds.
Aug 14 20:58:07 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 172.31.16.1 port 67 (xid=0x73a8f73b)
Aug 14 20:59:42 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:00:42 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:01:58 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:03:12 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:04:55 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:06:03 ip-172-31-27-94 dhclient1306: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x73a8f73b)
Aug 14 21:16:30 ip-172-31-27-94 dhclient1306: fork: Cannot allocate memory
Aug 14 21:19:05 ip-172-31-27-94 dhclient1306: fork: Cannot allocate memory
Aug 14 21:21:28 ip-172-31-27-94 dhclient1306: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 4 (xid=0x3fd070e6)
Aug 14 21:23:02 ip-172-31-27-94 dhclient1306: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 5 (xid=0x3fd070e6)
Aug 14 21:24:23 ip-172-31-27-94 dhclient1306: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 12 (xid=0x3fd070e6)
Aug 14 21:25:42 ip-172-31-27-94 dhclient1306: No DHCPOFFERS received.
Aug 14 21:26:40 ip-172-31-27-94 dhclient1306: No working leases in persistent database - sleeping.
Aug 14 21:29:40 ip-172-31-27-94 dhclient1306: fork: Cannot allocate memory

And so on until I reboot it from the EC2 console.
What would be the best course of action ?


remove DHCP - is that possible ?
restart dhcp client on regular basis ?
increase the number of possible fork (issue will probably arise at some point)
change the renew time to a longer time ?
fix the dhcp client ?


Thanks,

Nicolas"

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
Hi,
i've extactly the same problem.
Did you solve it?

thank you,
Roberto"

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
Hello,

I supposed it was due to some external factor (dhcp server maybe) because the problem stopped after few days.
Now I see one DHCP request every 30 mins or so and it's working fine.

Good luck

Nicolas"

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
I have gotten this today, too, but this is a production server that went down 20 minutes before a press release and I want to know WHY.

Total no-response from Amazon, including for previous questions about S3's functionality as well.

If I figure this out, I will most definitely follow up so that other people who have this problem can solve it and not worry about production servers for a in-dev application for the largest mobile provider in their country! Grrr!"

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
Yes indeed, me too.

/var/log/messages
 
## situation normal ##
....
Nov 18 19:41:32 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 19:41:32 ip-172-31-41-63 dhclient[1903]: DHCPACK from 172.31.32.1 (xid=0x4c399dd0)
Nov 18 19:41:34 ip-172-31-41-63 dhclient[1903]: bound to 172.31.41.63 -- renewal in 1667 seconds.
Nov 18 20:09:21 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 20:09:21 ip-172-31-41-63 dhclient[1903]: DHCPACK from 172.31.32.1 (xid=0x4c399dd0)
Nov 18 20:09:23 ip-172-31-41-63 dhclient[1903]: bound to 172.31.41.63 -- renewal in 1781 seconds.
Nov 18 20:39:04 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 20:39:04 ip-172-31-41-63 dhclient[1903]: DHCPACK from 172.31.32.1 (xid=0x4c399dd0)
Nov 18 20:39:06 ip-172-31-41-63 dhclient[1903]: bound to 172.31.41.63 -- renewal in 1587 seconds.
## server became unreachable at approx. 20:50 ##
Nov 18 21:07:20 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:07:55 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:08:18 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:09:02 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:09:40 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:10:25 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:10:58 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:11:47 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:12:34 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:13:07 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:13:51 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:14:41 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:15:37 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:16:22 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:17:10 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:18:01 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:18:47 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:19:32 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:20:10 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:20:48 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:22:10 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:23:29 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:24:43 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:26:03 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:27:11 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:28:10 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:29:23 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:30:35 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:31:46 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x4c399dd0)
Nov 18 21:32:43 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:33:31 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:34:53 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:36:05 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:37:25 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:38:43 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:40:05 ip-172-31-41-63 dhclient[1903]: DHCPREQUEST on eth0 to 255.255.255.255 port 67 (xid=0x4c399dd0)
Nov 18 21:48:37 ip-172-31-41-63 dhclient[1903]: fork: Cannot allocate memory
Nov 18 21:50:14 ip-172-31-41-63 dhclient[1903]: fork: Cannot allocate memory
Nov 18 21:52:54 ip-172-31-41-63 dhclient[1903]: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 3 (xid=0x7590fb1f)
Nov 18 21:54:15 ip-172-31-41-63 dhclient[1903]: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 6 (xid=0x7590fb1f)
Nov 18 21:55:54 ip-172-31-41-63 dhclient[1903]: DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 7 (xid=0x7590fb1f)
Nov 18 21:56:29 ip-172-31-41-63 dhclient[1903]: No DHCPOFFERS received.
Nov 18 21:57:08 ip-172-31-41-63 dhclient[1903]: No working leases in persistent database - sleeping.
Nov 18 21:59:06 ip-172-31-41-63 dhclient[1903]: fork: Cannot allocate memory
## I rebooted the instance manually, via AWS console ##
Nov 18 22:15:05 ip-172-31-41-63 kernel: imklog 5.8.10, log source = /proc/kmsg started."

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
I'm not sure what AMI you're using, but I can make some educated guesses.

DHClient appears to be saying that it tried to fork off a child to run an external script, but the fork call failed with an out of memory error.  

Obviously, the first thing you should look for is running out of memory. However, I'm almost positive that's not the case at all, or else you'd also be seeing messages from the OOM-Killer.  You also don't seem to have any problems forking off anything else, so the problem seems to be isolated to your dhcp. For fork, this error can mean internal kernel structures.  Literally, it says ""fork()  failed  to  allocate  the  necessary  kernel  structures because memory is tight.""

There's something that could cause obscure out-of-memory errors on a fork to a shell script, though:  A leaking environment variable.  If, for instance, a PATH variable keeps growing every time a script is run, eventually the path will be too big to fit in the environment space, and you might get this error.

Once your machine has run for a while, you might trying running this to see if you've got a variable  running away:

sudo cat /proc/$(pgrep dhclient)/environ


To your specific questions:
    remove DHCP - is that possible ?
You need to run DHCP at least once to get your IP address, but it usually stays static from then on.  Still, you really shouldn't remove it.

    restart dhcp client on regular basis ?
This might be a hack fix, and you might already get this benefit from something like logrotate, but I'd much rather understand where the leak is coming from.

    increase the number of possible fork (issue will probably arise at some point)
There's a maximum number of processes on a machine, but I sincerely doubt that's actually what you're hitting, or else other processes would have problems, too.  Besides, that would return an EAGAIN error instead of ENOMEM.

    change the renew time to a longer time ?
Similar to the hack fix, it might delay the problem, but wouldn't fix it.

    fix the dhcp client ?
If we can find a bug, we'll fix it.  I suspect the problem isn't in the client, though, and is actually hiding in the related scripts."

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
I'm having the same problem with an t2.micro instance on ec2. What is going on??
DHCP seems to fail, and l see lots of fork out of memory errors!!

Instance ID: i-93c333d6

Thanks!"

Amazon EC2	"Re: lots of dhcp requests until cannot fork and server become inaccessible
Hi,

I am also getting same issue on our production server. Please suggest me a solution for this ASAP.

Instance Id : i-d23f3a5c

Regards,
Ankit

Edited by: Ankit on Aug 19, 2016 3:48 AM"

Amazon EC2	"event viewer - ec2config.exe error (failed to update instance information)
Hi Support,

we use windows 2012 r2 instance and so far it works great. 

However, some time ago, the following event entrys appeared and we dont know how to fix this. These appear every few minutes, the search function did not reveal a solution for us.

Can you help us get rid of these events? Thanks in advance!

2016-08-09 09:50:28,028 _Worker-2 ERROR aws:getDocument - Failed to update instance information., RequestId=ba830964-5e16-11e6-b1ed-f13882358e2d,ErrorCode=AccessDeniedException,ErrorType=Unknown,StatusCode=BadRequest,Message=User: arn:aws:sts::360998945411:assumed-role/aws-elasticbeanstalk-ec2-role/i-bb4bef06 is not authorized to perform: ssm:UpdateInstanceInformation on resource: arn:aws:ec2:eu-central-1:360998945411:instance/i-bb4bef06

2016-08-09 09:51:31,339 _Worker-2 ERROR aws:getDocument - User: arn:aws:sts::360998945411:assumed-role/aws-elasticbeanstalk-ec2-role/i-bb4bef06 is not authorized to perform: ssm:ListAssociations, RequestId=e03f6025-5e16-11e6-bec1-c3bac25a594b,ErrorCode=AccessDeniedException,ErrorType=Unknown,StatusCode=BadRequest 
Amazon.SimpleSystemsManagement.AmazonSimpleSystemsManagementException: User: arn:aws:sts::360998945411:assumed-role/aws-elasticbeanstalk-ec2-role/i-bb4bef06 is not authorized to perform: ssm:ListAssociations ---> Amazon.Runtime.Internal.HttpErrorResponseException: The remote server returned an error: (400) Bad Request. ---> System.Net.WebException: The remote server returned an error: (400) Bad Request.
   at System.Net.HttpWebRequest.GetResponse()
   at Amazon.Runtime.Internal.HttpRequest.GetResponse()
   --- End of inner exception stack trace ---
   at Amazon.Runtime.Internal.HttpRequest.GetResponse()
   at Amazon.Runtime.Internal.HttpHandler`1.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.Unmarshaller.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.ErrorHandler.InvokeSync(IExecutionContext executionContext)
   --- End of inner exception stack trace ---
   at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleException(IExecutionContext executionContext, HttpErrorResponseException exception)
   at Amazon.Runtime.Internal.ErrorHandler.ProcessException(IExecutionContext executionContext, Exception exception)
   at Amazon.Runtime.Internal.ErrorHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.RetryHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.ErrorCallbackHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.MetricsHandler.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.Internal.RuntimePipeline.InvokeSync(IExecutionContext executionContext)
   at Amazon.Runtime.AmazonServiceClient.InvokeTRequest,TResponse(TRequest request, IMarshaller`2 marshaller, ResponseUnmarshaller unmarshaller)
   at Amazon.SimpleSystemsManagement.AmazonSimpleSystemsManagementClient.ListAssociations(ListAssociationsRequest request)
   at Amazon.EC2Services.Config.Retry.Retryable.c__DisplayClass9_0`1.<WithExponentialRetry>b__0()
   at Amazon.EC2Services.Config.Internal.Client.Coral.SsmAdapter.GetCurrentDocumentId()
   at Amazon.EC2Services.Config.Internal.Plugins.GetDocument.GetDocumentPlugin.Execute(PluginExecutionContext context, PluginArgs pluginArgs)

2016-08-09 09:51:31,339 _Worker-2 ERROR (null) - Taskaws:getDocument(28 */5 * * * ?).Execute() returned Status = 'Failed', ResultCode = '0', Message = 'User: arn:aws:sts::360998945411:assumed-role/aws-elasticbeanstalk-ec2-role/i-bb4bef06 is not authorized to perform: ssm:ListAssociations, RequestId=e03f6025-5e16-11e6-bec1-c3bac25a594b,ErrorCode=AccessDeniedException,ErrorType=Unknown,StatusCode=BadRequest '"

Amazon EC2	"Re: event viewer - ec2config.exe error (failed to update instance information)
No idea yet? :-/"

Amazon EC2	"Re: event viewer - ec2config.exe error (failed to update instance information)
bump..."

Amazon EC2	"Connection to ports within an EC2 instance.
Hi,
I have successfully created and connected to an instance. I have also installed Interbase server and can connect to the database. However when I run the Webserver it opens up a blank webpage on 127.0.0.1/82.  I have opened port 82, disabled firewall but to no avail.
I have entered the private Ip as well as the public but these bring up errors.

Any suggestions?"

Amazon EC2	"Re: Connection to ports within an EC2 instance.
I figured it out."

Amazon EC2	"ELB Classic bad access log lines
I have two of these lines in my access logs; they are not to spec and fail to parse:

 HTTP/1.1"" ""TLS tester from https://testssl.sh/dev/"" ECDHE-RSA-AES128-GCM-SHA256 TLSv1.2
 HTTP/1.1"" ""TLS tester from https://testssl.sh/dev/"" ECDHE-RSA-AES128-GCM-SHA256 TLSv1.2"

Amazon EC2	"Amazon linux instances SSH freezing
Hello, 
I have a problem with the instances (EC2). SSH freezes after two minutes of instances launch (or reboot). I searched through the AWS forum and this happened to another user.
https://forums.aws.amazon.com/thread.jspa?messageID=482159&#482159
https://forums.aws.amazon.com/thread.jspa?messageID=492752&#492752"

Amazon EC2	"Re: Amazon linux instances SSH freezing
Hello,

This should be fixed now.

Richard"

Amazon EC2	"Instance:  i-5bb0927b stuck in shutting-down state
Hi,

Our instance:  i-5bb0927b are stuck in shutting-down state. Can you terminate it for us?

Thanks,"

Amazon EC2	"Re: Instance:  i-5bb0927b stuck in shutting-down state
Hello,

Our EC2 team is investigating the issue. We'll update you again as soon as we have more information.

Apologies for the inconvenience and frustration this may cause!

Kind regards,
Chris"

Amazon EC2	"Re: Instance:  i-5bb0927b stuck in shutting-down state
Hello,

Instance i-5bb0927b has completed the termination process.

Kind regards,
Chris"

Amazon EC2	"Unable to stop an instance
AWS,

Cannot stop i-069a7fa927ecc4ee2.  Well it is stuck in a ""stopping"" state.

Regards,
Nate"

Amazon EC2	"Re: Unable to stop an instance
Well it seems to have resolved itself.

Regards,
Nate"

Amazon EC2	"Unable to stop an instance
Hi,
Our instance i-87a9378b is stuck in the stopping state after being unresponsive for 2 hours.
It's supposed to be scheduled for instance-stop on 09/01/16.

Can we get some help to stop/terminate it? we already have a new instance created so please don't bring it backup

Thanks you very much.

Edited by: bidding on Aug 18, 2016 11:18 PM"

Amazon EC2	"Re: Unable to stop an instance
Hello,

This instance has been stopped for you.

Happy Friday 

Richard"

Amazon EC2	"EC2 instance in limbo - not stopping
The following instance is in limbo for 2.5 hours now after giving the stop command. Force stop doesn't work either. 

i-2cafd120

Further, the volume screen shows for both volumes:  ""Volume stuck in attaching since 12 days, 3 hours and 40 minutes ago ago.""
Quite odd since the website and hence the server was functioning normally some hours ago."

Amazon EC2	"Re: EC2 instance in limbo - not stopping
Hello,

Instance i-2cafd120 appears to be in the stopped state now. Can you please confirm?

Kind regards,
Chris"

Amazon EC2	"Instance i-40837789 stuck in ""Stopping"" state.
I received an alert at Friday 19 August, 2016 01:23:16 UTC that instance i-40837789 failed a status check.  I've tried to restart it per the troubleshooting instructions, however the instance is stuck in a ""Stopping"" state for over 15 minutes now."

Amazon EC2	"Re: Instance i-40837789 stuck in ""Stopping"" state.
Hello,

It appears that instance  i-40837789 is back up and running. Can you please confirm?

Kind regards,
Chris"

Amazon EC2	"Graphs for EC2/S3 Usage
Do you guys have any plans to display usage graphs instead of forcing users to download the CSV or XML files and trying to build there own? Is there any more information concerning our EC2 instances that you guys can provide us with? Thanks!"

Amazon EC2	"Re: Graphs for EC2/S3 Usage
Hi ranchjn, Thanks for the feedback.  To answer your first question, we do not currently have plans to display usage graphs for an AWS account, seeing user requirements vary so widely, and instead are looking to the community to build their own feature-rich, customized reports.  Regarding your second question, could you provide a little more information about what you'd be looking for in this regard?Thanks - Satyen"

Amazon EC2	"Re: Graphs for EC2/S3 Usage
I have a request pointing in a similar direction. During evaluation of what EC2 can offer compared to other utility computing facilities I am missing an overview of the available resources.What is the average delay before customers get the required number of instances?How often could the request be fulfilled if up to 10, 100 or 1000 instances were requested?(Since there is no SAL some statistics on these two ""benchmarks"" would be extremely useful.)What resources are available to small startups right from the beginning?How many instances do you grant to your average customers, and to your ""top 10"" customers? These numbers should be broken down into the different instance sizes and into temporal divisions, so that I can make a guess what to expect in the months to come.Ajay"

Amazon EC2	"Re: Graphs for EC2/S3 Usage
Hi Satyen, 

If Amazon is looking at the community for building feature-rich customized reporting, will we eventually be able to download these CSV/XML bits via an API?

Thanks, 
Chris Moyer"

Amazon EC2	"Re: Graphs for EC2/S3 Usage
You might try insight4storage from the AWS marketplace, for my buckets it shows graphs and tables for glacier, infrequent access, and standard storage usage summarized by type, bucket, or object prefix, and each contribution to my total footprint.  The data age chart showed my new data usage added weekly, and the cumulative total in glacier, infrequent access, and standard storage classes by bucket/path.  The data categories shows the breakdown contributions of my storage objects by common file extensions so for example i could see what data was an opportunity to compress and save space and cost, like big txt or csv files."

Amazon EC2	"Using AWS EC2 server as DHCP / DNS / AD server with Meraki Firewalls
Hey all!

We have quite a few locations that are all using Meraki Firewalls. We have them configured in a mesh site-to-site VPN. Currently we have a server on site (only one location) and would like to add a backup server with AWS EC2 as we don't want all DNS, DHCP, and AD to be dependent on one location.

Site to Site VPN: Non-Meraki VPN Peer
I started down the road of testing AWS VPC's VPN connection. We had it VPN using Meraki's Non-Meraki VPN peers feature. The only issue is we weren't able to communicate with our EC2 instance from other branches. So then I looked into connecting VPN Connection to all of our branches, but that would be almost $7,000 a year! (Sorry, Amazon... That's not in the budget...)

Soon after I found out that Meraki doesn't allow you to set a DHCP server that's on a Non-Meraki VPN...... So this wouldn't even work anyway. On top of that, we wouldn't be able to connect any more than 1 branch because we're already all VPN'd in with each other and wouldn't be able to do multiple of the same private subnets for our VPC.

Client VPN
Sooo I looked into Meraki's Client VPN. This works... However the IP can and likely will change any time the server reconnects with no way to make it a static IP.... No go... Bah!

Better Solution...?
What would be the best practice to do this? We could technically just go the on-site route with our backup server, but we'd much prefer to go AWS using a VPN connection."

Amazon EC2	"Server.InternalError: Internal error on launch and Unable to Replace Instan
Hi all,

I tried starting my instance this morning, and I got the error Server.InternalError: Internal error.

I tried to stop the instance to start it, and it is now stuck at the stopping state. I tried using the second method mentioned on http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

And I am unable to create a snapshot or force detach the volume because of internal errors. I was wondering if there were any other steps I could perform. The instance ID is: i-edae5466"

Amazon EC2	"Re: Server.InternalError: Internal error on launch and Unable to Replace Instan
Hi,

I see that the instance is now stopped. Sometimes instances get stuck stopping due to issues with the underlying hardware. You can contact us so that we can force stop the instance and you can start it back up on a different hardware.

Regards,
Pavithra K."

Amazon EC2	"Can't connect to my instance
Hello , 

I can't connect through remote desktop to my instance anymore. Instance ID is i-251e7afd and security group assigned to this instance has all traffic opened (TCP/UDP/ICMP). Both status checks are ok and i get an error from remote desktop:

Unable to connect to remote PC. Please verify Remote Desktop is enabled, the remote PC is turned on and available on the network, and then try again.

Can someone please explain how to connect again? 

Thanks"

Amazon EC2	"Re: Can't connect to my instance
Hi,

I see that the instance has been running since the past 15 days. 
Could you please answer the following questions?
1] Have you been experiencing this issue since it was launched?
2] Were any changes made on this instance since launch?
3] Can you try RDPing from another instance in the same VPC using the private IP of this instance?
4] Also, try attaching a secondary ENI to the instance and test connectivity to the secondary ENI.

Regards,
Pavithra"

Amazon EC2	"EC2 Instance Status check failure, shutting down for over an hour
An EC2 instance (i-040070170d2b1e913) seemingly failed at random. After the status check failed, the machine starting shutting down automatically. It's been in `shutting-down` state for over an hour. What happened to this instance?"

Amazon EC2	"Re: EC2 Instance Status check failure, shutting down for over an hour
Hello, 

It looks like the underlying hardware for your instance failed which is why status checks failed and why it was stuck in the ""shutting down"" state. Currently I'm showing it's been properly shut down. Are you showing the same? Can you try starting the instance now? 

Regards,
Nick"

Amazon EC2	"Re: EC2 Instance Status check failure, shutting down for over an hour
All good now, thanks!"

Amazon EC2	"Web page cannot be reached
Hi,

I have 2 instances. The first one located in Sydney - Australia and the second one in USA. I have problem with the first one to access to some webs, for instance:

https://onlineservices.immigration.govt.nz/secure/Login+Working+Holiday.htm

Explorer shows this message: ""page can't be displayed"". I also tried with chrome and firefox but the page is no loaded. If I install an ubuntu instance I got the same issue. I don't have any problem when access to the same page from my USA's instance.

Do you know which the problem could be? Thanks"

Amazon EC2	"Installed mysql55-server, missing mysql-test-run.pl
Hello,
Following the Tutorial  Installing a LAMP Web Server on Amazon Linux , I have run:
sudo yum install -y httpd24 php56 mysql55-server php56-mysqlnd
which seems to have installed MySQL ok (and I have secured it), but I'm unable to find this Perl program that is referenced by output from the install:
mysql-test-run.pl, or the /usr/mysql-test directory that it is supposed to be in.
I can only find the executable /usr/libexec/mysql55/mysqltest

Is there another install, or download, that I need?
thanks,
Bill"

Amazon EC2	"Re: Installed mysql55-server, missing mysql-test-run.pl
There is a separate package called mysql55-test  that has /usr/share/mysql-test and all the contents.

sudo yum install mysql55-test

Enjoy!"

Amazon EC2	"Re: Installed mysql55-server, missing mysql-test-run.pl
Thank you Jason!"

Amazon EC2	"Instance not starting
Hi. My instance isn't starting. It seems to be a network issue as it's stuck in the second step. Can you have a look please - i-63f653db?

Thanks."

Amazon EC2	"Re: Instance not starting
Hi,

I see that the status checks of the instance are failing. I also see that the CPU Utilization of the instance peaked to 100% which is causing the instance health checks to fail.

I would recommend doing a stop/start on the instance and then trying to SSH back into it. Since the instance does not have an elastic IP, a stop/start would change the public IP of the instance. If you are able to SSH into the instance you can diagnose what is causing the stress on CPU. I would also recommend downloading the sysstat package if you do not have it already on the instance.

Regards,
Pavithra"

Amazon EC2	"Instance Suddenly Unreachable
I've seen this several times, 


user reports app is unresponsive, I can't ssh to machine. 


we still get billed. Amazon wants us to pay for support to diagnose, but this seems unfair as some part of EC2 must be at fault?

There was no status message for the region in question. 

Reboots (from the console; shutdown/startup) so far have always resolved. 

We don't have monitoring setup, so I don't know when this starts, only when it is noticed by users. 

What's the best way to find out what's going on? And what kind of things might cause an instance to become unresponsive, via web app on host or ssh, that had worked fine up until now, that a reboot will resolve, if not an EC2 malfunction? 

I would like to avoid in the future, perhaps by using a combination of EC2  monitoring and in-instance monitoring tools that keep historic data points that might provide clues.

Has anyone had a similar issue? 

I wonder if this could be something to do with the IP? I noticed for the last machine this happened with, the IP was public, but wasn't hyperlinked in the console, which I think indicates it isn't an elastic IP? 

However if a reboot resolves ... and I don't believe I had to update the DNS for this host, which means it kept its (non-hyperlinked) public IP, and worked on reboot. 

Would a non-elastic public IP become unresponsive, and then respond when the instance reboots with that same IP? How might I find out? I imagine I could have tried connecting on the machine's private IP from another host on the same subnet?

Or maybe it's not IP related?

Thanks for any pointers!"

Amazon EC2	"Re: Instance Suddenly Unreachable
This happened again, this time I tried removing the elastic IP, releasing and reassigning a new elastic IP, updating DNS, etc. I also unbound the security group that gives me access and rebound it - none of this worked. I was able to connect via netcat to the private IP ssh 22 - from a machine on the same subnet, though I couldn't connect to the machine with the ssh client (and public key) - any idea what this might be?"

Amazon EC2	"Sudden increase in Bandwidth consumption between August 01 - 18:5,090.01 GB
Hello,

We have been using AWS from September 2015, Our bandwidth consumption average was below 50 GB each month. In July It has reached 95 GB, It has reached 1,966.068 GB from August 1st to August 5th. AWS billing team has found few of our port were open to wide range. We had secured open ports in security group, after confirming the security group settings AWS team had credited $285 on 10th August.

Again we faced same issue with high bandwidth consumption and reached 5,090.010 GB till today. Bandwidth is continuously increasing and our billing charge is drastically increasing hour-by-hour.

Suggest us best solution to overcome this issue.

Thanks,
Murugan

Edited by: muruganhb on Aug 18, 2016 4:20 AM"

Amazon EC2	"Unable to detach volune
When i try to detach volune i get error "" vol-11506491: Unable to detach root volume 'vol-11506491' from instance 'i-5314428e' "". So i terminate istance ''i-5314428e', but after that, i get another instance - that again asociating with this 'vol-11506491' volume. What sould i do to eliminate this? Thanks for any help.

Edited by: dewinas on Aug 18, 2016 4:10 AM"

Amazon EC2	"Slow network between EC2 instances for 20 sec.
Hi,

I'm struggling with slow network connections during the first 20 sec. between many but not all nodes of a Hadoop cluster on 65 m1.xlarge instances (1 master, 64 worker nodes) with CDH 5.8.0 on Ubuntu 14.04.03 (ami-41a20f2a) in the us-east-1d zone. Tasks often hang when transferring data between nodes (reducers copying data from mappers, reducers writing to HDFS, mappers reading from HDFS). E.g., data nodes log thousands of warnings:
2016-08-18 09:08:55,910 WARN org.apache.hadoop.hdfs.server.datanode.DataNode: Slow BlockReceiver write packet to mirror took 9357ms (threshold=300ms)


Measuring the network throughput between EC2 instances showed that
  -  network throughput between some instance pairs (those which cause a task to hang) is slow for the first 20 sec. (125 kbit/s - see [1]. After 20 sec. the throughput boosts and reaches 50 Mbit/s [2].
  - other instance pairs show a hight throughput [2]

What could cause this behavior and how to get full network throughput immediately?

Thanks,
Sebastian

[1] slow connection during the first 20 sec.
ubuntu@ip-10-81-218-9:~$ iperf -c ip-10-13-172-70.ec2.internal -i 1 -t 20 -d -l 65536
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
------------------------------------------------------------
Client connecting to ip-10-13-172-70.ec2.internal, TCP port 5001
TCP window size: 93.5 KByte (default)
------------------------------------------------------------
[  5] local 10.81.218.9 port 60938 connected with 10.13.172.70 port 5001
[  4] local 10.81.218.9 port 5001 connected with 10.13.172.70 port 50489
[ ID] Interval       Transfer     Bandwidth
[  4]  0.0- 1.0 sec  5.66 KBytes  46.3 Kbits/sec
[  4]  1.0- 2.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  2.0- 3.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  3.0- 4.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  4.0- 5.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5]  0.0- 1.0 sec   128 KBytes  1.05 Mbits/sec
[  5]  1.0- 2.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  2.0- 3.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  3.0- 4.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  4.0- 5.0 sec  0.00 Bytes  0.00 bits/sec
[  4]  5.0- 6.0 sec  56.6 KBytes   463 Kbits/sec
[  4]  6.0- 7.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  7.0- 8.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  8.0- 9.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  9.0-10.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 10.0-11.0 sec  5.66 KBytes  46.3 Kbits/sec
[  4] 11.0-12.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 12.0-13.0 sec  62.2 KBytes   510 Kbits/sec
[  4] 13.0-14.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 14.0-15.0 sec  5.66 KBytes  46.3 Kbits/sec
[  4] 15.0-16.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5]  5.0- 6.0 sec   128 KBytes  1.05 Mbits/sec
[  5]  6.0- 7.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  7.0- 8.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  8.0- 9.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  9.0-10.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 10.0-11.0 sec  0.00 Bytes  0.00 bits/sec
[  4] 16.0-17.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 17.0-18.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 18.0-19.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 19.0-20.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 20.0-21.0 sec  60.8 KBytes   498 Kbits/sec
[  4] 21.0-22.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5] 11.0-12.0 sec  64.0 KBytes   524 Kbits/sec
[  5] 12.0-13.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 13.0-14.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 14.0-15.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 15.0-16.0 sec  0.00 Bytes  0.00 bits/sec
[  4] 22.0-23.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 23.0-24.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 24.0-25.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  0.0-25.4 sec   384 KBytes   124 Kbits/sec
[  5] 16.0-17.0 sec  64.0 KBytes   524 Kbits/sec
[  5] 17.0-18.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 18.0-19.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 19.0-20.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 20.0-21.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 21.0-22.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  0.0-28.1 sec   448 KBytes   131 Kbits/sec
 
ubuntu@ip-10-13-172-70:~$ iperf -s
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
[  4] local 10.13.172.70 port 5001 connected with 10.81.218.9 port 60938
------------------------------------------------------------
Client connecting to 10.81.218.9, TCP port 5001
TCP window size: 85.0 KByte (default)
------------------------------------------------------------
[  6] local 10.13.172.70 port 50489 connected with 10.81.218.9 port 5001
[ ID] Interval       Transfer     Bandwidth
[  6]  0.0-24.5 sec   384 KBytes   128 Kbits/sec
[  4]  0.0-29.4 sec   448 KBytes   125 Kbits/sec


[2] higher throughput after 20 sec.
ubuntu@ip-10-81-218-9:~$ iperf -c ip-10-13-172-70.ec2.internal -i 1 -t 60 -d -l 65536
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
------------------------------------------------------------
Client connecting to ip-10-13-172-70.ec2.internal, TCP port 5001
TCP window size: 93.5 KByte (default)
------------------------------------------------------------
[  5] local 10.81.218.9 port 60903 connected with 10.13.172.70 port 5001
[  4] local 10.81.218.9 port 5001 connected with 10.13.172.70 port 50386
[ ID] Interval       Transfer     Bandwidth
[  4]  0.0- 1.0 sec  5.66 KBytes  46.3 Kbits/sec
[  4]  1.0- 2.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  2.0- 3.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  3.0- 4.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  4.0- 5.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  5.0- 6.0 sec  55.1 KBytes   452 Kbits/sec
[  4]  6.0- 7.0 sec  8.48 KBytes  69.5 Kbits/sec
[  4]  7.0- 8.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  8.0- 9.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4]  9.0-10.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5]  0.0- 1.0 sec   128 KBytes  1.05 Mbits/sec
[  5]  1.0- 2.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  2.0- 3.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  3.0- 4.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  4.0- 5.0 sec  0.00 Bytes  0.00 bits/sec
[  4] 10.0-11.0 sec  5.66 KBytes  46.3 Kbits/sec
[  5]  5.0- 6.0 sec  64.0 KBytes   524 Kbits/sec
[  5]  6.0- 7.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  7.0- 8.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  8.0- 9.0 sec  0.00 Bytes  0.00 bits/sec
[  5]  9.0-10.0 sec  0.00 Bytes  0.00 bits/sec
[  4] 11.0-12.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 12.0-13.0 sec  56.6 KBytes   463 Kbits/sec
[  4] 13.0-14.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 14.0-15.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5] 10.0-11.0 sec  64.0 KBytes   524 Kbits/sec
[  4] 15.0-16.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 16.0-17.0 sec  42.4 KBytes   348 Kbits/sec
[  4] 17.0-18.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 18.0-19.0 sec  7.07 KBytes  57.9 Kbits/sec
[  4] 19.0-20.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5] 11.0-12.0 sec  64.0 KBytes   524 Kbits/sec
[  5] 12.0-13.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 13.0-14.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 14.0-15.0 sec  0.00 Bytes  0.00 bits/sec
[  4] 20.0-21.0 sec  7.07 KBytes  57.9 Kbits/sec
[  5] 15.0-16.0 sec  64.0 KBytes   524 Kbits/sec
[  5] 16.0-17.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 17.0-18.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 18.0-19.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 19.0-20.0 sec  0.00 Bytes  0.00 bits/sec
[  5] 20.0-21.0 sec  64.0 KBytes   524 Kbits/sec
[  5] 21.0-22.0 sec  3.12 MBytes  26.2 Mbits/sec
[  4] 21.0-22.0 sec  48.1 KBytes   394 Kbits/sec
[  4] 22.0-23.0 sec  5.50 MBytes  46.1 Mbits/sec
[  5] 22.0-23.0 sec  5.69 MBytes  47.7 Mbits/sec
[  5] 23.0-24.0 sec  6.00 MBytes  50.3 Mbits/sec
[  4] 23.0-24.0 sec  5.89 MBytes  49.4 Mbits/sec
[  4] 24.0-25.0 sec  5.84 MBytes  49.0 Mbits/sec
[  5] 24.0-25.0 sec  5.94 MBytes  49.8 Mbits/sec
[  4] 25.0-26.0 sec  5.74 MBytes  48.1 Mbits/sec
[  5] 25.0-26.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 26.0-27.0 sec  5.75 MBytes  48.2 Mbits/sec
[  5] 26.0-27.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 27.0-28.0 sec  5.67 MBytes  47.5 Mbits/sec
[  5] 27.0-28.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 28.0-29.0 sec  5.71 MBytes  47.9 Mbits/sec
[  5] 28.0-29.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 29.0-30.0 sec  5.65 MBytes  47.4 Mbits/sec
[  5] 29.0-30.0 sec  5.69 MBytes  47.7 Mbits/sec
[  4] 30.0-31.0 sec  5.82 MBytes  48.8 Mbits/sec
[  5] 30.0-31.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 31.0-32.0 sec  5.92 MBytes  49.6 Mbits/sec
[  5] 31.0-32.0 sec  5.88 MBytes  49.3 Mbits/sec
[  4] 32.0-33.0 sec  5.85 MBytes  49.1 Mbits/sec
[  5] 32.0-33.0 sec  5.88 MBytes  49.3 Mbits/sec
[  4] 33.0-34.0 sec  5.98 MBytes  50.1 Mbits/sec
[  5] 33.0-34.0 sec  5.94 MBytes  49.8 Mbits/sec
[  5] 34.0-35.0 sec  6.31 MBytes  53.0 Mbits/sec
[  4] 34.0-35.0 sec  6.35 MBytes  53.3 Mbits/sec
[  4] 35.0-36.0 sec  6.18 MBytes  51.9 Mbits/sec
[  5] 35.0-36.0 sec  6.19 MBytes  51.9 Mbits/sec
[  4] 36.0-37.0 sec  6.35 MBytes  53.3 Mbits/sec
[  5] 36.0-37.0 sec  6.31 MBytes  53.0 Mbits/sec
[  4] 37.0-38.0 sec  5.96 MBytes  50.0 Mbits/sec
[  5] 37.0-38.0 sec  5.94 MBytes  49.8 Mbits/sec
[  4] 38.0-39.0 sec  5.91 MBytes  49.6 Mbits/sec
[  5] 38.0-39.0 sec  5.94 MBytes  49.8 Mbits/sec
[  4] 39.0-40.0 sec  5.98 MBytes  50.2 Mbits/sec
[  5] 39.0-40.0 sec  6.00 MBytes  50.3 Mbits/sec
[  4] 40.0-41.0 sec  6.04 MBytes  50.6 Mbits/sec
[  5] 40.0-41.0 sec  6.06 MBytes  50.9 Mbits/sec
[  4] 41.0-42.0 sec  5.75 MBytes  48.3 Mbits/sec
[  5] 41.0-42.0 sec  5.75 MBytes  48.2 Mbits/sec
[  4] 42.0-43.0 sec  5.98 MBytes  50.1 Mbits/sec
[  5] 42.0-43.0 sec  5.88 MBytes  49.3 Mbits/sec
[  4] 43.0-44.0 sec  5.93 MBytes  49.7 Mbits/sec
[  5] 43.0-44.0 sec  5.88 MBytes  49.3 Mbits/sec
[  4] 44.0-45.0 sec  5.89 MBytes  49.4 Mbits/sec
[  5] 44.0-45.0 sec  6.00 MBytes  50.3 Mbits/sec
[  4] 45.0-46.0 sec  5.62 MBytes  47.2 Mbits/sec
[  5] 45.0-46.0 sec  5.62 MBytes  47.2 Mbits/sec
[  4] 46.0-47.0 sec  5.57 MBytes  46.7 Mbits/sec
[  5] 46.0-47.0 sec  5.69 MBytes  47.7 Mbits/sec
[  4] 47.0-48.0 sec  6.05 MBytes  50.8 Mbits/sec
[  5] 47.0-48.0 sec  6.19 MBytes  51.9 Mbits/sec
[  4] 48.0-49.0 sec  6.38 MBytes  53.5 Mbits/sec
[  5] 48.0-49.0 sec  6.44 MBytes  54.0 Mbits/sec
[  4] 49.0-50.0 sec  6.21 MBytes  52.1 Mbits/sec
[  5] 49.0-50.0 sec  6.38 MBytes  53.5 Mbits/sec
[  4] 50.0-51.0 sec  6.52 MBytes  54.7 Mbits/sec
[  5] 50.0-51.0 sec  6.50 MBytes  54.5 Mbits/sec
[  4] 51.0-52.0 sec  6.37 MBytes  53.5 Mbits/sec
[  5] 51.0-52.0 sec  6.25 MBytes  52.4 Mbits/sec
[  4] 52.0-53.0 sec  6.11 MBytes  51.3 Mbits/sec
[  5] 52.0-53.0 sec  6.06 MBytes  50.9 Mbits/sec
[  5] 53.0-54.0 sec  6.69 MBytes  56.1 Mbits/sec
[  4] 53.0-54.0 sec  6.75 MBytes  56.6 Mbits/sec
[  4] 54.0-55.0 sec  6.52 MBytes  54.7 Mbits/sec
[  5] 54.0-55.0 sec  6.56 MBytes  55.1 Mbits/sec
[  4] 55.0-56.0 sec  5.91 MBytes  49.6 Mbits/sec
[  5] 55.0-56.0 sec  5.81 MBytes  48.8 Mbits/sec
[  4] 56.0-57.0 sec  6.12 MBytes  51.4 Mbits/sec
[  5] 56.0-57.0 sec  6.12 MBytes  51.4 Mbits/sec
[  4] 57.0-58.0 sec  6.12 MBytes  51.3 Mbits/sec
[  5] 57.0-58.0 sec  6.06 MBytes  50.9 Mbits/sec
[  4] 58.0-59.0 sec  5.90 MBytes  49.5 Mbits/sec
[  5] 58.0-59.0 sec  5.75 MBytes  48.2 Mbits/sec
[  4] 59.0-60.0 sec  5.26 MBytes  44.1 Mbits/sec
[  5] 59.0-60.0 sec  5.19 MBytes  43.5 Mbits/sec
[  5]  0.0-60.0 sec   231 MBytes  32.3 Mbits/sec
[  4]  0.0-60.0 sec   228 MBytes  31.8 Mbits/sec
 
ubuntu@ip-10-13-172-70:~$ iperf -s
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
[  4] local 10.13.172.70 port 5001 connected with 10.81.218.9 port 60903
------------------------------------------------------------
Client connecting to 10.81.218.9, TCP port 5001
TCP window size: 85.0 KByte (default)
------------------------------------------------------------
[  6] local 10.13.172.70 port 50386 connected with 10.81.218.9 port 5001
[ ID] Interval       Transfer     Bandwidth
[  6]  0.0-60.0 sec   228 MBytes  31.8 Mbits/sec
[  4]  0.0-60.2 sec   231 MBytes  32.2 Mbits/sec


[3] pair of EC2 instances with high network throughput since the first second
ubuntu@ip-10-81-218-9:~$ iperf -c ip-10-166-201-25.ec2.internal -i 1 -t 20 -d -l 65536                            
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
------------------------------------------------------------
Client connecting to ip-10-166-201-25.ec2.internal, TCP port 5001
TCP window size:  280 KByte (default)
------------------------------------------------------------
[  5] local 10.81.218.9 port 60918 connected with 10.166.201.25 port 5001
[  4] local 10.81.218.9 port 5001 connected with 10.166.201.25 port 48061
[ ID] Interval       Transfer     Bandwidth
[  4]  0.0- 1.0 sec  82.8 MBytes   695 Mbits/sec
[  5]  0.0- 1.0 sec  62.0 MBytes   520 Mbits/sec
[  4]  1.0- 2.0 sec  82.1 MBytes   689 Mbits/sec
[  5]  1.0- 2.0 sec  66.1 MBytes   555 Mbits/sec
[  4]  2.0- 3.0 sec  82.4 MBytes   691 Mbits/sec
[  5]  2.0- 3.0 sec  57.6 MBytes   483 Mbits/sec
[  5]  3.0- 4.0 sec  58.6 MBytes   491 Mbits/sec
[  4]  3.0- 4.0 sec  83.8 MBytes   703 Mbits/sec
[  4]  4.0- 5.0 sec  82.8 MBytes   695 Mbits/sec
[  5]  4.0- 5.0 sec  54.1 MBytes   454 Mbits/sec
[  5]  5.0- 6.0 sec  52.7 MBytes   442 Mbits/sec
[  4]  5.0- 6.0 sec  80.1 MBytes   672 Mbits/sec
[  4]  6.0- 7.0 sec  83.2 MBytes   698 Mbits/sec
[  5]  6.0- 7.0 sec  53.5 MBytes   449 Mbits/sec
[  4]  7.0- 8.0 sec  87.0 MBytes   730 Mbits/sec
[  5]  7.0- 8.0 sec  50.1 MBytes   420 Mbits/sec
[  4]  8.0- 9.0 sec  82.8 MBytes   694 Mbits/sec
[  5]  8.0- 9.0 sec  63.8 MBytes   535 Mbits/sec
[  4]  9.0-10.0 sec  82.4 MBytes   692 Mbits/sec
[  5]  9.0-10.0 sec  63.6 MBytes   534 Mbits/sec
[  5] 10.0-11.0 sec  57.0 MBytes   478 Mbits/sec
[  4] 10.0-11.0 sec  87.7 MBytes   735 Mbits/sec
[  4] 11.0-12.0 sec  80.3 MBytes   674 Mbits/sec
[  5] 11.0-12.0 sec  66.2 MBytes   555 Mbits/sec
[  4] 12.0-13.0 sec  85.0 MBytes   713 Mbits/sec
[  5] 12.0-13.0 sec  62.2 MBytes   522 Mbits/sec
[  5] 13.0-14.0 sec  57.0 MBytes   478 Mbits/sec
[  4] 13.0-14.0 sec  84.5 MBytes   709 Mbits/sec
[  4] 14.0-15.0 sec  83.0 MBytes   697 Mbits/sec
[  5] 14.0-15.0 sec  61.1 MBytes   512 Mbits/sec
[  4] 15.0-16.0 sec  85.5 MBytes   717 Mbits/sec
[  5] 15.0-16.0 sec  61.6 MBytes   516 Mbits/sec
[  4] 16.0-17.0 sec  85.3 MBytes   716 Mbits/sec
[  5] 16.0-17.0 sec  62.4 MBytes   524 Mbits/sec
[  4] 17.0-18.0 sec  83.0 MBytes   696 Mbits/sec
[  5] 17.0-18.0 sec  62.2 MBytes   522 Mbits/sec
[  5] 18.0-19.0 sec  62.4 MBytes   523 Mbits/sec
[  4] 18.0-19.0 sec  86.6 MBytes   726 Mbits/sec
[  4] 19.0-20.0 sec  87.8 MBytes   736 Mbits/sec
[  5] 19.0-20.0 sec  57.1 MBytes   479 Mbits/sec
[  5]  0.0-20.0 sec  1.16 GBytes   499 Mbits/sec
[  4]  0.0-20.0 sec  1.64 GBytes   704 Mbits/sec
 
ubuntu@ip-10-166-201-25:~$ iperf -s
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
[  4] local 10.166.201.25 port 5001 connected with 10.81.218.9 port 60918
------------------------------------------------------------
Client connecting to 10.81.218.9, TCP port 5001
TCP window size:  450 KByte (default)
------------------------------------------------------------
[  6] local 10.166.201.25 port 48061 connected with 10.81.218.9 port 5001
[ ID] Interval       Transfer     Bandwidth
[  6]  0.0-20.0 sec  1.64 GBytes   705 Mbits/sec
[  4]  0.0-20.0 sec  1.16 GBytes   499 Mbits/sec"

Amazon EC2	"load balancer monitor Healthy Hosts count is not correct
Hi,
We encounter some metrics problem in the load balancer monitor but only for the Healthy hosts count, it show only half of our server as healthy. The unhealthy one show the correct value i.e 0 also in the instance tabs all is OK and Description tab for the status, all the instance are OK.
We also check the logs of the servers, traffic is correctly balanced between the different instance, so look like only monitoring data problem.
It happen 2 days ago and at this time there was some trouble in our region for load balancer so  thought that it will be fixed after a day or a couple of hour but the metrics are still wrong.
Please, can somebody check after this metrics and make it show the correct data?

We didn't set alarm on this metrics, only on unhealthy hosts but now that we know that the data can be wrong, it can happen for unhealthy hosts so we can mess some alarm.

Just one tips if somebody else see this post it's better to put alarm on both healthy and unhealthy cause the data can be incorrect.

Thanks."

Amazon EC2	"Re: load balancer monitor Healthy Hosts count is not correct
Is there somebody here?

Is there a way to have the correct metrics in the load balancer?
Thanks!"

Amazon EC2	"Re: load balancer monitor Healthy Hosts count is not correct
Thanks for my reply!

We figure out that the ""Cross-Zone Load Balancing"" option was disabled and after enable it the metrics was correct.
If it can be useful for somebody!"

Amazon EC2	"Please set default VPC in region eu-west-1
Hi.

Can you please define the only existing VPC in eu-west-1 as default?

That would be great, we otherwise have to change a lot in our code base!

Thanks in advance,
Markus"

Amazon EC2	"Re: Please set default VPC in region eu-west-1
Hello Markus,

Unfortunately, we cannot set an existing VPC as default. However, I have created a default VPC in your account for eu-west-1 region. 

-Aish

Edited by: AishG@AWS on Aug 17, 2016 8:07 AM"

Amazon EC2	"Re: Please set default VPC in region eu-west-1
Thanks for the information,"

Amazon EC2	"EC2 instance suddenly gets connection closed on ssh attempt
Hello,

I have two EC2 instances, AMI Ubuntu 14.4. Root login stopped working for of them so I rebooted (shutdown -r now).  After that I could no longer connect.  This command:
ssh -vvv -i path/to/.pem ubuntu@<ip>

gives:
...
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Trying private key: path/to/.pem
debug3: sign_and_send_pubkey: RSA SHA256:IADusVKLHUKuvby5dFY4EOh6CAPQQpe+4GhSxpjHrLY
debug2: we sent a publickey packet, wait for reply
Connection closed by <ip>

A similar command on my other, working instance gives:
...
debug1: Next authentication method: publickey
debug1: Trying private key: path/to/.pem
debug3: sign_and_send_pubkey: RSA SHA256:QvCKKc5iJSM+EKF9lKHcu/XYYNLRpWr9+q9b5OkRT6c
debug2: we sent a publickey packet, wait for reply
debug1: Authentication succeeded (publickey).
...
Welcome to Ubuntu 14.04.5 LTS (GNU/Linux 3.13.0-48-generic x86_64)

I noted that after the reboot, (not a stop of the instance, although I did that, too, later) my ssh client told me that the host key had changed, which seemed odd.  Previously, the host key appeared to be the public key of the EC2 key pair, i.e. ssh-rsa AAAAB3NzaC....  Now its something different: ssh-ed25519 AAAAC3Nza...  The same change has occurred for the working instance, but that doesn't affect my ability to connect to it.

The websites hosted on the wayward instance continue to work.

Having suspected the 'available updates' I did to the wayward instance (apt-get upgrade) might have been the culprit, I confirmed that the working instance continued to work after doing the same updates and rebooting.

This is day 3 of the issue for me.  I've read everything I could find about the trials of many other EC2 users who have encountered similar harrowing issues.  I've ensured that I have avoided all the 'dumb' mistakes (wrong or no user name, wrong path to .pem...) and tried all the suggestions (domain name vs ip vs ec2-dns, fussing with local ssh config, stopping the instance and restarting...)  I've tried dozens of other smart and not-so-smart things. 

I've not yet tried the process of creating a new instance, mounting the wayward volume...  see here.  If my fellow forum members, or AWS themselves, confirm that there's nothing less fraught to try than that, I'll either have a stab at it or, maybe better, abort and move to a provider who offers more-flexible authentication.

In any case, I hope we can collect some wisdom about the issue here, hopefully solutions, but perhaps at least preventative measures.

Cheers,

Steve"

Amazon EC2	"sealert in Amazon Linux??
Hi,
I'm looking to enable SELinux on my Amazon Linux instance, but I can't find the sealert tool (or the setroubleshoot package it lives in).
Should there be one available somewhere or do I need to decode SELinux messages ""by hand"" on Amazon Linux?
(I've done the obvious yum searches and enabled EPEL, to no avail)

NB I know it's easily available in RedHat or CentOS. I specifically want to use Amazon Linux."

Amazon EC2	"Re: sealert in Amazon Linux??
Unfortuantely, Amazon Linux does not officially support SELinux at this time, and does not provide the package for sealert. We are looking into the possibility of adding SELinux support, however this is not on our current roadmap."

Amazon EC2	"Custom Action in Auto Scaling group. What is that?
Hello everyone,
I read the article ""Auto Scaling Life Cycle Hooks"" and there are some definition i don't really understand.
https://docs.aws.amazon.com/autoscaling/latest/userguide/lifecycle-hooks.html
First, what exactly ""Custom Action"". Can you give me some example between them and the not custom-actions things?
Secondly, ""If you need more time, you can restart the timeout period by recording the heartbeat"". What is the heartbeat in this sentences? What does it mean?"

Amazon EC2	"Re: Custom Action in Auto Scaling group. What is that?
Any help would be greatly appreciated!"

Amazon EC2	"Re: Custom Action in Auto Scaling group. What is that?
Hello. When Auto Scaling launches your instance, it uses the AMI to set up software on your instance and brings it into service. If you'd like to perform another task (the custom action on your part) before the instance is brought into service, you can use a lifecycle hook to pause the instance startup until you've completed your task. This allows you to do something like install additional software or configure the instance.

I hope this helps. 
Julie"

Amazon EC2	"Unable to access EC2 Ports
Hi,

We have a reserved instance ""m4.xlarge"" with dates from 2016-07-14 18:43 UTC+4 to 2017-07-14 18:43 UTC+4 and. All Upfront. 

Everything worked fine up until August 11, 2016.  

We have correct security group. We have opened multiple ports such as HTTP, PostgreSQL, SSH, HTTPS, however only the SSH port (protocol) is working.  All ports were working fine before August 11th.

What steps can we take to resolve the issue?
Security Group look like :

HTTP TCP 80 0.0.0.0/0
PostgreSQL TCP 5432 0.0.0.0/0
SSH TCP 22 0.0.0.0/0
HTTPS TCP 443 0.0.0.0/0
Custom TCP Rule TCP 19085 0.0.0.0/0
Custom ICMP Rule Echo Request N/A 0.0.0.0/0

I have tomcat with jsvc on port 80/443 but ports is not accessible from internet. 
of course ports works fine from inside host.

can anyone hist what maybe the problem ?
I think some network parameters is incorrect.

I don't use any elastic IP's ... 

Regards,
Paata."

Amazon EC2	"EPEL 7 for Amazon Linux?
Hello,

We've recently started using Amazon Linux 2016.03.  We noticed that epel-release still points to EPEL 6.  At what point will this change to EPEL 7?

David

Edited by: yankeefrog on Mar 25, 2016 5:47 PM
I originally posted this question for the 2016.03 RC; however, the ""real"" AMI was released (and the question remains unanswered)."

Amazon EC2	"Re: EPEL 7 for Amazon Linux?
Hi David!

Unfortunately, due to some major difference between the Amazon Linux AMI and RHEL7, and that epel7 packages are made for RHEL7 specifically, most packages in EPEL7 are not compatible with the Amazon Linux AMI. (For example, RHEL7 assumes you are using systemd, whereas ALAMI does not use it.

Because of this, we can not officially support EPEL7, and so have no plans on making that available natively in the same way that EPEL6 is.

You may be able to manually enable EPEL7 by modifying the config for /etc/yum.repos.d/epel.conf, however it will be hit-or-miss whether any particular install will work, and we do not provide support for that use-case.

Additionally, we are happy to accept and consider any package requests you may have.

Thanks for your interest in the Amazon Linux AMI!"

Amazon EC2	"boto3 RPM for Amazon Linux?
Boto3 is final, which is great, but there is no RPM for Amazon Linux yet. Please provide one. Installing by pip breaks consistency with our RPM based provisioning.

Thank you!"

Amazon EC2	"Re: boto3 RPM for Amazon Linux?
Hi,

We're going to take a look at including this. It should become available in an upcoming updates push. We'll post here again when that happens.

Thanks for the suggestion, and thanks for using the Amazon Linux AMI!

Ethan"

Amazon EC2	"Re: boto3 RPM for Amazon Linux?
Was a boto3 RPM ever created for Amazon Linux?"

Amazon EC2	"Re: boto3 RPM for Amazon Linux?
Yes!

It is available via yum as python27-boto3 and python26-boto3, depending on what version of python you are using.

Thanks for using the Amazon Linux AMI!"

Amazon EC2	"Instance not stopping !!!!
Hello AWS support. 

The following instance has been in a stopping state for a few hours. 
ID: (i-06616885)

I issued a ""Stop"" command using the console, but it wouldn't stop. I tried the ""Force Stop"" command, but it is still in a ""Stopping"" state. Will you please check on it ASAP?

Thank you!"

Amazon EC2	"Re: Instance not stopping !!!!
Hi,

I can see that the instance i-06616885 is  stopped now. 

We apologize for the inconvenience caused. 

-
Aish"

Amazon EC2	"Re: Instance not stopping !!!!
Stopped now, thanks."

Amazon EC2	"Roundcube
Hi There,
I would love to install roundcube using the repository yum,
However
yum install  roundcubemail

returns with dependency issues

The system is Amazon LInux updated today, even added EPL,
roundcube requires  php-pear-Auth-SASL 1.0.6 , but an older version is on the Amazon Linux

--> Running transaction check
---> Package roundcubemail.noarch 0:1.0.9-1.el6 will be installed
--> Processing Dependency: php-pear(Net_Sieve) >= 1.3.2 for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pear(Net_IDNA2) >= 0.1.1 for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pear(Mail_mimeDecode) >= 1.5.5 for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pear(Mail_Mime) >= 1.8.1 for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pear(Auth_SASL) >= 1.0.6 for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pspell for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-pear(Net_SMTP) for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-ldap for package: roundcubemail-1.0.9-1.el6.noarch
--> Processing Dependency: php-intl for package: roundcubemail-1.0.9-1.el6.noarch
--> Running transaction check
---> Package php-pear-Mail-Mime.noarch 0:1.8.4-1.el6 will be installed
--> Processing Dependency: php-pear(PEAR) >= 1.6.0 for package: php-pear-Mail-Mime-1.8.4-1.el6.noarch
--> Processing Dependency: /usr/bin/pear for package: php-pear-Mail-Mime-1.8.4-1.el6.noarch
--> Processing Dependency: /usr/bin/pear for package: php-pear-Mail-Mime-1.8.4-1.el6.noarch
---> Package php-pear-Mail-mimeDecode.noarch 0:1.5.5-1.el6 will be installed
---> Package php-pear-Net-IDNA2.noarch 0:0.1.1-3.el6 will be installed
---> Package php-pear-Net-SMTP.noarch 0:1.6.1-1.2.amzn1 will be installed
--> Processing Dependency: php-pear(Net_Socket) >= 1.0.7 for package: php-pear-Net-SMTP-1.6.1-1.2.amzn1.noarch
--> Processing Dependency: php-pear(Auth_SASL) for package: php-pear-Net-SMTP-1.6.1-1.2.amzn1.noarch
---> Package php-pear-Net-Sieve.noarch 0:1.3.4-1.el6 will be installed
---> Package php56-intl.x86_64 0:5.6.24-1.126.amzn1 will be installed
---> Package php56-ldap.x86_64 0:5.6.24-1.126.amzn1 will be installed
---> Package php56-pspell.x86_64 0:5.6.24-1.126.amzn1 will be installed
--> Processing Dependency: libpspell.so.15()(64bit) for package: php56-pspell-5.6.24-1.126.amzn1.x86_64
--> Processing Dependency: libaspell.so.15()(64bit) for package: php56-pspell-5.6.24-1.126.amzn1.x86_64
---> Package roundcubemail.noarch 0:1.0.9-1.el6 will be installed
--> Processing Dependency: php-pear(Auth_SASL) >= 1.0.6 for package: roundcubemail-1.0.9-1.el6.noarch
--> Running transaction check
---> Package aspell.x86_64 12:0.60.6-12.7.amzn1 will be installed
---> Package php-pear.noarch 1:1.10.1-1.19.amzn1 will be installed
---> Package php-pear-Auth-SASL.noarch 0:1.0.4-1.2.amzn1 will be installed
---> Package php-pear-Net-Socket.noarch 0:1.0.10-1.2.amzn1 will be installed
---> Package roundcubemail.noarch 0:1.0.9-1.el6 will be installed
--> Processing Dependency: php-pear(Auth_SASL) >= 1.0.6 for package: roundcubemail-1.0.9-1.el6.noarch
--> Finished Dependency Resolution
Error: Package: roundcubemail-1.0.9-1.el6.noarch (epel)
           Requires: php-pear(Auth_SASL) >= 1.0.6
           Available: php-pear-Auth-SASL-1.0.4-1.2.amzn1.noarch (amzn-main)
               php-pear(Auth_SASL) = 1.0.4
Error: Package: roundcubemail-1.0.9-1.el6.noarch (epel)
           Requires: php-pear(Auth_SASL) >= 1.0.6
           Installing: php-pear-Auth-SASL-1.0.4-1.2.amzn1.noarch (amzn-main)
               php-pear(Auth_SASL) = 1.0.4
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest"

Amazon EC2	"Re: Roundcube
The newer php-pear-Auth-SASL is available in the epel repository - the same place you are getting roundcubemail. However, the repositories by default will priorities the amazon repos over the epel if they both provide the same package, even if the Amazon repository's version is lower. (which is the case in this scenario)

To get around this, you can temporarily disable the amazon repos when install the package. This can be done by running the following:
sudo yum install --disablerepo='amzn-*' roundcubemail
However, due to the fact that some other packages in amzn repositories are still needed, this will probably not work directly. (eg, it will need to install php-pear from amzn repository, which needs to be done before disabling the repo).

I found the following sequence of commands worked for me:
sudo yum install php-pear
sudo yum install --disablerepo='amzn-*' php-pear-Auth-SASL
sudo yum install roundcubemail

The following also worked:
sudo yum install --exclude=php-pear-Auth-SASL-0:1.0.4-1.2.amzn1.noarch --exclude=php5\* --exclude=httpd24\* roundcubemail

The extra --excludes for php5\* and httpd24\* are required to prevent yum from trying to update to a newer version of php and httpd than what is used by roundcubemail. Instead you will be using the older httpd2.2 and php5.3.
If you want to use newer versions of php and httpd, I would recommend installing roundcubemail from source.

I hope this helps! let me know if you have any further questions."

Amazon EC2	"Application Load Balancer - can we route based on domain/subdomain?
Is it possible to use Application Load Balancer to route based on request domain/subdomain, rather than by request URL path?
If not, are there plans to support that soon?"

Amazon EC2	"Re: Application Load Balancer - can we route based on domain/subdomain?
I too was hoping for this feature and posted about in the ECS forums https://forums.aws.amazon.com/thread.jspa?threadID=237504"

Amazon EC2	"Sudden drop of credits
Hi

Instance i-9aa0ba7d has three times this week suddenly lost all of its credit. There are no CPU usage that explains the drop that seems to happen in a very short timeframe, seconds.
The drop be seen very clearly in the attached screen dump.

Please advise.

Regards Jonas Ek"

Amazon EC2	"Re: Sudden drop of credits
I'm having similar issues with a client site where for no apparent reason the credits drop from 400 to 80 and if this happens during the day the server crashes."

Amazon EC2	"Instances stuck in shutting down state for over a week
Hi, 
My instances i-bab1188f , i-5e62c86b , i-9016bda5 have been in shutting down state for over a week now after I tried to terminate them. I tried through command-line also, but did not work.

Could you please terminate them?

Is there a way to avoid this in the future?

Thanks,
Lipi."

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hi Lipi,

I'm so sorry about this. We're investigating this issue and will update you as soon as we have more information.

Kind regards,
Chris"

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hi,

Any luck with this issue?

Thanks,
Lipi."

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hi,

Any luck with this issue?

Thanks,
Lipi."

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hi Lipi,

I'm following up with our internal service team and we'll get back to you as soon as we have any news about it.

Cheers
Eduardo C"

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hello Lipi,
Thank you very much for waiting on this issue. The issue has been corrected by our EC2 service team. Do you still see the same? Let us know.

Cheers
Najah N."

Amazon EC2	"Re: Instances stuck in shutting down state for over a week
Hello,

I do not see the instances anymore. Thank you very much for solving the issue.

Thanks,
Lipi."

Amazon EC2	"Hung instance. Cannot reboot i-9f0b9e74
This instance is hung. Responding to pings but cannot ssh and cannot reboot.

HELP!!!"

Amazon EC2	"Instance not stopping
Hi, We have an instance that is not shutting down, i-6c76e152 could we please get some assistance. Thanks Tim"

Amazon EC2	"Re: Instance not stopping
Hi Tim,

I can see that the instance has been stopped now. We apologize for the inconvenience this had caused. 

Best,
Aish"

Amazon EC2	"Instance refusing to stop
I have an EC2 (i-a8f1230a) that stopped responding completely and went to 0/2 status checks.  It's role isn't one that couldn't afford being stopped and restarted onto new hardware, so rather than submit a service request at the time, I just asked to to stop (negating my ability to submit a service ticket).

After 30 minutes of waiting, I asked it to forcefully stop.

Now it's been nearly an hour and I still have no way of restarting the instance because it is perpetually stuck in the stopping state.  Can someone please have a look and see if anything can be done to get my instance into a cleanly stopped state so I can start it up again?

Thanks!"

Amazon EC2	"Re: Instance refusing to stop
Hello, 

I'm showing your instance is properly stopped at this point in time. Are you seeing the same? 

Regards,
Nick"

Amazon EC2	"Re: Instance refusing to stop
Hi, Nick.

Yes, our staff in the UK started it back up again in their morning, so I'm assuming they also found it stopped when they got in about 5 hours ago and took over where I left off.  Thanks for checking on it though.

--Karl"

Amazon EC2	"Query relating to using EBS with EC2
Greetings!

I'm investigating easily increasing the storage available to an EC2 instance. I generally attach a 10GB EBS volume by default to new instances. But I'm just curious as to if I wanted to increase the storage amount could I,


Attach a second EBS volume to the same instance so there's two 10GB EBS volumes
Or do I've to follow the process in the documentation of taking a snapshot of the existing volume, creating and attaching a larger volume to the instance, using the snapshot with said volume, then reconfigure the instance to recognise the new amount of storage?


Thanks for the help!"

Amazon EC2	"Re: Query relating to using EBS with EC2
Hello,

If you attach a new EBS volume to an instance, this volume will be recognized by the Operating System as a new disk. This new volume can be either mounted as a new drive or be used to extend the existing disk, for example, using dynamic volumes in Windows or to create RAID volumes.

Our documentation guides you through the steps to have your current volume resized, which is usually the most recommended approach as it's a contiguos space from the OS perspective.

Linux - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html
Windows - http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

Cheers,
Eduardo"

Amazon EC2	"HTTPCode_ELB_5XX error
Hi Guys,

I'm getting HTTPCode_ELB_5xx error, however as per ELB healthcheck and healthyhostcount, my both backend instances are working fine. I have already explored backend log files and could not find any error.

my ELB: TC-APP-ELB-251231888.us-west-2.elb.amazonaws.com
same is accessable from http://app.truconversion.com and http://console.truconversion.com

any suggestions please."

Amazon EC2	"Spot instances limit of one?
Hi there,

I'm trying to request more spot instances, I only have one at the moment, but I keep getting the error spotInstanceCountLimitExceeded.

From the documentation, the default limit seems to be 20, but I can only get 1.

Is there a one limit for new accounts or something?

Thanks,
Isaac"

Amazon EC2	"Re: Spot instances limit of one?
Hi Isaac,
Spot instance request limits are dynamic. When your account is new, your limit might be lower than 20 to start, but can increase over time. If you're receiving an error that your Spot instance count limit has been exceeded, you can submit a limit increase request at the AWS Support Center [1] by indicating that you want to raise your Spot request limits in the Usage Description field. You can also read more about Spot request limits in the Amazon EC2 User Guide [2].

Regards,
Anu

[1] https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-instances
[2] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html#spot-limits-general"

Amazon EC2	"Re: Spot instances limit of one?
hi Anu,

thanks for your reply, I wasn't expecting to be as low as 1.

I'll request an increase of the limit.

Cheers,
Isaac"

Amazon EC2	"CloudFront-Viewer-Country is not returning country code in some mobile.
Hi,
Can any body help us, i have used ""CloudFront-Viewer-Country"" but its not returning country code in mobile devices.
Below codes  in .NET
protected void Page_Load(object sender, EventArgs e)
   { 
Request.Headers;               
   }
Edited by: vinod on Aug 17, 2016 3:50 AM

Edited by: vinod on Aug 17, 2016 3:51 AM"

Amazon EC2	"EBS IOPS calculation for performance
Hi, I want to launch an instance for DB production. The is not very large though. 
For 500GB hard drive I receive 1500/3000 IOPS. which is approx. 350Mbs. 
I think this means that the instance can transfer up to 350 Mb of data before the performance starts degrading.
This also depends on how frequent the instance finishes this 1500IOPS. If it downloads data of 1Mbs, then after 350 seconds the IOPS will be zero and the performance is affected. is that right?  
How can I know the baseline performance of my instance?

are designed to deliver within 10% of the provisioned IOPS performance 99.9% of the time
Do you know how this statement applies to my case? I cannot get it very well.

Edited by: Saman-tea on Aug 16, 2016 9:49 PM"

Amazon EC2	"Re: EBS IOPS calculation for performance
Read about I\O credits and burst.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html"

Amazon EC2	"What's the difference between IOPS and Throughput?
Hello everyone,
So today i read one AWS article about Elastic Block Store.
I was kind of confused understand the difference between IOPS and Throughput.
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html
I thought they were the same but seem like i was wrong.
Someone please tell me what's the difference between them and which one is more important when it comes to EBS in particular and performance disk in general?
Any answer would be greatly appreciated!"

Amazon EC2	"Re: What's the difference between IOPS and Throughput?
Any help would be greatly appreciated!"

Amazon EC2	"Re: What's the difference between IOPS and Throughput?
For example
I have a SSD with 100 IOPS and 50 MB/s throughput
Does that mean i'll have 100 * 50 = 5000 MB/s?"

Amazon EC2	"Re: What's the difference between IOPS and Throughput?
Throughput = IOPS x I/O size
Your I/O size can't be 50MB each. It depends on block size and commonly it is 4kb to 64kb.

Edited by: cipherRC on Aug 16, 2016 3:08 AM"

Amazon EC2	"Re: What's the difference between IOPS and Throughput?
Hi cipherRC,
I'm a little confused about the definiton of I/O size and block size. What define the number of kb for each block size?"

Amazon EC2	"Re: What's the difference between IOPS and Throughput?
It defined, in fact, by filesystem block size. For example, in Windows default block size is 4k, but you can raise it to 64k. In this case, you will get 6,4MB\sec throughput with 100 IOPS. You can raise block size in filesystem futher, and then you will be capped by maximum throughput in your disk."

Amazon EC2	"Load Balancing is working not properly
Dear AWS Support

Currently my ELB is not working properly. It work properly for all HTTP requests. But for HTTPS requests, it just redirects to one of my server.  Two server has same configuration. And I can connect to HTTPS normally on both servers without using ELB.

The status on ELB DashBoard still shows InService for both servers.

Could you please check? I just use only one ELB in Ireland region.

Thank you"

Amazon EC2	"Re: Load Balancing is working not properly
Sorry, the problem has been fixed.
I added Backend Certificate before but haven't updated new one when renewal the SSL certificate .

Thanks"

Amazon EC2	"Question about EC2 auto-scaling and anti-SPAM check
We would like to send emails with sendmail service in AWS EC2 instance. So we want to make a request to AWS to help us remove the email sending limitations. Our detailed demands can be found here.

In the request form(as shown here), apart from asking us to provide the use case discription to remove email sending limit, AWS also suggest us to provide Elastic IPs and reverse DNS records to avoid having email flagged as SPAM.

The question is we are using auto-scaling EC2 instances, which means we have many dynamic instances and may not be able to provide fixed EIPs, but we still want to avoid having emails flagged as SPAM. Does anyone know how to solve this problem?

Regards,
Xifeng

Edited by: xifeng on Aug 16, 2016 10:50 PM"

Amazon EC2	"network latency to aws instances/elb
We are seeing increased latency to the us-west-1 region via zayo where the latency starts to climb when it hits an amazon router.  are you aware of any issues going on at the moment?  please see the traceroute below:

     3 ms     3 ms     3 ms  ge-11-2-5.mpr1.lax103.us.above.net http://209.133.90.37
     5 ms     4 ms     4 ms  ae3.cr1.lax112.us.zip.zayo.com http://64.125.20.225
    15 ms    14 ms    14 ms  ae27.cs1.lax112.us.eth.zayo.com http://64.125.30.184
    20 ms    14 ms    14 ms  ae2.cs1.sjc2.us.eth.zayo.com http://64.125.28.144
    14 ms    14 ms    14 ms  ae27.cr1.sjc2.us.zip.zayo.com http://64.125.30.231
    15 ms    14 ms    14 ms  ae16.mpr3.sjc7.us.zip.zayo.com http://64.125.31.13
210 ms   207 ms   209 ms  equinix02-sfo5.amazon.com http://206.223.116.236
   189 ms   183 ms   183 ms  54.240.242.108
   214 ms     *      215 ms  54.240.242.127
   207 ms   215 ms   220 ms  72.21.222.17"

Amazon EC2	"Re: network latency to aws instances/elb
Hello,

Thank you for writing into the Forums.

Earlier this morning we were investigating a potential high latency traffic issue impacting some customers, can you confirm if you are still seeing this latency?

Regards,
Troy W"

Amazon EC2	"Re: network latency to aws instances/elb
We saw increased latency from about 7:15am PST to 11:30am PST.

Shouldn't this have been logged in http://status.aws.amazon.com/?"

Amazon EC2	"Re: network latency to aws instances/elb
I have been doing measurements of latency between clouds (AWS,GCP,MAZ) and have noticed that many tuples of cloud presences can't go 24 hours without a latency or loss artifact. Specifically, there are tons of spikes but there are also shelfs, horizontal periods of time when the latency is consistently 20ms higher for example for a period of time. I have tried both the cheap instances (t2. free tier) and m3.large as a dedicated instance. Still seeing a ton of anomalies.

Anyone else investigated this already? URL(s) please?

I have graphs and specifics I can share but not sure how to paste images into the forum. I can privately share a URL to my site where you can see the data points and bring up graphs from the data.

Bill"

Amazon EC2	"EC2 Instance Refuses to Stop
I think I'm not the first person to have this problem today.  I had a instance that was up but unresponsive (i-f9761517).  I attempted to stop, then attempted multiple force stops and the instance is still in a shutting down state.

Can I get some help getting this instance back to a controlled state?

Edited by: Mike Howlett on Aug 16, 2016 4:56 PM"

Amazon EC2	"Re: EC2 Instance Refuses to Stop
Server is back under control."

Amazon EC2	"Remote Desktop can't connect
Greetings:

I am trying to RDP into i-c8595efd (ec2-54-218-118-13.us-west-2.compute.amazonaws.com, vpc ID: vpc-99e883f1), but no matter which security group I use, I get the dreaded 'cannot connect'.  I have rebooted the instance, but that did not help.  I can RDP into another EC2 instance with no problem from this same workstation, so it is not a firewall or router setting.  I even tried to RDP into it from my other EC2 server without success.  I have been able to RDP in once before, but disconnected and have not been able to RDP in since (and have rebooted the instance since then).  

Please let me know what I need to do to get RDP access to this instance."

Amazon EC2	"Re: Remote Desktop can't connect
Hi there jdk2u,

I've taken a look at your instance ( i-c8595efd) and it seems to be passing health checks OK, but it appears that it is not responding to network requests.

I've noticed a few things here:

The instance is a T1.Micro running Windows Server 2012 - I can see that the instance seemed to 'flatline' at 100% CPU Utilization from 01:16 to 03:36 6th July UTC. This would have caused the instance to become unresponsive for the duration. Has there been an event that you know of that would have caused this CPU demand? Was this the time you lost connectivity with the instance?

If so, it's likely the OS may have become unresponsive. An instance Stop and Start should get you back up and running for now, but you may wish to investigate upgrading this instance to a larger instance size to future proof yourself here


That 2 days ago, a new volume was attached to this instance at the following mount point xvdf. Was this when you were no longer able to access this instance?


Can I also ask if you have made any network configuration changes inside of your instance such as setting a StaticIP address?

Best regards,
Phil P"

Amazon EC2	"Re: Remote Desktop can't connect
Thank you for your response.

We had only downloaded a couple of applications that we will be hosting on the instance, but had not yet installed them.  There should not have been anything running (other than the OS) on the instance since we had not started anything.  We had created the new volume to hold the apps.  We plan to set up a demo of our apps on this instance with the intent to migrate to a much larger instance for production, once we are more familiar with the environment.  We lost access after we had completed the downloads, but before installing them (2 days ago - took the 4th off .  No other changes to the base instance was made.  Wouldn't a reboot clear any issues that a stop/start would?  Should we delete and recreate the instance?

Thanks!"

Amazon EC2	"Re: Remote Desktop can't connect
Hi there jdk2u,

As long as you do not use any of the Instance Store volumes (which are temporary storage only), then I would suggest that you try an Instance Stop and Start rather than an OS reboot as this will help clear out any Instance level problems that may exist.

Failing that, if you are easily able to create a new instance with your application configuration, that may be the easiest and quickest path to a resolution for you.

I would still suggest that you should look to increasing the Instance Size from a T1.Micro to at least an M1.Small, especially for Windows which needs a little more memory and CPU resources. More information on the instance sizes can be found here:
http://aws.amazon.com/ec2/instance-types/

Best regards,
Phil P"

Amazon EC2	"Re: Remote Desktop can't connect
Greetings, Phil:

Still no go after a start/stop.  With the new IP address I was hoping that the network issue would clear, but I still can't get an RDP connection.  Anything on your end?

This is a free tier instance.  Can we kill this one and create another free tier instance (saving the second volume to connect to the new instance)? 

I'll discuss moving up to larger instance with my boss.

Cheers."

Amazon EC2	"Re: Remote Desktop can't connect
Hi there jdk2u,

Confirming I'm still seeing the same symptoms on my end. It could very well be that the Windows Firewall on the instance has been re-set and is blocking inbound connections.

At this stage, I would be advising you to Stop this instance, detach the root volume (vol-408f9778) from this instance and then Launch a new Windows instance. Once the new instance is launched, you will be able to attach your existing volume (vol-408f9778) to your new instance as a secondary volume.

You can have multiple T1.Micro instances under the Free Tier scheme, any running instances will use your combined free time. So if you Stop your first instance, this will not impact your available free time.

Take a look over the following page with information around attaching additional volumes to instances:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

I hope this helps,

Best regards,
Phil P"

Amazon EC2	"Re: Remote Desktop can't connect
Ok.  I stopped the offending instance and created a new one that seems to work as expected.  I hope these problems don't happen often!  I strongly recommended that we 'invest' in a larger instance (we can always keep this one as a web front end or some other use).

Thanks for the help.
--jd--"

Amazon EC2	"Re: Remote Desktop can't connect
I am having the same problem, not able to connect via Remote Desktop:

Instance ID: i-ef14782d
Windows 2012


I have tried both the public IP and the public DNS
My client-side firewall is disabled
The Security Group rules explicitly open inbound traffic to port 3389 from 0.0.0.0/0
Tried stopping/starting the instance, creating a new one, etc.


Kind of at a loss of what to do here. Any ideas, folks at Amazon?

Thanks a bunch!"

Amazon EC2	"Re: Remote Desktop can't connect
I have  same issues for all my instance.  I delete them all and create  new one, but non of  instance works.   I did  look at all the options above  but  did not have luck I'm using windows 10. Any advise?

 my instance is  i-d6e19e93  i-d6e19e93"

Amazon EC2	"Application latency/response time as a scaling metric - is this an option?
I was impressed by Heroku's ability to determine my application's response time. Pairing that with their semi-official auto scaling app, it works really well - to say ""I want my application to load in 800ms or less"" and ""scale X instances up at a time, Y down at a time, and no more than Z instances total""

I am curious if there is any way to get that to work officially. I am not sure there is exactly, since that would rely on some sort of layer 7 (likely) aware metric collection. I was trying to look at some CloudWatch metrics list but couldn't find anything that made it obvious.

Some apps won't trigger CPU, memory or other thresholds that the normal autoscaling and alarms will catch. I suppose in theory if there was an external tie-in (New Relic or some other service with an API) there could be an external event that triggers something, but it would be great if it was inside of the AWS platform itself.

Maybe the new ALB has some ability to deal with this too.

Anyone have any thoughts?"

Amazon EC2	"AWS instance is stuck in stopping PLEASE HELP
I notice I couldnt connect to the instance so and it was 0 for 2 on alerts so I started a shutdown to see about just rebooting it from scratch however its stuck in shut down for the last 5 minutes."

Amazon EC2	"Re: AWS instance is stuck in stopping PLEASE HELP
Hello, 

Could you please provide the instance ID you're having issues with so we can further assist? 

Regards,
Nick"

Amazon EC2	"Does the New Application Load Balancer  have the ability to do Sticky
Legacy ELB has sticky I don't see the option anywhere in the new stuff... Will this be an option?"

Amazon EC2	"Re: Does the New Application Load Balancer  have the ability to do Sticky
Hello, 

Yes, the new load balancers support sticky sessions: http://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html#sticky-sessions

Julie"

Amazon EC2	"EC2 IAM policy access based on instance tags
I copied this example from the Security Blog ""Resource-Level Permissions for EC2--Controlling Management Access on Specific Instances"". I changed it to have the right account id, region, and instance tag but it doesn't work in the simulator. What's wrong?

{
  ""Version"": ""2012-10-17"",
  ""Statement"": [
    {
      ""Action"": [
        ""ec2:StartInstances"",
        ""ec2:StopInstances"",	  
        ""ec2:RebootInstances"",
        ""ec2:TerminateInstances""
      ],
      ""Condition"": {
        ""StringEquals"": {
          ""ec2:ResourceTag/critical"":""true""
        }
      },
      ""Resource"": [
        ""arn:aws:ec2:your_region:your_account_ID:instance/*""
      ],
      ""Effect"": ""Allow""
    }
  ]
}"

Amazon EC2	"I cannot stop my ec2 instance
I cannot stop my ec2 instance
the instance is i-acb487f5.
help me!"

Amazon EC2	"Re: I cannot stop my ec2 instance
Hello,

I have forced this instance to stop for you.

Richard"

Amazon EC2	"Re: I cannot stop my ec2 instance
thinks"

Amazon EC2	"Re: I cannot stop my ec2 instance
No problem 

Richard"

Amazon EC2	"Re: I cannot stop my ec2 instance
Hello,

I have two instances stuck in shutting-down state for 8 hours now.
Could you please terminate them or tell me how to terminate them?
The usual terminate has no effect on their state.

Their ids are:
i-5ac2a53f
i-f600e395

Also, could you please tell me why this happened?

Thank you"

Amazon EC2	"Re: I cannot stop my ec2 instance
I  have the same issue with one of the instance I am running. i-c224a8b2 I stopped it close to an hour ago and it still shows is is stopping and I can not restart it."

Amazon EC2	"Re: I cannot stop my ec2 instance (solved)
I also cannot stop my ec2 instance. (i-d56a5b92)
Please, help me out!
Thanks, in advance.

(The problem has been solved.)

Edited by: taegk on Nov 3, 2013 6:13 AM"

Amazon EC2	"Re: I cannot stop my ec2 instance (solved)
I have an instance stuck I followed 

https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

with no luck instance number is i-9929f406

Scott"

Amazon EC2	"Re: I cannot stop my ec2 instance (solved)
Hi I've also got a stuck instance: i-029a076e

This happens so frequently that it might be a great idea if your world class developers could add a small button or some other mechanism of notifying your team of the problem."

Amazon EC2	"Re: I cannot stop my ec2 instance (solved)
Hey same here! Instance ID i-0749a79e. Stuck in ""shutting down"" state for over a day.
We use EC2 often and haven't seen this before. This seems like some sort of new bug...

Please tell me I'm not getting billed for a full day of ""stopping.""

Edited by: apoliakov on Aug 16, 2016 1:09 PM"

Amazon EC2	"Unable to connect to site after instance has been stopped and started
I have a test site that has been stopped for several months. 

When I've started it again I've been unable to connect to my site. I've noticed the public IP has changed but everything else looks normal. SSH access is fine. Apache and mySQL are running and look fine.

I've pinged the public IP and again it looks good:
ec2-52-210-58-214.eu-west-1.compute.amazonaws.com

However the site is inaccessible from a browser.

What has changed?"

Amazon EC2	"Re: Unable to connect to site after instance has been stopped and started
Resolved - DNS hadn't fully propagated so the redirect on the server wasn't working."

Amazon EC2	"Why are my new EBS volumes extremely slow?
Hello.

I have a set of ec2 instances. Old ones (t2.small + gp2, were created a month ago) work fine and don't have any problems with their ebs:

buntu@ip-10-1-2-109:~$ sudo hdparm -tT /dev/xvda
 
/dev/xvda:
 Timing cached reads:   20500 MB in  2.00 seconds = 10263.11 MB/sec
 Timing buffered disk reads: 398 MB in  3.01 seconds = 132.07 MB/sec


But my new instances (created with the same settings) face dramatic degradation of ebs performance:

ubuntu@ip-10-1-2-146:~$ sudo hdparm -tT /dev/xvda1
 
/dev/xvda1:
 Timing cached reads:   9996 MB in  2.00 seconds = 4999.95 MB/sec
 Timing buffered disk reads:  30 MB in  3.20 seconds =   9.38 MB/sec


I've tried to switch from t2.small/gp2 to m3.meduim/piop but the numbers are still the same 

Is here anyone from AWS team? How can we fix (or at leat workaround) this situation?

P.S.
Example of ec2: i-0bac7612f6063fa22
Example of ebs: vol-dd2b845c"

Amazon EC2	"Re: Why are my new EBS volumes extremely slow?
Hello,

The volume-id that you have provided is deleted. I would advise you to benchmark EBS volumes with FIO.  See below link.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/benchmark_procedures.html

Regards,
Umair A."

Amazon EC2	"changing reserved instances
Hi

So i have 2 reserved instances t2.micro ... i need to upgrade one of them or both to t2.small
I am scared to say i am stuck with them

i can not modify them to t2.small
i cannot sell them because i do not have an US bank account :/ ... apparently if u do not have a us bank account u live in the jungle or something


am i getting this right?"

Amazon EC2	"Re: changing reserved instances
Hello,

I would ask you open a case with Billing and accounts team from the support center. 

[1] http://docs.aws.amazon.com/awssupport/latest/user/getting-started.html

Regards,
Umair A."

Amazon EC2	"Tagging assistance
Hi

I am wondering if we are able to stop our users creating new tag values as, at the moment, we have a long list of identical tags that are being created albeit that they are spelt differently (e.g. Owner/owner/OWNER). We will now be amending our tagging policy but in the meantime we do not want anybody to add new tags that will cause us issues in trying to clean up and rectify in the coming months. 

Additionally: 


Are we able to provide a pre-determined list of tags that have to be completed/filled in when a user starts up the instance (e.g. they must have Cloud/Name/Owner/Region) 



Can we ensure that the information that is keyed in to the value part of the tag matches a pre-determined format i.e. it must all appear in uppercase in order to have a pre-determined list of values? 


Thanks"

Amazon EC2	"Re: Tagging assistance
Bumping for exposure . Please can anyone answer this question?"

Amazon EC2	"Instances can't acquire IP after launching
I've been launching instances in us-east-1 and I'm seeing a ~30% failure rate in instances coming up with an IP. 

I've tried several AMIs:

i-cbc5e7eb http://ubuntu-saucy-13.10-amd64-server-20140202.manifest.xml (ami-ddcff6b4)

Cloud-init v. 0.7.3 running 'init-local' at Wed, 05 Feb 2014 17:28:53 +0000. Up 4.31 seconds.
cloud-init-nonet[4.90]: waiting 10 seconds for network device
cloud-init-nonet[14.91]: waiting 120 seconds for network device
cloud-init-nonet[134.91]: gave up waiting for a network device.
Cloud-init v. 0.7.3 running 'init' at Wed, 05 Feb 2014 17:31:04 +0000. Up 135.08 seconds.
ci-info: +++++++++++++++++++++++Net device info+++++++++++++++++++++++
ci-info: +--------+------+-----------+-----------+-------------------+
ci-info: | Device |  Up  |  Address  |    Mask   |     Hw-Address    |
ci-info: +--------+------+-----------+-----------+-------------------+
ci-info: |   lo   | True | 127.0.0.1 | 255.0.0.0 |         .         |
ci-info: |  eth0  | True |     .     |     .     | 12:83:2d:63:07:29 |
ci-info: +--------+------+-----------+-----------+-------------------+
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


i-b9c8ea99 http://amzn-ami-pv-2013.09.2.x86_64.manifest.xml (ami-1ba18d72)
Bringing up loopback interface:  [  OK  ]
 
Bringing up interface eth0:  
Determining IP information for eth0...


It's similar to https://bugs.launchpad.net/ubuntu-on-ec2/+bug/1274676 however the bug states that it should not be happening on raring and newer. I tried the latest Amazon Linux AMI (above) and it reproduced the issue as well."

Amazon EC2	"Re: Instances can't acquire IP after launching
I've have 6 instances running and have been trying to create a 7th now for over an hour. 

The instance comes up, however it can't acquire and IP and the instance status checks fail. I've repeated the terminate/launch new instance over 5 times in a row with no success."

Amazon EC2	"Re: Instances can't acquire IP after launching
Is anyone experiencing something like this? 

This is extremely frustrating and I don't see what I can do on my end to prevent this."

Amazon EC2	"Re: Instances can't acquire IP after launching
I am sorry to hear you are experiencing problems launching instances. We are investigating these failures and will update this thread with more information. If you have more instance ids you can give exhibiting the same problem, especially any that have not been terminated, those would be helpful."

Amazon EC2	"Re: Instances can't acquire IP after launching
We've identified and fixed the root cause for these launch failures. Please let us know if you encounter this problem in future."

Amazon EC2	"Re: Instances can't acquire IP after launching
I've been launching instances in us-east-1b and the instance is coming up with an no IP. 
I have several times, reboting the instance (i-fae40e9f). but same problem. Please help me in bringing back my instance online. I can't log in the system and ping shows 100% packet loss. 
Here is my system log: 

[80G 
[74G[ OK ]
 
 * Stopping early crypto disks...       [80G 
[74G[ OK ]
 
 * Will now restart
 
[ 1958.812471] Restarting system.
 
Xen Minimal OS!
 
  start_info: 0xac4000(VA)
 
    nr_pages: 0x26700
 
  shared_inf: 0x9471a000(MA)
 
     pt_base: 0xac7000(VA)
 
nr_pt_frames: 0x9
 
    mfn_list: 0x990000(VA)
 
   mod_start: 0x0(VA)
 
     mod_len: 0
 
       flags: 0x0
 
    cmd_line: root=/dev/sda1 ro 4
 
  stack:      0x94f860-0x96f860
 
MM: Init
 
      _text: 0x0(VA)
 
     _etext: 0x5ffbd(VA)
 
   _erodata: 0x78000(VA)
 
     _edata: 0x80ae0(VA)
 
stack start: 0x94f860(VA)
 
       _end: 0x98fe68(VA)
 
  start_pfn: ad3
 
    max_pfn: 26700
 
Mapping memory range 0xc00000 - 0x26700000
 
setting 0x0-0x78000 readonly
 
skipped 0x1000
 
MM: Initialise page allocator for c01000(c01000)-26700000(26700000)
 
MM: done
 
Demand map pfns at 26701000-2026701000.
 
Heap resides at 2026702000-4026702000.
 
Initialising timer interface
 
Initialising console ... done.
 
gnttab_table mapped at 0x26701000.
 
Initialising scheduler
 
Thread ""Idle"": pointer: 0x2026702010, stack: 0x26640000
 
Initialising xenbus
 
Thread ""xenstore"": pointer: 0x20267027c0, stack: 0x26650000
 
Dummy main: start_info=0x96f960
 
Thread ""main"": pointer: 0x2026702f70, stack: 0x26660000
 
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
 
vbd 2049 is hd0
 
******************* BLKFRONT for device/vbd/2049 **********
 
 
 
 
 
backend at /local/domain/0/backend/vbd/1769/2049
 
Failed to read /local/domain/0/backend/vbd/1769/2049/feature-barrier.
 
Failed to read /local/domain/0/backend/vbd/1769/2049/feature-flush-cache.
 
16777216 sectors of 512 bytes
 
**************************
 
[H[J  Booting 'Ubuntu 13.04, kernel 3.8.0-19-generic'
 
 
 
 
 
root  (hd0)
 
 
 Filesystem type is ext2fs, using whole disk
 
 
kernel  /boot/vmlinuz-3.8.0-19-generic root=LABEL=cloudimg-rootfs ro console=hv
 
 
c0 
 
 
initrd  /boot/initrd.img-3.8.0-19-generic
 
 
 
 
 
close blk: backend at /local/domain/0/backend/vbd/1769/2049
 
[    0.000000] Initializing cgroup subsys cpuset
 
[    0.000000] Initializing cgroup subsys cpu
 
[    0.000000] Linux version 3.8.0-19-generic (buildd@allspice) (gcc version 4.7.3 (Ubuntu/Linaro 4.7.3-1ubuntu1) ) #30-Ubuntu SMP Wed May 1 16:35:23 UTC 2013 (Ubuntu 3.8.0-19.30-generic 3.8.8)
 
[    0.000000] Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] KERNEL supported cpus:
 
[    0.000000]   Intel GenuineIntel
 
[    0.000000]   AMD AuthenticAMD
 
[    0.000000]   Centaur CentaurHauls
 
[    0.000000] ACPI in unprivileged domain disabled
 
[    0.000000] e820: BIOS-provided physical RAM map:
 
[    0.000000] Xen: [mem 0x0000000000000000-0x000000000009ffff] usable
 
[    0.000000] Xen: [mem 0x00000000000a0000-0x00000000000fffff] reserved
 
[    0.000000] Xen: [mem 0x0000000000100000-0x0000000026efffff] usable
 
[    0.000000] NX (Execute Disable) protection: active
 
[    0.000000] DMI not present or invalid.
 
[    0.000000] No AGP bridge found
 
[    0.000000] e820: last_pfn = 0x26f00 max_arch_pfn = 0x400000000
 
[    0.000000] init_memory_mapping: [mem 0x00000000-0x26efffff]
 
[    0.000000] RAMDISK: [mem 0x02345000-0x03422fff]
 
[    0.000000] NUMA turned off
 
[    0.000000] Faking a node at [mem 0x0000000000000000-0x0000000026efffff]
 
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x26efffff]
 
[    0.000000]   NODE_DATA [mem 0x266fb000-0x266fffff]
 
[    0.000000] Zone ranges:
 
[    0.000000]   DMA      [mem 0x00010000-0x00ffffff]
 
[    0.000000]   DMA32    [mem 0x01000000-0xffffffff]
 
[    0.000000]   Normal   empty
 
[    0.000000] Movable zone start for each node
 
[    0.000000] Early memory node ranges
 
[    0.000000]   node   0: [mem 0x00010000-0x0009ffff]
 
[    0.000000]   node   0: [mem 0x00100000-0x26efffff]
 
[    0.000000] SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
 
[    0.000000] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
 
[    0.000000] No local APIC present
 
[    0.000000] APIC: disable apic facility
 
[    0.000000] APIC: switched to apic NOOP
 
[    0.000000] PM: Registered nosave memory: 00000000000a0000 - 0000000000100000
 
[    0.000000] e820: [mem 0x26f00000-0xffffffff] available for PCI devices
 
[    0.000000] Booting paravirtualized kernel on Xen
 
[    0.000000] Xen version: 3.4.3-kaos_t1micro (preserve-AD)
 
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:1 nr_node_ids:1
 
[    0.000000] PERCPU: Embedded 28 pages/cpu @ffff880026000000 s85056 r8192 d21440 u2097152
 
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 156878
 
[    0.000000] Policy zone: DMA32
 
[    0.000000] Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
 
[    0.000000] __ex_table already sorted, skipping sort
 
[    0.000000] Checking aperture...
 
[    0.000000] No AGP bridge found
 
[    0.000000] Memory: 583296k/637952k available (7006k kernel code, 448k absent, 54208k reserved, 6238k data, 992k init)
 
[    0.000000] SLUB: Genslabs=15, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
 
[    0.000000] Hierarchical RCU implementation.
 
[    0.000000] 	RCU dyntick-idle grace-period acceleration is enabled.
 
[    0.000000] 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=1.
 
[    0.000000] NR_IRQS:16640 nr_irqs:256 16
 
[    0.000000] Console: colour dummy device 80x25
 
[    0.000000] console [tty0] enabled
 
[    0.000000] console [hvc0] enabled
 
[    0.000000] allocated 2621440 bytes of page_cgroup
 
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
 
[    0.000000] installing Xen timer for CPU 0
 
[    0.000000] tsc: Detected 2666.660 MHz processor
 
[    0.004000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5333.32 BogoMIPS (lpj=10666640)
 
[    0.004000] pid_max: default: 32768 minimum: 301
 
[    0.004000] Security Framework initialized
 
[    0.004000] AppArmor: AppArmor initialized
 
[    0.004000] Yama: becoming mindful.
 
[    0.004000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
 
[    0.004000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
 
[    0.004000] Mount-cache hash table entries: 256
 
[    0.004000] Initializing cgroup subsys cpuacct
 
[    0.004000] Initializing cgroup subsys memory
 
[    0.004000] Initializing cgroup subsys devices
 
[    0.004000] Initializing cgroup subsys freezer
 
[    0.004000] Initializing cgroup subsys blkio
 
[    0.004000] Initializing cgroup subsys perf_event
 
[    0.004000] Initializing cgroup subsys hugetlb
 
[    0.004000] CPU: Physical Processor ID: 0
 
[    0.004000] CPU: Processor Core ID: 0
 
[    0.004000] Last level iTLB entries: 4KB 128, 2MB 4, 4MB 4
 
[    0.004000] Last level dTLB entries: 4KB 256, 2MB 0, 4MB 32
 
[    0.004000] tlb_flushall_shift: -1
 
[    0.025128] Freeing SMP alternatives: 24k freed
 
[    0.027774] ftrace: allocating 26690 entries in 105 pages
 
[    0.036191] cpu 0 spinlock event irq 17
 
[    0.036313] Performance Events: unsupported p6 CPU model 23 no PMU driver, software events only.
 
[    0.037468] Brought up 1 CPUs
 
[    0.037575] NMI watchdog: disabled (cpu0): hardware events not enabled
 
[    0.037710] devtmpfs: initialized
 
[    0.038572] EVM: security.selinux
 
[    0.038578] EVM: security.SMACK64
 
[    0.038585] EVM: security.capability
 
[    0.039596] Grant tables using version 1 layout.
 
[    0.039621] Grant table initialized
 
[    0.039676] regulator-dummy: no parameters
 
[    0.039747] NET: Registered protocol family 16
 
[    0.040558] PCI: setting up Xen PCI frontend stub
 
[    0.041439] bio: create slab <bio-0> at 0
 
[    0.041606] ACPI: Interpreter disabled.
 
[    0.041684] xen/balloon: Initialising balloon driver.
 
[    0.041684] xen-balloon: Initialising balloon driver.
 
[    0.041717] vgaarb: loaded
 
[    0.044106] SCSI subsystem initialized
 
[    0.044302] usbcore: registered new interface driver usbfs
 
[    0.044325] usbcore: registered new interface driver hub
 
[    0.044358] usbcore: registered new device driver usb
 
[    0.044467] PCI: System does not support PCI
 
[    0.044472] PCI: System does not support PCI
 
[    0.044573] NetLabel: Initializing
 
[    0.044577] NetLabel:  domain hash size = 128
 
[    0.044581] NetLabel:  protocols = UNLABELED CIPSOv4
 
[    0.044595] NetLabel:  unlabeled traffic allowed by default
 
[    0.044659] Switching to clocksource xen
 
[    0.052442] AppArmor: AppArmor Filesystem Enabled
 
[    0.052479] pnp: PnP ACPI: disabled
 
[    0.054293] NET: Registered protocol family 2
 
[    0.054489] TCP established hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.054591] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.054652] TCP: Hash tables configured (established 8192 bind 8192)
 
[    0.054714] TCP: reno registered
 
[    0.054723] UDP hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.054738] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.054796] NET: Registered protocol family 1
 
[    0.054850] Trying to unpack rootfs image as initramfs...
 
[    0.083886] Freeing initrd memory: 17272k freed
 
[    0.092583] platform rtc_cmos: registered platform RTC device (no PNP device found)
 
[    0.092853] Initialise module verification
 
[    0.092903] audit: initializing netlink socket (disabled)
 
[    0.092922] type=2000 audit(1398284041.140:1): initialized
 
[    0.118203] HugeTLB registered 2 MB page size, pre-allocated 0 pages
 
[    0.119623] VFS: Disk quotas dquot_6.5.2
 
[    0.119682] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
 
[    0.120231] fuse init (API version 7.20)
 
[    0.120302] msgmni has been set to 1173
 
[    0.120643] Key type asymmetric registered
 
[    0.120650] Asymmetric key parser 'x509' registered
 
[    0.120686] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
 
[    0.120721] io scheduler noop registered
 
[    0.120727] io scheduler deadline registered (default)
 
[    0.120736] io scheduler cfq registered
 
[    0.120809] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
 
[    0.120833] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
 
[    0.121176] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
 
[    0.122459] Linux agpgart interface v0.103
 
[    0.123666] brd: module loaded
 
[    0.124324] loop: module loaded
 
[    0.129242] libphy: Fixed MDIO Bus: probed
 
[    0.129481] tun: Universal TUN/TAP device driver, 1.6
 
[    0.129564] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
 
[    0.129738] PPP generic driver version 2.4.2
 
[    0.129797] Initialising Xen virtual ethernet driver.
 
[    0.130969] blkfront: xvda1: barrier or flush: disabled 
 
[    0.132868] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
 
[    0.132887] ehci-pci: EHCI PCI platform driver
 
[    0.133000] ehci-platform: EHCI generic platform driver
 
[    0.133013] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
 
[    0.133029] uhci_hcd: USB Universal Host Controller Interface driver
 
[    0.133078] i8042: PNP: No PS/2 controller found. Probing ports directly.
 
[    1.527910] i8042: No controller found
 
[    1.528366] mousedev: PS/2 mouse device common for all mice
 
[    1.588115] rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
 
[    1.588172] rtc_cmos: probe of rtc_cmos failed with error -38
 
[    1.588273] device-mapper: uevent: version 1.0.3
 
[    1.588329] device-mapper: ioctl: 4.23.1-ioctl (2012-12-18) initialised: dm-devel@redhat.com
 
[    1.588343] ledtrig-cpu: registered to indicate activity on CPUs
 
[    1.588348] EFI Variables Facility v0.08 2004-May-17
 
[    1.588513] ashmem: initialized
 
[    1.588625] TCP: cubic registered
 
[    1.588718] NET: Registered protocol family 10
 
[    1.588921] NET: Registered protocol family 17
 
[    1.588936] Key type dns_resolver registered
 
[    1.589031] Loading module verification certificates
 
[    1.589978] MODSIGN: Loaded cert 'Magrathea: Glacier signing key: 4fb521df0b0fa81f775431361b8076d5d0f1869a'
 
[    1.590009] registered taskstats version 1
 
[    1.594175] Key type trusted registered
 
[    1.597379] Key type encrypted registered
 
[    1.700096] /build/buildd/linux-3.8.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
 
[    1.700165] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
 
[    1.700172] EDD information not available.
 
[    1.700552] Freeing unused kernel memory: 992k freed
 
[    1.700996] Write protecting the kernel read-only data: 12288k
 
[    1.704484] Freeing unused kernel memory: 1176k freed
 
[    1.705314] Freeing unused kernel memory: 1080k freed
 
Loading, please wait...
 
[    1.738060] udevd[91]: starting version 175
 
[    2.896473] Disabling lock debugging due to kernel taint
 
error: unexpectedly disconnected from boot status daemon
 
Begin: Loading essential drivers ... done.
 
Begin: Running /scripts/init-premount ... done.
 
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
 
Begin: Running /scripts/local-premount ... done.
 
[    3.033006] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
 
Begin: Running /scripts/local-bottom ... done.
 
done.
 
Begin: Running /scripts/init-bottom ... done.
 
[    4.147014] EXT4-fs (xvda1): warning: checktime reached, running e2fsck is recommended
 
[    4.154424] EXT4-fs (xvda1): re-mounted. Opts: (null)
 
mountall: Disconnected from Plymouth
 
Cloud-init v. 0.7.2 running 'init-local' at Wed, 23 Apr 2014 20:14:07 +0000. Up 6.07 seconds.
 
2014-04-23 20:14:07,344 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
cloud-init-nonet[6.65]: waiting 10 seconds for network device
 
cloud-init-nonet[16.65]: waiting 120 seconds for network device
 
cloud-init-nonet[136.65]: gave up waiting for a network device.
 
Cloud-init v. 0.7.2 running 'init' at Wed, 23 Apr 2014 20:16:17 +0000. Up 136.90 seconds.
 
2014-04-23 20:16:18,009 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
 
ci-info: |  eth0  | False |     .     |     .     | 12:31:3b:04:6c:2d |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
2014-04-23 20:16:18,311 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [0/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:19,314 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [1/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:20,317 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [2/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:21,321 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [3/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:22,325 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [4/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:23,328 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [5/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:25,332 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [7/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:27,337 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [9/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:29,341 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [11/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:31,345 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [13/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:33,349 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [15/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:36,354 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [18/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:39,359 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [21/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:42,365 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [24/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:45,370 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [27/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:48,374 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [30/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:52,381 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [34/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:16:56,388 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [38/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:00,394 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [42/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:04,400 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [46/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:08,406 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [50/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:13,413 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [55/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:18,430 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [60/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:23,445 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [65/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:28,459 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [70/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:33,472 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [75/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:39,480 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [81/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:45,488 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [87/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:51,497 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [93/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:17:57,505 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [99/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:18:03,513 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [105/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:18:10,522 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [112/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:18:17,530 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [119/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 20:18:24,538 - DataSourceEc2.py[CRITICAL]: Giving up on md from ['http://169.254.169.254/2009-04-04/meta-data/instance-id'] after 126 seconds
 
Traceback (most recent call last):
 
  File ""/usr/bin/cloud-init"", line 509, in <module>
 
    sys.exit(main())
 
  File ""/usr/bin/cloud-init"", line 505, in main
 
    return functor(name, args)
 
  File ""/usr/bin/cloud-init"", line 256, in main_init
 
    iid = init.instancify()
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/stages.py"", line 311, in instancify
 
    return self._reflect_cur_instance()
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/stages.py"", line 268, in _reflect_cur_instance
 
    util.ensure_dirs(dir_list)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1232, in ensure_dirs
 
    ensure_dir(d, mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1272, in ensure_dir
 
    chmod(path, mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1419, in chmod
 
    os.chmod(path, real_mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 184, in __exit__
 
    self.selinux.restorecon(path, recursive=self.recursive)
 
  File ""/usr/lib/python2.7/dist-packages/selinux/__init__.py"", line 84, in restorecon
 
    status, oldcontext = lgetfilecon(path)
 
OSError: [Errno 61] No data available
 
mountall: Event failed
 
Cloud-init v. 0.7.2 running 'modules:config' at Wed, 23 Apr 2014 20:18:25 +0000. Up 264.05 seconds.
 
 * Starting AppArmor profiles       [80G Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
 
 
[74G[ OK ]
 
 * Starting Mail Transport Agent (MTA) sendmail       [80G hostname: System error
 
 
[74G[ OK ]
 
landscape-client is not configured, please run landscape-config.
 
 * Starting web server apache2       [80G apache2: apr_sockaddr_info_get() failed for ip-10-245-75-62
 
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName
 
 
[74G[ OK ]
 
Cloud-init v. 0.7.2 running 'modules:final' at Wed, 23 Apr 2014 20:20:29 +0000. Up 388.43 seconds.
 
Cloud-init v. 0.7.2 finished at Wed, 23 Apr 2014 20:20:29 +0000. Datasource DataSourceNone.  Up 388.60 seconds
 
2014-04-23 20:20:29,674 - util.py[WARNING]: Failed to write boot finished file /var/lib/cloud/instance/boot-finished
 
2014-04-23 20:20:29,684 - cc_final_message.py[WARNING]: Used fallback datasource
 
acpid: exiting
 
 
Wed Apr 23 23:07:28 UTC 2014: shutting down for reboot [up 10407s].
 
 * Stopping web server apache2       [80G apache2: apr_sockaddr_info_get() failed for ip-10-245-75-62
 
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName
 
 ... waiting 
[74G[ OK ]
 
 * Stopping landscape-client daemon       [80G 
[74G[[31mfail[39;49m]
 
 * Stopping Mail Transport Agent (MTA) sendmail       [80G 
[74G[ OK ]
 
 * Asking all remaining processes to terminate...       [80G 
[74G[ OK ]
 
 * All processes ended within 1 seconds....       [80G 
[74G[ OK ]
 
 * Deactivating swap...       [80G 
[74G[ OK ]
 
 * Stopping remaining crypto disks...       [80G 
[74G[ OK ]
 
 * Stopping early crypto disks...       [80G 
[74G[ OK ]
 
 * Will now restart
 
[10413.674488] Restarting system.
 
Xen Minimal OS!
 
  start_info: 0xac4000(VA)
 
    nr_pages: 0x26700
 
  shared_inf: 0x9a566000(MA)
 
     pt_base: 0xac7000(VA)
 
nr_pt_frames: 0x9
 
    mfn_list: 0x990000(VA)
 
   mod_start: 0x0(VA)
 
     mod_len: 0
 
       flags: 0x0
 
    cmd_line: root=/dev/sda1 ro 4
 
  stack:      0x94f860-0x96f860
 
MM: Init
 
      _text: 0x0(VA)
 
     _etext: 0x5ffbd(VA)
 
   _erodata: 0x78000(VA)
 
     _edata: 0x80ae0(VA)
 
stack start: 0x94f860(VA)
 
       _end: 0x98fe68(VA)
 
  start_pfn: ad3
 
    max_pfn: 26700
 
Mapping memory range 0xc00000 - 0x26700000
 
setting 0x0-0x78000 readonly
 
skipped 0x1000
 
MM: Initialise page allocator for c01000(c01000)-26700000(26700000)
 
MM: done
 
Demand map pfns at 26701000-2026701000.
 
Heap resides at 2026702000-4026702000.
 
Initialising timer interface
 
Initialising console ... done.
 
gnttab_table mapped at 0x26701000.
 
Initialising scheduler
 
Thread ""Idle"": pointer: 0x2026702010, stack: 0x26640000
 
Initialising xenbus
 
Thread ""xenstore"": pointer: 0x20267027c0, stack: 0x26650000
 
Dummy main: start_info=0x96f960
 
Thread ""main"": pointer: 0x2026702f70, stack: 0x26660000
 
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
 
vbd 2049 is hd0
 
******************* BLKFRONT for device/vbd/2049 **********
 
 
 
 
 
backend at /local/domain/0/backend/vbd/1770/2049
 
Failed to read /local/domain/0/backend/vbd/1770/2049/feature-barrier.
 
Failed to read /local/domain/0/backend/vbd/1770/2049/feature-flush-cache.
 
16777216 sectors of 512 bytes
 
**************************
 
[H[J  Booting 'Ubuntu 13.04, kernel 3.8.0-19-generic'
 
 
 
 
 
root  (hd0)
 
 
 Filesystem type is ext2fs, using whole disk
 
 
kernel  /boot/vmlinuz-3.8.0-19-generic root=LABEL=cloudimg-rootfs ro console=hv
 
 
c0 
 
 
initrd  /boot/initrd.img-3.8.0-19-generic
 
 
 
 
 
close blk: backend at /local/domain/0/backend/vbd/1770/2049
 
[    0.000000] Initializing cgroup subsys cpuset
 
[    0.000000] Initializing cgroup subsys cpu
 
[    0.000000] Linux version 3.8.0-19-generic (buildd@allspice) (gcc version 4.7.3 (Ubuntu/Linaro 4.7.3-1ubuntu1) ) #30-Ubuntu SMP Wed May 1 16:35:23 UTC 2013 (Ubuntu 3.8.0-19.30-generic 3.8.8)
 
[    0.000000] Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] KERNEL supported cpus:
 
[    0.000000]   Intel GenuineIntel
 
[    0.000000]   AMD AuthenticAMD
 
[    0.000000]   Centaur CentaurHauls
 
[    0.000000] ACPI in unprivileged domain disabled
 
[    0.000000] e820: BIOS-provided physical RAM map:
 
[    0.000000] Xen: [mem 0x0000000000000000-0x000000000009ffff] usable
 
[    0.000000] Xen: [mem 0x00000000000a0000-0x00000000000fffff] reserved
 
[    0.000000] Xen: [mem 0x0000000000100000-0x0000000026efffff] usable
 
[    0.000000] NX (Execute Disable) protection: active
 
[    0.000000] DMI not present or invalid.
 
[    0.000000] No AGP bridge found
 
[    0.000000] e820: last_pfn = 0x26f00 max_arch_pfn = 0x400000000
 
[    0.000000] init_memory_mapping: [mem 0x00000000-0x26efffff]
 
[    0.000000] RAMDISK: [mem 0x02345000-0x03422fff]
 
[    0.000000] NUMA turned off
 
[    0.000000] Faking a node at [mem 0x0000000000000000-0x0000000026efffff]
 
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x26efffff]
 
[    0.000000]   NODE_DATA [mem 0x266fb000-0x266fffff]
 
[    0.000000] Zone ranges:
 
[    0.000000]   DMA      [mem 0x00010000-0x00ffffff]
 
[    0.000000]   DMA32    [mem 0x01000000-0xffffffff]
 
[    0.000000]   Normal   empty
 
[    0.000000] Movable zone start for each node
 
[    0.000000] Early memory node ranges
 
[    0.000000]   node   0: [mem 0x00010000-0x0009ffff]
 
[    0.000000]   node   0: [mem 0x00100000-0x26efffff]
 
[    0.000000] SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
 
[    0.000000] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
 
[    0.000000] No local APIC present
 
[    0.000000] APIC: disable apic facility
 
[    0.000000] APIC: switched to apic NOOP
 
[    0.000000] PM: Registered nosave memory: 00000000000a0000 - 0000000000100000
 
[    0.000000] e820: [mem 0x26f00000-0xffffffff] available for PCI devices
 
[    0.000000] Booting paravirtualized kernel on Xen
 
[    0.000000] Xen version: 3.4.3-kaos_t1micro (preserve-AD)
 
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:1 nr_node_ids:1
 
[    0.000000] PERCPU: Embedded 28 pages/cpu @ffff880026000000 s85056 r8192 d21440 u2097152
 
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 156878
 
[    0.000000] Policy zone: DMA32
 
[    0.000000] Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
 
[    0.000000] __ex_table already sorted, skipping sort
 
[    0.000000] Checking aperture...
 
[    0.000000] No AGP bridge found
 
[    0.000000] Memory: 583296k/637952k available (7006k kernel code, 448k absent, 54208k reserved, 6238k data, 992k init)
 
[    0.000000] SLUB: Genslabs=15, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
 
[    0.000000] Hierarchical RCU implementation.
 
[    0.000000] 	RCU dyntick-idle grace-period acceleration is enabled.
 
[    0.000000] 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=1.
 
[    0.000000] NR_IRQS:16640 nr_irqs:256 16
 
[    0.000000] Console: colour dummy device 80x25
 
[    0.000000] console [tty0] enabled
 
[    0.000000] console [hvc0] enabled
 
[    0.000000] allocated 2621440 bytes of page_cgroup
 
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
 
[    0.000000] installing Xen timer for CPU 0
 
[    0.000000] tsc: Detected 2666.666 MHz processor
 
[    0.004000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5333.33 BogoMIPS (lpj=10666664)
 
[    0.004000] pid_max: default: 32768 minimum: 301
 
[    0.004000] Security Framework initialized
 
[    0.004000] AppArmor: AppArmor initialized
 
[    0.004000] Yama: becoming mindful.
 
[    0.004000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
 
[    0.004000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
 
[    0.004000] Mount-cache hash table entries: 256
 
[    0.004000] Initializing cgroup subsys cpuacct
 
[    0.004000] Initializing cgroup subsys memory
 
[    0.004000] Initializing cgroup subsys devices
 
[    0.004000] Initializing cgroup subsys freezer
 
[    0.004000] Initializing cgroup subsys blkio
 
[    0.004000] Initializing cgroup subsys perf_event
 
[    0.004000] Initializing cgroup subsys hugetlb
 
[    0.004000] CPU: Physical Processor ID: 0
 
[    0.004000] CPU: Processor Core ID: 0
 
[    0.004000] Last level iTLB entries: 4KB 128, 2MB 4, 4MB 4
 
[    0.004000] Last level dTLB entries: 4KB 256, 2MB 0, 4MB 32
 
[    0.004000] tlb_flushall_shift: -1
 
[    0.024485] Freeing SMP alternatives: 24k freed
 
[    0.027106] ftrace: allocating 26690 entries in 105 pages
 
[    0.036105] cpu 0 spinlock event irq 17
 
[    0.036136] Performance Events: unsupported p6 CPU model 23 no PMU driver, software events only.
 
[    0.037132] Brought up 1 CPUs
 
[    0.037230] NMI watchdog: disabled (cpu0): hardware events not enabled
 
[    0.037364] devtmpfs: initialized
 
[    0.038159] EVM: security.selinux
 
[    0.038164] EVM: security.SMACK64
 
[    0.038167] EVM: security.capability
 
[    0.039106] Grant tables using version 1 layout.
 
[    0.039122] Grant table initialized
 
[    0.039177] regulator-dummy: no parameters
 
[    0.039231] NET: Registered protocol family 16
 
[    0.040016] PCI: setting up Xen PCI frontend stub
 
[    0.040876] bio: create slab <bio-0> at 0
 
[    0.040973] ACPI: Interpreter disabled.
 
[    0.041003] xen/balloon: Initialising balloon driver.
 
[    0.041003] xen-balloon: Initialising balloon driver.
 
[    0.041003] vgaarb: loaded
 
[    0.041003] SCSI subsystem initialized
 
[    0.041003] usbcore: registered new interface driver usbfs
 
[    0.041003] usbcore: registered new interface driver hub
 
[    0.041003] usbcore: registered new device driver usb
 
[    0.041003] PCI: System does not support PCI
 
[    0.041003] PCI: System does not support PCI
 
[    0.041003] NetLabel: Initializing
 
[    0.041003] NetLabel:  domain hash size = 128
 
[    0.041003] NetLabel:  protocols = UNLABELED CIPSOv4
 
[    0.041003] NetLabel:  unlabeled traffic allowed by default
 
[    0.041003] Switching to clocksource xen
 
[    0.047572] AppArmor: AppArmor Filesystem Enabled
 
[    0.047600] pnp: PnP ACPI: disabled
 
[    0.049063] NET: Registered protocol family 2
 
[    0.049231] TCP established hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.049319] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.049371] TCP: Hash tables configured (established 8192 bind 8192)
 
[    0.049423] TCP: reno registered
 
[    0.049431] UDP hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.049445] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.049498] NET: Registered protocol family 1
 
[    0.195284] Trying to unpack rootfs image as initramfs...
 
[    0.217141] Freeing initrd memory: 17272k freed
 
[    0.224298] platform rtc_cmos: registered platform RTC device (no PNP device found)
 
[    0.224511] Initialise module verification
 
[    0.224567] audit: initializing netlink socket (disabled)
 
[    0.224589] type=2000 audit(1398294489.042:1): initialized
 
[    0.249573] HugeTLB registered 2 MB page size, pre-allocated 0 pages
 
[    0.250738] VFS: Disk quotas dquot_6.5.2
 
[    0.250784] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
 
[    0.251266] fuse init (API version 7.20)
 
[    0.251343] msgmni has been set to 1173
 
[    0.251669] Key type asymmetric registered
 
[    0.251678] Asymmetric key parser 'x509' registered
 
[    0.251716] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
 
[    0.251760] io scheduler noop registered
 
[    0.251771] io scheduler deadline registered (default)
 
[    0.251778] io scheduler cfq registered
 
[    0.251846] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
 
[    0.251874] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
 
[    0.252235] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
 
[    0.253239] Linux agpgart interface v0.103
 
[    0.254324] brd: module loaded
 
[    0.254896] loop: module loaded
 
[    0.259709] libphy: Fixed MDIO Bus: probed
 
[    0.259850] tun: Universal TUN/TAP device driver, 1.6
 
[    0.259862] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
 
[    0.259904] PPP generic driver version 2.4.2
 
[    0.259944] Initialising Xen virtual ethernet driver.
 
[    0.260831] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
 
[    0.260837] ehci-pci: EHCI PCI platform driver
 
[    0.260851] ehci-platform: EHCI generic platform driver
 
[    0.260860] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
 
[    0.260873] uhci_hcd: USB Universal Host Controller Interface driver
 
[    0.261194] i8042: PNP: No PS/2 controller found. Probing ports directly.
 
[    1.267812] i8042: No controller found
 
[    1.268142] mousedev: PS/2 mouse device common for all mice
 
[    1.332103] rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
 
[    1.332493] rtc_cmos: probe of rtc_cmos failed with error -38
 
[    1.332841] device-mapper: uevent: version 1.0.3
 
[    1.333161] device-mapper: ioctl: 4.23.1-ioctl (2012-12-18) initialised: dm-devel@redhat.com
 
[    1.333328] ledtrig-cpu: registered to indicate activity on CPUs
 
[    1.333339] EFI Variables Facility v0.08 2004-May-17
 
[    1.333612] ashmem: initialized
 
[    1.333725] TCP: cubic registered
 
[    1.333820] NET: Registered protocol family 10
 
[    1.334035] NET: Registered protocol family 17
 
[    1.334050] Key type dns_resolver registered
 
[    1.334157] Loading module verification certificates
 
[    1.335128] MODSIGN: Loaded cert 'Magrathea: Glacier signing key: 4fb521df0b0fa81f775431361b8076d5d0f1869a'
 
[    1.335150] registered taskstats version 1
 
[    1.338542] Key type trusted registered
 
[    1.343852] Key type encrypted registered
 
[    1.356404] blkfront: xvda1: barrier or flush: disabled 
 
[    1.444163] /build/buildd/linux-3.8.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
 
[    1.444233] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
 
[    1.444239] EDD information not available.
 
[    1.444605] Freeing unused kernel memory: 992k freed
 
[    1.445043] Write protecting the kernel read-only data: 12288k
 
[    1.448680] Freeing unused kernel memory: 1176k freed
 
[    1.449616] Freeing unused kernel memory: 1080k freed
 
Loading, please wait...
 
[    1.489902] udevd[91]: starting version 175
 
[    2.663068] Disabling lock debugging due to kernel taint
 
error: unexpectedly disconnected from boot status daemon
 
Begin: Loading essential drivers ... done.
 
Begin: Running /scripts/init-premount ... done.
 
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
 
Begin: Running /scripts/local-premount ... done.
 
[    2.803241] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
 
Begin: Running /scripts/local-bottom ... done.
 
done.
 
Begin: Running /scripts/init-bottom ... done.
 
[    4.110446] EXT4-fs (xvda1): warning: checktime reached, running e2fsck is recommended
 
[    4.117027] EXT4-fs (xvda1): re-mounted. Opts: (null)
 
mountall: Disconnected from Plymouth
 
Cloud-init v. 0.7.2 running 'init-local' at Wed, 23 Apr 2014 23:08:14 +0000. Up 5.96 seconds.
 
2014-04-23 23:08:15,017 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
cloud-init-nonet[6.60]: waiting 10 seconds for network device
 
cloud-init-nonet[16.62]: waiting 120 seconds for network device
 
cloud-init-nonet[136.62]: gave up waiting for a network device.
 
Cloud-init v. 0.7.2 running 'init' at Wed, 23 Apr 2014 23:10:25 +0000. Up 136.86 seconds.
 
2014-04-23 23:10:25,746 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
 
ci-info: |  eth0  | False |     .     |     .     | 12:31:3b:04:6c:2d |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
2014-04-23 23:10:26,066 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [0/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:27,069 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [1/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:28,073 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [2/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:29,075 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [3/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:30,078 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [4/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:31,082 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [5/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:33,086 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [7/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:35,090 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [9/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:37,094 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [11/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:39,098 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [13/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:41,102 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [15/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:44,107 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [18/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:47,112 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [21/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:50,118 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [24/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:53,123 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [27/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:10:56,128 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [30/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:00,134 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [34/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:04,139 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [38/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:08,146 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [42/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:12,152 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [46/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:16,158 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [50/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:21,165 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [55/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:26,180 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [60/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:31,195 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [65/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:36,208 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [70/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:41,220 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [75/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:47,229 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [81/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:53,237 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [87/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:11:59,245 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [93/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:12:05,253 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [99/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:12:11,262 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [105/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:12:18,271 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [112/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:12:25,280 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [119/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:12:32,288 - DataSourceEc2.py[CRITICAL]: Giving up on md from ['http://169.254.169.254/2009-04-04/meta-data/instance-id'] after 126 seconds
 
Traceback (most recent call last):
 
  File ""/usr/bin/cloud-init"", line 509, in <module>
 
    sys.exit(main())
 
  File ""/usr/bin/cloud-init"", line 505, in main
 
    return functor(name, args)
 
  File ""/usr/bin/cloud-init"", line 256, in main_init
 
    iid = init.instancify()
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/stages.py"", line 311, in instancify
 
    return self._reflect_cur_instance()
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/stages.py"", line 268, in _reflect_cur_instance
 
    util.ensure_dirs(dir_list)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1232, in ensure_dirs
 
    ensure_dir(d, mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1272, in ensure_dir
 
    chmod(path, mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1419, in chmod
 
    os.chmod(path, real_mode)
 
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 184, in __exit__
 
    self.selinux.restorecon(path, recursive=self.recursive)
 
  File ""/usr/lib/python2.7/dist-packages/selinux/__init__.py"", line 84, in restorecon
 
    status, oldcontext = lgetfilecon(path)
 
OSError: [Errno 61] No data available
 
mountall: Event failed
 
Cloud-init v. 0.7.2 running 'modules:config' at Wed, 23 Apr 2014 23:12:32 +0000. Up 264.13 seconds.
 
 * Starting AppArmor profiles       [80G Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
 
 
[74G[ OK ]
 
 * Starting Mail Transport Agent (MTA) sendmail       [80G hostname: System error
 
 
[74G[ OK ]
 
landscape-client is not configured, please run landscape-config.
 
 * Starting web server apache2       [80G apache2: apr_sockaddr_info_get() failed for ip-10-245-75-62
 
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName
 
 
[74G[ OK ]
 
Cloud-init v. 0.7.2 running 'modules:final' at Wed, 23 Apr 2014 23:14:37 +0000. Up 388.49 seconds.
 
Cloud-init v. 0.7.2 finished at Wed, 23 Apr 2014 23:14:37 +0000. Datasource DataSourceNone.  Up 388.72 seconds
 
2014-04-23 23:14:37,563 - util.py[WARNING]: Failed to write boot finished file /var/lib/cloud/instance/boot-finished
 
2014-04-23 23:14:37,572 - cc_final_message.py[WARNING]: Used fallback datasource
 
acpid: exiting
 
 
Wed Apr 23 23:37:43 UTC 2014: shutting down for reboot [up 1774s].
 
 * Stopping web server apache2       [80G apache2: apr_sockaddr_info_get() failed for ip-10-245-75-62
 
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName
 
 ... waiting 
[74G[ OK ]
 
 * Stopping landscape-client daemon       [80G 
[74G[[31mfail[39;49m]
 
 * Stopping Mail Transport Agent (MTA) sendmail       [80G 
[74G[ OK ]
 
 * Asking all remaining processes to terminate...       [80G 
[74G[ OK ]
 
 * All processes ended within 1 seconds....       [80G 
[74G[ OK ]
 
 * Deactivating swap...       [80G 
[74G[ OK ]
 
 * Stopping remaining crypto disks...       [80G 
[74G[ OK ]
 
 * Stopping early crypto disks...       [80G 
[74G[ OK ]
 
 * Will now restart
 
[ 1780.696850] Restarting system.
 
Xen Minimal OS!
 
  start_info: 0xac4000(VA)
 
    nr_pages: 0x26700
 
  shared_inf: 0xbfb30000(MA)
 
     pt_base: 0xac7000(VA)
 
nr_pt_frames: 0x9
 
    mfn_list: 0x990000(VA)
 
   mod_start: 0x0(VA)
 
     mod_len: 0
 
       flags: 0x0
 
    cmd_line: root=/dev/sda1 ro 4
 
  stack:      0x94f860-0x96f860
 
MM: Init
 
      _text: 0x0(VA)
 
     _etext: 0x5ffbd(VA)
 
   _erodata: 0x78000(VA)
 
     _edata: 0x80ae0(VA)
 
stack start: 0x94f860(VA)
 
       _end: 0x98fe68(VA)
 
  start_pfn: ad3
 
    max_pfn: 26700
 
Mapping memory range 0xc00000 - 0x26700000
 
setting 0x0-0x78000 readonly
 
skipped 0x1000
 
MM: Initialise page allocator for c01000(c01000)-26700000(26700000)
 
MM: done
 
Demand map pfns at 26701000-2026701000.
 
Heap resides at 2026702000-4026702000.
 
Initialising timer interface
 
Initialising console ... done.
 
gnttab_table mapped at 0x26701000.
 
Initialising scheduler
 
Thread ""Idle"": pointer: 0x2026702010, stack: 0x26640000
 
Initialising xenbus
 
Thread ""xenstore"": pointer: 0x20267027c0, stack: 0x26650000
 
Dummy main: start_info=0x96f960
 
Thread ""main"": pointer: 0x2026702f70, stack: 0x26660000
 
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
 
vbd 2049 is hd0
 
******************* BLKFRONT for device/vbd/2049 **********
 
 
 
 
 
backend at /local/domain/0/backend/vbd/1771/2049
 
Failed to read /local/domain/0/backend/vbd/1771/2049/feature-barrier.
 
Failed to read /local/domain/0/backend/vbd/1771/2049/feature-flush-cache.
 
16777216 sectors of 512 bytes
 
**************************
 
[H[J  Booting 'Ubuntu 13.04, kernel 3.8.0-19-generic'
 
 
 
 
 
root  (hd0)
 
 
 Filesystem type is ext2fs, using whole disk
 
 
kernel  /boot/vmlinuz-3.8.0-19-generic root=LABEL=cloudimg-rootfs ro console=hv
 
 
c0 
 
 
initrd  /boot/initrd.img-3.8.0-19-generic
 
 
 
 
 
close blk: backend at /local/domain/0/backend/vbd/1771/2049
 
[    0.000000] Initializing cgroup subsys cpuset
 
[    0.000000] Initializing cgroup subsys cpu
 
[    0.000000] Linux version 3.8.0-19-generic (buildd@allspice) (gcc version 4.7.3 (Ubuntu/Linaro 4.7.3-1ubuntu1) ) #30-Ubuntu SMP Wed May 1 16:35:23 UTC 2013 (Ubuntu 3.8.0-19.30-generic 3.8.8)
 
[    0.000000] Command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] KERNEL supported cpus:
 
[    0.000000]   Intel GenuineIntel
 
[    0.000000]   AMD AuthenticAMD
 
[    0.000000]   Centaur CentaurHauls
 
[    0.000000] ACPI in unprivileged domain disabled
 
[    0.000000] e820: BIOS-provided physical RAM map:
 
[    0.000000] Xen: [mem 0x0000000000000000-0x000000000009ffff] usable
 
[    0.000000] Xen: [mem 0x00000000000a0000-0x00000000000fffff] reserved
 
[    0.000000] Xen: [mem 0x0000000000100000-0x0000000026efffff] usable
 
[    0.000000] NX (Execute Disable) protection: active
 
[    0.000000] DMI not present or invalid.
 
[    0.000000] No AGP bridge found
 
[    0.000000] e820: last_pfn = 0x26f00 max_arch_pfn = 0x400000000
 
[    0.000000] init_memory_mapping: [mem 0x00000000-0x26efffff]
 
[    0.000000] RAMDISK: [mem 0x02345000-0x03422fff]
 
[    0.000000] NUMA turned off
 
[    0.000000] Faking a node at [mem 0x0000000000000000-0x0000000026efffff]
 
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x26efffff]
 
[    0.000000]   NODE_DATA [mem 0x266fb000-0x266fffff]
 
[    0.000000] Zone ranges:
 
[    0.000000]   DMA      [mem 0x00010000-0x00ffffff]
 
[    0.000000]   DMA32    [mem 0x01000000-0xffffffff]
 
[    0.000000]   Normal   empty
 
[    0.000000] Movable zone start for each node
 
[    0.000000] Early memory node ranges
 
[    0.000000]   node   0: [mem 0x00010000-0x0009ffff]
 
[    0.000000]   node   0: [mem 0x00100000-0x26efffff]
 
[    0.000000] SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
 
[    0.000000] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
 
[    0.000000] No local APIC present
 
[    0.000000] APIC: disable apic facility
 
[    0.000000] APIC: switched to apic NOOP
 
[    0.000000] PM: Registered nosave memory: 00000000000a0000 - 0000000000100000
 
[    0.000000] e820: [mem 0x26f00000-0xffffffff] available for PCI devices
 
[    0.000000] Booting paravirtualized kernel on Xen
 
[    0.000000] Xen version: 3.4.3-kaos_t1micro (preserve-AD)
 
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:1 nr_node_ids:1
 
[    0.000000] PERCPU: Embedded 28 pages/cpu @ffff880026000000 s85056 r8192 d21440 u2097152
 
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 156878
 
[    0.000000] Policy zone: DMA32
 
[    0.000000] Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0 
 
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
 
[    0.000000] __ex_table already sorted, skipping sort
 
[    0.000000] Checking aperture...
 
[    0.000000] No AGP bridge found
 
[    0.000000] Memory: 583296k/637952k available (7006k kernel code, 448k absent, 54208k reserved, 6238k data, 992k init)
 
[    0.000000] SLUB: Genslabs=15, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
 
[    0.000000] Hierarchical RCU implementation.
 
[    0.000000] 	RCU dyntick-idle grace-period acceleration is enabled.
 
[    0.000000] 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=1.
 
[    0.000000] NR_IRQS:16640 nr_irqs:256 16
 
[    0.000000] Console: colour dummy device 80x25
 
[    0.000000] console [tty0] enabled
 
[    0.000000] console [hvc0] enabled
 
[    0.000000] allocated 2621440 bytes of page_cgroup
 
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
 
[    0.000000] installing Xen timer for CPU 0
 
[    0.000000] tsc: Detected 2666.668 MHz processor
 
[    0.004000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5333.33 BogoMIPS (lpj=10666672)
 
[    0.004000] pid_max: default: 32768 minimum: 301
 
[    0.004000] Security Framework initialized
 
[    0.004000] AppArmor: AppArmor initialized
 
[    0.004000] Yama: becoming mindful.
 
[    0.004000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
 
[    0.004000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
 
[    0.004000] Mount-cache hash table entries: 256
 
[    0.004000] Initializing cgroup subsys cpuacct
 
[    0.004000] Initializing cgroup subsys memory
 
[    0.004000] Initializing cgroup subsys devices
 
[    0.004000] Initializing cgroup subsys freezer
 
[    0.004000] Initializing cgroup subsys blkio
 
[    0.004000] Initializing cgroup subsys perf_event
 
[    0.004000] Initializing cgroup subsys hugetlb
 
[    0.004000] CPU: Physical Processor ID: 0
 
[    0.004000] CPU: Processor Core ID: 0
 
[    0.004000] Last level iTLB entries: 4KB 128, 2MB 4, 4MB 4
 
[    0.004000] Last level dTLB entries: 4KB 256, 2MB 0, 4MB 32
 
[    0.004000] tlb_flushall_shift: -1
 
[    0.024699] Freeing SMP alternatives: 24k freed
 
[    0.027123] ftrace: allocating 26690 entries in 105 pages
 
[    0.036109] cpu 0 spinlock event irq 17
 
[    0.036172] Performance Events: unsupported p6 CPU model 23 no PMU driver, software events only.
 
[    0.037228] Brought up 1 CPUs
 
[    0.037316] NMI watchdog: disabled (cpu0): hardware events not enabled
 
[    0.037460] devtmpfs: initialized
 
[    0.038232] EVM: security.selinux
 
[    0.038252] EVM: security.SMACK64
 
[    0.038255] EVM: security.capability
 
[    0.039230] Grant tables using version 1 layout.
 
[    0.039264] Grant table initialized
 
[    0.039314] regulator-dummy: no parameters
 
[    0.039368] NET: Registered protocol family 16
 
[    0.040009] PCI: setting up Xen PCI frontend stub
 
[    0.040756] bio: create slab <bio-0> at 0
 
[    0.040844] ACPI: Interpreter disabled.
 
[    0.040883] xen/balloon: Initialising balloon driver.
 
[    0.040883] xen-balloon: Initialising balloon driver.
 
[    0.040883] vgaarb: loaded
 
[    0.040883] SCSI subsystem initialized
 
[    0.040883] usbcore: registered new interface driver usbfs
 
[    0.040883] usbcore: registered new interface driver hub
 
[    0.040883] usbcore: registered new device driver usb
 
[    0.040883] PCI: System does not support PCI
 
[    0.040883] PCI: System does not support PCI
 
[    0.040883] NetLabel: Initializing
 
[    0.040883] NetLabel:  domain hash size = 128
 
[    0.040883] NetLabel:  protocols = UNLABELED CIPSOv4
 
[    0.040883] NetLabel:  unlabeled traffic allowed by default
 
[    0.040883] Switching to clocksource xen
 
[    0.047314] AppArmor: AppArmor Filesystem Enabled
 
[    0.047340] pnp: PnP ACPI: disabled
 
[    0.048800] NET: Registered protocol family 2
 
[    0.048963] TCP established hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.049062] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
 
[    0.049114] TCP: Hash tables configured (established 8192 bind 8192)
 
[    0.049165] TCP: reno registered
 
[    0.049173] UDP hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.049187] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
 
[    0.049239] NET: Registered protocol family 1
 
[    0.049286] Trying to unpack rootfs image as initramfs...
 
[    0.072317] Freeing initrd memory: 17272k freed
 
[    0.079841] platform rtc_cmos: registered platform RTC device (no PNP device found)
 
[    0.080095] Initialise module verification
 
[    0.080143] audit: initializing netlink socket (disabled)
 
[    0.080162] type=2000 audit(1398296403.754:1): initialized
 
[    0.104943] HugeTLB registered 2 MB page size, pre-allocated 0 pages
 
[    0.194332] VFS: Disk quotas dquot_6.5.2
 
[    0.194398] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
 
[    0.194897] fuse init (API version 7.20)
 
[    0.194991] msgmni has been set to 1173
 
[    0.195329] Key type asymmetric registered
 
[    0.195351] Asymmetric key parser 'x509' registered
 
[    0.195398] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
 
[    0.195457] io scheduler noop registered
 
[    0.195483] io scheduler deadline registered (default)
 
[    0.195491] io scheduler cfq registered
 
[    0.195571] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
 
[    0.195619] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
 
[    0.195956] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
 
[    0.197004] Linux agpgart interface v0.103
 
[    0.198124] brd: module loaded
 
[    0.198728] loop: module loaded
 
[    0.202881] libphy: Fixed MDIO Bus: probed
 
[    0.203193] tun: Universal TUN/TAP device driver, 1.6
 
[    0.203218] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
 
[    0.203269] PPP generic driver version 2.4.2
 
[    0.203311] Initialising Xen virtual ethernet driver.
 
[    0.204213] blkfront: xvda1: barrier or flush: disabled 
 
[    0.205605] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
 
[    0.205615] ehci-pci: EHCI PCI platform driver
 
[    0.205652] ehci-platform: EHCI generic platform driver
 
[    0.205671] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
 
[    0.205698] uhci_hcd: USB Universal Host Controller Interface driver
 
[    0.205805] i8042: PNP: No PS/2 controller found. Probing ports directly.
 
[    1.209418] i8042: No controller found
 
[    1.209663] mousedev: PS/2 mouse device common for all mice
 
[    1.269429] rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
 
[    1.269505] rtc_cmos: probe of rtc_cmos failed with error -38
 
[    1.269633] device-mapper: uevent: version 1.0.3
 
[    1.269702] device-mapper: ioctl: 4.23.1-ioctl (2012-12-18) initialised: dm-devel@redhat.com
 
[    1.269718] ledtrig-cpu: registered to indicate activity on CPUs
 
[    1.269725] EFI Variables Facility v0.08 2004-May-17
 
[    1.269901] ashmem: initialized
 
[    1.270020] TCP: cubic registered
 
[    1.270120] NET: Registered protocol family 10
 
[    1.270327] NET: Registered protocol family 17
 
[    1.270350] Key type dns_resolver registered
 
[    1.270451] Loading module verification certificates
 
[    1.271406] MODSIGN: Loaded cert 'Magrathea: Glacier signing key: 4fb521df0b0fa81f775431361b8076d5d0f1869a'
 
[    1.271437] registered taskstats version 1
 
[    1.274659] Key type trusted registered
 
[    1.277504] Key type encrypted registered
 
[    1.380145] /build/buildd/linux-3.8.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
 
[    1.380213] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
 
[    1.380219] EDD information not available.
 
[    1.380565] Freeing unused kernel memory: 992k freed
 
[    1.380934] Write protecting the kernel read-only data: 12288k
 
[    1.384589] Freeing unused kernel memory: 1176k freed
 
[    1.385428] Freeing unused kernel memory: 1080k freed
 
Loading, please wait...
 
[    1.418963] udevd[91]: starting version 175
 
[    2.581150] Disabling lock debugging due to kernel taint
 
error: unexpectedly disconnected from boot status daemon
 
Begin: Loading essential drivers ... done.
 
Begin: Running /scripts/init-premount ... done.
 
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
 
Begin: Running /scripts/local-premount ... done.
 
[    2.761299] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
 
Begin: Running /scripts/local-bottom ... done.
 
done.
 
Begin: Running /scripts/init-bottom ... done.
 
[    3.807157] EXT4-fs (xvda1): warning: checktime reached, running e2fsck is recommended
 
[    3.876850] EXT4-fs (xvda1): re-mounted. Opts: (null)
 
mountall: Disconnected from Plymouth
 
Cloud-init v. 0.7.2 running 'init-local' at Wed, 23 Apr 2014 23:40:09 +0000. Up 5.48 seconds.
 
2014-04-23 23:40:09,363 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
cloud-init-nonet[5.97]: waiting 10 seconds for network device
 
cloud-init-nonet[15.99]: waiting 120 seconds for network device
 
cloud-init-nonet[135.99]: gave up waiting for a network device.
 
Cloud-init v. 0.7.2 running 'init' at Wed, 23 Apr 2014 23:42:19 +0000. Up 136.21 seconds.
 
2014-04-23 23:42:19,936 - util.py[WARNING]: Failed to initialize, likely bad things to come!
 
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
 
ci-info: |  eth0  | False |     .     |     .     | 12:31:3b:04:6c:2d |
 
ci-info: +--------+-------+-----------+-----------+-------------------+
 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
2014-04-23 23:42:20,275 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [0/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:21,278 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [1/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:22,281 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [2/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:23,284 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [3/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:24,286 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [4/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:25,304 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [5/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:27,308 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [7/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:29,312 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [9/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:31,316 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [11/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:33,320 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [13/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:35,324 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [15/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:38,329 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [18/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:41,333 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [21/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:44,338 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [24/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:47,343 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [27/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:50,348 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [30/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:54,354 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [34/120s]: request error [[Errno 101] Network is unreachable]
 
2014-04-23 23:42:58,359 - url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [38/120s]: request error [[Errno 101] Network is unreachable]


Edited by: pammisuri on Apr 23, 2014 10:00 PM"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hi

We are having this problem right now with our instance.

Are you able to help??
Ireland eu-west-1b

i-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 06:de:55:6a:8c:bf |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2015-06-19 14:29:48,736 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:49,738 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:50,741 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:51,743 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:52,746 - url_helper.pyWARNING: Calling 'http:/

Edited by: woec2 on Jun 19, 2015 7:32 AM"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hello woec2,

Thank you for posting on AWS Forum.

We've identified and fixed the root cause for these launch failures. Please let us know if you encounter this problem in future.

Regards,
Giorgio"

Amazon EC2	"Re: Instances can't acquire IP after launching
Having this issue right now, how do I solve?

 * Starting enable remaining boot-time encrypted block devices[74G OK 

cloud-init-nonethttp://14.15: waiting 120 seconds for network device

cloud-init-nonethttp://134.15: gave up waiting for a network device.

Cloud-init v. 0.7.5 running 'init' at Fri, 17 Jul 2015 18:39:17 +0000. Up 134.30 seconds.

ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 02:eb:07:93:ce:1d |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2015-07-17 18:39:17,902 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:18,915 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:19,918 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:20,920 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:21,923 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:22,926 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:24,940 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:26,944 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:28,947 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:30,951 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:32,955 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:35,960 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:38,965 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:41,969 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:44,974 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-07-17 18:39:47,979 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hello GiorgioN@AWS,

I am now having this issue. Is this a persistent AWS issue or something more specific to my instance.

Instance ID: i-05e648ecc85059dda

I'm not getting an IP and cannot connect to my instance:

Relevant system log output: 

cloud-init-nonethttp://13.71: waiting 120 seconds for network device
cloud-init-nonethttp://133.71: gave up waiting for a network device.
Cloud-init v. 0.7.5 running 'init' at Sun, 14 Aug 2016 21:04:46 +0000. Up 133.85 seconds

Thanks, 
Andy"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hi Andy,

I think you have changed the NIC configuration on your instance. The device eth0 is not able to get the private IP it is supposed to have. You will need to check up on the NIC configuration file /etc/sysconfig/network-scripts/ifcfg-eth0 and check if you have changed anything from the defaults. You may follow the documentation below for the steps:

https://aws.amazon.com/articles/5213606968661598

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Instances can't acquire IP after launching
Jayakrishnan,

Instance ID: i-05e648ecc85059dda

Very helpful article to solve all sorts of problems down the track.

It still has not worked in my case, however. We have not changed any NIC settings. 

Network config files:

/etc/network/interfaces

# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
 
# The loopback network interface
auto lo
iface lo inet loopback
 
# Source interfaces
# Please check /etc/network/interfaces.d before changing this file
# as interfaces may have been defined in /etc/network/interfaces.d
# NOTE: the primary ethernet device is defined in
# /etc/network/interfaces.d/eth0
# See LP: #1262951
source /etc/network/interfaces.d/*.cfg


/etc/network/interfaces.d/eth0.cfg

# The primary network interface
auto eth0
iface eth0 inet dhcp


Any further suggestions?

Thanks,
Andy

Edited by: coughy on Aug 15, 2016 6:18 PM"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hello Andy,

Could you please start your instance and let it running so that we can investigate couple of things from our side.

Regards,
Umair A."

Amazon EC2	"Re: Instances can't acquire IP after launching
Voila... It is back up and running.

For the record, I never change a single server configuration to cause the site to go down and vice versa, I never changed a single thing for the server to come back up. Something is amiss.

If you do find out the root cause, I would love to know for future reference.

Thanks,
Andy"

Amazon EC2	"Re: Instances can't acquire IP after launching
Hello Andy,

Thank you for the confirmation.

There was an issue that we discovered with host earlier which was fixed.

Regards,
Umair A."

Amazon EC2	"Best way to host 16cores & 256GB Ram - Dedicated host?
Hi everyone,

I'm looking for options to migrate one of our servers, which has 16cores and 256GBs of Ram, to AWS.

If we get an R3 dedicated host with 1-year, all upfront payment, it costs $19010 in Frankfurt. We can host 1x r3.8xlarge virtual machine , which has 32 cores and 244GBs of Ram. Is this the best option? Are there any close alternatives? 

Also, are there any other services that I'll be billed for, apart from storage and network costs?

Thanks."

Amazon EC2	"ELB information unavailable through Console UI
I'm totally unable to see the state of my ELBs through the Console UI in US-EAST-1. All I get is

""An error occurred fetching load balancer data: An unknown error occurred""

This has been ongoing for the past 50 minutes for me. Your status page say that the increased API Error Rates in Virginia are resolved over 1.5 errors ago with the last update. I'd disagree"

Amazon EC2	"Re: ELB information unavailable through Console UI
Update: This is happening for us in Oregon (US-WEST-2) as well. Not limited to Virginia (US-WEST-1)"

Amazon EC2	"Re: ELB information unavailable through Console UI
Anyone listening here? Almost 24 hours now and I STILL can't get ELB information through the Console UI. Affecting multiple accounts, multiple regions.

Furthermore, I've had co-workers verify the same error in multiple browsers (Chrome, Firefox). 

Bueller ... Bueller ..."

Amazon EC2	"Re: ELB information unavailable through Console UI
Hi,

Could you please confirm whether this is an intermittent issue and whether you're using an IAM user to access the console?

Regards,
Arun T."

Amazon EC2	"Re: ELB information unavailable through Console UI
This is not an intermittent issue. It's been 100% failure every time I've tried in the past 24+ hours.

I'm logged in as an IAM user to a parent account, then using an assumed role to a child account."

Amazon EC2	"Re: ELB information unavailable through Console UI
Hello,

I've not been able to replicate this here. Are you still seeing this behaviour or has it cleared?

If it is still happening I'd suggest logging out and logging back in to see if that helps.

Richard"

Amazon EC2	"Re: ELB information unavailable through Console UI
This is still an ongoing issue.

Logging out didn't help, as should have been evident. It's been ongoing for over 24 hours which would imply a forced logout. Furthermore, I noted this has happened for multiple co-workers on multiple browsers.

This is happening 100% of the time for us for 4 days now.

It happens on 3 different accounts
It happens for multiple different users and logins
It happens on multiple OS (Linux, Mac, ChromeOS)
It happens on multiple Browsers (Chrome, Firefox)
It happens from multiple physical locations (Home, Work)


Command line AWS access works just fine on the same accounts, from the same machines."

Amazon EC2	"Re: ELB information unavailable through Console UI
Hello,

Could you please confirm if the problem is resolved? If not please provide us the screenshot and the regions in which you experience this problem.

Looking forward to your reply.

Regards,
Umair A."

Amazon EC2	"Sendmail issue in AWS EC2
We are using Sendmail service in our AWS EC2 instances without Amazon SES. We find that sometimes the emails are sent out quite slow, and after tracking this issue we notice that the connections between EC2 instance and smtp server are very unstable.

When we try to connect to gmail's smtp server using command ""telnet gmail-smtp-in.l.google.com 25"", we notice that very frequently, this connection would timeout.

1st test:

root# telnet gmail-smtp-in.l.google.com 25 Trying 173.194.68.26...
Connected to gmail-smtp-in.l.google.com.
Escape character is '^]'.
220 mx.google.com ESMTP b36si19355405qta.35 - gsmtp quit
221 2.0.0 closing connection b36si19355405qta.35 - gsmtp Connection closed by foreign host.


2nd test:

root# telnet gmail-smtp-in.l.google.com 25 Trying 173.194.68.26...
telnet: connect to address 173.194.68.26: Connection timed out Trying 2607:f8b0:400d:c09::1b...
telnet: connect to address 2607:f8b0:400d:c09::1b: Network is unreachable


When we do the same test on our desktops / laptops, no matter how many times we try, the connection can be setup immediately.

We are wondering whether AWS is implementing any sort of network limitation for smtp connections in AWS EC2 instances? Can anyone help us answer this problem?

Edited by: xifeng on Aug 9, 2016 10:06 PM"

Amazon EC2	"Re: Sendmail issue in AWS EC2
Hello,

Please note that AWS throttles traffic on port 22 of all EC2 instances by default.

Have a look here for steps to remove the limits.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Sendmail issue in AWS EC2
Hi Jayakrishnan L.

Thanks very much for your response, we will try your suggestion.

Regards,
Xifeng"

Amazon EC2	"instance stuck in terminating 'shutting-down' state for more than a week
Hi,

I have an EC2 instance that has been stuck in 'shutting-down' state for many days now. I terminitated it a while ago, but the record is still showing in the EC2 dashboard.

The documentation in these links suggest that I post here for help.
https://aws.amazon.com/premiumsupport/knowledge-center/ec2-stuck-shutting-down/
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesShuttingDown.html

The  InstanceID is i-067ebbb20e54dfd9c

I've tried deleting/terminating all EC2 resources in the account. Only instance and volume attached to the hang instance are left.

Please help."

Amazon EC2	"Re: instance stuck in terminating 'shutting-down' state for more than a week
Good day

We are reaching out to our EC2 Service Team to investigate. We will revert back to you once we have successful shut down the instance.

Thanks for working with us.
Regards
Imthian R"

Amazon EC2	"Re: instance stuck in terminating 'shutting-down' state for more than a week
Hi there,

The service team has allowed instance i-067ebbb20e54dfd9c to enter the terminated state.

We apologize for any inconvenience caused by this issue.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: instance stuck in terminating 'shutting-down' state for more than a week
thanks for helping."

Amazon EC2	"Instance in retirement planification cannot be stopped
Hi there,

we received a mail informing us that an instance had to be stopped and started in order of having it moved to another physical machine. We've tried to stop it but it does not move from the stopping state. We have tried a forcefully stop.

Can you assist? Instance id is  i-097c76201b33910c0 and it is located in eu-west-1 region


thanks!
Jordi"

Amazon EC2	"Re: Instance in retirement planification cannot be stopped
Hi Jordi,

We've stopped this instance for you.

Have a great weekend 

Richard"

Amazon EC2	"Re: Instance in retirement planification cannot be stopped
Thanks!"

Amazon EC2	"Unable to release Elastic IPs
Hi,

I'm developing and have been testing our CloudFormation scripts for some time, and now noticed that we have a bunch of Elastic IPs that are not associated to an Instance. They were, but apparently when deleting a CloudFormation stack it does not clean up the Elastic IPs (nor their network interfaces).

I'd like to release those Elastic IPs now, but the ""Release addresses"" option is greyed out.

Could you please release the following 3 EIPs?

eipalloc-986c32fd: eni-71c6410a 10.0.2.248 52.18.69.184
eipalloc-016d3364: eni-b55afaea 10.0.1.109 52.48.191.28
eipalloc-9d712ff8: eni-0ad3e447 10.0.3.115 52.209.59.198

PS. I thought maybe I can't release those because they're still linked to a network interface. However, when trying to delete a network interface I get the following error message:

Error deleting network interface
eni-71c6410a: You are not allowed to manage 'ela-attach' attachments.

Thank you"

Amazon EC2	"Re: Unable to release Elastic IPs
Hello,

It appears you have 3 NAT Gateways in the eu-west-1 region that are linked to these EIPs. I believe you will need to remove the NAT Gateways first before the EIPs can be removed. Let us know if that helps.

Kind regards,
Chris"

Amazon EC2	"Re: Unable to release Elastic IPs
Hello,

Just as a follow-up, I see that the 3 NAT Gateways were created as part of a live CloudFormation stack in the eu-west-1 region. If you no longer need the NAT Gateways or CloudFormation stack, then you should delete the stack.

Stack Name: vpc
Stack ID: dc7af3c0-5f70-11e6-8dbc-500c4265eed2
Creation Time: 2016-08-11 03:08:22 

Kind regards,
Chris"

Amazon EC2	"Re: Unable to release Elastic IPs
Ah, I see. That wasn't clear then. The 3 EIPs have as scope the default 'vpc' mentioned, while the NATs are in scope 'vpc-1659eb72' I would assume (as is the bastion host for example). Anyways, I understand now why I see those 3 EIPs. Thanks!"

Amazon EC2	"Slow disk access
Why is the disk access so slow on i-0c8d1dc18ed94db5b ? It's been siting mostly idle for the last day and is still slow."

Amazon EC2	"Re: Slow disk access
The access is faster now. This is using EBS volume vol-0ab611ddc8b4be677

What happened? This is a c3.xlarge instance type so there shouldn't be any concept of credits. It was a basic Windows machine without anything running on it."

Amazon EC2	"Re: Slow disk access
Since it's been a few days I've had to move on and terminate this instance."

Amazon EC2	"IAM User policy to restrict EC2 actions to one VPC
I get a ""denied"" when my user tries this policy. Why doesn't it work? I copied it from the docs and I have the right account and VPC id (replaced with 5s here).

{
   ""Version"": ""2012-10-17"",
   ""Statement"": [{
      ""Effect"": ""Allow"",
      ""Action"": ""ec2:RunInstances"",
      ""Resource"": ""arn:aws:ec2:us-west-1:555555:subnet/*"",
        ""Condition"": {
         ""StringEquals"": {
            ""ec2:Vpc"": ""arn:aws:ec2:us-west-1:55555:vpc/vpc-55555""
            }
      }
   },
   {
      ""Effect"": ""Allow"",
      ""Action"": ""ec2:RunInstances"",
      ""Resource"": [ 
         ""arn:aws:ec2:us-west-1:55555:instance/*"",
         ""arn:aws:ec2:us-west-1:55555:volume/*"",
         ""arn:aws:ec2:us-west-1:55555:network-interface/*"",
         ""arn:aws:ec2:us-west-1:55555:key-pair/*"",
         ""arn:aws:ec2:us-west-1:55555:security-group/*""
         ]
      }
   ]
}"

Amazon EC2	"Cannot connect to EC2 (VPC)
I have instances running in EC2-CLASSIC and can connect well.

Today, I created a VPC (VPC with a Single Public Subnet) and launch a new instance by following below guide step by step:
Link: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/GetStarted.html

The Route table / Internet Gateway is setup by default, I didn't modify anything on it.

I just use the ""default"" security group (allow all inbound and outbound port) and the default Network ACLS.

I've assigned elastic IP to the new instance, but failed to connect to ssh, saying connection timeout.

Instance ID: i-7bfdfff5


Could you help?

Edited by: nasthon on Aug 15, 2016 8:40 AM"

Amazon EC2	"Re: Cannot connect to EC2 (VPC)
Hello,

The default security group allows inbound traffic from only other instances associated with the same security group. Please modify the security group to allow traffic from the internet and you should be able to access the instance after that.

Cheers,
Truptesh"

Amazon EC2	"Re: Cannot connect to EC2 (VPC)
thx, it works."

Amazon EC2	"EC2 Instance scheduled for retirement
Hi,

I got an email this morning that an instance is scheduled for retirement (instance-ID: i-116b623c) due to an issue with underlying hardware. The docs state that doing a stop/start should be enough to resolve the problem... I came across this documentation that referred to an Instance Stop event and a Retirement event... My question here is about the difference between the Instance Stop and Retirement events. Does the Retirement event indicate a more serious issue with the hardware?

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-instances-status-check_sched.html

Before doing anything, I just wanted to confirm that doing a stop/start will be sufficient for me to resolve this. 

Thanks,
Josh"

Amazon EC2	"Re: EC2 Instance scheduled for retirement
Hey Josh,

Thank you for writing into the AWS Forums.

I can confirm that performing a stop on an instance that is scheduled for retirement is all that is needed to migrate away from the degraded host onto a new healthy host. I checked your instance and it appears that you already did this, so you are now good to go. You can also confirm this by checking on your EC2 events tab of your EC2 console.

To answer your question, a retirement event indicates that the EC2 underlying host hardware (running your instance) will no longer be able to successfully run your instance, so therefore we require the stop/start to migrate the instance off of the failing host.

Regards,
Troy W"

Amazon EC2	"MXtoolbox return Error 403 Forbidden
I installed dovecot in an Amazon EC2 instance, and then configure it. Mxtoolbox returns The remote server returned an error: (403) Forbidden

I set well my security group
http://i.stack.imgur.com/b1L0M.png 

I managed to start dovecot and successfully execute commands such as ""telnet localhost 143"" I have verified my domain, I have managed to ship through Amazon SES, I even received emails on Amazon s3 buckets.

I set the MX record: mail.midominio.com, and in register A: mail.midominio.com -> my ip

But when I send emails from Gmail to EC2, I see the emails bounce. Even appear when I run ""sudo vi/var/mail/root"". by notification that the shipment failed.

In ""/var/ log/maillog"" can read this, ""Connection refused by micorreo@midominio.com""

What should I do?

Does it have to do with this?
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html 

Thank you"

Amazon EC2	"Re: MXtoolbox return Error 403 Forbidden
Hello,

Thank you for writing into the AWS Forums.

This sounds as though you are trying to troubleshoot a third party application installed on EC2, so please be aware as we (AWS folk) do not own dovecot, so we can only provide best effort troubleshooting on this issue.

If you post the instance ID we can take a look a closer look your Security Group and ACLs, however it does not appear that this is the issue from how you have described it. It sounds as though this is an application layer issue in that you are getting a 403 error, also from the sounds of it you need to ensure you can establish a connection to micorreo@midominio.com via the logs you posted.

Regards,
Troy W"

Amazon EC2	"high volumes of packet loss
We've got large amounts of packet loss to our DNS server, with all traffic originating in the same EC2 region and same VPC. (See attachment.)

The chart is packet loss percent with ping, but we're also getting times where large amounts of udp traffic (DNS) is lost, lasting minutes at a time. (For various reasons, route53 is not an option for our use-case.)

Has anyone had luck debugging these issues? The AWS-provided tools have proven somewhat useless so far.

Edited by: Dis on Aug 15, 2016 11:13 AM"

Amazon EC2	"ELB High Latency
Hello,

Something going wrong with ELB latency (screenshot of cloudwatch http://d.pr/i/LZQT). Every my request to site stack on 2-4 seconds, then site start loading (check please app.beheroik.com)"

Amazon EC2	"Re: ELB High Latency
bump"

Amazon EC2	"Amazon ec2 free tier usage
Hello,

I have regsitered for amazon ec2 free tier and created a windows instance.I was reading limits and found 15GB traffic out.Does it mean that all traffic which is sent or uploaded if exceeded 15gb will be chargable or total (upload/download in/out) 15gb?

And how can i calculate my total traffic used now.Please can anyone guide how to setup this step by step.I am new to aws.


Thanks"

Amazon EC2	"Re: Amazon ec2 free tier usage
Yes, everything above the free tier will be charged.  The free tier usage will still remain free for your first year.  So if you use 16 GB, the first 15 GB will be free, and you will be charged for 1 GB.

You might want to check out  Detailed Billing Reports.  They're updated about every 6 hours, but will give you details on number of bytes used under the free and paid tier."

Amazon EC2	"Unable to SSH after account was reactivated
This looks to be the same issue I am having, but support seems unable to help me and continues to refer me to the forums.

https://forums.aws.amazon.com/thread.jspa?messageID=382414&#382414

Please, fully restore my account with instance id: i-32a2eac4, thanks."

Amazon EC2	"Re: Unable to SSH after account was reactivated
Hi,

I can see that your account is under Isolation. I have reached out to our Internal team to check this. 

I shall get back to you as soon as possible.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Unable to SSH after account was reactivated
Hi,

I am happy to inform you that the isolation has been removed for your account. You should be able to access you instance now.

Regards,
Jayakrishnan L."

Amazon EC2	"How to add 2 tables for analytics
1. I have multiple tables and to get analytics done and to make graphs, I need to take parameters from multiple tables (2 or 3) to create a graph. 
2. Also need to filter based on months. How can i assign filter like that 
3. I can currently see monthly data. Is there a way I can see weekly data"

Amazon EC2	"Cant connect to an instance
I created an instance i-514b2afe (which is not my first), however, I am not able to SSH into it. I feel it might be the custom VPC I created as outlined by AWS documentation on deploying an instance to host an image. Kindly look at the configurations I did. Note that it is not the security group configurations. It is now set to allow connections on ports 22 and 8080 from my IP. But even when I set it to allow from anywhere and ""All traffic"", same issue persists."

Amazon EC2	"Re: Cant connect to an instance
Hello, 

I'm unable to test connectivity to your instance since you have connectivity restricted to just your public IP. 

I'm showing you currently have SSH allowed to your public IP in your security groups and in your network ACLs and you have a the correct route for 0.0.0.0/0 pointed towards your IGW. Additionally the system logs for the instance show ssh starting properly so the instance, security, and routing look good. 

Are you still having issues? What error message are you getting when you attempt to ssh? 

Regards,
Nick"

Amazon EC2	"Re: Cant connect to an instance
Thanks for your response. 

When I try to SSH I get a ""Network error: connection timed out"".

I have set the inbound rule to allow all IP so you could try SSH'ing in.

Edited by: Kev on Aug 11, 2016 3:16 PM"

Amazon EC2	"Re: Cant connect to an instance
Hi,

You have set a NACL (acl-9e8ebcfa) rule on your VPC so that only SSH traffic from 169.159.105.234/32 is allowed. All the other Inbound traffic are blocked.

Please have a look at your NACL rules.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Cant connect to an instance
Thank you Jayakrishnan,

I have changed it but I am still not able to connect. Please help me. Can you guys just go in and fix the problem?

Regards"

Amazon EC2	"Re: Cant connect to an instance
Hi,

The NACL rules you specified are still not correct. I recommend you to go through our documentation on NACL here and fix it accordingly. The source range - 0.0.0.0/32 specified by you in the rules are not correct. You should use 0.0.0.0/0 for allowing all or <IP>/32 if you want to restrict access to specific IPs.

Please note that we AWS Engineers cannot and will not access any of our customer resources because of the obvious security reasons."

Amazon EC2	"Re: Cant connect to an instance
Thanks for the pointer. 

I made the changes but the issue persists. Do you think it might emanate from some other setting?"

Amazon EC2	"Re: Cant connect to an instance
Hi,

Have you gone through the documents about NACL I shared? if not, please do go through it.

Also I can see that TCP Port 22 on your instance is accepting connections.

Regards,
Jayakrishnan L."

Amazon EC2	"Assign Placement Group to Auto Scaling Group via the Web UI?
Is is possible to assign a placement group to an auto scaling group via the Web UI?  I've yet to find a way to do so, either during creation of the ASG or by editing it.  It seems placement group assignment is only possible via the CLI.  Is this the case?"

Amazon EC2	"Re: Assign Placement Group to Auto Scaling Group via the Web UI?
Hi,

At this time, you cannot assign a placement group for Autoscaling instances via Web Console. You need to use AWS CLI or API.

First, you do need to have a placement group defined.  If you have not yet defined a placement group, you can do so within the EC2 console or via CLI/API. Choose ""Placement Groups"" from the left hand pane.  Next, click Create Placement Group and give it a name, then click ""Create"".  

Your other option is to configure it via CLI:

aws ec2 create-placement-group --group-name my-placement-group --strategy cluster

As for creating the Auto Scaling Group, this will need to be completed via CLI as there is no way to do this in the console.  
I will show an example for you below as well as a link to the CLI documentation so you can ensure you include all Auto Scaling parameters you want to define for your group: 

aws autoscaling create-auto-scaling-group --auto-scaling-group-name ASG-Name --launch-configuration-name LaunchConfig --min-size 1 --max-size 3 --desired-capacity 2 --default-cooldown 600 --placement-group my-placement-group --availability-zones AZ

CLI Documentation (scroll to the bottom for lots of good examples):  http://docs.aws.amazon.com/cli/latest/reference/autoscaling/create-auto-scaling-group.html

Regards,
Jayakrishnan L."

Amazon EC2	"ec2 instance reboot without any notice resulted in data loss
Hi.

Yesterday, on Aug 12th around 18:58 UTC my instance suddenly rebooted without any notice.
Instance id:
i-38b18890

For some reason I've lost all the data on /dev/xvdb.

Hence I have 2 questions: why was the instance rebooted without any prior notice and is that possible to restore the data from the partition?

Thanks"

Amazon EC2	"Re: ec2 instance reboot without any notice resulted in data loss
Hello,

This instance stopped on 2016-08-12 19:01:13 UTC after a StopInstances call was made.

Our logs show that this was requested by the OpsWorks service. If you manage instances through OpsWorks the service can replace them from time to time when they become unhealthy for any reason.

The second volume on this instance (/dev/xvdb) is an instance store volume and thus the data on it does not survive a stop/start process. Unfortunately this means that there is no way to recover this data. We strongly recommend that our customers only use instance storage for data that is unimportant (such as log files, temporary caches, et al).

You can read more about instance storage here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

I am sorry that I cannot be more help.

Richard"

Amazon EC2	"Re: ec2 instance reboot without any notice resulted in data loss
Hi Richard!

Thanks, noted about the instance store volume.

What about the EBS? After reboot I am having issues with it as well.
Id: vol-4ac491a0

For example, the issue is with /var/log/apache2 folder 
It's showing as existing but 0 bytes size. 
Cannot delete, change directory to it or create a new one with same name. 
Have tried running fsck which didn't help.

drwxr-xr-x 2 root     root       0 Aug 13 05:39 apache2

root@z1:/# cd /var/log/apache2/
bash: cd: /var/log/apache2/: No such file or directory
root@z1:/# rm -rf /var/log/apache2/
rm: cannot remove ‘/var/log/apache2/’: Is a directory
root@z1:/# mkdir /var/log/apache2/
mkdir: cannot create directory ‘/var/log/apache2/’: File exists"

Amazon EC2	"Re: ec2 instance reboot without any notice resulted in data loss
Hi,

This seems to be a filesystem corruption. Normally an fsck should help here. If not, you might need to replace the volume with a restored one from a snapshot of the original volume when it was in consistent state.

Regards,
Jayakrishnan L."

Amazon EC2	"is eu-central-1.ec2.archive.ubuntu.com broken?
W: Failed to fetch http://eu-central-1.ec2.archive.ubuntu.com/ubuntu/dists/trusty-updates/main/source/Sources  Hash Sum mismatch
W: Failed to fetch http://eu-central-1.ec2.archive.ubuntu.com/ubuntu/dists/trusty-updates/main/binary-amd64/Packages  Hash Sum mismatch
W: Failed to fetch http://eu-central-1.ec2.archive.ubuntu.com/ubuntu/dists/trusty-updates/universe/binary-amd64/Packages  Hash Sum mismatch
E: Some index files failed to download. They have been ignored, or old ones used instead.


It's happening since Friday. Who is responsible for this repo?"

Amazon EC2	"Re: is eu-central-1.ec2.archive.ubuntu.com broken?
Yes, 
facing exactly the same thing.

apt-get is unable to complete successfully, and it breaks scale up process completely."

Amazon EC2	"Instance stuck at the shuttingdown state
Instance i-49bb32ab has been stuck in shutting down state for hours.
Before I requested the shutdown it had been stuck in stopping state.
I need it stopped or terminated.
thank you"

Amazon EC2	"Re: Instance stuck at the shuttingdown state
Hi,

I've reached out to our engineering team for assistance with this. Once We've heard back, I'll update you with further information."

Amazon EC2	"Re: Instance stuck at the shuttingdown state
Hello there,

Thank you for your patience. The instance i-49bb32ab has been shutdown. Please verify the status and let us know if you run into any other issues.

Best,
Adolfo M."

Amazon EC2	"Re: Instance stuck at the shuttingdown state
Thank you.
It's ok.
Everything is fine.

Cheers,
Henrique Riccio"

Amazon EC2	"Production server automatic restart
Our production server has been restarted automatically at 0:58 PDT August 14, 2016.
this was in US-West-1a N. California.

The Amazon health dashboards did not indicate any issues at the time. 
We didn't restart our production servers, they need to be up 24*7 as expected.
Could you please investigate this issue, let me know the case for it.
Instance ID :  i-a2853b61

system logs: 
 who -b 
 system boot  2016-08-14 00:58   

last reboot
reboot   system boot  3.13.0-83-generi Sun Aug 14 00:58 - 20:52  (19:54)
wtmp begins Thu Aug  4 19:13:15 2016                                        

last -x | less
ubuntu   pts/2        113.160.X.X  Sun Aug 14 20:06   still logged in
ubuntu   pts/1        113.160.X.X  Sun Aug 14 17:50   still logged in
ubuntu   pts/0        113.160.X.X  Sun Aug 14 17:50   still logged in
ubuntu   pts/0        113.160.X.X  Sun Aug 14 01:18 - 03:05  (01:47)
runlevel (to lvl 2)   3.13.0-83-generi Sun Aug 14 00:58 - 20:56  (19:58)
reboot   system boot  3.13.0-83-generi Sun Aug 14 00:58 - 20:56  (19:58)                           

If you need any further information, please let me know soon.

Thanks and Regards,

Hao Nguyen

Edited by: qupworld on Aug 14, 2016 8:59 PM"

Amazon EC2	"Re: Production server automatic restart
Good day Hao 

What happened with this instance is that the underlying hardware has encountered an issue , however our automated systems recovered. You can perform a stop start to move to another underlying host.

As generic advice we provide all our customers I am attaching our whitepaper on building around failure which may help in future.
http://d36cz9buwru1tt.cloudfront.net/AWS_Building_Fault_Tolerant_Applications.pdf

Alternatively you can make use of our EC2 Auto Recovery feature to minimize downtime.
https://aws.amazon.com/blogs/aws/new-auto-recovery-for-amazon-ec2/

Regards
Imthian R"

Amazon EC2	"trying to access my server after a few weeks and it does not display again
i have been accessing my server at server:50070 but after a few weeks i tried to access the server that was never rebooted or shutdown, but i can not access anymore 

Here is the link http://ec2-54-201-150-226.us-west-2.compute.amazonaws.com:50070 but is no more showing , what could be wrong?

Edited by: devramirez on Aug 14, 2016 11:45 PM"

Amazon EC2	"ssh connection explanations in documents
Hi Community , 

I just  created  a  new hadoop instances by using  emr.  Then  tried to  connect  to  the master  node  by using ssh.  But  altough i  applied everything  that  document says  about connection setup ( putty setup, inbound, outbound ports, etc)  i could not make a connection  .  Then  i read  the documents once again in order to understand  which part  i  missed. But i think  i applied  everything that documents say.  
Then i entered  the forums and  find a  little  node  that  i  need  to  add port 22  in  inbound  port settings.  Yes  it solved  the  problem.  But  i  lost 3  hours  to  make  this setup.  I think  this  detail  must  be  inside  the documents  .  

Kind Regards,
tolga"

Amazon EC2	"X1 doesn't achieve 20Gbps as expect, why?
X1 support 20Gbps bandwidth, but I did not get this result by iperf/netperf in my test, my test result is only 10Gbps. I am sure that VM  modprobe ena driver. I want to know why it isn ' t performing as I would expect. Are there anyone get the same result in X1 test?"

Amazon EC2	"AWS credentials suddenly invalid on single EC2 instance?
Today we were faced with an issue that our credentials (access key/secret key) were suddenly not accepted anymore within an instance (i-94947e08) to launch new EC2 instances in N. Virginia.

We got the following error:
""AWS was not able to validate the provided access credentials (Service: AmazonEC2; Status Code: 401; Error Code: AuthFailure; Request ID: 7110e1fb-f9f4-4995-9bab-72090903b304)""

With the same credentials from another instance it works normally.
Any clue why those credentials do not work anymore from the mentioned instance?

Thanks,
Martin"

Amazon EC2	"Re: AWS credentials suddenly invalid on single EC2 instance?
After rebooting the instance the problem seems to be resolved. Starting new EC2 instances works as expected again.

However, I would like to avoid situations like that in future. Can anyone please check what happend and why our credentials where invalid?"

Amazon EC2	"Re: AWS credentials suddenly invalid on single EC2 instance?
Hello,

If you are receiving an error 'AuthFailure: AWS was not able to validate the provided access credentials', this could be related to clock skew on the client.

Can you please check clock on the client? Also please make sure that your client is syncing clock. If you get this error again even if clock is not skewed, please ask us with Request ID.

I hope this help."

Amazon EC2	"EB deploy hangs in updating state
For my new node.js app I used command line ""eb create"" to deploy which worked fine. Then I made some change I want to update so did ""eb deploy""

Now my site does not work anymore and eb status says: 
Status: Updating
Health: Red

Management console just says ""Elastic Beanstalk is updating your environment"" and the events show:

2016-08-12 15:12:39 UTC+1000 	ERROR 	During an aborted deployment, some instances may have deployed the new application version. To ensure all instances are running the same version, re-deploy the appropriate application version.
2016-08-12 15:12:39 UTC+1000 	ERROR 	Failed to deploy application.
2016-08-12 15:12:39 UTC+1000 	ERROR 	Unsuccessful command execution on instance id(s) 'i-************'. Aborting the operation.

If I try eb log or eb abort I get the message:
ERROR: Environment named dev-env is in an invalid state for this operation. Must be Ready.

Please why is this happening and how can I get my site back up?

These forums...
""Your message quota has been reached. Please try again later. ""

Well it is now Monday morning and eventually it redeployed over the weekend. I want to get to the bottom of this so I tried eb deploy again and again it is stuck like it was on Friday. I created a 2nd environment using eb create which worked fine but then subsequent eb deploy to that new environment and now is also hanged. I am not sure what the cause would be or how to diagnose. Can anyone help please."

Amazon EC2	"Understanding EC2 Upload Speed (into an EC2 instance from the internet)
I have 2 EC2 instances - both are T2 micros - one is linux, the other windows.

They each have a different kind of web based file upload where people can upload files, usually images.

I have a test batch of files - 60 files, ranging from 1.5 to 5 MB each.

Both instances receive the test files in about the same amount of time - 10 minutes or so. To be clear the instances run web servers, and allow uploads from the internet, so I am uploading from my home computer via a web page. The 2 instances have two totally separate uploaders, one is old, the other new. They are separate from each other.

Today I noticed that if I upload those same 60 files to a different service, not using AWS, I can upload them in about 4 minutes - much quicker - from the same computer, same internet connection. That uploader works differently than mine, but the uploader itself doesn't seem to be the reason for the difference in speed - the amount of data transferred was the same, they were not shrunk or anything. I can also ftp them to the non AWS server and it takes about 4 minutes.

I can also run the uploader that I have on the linux instance locally, it uses fineuploader and is going to the S3 via a server. When I run it locally I get about 4 minutes, same as sending to the non AWS uploader.

If I go RDP into my windows T2 micro, and pull up the uploader that is on the Linux instance, and upload the same 60 files, it takes about 60 seconds - blazing fast. I sort of get that, they are both in US West-1, so they probably never even leave the facility.

I also have tried just RDP'ing into the windows instance and copying a zip folder of the same 60 files and it takes about 10 minutes also - maybe a little more.

I also did the same thing on the Linux one using SCP and it was also 10-12 minutes.

When on the windows T2 micro, I can do a speed test and it is blazing fast both up and down.

So no matter how I transfer the files to each of the T2 micros it takes roughly the same amount of time - 10 minutes (other than the blazing fast server to server one).

But I know my upload speed locally can do it faster, as I can do the same 60 files to a non AWS uploader (or ftp to the non AWS server) and it takes 4 minutes.

Is there a throttle somewhere? I have read quite a few posts about this, with no real answer. I get that the T2 Micro has ""low to moderate"" network performance - is this the problem? I spun up a larger instance - can't remember if it was a T2 small or an M3 medium - and it was the same 10 minutes.

If there was a throttle based on the type, why did the T2 widows to T2 linux one go so fast? I was expecting it to be the same speed as the others, but maybe since they are both in the same zone it bypasses it?

If I want to get a faster upload speed into the EC2, what do I need to do? from a processing stand point a T2 micro or small is fine for what I am doing. My business is based on people sending me images so the upload speed is important.

Edited by: rad on Aug 13, 2016 10:59 PM

Edited by: rad on Aug 13, 2016 10:59 PM

Edited by: rad on Aug 13, 2016 11:01 PM"

Amazon EC2	"Re: Understanding EC2 Upload Speed (into an EC2 instance from the internet)
I have tested m3 medium and m3 large, still same upload speed.

I also used my linux uploader and uploaded the same 60 files to it in 2 different browsers on the same comnputer and it still took the same amount of time - 10-11 minutes.

Somewhere there is a throttle that is only allowing an upload speed into the ec2 instance of 1.5 - 3 Mbps per connection.

Edited by: rad on Aug 14, 2016 1:21 PM"

Amazon EC2	"cuda-gdb fails to initialize driver, nvidia-smi kernel mismatch error.
I'm using the amzn-ami-gpu-hvm-2012.09.0.x86_64-ebs (ami-02f54a6b) to learn CUDA programming, and lo and behold, I wrote something that isn't behaving as expected.  

I tried to use cuda-dbg, but it complained:[Thread debugging using libthread_db enabled]
fatal:  The CUDA driver installation failed. (error code = 20)

So, I went online, because people post information about problems and frequently people post information about solutions, sometimes even the same person.  They said to run nvidia-smi
 as root.  I double-checked to make sure it was there, ran it, and it said NVIDA: API mismatch: the NVIDIA kernel module has version 304.43, 
but this NVIDIA driver component has version 310.19.  Please make
sure that the kernel module and all NVIDIA driver components have the same version.
Failed to initialize NVML: Unknown error.


I'm new to CUDA and EC2 (and Amazon's variety Linux, truth be told--I'm used to Ubuntu, although I'm now on 2 decades of using Linux in some variety), and am not sure where to start.  This seems like something that should be obvious and the right URL would help.

Anyone else know what I'm doing wrong, or what I need to do to fix this?  If I went to the CUDA downloads from nVidia, can I use one of their flavors of Linux on the Amazon Linux?"

Amazon EC2	"Re: cuda-gdb fails to initialize driver, nvidia-smi kernel mismatch error.
The NVIDIA driver on GNU/Linux consists of two parts, a user space and a kernel space driver. These drivers must be at the same version or you will see errors like the ones your are experiencing. Its happening to you because you updated your AMI which brought a newer NVIDIA driver along with a newer kernel. We only build the latest NVIDIA drivers for the latest kernels so the kernel your booted into right now is using an older kernel space driver then what your user space has. To fix it simply reboot your instance whenever a kernel or NVIDIA driver update has been applied.

Thanks for using the Amazon Linux AMI!"

Amazon EC2	"Re: cuda-gdb fails to initialize driver, nvidia-smi kernel mismatch error.
I have this error currently plaguing my instance.  I have tried rebooting through both the EC2 web interface and by doing 'sudo reboot' and neither has fixed this problem.  do you have any other suggestions?  Is there a way I can manually reconcile these two different drivers?"

Amazon EC2	"Re: cuda-gdb fails to initialize driver, nvidia-smi kernel mismatch error.
I have this error currently plaguing my instance. I have tried rebooting through both the EC2 web interface and by doing 'sudo reboot' and neither has fixed this problem. do you have any other suggestions? Is there a way I can manually reconcile these two different drivers?"

Amazon EC2	"Re: cuda-gdb fails to initialize driver, nvidia-smi kernel mismatch error.
i did seemed to have solved my problem. first i logged into root doing ""sudo su -"" then I did ""nvidia-installer --update""  however the installer informed me that it was already up-to date.  so i did ""nvidia-installer -f"" to force the update.  I then told it to install dkms.  so the installation then continued and when it finished i ran ""nvidia-smi"" and it worked!!!

anyone who has this issue please give this a shot!"

Amazon EC2	"Can't connect to ssh after a reboot.
Hi,

I have a problem accessing to the instance through SSH (Putty) after a reboot via SSH (sudo reboot).
Here is the last line of the system log. 

[90109003.309067] init: mountall main process (211) terminated with status 1
mountall: /lib/i386-linux-gnu/libc.so.6: version `GLIBC_2.17' not found (required by /lib/i386-linux-gnu/libudev.so.1)
 
General error mounting filesystems.
A maintenance shell will now be started.
CONTROL-D will terminate this shell and reboot the system.
Give root password for maintenance
(or type Control-D to continue): 


The Instance ID (EC2) : i-a19536a1

Can you help me please ? 

Thank you."

Amazon EC2	"Re: Can't connect to ssh after a reboot.
You will most likely need to detach that volume, mount it to another instance, and troubleshoot/repair the glibc issue."

Amazon EC2	"Re: Can't connect to ssh after a reboot.
Thank you for your quick message. After checking the FAQ I found this :

    Stop the instance.
    Detach the root volume.
    Attach the root volume to a known working instance.
    Run filesystem check (fsck –a /dev/...).
    Fix any errors.
    Detach the volume from the known working instance.
    Attach the volume to the stopped instance.
    Start the instance.


But I need more documentations because I'm not expert with AWS services. Do you know how to do so ? I'm a little bit confused at the moment.

Thanks

    Recheck the instance status."

Amazon EC2	"Re: Can't connect to ssh after a reboot.
See this article for instructions on how to attach the volume to another instance: https://aws.amazon.com/articles/5213606968661598

See the section titled ""Start a Debug Linux Instance""

For your specific error, you may to want to find some Linux forums online and solicit some help from there.  I'm not familiar with this specific error, so I'm not sure of the possible solution."

Amazon EC2	"Re: Can't connect to ssh after a reboot.
Thanks

But I'm facing a problem right now, the subnet that use the crashed server is ap-northeast-1a, and when I try to create a subnet in order to attach the volume to the Recovery Server I can't because I can't create a subnet on ap-northeast-1a and I can't attach a volume to a server with a diffrent avalability region.

What to do .... ?"

Amazon EC2	"Re: Can't connect to ssh after a reboot.
You have to create your debug instance in the same availability zone as the original instance."

Amazon EC2	"VPN Server broken after upgrading instance type
We have been running a VPN Server (SoftEther) without issue for several months.  I decided to upgrade the instance type as our usage has increased.  After the new instance type spun up and I connected to the VPN, I noticed I am not able access the Web.  It is almost as if the server is not routing DNS.  No changes were made to the software, local firewall is disabled at the moment, no changes were made to the security groups.  Literally the only thing that changed was the instance type.  What could have happened to the routing of traffic by upgrading instance type?

Instance ID: i-25d319a5
Region: us-east-1"

Amazon EC2	"Moving Web Site from PCs to EC2
I am running a web site on two PCs in my basement.  It consists of a DMZ where the web server runs CentOS 7.6 and the application server runs Debian 7.  I would like to duplicate the site on EC2.  I could start from scratch again, setting up LAMP,copying the files and setting up the iptables firewall, SSH etc.  However, I was wondering if I could simply save the images of the hard drives with Clonezilla and upload the images to an instance on EC2.  The image saved by Clonezilla consists of a directory containing the following files.
blkdev.list
clonezilla-img
disk
Info-dmi.txt
Info-lshw.txt
Info-lspci.txt
Info-packages.txt
Info-saved-by-cmd.txt
parts
sda-chs.sf
sda-hidden-data-after-mbr
sda-mbr
sda-pt.parted
sda-pt.parted.compact
sda-pt.sf
sda1.ext4-ptcl-img.gz.aa
sda2.ext4-ptcl-img.gz.aa
sda2.ext4-ptcl-img.gz.ab
sda3.ext4-ptcl-img.gz.aa
sda5.ext4-ptcl-img.gz.aa
sda5.ext4-ptcl-img.gz.ab
sda5.ext4-ptcl-img.gz.ac
sda5.ext4-ptcl-img.gz.ad
sda5.ext4-ptcl-img.gz.ae
swappt-sda6.info

Thanks,
OH"

Amazon EC2	"Re: Moving Web Site from PCs to EC2
So, the sda?.ext4-ptcl-img.gz.?? files are the images of your disks. You might be able to use them. I expect they've been split into chunks of <4GB by ""split"" (which likes to call each part aa, ab, ac...)
You might be able to cat those files together to make one file per disk.
Then you would need to find something to convert those disks into a VMDK files (or similar) and use Amazon's tool to import them : https://aws.amazon.com/ec2/vm-import/
You probably want to do the convert to proper single disk images, then import them into something like VirtualBox, to make sure it all works. Then export a VMDK from VirtualBox (or VMware if you have it).

But overall, this is a rubbish way of rebuilding a server.
Rather than ""simply use clonezilla"" and spend ages doing a load of work, you should simply build some new instances, install LAMP (""yum -y install httpd mysql-server php php-mysql"" for starters, from memory) copy the relevant config files, there should be one for the firewall, a couple for Apache. mysqldump on your source server and import on the destination and copy the HTTP root directory over.
Unless you've got GBs of actual data, should take a few hours when you know what you're doing. And while you're doing it write down everything you did. Then throw your instances away, do it all again and make sure you know what you did. Then if you get hacked/Amazon breaks/other problems occur, you just follow your script, upload your backups and you're back in business.

You can take the opportunity to split your DB onto a separate server or use RDS. Maybe throw away your on box firewalls and do it in security groups instead. (or have both)."

Amazon EC2	"Re: Moving Web Site from PCs to EC2
If you want to use Clonezilla, you will need to create a VM on your side and load the Clonezilla image into that VM.  Then you can use AWS tools to convert that VM to an EC2 instance.

You won't be able to restore a Clonezilla image directly to an EC2 instance."

Amazon EC2	"Re: Moving Web Site from PCs to EC2
@maxallan_sv

Thank you so much for your excellent reply and please excuse my tardy follow up.  I have thought of additional problems with duplicating my HDs on the cloud so what you suggest is clearly the way to go.  I have done a lot of what you suggest and have my web server running on the cloud in a security group and have set up some security programs.  I will also try using my own firewall in addition to the security group.

Thanks again,
OH"

Amazon EC2	"Re: Moving Web Site from PCs to EC2
@ Kristofer Pettijohn

Thank you very much for your reply.  It certainly makes sense for duplicating my HDs to the cloud.  I am thinking of setting up my instances from scratch, as maxallan_sv suggested, but it is always good to have a backup plan.

Thanks again,
OH"

Amazon EC2	"How to find unused network interfaces?
Hi,

I'm running a very small site on a pair of EC-2 instances, using a load balancer and an auto-scaling group.

Over several months I've created five network interfaces. I know I'm only using one of them, but  I can't figure out how to tell which one is in use (so I can delete the others).

Can anybody tell me how to do this? Thanks in advance for any replies."

Amazon EC2	"Re: How to find unused network interfaces?
In EC2 > Network Interfaces, you will see a status of Available if the network interface is not attached and free."

Amazon EC2	"Re: How to find unused network interfaces?
Thank you very much, Kristofer!"

Amazon EC2	"Re: How to find unused network interfaces?
Trying to mark answer as ""correct"" instead of ""helpful"""

Amazon EC2	"Re: How to find unused network interfaces?
Trying to mark response as ""correct"" instead of ""helpful""."

Amazon EC2	"Re: How to find unused network interfaces?
@Kristofer Pettijohn : I made the mistake of marking your response as ""helpful"" instead of ""correct"". I've been trying to correct this but have failed so far. If you send me another quick reply, such as ""np"", I can mark that as correct.
Apologies.
Andy"

Amazon EC2	"Re: How to find unused network interfaces?
I'm not worried about it, but am replying so that a ""correct"" response might be able to help someone else in the future."

Amazon EC2	"Trivial bug, 10-Minute Tutorials: Launch a Linux Virtual Machine
No idea if this is the correct place to log a tutorial bug, please forward as necessary.
1. Go to: 10-Minute Tutorials: Launch a Linux Virtual Machine
2. Go to: Step 2: Configure your Instance
3. Go to: Step d. Create a new key pair
4. Go to: ""Windows Users"".
5. Bug: the correct directory name is ""C:\users"" plural, not ""C:\user"". See attached.

""Step 3: Connect to your Instance"" displays the correct directory name: 
Windows users: Enter ssh -i 'c:\Users\yourusername\.ssh\MyKeyPair.pem' ec2-user@{IP_Address}

Edited by: MMATL on Aug 13, 2016 7:26 PM

Edited by: MMATL on Aug 13, 2016 7:26 PM

Edited by: MMATL on Aug 13, 2016 7:27 PM"

Amazon EC2	"How do we Configure d2.8xlarge storage without using LVM so that it is acce
The d1.8xlarge instance type gives 3.5 GBs of io from the local disk 24 * 2TB  disk storage.
It appears that we must use the RHEL  LVM utility to configure this large disk space. However, HP Vertica expressly says it does not support storage mounted via LVM.
Does anybody know how to configure this storage as a ""Standard Partition""?

from Vertica:
LVM Warning
Vertica does not support LVM (Logical Volume Manager) on any drive where database (catalog and data) files are stored. The installer reports this issue with the identifier: S0170.

On Red Hat 7/CentOS 7 systems, you are given four partitioning scheme options: Standard Partition, BTRFS, LVM, and LVM Thin Provisioning. Set the partitioning scheme to Standard Partition."

Amazon EC2	"EBS volume in 'error' state
My volume vol-0a30c6f9 reports an error state. The instance it was attached to went down too but I rebooted it OK. The files stored on the volume are inaccessible though. I have snapshots, the last one from just over a week ago. Is there anything I can do other than try to recreate the volume from the last snapshot?

Thanks"

Amazon EC2	"Re: EBS volume in 'error' state
Hello,

I apologize for the inconvenience. I have raised this issue to the EBS service team. I will have them investigate and get back to you soon.

Thanks,
Anup"

Amazon EC2	"Re: EBS volume in 'error' state
Hello,

I'm afraid that there is nothing that can be done here; this volume has been moved to the error state due to the concurrent failure of multiple underlying hardware components.

To that end your best bet is going to be to restore from your most recent snapshot.

I apologise for the inconvenience caused.

Richard"

Amazon EC2	"EC2 Instances fail to launch from ASG
There's been no material changes to our user-data/cloud-config, but I haven't been able to launch a c4.8xlarge instance in our ASG for the past few hours.

The message is

Launching a new EC2 instance: INSTANCE_ID. Status Reason: Instance became unhealthy while waiting for instance to be in InService state. Termination Reason: Server.InternalError: Internal error on launch

The instance-ids are

i-9d615303
i-12bfbe82
i-26b4b5b6
i-d5a03c2d

I'm at a loss for what to do"

Amazon EC2	"Re: EC2 Instances fail to launch from ASG
Hello,

We had a service issue at the time you attempted these launches which is now resolved.

You can read more about it here:

http://status.aws.amazon.com/

Apologies for the inconvenience caused.

Richard"

Amazon EC2	"Prevent CloudFront/WAF Bypass to EC2, no VPC
We have a CloudFront Distribution with Behaviors to an ELB Origin in EC2.  We are not using VPC.  How can we lock down the EC2 instance such that HTTP requests must come through CloudFront/WAF?

I tried to restrict the EC2 instance's Security Group to only allow HTTP traffic from the CloudFront IP ranges (https://ip-ranges.amazonaws.com/ip-ranges.json), but this did not work.  CloudFront was unable to communicate with the origin."

Amazon EC2	"Re: Prevent CloudFront/WAF Bypass to EC2, no VPC
Hello,

Locking down the EC2 instance to only accept CloudFront connections won't work in this case, because your connections are coming from an ELB.

What you'd need to do here is lock down the instance so it only accepts connections from the ELB, then configure the ELB security group so that it only accepts connections from the CloudFront IP ranges. 

I've not tried this myself -- but another possibility might be to reject connections on the EC2 instance that don't have a user agent of ""Amazon CloudFront"".

Good luck!

Richard"

Amazon EC2	"Query as regards Reserved Instances
Heya!

I'm just curious as to reserved instances. Lets say that I want to pay all upfront for an instance, t2.micro just for example sake. Am I charged that full amount right then? Or does it get added to my current billing period then charged on my regular billing date?

Another question (Don't mind if anyone can't answer it) is that with selling reserved instances, is there any plan for opening up the marketplace for people without US bank accounts soon? Living in Ireland, it's kind of hard (maybe not even possible) to go about opening a US bank account so I can sell back instances I don't need anymore.

Thanks for the help!

Edited by: Evan Day on Aug 13, 2016 4:26 AM"

Amazon EC2	"Re: Query as regards Reserved Instances
Hi Evan,

Reservations are added to your bill at the time they're purchased but you don't pay for them until your billing date. As for opening up the reserved instance marketplace to other countries, I'll add your voice to the internal feature request for that.

Have a great weekend 

Richard"

Amazon EC2	"Re: Query as regards Reserved Instances
Thanks for that Richard! Hope you've a great weekend too!"

Amazon EC2	"ELB IP Address ranges
Hi, We're setting up an ELB for our application. We've done our cname but to allow internal traffic through our corporate firewall the firewall guys would like the possible ip addresses that the ELB can resolve to.

My question is, is this the same as the ranges listed for EC2? These total a huge chunk of address space and our firewall chap wants to check it's all necessary. Or is there a subset used just for ELB?

Edited by: ianxh on Apr 11, 2011 9:55 PM"

Amazon EC2	"Re: ELB IP Address ranges
I'm also interested in this question for the same reason. As far as I understand, ELB is a layer on top of EC2, so I would expect that it would fall under the EC2 'service' category in the IP ranges JSON file, but it would be nice to get confirmation of this from someone who knows how these categories are created."

Amazon EC2	"Re: ELB IP Address ranges
Hello,

ELB does indeed fall under the EC2 category in our IP ranges JSON.

Richard"

Amazon EC2	"spammer using my instance
hi,

spammer using my instance to send spam emails. any advise pls how to prevent it? or maybe there is a way to find the spam script file?

thanks"

Amazon EC2	"Re: spammer using my instance
Hello,

Our general recommendation when an instance has been compromised is to terminate it and launch a replacement from your most recent backup. 

Richard"

Amazon EC2	"Instance not stopping on degraded hardware
Our instance went unavailable with both ""System Status"" and ""Instance Status"" checks failing (we also received email about hardware degradation on the underlying host). I tried stopping the instance, even forcefully, but its still stuck in the ""stopping"" state. Please stop this instance so I can start it on another (working) host.

Instance ID: i-85e4d136"

Amazon EC2	"Re: Instance not stopping on degraded hardware
Hello,

I've just checked your instance and it seems like it has been running normally for the last nine hours -- and on that basis I'm leaving it alone 

If you still need assistance please ask.

Richard"

Amazon EC2	"Subdomain point to S3 bucket
I am a little bit confused with subdomain point to S3 bucket.

I have domain called mydomain.com from NameCheap.com and my hosting server is Hostgater.

So my website is up and running.

I have a lot of mp3 files. So I have created Amazon S3 bucket call media.mydomain.com

So I got my static s3 website URL as follow. http://media.mydomain.com.s3-website-ap-southeast-1.amazonaws.com/

I want to point this url to my subdomain, media.mydomain.com.

May I know how and where to point? NameCheap or Hostgator.

I have created subdomain in hostgator but it can only redirect to S3 URL

Thanks, Alex"

Amazon EC2	"Re: Subdomain point to S3 bucket
What you need is a CNAME record for media.example.com with the value s3-website-ap-southeast-1.amazonaws.com. Add this inside your DNS configuration. Whether that is at Namecheap or Hostgator depends on the name servers you are using. A domain registered through Namecheap could be using Namecheap DNS servers or an entirely different set of name servers that you have provided."

Amazon EC2	"Instance Stuck in stopping status
Hi there, we have an instance in the Ireland region that has been stuck in ""stopping"" state for  nearly a week.

We've tried to force-terminate it without success several times.

Can someone assist?
thanks

Jordi"

Amazon EC2	"Re: Instance Stuck in stopping status
Hello Jordi,

Apologies for the troubles.

Could you please provide us with the Instance ID so that we have have a look?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Instance Stuck in stopping status
Hello, the instance id is 	
i-0ad00e8d0a03f33a5

thanks!"

Amazon EC2	"Re: Instance Stuck in stopping status
Good day 

Thanks for your feedback. We are now engaging with our EC2 Support Operations Team to resolve the issue at hand.

We will revert back to you once complete. 

Regards
Imthian R"

Amazon EC2	"Re: Instance Stuck in stopping status
Hello,

We have successfully terminated the instance. Please confirm that you the issue is resolved.

Anup"

Amazon EC2	"Re: Instance Stuck in stopping status
Did solve the issue, thanks!"

Amazon EC2	"Application Load Balancer IP rules.
First of all, great news regarding layer 7 routing. Thanks.

What I wanted to ask is the way to setup targets as ENI or IP addresses inside the VPC.
I have some custom routing tables defined within the VPC, so that every instance owns a ""subnet"". 
(https://github.com/coreos/flannel#backends aws-vpc)
Right now it seems impossible to specify such targets as well as instances with multiple network interfaces."

Amazon EC2	"Can't download from EC2 using wget
Hi,
Today, I tried to backup my website hosted on an EC2 and move it to new VPS so I have zip the folder public_html

From new server: I type wget http://mydomain.com/backup.zip

But it's not working.  Result is: ERROR 403: Forbidden.

I can access and download file via browser but why I can't download it via wget ?

Please help
Thanks"

Amazon EC2	"ec2 instance is unresponsive as health check got failed.
ec2 instance is unresponsive as health check got failed.
wondering what could be the cause for the issue ?
this is my 3 ec2 instance got the same issue.

Instance:  i-adc01834

we did NOT do any change , But we set selinux to permissive mode.
We have NOT do any change in network configuration.

we just following below document.
http://socorro.readthedocs.io/en/latest/production-install.html

Thanks and Regards,
Bommuraj"

Amazon EC2	"smtp flooding
double post. pls ignored"

Amazon EC2	"Cannot allocate EIP to VPC Instance
I receive the following error message when I try to allocate a VPC EIP to a VPC Instance:

An error occurred while attempting to associate the address
The request must contain the parameter instance id"

Amazon EC2	"Re: Cannot allocate EIP to VPC Instance
Simple fix: Don't assign an EC2 classic EIP to a VPC. It worn't work, you have to choose VPC when you create the new EIP before assigning it."

Amazon EC2	"ec2 instance stuck during shutdown
Hi,
i-cc4ac352 has been stuck for days now.  I have tried shutting down from web console as well as aws cli using force option.  
Can you guys help me here?
Thanks

Anupam"

Amazon EC2	"Re: ec2 instance stuck during shutdown
Hello,

Thank you for reaching out to us.

We have logged a internal ticket with our service teams and will provide you with an update as soon as they have responded to our request."

Amazon EC2	"Re: ec2 instance stuck during shutdown
Hi
Thank you for your patience as our EC2 Engineers worked on this instance. 
The instance was failing to respond due to an EBS Volume stuck on previous host. 

Our EBS Team has successfully resolved this and your EC2 Instance is successfully stopped and you can use it as per normal. 

Regards
Tawanda"

Amazon EC2	"Re: ec2 instance stuck during shutdown
HI,
I have the 'busy wheel' spinning on that instance.  I still don't have any control on it.

Thanks

Anupam"

Amazon EC2	"Re: ec2 instance stuck during shutdown
Hi,

Apologies for the troubles caused.

I have checked the instance again and can see that it is now in terminated state.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: ec2 instance stuck during shutdown
Thank you"

Amazon EC2	"EC2 instance is not reachable
Hello,

I have an EC2 instance i-a9637c5e.  AWS Console says it's running state and ""2/2 checks passed"" but I cannot ssh into the box (just hang with no response).  I did reboot on AWS console, but it didn't make any change.  Also I have a web server running on the instance and I cannot open the web page, hanging with no response (http://www.alicesfavs.com/).  This happened 3 - 4 times in the past year so far and whenever this happened I could not do anything and it was resolved in a day or so.  Basically I just had to wait, but I have more people visiting my web site and I like to know a way to prevent this happening.

Thank you,
Kevin

Edited by: Amazon Customer on Aug 12, 2016 7:54 AM

Edited by: Amazon Customer on Aug 12, 2016 8:18 AM"

Amazon EC2	"Re: EC2 instance is not reachable
As console says all health checks passes, is this a problem of DNS?"

Amazon EC2	"Re: EC2 instance is not reachable
Hi,

I've checked your instance and there doesn't seem to be an issue at the host level. However, I see that there is a security group rule restricting connection from any other source than the specified IP address. Can you please confirm that your public IP address matches the IP address in the security group? As per the web server, it is possible that the the web server was started and as result of it not listening, you're seeing a 'connection refused' message.  

Regards,
Arun T."

Amazon EC2	"Re: EC2 instance is not reachable
Thank you Arun.  I could not connect via http either, but I will try to add a security group if this happens next time again.  But I've looked at other posts, and now I think that I need to upgrade to a bigger instance.  I am using t2.micro and it may not be good enough to run tomcat, http and my batch jobs.

Thanks again.  I will see if this happens again even after upgrading the instance."

Amazon EC2	"Cannot SSH, instance unavailable
I have 2 EC2 instances (t2.micro, us-west). One of these hosts is periodically becoming unavailable (we can't SSH onto it and even port 80 becomes inaccessible). It comes back up by itself in a few hours/days. The instance state and status checks in the EC2 console show green but clearly there is an issue. The other host that is working fine, actually communicates with this host on port 27018 and even that fails, taking our service down with it. Any help will be greatly appreciated."

Amazon EC2	"Re: Cannot SSH, instance unavailable
Hello, 

Based off of your description my first thought would be to check the CPU utilization / CPU credits. You can read more on CPU credits here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

Additionally you can take a look through system/OS logs to see what the OS is reporting during these time frames. 

If you're having further issues, please provide us your instance ID so we can further investigate. 

Regards,
Nick"

Amazon EC2	"Re: Cannot SSH, instance unavailable
I checked the credit usage graph for that instance and I can see the usage drop from 0.6 to 0.1 at the time the instance blacked out. It came back up after 2 hours. I do have sufficient balance and the CPU usage was 12.5% at the time of the drop. My instance ID is i-0def1ed88093f262e."

Amazon EC2	"Re: Cannot SSH, instance unavailable
Help?"

Amazon EC2	"Re: Cannot SSH, instance unavailable
Hi,

Have you checked Memory utilization of your instance?
Do you have SAR logs available on your instance? 

I would suggest you to check memory utilization on your instance. As you have probably notices, the Status checks on your instance has not failed. This means that the underlying infrastructure was fine and there were no indication from the OS showing the instance was not responsive. As such the next logical step to identify the issue would be to analyze the OS logs and metrics available on your SAR logs.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Cannot SSH, instance unavailable
Can you help me with the SAR logs?"

Amazon EC2	"reachability status check
My vm was working fine, today it´s fail when start, the status check say ""instance has failed the system reachability status check""

The im id is i-ab8d8a6f, try to check the log buy only see a black screen.

I don´t understand this error. 

Help Please"

Amazon EC2	"Instance reboot without any notice, what happened?
Hi,

We notice that the instance i-e6e67a55 was reboot around 2016-08-11T14:46:00 UTC without any previous notification.

I would like to know what happened, we didn't trigger the reboot and we didn't receive any notice about that.

Thanks in advance.

Instance ID: i-e6e67a55
Date/Time: 2016-08-11 around 14:46 UTC and boot at 14:54
logs:
$ last -x reboot
reboot   system boot  3.13.0-48-generi Thu Aug 11 14:54 - 18:14  (03:20)"

Amazon EC2	"Re: Instance reboot without any notice, what happened?
AWS may have had a hardware failure.

Expect failure is the new norm.  While I've had servers on EC2 stay up for a very long time, it is never a guarantee."

Amazon EC2	"Re: Instance reboot without any notice, what happened?
Thanks Kristofer,

I think the same, but I'm expecting a confirmation on their side (Amazon AWS), if that was the case I'm expecting a notification, I mean they often do maintenance and send email about that, so I think they should send that notification when they do an emergency maintenance/reboot just to tell us they did that and is not something wrong with the software installed.

I also noticed that there were reported issues in that data center before the reboot but supposedly solved before the time my instance was reboot."

Amazon EC2	"Queries regarding AWS ELB
I have following queries regarding AWS ELB. I am looking to replace Nginx with AWS ELB:

1. Is it possible to configure ELB such that requests from the clients can be routed based on sub domains? 
For e.g. Lets say the Backend server serves the client1 & client2 on 2 different port numbers say 1111 & 2222. If client1 requests on domain1.example.com and client2 requests on domain2.example.com then is it possible to route the requests on different port numbers by using subdomain name?

2. Can we have client certificate authentication at AWS ELB?

3. Can I Login/SSH to the instance and have Nginx installed on it if the above routing is not possible I can manage it on my own?

4. Where are the SSL keys and certificates stored which are used by ELB? How safe are they stored?

5. Is it possible to rotate/change these keys with a zero downtime?

6. If AWS ELB goes down then does AWS handles the failover without a downtime?

7. Is it mandatory to have VPC to work with ELB? I suppose its chargeable."

Amazon EC2	"Re: Queries regarding AWS ELB
1. Is it possible to configure ELB such that requests from the clients can be routed based on sub domains? 
For e.g. Lets say the Backend server serves the client1 & client2 on 2 different port numbers say 1111 & 2222. If client1 requests on domain1.example.com and client2 requests on domain2.example.com then is it possible to route the requests on different port numbers by using subdomain name?

Not using ELB.  You would have to pass straight TCP through and let your instance route traffic to the appropriate virtual host.

2. Can we have client certificate authentication at AWS ELB?

I don't believe so.  Again, you'd have to pass through straight TCP and let the instance deal with it.

3. Can I Login/SSH to the instance and have Nginx installed on it if the above routing is not possible I can manage it on my own?

Yes

4. Where are the SSL keys and certificates stored which are used by ELB? How safe are they stored?

The keys are stored within AWS.  I'm not sure how they store them, but AWS ensures that they are safe.

5. Is it possible to rotate/change these keys with a zero downtime?

Yes.  Just upload a new key and adjust the ELB.  It will switch to the new key with no downtime.

6. If AWS ELB goes down then does AWS handles the failover without a downtime?

There is no SLA in place for ELB, but it is designed to be highly available.  It is spread out across multiple AZ's, and the DNS addresses have low 60-second TTLs.  If there's an issue, they will swap out IP's and ensure it keeps running.

7. Is it mandatory to have VPC to work with ELB? I suppose its chargeable.

You can use ELB in EC2-Classic, but there is no reason to.  The pricing is the same.  VPC's are much more flexible."

Amazon EC2	"Re: Queries regarding AWS ELB
Thank you so much!"

Amazon EC2	"Instance Storage split in 2
Hello,

I have an m3.medium instance which should have 1 x 4 GB - SSD of instance storage.
Running df -h I get:

Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      9.8G  3.3G  6.4G  34% / 
devtmpfs        1.9G   56K  1.9G   1% /dev
tmpfs           1.9G     0  1.9G   0% /dev/shm


I assume the 4GB are split in devtmpfs and tmpfs. Is this assumption correct?
If so, how can I change this to have a single space (eliminating tmpfs)?

Thanks!

Eduardo."

Amazon EC2	"Re: Instance Storage split in 2
Hi,

You must specify the Instance Store volumes while you launch your instance. 

Please go through our documentation here for more information on how to work with Instance Store volumes. 

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 stop right after start - can't start EC2
Dear AWS team,

this morning, I log in to my AWS console and start EC2 instances, but no EC2 could be started.
They changed to stop status right after I started them.

Is there any problem with AWS underlying infrastructure?
Or do I  have any issue with my  account?
Does anyone get them same issue like me?

Thanks!"

Amazon EC2	"Re: EC2 stop right after start - can't start EC2
Hi,
Are you still facing the issue?
Please share the Instance IDs with us.

Regards,
Jayakrishnan L."

Amazon EC2	"State Transition Reason - Server.InternalError: Internal error on launch
Suddenly started getting this error whenever I launch an EC2 instance. The instance being created automatically starts shutting down and terminates immediately after launch. This is true for both single instances launched from an AMI or instances created via auto-scaling groups.

When checking the details of the instance that is automatically terminated or shutting-down on the console, the state transition reason shows as ""Server.InternalError: Internal error on launch"". 

What is the solution to this issue?"

Amazon EC2	"Re: State Transition Reason - Server.InternalError: Internal error on launch
Same Issue here. I am unable to create new instances as they fail initially(Internal Error) and then complete on the retry but they hang at ""shutting-down"" after deployment."

Amazon EC2	"Re: State Transition Reason - Server.InternalError: Internal error on launch
Hi,

Are you still facing the issue?

Could you share the instance ID with us?

Regards,
Jayakrishnan L."

Amazon EC2	"Server.InternalError: Internal error on launch
I am trying to start a t2.large instance and it keeps failing with the error ""Server.InternalError: Internal error on launch""
After the first failure I tried two more times and those ones are now stuck shutting down. The AWS status page does not show any issues and I don't see anywhere how to report issues.

Thanks,

abraham"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hi,

Are you still facing the issue?

Could you share the  instance ID with us?

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 T2 type instance bandwith allocation
Hello

We currently are running a project for a customer that runs on a t2.large type EC2 instance. 

This instance does its work well: however we have a performance bottleneck when it comes to sending data to external services.

We think we could improve performance by increasing bandwith allocation for our instance. However we cannot find how to do that. As per this resource (  https://aws.amazon.com/ec2/instance-types/?nc1=h_ls ) there are other types of EC2 instances that already have bandwith allocated (which I think will be more expensive than ours), we don't need more computing resources. We just need more bandwith. Do you know how this can be achieved?

Thank you for your help.

Sergio."

Amazon EC2	"Re: EC2 T2 type instance bandwith allocation
Hi,

You cannot increase bandwidth for an Instance Types. if you need more network performance, you need to change you node type a better one. 

You should also note that the network performance of Instances are categorized as Low, Moderate, High, 10Gb.

Regards,
Jayakrishnan L."

Amazon EC2	"ssh connection failure
This server runs out of capacity periodically with no obvious, identifiable cause. The website was down and ssh gave an error ""ssh_exchange_identification: read: Connection reset by peer"". Stopping and starting the instance recovered the situation. Stopping and starting needs to be done on a fortnightly basis. This one was more serious because ssh access was denied. Top gives 
top - 11:04:47 up  2:21,  1 user,  load average: 0.00, 0.01, 0.05
Tasks: 117 total,   1 running, 116 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:   3854848 total,  1342236 used,  2512612 free,    33228 buffers
KiB Swap:        0 total,        0 used,        0 free.   669436 cached Mem


Not sure what to do next. Does Amazon help with this kind of situation?

Edited by: catalogs on Aug 12, 2016 4:09 AM

Edited by: catalogs on Aug 12, 2016 4:11 AM"

Amazon EC2	"EC2 Instance recently response is a bit slow
According to our monitoring display our servers in US East Virginia since the beginning of August 7, our web page response time of the website server from 200ms rising to nearly 650ms, led to our website service communication by a certain influence, whether this related to recent international Internet bandwidth instability? Or because of other reasons? Thank you!"

Amazon EC2	"File copy to a Windows instance, how?
I am curious to hear about the workflow folks are adopting to copy an image of say a web site directory and file structure from a developer’s PC up to an EC2 windows instance.

I don’t feel comfortable opening up my development PC as an FTP server that is accessible from my EC2 instance. Sharing  a windows directory across the internet scares me and would probably require more MS specific ports to be opened up.

Instead my preference would be to upload  files to my EC2 instance under the control of the Amazon key authentication framework e.g. from Elasticfox, zip a directory to an S3 snapshot and then import this to the EC2 instance via a GUI running on the Windows instance.

Have I overlooked a simpler way to do this?

Message was edited by: J. Hughes"

Amazon EC2	"Re: File copy to a Windows instance, how?
The most simple solution is to copy/paste from your dev machine to your EC2 machine by enabling this in your RDP connection prior to connecting. If you enable host disk access you can move files between machines using RDP.Other options might be using SSH, VPN, SFTP etc. You might even consider hosted source control or using hosted SFTP to store your builds that you access from the EC2 instance...Lots of options."

Amazon EC2	"Re: File copy to a Windows instance, how?
For linux instances, I use WinSCP.  It uses an ssh connection."

Amazon EC2	"Re: File copy to a Windows instance, how?
Hi,You could also try this as an SCP sever for Windows. I've not used it myself.* http://www.bitvise.com/download-areaAndries"

Amazon EC2	"Re: File copy to a Windows instance, how?
I find WebDAV provides easy, secure access to Apache severs, with the added benefit that folders are accessible via Nautilus. Also works with my Vista's Windows Explorer though I haven't tried with SSL."

Amazon EC2	"Re: File copy to a Windows instance, how?
Before you connect to the instance, wander through the tabs and find check the box under ""Local drives and resources"" for your C: drive. Once connected to the instance, open Windows Explorer and in the address bar, type ""\\tsclient\c"" (without quotes). your local PC's C: drive will (slowly) open up in Explorer and you can drag&drop.This doesn't require any additional ports to be opened up; it goes over the RDP connection you already using for remote desktop."

Amazon EC2	"Re: File copy to a Windows instance, how?
Hi, I am not suer where to find the local drives and resources you mentioned. I am trying to copy some files from my local dev PC to my AWS windows instance and am using RDP to connect.

I searched and I could not find any tab were I could do that. Can you please elaborate a bit more? Thanks"

Amazon EC2	"Re: File copy to a Windows instance, how?
My bad. I found it. Thanks much. Cheers"

Amazon EC2	"Re: File copy to a Windows instance, how?
Connecting with RDP Client:
What a FANTASTIC bit of information.. Works great and will work for any RDP connection.
Thank you

Edited by: Michael G. Sadof on Aug 12, 2016 3:10 AM"

Amazon EC2	"EC2 - Network In/Out includes EBS traffic?
As per subject - do  these CloudWatch metric include network traffic to EBS volumes?

Thanks"

Amazon EC2	"Instance stuck in 'shutting-down' state.
Hello,

Instance ID i-3d7a7aad is stuck in 'shutting-down' state for over 30 minutes.

Can you please terminate this instance?

Thank you."

Amazon EC2	"Re: Instance stuck in 'shutting-down' state.
Hello,

Instance i-3d7a7aad has been terminated.

Kind regards,
Chris"

Amazon EC2	"EC2 instance stuck in stopping state
Hi, my EC2 instance is stuck in a ""stopping"" state, and it's our production server which runs our 500 phones. I need to get it working again by morning.

I tried spinning up an alternate instance, and now that one is stuck in ""shutting-down"" mode."

Amazon EC2	"Re: EC2 instance stuck in stopping state
Hello,

I currently see two instances in your account:

i-2c13a5af
i-028d3081

They both appear to be up and running. Can you please confirm?

Kind regards,
Chris"

Amazon EC2	"instance is stuck terminating
Hello, 
I have an instance that is hung shutting down, initially when I was creating it I received errors and now it will not shut down and terminate it.
Instance ID: i-5715c2ce

Thank You
Mike"

Amazon EC2	"Re: instance is stuck terminating
Be careful in your use of the word Terminate. In AWS land that means destroy everything irretrievably.

Did you really mean Shutdown or Stop Instead?"

Amazon EC2	"Re: instance is stuck terminating
Hello,

It appears that  i-5715c2ce has successfully terminated.

Kind regards,
Chris"

Amazon EC2	"AWS architecture review - suggestions for experts
I have deployed my Java,Postgres, MSSQL,Elasticache,RabbitMQ application on AWS components. I have added elements like Elasticache, RDS, etc based on AWS documentations, different technical forums, etc keeping in mind the average network and load.

But before production launch, I would like to get it reviewed by an architect / expert who has experience with AWS and its advantages and limitations so I can leverage most of what I am using.
It wont consume more than a day's effort for a first level analysis. 

Is there any service providing company/individual that does small to mid level projects reviews? I have seen free-lancers on different websites but not sure if that is the best option."

Amazon EC2	"Re: AWS architecture review - suggestions for experts
Hello,

We have a number of partners that can do consulting reviews of proposed architecture. We also have an architecture center that provides best practice guidelines for common architectures. We also offer AWS certification for Solution Architects.

More information can be found here:

http://www.aws-partner-directory.com/
https://aws.amazon.com/architecture/
https://aws.amazon.com/blogs/aws/are-you-well-architected/
https://aws.amazon.com/certification/

Kind regards,
Chris"

Amazon EC2	"Cloud Watch Log
Hello,

I am new to AWS cloud.I have few queries like
1.How can I intregrate AWS cloud watch log with My Application database/Custom databse 
2.How can I integrate AWS cloud watch log with custom log file.do i need to follow a standard log format for my custom log to integrate it with AWS cloud log.

If any has some idea.please share the information.Thank you"

Amazon EC2	"403 Forbidden on final steps of Wordpress install
I have been following Amazon's excellent guides https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/hosting-wordpress.html  for spinning up an instance and installing LAMP and Wordpress on an EC2, but when I reach the point of running the actual Wordpress install itself I get 403 errors on both  http://ec2-54-209-54-155.compute-1.amazonaws.com/wp-admin/install.php  and  http://ec2-54-209-54-155.compute-1.amazonaws.com . I have verified that I can still access phpMyAdmin and can still SSH into the system itself, but am unsure as to why I cannot access the root. Is there something I might be missing? The full error I receive is: You don't have permission to access /wp-admin/install.php on this server.

Edited by: karifox on Aug 11, 2016 10:49 PM"

Amazon EC2	"ELB and SSL Termination Question
Hi there, I have an issue that I can't figure out. Currently I have an SSL Cert (not self-signed) deployed on an EC2 Instance with IIS8. I can connect HTTPS directly to the EC2 and no issues. Now I created an ELB and put the EC2 instance in the ELB. The HTTP connection from ELB to instance works fine, but if I use HTTPS from ELB to EC2 it timed out. How do I go about fixing this? I want the SSL to terminate in the EC2 and ELB to pass traffic without decryption. What is the right way to do this? I have tried so many combinations and nothing works. Is there something that I missed such as configuring IIS 8 (I have port 443 open and SSSL Cert deployed)? Thank you in advance!"

Amazon EC2	"Re: ELB and SSL Termination Question
Do you have a security group that is not permitting ELB traffic to the instance? 

How are your listeners set up in the ELB?"

Amazon EC2	"How do I set the MAC address in ENI?
I am supporting a commercial app that's running on a Redhat EC2 instance.

The app's license is associated with the instance's primary IP address and its  MAC address. We are changing the public subnet of the instance to a private subnet.

As part of the process, we are creating an AMI for the instance, terminating the instance, creating an ENI with a primary address - we'd like to set the MAC address so that we don't have a license problem -, launch an instance from the image while attaching the ENI to the instance.

It's unfortunate that our current instance does not have an ENI.

Is there ANY way to explicitly set the MAC address on the ENI? 

1. If not, do you recommend that we set the MAC address through ""user data"" when we launch the instance, that is

ifconfig eth0 down
ifconfig eth0 hw ether aa:bb:cc:dd:ee:ff
ifconfig eth0 up

2. Or if not, do you recommend that we work with the commercial app license provider to reassign the license to whatever MAC is embedded in the ENI?"

Amazon EC2	"Re: How do I set the MAC address in ENI?
You can't explicitly set the MAC address.  AWS always assigns a random one.

You can't use the OS to spoof a MAC either, because AWS is only going to work with the one they are expecting to see.  If they see something that doesn't match, your traffic will get dropped."

Amazon EC2	"Error installing eb cli - pyconfig.h: No such file or directory
Hello,

I am trying to do my first deployment to aws eb and when I try to install ab cli on cloud9 development environment I get some problems.

I follow the instructions here:
http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-install.html

Specifically I run:
sudo pip install awsebcli

Then I get the error:

x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c ext/_yaml.c -o build/temp.linux-x86_64-2.7/ext/_yaml.o

ext/_yaml.c:8:22: fatal error: pyconfig.h: No such file or directory

In case it helps:
sudo pip --version
pip 1.5.4 from /usr/lib/python2.7/dist-packages (python 2.7


Edit: solved with:
sudo apt install python-dev

Edited by: adambutler on Aug 11, 2016 10:18 PM"

Amazon EC2	"Status of missing us-east availability zone
I'm trying to launch an instance that will be communicating with an instance on a different account, so I want them to be on the same availability zone. I launched an instance on each of the four availability zones that I have access to, but they all have latencies around 1-1.5ms, while latencies within an availability zone should be around 0.2ms. So is there some override you can do to get my instance to launch on the unavailable availability zone, or do you have any idea if or when will it become available for new instances again?

Edited by: akelly on Aug 8, 2016 4:41 PM"

Amazon EC2	"Re: Status of missing us-east availability zone
I think your test with 0.2ms lantency had servers that were VERY close together physically.  Maybe within an aisle or two of a datacenter.

I have two instances in the same AZ, and they're coming back with response times between 0.6-1.8ms.

Keep in mind that a single AZ is spread across several datacenters, so if you need 0.2ms between two different accounts, you're probably going to have a difficult time achieving and keeping it."

Amazon EC2	"Internal ELB pricing?
does internal ELB has the same pricing（both uptime and data flow） with external ELB?

internal one does not have internet data incoming

And should internal ELB used for inter-node communicating? Since private ip / DNS could change during upgrade and EIP is limited to 5 per region"

Amazon EC2	"Re: Internal ELB pricing?
Pricing is the same even if its internal. You're still charged hourly plus GB processed.

You should use it if your use case requires a load balancer.  If you need more than 5 EIPs for another use case, you can submit a request to raise that limit."

Amazon EC2	"IP on PBL
I have an IP that is being rejected by Spamhaus PBL.  My IP has been lifted/cleared by Amazon for several years.  This happened about a year ago, and there was an issue on Amazon's side where they had an issue with the list of IP exceptions being sent to Spamhaus.

Amazon - can you please look into this right away?  This is causing significant email delivery failures for me and my clients.

IP in question: 107.21.38.110"

Amazon EC2	"Re: IP on PBL
Hello

I notice the IP address provided is an EIP linked to one of your EC2 instances. Spamhaus PBL does offer you the opportunity as being the Mail Server Administrator to apply for removal of a single IP address, but only on the following conditions:

1. static IP (not dynamic), and
2. outbound mail server, and
3. configured with proper Reverse DNS, and
4. assigned to you. 

If you can send us your mailserver's fully qualified domain name we can configure a reverse DNS entry for you on EIP 107.21.38.110, and that way you should easily qualify all the conditions.

For more details refer to the following section in the bigger FAQ document:

https://www.spamhaus.org/faq/section/Spamhaus%20PBL#229"

Amazon EC2	"Re: IP on PBL
Please review my previous message.  I have had a reverse IP set up through AWS on this IP for a long time - well over a year.

This just dropped into Spamhaus' PBL list on the date I posted in this forum.

Please see https://forums.aws.amazon.com/message.jspa?messageID=277376

In that thread, Amazon stated the following, which seems like it might be inline with my issue:

Our system regularly sends IP addresses to Spamhaus to exclude them from their PBL. Late
Saturday (09/05/2011) a bug in our deployment process was triggered by a hardware failure. 

This bug caused many IP addresses to be removed from the exclusion list. We identified the 
problem source and performed emergency fix to the exclusion list last night. A few additional 
blocks were unblocked this morning. We are also putting safety measures in our software to better 
detect these abnormalities and prevent the errors from happening again in the future.

It may not be the same issue, but it is the same symptom.

Again:

   1. My IP has been registered with Amazon rDNS for well over a year.
   2. This issue happened to me exactly one year ago (https://forums.aws.amazon.com/thread.jspa?messageID=651336&#651336)
   3. It is on SpamHaus PBL, which Amazon sends a list of exceptions to.  My IP is excluded from that exception for some reason.  (Note, I have not received any abuse complaints or anything regarding spam coming from this IP address -- ever)"

Amazon EC2	"Re: IP on PBL
Amazon, please help.

This IP has been on the Spamhaus PBL (Policy Block List - the ones AWS submits exceptions for) for two weeks.  I have re-submitted my IP through the AWS form and waited (two weeks ago), and it is still on the PBL.

There really seems to be an issue with the exception list you send to Spamhaus."

Amazon EC2	"Re: IP on PBL
Amazon,

Please, I am still needing your help.  This IP has been blocked for over 3 weeks.  I re-submitted the email restrictions request (twice), and that has not removed it from Spamhaus' PBL."

Amazon EC2	"AWSから障害連絡が届いたのですが、AWSコンソール(EC2)上、「予定されているイベントはありません」と表示されます。
AWSから障害連絡が届いたのですが、AWSコンソール(EC2)上、「予定されているイベントはありません」と表示されます。
メールと、EC2コンソールのどちらが正しいのでしょうか。

メール件名：Retirement Notification Amazon EC2 Instance scheduled for retirement.
メール内容：
We have important news about your account (AWS Account ID: xxxxxxxxxxxx). EC2 has detected degradation of the underlying hardware hosting your Amazon EC2 instance (instance-ID: i-0144be7c0c56de83e) in the ap-northeast-1 region. Due to this degradation, your instance could already be unreachable. After 2016-08-24 21:00 UTC your instance, which has an EBS volume as the root device, will be stopped.

補足：コマンドを叩いても以下の通り、イベント予定なしです。
aws ec2 describe-instance-status --instance-id i-0144be7c0c56de83e |jq '.'
{
  ""InstanceStatuses"": [
    {
      ""InstanceId"": ""i-0144be7c0c56de83e"",
      ""InstanceState"": {
        ""Code"": 16,
        ""Name"": ""running""
      },
      ""AvailabilityZone"": ""ap-northeast-1a"",
      ""SystemStatus"": {
        ""Status"": ""ok"",
        ""Details"": [
          {
            ""Status"": ""passed"",
            ""Name"": ""reachability""
          }
        ]
      },
      ""InstanceStatus"": {
        ""Status"": ""ok"",
        ""Details"": [
          {
            ""Status"": ""passed"",
            ""Name"": ""reachability""
          }
        ]
      }
    }
  ]
}"

Amazon EC2	"Cant connect to instance
I created an instance i-514b2afe (which is not my first), however, I am not able to SSH into it. I feel it might be the custom VPC I created as outlined by AWS documentation on deploying an instance to host an image. Kindly look at the configurations I did. Note that it is not the security group configurations. It is now set to allow connections on ports 22 and 8080 from my IP. But even when I set it to allow from anywhere and ""All traffic"", same issue persists.

Edited by: Kev on Aug 10, 2016 5:22 AM"

Amazon EC2	"Re: Cant connect to instance
Hello,

What error message(s) are you receiving? If you are connecting via a terminal, please provide the verbose output, -vvv. Additionally, please confirm you are specifying the correct IP address, user-name, and pem file. 

Lastly, your Security Groups, Network ACLs, and Route Tables for the VPC show no issues that would affect you from SSH'ing to your instance. 

Regards,
Tim"

Amazon EC2	"Re: Cant connect to instance
Thanks for your response. 

When I try to SSH I get a ""Network error: connection timed out"". 

And yes, I used the correct pem file, specified the correct IP. I cannot give a verbose output because I can't even establish a connection from the terminal as I am using putty. Please try SSH'ing and see for yourself. I have set the rule to allow all IP on port 22."

Amazon EC2	"Instance won't terminate.
Please terminate instance :  	
i-c7b9ed57

thanks."

Amazon EC2	"Re: Instance won't terminate.
Hmm.. seemed to have terminated on its own eventually. 

nevermind!"

Amazon EC2	"Removing PTR record from Elastic IP
Please I need to remove the PTR from an Elastic IP, I can provide IP number in private.

Edited by: xaah on Aug 11, 2016 10:10 AM"

Amazon EC2	"Re: Removing PTR record from Elastic IP
Hello,

You can PM the IP address to me.

Regards,
Tim"

Amazon EC2	"Re: Removing PTR record from Elastic IP
Hello Tim,

I can't seem to be able to PM possibly because I'm new to the forum.

Is there a way around this or an email I can send to?

Thanks"

Amazon EC2	"security question
If I select ""my IP"" inbound rule on an instance but open all ports because I'm debugging something I would expect it would only pass inbound packets from my IP. How, then does the instance talk to the outside world in a remoted web browser running on the instance since it can only talk to my IP? 

What am I missing?

thanks,
Jack"

Amazon EC2	"Re: security question
Hello Jack,

This is what I understand is your concern. Please correct me if I'm wrong.

You have allowed all traffic to your instance from your IP address. But you want to know how your instance is able to talk to the outside world?

This is expected if you have allowed all outbound traffic. Outbound traffic is stateful. So if a traffic is initiated from the instance while outbound is allowed, the connection is persistent on the port which the traffic went out.

I hope this answers your question. Please let me know if you have any further questions.

Regards,
Anup"

Amazon EC2	"Re: security question
Thanks Anup"

Amazon EC2	"how to disable search engines from indexing my server
I have a windows server and published asp.net application from Visual Studio using AWS toolkit. But this is a test deployment, so i want that search engines don't index it so that later i don't face penalty for copying content when i buy a custom domain name. Pls help me how to do this."

Amazon EC2	"Re: how to disable search engines from indexing my server
Hello,

Here's what you need:

http://www.robotstxt.org/

Richard"

Amazon EC2	"Re: how to disable search engines from indexing my server
Kindly tell where can i find this file in my windows server?"

Amazon EC2	"Re: how to disable search engines from indexing my server
Hello, thanks for posting.

This is a page which you create and serve from your website.  i.e. www.yoursite.com/robots.txt

You can read about it here: http://www.robotstxt.org/robotstxt.html

Best regards,

David B."

Amazon EC2	"HealthChecker question about checks at the same time but with different IPs
Hello. One question:

I can see three healthy checks at the same time but with different IP's. Is this correct?

10.236.136.119 - - 10/Aug/2016:21:01:54 +0000 ""GET / HTTP/1.1"" 200 16169 ""-"" ""ELB-HealthChecker/1.0""
10.153.205.30 - - 10/Aug/2016:21:01:54 +0000 ""GET / HTTP/1.1"" 200 16169 ""-"" ""ELB-HealthChecker/1.0""
10.185.32.207 - - 10/Aug/2016:21:01:55 +0000 ""GET / HTTP/1.1"" 200 16169 ""-"" ""ELB-HealthChecker/1.0""

Thanks in advance."

Amazon EC2	"Re: HealthChecker question about checks at the same time but with different IPs
Hello, thanks for posting!

This is expected behavior.  As ELB is a self-scaling service, it can contain one or more nodes at any particular  time.  You can expect each of these nodes to perform a health check during each interval.  The IPs would always be IPs from the CIDR range of the subnets in which your ELB resides.

I hope that answers your question!  Please let us know if you'd like to know anything further!

Best regards,

David B."

Amazon EC2	"Security Group not listed when trying to add a group to an instance
I created a new security group and went to my EC2 instance.  I wanted to add this security group to the instance so I went to Action, Networking, Change Security Group and the group that I created is not on the list of groups to select from.  I checked and the group is in the same region (not sure if that means anything or not).

Any help in why my new group isn't in the list to select from would be great.

Thanks,
Peter"

Amazon EC2	"Re: Security Group not listed when trying to add a group to an instance
Hello, thanks for posting.

To attach a Security Group to an EC2 instance, they must both reside in the same VPC (therefore also the same region).  You can check the location of your Security Groups in the EC2 console under ""Network and Security"".  Please ensure these are both in the same VPC and try again.

Best regards,

David B."

Amazon EC2	"ELB Not Forwarding Requests
Hi,
My internal ELB does not seem to be forwarding requests to my instances or not taking in requests anymore. Have been trying from my bastion.

Things tried:

curl request to the healthcheck endpoint through ELB. No response.
Directly doing a curl request to the ec2 instances at the healthcheck endpoint. OK.
SSH into the instances and checked access logs. Can see health check requests from ELB.
Removing and adding back the EC2 instances to the ELB. Still no response.
Creating a new ELB and adding the EC2 instances. No response.
Toggled the listener ports. No response.


The setup had been working when we first deployed and feedback has been that it was working until a couple of hours ago. Any ideas on how to troubleshoot would be deeply appreciated. Thanks."

Amazon EC2	"Re: ELB Not Forwarding Requests
Hello, thanks for posting.

Do you have ELB access logs enabled?  If so, you should be able to correlate a request to the ELB with requests coming to the backend and find the issue that way.

http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/access-log-collection.html

Do you see any requests besides health checks on the backend access logs?

I can look into your configuration for you - please PM me:
-The name of the ELB with which you're having problems
-An excerpt from your ELB access logs showing the time period during which you are seeing requests failing to be sent to the backend
-An excerpt from your backend logs (redacted if necessary) showing the same time period

I will send you a PM which you can reply to directly.

Thanks!

David B."

Amazon EC2	"ELB support for Websockets and Sticky Sessions
Does anyone know the current state of the Elastic Load Balancer in terms of supporting sticky sessions AND websockets at the same time? There is always this trade-off.

The alternative is to not use ELB and go with nginx or something else.  There is the added proxy protocol support, but I don't fully understand how to use that to get sticky sessions. Is that it's purpose?

I have seen ELB doing the load balancing going to a proxy server that does the sticky session, but now I'm adding another server to my system and the nice thing about ELB was that it did everything as well as SSL termination.

Thanks for any thoughts."

Amazon EC2	"Re: ELB support for Websockets and Sticky Sessions
Does anyone know if the new Application Load Balancer announced today can support websockets with sticky sessions? https://aws.amazon.com/blogs/aws/new-aws-application-load-balancer/"

Amazon EC2	"EC2 will not start or stop.
i-acd41a2b is stuck. Cannot start or stop it. No decipherable error messages are available"

Amazon EC2	"Re: EC2 will not start or stop.
Despite ""resolved"" status in your N Virginia EC2 Health posting. I still have the problem. I cannot stop or restart the instance."

Amazon EC2	"Re: EC2 will not start or stop.
Hello,

On behalf of AWS, I am sorry for any inconvenience this issue may have caused you.

Presently, reports show instance i-acd41a2b is now in running state passing both health checks. Are you able to confirm?

Regards,
Tim"

Amazon EC2	"Note about ELB Application Cookie Based Stickiness Policy
This is a solved issue already so I'm just adding this for whoever it might help. I spent a couple hours debugging the issue before I figured out what was going on.

ELB allows duration based cookies or application based cookies for implementing sticky sessions. We were on duration based and as I tried to move to application based, I was using a cookie header that looked like the following:

Set-Cookie: wsApp=true;path=/app;HttpOnly;

Though the stickiness policy was configured correctly on our ELB to watch for the application cookie 'wsApp', the ELB refused to issue the AWSELB cookie even though this header was coming back from the server. 

Can you spot why? Neither could I! Well, eventually I did... It was this trailing ';' at the end of the cookie value. Though the server was happy to issue it, and all the browsers I had access to recognized it, the ELB did not. Once I changed the cookie value to the following, the ELB correctly recognized it:

Set-Cookie: wsApp=true;path=/app;HttpOnly

I reported this through our support plan in hopes that they'll notify the team working on ELB and see if they could make some small changes to ease this problem. Any reporting that explained this would have been useful as well for debugging the problem."

Amazon EC2	"Please reboot i-2ecaefa0 it's unresponsive and won't reboot
It's in Singapore. It's not responding to reboots via the web console."

Amazon EC2	"Re: Please reboot i-2ecaefa0 it's unresponsive and won't reboot
Nevermind, the issue resolved itself. How do I delete a question"

Amazon EC2	"EBS volume in error state
Hi there,

I have an EBS volume in an error state and I cannot do anything with it (force-detach, delete etc).

VOLUMES ap-southeast-2a 2016-05-29T22:33:18.297Z        False   120     40              error   vol-06db0edec7cd7282a   gp2
TAGS    Name    elk-vol-broken

Can someone from AWS take a look ?

cheers,
Tim"

Amazon EC2	"Re: EBS volume in error state
Hello Tim,
I have engaged our Service Team to look into your issue with volume ID  vol-06db0edec7cd7282a.
I will keep you posted on the same

kind regards
Ale"

Amazon EC2	"Re: EBS volume in error state
Hello Tim,
I am sorry that we still get no updates from our Service Team.
I see that your instance is now running and that you have probably created a new volume.
On behalf of AWS, I sincerely apologize for any inconvenience this may have caused to you.

kind regards,
Ale"

Amazon EC2	"Re: EBS volume in error state
Hello Tim,

I have sent you a private message regarding volume vol-06db0edec7cd7282a.

Regards,
Tim"

Amazon EC2	"EC2 Instance not stopping
I had an EC2 instance that became unresponsive today.  Couldn't connect, and all monitoring appeared to have ceased.  When I selected to stop the instance, it has been stuck stopping for over 40 minutes already.  Instance id: i-fd042597"

Amazon EC2	"Re: EC2 Instance not stopping
Hi,

You can attempt to force stop the instance by appending ""-f"" to ec2-stop-instances API command.

For your use case you would type:

ec2-stop-instances i-fd042597 -f

Issue the command twice. If the instance continues to be stuck stopping please let me know.

Regards,
Zach"

Amazon EC2	"Re: EC2 Instance not stopping
I'm having the same issue. Email from AWS that I have a ""Degraded Amazon EC2 Instance"", I issue the stop command in the AWS management console, and it's stuck stopping forever. I issued the ec2-stop-instances command twice, as you suggested, and it's still stuck ""stopping"".

Instance id i-8f608be3.

EDIT: Crisis averted; it took about 4 or 5 forced stop commands to finally stop the instance.

Edited by: jhersh84 on Mar 19, 2011 11:25 AM"

Amazon EC2	"Re: EC2 Instance not stopping
I'm having the same issue. 

Instance id : i-c1268799

$ ec2-stop-instances i-c1268799 --region us-west-1 --force
INSTANCE        i-c1268799      stopping        stopping


Edited by: buzzpia on Sep 25, 2013 11:48 PM

Edited by: buzzpia on Sep 26, 2013 12:00 AM"

Amazon EC2	"Re: EC2 Instance not stopping
Hello,

I have forced this instance to stop for you.

Richard"

Amazon EC2	"Re: EC2 Instance not stopping
My instance has the same problem right now:

i-29bbea4f

Can you kill it for me, please? 
Thank you"

Amazon EC2	"Re: EC2 Instance not stopping
Hello

Currently looking into this. Will update you shortly.

Regards"

Amazon EC2	"Re: EC2 Instance not stopping
same issue here with instance i-5645ca2d"

Amazon EC2	"Re: EC2 Instance not stopping
Hi,

 I can see that your instance is already stopped, could you please try to start it again?

We forcefully stopped your instance as there was an issue in the underlying hardware.

 Thank you"

Amazon EC2	"Re: EC2 Instance not stopping
same issue here with instance i-ad10b5b1

edit:
now is stopped

Edited by: jcesarhol on Jan 28, 2015 7:14 PM"

Amazon EC2	"Re: EC2 Instance not stopping
Hi all,

Just a quick note for any new customers joining this thread. If you have a similar issue where your instance is not stopping, please try a force stop. If that fails, please open a new forum thread with a similar title, the instance ID and the details. It makes it easier for AWS admins to spot and assist.

Thanks!
Julian H."

Amazon EC2	"Re: EC2 Instance not stopping
I having the same issue in three servers. EC2-ids are i-1b722864, i-1b722864 and i-ede0595d

any help will be much appreciated.

Regards
Juan"

Amazon EC2	"Re: EC2 Instance not stopping
Hello,
I am experiencing the same problem (instance stuck in ""stopping"" state) with instance i-e5356175 .
Thank you for any help.

Best Regards,
F."

Amazon EC2	"Re: EC2 Instance not stopping
Hi Folks,

There is an issue in US-EAST-1 right now; if your instance is there, then we are aware of the problem. Please see our dashboard for the latest information:

http://status.aws.amazon.com/

Richard"

Amazon EC2	"Getting internal server error on AWS console
We are getting internal server error whenever we are trying to make changes into security groups. I tried the following:

Made changes in an existing security by adding / removing / updating rules.
Tried to create new security group.
Tried to delete an existing security. 

Every action returns 400 (bad request) error. Can you look into this? Thanks

Edited by: MRKhattak on Aug 11, 2016 4:51 AM"

Amazon EC2	"low network performance between EC2 in Tokyo
Hi,AWS

   we found that low network performance happened between EC2(Intranet) in Tokyo.

scp file from EC2( i-cfec73c9) to EC2 (i-abb2de09)  by Intranet IP ,scp speed comes from 1MB/s to 100KB/s,it is getting slower and slower.

Please help take a look.Thanks."

Amazon EC2	"Error when changing instance type by using AWS JAVA SDK
Hi everyone,

I developed a small application for downgrade / upgrade at specfic hour, recently I got this error when changing instance type from c4.4xlarge to c4.large:

Invalid value 'c4.4xlarge' for instanceType. LaunchPlan instance type does not match attribute value c4.large (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameterValue

The error above is not helpful, I don't know what exactly the reason why and also this application went live for about more than one month without any problem until today.

I searched on Google and found that there are some cases like me but they are too old (back in 2013) and no solution so far.

Thank you."

Amazon EC2	"Re: Error when changing instance type by using AWS JAVA SDK
Hi,

Today I got another problem from AWS Java SDK when changing instance type: 

2016-08-11 00:38:38.979 pool-2-thread-1 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task.
com.amazonaws.AmazonServiceException: The service is unavailable. Please try again shortly.

This error last for 10 mins and then instance type is changed and server stuck at starting up (we check the state every five seconds after instance type changed to see if instance is up and running). We had to start it manually from instance management page.

Seriously, what's wrong? we have a lot of complains from our customers.

Thank you!"

Amazon EC2	"received email hardware marked as degraded, instance is stuck.
Hi, yesterday I received an email indicating that I should migrate our instance from a degraded hardware by august 22nd. I was planning to migrate the instance today. Tonight I received an alarm that the instance is down, but actually it looks like a hardware problem. 
I tried to ""stop"", then ""force stop"" the instance, but no luck. It looks it cannot stop.
How can this be solved, please?"

Amazon EC2	"Re: received email hardware marked as degraded, instance is stuck.
Well, it seems it took a very long time to do a force shutdown. all is fine now.
thanks anyway."

Amazon EC2	"c++ executable getting stuck on Amazon g2.2xlarge machine with CUDA
Hi All,

I am using a g2.2xlarge GPU instance on Amazon servers, and I have a c++ executable compiled on the same using OpenCV and CUDA. At first I created a g2.2xlarge GPU instance and got everything working fine. My executable was running perfectly fine, but then I wanted to test on a higher scale factor, so I stopped the VM and increased it to g2.8xlarge instance. Now after upgrading to that, whenever I tried executing my C++ executable, it just hung up the machine. There was no output and no error, and I can't even exit the command line, forcing me to exit the terminal console.

So I quickly downgraded to g2.2xlarge GPU again. This time it worked for the first time, but then on executing it next time, it got stuck again. 

I also tried making a new  g2.2xlarge GPU instance, compiled and installed OpenCV with CUDA on the same, but still the same result. The executable works for the first time, but then gets stuck on every other time I try to invoke it. 

I am nearing a deadline, so can someone please help me out on this, as to why this issue may be coming. Please let me know if you need further details on the same."

Amazon EC2	"Re: c++ executable getting stuck on Amazon g2.2xlarge machine with CUDA
Hard to say without know what you are running. Are you releasing all the resources after your first execution finishes. You could try a very high level debug by monitoring the nvidia smi output in a second terminal window via: 

watch -n0.1 nvidia-smi

Maciej
http://www.bitfusion.io/"

Amazon EC2	"Cannot release elastic IP
When trying to release one of my IPs, I am getting the following message:

We could not release the following Elastic IP (54.236.100.131)
The address with allocation id eipalloc-f616379b cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: efbced81-6b1e-482a-8689-b40faeb8568a)

Please remove the reverse DNS so I can release the IP.

Thank you."

Amazon EC2	"Re: Cannot release elastic IP
Hello,

I have reset your PTR record. You should be able to release the IP address now.

Please let me know if you have any further questions.

Thanks,
Anup"

Amazon EC2	"Re: Cannot release elastic IP
Thank you."

Amazon EC2	"Pinging the outside world from an EC2-Classic instance
I have a very old box running in EC2-Classic in Oregon.

I did make the box reachable via ping requests by adding a rule to the security group:
Custom ICMP Rule Echo Request N/A My IP

That works just fine. However, because of that, I cannot ping google or anything else. To do that, I have to add another rule to the SG - for Echo Reply, then pinging the instance works, and pinging from the instance works.

However, when I remove both rules, the following happens - I cannot ping the instance anymore (makes perfect sense), but I can ping from the instance.

Why is there such a correlation? Why does enabling pinging of the instance prevent pinging from the instance?"

Amazon EC2	"Re: Pinging the outside world from an EC2-Classic instance
Hello,

This is expected. 'Cause when you ping an instance or anything for that matter, the outbound traffic follows the outbound rules setup on the instance. I'm assuming you're allowing outbound ICMP. So you should be able to send out ICMP traffic. Since this is stateless, the ICMP traffic would come back as the connection is persistent and expecting an ECHO response.

I hope I was able to answer this. Please let me know if you have any further questions.

Regards,
Anup"

Amazon EC2	"Re: Pinging the outside world from an EC2-Classic instance
Hi Anup,

I'm not sure I'm following.
First, it's an EC2-Classic instance, so there are no outgoing rules in the Security Group. (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html#differences-ec2-classic-vpc)
Second, why is it stateless? Aren't SG's supposed to be stateful? (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html)

Can you clarify?"

Amazon EC2	"Windows Server 2012: Cannot open port
For a game server application I need ports 27770-27780 open. I set up ""27770 - 27780	0.0.0.0/0"" in the ""quicklaunch-1"" server group and set up the ports in Windows Firewall (advanced options) and an open port tester says it's closed. Turned off Windows Firewall complete and same issue. I'm admittedly NOT an experienced networking guy so for all I know they're open but that port tester is inaccurate, though typically when a game server isn't showing up in the public server list it's a port block issue.

Any assistance would be fantastic, thank you 

Instance: i-fc2c0382"

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Hi
Thanks for contacting AWS Support.
I have checked your instance and the ports are open correctly in the security group.
It would appear that the issue is there is no service running to accept the connections.
You can test locally be running telnet against the localhost and a port that should be on.
Google paping may also be of help."

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Thanks for the suggestion - I had never heard of Google Paping before. I tried it like this:

-> paping localhost -p 3389 -c 4

This works, as expected

-> paping localhost -p 27770 -c 4

This does not work (connection timed out).

Pardon my daftness on the subject, but I'm not sure how running a service to accept the connections would affect whether or not the port is open?"

Amazon EC2	"Re: Windows Server 2012: Cannot open port
After some reading I'm seeing that it's tied to a PID (using ""netstat -p tcp -ano "" in command prompt) so I take it that this is what you meant by setting up a service that listens for that port. l set the game to run with host 184.73.154.57:27771 (server's elastic IP with port I want it to use - usually host is just set to 
host * 

or 
host *:port

...both of which I also tried) and in task manager details, it's PID is 3032. This PID is NOT listed in the netstat ports, nor is the 27771 port listed anywhere. The quicklaunch-1 security group has ""27771 tcp 0.0.0.0/0"" set and I even restarted just to make sure - and windows firewall is turned off for now. I'm really not sure where to go from here. I will happily follow any and all advice 

Edited by: David Rogers on Dec 25, 2012 12:50 AM

Edited by: David Rogers on Dec 25, 2012 12:51 AM

Edited by: David Rogers on Dec 25, 2012 12:51 AM

Edited by: David Rogers on Dec 25, 2012 12:52 AM

Edited by: David Rogers on Dec 25, 2012 12:53 AM"

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Hi David,

Here is something for you to try. 

Try setting host to Public DNS of your instance instead of the elastic IP (184.73.154.57). Once that is done, run the application and access it from within the instance itself on the specified port. Also, it would be good to perform a telnet test from inside the instance to this port using:

telnet localhost <your_port>


And 

telnet <your_public_DNS> <your_port>


-Noman A."

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Thanks Norman. I set the host to ""ec2-184-73-154-57.compute-1.amazonaws.com"" (also tried ""ec2-184-73-154-57.compute-1.amazonaws.com:27771"") and that doesn't work. Installed telnet and those tests could not connect - ""connect failed."""

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Hi David,

Are you able to access the application from within the instance with any host configurations you had previously tried, like

host *

or
host *:port


-Noman A."

Amazon EC2	"Re: Windows Server 2012: Cannot open port
The game itself does not operate within the instance (graphic error) so I haven't been able to try that. I just opened up ALL ports to see if maybe it's just wanting to use some other port I don't know about, unfortunately that is not the case (no port listed for this PID). I'm thinking maybe the game is the problem given that all ports are open and the firewall is completely off - starting a discussion on their forum  Thanks Norman"

Amazon EC2	"Re: Windows Server 2012: Cannot open port
Hi David,

Were you ever able to resolve this issue? I am also facing same issue and not able to resolve.

I followed exactly all steps which are been mentioned into this thread.

Please let me know if it works for you. I also open up a new thread for same as this one is pretty old one.

Thanks
Rushi"

Amazon EC2	"Re: Windows Server 2012: Cannot open port
I had a similar problem with just opening one port on an EC2 server sitting behind a load balancer.

I found telnet and http://www.canyouseeme.org/ to be helpful. 

I followed these steps:
Open port 1111 on windows Firewall.
Open canyouseeme.org on EC2 instance to make sure the port is open via firewall
Open port 1111 on Load Balancer security group.
Add a listener to the load balancer for port 1111. (a key step that I missed which caused frustration)
Open port 1111 on EC2 server security group.
Run the command: telnet yourdomain.com 1111"

Amazon EC2	"Wrong GMT_Unix_Timestamp in ELB in Server Helo message of SSL Handshake
Using Wireshark I've managed to catch that during TLSv1 handshake between our desktop app and the ELB, the client receives wrong GMT unix timestamps in the Server Hello message, preventing the client trying to validate the certificate.

GMT Unix Time: Jun 12, 2058 02:44:30.000000000 ART
GMT Unix Time: Jan 23, 1991 10:35:53.000000000 ART
etc etc"

Amazon EC2	"EC2 instance stuck in stopping state
I'm having the good-old problem, too.
Instance ID: i-ae01f98e
I saw it was unresponsive and scheduled for retirement, so I tried to stop&start, but no luck.
It's been in stopping state for an hour, almost.
Please fix that.
Thank you

P.S.
Why is this happening to t1/t2 instances only?
I never experienced that on m3 instances, for example.
Are you doing some sort of maintenance?"

Amazon EC2	"Re: EC2 instance stuck in stopping state
Finally, it stopped.
Now it's working, however can you explain why this happens sometimes?"

Amazon EC2	"Re: EC2 instance stuck in stopping state
Hello,

I'm glad your instance is running properly. It looks like the instance was on a degraded hardware earlier. This caused your instance to go unresponsive. After you stop/started your instance, it moved to a healthy hardware.

Now the instance is up and running fine. Please let me know if you have any further questions.

Anup"

Amazon EC2	"Alarm for Reserved Instance Expiration
This may be a feature request, but I am hoping it already exists as I am sure other people have needed this. I need to be alerted (Via Cloudwatch is fine) when a reserved instance expires. I just noticed today that an m2.2xlarge reserved instance expired in December without replacing it resulting in a much higher cost than we normally incur. If we can get an alarm when it expires, that would be ideal. 

Thanks,

Shannon"

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
+1"

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
Hello, 

Thank you for your suggestion.

I have forwarded on your feature request to the CloudWatch team directly. Thank you for your input. 

Thanks, 
Chris"

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
+1"

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
Hi,

We have updated your interest to our internal teams.

We shall get back to you once we have more information about this.

Thanks,
Jayakrishnan L."

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
+1"

Amazon EC2	"Re: Alarm for Reserved Instance Expiration
This X 11

At least a simple email... doesn't need to be Cloudwatch integrated but can be"

Amazon EC2	"How to Get an Elastic IP Without Public DNS
I'm trying to connect to a remote MYSQL database from en EC2 instance. The IP of the EC2 instance has been allowed to connect to the remote database (and user created, etc...) but not my server's public DNS. This is not an option in this case nor is it to add skip-name-resolve option. When I try to connect the remote database does a reverse lookup on the IP and due to this disallows based on the unknown hostname.

I need the IP to have no host name associations with it. I have tried to remove the public DNS option from VPC but the IP still resolves to the public DNS even after several days. If I open a new elastic IP even with the public DNS option on the VPC disabled, as soon as I try a reverse lookup it resolved to the ""X.X.X.X.us-west-1.compute.amazonaws.com"" type DNS.

Is there a way to get an IP that does not have this generic public DNS associated with it?"

Amazon EC2	"need to configure firewall instance as default gateway
Hi , 

I configured fortigate firewall with 2 interfaces first interface is public subnet and second interface is private subnet. Public subnet is wan and private subnet is lan of my firewall.Configured another ec2 instance with linux image. Created route table default gateway as igw for public subnet and private subnet default gateway as lan interface id of firewall lan. I did all troubleshooting by changing default gateway of ec2 instance. when i tried to access internet, it is not reaching lan interface of firewall."

Amazon EC2	"Re: need to configure firewall instance as default gateway
Hi,

Are you able to provide the instance IDs?

Regards,
Tim"

Amazon EC2	"Running into Disk Quota problems in ROOT web directory - EC2 Instance
Hello:

I created an EC2 Tomcat Instance on Linux for our ecommerce platform for autos. In our root directory, we have an albums directory of photos of cars. We have about 17 GB of photos. When we transferred our platform to the AWS/EC2 beanstalk env, all of our albums do not transfer.  The SFTP program says that we have run out of disk quota.  This has never happened with our regular hosting, and it is a virtualized machine.

So, is there any way to increase the disk quota so that we can have all of our photos in one directory? What is the actual disk quota number?  Has anyone else run into this, and what is the workaround.  To recode the albums path would be a very significant amount of work.

How I can increase the allowed size of the directory in the ROOT directory of Tomcat?

Thanks in advance for your help."

Amazon EC2	"Unable to run rsync command
Dear Friends,

I have 2 Instances Master and Slave. Master to Slave rsync command was working fine last 2 years. But the problem started  when I have created new image of Slave server and stopped old  server.
When I am going to run rsync command it is giving me 
Error Message :
""  rsync -avzL  -e ""ssh -i jiten.pem"" /var/www/html/  root@XXX.XXX.XXX.XXX:/var/www/html/
protocol version mismatch -- is your shell clean?
(see the rsync man page for an explanation)
rsync error: protocol incompatibility (code 2) at compat.c(171) http://sender=3.0.6""

""both server have same rsync version"" ""rsync  version 3.0.6  protocol version 30""

I have checked :: 
1> Created new image of master server and tried rsync command both server but same problem.

I have follow so many instruction:
1>  ssh remotehost /bin/true > out.dat ( file blank)
2> ssh remoteuser@remotehost echo 2>/dev/null
3> vi /etc/bashrc file (there is not echo and other extra line or character)
4> rsync -avvvz -e ""ssh -i 
5> move  and remove the .bashrc on remote host
6> vi /root/.bashrc
if [ $- != i ] ; then

Shell is non-interactive. Be done now!

return
fi

7> I have remove and move /root/.bashrc file and /root/profile file both Master and new Slave server
8> I have removed rsync command and install new on both server.

Output of :: root@ip-xxx.xxx.xxx.xxx home]#  rsync -avvvzL  -e ""ssh -i jiten.pem"" /var/www/html/  root@xxx.xxx.xxx.xxx:/var/www/html/
opening connection using: ssh -i jiten.pem -l root xxx.xxx.xxx.xxx rsync --server -vvvlogDtprze.iLs . /var/www/html/ 
protocol version mismatch -- is your shell clean?
(see the rsync man page for an explanation)
rsync error: protocol incompatibility (code 2) at compat.c(171) http://sender=3.0.6
_exit_cleanup(code=2, file=compat.c, line=171): about to call exit(2)
You have mail in /var/spool/mail/root

Please help me what to do now.

Thanks
Jitendra Jha"

Amazon EC2	"why my instance is not initiated correctly by CF script:instance check fail
Hi,
I'm testing our stack of machines using CloudFormation. We are using Amazon Linux.
I observed that quite often one of machines doesn't start correctly.
'Instance status check' is failing. Please check attached image.
I have secured 'System Log' as you advice in troubleshooting (file is attached).
It looks the log ends when external disk should be mounted:
—
Determining IP information for eth0...http:// 8.631302 IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
http:// 8.635782 ixgbevf 0000:00:03.0: NIC Link is Up 10 Gbps
http:// 8.639790 IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
http:// 36.279249 blkfront: xvdb: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
—
I'm using ebs volume - gp2 type (SSD) - volume status is OK 
(volID: vol-e2811f6b)
I would assume that maybe disk is broken but strange thing is that when I will delete CF-stack and redo all machines then most likely I will have fully operational stack of machines. Issue happens just sometimes - I don't know maybe once per 5? 10? times.
----
disk is mounted by CF script:
""MountDataVolumePSQLslave"" : {
""Type"" : ""AWS::EC2::VolumeAttachment"",
""Properties"" : {
""InstanceId"" : {""Ref"" : ""EC2InstancePSQLslave""},
""VolumeId"" : {
""Fn::FindInMap"": [
""DataVolumes"",
{ ""Ref"": ""AWS::Region"" },
""DataVolumeIdPSQLslave""
]
},
""Device"" : ""/dev/xvdb""
}
},
----
I'm able to SSH to machine; disk is attached and I can mount it - so for me it looks like everything is OK except this failed Instance check...
----
Do you have any idea what can be wrong here?"

Amazon EC2	"EC2 Instance is stuck in Stopping state
Instance in ap-southeast-2a is stuck in a ""stopping"" state. I tried to start the instance this morning and it went ""pending"" for a while and then ""stopping"". Tried to force stop it but it is still showing as ""stopping"".

Instance id is:    i-07a01551c748001d5

Can you force stop this instance please."

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
Hello,

I have forwarded this onto our EC2 team to resolve.

As soon as I hear that it has been actioned I will reply back to this post.

Regards,
Troy W"

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
24 hours later and this instance is still ""stopping""."

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
36 hours later and this instance is still ""stopping""."

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
Hello,

Teams are working to resolving your issue, You are not billed for the instances stuck in stopping/shutting down states. We will update this thread as soon as we have an update for you.

Regards.
Umair A."

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
Hello,

Thanks for your patience on this!

This is to confirm you that instance id: i-07a01551c748001d5, is stopped now.

Please let us know if you still facing issues.

Regards,
Anand"

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
I'm having a problem, too.
Instance ID: i-ae01f98e
I saw it was unresponsive and scheduled for retirement, so I tried to stop&start, but no luck.
It's been in stopping state for an hour, almost.
Please fix that.
Thank you"

Amazon EC2	"Re: EC2 Instance is stuck in Stopping state
Hello,

I've verified that instance i-ae01f98e has been already stopped and started back and is passing all the status checks now.

Cheers
Eduardo C"

Amazon EC2	"Is COMODO Essential SSL certificate compatabile with ec2-instance?
Hi,

My instance in EC2 cloud using Digicert SSL certificates so far.  But Now i want to install the COMODO SSL certificate instead Digicert.

Is COMODO Essential certificate compatible with EC2 instance?

Will it create any issue? 

Thank you
Mayandi"

Amazon EC2	"Re: Is COMODO Essential SSL certificate compatabile with ec2-instance?
I don't think it should be a problem.

-Brett"

Amazon EC2	"Re: Is COMODO Essential SSL certificate compatabile with ec2-instance?
Hi,

Thank you .

I also checked with COMODO support. They said no issue.

Hopefully no problem, I will proceed further."

Amazon EC2	"Amazon EC2, Geoserver and CloudFront
Hi all,

I'm running Geoserver on an EC2 instance, and hosting a static website in an S3 bucket. I've provisioned an SSL certificate through AWS Certificate Manager, and applied this to the S3 bucket by distributing it through CloudFront. However, I'm having some issues distributing my EC2 instance through CloudFront. Any requests made to Geoserver through the CloudFront distribution just return error messages about missing parameters (the same requests sent directly to the EC2 instance work fine). Should I be distributing the EC2 instance through CloudFront in order to use the SSL certificate, or is there another way of doing this?"

Amazon EC2	"My site is down after stopping instance
Hello Guys,

I stopped my instance yesterday and then  I started it but my site is down since that https://traderser.com/

Please help me how can I restore site.. Server is fine and running healthy.

Best Regards..
Kan"

Amazon EC2	"Re: My site is down after stopping instance
If you did not allocate an Elastic IP Address, then your instance has probably picked up a new public IP address. Your DNS looks to me like it is pointing to a dynamic address.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

-Brett"

Amazon EC2	"Automated monitoring of EC2 instance
Hi

I would like to automatically monitoring network, CPU usage, memory usage and so on (and perhaps logging or showing it to me via a GUI) of an Amazon EC2 classic instance (running Amazon AMI).

With which free application is this possible? I saw Amazon CloudWatch but this is not for free and only monitors every minute."

Amazon EC2	"Re: Automated monitoring of EC2 instance
You can use Nagios. It is an Open Source enterprise class monitoring tool."

Amazon EC2	"Re: Automated monitoring of EC2 instance
Hi there, 

Another great solution to this is Datadog. There is a built-in integration with EC2 and if we are talking about fewer than 5 instances, then it meets your free requirement. 

FYI, I am the evangelist at Datadog, so can answer any questions you may have."

Amazon EC2	"Re: Automated monitoring of EC2 instance
Hi there,
How datadog can monitor private ec2 in VPC?
Is there a way to monitor multiple VPC's in multiple regions?

Currently we're using Zabbix (one Server) to monitor multiple environments in different cloud but after migration this won't be possible. We don't want to have zabbix server in each VPC.

How do you solve that problem?

Thank you"

Amazon EC2	"Re: Automated monitoring of EC2 instance
Datadog would monitor you ec2 instances either via an agent which runs on your hosts and pushes metrics out  our hosted platform; or alternatively via cloudwatch. In either case, this works fine in VPC as covered here: https://www.datadoghq.com/blog/monitor-aws-vpc/"

Amazon EC2	"Can I upgrade existing ami to new release inside Opswork.
Hi,

Currently i am using old amazon ami inside opswork and I want to upgrade to latest amazon ami without loosing any data. So please tell me can I upgrade my existing ami to new ami ?"

Amazon EC2	"Public DNS host name for VPS
Hello.

In the documentation I found mention about DNS name for VPS public Ip. http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses

But my VPS details is not have such field. 
When retrieving info by API 'PublicDnsName' field is empty string too.

Why 'ec2-203-0-113-25.compute-1.amazonaws.com' like domain name is not generated? What should I do to get it?"

Amazon EC2	"Re: Public DNS host name for VPS
Hi,

When you launch an instance into a VPC, your subnet has an attribute that determines whether instances launched into that subnet receive a public IP address from the EC2-VPC public IP address pool. By default, we assign a public IP address to instances launched in a default VPC, and we don't assign a public IP address to instances launched in a non default subnet.

You can control whether your instance in a VPC receives a public IP address by doing the following:


Modifying the public IP addressing attribute of your subnet. For more information, see http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#subnet-public-ip



Enabling or disabling the public IP addressing feature during launch, which overrides the subnet's public IP addressing attribute. For more information, see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#public-ip-addresses


Regards,
Umair A."

Amazon EC2	"Re: Public DNS host name for VPS
Correct. And my VPS have public IP. All is ok with that.
My sub net has ""Enable Auto-assign Public IP"" checkbox set.
My question is why DNS name is not assigned for that IP address, like it described in http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses ( ec2-MY-IP-ADDRESS-NUM.compute-1.amazonaws.com or something like that)?"

Amazon EC2	"mod_perl bug with Amazon Linux 2014.03
I created an AMI based upon Amazon Linux 2014.03. On this AMI I installed mod_perl and mod_perl-devel via yum. 

I was unable to start apache if there was a <Perl> block in the httpd.conf. The parent thread would start up, then just sit there using 100% of a CPU, and growing in size till OOM-killed by the kernel.

I straced some of these processes, and they all ended up like the example at the end of this post.

Removing the mod_perl and mod_perl-devel packages an compiling my own version of mod_perl (2.0.8) seemed to work, but I'd prefer to use vendor-supplied packages if possible.

Has anyone else come across this issue?

Dave Webb

An example strace is below.

....
<snip>
stat(""/usr/lib64/perl5/vendor_perl/auto/Apache2/Const/Const.bs"", 0x7fa679fbb558) = -1 ENOENT (No such file or directory)
stat(""/usr/lib64/perl5/vendor_perl/auto/Apache2/Const/Const.so"", {st_mode=S_IFREG|0755, st_size=4768, ...}) = 0
stat(""/usr/lib64/perl5/vendor_perl/auto/Apache2/Const/Const.bs"", 0x7fa679fbb558) = -1 ENOENT (No such file or directory)
open(""/usr/lib64/perl5/vendor_perl/auto/Apache2/Const/Const.so"", O_RDONLY|O_CLOEXEC) = 6
read(6, ""\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\6\0\0\0\0\0\0""..., 832) = 832
fstat(6, {st_mode=S_IFREG|0755, st_size=4768, ...}) = 0
mmap(NULL, 2100016, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 6, 0) = 0x7fa66648f000
mprotect(0x7fa666490000, 2093056, PROT_NONE) = 0
mmap(0x7fa66668f000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 6, 0) = 0x7fa66668f000
close(6)                                = 0
brk(0)                                  = 0x7fa67a0a3000
brk(0x7fa67a0c4000)                     = 0x7fa67a0c4000
lseek(5, 6106, SEEK_SET)                = 6106
lseek(5, 0, SEEK_CUR)                   = 6106
close(5)                                = 0
brk(0)                                  = 0x7fa67a0c4000
brk(0x7fa67a0e6000)                     = 0x7fa67a0e6000
brk(0)                                  = 0x7fa67a0e6000
brk(0x7fa67a108000)                     = 0x7fa67a108000
brk(0)                                  = 0x7fa67a108000
brk(0x7fa67a12a000)                     = 0x7fa67a12a000
brk(0)                                  = 0x7fa67a12a000
brk(0x7fa67a14c000)                     = 0x7fa67a14c000
....
<snip>
brk(0)                                  = 0x7fa67a14c000
brk(0x7fa67a16e000)                     = 0x7fa67a16e000
<Ctrl-c>


Edited by: davewebb-zpg on Apr 7, 2014 8:01 AM"

Amazon EC2	"Re: mod_perl bug with Amazon Linux 2014.03
Hello,

Thanks for the report - we'll look into this.

Richard"

Amazon EC2	"Re: mod_perl bug with Amazon Linux 2014.03
Closing old, unanswered question."

Amazon EC2	"Cloud_init.py error after IPV6 set-up
Issue Photo 
https://s31.postimg.org/fx6w0h6kb/download.jpg 

Problem Descritpion
The last change I did is about the ipv6 settings, in order to try to test out using ipv6 with Mesos

1) /etc/sysconfig/network-scripts/ifcfg-eth0
2) /etc/sysconfig/network

I was doing these changes based on 
https://access.redhat.com/solutions/347693 
http://www.cyberciti.biz/faq/rhel-redhat-fedora-centos-ipv6-network-configuration/

After I made this change, i used systemctl restart network, then AWS instance get disconnected. 

As I currently running a developing site, there is an important database in the site and last backup of the database was about 3 days ago. I wish to get all information back.

Is there a way to recover this site ?"

Amazon EC2	"Re: Cloud_init.py error after IPV6 set-up
Can't wait for an answer here so I recovered all the changes again from old db.

Guess that's not easy to answer since AWS doesn't support IPV6 for years according to message thread since 2014, there is no ETA or resolution to make it happen.

https://forums.aws.amazon.com/message.jspa?messageID=672099"

Amazon EC2	"EC2 Private Keys - Best practice if sysadmin leaves company
Our ec2-user private keys are kept by a very small group of trusted sys admins. However once in a while one of the sys admins leaves the company. Now if a sys admin took one of the private keys home he or she will still be able to login to aws even though he/she is not working for the company anymore and potentially can do severe damage. 

What are the best practices to secure or rotate the private keys once a sys admin or super use leaves the company?"

Amazon EC2	"Re: EC2 Private Keys - Best practice if sysadmin leaves company
Hello, 

Best practices would be to rotate SSH keys, delete any accounts they had(IAM, on the instances, ect) and change passwords. The following article covers how to rotate SSH keys on a running EC2 instance:
http://docs.rightscale.com/faq/clouds/aws/How_do_I_change_the_SSH_Key_on_a_running_EC2_instance.html

Regards,
Nick"

Amazon EC2	"Create SWAP for t2.micro
Hi Guys

Am still new to AWS if i need to create swap memory for Amazon Linux AMI  on t2.micro . How do i do that. I need to to run meteor on that instance?"

Amazon EC2	"Re: Create SWAP for t2.micro
The idea is to use ephemeral instance storage for swap space. The link below should assist -
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-store-swap-volumes.html
-Brett"

Amazon EC2	"Parameter: SpotFleetRequestConfig.IamFleetRole is invalid
Whenever I am trying to create a new spot instance I am receiving the following error: Parameter: SpotFleetRequestConfig.IamFleetRole is invalid

 In ec2 management console:
x I work as an IAM user (with full admin permissions)
x I go to ""Spot Requests"" and click Get Started
x then, I select Ubuntu instance type and m4.xlarge Instance type
x set Size to 40 GiB

When trying to click on ""Launch"" I receive instantly an error: Parameter: SpotFleetRequestConfig.IamFleetRole is invalid

When I download the JSON config I can see it is using: 
""IamFleetRole"": ""arn:aws:iam::12345678919:role/aws-ec2-spot-fleet-role""

I created the role by the same name (it was missing previously) but the resulting error is the same.

Thanks, any help would be appreciated.

P.S. I previously deleted by accident my default VPC, not sure if it has a negative impact."

Amazon EC2	"Re: Parameter: SpotFleetRequestConfig.IamFleetRole is invalid
If this role was missing, means you do not have enough permissions to create this role (Spot console is creating this role for you when you try to launch Spot fleet). It looks like the account or user which you use to launch the Spot console has not enough permissions to iam:ListRoles or CreateRole. Are you sure it is full admin and not just ec2-wide admin? (as creating/listing roles requires IAM permissions in addition to ec2). You also need permission for iam:PassRole.

Another question - what policy do you use for this created role (arn:aws:iam::12345678919:role/aws-ec2-spot-fleet-role) ? You should actually use the policy 'arn:aws:iam::aws:policy/service-role/AmazonEC2SpotFleetRole' and add trust relationship for 'spotfleet.amazonaws.com'."

Amazon EC2	"Instance not passing Status Check
I have an EC2 instance running Windows that has been running 10h/day for about 3 years. The past week or so, 2 or 3 times the instance wouldn't pass the Instance Status Check. A Stop and Start fixed the issue.

Today the instance would't pass the test, and Stop/Start wouldn't help. After 4 tries, I did the following:

1) I created an image and from that image I created a new instance. That instance failed the test.

2) I changed the instance type for more memory. That instance failed the test.

3)  I created a new instance from a backup image from 7/31. That instance failed the test.

4) I created a new VPC and I created a new instance there from today's image. That instance failed the test, too.

I don't know I should do or what else I should try to fix the problem.

Any advise will be very welcome!!

Thanks,

Jorge Gonzalez"

Amazon EC2	"Re: Instance not passing Status Check
Hi,

Would you please share the instance ID so we can investigate from our end.

Regards,

Souza S"

Amazon EC2	"Re: Instance not passing Status Check
Hello Souza,

i-e87c432a is the original one
i-1e0f3eab was launched from an image of the original
i-fe0e3f4b was launched with larger memory (t.2medium)
i-81f1c034 was launched from a backup from 3/31
i-7ef8c9cb was launched on a diferent VPC, from an image of the original
i-4c304109 was launched on a different AZ
i-e3ecdd56 was launched from a backup from 6/26

None would pass the Instance Availability Test. All of the above instances are in the N. California Region.

Today I managed to copy the image made yesterday to the N. Virginia Region, configured a VPC and launched an instance. It passed the Availability Test and so far is running ok:

i-bd17d224 was launched at a different Region, from an image of the original and is up and running.

Also to note, today I launched at the N. California Region, a Windows 2003 instance from one of the images at the Marketplace and it didn't pass the Availability Test. It looks like I cannot launch any instances at the N. California Region.

Sorry about the delay to respond, but I was gettin a message about ""message quota has been reached"". Never seen that on a Forum before   

Thanks!!

Jorge Gonzalez"

Amazon EC2	"Re: Instance not passing Status Check
Hello Jorge,

I see all the instances are currently stopped, instances in stopped state do not give us detailed information however i have reviewed the metrics and i see most of the instances CPU utilization was consistently at 100%. It seems high CPU utilization made these instances unreachable and thus resulted in failed instance status checks.  I can confirm all the instance were running on healthy underlying infrastructure and there were no issues on the host level that could have affected your instances.

If there's a problem within the image then all instances created from that image will experience the same problem as the problem gets replicated. I would advise you to test your images, launch bigger instance type with more CPU and memory, monitor the console logs, cloudwatch CPU and other metrics.

If you are seeing any quota errors during instance launch it means you have reached instances limit in your account. You can view current limits and request limit increase from the console. See below link

[1]  http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-resource-limits.html

Regards,
Umair A."

Amazon EC2	"Re: Instance not passing Status Check
Hi,

Whatever the problem was, it is gone. Now I'm able to start the instance and it passes both checks.

I don't think the issue was on the image, because the day of the problem, I started an instance on another Region with a copy of that image.

It seams to me that the problem was in the infrastructure, but I guess we'll never know.

Thanks for your help.

Regards,

Jorge Gonzalez"

Amazon EC2	"Opsworks instance suddenly terminated
Hi There!

My instance (i-1dca88a1) stopped 1 hours before without any interaction. The instance shows 
http://imgur.com/a/6B0H1

As I see in the logs there was no user-initiated event happened, the instance was a 24/7 instance. Can you advise on what happened in reality? Do I got hacked?

The Ec2 status change says: Client.UserInitiatedShutdown: User initiated shutdown. 

As Far as I know I didn't provided credentials for any api that are able to initiate shutdown.

Best Regards:
Andras Budai
sysadmin

Edited by: forgulencia on Aug 9, 2016 12:17 AM"

Amazon EC2	"Re: Opsworks instance suddenly terminated
Hi,

Taking a look at your instance i see it was stopped through Opsworks.

Regards,
Umair A."

Amazon EC2	"Re: Opsworks instance suddenly terminated
Hi, and thanks for the reply, Umair!

How may I know if the stop caused by a hack or some misconfiguration? Can you at least provide the id of the one who issued the stop? Or some information on where I can go after it?

The instance was stopped by me manually after it was in the state that you can see on the screenshot. 

I've already checked the instance logs, and I cannot see the shutdown event in the logs also."

Amazon EC2	"Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hi
All my instances, one by one, get hung and I'm not even able to SSH anymore. It is the well known kernel panic ""task blocked for more than 120 seconds"". The sysctl.conf fix proposed here https://forums.aws.amazon.com/thread.jspa?messageID=687365  seems not to work, when I start an AMI with this fix, it does not work either.
As I loose complete control because of not being able to SSH, I'm stuck.

This is extremely urgent, please help me solve this issue asap.
My instances: several production and test instances Ubuntu 14.04 LTS in the Europe Ireland area.
All instances were working for several months without any issues.

Edited by: zeno_t on Aug 3, 2016 2:14 AM

Edited by: zeno_t on Aug 3, 2016 4:11 AM

Edited by: zeno_t on Aug 3, 2016 4:42 AM"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hi,

We apologize for the inconvenience caused to you due to this issue!

For further investigation from AWS side, could you please let me know the instance IDs of some of the instances on which you are facing this issue?"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hi

The following instances are affected (all eu-west 1b):
i-6b6807e3 (twOdoo90 new)
i-127dccb8 (twTwandaMedium)
i-46eda4ce (testOdoo90)

At the moment only the first one is still running (strangely enough I can't ssh into the instance and it has the same error messages, but the websites are still available).

Besides that, as I'm trying to rebuild the servers, I do detach from and attach volumes to new instances. While doing that, I have observed that I can not see all files/directories on the attached volumes, not even as root user. Unfortunately these directories which I can not see are the most important. My backed up AMIs and Snapshots are useless, if I can not have access to these directories.

Thanks for your attention, 

Best, trevi

Edited by: zeno_t on Aug 3, 2016 12:14 PM"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Any news? Do I need to provide more information?

Edited by: zeno_t on Aug 4, 2016 5:39 AM"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hello,

It looks like you've terminated the second and third instance, which prevents me seeing more for those - however, as far as I can see the first is running normally at the moment; I don't see anything unusual on the console.

Is this still an issue or has it cleared?

Richard"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
I could not wait longer and had to setup new instances and reconstruct them, that took quite some time.
The one which is still running did heal itself mysteriously during this process. I could not figure out how this happened and it would be great to know why in order to prevent the same thing happening again.

I did restart the instance i-127dccb8 (twTwandaMedium) again and created a new one based on a corrupt volume created from an AMI, i-f10ecc7a (testOdoo90_kaputt)."

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
How long should I letting run my corrupt instances?"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hello,

I have investigated the issue it seems like the EBS volumes experienced some issues that could have affected your instance, Reviewing the volumes of both instance i see they are healthy and operating normal. You dont need to make any changes in the default kernel parameters in sysctl.conf.  In case you experience this issue again i would ask you to provide us the exact time as it would help us in accurate diagnosis.

Regards,
Umair A."

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hi Umair
When I look at the instance i-127dccb8 (twTwandaMedium) I do see the issue right now in the log screenshot and I'm not able to ssh in.

Edited by: zeno_t on Aug 9, 2016 4:03 AM"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hello,

There was kernel panic on the operating system so the logs will stay there until you stop/start your instance. The volume seems healthy and reboot or stop/start is required when kernel panic occurs. Please stop/start the instance and let us know if you experience issue again.

Regards,
Umair A."

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
It disappeared and works properly now.
Is there anything I have to learn from this disaster?"

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
Hello,

There was an intermittent issue with the volumes that resulted in kernel panic due to hung-task-timeout. Stop/start in this case resolves the problem because the OS must be restarted in case of kernel panic.  Although the issue that happened was very rare but you can deploy the applications on multiple instances for quick failovers in case of any issues.

Regards,
Umair A."

Amazon EC2	"Re: Disaster: All instances get hung, no more SSH: Task blocked for more than 1
After the kernel panic, there followed an administrator panic 
So I'm not truly sure if I did stop and start and not only a reboot. But I did for sure launch new instances with AMIs created while the instances hung. I did also detach and reattach the volumes, also to no avail.
Thanks anyway for your efforts."

Amazon EC2	"VPC Internal IP Security
Hi all,

I'm sure this is a very simple question/answer.  Up until now all my Security Group Firewall security has been based on public IP/port access but with Elasticache I have to consider VPC private IP addresses.

Question:  Are the VPC Internal IP Address ranges (e.g. 172.30.0.0/20) private to the individual AWS account?  i.e. can no-one access these IP addresses even if a Security Group allows open access to them?

Elasticache needs the security group to allow private IPs (rather than public) and I am wondering if its safe to allow all my private 172 ranges in the security group - if they are private and not accessible to any other EC2 account than that's cool (and super easy) but if its not safe then I have to reference every EC2 instance by its internal 172 IP (more, and ongoing, work).

thanks,

Derek"

Amazon EC2	"Re: VPC Internal IP Security
Hello Derek,

You can allow access from private IP address ranges, VPC is a logical network which includes subnets, routetables etc, they are local to your account only. 

Regards,
Umair A."

Amazon EC2	"Can't delete/detach volume
I can't delete volume: vol-59d9de73. In the volumes list its state is 'in-use' although it's not attached to any instance. Delete Volume & Detach Volume actions are greyed out. I can only click Force Detach Volume but I get error: Error detaching volume vol-59d9de73: Volume 'vol-59d9de73'is in the 'available' state.
Please help."

Amazon EC2	"Re: Can't delete/detach volume
Hello,

I have created an outbound case 1834451221 for you. Please provide the output for the requested commands on the case and we can troubleshoot the issue over the case.

Thanks,
Jay"

Amazon EC2	"Re: Can't delete/detach volume
submitted via case

Edited by: shinomeyn on Aug 8, 2016 1:55 PM"

Amazon EC2	"Re: Can't delete/detach volume
Hi,

We will be working with you on the support case. Closing this thread.

Regards,
Umair A."

Amazon EC2	"Volume will not detach and instance will not delete
Hi,

I have a 4TB volume that crashed and will not detach, it's stuck in a error state but says detaching.
The instance that i have it attached to I tried deleting to free up the volume but that instance is now also in a shutting-down state. 
This has been like this for a couple of weeks now and I just need to delete them.
Can anyone tell me how I can do this?

Thanks"

Amazon EC2	"Re: Volume will not detach and instance will not delete
Hello,

Can you post the instance ID (i-xxx...) please and we'll take a look?

Richard"

Amazon EC2	"Re: Volume will not detach and instance will not delete
Hi Richard,

The instance ID is i-99d08715.

Many thanks
Alex"

Amazon EC2	"Re: Volume will not detach and instance will not delete
Hi Alex,

Apologies for the troubles caused.

I have engaged our Service team to check this. We shall get back to you as soon as we get an update.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Volume will not detach and instance will not delete
Hello,

Your instance was stuck in shutting down state due to some issues with EBS volume ""vol-2abf759b "". Instance has been successfully terminated now but unfortunately the volume experienced multiple concurrent failures which resulted in volume being lost and is no longer recoverable. You may restore the volume from previous snapshots if you have any.

We are sorry for the inconvenience caused by this problem.

Regards,
Umair A."

Amazon EC2	"Instance Id i-79c800e6 stuck shutting down
Hello, I've got an instance stuck in shut down (Id i-79c800e6). I want this instance shutdown.  Not responding to shut down or terminate commands from AWS CLI or from EC2 console. In addition to what's below, what information should I provide to better describe my issue? 

Root type: EBS
State transition reason -- Server.InternalError: Internal error on launch"

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Hello,

I'm so sorry about this. We're taking a look and will update you again as soon as we have more info.

Kind regards,
Chris"

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Thank you, Chris. Let me know if there is anything I can do to help you help me."

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Hello, have we had time to look further into this issue?"

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Hello,

Our team continue to work on this, but just to set expectations we do not expect this to be resolved quickly. We'll post back when we have news.

You are not billed for instances in the ""shutting down"" state so this is a cosmetic issue only.

Richard"

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Thank you, Richard. I appreciate your reply and will wait for the news."

Amazon EC2	"Re: Instance Id i-79c800e6 stuck shutting down
Hello,

Your instance was terminated successfully, Instance experienced issues due to some errors and it has been fixed now.

Regards,
Umair A."

Amazon EC2	"EC2 Instance hanged up and cannot stop it force
Hi,

Instance (i-57cfdcf5) on ap-northeast-1 is hanged up, and cannot stop it force.

Please check it."

Amazon EC2	"Re: EC2 Instance hanged up and cannot stop it force
Hello,

The instance i-57cfdcf5 is in stopped state.

Thanks,
Jay"

Amazon EC2	"Re: EC2 Instance hanged up and cannot stop it force
Thank you, I've confirmed it has been stopped.
By the way, what is a reason of the stop?"

Amazon EC2	"Re: EC2 Instance hanged up and cannot stop it force
Usually this is caused by the underlying host of the instance and EBS volumes becoming unresponsive. In these circumstances requires our intervention.

Thank you for working with us.

Regards
Imthian R"

Amazon EC2	"Experiencing packet loss since maintenance
Hi,

I have an instance that was scheduled for routine maintenance approximately 24 hours ago.  Since the maintenance and subsequent reboot, the instance has been experiencing intermittent packet loss.  This applies to inbound connections as well as outbound, and occurs with multiple protocols such as SSH or connections to SES.  I can see the retransmits during a tcpdump, so I'm certain there's packet loss occurring.

Any assistance is appreciated!"

Amazon EC2	"Re: Experiencing packet loss since maintenance
Good day 

I am not sure which specific instance you are referring to, I assume it is i-xxx07f43. Looking at the current state of the underlying host and our network logs and metrics. We cannot identify any issue from our end. Everything is running as expected. 

I do see you have launched a replacement instance +-40 minutes ago i-ce3b5661. I confirm this as well working well from our end. 

Regards
Imthian R"

Amazon EC2	"PHP web app shows blank page
I have developed and uploaded a web application with PHP and JS. The issue is that although the page header and links are showing, rest of the page is blank as if the PHP and JS is not being read. I have tried different things with no luck. 

To test it on a shared hosting account (as opposed to AWS Elasticbeanstalk) the application is working fine.

Any help and guidance would be greatly appreciated as I cannot figure out the issue. Many thanks in advance to all."

Amazon EC2	"SSH best practice
I ran Amazon Inspector (which is awesome, btw), and it told me that my EC2 instance ""is configured to allow users to log in with root credentials over SSH. This increases the likelihood of a successful brute-force attack.""

It recommended that I disable SSH root logins, set PermitRootLogin to ""no"" in /etc/ssh/sshd_config and restart sshd.  Well, I'm already logging in as the user ""ubuntu"" as per the EC2 instructions, and never logging in as root and doing everything in the instance via sudo.

My setting for PermitRootLogin in /etc/ssh/sshd_config is currently: 
PermitRootLogin prohibit-password

If I change this to ""no"", will I still be able to log in as the ""ubuntu"" user?  Will this lock me out?"

Amazon EC2	"Re: SSH best practice
Yes, you will still be able to log in as user 'ubuntu'.

-Brett"

Amazon EC2	"Re: SSH best practice
Thank you!"

Amazon EC2	"DNS problem with my instances. Hostname resolution broken.
Hello. My instance (i-9bd61fdc) is not able to access DNS Resolver 172.16.0.23. When logged into the instance, I can ping 172.16.0.23 but I can't ping hostnames like google.com. As a result, yum updates and email delivery stopped working because DNS resolution is not possible.

I added OpenDNS dns servers (208.67.222.222, 208.67.220.220) to /etc/resolv.conf to fix hostname resolution and email delivery. However, this solution is temporary because when I restart the network service, resolv.conf reverts back to its original configuration. Unfortunately, adding OpenDNS servers did not fix my problem with getting OS updates via yum. 

Can anyone help me? I've already tried rebooting my instances and powering down the instance several times but the issue persists.

Below are my nslookup results:

	Command issued: nslookup www.amazon.com 172.31.0.2

	Results: 
		;; connection timed out; trying next origin
		;; connection timed out; trying next origin
		;; connection timed out; no servers could be reached

	Command issued: nslookup www.amazon.com 8.8.8.8

	Results:
		Server:         8.8.8.8
		Address:        8.8.8.8#53

		Non-authoritative answer:
		Name:   www.amazon.com
		Address: 54.239.25.192

	Command issued: nslookup www.amazon.com 169.254.169.253

	Results:
		nslookup www.amazon.com 169.254.169.253
		;; connection timed out; trying next origin
		;; connection timed out; trying next origin
		;; connection timed out; no servers could be reached

	Command issued: nslookup www.amazon.com 208.67.222.222

	Results:
		Server:         208.67.222.222
		Address:        208.67.222.222#53

		Non-authoritative answer:
		Name:   www.amazon.com
		Address: 54.239.25.208

	Command issued: nslookup www.amazon.com 208.67.220.220

	Results:
		Server:         208.67.220.220
		Address:        208.67.220.220#53

		Non-authoritative answer:
		Name:   www.amazon.com
		Address: 54.239.25.200

Edited by: emdee0829 on May 16, 2016 2:40 PM

Edited by: emdee0829 on May 16, 2016 2:44 PM"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Hello,

Could you please try stop/start of your instance? Make sure you take backup of the attached instance store volumes as they are not persistent storage.

Regards,
Umair A."

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Thanks for the suggestion, Umair. Unfortunately, DNS resolution is still not working after shutting down the vm and powering it back on. I've tried doing this twice already. 

It now appears that I can't ping DNS server 172.168.0.23, which is the server listed in /etc/resolv.conf. I was able to do this previously from the instance. I tried traceroute. Below's the result: 

traceroute 172.16.0.23
traceroute to 172.16.0.23 (172.16.0.23), 30 hops max, 60 byte packets
 1  * * *
 2  * * *
...
29  * * *
30  * * *

But traceroute for google dns works.

traceroute 8.8.8.8
traceroute to 8.8.8.8 (8.8.8.8), 30 hops max, 60 byte packets
 1  10.0.0.0 (10.0.0.0)  0.213 ms  0.215 ms  0.222 ms
 2  10.0.0.0 (10.0.0.0)  0.224 ms  0.243 ms  0.264 ms
 3  * * *
 4  * * *
 5  * * *
 6  * 10.0.0.0 (10.0.0.0)  0.294 ms  0.288 ms
 7  100.64.161.60 (100.64.161.60)  16.877 ms 100.64.174.202 (100.64.174.202)  1.154 ms 100.64.174.144 (100.64.174.144)  2.572 ms
 8  100.64.182.226 (100.64.182.226)  0.621 ms 100.64.180.178 (100.64.180.178)  0.506 ms 100.64.181.0 (100.64.181.0)  0.603 ms
 9  100.64.200.35 (100.64.200.35)  4.487 ms 100.64.200.115 (100.64.200.115)  1.116 ms 100.64.200.17 (100.64.200.17)  1.049 ms
^C

What else can be done to fix my instance's DNS resolution problem?"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Hello,
it seems that the issue is more at network level than at DNS level.
Your instance ID i-9bd61fdc is in EC2Classic mode and has private IP 10.251.135.120, while the DNS you are trying to reach is 172.16.0.23
Where is this DNS located?
As per your tests, the traceroute is failing, because if there is no specific route to the DNS subnet, it tries to use the default gateway that points to the internet and fails (while instead the Google DNS or the public ones are working)

So, we need first to establish network reachability with your DNS first.

Hope this helps,
kind regards
Ale"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Hi Ale. I presume 172.16.0.23 is one of Amazon's DNS servers. 172.16.0.23 was what was listed as the nameserver in my instance's /etc/resolv.conf. I never had to change this until the DNS resolution issues started. I presume 172.16.0.23 was the DNS server that was always configured for the instance.

Btw I checked one of my other Linux instance's /etc/resolv.conf. 172.16.0.23 is also listed as the nameserver. DNS resolution works for that instance, which is also in EC2Classic mode and has a private IP address.

Edited by: emdee0829 on May 18, 2016 10:08 AM"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
I too am having issues with this DNS server. 172.31.0.2
This issue started a few days ago and seems intermittent.

~$ nslookup www.google.com
;; connection timed out; trying next origin
;; connection timed out; no servers could be reached

~$ cat /etc/resolv.conf
nameserver 172.31.0.2
...

~$ traceroute www.google.com
www.google.com: Name or service not known
Cannot handle ""host"" cmdline arg `www.google.com' on position 1 (argc 1)
-
~# vim /etc/resolv.conf
~# nslookup www.google.com
Server: 8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
Name: www.google.com
Address: 172.217.1.196"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Hi Steve,

Have you tried performing a stop/start of your instance? It seems that your instance is in VPC, which is different from the other person as they were running ec2-classic. A stop/start should get you on a different underlying host, which should avoid the issue that you are currently experiencing.

As for both of you, could you provide a dig, like this:

$ dig www.google.com +trace

This should provide output like this:

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.37.rc1.45.amzn1 <<>> www.google.com +trace
;; global options: +cmd
.			518400	IN	NS	L.ROOT-SERVERS.NET.
.			518400	IN	NS	M.ROOT-SERVERS.NET.
.			518400	IN	NS	A.ROOT-SERVERS.NET.
.			518400	IN	NS	B.ROOT-SERVERS.NET.
.			518400	IN	NS	C.ROOT-SERVERS.NET.
.			518400	IN	NS	D.ROOT-SERVERS.NET.
.			518400	IN	NS	E.ROOT-SERVERS.NET.
.			518400	IN	NS	F.ROOT-SERVERS.NET.
.			518400	IN	NS	G.ROOT-SERVERS.NET.
.			518400	IN	NS	H.ROOT-SERVERS.NET.
.			518400	IN	NS	I.ROOT-SERVERS.NET.
.			518400	IN	NS	J.ROOT-SERVERS.NET.
.			518400	IN	NS	K.ROOT-SERVERS.NET.
;; Received 228 bytes from 172.16.0.23#53(172.16.0.23) in 857 ms

com.			172800	IN	NS	f.gtld-servers.net.
com.			172800	IN	NS	c.gtld-servers.net.
com.			172800	IN	NS	k.gtld-servers.net.
com.			172800	IN	NS	a.gtld-servers.net.
com.			172800	IN	NS	j.gtld-servers.net.
com.			172800	IN	NS	m.gtld-servers.net.
com.			172800	IN	NS	d.gtld-servers.net.
com.			172800	IN	NS	g.gtld-servers.net.
com.			172800	IN	NS	l.gtld-servers.net.
com.			172800	IN	NS	b.gtld-servers.net.
com.			172800	IN	NS	h.gtld-servers.net.
com.			172800	IN	NS	i.gtld-servers.net.
com.			172800	IN	NS	e.gtld-servers.net.
;; Received 504 bytes from 192.36.148.17#53(192.36.148.17) in 341 ms

google.com.		172800	IN	NS	ns2.google.com.
google.com.		172800	IN	NS	ns1.google.com.
google.com.		172800	IN	NS	ns3.google.com.
google.com.		172800	IN	NS	ns4.google.com.
;; Received 168 bytes from 192.12.94.30#53(192.12.94.30) in 92 ms

www.google.com.		300	IN	A	172.217.3.228
;; Received 48 bytes from 216.239.38.10#53(216.239.38.10) in 22 ms

I wouldn't expect the 172.16.x.x range to be in your routes as this is a function to help identify that it needs to reach out to amazon DNS in the ec2 classic environment. I see that you're running on an m1 series instance, which I recommend you move away from as that is an older instance type. The newer instance types offer improved performance and features as well as reduced price with increased performance. This may also help sidestep this issue you are experiencing with DNS.

Also, could you try to perform an nping with tcp to the DNS server:
$ sudo nping --tcp -p 53 172.16.0.23"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Tried:
$dig www.google.com +trace

Output was:

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.37.rc1.el6_7.7 <<>> www.google.com +trace
;; global options: +cmd
;; connection timed out; no servers could be reached"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
This happens on many instances, and relaunching did not help.  The instances are not in vpc but also in ec2-classic.
Currently, I am not experiencing any issue so something has changed where that server at 172.16.0.23 is working better now.

~]$ dig www.google.com +trace

; <<>> DiG 9.3.6-P1-RedHat-9.3.6-20.P1.el5_8.6 <<>> www.google.com +trace
;; global options:  printcmd
.                       518400  IN      NS      I.ROOT-SERVERS.NET.
.                       518400  IN      NS      J.ROOT-SERVERS.NET.
.                       518400  IN      NS      K.ROOT-SERVERS.NET.
.                       518400  IN      NS      L.ROOT-SERVERS.NET.
.                       518400  IN      NS      M.ROOT-SERVERS.NET.
.                       518400  IN      NS      A.ROOT-SERVERS.NET.
.                       518400  IN      NS      B.ROOT-SERVERS.NET.
.                       518400  IN      NS      C.ROOT-SERVERS.NET.
.                       518400  IN      NS      D.ROOT-SERVERS.NET.
.                       518400  IN      NS      E.ROOT-SERVERS.NET.
.                       518400  IN      NS      F.ROOT-SERVERS.NET.
.                       518400  IN      NS      G.ROOT-SERVERS.NET.
.                       518400  IN      NS      H.ROOT-SERVERS.NET.
;; Received 228 bytes from 172.16.0.23#53(172.16.0.23) in 38 ms

com.                    172800  IN      NS      f.gtld-servers.net.
com.                    172800  IN      NS      c.gtld-servers.net.
com.                    172800  IN      NS      d.gtld-servers.net.
com.                    172800  IN      NS      a.gtld-servers.net.
com.                    172800  IN      NS      h.gtld-servers.net.
com.                    172800  IN      NS      e.gtld-servers.net.
com.                    172800  IN      NS      k.gtld-servers.net.
com.                    172800  IN      NS      l.gtld-servers.net.
com.                    172800  IN      NS      g.gtld-servers.net.
com.                    172800  IN      NS      b.gtld-servers.net.
com.                    172800  IN      NS      m.gtld-servers.net.
com.                    172800  IN      NS      j.gtld-servers.net.
com.                    172800  IN      NS      i.gtld-servers.net.
;; Received 504 bytes from 192.36.148.17#53(I.ROOT-SERVERS.NET) in 1 ms

google.com.             172800  IN      NS      ns2.google.com.
google.com.             172800  IN      NS      ns1.google.com.
google.com.             172800  IN      NS      ns3.google.com.
google.com.             172800  IN      NS      ns4.google.com.
;; Received 168 bytes from 192.35.51.30#53(f.gtld-servers.net) in 1 ms

www.google.com.         300     IN      A       172.217.1.196
;; Received 48 bytes from 216.239.34.10#53(ns2.google.com) in 17 ms

 ~]$ sudo nping --tcp -p 53 172.16.0.23
sudo: nping: command not found"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Hello,

Could you please check if iptables on your instance are allowing outbound networking traffic to AWS ec2-classic DNS server? It seems like iptables are denying access.

Please run below commands and share the output.

sudo iptables -L
telnet 172.16.0.23 53

Regards,
Umair A."

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
Thanks, Umair. Indeed, I found an entry in iptables that appeared to be blocking a range of addresses that included the DNS server ip address. I removed the entry and now all's well. Thanks so much for your help!"

Amazon EC2	"Re: DNS problem with my instances. Hostname resolution broken.
I have a similar problem with two instances that went for maintenance last week. Since then, they have timed out intermittently but frequently. 
Right now I can not even ping  172.16.0.23 
I can see it in my resolv.conf
root@app03:~# cat /etc/resolv.conf 

Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

nameserver 172.16.0.23
search us-west-2.compute.internal

but my ping is dead:
root@app03:~# ping 172.16.0.23 
PING 172.16.0.23 (172.16.0.23) 56(84) bytes of data.

Any idea? 
I have rebooted the instance, but still see issues."

Amazon EC2	"Problem with an instance after stopping it
Hi,

I have an instance that had received the message that would be retired . By choice I stopped and AWSConsole created a new automatically. After that, I can not access application from browser. SSH does not working. I looked the security groups and are right . I do not know what happened. I had already received this message of retirement in other moment and done the same thing but now it did not work.
I try to ping the instance by public dns and it not responded;

Instance ID: i-da137575
Public DNS: ec2-54-200-22-116.us-west-2.compute.amazonaws.com
Public IP: 54.200.22.116"

Amazon EC2	"Windows EC2 was very laggy, so I rebooted, now cannot connect
Windows Ec2 Instance was very laggy (almost nonresponsive upon connecting to it).  So I stopped/started the server- couldn't connect- then rebooted- still couldn't connect.  I have not changed anything on the AWS management console or having to do with my RDP client.  I am pretty sure this is on Amazon's end.  Any help would be greatly appreciated.  This is urgent because I have a trading system running from the server, please help!!!!!

My instance ID is i-756b98dc"

Amazon EC2	"Re: Windows EC2 was very laggy, so I rebooted, now cannot connect
Hi,

I could see that the instance is now responding on the RDP port. Are you still not able to connect?

I could see that the instance was failing on 'Instance Status Checks' on 07/Aug/2016 and there were a few spikes in CPU utilization. I suggest you to check the OS for any events reported which could cause the spikes in CPU. The Instance status checks can fail because of high memory utilization as well. Would you be able to check up on that as well?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Windows EC2 was very laggy, so I rebooted, now cannot connect
I am still unable to connect.  I'll check this later on if I can figure out how, then get back to you.

I have an older image saved that was working fine.  It is possible something caused too much memory to be used on the current instance.   Do you recommend using the older image instead?

Edited by: darldemon on Aug 8, 2016 8:30 AM"

Amazon EC2	"Re: Windows EC2 was very laggy, so I rebooted, now cannot connect
Hello,

What error do you get when you try to connect to the instance? Can you please provide the error output?

I confirmed that TCP port 3389 (RDP) is being listened to when I tried to connect from my end. You can try using older AMI if you have modified any parameters which would cause this issue.

An application (or an activity) can overburden the machine and can consume high memory usage. You can check system logs [1] for further insight.

Thanks,
Jay

[1] https://technet.microsoft.com/en-us/library/aa996634(v=exchg.65).aspx"

Amazon EC2	"Instance Stuck in Stopping State
AWS - 

My us-east-1b instance ""i-b649f962"" has been stuck in the stopping state for a while now. Can you please stop the instance?

Thank you."

Amazon EC2	"Re: Instance Stuck in Stopping State
Hello,

This instance has been stopped for you.

Regards,
Troy W"

Amazon EC2	"Java can't open port 53
I have a Tomcat application that's deployed with Elastic Beanstalk (no load balancer, just single instance) that works great. My app now needs to provide very minimal DNS services, and so must service these on UDP port 53. I've opened 53 on the firewall of my EC2 instance.

When the app tries to to open a socket on port 53 it gets a Permission Denied error because it's below 1024.

I'm trying to figure out how to solve the problem on my configuration that will also survive reboots of the instance. I've seen that the ways people suggest are either by using authbind (which apparently is not available on EC2) or playing around with iptables.

I'm really not a Linux guy, so I don't understand exactly what needs to be done. If I try to use iptables I get an error:

 can't initialize iptables table `filter': Table does not exist (do you need to insmod?)

What exactly needs to be done for me to use port 53. And why don't I need to do this for port 80 which works great?"

Amazon EC2	"Customized recurring Autoscaling and/or AutoScale Policy question
Hi all,
Wondering if anyone could direct me down the right path for this.  Here is what we are trying to do and either situation would suffice.

We have some transient processing worker nodes that we would like to bring up everyday for a couple of hours and then shut themselves down and terminate their instances.  When I do a Scheduled action on the auto scale it basically deletes the auto scale task job whenever I put a end time on it whether recurring or not or if I don't, then we have to manually go in and adjust to scale back down.  Is there a way to have this done on a nightly basis at the same time without having to create multiple jobs each time and not have the job disappear?

The second question is whether we can setup a combination auto scaling policy and base it off a Cloud Watch alarm that goes in and parses out a log file looking for a completion string and then it would scale down on the transient nodes and terminate them.  We would also like to take it a step further and translate the job out to reading a specific error within a log file and then performing a action based on this error appearing in the log along with notifications.

Thank you in advance for your assistance"

Amazon EC2	"Communication between EC2 and company network
Hello,

I am attempting to establish connectivity between my EC2 instance and my local network (particularly my company DMZ).

I have allowed the specific network traffic in the security group for this EC2 instance.

I have created a rule in the company firewall to allow the EC2 public IP access to my company DMZ. I also allowed outgoing from my network to EC2.

I can ping the EC2 instance from the DMZ, but not from EC2 to DMZ. When I ping the DMZ or even the public IP of the company network (from the EC2 instance) there is no response.

I have even tried creating a rule in the security group to ""Allow All"" inbound and outbound traffic and still cannot resolve.

I appreciate any guidance that anyone can offer. Thanks in advance.

Joe"

Amazon EC2	"server-status PAGE and x-forwarded-for IP Addresses with ELB
Does anyone know a way to get the http://ip_address/server-status page to show the x-forwarded-for IP address from the ELB?  I have scoured the internet and all I can ever find is a way to get x-forwarded-for to show up in log files.  But I've already had that working - don't need that.

What I need is for my /server-status HTML page to show the x-forwarded-for IP address.  I'm trying to track down some server issues and it would immensely helpful if I could look at the server-status page and see if a lot of traffic is coming from one source.  This is impossible to do when the only IP's I see are from the ELB.

Thank you in advance for any help with this matter!!  Thanks!"

Amazon EC2	"Google.Protobuf.InvalidProtocolBufferException on EC2
I have debugged my web project i building on my computer without any problems but now when i deploying it to Amazon EC2 and login, I kept getting this:

Google.Protobuf.InvalidProtocolBufferException: SkipLastField called on an end-group tag, indicating that the corresponding start-group was missing
   at Google.Protobuf.CodedInputStream.SkipLastField()
   at POGOProtos.Networking.Envelopes.ResponseEnvelope.MergeFrom(CodedInputStream input)
   at PokemonGo.RocketAPI.Extensions.HttpClientExtensions.

Is AWS blocking some sort of authentication port outbound?  I ran the same problem on my PC, inside a VM running on my PC, both worked fine.  But once I wanted to run  the same thing inside EC2 windows server...it threw the above error...pls advise."

Amazon EC2	"Re: Google.Protobuf.InvalidProtocolBufferException on EC2
Hello,

Can you please post your instance ID so we can inspect the Security Group and ACLs?"

Amazon EC2	"Re: Google.Protobuf.InvalidProtocolBufferException on EC2
HI Troy - thanks for your help.
My instance ID is i-ec606162

MK."

Amazon EC2	"Re: Google.Protobuf.InvalidProtocolBufferException on EC2
Hi,

I checked the security groups and NACLs associated with your instance. The outbound access is open to all ports from your instance. 

AWS does not block any outbound ports as well. You might need to check this at the destination for knowing why you are being blocked.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Google.Protobuf.InvalidProtocolBufferException on EC2
I ran the same program on my PC and everything worked fine.  There is nothing blocked at my destination."

Amazon EC2	"What happened to EC2 i-6876c0a9 at 10h10, Aug 8th
Could a AWS bod please take a look at this instance to see if they're able to identify why it stated to fail it's status checks at 10h10?"

Amazon EC2	"Re: What happened to EC2 i-6876c0a9 at 10h10, Aug 8th
Hi,

Apologies for the inconvenience caused.

I could see that the underlying hardware on which the instance was running was having some troubles. However, since you have stopped and started the instance, it moved to a new hardware. The instance is now running fine on a healthy underlying hardware.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: What happened to EC2 i-6876c0a9 at 10h10, Aug 8th
Thank you for checking.

Stuart"

Amazon EC2	"My new instance does no appear in the Elastic IP list so cant allocate e-ip
It has been about 5 hours since I created an EC-2 Instance and I still dont see it in the list for Elastic IP.    I created a Micro instance for testing and wanted an Elastic IP address so I can make changes on the site as I go without having to make DNS changes. 

I clicked on an IP address under Elastic IP and chose it then chose allocate.   My other servers are listed but not this new one.     Does this require a certain amount of time before it will show up on the list? 

Regards,
Tom"

Amazon EC2	"Re: My new instance does no appear in the Elastic IP list so cant allocate e-ip
Hi,

Can you provide us with the Instance ID?

I could see that you have 5 EIPs allocated to your account on us-east-1 region. Are you trying to reassign an existing EIP to the new instance? If not have you allocated a new EIP?

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 Instance reachability check failed
Hi,

EC2 Instance reachability check failed in one of our instance with ID i-0852768d at August 7, 2016 at 5:26:00 PM UTC+5:30

We need to understand why it got failed suddenly. Even after rebooting the instance ,instance reachability check was failing. Please find the system logs after rebooting the vm:

Ubuntu 14.04.3 LTS ip-10-0-0-41 ttyS0

ip-10-0-0-41 login: Sun Aug  7 15:53:56 UTC 2016: shutting down for reboot up 15335934s.
wait-for-state stop/waiting
 * 
 * Stopping landscape-client daemon       [80G 
[74G[[31mfail39;49m
 * Stopping Postfix Mail Transport Agent postfix       [80G 
[74G OK 
 * Stopping rsync daemon rsync       [80G 
[74G OK 
 * Stopping open-vm guest daemon vmtoolsd       [80G 
[74G OK 
 * Asking all remaining processes to terminate...       [80G 
[74G OK 
 * All processes ended within 1 seconds...       [80G 
[74G OK 
 * Deactivating swap...       [80G 
[74G OK 
 * Stopping early crypto disks...       [80G 
[74G OK 
 * Will now restart
http://15335940.440081 reboot: Restarting system
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-74-generic (buildd@lcy01-07) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #118-Ubuntu SMP Thu Dec 17 22:52:10 UTC 2015 (Ubuntu 3.13.0-74.118-generic 3.13.11-ckt30)
http://    0.000000 Command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-74-generic root=UUID=0a76513a-37fc-43df-9833-34f8f9598ada ro console=tty1 console=ttyS0
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x00000000efffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000100000000-0x000000010fffffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x110000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
http://    0.000000 found SMP MP-table at mem 0x000fbe00-0x000fbe0f mapped at ffff8800000fbe00
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x10fe00000-0x10fffffff
http://    0.000000 init_memory_mapping: mem 0x10c000000-0x10fdfffff
http://    0.000000 init_memory_mapping: mem 0x100000000-0x10bffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0xefffffff
http://    0.000000 RAMDISK: mem 0x37210000-0x378fffff
http://    0.000000 ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f5a0 000054 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 000040
http://    0.000000 ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f4b0 000038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f4f0 000028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f520 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f560 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000010fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x10fffffff
http://    0.000000   NODE_DATA mem 0x10fff8000-0x10fffcfff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   mem 0x100000000-0x10fffffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0xefffffff
http://    0.000000   node   0: mem 0x100000000-0x10fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x02 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 13 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x0009e000-0x0009ffff
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000dffff
http://    0.000000 PM: Registered nosave memory: mem 0x000e0000-0x000fffff
http://    0.000000 PM: Registered nosave memory: mem 0xf0000000-0xfbffffff
http://    0.000000 PM: Registered nosave memory: mem 0xfc000000-0xffffffff
http://    0.000000 e820: mem 0xf0000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff88010fc00000 s81536 r8192 d20864 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 1032072
http://    0.000000 Policy zone: Normal
http://    0.000000 Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-74-generic root=UUID=0a76513a-37fc-43df-9833-34f8f9598ada ro console=tty1 console=ttyS0
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 Checking aperture...
http://    0.000000 No AGP bridge found
http://    0.000000 Memory: 4036940K/4193908K available (7399K kernel code, 1146K rwdata, 3416K rodata, 1336K init, 1448K bss, 156968K reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	RCU dyntick-idle grace-period acceleration is enabled.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
http://    0.000000 	Offload RCU callbacks from all CPUs
http://    0.000000 	Offload RCU callbacks from CPUs: 0-14.
http://    0.000000 NR_IRQS:16640 nr_irqs:1208 16
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console tty1 enabled
http://    0.000000 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 16777216 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2500.100 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.20 BogoMIPS (lpj=10000400)
http://    0.012005 pid_max: default: 32768 minimum: 301
http://    0.014994 Security Framework initialized
http://    0.016027 AppArmor: AppArmor initialized
http://    0.020003 Yama: becoming mindful.
http://    0.022628 Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://    0.028459 Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
http://    0.032386 Mount-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.036008 Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.040189 Initializing cgroup subsys memory
http://    0.044010 Initializing cgroup subsys devices
http://    0.046949 Initializing cgroup subsys freezer
http://    0.048003 Initializing cgroup subsys blkio
http://    0.052003 Initializing cgroup subsys perf_event
http://    0.056004 Initializing cgroup subsys hugetlb
http://    0.058923 CPU: Physical Processor ID: 0
http://    0.060004 CPU: Processor Core ID: 0
http://    0.064734 mce: CPU supports 2 MCE banks
http://    0.067395 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.067395 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.067395 tlb_flushall_shift: 6
http://    0.076254 Freeing SMP alternatives memory: 32K (ffffffff81e6e000 - ffffffff81e76000)
http://    0.084493 ACPI: Core revision 20131115
http://    0.090474 ACPI: All ACPI Tables successfully acquired
http://    0.092826 ftrace: allocating 28598 entries in 112 pages
http://    0.125449 Switched APIC routing to physical flat.
http://    0.132339 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.176298 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.183039 installing Xen timer for CPU 0
http://    0.184075 cpu 0 spinlock event irq 69
http://    0.192065 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.197653 NMI watchdog: disabled (cpu0): hardware events not enabled
http://    0.200062 installing Xen timer for CPU 1
http://    0.203091 x86: Booting SMP configuration:
http://    0.204006 .... node  #0, CPUs:        #1cpu 1 spinlock event irq 75
http://    0.222167 x86: Booted up 1 node, 2 CPUs
http://    0.224005 smpboot: Total of 2 processors activated (10000.40 BogoMIPS)
http://    0.228528 devtmpfs: initialized
http://    0.230006 EVM: security.selinux
http://    0.232005 EVM: security.SMACK64
http://    0.234499 EVM: security.ima
http://    0.240004 EVM: security.capability
http://    0.242823 pinctrl core: initialized pinctrl subsystem
http://    0.244070 regulator-dummy: no parameters
http://    0.247081 RTC time: 15:48:41, date: 08/07/16
http://    0.252054 NET: Registered protocol family 16
http://    0.256057 cpuidle: using governor ladder
http://    0.260007 cpuidle: using governor menu
http://    0.262913 ACPI: bus type PCI registered
http://    0.264006 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.268324 PCI: Using configuration type 1 for base access
http://    0.272622 bio: create slab <bio-0> at 0
http://    0.276090 ACPI: Added _OSI(Module Device)
http://    0.276090 ACPI: Added _OSI(Processor Device)
http://    0.279241 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.284005 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.292553 ACPI: Interpreter enabled
http://    0.296007 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20131115/hwxface-580)
http://    0.305966 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20131115/hwxface-580)
http://    0.312019 ACPI: (supports S0 S3 S4 S5)
http://    0.315948 ACPI: Using IOAPIC for interrupt routing
http://    0.320047 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.347954 ACPI: No dock devices found.
http://    0.390843 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.392013 acpi PNP0A03:00: _OSC: OS supports ASPM ClockPM Segments MSI
http://    0.396014 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.400083 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.404765 acpiphp: Slot [0] registered
http://    0.408485 acpiphp: Slot [3] registered
http://    0.411690 acpiphp: Slot [4] registered
http://    0.412316 acpiphp: Slot [5] registered
http://    0.415589 acpiphp: Slot [6] registered
http://    0.416316 acpiphp: Slot [7] registered
http://    0.419525 acpiphp: Slot [8] registered
http://    0.420325 acpiphp: Slot [9] registered
http://    0.423511 acpiphp: Slot 10 registered
http://    0.424314 acpiphp: Slot 11 registered
http://    0.427541 acpiphp: Slot 12 registered
http://    0.428331 acpiphp: Slot 13 registered
http://    0.431527 acpiphp: Slot 14 registered
http://    0.432326 acpiphp: Slot 15 registered
http://    0.435585 acpiphp: Slot 16 registered
http://    0.436326 acpiphp: Slot 17 registered
http://    0.439547 acpiphp: Slot 18 registered
http://    0.440286 acpiphp: Slot 19 registered
http://    0.443499 acpiphp: Slot 20 registered
http://    0.444311 acpiphp: Slot 21 registered
http://    0.447627 acpiphp: Slot 22 registered
http://    0.448314 acpiphp: Slot 23 registered
http://    0.451555 acpiphp: Slot 24 registered
http://    0.452321 acpiphp: Slot 25 registered
http://    0.455537 acpiphp: Slot 26 registered
http://    0.456314 acpiphp: Slot 27 registered
http://    0.459538 acpiphp: Slot 28 registered
http://    0.460322 acpiphp: Slot 29 registered
http://    0.463571 acpiphp: Slot 30 registered
http://    0.464363 acpiphp: Slot 31 registered
http://    0.467617 PCI host bridge to bus 0000:00
http://    0.468009 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.471715 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.472017 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.476000 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.476008 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.486521 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.486521 * this clock source is slow. Consider trying other clock sources
http://    0.489306 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.498592 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.503230 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.507300 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.511236 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.532323 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.536134 xen:balloon: Initialising balloon driver
http://    0.544030 xen_balloon: Initialising balloon driver
http://    0.548040 init_memory_mapping: mem 0x110000000-0x117ffffff
http://    0.548101 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.548102 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.548103 vgaarb: loaded
http://    0.548104 vgaarb: bridge control possible 0000:00:02.0
http://    0.548256 SCSI subsystem initialized
http://    0.568041 ACPI: bus type USB registered
http://    0.572026 usbcore: registered new interface driver usbfs
http://    0.575773 usbcore: registered new interface driver hub
http://    0.576016 usbcore: registered new device driver usb
http://    0.579516 PCI: Using ACPI for IRQ routing
http://    0.580492 NetLabel: Initializing
http://    0.583049 NetLabel:  domain hash size = 128
http://    0.588004 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.591426 NetLabel:  unlabeled traffic allowed by default
http://    0.592046 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.600020 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.604871 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.612051 Switched to clocksource xen
http://    0.619059 AppArmor: AppArmor Filesystem Enabled
http://    0.622499 pnp: PnP ACPI init
http://    0.624929 ACPI: bus type PNP registered
http://    0.627949 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.632635 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.636676 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.640699 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.644882 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.648892 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.670169 pnp: PnP ACPI: found 11 devices
http://    0.673175 ACPI: bus type PNP unregistered
http://    0.683485 NET: Registered protocol family 2
http://    0.686952 TCP established hash table entries: 32768 (order: 6, 262144 bytes)
http://    0.692061 TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
http://    0.696478 TCP: Hash tables configured (established 32768 bind 32768)
http://    0.700863 TCP: reno registered
http://    0.703387 UDP hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.707435 UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.711774 NET: Registered protocol family 1
http://    0.714938 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.718996 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.722903 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.727196 Trying to unpack rootfs image as initramfs...
http://    0.830801 Freeing initrd memory: 7104K (ffff880037210000 - ffff880037900000)
http://    0.835890 PCI-DMA: Using software bounce buffering for IO (SWIOTLB)
http://    0.840260 software IO TLB mem 0xec000000-0xf0000000 (64MB) mapped at ffff8800ec000000-ffff8800efffffff
http://    0.846866 microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x416
http://    0.850827 microcode: CPU1 sig=0x306e4, pf=0x1, revision=0x416
http://    0.855026 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://    0.860849 Scanning for low memory corruption every 60 seconds
http://    0.865128 Initialise system trusted keyring
http://    0.868296 audit: initializing netlink socket (disabled)
http://    0.871918 type=2000 audit(1470584922.015:1): initialized
http://    0.897687 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.902801 zbud: loaded
http://    0.905131 VFS: Disk quotas dquot_6.5.2
http://    0.907957 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.912655 fuse init (API version 7.22)
http://    0.915616 msgmni has been set to 7898
http://    0.918506 Key type big_key registered
http://    0.921962 Key type asymmetric registered
http://    0.924885 Asymmetric key parser 'x509' registered
http://    0.928258 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://    0.933367 io scheduler noop registered
http://    0.936391 io scheduler deadline registered (default)
http://    0.940044 io scheduler cfq registered
http://    0.942881 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.946577 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://    0.950967 ipmi message handler version 39.2
http://    0.954124 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
http://    0.959278 ACPI: Power Button PWRF
http://    0.962012 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
http://    0.967104 ACPI: Sleep Button SLPF
http://    0.969967 GHES: HEST is not enabled!
http://    0.973224 xen:grant_table: Grant tables using version 1 layout
http://    0.977497 Grant table initialized
http://    0.980333 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.984234 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://    1.015716 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    1.022596 Linux agpgart interface v0.103
http://    1.026843 brd: module loaded
http://    1.029881 loop: module loaded
http://    1.088560 scsi0 : ata_piix
http://    1.092064 scsi1 : ata_piix
http://    1.095368 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    1.101678 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    1.109109 libphy: Fixed MDIO Bus: probed
http://    1.113394 tun: Universal TUN/TAP device driver, 1.6
http://    1.118926 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://    1.124841 PPP generic driver version 2.4.2
http://    1.124919 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.135071 xen_netfront: Initialising Xen virtual ethernet driver
http://    1.140355  xvda: xvda1
http://    1.140382 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://    1.140385 ehci-pci: EHCI PCI platform driver
http://    1.140394 ehci-platform: EHCI generic platform driver
http://    1.140400 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://    1.140401 ohci-pci: OHCI PCI platform driver
http://    1.140405 ohci-platform: OHCI generic platform driver
http://    1.140412 uhci_hcd: USB Universal Host Controller Interface driver
http://    1.140461 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    1.175580 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    1.175946 blkfront: xvdf: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.180596  xvdf: unknown partition table
http://    1.180785 Setting capacity to 83886080
http://    1.180788 xvdf: detected capacity change from 0 to 42949672960
http://    1.198992 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    1.203392 mousedev: PS/2 mouse device common for all mice
http://    1.208047 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
http://    1.212210 rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
http://    1.212269 rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
http://    1.212328 device-mapper: uevent: version 1.0.3
http://    1.212379 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://    1.212390 ledtrig-cpu: registered to indicate activity on CPUs
http://    1.212471 TCP: cubic registered
http://    1.212543 NET: Registered protocol family 10
http://    1.212737 NET: Registered protocol family 17
http://    1.212745 Key type dns_resolver registered
http://    1.212881 Loading compiled-in X.509 certificates
http://    1.213578 Loaded X.509 cert 'Magrathea: Glacier signing key: 148a253ccef5e29b7f508a4cfe5dc10e721c821c'
http://    1.213587 registered taskstats version 1
http://    1.228649 Key type trusted registered
http://    1.260724 Key type encrypted registered
http://    1.260727 AppArmor: AppArmor sha1 policy hashing enabled
http://    1.260728 IMA: No TPM chip found, activating TPM-bypass!
http://    1.261129 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.261131 regulator-dummy: disabling
http://    1.261162   Magic number: 12:914:840
http://    1.287231 hpet1: lost 3 rtc interrupts
http://    1.290093 rtc_cmos 00:04: setting system clock to 2016-08-07 15:48:42 UTC (1470584922)
http://    1.296544 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://    1.300620 EDD information not available.
http://    1.305109 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://    1.310543 Write protecting the kernel read-only data: 12288k
http://    1.314772 Freeing unused kernel memory: 780K (ffff88000173d000 - ffff880001800000)
http://    1.321504 Freeing unused kernel memory: 680K (ffff880001b56000 - ffff880001c00000)
Loading, please wait...
http://    1.338552 systemd-udevd132: starting version 204
http://    1.386370 FDC 0 is a S82078B
http://    1.844178 tsc: Refined TSC clocksource calibration: 2499.999 MHz
http://    2.404355 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
Begin: Loading essential drivers ... done.

Begin: Running /scripts/init-premount ... done.

Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.

Begin: Running /scripts/local-premount ... done.

http://    2.942562 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.

done.

Begin: Running /scripts/init-bottom ... done.

http://    3.093310 random: init urandom read with 94 bits of entropy available
 * Stopping Send an event to indicate plymouth is up[74G OK 

 * Starting Mount filesystems on boot[74G OK 

 * Starting Populate /dev filesystem[74G OK 

 * Starting Populate and link to /run filesystem[74G OK 

 * Stopping Populate /dev filesystem[74G OK 

 * Stopping Populate and link to /run filesystem[74G OK 

 * Stopping Track if upstart is running in a container[74G OK 

http://    3.227025 EXT4-fs (xvda1): re-mounted. Opts: discard
 * Starting Signal sysvinit that the rootfs is mounted[74G OK 

 * Starting Clean /tmp directory[74G OK 

http://    3.280535 EXT4-fs (xvdf): mounted filesystem with ordered data mode. Opts: (null)
 * Stopping Read required files in advance (for other mountpoints)[74G OK 

 * Stopping Clean /tmp directory[74G OK 

http://    3.330364 random: nonblocking pool is initialized
Cloud-init v. 0.7.5 running 'init-local' at Sun, 07 Aug 2016 15:48:44 +0000. Up 3.67 seconds.

cloud-init-nonethttp://3.88: waiting 10 seconds for network device

 * Starting Initialize or finalize resolvconf[74G OK 

 * Starting set console keymap[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Bridge udev events into upstart[74G OK 

 * Starting device node and kernel event manager[74G OK 

 * Starting Signal sysvinit that remote filesystems are mounted[74G OK 

 * Starting cold plug devices[74G OK 

 * Starting log initial device creation[74G OK 

 * Stopping set console keymap[74G OK 

 * Starting Uncomplicated firewall[74G OK 

 * Starting configure network device security[74G OK 

 * Starting configure network device security[74G OK 

 * Starting Mount network filesystems[74G OK 

 * Stopping Mount network filesystems[74G OK 

 * Starting configure network device[74G OK 

 * Starting Bridge socket events into upstart[74G OK 

 * Stopping cold plug devices[74G OK 

 * Stopping log initial device creation[74G OK 

 * Starting enable remaining boot-time encrypted block devices[74G OK 

cloud-init-nonethttp://13.88: waiting 120 seconds for network device

cloud-init-nonethttp://133.88: gave up waiting for a network device.

Cloud-init v. 0.7.5 running 'init' at Sun, 07 Aug 2016 15:50:55 +0000. Up 134.03 seconds.

ci-info: +++++++++++++++++++++++Net device info+++++++++++++++++++++++

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: | Device |  Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: |   lo   | True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | True |     .     |     .     | 0a:f4:79:1f:5c:6f |

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2016-08-07 15:50:55,405 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:50:56,413 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:50:57,416 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:50:58,418 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:50:59,421 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:00,424 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:02,438 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:04,442 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:06,446 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:08,450 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:10,453 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:13,458 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:16,463 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:19,467 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:22,472 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:25,477 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-07 15:51:29,483 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Hence we have stopped and started the vm and after that instance reachability check got passed. It would be a great help if anyone can suggest how to avoid this scenario in future."

Amazon EC2	"Instance reachability failures
Hello,

We are having frequent instance reachability failures with the following instance:

i-f1cbb47d / eu-west-1b

We would like to know if we can take any action to prevent this failures as we have several instances running and this is the only that suffers these issues.

Any help will be appreciated.

Than you."

Amazon EC2	"Re: Instance reachability failures
Hi,

I can see that the instance - i-f1cbb47d failed health checks on 2016-08-07 20:28 UTC because of some issues at the hardware level. It seems you have done a stop and start and the instance has migrated to a different underlying hardware. 

The instance failed on Instance Status Check on 2016-08-08 03:38 UTC. As you probably know, Instance Status checks shows the issues at the OS level. So, you need to check your OS logs for any issues like spike in memory, network activity etc.

Instance Status Checks: https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_Instance~2016-08-07T10%3A33%3A56Z~2016-08-08T10%3A33%3A56Z~Average~300~InstanceId~i-f1cbb47d

System Status Checks: https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_System~2016-08-07T10%3A33%3A56Z~2016-08-08T10%3A33%3A56Z~Average~300~InstanceId~i-f1cbb47d

Regards,
Jayakrishnan L"

Amazon EC2	"Cannot access port 25 or receive email
Hello,

I am working with an EC2 instance to setup a mail server. I'm not able to connect or receive emails from outside the localhost. I can

from localhost
telnet mail.tp2engineering.com 25 - works
telnet mail.tp2engineering.com 587 - works

from my home IP
does not work

I have the security groups setup. I have also done the online form to allow my instance and elastic IP to be able to send email. I have double-checked my /etc/postfix/main.cf to verify inet_interfaces = all. I can send emails from the localhost to external users and I can send/receive emails internally. I cannot receive emails from external users. Any ideas?

Edited by: gte861s on Aug 6, 2016 4:57 PM"

Amazon EC2	"Re: Cannot access port 25 or receive email
$ host -t mx tp2engineering.com
tp2engineering.com mail is handled by 10 mail.tp2engineering.com.
 
$ telnet mail.tp2engineering.com 25
Trying 52.36.208.29...
^C
$ telnet mail.tp2engineering.com 587
Trying 52.36.208.29...
^C
$ telnet mail.tp2engineering.com 143
Trying 52.36.208.29...


Edited by: gte861s on Aug 6, 2016 7:10 PM"

Amazon EC2	"Re: Cannot access port 25 or receive email
Have you checked your VPC Network ACLs and security groups?"

Amazon EC2	"Re: Cannot access port 25 or receive email
Hello,

Please could you provide us with the instance ID in question so that we can investigate it?

Regards,

Matt W."

Amazon EC2	"Re: Cannot access port 25 or receive email
Thanks for asking. I did figure it out on my own last night. The Security group I created for opening the ports was bound to an older VPC Default Security Group therefore none of my changes were applied to the EC2 instance in question."

Amazon EC2	"SSL Certificates, Nginx, and AWS Certificate Manager question
I have a website running on an EC2 instance being served by Nginx with a Let's Encrypt certificate and it runs fine.  I want to secure my CloudFront URLs and am thinking of setting up an AWS Certificate with the AWS Certificate Manager.  My question is this:

Is it considered insecure or bad form to have two SSL certs (albeit for the same domain name) - one on my Nginx server (the Let's Encrypt cert) in my EC2 instance and the other on Cloudfront that was created by the AWS Certificate Manager?  Both for the same domain name.

In other words, when someone loads a page served up by my Nginx server with HTTPS they will get the Let's Encrypt cert for those requests, but then for the images off Cloudfront they will get the AWS SSL Cert.  Is this bad?  I'm guessing it is fine since they are both SSL Certs for my main domain (only ONE domain, not multiple ones), and they are both SSL / HTTPS connections.

Is this correct or am I missing something here?
Thanks."

Amazon EC2	"Re: SSL Certificates, Nginx, and AWS Certificate Manager question
Hello!

This shouldn't be an issue as both Certificate Authorities will be trusted by the end users' browser.  Please let us know if you have any issues with implementing this!

Regards,

Matt W."

Amazon EC2	"Re: SSL Certificates, Nginx, and AWS Certificate Manager question
Okay, great, thanks!"

Amazon EC2	"No longer can Remote Desktop because I accidentally reset Firewall to Defau
During the course of troubleshooting I think I clicked on Reset to Defaults in the Windows Firewall application.  Now I can’t Remote Desktop in.  I don’t have Premium Support so they can set my Firewall settings to allow Remote Desktop.  Is the only way to solve this is to recreate my Windows instance?"

Amazon EC2	"Re: No longer can Remote Desktop because I accidentally reset Firewall to Defau
Hello,

I would recommend reviewing the steps outlined in the following thread:

https://forums.aws.amazon.com/message.jspa?messageID=163161

This method requires you to start another instance, stop the locked instance and detach the root volume from it, attach it as an additional volume / drive on the new instance, editing the registry/hive on the volume from the locked instance, then detaching/attaching the volume back as the root on the locked instance.

Regards,
JBrown"

Amazon EC2	"Re: No longer can Remote Desktop because I accidentally reset Firewall to Defau
Hey JBrown,

I followed those steps and it worked but the instance resets the firewall settings every 2 days.
How can I stop that?

Thank You!"

Amazon EC2	"Accidental RDP lockout
Hey,

While disabling Windows firewall on our EC2 instances, one of our devs accidentaly removed the RDP allowance rule before trying to disable the firewall on one instance (i-4a9c1a00). Naturally this meant we got locked out from RDP'ing to our instance. We've tried PowerShell to connect to it, but PS is set to only allow local subnet connections.

Any ideas how we could connect to our instance and still disable Windows firewall? Any help is appreciated."

Amazon EC2	"Re: Accidental RDP lockout
Hello,
you can try to launch another temporary instance in the same VPC or subnet and issue the PowerShell commands from there.
If that does not work, please open a case with our tech support and we will guide you through the steps for re-gain access to the instance.

Kind Regards
Ale"

Amazon EC2	"Re: Accidental RDP lockout
Hey Alessandro,

Thank you for the suggestion. I've tried relaunching copies of both instances in a VPC so that they were in the same VPC and subnet, however the powershell commands still wouldn't go through.

I've looked into our account and we only have a basic support plan so unfortunately we can't make a tech support. Do you have any other ideas we might try?

Kind Regards,
Johann"

Amazon EC2	"Re: Accidental RDP lockout
Hi Johann,

If you still have the second (troubleshooting) instance up and running, can you try the following?;

1. Attach your original instance's root volume to the second instance at /xvdf or another non-boot mount point
2. RDP into your second instance and ensure the original's disk is online through diskmgmt.msc
3. Download the tool below which will allow you to interactively disable Windows Firewall on your original's disk
3.1 Alternatively, you can load the registry hive for the original disk and turn off Windows Firewall through these path (Public if in workgroup, else Domain Profile)
4. After making the changes to Firewall, bring the original disk offline
5. Re-attach your original disk back to /dev/sda1 and start your original instance again
6. Firewall should now be turned off and you should be able to RDP back in

HKLM\LoadedHive\CurrentControlSet\Services\SharedAccess\Parameters\FirewallPolicy\

http://ec2-downloads-windows.s3.amazonaws.com/AWSDiagnostics/EC2Savior.zip"

Amazon EC2	"Re: Accidental RDP lockout
Thank you, that worked perfectly!"

Amazon EC2	"Re: Accidental RDP lockout
Hey I followed the steps here and it worked but every 2 days the firewall options are reset to default which is 1."

Amazon EC2	"Re: Accidental RDP lockout
Hey Injae,

My Windows Instance Resets firewall settings to default every 2 days.
How do I fix this?

Thank You!"

Amazon EC2	"Unable to import OVA image through API
Ho Guys,
i try to import an image through your new released api method ""importImage"" but unfortunately i get the following error message:

The service role <vmimport> does not exist or does not have sufficient permissions for the service to continue

The request: (Key has administrator rights)
https://gist.github.com/swieczorek/6c81354173cbbd781f44

Can you please let me know what i am doing wrong?

Thanks a lot 

Best regards from Berlin,
Stefan Wieczorek"

Amazon EC2	"Re: Unable to import OVA image through API
Bump for the same error I am having."

Amazon EC2	"Re: Unable to import OVA image through API
1. You need to create a role in IAM called vmimport.
2. You need to create a trust relationship, allowing service vmie.amazonaws.com rights to assume the role.
3. You need to create and attach a policy to the role giving read access to the S3 bucket containing the image, and sufficient access to EC2 (ModifySnapshotAttribute, CopySnapshot, RegisterImage, Describe).

Full instructions are on this page under ""VM Import Service Role""
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-iam-permissions

Regards
Thane Brooker
8Networks"

Amazon EC2	"Re: Unable to import OVA image through API
I'll just chip in here as I was having problems myself. 

At the moment the documentation has some typos in it. The IAM Permissions for the user is using “ instead of "" for the lower part of the example. 

I'm guessing someone at AWS copied and pasted this from a Word document after the update to the ImportImages CLI in the last week, but if you copy and paste as-is it'll give you a policy error. Annoying!"

Amazon EC2	"Re: Unable to import OVA image through API
I am also trying to import OVA image. And in the process, I tried creating a role vmimport using the following cmd:

$ aws iam create-role --role-name vmimport --assume-role-policy-document file://trust-policy.json

And it is returning an error: 

A client error (AccessDenied) occurred when calling the CreateRole operation: User: arn:aws:iam::113705370826:user/rmirukula is not authorized to perform: iam:CreateRole on resource: arn:aws:iam::113705370826:role/vmimport

Just to let you know I have generated the credentials for my user name on aws website and then initialized the ~/.aws/credentials file with that.

Any inputs would be greatly appreciated."

Amazon EC2	"Re: Unable to import OVA image through API
I had this same problem. You need to setup the VM Import Service role, as specified here: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-service-role"

Amazon EC2	"Re: Unable to import OVA image through API
Rajesh, I had the same problem as well and I solved it by adding this policy to the user (in your case rmirukula)

YOURID would be 113705370826

{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""WHATEVER_STATEMENT_ID"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""iam:CreateRole"",
                ""iam:PutRolePolicy""
            ],
            ""Resource"": [
                ""arn:aws:iam::YOURID:role/vmimport""
            ]
        }
    ]
}"

Amazon EC2	"Re: Unable to import OVA image through API
I was having difficulty importing a VM and followed the suggestions on this thread as best I could (I'm new to using AWS at this level).
Maybe this is obvious to some of you but attaching the ""VMImportExportRoleForAWSConnector"" policy to the vmimport role allowed me to submit a request to have my VM imported; this is basically the last of the 170+ policies.
I also had ""AmazonS3FullAccess"" and  ""AmazonS3ReadOnlyAccess"" enabled (likely excessively open and redundant; as soon as my VMs are is imported I'll restrict the permissions back) and ""vmie.amazonaws.com"" as a Trusted Entity / Enities.

The error / message:
""A client error (InvalidParameter) occurred when calling the ImportImage operation: The service role <vmimport> does not exist or does not have sufficient permissions for the service to continue""

from $aws ec2 import-image --cli-input-json ....
was replaced by the output:
""
{
    ""Status"": ""active"", 
    ""Description"": ""ComGen1"", 
    ""Progress"": ""2"", 
    ""SnapshotDetails"": [
        {
            ""UserBucket"": {
                ""S3Bucket"": ""XXXXX"", 
                ""S3Key"": ""YYYYYY.ova""
            }, 
            ""DiskImageSize"": 0.0
        }
    ], 
    ""StatusMessage"": ""pending"", 
    ""ImportTaskId"": ""import-ami-ZZZZZZ""
}

""

For reference the VMImportExportRoleForAWSConnector polcy is:
{
   ""Version"":""2012-10-17"",
   ""Statement"":[
      {
         ""Effect"":""Allow"",
         ""Action"":[
            ""s3:ListBucket"",
            ""s3:GetBucketLocation"",
            ""s3:GetObject""
         ],
         ""Resource"":[
            ""arn:aws:s3:::import-to-ec2-*""
         ]
      },
      {
         ""Effect"":""Allow"",
         ""Action"":[
            ""ec2:ModifySnapshotAttribute"",
            ""ec2:CopySnapshot"",
            ""ec2:RegisterImage"",
            ""ec2:Describe*""
         ],
         ""Resource"":""*""
      }
   ]
}


Any comments?  I'm stumbling around a little bit with this VM Import thing."

Amazon EC2	"Re: Unable to import OVA image through API
I too was struggling with the error: ""A client error (InvalidParameter) occurred when calling the ImportImage operation: The service role <vmimport> does not exist or does not have sufficient permissions for the service to continue""

After some googling, reading, testing, failing, etc.. I discovered this YouTube Video: https://www.youtube.com/watch?v=qfOQtTjXX4Q which had a comment pointing out that trust-policy.json had an error.

""sts:ExternalId"":""vmimport""

should be

""sts:Externalid"":""vmimport""

Note the i in ""Externalid"". Once I corrected this, import succeeded.... or at least the import task did. The image was rejected 

Edited by: rainabba on Jun 15, 2016 12:32 PM"

Amazon EC2	"Re: Unable to import OVA image through API
I've been struggling with this as well and finally got it to work. Here's something that may help understanding what's happening, and what may go wrong:

Apparently the import/export task runs by some sort of AWS-owned agent (""service""). This agent is called vmie.amazonaws.com. As soon as that agent starts running, it assumes a role that you have to define yourself. If you don't supply a role name (aws ec2 import-image --role-name something) the role ""vmimport"" will be used by default.

This role, ""vmimport"" or otherwise, needs two important properties. First, there needs to be a trust relationship so that the Amazon agent vmie.amazonaws.com can assume this role. Second, there needs to be a policy that gives access to both the S3 bucket and EC2 to perform the import.

The first, the trust relationship, is achieved as follows: Within IAM, go to ""Roles"" and select the role you want to use for this (or create a role ""vmimport""). Go to Trust Relationships; Edit Trust Relationships. The policy document should look like this:

{
  ""Version"": ""2012-10-17"",
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""Principal"": {
        ""Service"": ""ec2.amazonaws.com""
      },
      ""Action"": ""sts:AssumeRole""
    },
    {
      ""Effect"": ""Allow"",
      ""Principal"": {
        ""Service"": ""vmie.amazonaws.com""
      },
      ""Action"": ""sts:AssumeRole""
    }
  ]
}


Second, the policy. Easiest is to attach the following policies to this role:

AmazonEC2FullAccess
AmazonS3FullAccess

Obviously you can define custom policies as well, that only allow access to the S3 bucket where your to-be-imported images are stored, and limit access to EC2 as well."

Amazon EC2	"Connection timeout from us-east server to singapore server
Has anybody else facing this problem right now (aug-06-2016)? Getting a connection timeout (when using wget/curl, port 80) 1 out of five connections (randomly).

-RR"

Amazon EC2	"Re: Connection timeout from us-east server to singapore server
Looks like a stop and stop fixes this problem. Ec2 hosts get into trouble like this sometimes and stop and start (not restart) will change the host. Will wait and upadte if the problem persist"

Amazon EC2	"Cant connect to RDP again
Cant connect iinstance again id  i-03275d004bc27dfa0 it worked all up to friday and till now cant conect rdp showing error 0x104. I have tried login in manually it didnt work pls any assistance would be appreciated"

Amazon EC2	"Instance Unavailable
When attempting to ssh into an EC2 instance, I'm getting a ssh_exchange_identification: read: Connection reset by peer.  I've tried restarting it and still no dice.

The instance ID is i-44cf13c2."

Amazon EC2	"Re: Instance Unavailable
I'm not sure if an AWS employee took a look, but it's up now."

Amazon EC2	"How to dynamically translate location name to region name?
Our service gets EC2 pricing information from https://pricing.us-east-1.amazonaws.com/offers/v1.0/aws/AmazonEC2/current/index.json. Unfortunately, this REST API returns pricing information with the descriptive region location names (e.g., ""Asia Pacific (Mumbai)""), instead of region names (e.g., ""ap-south-1""). Our service needs to be able to dynamically map location names from the pricing table to region names: e.g., ""Asia Pacific (Mumbai)"" --> ""ap-south-1"" without having to know the mappings in advance.

Presently, the service maintains a static mapping of location names to region names. However, the service breaks whenever AWS adds a new region, which necessarily is absent from our static mapping. I would like to be able to retrieve the mappings dynamically, to avoid service breakage and disruption. How can this mapping be retrieved dynamically?

(Our service is written in Python and can use either REST API or python boto API)

Edited by: vkrug on Aug 3, 2016 1:50 PM

Edited by: vkrug on Aug 3, 2016 1:52 PM"

Amazon EC2	"Re: How to dynamically translate location name to region name?
Hello,

It's not quite what you're asking here, but I'd suggest coding your script to ignore any unexpected region name and to email a warning when one is detected. 

Richard"

Amazon EC2	"Instance Down and System checks fail - status checks fail - for 16hours
Hello,

I have another thread where I got no response. Instance i-8db7a177 stuck rebooting for over 16 hrs now. The system status check goes unavailable for a few mins and successful and back to failed and never stays as failed for 20mins so I cannot open a support request. It says failed then after 5-10mins it says successful, then after a few mins failed again. I don't even know if anyone on EC2 even pay attention to this forum anymore. 

System reachability check failed at August 4, 2016 at 1:12:00 PM UTC-4 (1 minutes ago)"

Amazon EC2	"Re: Instance Down and System checks fail - status checks fail - for 16hours
Hi,

I just responded to the other thread. Please accept our sincere apologies for the delay. Please stop/start the instance so that the instance moves to a different host. The host that the instance is currently residing on is experiencing issues.

Please let us know if the instance is stuck stopping due to the unhealthy hardware.

Best Regards,
Pavithra K."

Amazon EC2	"Re: Instance Down and System checks fail - status checks fail - for 16hours
This is an instance store server and cannot be start/stopped. If the host cannot be fixed, let us know and we will move on to a replacement server."

Amazon EC2	"Re: Instance Down and System checks fail - status checks fail - for 16hours
Hello,

I don't believe we're going to be able to fix this one for you I'm afraid - this looks like a host failure to me - so if you can move to a new instance I'd do that.

Apologies for the inconvenience caused.

Richard"

Amazon EC2	"cannot connect to instance on us-east-1e
I have an instance i-d94f1d47 which cannot be reached.
I have the exact config for us-east-1a and it works ?
It configs to accept all in-bound traffics...."

Amazon EC2	"Re: cannot connect to instance on us-east-1e
Hello,

This instance was a spot instance that was terminated approximately fifteen minutes prior to your post at 2016-08-04 23:50:11 GMT.

Richard"

Amazon EC2	"EC2 suddently check warning with ""Waiting for meta-data accessibility""
ec2 windows 2012r2 instance is normal yesterday.
but the EC2 controller shows check status 1/2
the system log shows following content

2016/08/05 03:04:46Z: EC2ConfigMonitorState: 0
2016/08/05 03:04:46Z: Windows sysprep configuration complete.
2016/08/05 03:04:47Z: AMI Origin Version: 2016.07.13
2016/08/05 03:04:47Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2016/08/05 03:04:47Z: OS: Microsoft Windows NT 6.3.9600
2016/08/05 03:04:47Z: OsVersion: 6.3
2016/08/05 03:04:47Z: OsProductName: Windows Server 2012 R2 Standard
2016/08/05 03:04:47Z: OsBuildLabEx: 9600.18289.amd64fre.winblue_ltsb.160328-1315
2016/08/05 03:04:47Z: Language: en-US
2016/08/05 03:04:47Z: TimeZone: Taipei Standard Time
2016/08/05 03:04:47Z: Offset: UTC 08:00:00
2016/08/05 03:04:47Z: EC2 Agent: Ec2Config service v3.17.1032
2016/08/05 03:04:48Z: Driver: AWS PV Network Device v7.4.2.0
2016/08/05 03:04:48Z: Driver: AWS PV Storage Host Adapter v7.4.2.0
2016/08/05 03:04:48Z: Message: Waiting for meta-data accessibility...

it is still so, even i reboot it.
my instance id i-82adfc1d.

I change the nginx's conf file to set the ssl connection in yesterday.
After i change config file, the web site is unreachable. 
Nginx fails to restart because certificate format problem.

And then i shutdown it to wait resume today to handle the problem.
But i met ""Waiting for meta-data accessibility"" today.
how to fix it?"

Amazon EC2	"Re: EC2 suddently check warning with ""Waiting for meta-data accessibility""
Hello,

I checked your instance and it seems like you've resolved this as your instance is now passing checks. At a guess, the issue might have been due to Windows Updates; they can take quite a long while to apply on a t2.micro.

Richard"

Amazon EC2	"Started EC2 free tier and getting charged.
Hi,

I've started an EC2 yesterday and to my surprise have already received an invoice for $1.01.

I've trawled through all the documentation, but am not sure what the charge is for.

Please help.

Lee."

Amazon EC2	"Re: Started EC2 free tier and getting charged.
Turn on detailed billing reports and you will get significant detail on what you are being charged for.

http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/detailed-billing-reports.html"

Amazon EC2	"Re: Started EC2 free tier and getting charged.
Hello,

The EC2 free tier runs for twelve months from when you create your AWS account.

Your account was created in July 2014, and thus is not eligible for free tier any longer.

Richard"

Amazon EC2	"Can I change my key pair in EC2 instance
Hi,

I have 1 key pair and with that ( PPK generated using PuttyGen ) I connect to my Ubuntu machine . Since I have shared it with other team but now I want its usage to be restricted to myself.

1/ Can I delete the existing key pair and create anoher?
     If yes , then will the previous PPK get invalid and can't be use for logging into my Ubuntu machine.
Or
2/ Can I change my key pair ?

My intention is to have fresh key pair so that past usage can be restricted and only those who have new key pair can use the infrastructure.

Please assist on the above.

Thanks,"

Amazon EC2	"Re: Can I change my key pair in EC2 instance
Hello,

I think you'll find what you need here -- it's a walkthrough that shows how to change a key pair:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair

Richard"

Amazon EC2	"We are creating very large instances (15 TB) from single, monolithic images
We are creating single, monolithic images because it's a lot simpler and less time consuming to launch instances from them rather rather than assemble root images with file mounts.

Each of these images is awful large (15 TB). I am really concerned that launching instances from such large images will take up lots of time.

1. Is there a limit to the size of the images we are allowed to create in AWS?

2. Will we experience a long delay in creating such large images from the original (large) instances?

2. How do we launch images from such large images without experiencing a large delay between the request to launch an instance and the actual creation of the instance?"

Amazon EC2	"Re: We are creating very large instances (15 TB) from single, monolithic images
Hello,

1) The only limit to the size of a volume is that imposed by EBS. Volumes that are part of AMIs can be as large as those supported by EBS.

2) When you launch an instance from an AMI, the volume is created in a ""lazy"" fashion, insofar as the data is only copied to EBS as it is needed. This means that launching is quick even for large AMIs, but there is a first read/write penalty. See here for more:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-initialize.html

Richard"

Amazon EC2	"Recommend instance type for mobile app
Read through  https://aws.amazon.com/ec2/instance-types/  but still not sure which instance type is the best for mobile app. Is there a formula to estimate what instance type to pick?"

Amazon EC2	"Re: Recommend instance type for mobile app
Hello,

A good approach here is to start with a relatively small instance, say a m3.medium, and then change your instance type subsequently if you find you need more (or less). See here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Richard"

Amazon EC2	"Could not connect from Home
Hi,

I could connect from office, but not from my Home ?
I have added my public ip into same security group at home and at work ?
I have tried at home with two computer on windows and one Linux and same timeout problem ?
Where is my mistake

Regards"

Amazon EC2	"Re: Could not connect from Home
Hello,

There are some other factors that can cause the connection timeout issue. please check the section “Error connecting to your instance: Connection timed out” in the following document:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

Regards,
Reza"

Amazon EC2	"Re: Could not connect from Home
Hi,

I know this page and i have checked that my current public IP is in rules of my Linux instance.
When my ip is added to security group on port 80 and then ""save"", there is no others actions like ""Apply"" or reboot instance ?

Regards
Phil

Edited by: alithya on Feb 21, 2016 1:23 AM

Edited by: alithya on Feb 21, 2016 1:25 AM"

Amazon EC2	"Re: Could not connect from Home
Hello,

If you have added the public IP of your home and you are not able to telnet the instance on the allowed port then there are three possibilities here:

1) The local firewall is not allowing outbound connections
2) The public IP you entered in the security group is incorrect. 
3) Firewall running on the instance is not allowing network traffic from your IP.

Please double check your public IP, you can confirm it by using some online tools or connect to an instance which allows inbound traffic from everywhere and run netstat on the instance to see your IP. Also check if the local firewall i.e iptables on the instance are not blocking network traffic.

""When my ip is added to security group on port 80 and then ""save"", there is no others actions like ""Apply"" or reboot instance ?""

There's no need to reboot instance when updating security group rules. When you click save the rules are added to security group."

Amazon EC2	"Re: Could not connect from Home
Hi

I could connect from my smartphone but not from my three Computers, Win10, Centos and an old XP. XP has no firewall and no kapersky. Theses three computer use same Orange LiveBox

Regards"

Amazon EC2	"Re: Could not connect from Home
tracert public adress
 1     3 ms     3 ms     3 ms  livebox.home http://192.168.1.1
  2     4 ms     4 ms     4 ms  80.10.121.12
  3     5 ms     4 ms     4 ms  10.125.216.74
  4     7 ms     7 ms     7 ms  ae46-0.nilyo102.Lyon.francetelecom.net http://193.252.103.242
  5    21 ms    21 ms    20 ms  193.252.137.54
  6    18 ms    17 ms    17 ms  ae-11.r04.parsfr01.fr.bb.gin.ntt.net http://129.250.66.17
  7    24 ms    24 ms    24 ms  ae-8.r23.londen03.uk.bb.gin.ntt.net http://129.250.6.206
  8    29 ms    29 ms    29 ms  ae-2.r02.londen03.uk.bb.gin.ntt.net http://129.250.5.41
  9    30 ms    30 ms    30 ms  ae-3.r02.londen05.uk.bb.gin.ntt.net http://129.250.2.119
 10    29 ms    29 ms    29 ms  82.112.115.190
 11     *        *        *     Délai d’attente de la demande dépassé.

Regards"

Amazon EC2	"Re: Could not connect from Home
Hi,

If i replace My LiveBox ""Orange"" connection by an Wifi with a public network ""Orange"" on same computer, that's Ok ???
Where is my Mistake ?

Regards
Phil"

Amazon EC2	"Re: Could not connect from Home
Hi

My problem still exist
With My PC behind Livebox networkconnection timeout on http Amazon website
With same PC on Wifi with Orange/public network connection is OK  on http Amazon website??

I use My LiveBox for all others my connections ?

Regards"

Amazon EC2	"Can't join EC2 Instances to Domain
I setup AWS Directory Services with an AD Connector.  It connects to an AD DC I have running in my VPC.  I went through all of the steps required to setup the IAM roles required to have an EC2 instance join a domain.

When I go through the console wizard to launch an AMI and have it join a domain, it looks good, the computer even shows up in my AD Users and Computers in the Computers container, but its not actually joined to the domain.

Here is the relevant info from the system log of an instance I tried to join on creation.  I replaced my domain name with blabla.net.

016/08/03 04:21:09Z: Message: Windows is Ready to use
2016/08/03 04:21:14Z: Amazon EC2 Simple Systems Manager (SSM) is an optional service for custom configuration of instances.
2016/08/03 04:21:14Z: Info EC2Config configuration: status:2; region:us-east-1; iam:1; authz:1
2016/08/03 04:21:14Z: SSM Config: status:Active; iam:Yes
2016/08/03 04:21:15Z: Info EC2Config Downloading config awsconfig_Domain_d-9067211c8e_blabla.net
2016/08/03 04:21:21Z: Info EC2Config The instance is joining domain with computerName:IP-AC1E671F, directoryId:d-9067211c8e, directoryName:blabla.net ...
2016/08/03 04:21:50Z: Error EC2Config Domain Join failed

When I run Get-SSMAssociation -InstanceId i-28ad8eb8 -Name awsconfig_Domain_d-9067211c8e_blabla.net in powershell I get the following.

Name                  : awsconfig_Domain_d-9067211c8e_blabla.net
InstanceId            : i-28ad8eb8
Date                  : 8/3/2016 4:11:03 AM
Status.Name           : Failed
Status.Date           : 8/3/2016 4:21:50 AM
Status.Message        : status:Failed, code:0, message:RuntimeStatusCounts=Failed=1,
                        RuntimeStatus=aws:domainJoin={Failed,Domain Join failed}, error:
Status.AdditionalInfo : {""lang"":""en-US"",""name"":""EC2Config"",""os"":""Windows Server 2012 R2
                        Standard"",""osver"":""6.3.9600"",""ver"":""3.18.1118""}

I am just trying to get ideas as to what might be happening, or if there are any other diagnostic tools I can use to find what might be happening.

Thanks for any help you can provide."

Amazon EC2	"Re: Can't join EC2 Instances to Domain
Hello,

Please make sure the user configured in the AD Connector details has the proper permissions to join the computers and that the SSM document matches any OU that you have specified in the AD Connector as well.

The required permissions are outlined under Delegating Connect Privileges on the link below.
http://docs.aws.amazon.com/directoryservice/latest/admin-guide/cloud_prereq.html#d0e713

Cheers
Eduardo C"

Amazon EC2	"Re: Can't join EC2 Instances to Domain
The AD Connector user has the correct permissions, I specifically delegated those permissions to this user in AD.

I let the EC2 Wizard create the SSM document, its the default and doesn't specify an OU at all.  I was going to modify it later after I got it working to specify an OU.  

The computers actually show up in the AD Computers OU, they just aren't members of the domain and show the failed message."

Amazon EC2	"Re: Can't join EC2 Instances to Domain
I got it working.  I allowed All Traffic from the SG of the DC to the SG of the instance, and All Traffic from the Instance SG to the DC SG.  Not sure why that mattered, but its working now."

Amazon EC2	"Does AWS have a comparable offering to Microsoft Azure Cost Estimator Tool?
Hi All, 
     Azure has a tool wherein you can install/run the tool in your environment to grab real-time information about your usage & it subsequently gives you sizing & cost estimates for what it would take to run your environment within the Azure cloud: https://www.microsoft.com/en-us/download/details.aspx?id=43376

Does AWS have a comparable offering?  

I know that there is the simple monthly calculator: https://calculator.s3.amazonaws.com/index.html

And there is also the TCO calc:  https://aws.amazon.com/tco-calculator/

But I can't find anything that uses actual customer historical data?"

Amazon EC2	"Re: Does AWS have a comparable offering to Microsoft Azure Cost Estimator Tool?
I don't think there is such a tool. I know this would be obvious to you, but if you were to reproduce your current environment in AWS, then it may not be the optimum solution. So this approach could ultimately be deceptive.
-Brett"

Amazon EC2	"My bro, who handled all this, passed away and now emails and sites are down
Hi everyone,
My brother handled all our tech issues. We have everything hosted through AWS. He passed away a few months ago and now it's up to me to figure this all out for my family.  Our servers went down this morning (aka our emails and websites no longer work.) The bill is paid, so its nothing like that. I remember this happening before and my brother ""reset"" it and it was all fixed in 5 minutes.

Does anyone have an idea of what is wrong? Or a few minutes to explain what I would need to do and maybe some basics of the service so I can wrap my head around it all and handle any future issues as they may arise?
Thanks,
Marcello

Edited by: f6e5d4c3b2a1 on Aug 5, 2016 1:30 PM"

Amazon EC2	"Re: My bro, who handled all this, passed away and now emails and sites are down
I'm sorry for your loss!

I would be happy to take a look at that over a remote session and see if we can't get you back up again.  If you have AWS support, that's probably another option for you.

Regards,

Mark"

Amazon EC2	"EC2 Instance Self-Resets Firewall Policies!
Hello,

I recently couldn't connect with my EC2 Windows Instance with RDP. 
I followed the steps to reset the firewall policies in the registry and it worked. 
But after some days the policies were reset to original and the RDP was blocked again. 
The instance was always on during this period. How is this possible?

Thank You!

Edited by: indaco on Aug 5, 2016 3:08 PM"

Amazon EC2	"Create Image (EBS AMI) takes forever - is that normal?
Hello!

I've run several instances from a public Ubuntu EBS AMI. I then ssh'd into the machines and updated my configuration as needed.

Then, in the AWS management console I use the option ""Create Image (EBS AMI)"" to create an AMI from my machine.

After that, the AMI hangs in a pending state for up to an hour. I've only had success creating a single AMI until now - a couple have failed.

Shouldn't it take only up to a couple of minutes for an EBS AMI to be created?

Thanks,
Best,
Christian"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
I tried again today, it still takes about half an hour for an EBS AMI to be created from a running instance.

Can anyone from the AWS team clarify if this is normal?

Thanks,
Rob / Christian"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Does anyone else have this problem of long running Image creation?

It's not a big problem to me anymore, but the AWS team sets different expectations here.

According to the ""Booting from Amazon EBS Feature Guide""
http://developer.amazonwebservices.com/connect/entry!default.jspa?categoryID=174&externalID=3121&fromSearchPage=true

on page 15, it says:

""Step 3: Start a Clone
It may take a couple of minutes to create your image. To check on the status, go to the “AMIs” tab in the Navigation panel. Then, select “Owned By Me” as shown below to filter out the other public or private AMIs you may be able to see.""

""couple of minutes"" is different than about 30 - 60 minutes that it takes me to create an image. Can anyone check into this?

Thanks!
Christian"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hi Rob,Creating an image should not normally take 30-60 minutes. Can you provide us with the id of the instance from which you tried to create an image? We'll investigate this on our end.Thanks,Vincent"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hi Vincent!

This seems to have been stabilized. AMI creation now took me under 15 minutes (I'm not exactly sure how many minutes exactly but it was under 15 this time).

The instance ID for this creation was: i-60828608

I already deleted all the other instances where it took me a long time.

This should be ok now. I'll let you know if it takes me a long time again.

Thanks!
Christian"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hi.  I'm creating a snapshot from an Instance with a root EBS volume of 30 GiB, I started it about 25 minutes ago and it's still going.  If an Amazon tech reads this, the instance ID is i-7452e31e.

Is this affected by factors we can control as users of EC2 or is this just an indicator of high load on the particular node our instance is hosted on?

Thanks for your help,

Josh

Message was edited by: ohmygoshjosh"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
I too have seen this with Ubuntu 64-bit EBS back AMIs. It is both costly and frustrating to have to wait this long when the ""expected time"" is only a few minutes. Can someone from Amazon shed some light on this?"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Mine has been cranking for about an hour, no joy. Hate to dig up an old thread, but no sufficient responses."

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
I suspect it's related to the size of the original image. The current standard size of EBS backed AMI's seems 15GB. If smaller public AMI's are provided (e.g., 5GB), the snapshot may be much faster. 5GB should be more than enough to store server software."

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
I am seeing lengthy create times also, but I noticed the snapshot of the 15GB EBS backed image was ready almost immediately; it's the AMI that seems to take a long time.

If anyone from Amazon cares, the instance I'm dealing with is ami-9857aff1."

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
This is a pretty stale thread, but my 2 cents, if you have a volume attatched to the AMI, I believe that volume is imaged with the AMI as well. Take a look at the ""Image Size"" in the description, and you'll note that it's the OS + Attatched Volume Size.

I had a terrabyte volume attatched, so that took forever to copy.

Edited by: constellation2010 on Jan 26, 2012 5:35 AM"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hi,

I am having same issue,

My AMI id is :  ami-f5058e9c

And instance id form which AMI is being created: i-bc7b75c2

It is still in progress, can you check and let us know asap the issue?"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Any update ????"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
I agree mine is taking a long time too... I'm at 45 mins at least right now and it's just spinning... Mine is a 200gb instance of Windows Server 2008.  Maybe hard drive space matters?"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Same here, but my EC2 has only 8gigs.

More than 20 minutes till now.
Instance ID: i-301abb5c"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hello,

I know this thread is extremely old, but I am having the same issue. Our AIM image has been in pending status for about 1 1/2 hours now. ami-29e3b219 (20 gig volume) region us-west (oregon) We've never had this issue before.

Any ideas??

Thanks,
Matt"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
Hello,

I have taken a look at the image and can see that the snapshot is still in progress ( 60%). At this rate it might take another hour to complete the Image. 

Best Regards,
Chandra P."

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
AMI ID: ami-7fa06e1c. More than 3 hours and still pending. Can someone from aws team please check.

Regards,
Kushal"

Amazon EC2	"Re: Create Image (EBS AMI) takes forever - is that normal?
How long does an ami creation usually take? I started this one on August 5, 2016 at 1:25:18 PM UTC-4 and 4.5 hours later it is still going...

AMI ID
ami-dfaa62bf
...
Status
pending
State Reason
-
Creation date
August 5, 2016 at 1:25:18 PM UTC-4"

Amazon EC2	"How to configure Godaddy to redirect to me ELB.
Hi,
I want to redirect from GODADDY following 4 urls to https://sportfist.com.
http://www.sportfist.com
https://www.sportfist.com
http://sportfist.com
https://sportfist.com

I have created a ELB ""sf-elb-59535111.us-west-2.elb.amazonaws.com"" which successfully points to my EC2 instance for both http and https.
What CNAME or A Record should I create on Godaddy?

Been banging my head over this for about 2 weeks.
Please help.

Thank you!

Edited by: tejpratap on Aug 3, 2016 9:21 AM"

Amazon EC2	"Re: How to configure Godaddy to redirect to me ELB.
Hello, thanks for posting!

In order to redirect ""www.sportfist.com"" to ""sportfist.com"", you will need to use a CNAME record.
In order to redirect ""sportfist.com"" to your ELB hostname, you would normally use  CNAME, however you cannot use a CNAME record at the apex of your domain.  Generally you need to redirect the traffic, and many providers have this functionality available.

I am unsure if GoDaddy has this functionality, so you may need to contact GoDaddy support directly to find further information about how to do this on their platform.

One thing I would recommend is migrating your DNS to Route 53, as Amazon has what's called an Alias record.  This allows you to reference your AWS resources like a CNAME, but Route53 will actually serve an A record instead, getting around the apex record issue.  This requires no redirection, and as such is generally a better solution than other hosting providers.

You can read more here: http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html

For redirecting HTTP to HTTPS, this is not done in DNS.  You will need to do this at the application level.  You may need to check specifically how to do this for your particular backend, but to use Apache as an example, you can see in their docs here:

http://httpd.apache.org/docs/current/rewrite/avoid.html#redirect

To redirect http URLs to https, do the following:

<VirtualHost *:80>
    ServerName www.example.com
    Redirect ""/"" ""https://www.example.com/""
</VirtualHost>

<VirtualHost *:443>
    ServerName www.example.com
    # ... SSL configuration goes here
</VirtualHost>

I hope this information is helpful!

Best regards,

David B.

Edited by: awsdavidb on Aug 4, 2016 3:33 PM"

Amazon EC2	"Re: How to configure Godaddy to redirect to me ELB.
Hi David,
Thanks for your reply.

What should be my name and value if I want to create a CNAME in godaddy to redirect to my ELB?
Below are the A and CNAME records that I have in Godaddy currently.

Type	         Name	Value	        TTL	        Actions
A	         @	        52.89.85.88	1 Hour	Edit
A	         sfapi	        52.89.85.88	1 Hour	Edit
CNAME	ftp	        @	                1 Hour	Edit
CNAME	www	        @	                1 Hour

Thank you!
Tej"

Amazon EC2	"EC2 instance running very slow
One of my EC2 instances is running extremely slow. It is an m3.large instance, instance ID i-537c058e. I am trying to tar a directory of 75,000 files with a total size of 27 GB. Doing this on my primary instance  (i-05546990, m3.large) takes less than 10 minutes, but on my backup instance (the problem instance) it takes hours. The backup instance is an exact copy of the primary instance, made from a fresh AMI this morning.

I've tried stopping and starting, terminating then launching a fresh copy from a fresh AMI made minutes before, and running the command directly outside of my script. It takes hours each time. Memory utilization for both instances is maxed out, CPU utilization is under 3% (for both)."

Amazon EC2	"Instance i-eecf6d64 stuck in Stopping state
Instance i-eecf6d64 is stuck in Stopping state. Force stop does not work, nor does the advice here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

I appreciate that Technical Support is a paid-for extra, but something as basic as this should not require us to try to obtain support through a forum! We're currently evaluating moving our hosting over to Amazon - at the moment, the included technical support with Azure is much better. It will be interesting to see how long it takes Amazon to resolve this issue from the time I post this..."

Amazon EC2	"Re: Instance i-eecf6d64 stuck in Stopping state
Hi,

Apologies for the troubles caused. I can see that the underlying hardware on which the instance - i-eecf6d64 is currently on is having some troubles. I have created a internal ticket for our Service team to have a look at it.

Please note that you will not be charged for the EC2 instance which is in such inconsistent state. Please bare with us while we work on fixing this issue.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Instance i-eecf6d64 stuck in Stopping state
This is still not fixed at gone midnight UK-time. I can't see how Amazon EC2 is viable for production services without a Business Support plan, which adds at least $100/month to the hosting fee. Good to know when comparing to other cloud computing providers."

Amazon EC2	"Re: Instance i-eecf6d64 stuck in Stopping state
It's been 24 hours now and both the instance and EBS volume are still inaccessible. Should I assume that these are gone for good?"

Amazon EC2	"Re: Instance i-eecf6d64 stuck in Stopping state
Hello,
sorry for the delay here; I have re-engaged the EBS service team to work on fixing the issue on a higher priority.
The volume should be safe.
Hope to provide you an update soon.

Kind regards,
Ale"

Amazon EC2	"Re: Instance i-eecf6d64 stuck in Stopping state
Hi,

Thank you for your patience. We have heard back from our team. The  issue has been resolved. Please confirm the same.

Regards,
Pavithra K."

Amazon EC2	"EC2 instance cannot stop
Hi, 
I am new to AWS. 
My EC2 instance cannot be stopped. When I stop it, it remains stopped for a while, but when I go to Console -> EC2, it is running again. I have been billed for this.
The id of the instance is i-0899117d870fe1117
Could anyone please help me with it? 
Thanks."

Amazon EC2	"Re: EC2 instance cannot stop
Hello,

EC2 Instance i-0899117d870fe1117 is part of an autoscaling group (awseb-e-6myvq7ewjq-stack-AWSEBAutoScalingGroup-Y8S3UHDU2MRZ) that was created as part of a Beanstalk environment (test1).

The autoscaling group is automatically adding and removing instances based on the health of an instance. When you stop an instance, it fails the health check and is removed and then a new instance (with a new instance id) is added. This is by design. Please see the following for more information on how autoscaling works:

http://docs.aws.amazon.com/autoscaling/latest/userguide/WhatIsAutoScaling.html

Kind regards,
Chris"

Amazon EC2	"Re: EC2 instance cannot stop
Hi Chris,

Thanks for the help.

Does it mean if I terminate the Beanstalk environment (test1), no instance will be running?"

Amazon EC2	"Re: EC2 instance cannot stop
Hi,

If you delete Elastic Beanstalk, the resources created by the EB (like ELB, auto-scaling group) will also be deleted. Deleting the auto-scaling group will also delete all the instances spun up by the group.

Best Regards,
Pavithra K."

Amazon EC2	"EC2-RunCommand returns failed status but worked ok
Helllo,

I am running a simple command  query session, in PowerShell  through EC2-RunCommand from the AWS console.

The output is correct both in the console output and in the S3 bucket.

But the status of the command is failed.

Any idea of where this could be coming from ?

If someone from AWS looks into it the command ID is :

35c19469-0bfc-4dde-9e1c-9415ad0fe117

If on the same instance I run a Get-Service, the command runs also OK and has a success status.

Edited by: thesailorbreton on Aug 5, 2016 11:10 AM"

Amazon EC2	"Site behaves badly when accessed via URL: load balancer problem?
Hi,

My site runs on two ubuntu EC2 t2.micro instances behind an ELB, using auto-scaling.

It's a portfolio, and along with some static pages it offers two small live apps that respond to user input. The dynamic content is produced by two C programs and accessed via two PHP pages.

When I visit my site's URL, the site misbehaves. When I access either of my site's EC2 instances directly (via their public DNS addresses), I get correct behavior.

For example, one of the C programs creates a random .jpg design. On page reload, a new .jpg is created by the C program and served by the PHP.

When accessed via the URL, the jpg-creation page creates an image. Then, on the first page reload the program just repeats the display of the same design. On all subsequent page reloads, I get a new design.

When I go to one of my site's EC2 instances directly, I see no such problem; nor when I access a local copy.

I also get wrong behavior with the other C program and .php page, on first reload only, and only through the URL.

Both .php files start with the following code:

	<?php
	// comment
	// comment
	session_start();
 
	header(""Cache-Control: no-store, no-cache, must-revalidate, max-age=0"");
	header(""Cache-Control: post-check=0, pre-check=0"", false);
	header(""Pragma: no-cache"");

in an effort to prevent caching by the browser. The misbehavior does not seem to be browser-specific.

Can anyone help shed light on this issue?

Thanks very much in advance for any replies."

Amazon EC2	"Re: Site behaves badly when accessed via URL: load balancer problem?
Are you still facing this problem ?  

Are you using Route 53 for resolution ?
have you tried checking out the latency by pinging ELB address ?
have you tried increasing DNS TTL values ?"

Amazon EC2	"Re: Site behaves badly when accessed via URL: load balancer problem?
Hi Varunsharma,

Thank you very much for your response.

I apologize for not marking this thread as ""resolved"" sooner -- I was having a login issue.

It seems that requests were going alternately to my two different EC2 instances, which produced the misbehavior. Having just one instance active at a time corrected this issue. 

There must be a way to route all messages from a single connection to the same server; but I haven't figured out how to do this yet. The site has very low traffic, though; so for now running a single instance is perfectly adequate.

Best regards,
Andy"

Amazon EC2	"kexec support?
We have a use case that requires booting off a boot media and using kexec to load a new kernel, every time the instance reboots. We looked into the user-data, but it's for when the instance first launches. I think similar questions were asked before, but want to check whether any recent updates have enabled kexec support."

Amazon EC2	"EC2 Instance stuck in Stopping State
Hi my EC2 instance is stuck in stopping state. Instance id is i-631e68e1 in the 	
ap-southeast-2c region. I tried force killing it but doesn't work. I tried force detaching the EBS volume but it doesn't work. Is aws tech support able to force kill it please?"

Amazon EC2	"Re: EC2 Instance stuck in Stopping State
Hello,

Instance i-631e68e1 is currently in the stopped state. Apologies for the frustration and inconvenience this may have caused.

Kind regards,
Chris"

Amazon EC2	"Re: EC2 Instance stuck in Stopping State
Thank you Chris."

Amazon EC2	"Instance not reachable after the reboot
Hi, one of the instances failed to reboot and the monitoring checks failed with this error.

Insance id is i-cb54f13a

======
These checks monitor your software and network configuration for this instance.
Instance reachability check failed at August 2, 2016 at 4:54:00 PM UTC-4 (14 hours and 42 minutes ago)
===

I appreciate if you could advise on how to bring up the instance back to normal. 

thank you!"

Amazon EC2	"Re: Instance not reachable after the reboot
Hi, more info on this instance failure.. looking at the system log, the following messages are seen. But, I can not access the server to do any further checks. thank you

The proxy could not connect to the destination in time.
URL: http://ec2-54-164-159-224.compute-1.amazonaws.com/
Failure Description: Connection refused:error while checking connect:EnduserException:server state 1:state 8:Application r

.1//latest/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:29,991 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:30,994 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:31,996 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:32,999 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:34,001 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-04 13:42:36,018 - url_helper.pyWARNING: Calling 'http://172.31.32.1//latest/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='172.31.32.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)]"

Amazon EC2	"Re: Instance not reachable after the reboot
Hi, Could you please let me know if there is a way to bring up this instance. This instance has only one volume which is also used for the boot purpose. Creating an image and bringing up under different instance did not help. If the instance can not be recovered, wondering if this volume can be accessed to in any other way to recover some of the docker image files. thanks for the help!"

Amazon EC2	"Cannot see a volume connected to an instance
Hi,
I made a snapshot of an instance and created a volume from it. I am now trying to attach his volume to another instance as I was to get some data from the disk. I created a new instance, however when I attach the volume, windows is telling me the device Id is the same as the other disk on the machine. Is there a way to solve this?

Thanks"

Amazon EC2	"Re: Cannot see a volume connected to an instance
Hi,

I've reached out to the engineering team. Once we have an update for you we will update you here. In the mean time, would you mind providing an instance ID?"

Amazon EC2	"Re: Cannot see a volume connected to an instance
Hi,
Thank you for the reply, my ID is  i-02a9bd0121b857031"

Amazon EC2	"Re: Cannot see a volume connected to an instance
Hello,
thanks for providing the Instance ID.
I had a look at the instance and it's currently failing the status checks 1/2 because it's not booting properly.
You will see the error using our new feature for console screen-shot:
https://aws.amazon.com/blogs/aws/ec2-instance-console-screenshot/

This error you are facing is related to a Disk Signature collision issue.
The following entry should be found on system event log:
Source: partmgr
Event ID: 58
Description: ""The disk signature of disk 1 is equal to the disk signature of disk 0.""

NOTE: Windows cannot boot from the EBS volume which disk signature was re-generated. You have to fix disk signature mismatch with BCD to boot from it:
https://blogs.technet.microsoft.com/markrussinovich/2011/11/06/fixing-disk-signature-collisions/

Kind regards
Ale"

Amazon EC2	"How do I query the instance profiles / iam roles attached to an instance?
Hi,
I am running in to a problem when running simple aws commands:
""An error occurred (AuthFailure) when calling the DescribeRegions operation: AWS was not able to validate the provided credentials.""

I searched online and one possible cause is cli is using credentials attached to the instance.
Instance was built using a custom AMI.
Can instance profiles be saved in AMIs so instance might be inheriting those from AMI?
How do I list the instanceprofiles, IAM roles that are active on an instance?

I set my ~/.aws/credentials file with proper key_id & secret_key before running aws commands.

Thank you"

Amazon EC2	"Remote desktop session error
Hello,

I am unable to connect my instance through remote desktop,getting error 

""The remote session was disconnected because there are no Remote Desktop License Servers available to provide a license.Please contact the server administrator"" 

I rebooted the instance but still getting the same error.

Please look into it.

Looking forward for your response.

Thanks!

Norin"

Amazon EC2	"Re: Remote desktop session error
Hi.

There is a high likelihood that your Remote Desktop licensing has stopped on your instance thus you can't connect to it via RDP. Since rebooting could not work, I suggest either you remove Remote Desktop Services or install the appropriate licenses to continue running this service (or maybe try to modify your registry files as a last resort). Before going deeper let's try to remove the RDP licensing roles by connecting to the instance as mstsc/admin:

Steps

1. Connecting to your instance

*Start->Run, then mstsc /admin (then OK)
*Specify the instance you want to connect to and connect

2. Removing Remote Desktop Services role

*Click Start
*Type Server Manager (then ENTER)
*Click and Expand Roles
*Click Remove Roles (then Next)
*Uncheck Remote Desktop Services (then Next)
*Click Remove
*Click Close
*Click Yes to restart

After restarting, connect to the instance again and allow the Role Removal to complete.
There should be an OK or Finish button.

Let me know if this works or not so that we can pursue another option.

Regards,

Tonderai."

Amazon EC2	"Re: Remote desktop session error
I have the same problem and i can not connect to server as administrator to make the informed steps.

I need help please.

Sani Naimayer"

Amazon EC2	"Re: Remote desktop session error
its work! Thank you. 
You can connect it by doing this;
on you pc/laptop :
1. Open cmd
2. mstsc -v:<ServerName/IPAddress> /F -console /admin
3. Then follow steps from Tonderai"

Amazon EC2	"Instance running on degraded Hardware and stuck in stopping
Hi Team,

got the dreaded event from AWS about an instance running on degraded hardware.

Tried to stop and force stop but still spinning.

Can you have a look pls at i-6ae58eaf ?

Thank you,
Talal."

Amazon EC2	"Re: Instance running on degraded Hardware and stuck in stopping
Hi Team, 

it stopped after 70 minutes, did you do something ?"

Amazon EC2	"Re: Instance running on degraded Hardware and stuck in stopping
Hello,

Apologies for the delayed response! I'm glad to see your instance is back up and running - I think our automated systems must have found this issue and corrected it. 

Sorry for any frustration or inconvenience this may have caused. Take care and have a great weekend!

Kind regards,
Chris"

Amazon EC2	"EC2 instance public IP always point to unknown IP 52.38.231.213
Help! Why are my EC2 instance public IP address and EIP address including my domain name can not access and keep showing IP http://52.38.231.213/ ? Thanks in advance for your help."

Amazon EC2	"Re: EC2 instance public IP always point to unknown IP 52.38.231.213
Hello,

I'm not sure I understand what you mean. I currently only see one EC2 instance in your account with instance ID  	i-03754b1d10d6706ce. The IP that you've given (52.38.231.213) does not match the public IP (EIP) of the EC2 instance. Please note the following from our EIP  documentation :

When you associate an Elastic IP address with an instance that previously had a public IP address, the public DNS hostname of the instance changes to match the Elastic IP address. 

If you can provide more information, we may be able to assist you better.

Kind regards,
Chris"

Amazon EC2	"Why i couldn't see eth1 after attaching one more Private IP
Hello everyone,
My intention is to host 2 Wordpress site on 1 instance EC2.
One of the method is: create 2nd private IP, attach it to instance and associate one more Elastic IP for that 2nd private IP.
So now i have 2 private IP with 2 Elastic IP for my instance.
Private IPs
10.0.7.11, 10.0.7.135

Elastic IPs
52.197.229.236*
52.197.180.32*

The problem is: After logging into my EC2, i use the command line ""ifconfig"" to check.
root@ip-10-0-7-11 ~# ifconfig
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 9001
        inet 10.0.7.11  netmask 255.255.255.0  broadcast 10.0.7.255
        inet6 fe80::402:53ff:fe93:6c81  prefixlen 64  scopeid 0x20<link>
        ether 06:02:53:93:6c:81  txqueuelen 1000  (Ethernet)
        RX packets 80607  bytes 59573492 (56.8 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 45966  bytes 153245631 (146.1 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 0  (Local Loopback)
        RX packets 78  bytes 7724 (7.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 78  bytes 7724 (7.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
But only eth0 (10.0.7.11) appeares. I didn't see other IP. I don't understand what i'm missing here.
Hope someone can help me."

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Any help would be really appreciated!"

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Hello, anyone had this problem before?
Today i tried to create a new instance and attach one more private address again.
I could see that i have 2 private instance when checking Description on EC2 Dashboard.
But login to instance, execute ""ifconfig"" command and didn't see 2nd private IP.
Why is that?"

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Hello,

Once a secondary IP address has been assigned to your instance, you need to configure the OS to recognize it. Only additional interfaces are automatically recognized by the OS.

To do so, please follow the instructions on the link below
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html#StepTwoConfigOS

Cheers 

Eduardo C"

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Hello Eduardo
I tested this and realized that if i launch Amazon Linux AMI and then assign additional private IP, it would automatically be identified by using command line ""ifconfig""
As for another OS, such as CentOS, it didn't work.
Anyway, thanks for your answer."

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Did you consider just using 1 IP address, and then using the name-based virtual host setup in Apache?

-Brett"

Amazon EC2	"Re: Why i couldn't see eth1 after attaching one more Private IP
Hello Bret,
I knew about that, using Virtual-host to host multiple Wordpress site.
I just want to test with 2 elastic IP."

Amazon EC2	"ELB Listed on E-Mail Blacklists
Hi,

IP: 50.16.146.64 is listed on Spamhaus and PSKY, is there anyway of getting it removed by you guys? 

Thanks"

Amazon EC2	"Re: ELB Listed on E-Mail Blacklists
https://aws.amazon.com/forms/ec2-email-limit-rdns-request"

Amazon EC2	"What's the benefit of hosting WP with Elastic IP over Virtual Host?
Hello everyone,
I have a question about hosting multiple WP site on instance EC2.
As far as i know, there are 2 ways to do this.
First, we just need 1 public/Elastic IP and use Virtual Host.
Second, attach additional private IP and associate Elastic IP with each of them so EC2 instance can have multiple Elastic IP.
I don't really understand the benefit of using multiple Elastic IP over virtual host in this scenario. If there is no benefit, when and why we should use multiple Elastic IP in real world use-case?"

Amazon EC2	"Re: What's the benefit of hosting WP with Elastic IP over Virtual Host?
Using multiple Elastic IP's matters more with SSL certificates and very old browsers or devices that do not support SNI.

If you're not using SSL, you don't need multiple IP's.
If you are using SSL and are  okay with the set of browsers that support SNI, you don't need multiple IP's"

Amazon EC2	"Running Commands on Your Linux Instance at Launch
Hi community,

I am working on trying to start an ec2 instance with nodejs installed and server.js running on it. I know I can follow the step here (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html) to put my shell script in user data.
My problem is the following:
1. How to configure AWS CLI in this script?
    Because this script in user data will be executed in root user, so the configuration file doesn't be generated in the path (~/.aws/). The reason I need to configure AWS CLI is because I need to download my server.js file from S3. If I don't configure well at this script, I will get this error message: ```Unable to locate credentials```

2. Is there any other way to set up a server on ec2 automatically right after the instance is launched? 
    I found this tutorial is trying to the a similar thing (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html), but what he did there is manually. What I want to do is installing every component automatically and start to run the javascript file on it.

Thank for help in advanced!"

Amazon EC2	"Re: Running Commands on Your Linux Instance at Launch
You will need your user data script to download or create your .aws/config or credentials files.

Alternatively you could just pull down your S3 JS file directly from S3 using curl."

Amazon EC2	"AWS ELB with ipv6 fails on online tests
I have an ELB with ipv6 AAAA DNS configured. The problem is that the tests I used tell me it's not ok (I don't have an ipv6 connection for testing):

http://i.stack.imgur.com/xOGpw.png 

Apple has made ipv6 support mandatory and is now rejecting apps if servers are not serving the requests. I am not sure if I use my dualstack elb url to connect to APIs will it work in ipv6 network or not. 

Can someone tell me if the url will work in ipv6 networks. (http://app.dashapp.ca/dash/)

Edited by: Vinita on Jul 29, 2016 8:31 AM"

Amazon EC2	"Re: AWS ELB with ipv6 fails on online tests
ELBs do not support IPv6 in VPC; only EC2-Classic"

Amazon EC2	"i can not access my server
Hi, i can not access my server any more

I just wanted to do this:
#route del default
#route add default dev ppp0

But after I execute the first command,  my connection is destroyed and I can the execute the second command.

How to solve the problem?"

Amazon EC2	"Re: i can not access my server
Consider -
# ip route replace default via ... 


-Brett"

Amazon EC2	"Instance i-9bc14334 not terminating
Instance i-9bc14334 not terminating. Problem started with ""Server.InternalError: Internal error on launch"", tried to stop, then terminate on 2016-07-29. 
Can't force detach EBS volume, ""Error detaching volume
vol-32ec7fbb (boot::Sales): Unable to detach root volume 'vol-32ec7fbb' from instance 'i-9bc14334'""

Please complete the termination and volume deletion or make sure i'm not charged.

thank you"

Amazon EC2	"Re: Instance i-9bc14334 not terminating
Hello, 

I note that this instance is currently in a terminated state. Can you confirm this?

If this is not the case we will investigate further. 

Regards, 
Randolph O."

Amazon EC2	"Re: Instance i-9bc14334 not terminating
yes, I did attempt to terminate the instance. Console shows ""shutting-down"" since July 29."

Amazon EC2	"Re: Instance i-9bc14334 not terminating
Hello, 

We are busy investigating and will revert to you soonest."

Amazon EC2	"Re: Instance i-9bc14334 not terminating
Hello,

Thank you for your patience regarding this.

I see that the instance is now completely terminated. Please confirm from your end.

looking forward to hearing from you."

Amazon EC2	"Re: Instance i-9bc14334 not terminating
I no longer see i-9bc14334 in the EC2 console.
Thank you!"

Amazon EC2	"Is there a way to delete old snapshots with Cloudwatch Rules?
I've read some ways of writing scripts to manage the deletion of old snapshots, but is there a way to delete old snapshots by using an AWS tool like Cloudwatch?"

Amazon EC2	"Re: Is there a way to delete old snapshots with Cloudwatch Rules?
Hello,

Snapshots can be scheduled using Cloud Watch rules, however, they cannot be deleted in this way. Alternatively, you can use Lambda to create your own functions to perform the clean-up. There are many articles available on the Internet showing how to accomplish this.

Cheers 
Eduardo C"

Amazon EC2	"Re: Is there a way to delete old snapshots with Cloudwatch Rules?
Okay, thanks, I'll check into that."

Amazon EC2	"Fresh nixos 16.03 machines are not booting correctly.
I've made several fresh nixos 16.03 machines, one using 16.03.10_ and one 16.03.6_, with no extra configuration. Upon ssh-ing into the new machines and running 'systemctl list-unit-files' every unit except three list ""bad"" as their state. The three that are not bad are listed as ""masked"" and are: autovt@.service, console-getty.service and getty@tty1.service.

Anyone know what's going on with this?"

Amazon EC2	"Instance is unreachable/unvailable
My instance i-d8fe68a0 appears to be up and running, however, I am unable to SSH into the server. I have tried with Putty and the Java client and both end in the same result. All of our sites within this instance are unreachable as well.

What do I need to do to get us back up and running again?

It's up now and everything is fine

Edited by: Carr832 on Aug 4, 2016 2:43 PM"

Amazon EC2	"Hosting dynamic website on ec2. But, we have trouble when using WinSCP
We want to host dynamic website using ec2. We already have our own domain. When we want to upload website folder and files using WinSCP there is notification ""Network error: connection to '....' times out"" as shown in the attachment file. We already have done step by step like in https://winscp.net/eng/docs/guide_amazon_ec2."

Amazon EC2	"Instance in state shutting-down since days
Hi,

we have an instance (i-f1d7b061) that is in state shutting-down since days. Maybe this is related to the failure of one of our volumes (vol-0160f7a5)? Could you please investigate and let us know?

Could you please confirm that the instance in state shutting-down will not be billed for that period?

Thanks,
Martin"

Amazon EC2	"Re: Instance in state shutting-down since days
Hi Martin,

I have force stopped the instance from my end. The instance is now terminated. Sorry for the inconvenience. The volume vol-0160f7a5 is in error state and this had caused the instance to be in a stuck state. 

Please note that you will not be charged as soon as the 'stop' or 'terminate' action is performed on the instance. 

Regards,
Aishwarya"

Amazon EC2	"Re: Instance in state shutting-down since days
Thank you for your answer. Very helpful."

Amazon EC2	"i-8db7a177 stuck rebooting
We just restarted our instance and it won't come back. System log ends with the below messages. Can you please look into this asap?

Thank you!

init: Re-executing /sbin/init

http://2435489.854845 EXT4-fs (xvda1): re-mounted. Opts: (null)
Please stand by while rebooting the system...
http://2435494.940069 xenbus: xenbus_dev_shutdown: device/vbd/2050 timeout closing device
http://2435499.940120 xenbus: xenbus_dev_shutdown: device/vbd/2049 timeout closing device
http://2435504.940080 xenbus: xenbus_dev_shutdown: device/vif/0 timeout closing device
http://2435504.940149 reboot: Restarting system"

Amazon EC2	"Re: i-8db7a177 stuck rebooting
Hello

The system reachability check failed for a few minutes as well as instance check. Now the system check is green but still no luck on restarting the instance. Can you please check on this instance?

Thanks!"

Amazon EC2	"Re: i-8db7a177 stuck rebooting- System reachability check failed
Now it again says system check failed but if it keeps going back and forth between success and failure, we can't even contact support.

System reachability check failed at August 3, 2016 at 9:07:00 PM UTC-4 (1 minutes ago)
Need assistance?

After the instance has been unreachable for 20 minutes, you will have the option to directly contact support for assistance by using the button below.

Edited by: skchub on Aug 3, 2016 6:38 PM"

Amazon EC2	"Re: i-8db7a177 stuck rebooting- System reachability check failed
Hello,

Can you guys look into this? Been over 16hours since the instance is down and host keeps switching back and forth? No response from Amazon?"

Amazon EC2	"Re: i-8db7a177 stuck rebooting- System reachability check failed
Hi,

I see that the instance is running but the host has been experiencing issues since 00:48 UTC. Could you please stop/start the instance so that it moves to a different host. Please reach back out to us if you experience issues while stopping the instance.

Regards,
Pavithra K."

Amazon EC2	"Re: i-8db7a177 stuck rebooting- System reachability check failed
This is an instance store server. So will the host be rebooted/fixed or we consider its gone?"

Amazon EC2	"Need clarification on spot instance/request and fleet limits
Hello,
I'm the author of  awslimitchecker, a Free/open source tool to check service limits and usage for AWS accounts and alert when usage approaches the limits.
A number of users have requested support for Spot Instance and Spot Fleet limits, but I'm having serious difficulty understanding what limits exist and how they're calculated, based on the available documentation (namely, the Spot Instance Limits page in the EC2 User Guide and the EC2 Service Limits section of the AWS Service Limits documentation). I was hoping that someone from AWS could clarify this.

1. Is the ""spot instances"" limit a limit on instances or requests? I've found conflicting information that this is either a limit on open and active requests, or only running spot instances. i.e. the EC2 User Guide has a section titled ""Spot Request Limits"", that begins, ""By default, there is an account limit of 20 Spot instances per region."" However, that document seems to have been changed, as it used to say """"The total number of Spot Instance requests"" and the Limits page in the EC2 Console for my account lists the limit as being ""Spot instance requests."" So is the limit on requests or instances? And which statuses/states are counted towards the limit?
2. There's no way to retrieve the current limit values for any of these through either the DescribeAccountAttributes API call or Trusted Advisor. Is there any other way to confirm an account's limits? Is support for this planned? This is especially troublesome since the docs say these limits (at least Spot Instances) are dynamic, so there's no simple default like the other EC2 limits.
3. ""In addition, your account might have limits on specific Spot instance types."" Once again, is there any way to find out what these are, either what the defaults for all accounts are, or what the current limits for a specific account are?
4. Is there any relationship at all between the Spot Instance limits, and the Running On-Demand EC2 Instances limits?
5. Does the ""Max active spot fleets per region"" limit actually count only active spot fleet requests?
6. Are these hard or soft limits, and when are they evaluated? I've heard from at least one user that they seem to be able to run more spot instances than their limit would indicate.

Or, to put the question in a simpler way if I could possibly get input from someone on the EC2 Service Team: how do I figure out (to the greatest extent possible) what all of an account's current Spot-related limits are, and calculate my current usage against those limits the same way AWS does?

My current implementation of usage calculation is here: _find_usage_spot_instances _find_usage_spot_fleets and _get_limits_spot

Thanks,
Jason Antman

(PS: It sure would be nice if DescribeAccountAttributes returned information about more of the limits... it's available in the Console with the ""Limits"" link, but most of that doesn't appear to be exposed via any public API and I'm resisting the urge to try and screen-scrape the Console...)"

Amazon EC2	"Re: Need clarification on spot instance/request and fleet limits
Hello,

Following are the answers to your questions:
1. Is the ""spot instances"" limit a limit on instances or requests? I've found conflicting information that this is either a limit on open and active requests, or only running spot instances. i.e. the EC2 User Guide has a section titled ""Spot Request Limits"", that begins, ""By default, there is an account limit of 20 Spot instances per region."" However, that document seems to have been changed, as it used to say """"The total number of Spot Instance requests"" and the Limits page in the EC2 Console for my account lists the limit as being ""Spot instance requests."" So is the limit on requests or instances? And which statuses/states are counted towards the limit?

A: Spot instances limit is a limit on how many spot instances can be launched in your account.
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html#spot-fleet-limitations

2. There's no way to retrieve the current limit values for any of these through either the DescribeAccountAttributes API call or Trusted Advisor. Is there any other way to confirm an account's limits? Is support for this planned? This is especially troublesome since the docs say these limits (at least Spot Instances) are dynamic, so there's no simple default like the other EC2 limits.

A: By default, there is an account limit of 20 Spot instances per region.
You can see the spot limits mentioned here:
https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Limits:
Following are the spot fleet limits:
    The number of active Spot fleets per region: 1,000
    The number of launch specifications per fleet: 50
    The size of the user data in a launch specification: 16 KB
    The target capacity per Spot fleet: 3,000
    The target capacity across all Spot fleets in a region: 5,000

3. ""In addition, your account might have limits on specific Spot instance types."" Once again, is there any way to find out what these are, either what the defaults for all accounts are, or what the current limits for a specific account are?

A: Current limits can be seen here: https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Limits:

4. Is there any relationship at all between the Spot Instance limits, and the Running On-Demand EC2 Instances limits?

A: No, there is no correlation between the on-demand instance limits and spot instance limits

5. Does the ""Max active spot fleets per region"" limit actually count only active spot fleet requests?

A: Yes, it only counts active spot fleets

6. Are these hard or soft limits, and when are they evaluated? I've heard from at least one user that they seem to be able to run more spot instances than their limit would indicate.

A: These are soft limits and can be increased by submitting a limit increase request using the AWS support Center.
Link: https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-instances"

Amazon EC2	"Re: Need clarification on spot instance/request and fleet limits
I appreciate your effort to try and answer my question, but I feel like this is still unclear to me, and that some of my questions weren't really understood. I would really, really, really like to get an answer directly from the EC2 Service Team on this...

Following are the answers to your questions:
1. Is the ""spot instances"" limit a limit on instances or requests? I've found conflicting information that this is either a limit on open and active requests, or only running spot instances. i.e. the EC2 User Guide has a section titled ""Spot Request Limits"", that begins, ""By default, there is an account limit of 20 Spot instances per region."" However, that document seems to have been changed, as it used to say """"The total number of Spot Instance requests"" and the Limits page in the EC2 Console for my account lists the limit as being ""Spot instance requests."" So is the limit on requests or instances? And which statuses/states are counted towards the limit?

A: Spot instances limit is a limit on how many spot instances can be launched in your account.
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html#spot-fleet-limitations

Follow-Up: Are you positive that the Spot Instances limit counts EC2 Spot Instances, and not Spot Instance Requests? stephen@aws said that ""the only Spot requests that should count against your Spot limit are open and active requests and user-canceled requests where the instance is left running"" which clearly indicates to me that this limit is about Requests, not Instances. So you're saying that comment is either wrong or outdated, and the limit now has nothing to do with Requests, but is evaluated as the count of EC2 Instances (as returned by DescribeInstances) which have the spot-instance-request-id attribute set?

2. There's no way to retrieve the current limit values for any of these through either the DescribeAccountAttributes API call or Trusted Advisor. Is there any other way to confirm an account's limits? Is support for this planned? This is especially troublesome since the docs say these limits (at least Spot Instances) are dynamic, so there's no simple default like the other EC2 limits.

A: By default, there is an account limit of 20 Spot instances per region.
You can see the spot limits mentioned here:
https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Limits:
Following are the spot fleet limits:
The number of active Spot fleets per region: 1,000
The number of launch specifications per fleet: 50
The size of the user data in a launch specification: 16 KB
The target capacity per Spot fleet: 3,000
The target capacity across all Spot fleets in a region: 5,000

Follow-Up: Yes, I found that documentation. Is there any way to determine what an account's current limit is, regardless of the defaults? What about the per-instance-type limits that the documentation mentions?

3. ""In addition, your account might have limits on specific Spot instance types."" Once again, is there any way to find out what these are, either what the defaults for all accounts are, or what the current limits for a specific account are?

A: Current limits can be seen here: https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Limits:

Follow-Up: (1) I only see one spot-related limit there, ""Spot instance requests"" which you're telling me is actually ""Spot instances"", not requests. It has a value of ""default"", which is supposed to be 20. I'm asking how to find out what my limits are ""on specific Spot instance types"" and what types have limits. (2) I don't know how many people are using awslimitchecker any more, because the download counters on pypi.python.org are broken. I believe it's a few hundred a day, at least. Are you, as an AWS Employee, suggesting that I modify awslimitchecker to screen-scrape the Console to retrieve this information, even though the AWS Terms explicitly forbid this?

4. Is there any relationship at all between the Spot Instance limits, and the Running On-Demand EC2 Instances limits?

A: No, there is no correlation between the on-demand instance limits and spot instance limits

Ok, thanks.

5. Does the ""Max active spot fleets per region"" limit actually count only active spot fleet requests?

A: Yes, it only counts active spot fleets

Ok. Again, thanks.

6. Are these hard or soft limits, and when are they evaluated? I've heard from at least one user that they seem to be able to run more spot instances than their limit would indicate.

A: These are soft limits and can be increased by submitting a limit increase request using the AWS support Center.
Link: https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-instances

Follow-Up: I worded that incorrectly, sorry. If my limit of Spot Instances is 20, will I get an error immediately when I try to run a 21st instance? Is there any lag time between when I run instances and when they count against my limit, and also, will I be prevented from running more instances immediately or is there lag time like there is with On-Demand Instances?"

Amazon EC2	"Spikes in EC2 Network In
Our t2.micro instance (t2.micro) received a huge spikes in Network In yesterday (4:44 PM UTC) . Nothing has change in my instance/configuration, and the traffic doesn't appear in Ubuntu logs. This spikes make the CPU goes to 100% causing a 502/504 errors. 

Can anyone help us to see what is the cause of this Network In spikes?"

Amazon EC2	"Re: Spikes in EC2 Network In
Hi,

To analyze the traffic that enters the instance, please enable VPC flow logs. Using VPC flow logs, you can analyze the traffic that enters your instances and see the client IP address.

To enable VPC flow logs, please refer to the following link:
https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/flow-logs.html

Once you know which client is sending an unusual amount of traffic, you can deny the client IP in Access lists (ACLs).

Best Regards,
Pavithra K."

Amazon EC2	"Cannot release an elastic IP
I'm trying to release an elastic IP (54.94.213.80) and I receive a message:

An error occurred while attempting to release the IP addresses
The address with allocation id eipalloc-d01ef3b5 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. 

Why this IP is locked to my account?"

Amazon EC2	"Re: Cannot release an elastic IP
Hello,

Thank you for reaching out to us.

Your EIP was locked to your account due to a Reverse DNS record that was setup on your EIP. I have removed the rDNS record from the mentioned IP, so you should be able to release your IP.

Please note that DNS Propagation can take up to 24-48 hours.

If you have any further questions, please feel free to let us know."

Amazon EC2	"Re: Cannot release an elastic IP
Thank's"

Amazon EC2	"Auto-scaling terminates my instance
Hello!

I created an autoscaling group, but when I restarted the instance, the status changed to ""terminated"", and a new empty instance was created with a new IP. What happened? How to undo to the first instance?

Thank you!"

Amazon EC2	"Re: Auto-scaling terminates my instance
Hello,

AutoScaling will launch a new instance everytime it detects that one of the resources failed the status checks that you've configured.
http://docs.aws.amazon.com/autoscaling/latest/userguide/healthcheck.html

If you want to reboot an instance that is part of an AutoScaling group, the instance needs to be put into stand-by so that it's not terminated.
http://docs.aws.amazon.com/autoscaling/latest/userguide/as-enter-exit-standby.html

Cheers,
Eduardo C"

Amazon EC2	"Unable to connect to EC2 instance using WINSCP or FileZilla
Hi,

I am planning to switch from godaddy to amazon aws. Following the docs I managed to create ec2 windows instance id i-0837d14ddd72ed4a5 which is running fine. I am also able to remote login using RDP using .pem file. Now I want to connect this instance through SFTP, for that as mentioned in the docs I added a rule in security group TCP 22 & then restarted the instance. I have configured WinSCP to use certificate as mentioned in one of the blogs as here http://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp
But still I am unable to connect through SFTP.

Below is the winscp log. Please Help!

. 2016-08-02 12:18:50.572 Session name: Administrator@54.200.52.156 (Site)
. 2016-08-02 12:18:50.572 Host name: ec2-54-191-172-189.us-west-2.compute.amazonaws.com (Port: 22)
. 2016-08-02 12:18:50.572 User name: ec2-user (Password: No, Key file: Yes)
. 2016-08-02 12:18:50.572 Tunnel: No
. 2016-08-02 12:18:50.572 Transfer Protocol: SFTP
. 2016-08-02 12:18:50.572 Ping type: -, Ping interval: 30 sec; Timeout: 15 sec
. 2016-08-02 12:18:50.572 Disable Nagle: No
. 2016-08-02 12:18:50.572 Proxy: none
. 2016-08-02 12:18:50.572 Send buffer: 262144
. 2016-08-02 12:18:50.572 SSH protocol version: 2; Compression: No
. 2016-08-02 12:18:50.572 Bypass authentication: No
. 2016-08-02 12:18:50.572 Try agent: Yes; Agent forwarding: No; TIS/CryptoCard: No; KI: Yes; GSSAPI: No
. 2016-08-02 12:18:50.572 Ciphers: aes,blowfish,3des,WARN,arcfour,des; Ssh2DES: No
. 2016-08-02 12:18:50.572 KEX: rsa,dh-gex-sha1,dh-group14-sha1,dh-group1-sha1,WARN
. 2016-08-02 12:18:50.572 SSH Bugs: A,A,A,A,A,A,A,A,A,A,A,A
. 2016-08-02 12:18:50.572 Simple channel: Yes
. 2016-08-02 12:18:50.572 Return code variable: Autodetect; Lookup user groups: A
. 2016-08-02 12:18:50.572 Shell: default
. 2016-08-02 12:18:50.572 EOL: 0, UTF: 2
. 2016-08-02 12:18:50.572 Clear aliases: Yes, Unset nat.vars: Yes, Resolve symlinks: Yes
. 2016-08-02 12:18:50.572 LS: ls -la, Ign LS warn: Yes, Scp1 Comp: No
. 2016-08-02 12:18:50.572 SFTP Bugs: A,A
. 2016-08-02 12:18:50.572 SFTP Server: default
. 2016-08-02 12:18:50.572 Local directory: default, Remote directory: home, Update: Yes, Cache: Yes
. 2016-08-02 12:18:50.572 Cache directory changes: Yes, Permanent: Yes
. 2016-08-02 12:18:50.572 DST mode: 1
. 2016-08-02 12:18:50.572
. 2016-08-02 12:18:50.822 Looking up host ""ec2-54-191-172-189.us-west-2.compute.amazonaws.com""
. 2016-08-02 12:18:51.442 Connecting to 54.191.172.189 port 22
. 2016-08-02 12:19:12.509 Failed to connect to 54.191.172.189: Network error: Connection timed out
. 2016-08-02 12:19:12.559 Knocking FTP port.
. 2016-08-02 12:19:14.574 FTP port did not open.

2016-08-02 12:19:14.664 (EFatal) Network error: Connection to ""ec2-54-191-172-189.us-west-2.compute.amazonaws.com"" timed out.


Edited by: ruby4 on Aug 1, 2016 11:45 PM

Please Help!

Many Thanks.

Edited by: ruby4 on Aug 2, 2016 12:00 AM"

Amazon EC2	"Re: Unable to connect to EC2 instance using WINSCP or FileZilla
Hello,

Based on the logs I can see the connection to the instance 54.191.172.189 on port 22 failed due to a time out.

(assuming that you are using IIS)
Although you can have IIS FTP configured with SSL , this is not a SFTP server therefore you should conenct to it using the default FTP port 21. 

In addition to that, you may need to configure the Firewall settings on your IIS with the public IP address of your instance so that your remote computer is able to reach when establishing a passive connection.
http://www.iis.net/learn/publish/using-the-ftp-service/configuring-ftp-firewall-settings-in-iis-7

Cheers

Eduardo C"

Amazon EC2	"How to get account spot limit with ec2-describe-account-attributes?
Using EC2 command line tools and ec2daa command documented here, is there an ACCOUNTATTRIBUTE identifier that can be used to fetch the account spot instance limit?

Would be very useful, any advice appreciated."

Amazon EC2	"Re: How to get account spot limit with ec2-describe-account-attributes?
No, there is not at this time. According to the documentation for the DescribeAccountAttributes API call, the only supported account attributes are:


supported-platforms: Indicates whether your account can launch instances into EC2-Classic and EC2-VPC, or only into EC2-VPC.
default-vpc: The ID of the default VPC for your account, or none.
max-instances: The maximum number of On-Demand instances that you can run.
vpc-max-security-groups-per-interface: The maximum number of security groups that you can assign to a network interface.
max-elastic-ips: The maximum number of Elastic IP addresses that you can allocate for use with EC2-Classic.
vpc-max-elastic-ips: The maximum number of Elastic IP addresses that you can allocate for use with EC2-VPC."

Amazon EC2	"AMI Snapshot 35GB over 90 minutes
Hi,

my snapshots usually take 5-10 minutes. However, today's AMI snapshot has been running for 90 minutes and is currently at 36%. The volume is only 35 GB.

Can you check what's wrong (snap-a811ab24) ?

Thank You,
Talal."

Amazon EC2	"Re: AMI Snapshot 35GB over 90 minutes
3h 30 min. later and the snapshot is showing 80%...."

Amazon EC2	"Re: AMI Snapshot 35GB over 90 minutes
it eventually copied after few hours...."

Amazon EC2	"Cannot release EIP, locked to account
I need to remove this IP from my account but am unable to.

54.201.75.139: The address with allocation id eipalloc-3b3d3759 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: c72c3c05-8015-40f1-8bfc-0f300bc48060)"

Amazon EC2	"Re: Cannot release EIP, locked to account
Hello,

Thank you for reaching out to us.

I had a look at your EIP and currently it is not associated with an Instance or ENI, so you should be able to release the EIP.

Usually when its not associated and this error is received, then the error lean towards a Reverse DNS entry that is still associated with the EIP. I did a reverse lookup on the mentioned address, and no rDNS records was found.

Would you be able to try again, and if you still experiencing a problem to do so, please
let us know."

Amazon EC2	"Ports blocked on EC2 Instance
Hi,

I'm attempting to open ports 9001 on an EC2 instance, however I am unable to do so.
Instance id is i-2d3143af.

I've assigned it to a security group that has the port open for both TCP and UDP.
In addition, I've allowed the port through my iptables, using:
iptables -A INPUT -p tcp -m tcp --sport 9001 -j ACCEPT; and
iptables -A OUTPUT -p tcp -m tcp --dport 9001 -j ACCEPT.

netstat shows that my services are running on the correct port, and running 
nmap 127.0.0.1; shows:
PORT            STATE            SERVICE
22/tcp           open             ssh
9001/tcp       open             tor-orport

Running nmap on both the public and private IPs give the same result, however running nmap <privateIP> -p 9001 on my local machine gives:
9001/tcp     filtered     tor-orport
and telnet times out.

Am I missing something?

Thanks"

Amazon EC2	"Re: Ports blocked on EC2 Instance
Hello,

While I was investigating your question, I had a look at your instance and was able to connect to the mentioned port on the Public IP of the instance:

$ nc -vz x.x.x.x 9001
Connection to x.x.x.x 9001 port tcp/x succeeded!

So from the output, it seems that you were able to resolve the issue. 

From what I could see, nmap was reporting the port was filtered, so with that being said nmap could not determine the state of the port as packet filtering prevents it from reaching the port.

So it lean towards the Iptable Rule:

Iptables:
iptables -A INPUT -p tcp -m tcp --dport 9001 -j ACCEPT
 

Also by making sure, there are no rules above the mentioned rule, that could explicitly deny the connection.

If you have any further questions, please feel free to let us know."

Amazon EC2	"99% WA Cpu usage
Dear friends, since a week or two I've been having major issues with my EC2 instance.
Before then, it was online for months without any problem. Then a couple of weeks ago it appeared dead, I couldn't ssh into it, so I stopped and started it back from the dashboard, and apparently all was fine.
Then it died again, same story, and finally today it died again but before rebooting it did let me in with ssh, and this is how I found the 99% wa cpu usage.

I ran yum install sysstat but sadly the machine never actually replied, it was completely unresponsive, so again I had to reboot it. From the system logs I see:

blk_update_request: I/O error, dev xvda, sector 13078464

Does it mean that the disks are failing?
How can I debug what causes the spike in wa % if I can't ssh into it when it happens?
Thank you so much,
Roberto"

Amazon EC2	"1/2 checks passed
Hi,

I made a small change in the /etc/hosts file, and when I rebooted the server it would not start up again. It says that the instance is running, but only 1/2 checks passed. I'll include the log:
Any comments/tips&tricks would be highly appreciated!

Instance ID: i-02c55f011be04c0a3

Log:
doing fast boot
http://    2.279074 Unable to read sysrq code in control/sysrq
FATAL: Module piix not found.
FATAL: Module ide_pci_generic not found.
Creating device nodes with udev
ata_id529: HDIO_GET_IDENTITY failed for '/dev/.tmp-block-3:0'

mount: devpts already mounted or /dev/pts busy
mount: according to mtab, devpts is already mounted on /dev/pts

Boot logging started on /dev/ttyS0(/dev/console) at Wed Aug  3 21:14:07 2016

resume device  not found (ignoring)

Waiting for device /dev/hda1 to appear:  ok

fsck from util-linux 2.19.1

[/sbin/fsck.ext3 (1) -- /] fsck.ext3 -a /dev/hda1 

/dev/hda1: clean, 89293/655360 files, 793570/2621184 blocks

fsck succeeded. Mounting root device read-write.

Mounting root /dev/hda1

mount -o rw,defaults -t ext3 /dev/hda1 /root

INIT: version 2.86 booting

System Boot Control: Running /etc/init.d/boot
Mounting sysfs at /sys7[?25l
[80C[10D[1;32mdone[m8[?25h
Copying static /dev content7[?25l
[80C[10D[1;32mdone[m8[?25h
Mounting devpts at /dev/pts7[?25l
[80C[10D[1;32mdone[m8[?25h

Boot logging started on /dev/ttyS0(/dev/console) at Wed Aug  3 21:14:07 2016

Mounting debugfs at /sys/kernel/debug7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hNo efivars filesystem driver available.[m[?25hStarting udevd: 7[?25l
[80C[10D[1;32mdone[m8[?25h

Loading drivers, configuring devices: http://    3.890649 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
ata_id859: HDIO_GET_IDENTITY failed for '/dev/hda'


7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hActivating swap-devices in /etc/fstab...

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h[m[?25hSet System Time to the current Hardware Clock7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hActivating device mapper...

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hLoading required kernel modules

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h[m[?25hWaiting for /dev/vg_SAP/lg_SAP  no more events

Checking file systems...

7[?25l[1A
[80C[10D[1;32mdone[m8[?25hMounting local file systems...

mount: special device /dev/vg_SAP/lg_SAP does not exist

mount: special device /vol/vol_SAP/usr/sap does not exist

mount: special device /vol/vol_SAP/sapmnt does not exist

mount: special device /vol/vol_SAP/hana does not exist

7[?25l[1A
[80C[10D[1;31mfailed[m8[?25h[m[?25hCheck if the profiles matches the system7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25h[m[?25hLoading fuse module 7[?25l
[80C[10D[1;32mdone[m8[?25h

Mounting fuse control filesystem7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hCreating /var/log/boot.msg

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h[m[?25hEnabling monitoring on LVM volume groups...

  No volume groups found

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25h[m[?25h[m[?25hActivating remaining swap-devices in /etc/fstab...

7[?25l[1A
[80C[10D[1;31mfailed[m8[?25h[m[?25h[m[?25h[m[?25hTurning quota on

Checking quotas. This may take some time.

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hSetting current sysctl status from /etc/sysctl.conf7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25h[m[?25hEnabling syn flood protection
[80C[10D[1;32mdone[m

Disabling IP forwarding7[?25l
[80C[10D[1;32mdone[m8[?25h

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hSetting up hostname '# demo21'7[?25l
[80C[10D[1;32mdone[m8[?25h

Setting up loopback interface     lo        

    lo        IP address: 127.0.0.1/8   

              IP address: 127.0.0.2/8   

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hRunning sadc

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hSetting kernel specific parameters for a SAP system

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h[m[?25hSystem Boot Control: The system has been 
[80C[10D[1mset up[m

Skipped features: [80C[30D[1;33mboot.efivars boot.cycle[m

System Boot Control: Running /etc/init.d/boot.local

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h
INIT: Entering runlevel: 3

Master Resource Control: previous runlevel: N, switching to runlevel: 
[80C[10D[1m3[m

Starting D-Bus daemon7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting syslog services7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25h[m[?25h[m[?25hInitializing random number generator7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hLoading CPUFreq modules (CPUFreq not supported)

Starting HAL daemon7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hSetting up (localfs) network interfaces:

    lo        

    lo        IP address: 127.0.0.1/8   

              IP address: 127.0.0.2/8   

7[?25l[1A
[80C[10D[1;32mdone[m8[?25h    eth0      

    eth0      Starting DHCP4 client. .  

    eth0      DHCP4 client NOT running

7[?25l[1A
[80C[10D[1;31mfailed[m8[?25hWaiting for mandatory devices:  eth0 

29 27 26 25 23 22 20 19 17 16 15 13 12 10 9 7 6 5 3 2 0 

    eth0      

    eth0      DHCP4 client NOT running

    eth0      is up

7[?25l[1A
[80C[10D[1;31mfailed[m8[?25h    eth0      interface could not be set up until now

7[?25l[1A
[80C[10D[1;31mfailed[m8[?25hSetting up service (localfs) network  .  .  .  .  .  .  .  .  .  .7[?25l
[80C[10D[1;31mfailed[m8[?25h

[m[?25h7[?25l
[80C[10D[1;31mfailed[m8[?25h

[m[?25h[m[?25hStarting auditd 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting haveged daemon 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting rpcbind 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hNot starting NFS client services - no NFS found in /etc/fstab:
[80C[10D[1munused[m

[m[?25hMount CIFS File Systems 
[80C[10D[1munused[m

[m[?25hStarting irqbalance 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting java.binfmt_misc 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting mcelog... 7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hSetting up (remotefs) network interfaces:

Setting up service (remotefs) network  .  .  .  .  .  .  .  .  .  .7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting SSH daemon7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting cloud-init: Cloud-init v. 0.7.5 running 'init-local' at Wed, 03 Aug 2016 21:14:46 +0000. Up 42.39 seconds.

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hFile /usr/sap/sapservices not found.

[m[?25hStarting cloud-init: Cloud-init v. 0.7.5 running 'init' at Wed, 03 Aug 2016 21:14:46 +0000. Up 42.68 seconds.

ci-info: +++++++++++++++++++++++Net device info+++++++++++++++++++++++

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: | Device |  Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: |   lo   | True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | True |     .     |     .     | 06:e5:2a:ec:30:f3 |

ci-info: +--------+------+-----------+-----------+-------------------+

ci-info: +++++++++++++++++++++++++++Route info++++++++++++++++++++++++++++

ci-info: +-------+-------------+---------+-----------+-----------+-------+

ci-info: | Route | Destination | Gateway |  Genmask  | Interface | Flags |

ci-info: +-------+-------------+---------+-----------+-----------+-------+

ci-info: |   0   |  127.0.0.0  | 0.0.0.0 | 255.0.0.0 |     lo    |   U   |

ci-info: +-------+-------------+---------+-----------+-----------+-------+

2016-08-03 21:14:46,773 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:47,785 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:48,797 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:49,809 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:50,822 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:51,824 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:53,828 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:55,831 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:57,834 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:14:59,838 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:01,841 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:04,846 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:07,851 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:10,855 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:13,860 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:16,864 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:20,870 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:24,875 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 38/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:28,881 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 42/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:32,886 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 46/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:36,892 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 50/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:41,898 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 55/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:46,905 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 60/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:51,910 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 65/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:15:56,917 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 70/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:01,924 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 75/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:07,932 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 81/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:13,939 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 87/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:19,946 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 93/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:25,954 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 99/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:31,961 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 105/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:38,970 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 112/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:45,978 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 119/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2016-08-03 21:16:52,986 - DataSourceEc2.pyCRITICAL: Giving up on md from  after 126 seconds

2016-08-03 21:16:53,061 - stages.pyWARNING: Could not find module named cc_gowpart

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting Name Service Cache Daemon7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting mail service (Postfix)7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting cloud-init: Cloud-init v. 0.7.5 running 'modules:config' at Wed, 03 Aug 2016 21:16:53 +0000. Up 169.53 seconds.

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting CRON daemon7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hStarting smartd 
[80C[10D[1munused[m

[m[?25hStarting cloud-init: Cloud-init v. 0.7.5 running 'modules:final' at Wed, 03 Aug 2016 21:16:53 +0000. Up 169.87 seconds.

Cloud-init v. 0.7.5 finished at Wed, 03 Aug 2016 21:16:53 +0000. Datasource DataSourceNone.  Up 169.95 seconds

2016-08-03 21:16:53,959 - cc_final_message.pyWARNING: Used fallback datasource

7[?25l
[80C[10D[1;32mdone[m8[?25h

[m[?25hMaster Resource Control: runlevel 3 has been 
[80C[10D[1mreached[m

Failed services in runlevel 3: [80C[36D[1;31mnetwork guestregister sapinit[m

Skipped services in runlevel 3: [80C[23D[1;33mnfs smbfs smartd[m


Welcome to SUSE Linux Enterprise Server 11 SP3  (x86_64) - Kernel 3.0.101-0.47.71-default (ttyS0).


login:"

Amazon EC2	"How to modify instance metadata on a running instance
I would like to periodically replace the key pair on a running instance for security purposes.  This is easy enough by updating the authorized_keys file.  However, the instance metadata still retains the key information from when the instance was initially launched.

Is there a way to modify the metadata?"

Amazon EC2	"Re: How to modify instance metadata on a running instance
Hello,

Thanks for posting. Unfortunately you cannot manipulate the key that is stored in the metadata. If you wish to change this information you would need to launch an instance using the new key, from an AMI for example.

Regards,
Brandon"

Amazon EC2	"Re: How to modify instance metadata on a running instance
Thanks for the response.  Are there any enhancements planned to allow for the metadata to be modified?  To implement SSH key rotation, it is a bit cumbersome and possibly impractical to require snapshots on each instance and then a re-launch of a new instance.

Has anyone else needed to do this?  If so, please share your approach.  I am opting to either leave the metadata inconsistent or avoid using the launch key pair altogether."

Amazon EC2	"Re: How to modify instance metadata on a running instance
Can i remove the instance-data from the hostname file (or make it incorrect) of the running instance , just to verify that our application is not using the DNS name and using the 169.254...IP address ..
if yes, Could you please help me how to do that

Edited by: StoneCold on Aug 3, 2016 7:35 PM"

Amazon EC2	"Elatic Beanstalk + dynamoDB store session tomcat error
Hi~

i got the problem when i use the elastic beanstalk and i want to save session on the dynamodb

i found the example by google https://packageprogrammer.wordpress.com/2014/01/13/aws-elastic-beanstalk-and-dynamodb-session-manager-for-tomcat/

i create the Enviroment with tomcat7+jdk7 and follow step by step
1.Download from aws-dynamodb-session-tomcat releases the AmazonDynamoDBSessionManagerForTomcat-1.0.1.jar and copy into .ebextensions directory of your WAR
2.Edit context.xml with the code below and copy into .ebextensions directory of your WAR
3.In the .ebextensions directory (Remember it must be inside /WEB-INF directory, /web-app for grails applications), create a .config file to write the command to execute the replacement of context.xml and copy the jar inside Beanstalk instances.

and when i push to the elastic beanstalk , i got the error log from the elastic beanstalk like this

/var/log/tomcat7/catalina.out

	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	at org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:144)
	at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282)
	... 31 more

Aug 02, 2016 9:17:54 AM org.apache.catalina.startup.ContextConfig processContextConfig
SEVERE: Occurred at line 10 column 29
Aug 02, 2016 9:17:55 AM org.apache.tomcat.util.scan.StandardJarScanner scan
WARNING: Failed to scan  from classloader hierarchy
java.util.zip.ZipException: invalid CEN header (bad signature)
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.<init>(ZipFile.java:215)
	at java.util.zip.ZipFile.<init>(ZipFile.java:145)
	at java.util.jar.JarFile.<init>(JarFile.java:154)
	at java.util.jar.JarFile.<init>(JarFile.java:91)
	at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:93)
	at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)
	at org.apache.tomcat.util.scan.FileUrlJar.<init>(FileUrlJar.java:41)
	at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)
	at org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(ContextConfig.java:2679)
	at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:259)
	at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:221)
	at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1915)
	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1270)
	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:887)
	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:387)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5472)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
	at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1260)
	at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2002)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)

Aug 02, 2016 9:17:55 AM org.apache.catalina.startup.ContextConfig configureStart
SEVERE: Marking this application unavailable due to previous error(s)
Aug 02, 2016 9:17:55 AM org.apache.catalina.startup.TldConfig tldScanJar
WARNING: Failed to process JAR  for TLD files
java.util.zip.ZipException: invalid CEN header (bad signature)
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.<init>(ZipFile.java:215)
	at java.util.zip.ZipFile.<init>(ZipFile.java:145)
	at java.util.jar.JarFile.<init>(JarFile.java:154)
	at java.util.jar.JarFile.<init>(JarFile.java:91)
	at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:93)
	at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)
	at org.apache.tomcat.util.scan.FileUrlJar.<init>(FileUrlJar.java:41)
	at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)
	at org.apache.catalina.startup.TldConfig.tldScanJar(TldConfig.java:502)
	at org.apache.catalina.startup.TldConfig.access$200(TldConfig.java:61)
	at org.apache.catalina.startup.TldConfig$TldJarScannerCallback.scan(TldConfig.java:300)
	at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:259)
	at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:221)
	at org.apache.catalina.startup.TldConfig.execute(TldConfig.java:271)
	at org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:590)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5472)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
	at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1260)
	at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2002)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)

i can't find what's wrong is it ? i attach my file and the Screenshot

file on google 
https://drive.google.com/open?id=0B0JSx7oax2FMV2NEVnZGdnpPdFE
can somebody help me? tell me how to slove it......

thanks

Edited by: daniellin79 on Aug 2, 2016 4:00 AM

Edited by: daniellin79 on Aug 2, 2016 8:45 AM"

Amazon EC2	"Re: Elatic Beanstalk + dynamoDB store session tomcat error
can't set directory in the pom.xml and put .ebextensions in the resource.
just put .ebextensions under the WEB-INF"

Amazon EC2	"Using 3rd party software in EC2
Hello, 

I'm new to AWS and wondering if I have selected the right product for my needs.  I'm planning to deploy a software product on my Windows EC2 instance that uses a unique magic number to identify the server it is installed on for license activation purposes.  Will I need to be running my EC2 instance on a dedicated host for this sort of software activation to succeed?  I am aware that the EC2 instance can be moved at any time to a different host, and my fear is that would break the activation.  I would also like to know if there is a different way to achieve a proper activation, perhaps by using a different virtualization type?  para-virtualization vs. hardware virtualization?

thanks in advance for this information.  It will be very helpful to me.
Lou

Edited by: PSI-Lou on Aug 3, 2016 12:03 PM"

Amazon EC2	"Re: Using 3rd party software in EC2
Usually software uses pieces from the operating system and (virtual) hardware to generate its unique number.

Dedicated hosts are usually only required for CPU-based licensing requirements.  Unless you are up against those kind of requirements, you should be fine with a standard EC2 instance.

Also - always use HVM instead of PVM."

Amazon EC2	"Re: Using 3rd party software in EC2
Since I've already observed the unique id of the software I'm trying to use change each time my EC2 instance is stopped and restarted, I have to assume the license uses the CPU as part of the hardware portion of it's license ID generation algorithm. Is Dedicated Host the only option that would work for such software or is there anything else in AWS that might work?"

Amazon EC2	"EC2 Instance won't terminate
Hi,

My EC2 instance (i-1057148e) in eu-west is not getting terminated yet and still in the shutting-down state.

Please help to terminate the instance and the associated volume.

Thank you."

Amazon EC2	"Re: EC2 Instance won't terminate
Hello there,

I just took a look at your instance. It shows that the instance is terminated now. Could you please confirm if you see it marked as ""Terminated""?

If it's still stuck, please let us know, we'll investigate it further.

Thanks,
Anup"

Amazon EC2	"AmazonEC2; Error Code: InvalidAddress.Locked
I seem unable to release an Elastic IPs from my account that I no longer need.

When I try to release it, I see the following error:

An error occurred while attempting to release the IP addresses
52.4.111.10: The address with allocation id eipalloc-6e28b00b cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 9fcdca72-e602-455e-82f1-bb36510fe8a0)"

Amazon EC2	"Re: AmazonEC2; Error Code: InvalidAddress.Locked
Hello,

I have completed the necessary steps to unlock these IPs from your account. You should now be able to disassociate them from your account.

Regards,
Anup"

Amazon EC2	"Status Checks fails and instance not accessible
i have Linux instance on Origon Instance ID i-62c63ff6 , unavailable with Status Checks fails,
couldent connect. so i try to restart the instance but took much time with no result. so finally i stop the instance and then start, after that it's recover , please let me know the reason for that. and what are the best practice for such a case.

Edited by: siraonline on Aug 1, 2016 6:25 AM"

Amazon EC2	"Re: Status Checks fails and instance not accessible
Hello,

I apologize for the inconvenience. I just looked in to your instance and saw that the instance was on a degraded hardware. This cause the instance to become inaccessible.

When you stopped and started the instance, the instance moved to another hardware which is running healthy. So it's running fine now.

Please let me know if you have any further questions.

Anup"

Amazon EC2	"EC2 Instance won't connect in browser or ssh
When I type in the public DNS, it says the website refused to connect. When I try to ssh into the server in terminal, it says the connection times out. I have accessed it in terminal before for long enough to clone a git repository into it, even though it doesn't seem to be working now. Trying to access it via browser has never worked. I've tried looking at other people's solutions (security groups, making sure the key works, etc.) but haven't found anything that works yet. Any idea what might be wrong?"

Amazon EC2	"Windows Firewall-Can't RDP
Hello,

In an attempt to troubleshoot some issues with my EC2 instance connecting to my local network I ""Reset Windows Firewall to Default Settings"".

As soon as I did this I immediately lost remote connectivity, and now can no longer Remote Desktop into my instance.

Please help!"

Amazon EC2	"deleted
deleted"

Amazon EC2	"EC2 Instance won't terminate
Hi,

My EC2 instance (i-6c966fe7) in eu-west is stuck in the shutting-down state. Please can you help?

Thank you."

Amazon EC2	"Re: EC2 Instance won't terminate
Hi,

It looks like the instance i-6c966fe7 has been terminated now.

We apologize for the inconvenience caused to you due to this issue! 

Thanks,
Avani"

Amazon EC2	"internal DNS resolution failure?
It looks like I can't resolve the internal DNS name of publicly addressed instances on direct addressed instances anymore. For example:[root@work current]# ifconfig eth0eth0      Link encap:Ethernet  HWaddr 12:31:34:00:03:41            inet addr:216.182.238.185  Bcast:216.182.238.255  Mask:255.255.255.128          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1          RX packets:1582532711 errors:0 dropped:0 overruns:0 frame:0          TX packets:1507950661 errors:0 dropped:0 overruns:0 carrier:0          collisions:0 txqueuelen:1000           RX bytes:1489965794 (1.3 GiB)  TX bytes:1137353982 (1.0 GiB)[root@work current]# host 216.182.238.185185.238.182.216.in-addr.arpa domain name pointer domU-12-31-34-00-03-41.usma2.compute.amazonaws.com.[root@work current]# host domU-12-31-36-00-35-94.z-1.compute-1.internalHost domU-12-31-36-00-35-94.z-1.compute-1.internal not found: 3(NXDOMAIN)[root@work current]#"

Amazon EC2	"Re: internal DNS resolution failure?
Hi ThorstenPlease accept our apologies - this is a known issue which we hope to have resolved within 24 hours.RegardsQuinton"

Amazon EC2	"Re: internal DNS resolution failure?
Forgot to post /etc/resolv.conf[root@work current]# cat /etc/resolv.conf; generated by /sbin/dhclient-scriptsearch usma2.compute.amazonaws.comnameserver 216.182.232.21nameserver 216.182.232.22[root@work current]# host -v domU-12-31-36-00-35-94.z-1.compute-1.internalTrying ""domU-12-31-36-00-35-94.z-1.compute-1.internal""Host domU-12-31-36-00-35-94.z-1.compute-1.internal not found: 3(NXDOMAIN)Received 138 bytes from 216.182.232.21#53 in 114 ms[root@work current]# host -v domU-12-31-36-00-35-94.z-1.compute-1.internal 216.182.232.22Trying ""domU-12-31-36-00-35-94.z-1.compute-1.internal""Using domain server:Name: 216.182.232.22Address: 216.182.232.22#53Aliases: Host domU-12-31-36-00-35-94.z-1.compute-1.internal not found: 3(NXDOMAIN)Received 138 bytes from 216.182.232.22#53 in 86 ms"

Amazon EC2	"Re: internal DNS resolution failure?
Thanks for the prompt reply!""within 24 hours""? Gasp...- Thorsten - www.rightscale.com"

Amazon EC2	"Re: internal DNS resolution failure?
Now we can't resolve any DNS on our direct addressed instances. The DNS servers don't respond:[root@work current]# host -v s3.amazonaws.com   Trying ""s3.amazonaws.com"";; connection timed out; no servers could be reached[root@work current]# ifconfigeth0      Link encap:Ethernet  HWaddr 12:31:34:00:03:41            inet addr:216.182.238.185  Bcast:216.182.238.255  Mask:255.255.255.128          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1          RX packets:1584494276 errors:0 dropped:0 overruns:0 frame:0          TX packets:1509780363 errors:0 dropped:0 overruns:0 carrier:0          collisions:0 txqueuelen:1000           RX bytes:3246575265 (3.0 GiB)  TX bytes:1484614683 (1.3 GiB)"

Amazon EC2	"Re: internal DNS resolution failure?
We are working to resolve this issue.  For clarification we assume this is coming from the same instance?Additionally, to clarify from Quinton's previous post we were concerned with DNS convergence rate.  We think we can have this resolved much quicker."

Amazon EC2	"Re: internal DNS resolution failure?
Thanks for the update, this is very helpful!Yes, it was from the same instance.Things seem to be improving, now I get:[root@work current]# host -v s3-2.amazonaws.comTrying ""s3-2.amazonaws.com"";; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 33103;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0;; QUESTION SECTION:;s3-2.amazonaws.com.            IN      A;; ANSWER SECTION:s3-2.amazonaws.com.     60      IN      A       207.171.181.225Received 70 bytes from 216.182.232.21#53 in 299 msTrying ""s3-2.amazonaws.com"";; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 11154;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0;; QUESTION SECTION:;s3-2.amazonaws.com.            IN      AAAA;; AUTHORITY SECTION:s3-2.amazonaws.com.     1       IN      SOA     ns-750.amazon.com. dns.amazon.com. 3385390033 3600 900 7776000 1Received 111 bytes from 216.182.232.21#53 in 55 msTrying ""s3-2.amazonaws.com""Host s3-2.amazonaws.com not found: 2(SERVFAIL)Received 36 bytes from 216.182.232.22#53 in 720 ms[root@work current]#"

Amazon EC2	"Re: internal DNS resolution failure?
Thorsten can you please confirm that you can resolve all of you instances now."

Amazon EC2	"Re: internal DNS resolution failure?
Yes, it all seems to work now. Thanks for the communication!  - Thorsten - www.rightscale.com"

Amazon EC2	"Re: internal DNS resolution failure?
The internal DNS of my XL EC2 MySQL server instance seems to not be resolving intermittently from my XL EC2 Apache server instance:<div>My application had been working well communicating between the two servers until recently.  Over the weekend (12/1/2007-12/2/2007), I started seeing several messages in my Apache error log such as this one:</div><div> </div><div>Unknown MySQL server host 'domU-xx-xx-xx-xx-xx-xx.compute-1.internal'</div><div> </div><div>For some reason, some of the connections from my Apache server tomy MySQL server are unable to resolve.  Can you please help me withthis?</div>"

Amazon EC2	"Re: internal DNS resolution failure?
What is the ID of the instance where you are seeing this problem?"

Amazon EC2	"Re: internal DNS resolution failure?
Hi Aaron, the ID for Apache is i-17af5b7e and MySQL is i-19af5b70.  Thanks."

Amazon EC2	"Re: internal DNS resolution failure?
We have investigated, and you should no longer be seeing this issue.  If it does reoccur, please send me a private message with the details.Thanks,-- Aaron"

Amazon EC2	"Failure: DNS resolution failed: Rcode NXDomain(3)
Hi,

I had hosted and registered my domain with AWS.

All of a sudden my domain name intellimind.io is receiving following error.

Failure: DNS resolution failed: Rcode NXDomain(3)

I would appreciate any help.

With best,
Rajan"

Amazon EC2	"Re: Failure: DNS resolution failed: Rcode NXDomain(3)
Hi Rajan,

Are you still facing the issue? Could you please let me know from where are you trying to resolve the domain name intellimind.io, i.e from a machine within a VPC or your local machine?

I was able to resolve the domain from my machine.

Thanks,
Avani"

Amazon EC2	"how to find glusterfs brick size
I am adding a physical disk of 8GB for glusterfs storage physical drive-xvdf, partition-xvdf1

root@ip-10-xx-x-xx replicated1# lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0   8G  0 disk
└─xvda1 202:1    0   8G  0 part /
xvdf    202:80   0   8G  0 disk
└─xvdf1 202:81   0   8G  0 part /data/brick1

Install xfs and format the partition
mkfs.xfs -i size=512 /dev/sdf1

Now,mount the directory data/brick1 to the newly created partition

echo ""/dev/sdf1 /data/brick1 xfs defaults 1 2"" >> /etc/fstab
mount -a && mount

root@ip-10-xx-x-xx replicated1# gluster volume status test-volume detail
Status of volume: rep-volume


Brick                : Brick 10.xx.x.xx:/data/brick1/replicated1
Port                 : 49154
Online               : Y
Pid                  : 2103
File System          : xfs
Device               : /dev/xvdf1
Mount Options        : rw,relatime,attr2,inode64,noquota
Inode Size           : 512
Disk Space Free      : 8.0GB
Total Disk Space     : 8.0GB
Inode Count          : 4193792
Free Inodes          : 4193697
My question is what is my brick size here ? Also, Can i have multiple bricks in a single partition?

Edited by: ish on Aug 3, 2016 7:37 AM"

Amazon EC2	"Instance can't reach other amazon properties
We have an instance that recently underwent maintenance from Amazon.  Since then, it can no longer reach other AWS services.  It can't connect to S3 like it could before.  In fact, if I open a browser and try to goto amazon.com in the instance, the connection times out.  We can connect to the instance remotely no problem, it's just the amazon properties we can't reach.  Anyone seen this before?

Instance Id: i-d70ad3b3

Thanks in advance for any help."

Amazon EC2	"How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
I would like to install and set up mod_sec for Apache on my Amazon Linux instance. mod_sec (mod_security_crs-2.2.6) is included in the Amazon Linux 2013.09 package as described  here 
In addition, I would like to install and activate the OWASP ModSecurity Core Rule Set.
I have found a few, but mostly outdated tutorials on how to install mod_security and none for Amazon Linux. 
Questions
1) Which is the best way (""best practice"") to install mod_security and the OWASP Core Rule Set?
2) Will there be a updated version of both modules in the upcoming Amazon Linux Package? I have not found any information on the next version of mod_sec distributed with the Amazon Linux 2014.09 Package.
3) Is it possible to install these updates automatically when they become available or is it required to use ""yum"" to update them?
Thank you!"

Amazon EC2	"Re: How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
Hi AlexR,

1. Installing mod_security and the OWASP Core Rule Set in Amazon Linux is as easy as:
sudo yum install mod_security_crs

Since the package for the Core Rule Set requires mod_security, the above command will install that package as well.
The Core Rule Set will be automatically activated for you when you install mod_security_crs, so you shouldn't even have to edit any config files. You will have to restart apache to pick up the rules, though.

2. The mod_security package in Amazon Linux is fairly recent (built in May of this year).
The mod_security_crs package is older (built in March 2013).
We can look at updating that package in our repositories.
Is there a particular version of that package that you require?

3. On Amazon Linux, yum will only automatically install updates for packages on boot if they're rated as important or critical security updates. As such, you'll have to run a yum command yourself to install the latest versions of these particular packages.

Thanks for using the Amazon Linux AMI!"

Amazon EC2	"Re: How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
Hi MattN,

1. I really appreciate that Amazon Linux makes it so easy to install mod_security. Is there an easy way to check if mod_security and the rule set has been installed correctly and are running?

2. It would be great if the latest version of the AMI would always include the latest version of mod_security (currently version 2.8.0) and the latest version of the OWASP rule set.

3. How can I check what version of mod_security is currently installed? 
Would running yum update
 suffice to update mod_security?

Thank you!"

Amazon EC2	"Re: How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
1. You can check what modules apache has loaded by running:
sudo apachectl -t -D DUMP_MODULES

You should see ""security2_module (shared)"" in the list if mod_security is loaded.
The way I went about checking that the OWASP rules were getting loaded is:
I looked in the /etc/httpd/conf.d/mod_security.conf (everything under /etc/httpd/conf.d/ is sourced by apache when it starts) file and saw:
# ModSecurity Core Rules Set configuration
     Include modsecurity.d/*.conf
     Include modsecurity.d/activated_rules/*.conf

Note that these paths are relative to /etc/httpd/ (i.e. /etc/httpd/modsecurity.d/activated_rules/*.conf would be the full path).
Another way to check would be to attempt to do something that the rules should block, and see if the request is denied and logged in /var/log/httpd/error_log.

2. We're currently looking into updating mod_security to the 2.8 version that you mention, along with the latest version of OWASP (mod_security_crs).

3. You can check which version of mod_security is currently installed with:
rpm -q mod_security

And yes, an explicit yum update
 should get you to whatever the latest version is if you have the package installed."

Amazon EC2	"Re: How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
Thank you for this incredibly helpful post.

Additionally, it would be great if the package could be updated to mod_sec v2.9 since 2.9 or later is apparently required to use the commercial ruleset.

https://www.modsecurity.org/commercial-rules.html"

Amazon EC2	"Re: How to set up mod_sec (ModSecurity) for Apache on Amazon Linux
+1, upgrade to ModSecurity 2.9 would be great as 2.8 has bugs with parsing IP addresses with the IpMatch(FromFile) operator.

Edited by: hipnet13 on Aug 3, 2016 5:01 AM"

Amazon EC2	"Feature request: iptables configuration for load balancer
I've seen  this article about the load balancer team supporting the X-Forwarded-* headers in response to customer feedback. But I don't know the right or even a good way to provide feedback or request a feature. Following a link on an AWS Blog page talking about ELB, I sent an email to awseditor@amazon.com . Here it is:

Hi,
I saw  this posting about adding X-FORWARDED-* headers to requests forwarded to instances by an elastic load balancer. The article noted how responsive the ELB team had been in responding to customer feedback requesting this feature, which is great.

But I haven't been able to find an effective/official way to provide feedback or post feature requests. Searching on the forums and documentation for feature requests turns up nothing. And google only finds an archived forum whose latest post was from 2006. Since this mailto link seems to be inviting feedback related to ELB, here goes:

This  stackoverflow post asks about using the X-FORWARDED-FOR header in combination with the iptables Linux firewall to block incoming connections from ""known-bad"" IP addresses. The only suggested solution was one the OP had already been using, with apache mod_rewrite rules in a .htaccess file. But clearly that's impractical and inefficient if you have a large number of IP addresses to filter. I posted an answer suggesting that the load balancer could be replaced by a minimal instance running nginx to do the reverse proxy, which would allow him to configure iptables on that instance. And then I suggested that maybe AWS would consider a feature-request to allow the user to specify an iptables configuration for a load balancer. So here is that feature request 

If you could tell me a better place to post it, or if you post it somewhere it could be tracked, I'd love to post the url tracking the feature request back to stackoverflow!

Thanks!

Edited by: brewdad on Mar 30, 2016 12:44 AM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Hello,

I've passed this feedback onto our internal service team in the form of a feature request. I cannot comment on if or when this feature will be developed, but our roadmap is driven by requests like this. 

Please keep an eye on the AWS Blog https://aws.amazon.com/blogs/aws/ and the What's New? page https://aws.amazon.com/new/ for updates on new features as they are deployed. 

Regards,
Timothy

Edited by: Tim@AWS on Mar 31, 2016 11:08 AM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Hello,

Thank you for the post.

Looking at the description, it seems that you wish to block known bad IP addresses based on the x-forwarded-for field in the HTTP header. One way to accomplish this could be to use Network ACLs in VPC and write a script to update Network ACL rules based on the x-forwarded-for information i.e., the IP addresses.

For more information about 'Network ACLs', please refer to this documentation: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html

Also, if you could provide more information about your use case, that will help us understand your requirements better and provide you with an appropriate solution.

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Thank you so much for looking at this! I'm not familiar with using Network ACLs (yet) other than by noticing they exist for VPC - I will take a look at that documentation right away and see if I can figure out a way to use them.

My use case is simply that I want to maximize protection for my website against any kind of attacks. I currently use iptables filtering with block lists coming from this page: http://www.wizcrafts.net/iptables-blocklists.html
We have not previously supported https at all, and I was very pleased how easy it was to add support with a load balancer. But somewhat concerned to find that there was no way to use my iptables filters behind the load balancer.

We are a small members-only niche site for organizing horse information. And currently we are English-only and only expect significant legit traffic coming from North America and Western Europe. I have had no problem using all of the block lists there, including the list of exploited servers, for the past several years. One time I did have a support issue with a product developed in Latvia, and needed to explicitly allow a range of IP addresses in the ""Russian"" list, but other than that no problems at all. I see in my log files that I block roughly these numbers of requests per day from each list:
Chinese: 1000, Russian: 200, Exploited: 100, Nigerian: 5, South American: 5

So I believe that this does protect the site from some real potential threats.

I you happen to know off the top of your head if I can or can't use ACLs to do this, I'd appreciate the clue - but if you don't I'll dig in and see what I can do. I already do some scripting to combine these iptables lists with another list of IP addresses that should never be blocked (both for the Latvian developer and some contractors we had that were based in India), so I'm not afraid to do some more work to turn them into rules suitable for ACLs.

Thanks again,
 -Rich

Edited by: brewdad on Mar 31, 2016 6:20 PM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Looking at the documentation without trying any experiments yet, it appears that I could probably take my existing list of CIDRs for iptables to block, and convert it into a sequence of ACLs by iterating over the lines in the file of CIDRs to block and producing Inbound rules with PHP code roughly along these lines:

$lines = file($CIDR_FILE, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
$i = 0;
$acl = array();
foreach ($lines as $line) {
    $i += 10;
    $acl[] = array('rule' => $i, 'type' => 'HTTP', 'Protocol' => TCP, 'Port' => '80', 'Source' => $line, 'Allow' => 'Deny');
    $i += 10;
    $acl[] = array('rule' => $i, 'type' => 'HTTPS', 'Protocol' => TCP, 'Port' => '443', 'Source' => $line, 'Allow' => 'Deny');
}
$i += 10;
$acl[] = array('rule' => $i, 'type' => 'All Traffic', 'Protocol' => TCP, 'Port' => 'All', 'Source' => 0.0.0.0/0, 'Allow' => 'ALLOW');

And then it would be a matter of writing out the $acl array as some sort of AWS command script that could be run to establish the ACLs on the incoming internet port of the load balancer? Or are you saying there's a way for the ACLs to test the value of the x-forwarded-for headers on the subnet connecting the load balancer to the http-only instance running apache?"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Well, I've looked more thoroughly at the ACL documentation, and I don't see any way that ACL rules can see the X-FORWARDED-FOR headers. Your response actually said ""write a script to update Network ACL rules based on the x-forwarded-for information"", so now I'm thinking that either you didn't understand my use case at all, or else you're assuming I have a better understanding of ACLs than I've been able to acquire so far 

Writing a script to update ACL rules based on x-forwarded-for address isn't relevant to my situation, because I already have the list of CIDRs I want to block. My problem was how to block the addresses.

You point out that ACLs can block CIDRs, so now my problem is how to block them from reaching my load balancer. I found the table of Recommended Rules for Internet-Facing Load Balancer here. I think I should be able to use this to do what I want, but I'm a little fuzzy on the details.

The table gives ""The recommended rules for the subnet for your load balancer"". What is the subnet for my load balancer? My account has one VPC with one subnet. In the AWS control panel I don't see any specific link between my load balancer and the subnet, but perhaps if there were more than one subnet there would be something linking the load balancer to a particular subnet? In any event, I would want to protect all instances with the same block list, so I guess protecting my one and only subnet is what I want to do.

My subnet (subnet-b109fd9a (10.0.0.0/24) | OSH-RC3-VPC Public subnet) has a default network ACL (acl-171e9072) with Inbound and Outbound rules allowing all traffic. So I guess should be able to add rules to it following the recommended rules along these lines:
Inbound
Rule	Source		Protocol	Port		Action	Comment
100	1.52.112.0/20	TCP		80		DENY	# Vietnam (VN)
110	1.52.112.0/20	TCP		443		DENY	# Vietnam (VN)
   ... etc, other CIDRs from my block list
nnn	10.0.0.0/16	TCP		1024-65535	ALLOW	# My VPC CIDR
 
Outbound
Rule	Destination	Protocol	Port		Action	Comment
100	0.0.0.0/0 	TCP		80?		ALLOW	# Instance listener
110	0.0.0.0/0 	TCP		Health check?	ALLOW	# Health check
120	0.0.0.0/0 	TCP		1024-65535	ALLOW	# ephemeral ports

But there are several things I don't understand:
1. What is the Health Check port, where do I find it?
2. The backend instances only listen on port 80 for web requests (coming from the load balancer). But I use other connections like SSH from my PC and SFTP from my PC and between instances. Would I need to list each of those as well, or wouldn't it be okay to let my current final ALLOW rule for everything handle it? In which case I wouldn't need any of the ALLOW rules shown in the table. Or is having a final ALLOW for everything considered dangerous or bad practice?
3. What is the interaction with security groups? Presumably if the security group for the load balancer blocks a CIDR, then an ALLOW in the ACL for that CIDR will not override the security group's block, right? I guess that must be true since I currently have a final ACL that allows all, and my security group blocks CIDRs effectively.
4. I find the ""Inbound/Outbound"" terminology confusing when talking about a ""subnet"" which connects multiple things together. When there is traffic between two instances, or a load balancer and an instance, one of them sees it as inbound while the other sees it as outbound - how does the subnet see it?

UPDATE: In my situation, I've been running for several years with an ACL that allows all traffic both inbound and outbound. I've been relying entirely on AWS security group to allow all inbound HTTP/HTTPS traffic, and inbound SSH traffic only from IP addresses for a short list of developers. And then using iptables on the webserver instance to drop all INPUT traffic from any CIDR on my list. So I guess I don't really need to worry about any ACL ALLOW rules or have  my questions answered. I should be able to get the same effect that I already have with an Inbound ACL rule for each CIDR on my list, specifying all traffic on all ports as DENY. No need to change my Outbound rule that allows all traffic. I'll try that and report back. The only thing I'd be missing is logging the dropped packets that is provided by iptables. Is there a way to log connections denied by the ACL?

Edited by: brewdad on Apr 3, 2016 4:04 PM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
The VPC network ACLs apply to all assets in a subnet within a VPC for each subnet tagged with the ACL. So, to try and simplify this a little as the verbage is a bit convoluted, any ec2 instance, elb, or other aws resource that is associated with VPC is associated with at least one subnet. If that subnet is associated with a network ACL, then the ACL is applied to the AWS resource. As you only have one subnet, your ACLs will apply before the traffic passes through the load balancer and the traffic will be dropped. So, the rules that you expressed in your update should in fact block traffic like you were wondering.

Now, to address your questions at the end:
1.) The health check port is the port defined in your load balancer where it attempts to make a health check on the instances. If your application is only listening on port 80, then you would be referencing port 80. You can find this in the ""Listeners"" tab of your elb in ec2.

2.) I would suggest denying specific ranges as you are planning on doing, then do an allow all. You would ideally deal with specific port allows and ranges via security groups as they are stateful. The general best practice is to do specific denies via network ACLs and do specific allows via security groups.

3.) So, ACLs and Security groups are seperate of one another. However, ACLs get evaluated before security groups. So, your blocks with ACLs would apply before allows in security groups.

4.) Inbound/Outbound refers to a specific instance or resource. Each resource would also have its own copy of ACLs and Security groups. So, outbound to one would be inbound to another. So, within a subnet, if you have two instances (let's use A and B), then instance A would have a copy of the ACLs that apply to the subnet it is in. Instance B would have a copy of any ACLs that apply to the subnet that instance B resides in. So, if instance A sends a packet to instance B and instance A's outbound ACLs allow the packet to leave AND instance B's ACLs allow the packet in, then the packet will reach it's destination. In a tcp connection, though, the server needs to send a syn and ack back to instance A to complete the connection. So, Now instance B sends a packet back to instance A. IF instance B's outbound ACLs and Instance B's inbound ACLs allow the packet through, then the packet will get from B to A.

Does all of this make sense? Please let us know if you have further questions."

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Terrific answers, thank you so much!!

Your explanation of Inbound vs Outbound for ACLs attached to a subnet is terrific - too bad there's nothing so clear in the documentation (hint, hint). Or maybe there is but I missed it, in which case I'd say it needs to be put somewhere that's harder to miss  And again, your general advice about ACL vs security group usage is just the kind of thing that a newbie could use to get oriented.

I understand that documenting a system as complex as this is very difficult, and generally you do produce good reference documentation. You don't want users to think that there's only one ""right"" way to use these general-purpose features, so you don't always provide complete examples lest people follow them slavishly not realizing how much more they can do. But for people new to some of the terminology and concepts, it can be pretty bewildering figuring out how to put the pieces together to accomplish a task. And especially in the case of security groups and ACLs, where there's a very large overlap in capabilities, it's super helpful to have some guidance on how they fit together and when one may be more appropriate than the other.

When I first read about ACLs when I moved from EC2 classic to VPC, my reaction was that they seemed needlessly complicated and hard to use, with independent Inbound and Outbound rules instead of the stateful rules in security groups, and being attached to subnets rather than instances. Using iptables within instance seemed the most natural way to filter out traffic from a fairly large number of IP addresses. So when I ran into the issue of not being able to use iptables effectively with a load balancer in place, and googling to find the StackOverflow  question being unanswered after more than a year, I just didn't think to look at ACLs as a possible solution. I'll post back there with what I've learned here.

Thanks again, you've been extremely helpful, you can close this now: since I didn't post it as a question, I don't think I can mark it answered. But as a feature request, from my point of view I'd withdraw it as being unnecessary.

Edited by: brewdad on Apr 3, 2016 8:05 PM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
I know I said that you can close this feature request, since I can get the functionality I want with network ACLs.

However, in going down that path I encountered the ridiculously small limit on the number of ACL rules you are allowed: 20 inbound and 20 outbound. You can get them upped to 40 inbound and 40 outbound if you ask. But I have about 3400 CIDRs I want to block, so the feature is unusable for me. 

My solution is to launch a t2.nano instance running nginx configured as a reverse proxy with ssl certificate installed. I have to buy a certificate instead of using the more convenient and free AWS Certificate Manager, but this allows me to run iptables myself on the instance. According to some benchmarks, iptables doesn't start to become a performance issue until you reach about 5000 rules. And if you do start to see performance degrade, you can use ipset to drastically reduce the number of rules and their performance impact. The AWS documentation cautions against defining too many ACL rules lest it impact performance; and since the absolute maximum limit is 40 rules, I wonder what mechanism ACLs use that they are so inefficient. So I guess there might be still be some value in the original feature request, but I won't be holding my breath 

I also note that buying a certificate instead of using an Amazon certificate also gives me the opportunity to get an EV certificate, which customers find attractive."

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Thought we'd chime into this thread.

We're in a similar situation. Previously we used fail2ban to block IPs using iptables, but that obviously doesn't work behind a load balancer.

It wouldn't be the biggest task to create an AWS script for blocking IPs via ACLs but if there is only 20 inbound/outbound available then there is little point, so we're looking for a better solution.

We don't want to use WAF at this time."

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Yep. Ditto requirement. Exactly same boat here too. Multiple instances behind ELBs in multiple regions, need to disallow offending IPs from hitting my instances. 

Cant find a simple way to do this. I desperately need a solution that I can plug into my fail2ban to ban trouble makers.

Edited by: rovingeye1 on Aug 2, 2016 5:31 AM"

Amazon EC2	"Re: Feature request: iptables configuration for load balancer
Just documenting the solution in case someone else is wandering around looking for a viable solution.

1. The Network ACL based blacklist is a non starter because of the limitation of 40 IPs allowed in the ACL.
2. I went back to the original plan - ban the offending IPs on the instance IP tables. And to circumvent the issue of end client IP not being visible behind ELB, I used the X Forwarded For IPs. There are many resources online how this variable can be enabled on Apache and within your logs. Just google for it.
3. As far as how to ban the X Forwarded For IPs in my IP tables using fail2ban (which is what I use to track brute force attacks), I found an awesome resource that I followed pretty much to the T to achieve my end goal. That resource can be found here - https://centos.tips/fail2ban-behind-a-proxyload-balancer/

Thanks to the guy who wrote that article. It works like a charm now."

Amazon EC2	"Block IP using ELB
I need to block an IP that is abusing my web server.I can't do it using iptables because the requests are made with the ip of the Elastic Load Balancer.Any suggestion?"

Amazon EC2	"Re: Block IP using ELB
Unfortunately there's no way to do this when ELB is involved. Your application needs to handle the traffic and look up the X-Forwarded-For HTTP header.

HAProxy, a software load balancer, might be an alternative to consider here. It would allow the EC2 networking stack (Security Groups) and the instance's OS tools (e.g. iptables) to be used to handle offending traffic."

Amazon EC2	"Re: Block IP using ELB
Any solution for blocking IP behind ELB?"

Amazon EC2	"Re: Block IP using ELB
Block it at using network ACL assuming you are using VPC not EC2-Classic."

Amazon EC2	"Can not stop my Instance i-588ac253
My instance can not shutdown when i use  stop command. so, I used forcefully stop command but not responding, the state always is stopping.

Thank for help. Regards,
kkmct.

Edited by: kkmct on Aug 1, 2016 11:55 PM"

Amazon EC2	"Re: Can not stop my Instance i-588ac253
Hi kkmct,

Apologies for the troubles caused. I have reached out to our Service Team to check this at the hardware level. We shall get back to you as soon as we get an update from them.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Can not stop my Instance i-588ac253
Hi kkmct,

Your instance was stuck in a stopped state due to an underlying hardware issue with the host it resided on. Our internal service team has resolved this issue and the instance is now in the stopped state. We apologize for the inconvenience this issue might have caused you.

Regards,
Kunal P."

Amazon EC2	"Re: Can not stop my Instance i-588ac253
Thanks you, 
I can start it now. Good Support, have a nice day!

Best regards,
HaiHD

Edited by: kkmct on Aug 2, 2016 11:30 PM"

Amazon EC2	"Re: Can not stop my Instance i-588ac253
resolved"

Amazon EC2	"How to make my wordpress blog public
Hi,

I'm using Amazon Linux free tier instance, ID: i-3666aa8a.


I've created a wordpress blog thanks to amazon documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/hosting-wordpress.html
I've set siteurl = http://www.MyDomain.com, home = http://www.MyDomain.com on wordpress settings.
I've created an ""A"" record set in MyDomain.com hosted zone, with name=mydomain.com and value=my instance IP.
I've created an ""A"" record set in MyDomain.com hosted zone, with name=www.mydomain.com and value=my instance IP.	


Typing http://www.MyDomain.com in the browser, I can see ""Amazon Linux AMI Test Page"".

How can I make my wordpress blog public on the url: http://www.MyDomain.com?

Thanks,
Diego"

Amazon EC2	"Re: How to make my wordpress blog public
Hey Diego,

I have reviewed your details on my end, and I was able to access your blog on ""http://www.YourDomain.com"" . Would you be able to confirm if you still having trouble accessing your wordpress blog?

In general, if you are unable to access your website and you receive a default landing page, you can have a look at the ""DocumentRoot"" directive under httpd.conf on Apache. So if your websites files resides on the directory shown in your DocumentRoot for example ""/var/www/html/"" you can access your website with no changes needed.

But lets say the path to your website is ""/var/www/html/blog/"" you can either change your path or you can have a look at VirtualHosts which is more described in detail here: http://httpd.apache.org/docs/2.2/vhosts/ 

As from my understanding at this moment your website is responding, but if you require any assistance please do not hesitate to let us know."

Amazon EC2	"Re: How to make my wordpress blog public
Hi Ruan,

I'm able to access my blog now.
As you wrote, the issue was caused by a wrong Apache settings.
Specifically the issue has been solved adding a virtual host in the httpd.conf file.

Thank you, regards.
Diego"

Amazon EC2	"Re: How to make my wordpress blog public
Hello, diegodisfa 

I am facing the same problem, when I chek my domain name it's just shows the amazon linux ami test page. Actually my blog is under the /var/www/html/blog/, so can you please guide me simply how can i solve this issue. 

Thank you."

Amazon EC2	"Re: How to make my wordpress blog public
I uploaded my website inside the /var/www/html/achize/ and now when I checked it with my IP address it shows Amazon Linux AMI Test Page. I am trying to link my domain with the IP address through route53, I have already done all the configuration but when I type my domain or IP address it shows only the Amazon Linux AMI Test Page, I can not see my website which is under  /var/www/html/achize/.
I am very new to this. so Please help me, how can I solve this issue.

Thank you."

Amazon EC2	"Already add inbound rule in security group but the port still not open
Hello There,

I want to open port 30015 for Hana DB so i add inbound rule for port 30015 in my security group. after that i appoint my instances to that security group but still i can't access my instance with port number 30015. i check the port via port checker and got this : Port 30015 is closed on XXX.XXX.XXX.XXX. I already try to stop and start the Instances many times but still no luck.
So what did i miss in that configuration?

My Instance:  i-8f6e5501

My Security Group Inbound Rules: Security Group: sg-5c2b6838
HTTP TCP 80 0.0.0.0/0
Custom TCP Rule TCP 50014 0.0.0.0/0
Custom TCP Rule TCP 8000 0.0.0.0/0 
SSH TCP 22 0.0.0.0/0
Custom TCP Rule TCP 30015 0.0.0.0/0
Custom TCP Rule TCP 50013 0.0.0.0/0

thanks for the advice...

Edited by: Wendy on Aug 2, 2016 2:23 AM"

Amazon EC2	"Re: Already add inbound rule in security group but the port still not open
Hi,

Check if the service on TCP Port 30015 is accepting connection on the instance -  i-8f6e5501.


netstat -tulnpa | grep :30015


It should be listening on the IP Ranges you are expecting to get connect from.

Regards,
Jayakrishnan L.

Edited by: Jayakrishnan@aws on Aug 2, 2016 2:52 AM"

Amazon EC2	"Re: Already add inbound rule in security group but the port still not open
hi Jayakrishnan,

When i try to run this command : netstat -tulnpa | grep :30015, i got this message:
""(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)""

then i use this command :

    sudo -i

and i run this command again netstat -tulnpa | grep :30015, and nothing happen.
when i use command :

    netstat -tulnpa

got this result :
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State                                                                                                                                                                    PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN                                                                                                                                                                   1434/sshd
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN                                                                                                                                                                   1531/master
tcp        0      0 0.0.0.0:50013           0.0.0.0:*               LISTEN                                                                                                                                                                   1706/sapstartsrv
tcp        0      0 0.0.0.0:50014           0.0.0.0:*               LISTEN                                                                                                                                                                   1706/sapstartsrv
tcp        0      0 0.0.0.0:1128            0.0.0.0:*               LISTEN                                                                                                                                                                   1665/sapstartsrv
tcp        0      0 0.0.0.0:1129            0.0.0.0:*               LISTEN                                                                                                                                                                   1665/sapstartsrv
tcp        0      0 127.0.0.1:30000         0.0.0.0:*               LISTEN                                                                                                                                                                   1819/hdb.sapHDB_HDB
tcp        0      0 127.0.0.1:30001         0.0.0.0:*               LISTEN                                                                                                                                                                   1835/hdbnameserver
tcp        0      0 192.168.10.250:22       139.195.240.96:60490    ESTABLISHED                                                                                                                                                              1979/sshd: ec2-user
tcp        0      0 127.0.0.1:30001         127.0.0.1:12964         ESTABLISHED                                                                                                                                                              1835/hdbnameserver
tcp        0      0 192.168.10.250:22       139.195.240.96:64069    ESTABLISHED                                                                                                                                                              2022/sshd: ec2-user
tcp        0      0 127.0.0.1:17506         127.0.0.1:39419         ESTABLISHED                                                                                                                                                              1835/hdbnameserver
tcp        0   1072 192.168.10.250:22       139.195.240.96:53652    ESTABLISHED                                                                                                                                                              3140/sshd: ec2-user
tcp        0      0 127.0.0.1:12964         127.0.0.1:30001         ESTABLISHED                                                                                                                                                              1835/hdbnameserver
tcp        0      0 192.168.10.250:22       139.195.240.96:64300    ESTABLISHED                                                                                                                                                              2276/sshd: ec2-user
tcp        0      0 192.168.10.250:22       139.195.240.96:49543    ESTABLISHED                                                                                                                                                              2549/sshd: ec2-user
tcp        0      0 127.0.0.1:39419         127.0.0.1:17506         ESTABLISHED                                                                                                                                                              1835/hdbnameserver
tcp        0      0 192.168.10.250:22       139.195.240.96:51267    ESTABLISHED                                                                                                                                                              1889/sshd: ec2-user
tcp        0      0 :::22                   :::*                    LISTEN                                                                                                                                                                   1434/sshd
tcp        0      0 ::1:25                  :::*                    LISTEN                                                                                                                                                                   1531/master
udp     5376      0 0.0.0.0:68              0.0.0.0:*                                                                                                                                                                                        944/wickedd-dhcp4

i don't see port 30015 is LISTEN, as well as port 80 and 8000 is not open too, but the port 50013 and 50014 is LISTEN. i add port 80, 8000, 22, 30015, 50013 and 50014 into my Inbound rule but there is only 3 port (22, 50013, & 50014) is LISTEN and others is not open.

Regards 
Wendy"

Amazon EC2	"SFTP and a new user on EC2 - edit web files
I'm wondering if it is possible to create a new user account and grant it SFTP permissions on my EC2 instance (Ubuntu)?

I can already connect okay with my default ""ubuntu"" account, but I'd like to create and use another one.  Is this possible?

Or, if this isn't possible, is there a way to allow for the ""ubuntu"" user (or any other user) to edit files over SFTP in my web directory (files owned by www-data)?

Thanks."

Amazon EC2	"Re: SFTP and a new user on EC2 - edit web files
Hi,

SFTP access is available by default to any user with SSH access. If you want ot create user account with SFTP only access and also want to restrict them to certain directories, have a look here.

I would also recommend you to go through our documentation on setting up LAMP stack in Amazon Linux AMI instances here. You should checkout the 'To set file permissions' section to allow the default user access to the web directory.

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: SFTP and a new user on EC2 - edit web files
Excellent!  Thank you.  From the links you provided, I added my ubuntu user and www-data user (this user runs nginx and PHP) to my www group and made all the website files (and future files) owned by that group.  Now I can just log in with my ubuntu user and edit the files via SFTP.
Much appreciated!"

Amazon EC2	"Site can't be reached
Hi I'm running a server on https on instance i-670e7df9 and I can't access it. I can access it locally (using curl on the instance) but not outside of AWS. I've checked security groups, etc. any ideas?"

Amazon EC2	"Re: Site can't be reached
Hello there,

I have checked the status of the instance and it is currently running and is not reporting any issues. Typically, HTTPS connectivity issues come down to SG/ACL (On AWS side) or Firewall or service configuration(On the OS side). 

I have successfully tested port 80 connectivity to the public IP of the instance i-670e7df9. in other words, the AWS configuration(SG/ACL) appear to be in order for port 80. In addition to this, I noticed that you have a similar rule for TCP 443 traffic. The network tests against the public IP using the 443 port are not working.

The symptoms point to an issue with the configuration on the OS layer of the instance(Firewall/HTTPD service). This leads me to the following questions: What application are you using  as the ""server""? If using apache, have you installed mod_ssl? What command are you using to test 443 from the instance?

In addition to the questions, feel free to check the following link for more information/examples on HTTPS configuration on an Amazon Linux Instance.: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/SSL-on-an-instance.html?shortFooter=true#ssl_certificate

Best,
Adolfo M."

Amazon EC2	"Site can't be reached via URL; ok via public DNS and public IP
Hi,

I was able to reach my AWS site until recently; but after redoing my setup I can only access it in my browser via its public DNS and public IP. I can ssh into it with no problems. 

It's running on ubuntu EC2 instances, behind a load balancer with an ASG. 

I redid the site from scratch, except that I kept one AMI and its snapshot, and there is still a VPC remaining (Virtual Private Cloud: vpc-529b6f36 (10.0.0.0/16) | HomePageVPC).

Here are the steps that I took to create the first of the five EC2 instances I have running:

=====================================
Create Security Group: 
	Name: SG-1
	Description: security group in HomePageVPC
	VPC: vpc-529b6f36 (10.0.0.0/16) | HomePageVPC

	Inbound rules:	
                        HTTP, TCP, 80, Anywhere
			HTTPS, TCP, 443, Anywhere
			SSH, TCP, 22, My IP

Create Network Interface:
	Description: ni-1
	Subnet: subnet-2894ad5f (10.0.0.0/24) us-east-1a | Public subnet 1
	Private IP: (auto assign)
	Security groups: sg-a4f517de – SG-1 – security group in HomePageVPC
			    sg-71eb8e16 – default- default VPC security group

Create Load Balancer:
	Name: lb-1
	Create LB inside: vpc-529b6f36 (10.0.0.0/16) | HomePageVPC
	Select subnets: us-east-1a   subnet-2894ad5f  10.0.0.0/24  Public subnet 1
			 us-east-1b   subnet-eae7b7b3  10.0.1.0/24  Public subnet 2
	Load Balancer Protocol: HTTP
	Assign Security Groups: select existing: 
		sg-a4f517de – SG-1 – security group in HomePageVPC
		sg-71eb8e16 – default- default VPC security group
	Tag: Name lb-1

Create Launch Configuration:
	ami from home page reno rev 003 – ami-71128366
	General Purpose t2.micro
	Name: lc-1
	IAM Role: Power_User_Role_1
	User data, as text:
#!/bin/bash
yum update -y
service httpd start
chkconfig httpd on
	IP Address Type: assign a public IP address to every instance
	Configure security group: 
		sg-a4f517de – SG-1 – security group in HomePageVPC
		sg-71eb8e16 – default- default VPC security group
	Select Key Pair

Create Auto Scaling Group:
	Launch Configuration: lc-1
	Group Name: asg-1
	Group Size: start with 1 instances
	Network: vpc-529b6f36 (10.0.0.0/16) | HomePageVPC
	Subnet: 	us-east-1a   subnet-2894ad5f  10.0.0.0/24  Public subnet 1
			us-east-1b   subnet-eae7b7b3  10.0.1.0/24  Public subnet 2
	Load Balancing:
		Receive traffic from ELB: lb-1
		Health check type: EC2
	Scaling policies: keep this group at its initial size
	Name: lc-1
========================================

I created three more EC2 instances, mostly by substituting default settings for some of the options I chose. All four behave the same way. There's also a standalone instance.

Pinging any of the four results in 100% packet loss.

I've been at this for days and am out of ideas. Can anyone provide me with some insight?

Thanks very much in advance for any help.

Best,

Andy

Edited by: jazcap53 on Aug 2, 2016 9:19 AM"

Amazon EC2	"Amazon EC2 Maintenance ap-northeast-1
Hi,

I just receive an email for Amazon EC2 maintenance (system-reboot).
The instance i-ed93d3f4 (located on ap-northeast-1 region) will be rebooted on 2016-08-16.

It is specified on the email that I can migrate my instance i-ed93d3f4 to a replacement instance but I don't know how to do it.

I didn't find anything on the following link:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/monitoring-instances-status-check_sched.html"

Amazon EC2	"Re: Amazon EC2 Maintenance ap-northeast-1
If you are using Instance-Based storage on that instance, you'll want to back that data up.  You can create an AMI from that instance as well.

If you are using only EBS-backed storage, if you issue a Stop (NOT Terminate!) command from the AWS console, then a Start command (do not use reboot), the instance will migrate to another host automatically."

Amazon EC2	"Re: Amazon EC2 Maintenance ap-northeast-1
Also, a simple search takes us to the this page which describes the concepts in more detail.  I recommend that you review it before taking any action.

https://aws.amazon.com/maintenance-help/"

Amazon EC2	"Apache Spark can not connect to master using spark-submit script on Amazon
First I used the spark-ec2 script to set up a Spark Cluster on EC2 with one master and one worker node.

After I connect to my EC2 master instance with ssh I want to run the spark-submit script, so that I can run my own Spark Code. I start by uploading my .jar file and then I use the script.

for this I use following command:

sudo /root/spark/bin/spark-submit --class ""SimpleApp""\
--master spark://ec2-<adress>.us-west-1.compute.amazonaws.com:7077 simple-project-1.0.jar
Sadly, this will not work, as the script is not able to connect to the master:

java.io.IOException: Failed to connect to ec2-<adress>.us-west-1.compute.amazonaws.com/<private-IP>:7077
I added the inbound rule to my security group that allowed for access to port 7077 manually and still recieve the same error. Is there maybe something I have to do between the setup and start?"

Amazon EC2	"Delayed Instance Termination
Hi,

My EC2 instance (i-324005ac) is in eu-west and failed to start with a ""Server.InternalError: Internal error on launch"" error. Following that, I tried to terminate the instance. However, the instance remains in the shutting-down state for more than 10 hours.

I no longer need this instance and associated volume. Appreciate if AWS support can terminate on behalf.

Thank you."

Amazon EC2	"Trying to get setup
So I am trying to get set up and not sure what I am missing.  

I created the VPC and let it create a security group.  I created an internet gateway and created an amazon linux machine.  

However I go to ssh -i /path/to/my.pem ec2-user@private-ip

and it just hangs.  Any suggestion?  I have been following guide here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html#create-a-vpc"

Amazon EC2	"Re: Trying to get setup
Hi,

Can you try to access using the Public IP, if you are accessing the instance from outside VPC?

Regards,
Jayakrishnan L"

Amazon EC2	"Re: Trying to get setup
Currently there is no public IP for this EC2 server."

Amazon EC2	"EC2 / Tableau / MySQL Connection
Hey all, 

I have a local MySQL DB running on a Win Server EC2 instance, w/ Tableau desktop installed and connected to this local DB.

I'm having some performance issues with Tableau running on this server, so would like to try testing from a separate virtual machine (non-AWS) I have.  However, I'm having some issues connecting.  My EC2 instance does not have a public DNS/IP, so I'm wondering the best way to get from my non-AWS VDI via Tableau to my MySQL DB running on my EC2 instance.

Any ideas?

Thx,
A"

Amazon EC2	"Partial data from Tomcat server, outside the VM
Hello,

My webapp is running on a Tomcat server.
From the VM, I can access my app : http://ec2-54-170-154-0.eu-west-1.compute.amazonaws.com/socle-schematique/application/ without problem
From the internet, there is a blank page. I see that only little bit of the index page is loaded (with firebug). 
I can load very tiny html pages without problem http://ec2-54-170-154-0.eu-west-1.compute.amazonaws.com/socle-schematique/application/test.html.

There was no problem last week (and no configuration change).

Can you help me to debug please?"

Amazon EC2	"Stopped instance and lost attached EBS
We had networking issues with an instance and we stopped it and started it back up.
We quickly found out that the EBS volume attached to it was gone. It doesn't appear in the Volumes list anymore and we are in deep trouble. Is there any way to find out what happened or to recover it?

Thanks in advance!"

Amazon EC2	"Re: Stopped instance and lost attached EBS
Hi,

Could you let us know the Instance ID?

Regards,
Jayakrishnan L."

Amazon EC2	"IAM Group Permissions
How can I make an IAM Group ""B"" with full permission on ec2, but cannot access ec2 instances created by Admin IAM Group. but allow Admin IAM Group to access instances created by IAM Group ""B"".

Edited by: susuaung on Aug 2, 2016 11:40 AM"

Amazon EC2	"Error running ec2-bundle-vol
I'm trying to create an AMI from my running instance.

I'm using this command where 123456789123 is not my actual Amazon user ID:

$ sudo ec2-bundle-vol -d /mnt/amis -k /mnt/ids/pk-*.pem -c /mnt/ids/cert-*.pem -u 123456789123 -r i386

I get the following:
Copying / into the image file /mnt/amis/image...
Excluding:
/sys/kernel/debug
/sys/kernel/security
/sys
/var/log/mysql
/var/lib/mysql
/mnt/mysql
/proc
/dev/pts
/dev
/dev
/media
/mnt
/proc
/sys
/etc/udev/rules.d/70-persistent-net.rules
/etc/udev/rules.d/z25_persistent-net.rules
/mnt/amis/image
/mnt/img-mnt
1+0 records in
1+0 records out
1048576 bytes (1.0 MB) copied, 0.00273375 s, 384 MB/s
mkfs.ext3: option requires an argument -- 'L'
Usage: mkfs.ext3 [-c|-l filename] [-b block-size] [-f fragment-size]
[-i bytes-per-inode] [-I inode-size] [-J journal-options]
[-G meta group size] [-N number-of-inodes]
[-m reserved-blocks-percentage] [-o creator-os]
[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]
[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]
[-T fs-type] [-U UUID] [-jnqvFKSV] device [blocks-count]
ERROR: execution failed: ""mkfs.ext3 -F /mnt/amis/image -U 2c567c84-20a1-44b9-a353-dbdcc7ae863b -L ""

Here's the results of df -h, so I know I have enough space on /mnt
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda1             9.9G  2.1G  7.4G  22% / 
devtmpfs              834M  124K  834M   1% /dev
none                  851M     0  851M   0% /dev/shm
none                  851M   96K  851M   1% /var/run
none                  851M     0  851M   0% /var/lock
none                  851M     0  851M   0% /lib/init/rw
/dev/sda2             147G  352M  139G   1% /mnt
/dev/sdf             1014M  237M  778M  24% /vol


Does anybody have any idea what the problem is?  I have scoured this forum and google and I can't find anything similar regarding the errors and ec2-bundle-vol command.

Thanks in advance."

Amazon EC2	"Re: Error running ec2-bundle-vol
Did you ever get a resolution to this?

I have two Red Hat instances running and I am trying to do the same on each and each gives the same result but this did work before:

ec2-bundle-vol -d /mnt -k /mnt/cert1.pem -c /mnt/cert2.pem -u UserDetail -r x86_64 -p Filename_Aug2011
Copying / into the image file /mnt/FileName_Aug2011...
Excluding:
         /sys
         /var/lib/nfs/rpc_pipefs
         /proc
         /dev/pts
         /proc/sys/fs/binfmt_misc
         /dev
         /media
         /mnt
         /proc
         /sys
         /mnt/Filename_Aug2011
         /mnt/img-mnt
1+0 records in
1+0 records out
1048576 bytes (1.0 MB) copied, 0.00179 seconds, 586 MB/s
mke2fs 1.39 (29-May-2006)
ERROR: execution failed: ""rsync -rlpgoD -t -r -S -l --exclude /sys --exclude /var/lib/nfs/rpc_pipefs --exclude /proc --exclude /dev/pts --exclude /proc/sys/fs/binfmt_misc --exclude /dev --exclude /media --exclude /mnt --exclude /proc --exclude /sys --exclude /mnt/Filename_Aug2011 --exclude /mnt/img-mnt -X /* /mnt/img-mnt 2>&1 > /dev/null""

Output from df -h =

Filesystem            Size  Used Avail Use% Mounted on
/dev/sda1            9.9G   2.7G  6.8G  28% /
/dev/sdb              414G  8.3G  385G   3% /home
none                    3.8G     0     3.8G   0% /dev/shm

Hoping someone can point me in the right direction...

If I run in debug mode, I see:

ec2-bundle-vol -d /mnt -k /mnt/cert1.pem -                                                                            c /mnt/cert2.pem -u 3480-4200-8545 -r x86_64 -p filename_AUG2011 --debug
Copying / into the image file /mnt/filename_AUG2011...
Excluding:
         /sys
         /var/lib/nfs/rpc_pipefs
         /proc
         /dev/pts
         /proc/sys/fs/binfmt_misc
         /dev
         /media
         /mnt
         /proc
         /sys
         /mnt/filename_AUG2011
         /mnt/img-mnt
Executing: dd if=/dev/zero of=/mnt/filename_AUG2011 bs=1M count=1 seek=10239
1+0 records in
1+0 records out
1048576 bytes (1.0 MB) copied, 0.010115 seconds, 104 MB/s
Evaluating: '/sbin/e2label /dev/sda1'
Executing: /sbin/mkfs.ext3 -F -L ""/"" /mnt/filename_AUG2011
mke2fs 1.39 (29-May-2006)
Filesystem label=/
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
1310720 inodes, 2621440 blocks
131072 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=2684354560
80 block groups
32768 blocks per group, 32768 fragments per group
16384 inodes per group
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632

Writing inode tables: done
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 32 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
Executing: /sbin/tune2fs -i 0 /mnt/filename_AUG2011
tune2fs 1.39 (29-May-2006)
Setting interval between checks to 0 seconds
Executing: sync
Executing: mount -o loop /mnt/filename_AUG2011 /mnt/img-mnt
Executing: mknod /mnt/img-mnt/dev/null    c 1 3
Executing: mknod /mnt/img-mnt/dev/zero    c 1 5
Executing: mknod /mnt/img-mnt/dev/tty     c 5 0
Executing: mknod /mnt/img-mnt/dev/console c 5 1
Executing: ln -s null /mnt/img-mnt/dev/X0R
Executing: rsync -rlpgoD -t -r -S -l --exclude /sys --exclude /var/lib/nfs/rpc_p                                                                            ipefs --exclude /proc --exclude /dev/pts --exclude /proc/sys/fs/binfmt_misc --ex                                                                            clude /dev --exclude /media --exclude /mnt --exclude /proc --exclude /sys --excl                                                                            ude /mnt/filename_AUG2011 --exclude /mnt/img-mnt -X /* /mnt/img-mnt 2>&1 > /d                                                                            ev/null
rsync: writefd_unbuffered failed to write 4 bytes sender: Broken pipe (32)
rsync: write failed on ""/mnt/img-mnt/usr/lib64/python2.4/lib-dynload/_codecs_hk.so"": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(253) http://receiver=2.6.8
rsync: connection unexpectedly closed (5759469 bytes received so far) generator
rsync error: error in rsync protocol data stream (code 12) at io.c(463) http://generator=2.6.8
rsync: connection unexpectedly closed (2386540 bytes received so far) sender
rsync error: error in rsync protocol data stream (code 12) at io.c(463) http://sender=2.6.8
ERROR: execution failed: ""rsync -rlpgoD -t -r -S -l --exclude /sys --exclude /var/lib/nfs/rpc_pipefs --exclude /proc --exclude /dev/pts --exclude /proc/sys/fs/binfmt_misc --exclude /dev --exclude /media --exclude /mnt --exclude /proc --exclude /sys --exclude /mnt/filename_AUG2011 --exclude /mnt/img-mnt -X /* /mnt/img-mnt 2>&1 > /dev/null""
#<RuntimeError: execution failed: ""rsync -rlpgoD -t -r -S -l --exclude /sys --exclude /var/lib/nfs/rpc_pipefs --exclude /proc --exclude /dev/pts --exclude /proc/sys/fs/binfmt_misc --exclude /dev --exclude /media --exclude /mnt --exclude /proc --exclude /sys --exclude /mnt/filename_AUG2011 --exclude /mnt/img-mnt -X /* /mnt/img-mnt 2>&1 > /dev/null"">
/usr/lib64/site_ruby/ec2/platform/linux/image.rb:260:in `execute'
/usr/lib64/site_ruby/ec2/platform/linux/image.rb:172:in `copy_rec'
/usr/lib64/site_ruby/ec2/platform/linux/image.rb:83:in `make'
/usr/lib/site_ruby/ec2/amitools/bundlevol.rb:151:in `bundle_vol'
/usr/lib/site_ruby/ec2/amitools/bundlevol.rb:193:in `main'
/usr/lib64/site_ruby/ec2/amitools/tool_base.rb:201:in `run'
/usr/lib/site_ruby/ec2/amitools/bundlevol.rb:201

Edited by: saacl on Aug 17, 2011 9:32 AM"

Amazon EC2	"Re: Error running ec2-bundle-vol
Experiencing the same issue. Can anyone offer assistance?"

Amazon EC2	"Re: Error running ec2-bundle-vol
refer a solution here, It will work!

http://serverfault.com/questions/239605/creating-an-ec2-image-on-amazon-fails-at-mkfs-ext3"

Amazon EC2	"Re: Error running ec2-bundle-vol
Getting same error, when trying to create AMI today ( the instance is the 1st generation paravirtual, not newer EBS type).

Already using latest ec2-ami tool:
  package ec2-ami-tools-1.5-7.noarch is already installed

Thread from serverfault doesn't help
image.rb doesn't have this line: mkfs +=  if label

Also tried e2label /dev/sda1 root , doesn't help.

---error output when run bundle  ---
/usr/lib/ruby/site_ruby/ec2/platform/linux/image.rb:793:in `execute': Failed to execute: '/sbin/mkfs.ext3 -F -O none,has_journal,ext_attr,resize_inode,dir_index,filetype,sparse_super,large_file -L root /mnt/myAIMx64.img' (FatalError)
        from /usr/lib/ruby/site_ruby/ec2/platform/linux/image.rb:510:in `format_image'
        from /usr/lib/ruby/site_ruby/ec2/platform/linux/image.rb:172:in `make'
        from /usr/lib/ruby/site_ruby/ec2/amitools/bundlevol.rb:184:in `bundle_vol'
        from /usr/lib/ruby/site_ruby/ec2/amitools/bundlevol.rb:231:in `main'
        from /usr/lib/ruby/site_ruby/ec2/amitools/tool_base.rb:201:in `run'
        from /usr/lib/ruby/site_ruby/ec2/amitools/bundlevol.rb:239

Any other suggestions ???

Edited by: Jerry Hong on Jul 20, 2015 1:05 PM"

Amazon EC2	"Re: Error running ec2-bundle-vol
Jerry (or someone else),

Did you ever find a solution for this?
Having the same problem :-/

Thanks!"

Amazon EC2	"Re: Error running ec2-bundle-vol
Ok. Found a solution.

Here it goes wrong:
/sbin/mkfs.ext3 -F -O none,has_journal,resize_inode,dir_index,filetype,sparse_super,large_file

Apparently 'large_file' isn't supported in the particular installation I've got (and Jerry's too I guess).
It could probable be fixed by updating the ext2 filesystem tools, but since I don't want to mess around with this old image right now, I just don't want to get into that.

Actually this is rather weird ('but my Linux knowledge has gotten very rusty'), because as far as I understand this list of options is constructed by running  'dumpe2fs -h /dev/sda1' and parsing this line:
Filesystem features:      has_journal resize_inode dir_index filetype needs_recovery sparse_super large_file

Anyway, I modified the image.rb file to not include the 'large_file' option, as follows (line 484 and onward):
              features.concat(parts)
              features.delete('needs_recovery')
              features.delete('large_file')   #I added this line
              if features.include?('64bit')"

Amazon EC2	"Re: Error running ec2-bundle-vol
Thanks a ton, engago!
Your solution direction worked form me on my old Fedora8 image, but I had to add ALSO the line
features.delete('ext_addr')
to the Ruby file as well. I must have had an even older version of mkfs.ext3 onboard. It seemed to update mkfs you have to upgrade the kernel entirely? I wasn't up to doing that, so I used your fine hack.

Cheers."

Amazon EC2	"Cant connect to RDP from windows- Ec2 security group/ VPC security group
I have an old  ec2 instance created more than 3 years ago, it connects perfect everytime. however im unable to connect to newly created ec2 intances. Ive checked and rechecked security group settings, local firewall settings, and pretty much all the things suggestions in the troubleshooting section.
not sure where to go from here. My old ec2 was created with the classic ec2 and ec2 security group settings, but that option is not avaiable to create newones. only VPC security group settings. I would think if I can connect with my old ec2  without problem but cant connect to  the new ec2, the problem should be surrounding this. Ec2 security group/ VPC security group, however the settings are identicle. Please help been trying to solve this for a week now with no results. Currently I have a newly created instance  ID i-40273dca running but unable to connect. I dont get the Administrator log on screen, instead I get an error message desktop remote cannont connect remote computer and then it lists 3 reasons."

Amazon EC2	"Re: Cant connect to RDP from windows- Ec2 security group/ VPC security group
Hi,

I can see that you have stopped the instance - i-40273dca, as such I am not able to verify the security groups associated with it. You need to make sure that you have allowed RDP access from the IP you are connecting to the instance from. You also need to make sure that the Network ACLs have both inbound and outbound rules allowed for the source IP from which you are connecting to the instance.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Cant connect to RDP from windows- Ec2 security group/ VPC security group
I created a new instance ID i-4621e7cd following your instructions assigned my source IP for the RDP
and Set inbound/outbound rules for Network ACLs and still cannot connect.  The instance i-4621e7cd
is now running if your able to check."

Amazon EC2	"Re: Cant connect to RDP from windows- Ec2 security group/ VPC security group
Hello,

Based upon instance i-4621e7cd I think I can see what the problem is. Your security groups and ACL look fine, however the problem is your route table: rtb-d6de46b3

You currently have a local route (172.30.0.0/16 - local) which enables traffic to flow within the VPC, however you do not have a public route (0.0.0.0/0 IGW) which is needed for the instance to communicate through the internet. Please modify your route table to include a default route that uses an IGW and you should then be able to connect to your instance normally.

Regards,
Troy W"

Amazon EC2	"Re: Cant connect to RDP from windows- Ec2 security group/ VPC security group
Thanks that did the trick, I assume the classic version all this was set up automaticly?
Thanks for your help"

Amazon EC2	"Re: Cant connect to RDP from windows- Ec2 security group/ VPC security group
Hey there, 

Glad to hear that fixed it. Ya, in the classic version of EC2, every single instance was reachable via the internet, but with VPC you now have the option of having instances in a virtual private cloud (no internet access) or adding an internet gateway (IGW) to the subnet and making the VPC publicly reachable.

Newer AWS accounts should have VPC by default enabled where instances would act similar to EC2 classic in that you could place them into a public subnet, however your accounts sounds like an older account, which requires manual configuration of the VPC to perform how you want.

Regards,
Troy W"

Amazon EC2	"Auto recover ""retired"" EC2 instances
When an instance goes into ""retired"" state, is there a way to automatically spawn a new instance based off the ""retired"" instance?"

Amazon EC2	"Recovering instance after setting incorrect permissions on .ssh folder
I was getting somewhat frustrated trying to set up jupyterhub on an ec2 instance, and set very liberal permissions on /home/ec2-user (recursively). I didn't realise this would break ssh access.

To recover the original instance, I created a new instance and attached the original volume to it on /def/sdf. However I am unable to connect to the new instance whenever the original volume is attached - I get the same ""permission denied (publickey)"" error that I caused by changing the permissions on the .ssh folder. If I detach the original volume, I can connect just fine. This seems odd to me as I wouldn't have expected the extra volume to have any effect on the ssh process.

Does anyone know why attaching the original volume could be preventing ssh access to the new instance? Does anyone know how I could fix this?

Edited by: massingpaniac on Aug 1, 2016 2:00 PM"

Amazon EC2	"Changing hostname
Hello! (sorry for my english)

Is there possibilty to change hostname of my instance (I'm using Windows)?
The point is on sites like this: http://www.vacation-rental-wonderland.com/tools/whatsmyip.php ""computer's hostname"" won't be ec2-xxx-xx-xxx-xxx.compute-1.amazonaws.com. Is it possible? It's not my cup of tea so I really don't know much about it"

Amazon EC2	"Re: Changing hostname
You can try this link

https://forums.aws.amazon.com/thread.jspa?messageID=158023&#158023
Regards,
Fazil

Edited by: FazilSalam on Aug 1, 2016 12:17 PM"

Amazon EC2	"network error on ec2 startup
we're having 1/2 of our spot instances in us-west-2 fail on startup in our cloud-init script with a network error:

localhost out: fatal: read error: Connection reset by peer

instances ids failing this hour:
i-00d6a70cc432faa89
i-0dd4882cb5a15a262
i-0db98ad20bc31db70

is us-west-2 having networking issues?"

Amazon EC2	"SSH connection timeout with my new AMI instance
Hello,

I just launched an instance of the AWS EC2 AMI (i-08fb69a7), but both ssh and ping get timeout. See my InBound rule, VPC setup as following. And the ssh/ping printout below:

My InBound rules are following:
SSH TCP 22 0.0.0.0/0
All ICMP  All N/A 0.0.0.0/0

vpc-2e8fdc4a 
Routes:
172.30.0.0/16 local Active No
0.0.0.0/0 igw-bf12d7db	 Active No

ssh -vvv  -i ""sheran.pem"" ec2-user@ec2-52-43-68-114.us-west-2.compute.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.2h  3 May 2016
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 54: Applying options for *.com
debug1: /etc/ssh_config line 64: Applying options for .
debug1: /etc/ssh_config line 74: Applying options for *
debug3: ciphers ok: aes128-ctr,aes256-ctr,arcfour256,arcfour,aes128-cbc,aes256-cbc,3des-cbc
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-43-68-114.us-west-2.compute.amazonaws.com http://52.43.68.114 port 22.
debug1: connect to address 52.43.68.114 port 22: Operation timed out
ssh: connect to host ec2-52-43-68-114.us-west-2.compute.amazonaws.com port 22: Operation timed out

ping ec2-52-43-68-114.us-west-2.compute.amazonaws.com
PING ec2-52-43-68-114.us-west-2.compute.amazonaws.com (52.43.68.114): 56 data bytes
Request timeout for icmp_seq 0
...

Thank you for your help!

Zhihui"

Amazon EC2	"""Set EIP used in: to VPC"" option not displaying
Hello,

I successfully created a t2.micro WordPress instance as per https://aws.amazon.com/getting-started/tutorials/launch-a-wordpress-website/

However, on the next step at https://aws.amazon.com/getting-started/tutorials/get-a-domain/, I am stuck.

After I click Allocate New Address button, I can't see ""Set EIP used in: to VPC"" option. I anyhow clicked Yes, Allocate button.

The actual problem starts at step d. Select the new IP address in the Elastic IP column. Press the Actions button and choose the Associate Address option.

After I Click in the Instance text box to select the option that has the instance name, nothing appears. Not even if I type WordPress.

I did a google on this, but to no avail.

Any help will be highly appreciated.

Thanks in advance,

Alok"

Amazon EC2	"Volume will not boot
Hi,
I created a snap shot of a volume, which was bootable. I have now connected this volume to an instance as the only volume and it wont boot. I get a black screen when viewing the instance screenshot with the message

""a required device isn't connected or cant be accessed"".

I am able to connect this volume to another instance to view the data on it.

How can I make this volume bootable?

Thanks in advance"

Amazon EC2	"Remote desktop for Red hat Linux
Need to get remote desktop for Red Hat Linux instance.
For ubuntu linux there are several posts on remote desktop but did not find one for Red Hat. is their a ami available?"

Amazon EC2	"Re: Remote desktop for Red hat Linux
Hi aws-user-san,

You may find this howto video helpful.
It shows how I setup a desktop environment on a Red Hat AMI: 

http://d2930476l2fsmh.cloudfront.net/RedHatWithKDE_GUI.mp4

Kind Regards,
Lance"

Amazon EC2	"Re: Remote desktop for Red hat Linux
the video isn't playing in google chrome.. able to hear only audio.. even mozila is not supported to play this link.. Any suggestion. Same issue. thanks"

Amazon EC2	"Re: Remote desktop for Red hat Linux
Hi,

I've been able to create a chef recipe that does this on a RedHat AMI in AWS

Basically,  you just need to do the following:

1) yum group install 'basic-desktop' 'x11' 'fonts'
2) install and enable the EPEL repo
3) yum install 'xrdp',  'tigervnc-server'
4) run init 5 to start up the X windows 
5) start the xrdp service

At this point you should be able to connect in with a Windows Desktop with RDP and use validate credentials on the Linux server instance to connect.

I had to do a few other housekeeping things as well related to NetworkManager getting turned on.  Also, I determined that I could reduce the group install to mandatory only and it still works fine.

Hope this helps.
Bob"

Amazon EC2	"Auto scaling group erroneously trying to start in VPC
I have an auto scaling group with 1 instance running an ECS task. I'm trying to add change the auto-scaling group from 1 to 2 instances but I have been getting the following error in the activity history:

Launching a new EC2 instance. Status Reason: The security group 'sg-xxxxxxxx' does not exist in VPC 'vpc-xxxxxxxx'. Launching EC2 instance failed.


This auto-scaling group is not supposed to be launching into a VPC. The single existing instance is EC2 classic with no VPC.

I was testing using Classiclink earlier today on a different auto scaling group but it seems that I have changed something with this auto scaling group.

I cannot remove the VPC zone identifier using the console or the CLI:

$ aws autoscaling update-auto-scaling-group --auto-scaling-group-name <group name> --vpc-zone-identifier """"
 
Parameter validation failed:
Invalid length for parameter VPCZoneIdentifier, value: 0, valid range: 1-inf


If I make another auto scaling group using the same launch configuration, it can start an instance without any problem because there's no VPC zone identifier.

How do I reset this VPC zone identifier value? I don't want to have to shut down my running task."

Amazon EC2	"Re: Auto scaling group erroneously trying to start in VPC
Hi,

It is impossible to switch the Auto scaling group(ASG) between the VPC and the Classic platform as they have different network architecture. You will need to create a new autoscaling group via EC2 classic network to change it. In addition, you shouldn't see an EC2 classic instance in an VPC auto scaling group. 

From the error message you received. It seems like you are using an EC2-classic security group 'sg-xxxxxxxx' in the launch configurations, and have an autoscaling group in VPC 'vpc-xxxxxxxx'.

For the CLI cmmand you used, the option ""--vpc-zone-identifier """" is for specifing the subnet within the VPC. You have to put the subnet-id there and empty string is not accepted. You will not able to switch the platform with it.

I think the auto scaling group you used is created in a VPC.  If this is true, then  the instance in this ASG should be in the same VPC. 
If you need any further assistance, please provide us the instance id so we can look into it.

Best regards,
Louisa"

Amazon EC2	"Re: Auto scaling group erroneously trying to start in VPC
I do not believe that my auto scaling group is a VPC group since I can make another auto scaling group with the same launch configuration and its instances will be in EC2 classic.

The ec2-classic instance that is currently running this auto-scaling group that won't let me start another instance is: i-362a1aa3

If I didn't have a production task running on that instance, I would have created a new auto scaling group already. I hope there's a simple solution.

Thanks for the help, please let me know if there's any other information needed to help diagnose this."

Amazon EC2	"Re: Auto scaling group erroneously trying to start in VPC
Hi,

I have check the configuration of your Auto scaling group and instances. 
The instances is in EC2 classic platform.
And the Autoscaling group was originally created within the EC2 classic network. When it is created, it did not have a subnet. However, the AutoScaling group currently is associated with a VPC subnet at the moment. It failed to add instances because it try to launch the EC2 instances via a VPC subnet. The subnet can not be deleted once add.  Unfortunately, the autoscaling group is broken now. You need to backup and terminate the current instance in this ASG and use a new auto scaling group.

To prevent this happen again, please do not add subnet to ASG in the Classic platform.
I will raise an internal ticket to add a restriction on adding subnets in the EC2 classic ASG.

Regards,
Louisa"

Amazon EC2	"Re: Auto scaling group erroneously trying to start in VPC
It's answered by AWS support but the answer is not helpful at all."

Amazon EC2	"EC2 Instance will not terminate
The Instance was shut down over a month ago, never went to a Normal state to issue the terminate (or restart).  It shows a ""Server.InternalError: Internal error on launch"" for the state transitioned reason but we can't clear it through the gui, is there another way?
Instance:               i-e33ed164
Instance state:     shutting-down"

Amazon EC2	"Re: EC2 Instance will not terminate
Hello, 

I've reached out to our Support teams to take a deeper look at your instance. We'll update you with what they find. 

Regards,
Nick"

Amazon EC2	"Re: EC2 Instance will not terminate
Hello,

Thank you for your patience. It looks like the volume associate with the instance seems to have been lost due to a disk failure. Unfortunately, there is no way to recover a lost volume. I hope you have a back up of your volume in the form of a snapshot. Just so you could recreate this volume.

Please let me know if you have any further questions."

Amazon EC2	"Re: EC2 Instance will not terminate
No issue with losing the volume but the instance still says shutting down and will not respond to any actions."

Amazon EC2	"Re: EC2 Instance will not terminate
Hi,

I have force stopped the instance from my end. The instance should be terminated now. Apologies for the inconvenience this has been causing. 

Regards,
Aishwarya"

Amazon EC2	"Environment stuck in Grey despite the fact that all EC2 instances initialis
I have an environment (e-yjme3rvnap) that's stuck in ""Grey"" despite rebuilding the environment twice and all the EC2 instances launching and passing both the checks (all the instances are functioning correctly as well). The ELB, the scaling group and the rest of the services seem to start up properly.

It seems to be a platform bug with custom AMIs since everything is working but I cannot eb deploy or change any of the configuration."

Amazon EC2	"STOP instancer i-06d50f64
Underlying hardware issues.  Please stop this instance as the Force Stop does not work."

Amazon EC2	"Re: STOP instancer i-06d50f64
Hi,

I have force stopped the instance from my end. Sorry for the inconvenience. This was because of a host issue.

Regards,
Aishwarya"

Amazon EC2	"Re: STOP instancer i-06d50f64
Thank you.  I was able to restart the instance."

Amazon EC2	"Is it fine to use Aws EC2 for doing mass malware research ?
I was interested in using EC2 to do machine learning researches on malware using EC2 Aws service, I was adviced to take permission before doing this as according to AWS Policy.
""No Illegal, Harmful, or Offensive Use or Content: Content or other computer technology that may damage, interfere with, surreptitiously intercept, or expropriate any system, program, or data, including viruses, Trojan horses, worms, time bombs, or cancelbots.""
Technically saying My researches will not be either Illegal or Harmful or offensive against any party including AWS servers itself. Yet My research will include samples of life malware (viruses, Trojan horses, worms, time bombs) for automated static analysis and maybe automated dynamic analysis using virtual machines or sandboxes (which is still undecided).
Needless to mention that these samples would never be intentionally run in the wild or anything similar. 
Also I would like to note that this research will not include targeted attack, or penetration, social engineering or anything similar that will lead to interaction with anything outside the assigned EC2 server).
I just wanted to make sure that their is no legal issues or problems with amazon regarding this"

Amazon EC2	"Re: Is it fine to use Aws EC2 for doing mass malware research ?
Hi,

Any such activities on AWS Infrastructure will require approval from Security team. 

Please have a look at our Simulated events portal here:
https://aws.amazon.com/security/penetration-testing/

You need to reach out to the security team with all the details of your testing. They will verify and will get back to you wit their response.

Regards,
Jayakrishnan L."

Amazon EC2	"SMTP and other TCP blocked ports
Hello there,

I have two instances, one running a web application and another one with postfix.  The web application needs to connect to the postfix instance in order to send out emails (postfix works find and I am able to send out email from that instance)

I am aware that I have to request Amazon to ""Request to Remove Email Sending Limitations"" and I will do it later on today, however as I did some tests until I realised that even though I allowed inbound port 25 in my security group and in the Network ACL, I have found some things that do not make sense or that I do not understand.

Test 1 
Connecting within my VPC.  Both instances are in the same VPC and same subnet.   I have allowed ALL TCP for inbound connections from the Web Application Security Group to the Mail Server and just in case I have also allowed Inbound TCP ports such as SSH, Postgres, SMTP, 5500, 587 from Anywhere 0.0.0.0/0

10.0.1.10 --> Web Application server
10.0.1.53 -->Mail server

Now If I try nc you will see the results below:

ip-10-0-1-10:~ # nc -vz 10.0.1.53 22
Connection to 10.0.1.53 22 port tcp/ssh succeeded!
ip-10-0-1-10:~ # nc -vz 10.0.1.53 25
nc: connect to 10.0.1.53 port 25 (tcp) failed: Connection refused
ip-10-0-1-10:~ # nc -vz 10.0.1.53 5500
nc: connect to 10.0.1.53 port 5500 (tcp) failed: Connection refused
ip-10-0-1-10:~ # nc -vz 10.0.1.53 587
nc: connect to 10.0.1.53 port 587 (tcp) failed: Connection refused

Why are ports 25, 5500 or 587 blocked if I have already set up the Security Group and Network ACL accordingly ?

Test 2
Connecting from my laptop through the internet to the mail server
esteban@hera:~> nc -vz mail.mydomain.com 22
Connection to mail.mydomain.com 22 port tcp/ssh succeeded!
esteban@hera:~> nc -vz mail.mydomain.com 25
nc: connect to mail.mydomain.com port 25 (tcp) failed: Connection refused
esteban@hera:~> nc -vz mail.mydomain.com 5500
nc: connect to mail.mydomain.com port 5500 (tcp) failed: Connection refused

Why is port 5500 blocked when I specifically allowed in the Security Group configuration as well as the NACL?

Thanks in advance!"

Amazon EC2	"Re: SMTP and other TCP blocked ports
Is it something on the instance, not on VPC?"

Amazon EC2	"Re: SMTP and other TCP blocked ports
Hello,
please let me provide a bit more insight about Security option in VPC:

1) Network ACL: they work at VPC/subnet level, and they are stateless: Return traffic must be explicitly allowed by rules
2) Security Groups: they work at eni (Elastic Network Interface) level and they are stateful: Return traffic is automatically allowed, regardless of any rules

Beside this, you will have to check for any firewall at OS level (e.g. Windows firewall or IPChains/IPTables on Linux)
Hope this helps,
kind regards,
Ale"

Amazon EC2	"Re: SMTP and other TCP blocked ports
I am well aware of how Security Groups and NACL work and there are not firewalls running on that box."

Amazon EC2	"HELP!! Cannot ssh into my new ec2 instance (timed out)
Hello,

I was trying to ssh into a new t2.medium ubuntu instance i-6d990ac2 in us-west-2a for almost a whole day but still failed. 

1. the ssh connect is always timed out (already enabled ssh on 22 from anywhere in my security group)
2. Cannot ping the public DNS (already enabled ICMP from anywhere in my security group)
3. Tried stop/start, reboot, and even creating new instances, none of them worked.
3. Followed this doc from beginning to end: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
4. I'm pretty sure the VPC/subnet/route table/internet gateways are all good, cause I'm not a full beginner, and I have instances on other region (us-west-1a) which all works well.

Please please let me know if there is anything can help. Thanks you so much!"

Amazon EC2	"Re: HELP!! Cannot ssh into my new ec2 instance (timed out)
Hi,

Apologies for the troubles caused. It seems that your account was under Isolation which is now removed. I have engaged corresponding teams and fixed it.

You should be able to access the instance now.

Regards,
Jayakrishnan L."

Amazon EC2	"Problem making curl requests
we had on ec2 m3.xlarge instance and suddenly last week curl request to third party started failing:
$ curl -X POST -u ""*****:*********"" -m 20 -v https://avp.elering.ee:4443/api
About to connect() to avp.elering.ee port 4443 (#0)
Trying 78.28.114.56... connected
Connected to avp.elering.ee (78.28.114.56) port 4443 (#0)
Initializing NSS with certpath: sql:/etc/pki/nssdb
CAfile: /etc/pki/tls/certs/ca-bundle.crt
CApath: none
NSS error -5990
Closing connection #0
SSL connect error
curl: (35) SSL connect error

we updated everything and nothing worked. Also created a new m3.xlarge instance and still it didn't work.
finnally we made m4.xlarge instance and from there everything worked.

What could we the reason for m3 instance failing? Is there some blacklist somewhere? Or was something change in m3?"

Amazon EC2	"created new W2012R2 instance -- cannot RDP into it
Hello community,
I am new to the AWS system. I just created my very first instance, a Windows Server 2012 R2 instance. It deployed normally and seems to be running, a screenshot shows the Windows login screen. I can ping the machine from the outside with the DNS name so I assume internet connection is OK.

However I cannot RDP into the instance. My standard Windows RDP client just tells me that no connection could be made with the remote computer. I do not even get to the credentials window. Also telnet to port 3389 does not work but times out.

I am sitting on a unrestricted internet uplink on my end, so no firewalls blocking stuff.

I have allowed both ""All ICMP"" and ""RDP"" from anywhere in the default security group. Instance-ID is: i-09bd345b28d2a716e.

I have never touched the instance, so I do not know any of the settings of the VM.

Any tips what could be wrong here?

Cheers!"

Amazon EC2	"Re: created new W2012R2 instance -- cannot RDP into it
I sorted it out. It was a packet filter of our ISP. For some reason they filtered RDP traffic to AWS.

Strange."

Amazon EC2	"Re: created new W2012R2 instance -- cannot RDP into it
sorted it out with our ISP."

Amazon EC2	"My instance is running @ 10 % cpu & i am not getting cpu credit ,is there
My instance is running @ 10 % cpu & i am not getting cpu credit ,is there   any problem in my instance 
please check my log , is any program is stopping to executive my instance 
can any of them help me 

i have attached my system log 	
System Log: i-05ebead5af2c4d0d1 (wordpress)

i have attach the screen shot of my cpu utilization & other if some one help me it will be great   

regards http://www.conlinetraining.com 
chandu


system log below
http://    0.278446 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.280015 acpi PNP0A03:00: _OSC: OS supports Segments MSI
http://    0.283404 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.284017 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.288789 acpiphp: Slot [0] registered
http://    0.291768 acpiphp: Slot [3] registered
http://    0.292242 acpiphp: Slot [4] registered
http://    0.294744 acpiphp: Slot [5] registered
http://    0.296230 acpiphp: Slot [6] registered
http://    0.298750 acpiphp: Slot [7] registered
http://    0.300240 acpiphp: Slot [8] registered
http://    0.304246 acpiphp: Slot [9] registered
http://    0.306809 acpiphp: Slot 10 registered
http://    0.308252 acpiphp: Slot 11 registered
http://    0.310858 acpiphp: Slot 12 registered
http://    0.312282 acpiphp: Slot 13 registered
http://    0.315126 acpiphp: Slot 14 registered
http://    0.316260 acpiphp: Slot 15 registered
http://    0.318829 acpiphp: Slot 16 registered
http://    0.320232 acpiphp: Slot 17 registered
http://    0.322791 acpiphp: Slot 18 registered
http://    0.324229 acpiphp: Slot 19 registered
http://    0.326793 acpiphp: Slot 20 registered
http://    0.328252 acpiphp: Slot 21 registered
http://    0.331130 acpiphp: Slot 22 registered
http://    0.332255 acpiphp: Slot 23 registered
http://    0.334860 acpiphp: Slot 24 registered
http://    0.336241 acpiphp: Slot 25 registered
http://    0.339316 acpiphp: Slot 26 registered
http://    0.340275 acpiphp: Slot 27 registered
http://    0.343395 acpiphp: Slot 28 registered
http://    0.344280 acpiphp: Slot 29 registered
http://    0.347220 acpiphp: Slot 30 registered
http://    0.348264 acpiphp: Slot 31 registered
http://    0.351323 PCI host bridge to bus 0000:00
http://    0.352007 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7 window
http://    0.356004 pci_bus 0000:00: root bus resource io  0x0d00-0xffff window
http://    0.360004 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff window
http://    0.364008 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff window
http://    0.368008 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.376414 pci 0000:00:01.1: legacy IDE quirk: reg 0x10: io  0x01f0-0x01f7
http://    0.380007 pci 0000:00:01.1: legacy IDE quirk: reg 0x14: io  0x03f6
http://    0.384000 pci 0000:00:01.1: legacy IDE quirk: reg 0x18: io  0x0170-0x0177
http://    0.384004 pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: io  0x0376
http://    0.388638 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.388638 * this clock source is slow. Consider trying other clock sources
http://    0.393054 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.401412 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.406749 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.411281 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.415261 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.431883 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.432045 xen:balloon: Initialising balloon driver
http://    0.437938 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.439350 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.440014 vgaarb: loaded
http://    0.441960 vgaarb: bridge control possible 0000:00:02.0
http://    0.444198 PCI: Using ACPI for IRQ routing
http://    0.446962 NetLabel: Initializing
http://    0.448010 NetLabel:  domain hash size = 128
http://    0.450457 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.452017 NetLabel:  unlabeled traffic allowed by default
http://    0.454994 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.456019 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.460006 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.466785 clocksource: Switched to clocksource xen
http://    0.471281 pnp: PnP ACPI init
http://    0.473262 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.476805 system 00:01: io  0x08a0-0x08a3 has been reserved
http://    0.480830 system 00:01: io  0x0cc0-0x0ccf has been reserved
http://    0.483837 system 00:01: io  0x04d0-0x04d1 has been reserved
http://    0.487087 system 00:07: io  0x10c0-0x1141 has been reserved
http://    0.490200 system 00:07: io  0xb044-0xb047 has been reserved
http://    0.507141 pnp: PnP ACPI: found 8 devices
http://    0.515512 clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
http://    0.521276 NET: Registered protocol family 2
http://    0.523909 TCP established hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.527475 TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
http://    0.530880 TCP: Hash tables configured (established 8192 bind 8192)
http://    0.534139 UDP hash table entries: 512 (order: 2, 16384 bytes)
http://    0.537163 UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
http://    0.540497 NET: Registered protocol family 1
http://    0.542957 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.546010 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.549002 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.552315 Unpacking initramfs...
http://    0.741788 Freeing initrd memory: 13168K (ffff880037314000 - ffff880037ff0000)
http://    0.746026 RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 655360 ms ovfl timer
http://    0.750833 hw unit of domain pp0-core 2^-14 Joules
http://    0.753534 hw unit of domain package 2^-14 Joules
http://    0.756357 hw unit of domain dram 2^-16 Joules
http://    0.759568 futex hash table entries: 4096 (order: 6, 262144 bytes)
http://    0.762985 audit: initializing netlink subsys (disabled)
http://    0.765929 audit: type=2000 audit(1467612325.045:1): initialized
http://    0.769180 Initialise system trusted keyring
http://    0.772137 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.777330 VFS: Disk quotas dquot_6.6.0
http://    0.779684 VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.783657 Key type asymmetric registered
http://    0.786024 Asymmetric key parser 'x509' registered
http://    0.788634 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
http://    0.793136 io scheduler noop registered (default)
http://    0.795780 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.799188 xen:grant_table: Grant tables using version 1 layout
http://    0.802247 Grant table initialized
http://    0.804379 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.807452 Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
http://    0.836304 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.840951 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.845341 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    0.851101 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    0.853979 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    0.856763 hidraw: raw HID events driver (C) Jiri Kosina
http://    0.860485 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
http://    0.866288 NET: Registered protocol family 17
http://    0.869190 registered taskstats version 1
http://    0.871756 Loading compiled-in X.509 certificates
http://    0.875404 Loaded X.509 cert 'Build time autogenerated kernel key: 954b8c65eef88e0bd88a34f72a308e9842e456c8'
http://    0.881324 zswap: default zpool zbud not available
http://    0.885184 zswap: pool creation failed
http://    0.971549 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.036012  xvda: xvda1
http://    1.084105 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.089411 Freeing unused kernel memory: 1188K (ffffffff81af7000 - ffffffff81c20000)
http://    1.095072 Write protecting the kernel read-only data: 10240k
http://    1.098604 Freeing unused kernel memory: 1132K (ffff8800014e5000 - ffff880001600000)
http://    1.106680 Freeing unused kernel memory: 1664K (ffff880001860000 - ffff880001a00000)
http://    1.122052 dm_mod: module verification failed: signature and/or required key missing - tainting kernel
http://    1.127732 device-mapper: uevent: version 1.0.3
http://    1.130536 device-mapper: ioctl: 4.34.0-ioctl (2015-10-28) initialised: dm-devel@redhat.com
http://    1.138473 udevd790: starting version 173
http://    1.172194 SCSI subsystem initialized
http://    1.223244 scsi host0: ata_piix
http://    1.243131 scsi host1: ata_piix
http://    1.245558 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    1.249863 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
growroot: NOCHANGE: disk=/dev/xvda partition=1: size=16773086, it cannot be grown
http://    1.566738 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.756104 tsc: Refined TSC clocksource calibration: 2399.999 MHz
http://    1.760076 clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x2298364cab5, max_idle_ns: 440795214892 ns
http://    1.803901 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    1.811610 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.823066 dracut: Mounted root filesystem /dev/xvda1
http://    1.905525 dracut: Loading SELinux policy
http://    2.481830 dracut: /sbin/load_policy: Can't load policy: No such device
http://    2.592554 dracut: Switching root
http://    2.840907 random: init urandom read with 115 bits of entropy available
image_name=""amzn-ami-hvm""
image_version=""2016.03""
image_arch=""x86_64""
image_file=""amzn-ami-hvm-2016.03.3.x86_64.ext4.gpt""
image_stamp=""72d4-6a2a""
image_date=""20160621201058""
recipe_name=""amzn ami""
recipe_id=""0275ad70-5d13-1d50-a976-482a-73b6-2208-14cb7bc0""
http://    3.157262 random: nonblocking pool is initialized
		Welcome to Amazon Linux AMI
Starting udev: http://    4.830585 udevd1518: starting version 173
http://    5.466854 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input3
http://    5.474898 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input4
http://    5.491310 ACPI: Power Button PWRF
http://    5.494745 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input5
http://    5.500975 ACPI: Sleep Button SLPF
http://    5.505309 mousedev: PS/2 mouse device common for all mice
  OK  Setting hostname localhost.localdomain:    OK  Setting up Logical Volume Management:   OK  Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 35742/524288 files, 305508/2096635 blocks
  OK  Remounting root filesystem in read-write mode:  http://    6.971360 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  Mounting local filesystems:    OK  Enabling local filesystem quotas:    OK  Enabling /etc/fstab swaps:    OK  Entering non-interactive startup
http://    7.806485 NET: Registered protocol family 10
Bringing up loopback interface:    OK  Bringing up interface eth0:  
Determining IP information for eth0... done.
  OK  Starting auditd: http://   10.480678 audit: type=1305 audit(1467612334.761:2): audit_pid=2085 old=0 auid=4294967295 ses=4294967295 res=1
  OK  Starting system logger:   OK  Starting irqbalance:   OK  Starting rngd:   OK  Starting rpcbind:   OK  Starting NFS statd:   OK  Starting system message bus:   OK  Mounting filesystems:    OK  Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Mon, 04 Jul 2016 06:05:38 +0000. Up 14.62 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Mon, 04 Jul 2016 06:05:39 +0000. Up 14.81 seconds.
ci-info: ++++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up      Address          Mask          Hw-Address    
ci-info:    lo    True    127.0.0.1      255.0.0.0            .         
ci-info:   eth0   True  172.31.46.165  255.255.240.0  06:9a:e1:c2:51:73 
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.32.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2      172.31.32.0      0.0.0.0     255.255.240.0      eth0      U   
Generating public/private rsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_rsa_key.
Your public key has been saved in /etc/ssh/ssh_host_rsa_key.pub.
The key fingerprint is:
c1:51:65:cc:3f:e1:3c:1b:1f:ec:84:56:e4:00:a0:59 root@ip-172-31-46-165
The key's randomart image is:
-- RSA 2048----
|        .Eo=+... |
|       .+. .o +. |
|       oo    ++o |
|         .   oB+ |
|        S   . o*.|
|              ...|
|                 |
|                 |
|                 |
-----------------
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
54:09:77:fc:1a:4d:d7:c1:c6:4d:0a:47:49:e5:49:27 root@ip-172-31-46-165
The key's randomart image is:
-- DSA 1024----
|        ..ooooE*B|
|         o...o+B*|
|        .    +oo.|
|       .    . o  |
|        S    o   |
|            .    |
|                 |
|                 |
|                 |
-----------------
Generating public/private ecdsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_ecdsa_key.
Your public key has been saved in /etc/ssh/ssh_host_ecdsa_key.pub.
The key fingerprint is:
52:c8:85:e7:a5:e4:ce:62:93:11:b0:1a:d5:5b:f5:f0 root@ip-172-31-46-165
The key's randomart image is:
--ECDSA  256---
|    oo ...o      |
|   . o+o+ .+     |
|  . . oO.o  E    |
|   o  o.+        |
|  .   .=S        |
|      =.o        |
|     . o         |
|                 |
|                 |
-----------------
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Mon, 04 Jul 2016 06:05:40 +0000. Up 16.57 seconds.
Loaded plugins: priorities, update-motd, upgrade-helper
Metadata Cache Created
Loaded plugins: priorities, update-motd, upgrade-helper
1 package(s) needed (+0 related) for security, out of 1 available
Resolving Dependencies
--> Running transaction check
---> Package kernel-tools.x86_64 0:4.4.11-23.53.amzn1 will be updated
---> Package kernel-tools.x86_64 0:4.4.14-24.50.amzn1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package           Arch        Version                  Repository         Size
================================================================================
Updating:
 kernel-tools      x86_64      4.4.14-24.50.amzn1       amzn-updates       99 k

Transaction Summary
================================================================================
Upgrade  1 Package

Total download size: 99 k
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : kernel-tools-4.4.14-24.50.amzn1.x86_64                       1/2 
  Cleanup    : kernel-tools-4.4.11-23.53.amzn1.x86_64                       2/2 
  Verifying  : kernel-tools-4.4.14-24.50.amzn1.x86_64                       1/2 
  Verifying  : kernel-tools-4.4.11-23.53.amzn1.x86_64                       2/2 

Updated:
  kernel-tools.x86_64 0:4.4.14-24.50.amzn1                                      

Complete!
Generating SSH2 ED25519 host key:   OK  Starting sshd:   OK  ntpdate: Synchronizing with time server:   OK  Starting ntpd:   OK  Starting sendmail:   OK  Starting sm-client:   OK  Starting crond:   OK  Starting atd:   OK  Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Mon, 04 Jul 2016 06:06:03 +0000. Up 38.21 seconds.
ci-info: ++++Authorized keys from /home/ec2-user/.ssh/authorized_keys for user ec2-user+++++
ci-info:  Keytype                 Fingerprint (md5)                 Options     Comment     
ci-info:  ssh-rsa  df:b7:6f:bd:32:64:a6:bd:71:6c:a5:c7:69:2c:26:30     -     wordpress4july 
ec2: 
ec2: #############################################################
ec2: -----BEGIN SSH HOST KEY FINGERPRINTS-----
ec2: 1024 54:09:77:fc:1a:4d:d7:c1:c6:4d:0a:47:49:e5:49:27  root@ip-172-31-46-165 (DSA)
ec2: 256 52:c8:85:e7:a5:e4:ce:62:93:11:b0:1a:d5:5b:f5:f0  root@ip-172-31-46-165 (ECDSA)
ec2: 256 7b:49:d6:6d:01:9e:4f:a5:5c:46:02:31:3b:6f:8d:c5   (ED25519)
ec2: 2048 c1:51:65:cc:3f:e1:3c:1b:1f:ec:84:56:e4:00:a0:59  root@ip-172-31-46-165 (RSA)
ec2: -----END SSH HOST KEY FINGERPRINTS-----
ec2: #############################################################
-----BEGIN SSH HOST KEY KEYS-----
ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLgTgWtzmnix7XeKeWthGtnpi9fYKB6mRskt4fiINSS+HgGDwxkfOCuW88wOb23rW6qMK8Fyl+rQa0iuSFWWYs8= root@ip-172-31-46-165
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIELdVoNagYcQqzP4kCg4R0kHeVh0IeFztOamgx1H0m3E 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD9htEpzJZNbP/fsq04n3JqZ+Lt6H5ZHv9ognWz9r9i9avXpNvhD8zlVhyfBB7VbE7BFGjqMAj0NdpyvsD6OA7gGQQ42cPpXo1St37FSopK95y8g8ZmjcUy9ifzES/sB9QaB7ItFM4tycdDYcyU+IVDBClHILcxDI1ZeM9deczjGT1+mG8vaTf7uSTH6BzHXsGs3yxYnjfIqKUQEz3IZRnX7czlHUckZ22RH1V9G7vB7O9DuCFGcUZAgOhNQTnfT2FSJjhB0ZTSs6ACRkpKBcX4s79RS2SsklkiMR3jU7RCcNQwhCHvaUIsveK5uW8duUZtxHS4eSFCwDEvZafSj9SL root@ip-172-31-46-165
-----END SSH HOST KEY KEYS-----
Cloud-init v. 0.7.6 finished at Mon, 04 Jul 2016 06:06:03 +0000. Datasource DataSourceEc2.  Up 38.36 seconds
Amazon Linux AMI release 2016.03
Kernel 4.4.11-23.53.amzn1.x86_64 on an x86_64

ip-172-31-46-165 login: /dev/fd/11: line 1: /sbin/plymouthd: No such file or directory
initctl: Event failed
Stopping atd:   OK  Stopping httpd:   OK  Stopping sshd:    OK  Shutting down sm-client:   OK  Shutting down sendmail:   OK  Stopping K36mysqld:    OK  Stopping crond:   OK  Shutting down ntpd:   OK  Stopping block device availability: Deactivating block devices:
  OK  Stopping system message bus:   OK  Stopping rpcbind:   OK  Stopping auditd: http:// 8529.852855 audit: type=1305 audit(1467620854.757:10703): audit_pid=0 old=2085 auid=4294967295 ses=4294967295 res=1
  OK  http:// 8529.947245 audit: type=1305 audit(1467620854.849:10704): auid=4294967295 ses=4294967295 op=""remove_rule"" key=(null) list=1 res=1
http:// 8529.953805 audit: type=1305 audit(1467620854.857:10705): audit_enabled=0 old=1 auid=4294967295 ses=4294967295 res=1
Shutting down system logger:   OK  Shutting down interface eth0:    OK  Shutting down loopback interface:    OK  Stopping rngd:   OK  Stopping mysqld:    OK  Sending all processes the TERM signal...   OK  Sending all processes the KILL signal...   OK  Saving random seed:    OK  Turning off quotas:    OK  init: Re-executing /sbin/inithttp:// 8535.624531 EXT4-fs (xvda1): re-mounted. Opts: (null)
Please stand by while rebooting the system...
http:// 8535.734810 xenbus: xenbus_dev_shutdown: device/vfb/0: Initialising != Connected, skipping
http:// 8535.739938 reboot: Restarting system
http:// 8535.741957 reboot: machine restart
http://    1.768081 tsc: Refined TSC clocksource calibration: 2399.999 MHz
http://    1.778770 clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x2298364cab5, max_idle_ns: 440795214892 ns
http://    1.896746 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input5
http://    1.943986 mousedev: PS/2 mouse device common for all mice
  OK  Setting hostname localhost.localdomain:    OK  Setting up Logical Volume Management:   OK  Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 43846/524288 files, 452717/2096635 blocks
  OK  Remounting root filesystem in read-write mode:  http://    2.955600 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  Mounting local filesystems:    OK  Enabling local filesystem quotas:    OK  Enabling /etc/fstab swaps:    OK  Entering non-interactive startup
http://    3.127284 NET: Registered protocol family 10
Bringing up loopback interface:    OK  Bringing up interface eth0:  
Determining IP information for eth0...http://    5.752239 random: nonblocking pool is initialized
 done.
  OK  Starting auditd: http://    5.953118 audit: type=1305 audit(1467621011.220:2): audit_pid=2091 old=0 auid=4294967295 ses=4294967295 res=1
  OK  Starting system logger:   OK  Starting irqbalance:   OK  Starting rngd:   OK  Starting rpcbind:   OK  Starting NFS statd:   OK  Starting system message bus:   OK  Mounting filesystems:    OK  Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Mon, 04 Jul 2016 08:30:12 +0000. Up 6.76 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Mon, 04 Jul 2016 08:30:12 +0000. Up 6.94 seconds.
ci-info: ++++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up      Address          Mask          Hw-Address    
ci-info:    lo    True    127.0.0.1      255.0.0.0            .         
ci-info:   eth0   True  172.31.46.165  255.255.240.0  06:9a:e1:c2:51:73 
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.32.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2      172.31.32.0      0.0.0.0     255.255.240.0      eth0      U   
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Mon, 04 Jul 2016 08:30:12 +0000. Up 7.53 seconds.
Starting sshd:   OK  ntpdate: Synchronizing with time server:   OK  Starting ntpd:   OK  Starting S64mysqld:    OK  Starting sendmail:   OK  Starting sm-client:   OK  Starting httpd:   OK  Starting crond:   OK  Starting atd:   OK  Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Mon, 04 Jul 2016 08:30:20 +0000. Up 14.78 seconds.
Cloud-init v. 0.7.6 finished at Mon, 04 Jul 2016 08:30:20 +0000. Datasource DataSourceEc2.  Up 14.87 seconds
Amazon Linux AMI release 2016.03
Kernel 4.4.14-24.50.amzn1.x86_64 on an x86_64

ip-172-31-46-165 login: http://1722169.257018 httpd invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0
http://1722169.261971 httpd cpuset=/ mems_allowed=0
http://1722169.264857 CPU: 0 PID: 29088 Comm: httpd Tainted: G            E   4.4.14-24.50.amzn1.x86_64 #1
http://1722169.268848 Hardware name: Xen HVM domU, BIOS 4.2.amazon 05/12/2016
http://1722169.268848  0000000000000000 ffff880037b73a70 ffffffff812c8f1f ffff880037b73c58
http://1722169.268848  0000000000000000 ffff880037b73b00 ffffffff811ce10d ffff88003ffdfb20
http://1722169.268848  ffffffff810b2cb1 0000000000000000 0000000000000010 ffffffff817d0a79
http://1722169.268848 Call Trace:
http://1722169.268848 <ffffffff812c8f1f> dump_stack+0x63/0x84
http://1722169.268848 <ffffffff811ce10d> dump_header+0x5e/0x1d8
http://1722169.268848 <ffffffff810b2cb1> ? __raw_callee_save___pv_queued_spin_unlock+0x11/0x20
http://1722169.268848 <ffffffff81163805> oom_kill_process+0x205/0x3d0
http://1722169.268848 <ffffffff81163e65> out_of_memory+0x435/0x480
http://1722169.268848 <ffffffff81168f2e> __alloc_pages_nodemask+0x91e/0xa60
http://1722169.268848 <ffffffff811acc88> alloc_pages_current+0x88/0x120
http://1722169.268848 <ffffffff81160104> __page_cache_alloc+0xb4/0xc0
http://1722169.268848 <ffffffff81162448> filemap_fault+0x188/0x3e0
http://1722169.268848 <ffffffffa0122d16> ext4_filemap_fault+0x36/0x50 ext4
http://1722169.268848 <ffffffff81189dfd> __do_fault+0x3d/0x70
http://1722169.268848 <ffffffff8118e237> handle_mm_fault+0xf27/0x1870
http://1722169.268848 <ffffffff81194e9c> ? do_mmap+0x2fc/0x3d0
http://1722169.268848 <ffffffff8117b44d> ? vm_mmap_pgoff+0x9d/0xc0
http://1722169.268848 <ffffffff8105ea23> __do_page_fault+0x183/0x3f0
http://1722169.268848 <ffffffff8105ecb2> do_page_fault+0x22/0x30
http://1722169.268848 <ffffffff814df798> page_fault+0x28/0x30
http://1722169.351430 Mem-Info:
http://1722169.353060 active_anon:230872 inactive_anon:16 isolated_anon:0
http://1722169.353060  active_file:173 inactive_file:214 isolated_file:0
http://1722169.353060  unevictable:0 dirty:0 writeback:0 unstable:0
http://1722169.353060  slab_reclaimable:2518 slab_unreclaimable:3094
http://1722169.353060  mapped:293 shmem:35 pagetables:3275 bounce:0
http://1722169.353060  free:12214 free_pcp:47 free_cma:0
http://1722169.372090 Node 0 DMA free:4560kB min:712kB low:888kB high:1068kB active_anon:10852kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:15988kB managed:15904kB mlocked:0kB dirty:0kB writeback:0kB mapped:4kB shmem:0kB slab_reclaimable:76kB slab_unreclaimable:132kB kernel_stack:32kB pagetables:64kB unstable:0kB bounce:0kB free_pcp:0kB local_pcp:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes
http://1722169.397054] lowmem_reserve[: 0 963 963 963
http://1722169.400154 Node 0 DMA32 free:44296kB min:44340kB low:55424kB high:66508kB active_anon:912636kB inactive_anon:64kB active_file:692kB inactive_file:856kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:1032192kB managed:1003432kB mlocked:0kB dirty:0kB writeback:0kB mapped:1168kB shmem:140kB slab_reclaimable:9996kB slab_unreclaimable:12244kB kernel_stack:1792kB pagetables:13036kB unstable:0kB bounce:0kB free_pcp:188kB local_pcp:188kB free_cma:0kB writeback_tmp:0kB pages_scanned:10992 all_unreclaimable? yes
http://1722169.425967] lowmem_reserve[: 0 0 0 0
http://1722169.429006 Node 0 DMA: 2*4kB (UE) 11*8kB (UE) 1*16kB (M) 3*32kB (UME) 4*64kB (UME) 4*128kB (UE) 4*256kB (UME) 3*512kB (UE) 1*1024kB (M) 0*2048kB 0*4096kB = 4560kB
http://1722169.439908 Node 0 DMA32: 36*4kB (UME) 213*8kB (UME) 217*16kB (UME) 302*32kB (UME) 194*64kB (UME) 74*128kB (UME) 27*256kB (UME) 1*512kB (E) 0*1024kB 0*2048kB 0*4096kB = 44296kB
http://1722169.451252 Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=2048kB
http://1722169.456496 438 total pagecache pages
http://1722169.458876 0 pages in swap cache
http://1722169.461179 Swap cache stats: add 0, delete 0, find 0/0
http://1722169.464491 Free swap  = 0kB
http://1722169.466458 Total swap = 0kB
http://1722169.468517 262045 pages RAM
http://1722169.470501 0 pages HighMem/MovableOnly
http://1722169.473008 7211 pages reserved
http://1722169.475248  pid    uid  tgid total_vm      rss nr_ptes nr_pmds swapents oom_score_adj name
http://1722169.480533  1518     0  1518     2866      227      11       3        0         -1000 udevd
http://1722169.485761  1644     0  1644     2865      210      10       3        0         -1000 udevd
http://1722169.491018  2039     0  2039     2340      125       8       3        0             0 dhclient
http://1722169.496587  2091     0  2091    28018      109      25       3        0         -1000 auditd
http://1722169.501971  2112     0  2112    61896      499      23       3        0             0 rsyslogd
http://1722169.507416  2134     0  2134     1095       36       8       3        0             0 rngd
http://1722169.512968  2152    32  2152     8823       97      22       3        0             0 rpcbind
http://1722169.518302  2173    29  2173     9965      200      24       3        0             0 rpc.statd
http://1722169.538921  2204    81  2204     5448       60      16       3        0             0 dbus-daemon
http://1722169.544828  2333     0  2333    19460      204      41       3        0         -1000 sshd
http://1722169.550024  2355    38  2355     7322      143      19       3        0             0 ntpd
http://1722169.555327  2394     0  2394    28837       80      13       3        0             0 mysqld_safe
http://1722169.560979  2640     0  2640    22247      464      44       3        0             0 sendmail
http://1722169.566304  2649    51  2649    20110      369      39       3        0             0 sendmail
http://1722169.571524  2664     0  2664   102874     1928     198       4        0             0 httpd
http://1722169.576977  2675     0  2675    29879      145      16       3        0             0 crond
http://1722169.582406  2689     0  2689     4267       41      13       3        0             0 atd
http://1722169.587998  2718     0  2718     1615       30       9       3        0             0 agetty
http://1722169.593325  2719     0  2719     1078       23       8       3        0             0 mingetty
http://1722169.598545  2723     0  2723     1078       23       8       3        0             0 mingetty
http://1722169.603639  2726     0  2726     1078       24       8       3        0             0 mingetty
http://1722169.608881  2728     0  2728     1078       24       8       3        0             0 mingetty
http://1722169.614097  2730     0  2730     1078       23       8       3        0             0 mingetty
http://1722169.619595  2732     0  2732     1078       24       8       3        0             0 mingetty
http://1722169.624916  2733     0  2733     2719       92      10       3        0         -1000 udevd
http://1722169.630097 25744    27 25744   203354    14362      87       3        0             0 mysqld
http://1722169.635469 28891    48 28891   135690    19929     234       4        0             0 httpd
http://1722169.640790 28909    48 28909   122219    21446     234       4        0             0 httpd
http://1722169.646200 28921    48 28921   121451    20739     232       4        0             0 httpd
http://1722169.651749 28938    48 28938   120330    19600     230       4        0             0 httpd
http://1722169.657061 28944    48 28944   121040    20258     231       4        0             0 httpd
http://1722169.662171 28960    48 28960   120329    19599     230       4        0             0 httpd
http://1722169.667301 29035    48 29035   144839    22904     245       4        0             0 httpd
http://1722169.672449 29046    48 29046   140246    21019     234       4        0             0 httpd
http://1722169.677441 29079    48 29079   132818    19754     235       4        0             0 httpd
http://1722169.682660 29088    48 29088   130832    18651     228       4        0             0 httpd
http://1722169.687670 29092    48 29092   143599    21541     243       4        0             0 httpd
http://1722169.692838 Out of memory: Kill process 29035 (httpd) score 90 or sacrifice child
http://1722169.697468 Killed process 29035 (httpd) total-vm:579356kB, anon-rss:91544kB, file-rss:72kB
Close"

Amazon EC2	"Re: My instance is running @ 10 % cpu & i am not getting cpu credit ,is there
Hello, 

From what I can see on our graphs, the CPU credit balance for this instance started increasing at 06:00 GMT 08-01-2016.

Please check if you can verify this. If you are still seeing an issue please let us know.

Regards,
Randolph O."

Amazon EC2	"http://aws.amazon.com unreachable from EC2 instance after maintenance
One of our instances in us-east-1b Classic stopped being able to contact the AWS API after a 2 hour maintenance down time yesterday.  
import boto
boto.__version__
'2.42.0'
sqs = boto.connect_sqs('xxxxx', 'xxxxxxxxxxxxxxxxx')
sqs.get_all_queues()
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/local/lib/python2.6/dist-packages/boto/sqs/connection.py"", line 505, in get_all_queues
    return self.get_list('ListQueues', params, [('QueueUrl', Queue)])
  File ""/usr/local/lib/python2.6/dist-packages/boto/connection.py"", line 1170, in get_list
    response = self.make_request(action, params, path, verb)
  File ""/usr/local/lib/python2.6/dist-packages/boto/connection.py"", line 1116, in make_request
    return self._mexe(http_request)
  File ""/usr/local/lib/python2.6/dist-packages/boto/connection.py"", line 1030, in _mexe
    raise ex
socket.error: [Errno 110] Connection timed out


We suspect a routing issue but as it is in Classic we can't really debug it further. 
What could be the problem?

dig A aws.amazon.com
; <<>> DiG 9.7.3 <<>> A aws.amazon.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 63536
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
 
;; QUESTION SECTION:
;aws.amazon.com.			IN	A
 
;; ANSWER SECTION:
aws.amazon.com.		33	IN	A	54.239.26.209
 
;; Query time: 0 msec
;; SERVER: 172.16.0.23#53(172.16.0.23)
;; WHEN: Fri Jul 29 10:37:06 2016
;; MSG SIZE  rcvd: 48


 telnet 54.239.26.209 80
Trying 54.239.26.209...
telnet: Unable to connect to remote host: Connection timed out"

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
We're having the exact same problem. Since maintenance yesterday, any connection to *.amazon.com times out, be it from the browser or from apps on the EC2 that access, say, S3. Other domains and servers are reachable fine. DNS resolving seems to be correct for, say aws.amazon.com, so it looks like a routing issue . Instance in question is i-20cbabc8."

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
Hello,
please notice that for EC2 Classic instances, when stopped, you will manually need to re-attach your elastic IP that was previously associated with it.

For user dwarfland:
your Instance ID(s): i-20cbabc8 is currently in stopped state, so you have to manually start it again.

When you receive a maintenance or retirement notification, 

Kind Regards
Ale"

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
The id of our instance is i-9403ef7c. We are also seeing the same behavior on i-baf71dd9 that went down during the same maintenance period yesterday.
We never had an Elastic IP attached to it so it can't be the cause of the problem, right?

Also, we can reach other servers/domains without problem.

Edited by: esiak on Jul 29, 2016 6:56 AM"

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
FWIW, we ended up booting a new instance from a fresh AMI we created. Works fine there."

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
Hello,

@esiak : I see that neither of the instances that you have noted, i-9403ef7c or i-baf71dd9, have the IP address 54.239.26.209. Could you please verify that you are using the correct IP address to correct to the respective instance? I see that both of the instance have been stop/started within the last two days and it is likely that this has resulted in the assignment of a new public IP addresses to the instances.

Regards,
Arun T."

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
According to dig
 aws.amazon.com resolves to this IP.
And we can't connect to it, so we can't call any of the AWS APIs, which is the reason I opened this issue. 
I have no problems connect to the mentioned instances, so their IPs is not really relevant.

Thank you for the help.

Regards,
Eleni

Edited by: esiak on Jul 29, 2016 9:48 AM"

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
Hello,

I notice i-9403ef7c is EBS backed. Is it possible to do a stop/start to see if that resolves the problem? It'll help us narrow this down.

Richard"

Amazon EC2	"Re: http://aws.amazon.com unreachable from EC2 instance after maintenance
This seems to have fixed the issue.
Could you give us a bit more details about what happened? 

Regards,
Eleni"

Amazon EC2	"Instance i-e3bf741b stuck up in stop state
Hi Team,

Greetings for the day !!

EC2 instance with id i-e3bf741b is stuck up in stop state. Can you please check this out? We have a production website running on this website but now its down. We can not do anything unless instance comes back up.

--
Many Thanks,
Nikhil Bhalwankar"

Amazon EC2	"Re: Instance i-e3bf741b stuck up in stop state
Hi,

The instance was stuck in stopping state for long. Now its back up and running."

Amazon EC2	"Snapshots and Instances disappeared
Hello AWS,
I recently un-suspended my account and last week I used the snapshots I created before the account was suspended to create 2 Instances and run them. After that I shutdown those instances and logged out. Today I log in and found that all the instances are gone as well as all the snapshots.
What happened and is there a way to retrieve those snapshots?

Thank you,,Charbel"

Amazon EC2	"Re: Snapshots and Instances disappeared
Hello,
I see your account was suspended in May na it's now active again.
I am still able to see your stopped instances  as well as AMI/snapshot.
They are all in the us-east-1 (N.Viriginia) AWS region.
Please double-check in the upper right corner of AWS console to select the AWS region accordingly.

Kind Regards,
Ale"

Amazon EC2	"Re: Snapshots and Instances disappeared
I found them. Thank you so much.
I totally forgot to look under the other AZs.
Sorry about that."

Amazon EC2	"EC2 Container Service free tier will I get charged if I use this
I just subscribed to the free tier on AWS.  If I use the EC2 Container Service features will I get charged?"

Amazon EC2	"I am not able terminate an instance, after many attempts
I have an instance named ""tomcat-snakes"" that I have tried many times to terminate. Whatever I try, a new instance is added with the same name and new instance ID. The instance that I terminated eventually shows a terminated status. But the newly created, unintended instance goes into a running state. And the cycle repeats."

Amazon EC2	"Re: I am not able terminate an instance, after many attempts
Instead of terminating the instance, I first needed to delete the application, which terminated the instance."

Amazon EC2	"My Elastic Load Balancing  doesn't work
Hi everyone,
I'm trying to practice as much as i can with AWS.
I created my own AMI images with Wordpress installed and configured.
Then i created Auto Scalling Group which receive traffic from my Elastic Load Balancer.
Mu Auto scalling start with 2 instance (let's call them Test1 and Test2) and both of them are in ""InService"" status.
Then i used stress tool to impose load on CPU (100%) of Test1, i checked this with top command.
The point is: If i access Test1's IP to see Wordpress page, the loading took a long time >>> my conclusion: The Load Balancer didn't work. If it works, it definitely will route traffic from Test1 to Test2.
I'm i right or wrong?"

Amazon EC2	"Re: My Elastic Load Balancing  doesn't work
Any help would be greatly appreciated!"

Amazon EC2	"Re: My Elastic Load Balancing  doesn't work
Hi,

In order to better figure out what is going on, we'd need to understand the parameters of your testing.

What stress tool did you use to create load? Does this tool make requests to instances? What parameter does your load balancer use to check the health status of the instance? When you induced this load was the server still responsive to individual requests made outside the testing tool?

Here's some quick facts:
1.) By default, the load balancer will do a page health check. As long as the instance replies back to a request with a 200 OK for the page to load, the instance will be marked as healthy.
2.) Any requests not made via the load balancer can't be measured by the load balancer, so any requests would be balanced based on inbound connections to the load balancer.
3.) The load balancer uses a least outstanding connections algorithm to balance load.
4.) To remove a load balancer from service, you would need to use a test that would cause it to fail its health check or manually remove it from service (which would defeat the purpose of your test)
5.) As you are using AutoScaling, if the instance fails the healthcheck, it will replace the instance instead of just removing it from being ""In Service""

To get an instance to fail the instance status checks, you would have to severely impair the instance to a point where it failed ping checks and would completely stop responding (ie. really high load, not 100% CPU utilization as CPU utilization may not impair an instance).

I recommend reviewing the following documents:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/how-elb-works.html
http://docs.aws.amazon.com/autoscaling/latest/userguide/as-add-elb-healthcheck.html"

Amazon EC2	"Does EC2 natively support IPv6?
Just wondering if EC2 now has native IPv6 support? Or is it coming any time soon?"

Amazon EC2	"Re: Does EC2 natively support IPv6?
Hi,

As of this time, no, IPv6 is not natively supported. Currently, the only way to use IPv6 is to have an ELB in EC2-Classic.

This is only recommended to be used if you are currently utilizing the EC2-classic infrastructure for your environment.

If EC2 supports IPv6 natively, it will be announced here:
https://aws.amazon.com/blogs/aws/"

Amazon EC2	"cloud-init fails to launch scripts
hi all 
 i am experimenting starting up .sh scrips using cloud-init
i have an amazon linux AMI and i have placed simple scripts under /var/lib/cloud/scripts/per-boot and ../per-instance directories, which simply create files under /tmp
But it seems these files never gets invoked
I am wondering what the problem coul dbe

#!/bin/sh
echo per-boot: `date` >> /tmp/per-xxx.txt

echo 'Per Boot Test' >> /tmp/marco.txt

and the scripts are all executable, this is their permissions

-rwxrwxrwx 1 root root

anyone could suggest what am i missing?
kr"

Amazon EC2	"Unable to connect to Amazon windows 2012 server
Hi,
I setup a Windows 2012 server and was working on it, it froze when I was logged in. I am now unable to ping it or login using RDP (my RDP client does not even connect). When I take an instance snapshot, I can see the screen, so the machine is alive. I have rebooted the instance and the issue remains. Is there anything further I can do to resolve this>"

Amazon EC2	"Re: Unable to connect to Amazon windows 2012 server
Is there anybody in Amazon that can help with this?"

Amazon EC2	"Re: Unable to connect to Amazon windows 2012 server
Still no progress with this. Is there anybody in Amazon that can help?"

Amazon EC2	"AWS was not able to validate the provided access credentials
I am calling AmazonEC2Client.createSnapshot from a java program, running on an EC2 Linux instance.  
It has been running with no problems for months.

It began to fail last week with the following exception (just a sample... each failure has a different RequestID):

com.amazonaws.AmazonServiceException: AWS was not able to validate the provided access credentials (Service: AmazonEC2; Status Code: 401; Error Code: AuthFailure; Request ID: 9edbf539-a373-44d5-a53a-eeebaf0c29f7)

I have not changed anything related to the IAM role associated with this instance or the policy associated with it.

Any ideas?"

Amazon EC2	"Re: AWS was not able to validate the provided access credentials
It appears that this issue was caused by clock drift on the Linux Instance.   I fixed it by doing the following:

/usr/sbin/ntpdate pool.ntp.org"

Amazon EC2	"Re: AWS was not able to validate the provided access credentials
OMFG. Thank you!"

Amazon EC2	"AWS Elastic Load Balancer-Out of Service Error
I have created my load balancer and added ec2-instance to my load balancer but it marks my instance as out of service. My load balancer and the ec2-instance has the same security group assigned to it.

Security Group: (Inbound traffic and outbound-Type:HTTP, Protocol: TCP, Port range:80, source:0.0.0.0/0)

Load balancer  Health Check details:
Ping Protocol : TCP
Ping Port:80
Response timeout:5
Interval:10
Unhealthy Threshold:5
Healthy Threshold:3

Also,Tried removing the instance from the aws ELB and added to my load balancer again but that did'nt work. Can anyone give me any suggestions or help to resolve this issue.Thanks."

Amazon EC2	"Re: AWS Elastic Load Balancer-Out of Service Error
Can you check that your instances are reachable via your LoadBalancer i.e. SecurityGroup of your instance accepts connection at port 80 & your server is indeed listening at port 80? If you have not restricted connections to your instances only via ELB then you can hit your instances from your browser and check everything is working as expected."

Amazon EC2	"Re: AWS Elastic Load Balancer-Out of Service Error
Can you connect to the IP of the instance in a browser? 

It might also help if you add an explicit entry for the security group to talk back to itself (just add port 80 with custom of the sg-xxxxx value)"

Amazon EC2	"Re: AWS Elastic Load Balancer-Out of Service Error
netstat -tulpn | grep :80 

It doesn't show anything and my server was not accessible from the browser.
But after i install, 
    sudo yum install httpd
    sudo service httpd start 
root@ip-10-xx-x-xxx /# netstat -tulpn | grep :80
tcp        0      0 :::80                       :::*                        LISTEN      31583/httpd
the load balancer marks  the instance as in service.
But i dont want to install apache and want it to be light weight as  my nodes are already using glusterfs.

Edited by: ish on Jul 29, 2016 2:41 PM"

Amazon EC2	"Re: AWS Elastic Load Balancer-Out of Service Error
Hello,

Which WebServer are you using on your instance? Just to let you know ELB doesn't fetch file from your instance it just forwards requests to your server and sends response back to the client."

Amazon EC2	"How does the network performance limitation of t2.micro work?
I found a strange phenomenon while calculating T2.micro instance network performance using Iperf 
ID Interval Transfer Bandwidth
3 0.0- 1.0 sec 11.0 MBytes 92.3 Mbits/sec
3 1.0- 2.0 sec 3.25 MBytes 27.3 Mbits/sec
3 2.0- 3.0 sec 0.00 Bytes 0.00 bits/sec
3 3.0- 4.0 sec 0.00 Bytes 0.00 bits/sec
3 4.0- 5.0 sec 0.00 Bytes 0.00 bits/sec
3 5.0- 6.0 sec 0.00 Bytes 0.00 bits/sec
3 6.0- 7.0 sec 0.00 Bytes 0.00 bits/sec
3 7.0- 8.0 sec 0.00 Bytes 0.00 bits/sec
3 8.0- 9.0 sec 0.00 Bytes 0.00 bits/sec
3 9.0-10.0 sec 0.00 Bytes 0.00 bits/sec
3 10.0-11.0 sec 0.00 Bytes 0.00 bits/sec
3 11.0-12.0 sec 0.00 Bytes 0.00 bits/sec
3 12.0-13.0 sec 0.00 Bytes 0.00 bits/sec
3 13.0-14.0 sec 0.00 Bytes 0.00 bits/sec
3 14.0-15.0 sec 2.88 MBytes 24.1 Mbits/sec
3 15.0-16.0 sec 10.9 MBytes 91.2 Mbits/sec
3 16.0-17.0 sec 11.1 MBytes 93.3 Mbits/sec
3 17.0-18.0 sec 11.1 MBytes 93.3 Mbits/sec
3 18.0-19.0 sec 11.1 MBytes 93.3 Mbits/sec
3 19.0-20.0 sec 11.1 MBytes 93.3 Mbits/sec
3 20.0-21.0 sec 11.2 MBytes 94.4 Mbits/sec
3 21.0-22.0 sec 5.12 MBytes 43.0 Mbits/sec
3 22.0-23.0 sec 0.00 Bytes 0.00 bits/sec
3 23.0-24.0 sec 0.00 Bytes 0.00 bits/sec
3 24.0-25.0 sec 0.00 Bytes 0.00 bits/sec
3 25.0-26.0 sec 11.1 MBytes 93.3 Mbits/sec
3 26.0-27.0 sec 3.38 MBytes 28.3 Mbits/sec
3 27.0-28.0 sec 0.00 Bytes 0.00 bits/sec
3 28.0-29.0 sec 0.00 Bytes 0.00 bits/sec
3 29.0-30.0 sec 0.00 Bytes 0.00 bits/sec
3 30.0-31.0 sec 0.00 Bytes 0.00 bits/sec
3 31.0-32.0 sec 0.00 Bytes 0.00 bits/sec
3 32.0-33.0 sec 0.00 Bytes 0.00 bits/sec
3 33.0-34.0 sec 0.00 Bytes 0.00 bits/sec
3 34.0-35.0 sec 0.00 Bytes 0.00 bits/sec
3 35.0-36.0 sec 0.00 Bytes 0.00 bits/sec
3 36.0-37.0 sec 0.00 Bytes 0.00 bits/sec
3 37.0-38.0 sec 0.00 Bytes 0.00 bits/sec
3 38.0-39.0 sec 0.00 Bytes 0.00 bits/sec
3 39.0-40.0 sec 0.00 Bytes 0.00 bits/sec
3 40.0-41.0 sec 10.8 MBytes 90.2 Mbits/sec
3 41.0-42.0 sec 11.4 MBytes 95.4 Mbits/sec
3 42.0-43.0 sec 11.1 MBytes 93.3 Mbits/sec
3 43.0-44.0 sec 11.1 MBytes 93.3 Mbits/sec
3 44.0-45.0 sec 11.1 MBytes 93.3 Mbits/sec
3 45.0-46.0 sec 11.1 MBytes 93.3 Mbits/sec
3 46.0-47.0 sec 11.4 MBytes 95.4 Mbits/sec
3 47.0-48.0 sec 11.1 MBytes 93.3 Mbits/sec
3 48.0-49.0 sec 11.1 MBytes 93.3 Mbits/sec
3 49.0-50.0 sec 11.4 MBytes 95.4 Mbits/sec
3 50.0-51.0 sec 11.4 MBytes 95.4 Mbits/sec
3 51.0-52.0 sec 3.00 MBytes 25.2 Mbits/sec
3 52.0-53.0 sec 0.00 Bytes 0.00 bits/sec
3 53.0-54.0 sec 0.00 Bytes 0.00 bits/sec
3 54.0-55.0 sec 0.00 Bytes 0.00 bits/sec
3 55.0-56.0 sec 0.00 Bytes 0.00 bits/sec
3 56.0-57.0 sec 0.00 Bytes 0.00 bits/sec
3 57.0-58.0 sec 0.00 Bytes 0.00 bits/sec
3 58.0-59.0 sec 0.00 Bytes 0.00 bits/sec
3 59.0-60.0 sec 0.00 Bytes 0.00 bits/sec
3 60.0-61.0 sec 0.00 Bytes 0.00 bits/sec
3 61.0-62.0 sec 0.00 Bytes 0.00 bits/sec
3 62.0-63.0 sec 0.00 Bytes 0.00 bits/sec
3 63.0-64.0 sec 0.00 Bytes 0.00 bits/sec
3 64.0-65.0 sec 0.00 Bytes 0.00 bits/sec
3 65.0-66.0 sec 11.0 MBytes 92.3 Mbits/sec
3 66.0-67.0 sec 11.2 MBytes 94.4 Mbits/sec
3 67.0-68.0 sec 10.9 MBytes 91.2 Mbits/sec
3 68.0-69.0 sec 11.1 MBytes 93.3 Mbits/sec
3 69.0-70.0 sec 11.2 MBytes 94.4 Mbits/sec
3 70.0-71.0 sec 11.2 MBytes 94.4 Mbits/sec
3 71.0-72.0 sec 11.2 MBytes 94.4 Mbits/sec
3 72.0-73.0 sec 11.2 MBytes 94.4 Mbits/sec
3 73.0-74.0 sec 11.1 MBytes 93.3 Mbits/sec
3 74.0-75.0 sec 10.9 MBytes 91.2 Mbits/sec
3 75.0-76.0 sec 11.4 MBytes 95.4 Mbits/sec
3 76.0-77.0 sec 3.00 MBytes 25.2 Mbits/sec
3 77.0-78.0 sec 0.00 Bytes 0.00 bits/sec
3 78.0-79.0 sec 0.00 Bytes 0.00 bits/sec
3 79.0-80.0 sec 0.00 Bytes 0.00 bits/sec
3 80.0-81.0 sec 0.00 Bytes 0.00 bits/sec
3 81.0-82.0 sec 0.00 Bytes 0.00 bits/sec
3 82.0-83.0 sec 0.00 Bytes 0.00 bits/sec
3 83.0-84.0 sec 0.00 Bytes 0.00 bits/sec
3 84.0-85.0 sec 0.00 Bytes 0.00 bits/sec
3 85.0-86.0 sec 0.00 Bytes 0.00 bits/sec
3 86.0-87.0 sec 0.00 Bytes 0.00 bits/sec
3 87.0-88.0 sec 0.00 Bytes 0.00 bits/sec
3 88.0-89.0 sec 0.00 Bytes 0.00 bits/sec
3 89.0-90.0 sec 0.00 Bytes 0.00 bits/sec
3 90.0-91.0 sec 11.1 MBytes 93.3 Mbits/sec
3 91.0-92.0 sec 11.4 MBytes 95.4 Mbits/sec
3 92.0-93.0 sec 11.1 MBytes 93.3 Mbits/sec
3 93.0-94.0 sec 11.1 MBytes 93.3 Mbits/sec
3 94.0-95.0 sec 11.4 MBytes 95.4 Mbits/sec
3 95.0-96.0 sec 11.1 MBytes 93.3 Mbits/sec
3 96.0-97.0 sec 11.2 MBytes 94.4 Mbits/sec
3 97.0-98.0 sec 11.1 MBytes 93.3 Mbits/sec
3 98.0-99.0 sec 11.0 MBytes 92.3 Mbits/sec
3 99.0-100.0 sec 11.2 MBytes 94.4 Mbits/sec
3 100.0-101.0 sec 11.2 MBytes 94.4 Mbits/sec

Like the above, it showed a rapid decrease from 90Mbps to 0bps for a certain period of time. After analyzing Packets with tcpdump and wireshark, I found that my instance stopped sending ACK for 14sec every 12sec. It was not because of the overhead caused by lack of credit, since CPU credit was enough. I can't understand the reason for this 14sec non-ack action. Is this the result of T2.micro network performance limitation(Low to moderate)? If that is true, I would like to know how network use limitation works."

Amazon EC2	"EC2 instances rebooted without notice
Hello, 

Most of our t2.micro instances (20-30) in our OpsWorks us-east-1d zone suddenly rebooted around 17:30 (GMT+8) 25-July.

Here are the logs
------------- opsworks-agent.process_command.log -------------
2016-07-25 09:25:32 ERROR opsworks-agent(2261): process_command: Error during perform: Net::OpenTimeout - execution expired - /opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:878:in `initialize'
/opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:878:in `open'
/opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:878:in `block in connect'
/opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:877:in `connect'
/opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:862:in `do_start'
/opt/aws/opsworks/local/lib/ruby/2.0.0/net/http.rb:857:in `start'

------------- opsworks-agent.keep_alive.log -------------
2016-07-25 09:26:07 ERROR opsworks-agent(2248): keep_alive: Timeout while reporting to Instance Service
2016-07-25 09:27:07 DEBUG opsworks-agent(2248): keep_alive: Performing keepalive
2016-07-25 09:28:09 ERROR opsworks-agent(2248): keep_alive: Timeout while reporting to Instance Service
2016-07-25 09:29:09 DEBUG opsworks-agent(2248): keep_alive: Performing keepalive
2016-07-25 09:30:11 ERROR opsworks-agent(2248): keep_alive: Timeout while reporting to Instance Service

I think this will be your reply 
""The underlying host on which your instance is running experienced intermittent issues that affected your instance. The intermittent issue was resolved and the both the instance host are healthy now.""
ref: https://forums.aws.amazon.com/thread.jspa?threadID=236017&tstart=0

What we'd like to know is what could have caused this, and how can we prevent this from happening again.

Please advise.

Thank you,
Ian

Edited by: Ianstellar on Jul 26, 2016 8:13 PM

Edited by: Ianstellar on Jul 26, 2016 8:15 PM"

Amazon EC2	"Re: EC2 instances rebooted without notice
Hello Ian,

I'm sorry to hear that you're experiencing an issue with your instances. Could you please provide IDs of some of the instances so I could take a closer look at whats happening?

Thanks,
Anup"

Amazon EC2	"Re: EC2 instances rebooted without notice
Hello Anup,

Here are some of the instances that rebooted without notice.
i-6f0186f5
i-dbb7426b
i-6eec06de
i-d0fc1f73
i-023e11b1

Thanks,
Ian"

Amazon EC2	"Re: EC2 instances rebooted without notice
Hello Ian,

I have verified that instances were stopped due to a StopInstance API call being made, most of them around 09:33-09:35 UTC, which matches the time you provided.

The underlying hardware didn't present any issues at that time 

I can see that you have CloudTrail enabled for the region in which your instances are deployed. Analyzing the logs you will be able to identify which user performed the call.

Cheers
Eduardo C"

Amazon EC2	"Re: EC2 instances rebooted without notice
Hello Eduardo,
Thanks for pointing that out.
However upon checking the Cloudtrail, the API calls made ""StopInstances|StopInstance"" were initiated by us after the instances failed to auto restart by themselves.

Here is the sequence 
1. servers restarted (unscheduled, without notice, not initiated by us)
2. stopped ""failed to start properly"" server (initiated by us, i think this is the one registered in cloudtrail)
3. adjusted configurations (we need to adjust some config in our opsworks since old resources were no longer available, this is also the cause why the server failed to start properly)
4. restart servers (initiated by us).

Hope this helps.

Thanks,
Ian"

Amazon EC2	"Re: EC2 instances rebooted without notice
Hello,

I checked the logs again for i-6f0186f5 as a representative sample.

The hardware that was running this instance was (and is) healthy.

A StopInstances call was made by the OpsWorks service at 2016-07-25 09:34:13 GMT. This lines up almost exactly with when you reported an unexpected reboot.

Richard"

Amazon EC2	"Cancelled spot fleet remains visible in console for 9 months
I created a spot fleet when the new spot request console was first released. Despite cancelling the request 9 months ago, it is still showing in my console with a state of ""cancelled_terminating"".

Would AWS Support be able to remove this entry from the console?

Its request-id is sfr-263c136c-aab4-460a-a522-7b82260a2b5c in us-east-1"

Amazon EC2	"Re: Cancelled spot fleet remains visible in console for 9 months
Hello,

This should be done now. 

Have a great weekend 

Richard"

Amazon EC2	"Instance stuck at the stopping state
Instance i-50d622ff under one of my accounts has been stuck in the stopping state."

Amazon EC2	"Re: Instance stuck at the stopping state
Hello,

I apologize for the issue you are experiencing with EC2 instance i-50d622ff. I have engaged the team to further investigate. I will provide a further update as soon as more information becomes available.

Regards,
Mohsin"

Amazon EC2	"Re: Instance stuck at the stopping state
Thanks for looking into the issue. As of 9:53am (PST) on July 28, 2016 EC2 instance i-50d622f is still stuck in the stopping state.  Any update for this issue would be greatly appreciated."

Amazon EC2	"Re: Instance stuck at the stopping state
Hello,
I apologize for the delay on this.
I have engaged the correct Service Team because the issue is related to the secondary EBS volume of the instance,
vol-fb2c184d 50 GiB gp2
Thanks for being patient on this>

Kind regards
Ale"

Amazon EC2	"Re: Instance stuck at the stopping state
Hi,

The internal team has stopped the instance  i-50d622ff. Since you have made an terminate call on the instance at 2016-07-29 20:07:15 UTC. The instances is terminated now.
The issue is related to an underlying hardware issue with the secondary EBS volume of the instance.

On behalf of AWS, I apologies for the inconvenience this incident has caused you.

Although EBS volumes are designed for reliability, including being backed by multiple physical drives, we are still exposed to durability risks. We publish our durability expectations on the EBS detail page here (http://aws.amazon.com/ebs/details).

Regards,
Louisa Liu"

Amazon EC2	"EFS
Hello -- 

Is the EFS  limited to a EC2  instance or can any NFS client  map the filesystem? 

Thanks 

fpe"

Amazon EC2	"Re: EFS
Hello fpe,

EFS is currently limited to only EC2 Linux access only. That too within the VPC. More features would be added soon. You can keep an eye on AWS announcements for new features launched.

Let me know if you have any further questions. I will be more than happy to answer them."

Amazon EC2	"Re: EFS
hello -- 

Thanks for the info"

Amazon EC2	"Latency to external endpoint is slow?
Hello, 

I'm wondering if there is anyone here who can assist me. I'm looking into deploying AWS services for my business and am noticing slow response times from AWS to our local endpoint. In comparison, our current hosting provider (MediaTemple) seems to be getting a response a second or so faster than the AWS server.

I thought it might be due to the location Oregon vs Virginia, but it doesn't seem to make much of a difference when I tried swapping regions. Our company is located in the mid-west (WI area).

Does anyone have any suggestions on how to decrease latency and response times to external sites outside of AWS?"

Amazon EC2	"Server.InternalError: Internal error on launch
hi My server is stuck in a stopping state and will not start with error Server.InternalError: Internal error on launch

Can someone help please, instance ID is i-a111ae18"

Amazon EC2	"Lifecycle hook message different from documentation
Hi,
I've added a termination lifeycycle hook pointing at lambda and email. The shape of this message does not correspond to documentation e.g: 

Service: AWS Auto Scaling
Time: 2016-07-29T14:17:53.271Z
RequestId: 2b5d6382-90c8-465b-b3c5-61616511b042
Event: autoscaling:EC2_INSTANCE_TERMINATE
AccountId: 12345
AutoScalingGroupName: Blah-Blah-1L9KG3HBXO0ZH
AutoScalingGroupARN: arn:etc
ActivityId: 2b5d6382-90c8-465b-b3c5-61616511b042
Description: Terminating EC2 instance: i-034f0143274d9d234
Cause: At 2016-07-29T13:17:42Z instance i-034f0143274d9d234 was taken out of service in response to a user request.
StartTime: 2016-07-29T13:17:42.154Z
EndTime: 2016-07-29T14:17:53.271Z
StatusCode: MidTerminatingLifecycleAction
StatusMessage: 
Progress: 60
EC2InstanceId: i-034f0143274d9d234
Details: {""Subnet ID"":""subnet-07b37434"",""Availability Zone"":""eu-west-1b""}


The values that I should get to call the complete function: http://docs.aws.amazon.com/AutoScaling/latest/APIReference/API_CompleteLifecycleAction.html

Are missing or seemingly by a different name."

Amazon EC2	"Again my EC2 instance is not reachable
Hello,

There is something wrong, again my instance not reachable. Just restarted the server but still it is not reachable.
Please help.

Regards,
Keshav"

Amazon EC2	"Re: Again my EC2 instance is not reachable
Hello Keshav,
looking at your resources, I see you have three instances in us-east-1 AWS region, and one of them is currently  in stopped state due to a manual user action on 2013-08-26 16:55:11 GMT

Could you please double-check on your end for the same?

Kind regards
Ale"

Amazon EC2	"""Amazon EC2 Instance scheduled for retirement""...
Hello,

A message from AWS started: We have important news about your account (AWS Account ID: <removed>). EC2 has detected degradation of the underlying hardware hosting your Amazon EC2 instance (instance-ID: <removed>) in the us-east-1 region. Due to this degradation, your instance could already be unreachable. After 2016-08-12 12:00 UTC your instance, which has an EBS volume as the root device, will be stopped.""

After that I am offered to make an AMI out of instance and re-launch it.

Will simple restarting the instance (stopping and starting) do, actually, the same? Otherwise I can't understand why that's named ""cloud"" - unless all hardware used by the instance is degraded.

Instance is running ATM and no visible problems with it detected."

Amazon EC2	"Re: ""Amazon EC2 Instance scheduled for retirement""...
Hello,
yes, you are right: when receiving a message for retirement or scheduled maintenance, you can perform a Stop/Start (NOT reboot) action at the earliest convenient time-frame and the instance will start on a fresh new hardware.
Taking an AMI for backup purposes is always recommended.
kind regards
Ale"

Amazon EC2	"Cannot Connect to my Win Server Instance (Connection timed out)
Hi 
I've launched a Windows Instance on EC2
Now I try to make a ssh session via putty to the Windows Server. Result: ""Connection timed out""
(RDP Connection is working)

I've checked the  troubleshooting site. configuration seems to be ok.

First of all I do not get a ping result on the public IP/Name (tracert will stopp in the middle of the amazon net).
The username in putty should be   uname@hostname. What is the username  (ec2-user)?

thx in advance

Edited by: brothert on Jul 29, 2016 5:26 AM"

Amazon EC2	"Cannot connect to ec2 via ssh - Permission Denied (publickey)
Hi, I've using an AWS EC2 server with Ubuntu for days, however I cannot connect to it via ssh today. I have tried several methods, seems no one solves the problem. Below are the log messages. I would be very appreciated if you can help me solve the problem, thank you in advance!

l$ ssh -v -i ""fcaws1.pem"" ubuntu@ec2-52-53-220-20.us-west-1.compute.amazonaws.com
OpenSSH_6.9p1, LibreSSL 2.1.7
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: /etc/ssh/ssh_config line 56: Applying options for *
debug1: Connecting to ec2-52-53-220-20.us-west-1.compute.amazonaws.com http://52.53.220.20 port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file fcaws1.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file fcaws1.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.6
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.6 pat OpenSSH_6.6.1* compat 0x04000000
debug1: Authenticating to ec2-52-53-220-20.us-west-1.compute.amazonaws.com:22 as 'ubuntu'
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client chacha20-poly1305@openssh.com <implicit> none
debug1: kex: client->server chacha20-poly1305@openssh.com <implicit> none
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:JORqW6xZl08O8muFnkgDRfN8/edWKiSzI+ocLU6Jl28
debug1: Host 'ec2-52-53-220-20.us-west-1.compute.amazonaws.com' is known and matches the ECDSA host key.
debug1: Found key in /Users/michael/.ssh/known_hosts:11
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: fcaws1.pem
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey)."

Amazon EC2	"Re: Cannot connect to ec2 via ssh - Permission Denied (publickey)
Hi, have you figured out what the issue was? I have the same thing."

Amazon EC2	"Can't ping my instance yet ICMP is set-up correctly.
Hi,

I have setup a instance on AWS for the first time. My instance is up (according to status check) yet I can't ping it.

All the posts I have found suggest enabling inbound security settings for ICMP, but I believe I have already done that. see below: 

Custom ICMP Rule Echo Reply N/A 0.0.0.0/0

Also, when I look at my security settings, I have two groups. I'm not exactly sure why. Is one the security settings for my specific instance (launch-wizard-1) and the other the more general VPC security groups settings? Either way, I have set the ICMP to enable echo in both cases.

This all comes back to the fact I can't connect to my instance using putty, but I thought I'd start by trying to get a simple (ha) ping working first. 

Many Thanks
John"

Amazon EC2	"Re: Can't ping my instance yet ICMP is set-up correctly.
Hello,

Ping operates by sending Internet Control Message Protocol (ICMP) Echo Request packets to the target host and waiting for an ICMP Echo Reply. You need to open inbound rule for ICMP echo request. For ssh port 22 if it is linux instance, 3389 port windows for rdp.

Regards,
Umair A."

Amazon EC2	"Re: Can't ping my instance yet ICMP is set-up correctly.
Hi Umair,

Thanks for the quick reply.

I have RDP set for both groups for port 3389 as you described. The problem must be related to something else. Thanks for your suggestion though.

Best wishes
John"

Amazon EC2	"Re: Can't ping my instance yet ICMP is set-up correctly.
Looks like your instance is not reachable via Internet, check that a public IP address is assigned to your instance and router settings are configured properly."

Amazon EC2	"Re: Can't ping my instance yet ICMP is set-up correctly.
Curious: Why have you got RDP open if you're trying to talk via Putty?

Putty will be for Linux Instances, which you will want to talk via port 22 (SSH) to your instance. If you have 3389 (RDP) open then it suggests a Windows instance, which you will want to talk to it via RD Client.

Further checks include the setup of your VPC - do you have a route to a valid Internet Gateway and is the subnet automatically giving your instance a Public IP? If not, do you have an Elastic IP assigned? If you are going through a NAT Gateway then you will not be able to connect to the instance from outside of your VPC."

Amazon EC2	"Autoscale group within a VPC
Hi there,
I'm trying to create an autoscale group within a VPC.
I'm getting this error: ""Launching a new EC2 instance. Status Reason: the security group <group  id> does not exist in VPC <vpc id>""
How would I resolve this error? 
Thanks in advance."

Amazon EC2	"Re: Autoscale group within a VPC
Can you cross check that Security Group does exist and in the same VPC in which you are trying to create AutoScaling group?"

Amazon EC2	"Re: Autoscale group within a VPC
As previous comment.... With addidtion:

You will need to create your Security Group before your Launch Configuration, and then select the Group when you get to that part of the Launch Config wizard..

If you create the Security Group within the LC Creation you do not get to choose the VPC it will be created in (I suspect it goes to your Default VPC) and this can cause the error that you see.

You have no idea how often that trips me up."

Amazon EC2	"Error attaching volume:xxxxxx with Marketplace codes may not be attached.
I have a PV instance which I want to migrate to an HVM instance. I created a snapshot of the PV instance and launched an HVM instance and tried to attach the volume of the PV instance to it.

I get this error:
""Error attaching volume: The instance configuration for this AWS Marketplace product is not supported. Please see http://aws.amazon.com/marketplace/pp?sku=8fvdn95s5ev33cprr62nq3q7t for more information about supported instance types, regions, and operating systems.""

How can I attach the old volume to the new instance?

Thanks!"

Amazon EC2	"How to update Amazon Linux Versions.
When I log in to my instance it says:
https://aws.amazon.com/amazon-linux-ami/2015.09-release-notes/
Amazon Linux version 2016.03 is available.

But when I run sudo yum update it says: No packages marked for update. 

So how do I update my instance to the newest version of Amazon Linux?"

Amazon EC2	"Re: How to update Amazon Linux Versions.
Hi JacobReid,

I would suggest you check 'releasever' in /etc/yum.conf. If it is set to '2015.09', your instance won't refer to '2016.03' repository. In this case, please try to set 'latest' or '2016.03' to the variable. 

Thank you for using Amazon Linux AMI!

Regards,
Munehisa"

Amazon EC2	"Re: How to update Amazon Linux Versions.
There is not a 'releasever' in /etc/yum.conf. Here is what I see:
# This file was generated by Chef
# Do NOT modify this file by hand.
 
[main]
cachedir=/var/cache/yum/$basearch/$releasever
debuglevel=2
distroverpkg=system-release
exactarch=1
gpgcheck=1
installonly_limit=3
keepcache=0
logfile=/var/log/yum.log
obsoletes=1
plugins=1


Edited by: JacobReid on Jul 26, 2016 10:23 PM"

Amazon EC2	"Re: How to update Amazon Linux Versions.
As noted in comments, your /etc/yum.conf has been overridden by Chef. Here is how the default /etc/yum.conf looks like.

[ec2-user@ip-10-0-2-110 ~]$ cat /etc/yum.conf 
[main]
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
distroverpkg=system-release
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=3
deltarpm=0
 
# by default the yum configuration will point to the latest release
# of Amazon Linux AMI. If you prefer not to automatically move to
# new releases, comment out this line.
releasever=latest
 
#  This is the default, if you make this bigger yum won't see if the metadata
# is newer on the remote and so you'll ""gain"" the bandwidth of not having to
# download the new metadata and ""pay"" for it by yum not having correct
# information.
#  It is esp. important, to have correct metadata, for distributions like
# Fedora which don't keep old packages around. If you don't like this checking
# interupting your command line usage, it's much better to have something
# manually check the metadata once an hour (yum-updatesd will do this).
# metadata_expire=90m
 
# PUT YOUR REPOS HERE OR IN separate files named file.repo
# in /etc/yum.repos.d


You may need to check if files in /etc/yum.repos.d are also modified. 

You can bring default files from newly created Amazon Linux AMI 2016.03 instances, but it may conflict with Chef as noted. If the instance is under controlled of AWS OpsWorks, I would suggest you visit OpsWorks forum or open support case. Unfortunately, Amazon Linux AMI team can't provide direct support for Chef or OpsWorks.

Thanks,
Munehisa"

Amazon EC2	"EB-created EC2 instance cannot connect to RDS instance
Hello,

This morning I created a RDS DB instance, to be publicly accessible, using the console.

Then I went through the EB console ""wizard"" and created a fresh app/env, and then deployed our application to it using the Visual Studio tools.

The application on the EC2 instance attempts to connect to the RDS instance created by EB but fails with:
""Error: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - No such host is known.)""

I have quadruple-checked the application's DB connection string to be correct.  I have verified that the security groups allow connections from the EC2 (done as the docs say to do it).

This consistently fails to work the way the docs say it should, and I am about to my limit with the frustration that's resulting from those failures. 

I had a working environment at one time and now AWS' own console, wizards and toolkit fail me every single time.  I am under an extremely pressure-filled deadline to get this to production.

Help would be fantastic.  Please let me know if you need more info. Thanks!

EC2 instance: i-5c9a54c8 (running Windows Server 2012 R2 with IIS 8.5)
RDS instance: erispaydevdb (running SQL Server 2014 SE)

joeP

P.S.: Apologies ahead of time if I don't respond quickly.  These forums are limiting me to a ridiculously small number of postings (like 1 a day? sheesh!)."

Amazon EC2	"Re: EB-created EC2 instance cannot connect to RDS instance
The problem was indeed the connection string settings in the app after all.  Silly developers going and doing such things!"

Amazon EC2	"Transferring An Amazon Static Website using S3 to ec2 server instance
Hello All,

Awhile back, I hosted a static website through S3.  I registered the domain name using route 53, followed the documentation and things went well for the most part.  I don't recall any snags along the way.  In fact, I think the documentation was given at http://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html

Well, recently I decided to create an Amazon ec2 instance and use it as a web server.  I wanted to basically stop running the website using S3 and start using my server instance to host the site.  This is where things get really complicated for me.

I deleted the original hosted zone (which may have been a mistake) then re-created a hosted zone with the same domain name.  Then, I went to registered domains within route 53 and changed the name servers to the ones provided by the record set within the newly created hosted zone.  I also added the elastic IP as a record set, by typing the elastic IP as the value field within that hosted zone.  I have no clue what to do with SOA.

So, now my website is not loading the original nor the server's nginx welcome page from the server either.

I have no clue what to do.  I'm begging someone for help, because I simply have no clue anymore.  I just really need to re-route the address http://ec2-52-4-168-47.compute-1.amazonaws.com/ to my domain name that I registered through route 53.

Any help would be so appreciated.

Thanks,

Rick"

Amazon EC2	"Re: Transferring An Amazon Static Website using S3 to ec2 server instance
Hello Rick,

I looked at your Route53 configuration and it looks good. Also I was able to see the nginx welcome page using your domain name http://rick******.com.

Please let us know if you are still experiencing any issue."

Amazon EC2	"Any amazon service to send image embedded in http response
Hello

I am looking for a amazon service to which I can send HTTP request for an image from device and in return the service can send me an image embedded in the HTTP response back to the device.

Thanks

Edited by: rpathak on Jul 28, 2016 9:44 AM"

Amazon EC2	"Instances cannot resolve DNS from Route53
Hello,

We have a public zone hosted in AWS Route53. Instances in EC2 Classic were able to resolve DNS in stated in that public zone but now they cant. We've had those instances up and running for months and we didnt update anything on them for more than a week and they have suddenly stopped resolving DNS from that Route53

dig some.url.example.com # some.url.example.com is a CNAME in Route53 to another instance
returns status NXDOMAIN (if I run from my local machine it returns status: NOERROR).

If we place some.url.example.com in another private zone in Route53 they are able to resolve it.

It only happened in some instances, someothers are running ok."

Amazon EC2	"Windows server 2012R2 - cannot connect to a custom port
Hi,

I created two Windows instances on us-east-1, both of them are in private VPC network and I want to let them communicate them with each other by using TCP port 33222.

I could successfully connect to the instance via RDP by opening a corresponding port on security group, so I thought only I need to do is create a new rule that allows an inbound access on port 33222.
The instances are on the same security group, so I allow an access from that security group, on port 33222.

But I could not connect. I tested by telnet but it just failed.
Then I tried opening a port 33222 on Windows firewall setting, then I could connect to one instance, but could not for another one even though I put the same setting as the first one.
(I just added a new inbound rule to firewall advanced setting to allow 33222 port for all)

Telnet just returns

telnet 172.18.8.69 33222                                                                                                                                                    
Trying 172.18.8.69...
telnet: connect to address 172.18.8.69: Operation timed out
telnet: Unable to connect to remote host

Am I missing something?"

Amazon EC2	"Re: Windows server 2012R2 - cannot connect to a custom port
Hello,

Having the rule allowed in the Security Group and the Windows Firewall should be enough to allow both instnaces to communicate on that port (in case they are in the same subnet). 

Make sure that you have an application listening on that TCP/UDP port by using netstat -an.

Cheers
Eduardo C"

Amazon EC2	"Re: Windows server 2012R2 - cannot connect to a custom port
Ah you're completely right, our developer missed to install an application which listens to port 33222 only on one machine...I'm really sorry:-(

But anyway, I'm glad that what I've done is so far in the right direction!
Thank you so much.

Edited by: redtree1112 on Jul 28, 2016 8:05 AM"

Amazon EC2	"Migrating AMI to another region - What do i need to change on the PEM key ?
If i migrate an AMI to another region, what do i need to do with the source AMI PEM key to gain access to the copied AMI ?

Is there some official AWS documentation i can read on this ?

Edited by: A Camp on Jul 28, 2016 7:37 AM"

Amazon EC2	"EBS is mounted, but showing ""available"" in dashboard, ....
1. EBS is mounted but shows ""available"" on AWS dashboard

2. The mount point can be accessed on the shell to a certain sub level. But then it stops working. Getting input / output error after using e.g. ls -la
If I use ""cat"" to output a known file under this sub folder level I cannot use 'ls -la"" on its showing the content. Even the apache who is delivering files from this subfolders is still working...

/var/log/messages
Jul 26 13:04:56 ip-172-31-31-232 kernel: http://16239232.944411 blk_update_request: I/O error, dev xvdf, sector 30447208
Jul 26 13:04:56 ip-172-31-31-232 kernel: http://16239233.008218 blk_update_request: I/O error, dev xvdf, sector 30447208
Jul 26 13:04:57 ip-172-31-31-232 kernel: http://16239233.558484 blk_update_request: I/O error, dev xvdf, sector 30447208
Jul 26 13:04:57 ip-172-31-31-232 kernel: http://16239233.611180 blk_update_request: I/O error, dev xvdf, sector 30447208
Jul 26 13:06:38 ip-172-31-31-232 kernel: http://16239334.368082 EXT4-fs (xvdf): error count since last fsck: 17
Jul 26 13:06:38 ip-172-31-31-232 kernel: http://16239334.370680 EXT4-fs (xvdf): initial error at time 1466164524: ext4_journal_check_start:56
Jul 26 13:06:38 ip-172-31-31-232 kernel: http://16239334.374529 EXT4-fs (xvdf): last error at time 1468687612: ext4_find_entry:1457: node 1328670


Any idea how to fix 1. and if its related to 2. 
how to fix 2? I am creating a snapshot of the EBS right now. My idea was to unmount it and mount it again? Or maybe try a restart, but I am still not happy which the restart....


Edited by: ComputerRock on Jul 26, 2016 6:38 AM"

Amazon EC2	"Re: EBS is mounted, but showing ""available"" in dashboard, ....
Can you kindly provide the EBS volume ID for further investigation?

Regards,
Mohsin"

Amazon EC2	"Re: EBS is mounted, but showing ""available"" in dashboard, ....
EBS Volume ID: vol-241ae3c1

I investigated a bit more. Now I found out the whole device is only readable. I tried to edit files and create new files. Gives me error message, its only readable device..."

Amazon EC2	"Re: EBS is mounted, but showing ""available"" in dashboard, ....
Hello,

I've looked at the volume that you provided and could not find any issues with it. The actual status of the volume appears as available for me and I also don't see any I/O on this particular volume.

Are you still facing this issue? If so, try to perform a stop/start of your instance  and forcefully detach try to detach the volume while it's stopped. 

Let us know if that doesn't work for you."

Amazon EC2	"Downlaod speed from outside AWS
Download speed from outside AWS is very slow.

We have a web application running on a r3.large instance in N. Virginia within a VPC.
The download speed from outside the AWS from this instance is very slow. We are getting a download speed of 20 to 50 KBytes per second. We had the same issue when the instance was outside the VPC too. This is a very low speed for our application running on this instances. 
If we access the same application from using browser on another EC2 machine, we get a speed of about 2 MB/Sec. 
A speed test on the instance show 60 MBytes per seconds download and 60 MBytes per seconds upload. 
Is there a way to improve the download speed from outside the AWS? 
CloudFront is not an option for our real-time data to the customers."

Amazon EC2	"Marketplace submission AMI required?
Hi,

I have been researching the requirements for deploying an application within a docker container to the AWS Marketplace. So far I have been using a CloudFormation template to define it, though from what I have read in the seller guide and addendum, an AMI is required to be built in addition to the CloudFormation template. Is this correct?

Also, is there any restrictions on use of containers within the AMI?

Appreciate any pointers.
Ash"

Amazon EC2	"ssh: connect to host port 22: Operation timeout
I tried connecting to server many times but failed every time. I created following clusters: (ID)
j-2X0M04XISP3EX
j-2OJ4N1LTEIG4R
and many like these. Used NACL (ID):
acl-d4d497b3, added inbound rules and outbound rules to open port 22 but it didn't work. I read many other posts but it didn't help. Even tried with putty on windows and on mac too. Please help me, I've been stuck for more than a day.

Edited by: gaba on Jul 28, 2016 12:07 AM"

Amazon EC2	"windows-based ec2 be samba client couldn't mount
Dear all,
      i try to build an shared storage with glusterfs on ec2. 
      But because my surroundings, i meet some problem.
      first, i use glusterfs to create replic volume on 2 centos-based ec2 
      and mount it to a windows-based ec2.
      Now i meet problem 1 that 
        win 2012r2 can't mount the shared resources while it is mounted successfully on other centos.
      win mount method i follow this url : 
http://xmodulo.com/samba-file-server-windows-clients.html

      i could enter the login user and password. but it will fail.
     At the same time, i use the my win 7 pc to connect the share resources successfully. 
     So what's happened with the win 2012r2 on aws....
     it show ""system error 53 has occurred the network path was not found"".
     But i am sure the sg allows all traffic between them and firewalls are already closed.
     they could ping each other.

      and then i continue to complete the ha of shared storage by ctdb. 
      In the section, i meet second problem that round-robin dns for public_address how to implement in aws. Here i following the url to build my HA 
http://blog.gluster.org/category/high-availability/


      These problem i only met on aws. 
      Or are there any solutions to provider shared storage to win clinet and linux client simultaneously.
      here no efs because deployed surroundings is in tokyo and performance and features of s3 
      couldn't satisfy my demand. i need a shared storage with HA.

      Anyone could help me to solve them, thank you.

Edited by: aaron_yang on Jul 19, 2016 7:00 PM"

Amazon EC2	"Re: windows-based ec2 be samba client couldn't mount
the first problem maybe is resulted from vpc architecture or the certain ec2 instance.
Because i use other windows instance mount successfully in private subnet in vpc.
The fail one and gluster volume both are in public subnet in vpc.
i will test this tomorrow. 

==> After testing, if i launch a windows-based ec2 in subnet, it won't mount the gluster volume by cifs(samba). In test, the sg and fw allow anything.
Why linux instance in subnet could mount glusterfs but windows instance couldn't? So strange!
Anyone has idea?

==>i select other IMA to launch a new windwos instance in public subnet, it could mount this time.
OMG, very strange....i think maybe some softwares results in the error.
whatever, i could use the glusterfs now.

But the second problem, there is no clue in my mind as far.


Edited by: aaron_yang on Jul 20, 2016 7:27 PM

Edited by: aaron_yang on Jul 25, 2016 3:29 AM

Edited by: aaron_yang on Jul 27, 2016 7:30 PM"

Amazon EC2	"Re: windows-based ec2 be samba client couldn't mount
although we couldn't set vip for ec2 in aws(hence ctdb no failover), route 53 has round-robin dns.
route policy uses simple with mutiple values or 
weighted/failover + health check even arrives failover + load balance. 
(health check must uses EIP/public ip)
but it need the resources(my glusterfs instances) with a public ip / EIP...i avoid this case.

Edited by: aaron_yang on Jul 26, 2016 8:31 PM

Edited by: aaron_yang on Jul 26, 2016 8:43 PM

Edited by: aaron_yang on Jul 27, 2016 7:29 PM"

Amazon EC2	"Instance Stuck in Shutting Down
Instance 	
i-026282999f2c47752 is stuck in shutting down and I can't terminate it nor can I force detach vol-9337c448' which I want to remount on another instance."

Amazon EC2	"Re: Instance Stuck in Shutting Down
Hi AWS,  
I have the same problem.  My instance i-ea072535 has been stuck in state: ""shutting-down"" for a couple of months now. Can this please be resolved."

Amazon EC2	"Re: Instance Stuck in Shutting Down
Hello to you both.

On behalf of AWS, I apologize for the issues you have experienced. I have contacted the necessary teams to resolve the issue. We will notify you both via this post once the issue has been resolved. 

You will not incur Running Instance charges with the instances in this state.

Regards,
Tim"

Amazon EC2	"Re: Instance Stuck in Shutting Down
Hello,

We just heard back from the team that we were able to terminate the instance: i-026282999f2c47752 from our end. Could you try remounting the ELB volume: vol-9337c448 to a different instance?

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Instance Stuck in Shutting Down
Hello,

Thank you for your patience. It looks like the instance is terminated. However the the volume associate with this seems to have been lost. Unfortunately, there is no way to recover a lost volume. I hope you have a back up of your volume in the form of a snapshot. Just so you could recreate this volume.

Please let me know if you have any further questions.

Anup"

Amazon EC2	"Unable to terminate instance.
I've got an instance in us-east-1a (i-aa01302c) I've been trying to stop and/or terminate all morning. I've tried to stop, force stop, then I went through the troubleshooting, I get no 'Create Image' option, so I'm unable to use that. I tried changing the shutdown behavior to terminate, that didn't work. I tried terminate, no luck. It just hangs forever at 'shutting-down' is there anything else I can do?"

Amazon EC2	"Re: Unable to terminate instance.
Hello,

I apologize for the issue you have encountered with your EC2 instance being stuck in a terminating state. I have engaged the team to investigate further. I will provide an update as soon as more information becomes available.

Regards,
Mohsin"

Amazon EC2	"Re: Unable to terminate instance.
Just wanted to check on this again -- it's been over 24 hours how and the instance is still stuck in the 'shutting-down' stage.  When I check the logs - it shows that the system is halted, but in the console it's perpetually shutting down. Will we be charged for this? It's really racking up a lot of time in the shutting down stage now. 
I don't need this instance at all, I completed the work on another instance yesterday, so please do not worry about rescuing any data from the instance."

Amazon EC2	"Re: Unable to terminate instance.
Hi,

It seems that there's an EBS volume attached to your instance that is having difficulties detaching correctly. This is causing your instance to be stuck while stopping. The EBS team is still actively investigating the issue and working to resolve it. In the meantime, you are not charged for EC2 instances that are not in the running state, so you are not going to be charged for this stuck instance. We will update you when we hear a resolution from the EBS team. Thanks for your patience on this matter.

Best Regards,
Omar S."

Amazon EC2	"Re: Unable to terminate instance.
Hi there,

The EBS team has worked on it and the instance seems to have been terminated successfully. Please confirm the issue has been resolved and let me know if you have any further questions.

Regards,
Anup"

Amazon EC2	"Ec2 stuck shutting down state
Hi AWS,
We have an instance that is stuck in a shutting down state for the past 2 months (approx)
instance_id: i-ea072535

Do we get charged for this stuck in this state?  If so, can we please be reimbursed.
Regards

Edited by: Mathew on Jul 21, 2016 6:44 PM"

Amazon EC2	"Re: Ec2 stuck shutting down state
Hello,

I'm so sorry about this. We're taking a look and will update you again as soon as we have more info.

To answer your question - you will not be charged for instances that are stuck in a stopping state.

Kind regards,
Chris"

Amazon EC2	"Re: Ec2 stuck shutting down state
Hello,

Thanks for your patience. The service team got back with an update. It seems the instance was stuck in this state due to volume vol-b476257e being lost. Unfortunately, this volume cannot be recovered and the data in this volume is lost. I hope you have a back up of the data in this volume.

I see that instance is still stuck this state. It will be marked as ""terminated"" soon. I'm still waiting for an update from the service team. I will update you as and when I receive something from the service team.

Regards,
Anup"

Amazon EC2	"Re: Ec2 stuck shutting down state
Hello,

Thanks for your patience. The instance is marked as ""terminated"".

Please let me know if you have any further questions."

Amazon EC2	"Is it possible to define security groups based on security groups?
We have a number of developers who work remotely, and need access to our EC2 instances. We have a security group -- call it 'main' -- to which we add rules allowing SSH access for each developer's remote IP. So far, so good.

From time to time, a developer's broadband connection gets down and they are allocated a new dynamic IP. We edit 'main' and add a rule for the new IP. However, IPs being opaque, it's hard to remember that IP 1.2.3.4 was associated with developer A, so the rule for 1.2.3.4 gets left in the list of rules. Pretty soon, 'main' is littered with rules referring to stale IPs.

The web interface for adding rules allows you to specify a security group as 'source', instead of an IP (or, strictly, a CIDR). The obvious solution then looks like: create a security group for each developer. Add a rule matching their IP to that group. Then add a rule to 'main' that uses that group as its source. When the developer's IP changes, we edit the rule in the developer's security group, not 'main'.

This would be ideal (it would be even better if we could add all developer personal security groups to another group, called 'developers', and then use that as the source for a rule in 'main', but let's not get carried away here). The problem is that it doesn't seem to work.

Here's what I tried.

1. Create a new security group called 'dev-amci' (this has the same base VPC-ID as 'main').
2. Add a rule to 'dev-amci' that says:
   Type: SSH - Protocol: TCP - Port Range: 22 - Source: 1.2.3.4/32 
(where '1.2.3.4' is my IP)
3. Add a rule to 'main' that says:
   Type: SSH - Protocol: TCP - Port Range: 22 - Source: sg123456
(where sg123456 is the security group ID for 'dev-amci'; the console lets me enter 'dev-amci', but then displays the result as 'sg123456 (dev-amci)')
4. Try to connect to the instance using SSH.

Expected behavior: I should be able to log in using SSH from my IP 1.2.3.4
Actual behavior: I cannot log in.

Then I tried:

5. Change the rule in 'dev-amci' to allow my IP to connect to any port.

Expected behavior: I should be able to log in using SSH from my IP 1.2.3.4
Actual behavior: I cannot log in.

So I tried:

6. Change the rule in 'dev-amci' to allow my IP to connect on port 22.
7. Change the rule in 'main' to allow my group sg123456 to connect on any port.

Expected behavior: I should be able to log in using SSH from my IP 1.2.3.4
Actual behavior: I cannot log in.

Finally, I did:

8. Delete the rule for group sg123456 in 'main'.
9. Add a rule to 'main' that says:
   Type: SSH - Protocol: TCP - Port Range: 22 - Source: 1.2.3.4/32 

Expected behavior: I should be able to log in using SSH from my IP 1.2.3.4
Actual behavior: I can log in successfully (confirming that the IP was correct).

So unless there's something that I haven't understood, it looks as if it's not possible to specify security groups as the 'source' in security group rules -- even though the interface permits it.

Is this correct? Or am I missing something? Is there actually a way to do what I want to do?"

Amazon EC2	"Re: Is it possible to define security groups based on security groups?
Hello there,

So I read through your use case. The setup you're trying to do wouldn't work. Let me give you an example:

So you have an IP 1.2.3.4. You create a security group 'dev-amc' allowing 1.2.3.4 to SSH. Say you assigned that security group to some resource(s) (ELB or instance). Lets call that 'resource'. Now you have your security group 'main' allowing traffic from security group 'dev-amc'.  This would allow traffic coming from resources that have the security group 'dev-amc'. Not from the IP's mentioned in the security group.

In your case, the actual behavior is pretty much expected as there are no resources associated with the security group 'dev-amc'. If there was instance X associated with this security group, then you should be able to SSH to your instance from instance X.

So here is my recommendation:

1) There is already an existing feature request to add notes/tags to each security group RULE. So once this feature is rolled out, you could simply tag every rule to each of your developers. This way, you would be able to organize IPs based on your developers.

2) Another alternative would be to create separate Security Group every developers and add their IPs to them. Then associate all these Security groups to your instance. Now you can make changes in every developer's Security Group whenever the IPs change.

I hope this was helpful. I know this is a long response. But if you have any further questions, feel free to respond back to this thread. I'll be happy to answer your questions.

Regards,
Anup"

Amazon EC2	"Speech recognition API AWS
Hi All,

I am working on a project and I want to make use of speech recognition software that I would like to use as service on cloud and I want to pay as per my usage. I was wondering if AWS has any API's that can do that. Please help me.

Thanks,

Venkat"

Amazon EC2	"Re: Speech recognition API AWS
AWS does not offer ""speech recognition as a service"", if that is what you are asking.  If you have implemented such a platform, and think it would work right ""hosted"", then EC@ might be one hosting option.

James"

Amazon EC2	"Re: Speech recognition API AWS
We at Nexiwave provide speech recognition API over SOAP/REST in EC2 cloud. The API is very simple. You just submit an audio file and get a transcription in various formats. Starting from a simple text to the timed words list. You can pay per use. 

Visit our website 

http://nexiwave.com

to learn about our API and to try a trial version. Feel free to contact info@nexiwave.com for additional information."

Amazon EC2	"Re: Speech recognition API AWS
Hi,

I'm curious if this is going to be an offering soon, considering amazon's investment in Alexa?  I realize this is an old thread, but a lot has changed in four years!

Cheers,
Jason"

Amazon EC2	"AWS EC2 Windows Server 2012 Port Forward
So I would like to host teamspeak server on AWS Windows Server 2012 it is working through localhost but when I try to connect from my computer it doesn't connect so I thought it might be port forward problem as when I try to check if the port is opened or not it says the port is closed I tried to turn off the windows firewall and added the port 9987 as UDP inbound and outbound in windows firewall with advanced settings and I tried to create security group through the website https://us-west-2.console.aws.amazon.com/ec2/v2/home?region=us-west-2#SecurityGroups:sort=groupId for all traffic and allowed all UDP and TCP as inbound and outbound and still the port is closed I don't know what to do"

Amazon EC2	"gcc-4.9
Is there any way to install gcc-4.9 on Amazon Linux AMIs without having to build it from scratch? Specifically I'm looking for a way to put it on EMR clusters which are based on some kind of Amazon Linux AMI."

Amazon EC2	"secure MQTT using a ACM certificate on ELB
I have an EMQTT daemon running on a couple ec2 behind a load balancer. I have the ports pointing at the load balancer and can telnet <loadbalancer> 1883 just fine. I created a certificate for the loadbalancer and assigned it to port 8883, which seemed to be fine.

I then tried using the python paho mqtt code (https://pypi.python.org/pypi/paho-mqtt/1.1) to send a message through the load balancer.

I downloaded the certifiate using ""aws acm get-certificate --certificate-arn <arn>"" and put the CertificateChain section into aws_ca.pem and Certificate into aws_cert.pem.

tls = {'ca_certs':""aws_ca.pem"", 'certfile': 'aws_cert.pem', 'tls_version': ssl.PROTOCOL_TLSv1, 'ciphers': None}
publish.single(topic=""topic_1"", payload=json.dumps({'test': 'test'}), qos=2,
hostname=""<loadbalancer>"", port=8883, keepalive=60, tls=tls)

but it fails with ssl errors.
ciphers=self._tls_ciphers)
File ""/usr/lib/python2.7/ssl.py"", line 933, in wrap_socket
ciphers=ciphers)
File ""/usr/lib/python2.7/ssl.py"", line 544, in __init__
self._context.load_cert_chain(certfile, keyfile)
ssl.SSLError: SSL PEM lib (_ssl.c:2603)

I know I can't use the certificates for email etc etc, but I think this should work. I suspect I might have the tls part incorrect.  There is an another option in the tls for the key file but I don't see where to find that (but I really don't think it should be needed).  I have to admit the certs / ssl confuses me still.

I understand that this question is strongly related to the paho mqtt python code, but I would even appreciate some confirmation that ""yes this should work"", and interpretation of the certificates downloaded from the ELB

I would appreciate any ideas on how to make this type of secure connection through the load balancer.

Edited by: brechmos2 on Jul 23, 2016 8:43 AM

Edited by: brechmos2 on Jul 23, 2016 8:44 AM"

Amazon EC2	"Re: secure MQTT using a ACM certificate on ELB
I have tried many combinations of things and am not able to see how I can connect to the ELB on a port using the SSL/TLS certificate. Should this even work? I am starting to feel like the ELB or something is blocking, but it feels like this should work. I would love any suggestions or ideas. I am happy to provide clarification, if it would be helpful to answer the question.

I am able to telnet to the elb on the port and it responds appropriately. So it should be getting through."

Amazon EC2	"Buy AWS Credit
If we can buying AWS credits from Amazon, it will be very helpful when we use grant money or in other cases. Since Amazon hosts various contests and already issued AWS credit to participants, there should not be any technical difficulties. We know there are such cases, as sometimes we can buy this kind of credit from ebay at deep discount from the participants under the name like ""aws credit""."

Amazon EC2	"Re: Buy AWS Credit
We appreciate your interest in using our services. However, we currently are not able to accept prepayment for our services, that includes credits.

AWS services are set up to pay only for what you use. Bills are processed on the first of each month for the previous month's usage.

I hope this helps."

Amazon EC2	"Re: Buy AWS Credit
Hi Oren, 

This would actually be really helpful. Lots of startups around the world receive grants from non-profits or governments, which are meant to be spend within a given time-frame. This is a legal constrain, otherwise the money can not be spent. 

We just got a nice grant from our government and would love to aid our monthly cash-flow needs by pre-paying 1 year with AWS. I know reserved instances are an option, but as an early-stage company you never know exactly how your infrastructure/architecture will look like in 3-6-12 months from now. Hope you find this useful as customer feedback.

Agustín"

Amazon EC2	"Re: Buy AWS Credit
Same thoughts echoed in this thread
https://forums.aws.amazon.com/message.jspa?messageID=426239"

Amazon EC2	"Re: Buy AWS Credit
Sometimes You can find some on ebay. Remember to buy the listing from reputable US seller such as:
http://www.ebay.com/itm/200-AWS-Web-Service-Credit-EC2-S3-SQS-RDS-SNS-VPC-expire-12-2017-/122049311365?

With this seller's code I never had any problem, so far. He is the CEO of Cloubrain and I can imagine that he has legimate channels to get those voucher in bulk. You can always hold him responsible if anything goes wrong. Buy with confidence."

Amazon EC2	"Re: Buy AWS Credit
Is it this user?
www.ebay.com/usr/mickey147"

Amazon EC2	"The monitoring of the instance is not recorded.
Currently the monitoring of the instance is not recorded.
Please check  i-cd80cd25"

Amazon EC2	"Amazon are not receiving our abuse report responses
We have received e-mails from AWS regarding abuse originating from one of our EC2 instances and have responded saying that the activity has stopped and that it should not be considered abusive. Still, ports on our instance have now been blocked.

After the first notice, our reply was seemingly unrecognised as a second notice arrived. After reiterating our previous response we still received a final notice that blocked all ports in and out from the instance.

We've created support cases to get feedback and to find out what the heck is going on.

Why are our responses not getting through? We are replying to the e-mails with the original subject line as per instruction in the e-mails.

Why are abuse cases not handled through the support center or at the very least offer another channel of communication on which to reply? It would make this a non-issue.

Why are AWS not recognising the response we send? I seems that the e-mails are not undelivered, but just not recognised by AWS as responses to the issue.

Please let us know ASAP what to do to unblock the ports, and help us understand why you are not receiving our previous messages.


Thanks,
--"

Amazon EC2	"Re: Amazon are not receiving our abuse report responses
Hello Hannes,

I can see that a case has been open with us and my colleague have already assisted you on this matter.

Please respond to the case if any further assistance is required.

Have a great day!

Eduardo C"

Amazon EC2	"sporadically VERY SLOW network connection in us-east-1
Hello,

since yesterday, we have a very slow network connection problem in EC2 instance. our EC2s are located at us-east-1.

is there anyone who have same with us?

Edited by: yong0726 on Jul 27, 2016 5:50 AM"

Amazon EC2	"Instance is not conncecting (Instance reachability check failed)
I created a new instance out of old instance snapshot since i lost the pem key unfortunately. The new instance is not connecting now.

This is my instance - ec2-54-169-139-247.ap-southeast-1.compute.amazonaws.com

thanks
 sathis"

Amazon EC2	"Re: Instance is not conncecting (Instance reachability check failed)
Hello Sathis,

Please make sure that you have matched the proper AKI as the previous instance. 

Please refer to this link for more information
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UserProvidedkernels.html#pv-grub-a-new-amazon-kernel-image

Eduardo C"

Amazon EC2	"Server refused our key
Hi,

need quick help, and I am very grateful to those who can help.

I created a Linux image and then converted to type EBS. Then changed his permission to Public.

A friend started up this AMI in your account, however when trying to authenticate your key is being rejected.

Error:
Login as: root
Server refused our key
Access denied

How can the key be accepted of him? I did a test trying to login with my key in this instance he initialized in his account, and it worked.

I appreciate the help!"

Amazon EC2	"Re: Server refused our key
Hi,

Depending on the original AMI the instance is based on, you may want to double check that the correct user name is being used to authenticate.

Amazon Linux: ec2-user
RHEL: root
Ubuntu: ubuntu

Regards,
Zach"

Amazon EC2	"Re: Server refused our key
Same issue here. 

Instance id : i-0111ac1820f623c4a
Public DNS : ec2-52-3-175-54.compute-1.amazonaws.com

When we are trying to connect through putty, it shows the error message "" Server refused our key"""

Amazon EC2	"unable to connect to go-global server from go-global client
Hi,

We have installed go-global server on RHEL 7 (EC2 instance).  when I am trying to connect from my go-global client on Windows machine it says "" No connection could be made because the target machine actively refused it"". 

As per go-global port 491 should be allowed. I allowed the same in Security group.
I have disabled Firewall on my windows machine.
I am accessing from my home network.
Firewall on linux machine is disabled.

Can someone please help me to resolve this?

Edited by: venu on Jul 21, 2016 2:26 AM"

Amazon EC2	"Re: unable to connect to go-global server from go-global client
Hello,
below my suggestions on what you can double-check:

verify if you are not using go global SSL-communications that uses TCP 791 instead of TCP 491
verify that your Windows OS firewall is fully disabled in ALL profiles and/or you are not running any other antivirus/antimalaware that can prevent the connections
verify that your home modem/router firewall is enabled for port forwarding


kind regards
Ale"

Amazon EC2	"Re: unable to connect to go-global server from go-global client
Hi,
I am not using go-global SSL. Windows Firewall is disabled. There is no port forwarding on my router.

Naresh"

Amazon EC2	"AWS hosted app not able to send emails out
Hi,
We have hosted some applications on AWS instance with elastic IP . However since last couple of days we are unable to send emails via our app which earlier used to work fine.
we are using SMTP port 25 and our own email server.

Any solutions.
Thanks in advance.
Regards..."

Amazon EC2	"Re: AWS hosted app not able to send emails out
Hello,
I have checked you AWS account ID and for the ap-southeast-1  AWS region we have removed the throttling limits for the SMTP port TCP 25. I don't see either any other block for your account.
Could you please double-check your application on your end to verify if you are still facing the issue?
Thanks in advance, 
kind regards
Ale"

Amazon EC2	"Re: AWS hosted app not able to send emails out
Hi,
Thanks for removing the throttling limit.
However the app can now send emails to the IDs created only on our own server i.e. same domain and can't send to gmail or yahoo ids.

Any reasons ?

Regards.

Edited by: asi1234 on Jul 27, 2016 12:52 AM

Edited by: asi1234 on Jul 27, 2016 12:53 AM"

Amazon EC2	"Re: AWS hosted app not able to send emails out
Hello,
Can you see any rejection message in your e-mail server logs?

Some email providers may flag messages as SPAM if you don't have a reverse DNS record pointing to your public IP address.  

The form below can be used to request a reverse dns to be created
https://aws.amazon.com/forms/ec2-email-limit-rdns-request?catalog=true&isauthcode=true

EduardoC"

Amazon EC2	"Re: AWS hosted app not able to send emails out
Please be aware that sending email from the ec2 ip space has been tagged as spam by default by many external anti spam lists like Spamhaus,  these blacklists are used by many isp and are beyond the control of AWS services. . For this reason,  and many additional features, the Simple Email Service (ses)  was created to support customer email workload and improve deliverability outbound,  and inbound as well since last year. 

You can find ses in the aws management console.  SES also offers an authenticated smtp ingestion point,  so with an existing smtp sending setup integration can be as straight forward as defining a route or smart host. With direct api integration the features are numerous."

Amazon EC2	"What is the best way to grant a 3d party developer access to EC2 instance
I'm planning on contracting a 3d party developer, and they asked to be granted access to my EC2 instance. I have nothing against granting them access, but I have a few concerns about giving them my EC2 key.

Is there any way I can
a) change the key used to start the instance?
b) grant them access to EC2 instance without compromising the existing key?

Mostly, they'll need ftp access, but if possible I'd like to also give them ssh access.

Operating system is Amazon Linux."

Amazon EC2	"AWS Tech Support Request: Please Reset to Default Conditions
Hello,

I need to request that AWS Technical Support reset two regions for my account to their default, ""never been driven"" conditions.  I don't know how I did it but I managed to delete the default VPC and its associated artifacts in the US-East-1 (N.Virginia) region.  I have no idea why it suddenly let me do such a stupid thing to that region, but it did.  I created a new VPC in that region and tried to use it, but the console wizards are telling me I can't (manually) create an Auto Scaling Group to give instances a public IP address with it.

Also: I've pretty much hosed up the US-West-1 (California) region as well, so while you can, please also reset that region for my account as well, I'd be grateful.

If this isn't possible, I don't know what I'll do as I particularly need the US-East-1 account artificacts cleaned up and the state reset as soon as possible.

If this is something I can do, all I need to know it how and I'll be happy to do it.

Thanks!

Joe"

Amazon EC2	"Re: AWS Tech Support Request: Please Reset to Default Conditions
Hello Joe,

As requested, I have recreated the default VPC in US-East-1 region for your account. Checking the US-West-1, I could see that the default VPC still exists.

Let us know if you have any additional questions.

Have a great day!

Eduardo C"

Amazon EC2	"Boot from multiple EBS volume
Hi All,

I have to create single AMI for 2 images(img1 & img2) which needs to be load/boot one after the another.

For img1 and img2 , created two volumes(vol1, vol2). Then created 2 snapshot(snap1 & snap2) of these volume(vol1,vol2).

To create AMI, mapped snap1 to /dev/sda1 and snap2 to /dev/sdb using ec2-register cmd.

When I start AMI instances, the instance is coming up only with img1( snap2 is not considered as boot image).

Is there any way to create a AMI with two boot images ? 

Thanks in advance.
Thivi"

Amazon EC2	"Magento File Permissions
I am currently trying to deploy magento on an instance and am unable to get the folder to have the proper access the directories require. 

I have followed this http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html

Which has commands to set all the sub directories correctly for WWW, however, it seems unable to change the permissions. 

Magento sends me to this page. http://devdocs.magento.com/guides/v2.1/install-gde/prereq/file-system-perms.html

Which lists a series of terminal commands, all of which yield permission is denied. 

Any suggestions as to why I cannot get the folder permissions to change?"

Amazon EC2	"Cloned machine binary incompatible. Repeat launch ok. Why?
One of our instances was apparently on imminently failing hardware. I took snapshots, created an AMI from the root volume (based on amzn-ami-hvm-2015.09.2.x86_64-gp2 (ami-8fcee4e5)), and spun up a new supposedly identical HVM instance. The instance booted but web requests to some web pages failed with an illegal instruction trap. I terminated the instance (i-2ca543b3), repeated the process to create another VM from the AMI and that's working fine.

Most components are from yum packages, though some web related components are built from source. IIRC, the source builds are not overly cpu targeted so should run on a wide range of cpu's. 

Are there a variety of cpu types such that code compiled for one machine cannot be guaranteed to run on another of the same type? We've not had this happen before, but it would be one explanation for an illegal instruction failure."

Amazon EC2	"Re: Cloned machine binary incompatible. Repeat launch ok. Why?
Good day,

Please provide us with log like ""trap invalid opcode ..."" and your binary which triggered the exception.

Regards,

Matombo T"

Amazon EC2	"Please stop instance i-b3be7810
it is in a stopping state and I can't stop it or force stop."

Amazon EC2	"Re: Please stop instance i-b3be7810
Hello,

We are investigating the issue with your instance. We will update you on this thread soon.

Regards,
Umair A."

Amazon EC2	"Re: Please stop instance i-b3be7810
Hi,

Your instance is stopped now. Please do let us know should your require some more assistance.

Regards,

Matombo T"

Amazon EC2	"EC2 instance connection timeout
Hi, my ec2 instance suddenly cannot be reached. After I tried to run a python script, the console stucks. Then, I cannot connect to it and keep getting ""Operation timed out"". I have gone through the ""Troubleshooting Connecting to Your Instance"" page but didn't find any related issues. Meanwhile, I can still connect to another instance normally. 
Could anyone help? Thanks a lot.

My instance ID is: i-0c80047ee9d01acba

Edited by: Long on Jul 26, 2016 10:33 PM"

Amazon EC2	"Can't access mysql using navicat
I have created an ubuntu server instance in amazon cloud and installed the LAMP stack. 
Then I have created a non root user in MYSQL and granted privileges. But I'm unable to access the database using given user name, password and Public IP (Using Navicat). On the other hand, I have tried to access the database by editing bind_address in my.cnf located in /etc/mysql. 
Please help me to sort out this issue.

Edited by: ids on Jul 26, 2016 9:51 PM"

Amazon EC2	"Node JS hosted on EC2 Instance not responding at radom time
Hi Guys,
We have hosted our Node JS application on EC2 instance. We go through our logs so we found that the EC2 instance not connecting properly at random time in a day.
We are getting following error as ""A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond "".
Can anybody please guide us how to track this issue?

Assistance will be much appreciated.

Thanks"

Amazon EC2	"reboot for unknown reason
Server 52.67.7.108 rebooted ( Jul 21 12:47 BRT) for unknow reason, some others are also involved, such as 54.233.144.200，please help to find the reason."

Amazon EC2	"Re: reboot for unknown reason
Hello,

The underlying host on which your instance is running experienced intermittent issues that affected your instance. The intermittent issue was resolved and the both the instance host are healthy now.

Regards,
Umair A."

Amazon EC2	"Re: reboot for unknown reason
Yes, i know both are healthy now. Just want to know the reason for the reboot."

Amazon EC2	"Cross-region communication not blocked by security group
I noticed this while setting up a VPN connection between AWS regions.

Twice now I have established a VPN connection between two AWS EC2 instances, and then later realized that even though I created the necessary security group I forgot to apply it.

To clarify, this happened in two different scenarios.  First scenario I setup OpenSwan VPN on two EC2 instances in different regions with elastic IPs.  I setup the security group to allow the IPSEC ports and protocols only from the remote instance's EIP.  I FORGOT to apply this security group to the instance, and later established the VPN connection successfully.

Second scenario, I setup a SoftEther VPN server on two EC2 instances in different regions.  Again, I setup a security group for port TCP port 5555 only from the remote instance's EIP.  I established the VPN between the two EC2 instances, only to realize I forgot to apply the security group again.

This appears to be a scenario where even though I have not opened the necessary ports by applying a security group to an instance, the ports are open anyways.  Am I missing something?"

Amazon EC2	"Re: Cross-region communication not blocked by security group
Hello, 

I've attempted to recreate your issue and failed. From my testing of the same ports, security groups are working fine and blocking connections. 

If you run across this again, please provide us with instance IDs, ports you're able to connect on, and from there we can further investigate what may be occurring. 

Regards,
Nick"

Amazon EC2	"Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Updated from Amazon Linux AMI 2014.09 to Amazon Linux AMI 2015.03.
Now, the Subversion Python bindings are broken.

Default Python version is 2.6 (as pinned automatically by update process).

$ python
Python ...
\>>> from svn import core
 
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib64/python2.6/dist-packages/svn/core.py"", line 26, in <module>
    from libsvn.core import *
  File ""/usr/lib64/python2.6/dist-packages/libsvn/core.py"", line 26, in <module>
    _core = swig_import_helper()
  File ""/usr/lib64/python2.6/dist-packages/libsvn/core.py"", line 22, in swig_import_helper
    _mod = imp.load_module('_core', fp, pathname, description)
ImportError: /usr/lib64/libsvn_swig_py-1.so.0: undefined symbol: PyCapsule_Import


Any idea how to fix this issue?"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
hi,
I got exactly the same problem after updating latest packages on my AMI instance 

I would appreciate any help since I have been trying to fix it during last 5 hours with no success

python
Python 2.6.9 (unknown, Mar 18 2015, 19:35:56)
http://GCC 4.8.2 20140120 (Red Hat 4.8.2-16) on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
from svn import core
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""svn/core.py"", line 26, in <module>
    from libsvn.core import *
  File ""libsvn/core.py"", line 26, in <module>
    _core = swig_import_helper()
  File ""libsvn/core.py"", line 22, in swig_import_helper
    _mod = imp.load_module('_core', fp, pathname, description)
ImportError: /usr/lib64/libsvn_swig_py-1.so.0: undefined symbol: PyCapsule_Import"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Hello,

Thank you both for reporting this.  I've passed this on to the team responsible for package maintenance and the Amazon Linux AMI to investigate.

We'll update this thread when we have some information for you.

Regards,

Matt W."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Hi,

We have looked into this and have determined that there is an issue with our packaging that prevents running the subversion python module with python26. We are looking into a fix for this and will provide an updated package as soon as possible.

The python27 version of the module does work. If it is suitable for you to migrate to python27, I would recommend doing so.

To do so, you will need to install the python27 version of the modules, and either change alternatives to use python27, or change the calling code to use python27 explicitly.

sudo yum install subversion-python27
sudo alternatives --set python /usr/bin/python27


If you do not want to move to python27 at this time, then I would recommend not applying the update until a fix is provided.

Thank you for using the Amazon Linux AMI."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Hi Jason, thank you for taking a look into this issue. We need to run on python26 so we'll wait for an updated package."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
The subversion-python26 1.48.amzn1 update just pushed does not seem to resolve this issue."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Hi ylangisch,

That was the version where this problem first occurs. An update has not been provided yet. However we are working on one and will have it available ASAP. We will update this thread once the update is provided.

Thanks."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Is there any update on this or downgrade instructions? There are packages that explicitly depend on version 2.6."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
We are working on getting an update out soon.

In the meantime, you can downgrade to the previous release by running:

sudo yum remove subversion-python26
sudo yum install --releasever=2014.09 subversion-python


Thanks,
Jason"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Thanks for the help. I have now installed 1.8.10-1.45.amzn1 but still get ImportError: /usr/lib64/libsvn_swig_py-1.so.0: undefined symbol: PyCapsule_Import."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Additionally downgrading subversion-libs did the trick.

sudo yum install --releasever=2014.09 subversion-libs"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Right, yes. That is what I meant  Thanks for letting us know what actually works.

Edited by: Jason@AWS on Apr 9, 2015 8:54 AM"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
An update to the subversion packages has been released to fix this issue.

sudo yum install subversion-python26


Please let us know if you have any further queries.
Apologize for the inconvenience! Thanks for using the Amazon Linux AMI."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
The latest AMI release introduces this regression again."

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
Hi David,

I apologize for the regression.

We have discovered that subversion 1.9 does not work with python versions less than 2.7. Unfortunately we did not discover this before providing this updated package, and the build silently used python 2.7 for the 2.6 package. As such, the subversion-python26 package no longer works.

There are two ways to resolve this.

Either downgrade subversion back to 1.8, or use python 2.7 with subversion 1.9.
At this point we won't be able to provide a working version of subversion-python26 that uses subversion 1.9, as it is no longer supported by subversion. However we will look into fixing it so that it doesn't break on update.

Apologize for the inconvenience.
Thanks for using the Amazon Linux AMI,
Jason

Edited by: Jason@AWS on Jun 23, 2016 9:55 AM"

Amazon EC2	"Re: Amazon Linux AMI 2015.03: Subversion Python bindings broken with latest upd
We have created a new revision of subversion that fixes python26 for subversion.

Note that this is not officially supported by subversion team, and so is not guaranteed to complete working forever. We are providing this to allow a cleaner migration process.

We will eventually stop providing python26 binding for subversion, as it will eventually no longer be maintainable. I recommend taking actions to migrate to python27.

Updated version is: subversion-1.9.4-2.55.amzn1.x86_64"

Amazon EC2	"Cloudfront sometimes blank page
I have cloudfront connected to a load balancer that uses an ubuntu server 14.04 ec2 instance.  Sometimes when I'm browsing the control panel on my wordpress website I'll just get a blank page and I'll have to hit enter and wait about 30s before I'm taken to the next page.  This commonly happens after a ""post"" request.

Anyone have any ideas? I've had this setup working properly for a while now without problems but after an ubuntu update my server exploded.  I had to set some apache worker threads to a lower number, set a mysql swap, remove apport from crashing my server.  Then it's like this blank page thing happens to me too.

I also changed my domain name so I had to basically recreate all my stuff on amazon, but I double/triple checked it and it all seems to be the right values like they were before.

Edited by: s3user123456 on Jul 26, 2016 1:14 PM"

Amazon EC2	"Intermittent packet loss to specific network from us-east-1a and us-east-1d
Hello,

On the 22nd, 23rd and 24th of July we experienced, intermittently, some packet loss to a partner's system in an AT&T Worldnet network. We have four instances constantly communicating to this system, one in us-east-1a, one us-east-1d, one us-west-1a, one us-west-1c. The us-west-1 instances experienced negligible packet loss while the us-east-1 instances experienced enough for us to notice communication failures at the application level. All four of these instances are also in constant communication to other systems, none of which experienced any signs of network problems.

This is a trace from the instances in us-east-1:
1    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.ec2.internal http://10.0.0.0
  2    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.ec2.internal http://10.0.0.0
  3    <1 ms    <1 ms     *     ip-10-0-0-0.ec2.internal http://10.0.0.0
  4    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.ec2.internal http://10.0.0.0
  5    <1 ms     *       <1 ms  ip-10-0-0-0.ec2.internal http://10.0.0.0
  6    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.ec2.internal http://10.0.0.0
  7    <1 ms    <1 ms    <1 ms  100.92.221.210
  8    <1 ms    <1 ms    <1 ms  100.92.220.125
  9    <1 ms    <1 ms    <1 ms  100.92.220.96
 10    <1 ms    <1 ms    <1 ms  100.92.129.152
 11    <1 ms    <1 ms    <1 ms  100.92.132.138
 12    <1 ms    <1 ms    <1 ms  100.92.128.184
 13     1 ms    <1 ms    <1 ms  100.92.128.161
 14    14 ms    20 ms    21 ms  100.92.240.79
 15     *        *        *     Request timed out.
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20    <1 ms    <1 ms    <1 ms  100.65.8.193
 21    <1 ms    <1 ms    <1 ms  205.251.245.225
 22     8 ms    19 ms    27 ms  54.239.109.8
 23    <1 ms    <1 ms    <1 ms  54.239.108.251
 24     6 ms     6 ms     6 ms  54.239.41.219
 25     8 ms    10 ms    10 ms  52.93.4.17
 26     8 ms     6 ms     6 ms  52.93.4.86
 27    13 ms    20 ms     6 ms  12.251.15.145
 28    53 ms    54 ms    54 ms  cr2.n54ny.ip.att.net http://12.122.105.118
 29    54 ms    55 ms    54 ms  cr2.wswdc.ip.att.net http://12.122.3.38
 30    56 ms    54 ms    55 ms  cr1.attga.ip.att.net http://12.122.1.173
 31     *        *        *     Request timed out.
 32    58 ms    58 ms    59 ms  cr84.dlstx.ip.att.net http://12.123.18.249
 33    53 ms    54 ms    53 ms  12.123.18.153
 34    56 ms    56 ms    56 ms  12.126.188.110
 35    54 ms    54 ms    54 ms  216.224.211.4
 36    43 ms    43 ms    42 ms  216.224.211.57
 37    42 ms    42 ms    42 ms  216.224.211.57

... whereas this is a trace from the us-west-1 instances:

  1    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  2    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  3    <1 ms    <1 ms     *     ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  4    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  5    <1 ms     *       <1 ms  ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  6    <1 ms    <1 ms    <1 ms  ip-10-0-0-0.us-west-1.compute.internal http://10.0.0.0
  7     1 ms     7 ms     8 ms  100.64.65.104
  8    <1 ms    <1 ms    <1 ms  100.64.91.208
  9     1 ms    19 ms    12 ms  100.64.200.17
 10     *        *        *     Request timed out.
 11     *        *        *     Request timed out.
 12     *        *        *     Request timed out.
 13    <1 ms    <1 ms    <1 ms  100.64.16.81
 14    <1 ms    <1 ms    <1 ms  205.251.230.119
 15     4 ms    17 ms    15 ms  54.240.242.22
 16    <1 ms    <1 ms    <1 ms  54.240.242.11
 17     2 ms     2 ms     2 ms  12.250.107.41
 18    44 ms    43 ms    43 ms  cr2.sffca.ip.att.net http://12.122.136.206
 19    43 ms    43 ms    43 ms  cr2.la2ca.ip.att.net http://12.122.31.133
 20     *        *        *     Request timed out.
 21    44 ms    44 ms    43 ms  cr84.dlstx.ip.att.net http://12.123.18.249
 22    42 ms    42 ms    41 ms  12.123.18.153
 23    42 ms    42 ms    42 ms  12.126.188.110
 24    48 ms    41 ms    41 ms  216.224.211.4
 25    44 ms    44 ms    43 ms  216.224.211.57
 26    43 ms    43 ms    43 ms  216.224.211.57

Our partners and AT&T claim they see no indication of the cause on their end. Could you offer any advice as to how we can narrow the scope of where this problem occurred? I should note that we have not experienced the packet loss since around 5:30PM EST of the 24th."

Amazon EC2	"Re: Intermittent packet loss to specific network from us-east-1a and us-east-1d
Hello,

We don't see any networking connectivity issues with AWS in Us-east-1 on the mentioned dates. [1] To indetify the packet loss and latency root cause you need to run tcp based traceroute and mtr between the source and destinations.  The problem could be at endpoints or intermediate hops on the path, which can be identified with traceroute and mtr. 

[1] http://status.aws.amazon.com/

ICMP traffic by default is de-prioritized and trace with icmp are not very helpful in debugginf latency and packetloss issues.

Regards,
Umair A."

Amazon EC2	"Re: Intermittent packet loss to specific network from us-east-1a and us-east-1d
Thank you for your response, Umair.

I understand about ICMP being de-prioritized. I did attempt to diagnose using MTR but did not see anything conclusive. Unfortunately, as the problem is no longer occurring, I think it will be rather difficult to gain any further information.

Thanks again."

Amazon EC2	"Ephemeral storage inconsistently attaching
Hi folks,

We are using an AMI that specifies an EBS root volume (/dev/xvde) and an ephemeral swap volume (/dev/xvdf).  It all works correctly on initial launch.  The instances are automatically shut down at night.  When we restart them in the mornings sometimes the swap volume is not detected by the kernel.  The boxes boot up, but our app is unable to start due to lack of virtual memory.

Here is the results of ""get system log"" from a WORKING instance (i-91743501):

""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2048 is hd0





































BLKFRONT for device/vbd/2048 **********





































backend at /local/domain/0/backend/vbd/4117/2048
125829120 sectors of 512 bytes
**************************
vbd 2064 is hd1





































BLKFRONT for device/vbd/2064 **********





































backend at /local/domain/0/backend/vbd/4117/2064
78626816 sectors of 512 bytes
**************************
GRUB  version 0.97  (15728640K lower / 0K upper memory)

And here are the corresponding lines from a non-working instance (i-0daedd9d):

""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2048 is hd0





































BLKFRONT for device/vbd/2048 **********





































backend at /local/domain/0/backend/vbd/1912/2048
Failed to read /local/domain/0/backend/vbd/1912/2048/feature-barrier.
Failed to read /local/domain/0/backend/vbd/1912/2048/feature-flush-cache.
125829120 sectors of 512 bytes
**************************
GRUB  version 0.97  (15728640K lower / 0K upper memory)

It is important to note that i-0daedd9d DID work correctly on Friday.  However, when I came into work Monday morning (approx 2016-7-25 1200Z), it would not attach the swap drive.  I tried three times.  Conversely, i-91743501 did not work correctly Monday morning, but did work Monday afternoon (approx 1800Z).

I suspect those ""failed to read"" errors have something to do with this problem, but it's unclear what (if anything) we have done to cause them.

Unfortunately, I was not able to keep those instances in a booted state for investigation - I was prevented from posting yesterday and they we have a cleanup mechanism that shuts all instances at night.  I rebooted them all today and they seem to work.

Thanks,
-JP"

Amazon EC2	"Unable to push docker images from one ec2 instance to other using ext addr
I've got 2 EC2 instances. One is running a docker registry-v2 container, the other has an image which I am trying to push to the registry. I also have my own machine which is not in AWS, it is my laptop.

I have tried the following scenarios:

1: Push to local address from other ec2 instance

I tagged the image I am trying to push with the local ip addess and port of the registry:

docker tag someplace/someimage 172.x.x.x:5000/someimage

I added the registry as an insecure registry to the docker opts and restarted the daemon. I can push the image successfully (it was not present in the registry).

I removed all data from the registry and pushed the image again successfully (I did this 3 times to be sure it wasn't a one-off)

2: Push to external address from other ec2 instance

I tagged the image I am trying to push with the external ip addess and port of the registry:

docker tag someplace/someimage 52.x.x.x:5000/someimage

I added the registry as an insecure registry to the docker opts and restarted the daemon. When I push the image I get an Error pushing to registry: Put <url> read tcp <ip>: connection reset by peer

I removed all data from the registry and pushed the image again without success (I did this 3 times to be sure it wasn't a one-off)

Some layers are pushed successfully, but then one will fail. When I try again some more will be pushed when I am lucky. There is a layer of 200MB which I have not been able to push.

3: Push to external address from a machine outside of AWS

I tagged the image I am trying to push with the external ip addess and port of the registry:

docker tag someplace/someimage 52.x.x.x:5001/someimage

I added the registry as an insecure registry to the docker opts and restarted the daemon. I can push the image successfully (it was not present in the registry).

I removed all data from the registry and pushed the image again successfully (I did this 3 times to be sure it wasn't a one-off)

4: Push to hostname + nginx from other ec2 instance

I tagged the image I am trying to push with the hostname of the registry:

docker tag someplace/someimage registry.example.com/someimage

I added the registry as an insecure registry to the docker opts and restarted the daemon. When I push the image I get an Error pushing to registry: Put <url> read tcp <ip>: connection reset by peer

I removed all data from the registry and pushed the image again without success (I did this 3 times to be sure it wasn't a one-off)

Some layers are pushed successfully, but then one will fail. When I try again some more will be pushed when I am lucky.

5: Push to hostname + nginx from machine outside of AWS

I tagged the image I am trying to push with the hostname of the registry:

docker tag someplace/someimage registry.example.com/someimage

I added the registry as an insecure registry to the docker opts and restarted the daemon. I can push the image successfully (it was not present in the registry).

I removed all data from the registry and pushed the image again successfully (I did this 3 times to be sure it wasn't a one-off)

Final notes:

I am not pushing the image from within a container.
docker version 1.7.1 and registry 2.1.1 (although we have had this issue since docker 1.5 and registry version 1)
The ec2 instance are virtual machines of course (ubuntu)
The registry uses an S3 bucket for storage


So it appears to be an issue with Amazon resetting connections when using external addresses between instances. And not a docker or registry or nginx issue. I posted the issue on github at the docker registry as well. Help and suggestions are welcome."

Amazon EC2	"Re: Unable to push docker images from one ec2 instance to other using ext addr
Hello,

Thank you for the post.

In order to investigate this issue, can you provide the instance ids of the EC2 instances in the question via Private message? 

Regards,
Nikhil"

Amazon EC2	"Re: Unable to push docker images from one ec2 instance to other using ext addr
Hello @laurencedejong:
We have engineers from AWS and Docker working together on this report. Would you be able and willing to share a network capture of the issue so we can continue to root cause? Thank you."

Amazon EC2	"Re: Unable to push docker images from one ec2 instance to other using ext addr
Hi,

Yes I would be willing to give a network capture. If you give me instructions on what you want and what I need to do then I can help. Thank you for the support.

Laurence de Jong"

Amazon EC2	"Re: Unable to push docker images from one ec2 instance to other using ext addr
Here are the steps that you can follow to capture the network traffic at the time of the issue:

1. From the client, sudo tcpdump -i eth0 -vnnlp -s0 -w client.pcap
2. From the server (registry host), sudo tcpdump -i eth0 -vnnlp -s0 -w server.pcap
3. Attempt to replicate the problem by pushing a docker image from the client.
4. Once replicated, ctrl+c on both client and server to end the captures.

The files will likely be several hundred megabytes in size. If you can upload the captures to an S3 bucket, then generate a signed URLs if you prefer. You can share those URLs with me directly (suarea at amazon dot com). Thank you in advance for helping!"

Amazon EC2	"Re: Unable to push docker images from one ec2 instance to other using ext addr
For those that run into this problem this github thread covers the issue very well:

https://github.com/docker/distribution/issues/785

There is a work around near the bottom that has resolved the issue for many people (including me):

echo 1 > /proc/sys/net/ipv4/netfilter/ip_conntrack_tcp_be_liberal
echo 1 > /proc/sys/net/netfilter/nf_conntrack_tcp_be_liberal"

Amazon EC2	"instance i-2a04e386 CPU 100% unresponsive
Please help!
I tried reboot but nothing happened.
instance i-2a04e386."

Amazon EC2	"Re: instance i-2a04e386 CPU 100% unresponsive
Solved itself somehow."

Amazon EC2	"the site can not be reached
i am new to this ec2, just setup nginx on centos 7, got the site can not be reached, 
this is my instance 
http://ec2-52-87-183-25.compute-1.amazonaws.com/ 

security group has 80 opened, nginx got no error, please kindly give me some suggestion, thank you."

Amazon EC2	"switch old m1.medium to new m3.medium
Hi,
I have an instance m1.medium with 2 normal hd not EBS connected. I'm interested in switch to a new m3.medium with EBS disks without lose connectivity.
Somebody knows if it is possible or know the smartest procedure to switch to new generation instance?
Furthermore I have an instance m3.large that I want to downgrade to m3.medium is it possible to downgrade without stop the instance?
Thank you"

Amazon EC2	"ELB can't seem to connect to its EC2 instance
I'm stuck on a configuration and hoping someone can help me break through. I have a single EC2 instance behind an ELB, but can't seem to bring that instance into service. Here are the details:


The EC2 instance and the ELB are in the same VPC
The ELB belongs to a security group that allows access to `:443` from anywhere (0.0.0.0/0).
The ELB port config is: `443 (HTTPS, ACM Certificate: xxx) forwarding to 80 (HTTP)`
I can telnet to the ELB on `:443`.
The EC2 instance belongs to a security group that allows access to `:22` from anywhere and to `:80` from the ELB security group. Nginx is listening on `:80`.
I've tried making `:80` wide open on the EC2 instance, but that made no difference.
I can connect directly to the EC2 instance on `:80` (telnet or http) when access to `:80` is opened up, but the instance remains out of service to the ELB.


There's no indication that the ELB is able to connect to the EC2 instance at all. Tailing my nginx access log shows no ELB-generated requests for my health check URL.

Any idea what I might be missing here or what I might need to check?

Edited by: robwilkerson on Jul 26, 2016 5:33 AM"

Amazon EC2	"Re: ELB can't seem to connect to its EC2 instance
Hello,

I ran a quick telnet test against port 80 directly on your instance but it seems port 80 is not listening.

$ telnet 54.84.175.220 80
Trying 54.84.175.220...
telnet: connect to address 54.84.175.220: Connection timed out

ELB health check for instance is configured poll HTTP:80/status, If health check fails instance will be taken out of service. 

Regards,
Umair A."

Amazon EC2	"Unable to connect with RDP to t2 istances
Hello, I'm unable to connect with RDP to my t2 istance.
It was working fine since 2 days ago.

I checked everythings:
-ip of rdp client
-rules in security group(first I enable inboud only for rdp, then for all)
-windows firewall on my computer is disabled
-screenshot of my istance is the login one, the one with clock

I supposed rdp service is not running on the istances, how can i check and start it again?

Thank you"

Amazon EC2	"ebs snapshots marked as ""error"" and cannot be force detached
Hello
i have this volume marked as in ""error"". I have detached it but now i can't attach and detach it. the only option is force detach, but it fails.

items id:
vol-12e1efcb

region is:
eu-central-1

please help us
thank you"

Amazon EC2	"Re: ebs snapshots marked as ""error"" and cannot be force detached
Hi,

Please accept my apologies for the troubles caused.

I could see that you have started the instance (using a volume created from snapshot of vol-12e1efcb). The instance - i-c6a6757b is currently running fine. 

Unfortunately due to some issues in the underlying hardware issues, the volume is unrecoverable lost. Creating a new volume from a previous snapshot is the only way for recovery. Amazon EBS volumes are designed for an annual failure rate (AFR) of between 0.1% - 0.2%, where failure refers to a complete or partial loss of the volume, depending on the size and performance of the volume. However, we should expect unfortunate events like this and should have proper snapshot strategy.

Apologies again for the troubles caused. Let me know if you need any further assistance.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: ebs snapshots marked as ""error"" and cannot be force detached
I'm very disappointed.
Our system is in ec2 since february, we didn't expect such a quick failure.
The platform gives no possibilities to make scheduled and rotating snapshots.
ESB to S3 rotating backups are possible only via scripting. The alternative way is using a scheduled snapshots via Cloud Watch, but it does not rotate.
If the failure rate is so high (0.1%, you have millions users so thousands lost data every year) I think the platform should be developed more about backup recommendations and tools. Since yesterday i read so many data loss among users."

Amazon EC2	"Re: ebs snapshots marked as ""error"" and cannot be force detached
Hello,

Automatic Snapshots can be scheduled via cloudwatch, Old snapshots can be deleted through a customer script through cli or calling script by using lambda function. See below links for example.

https://serverlesscode.com/post/lambda-schedule-ebs-snapshot-backups/
https://serverlesscode.com/post/lambda-schedule-ebs-snapshot-backups-2/

There are also some open source github projects for this use case. https://github.com/alestic/ec2-expire-snapshots
Scheduled snapshot deletion through AWS console feature request is already lodged with the internal team, unfortunately we do not have any ETA for this feature.

Regards,
Umair A."

Amazon EC2	"Windows is not genuine
Dear all, 

For a couple of weeks three EC2 instances under the same account report that ""Windows is not genuine"". However, the same type of instance under a different account in the same region does not have any kind of problem. I have to mention that

we didn't changed ANYTHING in the specific VMs
we didn't apply any update from Microsoft
we followed the guidelines as described in (http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows) in order to fix the error but with no luck at all


One of the instances facing this issue is the i-71906439 (eu-west-1b). How can we proceed ? 

Thank you"

Amazon EC2	"Re: Windows is not genuine
Hello,
I would suggest, as a first step to try and resolve the issue you are experiencing, to upgrade your instance to the latest version of the EC2Config Service, as it automatically takes care of Windows activation.

You can download the latest version at the following link:

https://aws.amazon.com/developertools/5562082477397515

Hope this helps.

Have a nice day!
Andrea S."

Amazon EC2	"Re: Windows is not genuine
Dear Andrea, 

I have already installed the latest ECconfig as mentioned at (http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows

After installation we tried to activate windows but it didn't succeed. Are there any other alternatives? 

Thank you"

Amazon EC2	"Re: Windows is not genuine
Hello, 

I would  ask that you would try to go through the windows activation troubleshooting guide found at:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows

In this guide, it is mentioned that you check the DNS server settings and route settings. 

Also you could check that there is no time offset within the instance and that the timezones are set up correctly. 

Many thanks."

Amazon EC2	"Re: Windows is not genuine
Hello RandolphO, 

The problem solved by following the first four steps as described in ""Unable to activate Windows"" in http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows

Thank you for your help"

Amazon EC2	"No valid instant found  while launching instant from AMi copied from prev
I am using ec2 instant in Singapore region and try to move it to mumbai region but i am getting error like:
 ""No valid instant found""
while launching instant from AMi copied from previous region.

I want to change my region from Singapore to mumbai."

Amazon EC2	"Re: No valid instant found  while launching instant from AMi copied from prev
Is there any help possible?"

Amazon EC2	"Re: No valid instant found  while launching instant from AMi copied from prev
Hi Arvind,

Are you able to provide screenshots of the error? You can provide them here in the post or PM me. Additionally, are you able to successfully launch an Amazon Linux AMI in the Mumbai Region?

Regard,
Tim"

Amazon EC2	"Re: No valid instant found  while launching instant from AMi copied from prev
Actually  I had not taken screenshot of error.

I am not able to launch instant in mumbai region using previous ami because of this error."

Amazon EC2	"Re: No valid instant found  while launching instant from AMi copied from prev
Hello Arvind,

Are you able to reproduce the error and take screenshots of that? Additionally, for testing purposes are you able to successfully launch an Amazon Linux AMI (ami-ffbdd790) in the Mumbai Region?

Regards,
Tim

Edited by: Tim@AWS on Jul 26, 2016 5:23 AM"

Amazon EC2	"[Retirement Notification] Frankfurt - Instance stoped before the date
We got a Retirement Notification Amazon EC2 Instance scheduled for retirement.
eu-central-1. The Date  for the retirement is 2016-08-05 21:00 UTC

But today the instance stoped instance-ID: i-e3e3ba2d without any reason and before the retirement date.

Does anybody has the same problems in eu-central-1?"

Amazon EC2	"Re: [Retirement Notification] Frankfurt - Instance stoped before the date
Hello,

The instance was scheduled for maintenance but underlying host experienced issues before the maintenance and it affected your instance. 

We are sorry for the inconvenience."

Amazon EC2	"Error when launching EC2 Cloudlinux with Cpanel
Hi,
I have newly setup the EC2 t2.micro with Cloudlinux with Cpanel, wanting to test it out before getting the actual license. But I realised that I am not able to launch and connect to my aws at all via java. Can someone advise if I did something wrong? I used the default settings for security groups when I activated it via the Marketplace. The error popped out after I tried to launch it, it took some time to show up though. Hope someone can help me out here as I am pretty new to this. Thank you."

Amazon EC2	"Re: Error when launching EC2 Cloudlinux with Cpanel
Hi,

You need credentials (access/secret key) for IAM user that have access to launch instances and then integrate those credentials with Java SDK before making API calls.

[1] IAM: http://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html
[2] Java SDK Credentials: http://docs.aws.amazon.com/java-sdk/latest/developer-guide/credentials.html
[3] Connecting through SDK: http://docs.aws.amazon.com/java-sdk/latest/developer-guide/run-instance.html

Any errors/exceptions should be posted to get community help

Regards,
Umair A."

Amazon EC2	"Deleted the instance connected to my Route 53 domain?
I have very limited experience with this and am not a developer so I'll do my best to explain.. 

We purchased a domain through Route 53 the other day. I forget if an Instance was automatically set up when that was purchased, but if it was, I accidentally deleted it. 

I'm trying to set everything up through EC2 and use WordPress as the backend for the site. I'm able to set up the Instance and connect with WordPress, but I'm lost on how to connect our domain to that Instance.

Can try to provide more detail if this does not make sense. Thanks in advance for any direction"

Amazon EC2	"Re: Deleted the instance connected to my Route 53 domain?
Hello,

Instances are not launched by purchasing domain or setting up DNS records in route 53.  In order to create a DNS record for your domain you first need to allocate and associate elastic IP for your instance and then you simply need to create an A record for the domain pointing to elastic IP of the instance.

Step by step instructions are here

[1] Launching a wordpress site: https://aws.amazon.com/getting-started/tutorials/launch-a-wordpress-website/
[2]  Configure DNS record: https://aws.amazon.com/getting-started/tutorials/get-a-domain/

Regards,
Umair A.

Edited by: Umair@AWS on Jul 26, 2016 4:31 AM"

Amazon EC2	"Confused about EBS I/O cost
I am trying to see whether moving to AWS is a good fit for a project and I am a bit confused about pricing, especially regarding EBS I/O. I made a free tier instance with a 12GB root volume and loaded it with a small sample (1/10th) of the project. After a couple of days, I start getting charged for EBS I/O, which is expected I guess, free Tier advertises 2 million I/O requests free. So I looked to see how I/O requests would be charged on a regular plan, and I can't seem to find that information. In fact, the most relevant page: https://aws.amazon.com/ebs/pricing/ it says ""Volume storage for General Purpose SSD (gp2) volumes is charged by the amount you provision in GB per month, prorated to the hour, until you release the storage. I/O is included in the price of the volumes, so you pay only for each GB of storage you provision."" So is it not free only with the free Tier and I won't have to worry about I/O cost on a regular prepaid plan? To give the whole picture, the target machine will be an m3.medium or m4.large instance (1yr partially prepaid) with a root volume of 120GB (I don't know if it makes a difference or not that it won't be a separate attached EBS volume - it will be the root for config. reasons) and on our current server we measure about 100 million I/O requests per month.
TIA"

Amazon EC2	"Re: Confused about EBS I/O cost
Hello,

I would ask you to contact our billing & accounts team for billing related matters by creating a support case from support center.

Regards,
Umair A."

Amazon EC2	"Unable to browse magento store after changing domain name
Hello All,

We were hosting a magento based ecommerce store under the domain ""novamnm.com"" on AWS ( 2 instances / US West (Oregon) ). Everything was working fine until we pointed the domain(novamnm.com) to a new web host (not AWS) and want to use the old/existing magento site running on the AWS instances with a new domain (hkblu.com).

We have changed the DNS settings on the hkblu.com registrar to match the Route53 AWS settings at the registrar's end but all we get when we try to visit hkblu.com is ""I'm alive"".

We cannot browse the old magento site hosted on AWS by its public IP.

Can you please assist?

Thanks"

Amazon EC2	"Management Console Columns
We need more options here.

thanks."

Amazon EC2	"Re: Management Console Columns
Hello,

That's a great feature request here.

I don't think it will be possible for us to add a column for last reboot - for the simple reason that our service doesn't actually know when your operating system reboots.

However, the others are certainly possible. In addition to CPU Credit Balance and Scaling Group, is there anything else that you'd like to see added to our console?

Richard"

Amazon EC2	"Re: Management Console Columns
Hey Richard.  How's this request going?  Why don't you focus on the request at hand instead of asking what additional features could be added."

Amazon EC2	"Re: Management Console Columns
Hello,

I have filed this request with the appropriate people.

As regards your question, we generally don't talk about new features before they are released. To that end I'm afraid I can't comment about when or if this might be supported.

Richard"

Amazon EC2	"Re: Management Console Columns
Any chance anything will ever be done on this?

What I find funny is the additional ask...you - ""Hey this is great idea any other fields you'd like to see?""  me - ""It'll never f'ing happen what's the point?""  You - ""I forwarded your request""  Me - ""Told ya' so""."

Amazon EC2	"Re: Management Console Columns
Hello,

As mentioned in the earlier post from AWS, this feature request has been already logged with appropriate team and it will be actioned after due process, We can not give you any ETA for every feature request that we receive. Customer feedback is always important for us and proper analysis is done for every feature request or customer feedback that we receive. 

We believe that the suggestions you provided are great and definitely will improve customer experience and user interface, I can tell you that internal teams are aware of this suggestion and are continuously working on bringing improvement to services, but we do not comment on service feature release dates or ETA's.

We are deploying new features and services for our customer like you at pretty fast rate and we will continue doing so. Please see below blogpost and check the timeline and deployment rate of features releases.

https://aws.amazon.com/new/

We appreciate your feedback, please keep us updated about your feedback. I assure your feedback is always valued by Amazon Web Services.

Regards,
Umair A

Edited by: Umair@AWS on Jun 28, 2016 7:34 AM"

Amazon EC2	"Re: Management Console Columns
You sound like a tool."

Amazon EC2	"Please stop instance i-a5053ada
This instance has been ""stuck"" in a stopping state for over an hour. Help!"

Amazon EC2	"Re: Please stop instance i-a5053ada
Hello,

Thanks for using the AWS Developer Forums.

I am reaching out to our internal support operations team to investigate your instance i-a5053ada.

We will update this thread.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Please stop instance i-a5053ada
Hi
Here is an update from the EC2 team, it appears the EC2 instance suffered from underlying hardware failures. Please try to stop/start the instance once again.

Please let us know if you still experiencing any issues.

Best Regards
Christian R."

Amazon EC2	"Can't detach volume
Hi, this must be obviously something I am doing wrong, but after terminating an AMI when I go to my 'volumes' I still see 1 which state is 'in-use', when I try to detach it, it won't let me, and when I try to Force Detach it I get: vol-xxxxx: Volume 'vol-xxxx'is in the 'available' state.

The volume has also a snap associated with it, which can't be deleted either. 

The AMI was terminated a long time ago.

What I am doing wrong?

Thanks!"

Amazon EC2	"Re: Can't detach volume
Hi,

Could you please let us know the Volume ID so we can check this further?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Can't detach volume
Hi,

I have 3 EBS volumes that are currently in the same situation. I can neither 'force detach' them as they are 'available' and yet can't delete them as they are 'in-use' although have no attached instances.

Thanks"

Amazon EC2	"Re: Can't detach volume
Hello wamonite,

Can you please PM me the Volume IDs (vol-xxxxxxxx) of the 3 volumes you are having an issue with? I'll take a look.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Can't detach volume
Hi Joel,

I PM'd you the volume IDs but they are still in the same stuck state. Have you managed to take a look yet?

Best regards,

Warren"

Amazon EC2	"Re: Can't detach volume
Hi Warren,

I've checked this and we have an open query with engineering on your volumes. I'll come back to you the moment I have something.

Richard"

Amazon EC2	"Re: Can't detach volume
Hi
We have confirmation from the EBS team you are ok to delete the volumes now. Please go ahead the delete the required volumes.

Please let us know if you still encounter any issues.

Best Regards
Christian R."

Amazon EC2	"Instance is running, but can't connect to website all of a sudden.
Eeek!  I started to get alerts that my site is down and sure enough it is.  I am able to SSH and even SFTP into the instance, but I can't figure out why the site is no longer accessible.  It doesn't help matters that I'm still learning AWS.  But the site has been up and running just fine for about 4 or so months now.  My instance is: i-2ac933a9.  Please help!

Edited by: C. Ramey on Jul 25, 2016 3:16 PM"

Amazon EC2	"Re: Instance is running, but can't connect to website all of a sudden.
I was finally able to figure it out, but I don't fully understand why.  Running the ""sudo nginx -t"" command helped point me in the right direction.  Turns out something I added about three months ago was stopping nginx from starting.  WHY it only started having a problem now, after all these months and even rebooting, I have zero clue!"

Amazon EC2	"Amazon EC2 Abuse Report [10620505350-1] - My server making SQL Injections?
I received an e-mail from Amazon with the subject ""Your Amazon EC2 Abuse Report 10620505350-1""

Inside, they alert that my server ""has been implicated in activity which resembles attempts to access remote hosts on the internet without authorization. Activity of this nature is forbidden in the AWS Acceptable Use Policy (https://aws.amazon.com/aup/). We've included the original report below for your review.""

---Beginning of forwarded report(s)---

* Log Extract: 
<<<
+Date/Time(GMT+9): 2016-05-27 07:04:42 ~ 2016-05-27 07:05:15+
Source IP : 54.77.192.38
Destination IP : 218.149.131.190
Attack Type : S_SQL Query Injection-4
>>>

* Comments: 
<<<
KF/ISAC Warning! Unauthorized Access Attempt!
>>>

I do not find yet the source of this problem, and I am looking for help to know at least how view if this attacks is happening now. Maybe a malware? Can be a mailicious script upload by a customer by FTP?

I am using network sniffer applications to detect the source, but don't see anything strange.

Any help would be appreciated.

Regards"

Amazon EC2	"Re: Amazon EC2 Abuse Report [10620505350-1] - My server making SQL Injections?
did you ever solve this? I received an email with the same message on my account."

Amazon EC2	"flash player on EC2
I am unable to get Adobe flash player working on my EC2 instance. I have tried both FF and IE and in both cases the flash player completely crashed the browser as soon as I open any page with flash. I have tried this on multiple windows 2008 server instances with the same result.I am using the instance for a website load testing tool. The site I am testing uses flash, so I need to have it working.Any ideas?Thanks!"

Amazon EC2	"Re: flash player on EC2
Unfortunately this is a known issue and Amazon has not yet announced a solution.

http://developer.amazonwebservices.com/connect/thread.jspa?messageID=167931"

Amazon EC2	"Re: flash player on EC2
I realize that this is an old post, but thought I would share my personal success at finally installing Adobe Flash Player 11 on a Windows Server 2008 c1.medium ec2 instance. The key for me was disabling my antivirus software before downloading and installing Adobe Flash Player.

Responding to the availability of an Adobe Flash Player upgrade, I uninstalled the prior version to enable a clean install of the new version 11. While I received no error messages during installation, Adobe Flash Player was clearly not working after the supposed installation.

After numerous attempts and much research, I finally thought to disable my ClamWin antivirus software before downloading and installing Adobe Flash Player. Adobe suggests this might be necessary, but it didn't occur to me that this was my problem--it was. 

After the installation, I re-enabled my ClamWin antivirus software and now Adobe Flash Player 11 is working."

Amazon EC2	"Re: flash player on EC2
Thanks for the heads up this

with the more recent versions of ect2 servers (2016) you have to go to the ""server Manager"" and navigate to the firewall settings and disable both firewalls. then download and install Adobe Flash player. accept run and go thro the install. once installed open a new IE window and check if it is running OK. then remember to switch your firewalls back on again."

Amazon EC2	"Can't describe load-balancers using CLI tool
I've quite new to the ""aws"" CLI tool, but I've been using AWS services, including ELB, for quite some time. I'm trying to describe my load-balancers as the first step in what will end up re-configuring one of them to use the ""Proxy Protocol"", but I can't even get this working.

I have created a ~/.aws/config file with the following sanitized content:

[default]
aws_access_key_id=my key id
aws_secret_access_key=my secret key
output=json
region=us-east-1a

The command I'm trying to run is:

$ aws elb describe-load-balancers


The error I get is:

hostname 'elasticloadbalancing.us-east-1a.amazonaws.com' doesn't match either of 
'www.mydomain.com', 'mydomain.com'


Where ""mydomain"" is my actual domain name. I have two load-balancers defined. I can't seem to find any identifier similar to EC2 instance identifiers, so I'll just post the DNS names:

1. Test-Web-Load-Balancer-1686785264.us-east-1.elb.amazonaws.com
2. proxy-connect-test-1373601058.us-east-1.elb.amazonaws.com

The first one, despite being called ""test"", is my production load-balancer whose configuration needs to remain in place. The ""proxy-connect-test"" is the load-balancer I'd like to modify.

Is there something wrong in my configuration somewhere?

Edited by: cdschultz on Jul 25, 2016 6:01 AM"

Amazon EC2	"Re: Can't describe load-balancers using CLI tool
Hi. It looks like you specified an Availability Zone (us-east-1a) for the region. Try us-east-1 instead.

Julie"

Amazon EC2	"Re: Can't describe load-balancers using CLI tool
facepalm

Thanks for pointing-out the 1-character misconfiguration"

Amazon EC2	"Please stop Instance i-72be21f6
My site has been down for hours and the instance would not stop. I detached 4 volumes (except root) and now need help stopping the instance. Thanks."

Amazon EC2	"Re: Please stop Instance i-72be21f6
Hello,

AWS Support is actively looking into the issue. On behalf of AWS, I apologize for any inconveniences this has caused.

I will update you via the forum once the issue has been resolved. 

Regards,
Tim"

Amazon EC2	"Re: Please stop Instance i-72be21f6
Hello,

The instance is now in a stopped state. If you continue to experience issues with the instance, please let us know.

Regards,
Tim"

Amazon EC2	"Please release EIP
Please release eipalloc-ca0c5caf

Thank you!"

Amazon EC2	"Re: Please release EIP
Hello,

May I have you PM me your AWS Account ID and the EIP?

Regards,
Tim"

Amazon EC2	"Login credential error when using PUTTY to connect to new EC2 instance
Greetings,

I just created my first test instance, it is up and running and I am trying to use PUTTY to SSH into it. 

I do get the UNIX prompt, and I have typed in ""root"", but the password I generated  for the ""root"" account with IAM is not recognized...

Am I missing something:

1. Perhaps after creating the IAM account I have to somehow associate it the particular instance?
2. Perhaps the keypair used to create my PUTTY RSA .key file is stale? I created it a couple of weeks ago...
3. I generated a private RSA .key file, perhaps it should have been a public .key file?

Thank you for your help.

Regards,

Jean-Pierre

Edited by: dareys on Jun 23, 2016 5:17 PM

Edited by: dareys on Jun 23, 2016 5:18 PM"

Amazon EC2	"Re: Login credential error when using PUTTY to connect to new EC2 instance
Greetings,

I just created my first test instance, it is up and running and I am trying to use PUTTY to SSH into it. 

I do get the UNIX prompt, and I have typed in ""root"", but the password I generated for the ""root"" account with IAM is not recognized...

Am I missing something:

1. Perhaps after creating the IAM account I have to somehow associate it the particular instance?
2. Perhaps the keypair used to create my PUTTY RSA .key file is stale? I created it a couple of weeks ago...
3. I generated a private RSA .key file, perhaps it should have been a public .key file?

Thank you for your help.

Regards,

Jean-Pierre"

Amazon EC2	"Account hacked - troubleshooting
Hi all,

My company's account has been hacked over the weekend - standard procedure: tons of EC2 xlarge instances all across various regions. I've contacted billing team and they are working on the case (got a response from them), we've terminated all those instances, changed passwords, deleted the existing keys and set MFA so we should be safe now. I have couple of questions regarding this hack: 
1. Is there a way that we can find out if our keys or credentials have been compromised? 
2. Can we determine from where has our account been accessed? 
3. Can I get a list of terminated instances (terminated today 25/07/2016) as we unfortunately didn't take any screen shots before termination? CloudTrail wasn't enabled. 
account to which this is related is ap@<sameasmydomain>.com

Thanks,
Branislav K."

Amazon EC2	"the Volume size should be 50GB, but it shows 8GB only in OS command line
I am using AMI ID
CentOS Linux 6 x86_64 HVM EBS 1602-74e73035-3435-48d6-88e0-89cc02ad83ee-ami-21e6d54b.3 (ami-fa3d3f94)
I set Volume size to 50GB when I launch it, but when I login it, I found the size is 8GB only when I use ""df"" command.

Please help me. Thanks."

Amazon EC2	"Re: the Volume size should be 50GB, but it shows 8GB only in OS command line
the df command shows the current filesystem size.  do ""cat /proc/partitions"" and look for the specific whole device without partition numbers.  the size given here is the number of 1K blocks.  you next need to learn how to enlarge a filesystem without losing any files such as resize2fs (do ""man resize2fs"" first)."

Amazon EC2	"Re: the Volume size should be 50GB, but it shows 8GB only in OS command line
Got it. Thanks."

Amazon EC2	"Announcing Go 1.6 RPM packages for Amazon Linux
We are happy to announce the availability of Go 1.6 RPM packages for Amazon Linux.

For more details, please see our blog post at,
https://lambda-linux.io/blog/2016/07/25/golang-support-for-amazon-linux/

Sincerely,
Lambda Linux Project Team"

Amazon EC2	"Instance Id i-27477ead stuck shutting down
Hi,

I have an instance stuck in shut down (i-27477ead). I want terminate this instance. Not responding to shut down or terminate commands from AWS CLI or from EC2 console. 

State transition reason -- Server.InternalError: Internal error on launch"

Amazon EC2	"Re: Instance Id i-27477ead stuck shutting down
Hi,

Apologies for the troubles caused.

I have reached out to our Internal Service team to look into the issue. We shall get back to you as soon as possible.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Instance Id i-27477ead stuck shutting down
Hi,

We got an update from the service team confirming that the issues are fixed.  Could you please check the instance again? 

Regards,
Jayakrishnan L"

Amazon EC2	"Re: Instance Id i-27477ead stuck shutting down
Thanks a lot, my problem is solved."

Amazon EC2	"EC2- connecting to an independently installed SQL Server express
PLEASE NOTE:  This is not an RDS or a prepackaged EC2 with SQL Server solution.  I installed an express copy independently after setting up the EC2 instance.  

I am evaluating a free tier instance of AWS EC2.  Several months in, I decided to install SQL Server 2014 express on the instance on my own.  However I cannot connect to the SQL Server instance via SSMS from another server box local to us.  The following is a checklist of what I have done so far:
--SQL Server Configuration Manager
*Configured to run SQL Browser
*Enabled TCP on the SQL Server instance
--Windows Firewall
*Created an inbound rule to allow communication on TCP port 1433 and 1434
*Created an inbound rule to allow communication on UDP port 1434
--AWS security group of EC2 instance where SQL Instance resides
*Mirrored the rules above in the Windows firewall for inbound traffic from the local server I'm trying to access the EC2 instance from
*Successfully tested if RDP and ICMP work on the instance

I believe my issue lies in the how I am referring to the SQL instance:

ec2-xxx-xxx-xxx-xxx.compute-1.amazonaws.com\INSTANCE_NAME

I've also noticed that when I log in on the EC2 instance's copy of SSMS, there is a two part name like so:

WIN#########\INSTANCE_NAME

Please help as I feel I've exhausted all options.  This shouldn't be that impossible."

Amazon EC2	"Instance Id i-27477ead stuck shutting down
Hi,

I have an instance stuck in shut down (i-27477ead). I tried to terminate this instance.

State transition reason Server.InternalError: Internal error on launch."

Amazon EC2	"Re: Instance Id i-27477ead stuck shutting down
Hello,

I have reached out to the EC2 team to investigate this. We will get back to you as soon as we have an update.

Regards,
Truptesh"

Amazon EC2	"Re: Instance Id i-27477ead stuck shutting down
Hi,

I could see that the instance is in 'terminated state'. Could you check and let us know if you are still facing issues?

Regards,
Jayakrishnan L."

Amazon EC2	"[Retirement Notification]  & instance state stopping
Hello, we received a "" Retirement Notification Amazon EC2 Instance scheduled for retirement "" notice. The instance id is i-aeeea860. We are unable to reach the instance. Instance state is stopping loop."

Amazon EC2	"Re: [Retirement Notification]  & instance state stopping
Hi,

I can see that the instance - i-aeeea860 is running properly now and has passed all the health checks. 

The issue you faced was because the underlying hardware on which the instance was running previously had failed. However, the start and stop procedure has completed and the instance have moved to a new, healthy underlying hardware. You could also see that the Maintenance Activity as Completed in the events page.

Apologies for the troubles caused.

Regards,
Jayakrishnan L."

Amazon EC2	"Upgrade to PCRE on Amazon Linux AMI?
Hi there,

Would it be possible to get the pcre package upgraded? It looks like it hasn't been done since at least the last post (apart from mine) to this thread in 2012: https://forums.aws.amazon.com/thread.jspa?messageID=729680

amzn-main provides 8.21-7.7.amzn1 which contains libpcre.so.0 but I need libpcre.so.1 which is in pcre-8.39-2.fc24.x86_64.rpm (it might be in earlier versions too, this was the first I checked). 

Many thanks,

Keith"

Amazon EC2	"Re: Upgrade to PCRE on Amazon Linux AMI?
For anyone else stuck with this, I was able to build pcre 8.39 easily enough using the instructions here: 
http://www.linuxfromscratch.org/blfs/view/svn/general/pcre.html

I didn't install the compression deps, so used this to build:

./configure --prefix=/usr                     \
            --docdir=/usr/share/doc/pcre-8.39 \
            --enable-unicode-properties       \
            --enable-pcre16                   \
            --enable-pcre32                   \
            --disable-static                 &&
make

Edited by: keith_barricade on Jul 25, 2016 2:52 AM"

Amazon EC2	"Re: Upgrade to PCRE on Amazon Linux AMI?
For anyone else stuck with this, I was able to build pcre 8.39 easily enough using the instructions here: 
http://www.linuxfromscratch.org/blfs/view/svn/general/pcre.html

I didn't install the compression deps, so used this to build:

./configure --prefix=/usr                     \
            --docdir=/usr/share/doc/pcre-8.39 \
            --enable-unicode-properties       \
            --enable-pcre16                   \
            --enable-pcre32                   \
            --disable-static                 &&
make"

Amazon EC2	"404 Not found
Hello, am an AWS newbie; i recently installed a test work press site; it successfully installed but whenever i click on a page, i get ""404 Not Found"" ... not sure whats going on.

Those familiar with Wordpress, all i did was change to Permalink. I have used other hosting services and never had this problem. Not sure whats going on...

Please provide some suggestion. Thanks, Charlie

Edited by: CharlieParker on Jul 24, 2016 10:16 PM"

Amazon EC2	"longer instance ids
i have enabled early preview of the longer ids.  i notice that on SOME DAYS i get longer instance ids and on some days i don't. active testing? one exception is ap-south-1 (Mumbai). that new region must be committed to new code."

Amazon EC2	"bug in web console for S3 bucket policy editing
i had been having problems getting some new S3 buckets working.  the problem was in providing the bucket policy XML.  i would select the bucket (i just created), select ""Permissions"", click on ""Edit bucket policy"", and paste in the policy i had just copied from a terminal window.  the paste in worked but the ""Save"" button did not activate (the bug).  at this point i believed the data was buffered and the big ""Save"" button for ""Permissions"" would do the job.  i eventually found that it was not saving my policy.  the pop-up editor needs to treat a paste-in as new-data and activate the little ""Save"" button (which works with keyboard input, which i was trying to avoid)."

Amazon EC2	"EC2 User Policy Error
I'm trying to create a user policy which allows specific users access to only the following permissions within a specific VPC:
Create Instances
Start Instances
Stop Instances
Terminate Instances

I created and testing the policy in IAM and it works according to the Policy Simulator, however when I apply it, the user is NOT able to launch an instance. I've attached the policy and the error message below. 

I appear to be missing some permissions, but not sure what since this runs successfully when using the policy simulator. 

{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""NonResourceBasedReadOnlyPermissions"",
            ""Action"": [
                ""ec2:Describe*"",
                ""ec2:CreateKeyPair"",
                ""ec2:CreateSecurityGroup"",
                ""iam:GetInstanceProfile"",
                ""iam:ListInstanceProfiles"",
                ""aws-marketplace:viewSubscriptions"",
                ""aws-marketplace:Subscribe""
            ],
            ""Effect"": ""Allow"",
            ""Resource"": ""*""
        },
        {
            ""Sid"": ""IAMPassRoleToInstance"",
            ""Action"": [
                ""iam:PassRole""
            ],
            ""Effect"": ""Allow"",
            ""Resource"": ""arn:aws:iam::5555555555555:role/vpc-user""
        },
        {
            ""Sid"": ""AllowInstanceActions"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:RebootInstances"",
                ""ec2:StopInstances"",
                ""ec2:TerminateInstances"",
                ""ec2:StartInstances"",
                ""ec2:AttachVolume"",
                ""ec2:DetachVolume""
            ],
            ""Resource"": ""arn:aws:ec2:us-east-1e:5555555555555:instance/*"",
            ""Condition"": {
                ""StringEquals"": {
                    ""ec2:InstanceProfile"": ""arn:aws:iam::5555555555555:instance-profile/vpc-user""
                }
            }
        },
        {
            ""Sid"": ""EC2RunInstances"",
            ""Effect"": ""Allow"",
            ""Action"": ""ec2:RunInstances"",
            ""Resource"": ""arn:aws:ec2:us-east-1e:5555555555555:instance/*"",
            ""Condition"": {
                ""StringEquals"": {
                    ""ec2:InstanceProfile"": ""arn:aws:iam::5555555555555:instance-profile/vpc-user""
                }
            }
        },
        {
            ""Sid"": ""EC2RunInstancesSubnet"",
            ""Effect"": ""Allow"",
            ""Action"": ""ec2:RunInstances"",
            ""Resource"": ""arn:aws:ec2:us-east-1e:5555555555555:subnet/*"",
            ""Condition"": {
                ""StringEquals"": {
                    ""ec2:vpc"": ""arn:aws:ec2:us-east-1e:5555555555555:vpc/vpc-1234abcd1""
                }
            }
        },
        {
            ""Sid"": ""RemainingRunInstancePermissions"",
            ""Effect"": ""Allow"",
            ""Action"": ""ec2:RunInstances"",
            ""Resource"": [
                ""arn:aws:ec2:us-east-1e:5555555555555:volume/*"",
                ""arn:aws:ec2:us-east-1e::image/*"",
                ""arn:aws:ec2:us-east-1e::snapshot/*"",
                ""arn:aws:ec2:us-east-1e:5555555555555:network-interface/*"",
                ""arn:aws:ec2:us-east-1e:5555555555555:key-pair/*"",
                ""arn:aws:ec2:us-east-1e:5555555555555:security-group/*""
            ]
        },
        {
            ""Sid"": ""EC2VpcNonresourceSpecificActions"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:DeleteNetworkAcl"",
                ""ec2:DeleteNetworkAclEntry"",
                ""ec2:AuthorizeSecurityGroupEgress"",
                ""ec2:AuthorizeSecurityGroupIngress"",
                ""ec2:RevokeSecurityGroupEgress"",
                ""ec2:RevokeSecurityGroupIngress"",
                ""ec2:DeleteSecurityGroup""
            ],
            ""Resource"": ""*"",
            ""Condition"": {
                ""StringEquals"": {
                    ""ec2:vpc"": ""arn:aws:ec2:us-east-1e:5555555555555:vpc/vpc-1234abcd1""
                }
            }
        }
    ]
}

Here is the error message (decoded using awscli)

{""allowed"":false,""explicitDeny"":false,""matchedStatements"":{""items"":},""context"":{""principal"":{""id"":""REDACTED"",""name"":""USER.REDACTED"",""arn"":""arn:aws:iam::5555555555555:user/USER.REDACTED""},""action"":""ec2:RunInstances"",""resource"":""arn:aws:ec2:us-east-1:5555555555555:instance/*"",""conditions"":{""items"":[{""key"":""ec2:Tenancy"",""values"":{""items"":}},{""key"":""ec2:AvailabilityZone"",""values"":{""items"":}},{""key"":""ec2:Region"",""values"":{""items"":}},{""key"":""ec2:ebsOptimized"",""values"":{""items"":}},{""key"":""ec2:InstanceType"",""values"":{""items"":}},{""key"":""ec2:RootDeviceType"",""values"":{""items"":}}}""
}"

Amazon EC2	"Re: EC2 User Policy Error
Anyone?"

Amazon EC2	"Re: EC2 User Policy Error
I'm having same error. Below is my Policy and error I'm getting, Please let me know if you got the solution. 

{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmt1467811178000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:DescribeClassicLinkInstances"",
                ""ec2:DescribeHosts"",
                ""ec2:DescribeInstanceAttribute"",
                ""ec2:DescribeInstanceStatus"",
                ""ec2:DescribeInstances"",
                ""ec2:DescribeKeyPairs"",
                ""ec2:DescribePrefixLists""
            ],
            ""Resource"": ""*""
        },
        {
            ""Sid"": ""THISALLOWSEC2STARTSTOPINSTANCESFORINSTANCESIOWN"",
            ""Action"": [
                ""ec2:*""
            ],
            ""Resource"": [
                ""arn:aws:ec2:us-east-1a:**************:instance/XXXXXXXXXX""
            ],
            ""Effect"": ""Allow""
        }
    ]
}


	{
    ""DecodedMessage"": ""{\""allowed\"":false,\""explicitDeny\"":false,\""matchedStatements\"":{\""items\"":},\""context\"":{\""principal\"":{\""id\"":\""AIDAITHKTV4NWTDAMDZTE\"",\""name\"":\""sahil-test\"",\""arn\"":\""arn:aws:iam::***********:user/sahil-test\""},\""action\"":\""ec2:StartInstances\"",\""resource\"":\""arn:aws:ec2:us-east-1:***********:instance/i-xxxxxxxx\"",\""conditions\"":{\""items\"":[{\""key\"":\""************:Name\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:Tenancy\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:AvailabilityZone\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:Region\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:ResourceTag/Name\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:ebsOptimized\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:InstanceType\"",\""values\"":{\""items\"":}},{\""key\"":\""ec2:RootDeviceType\"",\""values\"":{\""items\"":}}}""
}"

Amazon EC2	"Re: EC2 User Policy Error
Still looking for some help on this"

Amazon EC2	"Root partition size on Linux AMI created by importing VM .vmdk disk file
Hi,
I created a virtualbox CentOS VM with 8 gb disk.
On this VM I have  /dev/sda with three partitions, /, /boot and swap.
I exported this VM as .ova file and imported that file in to AWS as AMI.
EC2 instances I launch using this image uses the same disk size as the VM which the AMI is based on. I can select disk size as say 30 GB while launching, and instance will come up with 8 gb root partition and 22 gb unused space in the root volume.
What should I change with my AMI creation process so OS will use the entire space allocated to it?

Thank you!

Edited by: lnx on Jul 23, 2016 2:42 PM"

Amazon EC2	"Re: Root partition size on Linux AMI created by importing VM .vmdk disk file
Typo in cloud.cfg file needed to be fixed."

Amazon EC2	"Auto Scale - preferred AZ or sequence of AZ
Hi,
I have a reserved instance in Sydney Zone C.  I would like the Auto scaling group to start an instance in Zone C first; if it is not available then try the other zones.

Likewise when scale in, I like it to take down the other zone's instances first provided it can maintain 1 minimum instance in zone C.

My auto scaling group has 1 minimum instance.

Is it possible?

Thanks,"

Amazon EC2	"EBS Snapshot stuck in Pending Mode
Hi Guys,A client of mine has an EBS volume snapshot stuck in pending mode (has been for about 8 days now) - ID: snap-c21fccab.Can someone from AWS take a look at this? - I've tried deleting it etc and it's unresponsive to all my commands.CheersRobbie"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Hi Robbie,Your snapshot was stuck in ""pending"" due to a error on our side.  I've fixed the state (it's now ""completed"").  Sorry about the trouble.-David"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
i have had the same problem.  i have 11 drives set to pending.  This is because i was trying to create a snapshot of one of my drives and kept getting internal errors.  I've tried to delete them and i've not had any joyThe snapshots are:<span>snap-2a5faa43</span><span>snap-445faa2d</span><span>snap-405faa29</span><span>snap-4a5faa23</span><span>snap-625faa0b</span><span>snap-6e5faa07</span><span>snap-945ca9fd</span><span>snap-9c5ca9f5</span><span>snap-9a5ca9f3</span><span>snap-865ca9ef</span><span>snap-845ca9edWhy did this happen?Also, can you make a snapshot of an EBS drive when it's mounted and currently being used?</span>"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
You can snapshot a mounted EBS volume, but you should be careful to ensure it actually contains a consistent snapshot of the filesystem.Check out Eric Hammond's article on creating consistent EBS snapshots:http://alestic.com/2009/09/ec2-consistent-snapshot"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Thankyou Shlomo, i will look at the article now.FYI, i installed the command line tools to see if i could delete the snapshots ( see above ) but the dont exist.  ( According to the tools )Can someone please remove them from the GUI.  It's unsightly."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I have a snapshot stuck in pending now as well.  It's snapshot id snap-106e6e7c.

Can someone from Amazon help unstick this?

Thanks!

Peter"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I also have a snapshot stuck in pending mode now. 

It's snapshot id snap-f92f9d98.

Could someone from Amazon can help me ?

Thanks!"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I also have an instance stuck in pending mode....

My volume is vol-1b7e3271 and the snapshot is snap-837cb5e1.  What should I do?

Edited by: user1234567 on Oct 31, 2011 9:03 PM"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
i also have a snapshot that appears to be stuck in 'pending' mode:

snap-958168f2

can anyone please help?"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
toguru,

I've engaged our EBS team to look into this further, once we have more information for you we will update this thread."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Luke@AWS: it looks like my snapshot is no longer in ""pending"" mode. if that was your guy's doing, thank you very much!"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Resolved"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Same problem here!
I've tried to create 2 snapshots of a volume (vol-b7fe8cda) in us-east-1d and both are in pending state. They are not even reporting progress (Elasticfox usually shows a percentage)

The snapshots are: snap-9f1eaee5  and  snap-67e4571d

Thanks"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I too have a snapshot stuck in pending (stuck at 10% for a few hours now).

Volume vol-ea2afa87 Snapshot snap-cfff28b3

Is this actually processing?"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
We currently have a hung snap shot as well:


snap-f425ce8b
vol:a55723c9


I've deleted the last few snapshots running against that volume, but subsequent snap shots continue to hang.  This current issue has been about 6 hours now.

We see this on average about every month, snapshotting a 4xebs raid set.  The issue lasts from hours to days on each occasion, leaving us without a database back up for that time.

The only way to be able to recover faster is to clone an old good snapshot to a new slave, let it catch back up on replication, and switch our snap shots over to this new slave.

It'd be great to know what is going on when volumes are stuck in this inability to snapshot mode, and if there is a better way to recover."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
can someone from amazon please help? I have a snapshot stuck in pending as well.

snap-583f0a34"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
My tools suggest that this snapshot is currently in progress; it's simply taking a while to complete. Please give it a while and let me know if it's still problematic."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I created two snapshots and they got stucked in the pending mode too and there is no progress status shown. The snapshots ids are these:
snap-5bf2bc09
snap-d3f2bc81

Thanks in advance

Edited by: borjamsv on Jul 25, 2013 2:45 PM"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Hello,

Both these snapshots have completed normally.

Richard"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
I have a similar issue.
I started snaphoting 500 GB EBS volume, then realized it was not unmounted inside instance.
I deleted snapshot showing 5% done, and then unmounted volume and started new snapshot.
This new snapshot is in pending state for several hours not showing any progress.

Can you help me?
snap-9c6b681f vol-5f24ee28 
I checked by AWS console and elasticfox, both shows no progress."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Hi skryzhny-codenvy-infra,

Your snapshot shows 100% completed. Any problems please let us know.

Regards,
Julian H."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Hi my snapshot is also stuck in pending

snap-7f9852fa"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
Hi somanybananas,

Your snap is 1000% completed. Any problems let me know. 

Regards,
Julian H."

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
We have a snapshot stuck in pending mode, no progress indication shown: snap-ccf55e38.
Can anybody help? Thanks

Edit: it has completed, so problem solved.

Edited by: sysatp on Jun 2, 2015 12:23 PM"

Amazon EC2	"Re: EBS Snapshot stuck in Pending Mode
We also have a snapshot stuck in 99% complete pending mode for 2 days now.  snap-bfb372ff  

Please let me know what the issue might be."

Amazon EC2	"http connection refused
my instance id i-05da109d0d23d436b

i had created a new instance yesterday and iam newbie to this environment. I transfered all the files and able to access it using public dns .. later on i added elastic ip ... created zone records in route 53 ...edited name servers and A records in godaddy. From then im getting connection refused .. Please help me how to resolve this issue
my public dns is ec2-52-66-62-220.ap-south-1.compute.amazonaws.com

i was able to connect through putty with elastic ip but the problem only when opening public dns in browser

Edited by: Sunitha on Jul 24, 2016 3:35 AM"

Amazon EC2	"boto3: ec2.modify_snapshot_attribute, remove operation bug
Hi, I encountered a bug in the boto3 module in regards of removing permission for an AMI.

Currently setting up a new user permission works:
ec2.modify_snapshot_attribute(SnapshotId = 'snap-xxxx',Attribute='createVolumePermission',OperationType='add', UserIds='yyyy')

but the remove method doesn't:

ec2.modify_snapshot_attribute(SnapshotId = 'snap-xxxx',Attribute='createVolumePermission',OperationType='remove', UserIds='yyyy'

After running this command the permission stays for userId = yyy

Edited by: seth12321 on Jul 24, 2016 12:35 AM"

Amazon EC2	"API to get list of regions with name
in the web console is the drop menu to switch region that has names like ""N. Virginia"" and ""Oregon"" and ""Frankfurt"".  i'd like to get this list in latest-version real-time, instead of coding it into my automation.  is there a good place to get this that is not slow and is not large?  there seems to be no API way to get it all.  i can put some code in the module to parse it, such as scraping it from a web page."

Amazon EC2	"t2.small maxed out at 150 ish CPU credits
Greetings,

I have a couple t2.small instances running. During the night they only consume 2% or so average CPU for at least 10 hour, however the CPU credit balance is stuck at 150 apiece. My understanding is that t2.small instances max out at 288 credits (per documentation).

The instances in question are i-22aa21a4 and i-2f19b7bf"

Amazon EC2	"Re: t2.small maxed out at 150 ish CPU credits
Bump."

Amazon EC2	"Re: t2.small maxed out at 150 ish CPU credits
Wow, brutal support guys.

Bump again."

Amazon EC2	"Re: t2.small maxed out at 150 ish CPU credits
Bump, sigh."

Amazon EC2	"Can't connect to service port from outside, but service running at port
Hi

I have an EC2 cluster setup with some services running (Hortonworks install). I am trying to connect to port 9090 on one of the AMI instances. I have the security group configured to allow access to this port. I can connect to that port from another instance using curl and the private IP OR the public IP

curl http://ip-10-154-19-224.ec2.internal:9999/nifi/ -v
curl http://ec2-54-91-109-133.compute-1.amazonaws.com:9999/nifi/

But I can't connect to it using the public IP from my desktop (windows)

It says ""This site can't be reached""

Any ideas? I have checked my firewall and its not blocking the port.

Thanks in advance
zc"

Amazon EC2	"Re: Can't connect to service port from outside, but service running at port
Resolved

It seems like there was some sort of network level firewall blocking my machine from connecting(I was doing this from work). When I tried it from home, I was able to connect."

Amazon EC2	"EC2 Run Command events being sent twice
I decided to try out the new EC2 Run command yesterday, using a CloudWatch event to trigger a Lambda function.

When the Lambda function is triggered manually, it works just fine.

However, when an EC2 Command is run a single time against a single instance, I am receiving duplicate ""EC2 Command Invocation Status-change Notification"" events. Each event is identical, with the exception of the id. In some cases, the time is also different (~1 second difference).

I've tried this with a variety of commands, and the result is always the same for both Success and Failed events - 2 events are received when there should only be one.

When running the same command against multiple instances, the behavior is the same. That is, if I run a command against 2 instances, then a total of 4 Success events are received (2 for each instance).

I have verified that only a single event rule is in place, the commands are running the expected number of times, and the Lambda function works properly when run manually.

Is this a bug or am I overlooking something?"

Amazon EC2	"Re: EC2 Run Command events being sent twice
Some additional details . . . here are the events that I receive after a simple SSM command successfully completes. 

A single ""EC2 Command Status-change Notification"" event type for the command itself . . .
{
  ""account"": ""391723288728"", 
  ""region"": ""us-east-1"", 
  ""detail"": {
    ""output-s3bucket-name"": null, 
    ""status"": ""Success"", 
    ""parameters"": null, 
    ""expire-after"": ""2016-07-22T14:36:50.494Z"", 
    ""document-name"": ""hello-world"", 
    ""command-id"": ""c758239a-2eb1-4dc0-836b-01b23058542e"", 
    ""requested-date-time"": ""2016-07-22T14:26:50.494Z"", 
    ""output-s3key-prefix"": null
  }, 
  ""detail-type"": ""EC2 Command Status-change Notification"", 
  ""source"": ""aws.ssm"", 
  ""version"": ""0"", 
  ""time"": ""2016-07-22T14:27:06Z"", 
  ""id"": ""2cc49691-0215-485e-8b6c-ac7baf802a11"", 
  ""resources"": [
    ""arn:aws:ec2:us-east-1:391723288728:instance/i-098d0feb019ac5223""
  ]
}


2 ""EC2 Command Invocation Status-change Notification"" for every invocation. My expectation is that there should only be one of these. Note that these are identical except for their ids. Again, I have also seen cases where the time is also different by ~ 1 second.
#1 . . . 
{
  ""account"": ""391723288728"", 
  ""region"": ""us-east-1"", 
  ""detail"": {
    ""document-name"": ""hello-world"", 
    ""command-id"": ""c758239a-2eb1-4dc0-836b-01b23058542e"", 
    ""requested-date-time"": ""2016-07-22T14:26:50.494Z"", 
    ""status"": ""Success"", 
    ""instance-id"": ""i-098d0feb019ac5223""
  }, 
  ""detail-type"": ""EC2 Command Invocation Status-change Notification"", 
  ""source"": ""aws.ssm"", 
  ""version"": ""0"", 
  ""time"": ""2016-07-22T14:27:06Z"", 
  ""id"": ""679314d7-f835-439d-96b6-103843ff7e02"", 
  ""resources"": [
    ""arn:aws:ec2:us-east-1:391723288728:instance/i-098d0feb019ac5223""
  ]
}
 
#2 . . . 
{
  ""account"": ""391723288728"", 
  ""region"": ""us-east-1"", 
  ""detail"": {
    ""document-name"": ""hello-world"", 
    ""command-id"": ""c758239a-2eb1-4dc0-836b-01b23058542e"", 
    ""requested-date-time"": ""2016-07-22T14:26:50.494Z"", 
    ""status"": ""Success"", 
    ""instance-id"": ""i-098d0feb019ac5223""
  }, 
  ""detail-type"": ""EC2 Command Invocation Status-change Notification"", 
  ""source"": ""aws.ssm"", 
  ""version"": ""0"", 
  ""time"": ""2016-07-22T14:27:06Z"", 
  ""id"": ""89c742bb-6bd3-4082-a01b-bfab9c7bbb92"", 
  ""resources"": [
    ""arn:aws:ec2:us-east-1:391723288728:instance/i-098d0feb019ac5223""
  ]
}"

Amazon EC2	"Re: EC2 Run Command events being sent twice
Any comment from AWS on this, please?"

Amazon EC2	"Re: EC2 Run Command events being sent twice
Hello

Thank you for your feedback. We guarantee at least once delivery of notification. However, we are looking at some cases where duplicate notifications are being sent out. We are investigating this now.

Regards
Ananth"

Amazon EC2	"EC2 - SpamAssassin issue: FSL_HELO_BARE_IP_2 - IP used in the HELO request
Hello,

Our emails are receiving a negative score from SpamAssassin due to the rule FSL_HELO_BARE_IP_2 (IP used in the HELO request).
About 30 days ago that was not the case. Inspecting the headers I noticed the change below.

Headers OK (real IP omitted):

Received: from ip-ZZ-ZZ-ZZ-ZZ.sa-east-1.compute.internal (ec2-XX-XX-XX-XX.sa-east-1.compute.amazonaws.com [XX.XX.XX.XX])


Headers not OK:

Received: from XX.XX.XX.XX (ec2-XX-XX-XX-XX.sa-east-1.compute.amazonaws.com [XX.XX.XX.XX])


ZZ is private IP and XX is a public IP.

I know it is a false positive from SpamAssassin, but it is very unlikely that it will be solved anytime soon.
I have contacted our email service provider, SendGrid, but they said the value is received from AWS, there's nothing they can do on their side to solve this problem.

How could this problem be fixed?
We are using amazon-linux-ami.

Thanks in advance.

Eduardo."

Amazon EC2	"Re: EC2 - SpamAssassin issue: FSL_HELO_BARE_IP_2 - IP used in the HELO request
Hi Eduardo,

If you have a domain name you can request a reverse DNS entry for your IPs which should resolve this:

https://aws.amazon.com/blogs/aws/reverse-dns-for-ec2s-elastic-ip-addresses/

Richard"

Amazon EC2	"Cannot detach a volume from an instance
Hello,

I couple of weeks ago I stopped an EC2 instance and now that I'm trying to start it the instance stays in the status of ""stopping"".  I realized that this happens because the volume gets stuck in attaching.

The Volume ID is: vol-7d1ab3c0

I tried forcing the volume to detach but I get : ""Error detaching volume"" .  I don't know what else to do, can someone help me with this ? 

Thanks !"

Amazon EC2	"Re: Cannot detach a volume from an instance
Hello,

I have reached out to our EC2 team to investigate this issue. We will get back to you as soon as we have an update. Apologies for the inconvenience caused.

Regards,
Truptesh"

Amazon EC2	"Re: Cannot detach a volume from an instance
Hello there,

I just heard back from the EC2 team and the instance is now stopped. Please test and let us know if you run into any other issues.

Best,
Adolfo M"

Amazon EC2	"SUSE Upgrading instances from SLES 11SP4 to SLES12SP1
Hi, 

Trying to follow the online directions for upgrading from SUSE 11SP4 to 12SP1 (https://www.suse.com/communities/blog/upgrading-running-demand-instances-public-cloud/) on EC2 and all the files referenced in the articles are returning 404 Not Found

wget http://54.197.240.216/sles12sp1-ondemand-repos.tar.bz2
--2016-04-24 00:29:19-- http://54.197.240.216/sles12sp1-ondemand-repos.tar.bz2
Connecting to 54.197.240.216:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2016-04-24 00:29:19 ERROR 404: Not Found.

wget http://54.197.240.216/pam_sles12_sp1_config.tar.bz2
--2016-04-24 00:28:49-- http://54.197.240.216/pam_sles12_sp1_config.tar.bz2
Connecting to 54.197.240.216:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2016-04-24 00:28:49 ERROR 404: Not Found.

Has it moved to a different location or there is another way to upgrade the same?"

Amazon EC2	"Re: SUSE Upgrading instances from SLES 11SP4 to SLES12SP1
This issue should be resolved. We have added the files back. Please let me know if you are still having issues.

Edited by: joelsuse on Jul 22, 2016 3:17 PM"

Amazon EC2	"SUSE Upgrading instances from SLES 11SP4 to SLES12SP1
Hi,

Trying to follow the online directions for upgrading from SUSE 11SP4 to 12SP1 (https://www.suse.com/communities/blog/upgrading-running-demand-instances-public-cloud/) on EC2 and all the files referenced in the articles are returning 404 Not Found

 wget http://54.197.240.216/sles12sp1-ondemand-repos.tar.bz2
--2016-04-24 00:29:19--  http://54.197.240.216/sles12sp1-ondemand-repos.tar.bz2
Connecting to 54.197.240.216:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2016-04-24 00:29:19 ERROR 404: Not Found.

wget http://54.197.240.216/pam_sles12_sp1_config.tar.bz2
--2016-04-24 00:28:49--  http://54.197.240.216/pam_sles12_sp1_config.tar.bz2
Connecting to 54.197.240.216:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2016-04-24 00:28:49 ERROR 404: Not Found."

Amazon EC2	"Re: SUSE Upgrading instances from SLES 11SP4 to SLES12SP1
Hi Zephyr,

I am trying to upgrade the same and getting the same error. Were you able to get around it and did the upgrade work ?

Thanks"

Amazon EC2	"Re: SUSE Upgrading instances from SLES 11SP4 to SLES12SP1
I believe we have resolved this issue. The files have been added back. Please let me know if you are still having issues.

Edited by: joelsuse on Jul 22, 2016 3:16 PM"

Amazon EC2	"NetworkIN:Out is 30:1
We moved a wordpress multisite setup to aws ec2, and our network charges are almost 2-3x our ec2 charges (and climbing)

this is likely due to bots just slamming the hell out of it, trying to find vulnerabilities. I didn't realize when stepping out of the protection of a IpTables and  a ConfigServer Firewall on CentOS / WHM; we would be wading into the nightmare of raw traffic.

I've seem overly complicated Lambda posts about restricting request, but that doesn't really work due to the nature of our site being 100's of domains mapped to our single Elastic IP. 

How else can i restrict the traffic to this site and the requests made IF we arent using cloudflare, etc?

Edited by: N. Corrieri on Jul 22, 2016 3:16 PM - fixing typos"

Amazon EC2	"Can't start cloned instance in new region - fails with 'Route info failed'
Hi - 

We are trying to start instance i-9ed1b143.  We had cloned this instance from Northern Virginia to Oregon.  It runs just fine in VA, but fails with the following 'Route Info Failed' message when we try to start it in Oregon.

info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
ci-info: |  eth1  | False |     .     |     .     | 0a:b6:5a:e2:09:df |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!

Any help would be greatly appreciated.

Thanks in advance."

Amazon EC2	"EC2 with MS SQL 2014 running at 100% but reporting only 20% in cloud watch
I have a recuring issue on one of our EC2 instances that has MS SQL 2014 standard installed.  After around a month of smooth running it will max out at 100% CPU usage with SQL being the culprit.  I have run reports on sql to look for queries etc that are consuming the processor but nothing is apparent.  On top of this cloud watch will only show the CPU usage of the instance at around 20% so apparently the instance is fine!

I have found that rebooting via either the server itself or AWS control panel does not help, but stopping and starting the server again does reset the server back to its normal running start (average CPU usage around 5-10%).  This is reliable so does ""fix"" the issue.  The problem is that I don't have a way via cloud watch to reliably capture this state because it is mis-reporting and the first I normally here is unhappy customers!  Is this an issue with EC2 or MS SQL or something in the configuration?  Is there an EC"

Amazon EC2	"Re: EC2 with MS SQL 2014 running at 100% but reporting only 20% in cloud watch
You haven't told us the identity of your server, so I cannot take a look. However, it sounds a little like you are using a T2.small instance and have run out of CPU credits. Your instance is using all the CPU it can get, so it thinks it is using 100%.  However, we're throttling you to 20% until your CPU credits recover, so we see 20%.

There's details about the T2-series of instances here, including how to monitor for exhaustion of CPU credits.

Switching to a larger T2 -- a medium or a large -- will grant you both more CPU credits and a faster base. Switching to another series of instances will give you full CPUs that don't throttle."

Amazon EC2	"Network Outage - Instace health check failed
Hi,

We've seen a few seemingly random Instance Health Check failures over the last 24h which seems to be us losing network connectivity. This is only affecting 6 instances so far but they are not experiencing any increased CPU,disk or network load before the connection is lost. This is causing serious issues in our infrastructure so I'm wondering if there is a way to get a detailed reason as to why the Instance Health Check failed. 

I've gone through the Linux logs on the instances but I can't find anything strange. The application we are running on the nodes are reporting a ""No route to host"" error, which leads us to believe it's a loss of network connectivity problem.

Is there anything we can do to get detailed information regarding the AWS Instance Health Check failures?

InstanceIds:
i-1b2b8de3:
i-2486fdb8:
i-9751bf34:
i-d7028503:
i-e262e05d:
i-e52a96a0:

This happened yet again only 2 hours ago as well, so it's still ongoing.

Regards,
Leo"

Amazon EC2	"Re: Network Outage - Instace health check failed
I haven't seen any network timeouts but my application isn't as prone to that same problem so it's possible that's the cause but I don't have any logging that would record it as the reason.  However twice in the past 24 hours I've had similar ""blip"" experiences of about 2 minute intervals where status checks fail and fire off instance alarms for one of my instances in us-east-1:

i-9a43fd33

If someone looks into this post, if they wouldn't mind taking a look at this one too, I'd be grateful.

Times we received alarms were:

Thursday 21 July, 2016 22:26:29 UTC
Friday 22 July, 2016 14:58:29 UTC"

Amazon EC2	"Unable to connect to remote PC
Hi
I'm new to EC2 and trying to connect to my instance
Instance ID is i-05b9cc518bee8f041
Public DNS is Ec2-52-27-121-137.us-west-2.compute.amazonaws.com
Public IP is 52.27.121.137
I keep getting the error message: 
Unable to connect to remote PC. Please verify Remote Desktop is enabled, the remote PC is turned on and available on the network, and then try again.
What does this mean? Any suggestions on how to move forward?

Thank you"

Amazon EC2	"Re: Unable to connect to remote PC
Hello,

In the security group attached to your instance you have not allowed traffic from external IPs. Please add a rule allowing the traffic from your IP and you should be able to RDP into the instance.

Regards,
Truptesh"

Amazon EC2	"SSH Blocked for My IP to EC2 instance
Hello,

I have been using EC2 for years and suddenly I can not SSH to one of my instances from my office IP address (Connection time out). The instance is working perfectly, everything is running fine (http on port 80 is accessible), I can even SSH to the instance from a different IP, but not from my office IP. I can SSH to my other instance using the same security group, no problem.

If you need more details, please let me know.

PS: I believe, monger_midd had exactly the same problem and it was answered, but I can not see the answer: https://forums.aws.amazon.com/thread.jspa?messageID=694262

Thank you.

Robert"

Amazon EC2	"Re: SSH Blocked for My IP to EC2 instance
Please, any ideas?"

Amazon EC2	"Re: SSH Blocked for My IP to EC2 instance
can you do a network traceroute from your office IP to your instance and post the result?  this may give a clue to where your connections from your office IP  are being blocked.  also, can you try from a different IP in your office network? did you check the Security Group this instance is using to be sure a rule did not get removed over all this time?  i would temporarily add a ""let everything in"" rule (inbound all-traffic 0.0.0.0/0) to see if that makes things work."

Amazon EC2	"Re: SSH Blocked for My IP to EC2 instance
Thank you very much stratusrelay for your replay. 
You will not believe, but now it is working! I have done/changed nothing it suddenly started working again. I am not very happy with this ""solution"", but at least, when this happen again I will know, that I should try to trace the route. Thank you very much again and have a great day,
Robert"

Amazon EC2	"Slow performance between 2 provisioned IOPS EBS volumes
I launched a fresh r3.4xl (i-e0c6ee66) it's EBS Optimized

I've got a provisioned iops volume (vol-91509c3c) 1TB 6000 IOPS (from a snapshot) copying files to another provisioned IOPS volume (vol-f671bd5b) 1TB 6000 IOPS (no snapshot).

In 3 hours I've only copied 30GB from the volume.  I know there are issues EBS volumes being ""cold"", esp. if they're from a snapshot, but is this level of performance to be expected?"

Amazon EC2	"Re: Slow performance between 2 provisioned IOPS EBS volumes
So I'm only getting like 10 MB/s max on the volume that's from the snapshot.. see below.  

This should be 250MB/s cap right?  The documentation says that EBS volumes that are ""cold"" from snapshots can expect a 50% performance penalty.  So is this expected behavior or is something wrong?

in 8 hours only 120GB has been copied.  I've got 600GB more to copy..

root@pl-db10:~# sar -d 10
 Linux 3.13.0-92-generic (pl-db10) 	07/21/2016 	_x86_64_   (16 CPU)
 
      DEV     tps  rd_sec/s  wr_sec/s avgrq-sz  avgqu-sz    await   svctm   %util
 dev202-0    0.40      0.00      9.60    24.00      0.00     0.00    0.00    0.00
dev202-16    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-192    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-224   30.40   7782.40      0.00   256.00      3.95   129.74   32.91  100.04
dev202-240    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
 
      DEV     tps  rd_sec/s  wr_sec/s avgrq-sz  avgqu-sz    await   svctm   %util
 dev202-0    0.80      0.00      7.20     9.00      0.00     0.00    0.00    0.00
dev202-16    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-192    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-224   39.10  10009.60      0.00   256.00      3.97   101.53   25.58  100.00
dev202-240  108.30      0.00  27648.40   255.29      3.87    35.70    0.27    2.88
 
      DEV     tps  rd_sec/s  wr_sec/s avgrq-sz  avgqu-sz    await   svctm   %util
 dev202-0    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-16    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-192    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00
dev202-224   47.60  12185.60      0.00   256.00      3.69    77.55   21.01  100.00
dev202-240    0.00      0.00      0.00     0.00      0.00     0.00    0.00    0.00"

Amazon EC2	"Re: Slow performance between 2 provisioned IOPS EBS volumes
Performance improved a bit to 7-10MB/s.  Still way too slow, I gave up on that

It'd be nice if I could get an answer for this though, in the past when using a volume from a fresh snapshot there was marked poor performance but nothing this bad.  This is really close to unusable.. I'm sure I was being charged full price for all 6000 IOPs on that 1.2TB SSD volume.. while getting 10MB/s reads (8 hours to read 120GB!)

this could explain some weird EBS performance issues we've seen in production, seemingly random poor performance (querying a seldom used table or something).  it's why we were switching to provisioned IOPs in the first place (thinking shared ""gp2"" SSD disk throughput wasn't ""guaranteed"")

The really unfortunate thing is that it sounds like you -need- to do something to warm (dd'ing every block or whatever) your EBS volume manually.  definitely if it's from a snapshot, is zero'ing out a fresh EBS volume still needed?"

Amazon EC2	"Re: Slow performance between 2 provisioned IOPS EBS volumes
Hello,
this could be expected behavior for volumes created from snapshot: performance for NON pre-warmed provisioned IOPs volumes could drop below 50% of the expected performance and this will generate a ""safe"" warning on the volume that can be ignored.
The best practice recommend to perform an initialization for volumes coming from snapshots, using dd or fio utilities.
Reference documentation on this can be found here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-initialize.html
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/EBSPerformance.html

Hope this helps,
kind regards
Ale"

Amazon EC2	"Re: Slow performance between 2 provisioned IOPS EBS volumes
""Less than 50% of expected performance"" is ambiguous.

The instance is EBS optimized and supports up to 250MB/s EBS bandwidth.  I'm seeing read/write performance of 150MB/s+ for warmed files (just doing stuff like rsync or cp, could be some filesystem caching going on..  )

is 5-10MB/s normal for an unwarmed volume from snapshot?  50% of expected performance is one thing, I could deal with that.  5-10MB/s is closer to 5%.

At that rate we're talking 1 - 2 days to warm my 1TB volume.  Is that normal?"

Amazon EC2	"Network unreachable for specific IP on some instances
Hi,

I'm unable to load  a specfic IP in a VPC on some instances in a VPC,  but not at all. 

On instances, I can't load the IP I get following:

$ curl -v 138.201.33.151
 Rebuilt URL to: 138.201.33.151/
   Trying 138.201.33.151...

I can ping the IP, also tracepath works. But there are other instances, where the IP address can properly loaded.

All instances share the same AMI (amzn-ami-2016.03.d-amazon-ecs-optimized (ami-4a5eb625)),  the same autoscaling group, the same secgroups in the same private VPC subnet. Regardless if the IP is reachable or not.

Do I have to search the error in my AWS VPC setup or can it be related to the target?

Cheers
Martin"

Amazon EC2	"This copy of Windows is not genuine, but it is
Hello,

My Server acts as a DNS secondary and has been silently working since 2012. I barely log in once a year. No one else use it.

I loged in today and found that Windows says:

This copy of Windows is not genuine

It is genuine, I pay for a genuine windows AMI every month since 2012. It says that I have to activate it Today.

There's no direct technical support for me, even in this case where it is not my fault. Anyway a guy from Billing Dept. helped me out whith this so:

I have already tried all this:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows

But no luck.

The problem seems to be this:
The Software Protection Service reported that the computer could not be activated. No Key Management Service (KMS) could be contacted. Please see the Application Event Log for additional information.

I don't know what else to do, and Im afraid my server locks and dies loosing all the work it took for me make it work in the first place.

Here are some screenshots of what I have done:
http://www.interchile.com/aws/

Thank you.
band."

Amazon EC2	"Re: This copy of Windows is not genuine, but it is
Hello Band,
Windows tries to activate itself against our KMS server regularly; the issue you are facing is a known issue with EC2-Classic instances now solved.
All you have to do is just updating the EC2Config Service and reboot the instance.

From the console I see that the instance is currently running a very old EC2 Agent.
I would recommend in this case to update to latest version v3.18.1118 that you can find here:
https://aws.amazon.com/developertools/5562082477397515

In your case, maybe  the update should be performed in two steps as detailed in the Troubleshooting section: you should update from your version to v2.1.19.0 first and then to the latest version.

Hope this helps,
kind regards
Ale"

Amazon EC2	"Help with Server2008 R2 import with 2 VHD
First off, I'm kind of new to AWS so please be gentle  

I have a couple of vms i'm trying to move to aws. All of them are windows 2008 R2 boxes. My onprem hyper-v server is 2008 R2 SP1. All my vms have 2 VHDs each. 

I followed some documentation and prepared and exported the vms from my hyper-v server. I have created the required iam roles/permissions and s3 bucket. I also uploaded the hyper-v exported files using the S3 upload feature through the web portal. The files were uploaded with same directory structure as they were exported from hyper-v (ie with three folders including config.xml). 

After this point i could not find any clear documentation of what to do given my setup. I'd be eternally grateful if someone could point me to the right documentation or help provide next steps. All the documentation i found only mentioned using a single vhd. Secondly how do the .exp file and config.xml files get used, or are those not needed in aws? Also, do the spaces in my directory structure in S3 (eg ""\VmName\Virtual Hard Disks\"") pose a problem?

Your help is highly appreciated.

Thanks
ptchuba"

Amazon EC2	"Re: Help with Server2008 R2 import with 2 VHD
Hello, and welcome to AWS!  We are glad to have you!

To answer your question, the general process for importing multi-disk VMs is as follows:

1) Import your root volume as an image (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ImportVMImportImage.html) and launch as an instance.
2) Import your secondary volumes as EBS snapshots (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/import-volumes-ebs.html)
3) Launch your EBS snapshots and attach them to your instance (Step 4 of the above doc)

The only files that are used are the raw VHD files, so your .xml and .exp files are not necessary (They shouldn't pose a problem being there though).

The path in your S3 bucket won't matter - just make sure to specify the full path when importing as an image.

The entire process is laid out here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingImportImage.html.

I hope that makes the process clear!

Best regards,

David"

Amazon EC2	"Re: Help with Server2008 R2 import with 2 VHD
Hi David,

Thanks for the response!! i followed the instructions and I'm trying to connect by RDP to the instance. It won't let me in with the latest password I used before creating the image. The management console would not give me a password too. It says wait ""Please wait at least 4 minutes after launching an instance before trying to retrieve the auto-generated password."".

When i try to login with just administrator and no password, i get an error. ""An authentication error has occured. The local security authority cannot be contacted...""

I'm not sure what i did or failed to do to ensure that I can login successfully. Any suggestions are greatly appreciated.

Thanks
Peter"

Amazon EC2	"Re: Help with Server2008 R2 import with 2 VHD
Hello,
probably your original Windows VMs were joined to a domain.
Before importing them into AWS we would recommend you to remove them from the domain and sysprep them, in order to remove all the old references.
You can refer to this list of pre-requisites that need to be satisfied before performing your VM import:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html
Hope this helps,
kind regards
Ale"

Amazon EC2	"m4.large upgradation from EC2
Hello,

I am looking for the below details in m4.large to get an idea on how much load we may experience when we go for live production in m4.large

What is the maximum OS I/O size in m4.large?

Maximum IO requests which can be handled by the m4.large server?

In future if we are upgrading the processor and memory from m4.large, whether downtime is required?

If required, how many hours?

If we upgrade bandwidth, whether there will be a change in the IP address or the existing ip address with be retained?

It will be appreciable if you can lighten me with your inputs."

Amazon EC2	"ISPconfig3 - Ubuntu - Instance upgrade from Micro to Small & FTP is not wor
Hello,

I had installed ISPconfig3 on Tmicro instance and had about 4 websites on it.  It kept crashing so I had to upgrade to a Small which I had to do eventually.  

The original configuration(T micro) was using one a dynamic IP and when I upgraded, I used an elastic IP.  Everything is working fine with all the websites and I can access the Ispconfig panel with the new ip, but none of the FTPs are working.

I can SSH into the root folder and access all the web folders, but I can't FTP using the new IP address.

What could be the issue?  Do I have to change something in the ISPconfig like the internal IP?  Can anyone help because I am way behind on my development on multiple sites with no access to the FTP.

Regards,

Benny"

Amazon EC2	"Re: ISPconfig3 - Ubuntu - Instance upgrade from Micro to Small & FTP is not wor
Hello Benny,
I see your instance's Security Group sg-399a185c is not allowing FTP in the Ingress rules, so you need to do this in order to allow inbound FTP traffic to your instance.
kind regards
Ale"

Amazon EC2	"Massive packet loss
Hi all,

We've been having issues with our EC2 instance and downloading resources from Azure blob containers via HTTP / HTTPS. We get a lot of ""connection closed by peer"" or ""ERRCONRESET"" errors.

Running an mtr trace over TCP/IP on the server shows almost 100% packet loss on internal IP range. See attached file.

Does this elude to an AWS network problem or server config problem? Or am I reading the mtr results incorrectly.

Thanks in advance.

Edited by: Max on Jul 20, 2016 2:08 AM"

Amazon EC2	"Re: Massive packet loss
Hello Max,
we had some issues with some services on the 19th July accordingly to our Service Dashboard here:
http://status.aws.amazon.com/
Are you still facing the issue?

kind regards
Ale"

Amazon EC2	"Is it possible to Attach EBS General Purpose SSD volume to M1.xlarge
Hi,

I Have M1.xlarge EBS optimized instance running on EC2.It is running 2008 R2 Enterprise SP1.Volume currently attached to this instance is 1 TB magnetic tape volume. I am trying to attach 2 TB of Volume of General Purpose SSD to this instance.After attaching the volume when i RDP to system.I then go to Computer Management and check on the disk. It is showing
with a tiny red mark of some kind (very hard for my eyes to see) and the
word ""unknown"" under Disk1. In addition, 'not initialized' is under the
unknown notification.

Right click on the disk and choose Initialize Disk. The pop up shows
Disk 1 as checked and the radio button for MBR is pushed. Clicking ""OK""
produces the error ""Incorrect Function"" .

Is it something to do with disk controller? if yes then how can i get latest disk controller attached?

Thanks,
Deepak"

Amazon EC2	"Re: Is it possible to Attach EBS General Purpose SSD volume to M1.xlarge
Hi,

Could you follow the steps mentioned in our documentation here to make the disk available for use:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html

If you still experience issues, could you get back to us with the Instance ID and Volume ID?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Is it possible to Attach EBS General Purpose SSD volume to M1.xlarge
Hi,

I tired that but after attaching disk,When i rdp to the instance i am asked to initialize the disk but it fails.

Instance id :i-77f42656
vol id : vol-4f70eeeb

I have attached the screenshot of error shown."

Amazon EC2	"Re: Is it possible to Attach EBS General Purpose SSD volume to M1.xlarge
Hello,
before working with the disk at OS level, when attaching it to a running instance, you need to bring it online.
Right click on the Disk1 gray square and click ""online""
Then you will be able to create a volume (or more than one) on it and related filesytems.
Hope this helps
Regards
Ale"

Amazon EC2	"ec2 instance 'i-29cc1b4d' got stuck in stopping state in 'us-east-1d'
Hi Amazon,
    Please help us stop/restart this instance 'i-29cc1b4d' in us-east-1d. It went down and we are not able to reboot it. When I tried to stop this instance, it got stuck in 'stopping' state for a long time.

    Please help! it's a critical server which will impact our other servers. Thanks!

Kelvin
DATAPOP"

Amazon EC2	"Re: ec2 instance 'i-29cc1b4d' got stuck in stopping state in 'us-east-1d'
My instance is still in 'stopping' state > 2 hours.

Since it's a critical server for us, I had to re-created a new instance by using the old ami and re-attach the volumes to the new instance... 

Please let me know if there's any known hardware issue on AWS side. 

Thanks!"

Amazon EC2	"Limit reached: VPC elastic IP addresses
Please can you increase our limit of VPC elastic IP addresses?

Thanks!

Silvano"

Amazon EC2	"Re: Limit reached: VPC elastic IP addresses
Hello Silvano,
this request can be done as a self-service operation using using directly AWS console -> EC2 Service -> Limits on the left menu, in the ""Networking Limits"" section.
I can do it on your behalf if you kindly provide me your AWS account ID and AWS region.

kind regards
Ale"

Amazon EC2	"EC2 stuck in shutting down state
Can I get i-fe1852bb terminated in ap-southeast-2 please.

It has been 'shutting down' for 48 hours. It was part of a stack but has been removed from that, after three attempts by the stack to delete it.

Thanks

Edited by: MaxMember on Jul 22, 2016 12:45 AM"

Amazon EC2	"Re: EC2 stuck in shutting down state
Hi all, my instance Id 	


i-0d2b6bca51b623b0f  
is stuck in stopping state...
See this for the associated volume:

Volume stuck in attaching since 1 days, 3 hours and 7 minutes ago ago

which seems to be related to the problem.

No one seems to be looking at this.

Can someone from support please help?

Thanks

Edited by: Peejay on Jul 22, 2016 2:22 AM"

Amazon EC2	"Re: EC2 stuck in shutting down state
Hello MaxMember and Peejay,

Instance i-fe1852bb is now in the terminated state and instance i-0d2b6bca51b623b0f is now in the stopped state. Apologies for the inconvenience these issues may have caused.

Kind regards,
Chris"

Amazon EC2	"Boto get_all_instances method fails with InvalidInstanceID.NotFound error
I am using boto to fetch all my instances from AWS EC2. The code is as follows :

conn.get_all_instances(filters={'tag-value': 'some_server'})


This was working fine until recently I upgraded 2 of my servers from m1.large instances to m3.large instances. I achieved the upgrade by stopping the instance, changing the instance type and restarting the instance.

However, since making that change, all my scripts which make the get_all_instances call fail with the below error and stacktrace :

<Code>InvalidInstanceID.NotFound</Code><Message>The instance IDs 'i-5bb7a48b, i-f9ca392d' do not exist</Message>


More surprisingly, this error is sporadic. Sometimes the method fails, sometimes it passes. Any pointer, as to why this happens?"

Amazon EC2	"network connectivity problem
Hi!
I have strange issue in my vpc and hopefully somebody will generate useful hints for troubleshooting here. i am not even sure how to describe it properly, but i will try my best.

The VPC consists of some public subnets and some private subnets.
it have IGW attached and NAT gateway available.

public subnet route rable send 0.0.0.0/0 traffic to the IGW
private subnet route table send 0.0.0.0/0 traffic to the NAT Gateway
jump host in the public subnet is reachable on EIP and have good network connectivity.
from the jump host i can ssh into EC2 instances in the private subnets, however there is werid problem. private instances in general have internet conectivity, but some requests are routed to black hole. 
same request can be n times successful and then it does not get any reply.
if i CTRL+C and do it again then again the request returns answer n times successfuly.

""n"" is not static number.  sometimes i can get 10 successful answers and then error and sometimes only 3 successful answers and then error. all ec2 instances in all private subnets are affected. so it is something with VPC or Route Tables or other networking related. 
I was out of ideas and even deleted and created new Nat Gateway - it did not solve the issue.

any ideas? please help!"

Amazon EC2	"Re: network connectivity problem
thanks everybody for help.
i found the reason and eliminated it."

Amazon EC2	"Server randomly rebooted by 3.4.48-45.46.amzn1.x86_64
One of our instances randomly restarted, this was the log report:

reboot   system boot  3.4.48-45.46.amzn1.x86_64 Thu Apr 24 02:28 - 02:36  (00:07)

We had no spike in traffic nor system spike, so no idea why it occurred... assuming AWS restarted it for some reason."

Amazon EC2	"Re: Server randomly rebooted by 3.4.48-45.46.amzn1.x86_64
Without an instance id, I'm unable to find which machine your instance is sitting on, but I can speculate that the machine your instance was living on crashed.  When that happens, we automatically relaunch your instances once the host machine comes back up. You will experience this as an unexpected unclean reboot."

Amazon EC2	"Sudden instance reboot!!
Hello

Today i found that the instance  i-6687b8e1 was rebooted 15 hours ago:

reboot   system boot  4.4.8-20.46.amzn Wed Jul 20 22:23 - 14:09  (15:45) 

root@audit ~# uptime
 14:12:48 up 15:49,  1 user,  load average: 0.00, 0.01, 0.02
root@audit ~# 

Nobody requested to reboot the instance, i didnt find any event related to reboots on the ec2 console.

What happened???"

Amazon EC2	"Re: Sudden instance reboot!!
I also saw a instance randomly restart last night...

reboot   system boot  3.4.48-45.46.amzn1.x86_64 Thu Apr 24 02:28 - 02:36  (00:07)"

Amazon EC2	"Re: Sudden instance reboot!!
The host that your instance was living on experienced a crash. When the machine restarted, all the instances on that machine when it crashed were automatically started.

Just at a glance, I don't see any indications of why it crashed -- I don't see any failing hardware on it.  If we subsequently find that the hardware is unreliable, we will send you a notification to clear out your instance while we do maintenance."

Amazon EC2	"Import vmdk into AWS - ec2-import-instance not available
Hi, this is my first attempt to move some vmdk files from an old vmware environment into AWS. I have the AWS CLI installed on my Windows computer and I can't seem to find out how to launch the ec2-import commands because I don't see them.

After installing the CLI tools, I've opened an elevated command prompt and navigated to C:\Program Files\Amazon\AWSCLI but if try to run the ec2-import-instance... command it tells me ec2-import-instance is not available. If I type aws ec2-import-instance... it tells me invalid choice. I can run aws ec2 ? and see a list of choice but none are import-instance. 

It's almost like I'm trying to run this from the wrong place. Any help would be appreciated. 
Thanks!"

Amazon EC2	"Re: Import vmdk into AWS - ec2-import-instance not available
Hello, thanks for posting!  

The issue you're running into is that there are two different ""flavors"" of the CLI: the ""ec2"" CLI (older) and the ""aws"" CLI (newer).  The reason you cannot find the commands is because you're using the AWS CLI, and those commands are for the EC2 CLI!

Both CLIs are able to do VM imports, however, they use slightly different methods and I recommend using the AWS CLI.  I will provide directions for both versions below:

You already have the AWS CLI installed, but just for posterity, how to install the AWS CLI: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UploadVMImportImage.html
How to do a VM import using AWS CLI: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingImportImage.html

If you'd like to use the older ec2 CLI, use these:
Installing the ec2 CLI: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UploadingYourInstancesandVolumes.html
Importing using the ec2 CLI: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingVirtualMachinesinAmazonEC2.html

I hope this clears up the confusion!

Best regards,

David"

Amazon EC2	"simulate ethernet switch between 2 EC2 servers
Is it possible to build some sort of virtual network (to simulate the function of an ethernet switch) that I can connect two EC2 servers second network interfaces to. I don't want any gateway access etc... just simulating a cable between two ethernet interfaces on two servers."

Amazon EC2	"Re: simulate ethernet switch between 2 EC2 servers
Hello, thanks for posting.

Within a VPC, all instances are ""connected"" to each other (virtually) and will be able to talk over any interfaces, providing you allow them in the Security Groups and ACLs.  No special configuration would be needed to allow your instances to be networked together.

You can read more about the different aspects of networking in your VPC here: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Networking.html

An overview of VPC security here: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Security.html

And how to configure your Security Groups here: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html

Best regards,

David"

Amazon EC2	"SignalR using WebSockets transport doesn't work in ELB
Hi
I'm running a WebApp in EC2 instances (Windows 2012R2core / ami-b26adcc5) that uses SignalR to push notifications to the connected browsers.
Everything works fine if I use ""longPolling"" as a transport but when I try to use ""webSockets"" it doesn't work.
The same WebApp deployed to my development PC (Windows 8.1 with IIS8 having webSockets enabled) works both with ""longPolling"" and ""webSockets"" transports.
Looking for a solution in internet I've found some people saying that I've to change the LoadBalancer listeners from HTTP to TCP but in my case doesn't solve the issue.
I suspect that my AMI (ami-b26adcc5) has not ""webSockets"" enabled in IIS8.
Can you confirm that my AMI has ""webSockets"" enabled?
Can you help me find the reason ASP.net SignalR doesn't work behind ELB?
Thank you"

Amazon EC2	"Re: SignalR using WebSockets transport doesn't work in ELB
Did you find the answer to your question?

I'm also considering the same scenario and I'd be interested to know if you found a solution.

Thanks!"

Amazon EC2	"Re: SignalR using WebSockets transport doesn't work in ELB
Has anyone gotten this to work? I'm stuck in the same situation."

Amazon EC2	"Re: SignalR using WebSockets transport doesn't work in ELB
Does somebody have a solution?"

Amazon EC2	"Re: SignalR using WebSockets transport doesn't work in ELB
Anyone get the solution?"

Amazon EC2	"Instance available from internet, but no route to internet from Instance
Hi all,

I have a problem with instances running Apache available from the internet (through ELB), but those instances cannot initiate a connection to internet (like running yum update) by themselves.

My setup is as follows:


1 VPC (10.0.0.0/16) with 3 subnets in AZ-a and 3 subnets in AZ-b
3 subnets per AZ (10.120.0.0/19, 10.120.32.0/20 and 10.120.48.0/20) for AZ-a, continues in AZ-b
Internet gateway attached to VPC
Nat gateway with EIP in subnet 10.120.48.0/20 (im not sure if I need this nat gateway)
ELB forwarding traffic to instances in 10.120.32.0/20(AZ-a) and 10.120.96.0/20(AZ-b)
Those instances have only private-ip's
Routing table for 10.120.32.0/20 and 10.120.96.0/0 forwards traffic to 0.0.0.0/0 to inet GW.


With the above setup the instances in 10.120.32.0 and 10.120.96.0 are accessible (through ELB) from the internet. However, if I want to run yum updates or access the internet from SSH on the instances itself, there is no route to internet.

I can fix this by altering the route table for them to redirect 0.0.0.0/0 to the NAT gateway. They then can access the Internet, but then the servers are not available through ELB from internet anymore.

Can somebody assist me in my config please? Am I missing something essential in my design?

Thanks for helping out!

Timon"

Amazon EC2	"Re: Instance available from internet, but no route to internet from Instance
Hello, thanks for posting.

A subnet's internet access is determined by its default route.  This is why your instances can receive traffic through the ELB when your default route points to your IGW.  However, since your instances do not have public IP addresses, they cannot communicate to the internet.

Similarly, when you point your default route to the NAT Gateway, your instances are now able to get out to the internet.  However, inbound traffic is unable to enter the subnet.

The solution is to set up ""public"" subnets (with a default route pointing to an IGW), and ""private"" subnets (default route pointing to a NAT Gateway)

You will place your ELB and your NAT Gateway in the public subnet (so they have access to the IGW), and your backend instances in the ""private"" subnets (giving them a default route to the NAT Gateway).  In this way, you will grant inbound internet access to your ELB, and still grant outbound access to your instances.

To read more about this architecture, you can see this guide: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html

Best regards,

David"

Amazon EC2	"mod_file_cache.so file missing from httpd24-2.4.23-1.65.amzn1.x86_64
we had a problem with deploying an angular application on an AMI (ami-7cd58f16) spun recently. 

we have an older version of the application using the same AMI five days ago. the cloud-init-output.log for this older deployment doesn't pull an updated httpd24 package. it is listing as httpd24-2.4.16-1.62.amzn1.x86_64. it does contain the modules/mod_file_cache.so library.
/usr/lib64/httpd/modules/mod_expires.so
/usr/lib64/httpd/modules/mod_ext_filter.so
/usr/lib64/httpd/modules/mod_file_cache.so
/usr/lib64/httpd/modules/mod_filter.so
/usr/lib64/httpd/modules/mod_headers.so
/usr/lib64/httpd/modules/mod_heartbeat.so


today, another version of the application was spun using our same AMI but cloud-init-output.log shows an update of the httpd24 package.
---> Package httpd24.x86_64 0:2.4.16-1.62.amzn1 will be updated
---> Package httpd24.x86_64 0:2.4.23-1.65.amzn1 will be an update
---> Package httpd24-tools.x86_64 0:2.4.16-1.62.amzn1 will be updated
---> Package httpd24-tools.x86_64 0:2.4.23-1.65.amzn1 will be an update

this brings the version of the httpd24 package to httpd24-2.4.23-1.65.amzn1.x86_64.

we are missing the modules/mod_file_cache.so file in this package update.
# rpm -ql httpd24
...
/usr/lib64/httpd/modules/mod_expires.so
/usr/lib64/httpd/modules/mod_ext_filter.so
/usr/lib64/httpd/modules/mod_filter.so
/usr/lib64/httpd/modules/mod_headers.so
/usr/lib64/httpd/modules/mod_heartbeat.so
/usr/lib64/httpd/modules/mod_heartmonitor.so
...


can this be added back into the package again? i see it was a problem a few years ago:  https://forums.aws.amazon.com/thread.jspa?messageID=197234&#197234.

thanks.

mark

Edited by: mockgeek on Jul 21, 2016 9:01 AM"

Amazon EC2	"Re: mod_file_cache.so file missing from httpd24-2.4.23-1.65.amzn1.x86_64
I'm sorry for the problem. We're looking into the issue right now.

Edit: Argh... yup. We'll get this spun around.  In the meantime, if this is an emergency, you should be able to yum downgrade the package, save off the .so file in a safe place, yum upgrade, replace the file, and continue until we get this hammered out on our end.

Edited by: Michael@AWS on Jul 21, 2016 10:42 AM"

Amazon EC2	"how to bind a task to one specific cpu via EC2 container service
I want to bind my service to one specific cpu to avoid the content switch between processes.
This can be achieved by cpuset option of docker.
But in the setting menu of task definition, I only can change the cpu units (equivalent to cpu-shares)."

Amazon EC2	"DNS Configurations
Hi Team,

I have a domain name purchased from Bigrock. Let's consider it as www.testing.com
At AWS side, I was an elastic load balancer(ELB) which points to my EC2 instance. SSL certificate is installed on my ELB via ACM.

At the domain name's DNS, my configuration is as follows:

1) A Record: Blank
2) MX Records: testing.com -- us2.mx1.mailhostbox.com
3) CNAME records: www.testing.com -- My ELB's fully qualified hostname
IMAP, POP, SMTP, webmail etc. are also present in CNAME
4)  TXT Record: for my email-id

Please let me know if this configuration is okay. I have not included my naked domain (testing.com) in CNAME record since it was conflicting with the MX Record. How can I redirect users visiting testing.com to www.testing.com"

Amazon EC2	"Re: DNS Configurations
Dear All,

Request you to look into this.

Thanks a lot."

Amazon EC2	"Cant connect to my server nor websites are opening from my IP
Hi,

I cant connect to my ec2 server from my personal IP which is 116.0.59.198 , this is an static ip.
All my sites on my server are not opening from this ip but from all other ips everything is working.

my server IP address is 
50.19.4.47

Please someone help,
My business is going in loss.

Thanks."

Amazon EC2	"Re: Cant connect to my server nor websites are opening from my IP
Hello,

I looked up your instance and it seems to be up and running healthily.

Could you please tell me if you're unable to SSH to the instance? If yes, what is the error you're receiving when you try this. Or are you not able to reach your websites?

If you feel that it's just the problem with one IP, you would want to check your local firewall to see if there are any restrictions causing this. Or it could even be an antivirus program blocking you from reaching out to the server.

I put the IP address in the web browser and it takes me to a default web page. If you could please provide more information with the error messages regarding the issue you're facing, I will be able to offer suggestions and solutions.

Anup"

Amazon EC2	"Re: Cant connect to my server nor websites are opening from my IP
Hi,

I have checked this, it looks like that the csf firewall on cpanel is causing this.
Any guide on how it can be fixed.

Thanks."

Amazon EC2	"web application loading slowly
Hi,

We hosted a Web application in one of the Amazon incidence . The Application page loading perfectly in the local host. But when we take same application from outside ( over the public IP) every page refreshes after few seconds in between a White screen comes . Even when we click a Tab event the entire page re-freshers.    What may the issue . When we trace route the Public Ip up to Amazon gateway it is smooth after hitting Amazon gateway to reach our server it takes long time will this cause the issue 

Kindly advise and gives us work around

Thanks 

Regards,
Jai"

Amazon EC2	"Same EIP, same SSL certificate - Unable to establish a connection
Hello, new user here.

I have an issue where SSL connections generate an error after I re-assign an EIP to the same instance in another vpc.

I have a small SSL website (Wordpress on a virtualmin, ubuntu stack) on an EC2 instance which I'd like to move from its current vpc to another.  I've tried the following:

(note: my aim was to have the website down less than 30 seconds)

1) created an instance in the target vpc, then stopped it, detached and deleted the volume.
2) Took a snapshot of the current instance (while running) - was no traffic.
3) made a copy of the snaphot
4) generated a new volume from the copied snapshot
5) attached the volume to the target instance
6) Disassociated the EIP from the current instance and associated it to the new instance. (my 30 seconds downtime)

Everything else was fine with the server: ssh, virtualmin access with same cert as main website, apache etc. Except the main website generates an SSL error, stating that the browser is unable to establish a connection. There are no entries or references of my connection attempt in either apache's access or error logs.

I know I created a snapshot while the instance was active, could that have created the problem? (I was on alert for sure but I would have expected the instance to crash or fail quickly...not fail only for ssl)

I tried a new browser (that did not have the cert cached anywhere) and it failed with the same SSL error.

Has anyone else had this problem?

Could I have achieved the same result (ie: less than 30 secs down) with a quicker method?

Does something else about the EIP for the instance get saved along with the certificate in a browser?

Thanks

Edited by: mgadmin12 on Jul 20, 2016 6:19 PM"

Amazon EC2	"monitoring software
i'm trying to find a (preferably free/open-source) monitoring software package that can work on distributed EC2 machines.i've looked at:nagios, zenoss, hyperic, groundwork, and monitwhen I start or stop new EC2 instances, I want them to be able to ""register"" with the main reporting server (which I then access through its web server).  Zenoss has automatic discovery of nodes, but I won't know the IP addresses of the machines in advance, and the machines won't be in the same subnet on EC2 (even if they are, other instances will also be there).I'm avoiding hyperic because I don't want to run Java, Groundwork is using Nagios - and Nagios has autodiscovery plugins that will likely have the same issues as Zenoss.m/monit is the new beta version of monit to handle multiple machines -i'm going to see how this handles the connections between machines.I'm new to SNMP, but is there some way machines can ""register"" with the main reporting server using a password, instead of having the server poll machines with specific IP addresses?would I have to write some script to record the IP address of each new instance coming online/offline, and then have the monitoring software use that?what solutions are people using?much obliged"

Amazon EC2	"Re: monitoring software
Hi,

I did something similar you want with the combination of mon+collectd:
http://mon.wiki.kernel.org/index.php/Main_Page
http://collectd.org/

When new instance starts, it begins to send collectd statistics to monitoring node. Script on monitoring node just notices new directory (=host) with RRD data, refreshes mon's configuration and reloads deamon.

Vlastimil Holer

Message was edited by: vholer"

Amazon EC2	"Re: monitoring software
skunkwerk,Not sure if you've found what you're looking for, but there is a new company developing monitoring and management services for AWS (and eventually other platforms). They are looking for beta customers if you are interested. If so, you can contact me at willw1@gmail.com and I'll put you in touch."

Amazon EC2	"Re: monitoring software
I am heavily biased, as I work for Zenoss, but give us a try. EC2 support using cloudwatch is available in our opensource product. We alsoprovide stellar support and an enterprise version. We have a number of users running zenoss in the cloud and monitoring cloud resources successfully.If you register each instance in Zenoss, you can monitor them with ssh if you have enterprise, or snmp (comes on most linux installs) if you are on the open source version.I have also heard and seen good things about Rightscale, though they only provide minimal monitoring and control."

Amazon EC2	"Re: monitoring software
I'm a big fan of Hyperic, and usually just place JRE as a sub-directory of the Agent directory and point JAVA_HOME there (specifically for the Hyperic-Agent, not for the entire system) via a batch file that starts the agent.Whichever monitoring solution you choose, keep in mind that you will be much better off focusing on your service, not machines - this is true for traditional IT and much more for Cloud environments.If you are solely focused on monitoring instances, then you will have a very hard time distinguishing between an instance that was involuntarily terminated as an error or simply scaled down because it was no longer needed.I suggest focusing on your service as a whole (like measuring application response) or some technical measure like number on messages in an SQS queue.Regards,Jonathan@CloudStacking.com"

Amazon EC2	"Re: monitoring software
Hi Nicholas,
I'm testing out zenoss 4.2.5 but graphs are not showing any data from cloudwatch.
Do you know if some other folks had similar issue? I looked through zenoss forum but there's not much on that issue.

Thank you"

Amazon EC2	"cannot make multiple spot request using boto3 on the same day
Greeting.

I can successfully make spot request and launch the instance using boto3
However, when I terminate the instance and make another requeset
It does not work !?

Is there any work around ?
I have tried to clone my AMI and then use the clone AMI
change the price or change the number of instance in the spec
but it is still not working ???

Edited by: nericlau on Jul 20, 2016 11:58 AM

Now I am getting this error..

ClientError: An error occurred (IdempotentParameterMismatch) when calling the RequestSpotInstances operation: Arguments on this idempotent request are inconsistent with arguments used in previous request(s).

Edited by: nericlau on Jul 20, 2016 1:12 PM"

Amazon EC2	"Cant access through keys!
So, I had an old m1.small with EBS that I had SSH password based authentication open.

After I created a new instance from the same AMI (private created), I cannot seem to log in through Keys, or MindTerm. I tried user ec2-user and root.

I had a snapshot , so I created a volume out of it, and attached as /dev/sda1 and I have the keys that was generated while launching the instance, and I did everything possible.. chmod , change usernames etc.., check firewall etc, but whatever I do - I cannot access the Instance. 

What are my options here? AWS support apparently stopped, so I can't even reach out for them to take a look at this if there was anything specific. Since the host hardware retirement created this whole mess.

Update:
FYI - I just tried the solution mentioned here https://forums.aws.amazon.com/thread.jspa?threadID=235470&tstart=0 - that is supposed to correct any permissions on the instance. It did not help either. 

I still get :
Permission denied (publickey).

Edited by: oldmaven on Jul 18, 2016 10:34 AM"

Amazon EC2	"Re: Cant access through keys!
Had to launch a totally different instance from a different AMI altogether, then mount it and correct the sshd_config. Not sure why it got tampered with. Anyway, solved. Thanks!"

Amazon EC2	"EC2 IMPORTINSTANCE stuck at 53%
Hello,
I have read previous threads of potential fixes for this issue, but I still am having issue with conversion task being stuck at 53%.

IMPORT CLI
ec2-import-instance C:\vmdk\XXXX-disk1.vmdk -f VMDK -t t2.medium -a x86_64 -b XXXXXX-ec2-import -p Linux -o ] -w [

CONVERSION DETAILS
TaskType        IMPORTINSTANCE  TaskId  import-i-fhc18gg1       ExpirationTime  2016-07-27T18:08:36Z    Status  active  StatusMessage   Progress: 53%   InstanceID      i-79ea8c5d
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   3161206784      VolumeId        vol-d6d0510e    VolumeSize      100     AvailabilityZone        us-gov-west-1a  ApproximateBytesConverted       3161201312
Status  completed

The .VMDK was exported via VMware Workstation Pro 12 using  the VMnet8 (NAT) NIC.

This is a Redhat 6.7 RHEL with volumes sda with sda1, sda2, and sda3 (9 LVMs) with sda2 being a SWAP drive. eth1 is set to DHCP and DNS pointing to 8.8.8.8 just to verify IP conn to internet, no media drives (CD) mounted, but the problem persists. Can someone at AWS GovCloud support assist?

Any help is GREATLY appreciated."

Amazon EC2	"Extremely slow I/O to EBS volumes
We've had a problem with extremely slow EBS access on asg scale up, this results in php timing out on just starting up. From the last time or two, this persisted for a hour or so, and then recovers. 

This has happened 5-10 times in the last month, always on the same ASG and the same load balancer. Spinning up another node immediately after this failed one hasn't had an issue. Even using yum to install tools when looking at the issue took 5+ minutes per install

None of the data is important, but this has caused errors and is hard to catch and deal with programmatically, as sometimes services can still finish in time. 

instance: i-3ede0ca1
volume: vol-ef8ba73c

sudo hdparm -t /dev/xvda
/dev/xvda:
 Timing buffered disk reads:  18 MB in 20.05 seconds = 919.15 kB/sec  

from the next node in the asg:
 sudo hdparm -t /dev/xvda
/dev/xvda: 
 Timing buffered disk reads: 238 MB in  3.04 seconds =  78.36 MB/sec"

Amazon EC2	"Amazon EC2 instances scheduled maintenance - took down my website
Email last week from Amazon: One or more of your Amazon EC2 instances is scheduled for maintenance on 2016-07-20 for 2 hours starting at 10:00 UTC. During this time, the following instances in the us-west-2 region will be unavailable and then rebooted:
  i-905bc855

It's been 3 hours - website is dead.
However, I can login and see my html file via Filezilla.
Tried a ReBoot - still nothing:

Please help!"

Amazon EC2	"Event for EC2 creation.
Is there any way to trigger an event upon EC2 instance creation?  We have an app that launches instances via API, I'd like to write a lambda function that responds to these events, but can't seem to find where these events can be created outside of the CloudTrail API log.  

Thank you in advance.  I wouldn't have asked if I hadn't already googled."

Amazon EC2	"Suddenly cannot connect to my Ubuntu image: Server refused our key
I've been building a web server for the past two months based on an Ubuntu AMI using t2.small, and things have been going well. Tonight I started working on the web server again, and although the actual web site is still working I can no longer log into the image using SSH (I use Putty on Windows). I have not changed anything that would affect my ability to log in. The Putty Fatal Error dialog box shows the following:

Disconnected: No supported authentication methods available (server sent: publickey)

The console output is:

Using username ""ubuntu""
Server refused our key

Here's the Putty event log (with DNS/IP address masked):

2016-07-18 22:53:05	Looking up host ""xxxx.xxxx.xxx.xxxxx""
2016-07-18 22:53:05	Connecting to xxx.xxx.xxx.xxx port 22
2016-07-18 22:53:05	We claim version: SSH-2.0-PuTTY_Release_0.66
2016-07-18 22:53:06	Server version: SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.6
2016-07-18 22:53:06	We believe remote version has SSH-2 channel request bug
2016-07-18 22:53:06	Using SSH protocol version 2
2016-07-18 22:53:06	Doing Diffie-Hellman group exchange
2016-07-18 22:53:06	Doing Diffie-Hellman key exchange with hash SHA-256
2016-07-18 22:53:06	Host key fingerprint is:
2016-07-18 22:53:06	ssh-rsa 2048 5a:9c:a5:49:9a:94:13:4e:b0:02:26:05:4e:24:17:ba
2016-07-18 22:53:06	Initialised AES-256 SDCTR client->server encryption
2016-07-18 22:53:06	Initialised HMAC-SHA-256 client->server MAC algorithm
2016-07-18 22:53:06	Initialised AES-256 SDCTR server->client encryption
2016-07-18 22:53:06	Initialised HMAC-SHA-256 server->client MAC algorithm
2016-07-18 22:53:06	Reading private key file ""E:\Documents\sbd-dev.ppk""
2016-07-18 22:53:07	Offered public key
2016-07-18 22:53:07	Server refused our key
2016-07-18 22:53:07	Disconnected: No supported authentication methods available (server sent: publickey)

When I try to connect as root I get the message ""Please login as the user ""ubuntu"" rather than the user ""root"".

Instance details:
Instance Id: i-7ae47be7
Type: t2.small

Help would be greatly appreciated!"

Amazon EC2	"Re: Suddenly cannot connect to my Ubuntu image: Server refused our key
Hello,

We don't see any issues with your instance, ""Server refused key"" message comes when the ssh files on sever side have incorrect permissions. This issue is at the operating system layer and not related to AWS.

To fix this problem you need to stop your instance, detach the root volume, and attach it to another temporary instance in your account. From there you can mount the volume and fix ssh issues.

See below thread for further steps and guidance. 

https://forums.aws.amazon.com/thread.jspa?messageID=702837

Regards,
Umair A."

Amazon EC2	"Re: Suddenly cannot connect to my Ubuntu image: Server refused our key
Thanks, that worked.

I'm still baffled by how this could have happened in the first place. It was working one day, then not the next."

Amazon EC2	"High latency.
Hello, I'm getting high latency on my server. It is located within the same country, I get 50ms on other servers and 200ms on my instance. Here is a traceroute:

1    23 ms    57 ms    21 ms  10.9.241.48
  2    26 ms    27 ms    22 ms  115.255.237.93
  3     *       25 ms    26 ms  115.255.237.85
  4     *        *        *     Request timed out.
  5    52 ms    50 ms    51 ms  xe-2-0-1.0.pjr03.mmb004.flagtel.com http://80.77.0.121
  6   183 ms   183 ms   192 ms  ge-3-0-0.0.pjr01.mmb004.flagtel.com http://85.95.25.6
  7   184 ms   185 ms   184 ms  so-1-0-0.0.pjr01.hkg005.flagtel.com http://85.95.25.237
  8   181 ms   182 ms   183 ms  ge-3-2-0.0.pjr01.wad001.flagtel.com http://85.95.25.130
  9   183 ms   181 ms   210 ms  85.95.27.78
 10   302 ms   298 ms   299 ms  xe-0-0-0-13.r01.tokyjp03.jp.bb.gin.ntt.net http://61.213.160.221
 11   304 ms   312 ms   303 ms  ae-15.r31.tokyjp05.jp.bb.gin.ntt.net http://129.250.6.116
 12   307 ms   306 ms   308 ms  ae-5.r21.sngpsi05.sg.bb.gin.ntt.net http://129.250.7.39
 13   304 ms   301 ms   302 ms  ae-13.r00.sngpsi02.sg.bb.gin.ntt.net http://129.250.4.74
 14   388 ms   387 ms   388 ms  ae-0.amazon.sngpsi02.sg.bb.gin.ntt.net http://116.51.17.46
 15   222 ms   216 ms   212 ms  52.93.8.120
 16   209 ms   212 ms   209 ms  52.93.8.129
 17   200 ms   197 ms   199 ms  54.239.42.23
 18   205 ms   204 ms   207 ms  52.95.67.96
 19   207 ms   207 ms   207 ms  52.95.67.91
 20   221 ms   215 ms   228 ms  52.95.67.2
 21   210 ms   211 ms   211 ms  52.95.67.17
 22   208 ms   195 ms   196 ms  52.95.67.178
 23     *        *        *     Request timed out.
 24     *        *        *     Request timed out.
 25     *        *        *     Request timed out.
 26   208 ms   206 ms   208 ms  ec2-52-66-82-56.ap-south-1.compute.amazonaws.com http://52.66.82.56

Trace complete.

I would really appreciate someone who helps me 

Edited by: HellRanger on Jul 20, 2016 3:05 AM"

Amazon EC2	"How to remove PTR record from an IP Address?
Hi Guys,

Can someone assist me and help me remove a PTR record please.

The IP address is 54.252.157.94

Regards,
Simon A

Edited by: szymon_2014 on Jul 19, 2016 3:19 AM"

Amazon EC2	"Re: How to remove PTR record from an IP Address?
Hello szymon_2014,

Thank you for your post. 

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 1814612301 for further information and assistance.

Should you have any billing or account related queries in future, you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Best regards. 

Jayd J."

Amazon EC2	"Unable to connect to instance using ssh
Hi,

We are trying to access the server with id: i-3515dfb9 via ssh.  The security group allows ssh.
We were able to access this server via ssh till last Friday (15th Jul 2016). But, when we tried ssh access today got the following error.

Using username ""ec2-user"".
Server refused our key"

Amazon EC2	"Re: Unable to connect to instance using ssh
Hello,

Please see below thread for a fix of similar issue.

https://forums.aws.amazon.com/thread.jspa?messageID=702837

Regards,
Umair A."

Amazon EC2	"Re: Unable to connect to instance using ssh
Thanks. The problem is resolved."

Amazon EC2	"Microsoft Windows Server 2012 R2 RTM with SQL Server 2014 Standard -> SP2?
The AMI called ""Microsoft Windows Server 2012 R2 RTM with SQL Server 2014 Standard"" currently deploys SQL Server 2014 SP1;  when should I expect it to start deploying SP2?

Thanks!

Edited by: lvx15 on Jul 15, 2016 6:04 AM"

Amazon EC2	"Re: Microsoft Windows Server 2012 R2 RTM with SQL Server 2014 Standard -> SP2?
Hello

Software and service packs tied to an AMI is fixed, and will not update in future, as it contains point in time snapshots for when the AMI was created.  You will have to update the instance made from the AMI with SP2 manually."

Amazon EC2	"API question: how to make an AMI public
in the web console i can select an AMI i own an take action ""Modify Image Permissions"", select ""Public"", and do ""Save"" to allow any account to launch my AMI.  what is the API eqivalent to this?  fyi, i am using botocore in python to implement automating this as part of building the AMI."

Amazon EC2	"Re: API question: how to make an AMI public
Hello,

Thank you for reaching out to us. You can use the ec2-modify-image-attribute API to make an AMI public. 
To learn more please check the below links:
[1] http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-ModifyImageAttribute.html
[2] http://boto3.readthedocs.io/en/latest/reference/services/ec2.html#EC2.Image.modify_attribute
[3] http://docs.aws.amazon.com/cli/latest/reference/ec2/modify-image-attribute.html


Regards
Masudur Rahaman Sayem"

Amazon EC2	"Re: API question: how to make an AMI public
thank you.  the info i needed was deep in the docs and confusing by how the web console simplified this.  the answer i needed was to add group all.  really simple but maybe too simple."

Amazon EC2	"Inconsistent internal connectivity between EC2 instances
I have an Ubuntu 14.04 instance that stays up 24/7.  Throughout the day, I spin up multiple instances (also 14.04, via Ansible) that connect to this server.  I've been having problems with some (not all) of the Ansible provisioned servers connecting to the 24/7 server.  For example, I can spin up 5 instances and 2 will be able to connect but the other 3 won't (as confirmed by ping timeouts from the Ansible servers to the 24/7 server after all 5 instances have been up and running for 10+ hours).  Because these are all provisioned from the same playbook and were previously functioning just fine, I don't suspect this to be an Ansible problem.

One observation I've made is that the networking suddenly starts working from the dynamic instance if I ping it from the 24/7 instance.  It's almost like it wakes something up in the network layer.

This is in the us-west-1b region and has been happening since about Friday.  

Anyone familiar with such a problem?  

Thank you"

Amazon EC2	"Re: Inconsistent internal connectivity between EC2 instances
The only time I have ever seen this kind of behavior was due to a bug in HP ProCurve switch firmware where it wasn't expiring old MAC addresses properly.  Obviously AWS isn't running that kind of hardware for VPC networking, but it might help provide some kind of hint.  

I assume Ansible isn't doing anything with the network interfaces like changing the subnet mask or anything that might cause the instance to not recognize it's on the same subnet as the other server?"

Amazon EC2	"Re: Inconsistent internal connectivity between EC2 instances
This turned out to be an issue with ARP caching in the OS.  Business level support came up with the following, which seems to have solved my issue. 

""Linux kernel 3.13 ARP behavior can leave an old MAC address cached, causing TCP connections to fail with a timeout. This effects any instance with a newer kernel, including Ubuntu 14.04:

https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1331150

This has been reportedly fixed in 3.19 kernel version, which can be installed on 14.04 opting into the “LTS Hardware Enablement Stack"" (https://wiki.ubuntu.com/TrustyTahr/ReleaseNotes#LTS_Hardware_Enablement_Stack) by running: 

sudo apt-get install linux-signed-generic-lts-vivid

To confirm for sure, on the server side run ""sudo tcpdump -nn -e port XXX"" and try to connect. You should see the SYN coming in and the SYN-ACK reply with the incorrect MAC address in the Ethernet header.

To remove this new caching behavior, use the following:

sudo sysctl -w net.ipv4.neigh.default.gc_thresh1=0

To make the change permanent after a reboot, add it to a sysctl script such as:

echo 'net.ipv4.neigh.default.gc_thresh1 = 0' | sudo tee /etc/sysctl.d/55-arp-gc_thresh1.conf"""

Amazon EC2	"How to get the data from Nagios and then put that data into cloudwatch?
How to get the metric data from Nagios and then put that into cloudwatch. I am trying this by using CloudWatch API by following this link https://github.com/aws/aws-sdk-java/tree/master/aws-java-sdk-cloudwatch. Can anyone tell me where and what code we have to write in this API(API which is mentioned in above link) to get a particular metric data from Nagios and then put that metrics into CloudWatch."

Amazon EC2	"GovCloud support for encrypted boot volume
Does GovCloud support encrypted boot volumes yet?  Or is there a timeline to support it?

When I attempt to launch an instance with an encrypted boot volume in the GovCloud region, I receive the following error:
""Launch Failed""
""An encrypted boot volume is not permitted on launch"""

Amazon EC2	"Re: GovCloud support for encrypted boot volume
Hello,

Thank you for reaching out to us. I reached out to our GovCloud team and confirmed that launching an AMI from an encrypted root volume is not supported. We have an active feature request for this. However I can not give a timeline of when/if this feature will be available.

Regards
Masudur Rahaman Sayem"

Amazon EC2	"EC2 Management page: An error occurred fetching instance data
Hello,

We can't access the EC2 management page for U.S. East (N. Virginia). This message shows up in the list of instances:
An error occurred fetching instance data: The service is unavailable. Please try again shortly.

Are there any service advisories or known outages and when they will be resolved?
http://status.aws.amazon.com/ shows everything as green and everything operating normally.

Thanks,
Will"

Amazon EC2	"Re: EC2 Management page: An error occurred fetching instance data
According to the AWS status page there are widespread issues throughout US-East-1"

Amazon EC2	"Re: EC2 Management page: An error occurred fetching instance data
Hello,

API calls in us-east-1 are currently impacted as you can see here:
http://status.aws.amazon.com/


11:27 AM PDT We are investigating increased API error rates in the US-EAST-1 Region.
11:50 AM PDT We can confirm increased error rates for the EC2 APIs and are currently working to resolve. We also observed isolated periods of impaired network connectivity for some EC2 instances.
12:21 PM PDT We have identified the root cause for error rates accessing the EC2 APIs and EC2 Management Console and are currently working to resolve. We observed isolated periods of impaired network connectivity for some EC2 instances, however running instances are currently operating normally.


Please follow the Service Health Dashboard for the most up to date information. 

Regards,
Nick"

Amazon EC2	"Re: EC2 Management page: An error occurred fetching instance data
Hello, 

We're now reporting the issues seen appear to be resolved. You can see this on our Service Health Dashboard here:
http://status.aws.amazon.com/

1:14 PM PDT Between 11:15 AM and 1:05 PM PDT, we experienced elevated error rates for the EC2 APIs and the EC2 Management Console. Between 11:15 AM and 11:27 AM, we also experienced brief intervals of impaired network connectivity for some EC2 instances. These issues have been resolved and the service is operating normally.

Please let us know if you're seeing further issues. 

Regards,
Nick"

Amazon EC2	"Data transfer issue and network interfaces
Hello

I need your advice to save money in our AWS acount. We are being charged for a big amount of data transfer (5TB) and we need to stop it.

 Our architecture consists of a load balancer distributing incoming connections to one instance through two subnets. The first of these subnets is in the same AZ (availability zone) where the instance is, but not the second one. So we have the following case:
One user navigates to our website using his public IP. The request is received by the Load Balancer that makes a request to the instance through an internal IP in the first subnet (AZ 1). The instance is reached in the AZ 2 and responds to request sending data to AZ 1. Data arrives the to Load Balancer which sends the data to the user trough his public IP. Data has gone from AZ 2 to AZ 1 and then to the internet. I understand here that data has been transferred out twice in terms of AWS Billing policy.

Is this assumption correct or am I missing something? If it is right, can I modify the network interfaces to force data to travel only through AZ 2? Can I have undesired effects detaching a network interface from a Load Balancer?

Thank you!"

Amazon EC2	"how to measure and monitor the speed of download of a file with psftp
i suspect the speed is not fast enough, because i wait for a quite long time for a 7GB file

my first script generated a 7GB file but since hard disk space is not enough, it 

can only have 7GB, actually i guess second script will generate 10GB file

slow download speed when i download 7GB csv from x1.32Large on-demand instance

my ISP is Hong Kong Broadband and ip address is static ip address 183.179.181.251

if i finished generation of a 50GB file, i afraid that it will consume much time to download this file and used much money to wait it download"

Amazon EC2	"Re: how to measure and monitor the speed of download of a file with psftp
Hello,

I would recommend you to benchmark your instance bandwidth speed by using iperf tool. 

https://www.linode.com/docs/networking/diagnostics/diagnosing-network-speed-with-iperf

Regards,
Umair A."

Amazon EC2	"Bandwidth
why bandwidth so expansive

EC2 m3.medium RDS m3.large running gaming only. its seems every month bandwidth more than 10,240 GB.
This is unacceptable. I am very very frustrated.please give me solution anyone."

Amazon EC2	"Re: Bandwidth
Hello,

You can open a support case with AWS billing and accounts team from the support center to get in touch with them. Billing team will be able to answer your queries.

Regards,
Umair A."

Amazon EC2	"not enough space left in x1.32large on-demand instance
x1.32large should have 2 x 1920GB SSD hard disk
mentioned in 
https://aws.amazon.com/tw/ec2/pricing/

but space i used only 6.6GB for writing to csv file, it waste me HKD2XX 

is there any configuration needed to use 2*1920GB space?

ubuntu@ip-172-31-8-212:~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
udev            961G   12K  961G   1% /dev
tmpfs           193G  336K  193G   1% /run
/dev/xvda1      7.8G  7.4G  188K 100% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
none            5.0M     0  5.0M   0% /run/lock
none            961G     0  961G   0% /run/shm
none            100M     0  100M   0% /run/user

Traceback (most recent call last):
  File ""logic3.py"", line 298, in <module>
    mresult,okornot = DFS(b, 4, 4, mylist, path, f, """", [])
  File ""logic3.py"", line 283, in DFS
    path2,okornot = DFS(b, deep-1, maxx, sourceoperators, [], f, thislayerstring, originlist)
  File ""logic3.py"", line 230, in DFS
    f.write(str(b[j][5]))
IOError: Errno 28 No space left on device"

Amazon EC2	"Re: not enough space left in x1.32large on-demand instance
Hello,

Could you please provide us the instance id so that we can take a look? Note that when you launch a new instance you have to explicitly add the local instance store disks to your instance in storage section of the instance launch menu.

Once the instance is launched instance store disk can not be added afterwards, if you launched instance with instance store disk you can run ""lsblk"" command to check if disks are present.

Regards,
Umair A."

Amazon EC2	"Cannot access instance online through IP
I set up a running Linux instance and tried to connect to it using its ip, but it times out.
The security group assigned to it has inbound MySQL/Aurora, and HTTP,
I added an HTTP rule that has my ip as its source and it still doesn't work."

Amazon EC2	"Re: Cannot access instance online through IP
Hi,

I have looked at instance ID i-078a99603b941b84c. The instance allows incoming connection on port 3306 and 80 from resources with security group sg-b3fa6ed5. This means only resources within the VPC that use this security group will be permitted to access your instance. What is the source IP address of the device you are trying to connect from?

You will need to change the security group and add your source IP address. Please confirm if instance in question is instance ID i-078a99603b941b84c.

Regards,

Souza S"

Amazon EC2	"Re: Cannot access instance online through IP
Yes, that is the instance ID. Im trying to connect from My IP, I'm not sure if i should put that here for security reasons, but I have tried to add a rule with my IP as the source, and I am still unable to connect."

Amazon EC2	"Re: Cannot access instance online through IP
Hi,
checking again the instance, I can see that an additional rule was created to allow inbound traffic to port 80 from a particular public ip, so you should be able to connect, from that public ip, to the instance on port 80 for example with a browser.
This would be true assuming that the Operating System or the application running on it is listening and accepting connections on port 80.

I would suggest to test if this is true by trying to connect to port 80, for example using telnet,  both from the allowed public ip and from another instance with security group sg-b3fa6ed5 attached.

If it still does not work you might probably want to SSH to the machine (You would need to add an inbound rule opening port 22), and check that the application listening on port 80 is correctly running and allowing traffic.

Hope this helps

Andrea S."

Amazon EC2	"Re: Cannot access instance online through IP
Hi,

I tried both, including SSH to the machine by adding a rule. It still did not work."

Amazon EC2	"Re: Cannot access instance online through IP
Hi,

It seems that no application is listening on Port 80 or Port 3306 on your instance.

You might need to check up on the services running on the instance and make sure it is listening on the port you are trying to connect to.  Then you need to make sure that you have specified appropriate rules for allowing access from the Source to the instance on the Security Groups.

Hope this helps,
Jayakrishnan L."

Amazon EC2	"Re: Cannot access instance online through IP
So If I run, for example, apache, on it, I will connect?"

Amazon EC2	"Alarm triggered but no action taken
Hi, 

Maybe someone can throw some light on this. I've created an alarm for an ec2 instance that when statuscheckfailed >=1 for 2 minutes then it reboots the instance. This worked as expected except for yesterday. 

The alarm was triggered and it stayed triggered, but it never did the relevant action connected to the alarm. Anyone ever experience this or have an idea why this would happen?"

Amazon EC2	"Important to know how can I use instance for my users.
I've 3 questions.

1- I've website and getting 80% users hits from INDIA (Asia - south). I'd like to know if instance-Mumbai will help website speed and performance if we switch to or create instance for MUMBAI location.

2- If yes, then how can we do migrate instance? Will it take down time for my running website?

3- Can we run 2 instance with same cost? Means, if we create any new instance, does it add cost in current cost? As we will have same no of users hits after adding the new instance. Or can we manage it by using instance type. Like if we are getting hits mostly from MUMBAI location then we can use big instance and keep OREGON with small instance where we will get less or small numbers of hits."

Amazon EC2	"Please help me... I could not login the VPN from remote desktop from PC
Please help me... I could not login the VPN from remote desktop from PC

after i am disconnect on of the instance in AWS to stop the subscription fee 

attached the screen shot"

Amazon EC2	"Re: Please help me... I could not login the VPN from remote desktop from PC
Does the NACL and Security Groups allow RDP traffic? Is the server in a public subnet attached to an IGW that would allow you to connect to the instance? Does the instance have an EIP assigned to it?"

Amazon EC2	"Error Code: InvalidAddress.Locked
Hi,

I see that when this error happen it`s because one DNS Reverse is configured, and it`s true, and only support can release this EIP. I`d like to ask you for release, i don`t need it any more.

Error:
54.94.230.127: The address with allocation id eipalloc-c905e4ac cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 0bc3d543-40c5-4422-a651-dce1644d2547)

Thanks"

Amazon EC2	"Re: Error Code: InvalidAddress.Locked
Any Help?"

Amazon EC2	"Cannot start instance after reboot
Hi all,

Our server could not start after reboot. I can see in the System log:
Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
systemd[1]: Failed to insert module 'autofs4'
[[32m  OK  [0m] Started Show Plymouth Boot Screen.
 
[[32m  OK  [0m] Reached target Paths.
 
[[32m  OK  [0m] Reached target Basic System.
 
%Gdracut-initqueue[248]: Warning: dracut-initqueue timeout - starting timeout scripts
 
Buffer I/O error on device dm-2, logical block 10565616
Buffer I/O error on device dm-2, logical block 10565616
[[32m  OK  [0m] Found device /dev/mapper/ol-root.
 
         Starting File System Check on /dev/mapper/ol-root...
 
Buffer I/O error on device dm-2, logical block 10565616
Buffer I/O error on device dm-2, logical block 10565616
[[32m  OK  [0m] Started File System Check on /dev/mapper/ol-root.
 
[[32m  OK  [0m] Started dracut initqueue hook.
 
         Mounting /sysroot...
 
[[32m  OK  [0m] Reached target Remote File Systems (Pre).
 
[[32m  OK  [0m] Buffer I/O error on device dm-2, logical block 10565616
Reached target RBuffer I/O error on device dm-2, logical block 10565616
emote File Systems.
 
[[1;31mFAILED[0m] Failed to mount /sysroot.
 
See 'systemctl status sysroot.mount' for details.
 
[[1;33mDEPEND[0m] Dependency failed for Initrd Root File System.
 
[[1;33mDEPEND[0m] Dependency failed for Reload Configuration from the Real Root.
 
[[32m  OK  [0m] Stopped dracut pre-pivot and cleanup hook.
 
[[32m  OK  [0m] Stopped target Initrd Default Target.
 
[[32m  OK  [0m] Reached target Initrd File Systems.
 
[[32m  OK  [0m] Stopped dracut mount hook.
 
[[32m  OK  [0m] Stopped target Basic System.
 
[[32m  OK  [0m] Stopped target System Initialization.
 
         Starting Emergency Shell...
 
 
Generating ""/run/initramfs/rdsosreport.txt""
Buffer I/O error on device dm-2, logical block 10565616
Buffer I/O error on device dm-2, logical block 10565616
Buffer I/O error on device dm-2, logical block 10565616
Buffer I/O error on device dm-2, logical block 10565616
 
 
Entering emergency mode. Exit the shell to continue.
Type ""journalctl"" to view system logs.
You might want to save ""/run/initramfs/rdsosreport.txt"" to a USB stick or /boot
after mounting them and attach it to a bug report.
 
 
:/# 

Could anybody help? What's wrong and how can I repait it?
AWS doesn't support kvm?"

Amazon EC2	"ELB & httpoxy?
From https://httpoxy.org/ -

httpoxy is a set of vulnerabilities that affect application code running in CGI, or CGI-like 
environments. It comes down to a simple namespace conflict:

RFC 3875 (CGI) puts the HTTP Proxy header from a request into the environment variables as 
HTTP_PROXY
HTTP_PROXY is a popular environment variable used to configure an outgoing proxy
This leads to a remotely exploitable vulnerability. If you’re running PHP or CGI, you should block the 
Proxy header now. Here’s how.

httpoxy is a vulnerability for server-side web applications. If you’re not deploying code, you don’t 
need to worry.

Is there any way that we can block the Proxy headers at the ELB level?"

Amazon EC2	"ec2 t2.micro not responding after cpu spike
Hi,
I'm using my EC2 instace: i-0b19428cf4ca48ef0 to perform some cron scheduled tasks, so as excepted my cpu usage has a spike every time a task is performed.
The issue is, although the spike never teaches a 100% (I believe the top I've seen was 60%), something the instance just stops responding. When I wait for a bit, I see the CPU went back down to around 0, but the instance is still not responding, and this is solved only by stop start.

Any advice would be highly appreciated"

Amazon EC2	"Downloading video from youtube ,both download and upload unlimited ?
Hello,

I have just started with the AWS Free Usage Tier and I see the Data Transfer limit to be 15 GB of bandwidth out aggregated across all AWS services. 

Does this mean I would not be charged for any internal traffic, like downloading a video from youtube to directly on the server and upload video to youtube, both upload and download ,limited or unlimited .... month or 1 year

Please advice

Thanks,"

Amazon EC2	"Why does Max CPU usage remain under 50% for a single app/process?
I use both r3.2xlarge and c4.8xlarge instances to run electrical simulation (under Win2008) that is both CPU and RAM hungry. However, in the task manager I could only see 50% CPU utilization under full load. If I run 2 such processes in parallel I can get to 100%. I tried the same on a powerful desktop (under Win7) and it always gets to 100%.
How do I fix this behavior? The simulation software supports a multi-core environment but somehow EC2 with WIN2008 limits resources for a single app.

PS in CloudWatch I see 50% of logged CPU utilization for both r3.2xlarge and c4.8xlarge.

Edited by: tdmi on Jul 18, 2016 6:29 AM"

Amazon EC2	"DNS setup
How do I setup DNS for EC? How do I setup nameservers?"

Amazon EC2	"Re: DNS setup
That depends on what you are trying to accomplish.  What are you trying to accomplish?"

Amazon EC2	"Re: DNS setup
I'm attempting to set up a DNS server as well.

I want to use it for email and website name resolution right now.  The domain registrar that I purchased my domain through does not provide this service so, I thought I would install BIND9 on my AMI.

I transferred the name server information at the registrar to point to the AMI server and Elastic IP that was assigned to me but, it's not resolving by name.

I can get to the website via the Elastic IP, no problem.

I know I'm missing something.  I've set up several DNS servers but, I would not consider myself an expert.  

Any help would be greatly appreciated."

Amazon EC2	"Re: DNS setup
Have you opened up the necessary protocol/ports in your instance's security groups, like UDP on port 53?"

Amazon EC2	"Re: DNS setup
Hi James,  

Thank you for responding.  Yes, I did open up port 53, but when I initiated it, it only said TCP was available, it did not mention anything about UDP.  

I was hoping that it was including UDP by default since I know that DNS activity on port 53 is usually using the UDP protocol.

Here is the command I used:

ec2-authorize default -p 53

Is there something more that should be done to turn on UDP access as well or should that cover it?

Mike"

Amazon EC2	"Re: DNS setup
Ok, I just figured out that I had to specify UDP so, I ran the following:

ec2-authorize default -P UDP -p 53

and recieved:

GROUP		default	
PERMISSION		default	ALLOWS	udp	53	53	FROM	CIDR	0.0.0.0/0

So, port 53 should be accessible via UDP now.

Still working on things though."

Amazon EC2	"Re: DNS setup
James,

In a moment of clarity, I think I might have just figured it all out.

I will post here tomorrow with the results."

Amazon EC2	"Re: DNS setup
OK, after I ran the following:

ec2-authorize -P UDP -p 53 

The port opened up for DNS traffic via the UDP protocol and now everything is working.

I had to make a couple minor changes to the DNS server as well but, nothing major."

Amazon EC2	"Re: DNS setup
Hello,
I have two static websites hosted, one in S3 and the other in Azure. For the one hosted in S3, I have DNS through godaddy. I took the s3....whatever.com public url and setup a DNS forward in go daddy with URL masking. It works fine.

For the second site, the URL from azure is http://ritesourceit.azurewebsites.net/. it was working fine until I had the DNS forward setup in godaddy. I wanted to use Route53, so i moved it from godaddy to Route53. But i'm unable to setup the DNS forward for www.ritesourceit.com to http://ritesourceit.azurewebsites.net/. 
Regards,
Raj"

Amazon EC2	"Re: DNS setup
You might also need TCP port 53 open, too.  Otherwise, DNS gets a little bit strange when it tries to send longer messages.

Also, consider Route 53.  For many uses, it is much cheaper than running an instance, and it has all the S3 stuff built-in."

Amazon EC2	"Re: DNS setup
Mike thanks for your response.

In this scenario, I don't have any instances. this is a static s3 hosting. I want all requests to a specific S3 bucket to be redirected to a static site hosted in azure. If i create a test bucket and click on that public s3 url after enabling static hosting, it works fine. But If I try to use Route53 and setup a ""A record as Alias"", it doesn't work! I deleted all the original buckets but still somewhere things are cached and doesn't work!
Any help is much appreciated. 

Regards,
Ra"

Amazon EC2	"Converting from PV to HVM with standard Amazon Linux AMI
I've been trying to convert an existing image to HVM and have had no luck.

I've tried here:
http://serverfault.com/questions/439976/create-an-aws-hvm-linux-ami-from-an-existing-paravirtual-linux-ami
Using the CLI similar to here:
http://stackoverflow.com/questions/21517023/map-ec2-register-snapshot-syntax-onto-register-image-ami-syntax-using-awscli
And this method here:
http://stackoverflow.com/questions/24330721/amazon-ec2-how-to-convert-an-existing-pv-ami-to-hvm
This one looked interesting but it relies on using apt-get to install the grub tools on the original image, and I can't find the equivalent for yum. 

However they have all failed. I can get the AMI looking ok, but when it boots it shuts itself down before getting going and there is no information in the logs to tell what is going on.

I have even tried booting a new HVM instance with the PV snapshot volume attached and copying the data over, but this seems harder than it sounds. 

Any help would be most appreciated, I have spent way too long on this already.

Thanks

Brad"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Hello,

Thank You for creating this forum post. Could you please try the steps mentioned in the below forum post:

https://forums.aws.amazon.com/thread.jspa?messageID=553638

It shows detailed steps on how to convert CentOS PV to HVM

Regards,
SnehaV"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Is there an easier way by now?  There must be lots of people looking
to convert T1 instances to T2.  Or M1 to T2.  And many of them will 
not be comfortable with such a long complex process involving editng
grub config files, re-partitioning disks, resizing file systems, etc.  

Has Amazon packaged up an easier solution yet for converting PV to HVM?

I'm hopeful because at first there was no way to convert a classic IP
address to a VPC IP address:

https://forums.aws.amazon.com/message.jspa?messageID=472904&tstart=0


But recently Amazon created a way to migrate them:

https://forums.aws.amazon.com/message.jspa?messageID=677903&tstart=0


Maybe they've now done the same for AMIs as they did for EIPs?

--Fred"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Hello,
thank you for your reply: while you are correct stating that it is possible to migrate Elastic IPs from EC2 classic to VPC, unfortunately the procedure to migrate from PV to HVM is pretty much the same described.

I understand that it is pretty complex and involves re-partitiong disks, editing Grub, etc, but would like to confirm that I just opened a case to our service team to understand if there are any plans on that.

Regards,
Alessandro"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Alessandro,

Thanks for the quick reply!  Yes, please let me know what you find out
about a simpler, more automated way to do this.  Ideally, there'd be 
a ""Convert AMI from PV to HVM"" item in the Actions menu at the AWS
console.

Meanwhile, the steps described here:

https://forums.aws.amazon.com/thread.jspa?messageID=553638

are for a CentOS AMI, not an Amazon Linux AMI.  I realize they are
similar, but I don't know how they differ.  If I follow those instructions,
and successfully generate an HVM AMI from which I can launch T2
instances, will those instances be a reliable as newly created T2 
instances?  Or will they have problems with low-level things like 
updating the Linux kernel via yum update, as I have successfully 
done with classic ECS instances in the past?  I don't want to take a
step backwards here, or go down an path that Amazon does not 
fully support.

Thanks!
--Fred"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Hi Fred,

The conversion of PV to HVM is not officially supported, however, many customers have been able to successfully convert from PV to HVM using the steps mentioned. I have reviewed the mentioned forum thread, and I am able to see "" These steps are for a RHEL based PV instances - Amazon, CentOS, Red Hat."". The primary step here would be to take an AMI of the EC2 instance in question. The reason being is if you do encounter some issue during the conversion process, you can launch a new replacement EC2 instance using the AMI. 

To that end, if you want to utilize HVM, and you currently have a PV based EC2 instance -- the recommended way would be to launch an EC2 instance using our latest HVM based Amazon Linux AMI and then migrate your data. 

With regards to the feature you are requesting to have a ""Convert AMI from PV to HVM"" item within our AWS console, this is not a feature that is available. I am unable to comment on whether this kind of feature is in our pipeline. We definitely appreciate your feedback regarding our services. We're always looking to improve AWS services, making them easier to use and more fit to our customers' needs. My colleague Alessandro has submitted your request as a formal feature request to our development team.

Please keep your eyes on the AWS blog, and our website for announcements and releases:

http://aws.amazon.com/blogs/aws/ 
http://aws.amazon.com/about-aws/whats-new/ 

If you do have any additional questions, please do let us know at you earliest convenience.

Regards,
Mohsin"

Amazon EC2	"Re: Converting from PV to HVM with standard Amazon Linux AMI
Hi Mohsin,

I am facing this issue. I have to shift my Amazon-Linux PV instace from Sydney to Mumbai region.
Just wanted to confirm whether AWS has launched any simplest way to do this?
I am new to AWS, would be a great help if there is way to do this using AWS Web Console.

Thanks

Amol Chakane"

Amazon EC2	"Why previsional use is higher than the real use...
Hi,

I created  a account to test AWS.
I created just one EC2 and I Can see my previsonal use is already to 121 Hours. 
However, That's just 90 hours my EC2 was created.

Why ?

Normally, 750 hours must do 1 month, no ?

Thank's for your responses.

Romain

Edited by: Romain on Jul 18, 2016 2:35 AM"

Amazon EC2	"Permission denied (publickey)
Hi,
I have had a t2.micro running ubuntu 14.04 (ami-f95ef58a) for some a few months, no problems logging in via SSH. For some reason now ssh fails with ""Permission denied (publickey)"". I am using the correct pem, owned and permissioned with mode 0400 and correct user (ubuntu).

E.g.
$ ssh -v -i ""kp1.pem"" ubuntu@x.x.x.x
...
debug1: Host 'x.x.x.x' is known and matches the ECDSA host key.
debug1: Found key in /home/pgleghorn/.ssh/known_hosts:3
debug1: rekey after 134217728 blocks
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: rekey after 134217728 blocks
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: kp1.pem
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

Interestingly when specifying the root user (which I know is not correct thing to todo), the cert is initially accepted before the connection being dropped (rightly so):

$ ssh -v -i ""kp1.pem"" root@x.x.x.x
...
debug1: Host 'x.x.x.x' is known and matches the ECDSA host key.
debug1: Found key in /home/pgleghorn/.ssh/known_hosts:3
debug1: rekey after 134217728 blocks
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: rekey after 134217728 blocks
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: kp1.pem
debug1: Authentication succeeded (publickey).
Authenticated to x.x.x.x (http://x.x.x.x:22).
debug1: channel 0: new client-session
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
debug1: pledge: network
debug1: Remote: Port forwarding disabled.
debug1: Remote: Agent forwarding disabled.
debug1: Remote: X11 forwarding disabled.
debug1: Remote: Forced command.
Please login as the user ""ubuntu"" rather than the user ""root"".

The only change I can think of which happened in the intervening time, was that this machine was given an elastic IP address, so as to persist IP across restarts. It may have been at that time, that ssh stopped working, it is difficult to say.

Can anyone suggest what might be the issue and how to resolve it?

I have other instances (similar image and different image) using the same key, without elastic ip, and can ssh in to those with no issue.

Thx
Phil"

Amazon EC2	"Re: Permission denied (publickey)
Hello, 

It is difficult to say what the error could be as the ssh permission denied message is really generic. 

The exact issue description will be in the ssh logs of the affected instance. (you could investigate this by shutting down the affected instance and attaching the root volume to a healthy running instance to investigate the logs on that volume)

What we can recommend that you try is to launch a ssh rescue utility that we offer that will launch an m3 instance (you will be billed while the instance runs) this utility will attempt to correct all ssh issues with your instance.

The steps to run the ssh rescue instance below:

1. Select the correct Cloudformation link based on the region:
us-east-1 
us-west-1 
us-west-2 
eu-west-1 
eu-central-1 
ap-northeast-1 
ap-southeast-1 
ap-southeast-2 
sa-east-1 

2.    On the Select Parameters page:
        Select the Availability Zone of the instance to be repaired
        Provide the instance ID
        Select the ssh key-pair to be used
        On the 'Tags' page enter any tags you would like to place on the temporary instance

3.    The Cloudformation Stack will create a role with the relevant permissions required.
        As such please tick the ""I acknowledge that this template might cause AWS CloudFormation to create IAM resources.""

4.    Click on ""Create""

Or perhaps if you believe the Elastic IP is at fault, switch back to a normal IP and test to see if you can reach the instance.

For your reference: http://askubuntu.com/questions/451227/ssh-permission-denied-public-key-but-root-ssh-works
http://askubuntu.com/questions/343060/no-more-authentication-methods-to-try-permission-denied-publickey
https://aws.amazon.com/premiumsupport/knowledge-center/ec2-linux-ssh-troubleshooting/

If you require further assistance please reach out to us."

Amazon EC2	"Amazon Load balancer and Auto Scaling Configuration
Hey there!

We are using auto scaling group with loadbalancer. Following are some details of our autoscaling configuration:
____________________________________________________________________________
Increase Group Size:

Execute policy when: breaches the alarm threshold: CPUUtilization >= 50 for 300 seconds
for the metric dimensions

Take the action: Add 1 instances when 50 <= CPUUtilization < +infinity
Instances need: 60 seconds to warm up after each step
____________________________________________________________________________
Decrease Group Size:

Execute policy when: breaches the alarm threshold: CPUUtilization < 20 for 300 seconds
       for the metric dimensions

Take the action: Remove 1 instances when 20 >= CPUUtilization > -infinity

____________________________________________________________________________

We have default cooldown and Health Check Grace Period as 300 seconds each.

When the traffic increases new instance is created and even these are getting created in multiples. However the problem arises when the traffic decreases and when the 

instances are terminating due to decrease group policy, our application gets slow down drastically though we have minimum one instance running at any point of time.

So we would like to know what is the reason for the app getting slow. Are we missing out on some important configurations? Or is there a better way of handling the situation, any pointers will be appreciated."

Amazon EC2	"Re: Amazon Load balancer and Auto Scaling Configuration
Does anyone has solution for this?"

Amazon EC2	"Cannot ssh to my ec2 instance (Security Group has port 80 & 22 open)
Hi,
I was able to use it normally (ssh and accessing the public ip) all this time, but suddenly I cannot access or ssh at all. My website is down apparently and I can't understand this. Any help will be appreciated.
Thanks"

Amazon EC2	"Re: Cannot ssh to my ec2 instance (Security Group has port 80 & 22 open)
Hello, 

Please take note of the following two guides which may assist you in recovering your instance.

https://aws.amazon.com/articles/5213606968661598

https://aws.amazon.com/premiumsupport/knowledge-center/ec2-linux-ssh-troubleshooting/

Should you still require further assistance, please furnish us with an instance ID and we will gladly take a look at the instance for you."

Amazon EC2	"Instance i-e33ed164 in us-east-1 stuck in ""shutting down""
Instance i-e33ed164 in us-east-1 stuck in ""shutting down"" after attempting to terminate."

Amazon EC2	"Re: Instance i-e33ed164 in us-east-1 stuck in ""shutting down""
Hello,

I have reached out to our EC2 team to take a look at the instance. We will get back to you once we have any updates from the team.

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Instance i-e33ed164 in us-east-1 stuck in ""shutting down""
Hello, 

We note that your instance is now in a terminated state. 

Please feel free to reach out should you require further assistance."

Amazon EC2	"CloudFormation::Init FAILS when FILES section has file starting with period
I've isolated a fail with AWS::CloudFormation::Init on Amazon Linux.
I'm using the current t2.micro on us-east-1.

Repro
1. Create a working ec2 instance in a Cloudformation template. Also make a WaitCondition and WaitConditionHandle that is dependent on the ec2 instance.
2. Make userdata call cfn-init. And after that calls cfn-signal and correctly passes the exit code of cfn-init.
3. In your template make a AWS::CloudFormation::Init metadata section and within it a FILES section as per documentation. 
4. Create a child file within that section that has a filename starting with a period. For example ""/var/www/html/.htaccess""
5. Create an instance from this template

Result:
The Wait Condition will fail with a ""CREATE_FAILED    WaitCondition received failed message: 'Configuration failed.' for uniqueId: i-0f5218c8bbe809856""

6. Edit the template and remove that period at the start of the filename, for example ""/var/www/html/htaccess""
7. Create an instance from this template

Result
It works.

Workaround
Make the file without a period at the beginning and then in the init commands section rename it."

Amazon EC2	"Trouble changing volume type from magnetic to cold magnetic (sc1)
I have an EC2 instance (ubunut, one drive /dev/sda1) with magnetic drive running. I am able to create a volume snapshot, create an magnetic volume (standard) or an gp2 volume out of this snapshot and make the instance running on that new volume without any problem. I am even able to upsize the volume with not trouble (meaning the original volume has 300GB, the new one 400GB).

However if I create an cold magnetic volume (sc1) from the snapshot (not a standard magnetic volume) and try to start the instance, it instantly stops itself again.

The instances description tab on the ec2 console says:
State transition reason: Server.InternalError: Internal error on launch


The volume is mounted on /dev/sda1 as root device.

That's all I get.

Any idea why this is happening?"

Amazon EC2	"Re: Trouble changing volume type from magnetic to cold magnetic (sc1)
Hello,

Cold HDD(sc1) and Throughput Optimized HDD (st1) volumes cannot be a boot volume[1]. You will choose another volume type for a boot volume such as gp2, io1, or standard.

I hope this help.

Documentation
[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html"

Amazon EC2	"Permissions trouble with Plesk on EC2
Hello,
I have an Ubuntu 14.04 server running in EC2
I installed Plesk so I can resell Hosting
But... when Plesk creates a new user, they cannot connect, FTP or anything. I need to somehow add them to tyhe users of the server as they sign up. Any idea where i set this in AWS to automatically grant plesk clients to connect via ftp etc to their files?"

Amazon EC2	"Re: Permissions trouble with Plesk on EC2
Obviously no-one comes to these forums. Closing in disgust."

Amazon EC2	"Cant RDP to windows instance after VPN client install
Hi,

I (very stupidly) installed CheckPoint Endpoint Security Client E80.62 on an AWS (Amazon Web Services) EC2 Windows 2008 R2 Server instance. 

Since then I have been unable to reach my machine using RDP! 

Usually when things like this happen I mount the instance's system drive on another machine (in AWS) and fix whatever it is I broke by (configuration/registry/etc.).

does anyone have any ideas on how manually uninstall (on a system drive mounted on another machine) the Endpoint Security client? Or any other ideas how to fix this mess?

Would really appreciate any help as I am currently ""locked out"" of my AWS server instance.

Best Regards,
Elad."

Amazon EC2	"Trouble connecting to EC2 Windows server instance using FileZilla
Hi everyone,
I'm trying to connect to my instance on Amazon EC2. I've read a few posts here and there and I believe I'm doing everything right, except I constantly get the connection timed out error.

I'm running FileZilla 3.11.0.2 
I'm running filezilla on my mac (Yosemite)
I have specified my Amazon key pair in the filezilla settings under SFTP
I have entered in my host using my public DNS (Elastic IP)
I have specified the user to be ec2-user. (Tried with ubuntu and root also)
I have opened up ports 22 for SSH on my amazon security groups for 0.0.0.0/0.
I also tried with opening all ports for 0.0.0.0/0

Status:	Connecting to ec2-###-###-###-###.us-west-1.compute.amazonaws.com...
Response:	fzSftp started, protocol_version=2
Command:	keyfile ""/Users/MS/Documents/AWS/amazon.ppk""
Command:	open ""ec2-user@ec2-###-###-###-###.us-west-2.compute.amazonaws.com"" 22
Error:	Connection timed out
Error:	Could not connect to server

Are there any suggestions as to what may be blocking my connection?? have spent about 4 hours now trying to get this to work - has to be something simple that I'm missing?
Thanks for any suggestions."

Amazon EC2	"Re: Trouble connecting to EC2 Windows server instance using FileZilla
FileZilla way of using PuTTY together with FileZila sounds  complicated. 
I'd recommend using WinSCP, it works just the same for file transfers and supports key auth."

Amazon EC2	"Re: Trouble connecting to EC2 Windows server instance using FileZilla
Thanks for your reply. My understanding is that WinSCP is for Windows and not for Mac. I've read at forums that Filezilla works well. See this link:
http://angus.readthedocs.org/en/2014/amazon/transfer-files-between-instance.html"

Amazon EC2	"Re: Trouble connecting to EC2 Windows server instance using FileZilla
I was wondering if anyone had any advise. I'm still not able to connect to my instance via Filezilla. Tried all different usernames - ec2-user, ubuntu, root. Opened ports 21 and 22 on the instance, still getting the same error:

Status:	Connecting to ec2-###-###-###-###.us-west-1.compute.amazonaws.com...
Response:	fzSftp started, protocol_version=2
Command:	keyfile ""/Users/MS/Documents/AWS/amazon.ppk""
Command:	open ""ec2-user@ec2-###-###-###-###.us-west-2.compute.amazonaws.com"" 22
Error:	Connection timed out
Error:	Could not connect to server"

Amazon EC2	"Re: Trouble connecting to EC2 Windows server instance using FileZilla
Hi.
Did you find a solution?

Thanks"

Amazon EC2	"AWS Free Usage Tier - Data Transfer
Hello,

I have just started with the AWS Free Usage Tier and I see the Data Transfer limit to be 15 GB of bandwidth out aggregated across all AWS services. 

Does this mean I would not be charged for any internal traffic, like downloading a DVD of my application from ftp/http directly on the server ? Is all internal internet traffic coming into the server like the downloads not charged?

Please advice

Thanks,"

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
Inbound data transfer is completely free of charge. You can download as much as you want without incurring transfer charges for the data flowing in to your EC2 instance. As you have noted, the free tier offers 15 GB data transfer out of AWS. You will only be charged for any outbound data transfer exceeding this limit. For detailed pricing information, see http://aws.amazon.com/ec2/pricing/#DataTransfer."

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
Thanks"

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
Thanks for the info. Though, is the 15Gb limit of out bandwidth applicable per month or for the whole year?"

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
That is per month."

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
Thanks for the quick response."

Amazon EC2	"Re: AWS Free Usage Tier - Data Transfer
For Example 

is they any limit for downloading from internet(youtube) and upload to youtube"

Amazon EC2	"DNS resolution inside a private domain
Hi
not sure if its the right place, but I can use some assistance.


I created an internal lab: 1xAD DC(domain controller)+DNS and 1xmember Server.
attached them to VPC with internal subnet 172.31.1.0/24
attached VPC to DHCP Options Sets with name of the domain and IP of the AD DC server 

domain-name = private.lab
domain-name-servers =ip of the ADDS 172.31.1.101

when trying to join the member server to the domain I get an error:

An error occurred when DNS was queried for the service location (SRV) resource record used to locate an Active Directory Domain Controller (AD DC) for domain ""172.31.1.101"".

It looks like SRV record is OK but Im not 100% sure. looks to me like DNS resolution doesnt work inside the subnet?

appreciate any help

thanks"

Amazon EC2	"How to launch the ec2 with same volume on load balancing + autoscaling.
Hello everyone,
     i meet some problem about ec2(in my case, i use windows instances) behind load balancing + autoscaling.
     while ec2 crashes, a new one will launch from certain img. 
     And the new one has new volume.
     if i just has one ec2 behind lb + as. 
     so while it crashes, i want the new one to use the same volume automatically.
     Maybe i could set two volume at begin. When it crashes, the img launch with only one volume.
     And attach the second volume from the original ec2.

     But I don't know how to arrive the purpose. Any one could teach me? Thank you!

Edited by: aaron_yang on Jul 13, 2016 1:53 AM"

Amazon EC2	"Re: How to launch the ec2 with same volume on load balancing + autoscaling.
Hi there,

When you create the launch configuration, make sure that on the storage setting, you don't mark ""delete on termination"" for the EBS volume.

When the instance launch , you can write a user data script that will attach the volume, as I understand it will be always the same volume, as the autoscaling group has one instance, please have a look at these commands that can help you writing the script:

http://docs.aws.amazon.com/cli/latest/reference/ec2/attach-volume.html
http://docs.aws.amazon.com/powershell/latest/reference/items/Add-EC2Volume.html"

Amazon EC2	"AutoScaling Policy on CPU usage on the entire group or on individual EC2
We are looking for the threshold behaviours on Scaling Policies. When we setup a the thresholds like this for example

An AutoScaling group set under an ELB. And min and max instances are 4 and 8.
Average of CPU Utilization <65% for 2 consecutive 300 seconds spin down an instance.
Average of CPU Utilization >80% for 2 consecutive 300 seconds spin up an instance.
There are 2 instances on zone a and 2 in zone b

What is the behaviour here? 
Is the CPU Utilization is checked over among all the instances in the group or the utilization of instances in a zone or individual instances?

Or is it the utilization of the ELB that is placed on the AutoScaling group?

Thanks in advance.

Regards,
Atchut.

Edited by: narayanaraog on Jun 29, 2016 4:17 AM"

Amazon EC2	"Re: AutoScaling Policy on CPU usage on the entire group or on individual EC2
Hello Atchut,

When you create the policy from the console of the autoscaling group, and from there you create also a new alarm, this alarm will automatically have the dimension of it as ""AutoScalingGroupName = YourGroupName"" 

This means the metrics is calculated as average of the all instances across the group. 

If you created the alarm from cloudwatch console, and configure it to trigger an Autoscaling action, then you can configure the dimension to be either per instance, or per autoscaling group. 
Generally, it's not a good practice to have the metric over one instance, and not over the whole group, because if you configure it across the group and a new instance join / or leave then it will contribute to the whole ""work force"" fleet of instances and that's why its better to have the dimension of the alarm as the whole group, unless you have a specific use case, where the scale in or out can be determined based on the load of a single instance.

I hope this answer your question, if you have any other questions or need further assistance then please let me know."

Amazon EC2	"timeout problem when download 40GB file from on-demand instance with psftp
i have already set connection keep alive 20 seconds in putty

this psftp has opened connection with around (225 minutes) 3.75 hours

when it opened for around 3 hours, i start to download a file, then error occur

and then in cmd type psftp profilename

psftp> get result002.csv
remote:/run/shm/result002.csv => local:result002.csv
Fatal: Network error: Software caused connection abort

how to download this big file without error?

Edited by: afa on Jul 17, 2016 12:12 AM

Edited by: afa on Jul 17, 2016 12:40 AM"

Amazon EC2	"suspected unknown reason for program suddenly terminated
2986 ubuntu    20   0  0.577t 0.574t   2588 R  95.2 30.6 186:20.32 python (3 valued logic)
3113 ubuntu    20   0  0.172t 0.172t   2588 R  95.2  9.1 177:46.49 python (2 valued logic)

2986 ubuntu    20   0  0.584t 0.581t   2588 R  96.6 31.0 189:27.38 python (3 valued logic)
3113 ubuntu    20   0 45.080g 0.044t   2596 R  90.6  2.3 181:16.47 python (2 valued logic)

(2 valued logic) use (181 minutes) 3 hours to finish running with maximum 176.128GB memory to run and generate 40GB file

 2986 ubuntu    20   0  0.584t 0.581t   2588 R   0.0 31.0 225:47.45 python

(3 valued logic) use (225 minutes) 3.75 hours to finish running with maxmium 598GB memory to run and generate 7.1GB file

3 valued logic suddenly finished running after (225 minutes) 3.75 hours but it is not reasonable, i do not know whether operating system terminating it or someone login in another terminal terminate this background program with nohup python logic3.py &

if direct proportional, 181/3*8 = 482 minutes = 8 hours, it should cost 8 hours to finish, but now it only run 3.75 hours"

Amazon EC2	"Public IP / Public DNS do not resolve
(for amazon reps, instance is: i-e7e31573 )

I've followed various tutorials, and my workflow currently looks like this: Github > CodeDeploy > EC2 Instance.  From what I can tell, everything is successful there.  I am able to SSH to the instance and I've located the '/var/www/html/index.html' file of my application, but beyond that I am unable to resolve the page using the Public DNS or Public IP listed on the instance.  I've tested the elastic IP but it made no difference.

Public Domain: ec2-52-34-64-82.us-west-2.compute.amazonaws.com
Public Elastic IP: 52.34.64.82

Pinging these work fine, but I just can't resolve them.

I've tested this with various security group settings for http/ssh/all traffic but still, no go.

I'm new to this and I'm a little stuck. Can anyone help?


Thanks"

Amazon EC2	"Re: Public IP / Public DNS do not resolve
my httpd service was not started. Starting it through the shell works but i haven't figured out how to do it on boot up yet."

Amazon EC2	"vnc to ubuntu 14.04 instance with ubuntu desktop just shows grey screen
I'm trying to install ubuntu desktop and a vncserver on an aws instance, vnc connects but just shows a grey screen.
I have issues the following commands so far.

sudo apt-get update
sudo apt-get upgrade
sudo apt-get install ubuntu-destkop

then for the vnc server
sudo apt-get install tightvncserver 
vncserver --I set a password
nano ~/.vnc/xstartup

which looks like this:
#!/bin/sh

unset SESSION_MANAGER
#exec sh /etc/X11/xinit/xinitrc
#xrdb $HOME/.Xresources
#xsetroot -solid grey
#x-terminal-emulator -geometry 80x24+10+10 -ls -title ""$VNCDESKTOP Desktop"" &
#x-window-manager &

Fix to make GNOME work

#export XKL_XMODMAP_DISABLE=1
#/etc/X11/Xsession
#gnome-session --session=ubuntu-2d
metacity &
gnome-settings-daemon &
gnome-panel &

Then I set a custom inbound tcp port on the ec2 instance to 5901.
Downloaded the realvnc client
put my public ip in and :1
It connects the server but all I see is a grey screen.

I then tried:
sudo startx
Loading extension GLX
error setting MTRR (base = 0xf0000000, size = 0x00100000, type = 1) Invalid argument (22)

Does the grey desktop mean that the ubuntu desktop is not running?
Is it not running because of some graphics or video card drivers that are not on the aws instance?"

Amazon EC2	"Re: vnc to ubuntu 14.04 instance with ubuntu desktop just shows grey screen
I was able to get it working with this command
apt-get install gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal"

Amazon EC2	"Instance was stopped - webpage does not work anymore!
Hello,

 By mistake I stopped my instance on EC2. I should of course not have done this, since I don´t know anything at all about AWS ... But I misread some information. I started it again, but now the site that is connected to this instance is not working and I cannot get access to it via ftp either. 

I guess I must do something else, than just click ""start""?
Everything is green on the dashboard and seems to work... Please help me!

Lots of thanks in advance! / Hookey"

Amazon EC2	"Re: Instance was stopped - webpage does not work anymore!
Hi,

I took a look at your EC2 instance and confirmed that the OS and web server are up and running. However, since you have stop/start the instance, the IP address has changed for the instance. I was able to use the correct IP address for the instance and get a successful '200 OK' response from the web server. Please find the IP address of the instance from the EC2 Management console[1]. You can use this  new IP address to access the web server and the FTP server hosted on it. However, you may need to update your DNS records with your registrar to change the domain name to point to the new address. To prevent IP addresses from  changing in these situations, I recommend using Elastic IP Addresses [2].

[1] http://docs.aws.amazon.com/awsconsolehelpdocs/latest/gsg/getting-started.html
[2] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

Regards,
Arun T.

Edited by: ArunT@AWS on Jul 15, 2016 12:37 PM"

Amazon EC2	"Re: Instance was stopped - webpage does not work anymore!
Arun,  Thanks for your help. I guess the IP-address you refer to was the one I had as an elastic IP before, and which I connected the instance to? (ip ends with 60?). 
This ipadress however gets  to another page, not the one I wanted. If I enter the http://new.teckenalmanackan.se I still get the 500 error. 
I will try to study the documents you linked to, but I am soo bad at this, and also english is not my native language so technical stuff is a bit hard to browse through. If you or anyone could give me more guidance, I would be very happy.
Regards, Hookey"

Amazon EC2	"Create and Launch an instance with code ?
hello,

i'm a beginner with AWS and i wanted to know how to make a program that will automatically create and launch an instance.

There is an API for that ?

And if there is in what language should i do that ?

Thank you !"

Amazon EC2	"unexpected instance reboot
Hi,

Our instance (i-22c58eac at ap-southest-1b) was rebooted unexpectedly a few hours ago at 2016-06-07 23:16:40UTC. This has never happened to us before in all the years using AWS, and we were not notified of any scheduled reboot for our instance as was before, so it was quite a surprise to us. Fortunately we didn't lose any data. However, we'd like to know why it happened and what we can do to reduce the chance of it happening again.

Thanks."

Amazon EC2	"Re: unexpected instance reboot
Hello,
I had a look at the instance and at the underlying host and I have found that at that point in time an issue occurred with the underlying hardware making it reboot and causing the instance to have an unclean shutdown.

On behalf of AWS, I sincerely apologize for any inconvenience this may have caused to you. 

Normally we sent out email communication to customer when there is a scheduled maintenance or a hardware degradation ongoing, so that users can take action on instances (generally speaking, issuing a stop/start will move the instance on a fresh new underlying hardware).
In case of sudden reboot like this, unfortunately there is no time for email or customer to take actions and so the instance will result with an unclean  reboot or instance in a stuck state.

As you know, hardware and networking equipment will never enjoy 100% up time, and from time to time there are system failures. We make every commercially available effort to make sure Amazon Web Services is secure and resilient, giving you reliability and massive scale. However, hardware and network failures will inevitably occur in any environment, and we encourage you to design your applications working on the AWS platform accordingly.

We know how critical our services are to our customer's businesses, and we'll do everything we can to learn from this and use it to drive improvement across our services.

To prevent this issue in the future, you may be interested in some of our documentation for building a failure resilient environment. There are some best practices available on our forums, in our documentation and white papers that help to show effective designs. Additionally, as backups and data redundancy (outside of s3) are at the sole discrepancy of the account owner, you will want to make sure to create an AMI (amazon machine image) and/or backups in case of future failures.

More info:
http://aws.amazon.com/whitepapers/designing-fault-tolerant-applications/
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf
https://media.amazonwebservices.com/AWS_Disaster_Recovery.pdf"

Amazon EC2	"Re: unexpected instance reboot
Less than 2 months from last incident, our EC2 instance i-22c58eac had another unexpected reboot at around July 15 20:24 UTC. We'd like to know what's causing the restart this time...hardware problem again? Or is there stability problem with nano instance type (both restarts happened on nano instance, while we used small instance in the past)."

Amazon EC2	"Re: unexpected instance reboot
Same problem recurred."

Amazon EC2	"start and stop EC2 instances based on a schedule
How can I start and stop EC2 instances based on a schedule (night, weekend)"

Amazon EC2	"Re: start and stop EC2 instances based on a schedule
I would suggest you to do it using  AWS Data Pipeline .

If you need to do it within an autoscale group, find a custom  script about start/stopping the instances without terminating.

Edited by: Hyip on Jul 7, 2016 7:51 AM"

Amazon EC2	"Re: start and stop EC2 instances based on a schedule
I would suggest AWS Lambda. You don't need anything more than a small script or two that you schedule. No instance to launch, just a quick invocation of the script you have built. Pick the programming language of your choice and use the AWS SDK to perform instance operations. A quite lightweight solution, I would say"

Amazon EC2	"Re: start and stop EC2 instances based on a schedule
I agree that AWS Lambda is a quite lightweight solution. 
I found also an article came through several options to Schedule start and stop of AWS EC2 instance.
I've made detail steps on Stackoverflow to  Schedule EC2 Startup  along with a Simplest way with AWS Lambda scheduled events.

Edited by: Hyip on Jul 15, 2016 8:55 PM"

Amazon EC2	"SSH Blocked for My IP to EC2 instance
I was checking my instances this morning and found a single instance I can no longer ssh into from my work system.
I receive this error from ssh : port 22: Connection timed out

I can ping this instance, I can get to http/port 80
I can ssh to all other ec2 instances attached to the security group
I added an ip for one of the other web servers to allow ssh.
    That web server can now ssh to that instance.
I removed and re added my ip to the security group, no change
I ssh from the other server, restarted ssh, no change.
There are no iptables rules on this instance,
There are no entries in the /etc/hosts.deny
There is nothing abnormal in the system logs, I seemed to be blocked at the network layer.
the instance is
    ec2-23-21-168-241.compute-1.amazonaws.com
If you need my ip please let me know.

Thank you for any help."

Amazon EC2	"Re: SSH Blocked for My IP to EC2 instance
Hello monger_midd, 
please, how did you solve the problem? I am experiencing exactly the same issue. 
Thank you."

Amazon EC2	"Unexpected restart of an EC2 instance
One of our EC2 instances (i-8034f65d) went offline randomly yesterday morning at around 10 AM. From inspecting logs, it appears that the instance rebooted, and that is supported by the uptime command. I'm curious about a couple of things:

First, what are the conditions that caused this unexpected reboot? Is this a symptom of an unrecoverable hardware error, or is this something more specific to our virtual environment? Is there somewhere that we can get a notification that a restart has occurred and allow other systems or staff to respond?

Second, is there a way that we can mitigate this sort of scenario? Our architecture allows us to scale horizontally, but each instance is necessarily stateful. If we have advanced notification, we could serialize that state and migrate it to another machine. Alternatively, if there are steps we can take to minimize risk of this sort of reboot (restarting the instance on a regular schedule?), I would love to hear about it!

Thank you!
-Ryan"

Amazon EC2	"Re: Unexpected restart of an EC2 instance
Any chance someone from AWS could take a look at this post? We still would like to be able to protect against this sort of scenario.

Thanks."

Amazon EC2	"Windows server CALs on EC2 windows images
First of all I appologize if this was already answered somewhere, my search for ""windows server CAL"" on this subforum returned no results.
If I run a windows server machine on aws EC2, do I need to purchase windows server CALs for users accessing this machine or is this already included in the aws fee for windows server?

I understand that I still need to have CALs for all the server side software I run on this machine (e.g. Exchange etc.), but I wasn't able to find a definite answer for windows server CALs.

I found some presentation on   http://www.slideshare.net/AmazonWebServices/aws-webcast-running-windows-server-on-the-aws-cloud  but nothing on AWS web site.

I also read this  http://aws.amazon.com/windows/resources/licensemobility/ , but it doesn't mention windows server CALs explicitely, probably because this has nothing to do with license mobility but Windows SPLA licensing.

Microsoft explicitely says that Azure Vms do NOT require separate ws CALs
http://azure.microsoft.com/en-us/pricing/licensing-faq/ 
so I'm guessing it should alos be true for AWS windows machines, but I wasn't able to confirm this on AWS website."

Amazon EC2	"Re: Windows server CALs on EC2 windows images
EC2 pricing includes your Windows licencs fees, hence why they are more expensive than Linux instances.

Some instance types also include SQL Server licenses but you are free to use your own licenses if you have them."

Amazon EC2	"Re: Windows server CALs on EC2 windows images
Kristofer, thanks for your reply, but I don't think this answers the right question.
I know AWS fee covers windows OS license, but I'm not sure if it covers CALs to acess this windows server."

Amazon EC2	"Re: Windows server CALs on EC2 windows images
This was the best I could find: http://azure.microsoft.com/en-us/pricing/licensing-faq/

It's for Azure, but I can't imagine it would play out well for them in the courts if they tried to treat their cloud customers differently than other cloud customers.  


Q: Does a customer need Windows Server CALs to connect to a Windows Server image that is running in Azure Virtual Machines?

A: No. Windows Server CALs are not required for accessing Windows Server running in the Azure environment because the access rights are included in the per-minute charge for the Virtual Machines. Use of Windows Server on-premises (whether in a VHD or otherwise) requires obtaining a separate license and is subject to the normal licensing requirements for use of software on-premises.

Edited by: Kristofer Pettijohn on May 21, 2015 4:40 PM"

Amazon EC2	"Re: Windows server CALs on EC2 windows images
Kristofer, thank you again for your effort, but I've already included this link in my original question, I was familiar with this info before posting the question.
I agree with you this should be the same, however it is kind of fishy that I am not able to find any official AWS info on this issue.
This is a huge selling point for cloud windows servers, if you don't have to buy any additional CALs this makes a huge difference and shifts cost calculations towards the cloud.
If this was a clear situation, I would expect all cloud providers to shout from the rooftops about this, not keep it well hidden?
Any other opinions?
Of course, offical AWS response would be the most valuable answer."

Amazon EC2	"Re: Windows server CALs on EC2 windows images
Hi Tomo,

I had this exact question and couldn't find the answer just a bunch of misinformation and assumptions. I finally jumped through some hoops and received an official response that yes Windows Server User CALs are included when using Amazon AMI.

""When you use AMIs, Microsoft software licensing is handled by AWS and included in your monthly bill.""

The specific language for this comes from Link: http://aws.amazon.com/windows/ the issue being that it doesn't specifically say CAL perhaps because of the confusion with other types of CALs like RDS and SAL which are not included beyond the default.

Scott"

Amazon EC2	"Re: Windows server CALs on EC2 windows images
Hi,

I know I am replying to a post almost an year back. I recently went through the same situation and found this post which is not answered correctly. So just wanted to pass on the information that I got:

""Amazon EC2 AMIs with Windows Server require no Client Access Licenses (CALs). They also include two Microsoft Remote Desktop Services licenses for administrative purposes. Purchasing an Amazon EC2 for Windows Server license included instance eliminates licensing overhead and enables you to rapidly provision the compute resources you need.""

Please refer the below link for details:
http://aws.amazon.com/windows/resources/licensing/

Regards,
Ajeesh

Edited by: ajeesh on Jul 15, 2016 1:59 PM"

Amazon EC2	"Connection to EC2 through ELB is closed 55 minutes after client closed it
We have an API where the clients can subscribe to a live feed using server-sent-events. This is done through the ELB. Here is the scenario:

1) The client makes a request to the endpoint with header ""Connection: close"" and ""Accept: text/event-stream""
2) The ELB creates a connection to our EC2-instance, the request now contains the header ""Connection: keep-alive""
3) Our EC2-instance allocates the resources and set up the subscription of events
4) Our EC2-instance send a response with ""Connection: close""
5) Our EC2-instance start sending a ""heartbeat"" every 10 seconds
6) Some time passes... (and a lot of ""heartbeats"")
6) The client close the connection
7) Approximately 55 mintues pass
8) The ELB close the connection to our EC2-instance

The problem is that this waste a lot of resources on our EC2-instances, we need this number down to just some seconds.

Our EC2-instance use the ""heartbeat"" (which is a CR <flush> LF <flush> sequence) both to keep the connection through the ELB alive (otherwise it would terminate after 60 seconds) and also to detect that the connection has been closed by catching communication errors.

I know that we could decrease the heartbeat frequency to 30 seconds and maybe more, but that should not be the issue here.

So why do the ELB keep the connection alive for so looooong?

This might relate to these pretty old discussions:

ELB not detecting browser connection abort
MPI on EC2?


Edited by: torstenbofink on Dec 7, 2015 1:58 AM

Edited by: torstenbofink on Dec 7, 2015 4:03 AM"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
I tried the same scenario without the ELB and it works as expected so I do not think the problem is within our software running on the EC2-instance.

I also configured our ELB to have a listener that forward TCP to the EC2-instance in an attempt to avoid the ELB to rewrite the headers and try to be smart. It do not seem to make any difference."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
This post seems to be related, but that has not got a good answer either: Re: ELB - server keeps sending data to disconnected clients for hours."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
New finding (during low load on the system):
1) SSE-connections are opened and closed from the clients through the ELB
2) The connections closed by the clients remain open towards the backend
3) Suddenly after 3-4 hours when a new SSE-connection is opened by a client the ELB seems to trigger some cleanup to be done and all ""hanging"" connections to the backend is closed at the same time

So to me it seems like the ELB don't care to close the connections towards the backend either before some time has passed or when some cleanup task is performed in the ELB."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
did you get any closer to solving this?"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
No, I have tried to get attention from AWS experts by bumping the last post date every now and then, but they do not seem to know anything about this. I also got contact (through other channels) with some expert, but they don't have any news to me either. I was asked to create a tcpdump of the scenario, but to capture the entire scenario the file became hundreds of megabytes and that kind of file is not very useful to any human being.

Are you having the same problem?"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
same problem using server sent events.

Even after stopping the event it carries on in the background and you have to wait until it's finished.
Very annoying.

I tried using TCP forwarding instead, didn't help.

I wonder is there a way to bypass the load balancer altogether and connect directly to the ec2 instance?"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
You can assign public IP numbers to your servers and serve SSE directly from an individual server.

The nicest way to do this is to:
1) Keep an endpoint that is exposed through the ELB
2) Redirect access to the ELB-endpoint to a specific server (round robin or whatever)
3) Keep a separate endpoint on another port than the normal on server only for SSE

There are a few problems with this:

You expose more things to the internet which normally is bad from a security perspective
If you terminate HTTPS in the ELB you have to configure your webserver to terminate HTTPS for this new endpoint
If your client run javascript you will have a problem with cross-site-scripting
You needs to pay for more public IP addresses (not that bad)


In our case we have two sets of servers, one the serve the API and one set that receive events from kinesis. So for point #3 above we discussed to redirect directly to the server that will receive the specific events. The problem with this is that when shards are dynamically assigned to different servers events will stop appearing randomly which is bad. Today we send the events using zeroMQ to the correct API server in stead, and if the events move to another server this will automatically flow to the right API server anyway. So we loose a lot of smoothness in our system by redirecting to the event handlers.

Edited by: torstenbofink on Jan 14, 2016 6:44 AM"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
may be possible - but I think the SSL will be a headache.
why don't aws fix this? lots of reports going back years."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
It seems like other questions get quick responses, but the seem to avoid this one because it is tricky or something. Dunno why..."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
This problem persists even longer than the connections.
Please can an AWS tech advise?"

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
Hi,

In general, for your use-case, a TCP listener would be the best choice as it creates a one-to-one connection mapping from the client to the server via the ELB; meaning a single connection would be created to the ELB from the client, which would then prompt a connection from the ELB to the server. This connection persists as long as both connections, from client to ELB and from ELB to server, are active, but in case the client connection is dropped, the ELB will wait till it receives all data from the server before it closes the connection to the server or till the idle timeout is reached.  Could you please confirm the timeout length specified on the ELB in question?

Regards,
Arun T."

Amazon EC2	"Re: Connection to EC2 through ELB is closed 55 minutes after client closed it
Thanks Arun.

ArunT@AWS wrote:
in case the client connection is dropped, the ELB will wait till it receives all data from the server 

Herein lies the problem. As soon as the client connection drops I want the ELB to drop the connection to the server even if it's still sending information. Otherwise the server will continue to process, wasting valuable resource after the client has long since disconnected.

The idle timeout is irrelevant as it's ok for the server to be idle as long as the client remains connected.

Here is an example to illustrate the point. I have a script which extracts a large zip file. When the user is connected, the server will send back progress updates as it extracts. If the user disconnects the script should immediately abort. Instead what happens is that the user disconnects and the script continues to run to the end. Worse than that they are prevented from accessing other pages until the task has completed.

Edited by: Adam Jimenez on Jul 15, 2016 1:12 PM"

Amazon EC2	"Created New Instance from AMI — Public IP Not Connecting in Browser
Hello,

My EC2 WordPress instance (EBS volume) is about to be retired, so I created an AMI and launched a new instance, but I’m not able to view the new Public IP address in a browser (server isn’t responding).

I noticed the security settings are different than the original (Bitnami). Do I need to manually configure or did I miss a step?

I've successfully created several EC2 instances using WordPress, but this is my first attempt launching an instance from an AMI. Can't seem to figure out what I'm missing... 

Thanks in advance for any advice you might have.

Best,

CU"

Amazon EC2	"Assign reserved instance to specific instances
We get instances for our clients and some clients choose to sign up for a contract (year to year). For those clients we purchase a reserved instance(s).  The problem we're having is, according to AWS sales team, when we get the detailed report, the reserved instance is randomly assigned to any instance that matches the same instance size.  So client1 and client2 could both have an r3.large, client1 pays for the RI, but on the detailed report, it shows that the RI is assigned to the instance for client2.  Since we bill our clients based on what's in the detailed report, it's not accurate for tracking client's exact costs.

Is there a way when purchasing RI's to allocate them to specific instances?"

Amazon EC2	"Re: Assign reserved instance to specific instances
Not currently."

Amazon EC2	"Re: Assign reserved instance to specific instances
I can't imagine that I'm the only one that thinks this is a must have feature request.  I'm sure there are lots of people who purchase RIs for their clients and need to make sure that they get assigned properly in the detailed billing report."

Amazon EC2	"Instance is not responding to SSH or HTTP
Hi, my instance i-ce1e6672 is not responding to SSH or HTTP (via telnet) when i try to connect to it. I get always the same answer: connection timed out. I read the aws guide to this issue but looks all fine. The security group allows both SSH and HTTP. I've never touched the VPC configurations but i looked at it and seems ok. I really don't know what the problem may be. Thanks in advance."

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
Hi,

I have taken a look at the instance and I see that the route tables and security groups are configured appropriately. Could you please check if the instance has any iptables configured. Also, please confirm if you can ssh into the instance from another instance in the same VPC using the private IP. If yes, please run the following commands to see the list of iptables rules:
iptables -L -n -v
iptables -t nat -L -n -v

Regards,
Pavithra K."

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
I started a new instance (and terminated the old one), and my test application was finally working fine (also SSH was working) but after a few minutes it stopped responding. It says again ""None of the instances are sending data."". I mean it was working and then again had issues. Obviously SSH/HTTP doens't work anymore. So it works when i launch it, but after a few minutes not anymore. BTW the new instance-id is : i-a7b9c21b"

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
Hello,

I have reached to accounts team to investigate this issue. We will update you on this thread shortly.

Regards,
Umair A."

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
Thanks, now seems that all is working fine, i'll wait 1/2 days then i'll mark the question as answered."

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
Hello,

Glad to hear that the issue is resolved. I also got successful TCP connections:

$ nc -vz 52.xx.xx.xxx 22
Connection to 52.xx.xx.xxx 22 port tcp/ssh succeeded!
$ nc -vz 52.xx.xx.xxx 80
Connection to 52.xx.xx.xxx 80 port tcp/http succeeded!

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Instance is not responding to SSH or HTTP
instance is now working fine"

Amazon EC2	"Like last week. Status check 0/2. Unable to stop
Hi,
as happened last week, a few minute ago happened the same on another instance.
Instance: i-0d2d329f680096683
Region: eu-west
AZ: 1C

The instance is unreceable, not able to stop (how suggested), the customers can't use the service. 
Last time while we was creating a replacement instance, during snaps and rebuilding, after 1/2 hour the instances finally rebooted and restarted lonely.

Please let me know what we can do.

Best Regards,
Joe"

Amazon EC2	"Re: Like last week. Status check 0/2. Unable to stop
Hi,

after a canonical hour, the instance finally stopped.
So I restarted and everything is now ok.

Best Regards,
Joe"

Amazon EC2	"Instance can not be stopped and we can not create image from it
Hi AWS support,

We are having issue with our ec2 instance (id: 
i-0b5ea241ced9b763a), it is stuck in the stopping status and we tried the solutions on this page:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html but not working. 

When trying to create an image of it, we got the following error:
""Invalid value 'i-0b5ea241ced9b763a' for instanceId. Instance is not in state 'running' or 'stopping' or 'stopped'"".

Please help! Thanks!

Robin"

Amazon EC2	"Re: Instance can not be stopped and we can not create image from it
Hello,
I have checked your instance, however it appears to have been correctly stopped and then started again.

Let us know if you find any additional issues.

Have a nice day!

Andrea S."

Amazon EC2	"My Instance Not Starting - Stuck at Initializing
Hi,

My instance with id: i-232c5ead is stuck at initializing and not starting anymore. Please some one help. Super urgent."

Amazon EC2	"Re: My Instance Not Starting - Stuck at Initializing
Hi,

I have informed the team to investigate this. We will come back to you with feedback.

Regards,

Souza S"

Amazon EC2	"Re: My Instance Not Starting - Stuck at Initializing
Hi,

The EC2 team have looked at your instance, and they have noted that it is up and running now.

Looking in the logs, it looks like the Ubuntu Landscape feature was configured in the OS, and was struggling to contact its home server which possibly resulted in the delay to boot up.

Regards
Daniel J."

Amazon EC2	"Help with disk space issue on Windows ec2
Dear Amazon Technical Support,

I was under the impression that I get a 30GB disk with my c3.xlarge account. However, recently my application has been facing issues due to insufficient space so I checked to see what was the issue. To my surprise, I found that out of the 30GB, around 19GB was occupied by Windows. Now Windows taking up space is a known fact however upon closer inspection, I found some backups (dating back to 2012 - when I did not even have the instance) under WinSxS folder.  

I want to know why these files are there and what I can do to get rid of them safely without hampering the instance operation. Please let me know.

Your help is appreciated."

Amazon EC2	"Too many dhclient messages in syslog
I have too many messages from dhclient in my syslog. Every ~25 minutes three lines like the following are logged:

dhclient: DHCPREQUEST of 172.31.22.43 on eth0 to 172.31.16.1 port 67 (xid=0xf10f664)
dhclient: DHCPACK of 172.31.22.43 from 172.31.16.1
dhclient: bound to 172.31.22.43 -- renewal in 1742 seconds.

Is it normal to have IP renewal every ~25 minutes? How can I get rid off these messages from my syslog?

Note: I am using an Ubuntu ""t2.micro"" instance.

Thanks in advance.

Edited by: fedkad on Oct 1, 2015 10:54 PM"

Amazon EC2	"Re: Too many dhclient messages in syslog
I found a temporary solution by editing /etc/rsyslog.d/50-default.conf and putting the following lines before the ""-/var/log/syslog.log"" entry:

:programname,isequal,""dhclient"" -/var/log/dhclient.log
:programname,isequal,""dhclient"" stop

Note: A ""service rsyslog restart"" is needed after editing this file.

Any better solutions and ideas?"

Amazon EC2	"Re: Too many dhclient messages in syslog
@fedkad -  your answer was a good start for me.  My instance is Amazon Linux which also has rsyslog installed by default but I couldn't make it work simply by adding an extra config file.  I had to add these two lines in /etc/rsyslog.conf before the line that directs most of the log entries to /var/adm/messages:
:programname, isequal, ""dhclient"" /var/log/dhclient
& ~
That's not the way it's designed to work, given that extra config files should be in /etc/rsyslog.d, but that's the only way I could suppress the dhclient messages from ending up in the main messages file.  rsyslog is supposed to be elegantly flexible - e.g., we should't have to modify the top-level file - so I think I also must be missing something there."

Amazon EC2	"Prevent Re-sharing of AMI with Root Access
I am sharing a highly customized Linux AMI Privately with a number of people. I want to provide them with full Admin access so they can install more software, etc. 

I do not want them to be able to reshare the AMI with other people, especially make it public. 

Anyone have any thoughts on blocking re-sharing or at least make re-sharing more difficult than the users I share an AMI with just spinning up the instance, selecting Create EBS AMI and then adding further account permissions to it?"

Amazon EC2	"Re: Prevent Re-sharing of AMI with Root Access
During boot access the AWS meta-data to ensure that the AMI ID has not changed from your original instance."

Amazon EC2	"Re: Prevent Re-sharing of AMI with Root Access
Thanks, 

Good thought for sure. Couldn't that check of the AMI ID just be removed or changed if the sharee has root user access before they reshare the AMI?"

Amazon EC2	"Re: Prevent Re-sharing of AMI with Root Access
I was wondering if anyone else might have some input on this as it has been a while. 

I did manage to accomplish this to a degree in Linux via permissions but that has really hurt the sharees of the AMI as it limited them in what they could do in other aspects. 

I would think being able to protect a shared AMI from reshare would be a popular feature as it would help protect intellectual property. 

Anyway, I am looking at some encryption/password protection with scripting, etc. approaches to doing this as best I can but I expect I am missing an obvious or better solution. 

Any ideas, thoughts or questions on preventing a shared AMI from being re-shared? 

Thanks much,

Jeff

Edited by: Jeff Bennett on Jul 14, 2016 11:39 AM"

Amazon EC2	"Prevent Resharing of AMI
I want to share free a customized Linux AMI with other AWS Accounts while preventing the recipient from re-sharing of the AMI with other users. 

The only way I have figured out to do this is remove admin rights and then script something on the first boot to prevent a reshare. 

I would expect Amazon could do that on their side with a simple check box to prevent resharing but I see no such function. 

Anyone know how I might preserve admin rights on a Linux AMI share but no allow the user to reshare the AMI?

Thanks,"

Amazon EC2	"Re: Prevent Resharing of AMI
Thought I would try again. Any movement on this on the AWS side? Seems like it would really help grow the model for all.

Edited by: Jeff Bennett on Mar 29, 2015 11:24 AM"

Amazon EC2	"Re: Prevent Resharing of AMI
Hello,

I'm afraid we don't offer this functionality at present. However, I will add your voice to the internal feature request for this.

Have a great day 

Richard"

Amazon EC2	"Re: Prevent Resharing of AMI
Consider that with admin rights, a user can log in and 'rsync' the entire contents of the instance to a blank instance and create an AMI out of that. AWS won't be able to prevent that."

Amazon EC2	"Re: Prevent Resharing of AMI
Thanks for the replies. I think it would be a good feature and such a flag could be stored in the meta data outside the AMI I expect and unchangeable by the user. 

And yes, with admin rights there are a number of ways to take anything preventing re-sharing the AMI (like checking the instance name or something). However, the stuff I have is not THAT clever and part of this is just make it as difficult as possible. 

I am thinking about trying some encryption/password protection on some file/folder that would be beyond the experience and time value of most. 

Make sense? 

Thanks again to all,"

Amazon EC2	"AWS instance in ""shutting-down"" mode since July 7, 2016
AWS instance in ""shutting-down"" mode since July 7, 2016

Instance id i-9d899a01

Repeated attempts to stop or shut down don't appear to have any effect. What do I do?"

Amazon EC2	"Re: AWS instance in ""shutting-down"" mode since July 7, 2016
Hello, 

I see the underlying hardware for the EBS volume for that EC2 instance was having some issues which looked to have caused this. I've gone ahead and escalated this up to our support teams for them to further investigate, but you can attempt a ""Force-Detach"" of that EBS volume as well to see if that helps. 

We'll update you with what our support teams find. 

Regards,
Nick"

Amazon EC2	"Re: AWS instance in ""shutting-down"" mode since July 7, 2016
Hello,

Sorry for the inconvenience that it has caused you. Our service team confirmed the problem should be fixed now, let us know how it goes."

Amazon EC2	"Re: AWS instance in ""shutting-down"" mode since July 7, 2016
All good. Instance is gone. Thanks."

Amazon EC2	"Assign public IP via Powershell after EC2 launch?
Can you assign a public IP to a EC2 instance after it has already launched?  I'm trying to run -AssociatePublicIp $true from a powershell script as a scheduled task on a Windows server after it has booted.  The EC2 instance is in a public subnet, but we are not auto-assigning a public IP at launch.  This page http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html says ""This feature is only available during launch. However, whether you assign a public IP address to your instance during launch or not, you can associate an Elastic IP address with your instance after it's launched.""  Does that mean that the only way to assign a public IP after a EC2 instance has launched is to use an Elastic IP?
Thanks."

Amazon EC2	"Re: Assign public IP via Powershell after EC2 launch?
Hi,

Yes. With an instance in a VPC, you can either associate a public IP address at launch, or associate an Elastic IP address after launch.

Julie"

Amazon EC2	"Apache 2.4.6 on CenOS 7
Hi,

I have AWS EC2 instance running on centos7 and Apache 2.4.6.

ps aux|grep httpd shows httpd running as foreground processes.
httpd -DFOREGROUND 
httpd -DFOREGROUND 
httpd -DFOREGROUND 
httpd -DFOREGROUND

I have set up the MPM worker module. It is supposed to run as httpd.worker process.

I rebooted the server too.

Any idea why it is showing DFOREGROUND process rather than httpd.worker process please?

Thanks for you help!"

Amazon EC2	"Add Account ID to instance meta-data
Hi AWS,

Can you please add the account ID an instance is running in to the meta-data. This would allow us to programmatically do something like this:

curl http://169.254.169.254/latest/meta-data/account-id


This is isn't available right now, does anyone know of a way to get the Account ID programmatically?

Peter"

Amazon EC2	"Re: Add Account ID to instance meta-data
One roundabout way of doing this is to launch the instance with an IAM role. Let's call this role name R

Then from the instance you should be able to do:

http://169.254.169.254/latest/meta-data/iam/info

which should return the following json:

{
  ""Code"" : ""Success"",
  ""LastUpdated"" : ""2012-10-17T19:50:17Z"",
  ""InstanceProfileArn"" : ""arn:aws:iam::<<NUM>>:instance-profile/<<Role>>"",
  ""InstanceProfileId"" : ""XXXXYYYYYAAAAAAAAA""
}


The instance profile ARN will contain <<NUM>> which will be the account number, and <<Role>> will be R.  

Hope this helps.

Bill

Edited by: William Pierce on Dec 17, 2012 5:04 PM

Edited by: William Pierce on Dec 17, 2012 5:05 PM"

Amazon EC2	"Re: Add Account ID to instance meta-data
You can also obtain this information from http://169.254.169.254/latest/dynamic/instance-identity/document, which is not in the documentation though."

Amazon EC2	"Re: Add Account ID to instance meta-data
Thanks. This works."

Amazon EC2	"Re: Add Account ID to instance meta-data
In case anyone else finds this via search engine:

curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | grep -oP '(?<=""accountId"" : "")[^""]*(?="")'"

Amazon EC2	"Removed the Citrix online dev tools for VM and my instance crashed.  Isn't
Hello,

    I have a win 2012 with SQL 2012 and I was removing Citrix programs from the programs and features.

In the middle the rdp disconnected.  The sql server is not responding, I cannot log into it via RDP

Any suggestions?"

Amazon EC2	"Unable to connect to EC2 instance after 2-3 minutes
Hello everybody,
EC2 instances that I create lose connection after 2-3 minutes but in the EC2 Management Console instance state is running and status check is 2/2 checks passed.
My security rule for both inbound and outbound connections:
Type:All traffic  Protocol:All  Port Range:All  Source/Destination:0.0.0.0/0
Also I was able to reproduce the problem with Amazon Linux and Ubuntu AMIs.
Region is eu-central-1b.

My problem is pretty much similar with this one:
https://forums.aws.amazon.com/thread.jspa?threadID=235060&tstart=0

Does anybody know how can I solve this issue please?
System logs for the Amazon Linux  instance that suffers from the problem:

Setting up Logical Volume Management:   OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 35742/524288 files, 305508/2096635 blocks
  OK  

Remounting root filesystem in read-write mode:  http://    3.566424 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:    OK  

Enabling local filesystem quotas:    OK  

Enabling /etc/fstab swaps:    OK  

Entering non-interactive startup
http://    3.851779 NET: Registered protocol family 10
Bringing up loopback interface:    OK  

Bringing up interface eth0:  
Determining IP information for eth0... done.
  OK  

Starting auditd: http://    6.921011 audit: type=1305 audit(1468217322.490:2): audit_pid=2085 old=0 auid=4294967295 ses=4294967295 res=1
  OK  

Starting system logger:   OK  

Starting irqbalance:   OK  

Starting rngd:   OK  

Starting rpcbind:   OK  

Starting NFS statd:   OK  

Starting system message bus:   OK  

Mounting filesystems:    OK  

Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Mon, 11 Jul 2016 06:08:44 +0000. Up 8.80 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Mon, 11 Jul 2016 06:08:44 +0000. Up 8.98 seconds.
ci-info: ++++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up      Address          Mask          Hw-Address    
ci-info:    lo    True    127.0.0.1      255.0.0.0            .         
ci-info:   eth0   True  172.31.31.107  255.255.240.0  06:09:c8:a6:21:3d 
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.16.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2      172.31.16.0      0.0.0.0     255.255.240.0      eth0      U   
Generating public/private rsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_rsa_key.
Your public key has been saved in /etc/ssh/ssh_host_rsa_key.pub.
The key fingerprint is:
6d:f0:99:da:ea:a0:55:4d:e2:b6:5b:4c:3a:83:e8:54 root@ip-172-31-31-107
The key's randomart image is:
[REDACTED]
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
ac:61:55:6b:4f:5e:2a:25:57:90:29:5a:f1:fd:43:28 root@ip-172-31-31-107
The key's randomart image is:
[REDACTED]
Generating public/private ecdsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_ecdsa_key.
Your public key has been saved in /etc/ssh/ssh_host_ecdsa_key.pub.
The key fingerprint is:
90:f3:cb:e2:a4:21:93:b5:b1:66:e3:4a:b7:77:72:61 root@ip-172-31-31-107
The key's randomart image is:
[REDACTED]
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Mon, 11 Jul 2016 06:08:45 +0000. Up 10.27 seconds.
Loaded plugins: priorities, update-motd, upgrade-helper
Metadata Cache Created
Loaded plugins: priorities, update-motd, upgrade-helper
1 package(s) needed (+0 related) for security, out of 1 available
Resolving Dependencies
--> Running transaction check
---> Package kernel-tools.x86_64 0:4.4.11-23.53.amzn1 will be updated
---> Package kernel-tools.x86_64 0:4.4.14-24.50.amzn1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package           Arch        Version                  Repository         Size
================================================================================
Updating:
 kernel-tools      x86_64      4.4.14-24.50.amzn1       amzn-updates       99 k

Transaction Summary
================================================================================
Upgrade  1 Package

Total download size: 99 k
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : kernel-tools-4.4.14-24.50.amzn1.x86_64                       1/2 
  Cleanup    : kernel-tools-4.4.11-23.53.amzn1.x86_64                       2/2 
  Verifying  : kernel-tools-4.4.14-24.50.amzn1.x86_64                       1/2 
  Verifying  : kernel-tools-4.4.11-23.53.amzn1.x86_64                       2/2 

Updated:
  kernel-tools.x86_64 0:4.4.14-24.50.amzn1                                      

Complete!
Generating SSH2 ED25519 host key:   OK  

Starting sshd:   OK  

ntpdate: Synchronizing with time server:   OK  

Starting ntpd:   OK  

Starting sendmail:   OK  

Starting sm-client:   OK  

Starting crond:   OK  

Starting atd:   OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Mon, 11 Jul 2016 06:09:04 +0000. Up 28.27 seconds.
ci-info: Authorized keys from /home/ec2-user/.ssh/authorized_keys for user ec2-user
ci-info:  Keytype                 Fingerprint (md5)                 Options  Comment 
ci-info:  ssh-rsa  02:e2:0f:01:5f:50:7a:4b:b7:99:9c:1e:57:f7:06:5d     -      ubuntu 
ec2: 
ec2: #############################################################
ec2: -----BEGIN SSH HOST KEY FINGERPRINTS-----
ec2: 1024 ac:61:55:6b:4f:5e:2a:25:57:90:29:5a:f1:fd:43:28  root@ip-172-31-31-107 (DSA)
ec2: 256 90:f3:cb:e2:a4:21:93:b5:b1:66:e3:4a:b7:77:72:61  root@ip-172-31-31-107 (ECDSA)
ec2: 256 e7:ce:bb:f4:7b:8a:30:9b:95:f4:ea:7d:b6:83:69:78   (ED25519)
ec2: 2048 6d:f0:99:da:ea:a0:55:4d:e2:b6:5b:4c:3a:83:e8:54  root@ip-172-31-31-107 (RSA)
ec2: -----END SSH HOST KEY FINGERPRINTS-----
ec2: #############################################################
-----BEGIN SSH HOST KEY KEYS-----
[REDACTED]
-----END SSH HOST KEY KEYS-----
Cloud-init v. 0.7.6 finished at Mon, 11 Jul 2016 06:09:04 +0000. Datasource DataSourceEc2.  Up 28.41 seconds

Amazon Linux AMI release 2016.03
Kernel 4.4.11-23.53.amzn1.x86_64 on an x86_64

ip-172-31-31-107 login:

Edited by: InappropriateNickname on Jul 10, 2016 11:30 PM"

Amazon EC2	"Re: Unable to connect to EC2 instance after 2-3 minutes
HI,

I could see that you have stopped the instance. 

The console logs attached does not show any signs of issues. You have mentioned that you are able to access the instance, but is getting disconnected after some time. This means that the security Group and NACL rules are fine.

If there is any issues at the underlying infrastructure, the health checks will fail. Thats does not seems to be the case here. Could you check if there is some issues your local network and check for any issues? Could you try a traceroute from your local computer to the EC2 instance and check if there is a network congestions in the path?

Regards,
Jayakrishnan L"

Amazon EC2	"Re: Unable to connect to EC2 instance after 2-3 minutes
I restarted my instance and ip assigned to is 52.59.21.48
From the output of the traceroute it looks like the packages aren't forwarded after 54.239.4.216.
This IP belongs to Amazon's Frankfurt server so it looks like problem is in the Amazon side.   
My traceroute output is :

$ traceroute 52.59.21.48
traceroute to 52.59.21.48 (52.59.21.48), 30 hops max, 60 byte packets
 1  10.3.36.1 (10.3.36.1)  6.791 ms  16.033 ms  23.239 ms
 2  10.1.255.1 (10.1.255.1)  31.704 ms  37.466 ms  40.313 ms
 3  [REDACTED IP]  22.220 ms  22.226 ms  22.218 ms
 4  [REDACTED IP]  48.815 ms  51.652 ms  58.063 ms
 5  host-85-29-25-9.reverse.superonline.net (85.29.25.9)  47.158 ms  47.162 ms  47.151 ms
 6  * * *
 7  * * *
 8  * * *
 9  host-82-222-129-85.reverse.superonline.net (82.222.129.85)  42.029 ms * *
10  ams1-br-tra-r2.amazon.com (80.249.210.217)  110.006 ms  111.342 ms  99.803 ms
11  54.239.114.96 (54.239.114.96)  133.063 ms  84.271 ms *
12  54.239.106.73 (54.239.106.73)  53.174 ms 54.239.114.93 (54.239.114.93)  71.557 ms 54.239.42.201 (54.239.42.201)  54.785 ms
13  54.239.42.201 (54.239.42.201)  56.305 ms 176.32.106.255 (176.32.106.255)  93.319 ms  73.318 ms
14  54.239.41.142 (54.239.41.142)  77.271 ms 54.239.41.138 (54.239.41.138)  74.016 ms 54.239.41.140 (54.239.41.140)  82.677 ms
15  * * *
16  * * 54.239.106.119 (54.239.106.119)  65.881 ms
17  54.239.106.98 (54.239.106.98)  67.638 ms 54.239.106.146 (54.239.106.146)  67.397 ms *
18  * * 54.239.106.161 (54.239.106.161)  54.743 ms
19  54.239.4.216 (54.239.4.216)  55.928 ms 54.239.5.172 (54.239.5.172)  56.781 ms  60.918 ms
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

Edited by: InappropriateNickname on Jul 11, 2016 6:35 PM"

Amazon EC2	"Re: Unable to connect to EC2 instance after 2-3 minutes
Good day 

Instead of using ICMP Traceroute, you can use TCP Traceroute 

This will accomplish the same thing, but using TCP packets rather than the usual deprioritized ICMP packets.

Thanks and kind regards
Imthian R"

Amazon EC2	"Re: Unable to connect to EC2 instance after 2-3 minutes
Hello  Imthian,
Here is the TCP traceroute for the instance having connection problems:

$ sudo traceroute -T 52.59.28.244 
traceroute to 52.59.28.244 (52.59.28.244), 40 hops max, 60 byte packets
 1  10.3.192.1 (10.3.192.1)  0.780 ms  0.776 ms  1.095 ms
 2  10.3.0.1 (10.3.0.1)  0.436 ms  0.442 ms  0.440 ms
 3  10.1.255.1 (10.1.255.1)  1.436 ms  1.438 ms  1.953 ms
 4  [REDACTED IP]   2.736 ms  2.737 ms  2.736 ms
 5  [REDACTED IP]   3.974 ms  3.974 ms  3.975 ms
 6  host-85-29-25-9.reverse.superonline.net (85.29.25.9)  3.966 ms  3.541 ms  3.528 ms
 7  * * *
 8  * * *
 9  * * *
10  * * *
11  * * *
12  * * *
13  * * *
14  * * *
15  decix2.amazon.com (80.81.195.152)  50.502 ms  47.496 ms  46.506 ms
16  54.239.106.168 (54.239.106.168)  69.234 ms 54.239.106.102 (54.239.106.102)  65.818 ms 54.239.106.146 (54.239.106.146)  57.620 ms
17  54.239.106.73 (54.239.106.73)  49.374 ms  47.657 ms *
18  54.239.42.201 (54.239.42.201)  52.101 ms 176.32.106.255 (176.32.106.255)  55.544 ms 54.239.41.140 (54.239.41.140)  63.799 ms
19  * * *
20  54.239.106.60 (54.239.106.60)  78.426 ms 54.239.106.130 (54.239.106.130)  70.934 ms *
21  54.239.106.141 (54.239.106.141)  64.305 ms 54.239.106.145 (54.239.106.145)  61.170 ms *
22  * * 54.239.106.8 (54.239.106.8)  67.548 ms
23  * 54.239.4.216 (54.239.4.216)  63.290 ms *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *"

Amazon EC2	"Re: Unable to connect to EC2 instance after 2-3 minutes
Apparently, there was a limitation on my account stemming from when my account was de/re-activated.Amazon support removed the limitation and I am able to use my EC2 instances again. Thank you Amazon support for all the help."

Amazon EC2	"Cannot start EBS instance after it successfully stopped
Hi,

We get the following error: 

Invalid value 'i-e88d769f' for instanceId. Instance does not have a volume attached at root (/dev/sda1)

when we try and start a stopped EBS instance.

The instance had two volumes attached to it - one we detached before stopping. the other we had issues with detaching whilst the instance was running, but it detached ok once the instance was stopped.

The volume that was detached after stopping was the windows media disk snapshot (created by amazon). 

Thanks for any help on this."

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
lightsupport,Our records indicate that the root device for this instance was detached and deleted while the instance was in the 'stopped' stage.Please PM me if you would like further details.RegardsMarc"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
Hi All,

I am also facing similar issue.

I needed to expand the hard disk of one of my machine. I have created a snapshot and thus created a volume from it. I attached it to machine and expanded the new volume through diskpart. Before shutting down the mahine, I have removed the primary or boot volume.

After that,I shutdown the machine and detach both the volumes (Old and New)
Then attached the new volume in the same zone to the machine.

I am not able to mount it.
Is there any utility for windows to implement that ?"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
I am also having the same problem using Amazon AWS.  I detached my Volume (which I still have) from the Instance, then created a snapshot of the volume, and then created a new, larger volume from the snapshot.  But, when I try to reattach either volume and start the instance, I get the error message:

Invalid value 'i-cdec70ae' for instanceId. Instance does not have a volume attached at root (/dev/sda1)

How can I fix this problem?  Any help would be greatly appreciated!

Thanks,
GGriffith

Edited by: G. Griffith on Feb 4, 2012 4:47 PM

Edited by: G. Griffith on Feb 4, 2012 4:48 PM"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
Ok, I've figured out how to solve this problem and I wanted to post the reply here.  Here is the solution that worked for me:

1. Go to the Amazon AWS EC2 page.  If your instance isn't already detached, stop it and then go to the ""Volumes"" page and ""Detach"" to old Volume.

2. Then on the ""Volumes"" page, click on the Volume that you want to reattach and click the ""Attach Volume Button"".  This will open the ""Attach Volume"" dialog in your browser.

3. First, select the ""Instance"" that you want to attach to the Volume.  

4. Second (and this is the most IMPORTANT part), in the ""Device"" text box, type the value:   /dev/sda1

5. The click the ""Yes Attach"" button.  The device will be reattached.   

6. Click on the ""Instances"" link in the left hand pane to view the ""Instances"" page.  Then Right-click on the instance you just attached the Volume to and choose the ""Start"" option to start up the instance. You should NOT get this error message anymore!  

Anyway, I hope this helps other people...this solved my headache and was much simpler than I expected!  This can be a great was to resize your base partition if needed.

Thanks,
GGriffith"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
G. Griffith BINGO.  This as a very small detail that I missed, but you were precisely correct.  The key was naming the root EBS accordingly.

Thanks for coming back and commenting. Saved me countless time."

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
You have to attach the volume with mount name /dev/xvda. For me /dev/sda1 did not work, when I tried to start the instance it popped up the same error. Then I changed the mount point to /dev/xvda the instance started perfectly"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
I had the same issue and the only way to make it work was to attach the volume as /dev/xvda"

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
Hi All, I tried dev/xvda, and it still doesn't work for me. 

Can someone from AWS tech support help with this? Thanks."

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
Same issue. Original name of the volume was /dev/sda1. After creating a new volume from the original volume's snapshot, and attaching it either as /dev/sda1 or /dev/xvda both don't work. The instance starts and goes into 'Running' state with 'Initialising' message, but then goes back into 'Stopped' state."

Amazon EC2	"Re: Cannot start EBS instance after it successfully stopped
Check what the error is saying if it is saying 
Invalid value 'i-cdec70ae' for instanceId. Instance does not have a volume attached at root (/dev/sda1)

then you need to put in /dev/sda1 
if it says 
 /dev/xvda  then put in  /dev/xvda 
whatever the error says just put in that value in the mount volume option."

Amazon EC2	"billing CloudFront-In-Bytes RunInstances
Hello,

in the detailed billing report with line items I see some records with the following values:

ProductName: Amazon Elastic Compute Cloud
UsageType: USE1-CloudFront-In-Bytes
Operation: RunInstances
ItemDescription: $0.00 per GB data transfer in to US East (Northern Virginia) from CloudFront

Could you please explain what caused this usage?

Is it the data for the CloudWatch metrics that is sent through CloudFront?

Thanks"

Amazon EC2	"How to filter marketplace AMI with descibe-images action?
I can't figure out how to filter describe-images to list only marketplace items available on marketplace portal.
Here is what I have written:
aws ec2 describe-images --owners aws-marketplace --filters Name=is-public,Values=true Name=product-code.type,Values=marketplace Name=state,Values=available

This query returns me something like 7800 records, but on marketplace portal in All Categories I see only 2724 results.
What I'm doing wrong, how to create filter to mirror items available on UI?

Edited by: Sshekeni on Jul 14, 2016 6:43 AM"

Amazon EC2	"Clarification of one domain per service
I need clarification on the following concept:
If you have a single domain name, that domain name can only be hosted through
one service as described below.
Please verify that the same domain name cannot be hosted using 
1) EC2 instance and 2) S3 bucket simultaneously.

1) One domain can be hosted using an EC2 instance.
2) A separate domain can be hosted using a S3 bucket.

You can use route 53 to host your domain on an EC2 instance.

One can use Route 53 to host your domain on an S3 bucket.

If you have a single domain at your disposal, you can only have the domain hosted through 
1) an EC2 instance or 
2) an S3 bucket.

and not both.

The reason being, 
1) for an EC2 instance,  you will change the DNS Name Servers for that domain using the 
4 DNS values obtained from amazon.

2) If you decide to host using a S3 bucket,
you will change the DNS Name Servers for that domain (from your domain provider, i.e. godaddy ) using the 4 DNS values obtained from amazon.

Those 4 DNS values can be used for one domain at a time through either
1) an EC2 instance or 
2) an S3 bucket
but not both.

Please confirm.

Edited by: Thomas Hauck on Jul 14, 2016 5:23 AM"

Amazon EC2	"ELB Transparent Scaling Causing Response Truncation
We have two load balancers that have same configuration i.e.

* Scheme: internet-facing
* Port configuration: `80 -> 80`, `443 -> 80`
* AZ: us-east-1d
* Cross-zone load balancing: disabled
* Connection settings: 600 seconds


One serves multiple apps via a virtual hosts configuration so there's a distribution of load over time while the other serves just one app.

We are experiencing issues where the 1 percentile downloads are large (around 100MB) and therefore get truncated. We have investigated and found that the downloads are ok on the server side and that the issue is on the ELB connection. The rest of our downloads are around 200KB and we aren't experiencing any issues.

The above problem recurrs on the ELB with less traffic and so we think this is related to ELB's transparent scaling. We deduce that the ELB is scaling down due to the larger percentile of small request which go through and not scaling up adequately to handle large downloads.

We don't know how to get around this unexpected behaviour as the configuration of ELB performance isn't available to us. Or at least, configuration of a suitable base level performance.

There have been other issues filed that are (maybe) related this. Like this one [1]. The resolution there was direct contact with support who set the minimum performance level (that we didn't know existed in the first place).

Does this mean that we have to pay for support to be able to contact the AWS team that has access to amend this internal configuration?

If we continue making the same request on the ELB it seems to warm up and the download succeeds. Issue recurs after a period of low activity but once you try down a large file, it's truncated."

Amazon EC2	"Re: ELB Transparent Scaling Causing Response Truncation
Hello, 
thanks for bring this to us, I have created a support otbound case for you, Case number: 1808420891

Please follow up the communications through that case, to provide the requested information 

Cheers
Javier C#"

Amazon EC2	"Can't connect to my EC2 instance
My instance is i-0ce378f0a396f0ea3 , it was running fine then suddenly it was stopped connecting via ssh or web browser.
I checked the status of my instance, it has passed System reachability check and instance reachability check

ssh -i ""customkey.pem"" ubuntu@52.27.83.150 -v

I get the following when I try to connect:
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: Connecting to 52.27.83.150 port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file customkey.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file customkey.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9

Then it hangs and doesn't let me login to my server

Edited by: alaa9jo on Jul 12, 2016 1:47 AM"

Amazon EC2	"Re: Can't connect to my EC2 instance
Hello,

Your instance maxed out its CPU, there was a spike in CPU utilization upto 100% which made instance responsive and failed its status check. You need to reboot your instance to free up memory and CPU from the running processes.

You might want to upgrade your instance to get more memory and CPU, See below link for guidance:
[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Regards,
Umair A."

Amazon EC2	"Re: Can't connect to my EC2 instance
Here is a screenshot from Cloud Watch that shows my CPU utilization:

https://postimg.org/image/vfm5u4fpj/

My instance had one spike and for less than a minute,you're saying this is the cause of my issue but I doubt it,one moment of spike then it returns back to normal,this won't stop my instance for the whole day and being unable to connect via ssh , nonetheless I restarted my server in that day

After my restart on 12 July my instance was working great, you can see there wasn't any spikes yesterday nor today, yet TODAY I can't access my server using ssh...again, as you can see from the screenshot above I don't have any spikes today.

I checked on memory, it's using less than 50%

What is the cause of this issue??? This is bugging me, every two days I have to restart my instance for ssh to work again"

Amazon EC2	"Cloudlinux - Custom Kernel Support
I wish to install Cloudlinux on ec2 which installs it's own custom kernel over CentOS. I contacted the support of Cloudlinux and their response was:-


Please, make sure that your instance will be support custom kernel.
Amazon provides several types of Virtual Machines which can use the custom kernel (which you installed by yourself) and VPS where you can use only predefined kernels which provide Amazon. So you need contact to their support to clarify this moment.


Can anyone clarify which combinations of ec2 setup I can use? Is it a matter of instance type / region type or HVM / Paravirtual?

Cloudlinux works by running a script in centos which adds a repo and installs packages including a new kernel."

Amazon EC2	"curious libcurl-devel version
Hello,

I created an EC2 instance from Amazon Linux AMI 2016.03 and set it up,
and then I hit a trouble when installing libcurl-related packages.

I tried to install libcurl-devel package but it failed due to version mismatch.
Explicitly specifying the version for libcurl-devel succeeded, but it sounds curious.

I think the below page is the latest curl-related packages' update, and it says the latest version is 7.40.0-8.54.amzn1,
https://alas.aws.amazon.com/ALAS-2016-652.html

but the repo also provides libcurl-devel-7.40.0-8.58.amzn1, causing version mismatch error without specifying the version.
Of course I notice the providing repo is different (amzn-main and amzn-updates) but these two repos are enabled by default, so it should work with them.

yum info command summary is below:

Installed Packages
Name        : libcurl
Version     : 7.40.0
Release     : 8.54.amzn1
Repo        : installed
Available Packages
Name        : libcurl
Version     : 7.40.0
Release     : 8.54.amzn1
Repo        : amzn-main/latest
 
Installed Packages
Name        : libcurl-devel
Version     : 7.40.0
Release     : 8.54.amzn1
Repo        : installed
Available Packages
Name        : libcurl-devel
Version     : 7.40.0
Release     : 8.58.amzn1
Repo        : amzn-updates/latest"

Amazon EC2	"Re: curious libcurl-devel version
Hello,

libcurl-7.40.0-8.58.amzn1.x86_64 is the latest package on Amazon linux 2016.03. We are not sure what is the problem here, what error did you get updating the curl? what was the previous installed packager version?

Regards,
Umair A."

Amazon EC2	"Re: curious libcurl-devel version
The instance was created on May 2 and it's from amzn-ami-hvm-2016.03.0.x86_64-gp2 (ami-f80e0596), with 7.40.0-8.54 installed, not the latest AMI.

Also, as I wrote, libcurl-7.40.0-8.58 is not the latest version in amzn-updates repo for x86_64. I later noticed that 7.40.0-8.58 is provided only for i686.
I think you see no problem since the 7.40.0-8.58 is already installed in the AMI, and updating does nothing for older one."

Amazon EC2	"Re: curious libcurl-devel version
Resolved.

It was by me, the version for only libcurl was versionlock'ed but libcurl-devel was not."

Amazon EC2	"which instance types in which region
is there a way to find out which instances types can be used by region?"

Amazon EC2	"EC2 Instance has very slow response time. Very Slow Time to First Byte
Hi,

Please see the website test response. The time to first byte is around 3 secs I have reduced the idle on EC2 but it has not helped at all. I am pasting the response of websitespeedtest and received similar response on pagespeed insights.

I have a t2 micro instance.

http://www.webpagetest.org/result/160528_AQ_A5B/

Can someone please recommend how to improve it?

Thanks,
Codey

Edited by: codeyme on May 27, 2016 10:57 PM"

Amazon EC2	"Re: EC2 Instance has very slow response time. Very Slow Time to First Byte
hi,

It is not about the server. I've checked your other pages, and the small ones (contact, sign in/up) are fast: ~0,25sec.

So, if you have high load I'd check the server performance metrics, esp. ram/swap, cpu, etc, otherwise (low load) profile the code to detect what part causes most part of the delay."

Amazon EC2	"Re: EC2 Instance has very slow response time. Very Slow Time to First Byte
7-10-2016 first time installing wordpress on new free tier server linux ami, no other service is setup just a wordpress , not even single post made to the cms, very bad performance, i think stick with shared hosting seems better,

Very slow, any reason?"

Amazon EC2	"How to convert your EC2 instance to a vhd or vhdx format
Hi Techs,

I am looking after a solution convert an ec2 instance to vhd or vhdx format.

Please let me know if this is feasible.

Thanks
Mak"

Amazon EC2	"GOT EC2 ABUSE REPORT
i have installed EZproxy on amazon ec2 instance and some developers were testing that ezproxy and i received an ec2 instance abuse report should i be concerned the mail was some thing like

Hello,

We've received a report(s) that your EC2 instance(s)

Instance Id: i-b6b52326
IP Address: 10.135.235.34


has been implicated in activity that resembles a Denial of Service attack against remote hosts; please review the information provided below about the activity.

Please take action to stop the reported activity and reply directly to this email with details of the corrective actions you have taken. If you do not consider the activity described in these reports to be abusive, please reply to this email with details of your use case.

If you're unaware of this activity, it's possible that your environment has been compromised by an external attacker, or a vulnerability is allowing your machine to be used in a way that it was not intended.

We are unable to assist you with troubleshooting or technical inquiries. However, for guidance on securing your instance, we recommend reviewing the following resources:"

Amazon EC2	"ec2 Instance stuck shutting down
Hi guys

terminated some instances yesterday at the end of the work day, I've come in this morning and one of them (i-11f5be9d) appears to be stuck shutting down. I noticed this last night and tried to terminate and stop the instance via the console with no luck.


could this be instance please be terminated properly?
will the extra 15 hours or whatever that the instance was stuck in this shutting down state be billed to the account?


Thanks"

Amazon EC2	"Re: ec2 Instance stuck shutting down
Hi,

I'm sorry to hear you're having issues terminating your instance. I can confirm it is stuck-stopping, and I've engaged our internal teams so they can investigate. When they have more information for us we'll let you know.

You are not charged for any instances that are not in a running state.

Best Regards,
Omar S."

Amazon EC2	"Re: ec2 Instance stuck shutting down
Hello,

I'd like to inform our service team fixed the issue with the instance, please confirm and let us know how it goes."

Amazon EC2	"EC2 - Network error: software caused connection abort
I have an instance in EC2 since 2 months ago, but since yesterday, my putty connection is inestable and after some minutes running all ok, the connection is closed with a popup : ""Network error: software caused connection abort""

Really I did not make any change and my putty settings are with Seconds between keep alive : 15 seconds and TCP KeepAlives : enabled, but session is closed, no matters an application or a process is running on it.

I search in Ubuntu logs and application logs but nothing unusual there.

Thanks if anybody can help me to find a solution."

Amazon EC2	"Re: EC2 - Network error: software caused connection abort
Hello,

Sorry to hear that you experienced connection issues. Could you provide the instance ID so we could take a quick look at your instance to see if there were any issues with the hardware?

Although, this error usually is caused due to network connectivity issues. So there might have been some internet connectivity issue during this time. If you could not find anything unusual in /var/log/secure during this time period, then it means the connection did not reach the instance. You could test connectivity using traceroute to your public of the instance if you experience the same issue ever again.

However, I could take a quick look at your instance. Please let me know if you have any further questions.

Anup"

Amazon EC2	"Re: EC2 - Network error: software caused connection abort
Thanks Anup,

My instance id is i-5bf8cbdb.
I can´t find anything in /var/log/secure and I think that can be another thing different to a connectivity issue, because sometimes, if I have 3 or 4 sessions against my instance, 2 or 3 goes down or only 1 or all of them....

Regards and thanks again for your help.

Ilvansky"

Amazon EC2	"Unable to RDP instance
System reachability check passed
Instance reachability check failed at July 13, 2016 at 5:20:00 PM UTC-5 (20 minutes ago)

Instance: i-5cba417c

Cannot RDP to instance. I stopped the instance and restarted, but still the same.

Any ideas how to proceed?

thank you in advance!"

Amazon EC2	"Re: Unable to RDP instance
Connected after waiting for over an hour. Not sure what the problem was"

Amazon EC2	"documentation for AWS::AutoScaling::Trigger
hi,

i'm trying to use AWS::AutoScaling::Trigger as part of my stack in cloud formation but cannot find any documentation about.
can somebody point me to one please."

Amazon EC2	"Re: documentation for AWS::AutoScaling::Trigger
Hello,

I researched and couldn't find any command like ""AWS::AutoScaling::Trigger"". Could you please confirm what you're trying to achieve?

I found this this link which explains how you can add scaling policy to Auto scaling group:

http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-policy.html

If you'd like to setup an autoscaling trigger, you can follow the below steps:

Step1: Use AWS::AutoScaling::LaunchConfiguration
To set up the ASG
http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig.html

http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html#scenario-as-launch-config

Step 2: Use AWS::AutoScaling::ScalingPolicy to set up scale up trigger and scale down trigger, listed are some examples:

       ""AWSEBAutoScalingScaleDownPolicy"": {
            ""Properties"": {
                ""AdjustmentType"": ""ChangeInCapacity"",
                ""AutoScalingGroupName"": {
                    ""Ref"": ""AWSEBAutoScalingGroup""
                },
                ""ScalingAdjustment"": ""-1""
            },
            ""Type"": ""AWS::AutoScaling::ScalingPolicy""
        },


        ""AWSEBAutoScalingScaleUpPolicy"": {
            ""Properties"": {
                ""AdjustmentType"": ""ChangeInCapacity"",
                ""AutoScalingGroupName"": {
                    ""Ref"": ""AWSEBAutoScalingGroup""
                },
                ""ScalingAdjustment"": ""1""
            },
            ""Type"": ""AWS::AutoScaling::ScalingPolicy""
        },

Please let me know if this is helpful."

Amazon EC2	"Instance i-a8b0fd24 stuck in shut down since days
Hej, i tried to stop the instance i-a8b0fd24, but nothing happens. Please terminate the instance."

Amazon EC2	"Re: Instance i-a8b0fd24 stuck in shut down since days
Hello,

I have reached to Ec2 team to investigate this issue. We will update you on this thread as soon as we have an update.

Regards,
Umair A."

Amazon EC2	"Re: Instance i-a8b0fd24 stuck in shut down since days
thanks. the instance is still in ""shutting-down""-modus. i tried to force-stop with the api, but nothing changed.
and the instance never came up. it was started in an autoscaling group."

Amazon EC2	"Re: Instance i-a8b0fd24 stuck in shut down since days
Hello,

The service team has successfully marked your instance as terminated. Please let me know if you hav any further questions.

Thanks,
Anup"

Amazon EC2	"How do I add a 64-bit IP to allowed IP on inbound rules
I have a user who needs access to a Windows instance I've started up.

The user is on a Macbook connected to the Internet via a Verizon Mifi device.

I had him go to ""What is my IP"" and I got a 64-bit IP that begins with 2600: 

The EC2 ""Edit inbound rules"" didn't seem to like that.

Is there any way to add a 64-bit IP to the inbound rules so this user can connect?"

Amazon EC2	"Re: How do I add a 64-bit IP to allowed IP on inbound rules
Okay, the user DOES have a 32-bit IP. You guys can forget this if you like."

Amazon EC2	"Re: How do I add a 64-bit IP to allowed IP on inbound rules
Hello,

Glad you resolved the issue. I'm going to mark this thread as resolved.

Thank you,
Anup"

Amazon EC2	"How to check the link capacity of an EC2 instance running Ubuntu?
The standard Unix command ""ethtool eth0"" returns only the following :

Settings for eth0:
        Link detected: yes

How can I get the link capacity?"

Amazon EC2	"Graphcial screen/desktop on free tier EC2
Hi guys,
I'm using, in my computer, a software to automate some administrative and very repetitive actions (AutoIt). This software automates data input, mouse movements and clicks (it takes control of the mouse). This works fine in my computer and in the VPC under the Windows Remote Desktop, but, if I close the connection everything freezes. Obviously, this is because there are no mouse or screen in a VPC.
The question: do Amazon have some software or service to create a graphical screen in a VPC? Or a virtual desktop that I can manage pixel positions even without remote conection?
There are any software to do this?

PS. I prefer maintain the EC2 free tier.

Thanks in advance!"

Amazon EC2	"Re: Graphcial screen/desktop on free tier EC2
Hi,
Apparently this is a possible answer:
https://social.technet.microsoft.com/Forums/pt-BR/647e8a1a-b164-4050-a9d7-bf6025a77638/how-to-enable-the-interface-gui-permanently-in-windows-2012-r2?forum=winserver8gen
Make a virtual screen by a VNC server or a VNC client pointing to itself. I don't know another software that makes a virtual screen.

Edited by: Chuckero on Jul 13, 2016 9:10 AM"

Amazon EC2	"No security patches available for SUSE SLES 11 SP3 ?
Hi folks,

I have an EC2 instance running SLES 11 SP3 and until recently it ran an automated cron job to check for security patches and notified me weekly if any were available.
The cron job is still running but it hasn't found a new security patch for some months making me suspicious....
The command I am running and the output is below. No visible errors, but also no patches for ages. 
is SLES 11 SP3 no longer available for zypper patch updates or have I screwed something up ?

ip-172-31-45-129:~ # zypper patch
Loading repository data...
Reading installed packages...
Resolving package dependencies...

Nothing to do.
ip-172-31-45-129:~ #

I've been trawling the web and the forums for a few hours and can't seem to find any answers. Hoping one of you gurus can assist and educate the ignorant (me !)
Thanks in advance !

Pete"

Amazon EC2	"Re: No security patches available for SUSE SLES 11 SP3 ?
I have run the mirror process on every SMT server in amazon. Can you verify this resolved your issue? if not can you provide me with the IP address of your smt server? You can find the IP address in /etc/hosts."

Amazon EC2	"cloud-init Failing When Instance Launched into VPC From Cloudformation
When launching an autoscaling VPC instance from a Cloudformation template, ""cloud-init.log"" is showing failure to run ""yum -t -y makecache"" and user scripts are timing out consistently."

Amazon EC2	"Website is down at regular intervals and very slow.
Hi All,

One of our client website is on Ec2, database on RDS and DNS routing by Route53.
The domain is : http://www.bookmyparty.com.au

Instance ID: i-b179586e

The site is very very slow on the AWS and takes more than 5-6 mins to load whereas the same development version stats are below:

This specific test was done on July 13 at 18:11:05 from Melbourne, Australia. The web page took 6.67 s to load, used 85 requests, and weighed in at 7.8 MB.

Almost every day the site will be down twice. Tried restarting the server, cleared the database but no success. Could you please help me in getting this site up and running without any performance hiccups. The site is in production and it is hitting the client's business.

Thanks in advance

Regards,
Krishna"

Amazon EC2	"Instance (i-7cfc94c0) rebooted, no reason, was it hardware?
My instance (i-7cfc94c0) was rebooted last night, and there are no trace of human activity or errors that can explain that. Was it a hardware problem?"

Amazon EC2	"Re: Instance (i-7cfc94c0) rebooted, no reason, was it hardware?
Good day

I confirm there was a underlying hardware issue that caused this which was around 2016-07-12 20:18:00 UTC

We have automated methods for potential failures but there are rare cases before any warning can be triggered, which is what happen here.
As generic advice we suggest building around failure :
http://d36cz9buwru1tt.cloudfront.net/AWS_Building_Fault_Tolerant_Applications.pdf

Alternatively enable our EC2 Auto Recovery feature to minimize downtime:
https://aws.amazon.com/blogs/aws/new-auto-recovery-for-amazon-ec2/

Regards
Imthian R"

Amazon EC2	"Hyper-V VM import to EC 2 stuck at 53%
Hello,

The past several days I have been trying to import a Hyper-V VM with Windows Server 2012 R2 as Guest OS to Amazon Web Services. I have been using the following command to import the VM:

ec2-import-instance

I don't know what else to do. The same VM works fine in Azure but in AWS. This is my last attempt in AWS. At this point, I think I will cancel my account in AWS and move to Azure if I cant import it. If someone in AWS can help me to find out why my VM wont import, I will appreciate it.

import task: import-i-ffu2j1ht

Thank you,"

Amazon EC2	"Re: Hyper-V VM import to EC 2 stuck at 53%
Hello,

I have engaged the team to investigate this issue further. Once the team completes its investigation, they will be updating you as more information becomes available.

Regards,
Mohsin"

Amazon EC2	"Re: Hyper-V VM import to EC 2 stuck at 53%
Good day 

The import failed during the the last stage where we test network connectivity. During the import process your virtual machine is test booted in EC2 and must pass health checks in order for the import task to complete successfully. From the console output it appears the OS was stuck in a reboot loop or BSOD and the import task became stuck.

Unfortunately there are no more resources left to examine, your data is purged when an import task is cancelled. We would need more information and the probably disk image to troubleshoot the issue further. We would recommend opening a premium support case for in depth diagnose. 

Regards
Imthian R"

Amazon EC2	"Newly created Instance Running but not reachable
Hello,
The instance i-027bea29768a06925 is a newly created one from a private AMI. It shows running but status checks are either failing or saying Insufficient data.

Not able to reach the server via SSH or ping it.

I have tried to stop/start. Also, I had removed an earlier instance and replaced with this one still it is not working.

Please advise.

Regards,
Ankit

Edited by: ankitsahu84 on Jul 12, 2016 11:17 PM"

Amazon EC2	"ec2 freeze but running in console
Hi folks!

My Ec2 in Singapore region is suddenly freeze and not accessible via ssh, but the state in console is running. I've already checked the server logs everything is seems working normally, the server load is normal, the application is running properly before freeze. My instance type is c4.2xlarge and the ID is i-31606efc.
Any info which file i've to check ? syslog already checked.

Thanks.

Edited by: adityahilman on Jul 13, 2016 12:02 PM"

Amazon EC2	"Is there a limit to the max no of file handles supported on EC2 instance?
I have an EC2 instance running Ubuntu OS. I run AMQ on this node which supports concurrent connections to clients. After sometime, connections to AMQ fail with ""Too many open files"" exception and the solution suggested by AMQ community is to increase the limit of file handles on this node. 

I used standard Unix commands to increase this number, but I see that it does not increase beyond 4096. How can I increase this limit to 20K for a non-root user?

Any help is greatly appreciated!

Thanks in advance,
Shobhana"

Amazon EC2	"can not access my ec2
Hi

I have an EC2 instance, which ID is i-0e99b9ab, i can not access it since few hours ago. http/ssh/ping, all died. i tried to reboot it via dashboard, but is not working. my other colleagues can not access it either.

Could someone help me on it?

thanks"

Amazon EC2	"Research Survey
Hello,

I am a student who is conducting a research survey on cloud computing and costs of APIs. It would be great to get invaluable insights from people from this community.  The survey is very short, only 10 questions and it would not take more than 3 minutes.  The link to the survey is below. 

https://www.surveymonkey.com/r/CWZ5WWK

Thank you for your time and consideration. 
Toni"

Amazon EC2	"Research Survey
Hello,

I am a student who is conducting a research survey on cloud computing and costs of APIs. It would be great to get invaluable insights from people from this community.  The survey is very short, only 10 questions and it would not take more than 3 minutes.  The link to the survey is below. 

https://www.surveymonkey.com/r/CWZ5WWK

Thank you for your time and consideration. 
Toni"

Amazon EC2	"How to create an alarm when EC2 intances are created
I would like to be notified when users created new EC2 instances.

How can I accomplish that?

Edited by: mjorand on Jul 12, 2016 3:07 PM"

Amazon EC2	"Re: How to create an alarm when EC2 intances are created
Hello,

You can create alarms to monitor when an instance is created with Cloud Trail filters and Cloud Watch alarms.

You following documentation is a great place to get started: 
http://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-ec2-instance-changes

Regards,
Nick"

Amazon EC2	"No T2 Reserved Instances available in US-EAST-1A?
Trying to purchase some Windows t2.medium, etc. reserved instances in US-EAST-1A.... and the search dialog keeps returning ""no reserved instances available"" -- have tried with many options set to ""ANY"" ... common thread is if it's a t2 instance type, there are none available -- which I find hard to believe as I'm able to launch a pay as you go instance easily of the same instance types. Is something broken?"

Amazon EC2	"Re: No T2 Reserved Instances available in US-EAST-1A?
Nevermind... stupid me... I should have selected Windows (VPC) for instance type, that was the issue.  Disregard!"

Amazon EC2	"Instance not accessible
My instance (i-9d7a0f2c) stopped being accessible. I can't even SSH to it. The CPU consumption is stuck at 50%. I don't think it had anything to do with the application running on it. Could someone from AWS look into it? Thanks."

Amazon EC2	"Re: Instance not accessible
Hello,

I have reviewed the EC2 instance in question. The underlying-host where this EC2 instance resides is passing all health checks. However, the instance-reachability check has failed. This is likely due to an OS related issue. Can you attempt to perform a reboot to see if the issue persists? Otherwise, you will likely have to stop the instance, and detach the root EBS volume, and mount it to a temporary EC2 instance and investigate the OS level logs.

Regards,
Mohsin"

Amazon EC2	"how can I move a 19GB file from one EC2 instance to another?
I have tried scp. It keeps stalling around 17% complete. Any suggestions?"

Amazon EC2	"EC2 routing oddity
Hi All,

I have an EC2 instance, id=i-0d80ff444b9c1d8cc, which is running a simple SMTP server. It is there to provide e-Mail services to another server hidden inside IBM. The IP address for this instance is an elastic-IP address of 52.86.81.241. I cannot connect to this IP address in any fashion what so ever. All pings get a TIMEOUT. A TRACERT to this address shows:

C:\Documents and Settings\fvs\My Documents>tracert 52.86.81.241

Tracing route to ec2-52-86-81-241.compute-1.amazonaws.com http://52.86.81.241 over a maximum of 30 hops:

 1 <1 ms <1 ms <1 ms 192.168.0.1
 2 <1 ms <1 ms <1 ms 192.168.5.1
 3 17 ms 16 ms 15 ms user-0c2h1g1.cable.mindspring.com http://24.40.134.1
 4 30 ms 32 ms 33 ms cpe-174-111-124-101.triad.res.rr.com http://174.111.124.101
 5 15 ms 13 ms 14 ms cpe-024-025-063-078.ec.res.rr.com http://24.25.63.78
 6 16 ms 15 ms 15 ms be31.drhmncev01r.southeast.rr.com http://24.93.64.184
 7 20 ms 23 ms 23 ms bu-ether15.asbnva1611w-bcr00.tbone.rr.com http://66.109.6.80
 8 34 ms 24 ms 22 ms bu-ether12.vinnva0510w-bcr00.tbone.rr.com http://66.109.6.31
 9 23 ms 23 ms 19 ms 0.ae1.pr1.dca20.tbone.rr.com http://107.14.17.210
10 22 ms 19 ms 23 ms 24.27.236.44
11 * * * Request timed out.
12 * * * Request timed out.
13 47 ms 45 ms 38 ms 54.239.110.217
14 24 ms 20 ms 33 ms 54.239.109.217
15 24 ms 21 ms 20 ms 205.251.245.121
16 * * * Request timed out.
17 * * * Request timed out.
18 * * * Request timed out.
19 * * * Request timed out.
20 * * * Request timed out.
21 * * * Request timed out.
22 * * * Request timed out.
23 * * * Request timed out.
24 * * * Request timed out.
25 * * * Request timed out.
26 * * * Request timed out.
27 * * * Request timed out.
28 * * * Request timed out.
29 * * * Request timed out.
30 * * * Request timed out.

Trace complete.

As you can see, I went from a TWC owned router, Hop 10 - 24.27.236.44, through two routers that did not respond, Hops 11 and 12, and then into a set of Amazon Routers, Hops 13 through 15 - 54.239.110.217, 54.239.109.217, 54.239.110.217, where it seems that my packets disappear into oblivion. Nothing ever reaches 52.86.81.241.

This has been going on for at least two days now, yesterday 7/10 and today 7/11. It might have been going on for longer.

One of my co-workers, who is located about 5 miles from me and uses the same Internet Provider, Earthlink with TWC cable connections has no trouble getting to this IP address. And I mentioned that the purpose of this was to provide an SMTP server from a system imbedded inside of IBM. That system has no problem contacting the IP address of this instance. Only I do.

My co-workers TRACERT is:

C:\Documents and Settings\jfp\My Documents>tracert 52.86.81.241

Tracing route to ec2-52-86-81-241.compute-1.amazonaws.com http://52.86.81.241 over a maximum of 30 hops:

1 <1 ms <1 ms <1 ms Tomato.Local http://192.168.1.1
2 109 ms 16 ms 19 ms user-0c8htg1.cable.mindspring.com http://24.136.246.1
3 25 ms 22 ms 28 ms cpe-174-111-115-053.triad.res.rr.com http://174.111.115.53
4 10 ms 17 ms 11 ms cpe-024-025-062-000.ec.res.rr.com http://24.25.62.0
5 23 ms 15 ms 15 ms 24.93.67.200
6 24 ms 15 ms 23 ms bu-ether15.asbnva1611w-bcr00.tbone.rr.com http://66.10 9.6.80
7 27 ms 23 ms 24 ms bu-ether12.vinnva0510w-bcr00.tbone.rr.com http://66.10 9.6.31
8 24 ms 17 ms 16 ms 0.ae0.pr1.dca20.tbone.rr.com http://107.14.17.208
9 24 ms 20 ms 19 ms 24.27.236.44
10 * * * Request timed out.
11 * * * Request timed out.
12 22 ms 26 ms 41 ms 54.239.110.223
13 24 ms 30 ms 31 ms 54.239.111.111
14 21 ms 24 ms 25 ms 205.251.244.231
15 * * * Request timed out.
16 * * * Request timed out.
17 * * * Request timed out.
18 * * * Request timed out.
19 * * * Request timed out.
20 19 ms 20 ms 24 ms ec2-52-86-81-241.compute-1.amazonaws.com http://52.86.81.241

Trace complete.

As you can see, at Hop 9, he arrives at the same router, IP 24.27.236.44, then gets two TIMEOUTs at Hops 10 and 11, but then his path diverges. His Hops 12 through 14 are similar to but not the same as my Hops 13 through 15. But from that point on, things go awry.

Does anyone have any thoughts on what is wrong and how to fix it?

Thanks

Regards



Edited by: isifvs on Jul 11, 2016 12:06 PM

I puzzled out what was wrong.  My Security Group for this instance only permits 3 inbound IP addresses.  And apparently, my leased IP address from Earthlink/TWC changed.  I am guessing that this might have occurred last Friday 7/8, when a power outage occurred during a thunderstorm and my power company was unable to restore power for just shy of 12 hours.

Not sure why my IP address was reassigned, but it did change and resulted in my inability to access my instance.

Oh well, lesson learned.

Can't answer question, as some message quote has been reached.  I will try and mark question as answered later.

Thanks

Regards

Edited by: isifvs on Jul 11, 2016 12:08 PM"

Amazon EC2	"Re: EC2 routing oddity
Marking question as answered, I hope."

Amazon EC2	"Amazon Linux AMI - SFTP logs
Amazon Linux AMI - SFTP logs

We have an instance running Amazon Linux AMI.

We would like to log all SFTP users' actions (connection,upload,delete,etc) in /var/log/sftp.log

All users are chrooted in their home directory.

I have already modified :

1)/etc/ssh/sshd_config :
Subsystem sftp internal-sftp -l INFO -f AUTH
 
Match group ftp-users
	ChrootDirectory %h
	X11Forwarding no
	AllowTcpForwarding no
	ForceCommand internal-sftp
 

2)/etc/rsyslog.conf :
auth.*                                                  /var/log/sftp.log
 

And restart services :
sudo /etc/init.d/sshd restart
sudo /etc/init.d/rsyslog restart
 

File /var/log/sftp.log is created but remains empty.

I still have some sftp information (about connections) on secure.log 

Any advice to make it works?

Thanks,

Victor"

Amazon EC2	"CloudFormation EC2 Initialisation Scripts Succeed But Not Working
Porting a cloudformation template to create VPC.  Everything working except for actions performed in EC2 instance initialisation.

Sporadic timeout issues.  At least once the whole script failed to run during initialisation.  Waited until following morning and this issue went away.  Seems to be back again now; see below.  Didn't happen on current instance.

Associating EIP consistently fails.  cfn-init.log says it succeeded and returns AssociationId.  Is there an extra step required when doing this in a VPC?  Worked fine in classic EC2.  Already changed script to specify allocationId.  Manually associating using console works fine.

Dynamically mounting volume was working but now it's not working either.  No changes made to that particular step.  Actually seems to occur some time later.  Usually after I manually assign EIP; but that could be just coincidence based on how long I wait before giving up and manually assigning EIP so I can check logs.

Latest attempt is running as instance id i-00476f0ee0383d66a where volume eventually mounted by itself and I manually assigned EIP eventually.

And here is cfn-init.log from previous run where it just timed out
2017-07-11 03:05:13,266 [DEBUG] CloudFormation client initialized with endpoint https://cloudformation.ap-southeast-2.amazonaws.com
2016-07-11 03:05:13,267 [DEBUG] Describing resource LaunchConfiguration in stack Portal-portal2
2016-07-11 03:06:13,267 [WARNING] Timeout of 60 seconds breached
2016-07-11 03:06:13,268 [ERROR] Client-side timeout
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 162, in _retry
    return f(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 231, in _timeout
    raise TimeoutError(""Execution did not succeed after %s seconds"" % duration)
TimeoutError
2016-07-11 03:06:13,270 [DEBUG] Sleeping for 0.231235 seconds before retrying
2016-07-11 03:06:13,502 [DEBUG] Describing resource LaunchConfiguration in stack Portal-portal2
2016-07-11 03:07:13,503 [WARNING] Timeout of 60 seconds breached
2016-07-11 03:07:13,503 [ERROR] Client-side timeout
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 162, in _retry
    return f(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 231, in _timeout
    raise TimeoutError(""Execution did not succeed after %s seconds"" % duration)
TimeoutError
2016-07-11 03:07:13,504 [DEBUG] Sleeping for 0.643272 seconds before retrying
2016-07-11 03:07:14,149 [DEBUG] Describing resource LaunchConfiguration in stack Portal-portal2
2016-07-11 03:08:14,149 [WARNING] Timeout of 60 seconds breached
2016-07-11 03:08:14,149 [ERROR] Client-side timeout
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 162, in _retry
    return f(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 231, in _timeout
    raise TimeoutError(""Execution did not succeed after %s seconds"" % duration)
TimeoutError
2016-07-11 03:08:14,150 [DEBUG] Sleeping for 1.191707 seconds before retrying
2016-07-11 03:08:15,343 [DEBUG] Describing resource LaunchConfiguration in stack Portal-portal2
2016-07-11 03:09:15,344 [WARNING] Timeout of 60 seconds breached
2016-07-11 03:09:15,344 [ERROR] Client-side timeout
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 162, in _retry
    return f(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 231, in _timeout
    raise TimeoutError(""Execution did not succeed after %s seconds"" % duration)
TimeoutError
2016-07-11 03:09:15,344 [DEBUG] Sleeping for 14.856871 seconds before retrying
2016-07-11 03:09:30,217 [DEBUG] Describing resource LaunchConfiguration in stack Portal-portal2
2016-07-11 03:10:30,217 [WARNING] Timeout of 60 seconds breached
2016-07-11 03:10:30,218 [ERROR] Client-side timeout
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 162, in _retry
    return f(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/cfnbootstrap/util.py"", line 231, in _timeout
    raise TimeoutError(""Execution did not succeed after %s seconds"" % duration)
TimeoutError
~"

Amazon EC2	"Re: CloudFormation EC2 Initialisation Scripts Succeed But Not Working
Can anyone provide assistance with this?

I have tried different versions of the AWS Linux image and different instance types with the same result.

About 50% of the time the cloud formation initialisation times out completely.  ""cfn-init.log"" contains only time out messages.

When it doesn't timeout, both the volume mount and EIP association scrpipts claim to have succeeded.  Often the volume mount will actually mount the volume, but the EIP association, even though it succeeds and returns an eipassoc, never actually results in the EIP being associated with the instance"

Amazon EC2	"Account management for an AMI
I'm trying to create a tutorial to teach users how to use a command line software package that we've developed with RStudio to analyze a preset collection of data files. To do this, I want to create AMI that comes with a directory that contains a number of files and is pre-loaded with the necessary software including RStudio server. To install RStudio server, I've been following Randy Zsitch's instructions (http://randyzwitch.com/r-amazon-ec2/) and I'm able to login to RStudio using the user account. However, if the user is logged into RStudio, they can't see the default home directory (i.e. /home/ubuntu), their home directory (i.e. /home/rstudio) only has the R directory. I could certainly install the data files for the tutorial into /home/rstudio. However, if they SSH into the default account to access the command line software then they can't get the rstudio account without using sudo.

I'm looking for help to achieve one of two options...

1. Enable user to SSH into the EC2 instance using the rstudio account and password and access RStudio server with the rstudio account. Currently, I can seem to do this

2. Enable user to access RStudio server with the ubuntu account. This doesn't seem possible since the log in uses key-pair and not a password making it impossible to access RStudio server with a password since there isn't one.

I feel like I must be missing something obvious, but I'm still pretty new to the world of AWS. How do I set things up so that someone can directly log into the same account using RStudio server and SSH?

Edited by: Kindle Customer on Jul 12, 2016 5:28 AM"

Amazon EC2	"Instance unavailable with error: ec2-get-credentials: Waiting for network
Hi,

   I have been having issues with connectivity to my instance since late July 2nd.  I managed to mount the EBS volumes on a sacrificial micro instance, and the /var/log/messages is full of:

Jul  3 06:28:04 ladon tripwire17092: Integrity Check Complete: /var/lib/tripwire/ladon.golden-gryphon.com.twd TWReport ladon.golden-g
ryphon.com 20160703062656 V:43713 S:100 A:14044 R:28168 C:1501
Jul  3 06:28:04 ladon rsyslogd0: action 'action 17' resumed (module 'builtin:ompipe') try http://www.rsyslog.com/e/0 
Jul  3 06:28:04 ladon rsyslogd-2359: action 'action 17' resumed (module 'builtin:ompipe') try http://www.rsyslog.com/e/2359 
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...

   What credentials are missing? How do I provide them?

Manoj

Debugging steps taken:
1. created a new dummy instance,
2. stopped boith the real and dummy instances 
3. detached the root fs from the real instance
4. attached the fs to the new dummy instance as sdf1
5 Started the dummy instance
6 mounted the root file system volume on the new instance
7. ensured that the firewall was not being started
8. Stopped the dummy instance 
9. detached the root fs from the dummy instance
10. Attached the root fs to the real instance
11. Started the real instance
12. The console logs show that the server started, no firewall, and started imap and mail servers, as well as the web server

I can't access any of the networking servers on the machine:
1) SSH - port 22
2) SMTP - port 587
3) HTTP - Port 80
4) HTTPS - port 443
5) IMAP-SSL - port 993
6) ICMP 

The security group settings for inbound connexts allow all inbound connections for the following: 
All ICMP All N/A 0.0.0.0/0
SSH TCP 22 0.0.0.0/0
SMTP TCP 25 0.0.0.0/0
HTTP TCP 80 0.0.0.0/0
HTTPS TCP 443 0.0.0.0/0
SMTPS TCP 465 0.0.0.0/0
Custom TCP Rule TCP 587 0.0.0.0/0
IMAPS TCP 993 0.0.0.0/0

There is no local firewall.

I am getting connection timeout errors:
ssh: connect to host 50.112.111.207 port 22: Connection timed out"

Amazon EC2	"Re: Instance unavailable with error: ec2-get-credentials: Waiting for network
Hello,

Would you be able to give us the instance-id so that we can take a look? What is the operating system for this instance? Do the provided logs match the issue timming?. What was the CPU and memory utilization status at the time of issue?

Regards,
Umair A."

Amazon EC2	"Unable to create instance store backed AMI from existing EBS backed system
Hi All,
    First, thanks to the forum, I have been able to solve many problems that I have faced from the content of this forum. Great job indeed!

    I'm trying to create Instance Stored Backed AMIs for the m3.large systems that we use. Our use case is specific and instance store backed servers would be perfect fit.

    Here's what I have done.
STEP 1:
    ec2-bundle-vol -c cert.pem -k key.pem -u xxxyyyzzz -p xxxyyyzzz -r x86_64 --destination /mnt/out
    This has created the bundle. And the block device mapping in manifest looks like this
<block_device_mapping>
    <mapping>
        <virtual>ami</virtual>
        <device>/dev/xvda</device>
    </mapping>
    <mapping>
        <virtual>root</virtual>
        <device>/dev/xvda</device>
    </mapping>
</block_device_mapping>

 STEP 2:
    ec2-upload-bundle -b tracxn-ami -a xxxyyyzzz -s xxxyyyzzz -m xxxyyyzzz.manifest.xml
    This has uploadede the same thing in S3

STEP 3:
    ec2-register --name ""instanceStore-m3large-20160701"" --description ""instanceStore-m3large-20160701"" --region us-east-1 -O xxxyyyzzz -W xxxyyyzzz bucket_name/xxxyyyzzz.manifest.xml

   Now step 3 is giving me constant error saying 
  Client.InvalidManifest: Invalid block device mapping: Invalid device name '/dev/xvda' (Service: AmazonEC2; Status Code: 400; Error Code: InvalidManifest;

   My questions are
  1. Now that I'm running an EBS backed instance, how can I specify that the AMI that has to be created is Instance Store backed one.
  2. I'm sure if I change block device mapping, I will get this correct. I have tried various cobinations of ephimeral0, /dev/xvda1 but no luck. Any help would be really really appreciated. Have been stuck for a while.

   Here is the output of lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  32G  0 disk
└─xvda1 202:1    0  32G  0 part /
loop0     7:0    0  10G  0 loop
loop1     7:1    0  10G  0 loop

Lemme know, if there's a need for more information

Edited by: marcmarquez on Jul 7, 2016 11:49 PM"

Amazon EC2	"Re: Unable to create instance store backed AMI from existing EBS backed system
Can somebody please help?I'm stuck for a while now"

Amazon EC2	"Instance stuck in stopping state, can't create AMI, can't force unmount ebs
I had an EC2 instance stuck in ""stopping"" state for almost an hour due to retirement of the host.

During this hour I could not do anything to recover the instance. I couldn't:

-Force stop the instance
-Create an AMI from the instance
-Force unmount the EBS volume
-Take a snapshot of the EBS volume

This has also happened to another client of mine around 1 month ago with exactly the same kind of thing happening.

What is Amazons response regarding this? Does Amazon believe that this behaviour is acceptable if something as simple as a host going offline makes an instance unrecoverable for so long?

I personally think this is completely unacceptable for a service such as EC2. In my opinion if a host is shut down then the instance should flawlessly come back up on another host. But at the very least the instance should be stopped within 2-3 minutes of the host going down so it can be easily restarted.

Being out for almost an hour when there is absolutely nothing we can do to bring it back is a joke.

I moved lots of clients to EC2 due to reliability. I did not expect to be completely locked out from managing instances on multiple occasions.

Edited by: chiefbodge on Jul 11, 2016 4:12 PM"

Amazon EC2	"Re: Instance stuck in stopping state, can't create AMI, can't force unmount ebs
Hello,

I'm sorry that you have experienced this issue with your instance. Since you did not provide any instance in on the post we could not check the instance details. Based on your response it seem like the instance was scheduled for maintenance and the issues with underlying host affected your instance. 

I can tell you that we are already aware of this occasional problem and working on improving Ec2 service for better customer experience. 

Please let us know if you are still experiencing any problems, do share the instance-id with us.

Regards,
Umair A."

Amazon EC2	"Instance is not working anymore after a few minutes
Hi, the situation is this: my instance is not responding to SSH or HTTP (is not a security group issue, i'm pretty sure about this) so i terminated it and started a new instance (rebooting it was useless), and my test application was finally working fine (also SSH was working) but after a few minutes it stopped responding. It says again ""None of the instances are sending data."". I mean it was working and then again had issues. Obviously SSH/HTTP doesn't work anymore. So it works when i launch it, but after a few minutes not anymore. This happens every time i start a new instance. The instance-id is : i-a7b9c21b. Anyone know what the problem may be?"

Amazon EC2	"Re: Instance is not working anymore after a few minutes
Hello,

We are tracking your issue at below thread. Resolving this thread.

https://forums.aws.amazon.com/thread.jspa?tstart=0&threadID=234913

Regards,
Umair A."

Amazon EC2	"Load Balancer Listeners for https work for one port but not for the second
Hi,

I have one EC2 instance connected to a load balancer. The first listener is configured to listen on Port 42333 for https and to redirect the call to the same Port on my EC2 instance using http. This works just fine, Certificate Manager cert is attached, calls going through.

Now I have created a second listener on the same LB listening on port 42142 with https and redirecting to port 42142 on the same instance using http. I created a new cert and put it all together. These calls do not go through though.

What am I missing here?

BR
Michael"

Amazon EC2	"Re: Load Balancer Listeners for https work for one port but not for the second
Hello Michael, 

It sees the Loadbalancer setup is fine and i was able to run some telnet tests against all ports successfully. 

ubuntu@ip-172-31-47-228:~$ telnet GlobalServers-335327799.eu-central-1.elb.amazonaws.com 42142
Trying 52.29.89.2...
Connected to GlobalServers-335327799.eu-central-1.elb.amazonaws.com.
Escape character is '^]'.
^]
telnet> quit
Connection closed.
ubuntu@ip-172-31-47-228:~$ telnet GlobalServers-335327799.eu-central-1.elb.amazonaws.com 42333
Trying 52.29.89.2...
Connected to GlobalServers-335327799.eu-central-1.elb.amazonaws.com.
Escape character is '^]'.
^]
telnet> quit
Connection closed.
ubuntu@ip-172-31-47-228:~$ telnet GlobalServers-335327799.eu-central-1.elb.amazonaws.com 42144
Trying 52.29.200.186...
Connected to GlobalServers-335327799.eu-central-1.elb.amazonaws.com.
Escape character is '^]'.
^]
telnet> quit

Could you please confirm if the ELB is correct and also elaborate your issue in detail.

Regards,
Umair A."

Amazon EC2	"OpenVPN Connectivity issue between AWS instances.
We have an OpenVPN server setup on Ubuntu 14.04 (on UDP port) in Beijing Region. We have successfully connected to the VPN server from our local machines using VPN client (ovpn file) without any issues. But when we try to connect the VPN server from an instance in the US region , there is intermittent connection problem. It rarely connect to the VPN server after several retry and most of the case it failed to connect. Is there any network restrictions between AWS regions that affects VPN connection ?
========================
OpenVPN 2.2.1 x86_64-linux-gnu SSL LZO2 EPOLL PKCS11 eurephia MH PF_INET6 http://IPv6 payload 20110424-2 (2.2RC2) built on Dec  1 2014
LZO compression initialized
Control Channel MTU parms  L:1542 D:138 EF:38 EB:0 ET:0 EL:0 
Socket Buffers: R=229376->131072 S=229376->131072
Data Channel MTU parms  L:1542 D:1450 EF:42 EB:135 ET:0 EL:0 AF:3/1 
Local Options hash (VER=V4): '41690919'
Expected Remote Options hash (VER=V4): '530fdded'
NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
UDPv4 link local: undef
UDPv4 link remote: AF_INETX.X.X.X:1194
TLS: Initial packet from AF_INETX.X.X.X:1194, sid=8ac90e1b f706a146
VERIFY OK: depth=1, /C=CN/ST=beijing/L=beijing/O=XXXX/OU=XXXX/CN=XXXX_CA/name=server
VERIFY OK: nsCertType=SERVER
VERIFY OK: depth=0, /C=CN/ST=beijing/L=beijing/O=XXXX/OU=XXXX/CN=server/name=server
TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
TLS Error: TLS handshake failed
TCP/UDP: Closing socket
SIGUSR1soft,tls-error received, process restarting
Restart pause, 2 second(s)
========================

Also we can see packet loss between US region instance and VPN Server(Beijing)
======================
HOST: ip-172-31-37-114            Loss%   Snt   Last   Avg  Best  Wrst StDev
  1.|-- ???                         100.0   100    0.0   0.0   0.0   0.0   0.0
  2.|-- ???                         100.0   100    0.0   0.0   0.0   0.0   0.0
  3.|-- ???                         100.0   100    0.0   0.0   0.0   0.0   0.0
  4.|-- 100.64.16.83                 0.0%   100    0.5   1.8   0.4  57.9   6.6
  5.|-- 54.239.48.178                0.0%   100    1.0   1.1   0.9   5.9   0.6
  6.|-- 52.93.12.238                 0.0%   100   28.5  16.0   2.3  54.9  14.5
  7.|-- 52.93.12.221                 0.0%   100    1.0   1.4   1.0  12.1   1.5
  8.|-- 54.239.41.247                0.0%   100  101.9 102.3 101.7 111.7   1.6
  9.|-- 54.239.41.160                0.0%   100  103.3 102.9 102.4 123.6   2.3
 10.|-- 54.239.53.21                 0.0%   100  106.4 107.5 102.6 117.4   3.4
 11.|-- 54.239.53.100                0.0%   100  102.7 102.5 101.8 105.0   0.6
 12.|-- 106.187.29.157               0.0%   100  115.3 116.1 115.2 151.9   4.5
 13.|-- obpjbb205.int-gw.kddi.ne.jp  0.0%   100  125.1 122.9 118.7 160.6   9.2
 14.|-- otejbb205.int-gw.kddi.ne.jp  0.0%   100  116.3 116.7 116.2 136.6   2.3
 15.|-- tr-ote124.int-gw.kddi.ne.jp  0.0%   100  116.2 116.3 116.2 116.6   0.1
 16.|-- 203.181.102.42              24.0%   100  326.8 287.0 260.8 363.5  26.6
 17.|-- 202.97.35.237               56.0%   100  326.3 275.8 260.8 326.3  23.4
 18.|-- 202.97.33.49                10.0%   100  355.6 303.8 287.4 355.6  23.4
 19.|-- 202.97.33.89                17.0%   100  321.9 273.7 255.5 322.8  24.6
 20.|-- 202.97.34.137               24.2%    99  386.6 339.3 296.8 392.6  25.0
 21.|-- bj141-135-161.bjtelecom.net 94.9%    99  274.5 289.2 274.5 311.2  19.8
 22.|-- bj141-133-245.bjtelecom.net 84.8%    99  361.9 328.5 296.4 380.1  24.5
 23.|-- 54.222.1.67                 11.3%    97  352.1 301.5 287.3 353.0  22.6
 24.|-- 54.222.1.67                 19.6%    97  393.4 347.6 303.0 399.2  24.3
 25.|-- ???                         100.0    97    0.0   0.0   0.0   0.0   0.0
======================

Edited by: jyothish on Jul 12, 2016 1:35 AM"

Amazon EC2	"Problem connecting to EC2 instance, remote desktop
I created a AMI off an existing EC2 instance (M1) in US region and copied it to Sydney region. Then I created a new VPN (with subnets etc), launched an new EC2 instance (M4) off the AMI. So bacillary I have done a ""Upsize"" and ""Region Switch"" operation. The instance is shown operational in EC2 dashboard, however I cannot make a remote desktop connection to it. (yes the security group has been set up and associated to the instance allowing port 3389 specifically). I can ping the new instance from my local desktop and another machine, just can't connect to it via RD...
This is actually not the first time I am observing this issue. Quite a while ago I created a T2 instance in Sydney region, I had exactly the same issue.
The only Port I can telnet is 80. Cannot Telnet any other ports even I have opened them up to 0.0.0.0/0
Any feedback and suggestions will be appreciated. Instance ID i-15bcd738
Apprently this guys has the same issue, never got answered:
http://stackoverflow.com/questions/21981796/cannot-ping-aws-ec2-instance 



Cheers
Yuan

Edited by: hexagonnz on Jul 10, 2016 9:18 PM

Edited by: hexagonnz on Jul 11, 2016 5:25 PM"

Amazon EC2	"Re: Problem connecting to EC2 instance, remote desktop
Found out why couldn't connect to the instance. 
I am on company's network, port 3389 is blocked on the network. I unplugged the network cable and tethered PC with my phone, everything worked. Now I need to get our network guys unblock the port on the network.

Thanks
Yuan"

Amazon EC2	"EC2 Instance Won't Reboot
AWS Support, we're trying to reboot the following instance (i-2698addf), but it isn't responding to reboot requests.  Can you take a look to see why not and if necessary force a hard reboot of the instance?

Let us know if you need more info.  Thanks.

MantisSeer

Edited by: mantisseer on Jul 11, 2016 4:41 PM"

Amazon EC2	"Re: EC2 Instance Won't Reboot
Looks like instance finally rebooted, so we don't need to force a hard reboot.  Thanks.

MantisSeer"

Amazon EC2	"Fixed IP on Elastic Load Balancers?
First I'll state the problem I'm trying to solve: I want to operate my own set of nameservers as EC2 instances, and have single IPs exposed for each set, to be used as authoritative nameservers for zones that I'm hosting.

What I'm trying to do (and failing) is set up ELBs for each set to redirect traffic on port 53.  I don't see anything that would prevent me from setting up the load balancing, but I'm not issued an IP address when the ELB is set up, I'm given a FQDN... with the explicit warning that the IP may change over time.

That ""changing over time"" is a deal-breaker.  Can't have a DNS server changing IPs.

Any ideas?  I do NOT want to go the Route 53 method, as it's important that we're able to manage the zones ourselves through our own interface.

(REVISED: it seems that's not the only dealbreaker -- there is no UDP support, either.)

Is there anything in the EC2 universe that will do what I'm describing?

Thanks,
John Rumpelein

Edited by: John Jacob Jingleheimer Schmidt on Jul 11, 2016 3:09 PM

Edited by: John Jacob Jingleheimer Schmidt on Jul 11, 2016 3:10 PM"

Amazon EC2	"Experencing high CPU steal percentage in EC2 Servers in Mumbai Region
Hi,

I'm experiencing high CPU steal percentage in a couple of our EC2 servers in Mumbai since the last 8 - 9 hours.
Can you please suggest what I should do?

P.S. Screenshots from New Relic Servers data attached."

Amazon EC2	"EC2 instance i-0f184eb completely lose network connectivity after 5 minutes
Dear Forum,

I have an instance running in zone us-west-1b. The problem is that about 3-5 minutes of running a new instance and SSH'd into it the network connection completely breaks. My SSH connection suddenly suffers a broken pipe and I can no longer SSH back to the instance and ping fails with ""Request timeout"". I have been able to reproduce this problem with CentOS 7 and Amazon Linux AMIs, so I don't think it's the distribution being used that's the problem.

This mysterious network behavior has happened with every new instance I have launched. I know the problem is not with my Inbound Security Group rules because I always have these attached Security Group rules in place.

1. Custom ICMP Rule -> Echo Reply -> Anywhere 0.0.0.0/0
2. SSH -> TCP -> 22 -> Anywhere 0.0.0.0/0
3. Custom ICMP Rule -> Echo Request -> Anywhere 0.0.0.0/0

The current instance ID: i-0f184eba
Instance State: running
Status Checks: 2/2 passed

This forum post seems to be related and descrbes the EC2 problem: https://forums.aws.amazon.com/message.jspa?messageID=246274

Here is the entire portion of the logs from the latest Amazon Linux Instance before network connectivity broke: i-0f184eba

	
System Log: i-0f184eba Refresh
 
Setting up Logical Volume Management: [    3.599789] random: nonblocking pool is initialized
[  OK  ]
 
Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 35898/524288 files, 360103/2096635 blocks
[  OK  ]
 
Remounting root filesystem in read-write mode:  [    3.657457] EXT4-fs (xvda1): re-mounted. Opts: (null)
[  OK  ]
 
Mounting local filesystems:  [  OK  ]
 
Enabling local filesystem quotas:  [  OK  ]
 
Enabling /etc/fstab swaps:  [  OK  ]
 
Entering non-interactive startup
[    3.834669] NET: Registered protocol family 10
Bringing up loopback interface:  [  OK  ]
 
Bringing up interface eth0:  
Determining IP information for eth0... done.
[  OK  ]
 
Starting auditd: [    7.801837] audit: type=1305 audit(1468216832.199:2): audit_pid=2107 old=0 auid=4294967295 ses=4294967295 res=1
[  OK  ]
 
Starting system logger: [  OK  ]
 
Starting irqbalance: [  OK  ]
 
Starting rngd: [  OK  ]
 
Starting rpcbind: [  OK  ]
 
Starting NFS statd: [  OK  ]
 
Starting system message bus: [  OK  ]
 
Mounting filesystems:  [  OK  ]
 
Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
[  OK  ]
 
Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Mon, 11 Jul 2016 06:00:33 +0000. Up 8.60 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Mon, 11 Jul 2016 06:00:33 +0000. Up 8.80 seconds.
ci-info: +++++++++++++++++++++++Net device info+++++++++++++++++++++++
ci-info:  Device   Up     Address         Mask          Hw-Address    
ci-info:    lo    True   127.0.0.1     255.0.0.0            .         
ci-info:   eth0   True  172.31.8.42  255.255.240.0  06:c3:5e:85:47:6d 
ci-info: ++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination     Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.0.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254   0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2       172.31.0.0     0.0.0.0     255.255.240.0      eth0      U   
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Mon, 11 Jul 2016 06:00:33 +0000. Up 9.41 seconds.
Starting sshd: [  OK  ]
 
ntpdate: Synchronizing with time server: [  OK  ]
 
Starting ntpd: [  OK  ]
 
Starting sendmail: [  OK  ]
 
Starting sm-client: [  OK  ]
 
Starting crond: [  OK  ]
 
Starting atd: [  OK  ]
 
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Mon, 11 Jul 2016 06:00:37 +0000. Up 12.69 seconds.
Cloud-init v. 0.7.6 finished at Mon, 11 Jul 2016 06:00:37 +0000. Datasource DataSourceEc2.  Up 12.77 seconds
 
Amazon Linux AMI release 2016.03
Kernel 4.4.11-23.53.amzn1.x86_64 on an x86_64
 
ip-172-31-8-42 login: 
Close


While I was SSH'd into the instance before the network completely dropped, I was able to capture some dmesg output, but couldn't see any problems that would/should cause this problem. 

dmesg: https://ptpb.pw/jcsK (previous dmesg)

I am at a dead end and hope some light can be shed on this problem as I cannot even use EC2 due to this weird behavior.

Cheers,
Snoopy

UPDATE 1

I notice when rebooting the instance the Check fails for 1/2 with this.
These checks monitor your software and network configuration for this instance.
Instance reachability check failed at July 11, 2016 at 2:15:00 AM UTC-7 (3 minutes ago)


UPDATE 2

Does anyone at Amazon have any idea why myself and lots of other users are reporting the same behavior? I'm almost certain this is not a problem from the end user's side, but somewhere in the EC2 infrastructure which Amazon is not seeing. This is a trending problem and surprised Amazon has no idea why this is occurring on their platform. Myself and many others can't even use EC2 due to nearly all instances being unavailable for no reason (sometimes stopping the instance and starting lets you reconnect). Amazon Support won't even help unless you sign up for Premium support. What a joke.

Edited by: Snoopy on Jul 11, 2016 12:54 PM"

Amazon EC2	"ebs encryption - supported instances
The docs say that t2.micro supports attachment of encrypted volumes.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html

However, it doesn't appear to be true, since when I only have t2.micro instances, attach will tell me that I have instance types that support encrypted volumes."

Amazon EC2	"Re: ebs encryption - supported instances
Hello,

Thanks for writing into the Forums.

I was just able to confirm on my own account that I could add encrypted volumes to the t2.micro type instance. Are you sure your instances are not t1.micro? Because these will not work with encryption.

Please feel free to post a screen shot to the forums post and also indicate your instance ID so that we can further investigate.

Regards,
Troy W"

Amazon EC2	"Can't connect to new instance - can't ping
Hi all,

I have just created a new instance in the us-east region, and attach an elastic IP to it (52.4.108.82). To launch it, I had to create a new VPC since I had never used this region before that. I also created a new Security Group, and a new Network Interface, which is now linked to the elastic IP. The security group allows connection from every IP, on the port 80, 22 and 443.

Everything seems to be fine (status checks are green for the instance), but I can't connect to it (not in SSH, nor in HTTP), and I can't even ping it (every packet are loss).

I tried to reboot the instance, detach and then reattach the elastic IP, but with no luck so far. I suspect I missed a step somewhere, but can't find what. I have several instances in eu-west-1 region that works just fine, so I compared the properties of the instance/network interface/elastic IP/security group. Everything seems equivalent, I can't see a difference.

Can someone help me to find this issue ? I can post more informations or some screenshots if needed.
Thanks in advance."

Amazon EC2	"Re: Can't connect to new instance - can't ping
Hello, 
thanks for reach us and sorry to hear you have issues with your instance. 

For the ping issue, by default ICMP traffic is blocked for any ec2 instance, you should explicitly add an inbound rule for ICMP to be allowed in the instance security group in order to be able to ping it. 

Now, about the other problem you are hitting, you must add an internet gateway to your Route Table: rtb-a04611c7 in order to route traffic from and to the internet from the vpc. 
An Internet gateway serves two purposes: to provide a target in your VPC route tables for Internet-routable traffic, and to perform network address translation (NAT) for instances that have assigned public (or elastic) IP addresses. 

Here you wil lfind out more about the Internet Gateway and how to 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

Remember as well that, have the 80 and 443 ports opened in the security group will not grant automatically a service listening to the port within the instance, you must configure an apache or nginx or other web hosting service to listen the desired port and then attempt to establish the connection. 

Cheers
Javier C#"

Amazon EC2	"Re: Can't connect to new instance - can't ping
I know I'm very late, but thank you for response, it was indeed what I needed. I'm marking the topic as resolved only now because when I tried to do it just after receiving your answer, it would not let me do it. I was receiving an error mentioning I have to wait and come back later (I do not remember the exact wording, but it was saying I had already posted too much).

Anyway, thank you."

Amazon EC2	"Instance is not accesible help!!
Hello

After trying to start the instance i-eaf3d967 on eu-west-1a region the instance is not accesible anymore. The console shows a 1/2 status passed. This instance was working fine last friday, can you check what is going on?? 

Thanks"

Amazon EC2	"Re: Instance is not accesible help!!
It started now... weird.."

Amazon EC2	"Permission denied (publickey) - root causes?
I've built a new ubuntu instance and have successfully logged in via ssh.  I've fiddled around a little with basic stuff nothing with my keypair - but in my fiddling while includes rebooting and shutdown and powering on somewhere i've twisted up my keypair somehow.

I'm familiar with the recovery process where i detach the volume mount it up to a recovery instance edit the files etc and I've been able to successfully ""fix"" my keypair ""problem"" - but it's happened twice now and it's confusing me - probably because of some simple ignorance on my part.

Are keypairs built based on the hostname / ip address of the instance?  (because that changes on a powercycle without having assigned an EIP - which maybe that's what I've been doing wrong?)

Just wondering"

Amazon EC2	"Why can't I access a port on my AWS instance?
I'm new to AWS so this is probably a ""doh!"" question.

I set up a CentOS 7 instance and assigned a elastic IP. I created a security group and created a custom TCP inbound rule that allows TCP traffic on port 8000 anywhere (0.0.0.0/0), an HTTP rule for port 80 also from 0.0.0.0/0, and SSH/port 22 rule from my laptop IP, and assigned the security group to my instance. Network ACL on the VPC allows all traffic. iptables/6, firewalld, nor SELinux services are NOT running on the box.

I CAN SSH to the box with the elastic IP. I CAN access http://my_elastic_ip, but I can NOT access http://my_elastic_ip:8000/some.html

netstat shows the 8000 port in listening state, on all addresses.

What am I missing?

Edited by: ChrisFTD on Jul 11, 2016 7:44 AM"

Amazon EC2	"EC2 Instance getting unavailable too often.
Hi There,

We have a EC2 instance which is getting unavailable very often. Last time it was unavailable for around 12 hr. To bring back the instance into normal state we always need to reboot the instance. 

This time, by following some questions on forum, we dig upto the EC2ConfigLog.txt and found some exception logged in into the file. On further analysis we also notice that whenever our instance was not accessible same exception was raised and logged into the log file.
EC2ConfigLog.txt file:-

2016-07-05T04:49:00.834Z: EC2Config service starting...
2016-07-05T04:49:01.083Z: Legacy configurator starting...
2016-07-05T04:49:01.115Z: Legacy configurator started.
2016-07-05T04:49:01.926Z: Finding resources
2016-07-05T04:49:01.941Z: Done Finding resources
2016-07-05T04:49:01.941Z: Updating config files...
2016-07-05T04:49:01.941Z: Update config files completed.
2016-07-05T04:49:01.941Z: EC2ConfigMonitorState: 0
2016-07-05T04:49:02.316Z: Opening COM port handle to write to the console
2016-07-05T04:49:02.363Z: Checking Configuration State of Windows before continuing
2016-07-05T04:49:02.363Z: Windows sysprep configuration complete.
2016-07-05T04:49:02.487Z: Warning: Unable to Publish to WMI. | System.Management.Instrumentation.WmiProviderInstallationException: Exception of type 'System.Management.Instrumentation.WMIInfraException' was thrown.
   at System.Management.Instrumentation.InstrumentationManager.Publish(Object value)
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.PublishWmiInstance()
2016-07-05T04:49:02.519Z: Checking for Sysprep
2016-07-05T04:49:07.963Z: Difficulty detecting PV driver details for Console Output
2016-07-05T04:49:07.963Z: There was an exception writing driver information to console: System.Exception: Difficulty detecting PV driver details for Console Output
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.GetDrivers()
2016-07-05T04:49:44.736Z: OS: Microsoft Windows NT 6.0.6002
2016-07-05T04:49:44.736Z: OsVersion: 6.0
2016-07-05T04:49:44.736Z: OsProductName: Windows Server (R) 2008 Datacenter
2016-07-05T04:49:44.736Z: OsBuildLabEx: 6002.18607.amd64fre.vistasp2_gdr.120402-0336
2016-07-05T04:49:44.752Z: Language: en-US
2016-07-05T04:49:44.752Z: TimeZone: Coordinated Universal Time
2016-07-05T04:49:44.752Z: Offset: UTC 00:00:00
2016-07-05T04:49:44.767Z: EC2 Agent: Ec2Config service v3.16.930
2016-07-05T04:51:02.106Z: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2016-07-05T04:51:07.661Z: EC2AddRoute: Adding Routes to Adapter with index: 11
2016-07-05T04:51:07.832Z: EC2AddRoute: Successfully added the Ip Route: 169.254.169.254 mask: 255.255.255.255, gateway: 10.11.132.65, NIC index: 11, Metric: 20
2016-07-05T04:51:07.848Z: EC2AddRoute: Successfully added the Ip Route: 169.254.169.250 mask: 255.255.255.255, gateway: 10.11.132.65, NIC index: 11, Metric: 20
2016-07-05T04:51:07.848Z: EC2AddRoute: Successfully added the Ip Route: 169.254.169.251 mask: 255.255.255.255, gateway: 10.11.132.65, NIC index: 11, Metric: 20
2016-07-05T04:51:07.863Z: Message: Waiting for meta-data accessibility...
2016-07-05T04:51:07.988Z: Message: Meta-data is now available.
2016-07-05T04:51:08.051Z: Http response error: The remote server returned an error: (404) Not Found. : meta-data/network/interfaces/macs/22:00:0a:0b:84:4e/vpc-id
2016-07-05T04:51:08.113Z: Windows License Type: ProvidedByAmazon
2016-07-05T04:51:08.113Z: Failed to fetch instance metadata http://169.254.169.254/latest/user-data with exception The remote server returned an error: (404) Not Found.
2016-07-05T04:51:08.113Z: Failed to get metadata/user-data The remote server returned an error: (404) Not Found.
2016-07-05T04:51:08.113Z: AMI-ID: ami-92cc6ffb
2016-07-05T04:51:08.113Z: Instance-ID: i-d66727ae
2016-07-05T04:51:08.378Z: Ec2SetDnsSuffixes: Setting new suffix list...
2016-07-05T04:51:08.441Z: Loading plugins
2016-07-05T04:51:08.456Z: Plugin Ec2SetPassword is disabled.
2016-07-05T04:51:08.456Z: Plugin Ec2SetComputerName is disabled.
2016-07-05T04:51:08.456Z: Plugin Ec2EventLog is disabled.
2016-07-05T04:51:08.456Z: Plugin Ec2ConfigureRDP is disabled.
2016-07-05T04:51:08.456Z: Plugin Ec2WindowsActivate is disabled.
2016-07-05T04:51:08.456Z: Plugin Ec2HandleUserData is disabled.
2016-07-05T04:51:08.456Z: =========Loading plugin Ec2InitializeDrives==============
2016-07-05T04:51:08.456Z: Ec2InitializeDrives: Executing in a new thread
2016-07-05T04:51:08.456Z: =========Loading plugin Ec2OutputRDPCert==============
2016-07-05T04:51:08.456Z: Ec2OutputRDPCert: Executing in a new thread
2016-07-05T04:51:08.488Z: =========Loading plugin Ec2SetDriveLetter==============
2016-07-05T04:51:08.488Z: Ec2SetDriveLetter: Executing in a new thread
2016-07-05T04:51:08.488Z: Ec2OutputRDPCert: Start Ec2OutputRDPCert
2016-07-05T04:51:08.519Z: Ec2InitializeDrives: Found Disk Name:\\.\PHYSICALDRIVE0; Index:0; SizeBytes:32210196480;
2016-07-05T04:51:08.519Z: Ec2InitializeDrives: Checking for partitions
2016-07-05T04:51:08.846Z: Waiting for background plugin to complete: Ec2InitializeDrives
2016-07-05T04:51:08.924Z: Ec2OutputRDPCert: Thumprint of RDP certificate is 680A3967A75A2F89AF3EBD542811C415C67799CD
2016-07-05T04:51:08.940Z: Ec2SetDriveLetter: Checking current volumes for any device name change
2016-07-05T04:51:08.956Z: Ec2SetDriveLetter: C: is mounted with Volume Name 
2016-07-05T04:51:08.956Z: Ec2InitializeDrives: Found Disk Name:\\.\PHYSICALDRIVE1; Index:1; SizeBytes:53686402560;
2016-07-05T04:51:08.956Z: Ec2InitializeDrives: Checking for partitions
2016-07-05T04:51:08.956Z: Ec2SetDriveLetter: D: is mounted with Volume Name New Volume
2016-07-05T04:51:08.956Z: Ec2SetDriveLetter: Reading DriveLetterMapping configuration file...
2016-07-05T04:51:09.034Z: Ec2InitializeDrives: Initialization finished. Plugin exiting...
2016-07-05T04:51:09.034Z: Background plugin complete: Ec2InitializeDrives
2016-07-05T04:51:09.034Z: Waiting for background plugin to complete: Ec2OutputRDPCert
2016-07-05T04:51:09.034Z: Background plugin complete: Ec2OutputRDPCert
2016-07-05T04:51:09.034Z: Waiting for background plugin to complete: Ec2SetDriveLetter
2016-07-05T04:51:09.034Z: Background plugin complete: Ec2SetDriveLetter
2016-07-05T04:51:09.049Z: Gettting Ec2ConfigExceptionsData...
2016-07-05T04:51:09.112Z: Caught Exception:  
Exception: System.Data.StrongTypingException: The value for column 'RemoveCredentialsfromSysprepOnStartup' in table 'GlobalSettings' is DBNull. ---> System.InvalidCastException: Specified cast is not valid.
   at Ec2ConfigLibrary.DataSets.Ec2ConfigurationSettings.GlobalSettingsRow.get_RemoveCredentialsfromSysprepOnStartup()
   --- End of inner exception stack trace ---
   at Ec2ConfigLibrary.DataSets.Ec2ConfigurationSettings.GlobalSettingsRow.get_RemoveCredentialsfromSysprepOnStartup()
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.CheckSysprepConfigPurge()
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.Go()
Plugin: 
Category: Unknown
2016-07-05T05:19:01.351Z: Starting main configuration after waiting 00:30:00.
2016-07-05T05:19:01.369Z: Main configuration starting...
2016-07-05T05:19:01.371Z: Main configuration started.

Please consider this as a priority.

Thanks."

Amazon EC2	"Re: EC2 Instance getting unavailable too often.
Hi,,

Could you check the Memory utilization of your instance and check if it is crossing its maximum limits. Your instance type has 1.7GB RAM allocated to it. I can see some CPU spikes to 50% on your instance (though not high), but I suspect you are going out of memory in this case.

Regards,
Jayakrishnan L."

Amazon EC2	"Connect to VPC from classic
I have 2 EC2 instances. I am trying to connect to the one within VPC from an ec2 that is not part of any VPC.  I have enabled classic link and still not able to connect from the other instance. I can however connect to both instances from my laptop.

Edited by: shantanuoak on Jul 11, 2016 1:19 AM"

Amazon EC2	"Re: Connect to VPC from classic
Hi,

Have you cross checked the Security Groups and Network ACLs in the VPC instances? 

Regards,
Jayakrishnan L."

Amazon EC2	"Login Url for IAM user?
I have a ""personal"" AWS account, and a business account for which I use an IAM login to access the console. The problem is, if I've logged in using my email on the personal account, it takes too much time to find the IAM login page which has a field for the account name plus the user name. Currently at 20 minutes and no joy. There's got to be an easier way to switch between the two styles of login page?"

Amazon EC2	"Host CPU at 100%, Cloudwatch reports at 20%
Hi there, a very strange thing happened yesterday, suddendly I've started receiving alarms from the system monitor agent running on my Win 2012 instance (t2.medium) reporting host cpu at 100%, and after i logged in (took me few minutes to open task scheduler) a lot of process were loading the cpu. The strange thing is that Cloudwatch did not trigged any alarm, in fact CPU Utilization metric was floating between 20% / 22%.

Is it something releated to the hypervisor itself? What do you think about it?

Thanks,
Alex."

Amazon EC2	"Re: Host CPU at 100%, Cloudwatch reports at 20%
Hello AlexME, 
I'm sorry to hear you have issues with your EC2 instance. Please, if you can give me by pm the instance ID, I will take a look into this. 

Cheers
Javier C#"

Amazon EC2	"Re: Host CPU at 100%, Cloudwatch reports at 20%
Alex, 

I can't see anything about 100% CPU here on my end and as you can see in the graphic I'm linking below, you can find there were some 90% utilization spikes on the 29th but you never was on 100%. 

https://console.aws.amazon.com/cloudwatch/home?region=eu-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2016-06-28T12%3A00%3A04Z~2016-06-30T12%3A00%3A04Z~Maximum~300~InstanceId~i-0e0c82c304425a377

What could have happened here, from the evidence I have is, one of the cores hit the 100% line and your monitoring system was alerting based on that, Cloudwatch didn't noticed it becasue  for t2.medium and t2.large instances, which  have two vCPUs. The base performance is an aggregate of the two vCPUs. For example, if you use 100% of a single vCPU and a small amount of the other, your CloudWatch metrics will show over 50% utilization.

To avoid this kind of false positives from third party tools, you can set your alerting system based on AWS CloudWatch as well, please refer to this document if you need help with the creation of Cloudwatch alarms

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/AlarmThatSendsEmail.html

Hope you may find this information useful and please don't hesitate to reach us back if you have any further question, doubt or concern. 

Cheers!
Javier C#"

Amazon EC2	"Re: Host CPU at 100%, Cloudwatch reports at 20%
Hi,

The same problem is happening with another instance, cloud watch reports a 20% of cpu usage, internal task manager is at 100%. Can anyone explain why this is happening?

Thank you.
Alex"

Amazon EC2	"Re: Host CPU at 100%, Cloudwatch reports at 20%
Hello Alex,

Could you please provide us with the Instance ID so that we can check the resource usage?

Like Javier has mentioned in previous reply, we advice your to stick to the CloudWatch graphs for CPU resource usage. Also please note that t2 type instances work on baseline performance (up to 60%) and  the capability to burst to full CPU capacity according to the CPU credits available. You may refer the below link for more details:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-monitoring-cpu-credits

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"Cannot open page from IP address
I set up a running Linux instance and tried to connect to it using its ip, but it times out.
The security group assigned to it has inbound MySQL/Aurora, and HTTP,
I added an HTTP rule that has my ip as its source and it still doesn't work.

Any suggestions?"

Amazon EC2	"Re: Cannot open page from IP address
Hi,

I believe you are referring to instance ID i-078a99603b941b84c? If not please provide the correct instance ID so we can investigate.

This instance only allows incoming connection on port 80 and 3306 from resources that are using security group sg-b3fa6ed5 within the same VPC. What is the source IP where you are connecting from? 

Regards,

Souza S"

Amazon EC2	"Re: Cannot open page from IP address
Yes, that is the instance. The security group is called ""web-tier"" with ID ""sg-d3ea7eb5""

Ive tried connecting from HTTP from ""My IP"" (I don't want to release that here), but let me add it so you can view it.

Edited by: REEEEEE on Jul 11, 2016 1:17 AM"

Amazon EC2	"E2C Instance will not start - microcode: CPU update errors
Hello,

We have an instance that has been running without issues for a significant time. The instance unexpectedly shut down today and now will not start. We see the below errors at the end of the system log. It does not appear that the instance is even getting to the point where it is attempting to boot the O/S.

Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
microcode: CPU0 update to revision 0x710 failed
microcode: CPU1 update to revision 0x710 failed
microcode: CPU0 update to revision 0x710 failed
microcode: CPU1 update to revision 0x710 failed
microcode: CPU0 update to revision 0x710 failed
microcode: CPU1 update to revision 0x710 failed
microcode: CPU0 update to revision 0x710 failed
microcode: CPU1 update to revision 0x710 failed
microcode: CPU0 update to revision 0x710 failed
microcode: CPU1 update to revision 0x710 failed

The instance is the i-ab0339ea.

 Thanks for your assistance.

Regards."

Amazon EC2	"Re: E2C Instance will not start - microcode: CPU update errors
Hello,

I confirmed that your instance i-ab0339ea is running fine. Let us know if you have any issues.

Thanks,
Jay"

Amazon EC2	"Re: E2C Instance will not start - microcode: CPU update errors
Hi,

On this instance, I had to execute the foollowing command :
yum remove microcode_ctl

I don't understand why the problem occurs. I mount the volume on an other instance, and it's work fine.

Can you explain why the server suddenly don't accept this service ?

Thank you.

Best regards."

Amazon EC2	"Auto Scaling Group - Boot --> Terminate And Repeat
Hi Amazon.

We have a Cloudformation stack (works well) which uses an auto scaling group to boot a single server at 4am, and then scale to Zero servers at 10pm; works well for our use case.

On occasion (believe this is the third occasion - but not all on this cloudformation script) we get whats happening in the attached picture 

i.e. boot/kill it; boot/ kill it and so on and so on. 

The solution (for us) is to remove the cloudformation stack. Then we re-initialise the stack with exactly the same template. And all is well.....

Flagging as 
a) it has to be a bug 
b) its happened more than once
c) its costing me money

d) hopefully there is a solution

Please let me know what more info we can share to debug/resolve this once and for all

Thanks"

Amazon EC2	"Re: Auto Scaling Group - Boot --> Terminate And Repeat
Hi

This happened again today - anyone got any ideas?!?!"

Amazon EC2	"Re: Auto Scaling Group - Boot --> Terminate And Repeat
Hi Amazon

Could you advise any thoughts on this?
Thanks"

Amazon EC2	"504 Gateway Time-out
I am working on aws iot project to control my r-pi, when i run my php curl script locally its working fine and i am able to control gpio pins. But when i run the script in my hosted website page  its giving 504 gateway time out error.  I have copied the certificates and given the right paths, is that with the proxy error or anything else and how to resolve this error?
url format is as shown below.
https://myendpoint.iot.us-west-2.amazonaws.com:8443/things/mything/shadow

Edited by: mobo on Jul 10, 2016 11:35 PM"

Amazon EC2	"Instance scheduled for retirement not stopping
I just got notified that instance  i-07d3ba5d4baa3cc48 is scheduled for retirement due to hardware failure. So I tried stopping the instance from the EC2 console, and it's been stuck in ""Stopping"" status for about 45 minutes.

Here in the forums, it seems that the simplest solution is to stop the instance and restart it, which will cause it to be migrated to different hardware. But the email notification says "" We recommend that you replace the instance by creating an AMI of your instance and launch a new instance from the AMI."" Seems like more work/cost if stopping and restarting is good enough. Why do you recommend creating a new AMI and launching a new instance, how is that better?

Whether stopping/starting or creating an AMI, the first step is to stop the instance that's going to be retired, and I can't do that. Please help!"

Amazon EC2	"Re: Instance scheduled for retirement not stopping
Okay, I see that the instance is now stopped. I can't tell how long it actually took to stop, because I only just now got access to the EC2 management console again - around 9 hours after it appeared to be stuck in the ""Stopping"" state.

I'd still appreciate any answer you might have on tradeoffs between restarting the AMI to migrate to different hardware versus creating a new AMI to launch, but I'm no longer stuck."

Amazon EC2	"Total newbie w/  huge CPU/memory usage on free tier windows instance
Hello, Everyone.

This is my first post on the forum.  I'm a total newbie who has signed up for the free-tier aws and created a windows instance of type t2.micro.  My goal is to use this machine to learn python and R and maybe do some document preparation (via Latex).  

When I connect to the instance I find that it's pretty slow and that according to the task manager memory/cpu usage is high even when doing something as simple as opening windows explorer.

Is this expected?  What could I be doing wrong here?

Thanks,

rhz"

Amazon EC2	"Recovering an old instance?
I have an old instance that I created last year.

I would like to ssh into it to see the files there, however I have lost the private key.

Is there any way to recover the files?"

Amazon EC2	"Re: Recovering an old instance?
Hello,

If you want to connect to your Linux instance if you lose your private key, you can regain access to your instance. You must stop the instance, detach its root volume and attach it to another instance as a data volume, modify the authorized_keys file, move the volume back to the original instance, and restart the instance. 

For more information on this, please refer below documentation. 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair

I hope this help."

Amazon EC2	"No network access to instance i-2ac4e21a since July 2/3
Hi,

  I have been having issues with connectivity to my instance since late July 2nd. I have tried:
 a) rebooting the machine,
 b) Stopping and starting the instance

I can get the console logs for the instance, and there seems to be no error (the sshd daemon is started at the end of the logs).

I can't access any of the networking servers on the machine:
 1) SSH - port 22
 2) SMTP - port 587
 3) HTTP - Port 80
 4) HTTPS - port 443
 5) IMAP-SSL - port 993
 6) ICMP 

I am getting  connection timeout errors:
ssh: connect to host 50.112.111.207 port 22: Connection timed out

 There were no changes in configuration before the loss of connection. Does someone have any pointers to what I should do to resolve this?

   Manoj"

Amazon EC2	"Re: No network access to instance i-2ac4e21a since July 2/3
I do have periodic laarms on the instance wrt CPU usage, so the instance is indeed alive and doing things; it is just not accessible. There have been no network bytes in or out, which is odd, since the nightly apt-get update from cron should generate some traffic if the network was up.

  Manoj"

Amazon EC2	"Re: No network access to instance i-2ac4e21a since July 2/3
Hi,

  So, I 
1. created a new dummy instance,
2. stopped boith the real and dummy instances 
3. detached the root fs from the real instance
4. attached the fs to the new dummy instance as sdf1
5 Started the dummy instance
6 mounted the root file system volume on the new instance
7.  ensured that the firewall was not being started
8. Stopped the dummy instance 
9. detached the root fs from the dummy instance
10. Attached  the root fs to the real instance
11. Started the real instance
12. The console logs show that the server started, no firewall, and started imap and mail servers, as well as the web serve

  Still can't get to the instance.

  Help?

  Manoj"

Amazon EC2	"Re: No network access to instance i-2ac4e21a since July 2/3
The security group settings for inbound connexts allow all inbound connections for the following: 
All       ICMP          All        N/A     0.0.0.0/0
SSH    TCP                       22       0.0.0.0/0
SMTP  TCP                       25        0.0.0.0/0
HTTP   TCP                       80        0.0.0.0/0
HTTPS TCP                     443        0.0.0.0/0
SMTPS TCP                    465        0.0.0.0/0
Custom TCP Rule TCP     587        0.0.0.0/0
IMAPS   TCP                  993        0.0.0.0/0

There is no local firewall.

Still no connectivity

 Manoj"

Amazon EC2	"Re: No network access to instance i-2ac4e21a since July 2/3
the logs are full of:
Jul  3 06:28:04 ladon rsyslogd-2359: action 'action 17' resumed (module 'builtin:ompipe') try http://www.rsyslog.com/e/2359 
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network...
Jul  3 06:28:45 ladon ec2-get-credentials: Waiting for network..."

Amazon EC2	"Windows 2012 R2 ec2 instance stuck on 1/2 checks passed.
I rebooted my windows 2012 R2 instance and it's not stuck on 1/2 checks passed. The instance ID is i-483dff99. This happened approx an hour ago so I changed instance types, added another NIC and changed back to t2.medium and it then booted.

I just restarted the instance again and now it's again stuck on 1/2 checks passed. 

Anyone able to assist?"

Amazon EC2	"Re: Windows 2012 R2 ec2 instance stuck on 1/2 checks passed.
Hi,

It seems that your instance is in a stopped state at this time. Since it's in a stopped state, there is little we can do to help you investigate. Could you please start your instance again?"

Amazon EC2	"On Amazon EC2, how to “safely” launch an untrusted instance?
I want to launch an instance on my EC2 account.

But I do not trust the image that I am booting from.

How can I launch it ""safely"", specifically so that the instance is not able to access any of my other EC2 instances, nor any Amazon resources such as S3.

The idea being that if it contains malicious code then no other information or resources on my Amazon account will be accessible to the malicious instance.

Edited by: dukedougal1 on Jul 10, 2016 12:56 PM"

Amazon EC2	"No email notification for instance scheduled for retirement
I just happened to login to the AWS management console, and see that one of my instances is marked ""scheduled for retirement after June 24, 2016 at 6:00:00 PM UTC-4"". This is instance i-0ec0409252e934f1d. I have not received any email notification of this pending retirement status, I'm just lucky I saw this before it happened.

1. Can you please explain exactly who gets notified of pending instance retirement, how they get notified, and how much advance notice they get?
2. In my case, I'm not the account owner, but I thought I had full administrative privileges for the account through IAM access. Can you explain how I can review what notifications get sent regarding instances retirement, and what the account owner can do to make sure that the technical admin gets notified? My IAM identity is:
Account Id:
838519694662 
Account Name:
repete 

If I go to ""My account"", I can see lots of information about billing, and setting alarms for billing alerts, but I don't see anything about controlling notification of instance retirement - seems to me that's at least as critical as any sort of billing alarm!

By the way, I reported essentially the same problem almost two years ago in: https://forums.aws.amazon.com/thread.jspa?threadID=163911&tstart=0

I got a reply suggesting that I contact customer service through a link - to which I replied that I couldn't do that because the link required login by the account owner. After that happened, I had the account owner contact customer service to request that my email be added to get notification of things like this affecting instances, and we went through IAM role stuff to try to make sure I had full admin privileges. Could you please help me get this resolved with something more specific than ""contact customer service"" - that didn't work before, and as far as I can tell there's no way to verify what customer service might or might not have done! This is important!!!

Edited by: brewdad on Jun 17, 2016 12:45 AM
Added reference to previously unsatisfactorily-resolved report on the same issue."

Amazon EC2	"Re: No email notification for instance scheduled for retirement
Hello,
thanks for contacting us and for the details provided.

Regarding your issue, the Retirement email was sent on Friday, June 10, 2016 3:54 PM (PDT) with Subject
Retirement Notification Amazon EC2 Instance scheduled for retirement. 
to this email address:
onesourcehorse@gmail.com

That is the primary contact email for the AWS ID owner of Instance ID(s): i-0ec0409252e934f1d

The only thing that you can do, in My Account on the AWS console, could be differentiate the email address for:

Billing
Operations
Security

Please note that, by selecting an alternate contact for any type of communications, those communications will be sent only to the alternate contact email specified and will no longer be sent to the email address associated with the primary account.

The only suggestion I can propose here, being that you are not the account owner, is asking the owner to create a Server Side email forward rule to your personal account.

Kind Regards
Ale"

Amazon EC2	"Re: No email notification for instance scheduled for retirement
Thanks AlessandroP@AWS , this is helpful. I'll see about getting the account owner to automatically forward relevant messages. I expect that she would do that on her own manually, but she doesn't always read all emails carefully, and may not recognize the significance of a message like this. But of course to do it automatically I'd need to reliably know the sender address and/or subject of emails that would be relevant. Also for whitelisting against spam.

You say it's possible to set alternate contact info for three classes of communications: Billing, Operations, Security.

1. Which category does instance retirement notification fall into, is it Operations? The description of this category only cites ""Trusted Adviser"" as an example of this kind of communication.
2. You say by setting an alternate contact , the primary account holder would no longer get the notification. Does that mean your are limited to exactly one contact per category, or can you specify multiple alternate contacts for a category? Looking at the page for this setting, it does appear that you can only specify one address per category.
3. I can define status check alarms for an instance, in which I specify the email address to which to send the alarm notification. To my mind, if Amazon decides to schedule retirement of a running instance of mine, that ought to be considered a status check failure condition that could trigger an alarm. If that's not the case (and I don't think it is), I'd like to submit a feature request to make scheduling of instance retirement a status check condition that can trigger an alarm!"

Amazon EC2	"Re: No email notification for instance scheduled for retirement
I didn't get a response to the other questions about categories or status alarms. But I answered my own question about number of contacts per category, it is indeed exactly one.

And I did change the contact for Operations and Security categories, and I just got an email notifying me of another instance retirement. So my problem is solved, and I'm marking this answered."

Amazon EC2	"Creating our default VPC
Just wondering if someone at AWS could create our default VPC for us.  Our account is older and as a result never had a default created. 

Thanks in advance."

Amazon EC2	"Re: Creating our default VPC
Hi,

I understand you would like a default VPC on your account. You account has default VPCs in all regions except us-east-1. I assume you would like the default VPC in this region. 

We can only enable an existing account for a default VPC if you have no EC2-Classic resources for that account in that region. Additionally, you must terminate all non-VPC provisioned Elastic Load Balancers, Amazon RDS, Amazon ElastiCache, and Amazon Redshift resources in that region.

I see you have no EC2-Classic resources in that region and I have requested the VPC team to create the default VPC for your account. I will come back to you with feedback.

Regards,

Souza S"

Amazon EC2	"Re: Creating our default VPC
Thanks so much!"

Amazon EC2	"Cannot connect to my ec2 instance via ssh or http port 8080
To whom it may concern,

I'm recently experiencing connectivity problems on my ec2 instance. This is the third time in 2 days that I cannot access to my instance via SSH console nor my web service APIs I set up in my AWS instance on port 8080. It usually keeps running for the whole day until the morning time around 9 - 10AM (GMT+8), when it stops responding to ssh or port 8080.

Although the dashboard indicates that my instance state is ""running"" with a green light, the truth is my web service is completely down and I had no option but to reboot my instances to have my service back on.

When trying to connect via SSH, sometimes it hangs and sometimes it gives me this error:
ssh_exchange_identification: read: Connection reset by peer

Below are the details of my instance:
Instance ID: i-da32850f
Instance Type: 	t2.micro
Linux: Linux ip-172-31-24-164 3.13.0-48-generic #80-Ubuntu
Web service: Nodejs Express running on port 8080"

Amazon EC2	"Re: Cannot connect to my ec2 instance via ssh or http port 8080
Hi,

I have looked at instance i-da32850f. The instance CPU utilization spikes to 100% almost every day at around midnight which is 9 - 10AM (GMT+8). The last CPU spikes I see was on 2016-07-10 00:05 UTC. 
This might be the reason why the instance does not respond to SSH and 8080 connections around this time. High CPU spike caused some services to break. 

You will need to check the logs on the instance at OS level around this time to find out why the instance CPU utilization spikes. 

Regards,

Souza S"

Amazon EC2	"Instance stuck at ""stopping"" state
My SQL instance (i-dcbdce55) is stuck at ""stopping"" state and I'm not able to bring it back online.

For now I was able to detach the non-system volumes and will try to bring a new instance up ASAP, but how can I fix the issue with the instance that is stuck? Forcing it to be stopped doesn't seems to be working either."

Amazon EC2	"Re: Instance stuck at ""stopping"" state
Hi,

Instance i-dcbdce55 is in stopped state now. Please reach out to us should you need more assistance.

Regards,

Souza S"

Amazon EC2	"ec2 instance files gone - need help
Hi,

I have been using my ec2 instance for my website for over 2 years now. It's suddenly stopped working and I have not changed anything. From the browser it says:

""This site can’t be reached
54.172.22.160 refused to connect.""

My security group for HTTP port 80 is 0.0.0.0/0. I've turned off my Windows Firewall and still no effect.

I am disappointed that this has happened. Could someone assist please?

Many thanks,
Tai

edit

I have managed to sign in via SSH and all my web files are gone! Is there any way to recover my files?
I have not changed anything over the past year. Any assistance would be appreciated.

Edited by: taibd on Jul 9, 2016 11:32 PM"

Amazon EC2	"cannot ssh to Ec2 instance tried a lot instances
Hi 

I need support to see if I can use Ec2 to start using but once I follow all the tutorials and try to ssh to the ec2 instance I get connection timed out. 

I have terminated and tried this with different instances but cannot seem to login to ssh. 

I have been trying to evaluate the AWS ec2 instances for personal use but cannot seem to get anywhere as it times out. 

I have stopped the instance but would appreciate someone taking a look and help me with the evaluation

Any help would be appreciated."

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
Hello, 

It might help to know what tutorial you're attempting to follow, and what errors you're getting when you're attempting to connect. Additionally knowing what AMI you're using could be useful as different AMIs may have different login procedures

The most common issues that would prevent you from being able to connect are:

1. Public IP
Make sure your instance has a public IP. This can be assigned on launch of the instance or you can assign an EIP to the instance. You can read more on this here:
On launch - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#vpc-public-ip
EIP - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#vpc-eips

2. Network ACLs/Security Groups
Either can filter TCP port 22 traffic (SSH) to your instance. You'll want to verify both are allowing SSH traffic to your instance. You can read more on these here:
Security Groups - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html
Network ACL - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html

3. IGW/Route table
Your VPC will need an IGW and a route table with a default route (0.0.0.0/0) pointed towards your IGW. You can read more on this here:
IGW - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway
Route Tables - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#WorkWithRouteTables

4. Incorrect Credentials
Either incorrect username or an incorrect private key will prevent you from being able to connect. 

If you're still having issues please the error you're getting when you attempt to connect and the instance ID so we can better assist. 

Regards,
Nick"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
Hi 

Here are the following errors and the instance Id is i-c1a4bb54
ssh: connect to host  Operation timed out"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
I did follow all tutorials to the links you posted above"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
Hello, 

Regrettably ""ssh: connect to host Operation timed out"" is a fairly ambiguous error, but it points to this being a connectivity issue, so we should be looking at firewall rules, routing, ect. 

Taking a look at your instance, I show it's properly configured to route traffic out it's VGW and your network ACLs are open to allow all traffic. However I see that TCP port 22 (SSH) is only configured to allow connections from one IP. You may temporarily try to open this up to allow SSH connection from any IP to verify if you're then able to properly connect. Additionally you could open up ICMP and attempt to ping your instance to verify you have at least that basic connectivity as well. 

Regards,
Nick"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
Hi Nick,

I changed all setting and was able to login and create a /home/ubuntu/website but after that, it logged me out in 5 min and after that I get the same connection time out and I have to stop and remove the ssh rules from the inboound server then recreate it to even log back in. 

 I enclosed the logs: and 

ssh -v -i ""nikiblog.pem"" ubuntu@ec2-52-42-44-218.us-west-2.compute.amazonaws.com
OpenSSH_6.9p1, LibreSSL 2.1.8
debug1: Reading configuration data /Users/niru/.ssh/config
debug1: /Users/niru/.ssh/config line 1: Applying options for *
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: Connecting to ec2-52-42-44-218.us-west-2.compute.amazonaws.com http://52.42.44.218 port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file nikiblog.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file nikiblog.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.4
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.4 pat OpenSSH_6.6.1* compat 0x04000000
debug1: Authenticating to ec2-52-42-44-218.us-west-2.compute.amazonaws.com:22 as 'ubuntu'
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client chacha20-poly1305@openssh.com <implicit> none
debug1: kex: client->server chacha20-poly1305@openssh.com <implicit> none
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:fpn/sqzqF/LhHsFtbb6DsTP8FyEcMuk7R76wzDbrZpY
The authenticity of host 'ec2-52-42-44-218.us-west-2.compute.amazonaws.com (52.42.44.218)' can't be established.
ECDSA key fingerprint is SHA256:fpn/sqzqF/LhHsFtbb6DsTP8FyEcMuk7R76wzDbrZpY.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'ec2-52-42-44-218.us-west-2.compute.amazonaws.com,52.42.44.218' (ECDSA) to the list of known hosts.
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/niru/.ssh/id_rsa
debug1: Authentications that can continue: publickey
debug1: Trying private key: nikiblog.pem
debug1: Authentication succeeded (publickey).
Authenticated to ec2-52-42-44-218.us-west-2.compute.amazonaws.com (http://52.42.44.218:22).
debug1: channel 0: new client-session
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
debug1: Sending environment.
debug1: Sending env LANG = en_US.UTF-8
Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.13.0-74-generic x86_64)

 * Documentation:  https://help.ubuntu.com/

  System information as of Wed Jul  6 18:32:19 UTC 2016

  System load: 0.0               Memory usage: 7%   Processes:       47
  Usage of /:  11.0% of 7.75GB   Swap usage:   0%   Users logged in: 0

  Graph this data and manage this system at:
https://landscape.canonical.com/

  Get cloud support with Ubuntu Advantage Cloud Guest:
http://www.ubuntu.com/business/services/cloud

0 packages can be updated.
0 updates are security updates.

Last login: Wed Jul  6 18:03:41 2016 from c-50-168-82-227.hsd1.ca.comcast.net

I get kicked out in 5 min from server try to login get the following after 

ssh -v -i ""nikiblog.pem"" ubuntu@ec2-52-42-44-218.us-west-2.compute.amazonaws.com
OpenSSH_6.9p1, LibreSSL 2.1.8
debug1: Reading configuration data /Users/niru/.ssh/config
debug1: /Users/niru/.ssh/config line 1: Applying options for *
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: Connecting to ec2-52-42-44-218.us-west-2.compute.amazonaws.com http://52.42.44.218 port 22.
debug1: connect to address 52.42.44.218 port 22: Operation timed out
ssh: connect to host ec2-52-42-44-218.us-west-2.compute.amazonaws.com port 22: Operation timed out"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
I have been having SSH timeout issues for several days now too trying to follow the tutorials.

I finally solved it by switching the region.  The ""us-west-2"" (Oregon) one appears to be having issues and I see you are on the same one.  N.Virginia or even Ireland seem to be much better, I've had SSH session open on each of those for hours with no issues.

I started a thread to detail the same issues here:  Unable to login as root

Try switching regions see if it helps.  If you are just starting out with the tutorials I would actually recommend Ireland since N.Virginia does not auto assign DNS by default because of the VPC and you might get stuck on that step."

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
I understand the regions issue but would have guessed by now someone would have fixed it for the free tier. This is an evaluation to see if AWS is a viable option. It is frustrating when you cannot even get to an instance without so much back and forth. I am in the region west (oregan) if I have to set up in Virginia or N. Ireland regions I have to take into account the time for loading a website etc. 

I am hoping someone from AWS will get back with a easier solution. 

Thanks for you help"

Amazon EC2	"Re: cannot ssh to Ec2 instance tried a lot instances
Hi I have tried a couple other regions with the same results 
here is the id for N. Virginia region. i-dd10635b"

Amazon EC2	"Instance stuck in 'Stopping' State
Hi

I was informed that the HW that one of my instances was on had degraded.  I have tried stopping it, to create an AMI, but now it is stuck in the stopping state.

Vould you stop it please?

Thanks

i-cb98bf43"

Amazon EC2	"Re: Instance stuck in 'Stopping' State
Trust you are well. 

Thank you for reaching out to us on this thread. about your instance. 

This instance in now in now the stopped state. Please feel free to start it and proceed with your AMI Creation transaction. 

I trust you find this information helpful. Should you require any further assistance with the above, please do not hesitate to contact me."

Amazon EC2	"accidently did a ""shutdown now"" and now I'm getting connection refused
Hey!

So I meant to type ""reboot now"" and I typed ""shutdown now"" and after rebooting the instance in the AWS console, it still doesn't seem to have booted up correctly. I get a port 22: connected refused. I'd hate to think my instance is gone from a such a simple mistake  I tried making an AMI out of it but I get the same thing. The instance id is i-681530f2. Any thoughts?

Spencer"

Amazon EC2	"Re: accidently did a ""shutdown now"" and now I'm getting connection refused
Good day, 

I have looked at your instance and the instance look like its backup correctly. 

Just that there is no public IP attached to access the instance from the Internet. Unless you are using a VPN to access this instance. I see a NAT configuration on your routing table please confirm if you are reaching the instances in that subnet at all. 

You could try to attach an EIP to this instance and SSH to instance using the endpoint just to verify if the problem is on the instance or on the NAT Configuration. 

But from my end I can confirm for your that the instance came back up correctly and you should not have lost any data since you are using EBS for your root volume. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
I trust you find this information helpful. Should you require any further assistance with the above, please do not hesitate to contact me."

Amazon EC2	"Cant connect over ssh after creating AMI
i-06d274db This instance stopped responding to SSH and HTTP after I created an AMI off of it. Can't figure out what the deal is. The server was running fine for about a month now without any reason that I can find its no longer available.

Edited by: JLu_MJF on Jul 8, 2016 2:47 PM"

Amazon EC2	"Re: Cant connect over ssh after creating AMI
Trust you are well. 

Thank you for reaching out to us on this thread about your  instance which was failing to respond stuck in stopping state. This was because of unresponsive underlying host. 

This instance was successfully stopped by our EC2 Team. 

It's now in the stopped state. Please feel free to start it and you should be able to resume your work on this server. 

I trust you find this information helpful. Should you require any further assistance with the above, please do not hesitate to contact me."

Amazon EC2	"Connect an MVC web service on EC2 to a SQL Server Database on RDS
I have created a website on RDS.  I have connected to it with SQL Server management studio and deployed by database.  I have copied the connection string and run my website locally, it connects to the server and works fine.  

When I deploy to EC2, I added some code to return any exception to me as JSON.  What I get is this:

{""Exception"":{""ClassName"":""System.Data.Entity.Core.EntityException"",""Message"":""An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy."",""Data"":null,""InnerException"":{""ClassName"":""System.Data.Entity.Core.EntityException"",""Message"":""The underlying provider failed on Open."",""Data"":null,""InnerException"":{""ClassName"":""System.Data.Entity.Core.EntityException"",""Message"":""An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy."",""Data"":null,""InnerException"":{""Errors"":,""ClientConnectionId"":""00000000-0000-0000-0000-000000000000"",""ClassName"":""System.Data.SqlClient.SqlException"",""Message"":""A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.)"",""Data"":{""HelpLink.ProdName"":""Microsoft SQL 

In other words, it can't connect.  I did some reading, and I was guided to add EC2 to my Security Group.  I followed that tutorial and was told that security groups did not exist on my type of hosting.  Instead, I was to set up an EC2 security group.  I have set this up to accept anything, basically.  I still get the same error.

There is no technical support as I am on the free tier while I develop this product.  I've been googling for help for two days and it's really become a nightmare.  Any suggestions appreciated."

Amazon EC2	"Re: Connect an MVC web service on EC2 to a SQL Server Database on RDS
And this is why I'm moving to Azure."

Amazon EC2	"Best practices for managing AWS EC2 Key Pairs
Our organization uses Amazon Web Services (AWS), and we have multiple EC2 instances running in different subnets (VPCs) for different clients. Our application is in development and we have need to remote (SSH or RDP) into these instances.

EC2 instances require a key-pair in order to gain access (SSH in the case of Linux, and administrator password in case of Windows RDP). The private key is in the form of a physical file which can only be generated once and downloaded once. Loss of this file equates to loss of the ability to connect to the instances.

Is there a widely accepted, industry-standard best practice for managing the private keys?

Currently I have a physical back-up (encrypted) on a portable hard drive, but that does not seem to me to be the best solution. What methods are employed by large companies to ensure that they are able to survive a disaster?"

Amazon EC2	"Yet another SSH Connectivity Issue
I cannot for the life of me connect back into an EC2 instance based on Amazon Linux AMI 2016.03.3 (HVM). 

After initially creating the server, logging in and installing docker, jenkins etc... I had to do a reboot and since then could no longer connect via ssh. 

I've spent hours today googling and tried the following things: 

Starting a second instance, connecting the root volume from the broken one to it, and checking:

~ fstab file for errors -  diff'd this against the new one from the new image and there were no differences
~ /etc/ssh/sshd_config for duplicate entries and checked ssg_config - I diff'd this against the new one from the new image and there were no differences
Reconnecting the volume back to the original instance and starting it back up. 

Checking, checking, and rechecking the connection address 
Checking the security group has permission to receive inbound SSH connections from my IP
Confirming that I am using the right pem key and that it has the correct permissions (I use this key to connect to multiple instances, and it works fine) 


This is the output when I try to connect: 

debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 20: Applying options for *
debug1: /etc/ssh/ssh_config line 102: Applying options for *
debug1: Connecting to ec2-xx-xx-xx-xx.compute-1.amazonaws.com [54.208.48.13] port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file /Users/___/Development/___/test.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/___/Development/___/test.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1
debug1: match: OpenSSH_6.6.1 pat OpenSSH_6.6.1* compat 0x04000000
debug1: Authenticating to ec2-54-208-48-13.compute-1.amazonaws.com:22 as 'ec2-user'
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client chacha20-poly1305@openssh.com <implicit> none
debug1: kex: client->server chacha20-poly1305@openssh.com <implicit> none
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:pCx4JLwvruuRoijoijo0bvKXlpi9ycOcHedFn5/oI
debug1: Host 'ec2-xx-xxx-xx-xx.compute-1.amazonaws.com' is known and matches the ECDSA host key.
debug1: Found key in /Users/___/.ssh/known_hosts:34
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /Users/___/Development/___/test.pem
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).


And this is the output from the system log 

[    7.230762] random: nonblocking pool is initialized
 done.
[  OK  ]
 
Starting auditd: [    7.382922] audit: type=1305 audit(1468007231.235:2): audit_pid=2092 old=0 auid=4294967295 ses=4294967295 res=1
[  OK  ]
 
Starting system logger: [  OK  ]
 
Starting irqbalance: [  OK  ]
 
Starting rngd: [  OK  ]
 
Starting rpcbind: [  OK  ]
 
Starting NFS statd: [  OK  ]
 
Starting system message bus: [  OK  ]
 
Mounting filesystems:  [  OK  ]
 
Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
[  OK  ]
 
Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Fri, 08 Jul 2016 19:47:13 +0000. Up 9.24 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Fri, 08 Jul 2016 19:47:13 +0000. Up 9.43 seconds.
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up     Address          Mask          Hw-Address    
ci-info:    lo    True   127.0.0.1      255.0.0.0            .         
ci-info:   eth0   True  172.31.28.32  255.255.240.0  0e:fc:61:c7:43:1d 
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.16.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2      172.31.16.0      0.0.0.0     255.255.240.0      eth0      U   
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Fri, 08 Jul 2016 19:47:15 +0000. Up 12.09 seconds.
Starting sshd: [  OK  ]
 
ntpdate: Synchronizing with time server: [  OK  ]
 
Starting ntpd: [  OK  ]
 
Starting sendmail: [  OK  ]
 
Starting sm-client: [  OK  ]
 
Starting Jenkins [  OK  ]
 
Starting nginx: [  OK  ]
 
Starting crond: [  OK  ]
 
Starting atd: [  OK  ]
 
Starting cgconfig service: [  OK  ]
 
Starting docker:	.[  OK  ]
 
Starting cloud-init: [   18.598150] loop: module loaded
Cloud-init v. 0.7.6 running 'modules:final' at Fri, 08 Jul 2016 19:47:22 +0000. Up 18.46 seconds.
Cloud-init v. 0.7.6 finished at Fri, 08 Jul 2016 19:47:23 +0000. Datasource DataSourceEc2.  Up 18.65 seconds
[   18.745916] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[   18.791372] Bridge firewalling registered
[   18.800673] nf_conntrack version 0.5.0 (7963 buckets, 31852 max)
[   18.865872] ip_tables: (C) 2000-2006 Netfilter Core Team
[   19.239580] IPv6: ADDRCONF(NETDEV_UP): docker0: link is not ready
 
 
Amazon Linux AMI release 2016.03
Kernel 4.4.14-24.50.amzn1.x86_64 on an x86_64
 
ip-172-31-28-32 login: /dev/fd/11: line 1: /sbin/plymouthd: No such file or directory
initctl: Event failed
Stopping atd: [  OK  ]
 
Stopping docker: [  OK  ]
 
Stopping nginx: [  OK  ]
 
Stopping sshd:  [  OK  ]
 
Shutting down sm-client: [  OK  ]
 
Shutting down sendmail: [  OK  ]
 
Stopping crond: [  OK  ]
 
Shutting down ntpd: [  OK  ]
 
Stopping block device availability: Deactivating block devices:
[  OK  ]
 
Stopping system message bus: [  OK  ]
 
Stopping rpcbind: [  OK  ]
 
Stopping auditd: [11479.664030] audit: type=1305 audit(1468018704.122:99): audit_pid=0 old=2092 auid=4294967295 ses=4294967295 res=1
[  OK  ]
 
[11479.756321] audit: type=1305 audit(1468018704.218:100): auid=4294967295 ses=4294967295 op=""remove_rule"" key=(null) list=1 res=1
[11479.762896] audit: type=1305 audit(1468018704.226:101): audit_enabled=0 old=1 auid=4294967295 ses=4294967295 res=1
Shutting down system logger: [  OK  ]
 
Shutting down interface eth0:  [  OK  ]
 
Shutting down loopback interface:  [  OK  ]
 
Stopping cgconfig service: [  OK  ]
 
Stopping rngd: [  OK  ]
 
Sending all processes the TERM signal... [  OK  ]
 
Sending all processes the KILL signal... [  OK  ]
 
Saving random seed:  [  OK  ]
 
Turning off quotas:  [  OK  ]
 
init: Re-executing /sbin/init
 
[11485.487021] EXT4-fs (xvda1): re-mounted. Opts: (null)
Halting system...
[11485.590998] xenbus: xenbus_dev_shutdown: device/vfb/0: Initialising != Connected, skipping
[11485.596009] ACPI: Preparing to enter system sleep state S5
[11485.599256] reboot: Power down
 


Edited by: jkras on Jul 8, 2016 4:39 PM"

Amazon EC2	"Defcon 5 Can't reach another instance See updated info
Hi I stopped being able to connect to one of my EC2 instances. This is the second time this has happened in the recent months and the last time I had to completely rebuild the instance. Attached is the screenshot I have from the instance ( when trying to get the logs I get a blank page) 

To my knowledge nothing was changed on the server around the time it tanked according to the cloudwatch info. I have attempted to attach the volume to a debug instance with no success, it will not attach to a running instance and when I attach it after stopping my debug instance that one exhibits the same behavior after boot. 

I may be reading the screenshot wrong but it doesn't look my instance has hardware failure. I do have an s3 bucket attached as a mounted volume for this particular server but don't believe that to be an issue. 

Yesterday was the last time I was able to get to the server and the only changes I made were to add our pem key so that my developers can move from this server to another in the same subnet and a colleague rebooted the server at one point. We were able to reach it without any issues after the reboot. 

Any help in getting this back up without losing it would be greatly appreciated. I'm at a loss currently

Instance Details: 
Instance ID : i-47f9289a
Instance type : d2.xlarge
Private DNS: ip-172-16-51-51.us-west-2.compute.internal
Traffic allows SSH from my Bastion host and my VPN IP space.

Edited by: JLu_MJF on Jul 8, 2016 8:05 AM


UPDATE!!!!! Now im in crisis mode this just happened to the other server in the subnet. I was able to get the log this time. WTH is going on is this something someone changed? Logs below

Welcome to [0;31mCentOS Linux 7 (Core)[0m!

[[32m  OK  0m Stopped Switch Root.
[[32m  OK  0m Listening on /dev/initctl Compatibility Named Pipe.
         Mounting Huge Pages File System...
         Mounting NFSD configuration filesystem...
[[32m  OK  0m Stopped target Switch Root.
[[32m  OK  0m Listening on Device-mapper event daemon FIFOs.
         Mounting Debug File System...
[[32m  OK  0m Reached target Swap.
         Mounting POSIX Message Queue File System...
[[32m  OK  0m Stopped target Initrd File Systems.
[[32m  OK  0m Created slice system-getty.slice.
[[32m  OK  0m Created slice system-systemd\x2dfsck.slice.
[[32m  OK  0m Reached target Host and Network Name Lookups.
[[32m  OK  0m Listening on udev Control Socket.
[[32m  OK  0m Created slice User and Session Slice.
[[32m  OK  0m Reached target Slices.
[[32m  OK  0m Reached target User and Group Name Lookups.
[[32m  OK  0m Stopped Flush Journal to Persistent Storage.
[[32m  OK  0m Stopped Journal Service.
         Starting Journal Service...
[[32m  OK  0m Listening on Delayed Shutdown Socket.
[[32m  OK  0m Listening on LVM2 poll daemon socket.
[[32m  OK  0m Stopped target Initrd Root File System.
         Starting Create list of required st... nodes for the current kernel...
[[32m  OK  0m Created slice system-serial\x2dgetty.slice.
[[32m  OK  0m Stopped File System Check on Root Device.
         Stopping File System Check on Root Device...
[[32m  OK  0m Listening on udev Kernel Socket.
         Starting Remount Root and Kernel File Systems...
         Starting Apply Kernel Variables...
         Starting Setup Virtual Console...
[[32m  OK  0m Set up automount Arbitrary Executab...ats File System Automount Point.
[[32m  OK  0m Listening on LVM2 metadata daemon socket.
         Starting Monitoring of LVM2 mirrors... dmeventd or progress polling...
[[32m  OK  0m Mounted Debug File System.
[[32m  OK  0m Mounted POSIX Message Queue File System.
[[32m  OK  0m Mounted Huge Pages File System.
[[32m  OK  0m Started Journal Service.
[[32m  OK  0m Started Create list of required sta...ce nodes for the current kernel.
[[32m  OK  0m Started Remount Root and Kernel File Systems.
[[32m  OK  0m Started Apply Kernel Variables.
         Starting Configure read-only root support...
         Starting Load/Save Random Seed...
         Starting udev Coldplug all Devices...
         Starting Create Static Device Nodes in /dev...
         Starting Flush Journal to Persistent Storage...
[[32m  OK  0m Started Load/Save Random Seed.
[[32m  OK  0m Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
http://    6.179279 systemd-journald410: Received request to flush runtime journal from PID 1
[[32m  OK  0m Started LVM2 metadata daemon.
         Starting LVM2 metadata daemon...
[[32m  OK  0m Started Flush Journal to Persistent Storage.
http://    6.335728 Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
[[32m  OK  0m Started Configure read-only root support.
[[32m  OK  0m Mounted NFSD configuration filesystem.
[[32m  OK  0m Started Setup Virtual Console.
[[32m  OK  0m Started Create Static Device Nodes in /dev.
[[32m  OK  0m Reached target Local File Systems (Pre).
         Starting udev Kernel Device Manager...
[[32m  OK  0m Started Monitoring of LVM2 mirrors,...ng dmeventd or progress polling.
[[32m  OK  0m Started udev Kernel Device Manager.
         Starting Show Plymouth Boot Screen...
[[32m  OK  0m Found device /dev/ttyS0.
[[32m  OK  0m Started Show Plymouth Boot Screen.

http://    7.371970 input: PC Speaker as /devices/platform/pcspkr/input/input4
http://    7.490217 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
%Ghttp://    7.588318 drm Initialized drm 1.1.0 20060810
http://    7.714210 ppdev: user-space parallel port driver
http://    7.720346 AES CTR mode by8 optimization enabled
http://    7.727215 alg: No test for __gcm-aes-aesni (__driver-gcm-aes-aesni)
http://    7.762646 alg: No test for crc32 (crc32-pclmul)
http://    7.802555 TTM Zone  kernel: Available graphics memory: 15485484 kiB
http://    7.806817 TTM Zone   dma32: Available graphics memory: 2097152 kiB
http://    7.812154 TTM Initializing pool allocator
http://    7.816307 TTM Initializing DMA pool allocator
http://    7.821279 intel_rapl: Found RAPL domain package
http://    7.821713 drm fb mappable at 0xF0000000
http://    7.821714 drm vram aper at 0xF0000000
http://    7.821714 drm size 33554432
http://    7.821715 drm fb depth is 24
http://    7.821715 drm    pitch is 3072
%Ghttp://    7.842986 fbcon: cirrusdrmfb (fb0) is primary device
http://    7.843016 intel_rapl: Found RAPL domain dram
http://    7.912376 Console: switching to colour frame buffer device 128x48
http://    7.973850 cirrus 0000:00:02.0: fb0: cirrusdrmfb frame buffer device
http://    7.973852 cirrus 0000:00:02.0: registered panic notifier
http://    7.973858 drm Initialized cirrus 1.0.0 20110418 for 0000:00:02.0 on minor 0
[[32m  OK  0m Found device /dev/xvdb.

         Starting File System Check on /dev/xvdb...

http://    8.102094  xvdb: xvdb1
http://    8.101756 systemd-fsck528: fsck.ext2: Bad magic number in super-block while trying to open /dev/xvdb

http://    8.101957 systemd-fsck528: /dev/xvdb:

http://    8.102109 systemd-fsck528: The superblock could not be read or does not describe a correct ext2

http://    8.103658 systemd-fsck528: filesystem.  If the device is valid and it really contains an ext2

[[32m  OK  0m Started File System Check on /dev/xvdb.

http://    8.104122 systemd-fsck528: filesystem (and not swap or ufs or something else), then the superblock

http://    8.104515 systemd-fsck528: is corrupt, and you might try running e2fsck with an alternate superblock:

http://    8.104998 systemd-fsck528: e2fsck -b 8193 <device>

         Mounting /mnt...

[[1;31mFAILED0m Failed to mount /mnt.

See 'systemctl status mnt.mount' for details.

[[1;33mDEPEND0m Dependency failed for /mnt/s3mnt.

[[1;33mDEPEND0m Dependency failed for Local File Systems.

[[1;33mDEPEND0m Dependency failed for Relabel all filesystems, if necessary.

[[1;33mDEPEND0m Dependency failed for Mark the need to relabel after reboot.

         Starting Preprocess NFS configuration...

[[32m  OK  0m Closed RPCbind Server Activation Socket.

[[32m  OK  0m Stopped Dump dmesg to /var/log/dmesg.

[[32m  OK  0m Closed Open-iSCSI iscsiuio Socket.

[[32m  OK  0m Stopped target Multi-User System.

[[32m  OK  0m Stopped LSB: Pentaho BI Platform.

[[32m  OK  0m Stopped Hyper-V KVP daemon.

[[32m  OK  0m Stopped Command Scheduler.

[[32m  OK  0m Stopped Harvest vmcores for ABRT.

[[32m  OK  0m Stopped Service for virtual machines hosted on VMware.

[[32m  OK  0m Stopped MariaDB database server.

[[32m  OK  0m Stopped CUPS Printing Service.

[[32m  OK  0m Stopped Postfix Mail Transport Agent.

[[32m  OK  0m Stopped NTP client/server.

[[32m  OK  0m Stopped LSB: Bring up/down networking.

[[32m  OK  0m Stopped Network Manager Wait Online.

[[32m  OK  0m Stopped Login Service.

[[32m  OK  0m Stopped Dynamic System Tuning Daemon.

[[32m  OK  0m Stopped libstoragemgmt plug-in server daemon.

[[32m  OK  0m Stopped Kernel Samepage Merging (KSM) Tuning Daemon.

[[32m  OK  0m Stopped Job spooling tools.

[[32m  OK  0m Stopped ABRT Xorg log watcher.

[[32m  OK  0m Stopped Hyper-V VSS daemon.

[[32m  OK  0m Stopped irqbalance daemon.

[[32m  OK  0m Stopped Avahi mDNS/DNS-SD Stack.

[[32m  OK  0m Stopped Load CPU microcode update.

[[32m  OK  0m Stopped Modem Manager.

[[32m  OK  0m Stopped ABRT kernel log watcher.

[[32m  OK  0m Closed Avahi mDNS/DNS-SD Stack Activation Socket.

[[32m  OK  0m Stopped Getty on tty1.

[[32m  OK  0m Stopped Network Manager.

[[32m  OK  0m Stopped System Logging Service.

[[32m  OK  0m Closed CUPS Printing Service Sockets.

[[32m  OK  0m Stopped Hardware RNG Entropy Gatherer Daemon.

[[32m  OK  0m Closed Open-iSCSI iscsid Socket.

[[32m  OK  0m Stopped Resets System Activity Logs.

[[32m  OK  0m Stopped Rollback uncommitted netcf network config change transactions.

[[32m  OK  0m Stopped Software RAID monitoring and management.

[[32m  OK  0m Stopped Memcached.

[[32m  OK  0m Stopped Serial Getty on ttyS0.

[[32m  OK  0m Stopped Wait for Plymouth Boot Screen to Quit.

[[32m  OK  0m Reached target Login Prompts.

[[32m  OK  0m Stopped Virtualization daemon.

[[32m  OK  0m Stopped D-Bus System Message Bus.

[[32m  OK  0m Closed D-Bus System Message Bus Socket.

[[32m  OK  0m Stopped Self Monitoring and Reporting Technology (SMART) Daemon.

[[32m  OK  0m Stopped Execute cloud user/final scripts.

[[32m  OK  0m Stopped Apply the settings specified in cloud-config.

[[32m  OK  0m Stopped target Cloud-config availability.

[[32m  OK  0m Stopped Initial cloud-init job (metadata service crawler).

[[32m  OK  0m Stopped Initial cloud-init job (pre-networking).

[[32m  OK  0m Stopped Terminate Plymouth Boot Screen.

[[32m  OK  0m Stopped Permit User Sessions.

[[32m  OK  0m Stopped xrdp daemon.

[[32m  OK  0m Stopped xrdp session manager.

[[32m  OK  0m Stopped OpenSSH server daemon.

[[32m  OK  0m Stopped OpenSSH Server Key Generation.

[[32m  OK  0m Stopped GSSAPI Proxy Daemon.

[[32m  OK  0m Stopped Install ABRT coredump hook.

[[32m  OK  0m Stopped ABRT Automated Bug Reporting Tool.

[[32m  OK  0m Stopped firewalld - dynamic firewall daemon.

[[32m  OK  0m Reached target Network.

         Starting Logout off all iSCSI sessions on shutdown...

[[32m  OK  0m Reached target Network is Online.

[[32m  OK  0m Stopped Kernel Samepage Merging.

[[32m  OK  0m Stopped target Basic System.

         Starting Import network configuration from initramfs...

[[32m  OK  0m Reached target Sockets.

[[32m  OK  0m Reached target Paths.

[[32m  OK  0m Stopped target System Initialization.

[[32m  OK  0m Started Manage Sound Card State (restore and store).

         Starting Manage Sound Card State (restore and store)...

         Starting Tell Plymouth To Write Out Runtime Data...

[[32m  OK  0m Reached target Timers.

[[32m  OK  0m Started Preprocess NFS configuration.

[[32m  OK  0m Started Logout off all iSCSI sessions on shutdown.

         Starting Availability of block devices...

         Starting Notify NFS peers of a restart...

[[32m  OK  0m Reached target NFS client services.

[[32m  OK  0m Reached target Remote File Systems (Pre).

[[32m  OK  0m Reached target Remote File Systems.

         Starting Crash recovery kernel arming...

[[32m  OK  0m Started Availability of block devices.

http://    8.544101 type=1305 audit(1468000286.886:3): audit_pid=656 old=0 auid=4294967295 ses=4294967295 res=1
[[32m  OK  0m Started Import network configuration from initramfs.

[[32m  OK  0m Started Emergency Shell.

         Starting Emergency Shell...

[[32m  OK  0m Reached target Emergency Mode.

         Starting Create Volatile Files and Directories...

[[32m  OK  0m Started Notify NFS peers of a restart.

[[32m  OK  0m Started Create Volatile Files and Directories.

         Starting Security Auditing Service...

[[32m  OK  0m Started Tell Plymouth To Write Out Runtime Data.

[[32m  OK  0m Started Security Auditing Service.

         Starting Update UTMP about System Boot/Shutdown...

[[32m  OK  0m Started Update UTMP about System Boot/Shutdown.

         Starting Update UTMP about System Runlevel Changes...

[[32m  OK  0m Started Update UTMP about System Runlevel Changes.

[[32m  OK  0m Started udev Wait for Complete Device Initialization.

         Starting Activation of DM RAID sets...

http://   10.543476 device-mapper: uevent: version 1.0.3
http://   10.547293 device-mapper: ioctl: 4.33.0-ioctl (2015-8-18) initialised: dm-devel@redhat.com
[[32m  OK  0m Started Activation of DM RAID sets.

[[32m  OK  0m Reached target Encrypted Volumes.

Welcome to emergency mode! After logging in, type ""journalctl -xb"" to view
system logs, ""systemctl reboot"" to reboot, ""systemctl default"" or ^D to
try again to boot into default mode.
Give root password for maintenance
(or type Control-D to continue):

Edited by: JLu_MJF on Jul 8, 2016 11:46 AM

Edited by: JLu_MJF on Jul 8, 2016 12:08 PM"

Amazon EC2	"Re: Defcon 5 Can't reach another instance See updated info
Is this really something no one can help me with?"

Amazon EC2	"Still can't connect to instances via RDP/SSH
It seems other people are having the same issue recently: RDP/SSH connections are ephemeral if at all. Everything seems fine from the console and all basic connection points have been followed.

I'm guessing it's a hardware thing? Possibly related to the hanging 'stopping' of instances posted also. Who knows. 
Any guidance/timeline estimates are appreciated. Thanks. And here's my description once more:

************************************************************************************************************************
For the past 48 hours I've been creating instances of both Windows Server (current instance ID: i-cdae155d) and Amazon Linux (instance ID: i-6465e0f4) and I'm able, on a fresh instance (or after stop/start, but not reboot) to ping/log in via RDP or SSH. After between 1 and 5 minutes of any activity I am disconnected and not able to log back in or see it via ping. 

Notes:
----I have set and joined the proper permissive security groups. All services work, but only for a few minutes at best
----I use another remote computer (at the other end of the country, via SSH) to try to ping and log in and I see the same intermittancies that I get locally
----All Amazon status checks are reading OK at time of problem
----I've terminated and re-created the instances a few times, and in different regions (e.g. Ireland) all with the same result: maybe connect at spin-up, definitely cut out after a few minutes and not reachable until stop/start instance
----During 'disconnect' period, the last part of traceroute, starting from my IP's last hop is  posted here on pastebin 
----I am using the free tier instances

Thanks again and I can make/post any logs"

Amazon EC2	"Already opened port 80, but Can't Connect to Browser
Hello,

I'm running a Ubuntu VM and I already added a port 80 rule to its security group inbound, but still can't connect to it. I'm able to connect to it via SSH, so I'm sure it's running.

My instance ID is i-00aa762aa0684e6fc, if anyone can help me, I would appreciate it.

Thanks in advance!"

Amazon EC2	"Re: Already opened port 80, but Can't Connect to Browser
Hello,

Reviewing the instance i see port 80 is open in the security group but the instance is refusing connection due to some issues. I would advise you to restart your webserver and check its http configurations. 

 nc -v 52.205.87.245 80
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connection refused.

Also check webserver logs for further troubleshooting. This is an OS level configuration related issue. 

Regards,
Umair A."

Amazon EC2	"Re: Already opened port 80, but Can't Connect to Browser
Hello Umair, thanks for your reply!

I'm running a Rails server on port 80, but for some reason it is not being reached, nothing appears on the log, the last line on the terminal is ""INFO  WEBrick::HTTPServer#start: pid=15878 port=80"" no matter what. And as you suggested, I restarted the Rails server, but nothing changed.

So I'm sure the rails app is up and it's on port 80. I've even opened Rails's default port 3000 in the security group, but got the same error when trying to access it via browser.

Do you have any further suggestions? :/

Thank you!"

Amazon EC2	"Re: Already opened port 80, but Can't Connect to Browser
Anyone, please? :/

I'm developing a system to a NGO, so they're depending on it, so it's kind of urgent.

Thanks in advance!"

Amazon EC2	"Instance stuck on stopping
We have an instance that stopped responding, wouldn't reboot or anything. So we tried stopping it. Now it stuck on that.

i-964c60fb

Any ideas/help?"

Amazon EC2	"Re: Instance stuck on stopping
Hello,

I checked that your instance i-964c60fb is up and running just fine. Let us know if you have any issue.

Thanks,
Jay"

Amazon EC2	"Not able to start Instance on attaching a new volume rather than existing
Hi
we have an instance in singapore region for which i had volume of 100gb on root volume(/dev/xvda).We wanted to reduce the volume from instance.So we created a snapshot for volume of the instance and then created two volumes,one blank 30gb(to which we wanted to reduce as /dev/sdg) and other one from snapshot(100gb as /dev/sda).

And then mounted both the hard volumes also to the instance and then we copied the data(30 gb) from snapshot to blank volume of 30gb.and then detached the two newly added volumes from the instance and made the instance working again by starting it.
Now we had a new volume of 30gb volume the reduced one to be available.

We created a new instance for testing before on main instance as above as micro instance with by default /dev/xvda of 8gb.after creating we detached the default volume of 8gb and attached our newly made 30gb volume in previous step and tried starting the instance.BUt instance doesnt start,it rather gets stopped after 2-3 mins of starting..

Please guide me on how to make the instance running in this state.My main purpose is to reduce volume of first instance from 100gb to 30gb.As I dnt have much usage of hard disk because i keep only 20-25 gb of data.

Please help me on this."

Amazon EC2	"1 of 100 instances running slow
I currently have 100 c4.large instances each looping through a portion of a collection of about 7000 different data sets. While each data set is different, the processing time should be roughly the same. 99 of these instances are processing a data set on an average of about 15 to 20 minutes. However, 1 of them consistently takes about 45 minutes to over an hour per data set. Everything appears to be running fine. Nothing else is using the instance. The input looks fine. The output looks fine. The logs look fine. The CPU percentage is the same on all 100 instances. Just the processing time is 3 to 4 times longer on the 1 instance.

While I could certainly kill this instance and start another and likely ""fix"" the issue, I'm quite curious to figure out what the problem is first, even though I don't believe it to be me. The processing will likely be finished by this evening and this issue will be moot.

I don't have a support plan so I can't even seem to report this issue. Anyone from Amazon listening?

Does anyone have any suggestions where I could find something to show that there is an issue?

Thank you
Jake"

Amazon EC2	"Naming an Instance using AWS' Java SDK
Hello,
I wrote a  java program to launch the instance. The launch was successful but the Instance name was empty. is there any way to give the name to instance from the program itself?
PS: There is no method in runinstancesrequest to add a name tag to instance. 
Thanks in advance"

Amazon EC2	"Re: Naming an Instance using AWS' Java SDK
You may want to have a closer look at the createTags method. Adding a key called ""Name"" should do the trick."

Amazon EC2	"No response from load balancer
Hi,

There's a problem with my load balancer (arjuntestlb-957851729.eu-central-1.elb.amazonaws.com). The health check on the EC2 instances succeeds, DNS lookup on the load balancer DNS name seems to be ok but I get no response back from it. Does anyone know what the problem might be? Thanks.

Best regards,
Arjun"

Amazon EC2	"Re: No response from load balancer
When you set up an ELB inside a VPC, you get to select one or more subnets. In order to be accessible from the outside world, the public load balancer needs to be placed in a subnet that has a default route pointing to an Internet Gateway. You have most likely selected the subnet where your EC2 instances are running. It means that the load balancer can talk to your instances, but there is no way for Internet traffic to reach your setup. So the key here is to select a public subnet for the load balancer. That allows you to then attach EC2 instances from any subnet in the same availability zone. In other words, the load balancer and your instances doesn't need to be (and almost always shouldn't be) on the same subnet."

Amazon EC2	"rhui-REGION-rhel-server-releases is broken, or a bad duplicate
Today, after a ""yum check-update"", I received the following error message:
""Update notice RHBA-2016:1290 (from rhui-REGION-rhel-server-releases) is broken, or a bad duplicate, skipping.
You should report this problem to the owner of the rhui-REGION-rhel-server-releases repository.""

The full output bellow:

yum check-update
Loaded plugins: amazon-id, rhui-lb, search-disabled-repos
rhui-REGION-client-config-server-7                                                                    | 2.9 kB  00:00:00     
rhui-REGION-rhel-server-extras                                                                          | 2.9 kB  00:00:00     
rhui-REGION-rhel-server-optional                                                                       | 3.5 kB  00:00:00     
rhui-REGION-rhel-server-releases                                                                     | 3.7 kB  00:00:00     
rhui-REGION-rhel-server-rh-common                                                                | 3.8 kB  00:00:00     
(1/7): rhui-REGION-client-config-server-7/x86_64/primary_db                      | 5.5 kB  00:00:00     
(2/7): rhui-REGION-rhel-server-extras/7Server/x86_64/primary_db             | 111 kB  00:00:00     
(3/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/group             |  104 B  00:00:00     
(4/7): rhui-REGION-rhel-server-optional/7Server/x86_64/primary_db         | 3.2 MB  00:00:00     
(5/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/updateinfo    |  28 kB  00:00:00     
(6/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/primary_db | 104 kB  00:00:00     
(7/7): rhui-REGION-rhel-server-releases/7Server/x86_64/primary_db        |  22 MB  00:00:00     
(1/5): rhui-REGION-rhel-server-optional/7Server/x86_64/group_gz             | 6.2 kB  00:00:00     
(2/5): rhui-REGION-rhel-server-optional/7Server/x86_64/updateinfo           | 907 kB  00:00:00     
(3/5): rhui-REGION-rhel-server-releases/7Server/x86_64/group_gz           | 134 kB  00:00:00     
(4/5): rhui-REGION-rhel-server-extras/7Server/x86_64/updateinfo              |  63 kB  00:00:00     
(5/5): rhui-REGION-rhel-server-releases/7Server/x86_64/updateinfo         | 1.2 MB  00:00:00     
Update notice RHBA-2016:1290 (from rhui-REGION-rhel-server-releases) is broken, or a bad duplicate, skipping.
You should report this problem to the owner of the rhui-REGION-rhel-server-releases repository.


I have try correct the error by doing ""yum clean all"" and ""yum check-update"" again, but the same error still present.

Please, how can I correct this error?

Thank you very much!"

Amazon EC2	"Getting ""Network error: Connection refused"" for my public linux instance
Hi,

I'm running public linux instance (i-dc407052) in default VPC. SSH 22 port also enabled to everyone(0.0.0.0/0).

When i try to connect to my instance from putty it is throwing ""Network error: Connection refused""

when i try to ssh from the other instance that is in same vpc also getting same error with both public and private ip.

root@ip-172-31-25-99 ec2-user# ssh -i AWS_Training.pem root@54.254.143.252
ssh: connect to host 54.254.143.252 port 22: Connection refused

root@ip-172-31-25-99 ec2-user# ssh -i AWS_Training.pem ec2-user@172.31.17.87
ssh: connect to host 172.31.17.87 port 22: Connection refused

Please let me know what could be the issue

Edited by: Debin on Jul 8, 2016 6:11 AM"

Amazon EC2	"Elatic IP and EC2 VPC
After I associate an Elastic IP to my Ec2 VPC I can not see my application anymore.

I type the elastic ip but it does not work.

Please  help come back to normal.

I do not want elastic ip anymore. It is messing my application and I need to put this back.

Do Amazon support this?

Edited by: keafao on Jul 8, 2016 12:37 AM

Edited by: keafao on Jul 8, 2016 12:49 AM"

Amazon EC2	"hostname not consistent
Hi Folks,

I imported a Linux AMI and launched it as an instance. I have also created a startup service in that AMI that captures the hostname of the instance immediately after the launch and sets that as the password for the root user. I was of the assumption that whatever private ip that shows up on the instance's details page on the console is what gets returned inside the instance as hostname. Well, infact that is what gets returned if I execute ""hostname"" after the instance is launched; replacing periods (.) with hyphens in the ip address part of the hostname. However, the startup service that captures the hostname shows otherwise. Please review the details below.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
AMI id: ami-33a08b50
instance id: i-de905d0f
ifconfig: 10.0.0.159

local hostname / Private DNS: ip-10-0-0-159.ap-southeast-2.compute.internal
local-ipv4/ Private IP: 10.0.0.159

public hostname / Public DNS: ec2-54-206-99-27.ap-southeast-2.compute.amazonaws.com
public ipv4 / IP: 54.206.99.27

startup service hostname: ip-10-252-3-50
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1) What I am interested is, how did the instance get the hostname as ""ip-10-252-3-50"" ?
2) How can I get this hostname from the details page on the console ?
3) If the above (2) is not possible then how can I get the actual private ip (hostname) during instance launch so I can set the password of root user to that.

Regards,
Nawaz"

Amazon EC2	"Bug on the Instance Types page
Recently I wanted to link somebody to the M3 and M4 types, but found that there's a copy-paste mistake in the HTML such that this:
https://aws.amazon.com/ec2/instance-types/#m3
links to M4 instead of M3, and this:
https://aws.amazon.com/ec2/instance-types/#m4
goes nowhere. The bad markup looks like this:<h2 id=""m3"">
  <a name=""m3""> M4</a>
</h2>
It's not exactly something worthy of a bug bounty, but I thought I should mention it."

Amazon EC2	"Re: Bug on the Instance Types page
Hi amar,

Thank you for letting us know!

We have passed this along to the relevant team as soon as there is an update we will let you know via the thread.

Please let us know if you require any further assistance by creating a case through the AWS Support Center: https://console.aws.amazon.com/support/home/"

Amazon EC2	"Big SC1 EBS drives on Windows 2008R2 servers
I created a 3 TB volume of type SC1 and attach it to a Windows 2008R2 server.
I could see the new drive in the ""Disk management"" tool but the disk show as 952 GB in size.
So far I've been using 1 TB ""magnetic"" EBS drives without any issue, it's the first time I try a >1TB disk...

I couldn't find anything about restrictions of new SC1/ST1 drives on windows servers, has anyone already faced similar issue ?

Regards,
Michel"

Amazon EC2	"ELB requests being dropped?
Hi,

We've started observing unexplained ELB 5XX alarms in CloudWatch. As we dug in to try and find the root cause of the alarm it didn't seem like any of our backends were unhealthy or unregistered, or that the ELB was under any sort of load. Everything looked OK.

From the logs there did seem to be correlation between the 5XX responses to URL requests that looked like a script kiddie was probing our webserver for php or cgi-bin vulnerabilities. Our backends aren't designed to handle these routes, nor are the backends implemented using php or cgi-bin.  As expected when we requested these specially crafted URLs from our backend webservers directly they responded with 404. However when we sent these requests through the ELB we eventually see an HTTP 504 but there's no evidence that the request ever reached a backend. It's as though the ELB is dropping the request on the floor.

This seems very similar to the problem described https://forums.aws.amazon.com/thread.jspa?threadID=153143 but there wasn't any obvious resolution to that ticket.

Thanks,
brian"

Amazon EC2	"Why we have to launch Auto Scaling group in default VPC and Subnet?
Hi everyone,
Today i got some practice related to create AMI, use it to launch Configuration and then create Auto Scaling Group.
At ""Create Auto Scaling Group"" console, i had to choose Network which is VPC and subnet of VPC.
I chose a VPC i created before and 3 subnets on that VPC, and then i got this:

No public IP addresses will be assigned
None of the instances in this Auto Scaling group will be assigned a public IP address because you have not chosen to launch in your default VPC and subnet.

You can ensure a public IP address is assigned to instances launched with this configuration by selecting only default subnets of your default VPC.

Learn more about IP addressing in an Amazon VPC.

There is only one option that i can choose to go forward. That is: Launch into EC2-Classic
So my question is, why we do have to do that? If i want to launch Auto Scaling group in my own VPC, is that impossible?"

Amazon EC2	"Re: Why we have to launch Auto Scaling group in default VPC and Subnet?
Hello,

You can launch the auto-scaling instances in the VPC and subnets created by you. In order to do so, please follow the steps below:
1] Go to Services -> VPC -> Subnets -> Select the subnet in which you would like to launch the instances.
2] Go to Subnet Actions -> Modify Auto-Assign Public IP
3] Enable auto-assign Public IP by clicking on the checkbox.

Once this is done, you can use the VPC that you created and the above subnet to launch the instances using auto-scaling. Public IPs would be assigned to instances during launch.

Regards,
Pavithra K."

Amazon EC2	"Re: Why we have to launch Auto Scaling group in default VPC and Subnet?
Thank you, i'll try,"

Amazon EC2	"EC2 Problem - can't connect over SSH or HTTP
Hi there,

instance ID: i-3948b5fd
availability zone: us-west-2a
public DNS: ec2-52-26-24-68.us-west-2.compute.amazonaws.com
Instance type: t2.micro

Instance has not been available for about a day. I'd tried to stop and start the instance again; the 2 checks seemed fine but can't login via SSH. Also cannot access via browser for http.

Ping is successful though...

Please help and advise!"

Amazon EC2	"Re: EC2 Problem - can't connect over SSH or HTTP
Hello AWS ... anyone to help?"

Amazon EC2	"How much traffic can a single instance serve (static HTML content)
I understand this question has been asked a lot and that it really varies depending on a lot of different factors.
But I really have no idea how many users a single instance can serve, so I was hoping someone could give me a rough ball park figure, perhaps from their own experience?

Or if someone could give me an rough idea of how many users a single t2.small instance could serve per day if it is just serving static HTML content 1MB in size.

The reason I need to know is a contractor is claiming my company would need 30 instances in order to meet traffic demands for our site, and this seems like an excessively large number to me.

Thanks in advance.

Edited by: 41578089 on Jul 7, 2016 2:58 AM"

Amazon EC2	"Re: How much traffic can a single instance serve (static HTML content)
I don't have a number for you, but...

If it really is static content only, have you considered S3? The Simple Storage Service (S3) happens to support static website hosting and can offer you extreme scalability. The pricing is based on what you actually use in terms of storage, requests, and data transfer. It can potentially be combined with CloudFront for faster access (data cached closer to users). CloudFront doesn't have a problem with scaling either."

Amazon EC2	"Re: How much traffic can a single instance serve (static HTML content)
I think your instincts are good.  Serving static content involves setting up a pipe between the storage system and the network card, and then just handling all the traffic control.  It takes embarrassingly few resources to do this.  You can easily handle 200 concurrent requests with a Raspberry Pi, let alone a t2.

If your task is static, then D. is right that you might not even bother with a web server and serve the content right out of S3.  Then, you don't even worry about the size or number of webservers and let us handle it.

Giving your contractor the benefit of the doubt, the answer changes dramatically if there is any amount of customization.  But my experience is that, in a conventional stack, the web server sees almost no actual load. When it does see load, it isn't falling over because of being overloaded, but because it is queuing up faster than the backend can serve it. It is somewhat more believable that one might need 28 backend servers to support two web servers.

But, of course, it all depends on the actual case."

Amazon EC2	"Instance reachability check failed
We use on-demand instances and sometimes an instance just fails to start up correctly. Status Checks says ""Instance reachability check failed"" and we cannot ssh into the instance. Here are 3 instances that have this issue this morning. 
i-bcb45328
i-d8b95e4c
i-e0bb5c74

Could AWS team help look into the cause? What should we do in this case? Are we still paying for the instance even if the instance just doesn't start correctly?"

Amazon EC2	"Re: Instance reachability check failed
Hello,

Thank you for the post.

I took a look at the EC2 instances: i-bcb45328, i-d8b95e4c and i-e0bb5c74, and found that the instances are failing the Instance Status Checks since two hours i.e., on 2016-07-07 at 17:03 UTC/GMT. 

After investigating this issue further, I found that there are some 'XENBUS: Device with no driver...' and 'xenbus_probe_frontend: Timeout connecting to device: device/vfb/0 (local state 3, remote state 1)' errors in the System Logs of all the instances. This might be the reason all the instances are failing Instance Status Checks. 

The potential causes for 'XENBUS: Device with no driver...' error are Missing or incorrectly configured virtual block device driver, Device enumeration clash (sda versus xvda) or Incorrect choice of DomU kernel
The potential causes for 'XENBUS: Timeout connecting to devices (Xenbus timeout)' are the block device not is connected to the instance and this instance is using a very old DomU kernel


In order to fix these errors, please refer to the Suggested Actions provided on these documentation links:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html#FilesystemXenbus
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html#OpSystemXenbus

In general for more information about 'Troubleshooting Instances with Failed Status Checks', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html

I hope the above information helps. 

Regards,
Nikhil"

Amazon EC2	"ssh to ec2 : Connection closed by remote host and then Operation times out
Hi Amazon gurus,

I am experiencing a unique issue. I've posted about this but nobody has responded to me. Below are the logs from my terminal. 

Issue: I am able to ssh to my new ec2 instance, but after a few minutes, I get disconnected (See logs below). All subsequent attempts to ssh time out. If i stop the instance and start it again, I can ssh into the instance initially, but after a few minutes, the same thing happens. I have been able to ssh into an instance created the same way through a friend's aws account with no issue. Can anyone from Amazon help or anyone who has experienced this issue before?

Logs from my ssh client

ec2-user@ip-10-0-0-172 ~$ debug1: channel 0: free: client-session, nchannels 1
debug3: channel 0: status: The following connections are open:
  #0 client-session (t4 r0 i0/0 o0/0 fd 4/5 cc -1)

Connection to ec2-52-53-204-19.us-west-1.compute.amazonaws.com closed by remote host.
Connection to ec2-52-53-204-19.us-west-1.compute.amazonaws.com closed.
Transferred: sent 3560, received 9904 bytes, in 1087.9 seconds
Bytes per second: sent 3.3, received 9.1
debug1: Exit status -1
vagrant@precise32:/vagrant/parallax/playbooks/part3_ec2$ ssh -vvv -i ~/.ssh/an-ec2.pem ec2-user@ec2-52-53-204-19.us-west-1.compute.amazonaws.com
OpenSSH_5.9p1 Debian-5ubuntu1, OpenSSL 1.0.1 14 Mar 2012
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-53-204-19.us-west-1.compute.amazonaws.com http://52.53.204.19 port 22.
debug1: connect to address 52.53.204.19 port 22: Connection timed out
ssh: connect to host ec2-52-53-204-19.us-west-1.compute.amazonaws.com port 22: Connection timed out

Thanks,

H"

Amazon EC2	"Dynamically STOP AND START EC2
Anyone know how to dynamically stop and start EC2 instances depending on the load?"

Amazon EC2	"Re: Dynamically STOP AND START EC2
We've solved this problem by running a pool manager that watches work load and sizes the pool of EC2 instances appropriately. We run that on the same instance we use to provide tracking and reporting.There are many ways to implement such a solution. Knowing more about your situation is key.David"

Amazon EC2	"Re: Dynamically STOP AND START EC2
Check out > http://ganglia.sourceforge.net/ Reuven Cohenhttp://www.enomalism.com"

Amazon EC2	"Re: Dynamically STOP AND START EC2
I recently found this tool, but haven't tried it yet.http://weoceo.weogeo.com/"

Amazon EC2	"Re: Dynamically STOP AND START EC2
I also found this tool:
http://www.automaticloud.net/"

Amazon EC2	"Re: Dynamically STOP AND START EC2
Hi. I like to know more about the pool manager. Any resources or links? Thanks."

Amazon EC2	"Instance stuck on 'Stopping', can't detach volumes
Hi,

I have an instance i-7cbd17e6 that is stuck on stopping. 

I had attempted to restart this instance using 'sudo restart now', but that didn't work and made the instance unreachable.

I then tried rebooting from the AWS console, which again had no effect.

Then I tried stopping the instance from the AWS console, and it has been stuck in the stopping state overnight. All of the volumes mounted on this instance cannot be forcibly detached, either. 

How can I recover my instance and volumes?"

Amazon EC2	"Re: Instance stuck on 'Stopping', can't detach volumes
Hello,

Thank you for the post.

I took a look at the instance: i-7cbd17e6 and there seems to be an issue with the underlying hardware on 2016-06-30 at around 03:15:00 UTC/GMT .

I have asked the EC2 team to take a look at the instance and stop it from our end. We will get back to you once we here back from the team.

In general, for more information about 'Troubleshooting Stopping Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Regards,
Nikhil"

Amazon EC2	"Re: Instance stuck on 'Stopping', can't detach volumes
Hi, is there any status update on this issue? I need to recover those volumes and get this instance up and running again."

Amazon EC2	"Re: Instance stuck on 'Stopping', can't detach volumes
Hi,

We have recovered the volumes for you. The volume should now be available. Please let us know if you have any further questions, we will be happy to assist you.

Regards,
Pavithra K."

Amazon EC2	"Error upgrading CentOS - Cannot retrieve repository metadata (repomd.xml)
We get the following when attempting to upgrade an AWS instance to CentOS 6.8 (we have resolved various issues to get this far) ... have tried a number of fixes, but run out of ideas ... can anyone shine a light?:

root@ip-10-0-0-101 yum.repos.d# yum update --releasever=6
Loaded plugins: amazon-id, fastestmirror, product-id, rhui-lb, security
Setting up Update Process
Determining fastest mirrors
epel/metalink                                                                                                                                                                                                                                           |  13 kB     00:00     
 * epel: mirror.symnds.com
 * rhui-REGION-client-config-server-6: rhui2-cds02.us-east-1.aws.ce.redhat.com
 * rhui-REGION-rhel-server-releases: rhui2-cds02.us-east-1.aws.ce.redhat.com
 * rhui-REGION-rhel-server-rh-common: rhui2-cds02.us-east-1.aws.ce.redhat.com
 * webtatic: us-east.repo.webtatic.com
epel                                                                                                                                                                                                                                                    | 4.3 kB     00:00     
epel/primary_db                                                                                                                                                                                                                                         | 5.8 MB     00:00     
percona                                                                                                                                                                                                                                                 | 2.5 kB     00:00     
percona/primary_db                                                                                                                                                                                                                                      | 480 kB     00:00     
rhui-REGION-client-config-server-6                                                                                                                                                                                                                      | 2.9 kB     00:00     
rhui-REGION-client-config-server-6/primary_db                                                                                                                                                                                                           | 6.0 kB     00:00     
https://rhui2-cds02.us-east-1.aws.ce.redhat.com/pulp/repos//content/dist/rhel/rhui/server/6/6/x86_64/os/repodata/repomd.xml: Errno 14 PYCURL ERROR 22 - ""The requested URL returned error: 404 Not Found""
Trying other mirror.
To address this issue please refer to the below knowledge base article 
https://access.redhat.com/articles/1320623
If above article doesn't help to resolve this issue please open a ticket with Red Hat Support.
https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/repos//content/dist/rhel/rhui/server/6/6/x86_64/os/repodata/repomd.xml: Errno 14 PYCURL ERROR 22 - ""The requested URL returned error: 404 Not Found""
Trying other mirror.
Error: Cannot retrieve repository metadata (repomd.xml) for repository: rhui-REGION-rhel-server-releases. Please verify its path and try again"

Amazon EC2	"Instance will not stop: i-2a5478fa
Hello, my EC2 instance will not stop, it's stuck in the ""stopping"" state - ID: i-2a5478fa

Can someone at AWS please stop it?  

Thanks"

Amazon EC2	"Re: Instance will not stop: i-2a5478fa
Hi,

I see that the instance i-2a5478fa has been terminated. Please let us know if you need any additioanl assistance.

Regards,
Pavithra K."

Amazon EC2	"EC2 intermittent connection
Hi and thanks, as always, for your time, 

For the past 48 hours I've been creating instances of both Windows Server (current instance ID: i-cdae155d) and Amazon Linux (instance ID: i-6465e0f4) and I'm able, on a fresh instance (or after stop/start, but not reboot) to ping/log in via RDP or SSH. After between 1 and 5 minutes of any activity I am disconnected and not able to log back in or see it via ping. 

Notes:
----I have set and joined the proper permissive security groups. All services work, but only for a few minutes at best
----I use another remote computer (at the other end of the country, via SSH) to try to ping and log in and I see the same intermittancies that I get locally
----All Amazon status checks are reading OK at time of problem
----I've terminated and re-created the instances a few times, and in different regions (e.g. Ireland) all with the same result: maybe connect at spin-up, definitely cut out after a few minutes and not reachable until stop/start instance
----During 'disconnect' period, the last part of traceroute, starting from my IP's last hop is posted here on pastebin 
----I am using the free tier instances

Thanks again and I can make/post any logs."

Amazon EC2	"Invalid license on Windows Server 2008R2
Hi, my instance i-4466e508 is running Win 2008R2.
It says the license is not valid and must be activated. Trying to activate does not solve the issue. I installed the latest EC2 Config tool and rebooted, tried again to activate but the error is in the screenshot.
Can you please check and fix it?
Thanks

Edited by: Nicolo Frontini on Jun 20, 2016 2:56 AM"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Our Win 2008R2 instances are doing the same.
Has anyone figured out what this is about? And what to do about it?

thanks in advance
   Søren"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Confirmed. I am having the same issue."

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Up, no help for this?"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
up.
we have same problem.
there is no sulution yet?"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Are there any news on how to solve this?

Thanks in advance

Edited by: sdy7 on Jun 29, 2016 9:13 AM"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Can't believe this is still a problem.

All of our windows instances are experiencing this issue."

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
In the eventlog this is showing:

The client has sent an activation request to the key management service machine.
Info:
0xC0020017, 0x00000000, ec2-174-129-233-141.compute-1.amazonaws.com:1688, 32b997f9-9801-40a1-80e6-ef7fecbfcf2c, 2016/07/05 15:09, 0, 5, 0, 7482e61b-c589-4b7f-8ecc-46d455ac3b87, 5


Can someone from AWS team verify if there is something wrong with ec2-174-129-233-141.compute-1.amazonaws.com
or if the problem if something about else?
please
Thanks in advance"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Right. I have still no idea why it's happening but this track seems to fix it:

1) Edit C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
Change this to Enabled:
<Plugin>
     <Name>Ec2WindowsActivate</Name>
     <State>Enabled</State>
</Plugin>
 

2) restart service Ec2Config
3) wait for a couple of minutes - and status changes back to ""Activated""

Hope this will solve it for others.
Cheers

Edited by: sdy7 on Jul 6, 2016 6:45 AM"

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
I have two separate accounts in different regions and am getting this on all of my 2008 R2 servers. The suggested config.xml does not work on either of mine as restarting or logging back in they revert to invalid again."

Amazon EC2	"Re: Invalid license on Windows Server 2008R2
Thanks a lot it worked."

Amazon EC2	"How do you ""Power On"" a powered-off machine instance?
Please forgive me I am quite new!

If I have a Linux Machine running and I type ""shutdown"" at the command line, and it shuts down and powers off like it's supposed to, how can I power this machine on again? Do I have to ""Stop"" the instance and ""Start"" it every time? When I ran shutdown before, my machine shutdown, but the instance wouldn't let me click ""Start"" because it hadn't technically been ""Stopped"" first. Thanks!

Edited by: MortySnerd on Jul 6, 2016 4:44 PM"

Amazon EC2	"Re: How do you ""Power On"" a powered-off machine instance?
Hello,

Welcome 

When you initiate a shutdown on your instance, from the console the ""Instance State"" wil be changed to ""Stopping"", while your instance is in a stopping state it is busy shutting down and therefore the ""Start"" action will be greyed out under ""Actions/Instance State"".

As soon as the instance state changes to ""stopped"" then only will it allow you to ""Start"" your instance again. And by starting the instance, you select the instance in question, select ""Actions"", ""Instance State"", ""Start"".

If it is a scenario where your instance was already stopped, but the console still shows ""Stopping"" you can manually refresh the console, by clicking on the refresh button, located right, at the top.

You can also start the instance by using the aws cli tools, for example with:
$ aws ec2 start-instances --instance-id i-012345a1b2c398b190 --region eu-west-1

More information on Stopping and Starting EC2 Instances:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html

More information on setting up the CLI tools:
http://docs.aws.amazon.com/cli/latest/userguide/installing.html

I trust that this information will assist you, if you have any further questions or additional assistance needed, please feel free to let us know."

Amazon EC2	"Latest Version of PCRE 8.3 on Amazon Linux Ami
The latest release of the Amazon Linux AMI has PCRE 8.21 on it. This version of PCRE is known to be very buggy. In fact the latest version of vbulletin does not work with it. How can I upgrade to the latest version of PCRE? I also tried downgrading to 7.8 but that did not work either.

http://www.vbulletin.org/forum/showthread.php?t=284345

Edited by: gototags on Jun 19, 2012 6:39 PM"

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
What is the status of this? I cant upgrade my server at all because Im blocked by this."

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
Yes! I am having the same issue. It seem like a simple upgrade to include."

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
Hello,

There was a fix implemented the end of June 2012 regarding the pcre package. However, we cannot test this out on vbulletin as this product is proprietary.

Best regards,
Khanh"

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
The current update for PCRE 8.21 fixes the vbulletin issue documented here:
http://bugs.exim.org/show_bug.cgi?id=1187

Please let me know if you're still having trouble with vbulletin after installing latest PCRE package:
$ yum -y update pcre

$ rpm -q pcre
pcre-8.21-5.3.amzn1.x86_64


As far as we're aware, the issue is resolved, but if that's not the case we'll keep working on a fix.

Thanks for using Amazon Linux AMI!"

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
So what version of PCRE is it updating to? The label ""pcre-8.21-5.3"" is not really clear. What is the 5.3? Im currently using 7.8-3.1.8.amzn1. Why not use the latest version of PCRE 8.31?

I'll be able to test later this evening.

CT"

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
5.3 is the release number of the package. It's essentially an arbitrary number when considering the upstream sources. It gets incremented whenever we create a build, which we might do for a new major version, a minor bugfix patch, or anything in between.

In this case, it's still PCRE 8.21, but with some post-release fixes. Ideally one of those fixes will solve your issue with vbulletin so you're no longer blocked on upgrades.

Your suggestion to move to PCRE 8.31 is a good one and we'll work on making that package available in the near future."

Amazon EC2	"Re: Latest Version of PCRE 8.3 on Amazon Linux Ami
Would it be possible to get this pcre package upgraded? It looks like it hasn't been done since the last post in 2012. amzn-main provides 8.21-7.7.amzn1 which contains libpcre.so.0 but I need libpcre.so.1 which is in pcre-8.39-2.fc24.x86_64.rpm (at least, I didn't check earlier versions).

Many thanks,

Keith"

Amazon EC2	"Instance startup error: Client.UnsupportedProtocol: The SOAP protocol has..
getting error while starting the Instance instance is not starting by cron ,Client.UnsupportedProtocol: The SOAP protocol has been deprecated and is no longer supported. Please refer to the following documentation for more details: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-soap-api.html
i follow the document but i'm able to resolve this issue"

Amazon EC2	"yum - red hat - https://None/pulp/mirror/rhui-client-config
My guess is that this is an SELinux issue.  I can get to the URLs fine with wget.

root@server log# yum update
Loaded plugins: amazon-id, rhui-lb, search-disabled-repos
Webmin                                                                                                                   | 1.0 kB  00:00:00     
Could not retrieve mirrorlist https://None/pulp/mirror/rhui-client-config/rhel/server/7/x86_64/os error was
14: curl#6 - ""Could not resolve host: None; Name or service not known""

rhui-REGION-client-config-server-7
name=Red Hat Update Infrastructure 2.0 Client Configuration Server 7
mirrorlist=https://rhui2-cds01.REGION.aws.ce.redhat.com/pulp/mirror/rhui-client-config/rhel/server/7/$basearch/os
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release 
sslverify=0
sslcacert=/etc/pki/rhui/cdn.redhat.com-chain.crt
sslclientcert=/etc/pki/rhui/product/rhui-client-config-server-7.crt
sslclientkey=/etc/pki/rhui/rhui-client-config-server-7.key
skip_if_unavailable=false"

Amazon EC2	"Re: yum - red hat - https://None/pulp/mirror/rhui-client-config
In this case, the answer was that the rhui-load-balancers.conf file was empty (no - I have no idea how that happened)

yum.repos.d/rhui-load-balancers.conf
::::::::::::::
rhui2-cds01.us-east-1.aws.ce.redhat.com
rhui2-cds02.us-east-1.aws.ce.redhat.com"

Amazon EC2	"Excessive EBS IO-Reads
Hello,

Recently I noticed a jump in my charges for EBS due to huge increase in I/O requests.  This particular site does not serve any files from the server (it's a fairly basic website).  Looking at the usage report I noticed some huge IO-Read numbers:

AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 11:00	7/3/2016 12:00	11186
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 12:00	7/3/2016 13:00	1385643
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 12:00	7/3/2016 13:00	10305
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 13:00	7/3/2016 14:00	9882
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 13:00	7/3/2016 14:00	1373329
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 14:00	7/3/2016 15:00	1369251
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 14:00	7/3/2016 15:00	10232
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 15:00	7/3/2016 16:00	1215903
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 15:00	7/3/2016 16:00	10000
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 16:00	7/3/2016 17:00	1342642
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 16:00	7/3/2016 17:00	10132
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 17:00	7/3/2016 18:00	9797
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 17:00	7/3/2016 18:00	1355179
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/3/2016 18:00	7/3/2016 19:00	10355
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 18:00	7/3/2016 19:00	1469755
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/3/2016 19:00	7/3/2016 20:00	1326299

I terminated my existing instance and launched a new one and it seems to have corrected itself at this point:
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 11:00	7/4/2016 12:00	108
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 11:00	7/4/2016 12:00	2069
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 12:00	7/4/2016 13:00	2072
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 12:00	7/4/2016 13:00	43
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 13:00	7/4/2016 14:00	2358
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 13:00	7/4/2016 14:00	1131
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 14:00	7/4/2016 15:00	2749
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 14:00	7/4/2016 15:00	23
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 15:00	7/4/2016 16:00	363
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 15:00	7/4/2016 16:00	2047
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 16:00	7/4/2016 17:00	962
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 16:00	7/4/2016 17:00	1910
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 17:00	7/4/2016 18:00	1897
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 17:00	7/4/2016 18:00	109
AmazonEC2	EBS:IO-Read	USW1-EBS:VolumeIOUsage		7/4/2016 18:00	7/4/2016 19:00	1023
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 18:00	7/4/2016 19:00	2000
AmazonEC2	EBS:IO-Write	USW1-EBS:VolumeIOUsage		7/4/2016 19:00	7/4/2016 20:00	1889

I am wondering if anyone might know what would cause something like this to occur?  I was thinking maybe the instance had just been running for too long and things started piling up, but that doesn't really make much sense.  I don't want it to happen again if I can prevent it from happening in advance.

Thanks!"

Amazon EC2	"Cloudwatch Metric:Cpu utlization metric decreases with increase in load
I am using cloudwatch detailed monitoring to monitor cpu utlization on an ec2 instance

Using iperf software i generate certain udp traffic load from a iperf client instance and send to an m4.large instance configured as iperf server.I used m4.large instance to get consistent performance

i noted down the following numbers on iperf server  receiving  traffic during my test
 10Mbps  --avg cpu util is 1.27
  50 mbps--  5.25
  100  mbps--9.92
   200 mbps--13.08
   300 Mbps--11.4
   500 mbps-- 11.75

I am trying to understand why after a certain load ,cloudwatch reported cpu utlization to decrease instead of increasing

Would really help if someone can explain this behavior

Edited by: clairvoyant86 on Jul 6, 2016 5:37 PM"

Amazon EC2	"CloudWatch alarm ""Recover this instance"" option is not enabled
An instance (instance id i-1e8e6b8a) failed its status checks:
Instance reachability check failed at July 6, 2016 at 11:43:00 AM UTC-7 (4 hours and 28 minutes ago)

This happens intermittently though we use the same automatic start up process for every EC2 instance. Since we are using on-demand instance, we'd like to recover it if possible since we already pay for 1 hour anyway though it just failed on startup randomly. I read https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html about setting up alarm to recover an instance, but the option is not enabled somehow. It seems the instance meets all the requirements mentioned in the doc under ""The recover action is only supported on: "", so I'm baffled why it's not enabled. Can someone help?

I attached the system log too.

Edited by: Redfin QA Team on Jul 6, 2016 4:22 PM"

Amazon EC2	"New instance stops after startup
Hi All, 

My original instance, m3.medium, stopped responding, would not respond to stop requests, and would not respond to termination requests.  Eventually it was terminated and deleted.  I created a new instance with the same characteristics, attached my storage, and attached my elastic IP.  While it says it is started, I cannot connect and after 1 minute or so it shutsdown.  I created a snapshot of the storage before deleting everything and that does not work, nor does a snapshot from 2 days ago.  The problem started today around 1600 BST, so I am not sure what I can do.  The console shows nothing.

Does it have to do that the previous system run under /dev/sda1 and this one is asking for /dev/xvda?

I created an instance from a snapshot and I am receiving a console and a kernel panic is occurring.  
EXT3-fs: xvda: couldn't mount because of unsupported optional features (240).
EXT2-fs: xvda: couldn't mount because of unsupported optional features (244).
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(202,0)

 instance id: i-5a8969d1
Any ideas,
Brian"

Amazon EC2	"Re: New instance stops after startup
I got it working by making an instance of my file system and them selecting the correct AKI (Amazon Kernel ID).  I was using a Red Hat kernel and when I created a new instance it was giving me Ubuntu.  I selected a kernel that was newer and then update it when it start.  All it working now. Hooray!

Brian"

Amazon EC2	"Instance i-05274a1e8a623f538 was shutdown unexpectedly
Hi,

Instance i-05274a1e8a623f538 was shut down unexpectedly at Wednesday 06 July, 2016 16:43:33 UTC.  Can someone from AWS let us know what the cause was and if this behavior is expected?

Thanks."

Amazon EC2	"Re: Instance i-05274a1e8a623f538 was shutdown unexpectedly
Hello,

I just took a look at your instance. Your instance seems to be up and running currently. I didn't see the instance shutting down since the past 3 months.

However, I saw a status check fail on the date you have mentioned. Corresponding to this, I saw there was a high CPU Utilization which spiked to 100%. This caused the instance status check to fail.

Could you please provide me more details regarding the issue you're facing currently?

Anup"

Amazon EC2	"EC2 inbound network traffic blocked after benchmarking test
Hello -

We have a EC2 instance we're conducting some network benchmarks (XMPP related). The tests all work initially - no issues. After some time (a few hours...) the connections drop and all inbound connections appear to be blocked - but only to that VM and only from the routes/ISP from where the benchmark was running. The VM remains healthy in its resources and is accessible from our second ISP without any issues. The traceroute on the blocked ISP indicates the traffic is blocked somewhere inside amazon infrastructure. After a period of time (~ 1 hour), the inbound traffic is allowed again and overall connectivity appears back to normal.

We suspect that our benchmark is triggering some type of anti-DDOS or anti-hacking mechanism inside of the amazon network - but not really sure... My searching so far hasn't come up with anything specific or conclusive...

Are we inadvertently triggering some network defense? Any way for me to determine if there are blocked routes on an EC2 instance outside of my the VPC settings...? Anyway to change it if that's the case? We're considering a sizeable cloud deployment, so we're trying to make sure we have adequate sizing of the VMs and the expected network capacity.

Any and all help on this would be appreciated."

Amazon EC2	"Re: EC2 inbound network traffic blocked after benchmarking test
Hello,

If you are doing any sort of penetration/vulnerability testing on your EC2 instance, it needs to be pre-approved by AWS. Please use the form below to request authorization for such testing:
https://aws.amazon.com/security/penetration-testing/"

Amazon EC2	"Re: EC2 inbound network traffic blocked after benchmarking test
No - this is not penetration testing, we're aware of Amazon's policy with regards to that, we're not doing anything that we believe could be misconstrued as a port scan. We're simulating XMPP connections (i.e. port 5222 for messaging and 5269 for federation) for a large base of users, that means that they'll be a near-constant disconnect-followed-by-reconnect as the mobile devices go in and out of wifi range. So only those two ports get high-amount of activity, and it originates from the our local corporate network where the devices are being simulated, not from the VM itself.

Could this behavior still trigger the same defense as a port scan?"

Amazon EC2	"site not coming up
ec2 t2.micro instance healthy, tomcat7 running OK, ROOT.war still exists in /usr/share/tomcat7/webapps  but the site stopped working around 6/22/16 without me doing anything. Did something changed?

My instance id is i-669d7c9a. Using the public DNS ec2-54-152-91-13.compute-1.amazonaws.com only hits the standard tomcat landing page, not my webapp."

Amazon EC2	"Re: site not coming up
Looks like something changed my web.xml. I have to unpack my war file again."

Amazon EC2	"Re: site not coming up
Hello,

Sorry to here about your issue. I just tried to do a reverse lookup on the public IP of the instance. But could not resolve it to any URL. However, I see the instance is running healthily. Even the underlying hardware seems to be running without any issues as well. I was able to connect your port 80.

I put your public IP address in the search bar in the browser. It directed me to a website. Could you please confirm what issue you are facing currently?

Anup"

Amazon EC2	"Re: site not coming up
I resolved the issue shortly after I posted my original post. I believe the VM got some updates and it resets my web.xml inside /usr/share/tomcat7/webapps/ROOT/WEB-INf/ to the original tomcat's web.xml. I had to delete my old ROOT folder, and restart my tomcat service to get the site back up."

Amazon EC2	"Instance not stopping !!!!
Hello AWS support. 

The following instance has been in a stopping state for a few hours. 
ID: (i-172b4702)

I issued a ""Stop"" command using the console, but it wouldn't stop. I tried the ""Force Stop"" command, but it is still in a ""Stopping"" state. Will you please check on it ASAP?

Thank you!"

Amazon EC2	"Re: Instance not stopping !!!!
Instance stop now !!!"

Amazon EC2	"I've locked myself out of my EC2 Instance
Hi there, 

I pulled the bonehead move of blocking all inbound traffic in windows firewall on my ec2 instance, and now I can't access my ec2 instance (for obvious reasons). Is there anyway to reverse this? I don't have premium support with aws. If I lose the instance it isn't a huge deal because it was brand new and was just being set up for a transfer, but it'd be nice if I could recover it because a good chunk of time has been put into setting up so far. Please let me know if you need anymore information about the instance.

Thanks for any help"

Amazon EC2	"Amazon EC2 Page Not Found 404
I am new to amazon EC2.

1. I have t1.micro instance running windows
2. Elastic IP is assigned
3. My Website is hosted on IIS default site port 80
4. Security group setting is as below
5. Ports Protocol Source launch-wizard-1

80 tcp 0.0.0.0/0 ✔

443 tcp 0.0.0.0/0 ✔

3389 tcp 0.0.0.0/0 ✔

-1 icmp 0.0.0.0/0 ✔

Site binding is http 80, all unassigned.

I am able to access my website from inside the server on private IP of the instance.

From outside if I try to access using elastic IP, I get error 404 File not found.

I have already verified security group and elastic IP association with the instance.

Elastic IP is supposed to point to my server and give me IIS default site. I am not sure where this elastic IP is pointing to my IIS because even if I stop the site, I get error 404 instead of service unavailable error.

I searched on internet and no one seems to be facing this problem.

What can I possible try, change to access my site from internet using elastic ip linked to the instance."

Amazon EC2	"Re: Amazon EC2 Page Not Found 404
Found the problem: I had put my domain name in site binding in IIS , I removed domain name from site binding and it started working"

Amazon EC2	"Re: Amazon EC2 Page Not Found 404
Thanks, it also fixed my issue!"

Amazon EC2	"Issues with SSH timeout to EC2 instances
I see many users having issues over past few days with SSH to new EC2 instances.  I am having the same problems, I'm posting some of my settings here with the hopes someone can identify the underlying issue.

As far as I can tell the problem is only with instances in the Oregon region.  Instances I have in N.Virginia and Ireland seem to work fine.  Here are settings from some of the instances I've had issues with:

Instance ID: i-8fc56520
Instance type:  t2.micro
Availability zone:  us-west-2a
AMI ID:  amzn-ami-hvm-2016.03.3.x86_64-gp2 (ami-7172b611)

Instance ID: i-b5100b20
Instance type:  t2.micro
Availability zone:  us-west-2b
AMI ID:  RHEL-7.2_HVM_GA-20151112-x86_64-1-Hourly2-GP2 (ami-775e4f16)

New instances will work for a few minutes after which they will get SSH timeout or broken pipes.  Once it fails nothing will work until Stop/Start (reboot does nothing).

Here is a sample session from a failed instance showing broken pipe at the end with some date statements to show timing:



bmodi@bmodi-lt2: ~/work/aws $ ssh -i ./aws-oregon-keypair.pem ec2-user@ec2-52-41-196-104.us-west-2.compute.amazonaws.com
The authenticity of host 'ec2-52-41-196-104.us-west-2.compute.amazonaws.com (52.41.196.104)' can't be established.
ECDSA key fingerprint is SHA256:LnUiwTNnKAsqB7wPhiikgsBf+9/5yd6N/j+yS2d1r84.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'ec2-52-41-196-104.us-west-2.compute.amazonaws.com,52.41.196.104' (ECDSA) to the list of known hosts.
Last login: Tue Jul  5 16:58:17 2016 from tor-gateway.afilias.info
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ whoami
ec2-user
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ hostname
ip-172-31-23-0.us-west-2.compute.internal
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ uname -a
Linux ip-172-31-23-0.us-west-2.compute.internal 3.10.0-327.el7.x86_64 #1 SMP Thu Oct 29 17:29:29 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ cat /etc/issue
\S
Kernel \r on an \m

ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ sudo df
Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/xvda2      10473452 1096340   9377112  11% /
devtmpfs          489484       0    489484   0% /dev
tmpfs             507736       0    507736   0% /dev/shm
tmpfs             507736   12940    494796   3% /run
tmpfs             507736       0    507736   0% /sys/fs/cgroup
tmpfs             101548       0    101548   0% /run/user/1000
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ sudo free -h
              total        used        free      shared  buff/cache   available
Mem:           991M         72M        791M         12M        128M        783M
Swap:            0B          0B          0B
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda2       10G  1.1G  9.0G  11% /
devtmpfs        479M     0  479M   0% /dev
tmpfs           496M     0  496M   0% /dev/shm
tmpfs           496M   13M  484M   3% /run
tmpfs           496M     0  496M   0% /sys/fs/cgroup
tmpfs           100M     0  100M   0% /run/user/1000
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ tree -a
-bash: tree: command not found
ec2-user@ip-172-31-23-0 ~$ sudo yum install -y tree
Loaded plugins: amazon-id, rhui-lb, search-disabled-repos
rhui-REGION-client-config-server-7                                                                                                                                                                                                                    | 2.9 kB  00:00:00     
rhui-REGION-rhel-server-releases                                                                                                                                                                                                                      | 3.7 kB  00:00:00     
rhui-REGION-rhel-server-rh-common                                                                                                                                                                                                                     | 3.8 kB  00:00:00     
Resolving Dependencies
--> Running transaction check
---> Package tree.x86_64 0:1.6.0-10.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=============================================================================================================================================================================================================================================================================
 Package                                                 Arch                                                      Version                                                         Repository                                                                           Size
=============================================================================================================================================================================================================================================================================
Installing:
 tree                                                    x86_64                                                    1.6.0-10.el7                                                    rhui-REGION-rhel-server-releases                                                     46 k

Transaction Summary
=============================================================================================================================================================================================================================================================================
Install  1 Package

Total download size: 46 k
Installed size: 87 k
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
tree-1.6.0-10.el7.x86_64.rpm                                                                                                                                                                                                                          |  46 kB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : tree-1.6.0-10.el7.x86_64                                                                                                                                                                                                                                  1/1 
  Verifying  : tree-1.6.0-10.el7.x86_64                                                                                                                                                                                                                                  1/1 

Installed:
  tree.x86_64 0:1.6.0-10.el7                                                                                                                                                                                                                                                 

Complete!
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ tree -a
.
├── .bash_history
├── .bash_logout
├── .bash_profile
├── .bashrc
└── .ssh
    └── authorized_keys

1 directory, 5 files
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ date
Wed Jul  6 12:58:31 EDT 2016
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ tail /var/log/
anaconda/           boot.log            choose_repo.log     cloud-init.log      dmesg               lastlog             messages            rhsm/               spooler             tuned/              wtmp                
audit/              btmp                chrony/             cron                dmesg.old           maillog             ppp/                secure              tallylog            wpa_supplicant.log  yum.log             
ec2-user@ip-172-31-23-0 ~$ tail /var/log/cloud-init.log 
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: +-------+-------------+-------------+---------------+-----------+-------+
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: | Route | Destination |   Gateway   |    Genmask    | Interface | Flags |
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: +-------+-------------+-------------+---------------+-----------+-------+
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: |   0   |   0.0.0.0   | 172.31.16.1 |    0.0.0.0    |    eth0   |   UG  |
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: |   1   | 172.31.16.0 |   0.0.0.0   | 255.255.240.0 |    eth0   |   U   |
Jul  6 12:56:53 ip-172-31-23-0 cloud-init: ci-info: +-------+-------------+-------------+---------------+-----------+-------+
Jul  6 12:56:54 ip-172-31-23-0 cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Wed, 06 Jul 2016 16:56:54 +0000. Up 12.37 seconds.
Jul  6 12:56:54 ip-172-31-23-0 cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Wed, 06 Jul 2016 16:56:54 +0000. Up 12.68 seconds.
Jul  6 12:56:54 ip-172-31-23-0 cloud-init: 2016-07-06 12:56:54,890 - templater.pyWARNING: Cheetah not available as the default renderer for unknown template, reverting to the basic renderer.
Jul  6 12:56:54 ip-172-31-23-0 cloud-init: Cloud-init v. 0.7.6 finished at Wed, 06 Jul 2016 16:56:54 +0000. Datasource DataSourceEc2.  Up 12.75 seconds
ec2-user@ip-172-31-23-0 ~$ 
ec2-user@ip-172-31-23-0 ~$ packet_write_wait: Connection to 52.41.196.104 port 22: Broken pipe
bmodi@bmodi-lt2: ~/work/aws $ date
Wed  6 Jul 2016 13:01:44 EDT
bmodi@bmodi-lt2: ~/work/aws $"

Amazon EC2	"cannot access instance via VPC
Dear community,

I try to launch to a VPC  but I cannot ping my instance after its launch. I compare the instance I launch into the EC2-classic and there is no public DNS assigned in my VPC instance. Is it the reason why it does not work ? I launch the instance as a spot instance . Does it make any difference ?

I attach the screen shot.

Thanks for all the help."

Amazon EC2	"Java or Grails apps not loading with Tomcat 7 and Elastic Load Balancer
We currently have an EC2 instance running tomcat that sits behind a public facing ELB.  Everything is operating fine except we have an issues when we deploy new webapps.

If we go to <PublicIP>:8080/Webapp1 the page will load fine, no issues.
If we go to <PublicIP>:8080 the Tomcat Root page loads fine, no issues
If we go to <LoadBalancerDNSName> the Tomcat Root page loads fine, no issues
If we go to <LoadBalancerDNSName>/Webapp1 the page WILL NOT LOAD.
(I have attached a .png to help show this better)

I have the Elastic load balancer to listen to HTTP and HTTPS traffic (80 and 443) and they are forwarding to the Instance port 8080 where tomcat is running.  Its odd because through the Load Balancer DNS name we can access the tomcat root page without an issue.

Any help or ideas for troubleshooting would be greatly appreciated!

Edited by: ianswilson1 on Jul 6, 2016 7:39 AM

Edited by: ianswilson1 on Jul 6, 2016 7:40 AM"

Amazon EC2	"EC2 can't connect over SSH or HTTP
I can't connect to my EC2 instance over SSH and I can't open my site hosted on it.

instance ID: i-5e5c157e
availability zone: us-east-1d
public DNS: ec2-54-84-29-172.compute-1.amazonaws.com
Instance type: m3.2xlarge

The image used is AMI ID CentOS-6.4-x86_64-GA-EBS-9ededd96-9ff7-4ba1-ae15-2c99f7e93990-ami-d79bf0be.1 (ami-bf5021d6)

The instance is running with 2/2 checks passed.

I can't connect to the public DNS, I tryed in a lot of diferente connections and ISP here, no one can connect. Every time I try to connect over ssh on the port 22 get Connection timed out.
I use the command: ssh -i My.pem root@ec2-54-84-29-172.compute-1.amazonaws.com

I was able to connect to this instance yesterday but today the instance cant be accessed.

I can dettach the volume and attach to another one and see the files.

Any help will be aprecciated."

Amazon EC2	"Re: EC2 can't connect over SSH or HTTP
Hello,
I see your instance ""i-5e5c157e"" is currently stopped. Can you please start the instance and let us know so that we can verify the instance/configuration from our side. Can you also please try not to ssh with ""root"" user (use other user configured in your system) while logging in? Can you also use ""-v"" for debug the ssh session and verify if any other network/configuration changed within this period?

Najah N"

Amazon EC2	"Re: EC2 can't connect over SSH or HTTP
I friend give me a help. Now my website is online, but I cant connect to the FTP and SSH.

It's return the message:
FTP: Erro:	Network error: Connection refused
SSH: ssh: connect to host ec2-54-84-29-172.compute-1.amazonaws.com port 22: Connection refused

A nmap -sT ec2-54-84-29-172.compute-1.amazonaws.com tell me that the port
21 is open, but this does not list the port 22 (ssh)."

Amazon EC2	"t2.nano and 32-bit systems, where to find linux ami
I have few really old systems with 32-bit CentOs.
Now running at t1.micro.  

I plan to migrate to t2.nano and after some investigation i cannot
find any centos/linux OS ami for 32-bit systems.

Can someone give me advice ? 
May be i search in wrong place ?
Or new instance types not support 32-bits systems ?

I cannot migrate to 64-bit system, because some code not work under not 32bit systems.
(and i cannot rewrite and TEST all code)

Any ""linux"" with g++ ok for me. Better without any installed software. (i not use LAMP etc)"

Amazon EC2	"EC2 instance scheduled for retirement - or not
We received a Retirement Notification that one of our EC2 instances is scheduled for retirement (due to underlying hardware degradation). However, when I go to my EC2 dashboard, ""No events"" is shown under Scheduled Events. So my question is ""Is our EC2 instance scheduled for retirement or not""

Thank you."

Amazon EC2	"Re: EC2 instance scheduled for retirement - or not
Make sure you have the AWS Region set to match the region where the instance retirement is to occur... for instance, N. California Versus Oregon, etc."

Amazon EC2	"Re: EC2 instance scheduled for retirement - or not
Yes, regions match. (US West (Oregon))"

Amazon EC2	"Re: EC2 instance scheduled for retirement - or not
Hi,

I can take a look at your situation if you please provide me the instance id you got the reitrement notification for (it should be in the email). 

Best Regards,
Omar S."

Amazon EC2	"Re: EC2 instance scheduled for retirement - or not
Thank you. It's ""Amazon EC2 instance (instance-ID: i-6c61b0a4) in the us-west-2 region"".

Thank you."

Amazon EC2	"Re: EC2 instance scheduled for retirement - or not
Thank you. It's ""Amazon EC2 instance (instance-ID: i-6c61b0a4) in the us-west-2 region"".

Thanks.

Was this never posted? It appears in the message thread.

What were you able to determine?

Thank you."

Amazon EC2	"How to get Linux AMI platform name via API/CLI?
AWS Web Console can display platform name of Linux AMIs – Ubuntu, Amazon Linux, etc.

But tools like boto or AWS CLI seems to lack this ability.
aws ec2 describe-images show anything but platform name.

Any ides how to get it?"

Amazon EC2	"Announcing baseimage-amzn - A Docker Base Image based on Amazon Linux RPMs
We are happy to announce baseimage-amzn - A Minimal Docker Base Image based on Amazon Linux RPM packages.

For more details, please see our blog post at,
https://lambda-linux.io/blog/2016/07/06/baseimage-amzn-docker-base-image/

We hope baseimage-amzn will serve as a useful docker base image that you can use when building and deploying your container based applications on AWS.

Sincerely,
Lambda Linux Project Team"

Amazon EC2	"EC2 Random Disconnect Issue
Hello,

I've been receiving random disconnects to my EC2 Nano for the past month or so (about 4 so far)... (not pingable, no ssh, etc), and my instance recovery I have set on CloudWatch goes off and ends up restarting it after it is down for 5+ minutes. Everything is fine after that, but I'd love to figure out what is causing this issue.

I do want to mention that I rebuilt this server last week after the first 3 disconnects. Same region, same EC2 size (nano). But this did not solve my problem.

In case an AWS Mod sees this, my instance ID is: i-03dda4b6

I'm not seeing any issues on any of the server logs, but I can't be certain that the server itself just panics or the network is just dying. As I mentioned, a restart of the instance fixes everything. This EC2 is running the Amazon AMI and it is being utilized as a low usage Mongo server. The reports of the New Relic plugin, the CPU utilization is pretty minimal and the memory has never gone past 60% on any given day. I really don't think this is due to me running Mongo and nginx on it and causing any issues. I've done this previously using other VPS providers with no issues before moving to AWS. As well, the original instance (before rebuilding last week) has been operational for about a year with no changes and no downtime. As I mentioned, the disconnects started happening this past month or so.

The last thing I was thinking of doing was disabling the CloudWatch recovery and just trying to see if I could pull the System Log when it goes down.. But I'm hoping to not have alot of downtime.

Hoping someone might have an idea what is going on or suggestions.

Thanks!
T"

Amazon EC2	"Re: EC2 Random Disconnect Issue
Hello

I looked at your instance i-03dda4b6 and found there was an underlying hardware issue on 2016-07-06 at 03:20 UTC that caused your instance to lose connectivity.

When you stopped and started your instance on 2016-07-06 at 03:30 UTC your instance moved to new healthy underlying hardware, and you restored connectivity as a result.

To see if there is an issue on the underlying hardware at the time I would advice you look at the Status Check Failed System CloudWatch metric to see if you find a spike at the time. That would give you a clear indication if the issue is isolated to your instance only, or because of underlying hardware issue."

Amazon EC2	"DNS server is unreachable occasionally from US West (N.California) instance
Hello,

From time to time we get DNS server timeout in our EC2 server located on the US West datacenter. nslookup produces the following output:

C:\>nslookup ****.net
Server:  ip-172-31-0-2.us-west-1.compute.internal
Address:  172.31.0.2

DNS request timed out.
    timeout was 2 seconds.





Request to ip-172-31-0-2.us-west-1.compute.internal timed-out






Please fix the DNS server.

Thanks,
Viacheslav"

Amazon EC2	"ELB - too many False alarm
We have 2 instance attached to an elb. One instance in Availability Zone 1a and other in 1b
We have CloudWatch alarm configuration is as given below

Description: The description provided when the alarm was created or modified.Created from EC2 Console

Threshold: The condition in which the alarm will go to the ALARM state.UnHealthyHostCount > 0 for 1 minute

Actions:The actions that will occur when the alarm changes state.

In ALARM:	
Send message to topic ""jitNotifier"" (xyx@domain.in)

Namespace:A namespace is a conceptual element to which you attach one or more metrics.AWS/ELB

Metric Name:The metric name field of the metric being monitored.UnHealthyHostCount

Dimensions:Name/Value pairs used to identify a metric uniquely. Often indicates the resource being monitored.LoadBalancerName = prelaunch-elb

Statistic:Statistic of the metric being monitored, either Average, Minimum, Maximum, Sum or number of 
Data SamplesAverage

Period:The granularity of the datapoints for the monitored metric.1 minute

When it raises the alarm 

 ""newState"": {
    ""stateValue"": ""ALARM"",
    ""stateReason"": ""Threshold Crossed: 1 datapoint (0.0625) was greater than the threshold (0.0)."",
    ""stateReasonData"": {
      ""version"": ""1.0"",
      ""queryDate"": ""2016-07-05T14:48:51.493+0000"",
      ""startDate"": ""2016-07-05T14:47:00.000+0000"",
      ""statistic"": ""Average"",
      ""period"": 60,
      ""recentDatapoints"": [
        0.0625
      ],
      ""threshold"": 0
    }
it gives datapoint 0.0625 which I dont understand. There are 2 instance one goes down average would be 1/2 . 1 instance out of 2 instance which would be 0.5. I dont understand what it means by giving 0.0625 as datapoint.
We checked and both ec2 instance was healthy and web app was running smoothly.

I suspect this to be purely a metrics related issues for raising false alarm.
Can someone help me understand these data point 0.0625 how did aws arrive at this datapoint. Possibly i can tune the alarm configuration to avoid false alarms."

Amazon EC2	"The site can't be reached
Hi all,
I am having a strange situation where my site is not accessible from some computer but some other computers are perfectly fine?!

Here is the site info: 
Site: horriblelandlords.com
Instance ID: i-232a6b8a
Instance Type: t2.micro
Public IP: 52.5.171.97

I have also setup a NAT instance according to the steps in AWS tutorials with info here: 
Instance iD: i-472f57ee
Instance Type: m1.small
Public IP: 54.164.93.157

I basically setup everything (security groups, VPCs, Route53) according to the tutorials found in AWS site. The strange thing is I am having a fun time developing and accessing the site without any problem from 3 of my computers (home, office, and another home), but my wife's computer just always gets this ""The site can't be reached"" error. I have a friend of mine testing the page as well but he found out that 4 our of all his company computer are having Link: this error and all the others are fine. 

I am running out of ideas now and hoping that if anyone can help me on this problem. Thank you and much much appreciated. 
Best,
Henry"

Amazon EC2	"I can't stop to my EC2 instance
I can't stop to my EC2 instance over AWS console ,EC2 status is still stopping over 30min.

instance ID: i-d2304121
availability zone: ap-northeast-1b"

Amazon EC2	"Re: I can't stop to my EC2 instance
I could stoped a instance ,thank you."

Amazon EC2	"EC2 SSH Timeout/Connection Issues
I cannot connect to my EC2 instance (i-d7fd430e - CentOS Linux 7 x86_64 HVM EBS) via SSH for more than about 1 minute after booting it. This issue is very strange because I can only connect after stopping the instance, then manually starting it; using the reboot option does not work. After connecting for a minute or so, it freezes and gives a 'broken pipe' error in my Terminal. This issue is not isolated to port 22; after I've wrestled my way to installing webmin on port 10000 and around the time I'm kicked off via SSH, I can no longer connect on port 10000 either.

I've double-checked my security group, left it running for a few hours (gave it time to reset any network-related issues), locked the .pem to read-only, tried a different network to make sure it has nothing to do with my firewall, and created a test instance with Amazon Linux with no prevail. I can log into my business's CentOS EC2 (separate AWS account) just fine. After checking the logs (cd /var/log; cat secure messages dmesg), one bug stood out:
[    0.282524] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
* this clock source is slow. Consider trying other clock sources

Also Monitoring in the EC2 console stops logging after I'm disconnected, as in, no CPU or I/O activity.

Please help as this is mind-boggling and extremely annoying."

Amazon EC2	"Re: EC2 SSH Timeout/Connection Issues
I am experiencing exactly this same issue.  Makes no difference if SSH access (port 22) is IP restricted or allowed from anywhere.  This seems to be the most common suggestion when troubleshooting SSH timeouts - check the security group settings.  But the fact that a connection does occur even for a minute means that the network access is not an issue.  I've looked at VPC console and checked both the route table and network ACL settings.

I have yet to find a solution and it is very aggravating.  I've tried different images - RedHat, Ubuntu, Amazon OS, no difference.

Wondering if you were ever able to find a solution to this issue (I know it's been a while but not finding any other cases of others experiencing this same problem)."

Amazon EC2	"Re: EC2 SSH Timeout/Connection Issues
I am having a similar problem. I was reading somewhere on this forum that if your account was cancelled in the past, them Amazon locks the connection to your account upon uncancelling(See attached). I have also just posted this on the forum and have no idea how to get in touch with Amazon tech support without getting the premium support plans.

Edited by: Hashtag on Jul 5, 2016 4:52 PM"

Amazon EC2	"Stuck Snapshot
I've been trying to take a snapshot of an old volume (which is disconnected from any instances). Every time I try to snapshot it, it is stuck at 99% (pending). Anything we can do to unblock this?

snap-0453e040be5f0d466"

Amazon EC2	"Re: Stuck Snapshot
it finished on its own this time, so this can be closed"

Amazon EC2	"ssh - Operation freezes after 2 minutes of instance launch
Hi ,

As soon as I spin up a T2 micro Amazon Linux AMI 2016.03.3 and try to ssh into it, i can connect initially but after 2 minutes the connection freezes and I can't connect again ( Operation time out). I double checked my security groups and Network ACLs and everything is configured as per AWS docs. 

If I stop the instance and then start it again, I can connect via ssh for the first 2 minutes and then the problem repeats itself. I have a feeling Amazon has some kind of lock on my account. Can anyone help me with what I should do. I am studying for SysOps Associate certification and I am unable to practice.

Thanks,

H"

Amazon EC2	"Re: ssh - Operation freezes after 2 minutes of instance launch
I searched through the AWS forum and this happened to another user. Amazon reached out to him with the following ( see attached). I think this is exactly whats happening with me. My account was cancelled in 2013 due to inactivity."

Amazon EC2	"Associate Elastic IP Not Working
Hi All,

I am trying to associate an Elastic IP to an instance and it isn't working like it used to.  It provides an edit box for the Instance ID where it used to provide a drop down list of active instances.  I paste in the Instance ID and gives me an error saying that the Instance ID parameter is required!  

What gives??

Thanks!"

Amazon EC2	"Re: Associate Elastic IP Not Working
Hello,

Would you be able to provide us the screenshot of error you are getting?

Regards,
Umair A."

Amazon EC2	"Re: Associate Elastic IP Not Working
You bet!!  Here it is - what you don't see is that I pasted the instance id before pressing Associate and getting this message.  Previously it would show me a drop down list of instances that were running and let me choose one.  

Thanks!"

Amazon EC2	"Re: Associate Elastic IP Not Working
Hello,

I have a few follow up questions:

-Is it just one instance you're not able to associate this IP or have you tried others? 
-Is it just one EIP or can you not associate any EIPs? 
-Whether it's one or multiple, could you please provide the instance IDs? You can PM them to me if you'd rather they aren't posted publicly. 
-Have you tried from another computer or browser? If after you click ""Associate"" the instance ID is disappearing it could be an issue with javascript/css/browser functionality. 

Regards,
Nick"

Amazon EC2	"Re: Associate Elastic IP Not Working
Hi Nick,

I've tried a number of instances and had the same problem but this is the only EIP I've used.  I can allocate another one and try it if you think that might be the issue.  

The instance ID is i-833f967b but it's stopped now - can it still be associated?

I'll try a different browser but I am using Chrome so I doubt that is the problem.  Could be though!

Thanks for your help!

Randy"

Amazon EC2	"Re: Associate Elastic IP Not Working
Hello Randy, 

Yes please try a different browser and report back your findings. If you still have issues with a different browser, please allocate another EIP and verify if you get the same error. By the sounds of the error message, it sounds like the javascript/browser isn't properly sending the instance ID in the api request. 

If an instance is stopped you can still associate an EIP to that instance, however if an instance is terminated you will not be able to associate that IP. 

Another thought, please make sure you're in the correct region and make sure you're attempting to associate an EIP within the same platform. For example, if using EC2 classic, please make sure the EIP is also within the ""EC2"" scope. If EC2 instance is in a VPC, please make sure the EIP is in the scope ""VPC"". 

Regards,
Nick"

Amazon EC2	"Re: Associate Elastic IP Not Working
Hey Nick,

So it turns out you were right about EC2 vs VPC - when I chose VPC it suddenly worked like it used to (i.e., the instance appeared in the drop down and I could select it).  Thanks for your help - I guess I just thought that as long as the instance was visible in the dashboard then EC2 should be able to find it.  

Thanks!!!

Randy"

Amazon EC2	"EC2 Instance outage in EU/Ireland
EC2 Instance i-0ce8532bbab736662 in EU/Ireland region has been up & down for about an hour.  Console log shows nothing but the usual boot-up & virtualisation messages, though curiously for about 15 minutes it just showed a blank screen with no reassuring green letters.  The console screenshot just shows the usual login prompt.  For about 15 minutes I am also missing my (free tier) CloudWatch statistics.

To me this suggests a back-end problem.  There were a couple of times I was able to get onto my instance in the last hour and the only thing this server runs (httpd; it's a web server) was using only the usual amount of memory, ""free"" command output was normal.  None of the usual symptoms associated with LAMP stack problems or hacking.  I was able to reboot it once (though difficult the first time) and I'm still having the problems after rebooting.

I hope someone at AWS can check out the host / platform / subnet / AZ / region this instance is connected to and post a general result here.

I can prove I am the owner of this instance by whatever means would help... I'm posting this from an email login that was used for an evaluation a couple of years ago, since when I try to post a forum message with my current forum username (""rphair"") I get a message ""Unauthorized"" saying I need to have an AWS account (I do) and that if so I should log out & in again (I did).  Any feedback about that one would be welcome as well."

Amazon EC2	"Re: EC2 Instance outage in EU/Ireland
System appears OK now.  As with when the problem appeared, no configuration changes were made in order to resolve this... I think that also suggests an infrastructure problem.  Total downtime was probably about 2 hours.  If any details are apparent from the outage please let me know, or let me know how I can effectively request them from my free tier account.  I'd like to have something concrete since I am suggesting an identical configuration to many new business adopters of AWS for their web hosting.

Edited by: rxxphair on Jun 24, 2016 8:24 AM

Edited by: rxxphair on Jun 24, 2016 8:24 AM

Edited by: rxxphair on Jun 24, 2016 8:25 AM"

Amazon EC2	"Re: EC2 Instance outage in EU/Ireland
On investigation it appears my server was being effectively DoS'd yesterday; someone trying to hack in by injecting stuff into the contact form, from 11:00 to 15:00 Dublin local time: 60K page loads in 4 hours.  Problem came on suddenly so couldn't get evidence while it was happening.  In future probably would have to take machine down & look at Apache logfiles to get offending IP addresses and put them in iptables block list, or block them at the VPC level."

Amazon EC2	"Re: EC2 Instance outage in EU/Ireland
(Testing reply from the AWS account that owns this instance) Continuing with a bit more information... instance was performing OK and the second reason for denial of service was launching many, many email messages from an unsecured contact form.  All cleaned up now & thanks for AWS people for volunteering to investigate."

Amazon EC2	"can't stop instance i-fcfd4bd7
Just got the email that it was scheduled for retirement.   It is stuck in stopping... mode. Please stop.

Edited by: cjf_redbird on Jul 5, 2016 1:52 PM"

Amazon EC2	"Re: can't stop instance i-fcfd4bd7
It's stopped now."

Amazon EC2	"Apache or EC2 Instance shutting down
We have several EC2 instances running Apache and MySQL. We've noticed that sometimes the Apache server will go down with no reason. Checking httpd logs I've found out the following (last few lines of error_log):

[Sat Jul 02 07:56:52.574254 2016] [:error] [pid 13918] [client 37.26.128.179:52055] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 07:56:53.395995 2016] [:error] [pid 13734] [client 37.26.128.179:39201] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 07:56:54.210589 2016] [:error] [pid 14039] [client 37.26.128.179:48529] script '/var/www/html/myipha.php' not found or unable to stat
[Sat Jul 02 07:56:55.017090 2016] [:error] [pid 14041] [client 37.26.128.179:41562] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 07:56:55.568294 2016] [:error] [pid 14040] [client 37.26.128.179:59631] script '/var/www/html/myiphd.php' not found or unable to stat
[Sat Jul 02 07:56:55.847358 2016] [:error] [pid 14040] [client 37.26.128.179:59631] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 07:56:56.127011 2016] [:error] [pid 14040] [client 37.26.128.179:59631] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 07:56:56.405739 2016] [:error] [pid 14040] [client 37.26.128.179:59631] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 10:03:19.640546 2016] [:error] [pid 14039] [client 37.26.128.179:56862] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 10:03:20.478632 2016] [:error] [pid 14041] [client 37.26.128.179:57882] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 10:03:21.306481 2016] [:error] [pid 14040] [client 37.26.128.179:58858] script '/var/www/html/myipha.php' not found or unable to stat
[Sat Jul 02 10:03:22.139416 2016] [:error] [pid 13915] [client 37.26.128.179:39828] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 10:03:22.700020 2016] [:error] [pid 13627] [client 37.26.128.179:40402] script '/var/www/html/myiphd.php' not found or unable to stat
[Sat Jul 02 10:03:22.977591 2016] [:error] [pid 13627] [client 37.26.128.179:40402] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 10:03:23.257589 2016] [:error] [pid 13627] [client 37.26.128.179:40402] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 10:03:23.534930 2016] [:error] [pid 13627] [client 37.26.128.179:40402] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 15:31:29.395163 2016] [:error] [pid 13627] [client 37.26.128.179:35430] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 15:31:30.220528 2016] [:error] [pid 13920] [client 37.26.128.179:42584] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 15:31:31.075890 2016] [:error] [pid 15738] [client 37.26.128.179:63735] script '/var/www/html/myipha.php' not found or unable to stat
[Sat Jul 02 15:31:31.912242 2016] [:error] [pid 13918] [client 37.26.128.179:58682] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 15:31:32.449375 2016] [:error] [pid 13734] [client 37.26.128.179:39023] script '/var/www/html/myiphd.php' not found or unable to stat
[Sat Jul 02 15:31:32.724154 2016] [:error] [pid 13734] [client 37.26.128.179:39023] script '/var/www/html/myiphb.php' not found or unable to stat
[Sat Jul 02 15:31:33.000780 2016] [:error] [pid 13734] [client 37.26.128.179:39023] script '/var/www/html/myiphc.php' not found or unable to stat
[Sat Jul 02 15:31:33.275645 2016] [:error] [pid 13734] [client 37.26.128.179:39023] script '/var/www/html/myiphb.php' not found or unable to stat
[Sun Jul 03 03:07:01.342500 2016] [mpm_prefork:notice] [pid 3568] AH00173: SIGHUP received.  Attempting to restart


What might be causing this Apache shutdown?"

Amazon EC2	"Error ""No active Lifecycle Action found with token""
I'm using lifecycle hooks on Auto-Scaling Groups and hooked up my Lambda function to be called for certain lifecycle events. Recently I started seeing a lot of errors like below, because of which many instances are unable to join the ASG. Any help is appreciated.

Following is what I get from CloudWatch logs corresponding to my Lambda function.
2016-07-01T21:59:06.419Z	dd57d162-3fd6-11e6-a1bc-8f34a4a3ca1c	completeLifecycleAction with params {""AutoScalingGroupName"":""rags-asg-auto-mtoken-install"",""LifecycleActionResult"":""CONTINUE"",""LifecycleHookName"":""asg-inst-launch-hook"",""LifecycleActionToken"":""afec2e41-4b76-481a-92f8-0f237617df2f""} failed with err ValidationError: No active Lifecycle Action found with token afec2e41-4b76-481a-92f8-0f237617df2f and stack trace ValidationError: No active Lifecycle Action found with token afec2e41-4b76-481a-92f8-0f237617df2f at Request.extractError (/var/runtime/node_modules/aws-sdk/lib/protocol/query.js:40:29) at Request.callListeners (/var/runtime/node_modules/aws-sdk/lib/sequential_executor.js:105:20) at Request.emit (/var/runtime/node_modules/aws-sdk/lib/sequential_executor.js:77:10) at Request.emit (/var/runtime/node_modules/aws-sdk/lib/request.js:615:14) at Request.transition (/var/runtime/node_modules/aws-sdk/lib/request.js:22:10) at AcceptorStateMachine.runTo (/var/runtime/node_modules/aws-sdk/lib/state_machine.js:14:12) at /var/runtime/node_modules/aws-sdk/lib/state_machine.js:26:10 at Request.<anonymous> (/var/runtime/node_modules/aws-sdk/lib/request.js:38:9) at Request.<anonymous> (/var/runtime/node_modules/aws-sdk/lib/request.js:617:12) at Request.callListeners (/var/runtime/node_modules/aws-sdk/lib/sequential_executor.js:115:18)"

Amazon EC2	"EC2 server says Windows is not genuine
We have EC2 instance, running Windows Server 2008 R2 Datacenter.
Recently it started to show the message The copy of Windows is not genuine.
Updates worked fine, but didn't help.
I tried to apply fixes recommended here: 
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows
But it didn't help either.
Any recommendatios how to fix it? 
Right now it works fine, despite the message. But we have critical services on this server, and if we lost an access, would be a big problem."

Amazon EC2	"Re: EC2 server says Windows is not genuine
Hi.

I am receiving the same message. Did Amazon help resolve it for you? 
I am reading several posts, and it seems Amazon has no clue how to solve it because they keep sending links to different people. 

Any insight from you would be helpful.

thanks
Indu"

Amazon EC2	"Re: EC2 server says Windows is not genuine
I have the same issue. Previous suggestions in thread did not resolve issue. Please advise."

Amazon EC2	"ServerError: an internal error has occurred during conversion.
Is there a way to find the reason for import failures?
This is an RHEL 6 (64bit) VM

""Description"": ""Connector task 4: Creating AMI for vm-195"",
""StatusMessage"": ""ServerError: an internal error has occurred during conversion."",
""ImportTaskId"": ""import-ami-fgr01eha""

Thanks!"

Amazon EC2	"Re: ServerError: an internal error has occurred during conversion.
Hello,

RHEL 6.0 is unsupported because it lacks the drivers required to run on Amazon EC2.. Please make sure that you follow all the pre-requisites of vm-import. 

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

Regards,
Umair A."

Amazon EC2	"Cloud watch error in Redhat Linux
I am unable to configure Cloudwatch on Redhat Linux Machine, I get the below error which I try executing this command


./mon-get-instance-stats.pl


Any help on this is really appriciated...!!

Can't locate Digest/SHA.pm in @INC (@INC contains: /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 . .) at AwsSignatureV4.pm line 23.
BEGIN failed--compilation aborted at AwsSignatureV4.pm line 23.
Compilation failed in require at CloudWatchClient.pm line 21.
BEGIN failed--compilation aborted at CloudWatchClient.pm line 21.
Compilation failed in require at ./mon-get-instance-stats.pl line 61.
BEGIN failed--compilation aborted at ./mon-get-instance-stats.pl line 61."

Amazon EC2	"Unusual problem connecting to ec2 through SSH
There's an unusual problem connecting with my ec2 instance (i-298beab4). Yesterday I was not able to connect  with my instance and it said:- ""ssh: connect to host <IP> port 22: Operation timed out"". Despite trying the whole day and all troubleshooting, I could not. However, my friend from his computer was able to connect. Then, I tried connecting using Ubuntu running on VirtualBox. It got connected. Thereafter, I was able to connect with my Mac also, without changing anything. Today again, I'm not able to connect and the problem is same:- ""Operation timed out"". I don't understand what's going on. Kindly help."

Amazon EC2	"Re: Unusual problem connecting to ec2 through SSH
Hello,

We don't see any issues with your instance. I would advise you to check if you have local firewall enable on you host machine or network which could be preventing outbound access.

Regards,
Umair A."

Amazon EC2	"Instance hang in stopping state!
Hi
We lost connection to our instance about an hour ago. I've tried to reboot it but without success. About 40 mins ago I tried to forcefully stop it but without success too. 
Instance i-985f726e is still stopping. 
Please, look at this and help us to resolve this problem."

Amazon EC2	"Re: Instance hang in stopping state!
We've changed support plan from free to business level and created ticket #1797942511, but the instance is still in stopping state. Stopping about 22 hours."

Amazon EC2	"Re: Instance hang in stopping state!
Hello,

I see that you have opened support case with us and you have already received a response from AWS engineers. I have just spoken to internal teams about your case and i can tell you that teams are still investigating and trying to resolve your issue.

Update: Closing this thread now, we will be tracking your issue on support case.

Regards,
Umair A.

Edited by: Umair@AWS on Jul 5, 2016 3:58 AM"

Amazon EC2	"This site can't be reached, refused to connect, ec2 windows need help!!!
When attempting to access my client website hosted on AWS EC2 environment, I receive the following error

This site can’t be reached

www.abheatingandcooling.com refused to connect.
ERR_CONNECTION_REFUSED

I have stopped and restarted the instance and that fixes the issue for period of time

My EC2 Windows instance ID is i-0f4f738c
I am using Google Chrome as my browser
My public DNS is http://ec2-52-202-127-113.compute-1.amazonaws.com/
I have inbound traffic for ports 80, 3389, 443 open
I have an elastic ip setup - 52.202.127.113
I host a Wordpress site on my EC2 Windows instance
I have disabled Windows Firewall
I have also checked the wp.ini file to ensure that the memory settings was set to 128MB
Any assistance or guidance you can provide would be greatly appreciated. 

Regards,
Brian

Edited by: expectmoore on Jul 4, 2016 7:23 PM

Edited by: expectmoore on Jul 4, 2016 7:24 PM"

Amazon EC2	"Re: This site can't be reached, refused to connect, ec2 windows need help!!!
Hello,

We don't see any issues with your instance from AWS side, except for a spike in CPU utilization up to 85% at 2016-07-04T16:43+0000. T2.micro instance has 1vCPU and 1GB memory, i would advise you to monitor instance memory and CPU utilization at the time of issue. Additionally you will need to take a look at application log files to see if there were any problems.

CPU utilization can be checked from cloudwatch graphs whereas memory utilization can be monitored through cloudwatch by using monitoring scripts.

https://aws.amazon.com/blogs/aws/amazon-cloudwatch-monitoring-scripts-for-microsoft-windows/

Regards,
Umair A."

Amazon EC2	"EC2 instance Can not access every 15hours
hello, 
I am not familiar with aws very much, but I  just found my ec2 instance will became not available about every 15hours (more than 12 but less 20, I think.) I don't know why. I reboot the instance in the aws console board but it didn't work.

The only method for me is : STOP  the instance and START it again. This time it seems ok. I can ssh to the instance. I noticed that this time the instance got a NEW IP address.
I checked the system log and ssh events, no clue.

So, I think maybe , there is something wrong with the IP, some like the instance will lost it's IP. but it's weird. Can u anyone help out? I don't want reboot my instance every day! especially , the IP address will changed every time, it's annoying.

PS,
 * Putty is the tool I use, I also tried ssh from a Linux system, didn't work. 
 * Ubuntu 14.04 is the system running on the instance.
 * Region: Tokyo"

Amazon EC2	"Re: EC2 instance Can not access every 15hours
Hello,

Your instance becomes unresponsive because of high CPU utilization. There are spikes up to 100% which explains the unresponsiveness. T2 micro has 1 vCPU and 1GB memory, Based on the symptoms it seems like your instance is also running out of more memory. 

You need to change your instance type to get more memory and CPU. See below doc link for steps to resize instance.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

If you want persistent IP address for your instance you will need to use Elastic IP. If you don't use elastic IP the instance public IP gets changes every time you do stop/start, this is default behavior by design.

See how allocating and attaching Elastic IP address to instance at below doc:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating

To check CPU utilization and other graphs for your instance, go to cloudwatch console from dashboard.

Regards,
Umair A."

Amazon EC2	"Elastic Load Balancer Gives Out of Service Status
I know there are many posts of this type already on the forum, but I've gone through many of them and still haven't been able to resolve my problem. Also, it doesn't help that in previous cases where peoples' elb issues were resolved, the solution wasn't posted publicly. I created two Windows instances and connected them to a load balancer. The status for both continues to be ""Out of Service."" I've verified that a HTTP request to both instances return a 200 status code. The security group for both instances permits all traffic on all ports. I can reach the instances' index.html page from my browser. What else could I be missing?

ELB: test-1686387955.us-east-1.elb.amazonaws.com
Ping Target	HTTP:80/index.html
Timeout	2 seconds
Interval	5 seconds
Unhealthy threshold	2
Healthy threshold	2
Instance 1: ec2-52-87-168-190.compute-1.amazonaws.com
Instance 2: ec2-54-84-27-66.compute-1.amazonaws.com"

Amazon EC2	"Re: Elastic Load Balancer Gives Out of Service Status
Hi there,

I just checked the configuration of the ELB. test-1686387955.us-east-1.elb.amazonaws.com
The ELB health check is configured to check for the index.html file on the backend instances.

The instances are listening for traffic on port 80 but the index.html file cannot be found(HTTP 404). I tested a bit more and discovered that the instances are serving an index.htm file. 
You can fix the ""Out of Service"" issue by either changing the health check(adjust the ping path on the ELB to /index.htm) or you can rename the index files on the web servers to index.html.

I hope this helps!

Best,
Adolfo M."

Amazon EC2	"Re: Elastic Load Balancer Gives Out of Service Status
Oh, wow. Thanks so much. That was it."

Amazon EC2	"Can not initiate nor delete instance
Hi, I have 3 instant, which can not initiate nor delete, the instant state is Pending, and launch date is very long time ago. their ID are: i-6addba8b, i-6addba8b, i-e049170e

Can you help check?"

Amazon EC2	"Re: Can not initiate nor delete instance
Hello,

I have engaged Ec2 team to investigate this issue, We will update you on this thread soon.

Regards,
Umair A."

Amazon EC2	"Re: Can not initiate nor delete instance
Hello there,

We just heard back from the EC2 team. The three instances have been terminated. Please check and let us know if you have any issues.

Best,
Adolfo M."

Amazon EC2	"ec2-describe-tags deprecated (on a holiday weekend?)
We have some old Simple Workflow code that runs on older AMIs, as a part of the bootstrap process it relies on the ec2-describe-tags utility to pull info about its own tags.  Suddenly (this afternoon, July 3rd, on a holiday weekend) this has stopped working.  The tool now returns:

ubuntu@ip-10-213-182-155:~$ ec2-describe-tags
Client.UnsupportedProtocol: The SOAP protocol has been deprecated and is no longer supported. Please refer to the following documentation for more details: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-soap-api.html


I understand from looking at that link that the API has actually long been deprecated?  Just wondering if this is indeed permanent, and if so to lament that this change was done on a holiday weekend (as I now have to deploy a change to production in order to fix this ASAP).

Edited by: v_krishna on Jul 3, 2016 10:41 PM"

Amazon EC2	"Re: ec2-describe-tags deprecated (on a holiday weekend?)
Hi,

SOAP API are deprecated and no longer supported since 1 December 2015 as per our documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/using-soap-api.html

Regards,
Jayakrishnan L."

Amazon EC2	"Re: ec2-describe-tags deprecated (on a holiday weekend?)
I get that. But in practice, this worked until yesterday. And http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeTags.html makes no mention of the tool being deprecated."

Amazon EC2	"Re: ec2-describe-tags deprecated (on a holiday weekend?)
Ah I see there that I can pass access key and secret access key into that ec2-describe-tags command, let me give that a try."

Amazon EC2	"Problems activating windows in new instance and after hardware change
I have two instances. One is a EC2 old technology that was never asking for windows activation. There was a maintenance programmed by amazon a couple of weeks ago and it started to ask for activation due to hardware changes.

The other instance is one I created from another EC2 old technology that was needed to shut down due to hardware problems. I created an AMI and a new instance from it in new VPS technology with a different IP address. It is not capable of activating windows neither and says the same thing, new windows activation required due to hardware changes.

I have tried as the following post recommends but it didn't work:

http://cloudstacking.com/posts/windows-product-activation-for-aws-ec2-imported-vms.html

Slmgr.vbs /skms ec2-79-125-16-108.eu-west-1.compute.amazonaws.com (I tried both URLs from Ireland)
Slmgr.vbs /ato

The message is the same: 

Error: 0xC004F039 The computer could not be activated. The Key Management Service could not be reached.

The instance IDs are:

i-ae411a24	
i-f0eedd86

Never was needed activation before in none of this machines as it is supposed to be done automatically by amazon. Any sugestion about how to proceed? Thanks."

Amazon EC2	"Re: Problems activating windows in new instance and after hardware change
Hello,
I had a look at your instances and I can see from the console output logs that they are running a very old version of EC2Config Agent.
I would recommend in this case to update to latest version v3.17.1032 that you can find here:
https://aws.amazon.com/developertools/5562082477397515
In your case the update should be performed in two steps as detailed in the Troubleshooting section: you should update from your version to v2.1.19.0 first and then to the latest version.
After the upgrade, please reboot the instances and your issue should be solved.

Kind regards
Ale"

Amazon EC2	"Re: Problems activating windows in new instance and after hardware change
Thank you so much!

Perfect indications pointing to the rigth documentation to solve my problem. Already appllied and it worked.

Regards,
Juan Manuel."

Amazon EC2	"ELB stickiness randomly not working
ELB stickiness worked without problems for months, but in the last days users get logged out after correctly being logged in to the first page.

The first page shows correctly because the check is for $_POST.
When password is correct this first page sets $_SESSION, so when the user goes to other pages that relies on $_SESSION it stays logged in.

It has worked smoothly for months, now when the users try to open a page that relies on $_SESSION they get redirected to the login page.

The Chrome console shows both AWSELB and PHPSESSID cookies.

The settings are:
Stickiness: LBCookieStickinessPolicy, expirationPeriod='86400'

What do you think is happening?"

Amazon EC2	"ZERO network activity on EC2 instance
We have an EC2 instance running as a web server and using an RDS MS SQL database.

In the last week we've seen 2 periods of more than 4 hours where the websites on the EC2 instance were ""down"" as they couldn't connect to their particular database.

The last one was this morning from 3.48AM to 8.42AM GMT.  The previous one was last Sunday from 6.12AM to 10.43AM, and prior to that there was another similar length outage on 1st May.

The RDS metrics show everything running, just no database connections.

EC2 metrics show ZERO network activity for the period.

Can anyone help me explain this or point me in the right direction to establish a cause/fix?

Cheers.

Instance ID: i-10a7dc98
Zone: EU Ireland

Edited by: tallchap67 on Jun 3, 2016 4:00 AM

Edited by: tallchap67 on Jun 3, 2016 4:01 AM

Edited by: tallchap67 on Jun 3, 2016 4:12 AM"

Amazon EC2	"Re: ZERO network activity on EC2 instance
Hello,
I had a look at your instance and at its underlying hardware and found no issue so far.
I can confirm that the process providing Cloud Watch Metrics was correctly working for that time-frame (you can see CPU and Status Check metrics correctly showed for the same period)

This means that for that period OS was dropping traffic for some reason (memory leak or outage?) so I would suggest to review System and Application logs in The Event Viewer or you application/webserver logs to try to identify the root cause.

Hope this helps,
kind regards
Ale"

Amazon EC2	"Re: ZERO network activity on EC2 instance
We're really struggling here.  This sequence of events seems to now be happening every saturday night/sunday morning, at approx 3/4/5am GMT.

In the last case the CPU utilization was also flatlining.

We've tried everything we know of on the server itself and are using as many monitoring tools as is feasible and we still have no idea what is happening.

We explored TCPIP port exhaustion, and we're now looking at trying to identify processes that might be consuming all of the resources.

This is a vanilla web server, nothing special.  Really need some assistance."

Amazon EC2	"Re: ZERO network activity on EC2 instance
Hello,

I am sorry for the issues you are facing on your instance.

Have you checked the memory utilization of your instance during the time you were having issues. Could you install tools like SAR and check for any resource starvation?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: ZERO network activity on EC2 instance
We're struggling with logging and monitoring tools as they are failing/becoming corrupt each time the instance ""hangs"" and we stop/start to recover.

It's Windows Server 2012, so we'll try and see what SAR type tools are available."

Amazon EC2	"Move M1.mediumor M3.medium instance form Singapore to Mumbai region
Hello all,

I am trying to move M1.Medium / M3.Medium instance from Singapore region to Mumbai region with given below steps but I got struck when launching AMI from Mumbai region as ""No valid instance types found""

1. Stop source instance and create image 
2. copy the snapshot from singapore region to Mumbai as AMI
3. Change location top right from singapore to Mumbai
4. go to EC2 and click and launch and select my AMI and choose the AMI from step 2
5. I am getting No valid instance types found

I have tried to change other instance types as well for example 

in singapore region there is no T2 or M4 and there is no M1 or M3 in Mumbai region so we got struck ??"

Amazon EC2	"Re: Move M1.mediumor M3.medium instance form Singapore to Mumbai region
Hi,

Please note that the Mumbai Region currently supports only - C4, M4, T2, D2, I2, and R3 instance types. Please have a look at our Blog Post here.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Move M1.mediumor M3.medium instance form Singapore to Mumbai region
Thanks Jayakrishnan .

Does that mean that those ""C4, M4, T2, D2, I2, and R3 "" wont available in Singapore to make the porting work ?"

Amazon EC2	"EC2 Instance restarted without warning
On Friday evening c. 21:00 one of my EC2 servers randomly shut down. 
I can provide event logs, etc, if required. I can find no reason for this shutdown. Can you please help?
NK"

Amazon EC2	"Re: EC2 Instance restarted without warning
Hi,

Could you provide us the Instance ID so that we can have a look.

Regards,
Jayakrishnan L."

Amazon EC2	"Increase EC2 instance limit
Hello,

Can you please increase my EC2 instance quota in us-east-1 to add 4 additional running instances?

Additionally please increase the EIP quota by 4 additional elastic IP addresses, also in us-east-1

Thank you,
Colin."

Amazon EC2	"Re: Increase EC2 instance limit
Hello Colin,

Please follow the instructions in the link here to request a limit increase.

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"AWS EC2 - how to mount existing EBS (on /) on a newly launched instance
I had to terminate my instance. It was using an EBS vol.

I launched a new instance with root EBS vol = /dev/xvda1

I attached the old vol using aws console.

    lsblk
    NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
    xvda    202:0    0   8G  0 disk 
    └─xvda1 202:1    0   8G  0 part /
    xvdf    202:80   0  30G  0 disk 
    └─xvdf1 202:81   0  30G  0 part 

On my old terminated instance, my old EBS vol was also mounted at /

Now I want to mount xvdf1 on / as well. So that my code can work without changes.

Is it possible for me to do that? Or can I launch a new instance with old/existing EBS vol?

Please clarify/"

Amazon EC2	"Re: AWS EC2 - how to mount existing EBS (on /) on a newly launched instance
Hi,

Please note that you should not mount anything on '/' ass it is the root mount point.

You can mount your old volume to any temporary locations and copy the required date.

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 Instance won't stop
I have a pretty major problem here. I have an instance running Ubuntu that all of a sudden just quit working. I could not connect to it by visiting the domain or by using SSH. In the Management console it said it was running so I told it to restart. It showed that it did, but it still wasn't working. I thought maybe if I stopped it and then started it could fix the problem. Now it is stuck and it says Stopping. It has said that for about 30 minutes. I have even tried and force stop and still no luck. What should I do?

Instance ID: i-c65e1ba

Edited by: dmgames on Jan 10, 2012 8:47 AM"

Amazon EC2	"Re: EC2 Instance won't stop
The server finally stopped after 2 hours and is now running normally again."

Amazon EC2	"Re: EC2 Instance won't stop
Similar problem except for the past few days with my instance.

Restarting doesn't help. 

Cloudwatch shows blank graphs and I cant get ssh or anything. Help!"

Amazon EC2	"Re: EC2 Instance won't stop
winehook,

Please post your instance ID."

Amazon EC2	"Re: EC2 Instance won't stop
very similar issue - my instance i-eb3bc4be stopped been able to contact our RDS instance as it could be resolved (tested via nslookup) then restarted the instance and has was not responsive at all (graphs not working but checks still passing ?)

So restarted this time via the aws console and its stuck in stopping

Thanks"

Amazon EC2	"Re: EC2 Instance won't stop
Hello jaanus3h,

Please in the future create a new thread for your issue. I can help you in this thread please give me a moment to investigate.

Best,

Matt J"

Amazon EC2	"Re: EC2 Instance won't stop
Thanks Matt,

Looks like it finally stopped - I restarted and all is fine

Thanks"

Amazon EC2	"Re: EC2 Instance won't stop
Hello,

Good to hear! Please let us know if you experience any further issues with your instance.

Best,

Matt J"

Amazon EC2	"Re: EC2 Instance won't stop
i-1179d67e"

Amazon EC2	"Re: EC2 Instance won't stop
We have an instance ec2-52-18-120-139.eu-west-1.compute.amazonaws.com (id i-fa658f43) that we can't connect to via ssh and can't be stopped. We got a notification saying it was due for termination on 8 July, so maybe some hardware issue was known about."

Amazon EC2	"Re: EC2 Instance won't stop
Please disregard the above, instance now stopped"

Amazon EC2	"Can not connect to instance after reboot
Hi. I have an issue where if I create an instance, I can connect the first time, but then if I reboot I can no longer connect. Windows Remote Desktop Connection produces an error saying that remote connection may be deactivated on the computer or it may not be available in the network or may not be turned on. 
Any input would much appreciated. I am using Windows 7 professional and I am trying to connect to a free tier Windows 2012 server instance."

Amazon EC2	"intermittent network issues for the last 4 days
I've been experiencing intermittent periods of severe packet loss across all my instances in all my linked AWS accounts for the last 4 days.

The problem is being reported by several customers from several different Brazilian ISPs  . I'm sending attached a few mtr outputs at the time the problem is happening. 

Please advise on how I could provide extra information to help finding the problem.

Thanks,

JA

Edited by: jogagaz on Jul 3, 2016 8:52 PM"

Amazon EC2	"network input output data transfer increases rapidly in Gbs so my cost
I am blocked all unnecessary ports all in and out but it is not in control i have done all the steps already. please help if anyone could. It will be a great help for me is there is a way that i am able to know that which process on the server is doing it or we can throttle the in out limit so that at a time like 1mb data is transferred at max . its already too much for previous month cost for me"

Amazon EC2	"Re: network input output data transfer increases rapidly in Gbs so my cost
Hi,

A few suggestions to see what is running on your linux instance:

netstat -plant (this will show you active connections)

ps aux (this will show you what processes are running. Look for something out of the ordinary like processes with a single letter, like ""h"")

iftop will show you live traffic stats

As for limiting bandwidth, you may try tc:
http://linux.die.net/man/8/tc"

Amazon EC2	"Need to buy MFA card, but none are for sale
Good morning-   I'm getting a ""low battery"" warning on my MFA device (the credit-card type made by Gemalto), so I want to buy a new one.  AWS's page here has a link to purchase, but when I click the link, the product page doesn't have any for sale.

Would you let me know how to get to the correct page to buy another one?  Thanks very much for your help."

Amazon EC2	"Re: Need to buy MFA card, but none are for sale
Hi,

I went to the product page for gemalto for that particular product and it seems that the page is blank:

http://www.gemalto.com/products/otp_display_card/index.html

They are a 3rd party provider, so, it's not really something we have control over, but I'll reach out to the Identity team and see if we need to remove this, replace it, or if there is some other action to be taken. I suggest reaching out to Gemalto to find out if they have retired this product. The best recommendation I can make is to either replace your token with the hardware one; or, use a software token temporarily while you find a suitable replacement."

Amazon EC2	"CNAME problem while setting up EC2 virtual hosting
Recently I decided to give AWS a try to see how it perform. I created an EC2 container. I installed linux and apache. I tried to configure apache so that i could host more than one domain. There I had the th trouble.

These are the directives i added to apache configuration.

<VirtualHost *:80>
  ServerName domain1.com
  DocumentRoot  /var/www/vhosts/domain1.com/httpdocs
  <Directory  /var/www/vhosts/domain1.com/httpdocs>
    AllowOverride All
  </Directory>
</VirtualHost>
 
<VirtualHost *:80>
  ServerName domain2.com
  DocumentRoot  /var/www/vhosts/domain2.com/httpdocs
  <Directory  /var/www/vhosts/domain2.com/httpdocs>
    AllowOverride All
  </Directory>
</VirtualHost>
 
<VirtualHost *:80>
  ServerName domain3.com
  DocumentRoot  /var/www/vhosts/domain3.com/httpdocs
  <Directory  /var/www/vhosts/domain3.com/httpdocs>
    AllowOverride All
  </Directory>
</VirtualHost>
 
<VirtualHost *:80>
  ServerName domain4.com
  DocumentRoot  /var/www/vhosts/domain4.com/httpdocs
  <Directory  /var/www/vhosts/domain4.com/httpdocs>
    AllowOverride All
  </Directory>
</VirtualHost>

I set up the dns configuration so domain1.com domain2.com domain3.com and domain4.com are A records pointing to the ip number of the container.

Then I set up dns configuration so www.domain1.com is a cname pointing to domain1.com, www.domain2.com is a cname pointing to domain2.com, www.domain3.com is a cname pointing to domain3.com, www.domain4.com is a cname pointing to domain4.com

When I visit the domains, there is no problem. http://domain1.com/ http://domain2.com/ http://domain3.com/ and http://domain4.com/ works excellent. They point to the corresponding directories.

However, I have a big problem with the cnames.http://www.domain1.com/ http://www.domain2.com/ http://www.domain3.com/ and http://www.domain4.com/ do not point to the corresponding domains but all of them show me what i should see athttp://domain1.com/

Any assistance is highly appreciated."

Amazon EC2	"EC2 - very slow
Hello, 
I am a newbie to AWS and virtual-computers.
I just created an EC2 instance (T2-medium) last week. 
On the first day, performance was ok. However - during the weekend (Saturday and Sunday) - sharp drop in performance. The instance is very SLOW (for the same processing tasks - it takes now x5 time)
Am I doing something wrong?
My internet connection is good. The instance is used (or supposed to be used) for logarithmic simulation (no website)

Thanks,
OR

Edited by: OR on Jul 2, 2016 11:43 PM"

Amazon EC2	"Re: EC2 - very slow
If you're running CPU intensive tasks, you may want to consider a different instance family. From Amazon EC2 Instance Types:

""T2 instances accrue CPU Credits when they are idle, and use CPU credits when they are active.  T2 instances are a good choice for workloads that don’t use the full CPU often or consistently, but occasionally need to burst (e.g. web servers, developer environments and small databases).""

To determine whether this is getting you into trouble or not, select your instance in the EC2 Management Console and take a look at the ""Monitoring"" tab. ""CPU Utilization"", ""CPU Credit Usage"", and ""CPU Credit Balance"" will give you a hint. Always being out of credits means that you're pushing it too hard."

Amazon EC2	"Re: EC2 - very slow
Hi,

Yes, the previously mentioned information is almost exactly what I would say. As you are running a t2.medium, you can look at this page:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

If you are seeing that your vCPU utilization is being capped and you have a credit balance of 0 for CPU credits, you are utilizing more than the base credit balance regularly.

If you are going to use consistently high CPU, I suggest looking at the c4 instance type family. Though, if the number of vCPUs isn't overly important, the m3.medium is about the same cost per hour and allows for full CPU utilization without the burst credit format."

Amazon EC2	"Unable to connect to ec2-instance
I'm having a very hard time understanding what happen. But ever since 2:30pm EST today, the ec2 instance was no longer reachable.

I rebooted the instance, and it's still not reachable. Here are the system logs. I can't make heads or tails of what happen.

Instance id = i-19ded747
region: North California

http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 4.1.7-15.23.amzn1.x86_64 (mockbuild@gobi-build-60006) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Mon Sep 14 23:20:33 UTC 2015
http://    0.000000 Command line: root=LABEL=/ console=ttyS0 LANG=en_US.UTF-8 KEYTABLE=us
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x00000000efffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000100000000-0x000000010fffffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 AGP: No AGP bridge found
http://    0.000000 e820: last_pfn = 0x110000 max_arch_pfn = 0x400000000
http://    0.000000 PAT configuration 0-7: WB  WC  UC- UC  WB  WC  UC- UC  
http://    0.000000 e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x10fe00000-0x10fffffff
http://    0.000000 init_memory_mapping: mem 0x100000000-0x10fdfffff
http://    0.000000 init_memory_mapping: mem 0xe0000000-0xefffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0xdfffffff
http://    0.000000 RAMDISK: mem 0x3724e000-0x37feffff
http://    0.000000 ACPI: Early table checksum verification disabled
http://    0.000000 ACPI: RSDP 0x00000000000EA020 000024 (v02 Xen   )
http://    0.000000 ACPI: XSDT 0x00000000FC00F5A0 000054 (v01 Xen    HVM      00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 0x00000000FC00F260 0000F4 (v04 Xen    HVM      00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 0x00000000FC0035E0 00BBF6 (v02 Xen    HVM      00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 0x00000000FC0035A0 000040
http://    0.000000 ACPI: FACS 0x00000000FC0035A0 000040
http://    0.000000 ACPI: APIC 0x00000000FC00F360 0000D8 (v02 Xen    HVM      00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 0x00000000FC00F4B0 000038 (v01 Xen    HVM      00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 0x00000000FC00F4F0 000028 (v01 Xen    HVM      00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 0x00000000FC00F520 000031 (v02 Xen    HVM      00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 0x00000000FC00F560 000031 (v02 Xen    HVM      00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000010fffffff
http://    0.000000 NODE_DATA(0) allocated mem 0x10ffd8000-0x10fffdfff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x0000000000001000-0x0000000000ffffff
http://    0.000000   DMA32    mem 0x0000000001000000-0x00000000ffffffff
http://    0.000000   Normal   mem 0x0000000100000000-0x000000010fffffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x0000000000001000-0x000000000009dfff
http://    0.000000   node   0: mem 0x0000000000100000-0x00000000efffffff
http://    0.000000   node   0: mem 0x0000000100000000-0x000000010fffffff
http://    0.000000 Initmem setup node 0 mem 0x0000000000001000-0x000000010fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 13 hotplug CPUs
http://    0.000000 e820: mem 0xf0000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 clocksource refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
http://    0.000000 setup_percpu: NR_CPUS:128 nr_cpumask_bits:128 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 32 pages/cpu @ffff88010fc00000 s93976 r8192 d28904 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 1032072
http://    0.000000 Policy zone: Normal
http://    0.000000 Kernel command line: root=LABEL=/ console=ttyS0 LANG=en_US.UTF-8 KEYTABLE=us
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340 using standard form
http://    0.000000 AGP: Checking aperture...
http://    0.000000 AGP: No AGP bridge found
http://    0.000000 Memory: 4031976K/4193908K available (5014K kernel code, 947K rwdata, 2320K rodata, 1148K init, 1580K bss, 161932K reserved, 0K cma-reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	Additional per-CPU info printed with stalls.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=128 to nr_cpu_ids=15.
http://    0.000000 RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=15
http://    0.000000 NR_IRQS:8448 nr_irqs:952 16
http://    0.000000 xen:events: Using 2-level ABI
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.000000 console ttyS0 enabled
http://    0.000000 clocksource hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 30580167144 ns
http://    0.000000 tsc: Detected 2500.070 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.14 BogoMIPS (lpj=10000280)
http://    0.008003 pid_max: default: 32768 minimum: 301
http://    0.010339 ACPI: Core revision 20150410
http://    0.018610 ACPI: All ACPI Tables successfully acquired
http://    0.020177 Security Framework initialized
http://    0.022519 Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://    0.028256 Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
http://    0.032113 Mount-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.035376 Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.036179 Initializing cgroup subsys blkio
http://    0.040005 Initializing cgroup subsys memory
http://    0.042085 Initializing cgroup subsys devices
http://    0.044004 Initializing cgroup subsys freezer
http://    0.046126 Initializing cgroup subsys net_cls
http://    0.048006 Initializing cgroup subsys perf_event
http://    0.052007 Initializing cgroup subsys net_prio
http://    0.054321 Initializing cgroup subsys hugetlb
http://    0.056065 CPU: Physical Processor ID: 0
http://    0.057919 CPU: Processor Core ID: 0
http://    0.060732 mce: CPU supports 2 MCE banks
http://    0.062632 Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
http://    0.064002 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
http://    0.068288 Freeing SMP alternatives memory: 20K (ffffffff81c0d000 - ffffffff81c12000)
http://    0.074667 ftrace: allocating 19901 entries in 78 pages
http://    0.096073 Switched APIC routing to physical flat.
http://    0.100374 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.144951 clocksource xen: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
http://    0.148013 installing Xen timer for CPU 0
http://    0.150311 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.152782 cpu 0 spinlock event irq 53
http://    0.158029 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.161968 installing Xen timer for CPU 1
http://    0.164042 x86: Booting SMP configuration:
http://    0.166043 .... node  #0, CPUs:        #1cpu 1 spinlock event irq 59
http://    0.181566 x86: Booted up 1 node, 2 CPUs
http://    0.183666 smpboot: Total of 2 processors activated (10000.28 BogoMIPS)
http://    0.184475 devtmpfs: initialized
http://    0.188074 clocksource jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
http://    0.192150 NET: Registered protocol family 16
http://    0.204014 cpuidle: using governor ladder
http://    0.212008 cpuidle: using governor menu
http://    0.213941 ACPI: bus type PCI registered
http://    0.216008 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.220036 PCI: Using configuration type 1 for base access
http://    0.236081 ACPI: Added _OSI(Module Device)
http://    0.238054 ACPI: Added _OSI(Processor Device)
http://    0.240005 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.242338 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.248289 ACPI: Interpreter enabled
http://    0.250078 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20150410/hwxface-580)
http://    0.253061 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20150410/hwxface-580)
http://    0.257085 ACPI: (supports S0 S3 S5)
http://    0.258794 ACPI: Using IOAPIC for interrupt routing
http://    0.260033 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.309546 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.312012 acpi PNP0A03:00: _OSC: OS supports Segments MSI
http://    0.314711 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.316055 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.320777 acpiphp: Slot [0] registered
http://    0.323375 acpiphp: Slot [3] registered
http://    0.324274 acpiphp: Slot [4] registered
http://    0.326408 acpiphp: Slot [5] registered
http://    0.328271 acpiphp: Slot [6] registered
http://    0.330534 acpiphp: Slot [7] registered
http://    0.332292 acpiphp: Slot [8] registered
http://    0.334548 acpiphp: Slot [9] registered
http://    0.336345 acpiphp: Slot 10 registered
http://    0.338772 acpiphp: Slot 11 registered
http://    0.340280 acpiphp: Slot 12 registered
http://    0.342588 acpiphp: Slot 13 registered
http://    0.344274 acpiphp: Slot 14 registered
http://    0.346699 acpiphp: Slot 15 registered
http://    0.348295 acpiphp: Slot 16 registered
http://    0.350507 acpiphp: Slot 17 registered
http://    0.352288 acpiphp: Slot 18 registered
http://    0.354463 acpiphp: Slot 19 registered
http://    0.356316 acpiphp: Slot 20 registered
http://    0.358734 acpiphp: Slot 21 registered
http://    0.360287 acpiphp: Slot 22 registered
http://    0.362493 acpiphp: Slot 23 registered
http://    0.364281 acpiphp: Slot 24 registered
http://    0.366452 acpiphp: Slot 25 registered
http://    0.368287 acpiphp: Slot 26 registered
http://    0.370470 acpiphp: Slot 27 registered
http://    0.372333 acpiphp: Slot 28 registered
http://    0.374563 acpiphp: Slot 29 registered
http://    0.376282 acpiphp: Slot 30 registered
http://    0.378472 acpiphp: Slot 31 registered
http://    0.380312 PCI host bridge to bus 0000:00
http://    0.382300 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.384007 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7 window
http://    0.387345 pci_bus 0000:00: root bus resource io  0x0d00-0xffff window
http://    0.388007 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff window
http://    0.391574 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff window
http://    0.397064 pci 0000:00:01.1: legacy IDE quirk: reg 0x10: io  0x01f0-0x01f7
http://    0.400004 pci 0000:00:01.1: legacy IDE quirk: reg 0x14: io  0x03f6
http://    0.403193 pci 0000:00:01.1: legacy IDE quirk: reg 0x18: io  0x0170-0x0177
http://    0.404007 pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: io  0x0376
http://    0.407728 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.407728 * this clock source is slow. Consider trying other clock sources
http://    0.409170 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.417733 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.420798 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.424170 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.427281 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.445171 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.447610 xen:balloon: Initialising balloon driver
http://    0.452461 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.454761 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.456010 vgaarb: loaded
http://    0.457352 vgaarb: bridge control possible 0000:00:02.0
http://    0.460053 PCI: Using ACPI for IRQ routing
http://    0.464471 NetLabel: Initializing
http://    0.466155 NetLabel:  domain hash size = 128
http://    0.468004 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.470336 NetLabel:  unlabeled traffic allowed by default
http://    0.472033 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.475482 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.480007 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.485028 Switched to clocksource xen
http://    0.490899 pnp: PnP ACPI init
http://    0.492440 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.495829 system 00:01: io  0x08a0-0x08a3 has been reserved
http://    0.498786 system 00:01: io  0x0cc0-0x0ccf has been reserved
http://    0.501555 system 00:01: io  0x04d0-0x04d1 has been reserved
http://    0.504681 system 00:07: io  0x10c0-0x1141 has been reserved
http://    0.507587 system 00:07: io  0xb044-0xb047 has been reserved
http://    0.527006 pnp: PnP ACPI: found 8 devices
http://    0.535598 clocksource acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
http://    0.539864 NET: Registered protocol family 2
http://    0.542115 TCP established hash table entries: 32768 (order: 6, 262144 bytes)
http://    0.545553 TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
http://    0.548770 TCP: Hash tables configured (established 32768 bind 32768)
http://    0.552284 UDP hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.555182 UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.558317 NET: Registered protocol family 1
http://    0.560445 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.563400 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.566446 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.569532 Unpacking initramfs...
http://    0.773358 Freeing initrd memory: 13960K (ffff88003724e000 - ffff880037ff0000)
http://    0.777040 PCI-DMA: Using software bounce buffering for IO (SWIOTLB)
http://    0.780326 software IO TLB mem 0xec000000-0xf0000000 (64MB) mapped at ffff8800ec000000-ffff8800efffffff
http://    0.785298 RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
http://    0.789836 hw unit of domain pp0-core 2^-16 Joules
http://    0.792220 hw unit of domain package 2^-16 Joules
http://    0.794471 hw unit of domain dram 2^-16 Joules
http://    0.797347 futex hash table entries: 4096 (order: 6, 262144 bytes)
http://    0.800511 Initialise system trusted keyring
http://    0.802859 audit: initializing netlink subsys (disabled)
http://    0.805482 audit: type=2000 audit(1445032967.575:1): initialized
http://    0.808661 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.813139 zpool: loaded
http://    0.814603 VFS: Disk quotas dquot_6.6.0
http://    0.816755 VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.821098 alg: No test for stdrng (krng)
http://    0.823152 Key type asymmetric registered
http://    0.825112 Asymmetric key parser 'x509' registered
http://    0.827491 bounce: pool size: 64 pages
http://    0.829480 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
http://    0.832985 io scheduler noop registered (default)
http://    0.835263 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.838374 xen:grant_table: Grant tables using version 1 layout
http://    0.841371 Grant table initialized
http://    0.843104 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.845886 Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
http://    0.876518 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.963081 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.977098 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    0.998540 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    1.004581 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    1.007608 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    1.011872 mousedev: PS/2 mouse device common for all mice
http://    1.014081  xvda: xvda1
http://    1.018302 hidraw: raw HID events driver (C) Jiri Kosina
http://    1.019258 blkfront: xvdf: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.025288  xvdf: xvdf1
http://    1.031714 NET: Registered protocol family 17
http://    1.035136 Loading compiled-in X.509 certificates
http://    1.038839 Loaded X.509 cert 'Build time autogenerated kernel key: 8f66a923638b21b030633c0e5b24b5355c380733'
http://    1.045116 registered taskstats version 1
http://    1.048302 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
http://    1.066646 Setting capacity to 25165824
http://    1.069821 xvdf: detected capacity change from 0 to 12884901888
http://    1.144075 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.148454 Freeing unused kernel memory: 1148K (ffffffff81aee000 - ffffffff81c0d000)
http://    1.152394 Write protecting the kernel read-only data: 10240k
http://    1.155688 Freeing unused kernel memory: 1116K (ffff8800014e9000 - ffff880001600000)
http://    1.160028 Freeing unused kernel memory: 1776K (ffff880001844000 - ffff880001a00000)
http://    1.177012 dm_mod: module verification failed: signature and/or required key missing - tainting kernel
http://    1.182695 device-mapper: uevent: version 1.0.3
http://    1.185011 device-mapper: ioctl: 4.31.0-ioctl (2015-3-12) initialised: dm-devel@redhat.com
http://    1.192963 udevd796: starting version 173
growroot: NOCHANGE: disk=/dev/xvda partition=1: size=16773086, it cannot be grown
http://    1.388386 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.416513 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    1.629921 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.637131 dracut: Mounted root filesystem /dev/xvda1
http://    1.729978 dracut: Loading SELinux policy
http://    1.796097 tsc: Refined TSC clocksource calibration: 2499.999 MHz
http://    1.799812 clocksource tsc: mask: 0xffffffffffffffff max_cycles: 0x240938fe3e8, max_idle_ns: 440795307177 ns
http://    1.929047 dracut: /sbin/load_policy: Can't load policy: No such device
http://    1.954506 dracut: Switching root
http://    2.059688 random: init urandom read with 115 bits of entropy available
http://    2.236090 random: nonblocking pool is initialized
/etc/rc.d/rc.sysinit: line 36: /etc/init.d/functions: No such file or directory
		Welcome to Amazon Linux AMI
/etc/rc.d/rc.sysinit: line 120: strstr: command not found
/etc/rc.d/rc.sysinit: line 132: strstr: command not found
/sbin/start_udev: line 36: /etc/init.d/functions: No such file or directory
Starting udev: http://    3.505645 udevd1528: starting version 173
http://    3.750461 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input2
http://    3.754180 ACPI: Power Button PWRF
http://    3.756023 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input3
http://    3.759159 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
http://    3.764427 ACPI: Sleep Button SLPF
udevd1668: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1665: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1667: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1674: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1676: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1672: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1670: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1673: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1675: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1671: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1666: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1669: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1688: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1690: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1686: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1692: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1684: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1682: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1680: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1678: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1691: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1702: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1703: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1689: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1701: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1683: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1685: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1687: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1681: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1679: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1677: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

udevd1707: failed to execute '/etc/init.d/kdump' '/etc/init.d/kdump condrestart': No such file or directory

http://    4.939883 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
/sbin/start_udev: line 80: success: command not found
/sbin/start_udev: line 80: failure: command not found

/etc/rc.d/rc.sysinit: line 160: update_boot_stage: command not found
/etc/rc.d/rc.sysinit: line 161: apply_sysctl: command not found
/etc/rc.d/rc.sysinit: line 164: update_boot_stage: command not found
/etc/rc.d/rc.sysinit: line 165: action: command not found
/etc/rc.d/rc.sysinit: line 180: strstr: command not found
/etc/rc.d/rc.sysinit: line 189: strstr: command not found
/etc/rc.d/rc.sysinit: line 208: strstr: command not found
/etc/rc.d/rc.sysinit: line 209: action: command not found
/etc/rc.d/rc.sysinit: line 219: strstr: command not found
/etc/rc.d/rc.sysinit: line 227: strstr: command not found
/etc/rc.d/rc.sysinit: line 258: strstr: command not found
/etc/rc.d/rc.sysinit: line 263: strstr: command not found
/etc/rc.d/rc.sysinit: line 406: strstr: command not found
Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 82426/524288 files, 615947/2096635 blocks
[/sbin/fsck.ext4 (1) -- /mnt/gps] fsck.ext4 -a /dev/xvdf1 
/dev/xvdf1: clean, 11/786432 files, 89805/3145472 blocks
/etc/rc.d/rc.sysinit: line 417: success: command not found

/etc/rc.d/rc.sysinit: line 473: update_boot_stage: command not found
/etc/rc.d/rc.sysinit: line 475: action: command not found
/etc/rc.d/rc.sysinit: line 511: action: command not found
touch: cannot touch '/.autorelabel': Read-only file system
chmod: changing permissions of '/var/lib/random-seed': Read-only file system
rm: cannot remove '/var/run/sshd-s.pid': Read-only file system
rm: cannot remove '/var/run/dbus/system_bus_socket': Read-only file system
rm: cannot remove '/var/run/ntpd.pid': Read-only file system
rm: cannot remove '/var/run/acpid.socket': Read-only file system
rm: cannot remove '/var/run/cron.reboot': Read-only file system
rm: cannot remove '/var/run/dhclient-eth0.pid': Read-only file system
rm: cannot remove '/var/run/utmp': Read-only file system
/etc/rc.d/rc.sysinit: line 606: /var/run/utmp: Read-only file system
touch: cannot touch '/var/log/wtmp': Read-only file system
chgrp: changing group of '/var/run/utmp': Read-only file system
chgrp: changing group of '/var/log/wtmp': Read-only file system
chmod: changing permissions of '/var/run/utmp': Read-only file system
chmod: changing permissions of '/var/log/wtmp': Read-only file system
rm: cannot remove '/tmp/.ICE-unix': Read-only file system
rm: cannot remove '/tmp/hsperfdata_root/1763': Read-only file system
rm: cannot remove '/tmp/ssh-BHKUte0Xuv/agent.14306': Read-only file system
chown: changing ownership of '/tmp/.ICE-unix': Read-only file system
/etc/rc.d/rc.sysinit: line 632: update_boot_stage: command not found
/etc/rc.d/rc.sysinit: line 633: action: command not found
mv: cannot move '/var/log/dmesg' to '/var/log/dmesg.old': Read-only file system
/etc/rc.d/rc.sysinit: line 663: /var/log/dmesg: Read-only file system
/etc/rc.d/rc.sysinit: line 669: strstr: command not found
init: Failed to open system console, retrying: Input/output error

/etc/rc.d/rc: line 28: /etc/init.d/functions: No such file or directory
Entering non-interactive startup
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S02lvm2-monitor: line 32: /etc/init.d/functions: No such file or directory
touch: cannot touch ‘/var/lock/subsys/lvm2-monitor’: Read-only file system
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S08ip6tables: line 22: /etc/init.d/functions: No such file or directory
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S08iptables: line 22: /etc/init.d/functions: No such file or directory
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S10network: line 17: /etc/init.d/functions: No such file or directory
./network-functions: line 10: /etc/init.d/functions: No such file or directory
./network-functions: line 10: /etc/init.d/functions: No such file or directory
/etc/rc3.d/S10network: line 61: apply_sysctl: command not found
/etc/rc3.d/S10network: line 64: action: command not found
/etc/rc3.d/S10network: line 116: action: command not found
./network-functions: line 10: /etc/init.d/functions: No such file or directory
/etc/rc3.d/S10network: line 149: apply_sysctl: command not found
touch: cannot touch ‘/var/lock/subsys/network’: Read-only file system
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S11auditd: line 32: /etc/init.d/functions: No such file or directory
Starting auditd: /etc/rc3.d/S11auditd: line 69: daemon: command not found

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S12rsyslog: line 23: /etc/init.d/functions: No such file or directory
Starting system logger: /etc/rc3.d/S12rsyslog: line 43: daemon: command not found

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S13irqbalance: line 17: /etc/init.d/functions: No such file or directory
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S20kdump: line 19: /etc/init.d/functions: No such file or directory
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting system message bus: Failed to start message bus: Failed to bind socket ""/var/run/dbus/system_bus_socket"": Address already in use
FAILED

init: Unable to connect to the system bus: Failed to connect to socket /var/run/dbus/system_bus_socket: Connection refused

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting openvpn: http://    9.391785 tun: Universal TUN/TAP device driver, 1.6
http://    9.394365 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
FAILED

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S25blk-availability: line 32: /etc/init.d/functions: No such file or directory
touch: cannot touch ‘/var/lock/subsys/blk-availability’: Read-only file system
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S25netfs: line 19: /etc/init.d/functions: No such file or directory
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting cloud-init: Traceback (most recent call last):
  File ""/usr/bin/cloud-init"", line 620, in <module>
    sys.exit(main())
  File ""/usr/bin/cloud-init"", line 616, in main
    get_uptime=True, func=functor, args=(name, args))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1951, in log_time
    ret = func(*args, **kwargs)
  File ""/usr/bin/cloud-init"", line 450, in status_wrapper
    util.ensure_dirs((data_d, link_d,))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1279, in ensure_dirs
    ensure_dir(d, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1319, in ensure_dir
    chmod(path, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1531, in chmod
    os.chmod(path, real_mode)
OSError: Errno 30 Read-only file system: '/var/lib/cloud/data'
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting cloud-init: Traceback (most recent call last):
  File ""/usr/bin/cloud-init"", line 620, in <module>
    sys.exit(main())
  File ""/usr/bin/cloud-init"", line 616, in main
    get_uptime=True, func=functor, args=(name, args))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1951, in log_time
    ret = func(*args, **kwargs)
  File ""/usr/bin/cloud-init"", line 450, in status_wrapper
    util.ensure_dirs((data_d, link_d,))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1279, in ensure_dirs
    ensure_dir(d, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1319, in ensure_dir
    chmod(path, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1531, in chmod
    os.chmod(path, real_mode)
OSError: Errno 30 Read-only file system: '/var/lib/cloud/data'
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting cloud-init: Traceback (most recent call last):
  File ""/usr/bin/cloud-init"", line 620, in <module>
    sys.exit(main())
  File ""/usr/bin/cloud-init"", line 616, in main
    get_uptime=True, func=functor, args=(name, args))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1951, in log_time
    ret = func(*args, **kwargs)
  File ""/usr/bin/cloud-init"", line 450, in status_wrapper
    util.ensure_dirs((data_d, link_d,))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1279, in ensure_dirs
    ensure_dir(d, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1319, in ensure_dir
    chmod(path, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1531, in chmod
    os.chmod(path, real_mode)
OSError: Errno 30 Read-only file system: '/var/lib/cloud/data'
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
sed: couldn't open temporary file /etc/pam.d/sedJkrwIW: Read-only file system
Starting sshd: http://   11.405443 NET: Registered protocol family 10
  OK  
touch: cannot touch ‘/var/lock/subsys/sshd’: Read-only file system

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S57ntpdate: line 15: /etc/init.d/functions: No such file or directory
ntpdate: Synchronizing with time server: /etc/rc3.d/S57ntpdate: line 58: failure: command not found

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
/etc/rc3.d/S58ntpd: line 26: /etc/init.d/functions: No such file or directory
Starting ntpd: /etc/rc3.d/S58ntpd: line 43: daemon: command not found

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting sendmail:   OK  

touch: cannot touch ‘/var/lock/subsys/sendmail’: Read-only file system
Starting sm-client: touch: cannot touch ‘/var/run/sm-client.pid’: Read-only file system
chown: cannot access ‘/var/run/sm-client.pid’: No such file or directory
  OK  

touch: cannot touch ‘/var/lock/subsys/sm-client’: Read-only file system
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting httpd: httpd: apr_sockaddr_info_get() failed for (none)
httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName
(30)Read-only file system: httpd: could not open error log file /etc/httpd/logs/error.log.
Unable to open logs
FAILED

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting crond: crond: can't open or create /var/run/crond.pid: Read-only file system
FAILED

/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting atd:   OK  

touch: cannot touch ‘/var/lock/subsys/atd’: Read-only file system
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
Starting cloud-init: Traceback (most recent call last):
  File ""/usr/bin/cloud-init"", line 620, in <module>
    sys.exit(main())
  File ""/usr/bin/cloud-init"", line 616, in main
    get_uptime=True, func=functor, args=(name, args))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1951, in log_time
    ret = func(*args, **kwargs)
  File ""/usr/bin/cloud-init"", line 450, in status_wrapper
    util.ensure_dirs((data_d, link_d,))
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1279, in ensure_dirs
    ensure_dir(d, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1319, in ensure_dir
    chmod(path, mode)
  File ""/usr/lib/python2.7/dist-packages/cloudinit/util.py"", line 1531, in chmod
    os.chmod(path, real_mode)
OSError: Errno 30 Read-only file system: '/var/lib/cloud/data'
/etc/rc.d/rc: line 17: is_ignored_file: command not found
/etc/rc.d/rc: line 93: update_boot_stage: command not found
touch: cannot touch ‘/var/lock/subsys/local’: Read-only file system

Amazon Linux AMI release 2015.09
Kernel 4.1.7-15.23.amzn1.x86_64 on an x86_64

(none) login:"

Amazon EC2	"Re: Unable to connect to ec2-instance
figure it out"

Amazon EC2	"Re: Unable to connect to ec2-instance
It's nice when people post specifically ""how"" they figured it out, rather than some ubiquitous note. 

Others will undoubtedly run into the same issue at some point. My search continues..."

Amazon EC2	"ssh: connect to host Operation timed out
Unable to connect to my ec2 instance (i-298beab4) through SSH. This is the error:- 
""ssh: connect to host ec2-<elastic-ip>.compute-1.amazonaws.com port 22: Operation timed out."" My friend from his laptop is able to connect and node server is running fine but only I can't connect. I've troubleshooted using the instructions provided here:- ""http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html"" Please help.

Edited by: veryverypoorkid on Jul 3, 2016 3:02 AM"

Amazon EC2	"regional data transfer - in/out/between EC2 AZs or using elastic IPs or ELB
I've seen some other posts on the same topic, wondering where ""regional data transfer"" traffic comes from.  I'm pretty sure I know where it comes from, but I'm not sure what to do about it.

I've set up a CNAME for another EC2 customer to use, which points to my EC2 instance's public DNS record, and I can see that if I use these DNS records from my instance, my private IP is returned.  I assume that even though the other EC2 customer uses the same DNS hostnames, they get the public IP and that's where this charge is coming from.

If another EC2 customer transfers data from their instance to mine, how can I avoid this charge?  Is there a special IP address I can give them?  If so, how would I set one up?

Edited by: SuburbChooser on Jul 3, 2016 1:07 AM"

Amazon EC2	"EC2 Instance unresponsive with no signs of issues from metrics
I recently switched from a dedicated instance to a normal (shared) instance (about 3 weeks ago) because we couldn't afford the dedicated prices.  

In the past week or so, our server (which is being used only as a PostgreSQL DB) has gone unresponsive multiple times.  After the first few times, I set up CloudWatch alerts so that it would try Auto Recovery to rescue itself if it was unresponsive (System Failure) for 4 minutes in a row.  I also set it to restart if it continued to be unresponsive after 6 total minutes.  The Auto Recovery never seems to work to fix it, but restarting does.

I've dug into the metrics (CPU utilization, disk read and write ops, memory available/used/utilization after installing the script) in CloudWatch and didn't see anything peculiar or drastic with them before the unresponsive periods of time.  I've also taken a look at the Postgres logs and didn't see any strange activity there (no unusually long or stressing queries).  

Perhaps it's due to a ""noisy"" neighbor on the machine?  The instance ID is i-0db8a2a1.

Can anyone help me get this issue fixed?  The downtime is hurting our business.  

Thank you!"

Amazon EC2	"Accessible through ssh tunnel but not through public port access
My issue is pretty weird. I am having this same issue for 2 days on the same time of days. The issue lasts about 8 hours and then automatically resolved.

I can access the instance's site though ssh -NL 8080:localhost:80 username@ec2-host-ip and then open http://localhost:8080 but I can not access it through http://ec2-host-ip despite the security group is already allowed port 80.

Cannot find any other explanation so I think there must be something to do with EC2.

(instance id is i-bbf3c61f)"

Amazon EC2	"Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
Hi,

I am looking to find a vendor or product/s that can help us in doing Patch Management and Monitoring on our Windows 2003 Server EC2 instances with Apache 2.2 and Tomcat 6 and OpenSSL on it. We have to constantly update the Security patches for Apache and Windows and we also need to be able to monitor access to the box and send log files via scp to another site.

TIA,
Vijay"

Amazon EC2	"Re: Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
Is this not something you could write a script to do? 

What sort of testing do you need to do of patches before / after they're applied. 

Do you mean logging / monitoring RDP, HTTP, WMI access?

It all sounds entirely doable. is just a matter of deciding the specification of what you require, and either writing it, or finding someone to write / do it for you."

Amazon EC2	"Re: Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
Hi,
Thanks for your reply.
We are really trying to stay away from the infrastructure scripts etc and have that be handled for us so that we can focus on application development(1 of our prime reason to go to the cloud).

For logging/monitoring-yes on RDP,ssh etc access.

We were looking at products to cut down on the time it takes to build all the requirements and have it be implemented and also to not re-invent the wheel.

Vijay"

Amazon EC2	"Re: Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
As I'm sure you're aware this isn't a technical issue, it is a procedural one, you want servers you can just roll out your application to and know that the underlying complexities are taken care of. 

It certainly doesn't sound like a complex solution you need, and probably only needs a few hours a week of an engineers time to maintain once it is built. 

It either comes down to finding a local company / engineer who you can outsource that management of your solution or hiring somebody to join your team who can perform that management. 

Failing that, feel free to drop me a message, and maybe we could arrange something (in a moment of blatant self-promotion!)"

Amazon EC2	"Re: Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
Disclaimer - I work for the vendor that I'm going to recommend ...

Just saw this post. We (ScaleXtreme) offer a cloud-based patch management product that will work with any existing EC2 Linux or Windows server. The communication protocols, etc. are setup so there is only outbound communication from the EC2 server to our SaaS system, so you won't have to open any inbound FW ports, etc. The ScaleXtreme product integrates both patch and monitoring, and I think you can pretty much do exactly what you're thinking of doing with the two products.

Monitoring:
http://www.scalextreme.com/products/monitoring
Free trial: http://www.scalextreme.com/register/monitoring

Patch:
http://www.scalextreme.com/products/patch-management
Free trial: http://www.scalextreme.com/register/patch

You can link your EC2 account to your ScaleXtreme account, auto-install the agent, and then drive all your monitoring, patching, reporting, etc. directly from there.

Hope this helps.

Nand Mulchandani"

Amazon EC2	"Re: Patch Management and Monitoring for Apache and Tomcat on Windows AMI on EC2
There is also new cloud service in the market to patch windows servers and it is very affordable and simple. 
https://patchawscloud.com/saasconsole

I work here, i would say it is simple, cheap and easy to use. Again i work here so would leave it up to you to try out and you can contact support if you need any help."

Amazon EC2	"AMI EC2 refused our key
Hi,

I just met a strange problem. I use private key to login my AMI instance for about 6 months. However, maybe after a gitlab update (this ec2 is only for gitlab), I cannot login to the instance using the same private key. It always said ""server refused our key"". However, I am very sure it is the correct key. I also tried my backup keys, they don' work. 

Then I create a snapshot and volume for this instance. And I made another instance and attached the old volume with the new instance. I used a new generate authorized_keys file to replace the old one on the old volume. At last, I created a third instance with this updated volume. However, it also refused the new key I just generate. Can anyone tell me how should I do?"

Amazon EC2	"Abrupt reboots of t2.nano instances in eu-central-1a?
I have two t2.nano instances, one rebooted Jun 22 01:10 , other one Jun 26 20:59 UTC. I have also larger instances in the region, they were not affected. The shutdown was unclean, as some logfiles have zeroes in the end. System log does not show anything useful.

There was no notification at all from AWS (I do otherwise receive notifications about failing instances and such, but this was not the case). 

Any idea what could have happened?"

Amazon EC2	"Re: Abrupt reboots of t2.nano instances in eu-central-1a?
Hi,

I’ve conducted an initial investigation. Your instances were failing due to hardware problem on the underlying hosts and It was fixed automatically after which your instances are running healthy now.  Both of the instance has encountered the same problem. Unfortunately, Hardware problems are unpredictable and usually not notified to customers until and otherwise if there is a planned maintenance which is notified to customers at least in 2 weeks in advance.

You can check the System status check failure in your cloudwatch metrics.

Open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.
In the navigation pane, choose Instances.
On the Instances page, the monitoring column lists the default metrics of each instance.

The Status check failed (System) shows the system failure you have recently. system status checks detect problems with your instance that require AWS involvement to repair. When a system status check fails, you can choose to wait for AWS to fix the issue, or you can resolve it yourself (for example, by stopping and starting an instance, or by terminating and replacing an instance).

You can setup cloudwatch alerts for ""System status checks"" failures which indicate underlying hardware problem so that you get notified and get to know immediately the reason for failure as underlying host failure.

In such situation, Customers can do a stop/start instance to automatically move the instance to another healthy host and mostly does not need to wait for failing host to be fixed.

In the cloud environment it is recommended that customers design for failures by maintaining redundant copies of their services for high availability. The following links provide information on how to build a system which is designed from the beginning to withstand failure.
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Other References:
System status check
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html

My Amazon EC2 instance has failed the system reachability status check
https://aws.amazon.com/premiumsupport/knowledge-center/system-reachability-check/

Best reagrds,"

Amazon EC2	"DNS issue: cannot get masked redirects to my Ec2 elastic IP to work?
I have criticalclarity.com and www.criticalclarity.com registered with namecheap to redirect to http://23.20.201.94/

However this only worked for an unmasked redirect - e.g. one which replaces the domain name with the IP address as soon as you press enter. 

If I try a masked redirect (which will keep ""criticalclarity"" in the URL when you navigate to the address) the redirect does not work. This is the way it is setup now.

Does anyone know how to get masked redirects to work?"

Amazon EC2	"Re: DNS issue: cannot get masked redirects to my Ec2 elastic IP to work?
Hello,

I have tested your domain www.criticalclarity.com and it doesn't direct to the  IP address as you mentioned. Is the problem already fixed?
I do a DNS lookp with dig command and see the domain name has A record to 23.20.201.94 correctly.
For this kind of issue, usually you will need to check the domain name forwarding setting in your DNS.

Regards,"

Amazon EC2	"EC2: tput: No value for $TERM and no -T specified
Hi.
I hope I can find a resolution from this great community to this situation since I'm unable to resolve it on my own.

Typically, I have never had issues uploading files to EC2 instance.  But starting ten days ago, I have been unable to upload files to EC2 instances. This is happening on 4 of the Mac OS X machines that we are using the usual:

Command:

scp -i '$KeyPair.pem' Desktop/$Folder-To-Upload centos@ec2-$IP-Address.us-west-2.compute.amazonaws.com:/usr/local/src/ 


Result::

tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
This is BASH 4.2- DISPLAY on 


I have created a new .bash_profile, removed and regenerated Terminal plist files, reinstalled El Capitan and still, the situation remain the same.

I have tested this out on CentOS and Ubuntu machines and still get the issue.

Please is there anyone who have experienced this before or who can help me figure out what I'm doing wrong or what I need to EC2 instance-side to get this resolved?

Thank"

Amazon EC2	"Re: EC2: tput: No value for $TERM and no -T specified
Finally figured it out.

I have some custom commands, bash aliases and shortcuts on the EC2 .bashrc that was causing the problem.
Commented some of the lines that I used to enhance my logins and terminal out and voila ... everything is as good as before."

Amazon EC2	"EC2 t2.nano loosing credits
Hi All!

I have some t2.nano Windows instances running in Sao Paulo and North Virginia for about a month now. I noticed a very strange behaviour when the CPU Utilization reaches more than 3,8% but less than 5%, the credit balance starts to fall.

If I understood correctly how it works, if average CPU Utilizations was less than 5%, credit balance should be rising or be stable.

Where is the catch?

Thanks"

Amazon EC2	"No way to ""Edit"" update launch configuration in autoscaling?? Please add it
There is no way that someone should have to create a new launch-configuration and or delete, add and or touch auto scaling groups to change an AMI..

This is really silly   Autoscaling group allows you to edit subnets, change security groups, there is no reason that Launch configuration does not allow you to change the AMI, especially since once can't update/modify a current one.

Add an update-launch-configuration and or give us an edit option in the gui to update the image."

Amazon EC2	"Why is AWS-ConfigureWindowsUpdate SSM Run Command Failing?
StackOverflow Link:
http://stackoverflow.com/questions/38151915/why-is-aws-configurewindowsupdate-ssm-run-command-failing"

Amazon EC2	"IAM policy EC2 & Spot request
Hello! I want to give the user the ability to make requests for spot instances. Is it possible to restrict the type of instance? What will happen if i give permission on ec2:RequestSpotInstances (without resource-level permissions), ec2:RunInstances with condition on ec2:InstanceType and place spot request on different type?"

Amazon EC2	"win server 2012, autodesk backburner, network rendering.
I'm currently trying to get a couple of render nodes connecting to my manager node. I'm failing. Backburner comes with 3 main programs. A Server, a Manager and a Monitor.

I can ping between all machines. I have set up a shared folder on the manager node and all render nodes can read/write to it. They are talking, and talking great.

Once I load up the backburner server on a render node. Nada. I get messages like 'Could not find a Manager. Will Keep trying...'.

The strange thing is if i run the monitor on 2 different nodes they connect great. I can request monitor control, start and stop render jobs (on all machines). So figured it was a  backburner server issue. However that's all set up correctly... I've allowed all three programs through the firewalls on each machine...

Any ideas?"

Amazon EC2	"Re: win server 2012, autodesk backburner, network rendering.
I'm not familiar with this software and a bit confused about how it all fits together. That being said, are you specifying where to connect or are different components expected to automatically find each other? The reason I'm asking is that EC2 and VPC doesn't support broadcast or multicast, which could make things more complicated in the latter case."

Amazon EC2	"Instance stuck in ""shutting down""
Instance ID: i-daea2e13

This is an instance that we got a retirement notification for. I've created an AMI from it, but I can't get it to terminate. Please take a look."

Amazon EC2	"Cannot connect to my public DNS
Hello, 
My instance public DNS was working fine until I associated it with Elastic IP. I cannot ping it anymore. 
Can anyone please help? I read a lot of posts and my port 80 is opened. I do not know what to do in this case. 

Thank you"

Amazon EC2	"Re: Cannot connect to my public DNS
Hi,

I took a look at the instance and you do not seem to have a security group rule for ICMP (ping), which is possibly the reason why you're unable to ping the instance. Please try adding the ICMP exception and then try pinging it again. Also, I was able to run 'nc -v <EIP> <open_port>' and successfully establish a TCP connection to the instance. 

Please PM me if you're still having complications."

Amazon EC2	"My IP is blocked cannot access my EC2 instance
Hi,

My IP 178.40.121.8 seems to be blocked. I tried to SSH to my EC2 (ip: 52.35.109.112) and I got Connection timed out. In the console my machine is not busy the CPU is about 4% usage. 
I can SSH to other machines outside aws.
Please help.

Best Regards,

Antonio Gallardo."

Amazon EC2	"Re: My IP is blocked cannot access my EC2 instance
Hello,

I just took a look at your instance. It seems to be running healthily. The SSH seems to have started successfully as well. Since it's timing out, it could be any issue with the IP address you're coming from. Could you confirm that the IP address of your local machine is 178.40.121.8?

Additionally, could you provide the exact command that you're using to connect to the instance?

Please get back with this information.

Anup"

Amazon EC2	"Re: My IP is blocked cannot access my EC2 instance
I restarted my router, I got a new IP and now the issue is solved. I suspect the ip was blocked."

Amazon EC2	"Which EC2 instance to use?
Hi. This is my first time using Amazon AWS to host a website.

I have a question regarding which EC2 instance is appropriate for my case. To host my website, I plan on using Amazon RDS with SQL server to store my MS SQL databases. Does this mean that I need to use a Windows with SQL EC2 instance so that the application server can connect with the RDS databases? Or can I simply use the Linux or Windows EC2 instance?

Thank you for all your help."

Amazon EC2	"How can I access folders when Mounting S3 to EC2 Ubuntu
Dears,I have an S3 bucket in europe that i have managed to mount using subcloud. However, the problem is when trying to access any folders inside the bucket on the mount in linux i get _/$folder$/  added at the end of the folder name, which makes it not accessible.<u>Example:</u>A bucket called ""<span style=""color: #cc0000"">jeuro</span>"" inside S3 contains an <span style=""color: #6600ff"">image</span> inside a <span style=""color: #009966"">folder</span>: <span style=""color: #cc0000"">jeuro</span>/<span style=""color: #009966"">index_files</span>/<span style=""color: #6600ff"">aws_logo_v3.gif</span>after the mount when browsing, the <span style=""color: #009966"">index_files</span> folder in linux appears as: <span style=""color: #009966"">index_files_\$folder\$</span>so i am not able to go inside that folder to see the image using linux command line.Any help would be highly appreciated. i am using Ubuntu 8.04.James.

Message was edited by: brkonthru"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
James:""subcloud"" is the commercial version of ""s3fs"", which I use.  The following applies to s3fs, but I'm not sure if subcloud works exactly the same way.If you did not create the S3 bucket keys using s3fs, then you will not be able to immediately access keys which have slashes in them.There is a trick to get around this:After mounting the S3 bucket ""jeuro"" if you want to access the key ""index_files/aws_logo_v3.gif"" inside of s3fs, you need to first create the ""directory"" using the mounted fuse file system.  For example:  mkdir /jeuro-mountpoint/index_filesThen you should be able to access  mkdir /jeuro-mountpoint/index_files/aws_logo_v3.gifI wish I remembered the name of the person who taught me this trick as I'd love to give credit.Note: Doing the above will create an ""index_files"" key in the ""jeuro"" bucket.  If you use the s3fox Firefox plugin, this key will make it difficult to double click into the index_files folder in your browser.  You can still append index_files to the end of the location bar in the plugin UI, but s3fox really should be fixed to support s3fs buckets.--Eric Hammondhttp://alestic.com"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
Many thanks Eric for your explanation.I have two observations to ad based on your reply so you will get the full picture if what i am running into.First: using s3fs, i wasnt able to mount EU buckets. the command line used to hang up and not give a result. US buckets were mounted just fine.Second: As for accessing the folders, i have actually did something similar to your beautiful solution and it did work, where i recreated the mounted folder that contains the /$folder$/ but of course without adding /$folder$/ to it. and yep, i was able to see all the sub folder content in the mounted drive although i was not able to access them using s3fox plugin. So based on your proposed solution that actually does the trick, please allow me to ask the following question:How do I go on about mounting a bucket that has tremendous number of folders inside it and the possibility of having sub sub folders? Do i need to created an automated script that fetches for all objects inside the bucket and delete the ones that contains /$folder$/ and recreate them as folders in the command line? or is there an easier way of doing it?Thank you so much Eric for putting time into reading my question and giving me your feedback. i really appreciate it. You have no idea how important this step is for me, as our company is doing a massive data migration to s3 and we need to have all that data mounted on an ubuntu EC2 instance to have it locally accessed. the nature of this data is lots of folders and sub folders. Thanks.JamesMessage was edited by: brkonthruMessage was edited by: brkonthruMessage was edited by: brkonthruMessage was edited by: brkonthru

Message was edited by: brkonthru"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
James:

If your proposed solution works, then yes, I think you should do it"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
Right <img class=""emoticon"" src=""http://developer.amazonwebservices.com/connect/images/emoticons/grin.gif"" border=""0"" alt="""" /> i probably was hoping for an easier solution that avoids scripts to be honest. So the challenges is in creating such a smart script to do the trick. Just one thing to confirm, when recreating the folder without the $/folder$/, does thing this mean it is definitely a bug on s3fox for not being able to access that folder again using the browser plugin? i mean it is not that the folder go corrupted some how. and it only shows on mount but not on s3fox? cause there will be many folder creations from EC2 mount to S3. So we want to be sure that those folders and their content are stored correctly for any future usage from withing the bucket directly.Thanks.James"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
Hi I use SMEStorage (www.smestorage.com) linux to access S3 on Linux using their virtual drive that is currently in beta, they provide filtering capabilities to manage large number of files and deep heirarchies. Additionally they have windows integration. We also use RackSpace and they have nice integration and provide good synchronization capabilities between different providers. RegardsKamran"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
Hi I use SMEStorage (www.smestorage.com) linux to access S3 on Linux using their virtual drive that is currently in beta, they provide filtering capabilities to manage large number of files and deep heirarchies. Additionally they have windows integration. We also use RackSpace and they have nice integration and provide good synchronization capabilities between different providers. RegardsKamran"

Amazon EC2	"Re: How can I access folders when Mounting S3 to EC2 Ubuntu
Thank you so much."

Amazon EC2	"Releasing Elastic IP address
Hi,

Can you please help us deleting the reverse IP address of our Elastic IP to be able to release it?

The IP address is: 52.34.30.115
Our Account ID is: 356974986150

Thanks,
Peter"

Amazon EC2	"Re: Releasing Elastic IP address
Hello Peter,
I have successfully reset Reverse DNS for 52.34.30.115
Kind Regards,
Ale"

Amazon EC2	"EBS volume hangs in ""attaching"" mode
I'm having an issue where an EBS volume hangs in ""attaching"" mode.
The server is an Ubuntu 14.04 instance.  Instance ID is i-9307db1a, volume ID is vol-fdaa8656.
Any thoughts?

Thanks in advance."

Amazon EC2	"Re: EBS volume hangs in ""attaching"" mode
I am currently having the same issue. I believe this is an AWS infrastructure problem. From what I can tell their (xen) hypervisor gets messed up and exhibits this behavior. I am about to redeploy in a different availability zone in hopes of resolving the problem. (I am currently using us-east-1d). Without paying for support I think this is the only option."

Amazon EC2	"EC2 cannot stop for a long time
Hi,AWS

My EC2 can not stop for a long time(at least a hour),Please have a look,Thanks.

instance id : i-42a88444"

Amazon EC2	"Re: EC2 cannot stop for a long time
Hello, 
I see your Instance ID(s)  i-42a88444  is now correctly in stopped state.

Kind Regards
Ale"

Amazon EC2	"EC2 instance continually stopping and Volume cannot be 'force detached'.
A couple of hours ago we noticed our EC2 instance had become unresponsive. We couldn't SSH into it and it was clear the apache server was no longer running.

Both status checks have failed. We have attempted to reboot the instance through the AWS console but whilst it comes back as 'running' it is still inaccessible. We also attempted to stop the instance but it is now in a state of 'stopping' and has been for at least 40 minutes. 

I've tried to create a new instance from a snapshot taken 4 days ago (when the instance was happily running) but to no avail (these seem to be as unresponsive as the original instance). 

We attempted to force detach the volume so it could be attached to another instance but we receive 'Error detaching volume'."

Amazon EC2	"Re: EC2 instance continually stopping and Volume cannot be 'force detached'.
Hello,
if you could please provide us instance ID(s) we will have a look into it.
Thanks,
kind regards
Ale"

Amazon EC2	"AWS Oregon outage?
Facing some problems to access AWS Oregon. Things are very slow there.

Anyone else?"

Amazon EC2	"Re: AWS Oregon outage?
hello,
no issue on the specific AWS region.
You can always check this on our Service Dashboard:
http://status.aws.amazon.com/

Kind Regards
Ale"

Amazon EC2	"stop and create image buttons are not available.
Hello, 
i have some linux instances that i cannot stop or clone.

from the console the STOP button is GRAY.
http://grabilla.com/0661d-7724786e-39f9-4a6d-8ab7-f9ab17cdd9b3.html#

also the create image is grayed.
http://grabilla.com/0661d-5c70a51b-67d8-43d8-8614-2a0b82b45602.html

any idea?
thank you
Marco"

Amazon EC2	"Re: stop and create image buttons are not available.
Hello, 
if you can provide us the instance ID(s), we will have a look into it.
Thanks in advance,
kind regards
Ale"

Amazon EC2	"Request: build Amazon Linux's mysql56 without -DWITH_EDITLINE=system
Hi.

The mysql command from mysql56-5.6.30-1.15.amzn1.x86_64 package doesn't accept UTF-8 characters from terminal.

Cause:
. it was built against system's libedit (rather than libedit comes with MySQL source)
. system's libedit is too old to work with UTF-8 characters

Please consider removing -DWITH_EDITLINE=system from build options.
It should fix this problem."

Amazon EC2	"How to turn on GUI in EC2 Windows Server 2012 GUI
When I RDP into my instance, there is only a command prompt.  How can I get the GUI turned on? I have Microsoft Windows Server 2012 R2 Base."

Amazon EC2	"Re: How to turn on GUI in EC2 Windows Server 2012 GUI
Hello,

You can try enabling the GUI by following the guidelines here:

http://www.howtogeek.com/111967/how-to-turn-the-gui-off-and-on-in-windows-server-2012/
http://www.servethehome.com/windows-server-2012-install-turn-gui-powershell-command-line/

Kind regards,
Chris"

Amazon EC2	"Re: How to turn on GUI in EC2 Windows Server 2012 GUI
When I try to turn the GUI on I get this cryptic error message about 20 minutes into the installation.  Why is the GUI turned OFF by default???  Is there a way I can find a Windows 2012 server that has a GUI somewhere on AWS??

Install-WindowsFeature : The request to add or remove features on the
specified server failed.
Installation of one or more roles, role services, or features failed.
The source files could not be downloaded.
Use the ""source"" option to specify the location of the files that are required
to restore the feature. For more information on specifying a source location,
see http://go.microsoft.com/fwlink/?LinkId=243077. Error: 0x800f0906
At line:1 char:1
+ Install-WindowsFeature Server-Gui-Shell, Server-Gui-Mgmt-Infra
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (@{Vhd=; Credent...Name=localh
   ost}:PSObject) Install-WindowsFeature, Exception
    + FullyQualifiedErrorId : DISMAPI_Error__Cbs_Download_Failure,Microsoft.Wi
   ndows.ServerManager.Commands.AddWindowsFeatureCommand

Success Restart Needed Exit Code      Feature Result

--------------

False   No             Failed         {}"

Amazon EC2	"Re: How to turn on GUI in EC2 Windows Server 2012 GUI
Hello,
our Windows AMI have all the GUI enabled by default, unless you have chosen an AMI with Windows core.

Could you please provide us the AMI ID used or the instance ID in PM so that we can double check this?
Thanks in advance,
kind regards,
Ale"

Amazon EC2	"VSFTPD and CVE-2011-0762 security vulnerability
Hello,

We have an instance (Amazon Linux AMI 2016.03.3).
We have installed VSFTPD, we noticed that the version is the 2.2.2

[ec2-user@ip-xxxx ~]$  yum list | grep vsftpd
vsftpd.x86_64                        2.2.2-13.13.amzn1             @amzn-main


Does Amazon backport the VSFTPD change after version 2.3.2 which fixes the CVE-2011-0762 security vulnerability ?
I don't find documentation on that.

Thank you in advance for your replies !"

Amazon EC2	"Need to change Time Zone after joining Domain - EC2 Instance ?
Hi,

We make use of AD Connector to join Domain for WIndows EC2 Instances.  However, we observe that we need to change the time zone after joining Domain.

Is it correct ?  Is there any way to change the time zone automatically ?

Thanks"

Amazon EC2	"Can't detach volume
Hi, this must be obviously something I am doing wrong, but after terminating an AMI when I go to my 'volumes' I still see 1 which state is 'in-use', when I try to detach it, it won't let me, and when I try to Force Detach it I get: vol-xxxxx: Volume 'vol-xxxx'is in the 'available' state.

The volume has also a snap associated with it, which can't be deleted either. 

The AMI was terminated a long time ago.

What I am doing wrong?

Thanks!"

Amazon EC2	"New EC2 instance often unreachable though dashboard shows running
I received an ""Amazon EC2 Instance scheduled for retirement"" email (twice in one year, unfortunately) on June 11th after the instance had already died. I created a new instance using a daily snapshot backup, and got the new instance up and running the following day.

It's a t2.micro running ubuntu. 

This new instance seems to constantly become unreachable without reason. I use skeddly to shut off the instance, create a snapshot, then start the instance. The system status checks in my EC2 dashboard show it running fine and passing both instance reachability and system reachability, but it's unreachable. Pings timeout. Won't open in the browser. 

Usually I can stop and start the instance and it'll eventually become reachable (sometimes I have to do this a couple times), but then the next day or two it'll become unreachable again when skeddly stops it to make a snapshot. Any thoughts on what this could be and why the status checks are falsely reporting it as reachable?

If you need my to provide more info, please let me know. And thanks in advance for any insight you can share. Thanks."

Amazon EC2	"Re: New EC2 instance often unreachable though dashboard shows running
Hi,

An instance id would help to confirm potential issues that the instance may be having. Though, we would still not have insight into what is going on within the OS-level of your instance.

I have a few suggestions that may help you figure out what is going on.

1.) Check system logs. This is the number one rule of system administration. This should be in /var/log/kern.log. You may also see messages posted to the server log as well.

2.) Check application logs. This is part of the first rule as well.

3.) Check path reachability via tcptraceroute (sudo traceroute -T hostname <port>).

4.) Check connection on the port (via netcat. nc -vz hostname <port>).

5.) Check packet loss (use nping --tcp -p <port number> hostname)

The most likely scenario is that you are running the instance out of memory, which is why I mentioned the system logs first. T2 micro instances are generally not capable of handling many simultaneous requests (especially if you are using apache or tomcat) before it runs out of free memory to handle requests. 

If you see messages like: ""can not fork"", ""oom-killer invoked,"" ""kernel panic,"" or ""stack trace,"" you might have issues with memory consumption. You need to make sure that you application is tuned to handle the correct amount of simultaneous connections."

Amazon EC2	"Re: New EC2 instance often unreachable though dashboard shows running
The Instance ID is i-313ece9e

Everything was working fine before the first instance failed on us. But I'll give your suggestions a look soon. Thanks for writing that out and getting back to me."

Amazon EC2	"Re: New EC2 instance often unreachable though dashboard shows running
Hello,

I have checked your instance and i don't see any issues on AWS infrastructure side. Status check failure issue is related to issues within the operating system. Keep an eye on instance CPU and memory utilization at the time of issue, most likely your instance is running out of memory. 

You can also resize instance to get more memory and CPU, see doc below.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Regards,
Umair A."

Amazon EC2	"Re: New EC2 instance often unreachable though dashboard shows running
I'm able to ssh tunnel in whether the server is reachable by web or not. That's promising. 

I've been checking the var/log/kern.log and /var/log/syslog between boots, and they're nearly identical whether or not the server is accessible via the web. All logs show forks are ok. No mention of panic or stack tracing. 

tcptraceroute predictably shows closed when not reachable. Open when reachable.

netcat. nc -vz hostname <port> returns ""This is nc from the netcat-openbsd package. An alternative nc is available in the netcat-traditional package."" I didn't know a work around. 

I use this as a personal email server. I'm the only one using it, so there's not a lot of traffic. In fact, I usually only get one email a day from a cron service. Seems peculiar that would run the instance out of memory, but if that's the case I'll resize if necessary. Would another T2.micro suffice? 

Thanks again!"

Amazon EC2	"Re: New EC2 instance often unreachable though dashboard shows running
Resizing the instance seems to be what was required. Thanks!"

Amazon EC2	"Request: amzn-main yum repo php56-pecl-xdebug.x86_64
The current amzn-main repo includes xdebug for php5.4 and 5.5, though linux AMIs default to php5.6
php-pecl-xdebug.x86_64                2.2.3-1.5.amzn1               amzn-main
php54-pecl-xdebug.x86_64              2.2.3-1.7.amzn1               amzn-main
php55-pecl-xdebug.x86_64              2.2.3-1.8.amzn1               amzn-main


$ php --info | head -n 3
phpinfo()
PHP Version => 5.6.14
 
System => Linux ip-x-x-x-x 4.1.10-17.31.amzn1.x86_64 #1 SMP Sat Oct 24 01:31:37 UTC 2015 x86_64


Is it possible to have php55-pecl-xdebug.x86_64 added to amzn-main?

Were using it on dev and qa elastic-beanstalk environments, and I would really rather not have to build the environment to include an external repo, every time we deploy."

Amazon EC2	"Elastic Load Balancer with SSL termination - slow initial handshake
We are using ELB with SSL termination. Also - we support serving tracking pixels on SSL so unlike a normal website where there is one SSL handshake and other requests are re-using the same SSL handshake is not applicable. In our case it's just one request to the server which includes the SSL handshake and 200K response from the server.

What we noticed was the initial connection + handshake takes 800ms in real world scenarios which is a lot - considering we ideally want to target anything between 200 - 350ms.

Are there any best practices or config options that can be used to reduce this initial delay? PFA a screenshot which highlights one such request."

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hello,

One possible explanation for this behavior is that you might have an ELB enabled in an availability zone where you do not have back end instances. That will add latency.

If you can give me the full endpoint of your ELB I can check that for you.

Richard"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hi Richard,

Richard@AWS wrote:
If you can give me the full endpoint of your ELB I can check that for you.

PM'd you the ELB identity. Also, posting here so that this will be searchable.

Currently enabled Availability Zones:	
subnet-1460c13e - us-east-1c,
subnet-3582296d - us-east-1a,
subnet-8b74e4fd - us-east-1d,
subnet-ba235787 - us-east-1e

Instances in Zones:
us-east-1a
us-east-1e

BTW: One of the reasons why I have enabled all zones is because we have auto-scaling enabled and so the instance can be launched in any of the 4 zones. I'm not sure what's the best practice there 

Richard@AWS wrote:
One possible explanation for this behavior is that you might have an ELB enabled in an availability zone where you do not have back end instances. That will add latency.

This could indeed be the issue  Is this a known issue?

Edited by: ak47dx on Jun 25, 2016 4:03 AM"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
When a request is made to ELB, two things happen.

First, an availability zone is selected by DNS round-robin. So in your case, you could have one of four zones selected.

Next, the ELB component in that availability zone attempts to contact a back end instance in that zone. If one does not exist, it will re-route the traffic to a zone with instances.

In this case, you have a 50/50 chance that your traffic will have to re-route across zones.

My advice would be to set the minimum size of your Auto Scaling Group to the number of zones you want to use. So if you want four zones, your group should not shrink below four instances. It is best practice to scale out rather than up (i.e. use four small instances instead of one large).

I hope this helps.

Richard"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hi Richard,

Thanks for this useful information. I have updated the Auto-scaling group config and also the ELB config. 

I haven't seen an difference in performance with regards to timings. PFA some results."

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hello,

Would you be able to provide packet capture from the client while it runs the test so that we can see whats going on?

Regards,
Umair A."

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hi Umair, 

Thanks for pitching in. What tool would you suggest for us to capture all packets and send you a dump? 

Sorry: I'm not sure of the right tool to use for this."

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hello,

You can use tcpdump or wireshark to capture the traffic. You can attach the file to the forum post. Please let us know if you receive any error uploading it. Can you also provide ELB name on which you experienced slow response? We can investigate the ELB from our end to check for any issues.

Thanks,
Jay"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hi Jay,

PFA tcp dumps. Also the ELB name is TRACKERELB1"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hello,

Could you please send us the pcap capture file? The files that you provided are not very readable.

Example: sudo tcpdump -i eth0 host amazon.com -w abc.pcap

Regards,
Umair A."

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Hi Umair,

Please find the dumps attached with this reply.

Best,"

Amazon EC2	"Re: Elastic Load Balancer with SSL termination - slow initial handshake
Any ideas of help on troubleshooting this would be really helpful. Thanks for your time on this."

Amazon EC2	"ELBs and CVE-2016-2107
There was an openssl security advisory issued earlier this week, CVE-2016-2107.  

One of our ELBs is still testing as vulnerable.  Should we be expecting this to be resolved soon or do we need to migrate to a new ELB.  I don't want to post details about ELB name / DNS here for obvious reasons."

Amazon EC2	"Re: ELBs and CVE-2016-2107
Hello,

We understood your concerns.

Kindly refer our security bulletins for more details about this.

[1] OpenSSL Security Update May-2016: https://aws.amazon.com/security/security-bulletins/openssl-security-advisory-may-2016/

[2] General Security Bulletin information and updates: https://aws.amazon.com/security/security-bulletins/

Hope this helps.

Jayakrishnan L."

Amazon EC2	"Re: ELBs and CVE-2016-2107
So does this snippet from that article mean you are going to update, but just haven't gotten to it yet?

AWS will appropriately update OpenSSL for S3 and ELB to assist AWS customers who vend TLS/SSL-protected content accessed by outdated web browsers that cannot negotiate the AWS preferred and recommended AES-GCM TLS/SSL cipher suites. Updates for CloudFront have been completed.

Its odd that our other many ELBs are not testing as vulnerable."

Amazon EC2	"Re: ELBs and CVE-2016-2107
So it's been a month since the security advisory Jayakrishnan@aws.  There are still ELBs however which are terminating SSL connections which are still vulnerable to this however.  Is there something we must do to restart/reset the SSL termination on the ELBs so that they upgrade?  

I've been looking at our sites using SSL with this tool here: https://www.ssllabs.com/ssltest/index.html

Edited by: Amazon Customer on Jun 8, 2016 11:21 AM"

Amazon EC2	"Re: ELBs and CVE-2016-2107
Hi there,

I have just done my quarterly scans and appear to be susceptible to CVE-2016-2107 also. Latest version of openssl in the repository is ""OpenSSL 1.0.1k-fips 8 Jan 2015"".

Are we to expect version OpenSSL 1.0.1t anytime soon?

Thanks."

Amazon EC2	"Combining reserved m3.medium instances to cover an m3.large instance
I currently have a m3.medium reserved instance that currently has around 6 months remaining, but I need to upgrade the service to a m3.large instance. If I purchase a second m3.medium reserved instance, can I modify the 2 m3.medium reserved instances to cover the single m3.large instance?

The unit count on the Modify Reserved Instance implies that you can, but before purchasing the new instance, I'd thought I'd ask."

Amazon EC2	"Re: Combining reserved m3.medium instances to cover an m3.large instance
stuartovic wrote:
If I purchase a second m3.medium reserved instance, can I modify the 2 m3.medium reserved instances to cover the single m3.large instance?

No, it is unfortunately only possible to combine reservations purchased within the same hour."

Amazon EC2	"EBS vs Instance Store Volumes
I need to increase the size of the EBS volume connected to my EC2 instance. I know that to do this I must create a new larger EBS and follow the steps in this document:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

My question is; what is the difference between EBS & Instance store volumes (is it like HD vs RAM)? and if so, can I shut down my EC2 instance to take an EBS snapshot without losing the data on my EC2 ""C: drive""?

I appreciate the help."

Amazon EC2	"Re: EBS vs Instance Store Volumes
Hello,

The main difference between instance store and EBS is that instance store (aka ephemeral store) is that instance store is a temporary store and is attached directly to the host. This makes is faster, but you would lose all the data on an instance stop/start. But data on EBS volume is persistent and can retained after a reboot.

You can find more information regarding Instance store in the below link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

Some information related to EBS can be found in this link:

https://aws.amazon.com/ebs/

I found another interesting blog on Quora which articulates the differences better:

https://www.quora.com/Whats-cons-and-pros-for-EBS-based-AMIs-vs-instance-store-based-AMIs

Please let me know if you have any further questions."

Amazon EC2	"Re: EBS vs Instance Store Volumes
Thank you for your reply.

My question, more specifically, is when I stop the instance to create a snapshot of the EBS volume will my C: drive be deleted or can I replicate it in a larger EBS volume and attach it to my EC2 instance."

Amazon EC2	"503 error
We were trying to set up a test environment when we realized our site was giving us a 503 error.

""Failed to load resource: the server responded with a status of 503 (Service Unavailable: Back-end server is at capacity).""

We looked at the monitoring and found about the time of errors and associated that with the instances, AMI's, and security groups we created at that time.  and we still get the 503 error after deleting what we thought were the problems.  

We have been down for over a day now and would like to know what to do now.  Or what else to look into. 

Our set up is we have a jump host that leads to our app servers. Just FYI.

Thanks in advance!

Edited by: OddsHacker on Jun 28, 2016 12:33 PM"

Amazon EC2	"Re: 503 error
Hello, 

Knowing more information about your situation will be key for any advice we can possibly give. 

503 is a server error, but the source of that error can vary depending on your architecture. For example, 503 is an error that ELBs can through and you could find more information on troubleshooting here:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-error-message.html#ts-elb-errorcodes-http503

Otherwise if this is an error being served directly by your EC2 instance, then troubleshooting that will depend on the application/s throwing the 503 (IIS, Apache, Wordpress, Joomla, ect). A 503 is not something that a security group would directly throw, as for the HTTP error to reach your browser, port 80/443 will have to be open. 

Additionally if you could provide us with your actual resources (Instance ID, ELB name, ect) then we can more accurately take a look at your resources to verify their status. 

Regards,
Nick"

Amazon EC2	"Re: 503 error
Thanks for your response, 

Here's the info instance i-14c77c92 app server ID, and i-b9fadc25 2nd app server ID, ELB name is oh-prod-app-elb .  The load balancer reported the instances out of service at the exact time we created the AMI.  Let me know if you need anything else,

Thanks,"

Amazon EC2	"Re: 503 error
We actually found the Problem---When we set up an AMI there was not a specific assignment to the new AMI over the recent AMI so we feel the LB just had the new one over-ride the previous ami we set up. 

We disconnected the app servers and reconnected them after deleting the ladder AMI. Then we realized that code deployment was not automatic so we had to deploy the code manually and that got our server up and running. 

Case Closed"

Amazon EC2	"Re: 503 error
Hello,

Glad your issue was resolved. I will mark this thread as resolved.

Thanks,
Anup"

Amazon EC2	"Disabling TLS 1.0 ...how long till it takes affect?
I have removed TLS 1.0 support in my cipher for my load balancer listener tab. However, when I test my url by SSLabs it says that TLS 1.0 is still supported. How long does it take for my change to take affect? Do I need to restart my load balancer? If so, how?"

Amazon EC2	"IAM Policy
How can I allow a single user in a group to create a single ec2 instance and destroy the same instance ?

Thanks in advance"

Amazon EC2	"Price Differences between EC2-Classic and VPC
Hello,

I had a simple question, but can't find any articles on it. Our account uses EC2-Classic and we have our own VPC. Is there a price difference in any EC2 servers whether they are inside or outside our VPC? We mainly plan to use Spot instances, but is there any pricing changes to On Demand or Reserved as well?

Thanks!"

Amazon EC2	"Re: Price Differences between EC2-Classic and VPC
Can anyone answer this simple question? I couldn't find a way to compare prices with the AWS Calculator."

Amazon EC2	"Re: Price Differences between EC2-Classic and VPC
That's because there is no difference in EC2 Compute costs whether you deploy the EC2 instance in a VPC or in EC2 Classic.   The cost is the same for the computer ""size"" and EBS volume pricing is the same.  All you need to know about pricing is here:  https://aws.amazon.com/pricing/services/

If you are using VPC, and are using the VPC VPN connection option, there are costs for using that.  The costs, are listed in their respective categories.  Note that all costs may vary depending on region.

Edited by: BrucekConvergent on Jun 29, 2016 11:28 AM
(revised to remove comment about differing costs in bandwidth, I was wrong about that)

Edited by: BrucekConvergent on Jun 29, 2016 11:35 AM"

Amazon EC2	"Re: Price Differences between EC2-Classic and VPC
Thank you! That's really all I needed. Was just someone to confirm what I was thinking."

Amazon EC2	"EC2 | BSOD
Good Afternoon (AEST)

We have had an instance BSOD a few times over the last few weeks, the instance ID is i-198af48e. All troubleshooting and logs point at an underlying host issue.

Is it possible to confirm if this is the source of the problem?

Regards,

Simon"

Amazon EC2	"Re: EC2 | BSOD
Hello Simon,

I took a look at your instance. I see that the underlying host looks good and healthy. I can confirm that the hardware is not the issue. It is most likely the issue on the OS level.

If it's BSODing, I would recommend you look for dump files and analyze those. You could also share it with us if you'd like us to help you analyze them. You could share snippets of your event logs as well. We'll be more than happy to look in to it and assist you.

Anup"

Amazon EC2	"stop and clone button not available.
Hello, 
i have some linux instances that i cannot stop or clone.

from the console the STOP button is GRAY.
http://grabilla.com/0661d-7724786e-39f9-4a6d-8ab7-f9ab17cdd9b3.html#

also the create image is grayed.
http://grabilla.com/0661d-5c70a51b-67d8-43d8-8614-2a0b82b45602.html
any idea?
thank you
Marco"

Amazon EC2	"Re: stop and clone button not available.
An EC2 instance can be backed by either an EBS volume or ephemeral instance storage. It sounds like the instances in question may be using the latter. The instance storage is on an actual physical disk on the underlying machine, while EBS on the other hand is network-attached storage. The Stop/Start functionality is something that is offered for EBS. That's also the case for the ""create image"" option (but see Creating an Instance Store-Backed Linux AMI).

Nowadays, EBS is more or less the default choice. It gives you reliable storage that isn't tied to the instance lifecycle. If something bad happens to the machine you are on, you can do a stop/start to have the instance moved. With ephemeral instance storage, the options are unfortunately limited if your instance ends up in a bad situation."

Amazon EC2	"EFS Production date.
Does anyone know when EFS will be released to production?

Product was announced in April-2015 8 months latter no update."

Amazon EC2	"Re: EFS Production date.
+1"

Amazon EC2	"Re: EFS Production date.
Hello,

EFS will be released to production when it's ready 

Amazon has a corporate policy of not commenting on release dates, mainly because they can change, even at the very last minute. 

I hope this helps.

Richard"

Amazon EC2	"Re: EFS Production date.
Not particularly :-p

The main problem is that there is no release date, no eta, no updates and the invites seem to be very sparse. Nothing against corporate policy on not commenting on release dates, but we don't even have a vague idea. It could be next week or in 2018.

And it does make a difference to a lot of us who think this feature will be extremely useful. It's a matter of ""Do I build a proper solution because EFS won't be out for a minimum of 6 months or do I hack some junk together than will tide me over for the next three weeks until its release?"""

Amazon EC2	"Re: EFS Production date.
We to would like to invest some time into this capability and totally agree the need for at least a swag on availability."

Amazon EC2	"Re: EFS Production date.
Hello,

I'm afraid I have nothing I can share on a timeline.

That said, we have a lot of people using the preview service in the Oregon region. There is no reason why you couldn't use that now if you wanted to.

Richard"

Amazon EC2	"Re: EFS Production date.
I signed up for the preview in oregon a few weeks ago, but never heard back. I was hoping this meant it was going to production any day and therefore didn't need preview access. I really hope this is going to be generally available soon."

Amazon EC2	"Re: EFS Production date.
We are eagerly waiting for this feature.
Will it be released later this year(2016)?"

Amazon EC2	"Re: EFS Production date.
Today is your lucky day.  EFS is released for GA."

Amazon EC2	"unstable traceroute to EC2 IP
I'm just wondering if anyone experience something like i'm right now.

Currently I'm experiencing a lot of
Jun 21 04:14:49 s2 postfix/smtps/smtpd27319: lost connection after AUTH from unknownhttp://222.255.234.15
Jun 21 04:14:49 s2 postfix/smtps/smtpd27319: disconnect from unknownhttp://222.255.234.15
and a lot of retry connection to my EC2 instance.

I have contacted my datacenter regarding the below traceroute and they said that traceroute okie till hitting IP 205.251.232.167, which belongs to Amazon.

This is my traceroute from IP 222.255.234.15
ubuntu@izihelp-prod:~$ traceroute 54.149.135.129
traceroute to 54.149.135.129 (54.149.135.129), 30 hops max, 60 byte packets
1  10.30.101.1 (10.30.101.1)  0.805 ms  0.771 ms  0.733 ms
2  dynamic.vdc.vn (222.255.234.1)  1.559 ms  2.047 ms  2.016 ms
3  static.vdc.vn (222.255.100.1)  0.545 ms static.vdc.vn (222.255.100.3)  0.499 ms  0.442 ms
4  localhost (113.171.14.209)  0.698 ms localhost (113.171.14.153)  0.682 ms localhost (113.171.14.209)  0.630 ms
5  * * *
6  * * *
7  * * *
8  te0-7-0-34.ccr41.lax04.atlas.cogentco.com (38.104.83.81)  184.150 ms  183.383 ms  183.381 ms
9  level3.lax04.atlas.cogentco.com (154.54.14.130)  182.365 ms  184.983 ms  184.953 ms
10  ae-0-11.bar2.SanFrancisco1.Level3.net (4.69.140.146)  192.982 ms  195.581 ms  193.052 ms
11  4.16.83.218 (4.16.83.218)  194.564 ms  192.465 ms  191.906 ms
12  54.240.242.10 (54.240.242.10)  210.174 ms 54.240.242.50 (54.240.242.50)  198.725 ms 54.240.242.130 (54.240.242.130)  198.405 ms
13  54.240.242.15 (54.240.242.15)  189.211 ms 54.240.242.30 (54.240.242.30)  198.215 ms 54.240.242.15 (54.240.242.15)  192.210 ms
14  205.251.232.68 (205.251.232.68)  221.176 ms 205.251.232.108 (205.251.232.108)  224.982 ms 205.251.229.205 (205.251.229.205)  227.399 ms
15  * * *
16  205.251.232.132 (205.251.232.132)  220.080 ms 205.251.232.118 (205.251.232.118)  215.455 ms *
17  * * 205.251.232.129 (205.251.232.129)  229.624 ms
18  * * *
19  * * *
20  * * 54.239.48.177 (54.239.48.177)  218.858 ms
21  205.251.232.167 (205.251.232.167)  226.296 ms  225.221 ms *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

And traceroute from my other EC2 from Singapore having the same issue
This is my traceroute from AWS Singapore
ubuntu@ip-172-31-24-53:~$ traceroute 54.149.135.129
traceroute to 54.149.135.129 (54.149.135.129), 30 hops max, 60 byte packets
 1  ec2-175-41-128-238.ap-southeast-1.compute.amazonaws.com (175.41.128.238)  1.200 ms  1.199 ms  1.190 ms
 2  203.83.223.18 (203.83.223.18)  1.246 ms  1.881 ms  1.926 ms
 3  54.239.41.80 (54.239.41.80)  3.851 ms  3.849 ms  4.660 ms
 4  54.239.41.162 (54.239.41.162)  167.561 ms  167.576 ms  169.327 ms
 5  54.239.52.128 (54.239.52.128)  168.580 ms  170.148 ms  168.575 ms
 6  54.239.41.161 (54.239.41.161)  168.701 ms  168.992 ms  169.051 ms
 7  54.239.41.246 (54.239.41.246)  168.315 ms 205.251.232.88 (205.251.232.88)  169.211 ms  168.768 ms
 8  52.93.12.76 (52.93.12.76)  194.972 ms 52.93.12.184 (52.93.12.184)  185.013 ms 52.93.12.148 (52.93.12.148)  185.819 ms
 9  52.93.12.249 (52.93.12.249)  169.678 ms 52.93.12.255 (52.93.12.255)  168.773 ms 52.93.12.181 (52.93.12.181)  168.090 ms
10  52.93.12.74 (52.93.12.74)  169.814 ms 52.93.12.180 (52.93.12.180)  188.967 ms 52.93.12.104 (52.93.12.104)  169.877 ms
11  52.93.13.55 (52.93.13.55)  168.438 ms 52.93.12.167 (52.93.12.167)  169.369 ms 52.93.13.55 (52.93.13.55)  171.494 ms
12  205.251.232.167 (205.251.232.167)  168.571 ms 205.251.232.255 (205.251.232.255)  169.425 ms 54.239.48.177 (54.239.48.177)  168.542 ms
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *"

Amazon EC2	"Re: unstable traceroute to EC2 IP
any help?"

Amazon EC2	"Re: unstable traceroute to EC2 IP
Hello, 
I notice you are tracerouting 54.149.135.129 which is the public IP for one of your EC2 Instances. 

The reason you are not being able to reach your instance with the traceroute is you are not allowing ICMP traffic at all in your instance's security groups. 

You should explicitly allow inbound ICMP traffic in your security group to be able to ping or traceroute this specific IP. 

Cheers
Javier C#"

Amazon EC2	"Re: unstable traceroute to EC2 IP
I just enabled All ICMP traffic but still cannot get the traceroute behaves normal.

Here is my new traceroute from AWS Singapore
traceroute to 54.149.135.129 (54.149.135.129), 30 hops max, 60 byte packets
 1  ec2-175-41-128-238.ap-southeast-1.compute.amazonaws.com (175.41.128.238)  1.103 ms  1.094 ms  1.090 ms
 2  203.83.223.18 (203.83.223.18)  1.124 ms 203.83.223.30 (203.83.223.30)  2.027 ms  2.092 ms
 3  54.239.41.92 (54.239.41.92)  1.307 ms 52.93.8.182 (52.93.8.182)  5.950 ms 54.239.41.92 (54.239.41.92)  2.594 ms
 4  54.240.241.120 (54.240.241.120)  175.303 ms  175.381 ms 52.93.8.41 (52.93.8.41)  2.134 ms
 5  54.240.241.117 (54.240.241.117)  170.005 ms 54.240.241.118 (54.240.241.118)  174.443 ms 54.240.241.117 (54.240.241.117)  170.163 ms
 6  54.240.241.115 (54.240.241.115)  179.946 ms  180.035 ms 54.240.241.123 (54.240.241.123)  175.549 ms
 7  27.0.0.255 (27.0.0.255)  174.918 ms  174.924 ms 54.240.241.123 (54.240.241.123)  173.896 ms
 8  27.0.0.255 (27.0.0.255)  173.950 ms  173.998 ms 54.239.41.173 (54.239.41.173)  174.900 ms
 9  54.239.41.173 (54.239.41.173)  180.228 ms  175.732 ms  181.357 ms
10  52.93.12.186 (52.93.12.186)  171.488 ms 52.93.13.2 (52.93.13.2)  176.336 ms 54.239.41.193 (54.239.41.193)  174.643 ms
11  52.93.12.111 (52.93.12.111)  169.484 ms 52.93.12.186 (52.93.12.186)  176.577 ms 52.93.13.2 (52.93.13.2)  176.569 ms
12  52.93.12.145 (52.93.12.145)  173.794 ms 52.93.12.36 (52.93.12.36)  216.817 ms 52.93.13.30 (52.93.13.30)  196.114 ms
13  52.93.12.68 (52.93.12.68)  181.885 ms 52.93.12.216 (52.93.12.216)  175.959 ms 52.93.13.55 (52.93.13.55)  170.120 ms
14  205.251.232.167 (205.251.232.167)  175.958 ms  170.629 ms 54.239.48.177 (54.239.48.177)  176.850 ms
15  54.239.48.179 (54.239.48.179)  174.700 ms * 205.251.232.167 (205.251.232.167)  175.148 ms
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

Here is my new traceroute from my cloud system in datacenter.
traceroute to 54.149.135.129 (54.149.135.129), 30 hops max, 60 byte packets
 1  10.30.101.1 (10.30.101.1)  0.902 ms  0.850 ms  0.819 ms
 2  dynamic.vdc.vn (222.255.234.1)  2.580 ms  2.574 ms  2.698 ms
 3  static.vdc.vn (222.255.100.1)  0.692 ms static.vdc.vn (222.255.100.3)  0.735 ms static.vdc.vn (222.255.100.1)  0.702 ms
 4  localhost (113.171.14.153)  0.851 ms localhost (113.171.14.209)  0.823 ms localhost (113.171.14.153)  0.817 ms
 5  * * *
 6  * * *
 7  * * *
 8  te0-7-0-34.ccr41.lax04.atlas.cogentco.com (38.104.83.81)  189.932 ms  188.540 ms  189.056 ms
 9  level3.lax04.atlas.cogentco.com (154.54.14.130)  219.714 ms  188.652 ms  188.637 ms
10  ae-0-11.bar2.SanFrancisco1.Level3.net (4.69.140.146)  199.201 ms  199.410 ms  199.444 ms
11  4.16.83.218 (4.16.83.218)  198.167 ms  200.150 ms  202.134 ms
12  4.16.83.218 (4.16.83.218)  201.713 ms 54.240.242.110 (54.240.242.110)  211.961 ms 54.240.242.70 (54.240.242.70)  190.753 ms
13  54.240.242.97 (54.240.242.97)  196.085 ms 54.240.242.161 (54.240.242.161)  200.534 ms 54.240.242.57 (54.240.242.57)  190.529 ms
14  54.240.242.99 (54.240.242.99)  195.975 ms 205.251.232.70 (205.251.232.70)  218.966 ms 205.251.229.203 (205.251.229.203)  220.556 ms
15  * 205.251.232.118 (205.251.232.118)  216.832 ms *
16  205.251.232.118 (205.251.232.118)  213.912 ms * *
17  * * *
18  * * *
19  54.239.48.179 (54.239.48.179)  227.134 ms * 205.251.232.167 (205.251.232.167)  225.205 ms
20  205.251.232.255 (205.251.232.255)  223.992 ms * 54.239.48.179 (54.239.48.179)  225.954 ms
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

Edited by: cuongtdv on Jun 24, 2016 7:01 PM"

Amazon EC2	"Re: unstable traceroute to EC2 IP
hi, would you please look at my new traceroute? still the same"

Amazon EC2	"Detach Network Interface ENI You do not have permission
Account: 5750-2964-9917

I have two ENI's (i.e., eni-168fdd55, eni-7996405f) that are for an AWS Directory Service. I  want to detach and delete both ENI's so I can remove the Directory Service. However, when I try to force detach either ENI I get the following message:

Error deleting network interface
eni-7996405f: You do not have permission to access the specified resource.

The aws console user I am attempting to do the detachment with has IAM role AdministratorAccess w/ following policy:
{
  ""Version"": ""2012-10-17"",
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""Action"": ""*"",
      ""Resource"": ""*""
    }
  ]
}

Please, advise."

Amazon EC2	"Periodic loss of connectivity to instance
Hi -

We've set up a new instance (i-b1b53e3d) recently.  From time to time network connectivity to it drops out (it appears) and status checks start to fail.  The instance is always still up.  It was particularly bad this weekend, its been find since then and has just started to do it again.  I've checked and cannot correlate this with - say - high network or EBS load, so, apart from a problem with the underlying service, I am not sure what's causing the issue.

Cheers,

Daniel"

Amazon EC2	"Ubuntu server working for months now ssh Permission denied (publickey).
Hi

My server has been running for months and I'm not aware of any changes that would affect ssh keys.

The server is a LAMP stack running wordpress running on Ubuntu server.

A week or so ago I started getting Permission denied (publickey). When ssh into server.

I access from two different PC's one Mac one Windows both do the same thing, so I guess the problem is server side.

Any ideas before I start the time consuming task to building a new server up

I have no access to server side logs.
ssh -v output

debug1: Reading configuration data /Users/rich/.ssh/config
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: Connecting to motoringevents.net http://54.xxx.xxx.xxx port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file /Users/rich/Desktop/Data/aws/aws-me-key.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/rich/Desktop/Data/aws/aws-me-key.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7 pat OpenSSH_6.6.1* compat 0x04000000
debug1: Authenticating to motoringevents.net:22 as 'ubuntu'
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client chacha20-poly1305@openssh.com <implicit> none
debug1: kex: client->server chacha20-poly1305@openssh.com <implicit> none
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:L9Dzou8Kxxxxxxxxxxxxxxxx
debug1: Host 'xxxxxxxxxx.net' is known and matches the ECDSA host key.
debug1: Found key in /Users/rich/.ssh/known_hosts:2
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /Users/rich/Desktop/Data/aws/aws-me-key.pem
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

I really appreciate any insight.

Thanks
Rich"

Amazon EC2	"Re: Ubuntu server working for months now ssh Permission denied (publickey).
Hello Rich,

There are no problems with the instance from infrastructure point of view, this is simply an OS level bad configuration issue. It seems like you have bad permissions on ssh files or .ssh directory in ubuntu user directory. 

Instance associated keypair name is ""RichAWSME"", make sure you are using correct username for login. Otherwise you will need to recover this instance by stopping the instance and mounting its root volume to another instance and fixing permission issues.

Regards,
Umair A.

Edited by: Umair@AWS on Jun 28, 2016 4:07 AM"

Amazon EC2	"Re: Ubuntu server working for months now ssh Permission denied (publickey).
Many thanks I'll try attaching to another instance"

Amazon EC2	"EC2 - 0/2 checks passed
Good Morning,

We have been experiencing an issue with instance i-17bb30d9 over the past 6 months. The issue is as follows:


lose connectivity to instance
0/2 checks
No system logs


Steps taken to rectify


Stop instance
Force stop as instance won't stop
Start instance (hopefully migrate to new hardware)


After what seems like forever (5-10minutes) the machine is reachable. I have checked event viewer and there aren't any logs apart from ""The previous system shutdown at 10:36:16 AM on ‎11/‎08/‎2015 was unexpected."""

Amazon EC2	"Re: EC2 - 0/2 checks passed
Hi,
I am sorry to hear about all those issues.
In fact, when the instance also fails the System health check, most likely Amazon has some responsibility too:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html#types-of-instance-status-checks

There we read:

System Status Checks

Monitor the AWS systems required to use your instance to ensure they are working properly. These checks detect problems with your instance that require AWS involvement to repair. When a system status check fails, you can choose to wait for AWS to fix the issue, or you can resolve it yourself (for example, by stopping and starting an instance, or by terminating and replacing an instance).

The following are examples of problems that can cause system status checks to fail:

    Loss of network connectivity

    Loss of system power

    Software issues on the physical host

    Hardware issues on the physical host

I checked the history of your instance, and with the logs I have I can confirm that at least what happened few days ago and 1 month ago was related to an issue with the underlying host.
While we work hard to keep those failures at a very minimum, physical hardware will fail unpredictably from time to time.
Therefore, when possible try to build fault tolerant applications:

http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Those words may sounds like blurbs, but in reality that is the only approach that would allow you to take the most out of your infrastructure and make your end users happy : )

I hope this helps. Have a nice day!"

Amazon EC2	"Re: EC2 - 0/2 checks passed
AWS confirmed underlying host issue. Moved to new host."

Amazon EC2	"EC2 Instance - System Failures.
Good Morning,

We have been experiencing some erratic system failures, particularly with the following instance id, i-a770c669. The issues experienced are random and system logs show no indication of software failure.

Can you advise if you can see issues at the host/platform level.

Thanks

onPlatinumICT"

Amazon EC2	"Re: EC2 Instance - System Failures.
Good day

Thank you for bringing this to our attention. It does look like the underlying host that your instance is running on has some intermittent interruptions. I will be bringing this to the attention to our EC2 Operations Team.

You instance is EBS backed so I recommend to perform a stop and start for your instance. This should move your instance onto a new underlying host. Further information on Stop/Starting EBS backed instances can be found at:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/Stop_Start.html

Best Regards
Imthian"

Amazon EC2	"Re: EC2 Instance - System Failures.
AWS confirmed underlying host issue. Moved to new host."

Amazon EC2	"EC2 instances rebooting daily automatically
Good Morning

I currently have multiple instances automatically rebooting during the evening, when I check the event viewer the following record exists.

The process C:\Program Files (x86)\Citrix\XenTools\XenGuestAgent.exe (SVR-AP-SE2A-003) has initiated the restart of computer SVR-AP-SE2A-003 on behalf of user NT AUTHORITY\SYSTEM for the following reason: No title for this reason could be found

 Reason Code: 0x8000000c
 Shutdown Type: restart
 Comment: 

Any help would be appreciated.

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi onPlatinumICT,

For us to further investigate this issue for you can you please reply with an Instance ID that is affected by this. Generally in these situations I would say the restart may have been initiated using the AWS Console or potentially via a command line tool using your AWS Access and Secret keys.

But if you can provide those details or PM me with your Account Number I can investigate this further for you.

Regards,

Davin G."

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi Davin

One of the instances affected is: i-a331ef9c

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi Davin

The instances that are affected by this same issue are:

i-a331ef9c
i-06b77038
i-e641e1db

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi Simon,

I have investigated this issue for all three instances and can confirm that from an external perspective there have been no restarts or stop/start combinations applied. From an external perspective all three instances have been running continuously and have not migrated between different physical hosts. I can also confirm that all three instances are on different physical hosts and none of those hosts have any underlying issues.

I did notice however your first instance "" i-a331ef9c"" has had a CPU Utilization spike at 100% and I suspect the issue may lie in the application that is running on those systems. The other two instances are sitting between 45% and 55% and their history does not raise any alarm bells, only the first instance has mentioned.

My suggestion would be to check the Event Viewer log files, it may be that something is causing a lock that is resulting in a reboot then resolving the issue. Are you also able to check the uptime on the Windows server itself? I would also suggest checking the application log files as well, there may be some indication there also. If you are the only administrator for the system then you may wish to provision a new instance as a replacement and reinstall it, the behaviour is not what I would expect you to encounter.

Regards,

Davin G."

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hey Davin

Thank you for the reply.The 100% usage spike I noticed, this was caused by IE and was resolved without incident.

The only errors I can see in the eventvwr for these machines is the one posted in my original post which referenced the XenGuestAgent. It is weird that these issues have started occurring at the same time but on completely disconnected machines.

I checked the uptime of the machine and it is starting 14hrs. I have included an extra from the report I ran and you can see that it shuts down between 12 and 1 am daily when there are no users on the machine.

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi Davin

Have you had a chance to see my last response in regards to this issue?

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hello??

This issue is still occurring."

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Still wondering if I will receive any further information in regards to these issues.

Based on my checking and research all signs are point at the backend infrastructure that is causing the issues. Can someone spend some time to try and resolve this?

Thanks

Simon"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Hi Simon,

I've had another look at these three instances, and I can see that they've rebooted again in the last twenty-four hours - but I cannot see any explanation for this on the AWS platform. Other customer instances on the same physical hosts as you are on do not show any reboots. It follows, therefore, that whatever is happening is happening inside your instances.

Can you try updating your Citrix Xen Guest Agent Service and see if that helps?

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html#citrix-pv-guest-agent-upgrade

Richard"

Amazon EC2	"Re: EC2 instances rebooting daily automatically
Backup service was initiating a reboot prior to backing up."

Amazon EC2	"EC2, how can I disable public IP address translating to private IP address?
I'm running this piece of code to log packets but I've noticed that the destination is the private IP address of the AWS EC2 instance. How can I change this so it's the public IP address?

# iptables -I INPUT 1 -m limit --limit 5/m -j LOG --log-prefix=""iptables: dropped packets"" --log-level 4"

Amazon EC2	"Re: EC2, how can I disable public IP address translating to private IP address?
Hello, 

The public IP is nat'ed upstream by the IGW and generally speaking your OS is unaware of it's public IP, and therefor IPTables is going to be unaware of the public IP as well. Some applications may have an option where this can manually be configured, but your OS and it's relevant network applications are going to be utilizing only their private IP information. 

You may want to look into VPC Flow Logs if you're wanting a better picture of traffic traversing your VPC:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/flow-logs.html

Regards,
Nick"

Amazon EC2	"*Extremely* slow I/O to EBS volumes
Hi,

The read performance of  vol-69d61190 became Extremely bad,Please help take a look.

We could not copy any big file(No more than 16M) out,but the write performance seems ok.

It is a very import volumn for us,thank you very much.


Some Details:
root@:/# hdparm -Tt /dev/xvdf1

/dev/xvdf1:
 Timing cached reads:   

  2 MB in  5.00 seconds = 409.36 kB/sec
 Timing buffered disk reads:   2 MB in  5.98 seconds = 342.32 kB/sec

Edited by: kito on Jun 27, 2016 12:25 AM"

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
Hello,

I have engaged EBS team to investigate issue with this volume, Meanwhile i would advise you to take a backup of data on this volume either by copying or snapshotting the volume.

Regards,
Umair A."

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
Kito Here,Thanks For Your Reply.

I have tried take snapshot of this volumn,but the progresses both stucked at ""99%"" for 4 Hours

snap-0f81c12c
snap-29b9e20a

Please Take a look.Thanks."

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
The process status of snapshoting turned to 'Error'.


snap-0f81c12c

snap-29b9e20a"

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
Any progress here?

The volumn still can not work normally."

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
Hi Kito,

Apologize for the delay in response. The team is still currently investigating. In the meantime, have you attempted to copy the data using dd or rysc to a new EBS volume?

Regards,
Mohsin"

Amazon EC2	"Re: *Extremely* slow I/O to EBS volumes
Hi Kito,

I sent you a private message with regards to this issue.

Regards,
Mohsin"

Amazon EC2	"Ubuntu 16.04 Instance Store HVM AMI won't boot c3.large (c3.xlarge ok)
I'm having a very frustrating time creating a new Ubuntu 16.04 Instance Store HVM AMI.

I've based my work off of ami-304b8e5d as a starting point.  I can boot this image up as a c3.large no problem.  I then login, install some additional packages, bundle, upload, and register a new ami.

The new AMI works (as far as I can tell) across multiple instance types (I've tested m3.large, c3.large and c3.2xlarge).  The problem is, it won't run as a c3.large instance for some reason.

I've followed the instructions very carefully here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-instance-store.html

I'm making the appropriate changes to fstab and menu.lst.  I set the arch to x86_64 and partition to type mbr, virtualization type to hvm and sriov to simple

I've spun up multiple c3.large instances, and I've only ever been able to connect to one of them.  I was able to get the dmesg output for this instance (see below) even though it was misbehaving.

Why won't my HVM AMI boot up as a c3.large?  Where could I be going wrong?

[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 4.4.0-28-generic (buildd@lcy01-13) (gcc version 5.3.1 20160413 (Ubuntu 5.3.1-14ubuntu2.1) ) #47-Ubuntu SMP Fri Jun 24 10:09:13 UTC 2016 (Ubuntu 4.4.0-28.47-generic 4.4.13)
[    0.000000] Command line: root=LABEL=cloudimg-rootfs ro console=ttyS0 xen_emul_unplug=unnecessary
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Centaur CentaurHauls
[    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.000000] x86/fpu: Supporting XSAVE feature 0x01: 'x87 floating point registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x02: 'SSE registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x04: 'AVX registers'
[    0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using 'standard' format.
[    0.000000] x86/fpu: Using 'eager' FPU context switches.
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000efffffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.4 present.
[    0.000000] DMI: Xen HVM domU, BIOS 4.2.amazon 05/12/2016
[    0.000000] Hypervisor detected: Xen
[    0.000000] Xen version 4.2.
[    0.000000] Xen Platform PCI: I/O protocol version 1
[    0.000000] HVMOP_pagetable_dying not supported
[    0.000000] e820: update [mem 0x00000000-0x00000fff] usable ==> reserved
[    0.000000] e820: remove [mem 0x000a0000-0x000fffff] usable
[    0.000000] e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
[    0.000000] MTRR default type: write-back
[    0.000000] MTRR fixed ranges enabled:
[    0.000000]   00000-9FFFF write-back
[    0.000000]   A0000-BFFFF write-combining
[    0.000000]   C0000-FFFFF write-back
[    0.000000] MTRR variable ranges enabled:
[    0.000000]   0 base 0000F0000000 mask 3FFFF8000000 uncachable
[    0.000000]   1 base 0000F8000000 mask 3FFFFC000000 uncachable
[    0.000000]   2 disabled
[    0.000000]   3 disabled
[    0.000000]   4 disabled
[    0.000000]   5 disabled
[    0.000000]   6 disabled
[    0.000000]   7 disabled
[    0.000000] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WC  UC- WT
[    0.000000] found SMP MP-table at [mem 0x000fbe00-0x000fbe0f] mapped at [ffff8800000fbe00]
[    0.000000] Scanning 1 areas for low memory corruption
[    0.000000] Base memory trampoline at [ffff880000098000] 98000 size 24576
[    0.000000] BRK [0x02201000, 0x02201fff] PGTABLE
[    0.000000] BRK [0x02202000, 0x02202fff] PGTABLE
[    0.000000] BRK [0x02203000, 0x02203fff] PGTABLE
[    0.000000] BRK [0x02204000, 0x02204fff] PGTABLE
[    0.000000] RAMDISK: [mem 0x35e20000-0x37feffff]
[    0.000000] ACPI: Early table checksum verification disabled
[    0.000000] ACPI: RSDP 0x00000000000EA020 000024 (v02 Xen   )
[    0.000000] ACPI: XSDT 0x00000000FC00F5A0 000054 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: FACP 0x00000000FC00F260 0000F4 (v04 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: DSDT 0x00000000FC0035E0 00BBF6 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: FACS 0x00000000FC0035A0 000040
[    0.000000] ACPI: FACS 0x00000000FC0035A0 000040
[    0.000000] ACPI: APIC 0x00000000FC00F360 0000D8 (v02 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: HPET 0x00000000FC00F4B0 000038 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: WAET 0x00000000FC00F4F0 000028 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: SSDT 0x00000000FC00F520 000031 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: SSDT 0x00000000FC00F560 000031 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] No NUMA configuration found
[    0.000000] Faking a node at [mem 0x0000000000000000-0x00000000efffffff]
[    0.000000] NODE_DATA(0) allocated [mem 0xefff9000-0xefffdfff]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.000000]   DMA32    [mem 0x0000000001000000-0x00000000efffffff]
[    0.000000]   Normal   empty
[    0.000000]   Device   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000001000-0x000000000009dfff]
[    0.000000]   node   0: [mem 0x0000000000100000-0x00000000efffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000001000-0x00000000efffffff]
[    0.000000] On node 0 totalpages: 982941
[    0.000000]   DMA zone: 64 pages used for memmap
[    0.000000]   DMA zone: 21 pages reserved
[    0.000000]   DMA zone: 3997 pages, LIFO batch:0
[    0.000000]   DMA32 zone: 15296 pages used for memmap
[    0.000000]   DMA32 zone: 978944 pages, LIFO batch:31
[    0.000000] ACPI: PM-Timer IO Port: 0xb008
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
[    0.000000] ACPI: IRQ0 used by override.
[    0.000000] ACPI: IRQ5 used by override.
[    0.000000] ACPI: IRQ9 used by override.
[    0.000000] ACPI: IRQ10 used by override.
[    0.000000] ACPI: IRQ11 used by override.
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 15 CPUs, 13 hotplug CPUs
[    0.000000] PM: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff]
[    0.000000] e820: [mem 0xf0000000-0xfbffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on Xen HVM
[    0.000000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
[    0.000000] PERCPU: Embedded 33 pages/cpu @ffff8800eb600000 s98008 r8192 d28968 u262144
[    0.000000] pcpu-alloc: s98008 r8192 d28968 u262144 alloc=1*2097152
[    0.000000] pcpu-alloc: [0] 00 01 02 03 04 05 06 07 [0] 08 09 10 11 12 13 14 --
[    0.000000] xen: PV spinlocks enabled
[    0.000000] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes)
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 967560
[    0.000000] Policy zone: DMA32
[    0.000000] Kernel command line: root=LABEL=cloudimg-rootfs ro console=ttyS0 xen_emul_unplug=unnecessary
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] Calgary: detecting Calgary via BIOS EBDA area
[    0.000000] Calgary: Unable to locate Rio Grande table in EBDA - bailing!
[    0.000000] Memory: 3814892K/3931764K available (8368K kernel code, 1280K rwdata, 3928K rodata, 1480K init, 1292K bss, 116872K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] 	Build-time adjustment of leaf fanout to 64.
[    0.000000] 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=64, nr_cpu_ids=15
[    0.000000] NR_IRQS:16640 nr_irqs:952 16
[    0.000000] xen:events: Using 2-level ABI
[    0.000000] xen:events: Xen HVM callback vector for event delivery is enabled
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    0.000000] console [ttyS0] enabled
[    0.000000] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 30580167144 ns
[    0.000000] hpet clockevent registered
[    0.000000] tsc: Detected 2800.092 MHz processor
[    0.008000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5600.18 BogoMIPS (lpj=11200368)
[    0.009203] pid_max: default: 32768 minimum: 301
[    0.012005] ACPI: Core revision 20150930
[    0.020440] ACPI: 3 ACPI AML tables successfully acquired and loaded
[    0.023185] Security Framework initialized
[    0.024002] Yama: becoming mindful.
[    0.025463] AppArmor: AppArmor initialized
[    0.028207] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
[    0.031927] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
[    0.032358] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes)
[    0.036006] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes)
[    0.040174] Initializing cgroup subsys io
[    0.041838] Initializing cgroup subsys memory
[    0.044007] Initializing cgroup subsys devices
[    0.045822] Initializing cgroup subsys freezer
[    0.048003] Initializing cgroup subsys net_cls
[    0.049828] Initializing cgroup subsys perf_event
[    0.051750] Initializing cgroup subsys net_prio
[    0.052003] Initializing cgroup subsys hugetlb
[    0.053835] Initializing cgroup subsys pids
[    0.056058] CPU: Physical Processor ID: 0
[    0.058416] mce: CPU supports 2 MCE banks
[    0.060023] Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
[    0.062257] Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
[    0.065195] Freeing SMP alternatives memory: 28K (ffffffff820b4000 - ffffffff820bb000)
[    0.075376] ftrace: allocating 31920 entries in 125 pages
[    0.104048] smpboot: x86_max_cores == zero !?!?
[    0.108025] smpboot: Max logical packages: 15
[    0.109953] smpboot: APIC(0) Converting physical 0 to logical package 0
[    0.112609] x2apic: IRQ remapping doesn't support X2APIC mode
[    0.116002] Switched APIC routing to physical flat.
[    0.120000] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
[    0.163213] clocksource: xen: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.164005] Xen: using vcpuop timer interface
[    0.164011] installing Xen timer for CPU 0
[    0.168040] smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2680 v2 @ 2.80GHz (family: 0x6, model: 0x3e, stepping: 0x4)
[    0.172027] cpu 0 spinlock event irq 53
[    0.173634] Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
[    0.176689] NMI watchdog: disabled (cpu0): hardware events not enabled
[    0.179328] NMI watchdog: Shutting down hard lockup detector on all cpus
[    0.180061] installing Xen timer for CPU 1
[    0.181790] x86: Booting SMP configuration:
[    0.183535] .... node  #0, CPUs:        #1cpu 1 spinlock event irq 59
[    0.188019] x86: Booted up 1 node, 2 CPUs
[    0.189672] smpboot: Total of 2 processors activated (11200.36 BogoMIPS)
[    0.192342] devtmpfs: initialized
[    0.193624] evm: security.selinux
[    0.195035] evm: security.SMACK64
[    0.196005] evm: security.SMACK64EXEC
[    0.197542] evm: security.SMACK64TRANSMUTE
[    0.199239] evm: security.SMACK64MMAP
[    0.200004] evm: security.ima
[    0.201245] evm: security.capability
[    0.204093] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.208064] pinctrl core: initialized pinctrl subsystem
[    0.210289] RTC time: 18:31:16, date: 06/28/16
[    0.212144] NET: Registered protocol family 16
[    0.228004] cpuidle: using governor ladder
[    0.236004] cpuidle: using governor menu
[    0.240007] PCCT header not found.
[    0.241506] ACPI: bus type PCI registered
[    0.243172] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.244274] PCI: Using configuration type 1 for base access
[    0.256089] ACPI: Added _OSI(Module Device)
[    0.257815] ACPI: Added _OSI(Processor Device)
[    0.259666] ACPI: Added _OSI(3.0 _SCP Extensions)
[    0.260005] ACPI: Added _OSI(Processor Aggregator Device)
[    0.263534] xen: --> pirq=16 -> irq=9 (gsi=9)
[    0.266498] ACPI: Interpreter enabled
[    0.268006] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20150930/hwxface-580)
[    0.271854] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20150930/hwxface-580)
[    0.274267] ACPI: (supports S0 S3 S4 S5)
[    0.275892] ACPI: Using IOAPIC for interrupt routing
[    0.280023] PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
[    0.326892] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    0.328010] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI]
[    0.330804] acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
[    0.336013] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
[    0.340908] acpiphp: Slot [0] registered
[    0.343312] acpiphp: Slot [3] registered
[    0.344276] acpiphp: Slot [4] registered
[    0.346192] acpiphp: Slot [5] registered
[    0.348046] acpiphp: Slot [6] registered
[    0.349938] acpiphp: Slot [7] registered
[    0.351819] acpiphp: Slot [8] registered
[    0.352268] acpiphp: Slot [9] registered
[    0.354266] acpiphp: Slot [10] registered
[    0.356235] acpiphp: Slot [11] registered
[    0.358220] acpiphp: Slot [12] registered
[    0.360078] acpiphp: Slot [13] registered
[    0.361980] acpiphp: Slot [14] registered
[    0.363919] acpiphp: Slot [15] registered
[    0.368266] acpiphp: Slot [16] registered
[    0.370180] acpiphp: Slot [17] registered
[    0.372045] acpiphp: Slot [18] registered
[    0.373944] acpiphp: Slot [19] registered
[    0.375893] acpiphp: Slot [20] registered
[    0.376273] acpiphp: Slot [21] registered
[    0.378207] acpiphp: Slot [22] registered
[    0.380077] acpiphp: Slot [23] registered
[    0.381989] acpiphp: Slot [24] registered
[    0.383934] acpiphp: Slot [25] registered
[    0.384269] acpiphp: Slot [26] registered
[    0.386183] acpiphp: Slot [27] registered
[    0.388047] acpiphp: Slot [28] registered
[    0.389955] acpiphp: Slot [29] registered
[    0.391899] acpiphp: Slot [30] registered
[    0.396307] acpiphp: Slot [31] registered
[    0.398220] PCI host bridge to bus 0000:00
[    0.399906] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    0.400005] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    0.402807] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    0.408005] pci_bus 0000:00: root bus resource [mem 0xf0000000-0xfbffffff window]
[    0.411038] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.412127] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000
[    0.413543] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100
[    0.415595] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180
[    0.416625] pci 0000:00:01.1: reg 0x20: [io  0xc100-0xc10f]
[    0.417083] pci 0000:00:01.1: legacy IDE quirk: reg 0x10: [io  0x01f0-0x01f7]
[    0.419995] pci 0000:00:01.1: legacy IDE quirk: reg 0x14: [io  0x03f6]
[    0.424004] pci 0000:00:01.1: legacy IDE quirk: reg 0x18: [io  0x0170-0x0177]
[    0.426900] pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: [io  0x0376]
[    0.428532] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000
[    0.428625] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
               * this clock source is slow. Consider trying other clock sources
[    0.437127] pci 0000:00:01.3: quirk: [io  0xb000-0xb03f] claimed by PIIX4 ACPI
[    0.440755] pci 0000:00:02.0: [1013:00b8] type 00 class 0x030000
[    0.441071] pci 0000:00:02.0: reg 0x10: [mem 0xf0000000-0xf1ffffff pref]
[    0.441273] pci 0000:00:02.0: reg 0x14: [mem 0xf3000000-0xf3000fff]
[    0.442827] pci 0000:00:03.0: [5853:0001] type 00 class 0xff8000
[    0.443171] pci 0000:00:03.0: reg 0x10: [io  0xc000-0xc0ff]
[    0.443366] pci 0000:00:03.0: reg 0x14: [mem 0xf2000000-0xf2ffffff pref]
[    0.445647] ACPI: PCI Interrupt Link [LNKA] (IRQs *5 10 11)
[    0.448331] ACPI: PCI Interrupt Link [LNKB] (IRQs 5 *10 11)
[    0.451101] ACPI: PCI Interrupt Link [LNKC] (IRQs 5 10 *11)
[    0.452897] ACPI: PCI Interrupt Link [LNKD] (IRQs *5 10 11)
[    0.471138] ACPI: Enabled 2 GPEs in block 00 to 0F
[    0.472034] xen:balloon: Initialising balloon driver
[    0.476039] xen_balloon: Initialising balloon driver
[    0.480078] vgaarb: setting as boot device: PCI:0000:00:02.0
[    0.482529] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
[    0.484004] vgaarb: loaded
[    0.485137] vgaarb: bridge control possible 0000:00:02.0
[    0.487471] SCSI subsystem initialized
[    0.488021] libata version 3.00 loaded.
[    0.488040] ACPI: bus type USB registered
[    0.489756] usbcore: registered new interface driver usbfs
[    0.489756] usbcore: registered new interface driver hub
[    0.492004] usbcore: registered new device driver usb
[    0.496077] PCI: Using ACPI for IRQ routing
[    0.497776] PCI: pci_cache_line_size set to 64 bytes
[    0.498136] e820: reserve RAM buffer [mem 0x0009e000-0x0009ffff]
[    0.498231] NetLabel: Initializing
[    0.499645] NetLabel:  domain hash size = 128
[    0.500004] NetLabel:  protocols = UNLABELED CIPSOv4
[    0.502055] NetLabel:  unlabeled traffic allowed by default
[    0.504041] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
[    0.506963] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    0.508594] hpet0: 3 comparators, 64-bit 62.500000 MHz counter
[    0.516025] clocksource: Switched to clocksource xen
[    0.523808] AppArmor: AppArmor Filesystem Enabled
[    0.525826] pnp: PnP ACPI init
[    0.527163] system 00:00: [mem 0x00000000-0x0009ffff] could not be reserved
[    0.530065] system 00:00: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.530123] system 00:01: [io  0x08a0-0x08a3] has been reserved
[    0.532561] system 00:01: [io  0x0cc0-0x0ccf] has been reserved
[    0.534968] system 00:01: [io  0x04d0-0x04d1] has been reserved
[    0.537397] system 00:01: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.537415] xen: --> pirq=17 -> irq=8 (gsi=8)
[    0.537432] pnp 00:02: Plug and Play ACPI device, IDs PNP0b00 (active)
[    0.537450] xen: --> pirq=18 -> irq=12 (gsi=12)
[    0.537463] pnp 00:03: Plug and Play ACPI device, IDs PNP0f13 (active)
[    0.537479] xen: --> pirq=19 -> irq=1 (gsi=1)
[    0.537493] pnp 00:04: Plug and Play ACPI device, IDs PNP0303 PNP030b (active)
[    0.537509] xen: --> pirq=20 -> irq=6 (gsi=6)
[    0.537511] pnp 00:05: [dma 2]
[    0.537525] pnp 00:05: Plug and Play ACPI device, IDs PNP0700 (active)
[    0.537545] xen: --> pirq=21 -> irq=4 (gsi=4)
[    0.537559] pnp 00:06: Plug and Play ACPI device, IDs PNP0501 (active)
[    0.537596] system 00:07: [io  0x10c0-0x1141] has been reserved
[    0.540022] system 00:07: [io  0xb044-0xb047] has been reserved
[    0.542493] system 00:07: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.558156] pnp: PnP ACPI: found 8 devices
[    0.567514] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    0.571183] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    0.571185] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    0.571186] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    0.571188] pci_bus 0000:00: resource 7 [mem 0xf0000000-0xfbffffff window]
[    0.571215] NET: Registered protocol family 2
[    0.573199] TCP established hash table entries: 32768 (order: 6, 262144 bytes)
[    0.576190] TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
[    0.579014] TCP: Hash tables configured (established 32768 bind 32768)
[    0.581711] UDP hash table entries: 2048 (order: 4, 65536 bytes)
[    0.584187] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
[    0.586869] NET: Registered protocol family 1
[    0.588715] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    0.591151] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    0.593575] pci 0000:00:01.0: Activating ISA DMA hang workarounds
[    0.596174] pci 0000:00:02.0: Video device with shadowed ROM
[    0.596235] PCI: CLS 0 bytes, default 64
[    0.596274] Trying to unpack rootfs image as initramfs...
[    1.031545] Freeing initrd memory: 34624K (ffff880035e20000 - ffff880037ff0000)
[    1.034692] RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
[    1.038190] hw unit of domain pp0-core 2^-16 Joules
[    1.040205] hw unit of domain package 2^-16 Joules
[    1.042168] hw unit of domain dram 2^-16 Joules
[    1.044126] Scanning for low memory corruption every 60 seconds
[    1.046992] futex hash table entries: 4096 (order: 6, 262144 bytes)
[    1.049655] audit: initializing netlink subsys (disabled)
[    1.051874] audit: type=2000 audit(1467138677.533:1): initialized
[    1.054651] Initialise system trusted keyring
[    1.056598] HugeTLB registered 2 MB page size, pre-allocated 0 pages
[    1.060402] zbud: loaded
[    1.061664] VFS: Disk quotas dquot_6.6.0
[    1.063313] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.066562] fuse init (API version 7.23)
[    1.068345] Key type big_key registered
[    1.069962] Allocating IMA MOK and blacklist keyrings.
[    1.072873] Key type asymmetric registered
[    1.074561] Asymmetric key parser 'x509' registered
[    1.076608] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)
[    1.079663] io scheduler noop registered
[    1.081310] io scheduler deadline registered (default)
[    1.083439] io scheduler cfq registered
[    1.085117] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[    1.087387] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
[    1.090138] intel_idle: does not run on family 6 model 62
[    1.090220] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    1.093233] ACPI: Power Button [PWRF]
[    1.094788] input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
[    1.097930] ACPI: Sleep Button [SLPF]
[    1.099639] GHES: HEST is not enabled!
[    1.101569] xen: --> pirq=22 -> irq=28 (gsi=28)
[    1.101648] xen:grant_table: Grant tables using version 1 layout
[    1.104146] Grant table initialized
[    1.105667] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    1.108075] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    1.137082] 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    1.142001] Linux agpgart interface v0.103
[    1.146569] brd: module loaded
[    1.149145] loop: module loaded
[    1.150763] blkfront_probe: HVM does not support vbd 768 as xen block device
[    1.153685] vbd vbd-768: 19 xenbus_dev_probe on device/vbd/768
[    1.158646] ata_piix 0000:00:01.1: version 2.13
[    1.159672] scsi host0: ata_piix
[    1.161405] scsi host1: ata_piix
[    1.163106] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
[    1.166263] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
[    1.169937] libphy: Fixed MDIO Bus: probed
[    1.173054] tun: Universal TUN/TAP device driver, 1.6
[    1.175564] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
[    1.178695] PPP generic driver version 2.4.2
[    1.180881] xen_netfront: Initialising Xen virtual ethernet driver
[    1.201236] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.204627] ehci-pci: EHCI PCI platform driver
[    1.206858] ehci-platform: EHCI generic platform driver
[    1.209483] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.212628] ohci-pci: OHCI PCI platform driver
[    1.214911] ohci-platform: OHCI generic platform driver
[    1.217537] uhci_hcd: USB Universal Host Controller Interface driver
[    1.220783] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
[    1.226635] serio: i8042 KBD port at 0x60,0x64 irq 1
[    1.229181] serio: i8042 AUX port at 0x60,0x64 irq 12
[    1.231901] mousedev: PS/2 mouse device common for all mice
[    1.235360] rtc_cmos 00:02: rtc core: registered rtc_cmos as rtc0
[    1.238609] rtc_cmos 00:02: alarms up to one day, 114 bytes nvram, hpet irqs
[    1.242362] blkfront: xvdb: flush diskcache: enabled; persistent grants: disabled; indirect descriptors: enabled;
[    1.245082] blkfront: xvdc: flush diskcache: enabled; persistent grants: disabled; indirect descriptors: enabled;
[    1.252582] i2c /dev entries driver
[    1.252610] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
[    1.257896] device-mapper: uevent: version 1.0.3
[    1.259866] device-mapper: ioctl: 4.34.0-ioctl (2015-10-28) initialised: dm-devel@redhat.com
[    1.263304] ledtrig-cpu: registered to indicate activity on CPUs
[    1.266090] NET: Registered protocol family 10
[    1.268166] NET: Registered protocol family 17
[    1.269996] Key type dns_resolver registered
[    1.271893] microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x428
[    1.274422] microcode: CPU1 sig=0x306e4, pf=0x1, revision=0x428
[    1.276900] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
[    1.280669] registered taskstats version 1
[    1.282362] Loading compiled-in X.509 certificates
[    1.285016] Loaded X.509 cert 'Build time autogenerated kernel key: 6ea974e07bd0b30541f4d838a3b7a8a80d5ca9af'
[    1.289044] zswap: loaded using pool lzo/zbud
[    1.292348] Key type trusted registered
[    1.296440] Key type encrypted registered
[    1.298140] AppArmor: AppArmor sha1 policy hashing enabled
[    1.300411] ima: No TPM chip found, activating TPM-bypass!
[    1.302663] evm: HMAC attrs: 0x1
[    1.304310] xenbus_probe_frontend: Device with no driver: device/vfb/0
[    1.306975] xenbus_probe_frontend: Device with no driver: device/vbd/768
[    1.309767]   Magic number: 4:492:545
[    1.311286] tty ttyS21: hash matches
[    1.312882] rtc_cmos 00:02: setting system clock to 2016-06-28 18:31:17 UTC (1467138677)
[    1.316253] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
[    1.318757] EDD information not available.
[    1.320479] PM: Hibernation image not present or could not be loaded.
[    1.325678] ata1.01: NODEV after polling detection
[    1.326817] ata1.00: ATA-7: QEMU HARDDISK, 0.10.2, max UDMA/100
[    1.329278] ata1.00: 20971520 sectors, multi 16: LBA48
[    1.332560] ata1.00: configured for MWDMA2
[    1.334381] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    .2   PQ: 0 ANSI: 5
[    1.337858] sd 0:0:0:0: [sda] 20971520 512-byte logical blocks: (10.7 GB/10.0 GiB)
[    1.337870] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    1.343211] sd 0:0:0:0: [sda] Write Protect is off
[    1.345196] sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    1.345214] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA
[    1.350643]  sda: sda1
[    1.351787] sd 0:0:0:0: [sda] Attached SCSI disk
[    1.354774] Freeing unused kernel memory: 1480K (ffffffff81f42000 - ffffffff820b4000)
[    1.358010] Write protecting the kernel read-only data: 14336k
[    1.361026] Freeing unused kernel memory: 1860K (ffff88000182f000 - ffff880001a00000)
[    1.364534] Freeing unused kernel memory: 168K (ffff880001dd6000 - ffff880001e00000)
[    1.378318] random: systemd-udevd urandom read with 41 bits of entropy available
[    1.413984] FUJITSU Extended Socket Network Device Driver - version 1.0 - Copyright (c) 2015 FUJITSU LIMITED
[    1.446115] FDC 0 is a S82078B
[    1.458631] [drm] Initialized drm 1.1.0 20060810
[    1.486489] AVX version of gcm_enc/dec engaged.
[    1.489360] AES CTR mode by8 optimization enabled
[    1.509977] [TTM] Zone  kernel: Available graphics memory: 1926526 kiB
[    1.513135] [TTM] Initializing pool allocator
[    1.516114] [TTM] Initializing DMA pool allocator
[    1.533507] [drm] fb mappable at 0xF0000000
[    1.535405] [drm] vram aper at 0xF0000000
[    1.537243] [drm] size 33554432
[    1.538687] [drm] fb depth is 24
[    1.540173] [drm]    pitch is 3072
[    1.547329] fbcon: cirrusdrmfb (fb0) is primary device
[    1.615267] Console: switching to colour frame buffer device 128x48
[    1.660913] cirrus 0000:00:02.0: fb0: cirrusdrmfb frame buffer device
[    1.676086] [drm] Initialized cirrus 1.0.0 20110418 for 0000:00:02.0 on minor 0
[    1.766973] md: linear personality registered for level -1
[    1.771185] md: multipath personality registered for level -4
[    1.775526] md: raid0 personality registered for level 0
[    1.779946] md: raid1 personality registered for level 1
[    1.852067] raid6: sse2x1   gen()  8387 MB/s
[    1.920063] raid6: sse2x1   xor()  6707 MB/s
[    1.988062] raid6: sse2x2   gen() 10488 MB/s
[    2.056060] raid6: sse2x2   xor()  7417 MB/s
[    2.124061] raid6: sse2x4   gen() 12281 MB/s
[    2.192097] raid6: sse2x4   xor()  9183 MB/s
[    2.193935] raid6: using algorithm sse2x4 gen() 12281 MB/s
[    2.196208] raid6: .... xor() 9183 MB/s, rmw enabled
[    2.198272] raid6: using ssse3x2 recovery algorithm
[    2.202976] tsc: Refined TSC clocksource calibration: 2799.932 MHz
[    2.202983] xor: automatically using best checksumming function:
[    2.208342] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x285c00db238, max_idle_ns: 440795333184 ns
[    2.240060]    avx       : 20150.000 MB/sec
[    2.242811] async_tx: api initialized (async)
[    2.252318] md: raid6 personality registered for level 6
[    2.254621] md: raid5 personality registered for level 5
[    2.256808] md: raid4 personality registered for level 4
[    2.262948] md: raid10 personality registered for level 10
[    2.292330] Btrfs loaded
[    2.356880] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts: (null)
[    2.542037] systemd[1]: systemd 229 running in system mode. (+PAM +AUDIT +SELINUX +IMA +APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD -IDN)
[    2.549380] systemd[1]: Detected virtualization xen.
[    2.551427] systemd[1]: Detected architecture x86-64.
[    2.559706] systemd[1]: Set hostname to <ip-10-158-173-38>.
[    2.829954] systemd[1]: Listening on fsck to fsckd communication Socket.
[    2.836009] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
[    2.843441] systemd[1]: Listening on udev Control Socket.
[    2.848650] systemd[1]: Listening on LVM2 metadata daemon socket.
[    2.854083] systemd[1]: Listening on Journal Audit Socket.
[    2.859783] systemd[1]: Listening on Journal Socket.
[    2.865106] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[    2.873103] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[    2.880088] systemd[1]: Reached target Swap.
[    2.884977] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[    2.891332] systemd[1]: Listening on LVM2 poll daemon socket.
[    2.897462] systemd[1]: Created slice User and Session Slice.
[    2.903199] systemd[1]: Reached target Encrypted Volumes.
[    2.908727] systemd[1]: Listening on udev Kernel Socket.
[    2.914091] systemd[1]: Listening on Syslog Socket.
[    2.919268] systemd[1]: Listening on Journal Socket (/dev/log).
[    2.925322] systemd[1]: Created slice System Slice.
[    2.930522] systemd[1]: Reached target Slices.
[    2.952165] systemd[1]: Starting Load Kernel Modules...
[    2.961685] systemd[1]: Mounting Debug File System...
[    2.972998] systemd[1]: Mounting Huge Pages File System...
[    2.981359] Loading iSCSI transport class v2.0-870.
[    2.985243] systemd[1]: Created slice system-serial\x2dgetty.slice.
[    2.993907] systemd[1]: Starting Journal Service...
[    3.003775] iscsi: registered transport (tcp)
[    3.004182] systemd[1]: Starting Create list of required static device nodes for the current kernel...
[    3.008217] random: nonblocking pool is initialized
[    3.018711] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
[    3.028304] systemd[1]: Created slice system-getty.slice.
[    3.039623] systemd[1]: Starting Remount Root and Kernel File Systems...
[    3.066585] EXT4-fs (sda1): re-mounted. Opts: (null)
[    3.080414] systemd[1]: Starting Nameserver information manager...
[    3.089643] systemd[1]: Starting Uncomplicated firewall...
[    3.098913] systemd[1]: Created slice system-systemd\x2dfsck.slice.
[    3.111084] systemd[1]: Mounting POSIX Message Queue File System...
[    3.114421] iscsi: registered transport (iser)
[    3.119344] systemd[1]: Listening on /dev/initctl Compatibility Named Pipe.
[    3.126953] systemd[1]: Mounted Debug File System.
[    3.132251] systemd[1]: Mounted POSIX Message Queue File System.
[    3.138301] systemd[1]: Mounted Huge Pages File System.
[    3.143715] systemd[1]: Started Journal Service.
[    3.338015] systemd-journald[386]: Received request to flush runtime journal from PID 1
[    3.643169] piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
[    3.706209] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 946369
[    3.706212] Policy zone: DMA32
[    3.709126] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 946369
[    3.709128] Policy zone: Normal
[    3.752743] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.760258] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.764414] ata1.00: failed command: READ DMA
[    3.767060] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:47:02:01/00:00:00:00:00/e1 Emask 0x40 (internal error)
[    3.776911] ata1.00: status: { DRDY }
[    3.779467] ata1.00: error: { AMNF }
[    3.790051] ata1.00: configured for MWDMA2
[    3.790059] ata1: EH complete
[    3.790065] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.800889] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.805395] ata1.00: failed command: READ DMA
[    3.808439] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.818937] ata1.00: status: { DRDY }
[    3.821074] ata1.00: error: { AMNF }
[    3.829777] ata1.00: configured for MWDMA2
[    3.829784] ata1: EH complete
[    3.829789] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.836319] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.840130] ata1.00: failed command: READ DMA
[    3.842482] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.852267] ata1.00: status: { DRDY }
[    3.854790] ata1.00: error: { AMNF }
[    3.859178] ata1.00: configured for MWDMA2
[    3.859182] ata1: EH complete
[    3.859186] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.864235] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.867428] ata1.00: failed command: READ DMA
[    3.869624] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.877364] ata1.00: status: { DRDY }
[    3.879451] ata1.00: error: { AMNF }
[    3.883504] ata1.00: configured for MWDMA2
[    3.883508] ata1: EH complete
[    3.883512] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.892200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.895602] ata1.00: failed command: READ DMA
[    3.897936] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.906009] ata1.00: status: { DRDY }
[    3.908047] ata1.00: error: { AMNF }
[    3.912164] ata1.00: configured for MWDMA2
[    3.912170] ata1: EH complete
[    3.912175] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.920221] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.923454] ata1.00: failed command: READ DMA
[    3.925683] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.933816] ata1.00: status: { DRDY }
[    3.935783] ata1.00: error: { AMNF }
[    3.939772] ata1.00: configured for MWDMA2
[    3.939780] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    3.939782] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    3.939785] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    3.939787] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3a df 00 00 f8 00
[    3.939789] blk_update_request: I/O error, dev sda, sector 17054431
[    3.943091] ata1: EH complete
[    3.946520] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    3.956192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.959645] ata1.00: failed command: READ DMA EXT
[    3.962005] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:2f:3f:c8/01:00:2f:3f:c8/e0 Emask 0x40 (internal error)
[    3.969577] ata1.00: status: { DRDY }
[    3.971430] ata1.00: error: { AMNF }
[    3.975250] ata1.00: configured for MWDMA2
[    3.975255] ata1: EH complete
[    3.975258] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    3.984200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.987579] ata1.00: failed command: READ DMA EXT
[    3.990163] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.998402] ata1.00: status: { DRDY }
[    4.000423] ata1.00: error: { AMNF }
[    4.004490] ata1.00: configured for MWDMA2
[    4.004495] ata1: EH complete
[    4.004499] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.012217] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.015855] ata1.00: failed command: READ DMA EXT
[    4.018498] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.026807] ata1.00: status: { DRDY }
[    4.028841] ata1.00: error: { AMNF }
[    4.032948] ata1.00: configured for MWDMA2
[    4.032951] ata1: EH complete
[    4.032955] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.040200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.043404] ata1.00: failed command: READ DMA EXT
[    4.045789] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.053566] ata1.00: status: { DRDY }
[    4.055559] ata1.00: error: { AMNF }
[    4.059555] ata1.00: configured for MWDMA2
[    4.059559] ata1: EH complete
[    4.059562] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.064194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.067562] ata1.00: failed command: READ DMA EXT
[    4.070099] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.078117] ata1.00: status: { DRDY }
[    4.080091] ata1.00: error: { AMNF }
[    4.084082] ata1.00: configured for MWDMA2
[    4.084087] ata1: EH complete
[    4.084091] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.092200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.095656] ata1.00: failed command: READ DMA EXT
[    4.098256] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.105945] ata1.00: status: { DRDY }
[    4.107757] ata1.00: error: { AMNF }
[    4.111495] ata1.00: configured for MWDMA2
[    4.111505] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.111507] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.111509] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.111512] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 ca 3f 17 00 01 80 00
[    4.111514] blk_update_request: I/O error, dev sda, sector 13254423
[    4.114628] ata1: EH complete
[    4.138408] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.148507] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.151867] ata1.00: failed command: READ DMA
[    4.154752] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:40:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.164495] ata1.00: status: { DRDY }
[    4.166836] ata1.00: error: { AMNF }
[    4.171014] ata1.00: configured for MWDMA2
[    4.171019] ata1: EH complete
[    4.171023] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.176194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.179387] ata1.00: failed command: READ DMA
[    4.181556] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.189273] ata1.00: status: { DRDY }
[    4.191233] ata1.00: error: { AMNF }
[    4.195047] ata1.00: configured for MWDMA2
[    4.195051] ata1: EH complete
[    4.195054] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.200197] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.203411] ata1.00: failed command: READ DMA
[    4.205805] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.213646] ata1.00: status: { DRDY }
[    4.215605] ata1.00: error: { AMNF }
[    4.220426] ata1.00: configured for MWDMA2
[    4.220432] ata1: EH complete
[    4.220437] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.228230] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.231895] ata1.00: failed command: READ DMA
[    4.234372] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.242406] ata1.00: status: { DRDY }
[    4.243929] ata1.00: error: { AMNF }
[    4.247094] ata1.00: configured for MWDMA2
[    4.247098] ata1: EH complete
[    4.247101] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.252184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.254963] ata1.00: failed command: READ DMA
[    4.256870] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.263260] ata1.00: status: { DRDY }
[    4.264822] ata1.00: error: { AMNF }
[    4.268086] ata1.00: configured for MWDMA2
[    4.268092] ata1: EH complete
[    4.268096] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.276184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.278859] ata1.00: failed command: READ DMA
[    4.280666] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.286864] ata1.00: status: { DRDY }
[    4.288443] ata1.00: error: { AMNF }
[    4.291634] ata1.00: configured for MWDMA2
[    4.291643] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.291646] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.291648] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.291651] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.291652] blk_update_request: I/O error, dev sda, sector 17054535
[    4.294248] ata1: EH complete
[    4.317569] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.332249] ppdev: user-space parallel port driver
[    4.333179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.333181] ata1.00: failed command: READ DMA
[    4.333186] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:5f:20:01/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.333187] ata1.00: status: { DRDY }
[    4.333188] ata1.00: error: { AMNF }
[    4.335224] ata1.00: configured for MWDMA2
[    4.335230] ata1: EH complete
[    4.335235] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.341061] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.341063] ata1.00: failed command: READ DMA
[    4.341067] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.341068] ata1.00: status: { DRDY }
[    4.341069] ata1.00: error: { AMNF }
[    4.343207] ata1.00: configured for MWDMA2
[    4.343211] ata1: EH complete
[    4.343215] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.348186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.348187] ata1.00: failed command: READ DMA
[    4.348190] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.348191] ata1.00: status: { DRDY }
[    4.348192] ata1.00: error: { AMNF }
[    4.350355] ata1.00: configured for MWDMA2
[    4.350359] ata1: EH complete
[    4.350362] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.360596] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.360598] ata1.00: failed command: READ DMA
[    4.360602] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.360603] ata1.00: status: { DRDY }
[    4.360604] ata1.00: error: { AMNF }
[    4.362856] ata1.00: configured for MWDMA2
[    4.362859] ata1: EH complete
[    4.362863] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.372246] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.372247] ata1.00: failed command: READ DMA
[    4.372249] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.372250] ata1.00: status: { DRDY }
[    4.372251] ata1.00: error: { AMNF }
[    4.374743] ata1.00: configured for MWDMA2
[    4.374746] ata1: EH complete
[    4.374751] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.380198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.380199] ata1.00: failed command: READ DMA
[    4.380202] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.380203] ata1.00: status: { DRDY }
[    4.380204] ata1.00: error: { AMNF }
[    4.382719] ata1.00: configured for MWDMA2
[    4.382727] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.382729] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.382731] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.382733] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 ca 3f 87 00 00 08 00
[    4.382734] blk_update_request: I/O error, dev sda, sector 13254535
[    4.382743] ata1: EH complete
[    4.387453] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.396206] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.396208] ata1.00: failed command: READ DMA
[    4.396211] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:e7:26:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.396212] ata1.00: status: { DRDY }
[    4.396213] ata1.00: error: { AMNF }
[    4.398733] ata1.00: configured for MWDMA2
[    4.398736] ata1: EH complete
[    4.398740] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.408203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.408204] ata1.00: failed command: READ DMA
[    4.408207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.408208] ata1.00: status: { DRDY }
[    4.408209] ata1.00: error: { AMNF }
[    4.410724] ata1.00: configured for MWDMA2
[    4.410727] ata1: EH complete
[    4.410731] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.416200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.416201] ata1.00: failed command: READ DMA
[    4.416204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.416205] ata1.00: status: { DRDY }
[    4.416206] ata1.00: error: { AMNF }
[    4.418771] ata1.00: configured for MWDMA2
[    4.418774] ata1: EH complete
[    4.418778] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.428200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.428201] ata1.00: failed command: READ DMA
[    4.428204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.428205] ata1.00: status: { DRDY }
[    4.428206] ata1.00: error: { AMNF }
[    4.430795] ata1.00: configured for MWDMA2
[    4.430798] ata1: EH complete
[    4.430801] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.436192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.436193] ata1.00: failed command: READ DMA
[    4.436195] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.436196] ata1.00: status: { DRDY }
[    4.436197] ata1.00: error: { AMNF }
[    4.438734] ata1.00: configured for MWDMA2
[    4.438738] ata1: EH complete
[    4.438741] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.452186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.452187] ata1.00: failed command: READ DMA
[    4.452189] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.452190] ata1.00: status: { DRDY }
[    4.452190] ata1.00: error: { AMNF }
[    4.454653] ata1.00: configured for MWDMA2
[    4.454659] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.454661] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.454663] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.454666] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.454667] blk_update_request: I/O error, dev sda, sector 17054535
[    4.454674] ata1: EH complete
[    4.472100] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.480189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.480190] ata1.00: failed command: READ DMA
[    4.480194] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:a7:54:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.480195] ata1.00: status: { DRDY }
[    4.480196] ata1.00: error: { AMNF }
[    4.482788] ata1.00: configured for MWDMA2
[    4.482792] ata1: EH complete
[    4.482796] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.488189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.488190] ata1.00: failed command: READ DMA
[    4.488193] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.488193] ata1.00: status: { DRDY }
[    4.488194] ata1.00: error: { AMNF }
[    4.490831] ata1.00: configured for MWDMA2
[    4.490834] ata1: EH complete
[    4.490837] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.496203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.496203] ata1.00: failed command: READ DMA
[    4.496206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.496207] ata1.00: status: { DRDY }
[    4.496208] ata1.00: error: { AMNF }
[    4.498797] ata1.00: configured for MWDMA2
[    4.498800] ata1: EH complete
[    4.498802] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.512198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.512199] ata1.00: failed command: READ DMA
[    4.512201] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.512202] ata1.00: status: { DRDY }
[    4.512203] ata1.00: error: { AMNF }
[    4.514682] ata1.00: configured for MWDMA2
[    4.514684] ata1: EH complete
[    4.514687] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.524210] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.524211] ata1.00: failed command: READ DMA
[    4.524213] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.524214] ata1.00: status: { DRDY }
[    4.524215] ata1.00: error: { AMNF }
[    4.526822] ata1.00: configured for MWDMA2
[    4.526825] ata1: EH complete
[    4.526827] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.532247] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.532248] ata1.00: failed command: READ DMA
[    4.532250] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.532251] ata1.00: status: { DRDY }
[    4.532252] ata1.00: error: { AMNF }
[    4.534941] ata1.00: configured for MWDMA2
[    4.534948] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.534950] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.534953] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.534955] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.534957] blk_update_request: I/O error, dev sda, sector 17054535
[    4.534965] ata1: EH complete
[    4.579552] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.589008] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.589009] ata1.00: failed command: READ DMA
[    4.589012] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:47:ff:3f/01:00:00:00:00/e1 Emask 0x40 (internal error)
[    4.589013] ata1.00: status: { DRDY }
[    4.589014] ata1.00: error: { AMNF }
[    4.591510] ata1.00: configured for MWDMA2
[    4.591514] ata1: EH complete
[    4.591518] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.600262] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.600263] ata1.00: failed command: READ DMA
[    4.600266] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.600267] ata1.00: status: { DRDY }
[    4.600268] ata1.00: error: { AMNF }
[    4.602857] ata1.00: configured for MWDMA2
[    4.602861] ata1: EH complete
[    4.602865] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.612225] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.612226] ata1.00: failed command: READ DMA
[    4.612228] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.612229] ata1.00: status: { DRDY }
[    4.612230] ata1.00: error: { AMNF }
[    4.615387] ata1.00: configured for MWDMA2
[    4.615390] ata1: EH complete
[    4.615392] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.624226] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.624227] ata1.00: failed command: READ DMA
[    4.624230] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.624230] ata1.00: status: { DRDY }
[    4.624231] ata1.00: error: { AMNF }
[    4.627485] ata1.00: configured for MWDMA2
[    4.627488] ata1: EH complete
[    4.627491] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.636250] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.636251] ata1.00: failed command: READ DMA
[    4.636253] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.636254] ata1.00: status: { DRDY }
[    4.636254] ata1.00: error: { AMNF }
[    4.639596] ata1.00: configured for MWDMA2
[    4.639599] ata1: EH complete
[    4.639602] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.648242] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.648243] ata1.00: failed command: READ DMA
[    4.648245] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.648245] ata1.00: status: { DRDY }
[    4.648246] ata1.00: error: { AMNF }
[    4.651713] ata1.00: configured for MWDMA2
[    4.651720] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.651722] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.651725] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.651727] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.651728] blk_update_request: I/O error, dev sda, sector 17054535
[    4.651735] ata1: EH complete
[    4.700028] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.704196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.704197] ata1.00: failed command: READ DMA
[    4.704200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:c7:18:0c/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.704201] ata1.00: status: { DRDY }
[    4.704201] ata1.00: error: { AMNF }
[    4.706817] ata1.00: configured for MWDMA2
[    4.706820] ata1: EH complete
[    4.706823] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.716199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.716200] ata1.00: failed command: READ DMA
[    4.716202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.716203] ata1.00: status: { DRDY }
[    4.716204] ata1.00: error: { AMNF }
[    4.718881] ata1.00: configured for MWDMA2
[    4.718885] ata1: EH complete
[    4.718888] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.724199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.724200] ata1.00: failed command: READ DMA
[    4.724203] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.724204] ata1.00: status: { DRDY }
[    4.724205] ata1.00: error: { AMNF }
[    4.726729] ata1.00: configured for MWDMA2
[    4.726733] ata1: EH complete
[    4.726737] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.740192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.740193] ata1.00: failed command: READ DMA
[    4.740196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.740196] ata1.00: status: { DRDY }
[    4.740197] ata1.00: error: { AMNF }
[    4.742714] ata1.00: configured for MWDMA2
[    4.742718] ata1: EH complete
[    4.742722] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.752196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.752197] ata1.00: failed command: READ DMA
[    4.752200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.752201] ata1.00: status: { DRDY }
[    4.752202] ata1.00: error: { AMNF }
[    4.754827] ata1.00: configured for MWDMA2
[    4.754832] ata1: EH complete
[    4.754838] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.760193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.760194] ata1.00: failed command: READ DMA
[    4.760196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.760197] ata1.00: status: { DRDY }
[    4.760198] ata1.00: error: { AMNF }
[    4.762666] ata1.00: configured for MWDMA2
[    4.762676] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.762679] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.762681] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.762683] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.762684] blk_update_request: I/O error, dev sda, sector 17054535
[    4.762697] ata1: EH complete
[    4.777302] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.784202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.784204] ata1.00: failed command: READ DMA
[    4.784208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:2f:84:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.784209] ata1.00: status: { DRDY }
[    4.784210] ata1.00: error: { AMNF }
[    4.786710] ata1.00: configured for MWDMA2
[    4.786715] ata1: EH complete
[    4.786719] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.796189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.796190] ata1.00: failed command: READ DMA
[    4.796192] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.796193] ata1.00: status: { DRDY }
[    4.796193] ata1.00: error: { AMNF }
[    4.798725] ata1.00: configured for MWDMA2
[    4.798729] ata1: EH complete
[    4.798732] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.804193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.804194] ata1.00: failed command: READ DMA
[    4.804196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.804197] ata1.00: status: { DRDY }
[    4.804198] ata1.00: error: { AMNF }
[    4.806682] ata1.00: configured for MWDMA2
[    4.806685] ata1: EH complete
[    4.806688] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.820189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.820190] ata1.00: failed command: READ DMA
[    4.820193] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.820194] ata1.00: status: { DRDY }
[    4.820195] ata1.00: error: { AMNF }
[    4.822707] ata1.00: configured for MWDMA2
[    4.822710] ata1: EH complete
[    4.822713] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.828196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.828197] ata1.00: failed command: READ DMA
[    4.828200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.828200] ata1.00: status: { DRDY }
[    4.828201] ata1.00: error: { AMNF }
[    4.830715] ata1.00: configured for MWDMA2
[    4.830718] ata1: EH complete
[    4.830720] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.836196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.836197] ata1.00: failed command: READ DMA
[    4.836200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.836200] ata1.00: status: { DRDY }
[    4.836201] ata1.00: error: { AMNF }
[    4.838719] ata1.00: configured for MWDMA2
[    4.838726] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.838729] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.838732] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.838734] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.838735] blk_update_request: I/O error, dev sda, sector 17054535
[    4.838743] ata1: EH complete
[    4.921563] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.928205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.928207] ata1.00: failed command: READ DMA
[    4.928211] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:67:cf:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.928212] ata1.00: status: { DRDY }
[    4.928213] ata1.00: error: { AMNF }
[    4.930768] ata1.00: configured for MWDMA2
[    4.930772] ata1: EH complete
[    4.930776] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.944191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.944192] ata1.00: failed command: READ DMA
[    4.944195] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.944196] ata1.00: status: { DRDY }
[    4.944197] ata1.00: error: { AMNF }
[    4.946669] ata1.00: configured for MWDMA2
[    4.946672] ata1: EH complete
[    4.946676] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.956200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.956201] ata1.00: failed command: READ DMA
[    4.956204] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.956205] ata1.00: status: { DRDY }
[    4.956205] ata1.00: error: { AMNF }
[    4.958745] ata1.00: configured for MWDMA2
[    4.958748] ata1: EH complete
[    4.958751] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.964190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.964190] ata1.00: failed command: READ DMA
[    4.964193] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.964193] ata1.00: status: { DRDY }
[    4.964194] ata1.00: error: { AMNF }
[    4.966728] ata1.00: configured for MWDMA2
[    4.966731] ata1: EH complete
[    4.966735] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.980201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.980202] ata1.00: failed command: READ DMA
[    4.980205] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.980206] ata1.00: status: { DRDY }
[    4.980207] ata1.00: error: { AMNF }
[    4.982680] ata1.00: configured for MWDMA2
[    4.982684] ata1: EH complete
[    4.982688] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.988186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.988187] ata1.00: failed command: READ DMA
[    4.988189] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.988189] ata1.00: status: { DRDY }
[    4.988190] ata1.00: error: { AMNF }
[    4.990860] ata1.00: configured for MWDMA2
[    4.990867] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.990869] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.990872] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.990874] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 13 8a 97 00 00 38 00
[    4.990876] blk_update_request: I/O error, dev sda, sector 1280663
[    4.990883] ata1: EH complete
[    4.996120] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.000201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.000202] ata1.00: failed command: READ DMA
[    5.000205] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:c7:8a:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    5.000206] ata1.00: status: { DRDY }
[    5.000207] ata1.00: error: { AMNF }
[    5.002743] ata1.00: configured for MWDMA2
[    5.002746] ata1: EH complete
[    5.002749] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.012190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.012191] ata1.00: failed command: READ DMA
[    5.012194] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.012194] ata1.00: status: { DRDY }
[    5.012195] ata1.00: error: { AMNF }
[    5.014680] ata1.00: configured for MWDMA2
[    5.014682] ata1: EH complete
[    5.014685] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.020193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.020194] ata1.00: failed command: READ DMA
[    5.020196] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.020197] ata1.00: status: { DRDY }
[    5.020197] ata1.00: error: { AMNF }
[    5.022705] ata1.00: configured for MWDMA2
[    5.022707] ata1: EH complete
[    5.022710] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.028205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.028206] ata1.00: failed command: READ DMA
[    5.028208] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.028209] ata1.00: status: { DRDY }
[    5.028210] ata1.00: error: { AMNF }
[    5.030730] ata1.00: configured for MWDMA2
[    5.030733] ata1: EH complete
[    5.030735] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.036193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.036194] ata1.00: failed command: READ DMA
[    5.036196] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.036197] ata1.00: status: { DRDY }
[    5.036197] ata1.00: error: { AMNF }
[    5.039148] ata1.00: configured for MWDMA2
[    5.039150] ata1: EH complete
[    5.039153] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.048249] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.048250] ata1.00: failed command: READ DMA
[    5.048252] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.048252] ata1.00: status: { DRDY }
[    5.048253] ata1.00: error: { AMNF }
[    5.051583] ata1.00: configured for MWDMA2
[    5.051593] ata1: EH complete
[    5.051617] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.060243] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.060244] ata1.00: failed command: READ DMA
[    5.060246] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.060247] ata1.00: status: { DRDY }
[    5.060247] ata1.00: error: { AMNF }
[    5.063570] ata1.00: configured for MWDMA2
[    5.063572] ata1: EH complete
[    5.063575] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.068229] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.068230] ata1.00: failed command: READ DMA
[    5.068232] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.068233] ata1.00: status: { DRDY }
[    5.068233] ata1.00: error: { AMNF }
[    5.071558] ata1.00: configured for MWDMA2
[    5.071561] ata1: EH complete
[    5.071564] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.080255] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.080256] ata1.00: failed command: READ DMA
[    5.080258] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.080259] ata1.00: status: { DRDY }
[    5.080259] ata1.00: error: { AMNF }
[    5.083763] ata1.00: configured for MWDMA2
[    5.083766] ata1: EH complete
[    5.083769] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.092243] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.092244] ata1.00: failed command: READ DMA
[    5.092246] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.092247] ata1.00: status: { DRDY }
[    5.092247] ata1.00: error: { AMNF }
[    5.095571] ata1.00: configured for MWDMA2
[    5.095574] ata1: EH complete
[    5.095577] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.104247] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.104247] ata1.00: failed command: READ DMA
[    5.104250] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.104250] ata1.00: status: { DRDY }
[    5.104251] ata1.00: error: { AMNF }
[    5.107695] ata1.00: configured for MWDMA2
[    5.107698] ata1: EH complete
[    5.107701] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.116233] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.116233] ata1.00: failed command: READ DMA
[    5.116236] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.116236] ata1.00: status: { DRDY }
[    5.116237] ata1.00: error: { AMNF }
[    5.119334] ata1.00: configured for MWDMA2
[    5.119344] ata1: EH complete
[    5.621434] EXT4-fs (xvdb): mounting ext3 file system using the ext4 subsystem
[    5.634970] EXT4-fs (xvdb): mounted filesystem with ordered data mode. Opts: (null)
[    6.456308] ISOFS: Unable to identify CD-ROM format.
[    6.798078] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.804182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.806804] ata1.00: failed command: READ DMA
[    6.808650] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:87:66:c6/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    6.814845] ata1.00: status: { DRDY }
[    6.816403] ata1.00: error: { AMNF }
[    6.819672] ata1.00: configured for MWDMA2
[    6.819677] ata1: EH complete
[    6.819680] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.824176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.826799] ata1.00: failed command: READ DMA
[    6.828626] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.835089] ata1.00: status: { DRDY }
[    6.836644] ata1.00: error: { AMNF }
[    6.839960] ata1.00: configured for MWDMA2
[    6.839964] ata1: EH complete
[    6.839968] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.844196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.847593] ata1.00: failed command: READ DMA
[    6.849429] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.855605] ata1.00: status: { DRDY }
[    6.857147] ata1.00: error: { AMNF }
[    6.860371] ata1.00: configured for MWDMA2
[    6.860375] ata1: EH complete
[    6.860378] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.868180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.870802] ata1.00: failed command: READ DMA
[    6.872608] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.878831] ata1.00: status: { DRDY }
[    6.880370] ata1.00: error: { AMNF }
[    6.883517] ata1.00: configured for MWDMA2
[    6.883521] ata1: EH complete
[    6.883525] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.888181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.890784] ata1.00: failed command: READ DMA
[    6.892591] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.898776] ata1.00: status: { DRDY }
[    6.900314] ata1.00: error: { AMNF }
[    6.903471] ata1.00: configured for MWDMA2
[    6.903475] ata1: EH complete
[    6.903478] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.908188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.910879] ata1.00: failed command: READ DMA
[    6.912708] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.919028] ata1.00: status: { DRDY }
[    6.920587] ata1.00: error: { AMNF }
[    6.923773] ata1.00: configured for MWDMA2
[    6.923789] ata1: EH complete
[    6.925473] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.932178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.934801] ata1.00: failed command: READ DMA
[    6.936607] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.942784] ata1.00: status: { DRDY }
[    6.944325] ata1.00: error: { AMNF }
[    6.947503] ata1.00: configured for MWDMA2
[    6.947507] ata1: EH complete
[    6.947510] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.952181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.954801] ata1.00: failed command: READ DMA
[    6.956615] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.962801] ata1.00: status: { DRDY }
[    6.964341] ata1.00: error: { AMNF }
[    6.967516] ata1.00: configured for MWDMA2
[    6.967520] ata1: EH complete
[    6.967524] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.972173] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.974791] ata1.00: failed command: READ DMA
[    6.976596] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.982802] ata1.00: status: { DRDY }
[    6.984350] ata1.00: error: { AMNF }
[    6.987488] ata1.00: configured for MWDMA2
[    6.987491] ata1: EH complete
[    6.987495] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.992178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.994793] ata1.00: failed command: READ DMA
[    6.996637] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.002890] ata1.00: status: { DRDY }
[    7.004437] ata1.00: error: { AMNF }
[    7.007579] ata1.00: configured for MWDMA2
[    7.007583] ata1: EH complete
[    7.007587] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.012180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.014799] ata1.00: failed command: READ DMA
[    7.016601] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.022781] ata1.00: status: { DRDY }
[    7.024325] ata1.00: error: { AMNF }
[    7.027492] ata1.00: configured for MWDMA2
[    7.027496] ata1: EH complete
[    7.027499] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.032179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.034794] ata1.00: failed command: READ DMA
[    7.036586] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.042746] ata1.00: status: { DRDY }
[    7.044293] ata1.00: error: { AMNF }
[    7.047459] ata1.00: configured for MWDMA2
[    7.047473] ata1: EH complete
[    7.049514] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.056175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.058822] ata1.00: failed command: READ DMA
[    7.060668] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.066834] ata1.00: status: { DRDY }
[    7.068384] ata1.00: error: { AMNF }
[    7.071559] ata1.00: configured for MWDMA2
[    7.071563] ata1: EH complete
[    7.071566] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.076179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.078857] ata1.00: failed command: READ DMA
[    7.080663] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.086833] ata1.00: status: { DRDY }
[    7.088422] ata1.00: error: { AMNF }
[    7.091569] ata1.00: configured for MWDMA2
[    7.091573] ata1: EH complete
[    7.091577] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.096170] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.098804] ata1.00: failed command: READ DMA
[    7.100617] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.106790] ata1.00: status: { DRDY }
[    7.108364] ata1.00: error: { AMNF }
[    7.111511] ata1.00: configured for MWDMA2
[    7.111515] ata1: EH complete
[    7.111518] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.116179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.118814] ata1.00: failed command: READ DMA
[    7.120611] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.126776] ata1.00: status: { DRDY }
[    7.128336] ata1.00: error: { AMNF }
[    7.131488] ata1.00: configured for MWDMA2
[    7.131491] ata1: EH complete
[    7.131495] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.136185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.138838] ata1.00: failed command: READ DMA
[    7.140686] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.146885] ata1.00: status: { DRDY }
[    7.148439] ata1.00: error: { AMNF }
[    7.151596] ata1.00: configured for MWDMA2
[    7.151600] ata1: EH complete
[    7.151603] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.156179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.158824] ata1.00: failed command: READ DMA
[    7.160630] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.166800] ata1.00: status: { DRDY }
[    7.168348] ata1.00: error: { AMNF }
[    7.171561] ata1.00: configured for MWDMA2
[    7.171576] ata1: EH complete
[    8.110339] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.116169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.118665] ata1.00: failed command: WRITE DMA EXT
[    8.120530] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:8f:22:01/01:00:8f:22:01/e0 Emask 0x40 (internal error)
[    8.126471] ata1.00: status: { DRDY }
[    8.127915] ata1.00: error: { AMNF }
[    8.131150] ata1.00: configured for MWDMA2
[    8.131155] ata1: EH complete
[    8.131159] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.136159] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.138640] ata1.00: failed command: WRITE DMA EXT
[    8.140485] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.146403] ata1.00: status: { DRDY }
[    8.147847] ata1.00: error: { AMNF }
[    8.150965] ata1.00: configured for MWDMA2
[    8.150970] ata1: EH complete
[    8.150974] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.156165] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.158648] ata1.00: failed command: WRITE DMA EXT
[    8.160512] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.166450] ata1.00: status: { DRDY }
[    8.167883] ata1.00: error: { AMNF }
[    8.170983] ata1.00: configured for MWDMA2
[    8.170987] ata1: EH complete
[    8.170990] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.176154] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.178627] ata1.00: failed command: WRITE DMA EXT
[    8.180496] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.186382] ata1.00: status: { DRDY }
[    8.187818] ata1.00: error: { AMNF }
[    8.190895] ata1.00: configured for MWDMA2
[    8.190899] ata1: EH complete
[    8.190902] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.196156] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.198631] ata1.00: failed command: WRITE DMA EXT
[    8.200480] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.206396] ata1.00: status: { DRDY }
[    8.207873] ata1.00: error: { AMNF }
[    8.210967] ata1.00: configured for MWDMA2
[    8.210971] ata1: EH complete
[    8.210975] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.216161] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.218632] ata1.00: failed command: WRITE DMA EXT
[    8.220526] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.226470] ata1.00: status: { DRDY }
[    8.227928] ata1.00: error: { AMNF }
[    8.231020] ata1.00: configured for MWDMA2
[    8.231027] EXT4-fs warning (device sda1): ext4_end_bio:329: I/O error -5 writing to inode 282252 (offset 94208 size 151552 starting block 12912)
[    8.231029] Buffer I/O error on device sda1, logical block 12868
[    8.233354] Buffer I/O error on device sda1, logical block 12869
[    8.235692] Buffer I/O error on device sda1, logical block 12870
[    8.238025] Buffer I/O error on device sda1, logical block 12871
[    8.240356] Buffer I/O error on device sda1, logical block 12872
[    8.242663] Buffer I/O error on device sda1, logical block 12873
[    8.244972] Buffer I/O error on device sda1, logical block 12874
[    8.247285] Buffer I/O error on device sda1, logical block 12875
[    8.249579] Buffer I/O error on device sda1, logical block 12876
[    8.251910] Buffer I/O error on device sda1, logical block 12877
[    8.254237] ata1: EH complete
[    8.796067] xenbus_probe_frontend: Waiting for devices to initialise: 25s...20s...15s...10s...5s...0s...
 
[   33.796200] xenbus_probe_frontend: Timeout connecting to device: device/vfb/0 (local state 3, remote state 1)
[   33.822916] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.828186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.831109] ata1.00: failed command: READ DMA
[   33.833089] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:5f:3e:04/01:00:00:00:00/e1 Emask 0x40 (internal error)
[   33.839840] ata1.00: status: { DRDY }
[   33.841519] ata1.00: error: { AMNF }
[   33.844915] ata1.00: configured for MWDMA2
[   33.844920] ata1: EH complete
[   33.844925] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.852178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.855026] ata1.00: failed command: READ DMA
[   33.856984] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.863820] ata1.00: status: { DRDY }
[   33.865507] ata1.00: error: { AMNF }
[   33.868866] ata1.00: configured for MWDMA2
[   33.868872] ata1: EH complete
[   33.868878] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.876175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.879082] ata1.00: failed command: READ DMA
[   33.881064] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.887854] ata1.00: status: { DRDY }
[   33.889536] ata1.00: error: { AMNF }
[   33.892805] ata1.00: configured for MWDMA2
[   33.892809] ata1: EH complete
[   33.892813] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.900188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.903095] ata1.00: failed command: READ DMA
[   33.905060] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.911867] ata1.00: status: { DRDY }
[   33.913536] ata1.00: error: { AMNF }
[   33.916831] ata1.00: configured for MWDMA2
[   33.916836] ata1: EH complete
[   33.916841] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.924194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.927009] ata1.00: failed command: READ DMA
[   33.928986] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.935715] ata1.00: status: { DRDY }
[   33.937354] ata1.00: error: { AMNF }
[   33.940747] ata1.00: configured for MWDMA2
[   33.940753] ata1: EH complete
[   33.940757] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.948181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.951112] ata1.00: failed command: READ DMA
[   33.953272] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.960231] ata1.00: status: { DRDY }
[   33.960232] ata1.00: error: { AMNF }
[   33.962999] ata1.00: configured for MWDMA2
[   33.963005] scsi_io_completion: 6 callbacks suppressed
[   33.963009] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   33.963011] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   33.963013] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   33.963017] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3e 5f 00 01 00 00
[   33.963018] blk_update_request: 6 callbacks suppressed
[   33.963019] blk_update_request: I/O error, dev sda, sector 17055327
[   33.963033] ata1: EH complete
[   34.016499] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.024177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.027012] ata1.00: failed command: READ DMA
[   34.029007] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:57:76:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   34.035989] ata1.00: status: { DRDY }
[   34.037705] ata1.00: error: { AMNF }
[   34.041144] ata1.00: configured for MWDMA2
[   34.041152] ata1: EH complete
[   34.041159] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.048177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.051069] ata1.00: failed command: READ DMA
[   34.053031] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.059860] ata1.00: status: { DRDY }
[   34.061534] ata1.00: error: { AMNF }
[   34.064874] ata1.00: configured for MWDMA2
[   34.064878] ata1: EH complete
[   34.064882] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.072191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.075056] ata1.00: failed command: READ DMA
[   34.076997] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.083789] ata1.00: status: { DRDY }
[   34.085445] ata1.00: error: { AMNF }
[   34.088785] ata1.00: configured for MWDMA2
[   34.088790] ata1: EH complete
[   34.088795] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.096182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.099032] ata1.00: failed command: READ DMA
[   34.100999] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.107860] ata1.00: status: { DRDY }
[   34.109545] ata1.00: error: { AMNF }
[   34.112985] ata1.00: configured for MWDMA2
[   34.112991] ata1: EH complete
[   34.112997] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.120190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.123014] ata1.00: failed command: READ DMA
[   34.124993] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.131826] ata1.00: status: { DRDY }
[   34.133474] ata1.00: error: { AMNF }
[   34.136784] ata1.00: configured for MWDMA2
[   34.136788] ata1: EH complete
[   34.136791] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.144185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.147000] ata1.00: failed command: READ DMA
[   34.148948] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.155644] ata1.00: status: { DRDY }
[   34.157322] ata1.00: error: { AMNF }
[   34.160748] ata1.00: configured for MWDMA2
[   34.160759] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   34.160761] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   34.160763] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   34.160766] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 cc 77 3f 00 01 00 00
[   34.160768] blk_update_request: I/O error, dev sda, sector 13399871
[   34.163570] ata1: EH complete
[   34.794548] ISOFS: Unable to identify CD-ROM format.
[   40.034860] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.044181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.047214] ata1.00: failed command: READ DMA
[   40.049261] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:3d:0e/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.056119] ata1.00: status: { DRDY }
[   40.057770] ata1.00: error: { AMNF }
[   40.061152] ata1.00: configured for MWDMA2
[   40.061157] ata1: EH complete
[   40.061161] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.068178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.071093] ata1.00: failed command: READ DMA
[   40.073017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.080098] ata1.00: status: { DRDY }
[   40.081759] ata1.00: error: { AMNF }
[   40.085113] ata1.00: configured for MWDMA2
[   40.085118] ata1: EH complete
[   40.085123] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.092188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.095111] ata1.00: failed command: READ DMA
[   40.097094] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.103870] ata1.00: status: { DRDY }
[   40.105571] ata1.00: error: { AMNF }
[   40.108962] ata1.00: configured for MWDMA2
[   40.108968] ata1: EH complete
[   40.108974] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.116184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.119186] ata1.00: failed command: READ DMA
[   40.121157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.128016] ata1.00: status: { DRDY }
[   40.129836] ata1.00: error: { AMNF }
[   40.133287] ata1.00: configured for MWDMA2
[   40.133293] ata1: EH complete
[   40.133298] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.140190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.143045] ata1.00: failed command: READ DMA
[   40.144983] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.151833] ata1.00: status: { DRDY }
[   40.153508] ata1.00: error: { AMNF }
[   40.156835] ata1.00: configured for MWDMA2
[   40.156839] ata1: EH complete
[   40.156842] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.164182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.167228] ata1.00: failed command: READ DMA
[   40.169283] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.175999] ata1.00: status: { DRDY }
[   40.177681] ata1.00: error: { AMNF }
[   40.181063] ata1.00: configured for MWDMA2
[   40.181073] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.181076] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.181078] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.181081] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.181082] blk_update_request: I/O error, dev sda, sector 17054535
[   40.183877] ata1: EH complete
[   40.797623] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.804191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.807817] ata1.00: failed command: READ DMA
[   40.807821] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:d7:87:15/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.807823] ata1.00: status: { DRDY }
[   40.807824] ata1.00: error: { AMNF }
[   40.809935] ata1.00: configured for MWDMA2
[   40.809942] ata1: EH complete
[   40.809946] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.820635] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.820636] ata1.00: failed command: READ DMA
[   40.820639] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.820640] ata1.00: status: { DRDY }
[   40.820641] ata1.00: error: { AMNF }
[   40.823444] ata1.00: configured for MWDMA2
[   40.823447] ata1: EH complete
[   40.823450] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.828837] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.828839] ata1.00: failed command: READ DMA
[   40.828842] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.828843] ata1.00: status: { DRDY }
[   40.828844] ata1.00: error: { AMNF }
[   40.831587] ata1.00: configured for MWDMA2
[   40.831591] ata1: EH complete
[   40.831594] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.843280] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.843282] ata1.00: failed command: READ DMA
[   40.843286] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.843287] ata1.00: status: { DRDY }
[   40.843288] ata1.00: error: { AMNF }
[   40.846047] ata1.00: configured for MWDMA2
[   40.846053] ata1: EH complete
[   40.846058] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.854845] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.854847] ata1.00: failed command: READ DMA
[   40.854850] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.854851] ata1.00: status: { DRDY }
[   40.854852] ata1.00: error: { AMNF }
[   40.857601] ata1.00: configured for MWDMA2
[   40.857606] ata1: EH complete
[   40.857610] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.865910] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.865911] ata1.00: failed command: READ DMA
[   40.865914] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.865915] ata1.00: status: { DRDY }
[   40.865916] ata1.00: error: { AMNF }
[   40.868606] ata1.00: configured for MWDMA2
[   40.868615] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.868618] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.868619] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.868622] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.868623] blk_update_request: I/O error, dev sda, sector 17054535
[   40.868633] ata1: EH complete
[   40.876146] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.888707] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.888709] ata1.00: failed command: READ DMA
[   40.888713] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:b7:88:15/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.888715] ata1.00: status: { DRDY }
[   40.888716] ata1.00: error: { AMNF }
[   40.891439] ata1.00: configured for MWDMA2
[   40.891445] ata1: EH complete
[   40.891450] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.896469] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.896470] ata1.00: failed command: READ DMA
[   40.896474] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.896475] ata1.00: status: { DRDY }
[   40.896476] ata1.00: error: { AMNF }
[   40.899279] ata1.00: configured for MWDMA2
[   40.899284] ata1: EH complete
[   40.899290] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.911010] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.911011] ata1.00: failed command: READ DMA
[   40.911014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.911015] ata1.00: status: { DRDY }
[   40.911016] ata1.00: error: { AMNF }
[   40.913713] ata1.00: configured for MWDMA2
[   40.913717] ata1: EH complete
[   40.913720] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.922770] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.922771] ata1.00: failed command: READ DMA
[   40.922774] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.922775] ata1.00: status: { DRDY }
[   40.922776] ata1.00: error: { AMNF }
[   40.925618] ata1.00: configured for MWDMA2
[   40.925623] ata1: EH complete
[   40.925626] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.933977] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.933979] ata1.00: failed command: READ DMA
[   40.933981] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.933982] ata1.00: status: { DRDY }
[   40.933984] ata1.00: error: { AMNF }
[   40.936679] ata1.00: configured for MWDMA2
[   40.936682] ata1: EH complete
[   40.936686] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.945395] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.945397] ata1.00: failed command: READ DMA
[   40.945400] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.945401] ata1.00: status: { DRDY }
[   40.945402] ata1.00: error: { AMNF }
[   40.948186] ata1.00: configured for MWDMA2
[   40.948195] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.948197] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.948199] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.948203] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.948204] blk_update_request: I/O error, dev sda, sector 17054535
[   40.948218] ata1: EH complete
[   41.078108] ip_tables: (C) 2000-2006 Netfilter Core Team
[   41.111012] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[   41.133465] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.144408] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.147883] ata1.00: failed command: READ DMA
[   41.150371] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:af:98:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.158366] ata1.00: status: { DRDY }
[   41.160471] ata1.00: error: { AMNF }
[   41.180311] ata1.00: configured for MWDMA2
[   41.180322] ata1: EH complete
[   41.180331] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.189166] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.192774] ata1.00: failed command: READ DMA
[   41.195253] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.203566] ata1.00: status: { DRDY }
[   41.205631] ata1.00: error: { AMNF }
[   41.216266] ata1.00: configured for MWDMA2
[   41.216273] ata1: EH complete
[   41.216279] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.224186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.227709] ata1.00: failed command: READ DMA
[   41.230092] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.238406] ata1.00: status: { DRDY }
[   41.240462] ata1.00: error: { AMNF }
[   41.270638] ata1.00: configured for MWDMA2
[   41.270648] ata1: EH complete
[   41.270657] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.280216] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.283594] ata1.00: failed command: READ DMA
[   41.286017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.294314] ata1.00: status: { DRDY }
[   41.296314] ata1.00: error: { AMNF }
[   41.317033] ata1.00: configured for MWDMA2
[   41.317045] ata1: EH complete
[   41.317054] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.326835] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.330508] ata1.00: failed command: READ DMA
[   41.332958] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.341305] ata1.00: status: { DRDY }
[   41.343292] ata1.00: error: { AMNF }
[   41.347192] ata1.00: configured for MWDMA2
[   41.347199] ata1: EH complete
[   41.347205] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.352205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.355619] ata1.00: failed command: READ DMA
[   41.357964] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.365744] ata1.00: status: { DRDY }
[   41.367726] ata1.00: error: { AMNF }
[   41.371800] ata1.00: configured for MWDMA2
[   41.371812] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.371816] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.371819] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.371823] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.371826] blk_update_request: I/O error, dev sda, sector 17054535
[   41.375213] ata1: EH complete
[   41.400946] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.412215] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.415741] ata1.00: failed command: READ DMA
[   41.415745] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:87:80:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.415746] ata1.00: status: { DRDY }
[   41.415747] ata1.00: error: { AMNF }
[   41.421991] ata1.00: configured for MWDMA2
[   41.421996] ata1: EH complete
[   41.421999] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.428217] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.428219] ata1.00: failed command: READ DMA
[   41.428222] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.428223] ata1.00: status: { DRDY }
[   41.428224] ata1.00: error: { AMNF }
[   41.431013] ata1.00: configured for MWDMA2
[   41.431017] ata1: EH complete
[   41.431020] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.440222] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.440223] ata1.00: failed command: READ DMA
[   41.440227] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.440228] ata1.00: status: { DRDY }
[   41.440228] ata1.00: error: { AMNF }
[   41.442945] ata1.00: configured for MWDMA2
[   41.442948] ata1: EH complete
[   41.442951] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.452244] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.452245] ata1.00: failed command: READ DMA
[   41.452249] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.452250] ata1.00: status: { DRDY }
[   41.452251] ata1.00: error: { AMNF }
[   41.455043] ata1.00: configured for MWDMA2
[   41.455047] ata1: EH complete
[   41.455050] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.464212] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.464214] ata1.00: failed command: READ DMA
[   41.464216] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.464217] ata1.00: status: { DRDY }
[   41.464218] ata1.00: error: { AMNF }
[   41.466959] ata1.00: configured for MWDMA2
[   41.466965] ata1: EH complete
[   41.466970] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.476241] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.476242] ata1.00: failed command: READ DMA
[   41.476245] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.476247] ata1.00: status: { DRDY }
[   41.476248] ata1.00: error: { AMNF }
[   41.478946] ata1.00: configured for MWDMA2
[   41.478956] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.478958] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.478960] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.478962] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.478964] blk_update_request: I/O error, dev sda, sector 17054535
[   41.478975] ata1: EH complete
[   41.487137] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.498574] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.498575] ata1.00: failed command: READ DMA
[   41.498578] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:81:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.498579] ata1.00: status: { DRDY }
[   41.498579] ata1.00: error: { AMNF }
[   41.501340] ata1.00: configured for MWDMA2
[   41.501344] ata1: EH complete
[   41.501347] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.512205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.512206] ata1.00: failed command: READ DMA
[   41.512209] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.512210] ata1.00: status: { DRDY }
[   41.512211] ata1.00: error: { AMNF }
[   41.514969] ata1.00: configured for MWDMA2
[   41.514972] ata1: EH complete
[   41.514975] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.520204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.520205] ata1.00: failed command: READ DMA
[   41.520208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.520209] ata1.00: status: { DRDY }
[   41.520210] ata1.00: error: { AMNF }
[   41.522899] ata1.00: configured for MWDMA2
[   41.522902] ata1: EH complete
[   41.522905] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.532204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.532205] ata1.00: failed command: READ DMA
[   41.532207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.532208] ata1.00: status: { DRDY }
[   41.532209] ata1.00: error: { AMNF }
[   41.534931] ata1.00: configured for MWDMA2
[   41.534935] ata1: EH complete
[   41.534938] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.540202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.540203] ata1.00: failed command: READ DMA
[   41.540205] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.540205] ata1.00: status: { DRDY }
[   41.540206] ata1.00: error: { AMNF }
[   41.542905] ata1.00: configured for MWDMA2
[   41.542908] ata1: EH complete
[   41.542910] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.552203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.552204] ata1.00: failed command: READ DMA
[   41.552206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.552207] ata1.00: status: { DRDY }
[   41.552208] ata1.00: error: { AMNF }
[   41.554922] ata1.00: configured for MWDMA2
[   41.554930] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.554933] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.554935] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.554938] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.554940] blk_update_request: I/O error, dev sda, sector 17054535
[   41.554951] ata1: EH complete
[   41.575840] nf_conntrack version 0.5.0 (16384 buckets, 65536 max)
[   41.772912] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.780180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.782988] ata1.00: failed command: READ DMA
[   41.785158] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:5a:17/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.785159] ata1.00: status: { DRDY }
[   41.785160] ata1.00: error: { AMNF }
[   41.787837] ata1.00: configured for MWDMA2
[   41.787842] ata1: EH complete
[   41.787845] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.796222] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.796224] ata1.00: failed command: READ DMA
[   41.796227] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.796228] ata1.00: status: { DRDY }
[   41.796229] ata1.00: error: { AMNF }
[   41.798982] ata1.00: configured for MWDMA2
[   41.798985] ata1: EH complete
[   41.798988] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.808205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.808206] ata1.00: failed command: READ DMA
[   41.808208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.808209] ata1.00: status: { DRDY }
[   41.808210] ata1.00: error: { AMNF }
[   41.810933] ata1.00: configured for MWDMA2
[   41.810936] ata1: EH complete
[   41.810938] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.816205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.816206] ata1.00: failed command: READ DMA
[   41.816208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.816209] ata1.00: status: { DRDY }
[   41.816209] ata1.00: error: { AMNF }
[   41.818989] ata1.00: configured for MWDMA2
[   41.818993] ata1: EH complete
[   41.818996] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.824209] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.824210] ata1.00: failed command: READ DMA
[   41.824212] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.824213] ata1.00: status: { DRDY }
[   41.824213] ata1.00: error: { AMNF }
[   41.826926] ata1.00: configured for MWDMA2
[   41.826929] ata1: EH complete
[   41.826933] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.836207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.836208] ata1.00: failed command: READ DMA
[   41.836210] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.836211] ata1.00: status: { DRDY }
[   41.836211] ata1.00: error: { AMNF }
[   41.838966] ata1.00: configured for MWDMA2
[   41.838974] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.838976] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.838979] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.838982] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.838984] blk_update_request: I/O error, dev sda, sector 17054535
[   41.838995] ata1: EH complete
[   41.874633] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.881292] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.881293] ata1.00: failed command: READ DMA
[   41.881296] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:27:31:04/01:00:00:00:00/e1 Emask 0x40 (internal error)
[   41.881297] ata1.00: status: { DRDY }
[   41.881298] ata1.00: error: { AMNF }
[   41.884076] ata1.00: configured for MWDMA2
[   41.884081] ata1: EH complete
[   41.884086] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.896207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.896208] ata1.00: failed command: READ DMA
[   41.896211] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.896212] ata1.00: status: { DRDY }
[   41.896213] ata1.00: error: { AMNF }
[   41.899121] ata1.00: configured for MWDMA2
[   41.899124] ata1: EH complete
[   41.899126] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.908201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.908202] ata1.00: failed command: READ DMA
[   41.908204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.908205] ata1.00: status: { DRDY }
[   41.908205] ata1.00: error: { AMNF }
[   41.910969] ata1.00: configured for MWDMA2
[   41.910972] ata1: EH complete
[   41.910975] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.920214] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.920215] ata1.00: failed command: READ DMA
[   41.920217] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.920217] ata1.00: status: { DRDY }
[   41.920218] ata1.00: error: { AMNF }
[   41.922931] ata1.00: configured for MWDMA2
[   41.922933] ata1: EH complete
[   41.922936] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.928203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.928204] ata1.00: failed command: READ DMA
[   41.928206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.928207] ata1.00: status: { DRDY }
[   41.928208] ata1.00: error: { AMNF }
[   41.930995] ata1.00: configured for MWDMA2
[   41.930998] ata1: EH complete
[   41.931000] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.940204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.940205] ata1.00: failed command: READ DMA
[   41.940207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.940208] ata1.00: status: { DRDY }
[   41.940209] ata1.00: error: { AMNF }
[   41.942910] ata1.00: configured for MWDMA2
[   41.942918] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.942921] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.942923] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.942926] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.942928] blk_update_request: I/O error, dev sda, sector 17054535
[   41.942940] ata1: EH complete
[   41.946122] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.955238] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.955240] ata1.00: failed command: READ DMA
[   41.955242] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:8f:74:81/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.955243] ata1.00: status: { DRDY }
[   41.955243] ata1.00: error: { AMNF }
[   41.957960] ata1.00: configured for MWDMA2
[   41.957963] ata1: EH complete
[   41.957966] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.968207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.968208] ata1.00: failed command: READ DMA
[   41.968210] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.968211] ata1.00: status: { DRDY }
[   41.968212] ata1.00: error: { AMNF }
[   41.970922] ata1.00: configured for MWDMA2
[   41.970925] ata1: EH complete
[   41.970927] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.976202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.976203] ata1.00: failed command: READ DMA
[   41.976205] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.976206] ata1.00: status: { DRDY }
[   41.976206] ata1.00: error: { AMNF }
[   41.978914] ata1.00: configured for MWDMA2
[   41.978916] ata1: EH complete
[   41.978919] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.988198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.988199] ata1.00: failed command: READ DMA
[   41.988202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.988203] ata1.00: status: { DRDY }
[   41.988204] ata1.00: error: { AMNF }
[   41.991230] ata1.00: configured for MWDMA2
[   41.991234] ata1: EH complete
[   41.991237] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.996201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.996201] ata1.00: failed command: READ DMA
[   41.996204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.996204] ata1.00: status: { DRDY }
[   41.996205] ata1.00: error: { AMNF }
[   41.998952] ata1.00: configured for MWDMA2
[   41.998955] ata1: EH complete
[   41.998957] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.008209] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.008209] ata1.00: failed command: READ DMA
[   42.008212] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.008212] ata1.00: status: { DRDY }
[   42.008213] ata1.00: error: { AMNF }
[   42.010965] ata1.00: configured for MWDMA2
[   42.010969] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   42.010971] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   42.010972] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   42.010974] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   42.010975] blk_update_request: I/O error, dev sda, sector 17054535
[   42.010984] ata1: EH complete
[   42.015361] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.024198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.024199] ata1.00: failed command: READ DMA
[   42.024201] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:5f:c0:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   42.024202] ata1.00: status: { DRDY }
[   42.024203] ata1.00: error: { AMNF }
[   42.027004] ata1.00: configured for MWDMA2
[   42.027007] ata1: EH complete
[   42.027011] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.040201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.040202] ata1.00: failed command: READ DMA
[   42.040204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.040205] ata1.00: status: { DRDY }
[   42.040206] ata1.00: error: { AMNF }
[   42.042994] ata1.00: configured for MWDMA2
[   42.042997] ata1: EH complete
[   42.043000] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.048213] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.048214] ata1.00: failed command: READ DMA
[   42.048216] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.048217] ata1.00: status: { DRDY }
[   42.048218] ata1.00: error: { AMNF }
[   42.051006] ata1.00: configured for MWDMA2
[   42.051008] ata1: EH complete
[   42.051011] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.056199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.056200] ata1.00: failed command: READ DMA
[   42.056202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.056203] ata1.00: status: { DRDY }
[   42.056203] ata1.00: error: { AMNF }
[   42.058984] ata1.00: configured for MWDMA2
[   42.058987] ata1: EH complete
[   42.058990] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.068187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.068188] ata1.00: failed command: READ DMA
[   42.068191] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.068191] ata1.00: status: { DRDY }
[   42.068192] ata1.00: error: { AMNF }
[   42.071003] ata1.00: configured for MWDMA2
[   42.071006] ata1: EH complete
[   42.071009] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.080216] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.080217] ata1.00: failed command: READ DMA
[   42.080219] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.080220] ata1.00: status: { DRDY }
[   42.080220] ata1.00: error: { AMNF }
[   42.082965] ata1.00: configured for MWDMA2
[   42.082974] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   42.082976] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   42.082978] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   42.082981] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   42.082982] blk_update_request: I/O error, dev sda, sector 17054535
[   42.082993] ata1: EH complete
[   42.347644] audit: type=1400 audit(1467138718.528:2): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""/usr/bin/lxc-start"" pid=1235 comm=""apparmor_parser""
[   42.361612] audit: type=1400 audit(1467138718.544:3): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default"" pid=1239 comm=""apparmor_parser""
[   42.361619] audit: type=1400 audit(1467138718.544:4): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-cgns"" pid=1239 comm=""apparmor_parser""
[   42.361622] audit: type=1400 audit(1467138718.544:5): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-with-mounting"" pid=1239 comm=""apparmor_parser""
[   42.361626] audit: type=1400 audit(1467138718.544:6): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-with-nesting"" pid=1239 comm=""apparmor_parser""
[   42.378214] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.384220] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.387126] ata1.00: failed command: READ DMA
[   42.389157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:c7:7f:1a/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   42.395863] ata1.00: status: { DRDY }
[   42.397517] ata1.00: error: { AMNF }
[   42.400928] ata1.00: configured for MWDMA2
[   42.400935] ata1: EH complete
[   42.400939] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.408182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.411042] ata1.00: failed command: READ DMA
[   42.413003] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.419744] ata1.00: status: { DRDY }
[   42.421427] ata1.00: error: { AMNF }
[   42.424755] ata1.00: configured for MWDMA2
[   42.424760] ata1: EH complete
[   42.424763] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.432178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.435001] ata1.00: failed command: READ DMA
[   42.436986] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.443686] ata1.00: status: { DRDY }
[   42.445341] ata1.00: error: { AMNF }
[   42.448772] ata1.00: configured for MWDMA2
[   42.448779] ata1: EH complete
[   42.448785] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.456187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.459186] ata1.00: failed command: READ DMA
[   42.461151] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.467920] ata1.00: status: { DRDY }
[   42.469582] ata1.00: error: { AMNF }
[   42.472942] ata1.00: configured for MWDMA2
[   42.472946] ata1: EH complete
[   42.472950] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.480186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.483009] ata1.00: failed command: READ DMA
[   42.484963] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.491602] ata1.00: status: { DRDY }
[   42.493279] ata1.00: error: { AMNF }
[   42.496639] ata1.00: configured for MWDMA2
[   42.496644] ata1: EH complete
[   42.496647] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.504181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.507047] ata1.00: failed command: READ DMA
[   42.509033] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.515705] ata1.00: status: { DRDY }
[   42.517383] ata1.00: error: { AMNF }
[   42.520766] ata1.00: configured for MWDMA2
[   42.520791] ata1: EH complete
[  121.819570] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.828188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.831213] ata1.00: failed command: READ DMA
[  121.833202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:10:0f/01:00:00:00:00/e0 Emask 0x40 (internal error)
[  121.840004] ata1.00: status: { DRDY }
[  121.841719] ata1.00: error: { AMNF }
[  121.845107] ata1.00: configured for MWDMA2
[  121.845112] ata1: EH complete
[  121.845116] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.856181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.858989] ata1.00: failed command: READ DMA
[  121.861008] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.867669] ata1.00: status: { DRDY }
[  121.869344] ata1.00: error: { AMNF }
[  121.872727] ata1.00: configured for MWDMA2
[  121.872731] ata1: EH complete
[  121.872735] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.880180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.883056] ata1.00: failed command: READ DMA
[  121.885000] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.891706] ata1.00: status: { DRDY }
[  121.893464] ata1.00: error: { AMNF }
[  121.896790] ata1.00: configured for MWDMA2
[  121.896795] ata1: EH complete
[  121.896798] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.904179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.906997] ata1.00: failed command: READ DMA
[  121.909021] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.915995] ata1.00: status: { DRDY }
[  121.917661] ata1.00: error: { AMNF }
[  121.920999] ata1.00: configured for MWDMA2
[  121.921003] ata1: EH complete
[  121.921007] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.928183] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.931133] ata1.00: failed command: READ DMA
[  121.933256] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.939950] ata1.00: status: { DRDY }
[  121.941655] ata1.00: error: { AMNF }
[  121.944962] ata1.00: configured for MWDMA2
[  121.944966] ata1: EH complete
[  121.944970] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.952186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.955022] ata1.00: failed command: READ DMA
[  121.956961] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.963651] ata1.00: status: { DRDY }
[  121.965310] ata1.00: error: { AMNF }
[  121.968606] ata1.00: configured for MWDMA2
[  121.968611] scsi_io_completion: 1 callbacks suppressed
[  121.968615] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  121.968618] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  121.968620] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  121.968623] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  121.968624] blk_update_request: 1 callbacks suppressed
[  121.968625] blk_update_request: I/O error, dev sda, sector 17054535
[  121.971463] ata1: EH complete
[  121.984357] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.992192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.995024] ata1.00: failed command: READ DMA
[  121.997000] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:3f:04/01:00:00:00:00/e0 Emask 0x40 (internal error)
[  122.003873] ata1.00: status: { DRDY }
[  122.005528] ata1.00: error: { AMNF }
[  122.008910] ata1.00: configured for MWDMA2
[  122.008915] ata1: EH complete
[  122.008918] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.016171] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.019011] ata1.00: failed command: READ DMA
[  122.020976] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.027764] ata1.00: status: { DRDY }
[  122.029447] ata1.00: error: { AMNF }
[  122.033158] ata1.00: configured for MWDMA2
[  122.033162] ata1: EH complete
[  122.033166] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.040167] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.043026] ata1.00: failed command: READ DMA
[  122.044973] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.051610] ata1.00: status: { DRDY }
[  122.053264] ata1.00: error: { AMNF }
[  122.056568] ata1.00: configured for MWDMA2
[  122.056572] ata1: EH complete
[  122.056576] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.064177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.067014] ata1.00: failed command: READ DMA
[  122.068994] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.075732] ata1.00: status: { DRDY }
[  122.077455] ata1.00: error: { AMNF }
[  122.080835] ata1.00: configured for MWDMA2
[  122.080839] ata1: EH complete
[  122.080843] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.088188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.091124] ata1.00: failed command: READ DMA
[  122.093164] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.099946] ata1.00: status: { DRDY }
[  122.101640] ata1.00: error: { AMNF }
[  122.104985] ata1.00: configured for MWDMA2
[  122.104989] ata1: EH complete
[  122.104993] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.112185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.115008] ata1.00: failed command: READ DMA
[  122.116957] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.123634] ata1.00: status: { DRDY }
[  122.125297] ata1.00: error: { AMNF }
[  122.128640] ata1.00: configured for MWDMA2
[  122.128646] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.128648] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.128650] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.128652] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.128654] blk_update_request: I/O error, dev sda, sector 17054535
[  122.131433] ata1: EH complete
[  122.132901] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.140178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.143028] ata1.00: failed command: READ DMA
[  122.144971] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.151665] ata1.00: status: { DRDY }
[  122.153330] ata1.00: error: { AMNF }
[  122.156721] ata1.00: configured for MWDMA2
[  122.156725] ata1: EH complete
[  122.156729] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.164179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.167121] ata1.00: failed command: READ DMA
[  122.169125] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.176059] ata1.00: status: { DRDY }
[  122.177753] ata1.00: error: { AMNF }
[  122.181153] ata1.00: configured for MWDMA2
[  122.181157] ata1: EH complete
[  122.181161] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.188182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.191042] ata1.00: failed command: READ DMA
[  122.193011] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.199765] ata1.00: status: { DRDY }
[  122.201451] ata1.00: error: { AMNF }
[  122.205038] ata1.00: configured for MWDMA2
[  122.205042] ata1: EH complete
[  122.205046] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.212181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.214983] ata1.00: failed command: READ DMA
[  122.216919] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.223796] ata1.00: status: { DRDY }
[  122.225473] ata1.00: error: { AMNF }
[  122.228817] ata1.00: configured for MWDMA2
[  122.228821] ata1: EH complete
[  122.228824] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.236181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.239042] ata1.00: failed command: READ DMA
[  122.240992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.247838] ata1.00: status: { DRDY }
[  122.249644] ata1.00: error: { AMNF }
[  122.253046] ata1.00: configured for MWDMA2
[  122.253050] ata1: EH complete
[  122.253053] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.260230] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.263202] ata1.00: failed command: READ DMA
[  122.265157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.271931] ata1.00: status: { DRDY }
[  122.273593] ata1.00: error: { AMNF }
[  122.276935] ata1.00: configured for MWDMA2
[  122.276942] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.276944] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.276946] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.276948] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.276950] blk_update_request: I/O error, dev sda, sector 17054535
[  122.279691] ata1: EH complete
[  122.281174] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.292174] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.294974] ata1.00: failed command: READ DMA
[  122.296937] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.303624] ata1.00: status: { DRDY }
[  122.305293] ata1.00: error: { AMNF }
[  122.308664] ata1.00: configured for MWDMA2
[  122.308668] ata1: EH complete
[  122.308672] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.316179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.318990] ata1.00: failed command: READ DMA
[  122.320992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.327694] ata1.00: status: { DRDY }
[  122.329335] ata1.00: error: { AMNF }
[  122.332694] ata1.00: configured for MWDMA2
[  122.332699] ata1: EH complete
[  122.332702] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.340182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.343040] ata1.00: failed command: READ DMA
[  122.344996] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.351697] ata1.00: status: { DRDY }
[  122.353346] ata1.00: error: { AMNF }
[  122.356693] ata1.00: configured for MWDMA2
[  122.356697] ata1: EH complete
[  122.356700] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.364182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.367025] ata1.00: failed command: READ DMA
[  122.368979] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.375816] ata1.00: status: { DRDY }
[  122.377519] ata1.00: error: { AMNF }
[  122.380862] ata1.00: configured for MWDMA2
[  122.380867] ata1: EH complete
[  122.380870] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.388191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.391053] ata1.00: failed command: READ DMA
[  122.393035] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.399784] ata1.00: status: { DRDY }
[  122.401446] ata1.00: error: { AMNF }
[  122.404786] ata1.00: configured for MWDMA2
[  122.404790] ata1: EH complete
[  122.404794] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.412182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.415017] ata1.00: failed command: READ DMA
[  122.416985] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.423764] ata1.00: status: { DRDY }
[  122.425421] ata1.00: error: { AMNF }
[  122.428751] ata1.00: configured for MWDMA2
[  122.428757] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.428759] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.428761] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.428763] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.428764] blk_update_request: I/O error, dev sda, sector 17054535
[  122.431550] ata1: EH complete
[  122.433040] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.444171] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.446956] ata1.00: failed command: READ DMA
[  122.448939] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.455661] ata1.00: status: { DRDY }
[  122.457322] ata1.00: error: { AMNF }
[  122.460729] ata1.00: configured for MWDMA2
[  122.460734] ata1: EH complete
[  122.460738] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.468176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.471049] ata1.00: failed command: READ DMA
[  122.473032] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.479660] ata1.00: status: { DRDY }
[  122.481357] ata1.00: error: { AMNF }
[  122.484669] ata1.00: configured for MWDMA2
[  122.484673] ata1: EH complete
[  122.484676] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.492180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.494979] ata1.00: failed command: READ DMA
[  122.497031] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.503697] ata1.00: status: { DRDY }
[  122.505371] ata1.00: error: { AMNF }
[  122.508734] ata1.00: configured for MWDMA2
[  122.508739] ata1: EH complete
[  122.508742] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.516184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.518988] ata1.00: failed command: READ DMA
[  122.520968] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.527650] ata1.00: status: { DRDY }
[  122.529319] ata1.00: error: { AMNF }
[  122.532685] ata1.00: configured for MWDMA2
[  122.532689] ata1: EH complete
[  122.532692] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.540185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.543046] ata1.00: failed command: READ DMA
[  122.544992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.551700] ata1.00: status: { DRDY }
[  122.553362] ata1.00: error: { AMNF }
[  122.556700] ata1.00: configured for MWDMA2
[  122.556704] ata1: EH complete
[  122.556707] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.564180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.567048] ata1.00: failed command: READ DMA
[  122.569017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.575706] ata1.00: status: { DRDY }
[  122.577384] ata1.00: error: { AMNF }
[  122.579968] ata1.00: configured for MWDMA2
[  122.579975] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.579977] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.579979] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.579981] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.579983] blk_update_request: I/O error, dev sda, sector 17054535
[  122.582909] ata1: EH complete
[  122.585563] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.596170] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.599045] ata1.00: failed command: READ DMA
[  122.601012] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.607804] ata1.00: status: { DRDY }
[  122.609460] ata1.00: error: { AMNF }
[  122.612853] ata1.00: configured for MWDMA2
[  122.612858] ata1: EH complete
[  122.612861] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.620181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.623127] ata1.00: failed command: READ DMA
[  122.625100] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.631856] ata1.00: status: { DRDY }
[  122.633563] ata1.00: error: { AMNF }
[  122.636988] ata1.00: configured for MWDMA2
[  122.636992] ata1: EH complete
[  122.636995] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.644182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.646966] ata1.00: failed command: READ DMA
[  122.648916] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.655623] ata1.00: status: { DRDY }
[  122.657304] ata1.00: error: { AMNF }
[  122.660657] ata1.00: configured for MWDMA2
[  122.660661] ata1: EH complete
[  122.660664] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.668176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.671051] ata1.00: failed command: READ DMA
[  122.672990] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.679622] ata1.00: status: { DRDY }
[  122.681308] ata1.00: error: { AMNF }
[  122.684617] ata1.00: configured for MWDMA2
[  122.684621] ata1: EH complete
[  122.684625] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.692189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.695037] ata1.00: failed command: READ DMA
[  122.697014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.703758] ata1.00: status: { DRDY }
[  122.705425] ata1.00: error: { AMNF }
[  122.708771] ata1.00: configured for MWDMA2
[  122.708776] ata1: EH complete
[  122.708779] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.716178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.718966] ata1.00: failed command: READ DMA
[  122.720929] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.727638] ata1.00: status: { DRDY }
[  122.729305] ata1.00: error: { AMNF }
[  122.732686] ata1.00: configured for MWDMA2
[  122.732692] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.732694] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.732696] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.732698] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.732699] blk_update_request: I/O error, dev sda, sector 17054535
[  122.735478] ata1: EH complete
[  122.736826] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.744172] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.747067] ata1.00: failed command: READ DMA
[  122.749028] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.756004] ata1.00: status: { DRDY }
[  122.757672] ata1.00: error: { AMNF }
[  122.761280] ata1.00: configured for MWDMA2
[  122.761284] ata1: EH complete
[  122.761288] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.772168] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.775007] ata1.00: failed command: READ DMA
[  122.776977] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.783651] ata1.00: status: { DRDY }
[  122.785339] ata1.00: error: { AMNF }
[  122.788674] ata1.00: configured for MWDMA2
[  122.788678] ata1: EH complete
[  122.788682] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.796185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.798991] ata1.00: failed command: READ DMA
[  122.800977] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.807690] ata1.00: status: { DRDY }
[  122.809365] ata1.00: error: { AMNF }
[  122.812737] ata1.00: configured for MWDMA2
[  122.812742] ata1: EH complete
[  122.812745] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.820186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.823076] ata1.00: failed command: READ DMA
[  122.825014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.831710] ata1.00: status: { DRDY }
[  122.833394] ata1.00: error: { AMNF }
[  122.836701] ata1.00: configured for MWDMA2
[  122.836705] ata1: EH complete
[  122.836709] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.844187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.847014] ata1.00: failed command: READ DMA
[  122.849039] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.855730] ata1.00: status: { DRDY }
[  122.857442] ata1.00: error: { AMNF }
[  122.860781] ata1.00: configured for MWDMA2
[  122.860785] ata1: EH complete
[  122.860788] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.868169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.871076] ata1.00: failed command: READ DMA
[  122.873046] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.879768] ata1.00: status: { DRDY }
[  122.881455] ata1.00: error: { AMNF }
[  122.884767] ata1.00: configured for MWDMA2
[  122.884774] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.884776] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.884777] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.884780] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.884781] blk_update_request: I/O error, dev sda, sector 17054535
[  122.887536] ata1: EH complete
[  122.889061] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.900169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.903012] ata1.00: failed command: READ DMA
[  122.904953] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.911515] ata1.00: status: { DRDY }
[  122.913169] ata1.00: error: { AMNF }
[  122.916490] ata1.00: configured for MWDMA2
[  122.916495] ata1: EH complete
[  122.916498] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.924187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.927028] ata1.00: failed command: READ DMA
[  122.928986] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.935702] ata1.00: status: { DRDY }
[  122.937359] ata1.00: error: { AMNF }
[  122.940673] ata1.00: configured for MWDMA2
[  122.940678] ata1: EH complete
[  122.940681] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.948174] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.951160] ata1.00: failed command: READ DMA
[  122.953093] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.959784] ata1.00: status: { DRDY }
[  122.961475] ata1.00: error: { AMNF }
[  122.964767] ata1.00: configured for MWDMA2
[  122.964771] ata1: EH complete
[  122.964775] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.972173] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.975026] ata1.00: failed command: READ DMA
[  122.976988] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.983664] ata1.00: status: { DRDY }
[  122.985432] ata1.00: error: { AMNF }
[  122.988741] ata1.00: configured for MWDMA2
[  122.988745] ata1: EH complete
[  122.988748] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.996175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.999024] ata1.00: failed command: READ DMA
[  123.000998] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.007774] ata1.00: status: { DRDY }
[  123.009422] ata1.00: error: { AMNF }
[  123.014148] ata1.00: configured for MWDMA2
[  123.014152] ata1: EH complete
[  123.014155] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.020177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.024078] ata1.00: failed command: READ DMA
[  123.026220] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.034027] ata1.00: status: { DRDY }
[  123.035917] ata1.00: error: { AMNF }
[  123.039599] ata1.00: configured for MWDMA2
[  123.039605] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  123.039607] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  123.039609] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  123.039611] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  123.039613] blk_update_request: I/O error, dev sda, sector 17054535
[  123.043180] ata1: EH complete
[  123.044504] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.056179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.060043] ata1.00: failed command: READ DMA
[  123.062248] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.069729] ata1.00: status: { DRDY }
[  123.071596] ata1.00: error: { AMNF }
[  123.075257] ata1.00: configured for MWDMA2
[  123.075262] ata1: EH complete
[  123.075265] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.084178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.088208] ata1.00: failed command: READ DMA
[  123.090890] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.098572] ata1.00: status: { DRDY }
[  123.100522] ata1.00: error: { AMNF }
[  123.104304] ata1.00: configured for MWDMA2
[  123.104310] ata1: EH complete
[  123.104315] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.112193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.116169] ata1.00: failed command: READ DMA
[  123.118582] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.126203] ata1.00: status: { DRDY }
[  123.128159] ata1.00: error: { AMNF }
[  123.131843] ata1.00: configured for MWDMA2
[  123.131847] ata1: EH complete
[  123.131850] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.136248] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.140217] ata1.00: failed command: READ DMA
[  123.142741] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.150288] ata1.00: status: { DRDY }
[  123.152213] ata1.00: error: { AMNF }
[  123.155864] ata1.00: configured for MWDMA2
[  123.155868] ata1: EH complete
[  123.155871] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.160182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.164140] ata1.00: failed command: READ DMA
[  123.166818] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.174565] ata1.00: status: { DRDY }
[  123.176497] ata1.00: error: { AMNF }
[  123.180325] ata1.00: configured for MWDMA2
[  123.180330] ata1: EH complete
[  123.180336] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.188189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.192582] ata1.00: failed command: READ DMA
[  123.195177] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.203172] ata1.00: status: { DRDY }
[  123.205242] ata1.00: error: { AMNF }
[  123.209128] ata1.00: configured for MWDMA2
[  123.209135] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  123.209137] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  123.209138] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  123.209140] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  123.209142] blk_update_request: I/O error, dev sda, sector 17054535
[  123.213283] ata1: EH complete
[  312.616219] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.624191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.627049] ata1.00: failed command: READ DMA
[  312.629026] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:67:01:01/01:00:00:00:00/e1 Emask 0x40 (internal error)
[  312.636304] ata1.00: status: { DRDY }
[  312.638006] ata1.00: error: { AMNF }
[  312.641475] ata1.00: configured for MWDMA2
[  312.641482] ata1: EH complete
[  312.641490] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.648183] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.651359] ata1.00: failed command: READ DMA
[  312.653409] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.660341] ata1.00: status: { DRDY }
[  312.662033] ata1.00: error: { AMNF }
[  312.665533] ata1.00: configured for MWDMA2
[  312.665540] ata1: EH complete
[  312.665545] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.672198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.675240] ata1.00: failed command: READ DMA
[  312.677312] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.684388] ata1.00: status: { DRDY }
[  312.686071] ata1.00: error: { AMNF }
[  312.689834] ata1.00: configured for MWDMA2
[  312.689841] ata1: EH complete
[  312.689849] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.696179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.699094] ata1.00: failed command: READ DMA
[  312.701113] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.708011] ata1.00: status: { DRDY }
[  312.709688] ata1.00: error: { AMNF }
[  312.713136] ata1.00: configured for MWDMA2
[  312.713143] ata1: EH complete
[  312.713148] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.720198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.723110] ata1.00: failed command: READ DMA
[  312.725160] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.732139] ata1.00: status: { DRDY }
[  312.733828] ata1.00: error: { AMNF }
[  312.737305] ata1.00: configured for MWDMA2
[  312.737312] ata1: EH complete
[  312.737318] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.744187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.747259] ata1.00: failed command: READ DMA
[  312.749283] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.757167] ata1.00: status: { DRDY }
[  312.758862] ata1.00: error: { AMNF }
[  312.762227] ata1.00: configured for MWDMA2
[  312.762239] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  312.762241] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  312.762243] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  312.762246] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  312.762248] blk_update_request: I/O error, dev sda, sector 17054535
[  312.765149] ata1: EH complete"

Amazon EC2	"Ubuntu 16.04 Instance Store HVM AMI won't boot c3.large (c3.xlarge ok)
I'm having a very frustrating time creating a new Ubuntu 16.04 Instance Store HVM AMI.

I've based my work off of ami-304b8e5d as a starting point.  I can boot this image up as a c3.large no problem.  I then login, install some additional packages, bundle, upload, and register a new ami.

The new AMI works (as far as I can tell) across multiple instance types (I've tested m3.large, c3.large and c3.2xlarge).  The problem is, it won't run as a c3.large instance for some reason.

I've followed the instructions very carefully here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-instance-store.html

I'm making the appropriate changes to fstab and menu.lst.  I set the arch to x86_64 and partition to type mbr, virtualization type to hvm and sriov to simple

I've spun up multiple c3.large instances, and I've only ever been able to connect to one of them.  I was able to get the dmesg output for this instance (see below) even though it was misbehaving.

Why won't my HVM AMI boot up as a c3.large?  Where could I be going wrong?

[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 4.4.0-28-generic (buildd@lcy01-13) (gcc version 5.3.1 20160413 (Ubuntu 5.3.1-14ubuntu2.1) ) #47-Ubuntu SMP Fri Jun 24 10:09:13 UTC 2016 (Ubuntu 4.4.0-28.47-generic 4.4.13)
[    0.000000] Command line: root=LABEL=cloudimg-rootfs ro console=ttyS0 xen_emul_unplug=unnecessary
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Centaur CentaurHauls
[    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.000000] x86/fpu: Supporting XSAVE feature 0x01: 'x87 floating point registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x02: 'SSE registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x04: 'AVX registers'
[    0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using 'standard' format.
[    0.000000] x86/fpu: Using 'eager' FPU context switches.
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000efffffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.4 present.
[    0.000000] DMI: Xen HVM domU, BIOS 4.2.amazon 05/12/2016
[    0.000000] Hypervisor detected: Xen
[    0.000000] Xen version 4.2.
[    0.000000] Xen Platform PCI: I/O protocol version 1
[    0.000000] HVMOP_pagetable_dying not supported
[    0.000000] e820: update [mem 0x00000000-0x00000fff] usable ==> reserved
[    0.000000] e820: remove [mem 0x000a0000-0x000fffff] usable
[    0.000000] e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
[    0.000000] MTRR default type: write-back
[    0.000000] MTRR fixed ranges enabled:
[    0.000000]   00000-9FFFF write-back
[    0.000000]   A0000-BFFFF write-combining
[    0.000000]   C0000-FFFFF write-back
[    0.000000] MTRR variable ranges enabled:
[    0.000000]   0 base 0000F0000000 mask 3FFFF8000000 uncachable
[    0.000000]   1 base 0000F8000000 mask 3FFFFC000000 uncachable
[    0.000000]   2 disabled
[    0.000000]   3 disabled
[    0.000000]   4 disabled
[    0.000000]   5 disabled
[    0.000000]   6 disabled
[    0.000000]   7 disabled
[    0.000000] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WC  UC- WT
[    0.000000] found SMP MP-table at [mem 0x000fbe00-0x000fbe0f] mapped at [ffff8800000fbe00]
[    0.000000] Scanning 1 areas for low memory corruption
[    0.000000] Base memory trampoline at [ffff880000098000] 98000 size 24576
[    0.000000] BRK [0x02201000, 0x02201fff] PGTABLE
[    0.000000] BRK [0x02202000, 0x02202fff] PGTABLE
[    0.000000] BRK [0x02203000, 0x02203fff] PGTABLE
[    0.000000] BRK [0x02204000, 0x02204fff] PGTABLE
[    0.000000] RAMDISK: [mem 0x35e20000-0x37feffff]
[    0.000000] ACPI: Early table checksum verification disabled
[    0.000000] ACPI: RSDP 0x00000000000EA020 000024 (v02 Xen   )
[    0.000000] ACPI: XSDT 0x00000000FC00F5A0 000054 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: FACP 0x00000000FC00F260 0000F4 (v04 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: DSDT 0x00000000FC0035E0 00BBF6 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: FACS 0x00000000FC0035A0 000040
[    0.000000] ACPI: FACS 0x00000000FC0035A0 000040
[    0.000000] ACPI: APIC 0x00000000FC00F360 0000D8 (v02 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: HPET 0x00000000FC00F4B0 000038 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: WAET 0x00000000FC00F4F0 000028 (v01 Xen    HVM      00000000 HVML 00000000)
[    0.000000] ACPI: SSDT 0x00000000FC00F520 000031 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: SSDT 0x00000000FC00F560 000031 (v02 Xen    HVM      00000000 INTL 20090123)
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] No NUMA configuration found
[    0.000000] Faking a node at [mem 0x0000000000000000-0x00000000efffffff]
[    0.000000] NODE_DATA(0) allocated [mem 0xefff9000-0xefffdfff]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.000000]   DMA32    [mem 0x0000000001000000-0x00000000efffffff]
[    0.000000]   Normal   empty
[    0.000000]   Device   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000001000-0x000000000009dfff]
[    0.000000]   node   0: [mem 0x0000000000100000-0x00000000efffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000001000-0x00000000efffffff]
[    0.000000] On node 0 totalpages: 982941
[    0.000000]   DMA zone: 64 pages used for memmap
[    0.000000]   DMA zone: 21 pages reserved
[    0.000000]   DMA zone: 3997 pages, LIFO batch:0
[    0.000000]   DMA32 zone: 15296 pages used for memmap
[    0.000000]   DMA32 zone: 978944 pages, LIFO batch:31
[    0.000000] ACPI: PM-Timer IO Port: 0xb008
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
[    0.000000] ACPI: IRQ0 used by override.
[    0.000000] ACPI: IRQ5 used by override.
[    0.000000] ACPI: IRQ9 used by override.
[    0.000000] ACPI: IRQ10 used by override.
[    0.000000] ACPI: IRQ11 used by override.
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 15 CPUs, 13 hotplug CPUs
[    0.000000] PM: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff]
[    0.000000] e820: [mem 0xf0000000-0xfbffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on Xen HVM
[    0.000000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
[    0.000000] PERCPU: Embedded 33 pages/cpu @ffff8800eb600000 s98008 r8192 d28968 u262144
[    0.000000] pcpu-alloc: s98008 r8192 d28968 u262144 alloc=1*2097152
[    0.000000] pcpu-alloc: [0] 00 01 02 03 04 05 06 07 [0] 08 09 10 11 12 13 14 --
[    0.000000] xen: PV spinlocks enabled
[    0.000000] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes)
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 967560
[    0.000000] Policy zone: DMA32
[    0.000000] Kernel command line: root=LABEL=cloudimg-rootfs ro console=ttyS0 xen_emul_unplug=unnecessary
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] Calgary: detecting Calgary via BIOS EBDA area
[    0.000000] Calgary: Unable to locate Rio Grande table in EBDA - bailing!
[    0.000000] Memory: 3814892K/3931764K available (8368K kernel code, 1280K rwdata, 3928K rodata, 1480K init, 1292K bss, 116872K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] 	Build-time adjustment of leaf fanout to 64.
[    0.000000] 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=64, nr_cpu_ids=15
[    0.000000] NR_IRQS:16640 nr_irqs:952 16
[    0.000000] xen:events: Using 2-level ABI
[    0.000000] xen:events: Xen HVM callback vector for event delivery is enabled
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    0.000000] console [ttyS0] enabled
[    0.000000] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 30580167144 ns
[    0.000000] hpet clockevent registered
[    0.000000] tsc: Detected 2800.092 MHz processor
[    0.008000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5600.18 BogoMIPS (lpj=11200368)
[    0.009203] pid_max: default: 32768 minimum: 301
[    0.012005] ACPI: Core revision 20150930
[    0.020440] ACPI: 3 ACPI AML tables successfully acquired and loaded
[    0.023185] Security Framework initialized
[    0.024002] Yama: becoming mindful.
[    0.025463] AppArmor: AppArmor initialized
[    0.028207] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
[    0.031927] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
[    0.032358] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes)
[    0.036006] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes)
[    0.040174] Initializing cgroup subsys io
[    0.041838] Initializing cgroup subsys memory
[    0.044007] Initializing cgroup subsys devices
[    0.045822] Initializing cgroup subsys freezer
[    0.048003] Initializing cgroup subsys net_cls
[    0.049828] Initializing cgroup subsys perf_event
[    0.051750] Initializing cgroup subsys net_prio
[    0.052003] Initializing cgroup subsys hugetlb
[    0.053835] Initializing cgroup subsys pids
[    0.056058] CPU: Physical Processor ID: 0
[    0.058416] mce: CPU supports 2 MCE banks
[    0.060023] Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
[    0.062257] Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
[    0.065195] Freeing SMP alternatives memory: 28K (ffffffff820b4000 - ffffffff820bb000)
[    0.075376] ftrace: allocating 31920 entries in 125 pages
[    0.104048] smpboot: x86_max_cores == zero !?!?
[    0.108025] smpboot: Max logical packages: 15
[    0.109953] smpboot: APIC(0) Converting physical 0 to logical package 0
[    0.112609] x2apic: IRQ remapping doesn't support X2APIC mode
[    0.116002] Switched APIC routing to physical flat.
[    0.120000] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
[    0.163213] clocksource: xen: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.164005] Xen: using vcpuop timer interface
[    0.164011] installing Xen timer for CPU 0
[    0.168040] smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2680 v2 @ 2.80GHz (family: 0x6, model: 0x3e, stepping: 0x4)
[    0.172027] cpu 0 spinlock event irq 53
[    0.173634] Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
[    0.176689] NMI watchdog: disabled (cpu0): hardware events not enabled
[    0.179328] NMI watchdog: Shutting down hard lockup detector on all cpus
[    0.180061] installing Xen timer for CPU 1
[    0.181790] x86: Booting SMP configuration:
[    0.183535] .... node  #0, CPUs:        #1cpu 1 spinlock event irq 59
[    0.188019] x86: Booted up 1 node, 2 CPUs
[    0.189672] smpboot: Total of 2 processors activated (11200.36 BogoMIPS)
[    0.192342] devtmpfs: initialized
[    0.193624] evm: security.selinux
[    0.195035] evm: security.SMACK64
[    0.196005] evm: security.SMACK64EXEC
[    0.197542] evm: security.SMACK64TRANSMUTE
[    0.199239] evm: security.SMACK64MMAP
[    0.200004] evm: security.ima
[    0.201245] evm: security.capability
[    0.204093] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.208064] pinctrl core: initialized pinctrl subsystem
[    0.210289] RTC time: 18:31:16, date: 06/28/16
[    0.212144] NET: Registered protocol family 16
[    0.228004] cpuidle: using governor ladder
[    0.236004] cpuidle: using governor menu
[    0.240007] PCCT header not found.
[    0.241506] ACPI: bus type PCI registered
[    0.243172] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.244274] PCI: Using configuration type 1 for base access
[    0.256089] ACPI: Added _OSI(Module Device)
[    0.257815] ACPI: Added _OSI(Processor Device)
[    0.259666] ACPI: Added _OSI(3.0 _SCP Extensions)
[    0.260005] ACPI: Added _OSI(Processor Aggregator Device)
[    0.263534] xen: --> pirq=16 -> irq=9 (gsi=9)
[    0.266498] ACPI: Interpreter enabled
[    0.268006] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20150930/hwxface-580)
[    0.271854] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20150930/hwxface-580)
[    0.274267] ACPI: (supports S0 S3 S4 S5)
[    0.275892] ACPI: Using IOAPIC for interrupt routing
[    0.280023] PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
[    0.326892] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    0.328010] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI]
[    0.330804] acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
[    0.336013] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
[    0.340908] acpiphp: Slot [0] registered
[    0.343312] acpiphp: Slot [3] registered
[    0.344276] acpiphp: Slot [4] registered
[    0.346192] acpiphp: Slot [5] registered
[    0.348046] acpiphp: Slot [6] registered
[    0.349938] acpiphp: Slot [7] registered
[    0.351819] acpiphp: Slot [8] registered
[    0.352268] acpiphp: Slot [9] registered
[    0.354266] acpiphp: Slot [10] registered
[    0.356235] acpiphp: Slot [11] registered
[    0.358220] acpiphp: Slot [12] registered
[    0.360078] acpiphp: Slot [13] registered
[    0.361980] acpiphp: Slot [14] registered
[    0.363919] acpiphp: Slot [15] registered
[    0.368266] acpiphp: Slot [16] registered
[    0.370180] acpiphp: Slot [17] registered
[    0.372045] acpiphp: Slot [18] registered
[    0.373944] acpiphp: Slot [19] registered
[    0.375893] acpiphp: Slot [20] registered
[    0.376273] acpiphp: Slot [21] registered
[    0.378207] acpiphp: Slot [22] registered
[    0.380077] acpiphp: Slot [23] registered
[    0.381989] acpiphp: Slot [24] registered
[    0.383934] acpiphp: Slot [25] registered
[    0.384269] acpiphp: Slot [26] registered
[    0.386183] acpiphp: Slot [27] registered
[    0.388047] acpiphp: Slot [28] registered
[    0.389955] acpiphp: Slot [29] registered
[    0.391899] acpiphp: Slot [30] registered
[    0.396307] acpiphp: Slot [31] registered
[    0.398220] PCI host bridge to bus 0000:00
[    0.399906] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    0.400005] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    0.402807] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    0.408005] pci_bus 0000:00: root bus resource [mem 0xf0000000-0xfbffffff window]
[    0.411038] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.412127] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000
[    0.413543] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100
[    0.415595] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180
[    0.416625] pci 0000:00:01.1: reg 0x20: [io  0xc100-0xc10f]
[    0.417083] pci 0000:00:01.1: legacy IDE quirk: reg 0x10: [io  0x01f0-0x01f7]
[    0.419995] pci 0000:00:01.1: legacy IDE quirk: reg 0x14: [io  0x03f6]
[    0.424004] pci 0000:00:01.1: legacy IDE quirk: reg 0x18: [io  0x0170-0x0177]
[    0.426900] pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: [io  0x0376]
[    0.428532] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000
[    0.428625] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
               * this clock source is slow. Consider trying other clock sources
[    0.437127] pci 0000:00:01.3: quirk: [io  0xb000-0xb03f] claimed by PIIX4 ACPI
[    0.440755] pci 0000:00:02.0: [1013:00b8] type 00 class 0x030000
[    0.441071] pci 0000:00:02.0: reg 0x10: [mem 0xf0000000-0xf1ffffff pref]
[    0.441273] pci 0000:00:02.0: reg 0x14: [mem 0xf3000000-0xf3000fff]
[    0.442827] pci 0000:00:03.0: [5853:0001] type 00 class 0xff8000
[    0.443171] pci 0000:00:03.0: reg 0x10: [io  0xc000-0xc0ff]
[    0.443366] pci 0000:00:03.0: reg 0x14: [mem 0xf2000000-0xf2ffffff pref]
[    0.445647] ACPI: PCI Interrupt Link [LNKA] (IRQs *5 10 11)
[    0.448331] ACPI: PCI Interrupt Link [LNKB] (IRQs 5 *10 11)
[    0.451101] ACPI: PCI Interrupt Link [LNKC] (IRQs 5 10 *11)
[    0.452897] ACPI: PCI Interrupt Link [LNKD] (IRQs *5 10 11)
[    0.471138] ACPI: Enabled 2 GPEs in block 00 to 0F
[    0.472034] xen:balloon: Initialising balloon driver
[    0.476039] xen_balloon: Initialising balloon driver
[    0.480078] vgaarb: setting as boot device: PCI:0000:00:02.0
[    0.482529] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
[    0.484004] vgaarb: loaded
[    0.485137] vgaarb: bridge control possible 0000:00:02.0
[    0.487471] SCSI subsystem initialized
[    0.488021] libata version 3.00 loaded.
[    0.488040] ACPI: bus type USB registered
[    0.489756] usbcore: registered new interface driver usbfs
[    0.489756] usbcore: registered new interface driver hub
[    0.492004] usbcore: registered new device driver usb
[    0.496077] PCI: Using ACPI for IRQ routing
[    0.497776] PCI: pci_cache_line_size set to 64 bytes
[    0.498136] e820: reserve RAM buffer [mem 0x0009e000-0x0009ffff]
[    0.498231] NetLabel: Initializing
[    0.499645] NetLabel:  domain hash size = 128
[    0.500004] NetLabel:  protocols = UNLABELED CIPSOv4
[    0.502055] NetLabel:  unlabeled traffic allowed by default
[    0.504041] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
[    0.506963] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    0.508594] hpet0: 3 comparators, 64-bit 62.500000 MHz counter
[    0.516025] clocksource: Switched to clocksource xen
[    0.523808] AppArmor: AppArmor Filesystem Enabled
[    0.525826] pnp: PnP ACPI init
[    0.527163] system 00:00: [mem 0x00000000-0x0009ffff] could not be reserved
[    0.530065] system 00:00: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.530123] system 00:01: [io  0x08a0-0x08a3] has been reserved
[    0.532561] system 00:01: [io  0x0cc0-0x0ccf] has been reserved
[    0.534968] system 00:01: [io  0x04d0-0x04d1] has been reserved
[    0.537397] system 00:01: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.537415] xen: --> pirq=17 -> irq=8 (gsi=8)
[    0.537432] pnp 00:02: Plug and Play ACPI device, IDs PNP0b00 (active)
[    0.537450] xen: --> pirq=18 -> irq=12 (gsi=12)
[    0.537463] pnp 00:03: Plug and Play ACPI device, IDs PNP0f13 (active)
[    0.537479] xen: --> pirq=19 -> irq=1 (gsi=1)
[    0.537493] pnp 00:04: Plug and Play ACPI device, IDs PNP0303 PNP030b (active)
[    0.537509] xen: --> pirq=20 -> irq=6 (gsi=6)
[    0.537511] pnp 00:05: [dma 2]
[    0.537525] pnp 00:05: Plug and Play ACPI device, IDs PNP0700 (active)
[    0.537545] xen: --> pirq=21 -> irq=4 (gsi=4)
[    0.537559] pnp 00:06: Plug and Play ACPI device, IDs PNP0501 (active)
[    0.537596] system 00:07: [io  0x10c0-0x1141] has been reserved
[    0.540022] system 00:07: [io  0xb044-0xb047] has been reserved
[    0.542493] system 00:07: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.558156] pnp: PnP ACPI: found 8 devices
[    0.567514] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    0.571183] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    0.571185] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    0.571186] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    0.571188] pci_bus 0000:00: resource 7 [mem 0xf0000000-0xfbffffff window]
[    0.571215] NET: Registered protocol family 2
[    0.573199] TCP established hash table entries: 32768 (order: 6, 262144 bytes)
[    0.576190] TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
[    0.579014] TCP: Hash tables configured (established 32768 bind 32768)
[    0.581711] UDP hash table entries: 2048 (order: 4, 65536 bytes)
[    0.584187] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
[    0.586869] NET: Registered protocol family 1
[    0.588715] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    0.591151] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    0.593575] pci 0000:00:01.0: Activating ISA DMA hang workarounds
[    0.596174] pci 0000:00:02.0: Video device with shadowed ROM
[    0.596235] PCI: CLS 0 bytes, default 64
[    0.596274] Trying to unpack rootfs image as initramfs...
[    1.031545] Freeing initrd memory: 34624K (ffff880035e20000 - ffff880037ff0000)
[    1.034692] RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
[    1.038190] hw unit of domain pp0-core 2^-16 Joules
[    1.040205] hw unit of domain package 2^-16 Joules
[    1.042168] hw unit of domain dram 2^-16 Joules
[    1.044126] Scanning for low memory corruption every 60 seconds
[    1.046992] futex hash table entries: 4096 (order: 6, 262144 bytes)
[    1.049655] audit: initializing netlink subsys (disabled)
[    1.051874] audit: type=2000 audit(1467138677.533:1): initialized
[    1.054651] Initialise system trusted keyring
[    1.056598] HugeTLB registered 2 MB page size, pre-allocated 0 pages
[    1.060402] zbud: loaded
[    1.061664] VFS: Disk quotas dquot_6.6.0
[    1.063313] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.066562] fuse init (API version 7.23)
[    1.068345] Key type big_key registered
[    1.069962] Allocating IMA MOK and blacklist keyrings.
[    1.072873] Key type asymmetric registered
[    1.074561] Asymmetric key parser 'x509' registered
[    1.076608] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)
[    1.079663] io scheduler noop registered
[    1.081310] io scheduler deadline registered (default)
[    1.083439] io scheduler cfq registered
[    1.085117] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[    1.087387] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
[    1.090138] intel_idle: does not run on family 6 model 62
[    1.090220] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    1.093233] ACPI: Power Button [PWRF]
[    1.094788] input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
[    1.097930] ACPI: Sleep Button [SLPF]
[    1.099639] GHES: HEST is not enabled!
[    1.101569] xen: --> pirq=22 -> irq=28 (gsi=28)
[    1.101648] xen:grant_table: Grant tables using version 1 layout
[    1.104146] Grant table initialized
[    1.105667] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
[    1.108075] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    1.137082] 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    1.142001] Linux agpgart interface v0.103
[    1.146569] brd: module loaded
[    1.149145] loop: module loaded
[    1.150763] blkfront_probe: HVM does not support vbd 768 as xen block device
[    1.153685] vbd vbd-768: 19 xenbus_dev_probe on device/vbd/768
[    1.158646] ata_piix 0000:00:01.1: version 2.13
[    1.159672] scsi host0: ata_piix
[    1.161405] scsi host1: ata_piix
[    1.163106] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
[    1.166263] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
[    1.169937] libphy: Fixed MDIO Bus: probed
[    1.173054] tun: Universal TUN/TAP device driver, 1.6
[    1.175564] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
[    1.178695] PPP generic driver version 2.4.2
[    1.180881] xen_netfront: Initialising Xen virtual ethernet driver
[    1.201236] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.204627] ehci-pci: EHCI PCI platform driver
[    1.206858] ehci-platform: EHCI generic platform driver
[    1.209483] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.212628] ohci-pci: OHCI PCI platform driver
[    1.214911] ohci-platform: OHCI generic platform driver
[    1.217537] uhci_hcd: USB Universal Host Controller Interface driver
[    1.220783] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
[    1.226635] serio: i8042 KBD port at 0x60,0x64 irq 1
[    1.229181] serio: i8042 AUX port at 0x60,0x64 irq 12
[    1.231901] mousedev: PS/2 mouse device common for all mice
[    1.235360] rtc_cmos 00:02: rtc core: registered rtc_cmos as rtc0
[    1.238609] rtc_cmos 00:02: alarms up to one day, 114 bytes nvram, hpet irqs
[    1.242362] blkfront: xvdb: flush diskcache: enabled; persistent grants: disabled; indirect descriptors: enabled;
[    1.245082] blkfront: xvdc: flush diskcache: enabled; persistent grants: disabled; indirect descriptors: enabled;
[    1.252582] i2c /dev entries driver
[    1.252610] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
[    1.257896] device-mapper: uevent: version 1.0.3
[    1.259866] device-mapper: ioctl: 4.34.0-ioctl (2015-10-28) initialised: dm-devel@redhat.com
[    1.263304] ledtrig-cpu: registered to indicate activity on CPUs
[    1.266090] NET: Registered protocol family 10
[    1.268166] NET: Registered protocol family 17
[    1.269996] Key type dns_resolver registered
[    1.271893] microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x428
[    1.274422] microcode: CPU1 sig=0x306e4, pf=0x1, revision=0x428
[    1.276900] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
[    1.280669] registered taskstats version 1
[    1.282362] Loading compiled-in X.509 certificates
[    1.285016] Loaded X.509 cert 'Build time autogenerated kernel key: 6ea974e07bd0b30541f4d838a3b7a8a80d5ca9af'
[    1.289044] zswap: loaded using pool lzo/zbud
[    1.292348] Key type trusted registered
[    1.296440] Key type encrypted registered
[    1.298140] AppArmor: AppArmor sha1 policy hashing enabled
[    1.300411] ima: No TPM chip found, activating TPM-bypass!
[    1.302663] evm: HMAC attrs: 0x1
[    1.304310] xenbus_probe_frontend: Device with no driver: device/vfb/0
[    1.306975] xenbus_probe_frontend: Device with no driver: device/vbd/768
[    1.309767]   Magic number: 4:492:545
[    1.311286] tty ttyS21: hash matches
[    1.312882] rtc_cmos 00:02: setting system clock to 2016-06-28 18:31:17 UTC (1467138677)
[    1.316253] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
[    1.318757] EDD information not available.
[    1.320479] PM: Hibernation image not present or could not be loaded.
[    1.325678] ata1.01: NODEV after polling detection
[    1.326817] ata1.00: ATA-7: QEMU HARDDISK, 0.10.2, max UDMA/100
[    1.329278] ata1.00: 20971520 sectors, multi 16: LBA48
[    1.332560] ata1.00: configured for MWDMA2
[    1.334381] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    .2   PQ: 0 ANSI: 5
[    1.337858] sd 0:0:0:0: [sda] 20971520 512-byte logical blocks: (10.7 GB/10.0 GiB)
[    1.337870] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    1.343211] sd 0:0:0:0: [sda] Write Protect is off
[    1.345196] sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    1.345214] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA
[    1.350643]  sda: sda1
[    1.351787] sd 0:0:0:0: [sda] Attached SCSI disk
[    1.354774] Freeing unused kernel memory: 1480K (ffffffff81f42000 - ffffffff820b4000)
[    1.358010] Write protecting the kernel read-only data: 14336k
[    1.361026] Freeing unused kernel memory: 1860K (ffff88000182f000 - ffff880001a00000)
[    1.364534] Freeing unused kernel memory: 168K (ffff880001dd6000 - ffff880001e00000)
[    1.378318] random: systemd-udevd urandom read with 41 bits of entropy available
[    1.413984] FUJITSU Extended Socket Network Device Driver - version 1.0 - Copyright (c) 2015 FUJITSU LIMITED
[    1.446115] FDC 0 is a S82078B
[    1.458631] [drm] Initialized drm 1.1.0 20060810
[    1.486489] AVX version of gcm_enc/dec engaged.
[    1.489360] AES CTR mode by8 optimization enabled
[    1.509977] [TTM] Zone  kernel: Available graphics memory: 1926526 kiB
[    1.513135] [TTM] Initializing pool allocator
[    1.516114] [TTM] Initializing DMA pool allocator
[    1.533507] [drm] fb mappable at 0xF0000000
[    1.535405] [drm] vram aper at 0xF0000000
[    1.537243] [drm] size 33554432
[    1.538687] [drm] fb depth is 24
[    1.540173] [drm]    pitch is 3072
[    1.547329] fbcon: cirrusdrmfb (fb0) is primary device
[    1.615267] Console: switching to colour frame buffer device 128x48
[    1.660913] cirrus 0000:00:02.0: fb0: cirrusdrmfb frame buffer device
[    1.676086] [drm] Initialized cirrus 1.0.0 20110418 for 0000:00:02.0 on minor 0
[    1.766973] md: linear personality registered for level -1
[    1.771185] md: multipath personality registered for level -4
[    1.775526] md: raid0 personality registered for level 0
[    1.779946] md: raid1 personality registered for level 1
[    1.852067] raid6: sse2x1   gen()  8387 MB/s
[    1.920063] raid6: sse2x1   xor()  6707 MB/s
[    1.988062] raid6: sse2x2   gen() 10488 MB/s
[    2.056060] raid6: sse2x2   xor()  7417 MB/s
[    2.124061] raid6: sse2x4   gen() 12281 MB/s
[    2.192097] raid6: sse2x4   xor()  9183 MB/s
[    2.193935] raid6: using algorithm sse2x4 gen() 12281 MB/s
[    2.196208] raid6: .... xor() 9183 MB/s, rmw enabled
[    2.198272] raid6: using ssse3x2 recovery algorithm
[    2.202976] tsc: Refined TSC clocksource calibration: 2799.932 MHz
[    2.202983] xor: automatically using best checksumming function:
[    2.208342] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x285c00db238, max_idle_ns: 440795333184 ns
[    2.240060]    avx       : 20150.000 MB/sec
[    2.242811] async_tx: api initialized (async)
[    2.252318] md: raid6 personality registered for level 6
[    2.254621] md: raid5 personality registered for level 5
[    2.256808] md: raid4 personality registered for level 4
[    2.262948] md: raid10 personality registered for level 10
[    2.292330] Btrfs loaded
[    2.356880] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts: (null)
[    2.542037] systemd[1]: systemd 229 running in system mode. (+PAM +AUDIT +SELINUX +IMA +APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD -IDN)
[    2.549380] systemd[1]: Detected virtualization xen.
[    2.551427] systemd[1]: Detected architecture x86-64.
[    2.559706] systemd[1]: Set hostname to <ip-10-158-173-38>.
[    2.829954] systemd[1]: Listening on fsck to fsckd communication Socket.
[    2.836009] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
[    2.843441] systemd[1]: Listening on udev Control Socket.
[    2.848650] systemd[1]: Listening on LVM2 metadata daemon socket.
[    2.854083] systemd[1]: Listening on Journal Audit Socket.
[    2.859783] systemd[1]: Listening on Journal Socket.
[    2.865106] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[    2.873103] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[    2.880088] systemd[1]: Reached target Swap.
[    2.884977] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[    2.891332] systemd[1]: Listening on LVM2 poll daemon socket.
[    2.897462] systemd[1]: Created slice User and Session Slice.
[    2.903199] systemd[1]: Reached target Encrypted Volumes.
[    2.908727] systemd[1]: Listening on udev Kernel Socket.
[    2.914091] systemd[1]: Listening on Syslog Socket.
[    2.919268] systemd[1]: Listening on Journal Socket (/dev/log).
[    2.925322] systemd[1]: Created slice System Slice.
[    2.930522] systemd[1]: Reached target Slices.
[    2.952165] systemd[1]: Starting Load Kernel Modules...
[    2.961685] systemd[1]: Mounting Debug File System...
[    2.972998] systemd[1]: Mounting Huge Pages File System...
[    2.981359] Loading iSCSI transport class v2.0-870.
[    2.985243] systemd[1]: Created slice system-serial\x2dgetty.slice.
[    2.993907] systemd[1]: Starting Journal Service...
[    3.003775] iscsi: registered transport (tcp)
[    3.004182] systemd[1]: Starting Create list of required static device nodes for the current kernel...
[    3.008217] random: nonblocking pool is initialized
[    3.018711] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
[    3.028304] systemd[1]: Created slice system-getty.slice.
[    3.039623] systemd[1]: Starting Remount Root and Kernel File Systems...
[    3.066585] EXT4-fs (sda1): re-mounted. Opts: (null)
[    3.080414] systemd[1]: Starting Nameserver information manager...
[    3.089643] systemd[1]: Starting Uncomplicated firewall...
[    3.098913] systemd[1]: Created slice system-systemd\x2dfsck.slice.
[    3.111084] systemd[1]: Mounting POSIX Message Queue File System...
[    3.114421] iscsi: registered transport (iser)
[    3.119344] systemd[1]: Listening on /dev/initctl Compatibility Named Pipe.
[    3.126953] systemd[1]: Mounted Debug File System.
[    3.132251] systemd[1]: Mounted POSIX Message Queue File System.
[    3.138301] systemd[1]: Mounted Huge Pages File System.
[    3.143715] systemd[1]: Started Journal Service.
[    3.338015] systemd-journald[386]: Received request to flush runtime journal from PID 1
[    3.643169] piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
[    3.706209] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 946369
[    3.706212] Policy zone: DMA32
[    3.709126] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 946369
[    3.709128] Policy zone: Normal
[    3.752743] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.760258] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.764414] ata1.00: failed command: READ DMA
[    3.767060] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:47:02:01/00:00:00:00:00/e1 Emask 0x40 (internal error)
[    3.776911] ata1.00: status: { DRDY }
[    3.779467] ata1.00: error: { AMNF }
[    3.790051] ata1.00: configured for MWDMA2
[    3.790059] ata1: EH complete
[    3.790065] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.800889] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.805395] ata1.00: failed command: READ DMA
[    3.808439] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.818937] ata1.00: status: { DRDY }
[    3.821074] ata1.00: error: { AMNF }
[    3.829777] ata1.00: configured for MWDMA2
[    3.829784] ata1: EH complete
[    3.829789] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.836319] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.840130] ata1.00: failed command: READ DMA
[    3.842482] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.852267] ata1.00: status: { DRDY }
[    3.854790] ata1.00: error: { AMNF }
[    3.859178] ata1.00: configured for MWDMA2
[    3.859182] ata1: EH complete
[    3.859186] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.864235] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.867428] ata1.00: failed command: READ DMA
[    3.869624] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.877364] ata1.00: status: { DRDY }
[    3.879451] ata1.00: error: { AMNF }
[    3.883504] ata1.00: configured for MWDMA2
[    3.883508] ata1: EH complete
[    3.883512] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.892200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.895602] ata1.00: failed command: READ DMA
[    3.897936] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.906009] ata1.00: status: { DRDY }
[    3.908047] ata1.00: error: { AMNF }
[    3.912164] ata1.00: configured for MWDMA2
[    3.912170] ata1: EH complete
[    3.912175] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    3.920221] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.923454] ata1.00: failed command: READ DMA
[    3.925683] ata1.00: cmd c8/00:f8:df:3a:04/00:00:00:00:00/e1 tag 0 dma 126976 in
                        res 50/01:00:00:00:00/00:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.933816] ata1.00: status: { DRDY }
[    3.935783] ata1.00: error: { AMNF }
[    3.939772] ata1.00: configured for MWDMA2
[    3.939780] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    3.939782] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    3.939785] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    3.939787] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3a df 00 00 f8 00
[    3.939789] blk_update_request: I/O error, dev sda, sector 17054431
[    3.943091] ata1: EH complete
[    3.946520] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    3.956192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.959645] ata1.00: failed command: READ DMA EXT
[    3.962005] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:2f:3f:c8/01:00:2f:3f:c8/e0 Emask 0x40 (internal error)
[    3.969577] ata1.00: status: { DRDY }
[    3.971430] ata1.00: error: { AMNF }
[    3.975250] ata1.00: configured for MWDMA2
[    3.975255] ata1: EH complete
[    3.975258] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    3.984200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    3.987579] ata1.00: failed command: READ DMA EXT
[    3.990163] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    3.998402] ata1.00: status: { DRDY }
[    4.000423] ata1.00: error: { AMNF }
[    4.004490] ata1.00: configured for MWDMA2
[    4.004495] ata1: EH complete
[    4.004499] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.012217] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.015855] ata1.00: failed command: READ DMA EXT
[    4.018498] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.026807] ata1.00: status: { DRDY }
[    4.028841] ata1.00: error: { AMNF }
[    4.032948] ata1.00: configured for MWDMA2
[    4.032951] ata1: EH complete
[    4.032955] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.040200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.043404] ata1.00: failed command: READ DMA EXT
[    4.045789] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.053566] ata1.00: status: { DRDY }
[    4.055559] ata1.00: error: { AMNF }
[    4.059555] ata1.00: configured for MWDMA2
[    4.059559] ata1: EH complete
[    4.059562] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.064194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.067562] ata1.00: failed command: READ DMA EXT
[    4.070099] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.078117] ata1.00: status: { DRDY }
[    4.080091] ata1.00: error: { AMNF }
[    4.084082] ata1.00: configured for MWDMA2
[    4.084087] ata1: EH complete
[    4.084091] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.092200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.095656] ata1.00: failed command: READ DMA EXT
[    4.098256] ata1.00: cmd 25/00:80:17:3f:ca/00:01:00:00:00/e0 tag 0 dma 196608 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.105945] ata1.00: status: { DRDY }
[    4.107757] ata1.00: error: { AMNF }
[    4.111495] ata1.00: configured for MWDMA2
[    4.111505] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.111507] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.111509] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.111512] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 ca 3f 17 00 01 80 00
[    4.111514] blk_update_request: I/O error, dev sda, sector 13254423
[    4.114628] ata1: EH complete
[    4.138408] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.148507] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.151867] ata1.00: failed command: READ DMA
[    4.154752] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:40:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.164495] ata1.00: status: { DRDY }
[    4.166836] ata1.00: error: { AMNF }
[    4.171014] ata1.00: configured for MWDMA2
[    4.171019] ata1: EH complete
[    4.171023] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.176194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.179387] ata1.00: failed command: READ DMA
[    4.181556] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.189273] ata1.00: status: { DRDY }
[    4.191233] ata1.00: error: { AMNF }
[    4.195047] ata1.00: configured for MWDMA2
[    4.195051] ata1: EH complete
[    4.195054] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.200197] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.203411] ata1.00: failed command: READ DMA
[    4.205805] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.213646] ata1.00: status: { DRDY }
[    4.215605] ata1.00: error: { AMNF }
[    4.220426] ata1.00: configured for MWDMA2
[    4.220432] ata1: EH complete
[    4.220437] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.228230] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.231895] ata1.00: failed command: READ DMA
[    4.234372] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.242406] ata1.00: status: { DRDY }
[    4.243929] ata1.00: error: { AMNF }
[    4.247094] ata1.00: configured for MWDMA2
[    4.247098] ata1: EH complete
[    4.247101] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.252184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.254963] ata1.00: failed command: READ DMA
[    4.256870] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.263260] ata1.00: status: { DRDY }
[    4.264822] ata1.00: error: { AMNF }
[    4.268086] ata1.00: configured for MWDMA2
[    4.268092] ata1: EH complete
[    4.268096] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.276184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.278859] ata1.00: failed command: READ DMA
[    4.280666] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.286864] ata1.00: status: { DRDY }
[    4.288443] ata1.00: error: { AMNF }
[    4.291634] ata1.00: configured for MWDMA2
[    4.291643] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.291646] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.291648] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.291651] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.291652] blk_update_request: I/O error, dev sda, sector 17054535
[    4.294248] ata1: EH complete
[    4.317569] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.332249] ppdev: user-space parallel port driver
[    4.333179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.333181] ata1.00: failed command: READ DMA
[    4.333186] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:5f:20:01/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.333187] ata1.00: status: { DRDY }
[    4.333188] ata1.00: error: { AMNF }
[    4.335224] ata1.00: configured for MWDMA2
[    4.335230] ata1: EH complete
[    4.335235] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.341061] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.341063] ata1.00: failed command: READ DMA
[    4.341067] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.341068] ata1.00: status: { DRDY }
[    4.341069] ata1.00: error: { AMNF }
[    4.343207] ata1.00: configured for MWDMA2
[    4.343211] ata1: EH complete
[    4.343215] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.348186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.348187] ata1.00: failed command: READ DMA
[    4.348190] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.348191] ata1.00: status: { DRDY }
[    4.348192] ata1.00: error: { AMNF }
[    4.350355] ata1.00: configured for MWDMA2
[    4.350359] ata1: EH complete
[    4.350362] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.360596] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.360598] ata1.00: failed command: READ DMA
[    4.360602] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.360603] ata1.00: status: { DRDY }
[    4.360604] ata1.00: error: { AMNF }
[    4.362856] ata1.00: configured for MWDMA2
[    4.362859] ata1: EH complete
[    4.362863] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.372246] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.372247] ata1.00: failed command: READ DMA
[    4.372249] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.372250] ata1.00: status: { DRDY }
[    4.372251] ata1.00: error: { AMNF }
[    4.374743] ata1.00: configured for MWDMA2
[    4.374746] ata1: EH complete
[    4.374751] nommu_map_sg: overflow 107ffe000+4096 of device mask ffffffff
[    4.380198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.380199] ata1.00: failed command: READ DMA
[    4.380202] ata1.00: cmd c8/00:08:87:3f:ca/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.380203] ata1.00: status: { DRDY }
[    4.380204] ata1.00: error: { AMNF }
[    4.382719] ata1.00: configured for MWDMA2
[    4.382727] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.382729] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.382731] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.382733] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 ca 3f 87 00 00 08 00
[    4.382734] blk_update_request: I/O error, dev sda, sector 13254535
[    4.382743] ata1: EH complete
[    4.387453] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.396206] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.396208] ata1.00: failed command: READ DMA
[    4.396211] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:e7:26:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.396212] ata1.00: status: { DRDY }
[    4.396213] ata1.00: error: { AMNF }
[    4.398733] ata1.00: configured for MWDMA2
[    4.398736] ata1: EH complete
[    4.398740] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.408203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.408204] ata1.00: failed command: READ DMA
[    4.408207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.408208] ata1.00: status: { DRDY }
[    4.408209] ata1.00: error: { AMNF }
[    4.410724] ata1.00: configured for MWDMA2
[    4.410727] ata1: EH complete
[    4.410731] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.416200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.416201] ata1.00: failed command: READ DMA
[    4.416204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.416205] ata1.00: status: { DRDY }
[    4.416206] ata1.00: error: { AMNF }
[    4.418771] ata1.00: configured for MWDMA2
[    4.418774] ata1: EH complete
[    4.418778] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.428200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.428201] ata1.00: failed command: READ DMA
[    4.428204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.428205] ata1.00: status: { DRDY }
[    4.428206] ata1.00: error: { AMNF }
[    4.430795] ata1.00: configured for MWDMA2
[    4.430798] ata1: EH complete
[    4.430801] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.436192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.436193] ata1.00: failed command: READ DMA
[    4.436195] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.436196] ata1.00: status: { DRDY }
[    4.436197] ata1.00: error: { AMNF }
[    4.438734] ata1.00: configured for MWDMA2
[    4.438738] ata1: EH complete
[    4.438741] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.452186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.452187] ata1.00: failed command: READ DMA
[    4.452189] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.452190] ata1.00: status: { DRDY }
[    4.452190] ata1.00: error: { AMNF }
[    4.454653] ata1.00: configured for MWDMA2
[    4.454659] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.454661] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.454663] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.454666] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.454667] blk_update_request: I/O error, dev sda, sector 17054535
[    4.454674] ata1: EH complete
[    4.472100] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.480189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.480190] ata1.00: failed command: READ DMA
[    4.480194] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:a7:54:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.480195] ata1.00: status: { DRDY }
[    4.480196] ata1.00: error: { AMNF }
[    4.482788] ata1.00: configured for MWDMA2
[    4.482792] ata1: EH complete
[    4.482796] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.488189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.488190] ata1.00: failed command: READ DMA
[    4.488193] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.488193] ata1.00: status: { DRDY }
[    4.488194] ata1.00: error: { AMNF }
[    4.490831] ata1.00: configured for MWDMA2
[    4.490834] ata1: EH complete
[    4.490837] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.496203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.496203] ata1.00: failed command: READ DMA
[    4.496206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.496207] ata1.00: status: { DRDY }
[    4.496208] ata1.00: error: { AMNF }
[    4.498797] ata1.00: configured for MWDMA2
[    4.498800] ata1: EH complete
[    4.498802] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.512198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.512199] ata1.00: failed command: READ DMA
[    4.512201] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.512202] ata1.00: status: { DRDY }
[    4.512203] ata1.00: error: { AMNF }
[    4.514682] ata1.00: configured for MWDMA2
[    4.514684] ata1: EH complete
[    4.514687] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.524210] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.524211] ata1.00: failed command: READ DMA
[    4.524213] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.524214] ata1.00: status: { DRDY }
[    4.524215] ata1.00: error: { AMNF }
[    4.526822] ata1.00: configured for MWDMA2
[    4.526825] ata1: EH complete
[    4.526827] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.532247] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.532248] ata1.00: failed command: READ DMA
[    4.532250] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.532251] ata1.00: status: { DRDY }
[    4.532252] ata1.00: error: { AMNF }
[    4.534941] ata1.00: configured for MWDMA2
[    4.534948] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.534950] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.534953] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.534955] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.534957] blk_update_request: I/O error, dev sda, sector 17054535
[    4.534965] ata1: EH complete
[    4.579552] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.589008] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.589009] ata1.00: failed command: READ DMA
[    4.589012] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:47:ff:3f/01:00:00:00:00/e1 Emask 0x40 (internal error)
[    4.589013] ata1.00: status: { DRDY }
[    4.589014] ata1.00: error: { AMNF }
[    4.591510] ata1.00: configured for MWDMA2
[    4.591514] ata1: EH complete
[    4.591518] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.600262] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.600263] ata1.00: failed command: READ DMA
[    4.600266] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.600267] ata1.00: status: { DRDY }
[    4.600268] ata1.00: error: { AMNF }
[    4.602857] ata1.00: configured for MWDMA2
[    4.602861] ata1: EH complete
[    4.602865] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.612225] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.612226] ata1.00: failed command: READ DMA
[    4.612228] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.612229] ata1.00: status: { DRDY }
[    4.612230] ata1.00: error: { AMNF }
[    4.615387] ata1.00: configured for MWDMA2
[    4.615390] ata1: EH complete
[    4.615392] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.624226] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.624227] ata1.00: failed command: READ DMA
[    4.624230] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.624230] ata1.00: status: { DRDY }
[    4.624231] ata1.00: error: { AMNF }
[    4.627485] ata1.00: configured for MWDMA2
[    4.627488] ata1: EH complete
[    4.627491] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.636250] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.636251] ata1.00: failed command: READ DMA
[    4.636253] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.636254] ata1.00: status: { DRDY }
[    4.636254] ata1.00: error: { AMNF }
[    4.639596] ata1.00: configured for MWDMA2
[    4.639599] ata1: EH complete
[    4.639602] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.648242] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.648243] ata1.00: failed command: READ DMA
[    4.648245] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.648245] ata1.00: status: { DRDY }
[    4.648246] ata1.00: error: { AMNF }
[    4.651713] ata1.00: configured for MWDMA2
[    4.651720] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.651722] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.651725] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.651727] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.651728] blk_update_request: I/O error, dev sda, sector 17054535
[    4.651735] ata1: EH complete
[    4.700028] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.704196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.704197] ata1.00: failed command: READ DMA
[    4.704200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:c7:18:0c/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.704201] ata1.00: status: { DRDY }
[    4.704201] ata1.00: error: { AMNF }
[    4.706817] ata1.00: configured for MWDMA2
[    4.706820] ata1: EH complete
[    4.706823] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.716199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.716200] ata1.00: failed command: READ DMA
[    4.716202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.716203] ata1.00: status: { DRDY }
[    4.716204] ata1.00: error: { AMNF }
[    4.718881] ata1.00: configured for MWDMA2
[    4.718885] ata1: EH complete
[    4.718888] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.724199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.724200] ata1.00: failed command: READ DMA
[    4.724203] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.724204] ata1.00: status: { DRDY }
[    4.724205] ata1.00: error: { AMNF }
[    4.726729] ata1.00: configured for MWDMA2
[    4.726733] ata1: EH complete
[    4.726737] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.740192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.740193] ata1.00: failed command: READ DMA
[    4.740196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.740196] ata1.00: status: { DRDY }
[    4.740197] ata1.00: error: { AMNF }
[    4.742714] ata1.00: configured for MWDMA2
[    4.742718] ata1: EH complete
[    4.742722] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.752196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.752197] ata1.00: failed command: READ DMA
[    4.752200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.752201] ata1.00: status: { DRDY }
[    4.752202] ata1.00: error: { AMNF }
[    4.754827] ata1.00: configured for MWDMA2
[    4.754832] ata1: EH complete
[    4.754838] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.760193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.760194] ata1.00: failed command: READ DMA
[    4.760196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.760197] ata1.00: status: { DRDY }
[    4.760198] ata1.00: error: { AMNF }
[    4.762666] ata1.00: configured for MWDMA2
[    4.762676] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.762679] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.762681] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.762683] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.762684] blk_update_request: I/O error, dev sda, sector 17054535
[    4.762697] ata1: EH complete
[    4.777302] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.784202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.784204] ata1.00: failed command: READ DMA
[    4.784208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:2f:84:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.784209] ata1.00: status: { DRDY }
[    4.784210] ata1.00: error: { AMNF }
[    4.786710] ata1.00: configured for MWDMA2
[    4.786715] ata1: EH complete
[    4.786719] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.796189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.796190] ata1.00: failed command: READ DMA
[    4.796192] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.796193] ata1.00: status: { DRDY }
[    4.796193] ata1.00: error: { AMNF }
[    4.798725] ata1.00: configured for MWDMA2
[    4.798729] ata1: EH complete
[    4.798732] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.804193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.804194] ata1.00: failed command: READ DMA
[    4.804196] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.804197] ata1.00: status: { DRDY }
[    4.804198] ata1.00: error: { AMNF }
[    4.806682] ata1.00: configured for MWDMA2
[    4.806685] ata1: EH complete
[    4.806688] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.820189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.820190] ata1.00: failed command: READ DMA
[    4.820193] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.820194] ata1.00: status: { DRDY }
[    4.820195] ata1.00: error: { AMNF }
[    4.822707] ata1.00: configured for MWDMA2
[    4.822710] ata1: EH complete
[    4.822713] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.828196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.828197] ata1.00: failed command: READ DMA
[    4.828200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.828200] ata1.00: status: { DRDY }
[    4.828201] ata1.00: error: { AMNF }
[    4.830715] ata1.00: configured for MWDMA2
[    4.830718] ata1: EH complete
[    4.830720] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    4.836196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.836197] ata1.00: failed command: READ DMA
[    4.836200] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.836200] ata1.00: status: { DRDY }
[    4.836201] ata1.00: error: { AMNF }
[    4.838719] ata1.00: configured for MWDMA2
[    4.838726] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.838729] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.838732] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.838734] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[    4.838735] blk_update_request: I/O error, dev sda, sector 17054535
[    4.838743] ata1: EH complete
[    4.921563] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.928205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.928207] ata1.00: failed command: READ DMA
[    4.928211] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:67:cf:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    4.928212] ata1.00: status: { DRDY }
[    4.928213] ata1.00: error: { AMNF }
[    4.930768] ata1.00: configured for MWDMA2
[    4.930772] ata1: EH complete
[    4.930776] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.944191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.944192] ata1.00: failed command: READ DMA
[    4.944195] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.944196] ata1.00: status: { DRDY }
[    4.944197] ata1.00: error: { AMNF }
[    4.946669] ata1.00: configured for MWDMA2
[    4.946672] ata1: EH complete
[    4.946676] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.956200] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.956201] ata1.00: failed command: READ DMA
[    4.956204] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.956205] ata1.00: status: { DRDY }
[    4.956205] ata1.00: error: { AMNF }
[    4.958745] ata1.00: configured for MWDMA2
[    4.958748] ata1: EH complete
[    4.958751] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.964190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.964190] ata1.00: failed command: READ DMA
[    4.964193] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.964193] ata1.00: status: { DRDY }
[    4.964194] ata1.00: error: { AMNF }
[    4.966728] ata1.00: configured for MWDMA2
[    4.966731] ata1: EH complete
[    4.966735] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.980201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.980202] ata1.00: failed command: READ DMA
[    4.980205] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.980206] ata1.00: status: { DRDY }
[    4.980207] ata1.00: error: { AMNF }
[    4.982680] ata1.00: configured for MWDMA2
[    4.982684] ata1: EH complete
[    4.982688] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    4.988186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    4.988187] ata1.00: failed command: READ DMA
[    4.988189] ata1.00: cmd c8/00:38:97:8a:13/00:00:00:00:00/e0 tag 0 dma 28672 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    4.988189] ata1.00: status: { DRDY }
[    4.988190] ata1.00: error: { AMNF }
[    4.990860] ata1.00: configured for MWDMA2
[    4.990867] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    4.990869] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[    4.990872] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[    4.990874] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 13 8a 97 00 00 38 00
[    4.990876] blk_update_request: I/O error, dev sda, sector 1280663
[    4.990883] ata1: EH complete
[    4.996120] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.000201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.000202] ata1.00: failed command: READ DMA
[    5.000205] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:c7:8a:13/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    5.000206] ata1.00: status: { DRDY }
[    5.000207] ata1.00: error: { AMNF }
[    5.002743] ata1.00: configured for MWDMA2
[    5.002746] ata1: EH complete
[    5.002749] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.012190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.012191] ata1.00: failed command: READ DMA
[    5.012194] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.012194] ata1.00: status: { DRDY }
[    5.012195] ata1.00: error: { AMNF }
[    5.014680] ata1.00: configured for MWDMA2
[    5.014682] ata1: EH complete
[    5.014685] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.020193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.020194] ata1.00: failed command: READ DMA
[    5.020196] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.020197] ata1.00: status: { DRDY }
[    5.020197] ata1.00: error: { AMNF }
[    5.022705] ata1.00: configured for MWDMA2
[    5.022707] ata1: EH complete
[    5.022710] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.028205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.028206] ata1.00: failed command: READ DMA
[    5.028208] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.028209] ata1.00: status: { DRDY }
[    5.028210] ata1.00: error: { AMNF }
[    5.030730] ata1.00: configured for MWDMA2
[    5.030733] ata1: EH complete
[    5.030735] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.036193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.036194] ata1.00: failed command: READ DMA
[    5.036196] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.036197] ata1.00: status: { DRDY }
[    5.036197] ata1.00: error: { AMNF }
[    5.039148] ata1.00: configured for MWDMA2
[    5.039150] ata1: EH complete
[    5.039153] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.048249] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.048250] ata1.00: failed command: READ DMA
[    5.048252] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.048252] ata1.00: status: { DRDY }
[    5.048253] ata1.00: error: { AMNF }
[    5.051583] ata1.00: configured for MWDMA2
[    5.051593] ata1: EH complete
[    5.051617] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.060243] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.060244] ata1.00: failed command: READ DMA
[    5.060246] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.060247] ata1.00: status: { DRDY }
[    5.060247] ata1.00: error: { AMNF }
[    5.063570] ata1.00: configured for MWDMA2
[    5.063572] ata1: EH complete
[    5.063575] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.068229] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.068230] ata1.00: failed command: READ DMA
[    5.068232] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.068233] ata1.00: status: { DRDY }
[    5.068233] ata1.00: error: { AMNF }
[    5.071558] ata1.00: configured for MWDMA2
[    5.071561] ata1: EH complete
[    5.071564] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.080255] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.080256] ata1.00: failed command: READ DMA
[    5.080258] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.080259] ata1.00: status: { DRDY }
[    5.080259] ata1.00: error: { AMNF }
[    5.083763] ata1.00: configured for MWDMA2
[    5.083766] ata1: EH complete
[    5.083769] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.092243] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.092244] ata1.00: failed command: READ DMA
[    5.092246] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.092247] ata1.00: status: { DRDY }
[    5.092247] ata1.00: error: { AMNF }
[    5.095571] ata1.00: configured for MWDMA2
[    5.095574] ata1: EH complete
[    5.095577] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.104247] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.104247] ata1.00: failed command: READ DMA
[    5.104250] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.104250] ata1.00: status: { DRDY }
[    5.104251] ata1.00: error: { AMNF }
[    5.107695] ata1.00: configured for MWDMA2
[    5.107698] ata1: EH complete
[    5.107701] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[    5.116233] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    5.116233] ata1.00: failed command: READ DMA
[    5.116236] ata1.00: cmd c8/00:08:c7:8a:13/00:00:00:00:00/e0 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    5.116236] ata1.00: status: { DRDY }
[    5.116237] ata1.00: error: { AMNF }
[    5.119334] ata1.00: configured for MWDMA2
[    5.119344] ata1: EH complete
[    5.621434] EXT4-fs (xvdb): mounting ext3 file system using the ext4 subsystem
[    5.634970] EXT4-fs (xvdb): mounted filesystem with ordered data mode. Opts: (null)
[    6.456308] ISOFS: Unable to identify CD-ROM format.
[    6.798078] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.804182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.806804] ata1.00: failed command: READ DMA
[    6.808650] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:87:66:c6/01:00:00:00:00/e0 Emask 0x40 (internal error)
[    6.814845] ata1.00: status: { DRDY }
[    6.816403] ata1.00: error: { AMNF }
[    6.819672] ata1.00: configured for MWDMA2
[    6.819677] ata1: EH complete
[    6.819680] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.824176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.826799] ata1.00: failed command: READ DMA
[    6.828626] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.835089] ata1.00: status: { DRDY }
[    6.836644] ata1.00: error: { AMNF }
[    6.839960] ata1.00: configured for MWDMA2
[    6.839964] ata1: EH complete
[    6.839968] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.844196] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.847593] ata1.00: failed command: READ DMA
[    6.849429] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.855605] ata1.00: status: { DRDY }
[    6.857147] ata1.00: error: { AMNF }
[    6.860371] ata1.00: configured for MWDMA2
[    6.860375] ata1: EH complete
[    6.860378] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.868180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.870802] ata1.00: failed command: READ DMA
[    6.872608] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.878831] ata1.00: status: { DRDY }
[    6.880370] ata1.00: error: { AMNF }
[    6.883517] ata1.00: configured for MWDMA2
[    6.883521] ata1: EH complete
[    6.883525] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.888181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.890784] ata1.00: failed command: READ DMA
[    6.892591] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.898776] ata1.00: status: { DRDY }
[    6.900314] ata1.00: error: { AMNF }
[    6.903471] ata1.00: configured for MWDMA2
[    6.903475] ata1: EH complete
[    6.903478] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.908188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.910879] ata1.00: failed command: READ DMA
[    6.912708] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.919028] ata1.00: status: { DRDY }
[    6.920587] ata1.00: error: { AMNF }
[    6.923773] ata1.00: configured for MWDMA2
[    6.923789] ata1: EH complete
[    6.925473] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.932178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.934801] ata1.00: failed command: READ DMA
[    6.936607] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.942784] ata1.00: status: { DRDY }
[    6.944325] ata1.00: error: { AMNF }
[    6.947503] ata1.00: configured for MWDMA2
[    6.947507] ata1: EH complete
[    6.947510] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.952181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.954801] ata1.00: failed command: READ DMA
[    6.956615] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.962801] ata1.00: status: { DRDY }
[    6.964341] ata1.00: error: { AMNF }
[    6.967516] ata1.00: configured for MWDMA2
[    6.967520] ata1: EH complete
[    6.967524] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.972173] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.974791] ata1.00: failed command: READ DMA
[    6.976596] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    6.982802] ata1.00: status: { DRDY }
[    6.984350] ata1.00: error: { AMNF }
[    6.987488] ata1.00: configured for MWDMA2
[    6.987491] ata1: EH complete
[    6.987495] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    6.992178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    6.994793] ata1.00: failed command: READ DMA
[    6.996637] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.002890] ata1.00: status: { DRDY }
[    7.004437] ata1.00: error: { AMNF }
[    7.007579] ata1.00: configured for MWDMA2
[    7.007583] ata1: EH complete
[    7.007587] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.012180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.014799] ata1.00: failed command: READ DMA
[    7.016601] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.022781] ata1.00: status: { DRDY }
[    7.024325] ata1.00: error: { AMNF }
[    7.027492] ata1.00: configured for MWDMA2
[    7.027496] ata1: EH complete
[    7.027499] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.032179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.034794] ata1.00: failed command: READ DMA
[    7.036586] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.042746] ata1.00: status: { DRDY }
[    7.044293] ata1.00: error: { AMNF }
[    7.047459] ata1.00: configured for MWDMA2
[    7.047473] ata1: EH complete
[    7.049514] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.056175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.058822] ata1.00: failed command: READ DMA
[    7.060668] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.066834] ata1.00: status: { DRDY }
[    7.068384] ata1.00: error: { AMNF }
[    7.071559] ata1.00: configured for MWDMA2
[    7.071563] ata1: EH complete
[    7.071566] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.076179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.078857] ata1.00: failed command: READ DMA
[    7.080663] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.086833] ata1.00: status: { DRDY }
[    7.088422] ata1.00: error: { AMNF }
[    7.091569] ata1.00: configured for MWDMA2
[    7.091573] ata1: EH complete
[    7.091577] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.096170] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.098804] ata1.00: failed command: READ DMA
[    7.100617] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.106790] ata1.00: status: { DRDY }
[    7.108364] ata1.00: error: { AMNF }
[    7.111511] ata1.00: configured for MWDMA2
[    7.111515] ata1: EH complete
[    7.111518] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.116179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.118814] ata1.00: failed command: READ DMA
[    7.120611] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.126776] ata1.00: status: { DRDY }
[    7.128336] ata1.00: error: { AMNF }
[    7.131488] ata1.00: configured for MWDMA2
[    7.131491] ata1: EH complete
[    7.131495] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.136185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.138838] ata1.00: failed command: READ DMA
[    7.140686] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.146885] ata1.00: status: { DRDY }
[    7.148439] ata1.00: error: { AMNF }
[    7.151596] ata1.00: configured for MWDMA2
[    7.151600] ata1: EH complete
[    7.151603] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[    7.156179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    7.158824] ata1.00: failed command: READ DMA
[    7.160630] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    7.166800] ata1.00: status: { DRDY }
[    7.168348] ata1.00: error: { AMNF }
[    7.171561] ata1.00: configured for MWDMA2
[    7.171576] ata1: EH complete
[    8.110339] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.116169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.118665] ata1.00: failed command: WRITE DMA EXT
[    8.120530] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:8f:22:01/01:00:8f:22:01/e0 Emask 0x40 (internal error)
[    8.126471] ata1.00: status: { DRDY }
[    8.127915] ata1.00: error: { AMNF }
[    8.131150] ata1.00: configured for MWDMA2
[    8.131155] ata1: EH complete
[    8.131159] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.136159] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.138640] ata1.00: failed command: WRITE DMA EXT
[    8.140485] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.146403] ata1.00: status: { DRDY }
[    8.147847] ata1.00: error: { AMNF }
[    8.150965] ata1.00: configured for MWDMA2
[    8.150970] ata1: EH complete
[    8.150974] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.156165] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.158648] ata1.00: failed command: WRITE DMA EXT
[    8.160512] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.166450] ata1.00: status: { DRDY }
[    8.167883] ata1.00: error: { AMNF }
[    8.170983] ata1.00: configured for MWDMA2
[    8.170987] ata1: EH complete
[    8.170990] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.176154] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.178627] ata1.00: failed command: WRITE DMA EXT
[    8.180496] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.186382] ata1.00: status: { DRDY }
[    8.187818] ata1.00: error: { AMNF }
[    8.190895] ata1.00: configured for MWDMA2
[    8.190899] ata1: EH complete
[    8.190902] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.196156] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.198631] ata1.00: failed command: WRITE DMA EXT
[    8.200480] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.206396] ata1.00: status: { DRDY }
[    8.207873] ata1.00: error: { AMNF }
[    8.210967] ata1.00: configured for MWDMA2
[    8.210971] ata1: EH complete
[    8.210975] nommu_map_sg: overflow 107ffa000+4096 of device mask ffffffff
[    8.216161] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[    8.218632] ata1.00: failed command: WRITE DMA EXT
[    8.220526] ata1.00: cmd 35/00:28:5f:92:01/00:01:00:00:00/e0 tag 0 dma 151552 out
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[    8.226470] ata1.00: status: { DRDY }
[    8.227928] ata1.00: error: { AMNF }
[    8.231020] ata1.00: configured for MWDMA2
[    8.231027] EXT4-fs warning (device sda1): ext4_end_bio:329: I/O error -5 writing to inode 282252 (offset 94208 size 151552 starting block 12912)
[    8.231029] Buffer I/O error on device sda1, logical block 12868
[    8.233354] Buffer I/O error on device sda1, logical block 12869
[    8.235692] Buffer I/O error on device sda1, logical block 12870
[    8.238025] Buffer I/O error on device sda1, logical block 12871
[    8.240356] Buffer I/O error on device sda1, logical block 12872
[    8.242663] Buffer I/O error on device sda1, logical block 12873
[    8.244972] Buffer I/O error on device sda1, logical block 12874
[    8.247285] Buffer I/O error on device sda1, logical block 12875
[    8.249579] Buffer I/O error on device sda1, logical block 12876
[    8.251910] Buffer I/O error on device sda1, logical block 12877
[    8.254237] ata1: EH complete
[    8.796067] xenbus_probe_frontend: Waiting for devices to initialise: 25s...20s...15s...10s...5s...0s...
 
[   33.796200] xenbus_probe_frontend: Timeout connecting to device: device/vfb/0 (local state 3, remote state 1)
[   33.822916] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.828186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.831109] ata1.00: failed command: READ DMA
[   33.833089] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:5f:3e:04/01:00:00:00:00/e1 Emask 0x40 (internal error)
[   33.839840] ata1.00: status: { DRDY }
[   33.841519] ata1.00: error: { AMNF }
[   33.844915] ata1.00: configured for MWDMA2
[   33.844920] ata1: EH complete
[   33.844925] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.852178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.855026] ata1.00: failed command: READ DMA
[   33.856984] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.863820] ata1.00: status: { DRDY }
[   33.865507] ata1.00: error: { AMNF }
[   33.868866] ata1.00: configured for MWDMA2
[   33.868872] ata1: EH complete
[   33.868878] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.876175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.879082] ata1.00: failed command: READ DMA
[   33.881064] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.887854] ata1.00: status: { DRDY }
[   33.889536] ata1.00: error: { AMNF }
[   33.892805] ata1.00: configured for MWDMA2
[   33.892809] ata1: EH complete
[   33.892813] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.900188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.903095] ata1.00: failed command: READ DMA
[   33.905060] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.911867] ata1.00: status: { DRDY }
[   33.913536] ata1.00: error: { AMNF }
[   33.916831] ata1.00: configured for MWDMA2
[   33.916836] ata1: EH complete
[   33.916841] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.924194] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.927009] ata1.00: failed command: READ DMA
[   33.928986] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.935715] ata1.00: status: { DRDY }
[   33.937354] ata1.00: error: { AMNF }
[   33.940747] ata1.00: configured for MWDMA2
[   33.940753] ata1: EH complete
[   33.940757] nommu_map_sg: overflow 107ff9000+4096 of device mask ffffffff
[   33.948181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   33.951112] ata1.00: failed command: READ DMA
[   33.953272] ata1.00: cmd c8/00:00:5f:3e:04/00:00:00:00:00/e1 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   33.960231] ata1.00: status: { DRDY }
[   33.960232] ata1.00: error: { AMNF }
[   33.962999] ata1.00: configured for MWDMA2
[   33.963005] scsi_io_completion: 6 callbacks suppressed
[   33.963009] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   33.963011] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   33.963013] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   33.963017] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3e 5f 00 01 00 00
[   33.963018] blk_update_request: 6 callbacks suppressed
[   33.963019] blk_update_request: I/O error, dev sda, sector 17055327
[   33.963033] ata1: EH complete
[   34.016499] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.024177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.027012] ata1.00: failed command: READ DMA
[   34.029007] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:57:76:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   34.035989] ata1.00: status: { DRDY }
[   34.037705] ata1.00: error: { AMNF }
[   34.041144] ata1.00: configured for MWDMA2
[   34.041152] ata1: EH complete
[   34.041159] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.048177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.051069] ata1.00: failed command: READ DMA
[   34.053031] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.059860] ata1.00: status: { DRDY }
[   34.061534] ata1.00: error: { AMNF }
[   34.064874] ata1.00: configured for MWDMA2
[   34.064878] ata1: EH complete
[   34.064882] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.072191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.075056] ata1.00: failed command: READ DMA
[   34.076997] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.083789] ata1.00: status: { DRDY }
[   34.085445] ata1.00: error: { AMNF }
[   34.088785] ata1.00: configured for MWDMA2
[   34.088790] ata1: EH complete
[   34.088795] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.096182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.099032] ata1.00: failed command: READ DMA
[   34.100999] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.107860] ata1.00: status: { DRDY }
[   34.109545] ata1.00: error: { AMNF }
[   34.112985] ata1.00: configured for MWDMA2
[   34.112991] ata1: EH complete
[   34.112997] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.120190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.123014] ata1.00: failed command: READ DMA
[   34.124993] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.131826] ata1.00: status: { DRDY }
[   34.133474] ata1.00: error: { AMNF }
[   34.136784] ata1.00: configured for MWDMA2
[   34.136788] ata1: EH complete
[   34.136791] nommu_map_sg: overflow 107ffb000+4096 of device mask ffffffff
[   34.144185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   34.147000] ata1.00: failed command: READ DMA
[   34.148948] ata1.00: cmd c8/00:00:3f:77:cc/00:00:00:00:00/e0 tag 0 dma 131072 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   34.155644] ata1.00: status: { DRDY }
[   34.157322] ata1.00: error: { AMNF }
[   34.160748] ata1.00: configured for MWDMA2
[   34.160759] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   34.160761] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   34.160763] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   34.160766] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 00 cc 77 3f 00 01 00 00
[   34.160768] blk_update_request: I/O error, dev sda, sector 13399871
[   34.163570] ata1: EH complete
[   34.794548] ISOFS: Unable to identify CD-ROM format.
[   40.034860] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.044181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.047214] ata1.00: failed command: READ DMA
[   40.049261] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:3d:0e/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.056119] ata1.00: status: { DRDY }
[   40.057770] ata1.00: error: { AMNF }
[   40.061152] ata1.00: configured for MWDMA2
[   40.061157] ata1: EH complete
[   40.061161] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.068178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.071093] ata1.00: failed command: READ DMA
[   40.073017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.080098] ata1.00: status: { DRDY }
[   40.081759] ata1.00: error: { AMNF }
[   40.085113] ata1.00: configured for MWDMA2
[   40.085118] ata1: EH complete
[   40.085123] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.092188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.095111] ata1.00: failed command: READ DMA
[   40.097094] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.103870] ata1.00: status: { DRDY }
[   40.105571] ata1.00: error: { AMNF }
[   40.108962] ata1.00: configured for MWDMA2
[   40.108968] ata1: EH complete
[   40.108974] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.116184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.119186] ata1.00: failed command: READ DMA
[   40.121157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.128016] ata1.00: status: { DRDY }
[   40.129836] ata1.00: error: { AMNF }
[   40.133287] ata1.00: configured for MWDMA2
[   40.133293] ata1: EH complete
[   40.133298] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.140190] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.143045] ata1.00: failed command: READ DMA
[   40.144983] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.151833] ata1.00: status: { DRDY }
[   40.153508] ata1.00: error: { AMNF }
[   40.156835] ata1.00: configured for MWDMA2
[   40.156839] ata1: EH complete
[   40.156842] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.164182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.167228] ata1.00: failed command: READ DMA
[   40.169283] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.175999] ata1.00: status: { DRDY }
[   40.177681] ata1.00: error: { AMNF }
[   40.181063] ata1.00: configured for MWDMA2
[   40.181073] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.181076] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.181078] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.181081] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.181082] blk_update_request: I/O error, dev sda, sector 17054535
[   40.183877] ata1: EH complete
[   40.797623] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.804191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.807817] ata1.00: failed command: READ DMA
[   40.807821] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:d7:87:15/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.807823] ata1.00: status: { DRDY }
[   40.807824] ata1.00: error: { AMNF }
[   40.809935] ata1.00: configured for MWDMA2
[   40.809942] ata1: EH complete
[   40.809946] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.820635] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.820636] ata1.00: failed command: READ DMA
[   40.820639] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.820640] ata1.00: status: { DRDY }
[   40.820641] ata1.00: error: { AMNF }
[   40.823444] ata1.00: configured for MWDMA2
[   40.823447] ata1: EH complete
[   40.823450] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.828837] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.828839] ata1.00: failed command: READ DMA
[   40.828842] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.828843] ata1.00: status: { DRDY }
[   40.828844] ata1.00: error: { AMNF }
[   40.831587] ata1.00: configured for MWDMA2
[   40.831591] ata1: EH complete
[   40.831594] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.843280] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.843282] ata1.00: failed command: READ DMA
[   40.843286] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.843287] ata1.00: status: { DRDY }
[   40.843288] ata1.00: error: { AMNF }
[   40.846047] ata1.00: configured for MWDMA2
[   40.846053] ata1: EH complete
[   40.846058] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.854845] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.854847] ata1.00: failed command: READ DMA
[   40.854850] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.854851] ata1.00: status: { DRDY }
[   40.854852] ata1.00: error: { AMNF }
[   40.857601] ata1.00: configured for MWDMA2
[   40.857606] ata1: EH complete
[   40.857610] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.865910] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.865911] ata1.00: failed command: READ DMA
[   40.865914] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.865915] ata1.00: status: { DRDY }
[   40.865916] ata1.00: error: { AMNF }
[   40.868606] ata1.00: configured for MWDMA2
[   40.868615] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.868618] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.868619] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.868622] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.868623] blk_update_request: I/O error, dev sda, sector 17054535
[   40.868633] ata1: EH complete
[   40.876146] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.888707] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.888709] ata1.00: failed command: READ DMA
[   40.888713] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:b7:88:15/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   40.888715] ata1.00: status: { DRDY }
[   40.888716] ata1.00: error: { AMNF }
[   40.891439] ata1.00: configured for MWDMA2
[   40.891445] ata1: EH complete
[   40.891450] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.896469] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.896470] ata1.00: failed command: READ DMA
[   40.896474] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.896475] ata1.00: status: { DRDY }
[   40.896476] ata1.00: error: { AMNF }
[   40.899279] ata1.00: configured for MWDMA2
[   40.899284] ata1: EH complete
[   40.899290] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.911010] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.911011] ata1.00: failed command: READ DMA
[   40.911014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.911015] ata1.00: status: { DRDY }
[   40.911016] ata1.00: error: { AMNF }
[   40.913713] ata1.00: configured for MWDMA2
[   40.913717] ata1: EH complete
[   40.913720] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.922770] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.922771] ata1.00: failed command: READ DMA
[   40.922774] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.922775] ata1.00: status: { DRDY }
[   40.922776] ata1.00: error: { AMNF }
[   40.925618] ata1.00: configured for MWDMA2
[   40.925623] ata1: EH complete
[   40.925626] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.933977] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.933979] ata1.00: failed command: READ DMA
[   40.933981] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.933982] ata1.00: status: { DRDY }
[   40.933984] ata1.00: error: { AMNF }
[   40.936679] ata1.00: configured for MWDMA2
[   40.936682] ata1: EH complete
[   40.936686] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   40.945395] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   40.945397] ata1.00: failed command: READ DMA
[   40.945400] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   40.945401] ata1.00: status: { DRDY }
[   40.945402] ata1.00: error: { AMNF }
[   40.948186] ata1.00: configured for MWDMA2
[   40.948195] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   40.948197] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   40.948199] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   40.948203] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   40.948204] blk_update_request: I/O error, dev sda, sector 17054535
[   40.948218] ata1: EH complete
[   41.078108] ip_tables: (C) 2000-2006 Netfilter Core Team
[   41.111012] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[   41.133465] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.144408] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.147883] ata1.00: failed command: READ DMA
[   41.150371] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:af:98:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.158366] ata1.00: status: { DRDY }
[   41.160471] ata1.00: error: { AMNF }
[   41.180311] ata1.00: configured for MWDMA2
[   41.180322] ata1: EH complete
[   41.180331] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.189166] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.192774] ata1.00: failed command: READ DMA
[   41.195253] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.203566] ata1.00: status: { DRDY }
[   41.205631] ata1.00: error: { AMNF }
[   41.216266] ata1.00: configured for MWDMA2
[   41.216273] ata1: EH complete
[   41.216279] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.224186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.227709] ata1.00: failed command: READ DMA
[   41.230092] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.238406] ata1.00: status: { DRDY }
[   41.240462] ata1.00: error: { AMNF }
[   41.270638] ata1.00: configured for MWDMA2
[   41.270648] ata1: EH complete
[   41.270657] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.280216] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.283594] ata1.00: failed command: READ DMA
[   41.286017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.294314] ata1.00: status: { DRDY }
[   41.296314] ata1.00: error: { AMNF }
[   41.317033] ata1.00: configured for MWDMA2
[   41.317045] ata1: EH complete
[   41.317054] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.326835] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.330508] ata1.00: failed command: READ DMA
[   41.332958] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.341305] ata1.00: status: { DRDY }
[   41.343292] ata1.00: error: { AMNF }
[   41.347192] ata1.00: configured for MWDMA2
[   41.347199] ata1: EH complete
[   41.347205] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.352205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.355619] ata1.00: failed command: READ DMA
[   41.357964] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.365744] ata1.00: status: { DRDY }
[   41.367726] ata1.00: error: { AMNF }
[   41.371800] ata1.00: configured for MWDMA2
[   41.371812] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.371816] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.371819] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.371823] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.371826] blk_update_request: I/O error, dev sda, sector 17054535
[   41.375213] ata1: EH complete
[   41.400946] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.412215] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.415741] ata1.00: failed command: READ DMA
[   41.415745] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:87:80:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.415746] ata1.00: status: { DRDY }
[   41.415747] ata1.00: error: { AMNF }
[   41.421991] ata1.00: configured for MWDMA2
[   41.421996] ata1: EH complete
[   41.421999] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.428217] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.428219] ata1.00: failed command: READ DMA
[   41.428222] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.428223] ata1.00: status: { DRDY }
[   41.428224] ata1.00: error: { AMNF }
[   41.431013] ata1.00: configured for MWDMA2
[   41.431017] ata1: EH complete
[   41.431020] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.440222] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.440223] ata1.00: failed command: READ DMA
[   41.440227] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.440228] ata1.00: status: { DRDY }
[   41.440228] ata1.00: error: { AMNF }
[   41.442945] ata1.00: configured for MWDMA2
[   41.442948] ata1: EH complete
[   41.442951] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.452244] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.452245] ata1.00: failed command: READ DMA
[   41.452249] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.452250] ata1.00: status: { DRDY }
[   41.452251] ata1.00: error: { AMNF }
[   41.455043] ata1.00: configured for MWDMA2
[   41.455047] ata1: EH complete
[   41.455050] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.464212] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.464214] ata1.00: failed command: READ DMA
[   41.464216] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.464217] ata1.00: status: { DRDY }
[   41.464218] ata1.00: error: { AMNF }
[   41.466959] ata1.00: configured for MWDMA2
[   41.466965] ata1: EH complete
[   41.466970] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.476241] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.476242] ata1.00: failed command: READ DMA
[   41.476245] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.476247] ata1.00: status: { DRDY }
[   41.476248] ata1.00: error: { AMNF }
[   41.478946] ata1.00: configured for MWDMA2
[   41.478956] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.478958] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.478960] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.478962] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.478964] blk_update_request: I/O error, dev sda, sector 17054535
[   41.478975] ata1: EH complete
[   41.487137] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.498574] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.498575] ata1.00: failed command: READ DMA
[   41.498578] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:81:cc/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.498579] ata1.00: status: { DRDY }
[   41.498579] ata1.00: error: { AMNF }
[   41.501340] ata1.00: configured for MWDMA2
[   41.501344] ata1: EH complete
[   41.501347] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.512205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.512206] ata1.00: failed command: READ DMA
[   41.512209] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.512210] ata1.00: status: { DRDY }
[   41.512211] ata1.00: error: { AMNF }
[   41.514969] ata1.00: configured for MWDMA2
[   41.514972] ata1: EH complete
[   41.514975] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.520204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.520205] ata1.00: failed command: READ DMA
[   41.520208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.520209] ata1.00: status: { DRDY }
[   41.520210] ata1.00: error: { AMNF }
[   41.522899] ata1.00: configured for MWDMA2
[   41.522902] ata1: EH complete
[   41.522905] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.532204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.532205] ata1.00: failed command: READ DMA
[   41.532207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.532208] ata1.00: status: { DRDY }
[   41.532209] ata1.00: error: { AMNF }
[   41.534931] ata1.00: configured for MWDMA2
[   41.534935] ata1: EH complete
[   41.534938] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.540202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.540203] ata1.00: failed command: READ DMA
[   41.540205] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.540205] ata1.00: status: { DRDY }
[   41.540206] ata1.00: error: { AMNF }
[   41.542905] ata1.00: configured for MWDMA2
[   41.542908] ata1: EH complete
[   41.542910] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.552203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.552204] ata1.00: failed command: READ DMA
[   41.552206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.552207] ata1.00: status: { DRDY }
[   41.552208] ata1.00: error: { AMNF }
[   41.554922] ata1.00: configured for MWDMA2
[   41.554930] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.554933] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.554935] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.554938] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.554940] blk_update_request: I/O error, dev sda, sector 17054535
[   41.554951] ata1: EH complete
[   41.575840] nf_conntrack version 0.5.0 (16384 buckets, 65536 max)
[   41.772912] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.780180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.782988] ata1.00: failed command: READ DMA
[   41.785158] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:5a:17/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.785159] ata1.00: status: { DRDY }
[   41.785160] ata1.00: error: { AMNF }
[   41.787837] ata1.00: configured for MWDMA2
[   41.787842] ata1: EH complete
[   41.787845] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.796222] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.796224] ata1.00: failed command: READ DMA
[   41.796227] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.796228] ata1.00: status: { DRDY }
[   41.796229] ata1.00: error: { AMNF }
[   41.798982] ata1.00: configured for MWDMA2
[   41.798985] ata1: EH complete
[   41.798988] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.808205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.808206] ata1.00: failed command: READ DMA
[   41.808208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.808209] ata1.00: status: { DRDY }
[   41.808210] ata1.00: error: { AMNF }
[   41.810933] ata1.00: configured for MWDMA2
[   41.810936] ata1: EH complete
[   41.810938] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.816205] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.816206] ata1.00: failed command: READ DMA
[   41.816208] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.816209] ata1.00: status: { DRDY }
[   41.816209] ata1.00: error: { AMNF }
[   41.818989] ata1.00: configured for MWDMA2
[   41.818993] ata1: EH complete
[   41.818996] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.824209] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.824210] ata1.00: failed command: READ DMA
[   41.824212] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.824213] ata1.00: status: { DRDY }
[   41.824213] ata1.00: error: { AMNF }
[   41.826926] ata1.00: configured for MWDMA2
[   41.826929] ata1: EH complete
[   41.826933] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.836207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.836208] ata1.00: failed command: READ DMA
[   41.836210] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.836211] ata1.00: status: { DRDY }
[   41.836211] ata1.00: error: { AMNF }
[   41.838966] ata1.00: configured for MWDMA2
[   41.838974] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.838976] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.838979] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.838982] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.838984] blk_update_request: I/O error, dev sda, sector 17054535
[   41.838995] ata1: EH complete
[   41.874633] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.881292] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.881293] ata1.00: failed command: READ DMA
[   41.881296] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:27:31:04/01:00:00:00:00/e1 Emask 0x40 (internal error)
[   41.881297] ata1.00: status: { DRDY }
[   41.881298] ata1.00: error: { AMNF }
[   41.884076] ata1.00: configured for MWDMA2
[   41.884081] ata1: EH complete
[   41.884086] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.896207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.896208] ata1.00: failed command: READ DMA
[   41.896211] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.896212] ata1.00: status: { DRDY }
[   41.896213] ata1.00: error: { AMNF }
[   41.899121] ata1.00: configured for MWDMA2
[   41.899124] ata1: EH complete
[   41.899126] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.908201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.908202] ata1.00: failed command: READ DMA
[   41.908204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.908205] ata1.00: status: { DRDY }
[   41.908205] ata1.00: error: { AMNF }
[   41.910969] ata1.00: configured for MWDMA2
[   41.910972] ata1: EH complete
[   41.910975] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.920214] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.920215] ata1.00: failed command: READ DMA
[   41.920217] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.920217] ata1.00: status: { DRDY }
[   41.920218] ata1.00: error: { AMNF }
[   41.922931] ata1.00: configured for MWDMA2
[   41.922933] ata1: EH complete
[   41.922936] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.928203] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.928204] ata1.00: failed command: READ DMA
[   41.928206] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.928207] ata1.00: status: { DRDY }
[   41.928208] ata1.00: error: { AMNF }
[   41.930995] ata1.00: configured for MWDMA2
[   41.930998] ata1: EH complete
[   41.931000] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.940204] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.940205] ata1.00: failed command: READ DMA
[   41.940207] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.940208] ata1.00: status: { DRDY }
[   41.940209] ata1.00: error: { AMNF }
[   41.942910] ata1.00: configured for MWDMA2
[   41.942918] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   41.942921] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   41.942923] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   41.942926] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   41.942928] blk_update_request: I/O error, dev sda, sector 17054535
[   41.942940] ata1: EH complete
[   41.946122] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.955238] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.955240] ata1.00: failed command: READ DMA
[   41.955242] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:8f:74:81/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   41.955243] ata1.00: status: { DRDY }
[   41.955243] ata1.00: error: { AMNF }
[   41.957960] ata1.00: configured for MWDMA2
[   41.957963] ata1: EH complete
[   41.957966] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.968207] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.968208] ata1.00: failed command: READ DMA
[   41.968210] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.968211] ata1.00: status: { DRDY }
[   41.968212] ata1.00: error: { AMNF }
[   41.970922] ata1.00: configured for MWDMA2
[   41.970925] ata1: EH complete
[   41.970927] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.976202] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.976203] ata1.00: failed command: READ DMA
[   41.976205] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.976206] ata1.00: status: { DRDY }
[   41.976206] ata1.00: error: { AMNF }
[   41.978914] ata1.00: configured for MWDMA2
[   41.978916] ata1: EH complete
[   41.978919] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.988198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.988199] ata1.00: failed command: READ DMA
[   41.988202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.988203] ata1.00: status: { DRDY }
[   41.988204] ata1.00: error: { AMNF }
[   41.991230] ata1.00: configured for MWDMA2
[   41.991234] ata1: EH complete
[   41.991237] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   41.996201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   41.996201] ata1.00: failed command: READ DMA
[   41.996204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   41.996204] ata1.00: status: { DRDY }
[   41.996205] ata1.00: error: { AMNF }
[   41.998952] ata1.00: configured for MWDMA2
[   41.998955] ata1: EH complete
[   41.998957] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.008209] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.008209] ata1.00: failed command: READ DMA
[   42.008212] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.008212] ata1.00: status: { DRDY }
[   42.008213] ata1.00: error: { AMNF }
[   42.010965] ata1.00: configured for MWDMA2
[   42.010969] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   42.010971] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   42.010972] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   42.010974] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   42.010975] blk_update_request: I/O error, dev sda, sector 17054535
[   42.010984] ata1: EH complete
[   42.015361] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.024198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.024199] ata1.00: failed command: READ DMA
[   42.024201] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:5f:c0:ca/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   42.024202] ata1.00: status: { DRDY }
[   42.024203] ata1.00: error: { AMNF }
[   42.027004] ata1.00: configured for MWDMA2
[   42.027007] ata1: EH complete
[   42.027011] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.040201] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.040202] ata1.00: failed command: READ DMA
[   42.040204] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.040205] ata1.00: status: { DRDY }
[   42.040206] ata1.00: error: { AMNF }
[   42.042994] ata1.00: configured for MWDMA2
[   42.042997] ata1: EH complete
[   42.043000] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.048213] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.048214] ata1.00: failed command: READ DMA
[   42.048216] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.048217] ata1.00: status: { DRDY }
[   42.048218] ata1.00: error: { AMNF }
[   42.051006] ata1.00: configured for MWDMA2
[   42.051008] ata1: EH complete
[   42.051011] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.056199] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.056200] ata1.00: failed command: READ DMA
[   42.056202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.056203] ata1.00: status: { DRDY }
[   42.056203] ata1.00: error: { AMNF }
[   42.058984] ata1.00: configured for MWDMA2
[   42.058987] ata1: EH complete
[   42.058990] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.068187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.068188] ata1.00: failed command: READ DMA
[   42.068191] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.068191] ata1.00: status: { DRDY }
[   42.068192] ata1.00: error: { AMNF }
[   42.071003] ata1.00: configured for MWDMA2
[   42.071006] ata1: EH complete
[   42.071009] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.080216] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.080217] ata1.00: failed command: READ DMA
[   42.080219] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.080220] ata1.00: status: { DRDY }
[   42.080220] ata1.00: error: { AMNF }
[   42.082965] ata1.00: configured for MWDMA2
[   42.082974] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[   42.082976] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[   42.082978] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[   42.082981] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[   42.082982] blk_update_request: I/O error, dev sda, sector 17054535
[   42.082993] ata1: EH complete
[   42.347644] audit: type=1400 audit(1467138718.528:2): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""/usr/bin/lxc-start"" pid=1235 comm=""apparmor_parser""
[   42.361612] audit: type=1400 audit(1467138718.544:3): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default"" pid=1239 comm=""apparmor_parser""
[   42.361619] audit: type=1400 audit(1467138718.544:4): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-cgns"" pid=1239 comm=""apparmor_parser""
[   42.361622] audit: type=1400 audit(1467138718.544:5): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-with-mounting"" pid=1239 comm=""apparmor_parser""
[   42.361626] audit: type=1400 audit(1467138718.544:6): apparmor=""STATUS"" operation=""profile_load"" profile=""unconfined"" name=""lxc-container-default-with-nesting"" pid=1239 comm=""apparmor_parser""
[   42.378214] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.384220] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.387126] ata1.00: failed command: READ DMA
[   42.389157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:c7:7f:1a/01:00:00:00:00/e0 Emask 0x40 (internal error)
[   42.395863] ata1.00: status: { DRDY }
[   42.397517] ata1.00: error: { AMNF }
[   42.400928] ata1.00: configured for MWDMA2
[   42.400935] ata1: EH complete
[   42.400939] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.408182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.411042] ata1.00: failed command: READ DMA
[   42.413003] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.419744] ata1.00: status: { DRDY }
[   42.421427] ata1.00: error: { AMNF }
[   42.424755] ata1.00: configured for MWDMA2
[   42.424760] ata1: EH complete
[   42.424763] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.432178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.435001] ata1.00: failed command: READ DMA
[   42.436986] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.443686] ata1.00: status: { DRDY }
[   42.445341] ata1.00: error: { AMNF }
[   42.448772] ata1.00: configured for MWDMA2
[   42.448779] ata1: EH complete
[   42.448785] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.456187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.459186] ata1.00: failed command: READ DMA
[   42.461151] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.467920] ata1.00: status: { DRDY }
[   42.469582] ata1.00: error: { AMNF }
[   42.472942] ata1.00: configured for MWDMA2
[   42.472946] ata1: EH complete
[   42.472950] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.480186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.483009] ata1.00: failed command: READ DMA
[   42.484963] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.491602] ata1.00: status: { DRDY }
[   42.493279] ata1.00: error: { AMNF }
[   42.496639] ata1.00: configured for MWDMA2
[   42.496644] ata1: EH complete
[   42.496647] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[   42.504181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[   42.507047] ata1.00: failed command: READ DMA
[   42.509033] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[   42.515705] ata1.00: status: { DRDY }
[   42.517383] ata1.00: error: { AMNF }
[   42.520766] ata1.00: configured for MWDMA2
[   42.520791] ata1: EH complete
[  121.819570] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.828188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.831213] ata1.00: failed command: READ DMA
[  121.833202] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:97:10:0f/01:00:00:00:00/e0 Emask 0x40 (internal error)
[  121.840004] ata1.00: status: { DRDY }
[  121.841719] ata1.00: error: { AMNF }
[  121.845107] ata1.00: configured for MWDMA2
[  121.845112] ata1: EH complete
[  121.845116] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.856181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.858989] ata1.00: failed command: READ DMA
[  121.861008] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.867669] ata1.00: status: { DRDY }
[  121.869344] ata1.00: error: { AMNF }
[  121.872727] ata1.00: configured for MWDMA2
[  121.872731] ata1: EH complete
[  121.872735] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.880180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.883056] ata1.00: failed command: READ DMA
[  121.885000] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.891706] ata1.00: status: { DRDY }
[  121.893464] ata1.00: error: { AMNF }
[  121.896790] ata1.00: configured for MWDMA2
[  121.896795] ata1: EH complete
[  121.896798] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.904179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.906997] ata1.00: failed command: READ DMA
[  121.909021] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.915995] ata1.00: status: { DRDY }
[  121.917661] ata1.00: error: { AMNF }
[  121.920999] ata1.00: configured for MWDMA2
[  121.921003] ata1: EH complete
[  121.921007] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.928183] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.931133] ata1.00: failed command: READ DMA
[  121.933256] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.939950] ata1.00: status: { DRDY }
[  121.941655] ata1.00: error: { AMNF }
[  121.944962] ata1.00: configured for MWDMA2
[  121.944966] ata1: EH complete
[  121.944970] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.952186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.955022] ata1.00: failed command: READ DMA
[  121.956961] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  121.963651] ata1.00: status: { DRDY }
[  121.965310] ata1.00: error: { AMNF }
[  121.968606] ata1.00: configured for MWDMA2
[  121.968611] scsi_io_completion: 1 callbacks suppressed
[  121.968615] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  121.968618] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  121.968620] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  121.968623] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  121.968624] blk_update_request: 1 callbacks suppressed
[  121.968625] blk_update_request: I/O error, dev sda, sector 17054535
[  121.971463] ata1: EH complete
[  121.984357] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  121.992192] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  121.995024] ata1.00: failed command: READ DMA
[  121.997000] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:ef:3f:04/01:00:00:00:00/e0 Emask 0x40 (internal error)
[  122.003873] ata1.00: status: { DRDY }
[  122.005528] ata1.00: error: { AMNF }
[  122.008910] ata1.00: configured for MWDMA2
[  122.008915] ata1: EH complete
[  122.008918] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.016171] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.019011] ata1.00: failed command: READ DMA
[  122.020976] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.027764] ata1.00: status: { DRDY }
[  122.029447] ata1.00: error: { AMNF }
[  122.033158] ata1.00: configured for MWDMA2
[  122.033162] ata1: EH complete
[  122.033166] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.040167] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.043026] ata1.00: failed command: READ DMA
[  122.044973] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.051610] ata1.00: status: { DRDY }
[  122.053264] ata1.00: error: { AMNF }
[  122.056568] ata1.00: configured for MWDMA2
[  122.056572] ata1: EH complete
[  122.056576] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.064177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.067014] ata1.00: failed command: READ DMA
[  122.068994] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.075732] ata1.00: status: { DRDY }
[  122.077455] ata1.00: error: { AMNF }
[  122.080835] ata1.00: configured for MWDMA2
[  122.080839] ata1: EH complete
[  122.080843] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.088188] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.091124] ata1.00: failed command: READ DMA
[  122.093164] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.099946] ata1.00: status: { DRDY }
[  122.101640] ata1.00: error: { AMNF }
[  122.104985] ata1.00: configured for MWDMA2
[  122.104989] ata1: EH complete
[  122.104993] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.112185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.115008] ata1.00: failed command: READ DMA
[  122.116957] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.123634] ata1.00: status: { DRDY }
[  122.125297] ata1.00: error: { AMNF }
[  122.128640] ata1.00: configured for MWDMA2
[  122.128646] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.128648] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.128650] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.128652] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.128654] blk_update_request: I/O error, dev sda, sector 17054535
[  122.131433] ata1: EH complete
[  122.132901] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.140178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.143028] ata1.00: failed command: READ DMA
[  122.144971] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.151665] ata1.00: status: { DRDY }
[  122.153330] ata1.00: error: { AMNF }
[  122.156721] ata1.00: configured for MWDMA2
[  122.156725] ata1: EH complete
[  122.156729] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.164179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.167121] ata1.00: failed command: READ DMA
[  122.169125] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.176059] ata1.00: status: { DRDY }
[  122.177753] ata1.00: error: { AMNF }
[  122.181153] ata1.00: configured for MWDMA2
[  122.181157] ata1: EH complete
[  122.181161] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.188182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.191042] ata1.00: failed command: READ DMA
[  122.193011] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.199765] ata1.00: status: { DRDY }
[  122.201451] ata1.00: error: { AMNF }
[  122.205038] ata1.00: configured for MWDMA2
[  122.205042] ata1: EH complete
[  122.205046] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.212181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.214983] ata1.00: failed command: READ DMA
[  122.216919] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.223796] ata1.00: status: { DRDY }
[  122.225473] ata1.00: error: { AMNF }
[  122.228817] ata1.00: configured for MWDMA2
[  122.228821] ata1: EH complete
[  122.228824] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.236181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.239042] ata1.00: failed command: READ DMA
[  122.240992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.247838] ata1.00: status: { DRDY }
[  122.249644] ata1.00: error: { AMNF }
[  122.253046] ata1.00: configured for MWDMA2
[  122.253050] ata1: EH complete
[  122.253053] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.260230] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.263202] ata1.00: failed command: READ DMA
[  122.265157] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.271931] ata1.00: status: { DRDY }
[  122.273593] ata1.00: error: { AMNF }
[  122.276935] ata1.00: configured for MWDMA2
[  122.276942] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.276944] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.276946] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.276948] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.276950] blk_update_request: I/O error, dev sda, sector 17054535
[  122.279691] ata1: EH complete
[  122.281174] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.292174] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.294974] ata1.00: failed command: READ DMA
[  122.296937] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.303624] ata1.00: status: { DRDY }
[  122.305293] ata1.00: error: { AMNF }
[  122.308664] ata1.00: configured for MWDMA2
[  122.308668] ata1: EH complete
[  122.308672] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.316179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.318990] ata1.00: failed command: READ DMA
[  122.320992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.327694] ata1.00: status: { DRDY }
[  122.329335] ata1.00: error: { AMNF }
[  122.332694] ata1.00: configured for MWDMA2
[  122.332699] ata1: EH complete
[  122.332702] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.340182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.343040] ata1.00: failed command: READ DMA
[  122.344996] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.351697] ata1.00: status: { DRDY }
[  122.353346] ata1.00: error: { AMNF }
[  122.356693] ata1.00: configured for MWDMA2
[  122.356697] ata1: EH complete
[  122.356700] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.364182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.367025] ata1.00: failed command: READ DMA
[  122.368979] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.375816] ata1.00: status: { DRDY }
[  122.377519] ata1.00: error: { AMNF }
[  122.380862] ata1.00: configured for MWDMA2
[  122.380867] ata1: EH complete
[  122.380870] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.388191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.391053] ata1.00: failed command: READ DMA
[  122.393035] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.399784] ata1.00: status: { DRDY }
[  122.401446] ata1.00: error: { AMNF }
[  122.404786] ata1.00: configured for MWDMA2
[  122.404790] ata1: EH complete
[  122.404794] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.412182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.415017] ata1.00: failed command: READ DMA
[  122.416985] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.423764] ata1.00: status: { DRDY }
[  122.425421] ata1.00: error: { AMNF }
[  122.428751] ata1.00: configured for MWDMA2
[  122.428757] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.428759] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.428761] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.428763] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.428764] blk_update_request: I/O error, dev sda, sector 17054535
[  122.431550] ata1: EH complete
[  122.433040] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.444171] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.446956] ata1.00: failed command: READ DMA
[  122.448939] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.455661] ata1.00: status: { DRDY }
[  122.457322] ata1.00: error: { AMNF }
[  122.460729] ata1.00: configured for MWDMA2
[  122.460734] ata1: EH complete
[  122.460738] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.468176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.471049] ata1.00: failed command: READ DMA
[  122.473032] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.479660] ata1.00: status: { DRDY }
[  122.481357] ata1.00: error: { AMNF }
[  122.484669] ata1.00: configured for MWDMA2
[  122.484673] ata1: EH complete
[  122.484676] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.492180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.494979] ata1.00: failed command: READ DMA
[  122.497031] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.503697] ata1.00: status: { DRDY }
[  122.505371] ata1.00: error: { AMNF }
[  122.508734] ata1.00: configured for MWDMA2
[  122.508739] ata1: EH complete
[  122.508742] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.516184] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.518988] ata1.00: failed command: READ DMA
[  122.520968] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.527650] ata1.00: status: { DRDY }
[  122.529319] ata1.00: error: { AMNF }
[  122.532685] ata1.00: configured for MWDMA2
[  122.532689] ata1: EH complete
[  122.532692] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.540185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.543046] ata1.00: failed command: READ DMA
[  122.544992] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.551700] ata1.00: status: { DRDY }
[  122.553362] ata1.00: error: { AMNF }
[  122.556700] ata1.00: configured for MWDMA2
[  122.556704] ata1: EH complete
[  122.556707] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.564180] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.567048] ata1.00: failed command: READ DMA
[  122.569017] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.575706] ata1.00: status: { DRDY }
[  122.577384] ata1.00: error: { AMNF }
[  122.579968] ata1.00: configured for MWDMA2
[  122.579975] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.579977] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.579979] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.579981] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.579983] blk_update_request: I/O error, dev sda, sector 17054535
[  122.582909] ata1: EH complete
[  122.585563] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.596170] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.599045] ata1.00: failed command: READ DMA
[  122.601012] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.607804] ata1.00: status: { DRDY }
[  122.609460] ata1.00: error: { AMNF }
[  122.612853] ata1.00: configured for MWDMA2
[  122.612858] ata1: EH complete
[  122.612861] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.620181] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.623127] ata1.00: failed command: READ DMA
[  122.625100] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.631856] ata1.00: status: { DRDY }
[  122.633563] ata1.00: error: { AMNF }
[  122.636988] ata1.00: configured for MWDMA2
[  122.636992] ata1: EH complete
[  122.636995] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.644182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.646966] ata1.00: failed command: READ DMA
[  122.648916] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.655623] ata1.00: status: { DRDY }
[  122.657304] ata1.00: error: { AMNF }
[  122.660657] ata1.00: configured for MWDMA2
[  122.660661] ata1: EH complete
[  122.660664] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.668176] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.671051] ata1.00: failed command: READ DMA
[  122.672990] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.679622] ata1.00: status: { DRDY }
[  122.681308] ata1.00: error: { AMNF }
[  122.684617] ata1.00: configured for MWDMA2
[  122.684621] ata1: EH complete
[  122.684625] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.692189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.695037] ata1.00: failed command: READ DMA
[  122.697014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.703758] ata1.00: status: { DRDY }
[  122.705425] ata1.00: error: { AMNF }
[  122.708771] ata1.00: configured for MWDMA2
[  122.708776] ata1: EH complete
[  122.708779] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.716178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.718966] ata1.00: failed command: READ DMA
[  122.720929] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.727638] ata1.00: status: { DRDY }
[  122.729305] ata1.00: error: { AMNF }
[  122.732686] ata1.00: configured for MWDMA2
[  122.732692] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.732694] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.732696] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.732698] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.732699] blk_update_request: I/O error, dev sda, sector 17054535
[  122.735478] ata1: EH complete
[  122.736826] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.744172] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.747067] ata1.00: failed command: READ DMA
[  122.749028] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.756004] ata1.00: status: { DRDY }
[  122.757672] ata1.00: error: { AMNF }
[  122.761280] ata1.00: configured for MWDMA2
[  122.761284] ata1: EH complete
[  122.761288] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.772168] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.775007] ata1.00: failed command: READ DMA
[  122.776977] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.783651] ata1.00: status: { DRDY }
[  122.785339] ata1.00: error: { AMNF }
[  122.788674] ata1.00: configured for MWDMA2
[  122.788678] ata1: EH complete
[  122.788682] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.796185] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.798991] ata1.00: failed command: READ DMA
[  122.800977] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.807690] ata1.00: status: { DRDY }
[  122.809365] ata1.00: error: { AMNF }
[  122.812737] ata1.00: configured for MWDMA2
[  122.812742] ata1: EH complete
[  122.812745] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.820186] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.823076] ata1.00: failed command: READ DMA
[  122.825014] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.831710] ata1.00: status: { DRDY }
[  122.833394] ata1.00: error: { AMNF }
[  122.836701] ata1.00: configured for MWDMA2
[  122.836705] ata1: EH complete
[  122.836709] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.844187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.847014] ata1.00: failed command: READ DMA
[  122.849039] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.855730] ata1.00: status: { DRDY }
[  122.857442] ata1.00: error: { AMNF }
[  122.860781] ata1.00: configured for MWDMA2
[  122.860785] ata1: EH complete
[  122.860788] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.868169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.871076] ata1.00: failed command: READ DMA
[  122.873046] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.879768] ata1.00: status: { DRDY }
[  122.881455] ata1.00: error: { AMNF }
[  122.884767] ata1.00: configured for MWDMA2
[  122.884774] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  122.884776] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  122.884777] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  122.884780] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  122.884781] blk_update_request: I/O error, dev sda, sector 17054535
[  122.887536] ata1: EH complete
[  122.889061] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.900169] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.903012] ata1.00: failed command: READ DMA
[  122.904953] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.911515] ata1.00: status: { DRDY }
[  122.913169] ata1.00: error: { AMNF }
[  122.916490] ata1.00: configured for MWDMA2
[  122.916495] ata1: EH complete
[  122.916498] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.924187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.927028] ata1.00: failed command: READ DMA
[  122.928986] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.935702] ata1.00: status: { DRDY }
[  122.937359] ata1.00: error: { AMNF }
[  122.940673] ata1.00: configured for MWDMA2
[  122.940678] ata1: EH complete
[  122.940681] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.948174] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.951160] ata1.00: failed command: READ DMA
[  122.953093] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.959784] ata1.00: status: { DRDY }
[  122.961475] ata1.00: error: { AMNF }
[  122.964767] ata1.00: configured for MWDMA2
[  122.964771] ata1: EH complete
[  122.964775] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.972173] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.975026] ata1.00: failed command: READ DMA
[  122.976988] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  122.983664] ata1.00: status: { DRDY }
[  122.985432] ata1.00: error: { AMNF }
[  122.988741] ata1.00: configured for MWDMA2
[  122.988745] ata1: EH complete
[  122.988748] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  122.996175] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  122.999024] ata1.00: failed command: READ DMA
[  123.000998] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.007774] ata1.00: status: { DRDY }
[  123.009422] ata1.00: error: { AMNF }
[  123.014148] ata1.00: configured for MWDMA2
[  123.014152] ata1: EH complete
[  123.014155] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.020177] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.024078] ata1.00: failed command: READ DMA
[  123.026220] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.034027] ata1.00: status: { DRDY }
[  123.035917] ata1.00: error: { AMNF }
[  123.039599] ata1.00: configured for MWDMA2
[  123.039605] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  123.039607] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  123.039609] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  123.039611] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  123.039613] blk_update_request: I/O error, dev sda, sector 17054535
[  123.043180] ata1: EH complete
[  123.044504] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.056179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.060043] ata1.00: failed command: READ DMA
[  123.062248] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.069729] ata1.00: status: { DRDY }
[  123.071596] ata1.00: error: { AMNF }
[  123.075257] ata1.00: configured for MWDMA2
[  123.075262] ata1: EH complete
[  123.075265] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.084178] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.088208] ata1.00: failed command: READ DMA
[  123.090890] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.098572] ata1.00: status: { DRDY }
[  123.100522] ata1.00: error: { AMNF }
[  123.104304] ata1.00: configured for MWDMA2
[  123.104310] ata1: EH complete
[  123.104315] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.112193] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.116169] ata1.00: failed command: READ DMA
[  123.118582] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.126203] ata1.00: status: { DRDY }
[  123.128159] ata1.00: error: { AMNF }
[  123.131843] ata1.00: configured for MWDMA2
[  123.131847] ata1: EH complete
[  123.131850] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.136248] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.140217] ata1.00: failed command: READ DMA
[  123.142741] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.150288] ata1.00: status: { DRDY }
[  123.152213] ata1.00: error: { AMNF }
[  123.155864] ata1.00: configured for MWDMA2
[  123.155868] ata1: EH complete
[  123.155871] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.160182] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.164140] ata1.00: failed command: READ DMA
[  123.166818] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.174565] ata1.00: status: { DRDY }
[  123.176497] ata1.00: error: { AMNF }
[  123.180325] ata1.00: configured for MWDMA2
[  123.180330] ata1: EH complete
[  123.180336] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  123.188189] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  123.192582] ata1.00: failed command: READ DMA
[  123.195177] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  123.203172] ata1.00: status: { DRDY }
[  123.205242] ata1.00: error: { AMNF }
[  123.209128] ata1.00: configured for MWDMA2
[  123.209135] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  123.209137] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  123.209138] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  123.209140] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  123.209142] blk_update_request: I/O error, dev sda, sector 17054535
[  123.213283] ata1: EH complete
[  312.616219] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.624191] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.627049] ata1.00: failed command: READ DMA
[  312.629026] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:67:01:01/01:00:00:00:00/e1 Emask 0x40 (internal error)
[  312.636304] ata1.00: status: { DRDY }
[  312.638006] ata1.00: error: { AMNF }
[  312.641475] ata1.00: configured for MWDMA2
[  312.641482] ata1: EH complete
[  312.641490] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.648183] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.651359] ata1.00: failed command: READ DMA
[  312.653409] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.660341] ata1.00: status: { DRDY }
[  312.662033] ata1.00: error: { AMNF }
[  312.665533] ata1.00: configured for MWDMA2
[  312.665540] ata1: EH complete
[  312.665545] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.672198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.675240] ata1.00: failed command: READ DMA
[  312.677312] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.684388] ata1.00: status: { DRDY }
[  312.686071] ata1.00: error: { AMNF }
[  312.689834] ata1.00: configured for MWDMA2
[  312.689841] ata1: EH complete
[  312.689849] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.696179] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.699094] ata1.00: failed command: READ DMA
[  312.701113] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.708011] ata1.00: status: { DRDY }
[  312.709688] ata1.00: error: { AMNF }
[  312.713136] ata1.00: configured for MWDMA2
[  312.713143] ata1: EH complete
[  312.713148] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.720198] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.723110] ata1.00: failed command: READ DMA
[  312.725160] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.732139] ata1.00: status: { DRDY }
[  312.733828] ata1.00: error: { AMNF }
[  312.737305] ata1.00: configured for MWDMA2
[  312.737312] ata1: EH complete
[  312.737318] nommu_map_sg: overflow 107ff8000+4096 of device mask ffffffff
[  312.744187] ata1.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x0
[  312.747259] ata1.00: failed command: READ DMA
[  312.749283] ata1.00: cmd c8/00:08:47:3b:04/00:00:00:00:00/e1 tag 0 dma 4096 in
                        res 50/01:00:00:00:00/01:00:00:00:00/a0 Emask 0x40 (internal error)
[  312.757167] ata1.00: status: { DRDY }
[  312.758862] ata1.00: error: { AMNF }
[  312.762227] ata1.00: configured for MWDMA2
[  312.762239] sd 0:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[  312.762241] sd 0:0:0:0: [sda] tag#0 Sense Key : Medium Error [current] [descriptor]
[  312.762243] sd 0:0:0:0: [sda] tag#0 Add. Sense: Address mark not found for data field
[  312.762246] sd 0:0:0:0: [sda] tag#0 CDB: Read(10) 28 00 01 04 3b 47 00 00 08 00
[  312.762248] blk_update_request: I/O error, dev sda, sector 17054535
[  312.765149] ata1: EH complete"

Amazon EC2	"How much am I paying to store an AMI?
I am trying to figure out what size a private AMI is as it sits in our AMI registry.  I can see what size it is when it is launched, but as I understand it, the images are compressed and unwritten blocks are not stored. 

I don't see the size data in the dashboard nor the ec2 describe-instances API.  It is also my understanding that we are paying to store these as s3 objects, but I don't know how to access the metadata for them via s3, either.

Thanks for your help."

Amazon EC2	"172.31.0.2 not resolving sella.it
hello,
since few hours 172.31.0.2 is not able to lookup any *.sella.it hosts, which is a payment gateway provider.

nslookup  sella.it
;; connection timed out; no servers could be reached

nslookup  ecomm.sella.it
;; connection timed out; no servers could be reached

is the service provider blocking queries from within AWS? rests seems to work.

thanks

Edited by: net2bbb on Jun 28, 2016 5:35 AM"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
Hello,

Could you please try telnet to to AWS provided DNS at port 53? If you are able to do telnet and resolve this domain from external dns server then i would suggest you to do an insatnce stop/start.

Regards,
Umair A."

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
hello,
I can connect on 53 and resolve pretty much anything, just sella.it is failing, rebooting the instance didn't help unfortunately.

thanks,
c

Edited by: net2bbb on Jun 28, 2016 6:58 AM"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
Hi,

Could you please give us the instance id? Did you reboot or perform instance stop/start?. 

Please share the output of dig query first with internal AWS dns and then public dns 8.8.8.8. If there's a problem with underlying host then Instance stop/start should resolve the issue.

Regards,
Umair A."

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
hello,
it's happening on all machines, but we rebooted this one: i-97ef4a3a
we rebooted the instance through the operating system, ubuntu, sudo reboot, and now we halted it through `shutdown -h now`, verifying that in AWS console the instance was in STOPPED state.

the problem is still there.

is that enough? do we need to stop the instance purely through the AWS console?

thanks,c"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
here's the dig output

ubuntu@ip-xxx:~$ dig ecomm.sella.it
(big pause)
;; global options: +cmd
;; connection timed out; no servers could be reached

----

ubuntu@ip-xxx:~$ dig @8.8.8.8 ecomm.sella.it
; <<>> DiG 9.9.5-3ubuntu0.8-Ubuntu <<>> @8.8.8.8 ecomm.sella.it
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 25887
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;ecomm.sella.it.			IN	A

;; ANSWER SECTION:
ecomm.sella.it.		4648	IN	A	213.218.53.1

;; Query time: 16 msec
;; SERVER: 8.8.8.8#53(8.8.8.8)
;; WHEN: Tue Jun 28 14:21:02 UTC 2016
;; MSG SIZE  rcvd: 59

Edited by: net2bbb on Jun 28, 2016 7:22 AM"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
dig of unrelated host through internals dns on the same machine:

ubuntu@ip-xxx:~$ dig ansa.it
; <<>> DiG 9.9.5-3ubuntu0.8-Ubuntu <<>> ansa.it
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 17479
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;ansa.it.			IN	A

;; ANSWER SECTION:
ansa.it.		135	IN	A	194.244.5.206

;; Query time: 0 msec
;; SERVER: 172.31.0.2#53(172.31.0.2)
;; WHEN: Tue Jun 28 14:22:52 UTC 2016
;; MSG SIZE  rcvd: 52

Edited by: net2bbb on Jun 28, 2016 7:23 AM

Edited by: net2bbb on Jun 28, 2016 7:24 AM"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
hello,
we got a reply from Sella telling us they are experiencing some unspecified network troubles, I don't think it has something to do with AWS in the end.

thanks,
claudio"

Amazon EC2	"Re: 172.31.0.2 not resolving sella.it
Thank you for the update Claudio. Let us know if you require any further assistance.

Regards,
Mohsin"

Amazon EC2	"AMI image ami-a0f730c0 stuck at pending
Hello -

My AMI image is stuck in the pending state - ami-a0f730c0.  Can someone check on it for me?

Thanks.

-josh"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
Hello,

I have reached out to our EC2 team to investigate this issue. We will get back to you as soon as we have an update.

Cheers
Truptesh"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
Hello again,

I just heard back from the EC2 team. Can you please try creating the AMI (with no reboot) again? Please let me know if you run into any other issues.

Best,
Adolfo M."

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
I tried again and it is also stuck in the pending state. Can you check on ami-c62ee9a6?  Thanks."

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
Hello,

I see the AMI is in failed state, Could you please give us the instance id from which this image was created? The issue seems to be intermittent and has been resolved already, please let us know if you are still unsuccessful in creating image.

Regards,
Umair A."

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
Hi Umair -

The instance id is i-e2485ee9.  I'll try the AMI again.

Thanks.

-josh"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
Hello Josh,

Thank you for providing instance ID. I have informed our team to investigate the issue and will keep you posted with any updates we have. Let us know if you have any updates from your end.

Thanks,
Jay"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
I tried two additional AMIs and they're also stuck in pending - ami-57ca0c37 and ami-19b27479"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
...

Edited by: joshunger on Jun 27, 2016 9:16 PM"

Amazon EC2	"Re: AMI image ami-a0f730c0 stuck at pending
The AMIs are working again.  Thank you for the help."

Amazon EC2	"no pg_upgrade for aws postgresql94?
Does AWS intentionally not package this?  WE have a 9.3 instance I need to upgrade in order to use the new RDS migration too.  But ... I installed postgresql94* and there is no pg_upgrade installed."

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
Hi,

Our team is aware of this request, and will work to bring it into a future repository update. We can't provide an ETA right now, but we'll return to this thread once it is available.

Thanks!"

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
Be aware that the RDS migration tool you just released requires PG at the level of 9.4!  So you are blocking people from using that service to migration to RDS.  I hope you include it soon."

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
This is exactly what I am trying to do. I have a Postgresql 9.1 DB and I wanted to import it into RDS using the data migration tool but it kindly tell you that you need version 9.4 or above. 

I then wanted to run pg_upgrade on our system to upgrade to 9.4 but it is not included in the Amazon Repo! Useful!

Can you add this as ASAP please?"

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
Any update on this?  Why didn't AWS package pg_upgrade for 9.4 -- it's in other postgres packages! Please release this ASAP so I can update and then migrate."

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
I would like an update on this also. I really want to move our Postgres 9.1 DB over to 9.4 so I can migrate it into RDS"

Amazon EC2	"Re: no pg_upgrade for aws postgresql94?
This has gone very quiet. Has this been done yet? If not, do we have an ETA?"

Amazon EC2	"Cannot import vm runs Ubuntu 16.04
I tried to import my VM image (ubuntu 16.04 version) to EC2. And wants to run this image on Amazon EC2. However, I got below error message at import task.

            ""StatusMessage"": ""ClientError: Unsupported kernel version 4.4.0-24-generic"",
            ""ImportTaskId"": ""import-ami-fh5aa4so""

I checked the Prerequisites (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html) and found EC2 only supports up to 15.04.

May I know when 16.04 version will be available to upload? Thanks.

Edited by: jameszyzhang on Jun 27, 2016 10:50 PM"

Amazon EC2	"Re: Cannot import vm runs Ubuntu 16.04
Hello,

We do not have any ETA for newer version support,  However new operating system releases are definitely on our road map.

Regards,
Umair A."

Amazon EC2	"I cannot connect my ec2 machine-time out problem.
Recently, I launched 3 ec2 machines in oregon region.

To connect the machines, I made a key pair and generate ppk file using puttygen.

Also, I checked my security groups to connect it - I opened the port 22 and my ip.

But I couldn't connect ec2 machines. So, I read the time out docs and handled the machines as doc said but it didn't make it.

I don't know what to do. So please let me help to connect ec2 machines.

Each machines os are ubuntu and emr 4.7.1.

ubuntu machine id is i-099e582555850e19e, emr master id is i-099e582555850e19e and core id is i-099e582555850e19e."

Amazon EC2	"Re: I cannot connect my ec2 machine-time out problem.
Hello,

Please see below document for connecting to Linux instances. login user is ""ubuntu"" for ubuntu instances.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html

If you could give us the error that you are seeing then we will be able to troubleshoot and help you solving your issue.

Regards,
Umair A."

Amazon EC2	"Can not log to my new ec2 instance
Hi,

I removed my key.pem by mistake moved to trash and then restore it to ~./
Now I have tried this before logging to my instances:

chown myusername:mygroupname key.pem
chmod 400 key.pem

Like this I can log to all my old instances except all the newly created ones. I have a timeout:

ssh -vvv -i ""key.pem"" ubuntu@x-x-x-x.eu-west-1.compute.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-x-x-x-x.eu-west-1.compute.amazonaws.com http://x.x.x.x port 22.

What should I do in this case ?"

Amazon EC2	"Unreachable instance on 27th June 5:11 to 5:37pm UTC - Network issue?
Hi did anyone have any problems accessing their instances yesterday evening?

Our dashboard shows both system and instance checks failed with no data in the dashboard for network/cpu/disk for that 26 second window.

The instance (i-dd63ff3a) did not reboot, or appear to have any issues - all network access was ceased during this time.

Is there a way I can find out what happened as my customers using this live system are demanding an answer. 

Many thanks!

Tony

Edited by: rsatoc on Jun 28, 2016 1:18 AM"

Amazon EC2	"Re: Unreachable instance on 27th June 5:11 to 5:37pm UTC - Network issue?
Hello,

I have checked your instance and i can see why there was a drop in network, cpu and status check failure. Your instance was scheduled for network maintenance on Mon Jun 27 from 2016 16:00:00 GMT+0000 to Mon Jun 27 2016 20:00:00 GMT+0000 and it has been completed now.

Regards,
Umair A."

Amazon EC2	"Re: Unreachable instance on 27th June 5:11 to 5:37pm UTC - Network issue?
Thanks for the reply!

However - we never received notification at all! 

we had a previous notification for work on 2016-05-24 15:00. Nothing for the 27th June at all!

Also the Dashboard did not indicate that there was scheduled maintenance when reviewing the instance (which normally happens).

Could this be looked into why no notifications where in place?

Thanks

Tony"

Amazon EC2	"ELB Disable TLS 1.0
Hello,

We have a PCI security scan that is failing apparently due to our ELB supporting TLS 1.0.  The scan recommends we configure to only support TLS 1.1 and 1.2.  Is there a way to do this?  The console and all documentation I have seen show how to support TLS 1 as a whole with no specifics on sub versions.

Thanks for any info."

Amazon EC2	"Re: ELB Disable TLS 1.0
You can update TLS / SSL protocols and ciphers from the AWS console. View the Listeners tab of your ELB and click Change in the Ciphers column. (Of course, you can do this through the API as well.)

You'll have to create a custom policy because they haven't issued a predefined policy that disables TLSv1.0. I'm sure that's because the predefined policies are supposed to be best practices, and disabling TLSv1.0 will cut off a lot of actual users."

Amazon EC2	"Re: ELB Disable TLS 1.0
Jason_ll summarized this quite nicely, and you can read more on ELB SSL configuration here: 
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-ssl-security-policy.html

Regards,
Nick"

Amazon EC2	"Re: ELB Disable TLS 1.0
While you're here, can you say anything about AWS's plans for TLSv1.0 going forward? Will it be removed from Predefined SSL Security Policies at some point, now that it's incompatible with the latest PCI DSS?"

Amazon EC2	"Re: ELB Disable TLS 1.0
Now that the deadline is only a few days away we are going to have to create a custom policy but I too am curious as to when AWS will be dropping TLS 1.0 in the managed policies.  Custom policies can become a pain to maintain over time."

Amazon EC2	"Re: ELB Disable TLS 1.0
Hello,

We can not comment on service feature plans. AWS is committed to improve customer experience and i can tell you that internal teams are working on further service enhancement.

Regards,
Umair A."

Amazon EC2	"EC2 and Apache HTTPD no access via IP but via DNS name
I have some trouble with my EC2 instance. I have a normal Amazon Linux with the standard Apache HTTPD. My problem is that I can't access the HTTPD via IP address from the ""normal internet"" (e.g. http://123.123.123.123/), but when I'm using the DNS provided by Amazon everything works fine (e.g. ec2-123-123-123-123.eu-central-1.compute.amazonaws.com). It is also possible access other services (like Oracle) via IP and  DNS name.

Have anyone an ideas what could be wrong their?

Best regards, Johannes."

Amazon EC2	"Policy to restrict launching of EC2 instance count to 2
Hello,

How can i write an IAM policy which will restrict user to launch only 2 EC2 instances that too of specific types?"

Amazon EC2	"New Spot Request Console Question
I noticed that there doesn't seem to be an option to specify a placement group or a launch group when creating spot requests using the new Spot Request Console.  While accessible from the old console, it's impending deprecation is somewhat concerning considering the new console doesn't seem to provide this functionality.  Am I not finding these features in the new console, or are they just missing?

HPC (as high-performance as one can get with he current state of cloud computing goes...) users attempting to create new homogenous clusters tend to rely on placement groups to ensure the best possible network is available for the procured instances.  Launch groups were also useful to ensure that the cluster doesn't get launched piecemeal, and all instances are launched simultaneously.

Thanks!"

Amazon EC2	"Re: New Spot Request Console Question
Hi Zachary,
We appreciate the need for placement groups and launch groups for HPC clusters, and these will continue to be supported for Spot instances via the EC2 Launch Instance Wizard as well as the old Spot console, which will not be deprecated until these features are available in the new Spot Requests console. They will also continue to be available via the RequestSpotInstances API.

Regards,
Anu"

Amazon EC2	"Amazon Linux Packaged Tomcat Bug
I've recently upgraded my Amazon Linux boxes which upgrades tomcat from 8.0.30-1.58.amzn1 to 8.0.32-1.59.amzn1.

However, my application that runs on those tomcat instances is affected by this bug:  https://bz.apache.org/bugzilla/show_bug.cgi?id=58999 and so I have to downgrade those packages and hold them back.

This bug is already fixed in 8.0.33 https://tomcat.apache.org/tomcat-8.0-doc/changelog.html - but should I think about manually installing tomcat on these instances, or will Amazon likely package 8.0.33 soon anyway?"

Amazon EC2	"Re: Amazon Linux Packaged Tomcat Bug
Hello,

I have asked service team about the latest package availability information. We will update this thread once more information is available to us.

Regards,
Umair A."

Amazon EC2	"Re: Amazon Linux Packaged Tomcat Bug
Hello

The service team confirmed the the latest version is due to be updated during the next updates push.

No ETA, but expected soon."

Amazon EC2	"Re: Amazon Linux Packaged Tomcat Bug
David,
Tomcat version 8.0.35 is now available in the Amazon Linux AMI repositories. To install it run:
sudo yum install tomcat8

If you have any further questions please let us know. 
-Heath"

Amazon EC2	"SSH reports ""connection refused"" but webapps are running fine
My s1.esignforms.com server (IP 52.41.52.236) is no longer responding to SSH requests.  It appears to be a stopped or the blocked as the connection failure error occurs immediately:

ssh: connect to host s1.esignforms.com port 22: Connection refused

Is there any AWS console login capability to troubleshoot this?  It was booted on June 8th and the system logs show nothing unusual to me:

Starting sshd:   OK  
ntpdate: Synchronizing with time server:   OK  
Starting ntpd:   OK  
Starting sendmail:   OK  
Starting sm-client:   OK  
Starting crond:   OK  
Starting atd:   OK  
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Wed, 08 Jun 2016 21:52:36 +0000. Up 10.17 seconds.
Cloud-init v. 0.7.6 finished at Wed, 08 Jun 2016 21:52:36 +0000. Datasource DataSourceEc2.  Up 10.27 seconds
Amazon Linux AMI release 2016.03
Kernel 4.4.11-23.53.amzn1.x86_64 on an x86_64
s1 login:"

Amazon EC2	"Re: SSH reports ""connection refused"" but webapps are running fine
Would be nice to have some sort of console login that would allow access even when SSH is not running.  I don't see any errors that indicate why SSH stopped working, but a reboot resolved it.  Perhaps it's related to the updated kernel that was part of a recent 'yum update' but I didn't reboot right then?  Anyway, I'm connected again, so all is good for me now."

Amazon EC2	"Instance Reachability Check Fails Quite Often
Hi,

I keep running into an issue where every single new instance I create fails the reachability check the first time the EC2 is launched.  Also, there have been occasions to where my instance is running fine and I stop it and start it the next day and it will fail the reachability check.  

Anytime the I can recover the instance, it shows a BSOD message in Windows Server 2008.  Am I missing something?  Is this the norm?  My availability zones are either us-east-1b or us-east-1b.  Am I launching into a failed host each time?  Any explanation would be appreciated."

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
Hello,

Do you have an example instance ID that we can check? Also which AMI are you using for your instances that you are launching.

Best,

Matt J"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
The most recent  instance was i-e97dd78d.  For all the instances, i have been using 

AMI: Windows_Server-2008-SP2-English-32Bit-Base-2012.02.24 

Thanks"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
Hello,

I was not able to reproduce any issues with my instance using the AMI provided. Are you sure there were no changes made to the instance once started that could have caused it to become unreachable?

I suggest next time an instance becomes unreachable please let us know and we will take a look before you terminate. Please also check the output of the system logs and post anything fishy here for us to look at.

Best,

Matt J"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
I've been getting the problem the first time I launch the instance with no changes made.  The system logs are always blank.  I'll provide an update tomorrow if it happens again, which should be likely given my experience the last couple of days.

Thanks"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
I just launched 3 instances of the same AMI previously stated and 2 have failed the reachability check.  There IDs are:

i-2be85a4f
i-35e85a51"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
Hello,

Both instances mentioned appear to be passing checks currently. Since they are part of a VPC network it may be worth mentioning to check your route tables and internet gateway to make sure they are setup correctly.

Best,

Matt J"

Amazon EC2	"Re: Instance Reachability Check Fails Quite Often
It has been some time, but just as an FYI the instances I had a problem with years ago were running on hardware that failed.  Ultimately when my instances did work they showed in the their logs that they had just recovered for a BSOD."

Amazon EC2	"Instance reachability check failed
Hi Team,

We are experiencing ""Instance reachability check failed"" regularly on our instance i-453cd08a, nothing has changed on our server setting recently, and we have been checking the System Log, but cannot get any useful information. Could somebody help us to check this further?

Thanks in advance."

Amazon EC2	"Re: Instance reachability check failed
Hi,

It just happened last day, our instance went to "" Instance reachability check failed "" without any reason, and it got back after several reboots. Anyone can help us to check on this or give any detailed information?

Thanks!"

Amazon EC2	"Re: Instance reachability check failed
Hi EC2 Team,

Can anybody check this? It happened again today.

Thanks in advance."

Amazon EC2	"EC2 Instance Stuck in STOPPING State
#EC2 #AWS team, I have an instance stuck in the STOPPING state.
EC2 Instance ID: i-61dbe241 .

Please help, Force stop didn't work, need it stopped so I can get it back and running."

Amazon EC2	"Re: EC2 Instance Stuck in STOPPING State
Hello,

Instance has been stopped already.

Regards,
Umair A."

Amazon EC2	"MQTT in t2.micro only 4000 concurrent connections?
I have deployed an Mosca MQTT in a t2.micro core AMI linux.
With my test, the application only can establish 4000 concurrent TCP connections.
The CPU is about 0.1% and Memory is about 24%. (ec2-user  2608  0.1 24.0 1311160 244872 ?      Ssl  Jun16  29:42 node /home/ec2-user/MQTT/mosca-app.js).
From physical resource perspective, i should be able to establish more connections.
How can i increase the limit?"

Amazon EC2	"EC2 instance stuck in shutting-down state
Hello,

We have received a hardware degradation warning from AWS:

Instance-ID: i-c897bb71 in the eu-west-1 region

We have terminated the instance, but it is stuck in shutting-down state.

Any help would be appreciated."

Amazon EC2	"Re: EC2 instance stuck in shutting-down state
The instance i-c897bb71 has reached the terminated state.

Thank you."

Amazon EC2	"Re: EC2 instance stuck in shutting-down state
We have exactly the same issue. Our instance i-60988beb is stuck in Shutting down state. Probable the reason is failed ESB volume vol-ea3cc018 which is stuck in Detaching state.

Can both of these resource be destroyed?"

Amazon EC2	"How is the Elastic Load Balancing charged?
Hello,
I have a question about ""Elastic Load Balancing""
Here's from AWS Document of ELB: With Elastic Load Balancing, you only pay for what you use.
I'm a little confused, what's the meaning of ""pay for what you use""?
For example: I created 2 Load balancer called Load1 and Load2
In Load1: There are no instances registered to this load balancer
In Load2: There's one instance with status ""Out of Service"".

How would 2 of these Load balancing be charged?
I'm still thinking if there's no ""RUNNING"" instance (OutOfService), i wouldn't be charged. 
Am i right or wrong?"

Amazon EC2	"Re: How is the Elastic Load Balancing charged?
Hello,
the ELBs are charged for these two items:
1)  per Elastic Load Balancer-hour (or partial hour)
2)  per GB of data processed by an Elastic Load Balancer
https://aws.amazon.com/elasticloadbalancing/pricing/
These parameters are independent from the back-ends (number or state) that are charged anyway separately.
ELB are AWS resources that are anyway used even if you don't have instances behind them or if they are not working; if a DNS record points to the ELB can anyway generate traffic from clients from the internet and you e.g. will be charged for the traffic generated e.g for the HTTP errors.

To be more clear, you can read this  as ""you pay when you use it"" if this suits better for you.

Kind regards
Ale"

Amazon EC2	"Re: How is the Elastic Load Balancing charged?
Thank you for your answer."

Amazon EC2	"Seeing very poor network performance on instances
I am trying to bring up an Elasticsearch cluster on ECS utilizing the ec2 discovery aws plugin. I was noticing that my nodes weren't detecting each other. Upon investigation, I saw that call to the ec2 describe-instances endpoint were timing out. To verify I installed aws cli onto a few instances and manually ran the command:
 aws ec2 describe-instances --region=us-east-1 

Sure enough, I see intermittent results between requests that result in 

   ('The read operation timed out',)
 

and requests that take an average of 15-20 seconds to resolve. 

When I run this same command on my laptop, I notice that the request always resolves with 3-4 seconds. Any idea on what could be causing this slowness or how to diagnosis?"

Amazon EC2	"Re: Seeing very poor network performance on instances
Hi,

There could be quite a few things at work here. So, it's difficult to tell with the information that you've provided what exactly has gone on. Could you provide an instance id where this is happening? Is this an intermittent problem or is it consistent? Have you attempted a stop/start to eliminate the underlying host as the problem?

Here are a few factors that could be affecting the ability to perform these from connecting:

1.) underlying host
2.) OS load
3.) network load in the instance
4.) problems further up the network stack outside the host

To work around the issue, you could adjust the cli-read-timeout value. You may also need to adjust the client timeout value, too. Also, the time to run a describe call may take a while depending on how many requests are being made. However, from first look, it appears that since you are able to make the same call much faster on your laptop that there might either be extra load on the instance or something is affecting the underlying host. However, to know for sure, we would need the instance id."

Amazon EC2	"Ec2 instance intermittent  internel network connectivity loss
Hello,

    Our instance running c3.2xlarge running several tomcat instances looses network connectivity.
The JVM looses network connectivity to Oracle RDS ,web servers and several other APIs at the same time.
  We have to restart  the tomcat servers but after sometime the same issue occurs.
This behaviour happens randomly at any time.The JVM is healthy at all times and the cause as find in application errors is loss in connectivity to database and lots of broken pipes error.

Until now,i have stopped and started the instance,rebooted it from ssh but issue still occurs.
Instance details:i-adeebafb

Regards
Prashant"

Amazon EC2	"Re: Ec2 instance intermittent  internel network connectivity loss
Hi,

To better understand what is going on with you instance, I suggest the follow investigatory steps:

1.) run tcptraceroute to the oracle database. You can accomplish this with newer versions of traceroute via the -T flag. Here is a sample command:

traceroute -T aws.amazon.com 443


2.) nping. This is part of the nmap package and will allow you to run pings over tcp. Here is a sample for that as well:

nping --tcp -p 443 aws.amazon.com


3.)tcpdump. tcpdump will show any packet loss in the form of retransmissions and you can see a bit more of what is going on with networking as it comes off the wire. I suggest running this when you detect a problem for about a 2 minute timeframe.

tcpdump -G 120 -W 1 -w testfile.pcap


4.) look to see what is going on in the logs. What is the state of the OS memory? Is there something out of place in /var/log/messages, catalina.log, or other application logs?

5.) consider running an strace on the main pid for tomcat and see what it's doing. This may help determine if there are strange errors being thrown.

6.) Also, check your instance firewall (usually iptables) and see if it is gaining rules at some point that are blocking communication to the RDS instance.

*Note: you need to replace aws.amazon.com with the hostname of your RDS oracle instance. All the commands require sudo or root privileges to run.

If you see significant packet loss in either the nping or the tcpdump (you'll notice packet loss in the form of RST tags in the packet), then pass them to us and we can take a look at the network stack.

From what I can see right now, your instance and the underlying host look healthy. Also, since this appears to only affect the web stack and the connection to the RDS database, I suspect this is more likely an application-level issue since other systems (like ssh) are not affected.

If you'd like clarification on some of the steps, please feel free to reach out."

Amazon EC2	"FAQs perhaps have some outdated questions
Some FAQ questions seem to address obsolete concepts...

FAQ Question:
Q: What is the difference between using the local instance store and Amazon Elastic Block storage (Amazon EBS) for the root device?

Is it even possible anymore to use local instance store for the root device when launching an instance?

FAQ Question:
Q: What is an “EC2 Compute Unit” and why did you introduce it?

Are EC2 Compute Units still mentioned at all, for example in the description of instance types?"

Amazon EC2	"Ireland EC2 Instance Wordpress slows to a dribble
www.gds-trust.com
Ireland EC2 Wordpress was working fine with excellent load speed.
Now takes 2 minutes to load. 
Yesterday I tried a reboot. That worked. 

Now over my cereal this morning I find the site is back to the 2 minute load.
Have tried from different cities. No change
Tried a reboot. No change
No issues with network or speed

Why oh Why is this upsetting my day?"

Amazon EC2	"Get Elastic IP same as current IP address
I deployed a new instance 3 weeks ago, but I didn't assign an elastic IP with it. Now I want to associate an elastic IP with it because every time the server reboot, the public IP changes and that requires me to change the DNS record. Can I get an elastic IP same as my instance's current public IP address so that I can associate this IP to my instance and don't have to change the DNS record, therefore has mimimum impact to my users?"

Amazon EC2	"Re: Get Elastic IP same as current IP address
You will unfortunately need to obtain a new IP address, but there is a way to at least minimize the impact. Some time before you plan to switch to the Elastic IP, head into the DNS configuration and make sure the TTL for the affected A record(s) is/are set to the lowest possible value. That's likely 60 seconds. Then you need to wait for the old TTL to expire to ensure that no DNS information is cached out there. After that you can assign the Elastic IP to the EC2 instance (Warning: immediately replaces current IP) and update the DNS configuration with the new IP address. Any client who have the dynamic IP should theoretically see the new one within a minute."

Amazon EC2	"Why did the scp between EC2 instances slow down
Before the AWS maintenance, my instances work well. After they rebooted my instance of i-88169d24, the scp speed between i-7e779992 and i-88169d24 slows down dramatically. Copying a file from i-7e779992 to i-88169d24 costs me several minutes, and the speed is 10Kb/s or slower. How to resolve it? Thank you."

Amazon EC2	"How to setup Reverse DNS on an ELB using an Alias?
How can I setup reverse DNS on an ELB using an alias?

(using route53 for dns)"

Amazon EC2	"Re: How to setup Reverse DNS on an ELB using an Alias?
Hello Nicholas,
I am sorry but your request is not clear to me. Could you please clarify better or describe your specific use case?
You can create alias for the ELB DNS name, but of course you cannot create a PTR of an alias record.

Beside this you would lose the HA provided by ELB, that's why you should always point to the ELB DNS FQDN

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/using-domain-names-with-elb.html
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-internet-facing-load-balancers.html

Kind Regards
Ale"

Amazon EC2	"Re: How to setup Reverse DNS on an ELB using an Alias?
I need a Reverse DNS entry for a EC2 elastic IP sending PHP Mail notices out;

I cant seem to do this with an ELB. So i can never rDNS my Domain when used by an ELB?"

Amazon EC2	"Re: How to setup Reverse DNS on an ELB using an Alias?
Hello,

If I'm understanding you correctly...

Lets say you have a domain ""fish.com"" (sorry, was the first word to come into my head).

You have www.fish.com pointed to an ELB which points to two back end instances, lets call them i-12345678 and i-87654321.

What you would do here is create 'A' records for mail1.fish.com and mail2.fish.com and point them to your two instances. You would then ask us to set up reverse DNS records for those instances to match.

Does that make sense?

Richard"

Amazon EC2	"Accessing EC2 instance from Workspace
Hello,

I have setup Simple AD,   and Peered my VPC's to allow Workspace desktop to access an internal resource that I dont want visible to web.  Works great by IP address, but what I really want is to make sure the Workspace desktop can refer to things by name.   I also added an EC2 instance in the same subnet as the Workspace and launched it into the Domain.   The EC2 server has a share visible to workspace, however I can only see it by \\ipaddress\sharename.  

In a normal scenario,  I just set the host name and I can find the host by ping  or hostname  in windows explorer. Thats what I would normally do if I was on  a local network , but the host names also resolve to ping and when unc path  is used in Windows.  If I use the aws localhost name  ip_172_16_x_x.us-west2.compute.internal it works, but I assumed since I am using directory service the windows machine name would work, sadly not.

I greatly appreciate any feedback suggestions.


Lou"

Amazon EC2	"I can't remove Encrytion Keys from root account
Hello,
In my account under Encryption Keys appear o custom key which I have not created and which does not has an alias. 
The key description is ""Default master key that protects my EBS volumes when no other key is defined"". 
In the same time there is another key with the same description but which is managed by AWS and has as alias ""aws/ebs"". 
The problem is that I can't delete this key even with the Root account.  How can I get rid of this key?

Attached is a PrtScr with the console ( the problem key is the one with ID 1f0f20f5-06b1-4972-af2a-69bb81a7455e)"

Amazon EC2	"Re: I can't remove Encrytion Keys from root account
Hello,

The default master key(Alias aws/ebs) can not be modified or deleted. 

There is one AWS-managed key for each account for each service that is integrated with AWS KMS. This key is referred to as the default key for the service under your account. This key is used to encrypt data keys used by AWS services to protect data when you don't specify a CMK while creating the encrypted resource. Setting on this key cannot be modified to ensure the availability, durability and security of this key.

You have the option of selecting a specific master key to use when you want an AWS cloud service to encrypt data on your behalf. You can select your customer master key to encrypt your data.

References:
http://docs.aws.amazon.com/kms/latest/developerguide/concepts.html
https://aws.amazon.com/kms/faqs/

Regards,"

Amazon EC2	"Re: I can't remove Encrytion Keys from root account
Thank you for your reply.
I have read the KMS documentation and I understood the principles of CMK and Data Key. I also understood that when you use for the first time an AWS service KMS creates a default CMK for that service. 
My problem is that beside this ""aws/ebs"" default key in my account exist another key which does not have any alias and seems to be customer managed (manually edited) and not AWS managed (please see attached image).
But although it says it's custom edited when I try to delete it I get the following error message:
""We encountered the following errors while processing your request:
User: arn:aws:iam::849205111724:user/Paul is not authorized to perform: kms:ScheduleKeyDeletion on resource: arn:aws:kms:us-east-1:849205111724:key/1f0f20f5-06b1-4972-af2a-69bb81a7455e""
This seems to be normal because the key policy seems to not allow me to delete or modify this key.

My question is who generated this key as I never created an encrypted EBS volume, and most important how can I get rid of it, especially as far as I know the custom key are charged.

I really appreciate any answers or help"

Amazon EC2	"Re: I can't remove Encrytion Keys from root account
I experience the same issue. When my EBS-managed CMK was first created two additional keys with no alias but the same description and policy were created. I cannot delete these keys."

Amazon EC2	"VPN communication with internal EC2s and HIPAA
Hi.  First time question asker.  Feedback for my question-asking will be warmly received.

We are building a HIPAA compliant system, and that involves VPN connections to our customers.  My read of the AWS whitepaper on compliance (https://d0.awsstatic.com/whitepapers/compliance/AWS_HIPAA_Compliance_Whitepaper.pdf) is that communication between EC2s needs to be encrypted.  Does this mean that after packets are decrypted by the VPN and before they are forwarded to an applicaiton, they need to be re-encrypted?  I don't see this being a conventional practice, and I'm not sure if this would need to be supported by the VPN service or something at the server level.  Anyone have guidance on this?"

Amazon EC2	"Taking ages to do snapshot
I dont know whats going it but its taking ages to do a snapshot of my 200GB EBS volume.

The snapshot id is snap-103ea60c.
Its been stuck at 0% for past two hours"

Amazon EC2	"Re: Taking ages to do snapshot
Hello,

I see that the snapshot snap-103ea60c was completed on Jun 24 2016 at 14:39 UTC. Snapshots occur asynchronously; the point-in-time snapshot is created immediately, but the status of the snapshot is pending until the snapshot is complete (when all of the modified blocks have been transferred to Amazon S3), which can take several hours for large initial snapshots or subsequent snapshots where many blocks have changed.

Cheers
Truptesh"

Amazon EC2	"Unexpected Preference for EC2 Tomcat in Sticky Session Failover?
Hi there,

I'm running my application in an AWS environment - currently testing with two Tomcats running on EC2 instances behind an ELB. I am also using RDS for my database, and an Elasticache instance with two nodes. My goal is storing sessions in the memcached-backed Elasticache to ensure that a user isn't logged out in the event of a Tomcat failure.

So far, it works great, except for one small caveat. I have noticed that, after I stop one EC2 Tomcat and the application switches to serve requests to the other, if I bring the previous Tomcat back online, the switch happens again, and requests that were going to the second Tomcat now go back to the first. This is not how I'd expect sticky sessions to work, (I have app-based stickiness enabled on my ELB with cookie ""JSESSIONID"") and indeed, the following link from Amazon seems to directly refute the behaviour I have observed in my testing: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-sticky-sessions.html

""If an instance fails or becomes unhealthy, the load balancer stops routing requests to that instance, and chooses a new healthy instance based on the existing load balancing algorithm. The load balancer treats the session as now ""stuck"" to the new healthy instance, and continues routing requests to that instance even if the failed instance comes back.""

Is this likely to be a problem with my ELB/EC2 configuration, or should I delve into my own application to see what might be causing the issue? Anyone experienced this before?"

Amazon EC2	"Re: Unexpected Preference for EC2 Tomcat in Sticky Session Failover?
Hello,
I think that you should just use a different approach rather than just stopping your webserver engine.
E.g., in case of scheduled maintenance for your back-end servers, I would suggest you to de-register the instance from the ELB: this can be done using AWS console or AWS CLI:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-deregister-register-instances.html

If you just stop the service on the back-end instances, the ELB will fail the Health Checks, but ELB will continue monitor them as specified in the HC settings and then eventually decide to replace and spawn another one if you are working e.g also with AutoScaling groups.
But if you start again the service and the Health Check goes back to OK within the threshold specified in the HC, traffic will be again forwarded to all the healthy back-ends.

Sticky Connections can be configured in two different was:
1)     Duration-Based Session Stickiness
2)    Application-Controlled Session Stickiness
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-sticky-sessions.html

Hope this helps,
kind regards,
Ale

Edited by: AlessandroP@AWS on Jun 24, 2016 2:13 PM"

Amazon EC2	"Suggestion: Re. Retirement Notification
Hi,

Today I received an email with a retirement notification. Can I suggest that you also include the tags as part of the email. That's a lot more instructive to us than the instance id.

Thanks, Pierre"

Amazon EC2	"Re: Suggestion: Re. Retirement Notification
Hello Pierre,
thanks for the suggestion.
The Tags could have multiple or same entry for many different instances (e.g. think of a tag like TEST or PRODUCTION) while the instance ID is the only unique IDentifier for the instance.
In order to find it, you can just copy the instance ID in the email and set it as a filter in the EC2 Service Instance dashboard to quickly filter your instances."

Amazon EC2	"Unable to rebuild the environment
Hi Guys, 

I got a retirement notice for an EC2 server part of EBS.
I tried rebuilding the environment, but the server is now stuck at shutting down state. Please look into this asap. I need to be able to spawn a new instance of EBS at the earliest. 

Instance id: i-c2927748 
Zone : eu-west-1c

regards
Shankar

Edited by: instillo on Jun 23, 2016 8:38 AM"

Amazon EC2	"Re: Unable to rebuild the environment
Hello Shankar,
I see that now your Instance id: i-c2927748 is retired.
When you receive Retirement or Maintenance notification, I would suggest you to take an AMI and perform a Stop/Start (NOT reboot) of the instance, so that it will start on a fresh new hardware.
In these cases, please open a case with our Premium Support in order to get better support; forums are run on a best effort basis.

Kind regards
Ale"

Amazon EC2	"Wrong ACL applied
we have 3 servers, 1 of which we want to block internet traffic to and from.  We have 2 ACLs (one default, one custom) but when i apply to custom one to the subnet of the server i want traffic blocked from, the other 2 are affected.

Thoughts?

Thank you!"

Amazon EC2	"EC2 Reserved instances limit exceeded
Hi support,

I get the following error when trying to purchase 2 additional reserved instances to replace ones that are about to expire:

Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded)

Can that limit be raised or can you explain why I'm hitting this limit? How can I purchase new RIs to replace expiring ones without encountering this?

Thanks,
Greg

Edited by: Therusha@AWS on Jun 23, 2016 8:59 AM"

Amazon EC2	"Re: EC2 Reserved instances limit exceeded
Hi Greg,

Unfortunately, I am not able to find your AWS account. Could you please PM me your AWS account number so that we can take a look at this?

Alternatively, if you have paid support, you can open a support case requesting a limit increase for Reserved instances and we shall increase the limit for you.

Best Regards,
Pavithra K"

Amazon EC2	"Create a VPC that restricts external access
how can I Create a VPC that restricts external access to all but SSH to a single host. Access to all other hosts will only be allowed from this bastion host."

Amazon EC2	"Re: Create a VPC that restricts external access
This cloudfromation template might help you

http://www.cloudfreelancer.com/cloudformation-template-vpc-with-two-public-subnets-and-two-private-subnets/"

Amazon EC2	"Coninuous ELB error 5xx and increased average latency downing web sites
We experienced a very high amount of ELB 5xx errors while our instances do not show issues in their logs. We are noticing a high latency showed in ELB monitoring

awseb-e-a-AWSEBLoa-1JLDV5LH7RMVL

Can you please tell us, if that was a result of a DDoS ?"

Amazon EC2	"Re: Coninuous ELB error 5xx and increased average latency downing web sites
Hello,

We're very limited in the amount of troubleshooting we can do for ELBs on the forums, but here's some general information about this issue:

The latency metric for ELB is the time taken from when the ELB has completed sending the request to your backend until it receives the first byte back.  Therefore, latency should really be called ""Backend Latency"".

A better way to get a good view of what's happening is to enable the ELB Access Logs for your ELB.  Upon analysing these logs there are three latency metrics (http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/access-log-collection.html#access-log-entry-format).  The first being request latency - this is how long it has taken the ELB to process the incoming request.  The second is backend latency (which is what you see in the latency graph on CloudWatch) and the third is response latency, which is how long it has taken the ELB to process the response to the client.

I find the easiest way to parse these logs is to open them up in Excel as a space delimited file.  This will allow you to sort and filter the data easily.

The most likely cause of your latency issue is your backends either having issues of their own or getting overloaded.

I hope this helps.

Regards,

Matt W."

Amazon EC2	"Re: Coninuous ELB error 5xx and increased average latency downing web sites
some problems related to a elb api issues on us east region plus some app bugs."

Amazon EC2	"Unexpected bill during free trial period
Hi, I've just been evaluating AWS for a few days now and have tried to be very careful not to use any services that are not eligible for the free tier. I set an alarm at the start to let me know if I used any chargeable services by mistake. To begin with this was triggered by a charge for unattached elastic IP which I could not find. But just now the alarm has notified me of more charges pertaining to t2.micro instance and associated ebs which I thought was free. To the best of my knowledge I am using no services at present and would be grateful if any AWS rep could confirm this.

Thank you."

Amazon EC2	"Re: Unexpected bill during free trial period
Hello Edward, 
I am sorry to hear you are experiencing this issue. 

A limited number of customers who still qualify for our Free Tier Offer may notice incorrect charges for EC2 showing on their estimated bills at this time. We are aware of the issue and are currently working to resolve it. Please note that designated payment methods have not been charged.

Rgrds
javier C#"

Amazon EC2	"Expanding system disk on EC2 t2.large
Hello, 
I am new to AWS and this forum in general.

I am looking to expand my system disk on an t2.large instance. I have read the documentation from AWS and it says:
""Any data on any instance store volumes is erased. Therefore, if you have any data on instance store volumes that you want to keep, back it up to persistent storage."".

Since I want to make sure I do not lose any data, I want to make sure that this is not the case for my instance. How do I know if I can stop my instance without deleting any data? The instance has the system disk and another volume attached. 

If I am not giving enough info please ask questions and I will try to answer them."

Amazon EC2	"Allow user to only access/change EC2 Security Groups?
Hello all

Rookie with AWS here...

I've setup a server whereby users may only access if their IP is in the white list (as defined by our Security Group).

I'd like to create a user account for an admin to login to ONLY be able to modify the security group's Inbound IP address whitelist. That is, he/she should not have permission to modify the EC2 instance itself, or view S3 or any other part of AWS -- just the security group for this particular EC2 instance. 

Can anyone advise how I can configure this?

Thanks!"

Amazon EC2	"EC2 hang state
Server went offline around 90 minutes ago.
Console reports that the instance is failing both instance and system health checks.

Troubleshooting performed:
Attempted to stop instance. Stuck in stopping state.
Attempted to force stop instance, still stuck in stopping state.
Attempted to recreate instance by following procedures at http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html. Both procedures failed with errors below.
Create image method: Invalid value 'i-5616ff87' for instanceId. Instance is not in state 'running' or 'stopping' or 'stopped'.
Recreate volumes via snapshots of original volumes method: Root drive snapshot created successfully (vol-90584954), but second volume (vol-a59b6b62) failed snapshot creation with error ""Error creating Snapshot. An internal error has occurred."""

Amazon EC2	"Re: EC2 hang state
Sorry to hear you hit issues with your EC2 Instance. 

I ran a checkout now and I see the instance is up and running, please confirm if this situation is the same on your end. 

On the other hand, if the instance is ""shutting down"" all the behaviors you mentioned are expected. 
What we need to understand is why the instance took so long to graceful stop itself. 
It may have come due a process running within the instance and not being shutted down 
I can't see any underlying host failure that may have caused that on my end but I am diving deep into this to see if anything on our end could have caused the stucking state. 

On your end, please check the eventvwer logs searching for any abnormal behavior in any of the applications that were running at the moment of the shutdown

Thanks again for reach us and let us know if you have any further question or concern 
Cheers
Javier C#"

Amazon EC2	"Software for Backing Up EC2 Instances ?
Hi,

We are migrating Virtual Machines from vSphere to Amazon AWS.  We would like to look into Backup Software available for backing up EC2 Instances to S3 Buckets.

In addition, do we need any third party software for backing up RDS instances ?

Cheers"

Amazon EC2	"Re: Software for Backing Up EC2 Instances ?
Hello, 
thanks for reach us with this question. 

Regarding backup and restore strategies on the cloud, you don't need any third party software to engineer a solid solution to keep backups on AWS. 
Please take a look into the following paper https://d0.awsstatic.com/whitepapers/Backup_and_Recovery_Approaches_Using_AWS.pdf

Here you will find out a lot of useful tips and architecting solutions to have your backup and recovery covered up within AWS. 

Cheers
Javier C#"

Amazon EC2	"Not able to access Instance with ID - i-ca8d57ad
Hi Team,

We received a notification email today i.e. 22 June 2016 that EC2 instance with ID i-ca8d57ad is running on a degraded hardware and the hardware will get retired on 6th July 2016. However, we found that the instance was not accessible today even though its up. We tried shutting it down and now the instance is hung at shutting down state. 

Can you please check this out? We need to start the instance as it has SVN repositories of our projects.

--
Many Thanks,
Nikhil"

Amazon EC2	"Re: Not able to access Instance with ID - i-ca8d57ad
Hi Nikhil,

I see that the instance i-ca8d57ad is currently in stopped state. Could you please perform a start on your instance which will move the instance on a new underlying host. 

We apologize for the inconvenience caused to you due to the issue!

Thanks,
Avani"

Amazon EC2	"Re: Not able to access Instance with ID - i-ca8d57ad
Hi Avani,

Ok. I will try starting the instance and get back."

Amazon EC2	"Re: Not able to access Instance with ID - i-ca8d57ad
Hi Avni,

Instance is started successfully. I have shutdown it successfully in order to take image. However, request to create image is pending for almost half an hour. Can you please help on this?"

Amazon EC2	"Re: Not able to access Instance with ID - i-ca8d57ad
Hi,

Image has been successfully created and the instance is started back. Thanks !"

Amazon EC2	"Plesk on EC2
Hi,
I have installed Plesk on an EC2 instance (m1.small). The installation was smooth and successful and control panel is also working fine but the hosted website is displaying default Plesk page instead of website contents. However, when I preview website from Plesk it shows webstie contents perfectly. Can anybody please help in resolving the issue?

OS: CentOS 5.5
Plesk: 10.2

Thank you."

Amazon EC2	"Re: Plesk on EC2
Hi have you posted to the support forums on the Parallels site ""The people that make Plesk"" I have included a link to there site below.

http://www.parallels.com/uk/products/plesk/

I have done a quick internet search and I have found a link to a pre-built ami with Plesk preconfigured. I have included the link below
http://thecloudmarket.com/image/ami-3ec63757--cloudlinux-with-plesk-10#/definition

You could try contacting the AMI creator to see if they offer any howto's or set-up information that may suite your specific use case.

I hope this helps 

Regards
JasonM"

Amazon EC2	"Re: Plesk on EC2
Hi JasonM,
Thanks for the reply. I will try your suggested image but right now I am looking for the solution of Plesk Default Page issue. I think the problem is with the integration of Elastic IP into the Plesk. I have also posted my question on Plesk Forum but still couldn't get any solution yet. I think there is a minor configuration issue and anyone having good understanding of Plesk should be able to resolve it. Your cooperation is highly appreciated.

Thank you."

Amazon EC2	"Re: Plesk on EC2
Sorry I don't have personal experience working with Plesk hopefully someone from the community can share some of the wisdom with you.

Thanks
JasonM"

Amazon EC2	"Re: Plesk on EC2
I realise this is an old post. Here is the answer I got (and used successfully) from Plesk:
Go to Plesk control panel
Select 'Tools & Settings'
Select 'Tools & Resources'
Select 'IP Addresses'
Click 'Add IP Address'
Enter the local IP address and Subnet mask of your instance. If you do not know the subnet, connect to your instance via SSH and type 'ifconfig' at the command prompt:
user@1-2-3-4:~$ ifconfig

Enter the public IP address of your server. I use elastic IP for this.
If it's a dedicated server (ie, not a free tier or shared one) select dedicated, otherwise select Shared
Click OK
Now Plesk knows that you are behind the AWS NAT Router, and adjusts the default location to suit."

Amazon EC2	"[RESOLVED] Has anyone installed openthinclient on an AWS instance?
I'm trying to do so, but lack the nous to know what to type in the SSH terminal. I tried yum install openthinclient - but no.

Any suggestions?

Edited by: biggles991 on Jun 23, 2016 7:12 PM
The linux uses APT-Get not yum. Duh!"

Amazon EC2	"us-west-2 ubuntu mirror down?
http://us-west-2.ec2.archive.ubuntu.com/ubuntu/ gives 403 forbidden
http://us-west-1.ec2.archive.ubuntu.com/ubuntu/ works

edit: it's back as of 3:05 pm pacific time..

Edited by: arjunsingh on Jun 22, 2016 3:05 PM"

Amazon EC2	"I activated Firewall  VPS, but  not lauch instance more, help !
I activated Firewall Windows Server 2012 VPS , and then he disconnected alone and can no longer log into my VPS !!

I've been on Console EC2  already sent restart and stop and still not connecting more !!

Help!"

Amazon EC2	"How to connect 2 instances from 2 subnets via SSH/RDP via Private IP
Hi,

Does anyone know how I can connect to an instance from one subnet to an instance from another subnet (in the same region) via Private IP address using SSH or RDP?

How can 2 instances from different subnets see each other? I have already opened up the ports between them for RDP and SSH but still can't access each other.

Why they ended up in different subnets is because one is a Linux instance and the other is a Windows Server instance.

Is there anyway that I can allow them to see each other by setting security settings or other settings elsewhere?"

Amazon EC2	"Re: How to connect 2 instances from 2 subnets via SSH/RDP via Private IP
Hello

Instances in different subnets all belonging to the same VPC can see each other because of the routing tables that are configured on the subnets. In the routing tables related to your subnet you will find a ""local"" entry that basically says any communication based on private IP pass on locally within the VPC.

I have looked at your routing tables and it is correctly set up to enable communication between your two subnets within the single VPC. Next thing that can prevent communication are Security groups, and I believe it is here where you have a problem. I notice you lock down on both Ingress and Egress rules in your security groups for ports 22 and 3389. Normally it is best to only lock down based on ingress, and leave egress as default allow ALL, unless you want to lock down connections the instance can make on port 22 and 3389 to other instances.

I would recommend you temporarily add allow all as below to your egress rules, and then test again. If you are able to connect with this rule in place, relook your egress rules to allow two way communication if it is maybe blocked currently by some egress rules being set.

Protocol	Ports	Destination
ALL 	                        0.0.0.0/0"

Amazon EC2	"NetScaler VPX Marketplace AMI EBS volume locked
We are trying to upgrade our NetScaler installation, and took a snapshot prior to the process, in case something went wrong. There were issues and we are now trying to restore from that snapshot by creating a new volume and swapping, but we are running into this error when trying to attach:

"" Error attaching volume: The instance configuration for this AWS Marketplace product is not supported. Please see http://aws.amazon.com/marketplace/pp?sku=5vjsqlg4ol0hkr6aseu8mrdvc for more information about supported instance types, regions, and operating systems. ""

We have also attempted to attach the old volume, but run into the same issue.

Volume: vol-369c279c 
Snap used for creation: snap-13d38809
Instance: i-d78b2787"

Amazon EC2	"Re: NetScaler VPX Marketplace AMI EBS volume locked
Hello

In order to be able to mount a volume with an AWS Marketplace product code it needs to comply to the following prerequisites:


The volume can only be attached to a stopped instance.



You must be subscribed to the AWS Marketplace code that is on the volume.



The configuration (instance type, operating system) of the instance must support that specific AWS Marketplace code. For example, you cannot take a volume from a Windows instance and attach it to a Linux instance.



AWS Marketplace product codes are copied from the volume to the instance.


As per the error I looked at ""https://aws.amazon.com/marketplace/pp?sku=5vjsqlg4ol0hkr6aseu8mrdvc"", and found the supported Operating System is ""Linux/Unix, FreeBSD 6.3"", but instance  i-d78b2787 is a Windows platform instance. 

Accordingly it fails prerequisite number 3, as the operating systems are not the same (Windows vs Linux). 

Please mount it on another Linux instance created from exactly the same Marketplace code, and you should be able to mount it without any problems."

Amazon EC2	"How to set cipher suite order for ELB
How do I set the order of the cipher suites when configuring ELB? For instance, by default it is sorted by strength:

Cipher Suites (sorted by strength; server has no preference)
TLS_RSA_WITH_RC4_128_SHA (0x5)	 128
TLS_RSA_WITH_AES_128_CBC_SHA (0x2f)	128
TLS_RSA_WITH_3DES_EDE_CBC_SHA (0xa)	168
TLS_RSA_WITH_AES_256_CBC_SHA (0x35)	256

But I want to have it in this order:

Cipher Suites (SSLv3+ suites in server-preferred order, then SSLv2 suites where used)
TLS_RSA_WITH_RC4_128_SHA (0x5)	 128
TLS_RSA_WITH_AES_256_CBC_SHA (0x35)	256
TLS_RSA_WITH_AES_128_CBC_SHA (0x2f)	128
TLS_RSA_WITH_3DES_EDE_CBC_SHA (0xa)	168

I can't find a way with the aws console or command line to specify the order."

Amazon EC2	"Re: How to set cipher suite order for ELB
@AWS - What is the answer to this? The PCI compliance folks have now suddenly decided that this is important and won't give PCI compliance without the server (or the ELB) having a cipher preference.  

We need to be able to do the equiv of:

SSLHonorCipherOrder On
SSLCipherSuite RC4-SHA:HIGH

On the ELBs to be PCI compliant now as RC4 needs to be prioritized to pass the BEAST vulnerability scan. What is AWS doing to address this issue?"

Amazon EC2	"Re: How to set cipher suite order for ELB
So what's the word on this?"

Amazon EC2	"Re: How to set cipher suite order for ELB
Hello,

As of right now, you can't change the cipher ordering for ELB.
We are aware of this issue and have future plan to fix it but I don't have any timeline.

Please let us know if you have any question.

Thank,
Shashi."

Amazon EC2	"Re: How to set cipher suite order for ELB
Shashi - You don't have to fully allow custom cipher ordering. Just fix the ordering for the default "" ELBSample-ELBDefaultNegotiationPolicy"" policy, which I'm sure most people use, to put RC4 ciphers first as there is currently no order.

I'm sure that would be a lot easier to implement as a short term solution to cover a large number of customers then to create a way to setup a custom order. Right?"

Amazon EC2	"Re: How to set cipher suite order for ELB
Shashi, any update as per my last comment? Just please set the correct order so that it isn't BEAST vulnerable, no need to expose a way to let us change the order, just don't make it random and we're good.

-Chris"

Amazon EC2	"Re: How to set cipher suite order for ELB
Shashi - It's been 5 months and no response.

You don't have to fully allow custom cipher ordering. Just fix the ordering for the default "" ELBSample-ELBDefaultNegotiationPolicy"" policy, which I'm sure most people use, to put RC4 ciphers first as there is currently no order.

I'm sure that would be a lot easier to implement as a short term solution to cover a large number of customers then to create a way to setup a custom order. Right?"

Amazon EC2	"Re: How to set cipher suite order for ELB
Has there been any updates regarding this?"

Amazon EC2	"Re: How to set cipher suite order for ELB
Hello,

I have asked internal teams for further information on this issue. We will update this thread soon.

Regards,
Umair A."

Amazon EC2	"Re: How to set cipher suite order for ELB
Hello

It was confirmed with the service team that it is still not possible at this time to re-order the ciphers on an ELB.

This may or may not be released as a feature at some time but we cannot comment on feature timelines. 

If you absolutely must have a particular cipher ordering we recommend you configure TCP passthrough on your ELB with TCP:443 to TCP:443 and that way pass control for SSL configuration on to the backend instances. You will then be able to order ciphers on the backend instances to your own requirements."

Amazon EC2	"IAM Policy to create a single ec2 instance
How can I create a policy that will allow a single user in a group to create a single ec2 instance in a particular VPC and AZ. and it can be destroyed by the same user or destroyed when idle for more than 24 hours."

Amazon EC2	"Re: IAM Policy to create a single ec2 instance
Hello, 

I believe the following article covers exactly what you're looking for:
https://aws.amazon.com/premiumsupport/knowledge-center/iam-policy-restrict-vpc/

Regards,
Nick"

Amazon EC2	"Re: IAM Policy to create a single ec2 instance
Thankyou very much for the help Nick. Can you please help me with terminating the instance based on the idle time"

Amazon EC2	"Re: IAM Policy to create a single ec2 instance
Hello, 

The solution to that will vary on what you mean by ""idle"". IAM itself isn't going to terminate instances for you, so a scripted solution would need to be designed. This would likely be easiest run from the instance itself. A few considerations:

-You could grant permissions to the EC2 instance to allow it to terminate itself with IAM roles:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html

-With the inherited role you could run AWS CLI commands or any of our AWS SDKs to terminate itself. For example, you can read more on terminating instances with the AWS CLI tools here:
http://docs.aws.amazon.com/cli/latest/reference/ec2/terminate-instances.html

-And you could have the instance reference itself with metadata which you can read more on here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html

Another option would be to change the shutdown behavior for the EC2 instance to have it terminate itself on shutdown. You can read more on this here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior

With either of the above solutions in place for having the instance terminate itself, you'd simply need to script out a way for the instance to  verify if it meets whatever idle requirements you would have in place, then have it shutdown/terminate itself. 

Regards,
Nick"

Amazon EC2	"Unable to access instance via private IP
Hello,

I have a test instance set up with a private IP that I am not able to ping/rdp to from  my local network.
Things that I have verified:
 - My VPN connection shows available and both tunnels show as up.
 - Checked the route table for the subnet that the instance is on to verify that the Virtual Private Gateway is listed and shows as propagated.
 - The ACL is set to allow any inbound ports from any source.
 - The security group that the instance is a part of is also set to allow any inbound port from any source.

Any suggestions of what else I should look at?  Thanks."

Amazon EC2	"Re: Unable to access instance via private IP
Hello, 

A few things I would want to know are:

-Can you access other instances across this VPN connection? 
-Can you ping this private instance from another EC2 instance? (Perhaps using an instance with a public IP)
-Have you checked your local firewall/router security settings to verify it's allowing traffic from your subnet to your VPC's subnet and vice versa? 
-From your VPN terminating device, do you see egress/ingress traffic on the tunnel incrementing? 

Regards,
Nick"

Amazon EC2	"ELB and HTTP->HTTPS redirection
If you have an application that only serves content on 80, you want to put it behind ELB with SSL, what is the simplest way to ""add"" HTTP to HTTPS redirection.
I could add nginx to the machine, but wouldn't like to maintain it
Is there a solution with WAF and Cloudfront in front of ELB ?"

Amazon EC2	"Reasons for ""ClientError: No valid partitions. Not a valid volume."" error?
Hi there, 

I am trying to import an McAfee SIEM VM12 .ova file into EC2 (from S3) but failed with same error: 
StatusMessage: ""ClientError: No valid partitions. Not a valid volume.""

Can't find any reference where this is happening.
Any suggestion please?

Thanks,
Suranjit

AWS CLI:
aws ec2 import-image --cli-input-json ""{ \""Description\"": \""McAfee_XXX_XXX\"", \""DiskContainers\"": [ { \""Descriptio
n\"": \""McAfee_XXX_XXX\"", \""UserBucket\"": { \""S3Bucket\"": \""XXXXXX\"", \""S3Key\"": \""McAfee_XXX_XXX.ova\""}}]}""
Output:
{
""ImportImageTasks"": [
{
""Status"": ""deleted"",
""SnapshotDetails"": [
{
""UserBucket"": {
""S3Bucket"": ""XXXXXX"",
""S3Key"": ""McAfee_XXX_XXX.ova""
},
""DiskImageSize"": 2382109368.0,
""Format"": ""RAW""
}
],
""Description"": ""McAfee_XXX_XXX"",
""StatusMessage"": ""ClientError: No valid partitions. Not a valid volume."",
""ImportTaskId"": ""import-ami-xxxxxxxx""
}
]
}"

Amazon EC2	"Re: Reasons for ""ClientError: No valid partitions. Not a valid volume."" error?
Can anyone please assist?
I am stuck here.

Regards,
Suranjit"

Amazon EC2	"m4.4x large Instance Type not available for AMI created with m4.4xlarge
Hi there,

Is it related to the vendor's install script which I used to create the AMI or AWS EC2 when few Instance Types are not available when launching that AMI?

I have created an AMI with McAfee provided SIEM (ESM) VM12/16 install script. I have used 'Amazon Linux AMI 2016.03.2 (HVM), SSD Volume Type' and 'm4.4xlarge' Instance Type since this VM requires 12 cores and 64 GB RAM. I was able to create an AMI with VPC. 

However, once AMI is created, I went to launch that but now 'm4.4xlarge' Instance Type' is not available any longer.

Any suggestion please?

Thank you.
Regards, Suranjit"

Amazon EC2	"Re: m4.4x large Instance Type not available for AMI created with m4.4xlarge
Can anyone please assist? 
I am stuck here.

Regards,
Suranjit"

Amazon EC2	"Custom AMI how to setup ec2-user with dynamic keys
I'm trying to figure out how to set up my custom AMI to use the ec2-user and the key pairs you create when you spin up the instance.  I can't find any documentation on it.  

So again:

1.  Create new build in VMware
2.  Export vmdk
3.  Import/Convert to AMI
4.  Figure out how to have users create new instances from imported AMI and login using ec2-user and key pairs created when instance was created.

Thanks!"

Amazon EC2	"Programmatic way to create and populate EBS volume from disk image?
Hi,

I have a raw disk image file created from my build system (openwrt 15.05), and I want to create an EBS volume from it so I can start an EBS-backed AMI. Right now I'm able to create an instance-store AMI no problem from the same image file. 

I'm looking to do this programmatically - so need to avoid approaches that involve copying from the existing AMI (i.e. run the instance-store version, attach an EBS, then copy/rsync/etc the data to the EBS). Any advice? I've searched through the various APIs and don't seem to see a way to do this."

Amazon EC2	"Re: Programmatic way to create and populate EBS volume from disk image?
Does the ""aws ec2 import-snapshot"" command solve your problem?

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/import-volumes-ebs.html"

Amazon EC2	"Re: Programmatic way to create and populate EBS volume from disk image?
Yes that put me on the right path, thanks!"

Amazon EC2	"Change Operating system OS from Redhat Enterprise to Ubuntu EC2 Instance
Change Operating system OS from Redhat Enterprise to Ubuntu EC2 Instance

was on redhat enterprise 7.1 os wanted to move to ubuntu 
under t2.small instance

Kindly help me on this.
what is did is 
stop t2.small  existing instance
detach current EBS vol from it
create new ec2 instance  t2.small with ubuntu
stop new ec2 instance
detach ebs vol. attached to it
attach earlier ebs vol to new ec2 instance
mount the partition of the volume?

But still i m unable to get my code in the volume in my ubuntu new instance.
Can anyone help on this?

do i redo all apps which i did in my previous instance like apache,php,mysal etc?"

Amazon EC2	"Windows 2012 r2 supports for NFS4.1 so can i use it with EFS?
Can I use EFS with Windows 2012 r2?
Can I install applications and os on EFS?

NFS4.1 Architecture and Tradeoffs with Windows 2012 r2
http://www.snia.org/sites/default/orig/SDC2012/presentations/NFS/RoopishBattepati_NFSv4-1v4_1.pdf 
http://www.snia.org/sites/default/orig/SDC2012/presentations/NFS/RoopishBattepati_NFSv4-1v4_1.pdf

How These tradeoffs will impact windows workloads?

Windows support to NFS4.1
https://technet.microsoft.com/en-us/library/jj592688(v=ws.11).aspx
NFS overview
http://www.snia.org/sites/default/files/ESF/FINAL_SNIA_An_Overview_of_NFSv4-4_20Oct2015.pdf
NFS4.1 Architecture and Tradeoffs with Windows 2012 r2
http://www.snia.org/sites/default/orig/SDC2012/presentations/NFS/RoopishBattepati_NFSv4-1v4_1.pdf

EFS Overview
Amazon EFS provides file storage for your Amazon EC2 instances. With Amazon EFS, you can create a file system, mount the file system on your EC2 instances, and then read and write data from your EC2 instances to and from your file system.

You can mount an Amazon EFS file system on EC2 instances in your VPC, through the Network File System version 4 (NFSv4) protocol. Support for this protocol is available in a majority of the EC2 Linux AMIs (in some cases, you will need to install the NFSv4 client). We recommend using a current generation Linux NFSv4 client, such as those found in Amazon Linux and Ubuntu AMIs.

Multiple EC2 instances in your VPC can have read/write access to the same file system."

Amazon EC2	"cloud-init-nonet: gave up waiting for a network device.
I have an instance in the gov-cloud that suddenly went ""unreachable"" in the status checks.  So I tried the stop/start method to recover, but stopping hung so I did a force stop.
On restart, I am unable to connect to the instance once it becomes available. 
I re-mounted the system drive and looked at boot.log and some other other files.  The only thing I can find is this message in the boot.log: cloud-init-nonethttp://240.93: gave up waiting for a network device.
This makes me think there is something wrong with the network interface. 
Any help would be much appreciated."

Amazon EC2	"Re: cloud-init-nonet: gave up waiting for a network device.
Hello,

You did not provide any instance id for us to take a look, but the error tells us that there's a problem with network interface configuration on the operating system level. Make sure you are not specifying static ip addresses and interface is set to configured by the dhcp server. 

Regards,
Umair A."

Amazon EC2	"Instance i-782f6019 failed status checks and won't stop
One of our instances (i-782f6019) failed both ""System"" and ""Instance"" status checks.
I've attempted to ""reboot"" it  (via AWS console) without success, so am now trying to ""stop"" it.
It has been in the ""stopping"" state for a few minutes now with no indication of progress....

Is there anything else I can do?
Can I tell if the problem is with the instance or the underlying hardware?

Edited by: dav1dli on Jun 21, 2016 2:35 AM"

Amazon EC2	"Re: Instance i-782f6019 failed status checks and won't stop
Hello,

Your instance has been stopped now. The instance was affected due to issues with underlying host. You can start your instance now and it will be started on healthy underlying host.

Regards,
Umair A."

Amazon EC2	"Re: Instance i-782f6019 failed status checks and won't stop
Thank you very much."

Amazon EC2	"Wordpress on Ec2 regularly shows database connection error.
Hi Guys,

My wordpress hosted on a micro instance on Amazon Ec2 regularly goes down and then shows the error in database connection.

I generally restart the sql server using service mysqld restart function. Also if the error is not resovled, I need to reboot the server.

Can you help me in identifying what the problem is or how do I rectify this."

Amazon EC2	"Re: Wordpress on Ec2 regularly shows database connection error.
Hello,

I have reviewed the one instance running in your account, if you look at the instance system log or operating system logs you will see messages indicating system in running out of memory. You are running t2.micro instance for your website including database and this instance type has  very low memory and CPU.

You need upgrade your instance type to get more memory and CPU. See below doc for resizing instance.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Regards,
Umair A."

Amazon EC2	"i-10a4a4cf in shutting-down state
i-10a4a4cf in shutting-down state  please remove this instance from my account."

Amazon EC2	"Re: i-10a4a4cf in shutting-down state
Hello,

The issue with your instance has been resolved.

Regards,
Umair A."

Amazon EC2	"site can't be reached
My site's address:

domain: http:sso.schooly.co.il
public dns : http://ec2-52-16-138-126.eu-west-1.compute.amazonaws.com/
elastic ip : 52.15.138.126 
instance id: i-002ff3c4701cb3962

cannot be reached. 

SSH is fine
PING is fine

Please advise."

Amazon EC2	"Update NTP package in AMI repo
The AMI Repo currently ships ntp version 4.2.6p5.  This version is vulnerable to the NTP reflection attack described in CVE-2013-5211.  This issue was fixed in version 4.2.7p2 which was released in 2010.  Yes, 2010.  Why is Amazon providing such an old version of the NTP package?"

Amazon EC2	"Re: Update NTP package in AMI repo
Hello,
thanks for reaching out us.
Although it's a minor vulnerability, we value our customers' feedback and so I have forwarded your comments to our AMI Internal Team.

Thanks,
kind regards
Ale"

Amazon EC2	"Re: Update NTP package in AMI repo
Hello,
Thanks for your question about the ntp package in the Amazon Linux AMI. After reviewing this CVE, we determined that the default configuration in our ntp package is not affected by this issue, as the default configuration does not allow remote ntpd control queries. We agreed with the assessment made here:

https://bugzilla.redhat.com/show_bug.cgi?id=1047854#c27

If you have further questions or concerns please let us know.
Thanks,
Heath"

Amazon EC2	"Re: Update NTP package in AMI repo
Is there a particular reason then that you continue building new versions of 4.2.6 instead of moving to 4.2.8?  For example, you just pushed 4.2.6p5-40.30."

Amazon EC2	"Re: Update NTP package in AMI repo
we need 4.2.8.p7 to prevent PSIRT issues
http://support.ntp.org/bin/view/Main/NtpBug3020
http://support.ntp.org/bin/view/Main/NtpBug3012
http://support.ntp.org/bin/view/Main/NtpBug3011
http://support.ntp.org/bin/view/Main/NtpBug3010"

Amazon EC2	"Re: Update NTP package in AMI repo
Hi,
we need 4.2.8.p7 to prevent PSIRT issues
http://support.ntp.org/bin/view/Main/NtpBug3020
http://support.ntp.org/bin/view/Main/NtpBug3012
http://support.ntp.org/bin/view/Main/NtpBug3011
http://support.ntp.org/bin/view/Main/NtpBug3010
Can you tell us when AMI will have ntp version updated with 4.3.8.p7 ?"

Amazon EC2	"Reserved Instances and Auto Scaling
I have an Auto Scaling Group setup across three VPCs covering three different zones for redundancy.

I have a minimum of 1 and a maximum of 6, scaling on CPU utilization.

I'd like to save a little on hourly costs by getting a reserved instance, but RIs seem to be linked to a specific zone on purchase.

My concern is this:

Let's say I purchase an RI in say, zone us-east-1b, because I currently have one running there in my Auto Scaling Group. Then my Auto Scale Group scales up and adds 2 instances, one to 1c and one to 1d. Later it removes 2 instances, the one from 1b and 1c since they are the oldest. Now I'm left with one instance in 1d where I did NOT purchase the RI.

Is there a zone-flexible RI that plays nicely with Auto Scaling Groups?"

Amazon EC2	"Instance disappeared 54.228.192.88
My instance with the IP 54.228.192.88 has disappeared.

What has gone wrong?"

Amazon EC2	"Re: Instance disappeared 54.228.192.88
Hi, 

I can see the instance i-ac700ce6 with IP 54.228.192.88  is associated with your account in eu-west-1b region. 

Regards,
Aishwarya"

Amazon EC2	"Instance stuck in shutting-down state.
Instance i-5c220ac1 has been stuck shutting-down for over a month now.  I'd appreciate it if could be cleaned up.  Thanks."

Amazon EC2	"Re: Instance stuck in shutting-down state.
Hi,

I am sorry you were having issues stopping the instance i-5c220ac1. 

The instance has been terminated now. 

Regards,
Aishwarya"

Amazon EC2	"Downgrading dedicated instance - why not possible?
We currently have a hybrid Citrix farm and 4 or 5 XenApp workers are hosted in EC2, and were initially set with dedicated tenancy. We are reviewing our hardware requirements based on our current number of active users, which has decreased since the creation of the original instances - meaning that running on dedicated mode isn't cost effective anymore.

Am I wrong to think that the option to ""downgrade"" an instance tenancy from dedicated to default is purportedly omitted from the UI, and even instructions in how to do it are not available in the official documentation, just to make it hard for the customer to actually move forward with the idea since we are paying more for it?

Well, and back to the main question... what would be the best method to accomplish it? Create an AMI based on the running instance and create an instance from that AMI with default tenancy?"

Amazon EC2	"Re: Downgrading dedicated instance - why not possible?
FWIW, you also can't upgrade a shared-tenancy instance to dedicated-tenancy without creating an AMI and launching a new instance, so I don't think it's an attempt to make such a transition difficult.  It's more likely that transitioning between shared and dedicated tenancy (in either direction) is not something that customers need to do very often, so there hasn't been any work done to make that process simpler."

Amazon EC2	"Re: Downgrading dedicated instance - why not possible?
You definitely have a point, although AFAIK you can upgrade a dedicated instance to a dedicated host, so I'm not totally convinced about technical shortcomings playing a role here."

Amazon EC2	"Re: Downgrading dedicated instance - why not possible?
Anyone?"

Amazon EC2	"Please Activate My AWS Account
Kindly activate my AWS account its been 1 week since I created the account. My account ID is 231877579460 .

Thanks for your expedite response."

Amazon EC2	"Re: Please Activate My AWS Account
Hi,

I'm sorry for the trouble you're having activating your services. Most Amazon Web Services require a valid credit card to be added to your account. I've checked your account and found that we were unable to authorize your credit card for your recent sign-up. Unfortunately, we’re unable to determine exactly why your card was declined, only that the issuing bank declined the authorization when we asked them for approval. Some common reasons why an authorization could fail:


Some banks have restrictions on Internet transactions. You may want to check with your credit card company to see if they have such a restriction.
The billing address included on our site does not match the billing address on your credit card statement.



Amazon is not set up to accept the CVV2 security code associated with credit cards. Your bank may be able to temporarily lift this requirement.
The authorization is for a low dollar amount ($1.00), which your bank may decline.
If you signed up for multiple AWS services, a $1.00 authorization may be performed for each service. Your bank may approve the first authorization and decline subsequent ones depending on their security policies.


We recommend you contact your bank to determine the reason for the decline. Once the information has been updated, please update your credit card information in your Billing Console tab so that we can automatically retry your credit card authorization:

https://console.aws.amazon.com/billing/home#/paymentmethods

You can also check this doc: https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/

I hope this helps.

Regards,
Aishwarya

Edited by: AishG@AWS on Jun 20, 2016 10:34 AM

Edited by: AishG@AWS on Jun 20, 2016 10:40 AM"

Amazon EC2	"ELB HTTPS listener unexpected Cipher used, logged in apache ssl logs
Hi, I've been working on an issue for a few days now.
That is to get an ELB with an https listener 443 -> 443 to pass along the requests to an apache server it is fronting.
I have noticed that when I limit the ciphers using a custom setting on the listener, my apache is logging AES256-GCM-SHA384 instead of what I'm expecting.
I suppose it's being handled by the ELB and that communications between the ELB and EC2 instances are encrypted differently than when requests were intercepted by the ELB from the client? Could I be directed to documentation of this if this is the case?

Thanks"

Amazon EC2	"Re: ELB HTTPS listener unexpected Cipher used, logged in apache ssl logs
HTTP/HTTPS terminates SSL at the elb, the request is then encrypted for HTTPS connection between ELB and instance."

Amazon EC2	"Cannot connect to my instance via RDP
I had no problems connecting until today... cant even ping the public IP.  Instance reachability check passed... no errors in the AWS console system log.  Instance screenshot shows the ctrl+alt+delete screen for windows server.

Any help would be greatly appreciated."

Amazon EC2	"Re: Cannot connect to my instance via RDP
Hi,

Are you still facing issues?

Could you share the Instance ID?

Some connectivity troubleshooting methods can be found here:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html
https://aws.amazon.com/premiumsupport/knowledge-center/troubleshoot-remote-desktop-connection-ec2-windows/

Regards,
Jayakrishnan L."

Amazon EC2	"Don't have permission to deploy my website files on /var/www/ folder
Hello! I am trying to upload my already build website to apache folder but I don't have permission to uploade it there. I am using filezilla."

Amazon EC2	"Re: Don't have permission to deploy my website files on /var/www/ folder
Hi,

It should be because of lack of permission on the /var/www/html folder for the user as which you are trying to upload.

Please go through the steps mentioned  here to get an idea about the fix.

Regards,
Jayakrishnan L."

Amazon EC2	"How to remove an elastic IP address not attached to a running instance?
How do i get rid of an ""Elastic IP address not attached to a running instance""? I am being charged for it but when i go to EC2 Console and Elastic IPs i do not see any IPs listed?"

Amazon EC2	"Re: How to remove an elastic IP address not attached to a running instance?
Hi,

Can you check the Elastic IPs on Region us-east-1 (N. Virginia)?

I can see that you have 1 EIP not allocated to any instances in this account in us-east-1.

Regards,
Jayakrishnan L."

Amazon EC2	"Debian Jessie
Can we get Jessie to upgrade their AMI for Amazon to include the latest drivers for Enhanced Networking ? ixgbevf ?

https://gist.github.com/avinogradov/fa8cb1a78ecb0cfdb703"

Amazon EC2	"Re: Debian Jessie
Hi,

Thanks for your update. 

However, please note that the AMIs for Debian is maintained by Debian themselves and not by AWS.

Regards,
Jayakrishnan L."

Amazon EC2	"Instance reachability check failed host='169.254.169.254', port=80
I do not know what happened to my machine that this morning she began to exhibit this error.
I already gave DETECH and Atach volume, restarted it several times but not back, and it can no longer connect to the machine.
Already created an image and climbed a new machine that gets the same mistake, I do not know what to do.

I'm using Ubuntu in this machine, if Would anyone can help me I thank

 * Stopping load modules from /etc/modules[74G OK 

cloud-init-nonethttp://15.68: waiting 120 seconds for network device

cloud-init-nonethttp://135.68: gave up waiting for a network device.

Cloud-init v. 0.7.5 running 'init' at Thu, 16 Jun 2016 22:37:22 +0000. Up 136.13 seconds.

ci-info: ++++++++++++++++++++Net device info++++++++++++++++++++

ci-info: +--------+-------+---------+------+-------------------+

ci-info: | Device |   Up  | Address | Mask |     Hw-Address    |

ci-info: +--------+-------+---------+------+-------------------+

ci-info: |   lo   | False |    .    |  .   |         .         |

ci-info: |  eth0  | False |    .    |  .   | 02:b1:18:c0:a2:37 |

ci-info: +--------+-------+---------+------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2016-06-16 22:37:23,043 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error 

2016-06-16 22:37:24,047 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error 

2016-06-16 22:37:24,047 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error 

Edited by: megaleios on Jun 16, 2016 4:54 PM"

Amazon EC2	"Re: Instance reachability check failed host='169.254.169.254', port=80
Hi,

I can see that the eth0 interface is not up from the console output you provided.

 ci-info: | eth0 | False | . | . | 02:b1:18:c0:a2:37 |

Have you made any changes to the network configuration file? 

You might want to check our guide on Recovering unreachable instance here for a similar use case of fixing the issue.

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"T2 Small instance not gaining CPU Credits
My EC2 small instance (i-fdf1a244) CPU credit balance did not increase with normal speed after June 16 2016 11:21:00 PM UTC even the CPU utilization was about 2% 
(before that it increased normally).
For example last 3 hours the instance has gained about 2 CPU credits even the CPU Utilization is under 2% constantly."

Amazon EC2	"Re: T2 Small instance not gaining CPU Credits
Hi,

Are you still facing issues? I can see some spikes in CPU utilization on 16/Jun as well and that could be the reason for the slow credit replenishment.

However, I can see that the CPU credit balance in the instance -  i-fdf1a244 is fairly good now.

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 OpenVPN instances give connection timeout
Hi,

We have 2 OpenVPN instances running in our account. We restarted those instances yesterday , and since then , we are not able to connect to openvpn client , nor to the admin console on port 943. We can however ssh to these 2 instances. 
We tried creating a new OpenVPN instance  , but that too connects over ssh , but not on any other port.
We have tried by opening specific ports like 1194/443/943 , and by opening All traffic for inbound connection , either way it is not working.

Another thing we noticed is that there has been sudden spike in the EC2 charges for this month. With just one of the instances running the charges shot up from $1449 to $1586. Can these 2 issues be related?

please help?
Regards,
Vineeta Shukla"

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Hello,

Would you be able to give us instance id's so that we can take a look ?

 Please reach out to billing and accounts team  for billing related queries. You can create a new support case for that.

Regards,
Umair A."

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Hi, 
thanks for your response. Here are the instance ids:

i-89fb4e77
i-9ca53bf8

We created one more , just to check if there was anything wrong with the instances themselves , that too is giving timeout. i-e75f127d is the newest one created.

Regards,
Vineeta Shukla

Edited by: afpor on Jun 15, 2016 4:55 AM
BUMP"

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Hi Vineeta,

I've looked in to your instances and have determined that the reason you can only connect on port 22 is that you account is in isolation. It seems there were some recent EC2 Abuse issues with your instances that have caused us to lock them down, in this case we only allow access on port 22 (for SSH generally) and all other ports on your instances will be blocked. Please follow all the instructions in the Abuse emails sent to your account in order to have these restrictions lifted; if you continue to have issues after this is done please respond to the Abuse team via the emails they have sent you.

Best Regards,
Omar S."

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
hi Omar,

Thanks for your response. Unfortunately , the team member whose email id was registered to receive these emails is no longer in the project , so we cannot find if there were emails on abuse, and respond to them. Is there any alternate way to get the AWS team know that we have indeed taken corrective measures and help lift the block?

Regards,
Vineeta Shukla"

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Marked answered by mistake, still need to find out how to lift the block."

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Hi Omar/Team,
Could you please help in lifting the restriction that is put in place and allow us to access the servers by enabling the ports.

Thanks in advance!"

Amazon EC2	"Re: EC2 OpenVPN instances give connection timeout
Hi,

I can see that you are working with our Support Team on case 1779461201. 

I can see that the isolation is lifted from Instance - i-89fb4e77. Hoever, please continue to followup on the Support Case itself. 

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 - SSH - Permission denied (publickey)
How come I can't SSH into my instance?

It says

Permission denied (publickey)"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Hi,
   Have you tried 

ssh -v -i ec2-keypair.pem username@ec2-dns-name 

to see if you can connect to the instance?

Can you give us the instance-id and we can check if everything looks good on our end.

Regards,
Praveen"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
I tried 

ssh -v -i ~/Downloads/m2.pem root@ec2-23-22-83-252.compute-1.amazonaws.com

Maybe it's because I lost my original key pair and created m2.pem?

My instance ID is i-6c9a4515"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Uh oh, I restarted the instance and now I can't connect at all"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
How do I change the key pair to m2.pem?"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Never mind, I just created a new instance. Problem solved.

Edited by: polyfrag on Jun 27, 2012 5:35 PM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
if you are using linux on Unix and your instance is ubuntu server 12.04:
1-try to copy the key by executing the command sudo cp yourkeylocation/yourkey.pem ~/.ssh
2-sudo ssh -i .ssh/yourkey.pem ubuntu@yourip

I do not know why but this worked for me 

Edited by: 88me on Aug 31, 2012 1:56 PM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
We're facing exactly the same problem. Since yesterday, all of sudden, the access to two of our Ubuntu 12.04 LTS server is denied. We're able to login to our other servers that are on Amazon Linux.

On running the ssh command in verbose, this is the output that we get:

$ ssh -v -i ~/.ec2/KEY_FILE_NAME.pem ubuntu@EC2_SERVER_END_POINT
OpenSSH_5.5p1 Debian-4ubuntu6, OpenSSL 0.9.8o 01 Jun 2010
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug1: Connecting to EC2_SERVER_END_POINT IP ADDRESS port 22.
debug1: Connection established.
debug1: identity file ~/.ec2/KEY_FILE_NAME.pem type -1
debug1: identity file ~/.ec2/KEY_FILE_NAME.pem-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.9p1 Debian-5ubuntu1
debug1: match: OpenSSH_5.9p1 Debian-5ubuntu1 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.5p1 Debian-4ubuntu6
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Host 'EC2_SERVER_END_POINT' is known and matches the RSA host key.
debug1: Found key in ~/.ssh/known_hosts:53
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: ~/.ec2/KEY_FILE_NAME.pem
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey)."

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Any idea?

I got exactly the same problem:
sudo ssh -v -i ~/.ssh/obtheme.pem root@ec2-54-227-189-80.compute-1.amazonaws.com
OpenSSH_5.6p1, OpenSSL 0.9.8x 10 May 2012
debug1: Reading configuration data /etc/ssh_config
debug1: Applying options for *
debug1: Connecting to ec2-54-227-189-80.compute-1.amazonaws.com [54.227.189.80] port 22.
debug1: Connection established.
debug1: permanently_set_uid: 0/0
debug1: identity file /Users/thongtran/.ssh/obtheme.pem type -1
debug1: identity file /Users/thongtran/.ssh/obtheme.pem-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.1p1 Debian-4
debug1: match: OpenSSH_6.1p1 Debian-4 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.6
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Host 'ec2-54-227-189-80.compute-1.amazonaws.com' is known and matches the RSA host key.
debug1: Found key in /var/root/.ssh/known_hosts:2
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/thongtran/.ssh/obtheme.pem
debug1: Authentications that can continue: publickey
debug1: Trying private key: /Users/thongtran/.ssh/obtheme.pem
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).


FYI, I've tried with all usernames possible:
root@
ubuntu@
ec2-user@

Edited by: obthong on Aug 18, 2013 1:26 AM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
I have exactly the same problem and the same verbose log output. I was able to SSH into my ubuntu machine instance yesterday but not at all today.

Edited by: fsys100 on Aug 18, 2013 6:44 AM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Thanks, the cp to ~/.ssh is working for me. I had been working fine for a while -- having done ssh-add -- but that stopped working for me today. I don't know what the problem is, I'm on OSX 10.8.4."

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
I am having the same problem.  Set up an instance. run the ssh with the -i key_file and with the instance address, and I get the permission denied problem as others are showing.  Please advise."

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Hi there, 

It is possible that you are connecting to the instance with the incorrect username. Such as ""root"" instead of ec2-user. 

Please see the following documentation regarding some of the default usernames to connect to your instance with: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectingMindTerm

Kind regards, 
Belynda"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
I am having the same issue, I have tried everything.  It was able to ssh (still have the session open) and all of the sudden I need to open a new window and I get ""Permission denied (publickey)""

The keys files on my mac is set to 400, the perms on aws ec2 amazon linux instance are correct for ec2-user and .ssh.

here's my ssh -v output.
OpenSSH_5.2p1, OpenSSL 0.9.8l 5 Nov 2009
debug1: Reading configuration data /etc/ssh_config
debug1: Connecting to 54.165.182.xxx http://54.165.182.xxx port 22.
debug1: Connection established.
debug1: identity file mykeys-dev2.pem type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.2
debug1: match: OpenSSH_6.2 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.2
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Host '54.165.182.xxx' is known and matches the RSA host key.
debug1: Found key in /Users/home/.ssh/known_hosts:4
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: mykeys-dev2.pem
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

No idea what's going on, everything looks correct, everything was working then stopped. 
I must note, that I changed the permissions to the home dir (/home/ec2-user) before this issue, but then changed everything back the way it was. 

Any thoughts?

Edited by: shmo982 on Oct 25, 2014 1:39 PM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Hi there,

There could be a number of reasons that you are unable to connect to your instance.
From the information that you posted, I suspect that the change of permissions to the home directory may be the cause.
I've checked, and see that both your instances are passing status checks and running.
This means that connection problem would most likely be a configuration problem on the OS level.
It may be that when you first implemented the permission changes, they were done recursively.
Check whether the permissions persist through all the tiers of the directory.
Please let us know whether you are still experiencing the connectivity issue.

LloydM"

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Hi, I have same issue. I can't login with my key. I try different ways, but nothing not work.
Can anybody help me?

Br, Niko H."

Amazon EC2	"Re: EC2 - SSH - Permission denied (publickey)
Hi,
Please refer our SSH Troubleshooting guide here [1]. Check the ‘Event Logs’ in Putty or try connecting with increased verbosity using ‘ssh -vvv’ and check the o/p for getting details on why the connectivity is failing.

If you are not able to figure out what us happening, you need to check the OS by stopping the instance, detaching the root volume and attaching it to a temporary instance. Then you can mount the volume to a temporary location and check the authentication log file (secure or auth.log under /var/log directory of the root volume of the instance with connectivity issue). 

You may refer our guide on Recovering Unreachable instance for a similar use case [2].

[1] SSH Troubleshooting: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
[2] Recover unreachable instance: https://aws.amazon.com/articles/5213606968661598

Regards,
Jayakrishnan L."

Amazon EC2	"eu-west-1 hardware degradation issue - unable to launch new instance
I received the email earlier this morning about hardware degradation affecting eu-west-1 instances.
Our instance i-a08ebdd6 is affected.

I created AMI i-a08ebdd6 from the running instance which has been 'pending' for an hour - I have deleted it.

The running instance i-a08ebdd6 has been stopping for quite a while.

I have created ami-a08ebdd6 from snapshot snap-354ed115 and started it as instance i-31fb8fbd which is showing error 'instance reachability check' in the console.  I have tried restarting the instance, but it is still showing this error.

This is from the system log:
init: console-setup main process (665) terminated with status 1
General error mounting filesystems.
A maintenance shell will now be started.
CONTROL-D will terminate this shell and reboot the system.
Give root password for maintenance
(or type Control-D to continue): 

What is the issue?"

Amazon EC2	"Re: eu-west-1 hardware degradation issue - unable to launch new instance
I have been able to get the original AMI running again."

Amazon EC2	"ec2-create-instance-export-task fails [SOLVED]
I have setup an S3 bucket - given vm-import-export@amazon.com the right permissions using the web gui and started an export of a previously imported image.

It fails with : Client.InvalidParameter: S3 bucket does not exist

My command

 ec2-create-instance-export-task <instance_id> -e vmware -f vmdk -c ova -b <bucketname>

Solved:

Handn't setup the vm-import-export user in S3 properly - left out the domain suffix - doh.

Edited by: stubblet on Jun 20, 2016 4:00 AM"

Amazon EC2	"Re: ec2-create-instance-export-task fails [SOLVED]
Updated to reflect soln"

Amazon EC2	"Re: ec2-create-instance-export-task fails [SOLVED]
Marked to reflect solution"

Amazon EC2	"Amazon Load Balancer (ELB) 413 ERROR
Hello there !

We are getting HTTP Error 413 Request entity too large on uploading several files through amazon Load Balancer. If we upload these files directly to webserver (without load balancer ) the files are uploaded successfully.
We would like to set client_max_body_size option in amazon LB , how  can we do this ? 

Can you help us please 

Thanks"

Amazon EC2	"Problem at the moment loging iptables deny
Hi all. hope some one could help me in a issue I've got.

I've got a centos 6.8 m4.xlarge server.

I been having issues and problems with my server.

i identified that when registering denial (deny) with iptables in the messages log, the processor usage climbs up till knock down the server generating a denial of service.

To generate denial (deny) in the log , I been using nmap software.

Could any one tell me what could be happen? and help me fix this issue"

Amazon EC2	"Please release rDNS from IP so I can delete it.
The address with allocation id eipalloc-0b41f96e cannot be released because it is locked to your account.  

Please remove rDNS from IP address 54.173.59.71 (eipalloc-0b41f96e).

Thank you."

Amazon EC2	"Re: Please release rDNS from IP so I can delete it.
Hello,

We have removed rDNS. Could you please try release EIP?

I hope this help."

Amazon EC2	"ELB performance
Hi，What is the ELB performance index，such as CPS,QPS,MAXCONN， Those who know these indicators please tell me。"

Amazon EC2	"how to install node js on linux ec2
Hello. Is there a tutorial on how to install node js on ec2 linux instance?
I tryed some tutorials from online but they don't work"

Amazon EC2	"ELB disribute traffic not evenly- causing high latency and high cpu
Hi all, 

I have a production elb that directs the traffic to asg servers, and i have a scaling up policy that loads a new server if the cpu is higher then 75%. 
but here is he problem- the elb distributes the traffic unevenly- so one server gets all the data and the others servers are idle. Beacuse this server gets all the traffic it loads more servers and all of them are idle and the latency is up... 

Do you have a suggestion? 
this the load balancer name-
elb-ctconnect-810036993.eu-west-1.elb.amazonaws.com"

Amazon EC2	"Re: ELB disribute traffic not evenly- causing high latency and high cpu
Hello,

I have reviewed the ELB and i see 6 instances are attached to it.  We do not see any problem with the ELB and the instances, ELB is distributing traffic normally and there's no noticeable latency. May i ask how did you find the traffic is not being distributed evenly and all other instances are sitting idle? If you compare the CPU utilization nd network-in traffic for your instances you will see a similar pattern in CPU load and network traffic which indicates the traffic load is being distributed normally. 

You will also be able to see this in your application log files. Couple of spikes in CPU can be noticed and CPU utilization across your instances is considerably high, you may want to add additional instances in the scaling group to increase performance.

Regards,
Umair A."

Amazon EC2	"Re: ELB disribute traffic not evenly- causing high latency and high cpu
Answering from different account, aws forum login gives me trouble
1- please look at 1 week time period- you will see every day around the same time latency can go up to 12000 miliseconds! (then none of the servers are responsive) 
2- adding instances doesnt solve the problem because of the traffic distribution, if you will look at this graph- 
https://postimg.org/image/5196diziv/ 
you can see the the in-traffics is not distributed equally (up to 150MB difference),
the scenario we have now is that when there is a high CPU instance the ASG is adding a server but the latency is still up and the new server is idle or getting 70% less traffic then the busy one so it doesn't solve anything..."

Amazon EC2	"EC2 Commands / Documents
Just checked the documents section of the EC2 Commands menu.
I saw the default AWS documents.

AWS-ConfigureCloudWatch
Amazon
Windows

AWS-ConfigureWindowsUpdate
Amazon
Windows

AWS-FindWindowsUpdates
Amazon
Windows

AWS-InstallApplication
Amazon
Windows

AWS-InstallMissingWindowsUpdates
Amazon
Windows

AWS-InstallPowerShellModule
Amazon
Windows

AWS-InstallSpecificWindowsUpdates
Amazon
Windows

AWS-JoinDirectoryServiceDomain
Amazon
Windows

AWS-ListWindowsInventory
Amazon
Windows

AWS-RunPowerShellScript
Amazon
Windows

AWS-RunShellScript
Amazon
Linux

AWS-UpdateEC2Config
Amazon
Windows

AWS-UpdateSSMAgent
Amazon
Linux




But then I saw these ones:
RunIfconfig
969383040714
Linux

sid
753026596797
Linux

WINMON-GetAppPoolState
465257512377
Windows

Restart_Apache
611407075319
Linux

DYLANRULEZ
103365315157
Windows

IANMCKAYWASHERE
767145733124
Linux



The content of that last one Ian MCKay Was Here:
{
  ""schemaVersion"": ""1.2"",
  ""runtimeConfig"": {
    ""aws:runShellScript"": {

      ""properties"": [{
        ""runCommand"": ""*echo 'Hi there. This is not malicious, but it could have been! Contact whatisthisaws@ianmckay.com.au for more information if you're confused.*';"",
        ""workingDirectory"": ""/tmp"",
        ""timeoutSeconds"": ""300""
      }]
    }
  }
}

I didn't add these - 
Why am I seeing documents created by other 'owners'
Eg: 767145733124  is I suspect Ian McKay's account info?

The SID one

{
  ""schemaVersion"": ""1.2"",
  ""runtimeConfig"": {
    ""aws:runShellScript"": {

      ""properties"": [{
        ""runCommand"": ""you are dead! in 5...4...3...2...1.';"",
        ""workingDirectory"": ""/tmp"",
        ""timeoutSeconds"": ""300""
      }]
    }
  }
}

These documents cannot be deleted by me - as AWS says they belong to someone else.
Why are they showing up on my account then?
The Ian McKay one was only added:
June 16, 2016 at 1:20:00 AM UTC+1

Has someone hacked Amazon or something?

Edited by: Amazon Customer on Jun 17, 2016 8:18 AM"

Amazon EC2	"Re: EC2 Commands / Documents
Hello,

Thank you for contacting AWS support.  I understand that you are seeing several run command documents on all of your AWS accounts and are looking for more information on where these came from and why you are seeing them.

What you are seeing are Run Command documents that other AWS customers created and have marked as public.  They are not actually on your account and are only visible to all accounts.

I apologize for the scare where these documents appears to have been created without any warning or logs on your account and we are currently looking into this display behavior from our end.  

Please let me know if you have any questions.

Thanks
Trevor H"

Amazon EC2	"EC2 instance was rebooted by AWS at 6am EST
Good Afternoon

1 out of 25 EC2 instances was rebooted at approximately at 10:00 UTC this morning. The instance id is i-b999a509. According to the logs no one from my team was even logged into the environment during that time period. Also, there were no scheduled maintenance tasks performed during that time period. Was the reboot on the instance performed by AWS. How can I determine if AWS performs a reboot in the future?"

Amazon EC2	"Re: EC2 instance was rebooted by AWS at 6am EST
Hello,

Thanks for using the AWS Developer Forums.

I understand that your instance i-b999a509 was rebooted and you wish to know if this was performed by AWS and if so how you can determine this in the future.

Looking at the CloudWatch metrics, I can confirm that your instance failed system-level status checks due to an underlying host issue. The instance first failed at 09:58 and came back online at 10:23 06-13-2016 (MM-DD-YYYY). This is reflected by metric ""StatusCheckFailed_System"":

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_System~2016-06-13T08%3A28%3A52Z~2016-06-13T11%3A26%3A22Z~Maximum~300~InstanceId~i-b999a509

Your instance is running on different, healthy hardware now and passing both system-level status checks and instance-level status checks.

The infrastructure has been isolated and identified as failed. Customers will not be able to use this infrastructure any more and our engineers will take whatever steps are required to repair or replace the failed hardware.

Moving forward, you could utilize the Recover feature which uses a CloudWatch Alarm to  monitor an instance and automatically recovers the instance if it becomes impaired due to an underlying hardware failure or a problem that requires AWS involvement to repair. You will be notified by the Amazon SNS topic that you selected when you created the alarm and associated the recover action.

For more information, see the following documentation:


https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingAlarmActions.html#AddingRecoverActions


I hope this information is helpful and please let me know if I can be of further assistance.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: EC2 instance was rebooted by AWS at 6am EST
Thanks for the follow up and documentation. This morning I had another reboot on the same instance (i-b999a509). Could you verify that this was another hardware failure/replacement scenario? I have attached the cloudwatch data."

Amazon EC2	"Re: EC2 instance was rebooted by AWS at 6am EST
Thanks for the follow up and documentation. 6-15-2016 at 6:42 UTC I had another reboot on the same instance (i-b999a509). Could you verify that this was another hardware failure/replacement scenario? I have attached the cloudwatch data."

Amazon EC2	"Re: EC2 instance was rebooted by AWS at 6am EST
Hi,

I have sent you a private message regarding this.

Regards,
Kunal"

Amazon EC2	"Re: EC2 instance was rebooted by AWS at 6am EST
Thanks for your assistance."

Amazon EC2	"Instance stopped responding; now stuck in ""stopping"" state
Our EC2 instance, i-3ab2a715, became unresponsive a little over an hour ago.  We issued a stop command from the console, but now, 45 minutes later, the instance is still in a ""stopping"" state and unresponsive."

Amazon EC2	"Elastic IP not working Only Public DNS
After Windows Update our EC2 stopped to answer HTTP from Elastic IP, it only responds from Public DNS, although it is possible to connect via RDP with the Elastic IP.

It's a Windows Server 2012 R2 Standard.
The Windows firewall is off, the rules of our Security Group are the same as always.

This is a production machine for the medical area,  please AWS folks don't change anything, as we had manage to workaround resetting our apps to use the Public DNS, but we need to have back the IP because some apps depends on this and don't work properly with the Public DNS"

Amazon EC2	"How to sepcify Rewrite Rules and Conditions on Beanstalk Tomcat server?
Hi All,
I have Elastic beanstalk provided tomcat server running my web application.
How and where to spcify Rewrite Rules and Conditions in this case?
The goal is to redirect all the ""http"" requests to ""https"".
Right now, if I access the website as http and https, both are getting accessed separately with no problems.

Thanks,
San

Edited by: santhu180485 on Jun 18, 2016 3:15 AM

Edited by: santhu180485 on Jun 18, 2016 3:17 AM"

Amazon EC2	"can't connect to ssh for instances inside VPC.
Hi! I currently am unable to ssh or connect via java client via your site to any instance i have created. Can you please help to resolve? Thank you,"

Amazon EC2	"Re: can't connect to ssh for instances inside VPC.
default VPC using wizard, and instances are placed inside public subnet. no ping response, no ssh response, java client to connect to says connection timed out.

what's wrong with amazon or my account??!!

elastic ips are attached to each instance, network ACL and security groups are completely open."

Amazon EC2	"same Name for multiple load balancers
Hello , 

I need to use the same custom DNS name for two services , different ports :


https://api.example.com: 8000 has two backend instances with configured healthcheck 
https://api.example.com:443    has different backend instances with different healthcheck .


I see from a load balancer only one healthcheck is available even it has multiple roles , so is it possible to achieve what I need ? 


My dns zone is configured on route 53 , first service already configured but cannot find a way to do the next (port 443 ) 


appreciate your help"

Amazon EC2	"AWS Connector Error
I'm getting this error when trying to get login to AWS Connector for VCenter
Error connecting to vCenter at ""10.42.1.210"": javax.net.ssl.SSLException: hostname in certificate didn't match: <10.42.1.210> != <ll1-vc01.libmed.corp.polymedica.com>

See Attachment"

Amazon EC2	"Re: AWS Connector Error
Hello there,

This error message is consistent with a certificate mismatch. A common scenario is if the IP of the connector changes after the initial installation. During the initial setup, the connector generates a self-signed certificate based on its IP address. If the IP is changed(say it was DHCP lease), the error message will display in the login box.

You can resolve this issue by restarting the services on the connector. Please see link below:
http://docs.aws.amazon.com/amp/latest/userguide/manage-connector.html#ssl-certificate

I hope this helps.

Regards,
Adolfo M."

Amazon EC2	"Is ELB is vulnerable to Beast Attack
Hello,

Is ELB is vulnerable to Beast Attack.Which is the default cipher used in ELB.Can change it to RC4."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
If you do not plan to terminate your SSL at the ELB, then for sure the ELB is not vulnerable.  

(Our application is stateless, and we have no need for ""sticky sessions"", so we can simply pass through the ELB.  We termiante at the instance itself, and thus have great control over ciphers, etc.  If you need sticky sessions, and you need to terminate SSL at the ELB, then passing through the ELB without SSL termination is probably not an option.)

I do not know the answer to your direct question though, and defer to AWS or the other experts here on the forum.

James"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
Thank you for bringing your concern to our attention!  We are very interested in customer requests for specific protocol or feature support.  We also share your passion for security and we are happy to provide information you may use to improve the security of your AWS environment, or meet specific compliance requirements.

Elastic Load Balancing (ELB) utilizes OpenSSL as its encryption library for decrypting and encrypting SSL/TLS messages.  While we do not comment on the specific timing of future releases, ELB does plan to support TLS v1.1 and v1.2, which will mitigate this issue.  Until ELB supports these protocols, an interim mitigation for this issue is to disable support for CBC ciphers, which are the specific focus of BEAST.  Customers who wish to disable ELB SSL/TLS support for CBC ciphers, can follow the configuration steps below.   As always, this information is provided as general guidance.  Please note, for those customers concerned with PCI compliance, it is important to have a Qualified Security Analyst review your actual configuration.

To disable the CBC ciphers in the AWS Console, navigate to the EC2 page and select Load Balancers on the left panel.  Select a load balancer that uses an HTTPS or SSL front-end protocol.  In the detail pane, select the Listeners tab and click ""Change"" in the Cipher column.  In the dialog, deselect the following ciphers (those with CBC in the name):

PSK-AES256-CBC-SHA
EDH-RSA-DES-CBC3-SHA
EDH-DSS-DES-CBC3-SHA
ADH-DES-CBC3-SHA
DES-CBC3-SHA
DES-CBC3-MD5
PSK-3DES-EDE-CBC-SHA
KRB5-DES-CBC3-SHA
KRB5-DES-CBC3-MD5
RC2-CBC-MD5
PSK-AES128-CBC-SHA
IDEA-CBC-SHA
EDH-RSA-DES-CBC-SHA
EDH-DSS-DES-CBC-SHA
ADH-DES-CBC-SHA
DES-CBC-SHA
DES-CBC-MD5
KRB5-DES-CBC-SHA
KRB5-DES-CBC-MD5
EXP-EDH-RSA-DES-CBC-SHA
EXP-EDH-DSS-DES-CBC-SHA
EXP-ADH-DES-CBC-SHA
EXP-DES-CBC-SHA
EXP-RC2-CBC-MD5
EXP-KRB5-RC2-CBC-SHA
EXP-KRB5-DES-CBC-SHA
EXP-KRB5-RC2-CBC-MD5
EXP-KRB5-DES-CBC-MD5

To make the same change using the Elastic Load Balancing CLI, use the following commands -- this policy leaves all ciphers and protocols in their default state, except for those listed above):

elb-create-lb-policy {MyLoadBalancer} --policy-type SSLNegotiationPolicyType --policy-name {PolicyName} --attribute ""name=Protocol-SSLv2,value=false"" --attribute ""name=PSK-AES256-CBC-SHA,value=false"" --attribute ""name=EDH-RSA-DES-CBC3-SHA,value=false"" --attribute ""name=EDH-DSS-DES-CBC3-SHA,value=false"" --attribute ""name=ADH-DES-CBC3-SHA,value=false"" --attribute ""name=DES-CBC3-SHA,value=false"" --attribute ""name=DES-CBC3-MD5,value=false"" --attribute ""name=PSK-3DES-EDE-CBC-SHA,value=false"" --attribute ""name=KRB5-DES-CBC3-SHA,value=false"" --attribute ""name=KRB5-DES-CBC3-MD5,value=false"" --attribute ""name=RC2-CBC-MD5,value=false"" --attribute ""name=PSK-AES128-CBC-SHA,value=false"" --attribute ""name=IDEA-CBC-SHA,value=false"" --attribute ""name=EDH-RSA-DES-CBC-SHA,value=false"" --attribute ""name=EDH-DSS-DES-CBC-SHA,value=false"" --attribute ""name=ADH-DES-CBC-SHA,value=false"" --attribute ""name=DES-CBC-SHA,value=false"" --attribute ""name=DES-CBC-MD5,value=false"" --attribute ""name=KRB5-DES-CBC-SHA,value=false"" --attribute ""name=KRB5-DES-CBC-MD5,value=false"" --attribute ""name=EXP-EDH-RSA-DES-CBC-SHA,value=false"" --attribute ""name=EXP-EDH-DSS-DES-CBC-SHA,value=false"" --attribute ""name=EXP-ADH-DES-CBC-SHA,value=false"" --attribute ""name=EXP-DES-CBC-SHA,value=false"" --attribute ""name=EXP-RC2-CBC-MD5,value=false"" --attribute ""name=EXP-KRB5-RC2-CBC-SHA,value=false"" --attribute ""name=EXP-KRB5-DES-CBC-SHA,value=false"" --attribute ""name=EXP-KRB5-RC2-CBC-MD5,value=false"" --attribute ""name=EXP-KRB5-DES-CBC-MD5,value=false""

Once you are satisfied with your policy, you will need to apply it to the load balancer like this (note -- you may want to use elb-describe-lb-policies to make sure you don't override the current policies that are in use for the load balancer):

elb-set-lb-policies-of-listener {MyLoadBalancer} --policy-names {PolicyName} --lb-port 443

You should see the following response:

OK-Setting Policies

We hope you find this information useful.  Let us know if you have any additional questions or concerns.  Also feel free to report any security-specific concerns you may have to aws-security@amazon.com

Thanks again for reaching out to us!"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
After taking these steps, according to Qualys SSL Labs' SSL Server Test (https://www.ssllabs.com/ssltest/index.html), the ELB is still vulnerable to the BEAST attack."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
Hello,

I work for a web development firm that uses Acquia as a hosting environment as we work primarily with Drupal.  We have a client that has a company called ""Trustwave"" run a security report once a month.  They keep getting a FAIL for BEAST vulnerability and this may affect their PCI Compliance with this company. Here was Trustwave's suggested solution:

""Affected user should disable all block-based cipher suites in the server's SSL config and only support RC4 ciphers, which are not vulnerable to full address this vulnerability.  This vulnerability was addressed in TLS version 1.1/1.2, however support for these newer TLS versions is not widely supported at the time of this report, making it difficult to disable previous versions.  Additionally, affected users can also configure SSL to prefer RC4 ciphers over block-based""

Acquia states they cannot make those changes due to their Amazon Service, here was there response:

""I checked with our team here and unfortunately what's outlined in the document is not available to us with Amazon ELBs as they are essentially a black box service with minimal control over the configuration by Acquia.

So, we’re still waiting on Amazon in general per the other ticket you referenced. I would just reference that ticket to keep track of progress on the Amazon side.""

Is there any progress or more insight you can provide me about this issue as our client is expecting a better response than ""too bad"". 

Thanks!"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
If you remove all ciphers except for RC4-MD5 and RC4-SHA it should pass."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
All this ""cipher priority stuff"" is new to me.  Is there a down-side to disabling all ciphers except the RC4 ciphers?  Might a whole subset of our clients then be out of luck?  Any comment will be appreciated.  Thanks!

James"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
To test your ELB config against the latest issues, use this site <https://www.ssllabs.com/ssltest/> (it is free) and they have a most excellent discussion of SSL issues and best practices. 

After searching for hours, I came across the site and it helped me in 3 minutes to solve the issue!

I used it to test for BEAST and discovered you needed to remove some other non-CBC ciphers to fix the issue and pass a PCI scan.

--TLS"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
Is there any update on TSL v1.1 and 1.2 support for ELB? It was mentioned this is on the roadmap nearly a year ago."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
Agreed, or at least fix the ELB to favor RC4 ciphers first which would also mitigate the BEAST attack and pass PCI compliance tests."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
Which additional ciphers would those be?"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
With only RC4-MD5 and RC4-SHA how do we support IE 11 / Win 8.1? https://www.ssllabs.com/ssltest/viewClient.html?name=IE&version=11&platform=Win%208.1

Any update on this AWS?"

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
I found this thread when looking for an answer to the same question.  Is there any cipher supported by IE 11/Windows 8.1 that isn't vulnerable to BEAST?

I've got an 8.1 test machine building right now that I'll use to test and see if RC4 actually is unsupported."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
AWS CloudFront have since added support for SSL, and I get BEAST vulnerability reports for it too.

Please advise."

Amazon EC2	"Re: Is ELB is vulnerable to Beast Attack
I second the request made by Juan Uys. June 2016 and still receive BEAST vulnerability in reports."

Amazon EC2	"HTTPSConnectionPool(host='rds.ap-southeast-1.amazonaws.com', port=443)
hi we got HTTPSConnectionPool(host='rds.ap-southeast-1.amazonaws.com', port=443): Max retries exceeded with url Max retries exceeded with url: / (Caused by <class 'socket.gaierror'>: Errno -2 Name or service not known)

and this had caused our zimbra emailing to failed, pls help urgently, appreciated. 

instance id i-77ebcf21

thanks"

Amazon EC2	"EIP''s disassociated and unallocated
Hi,

Yesterday I had two elastic IP's (52.50.123.217, 52.16.5.0) associated with some instances (i-2a2927a2, i-05f9da8f).
At some point in the last 24 hours the EIP's were disassociated and the account did not have them as allocated either. Can you find out why?

Cheers,"

Amazon EC2	"Re: EIP''s disassociated and unallocated
Hi,

I've spent some time digging through your API calls, and I see a number of ReleaseAddress calls during a 15 minute window including when those EIPs were unmapped. I see about 260 of these calls, and all of them are coming from CloudFormation. I also noticed about 1600+ DisassociateAddress calls also coming from CloudFormation during this window. I suggest you look into your CloudFormation configuration to understand why these API calls are being made.

Best Regards,
Omar S."

Amazon EC2	"Enhanced networking questions
Reading and video watching I had yet to find answers to a few questions wrt to enhanced networking:

Are there any flavors that utilize SR-IOV on 1gb nics? Or is it all 82599?
Is it possible to attach a vif to an SR-IOV enabled instance?
I read how ebs backed instances could be registered with SR-IOV pre-enabled.  Is there cloudformtion directives to enable SR-IOV?

Thanks for your help,

-t"

Amazon EC2	"Cannot connect to database xxx : Too many connections
Hello all, 

We have a problem with our project using RDS server. 

We have developed an application used by a lot of users, but when we arrived at 1k simultaneous users, we encounter this error message : 

Cannot connect to database xxx : Too many connections

The situation : 
1 webserver 
tested with RDS db.r3.8xlarge 

Each user connected send a polling request each 2 seconds .

What do you think about this issue ? 
Do you have ways to solve this problem ? 

Thank you, 
Best regards, 

Ch"

Amazon EC2	"Re: Cannot connect to database xxx : Too many connections
Hello,
the number of concurrent connection for RDS may vary depending on the DB engine, version and instance type you choose.
By default it is based on a formula that is calculated from the DBInstanceClassMemory value. This variable is tuned automatically based on the total available memory of the RDS instances. The formula is:

	max_connections = DBInstanceClassMemory/12582880

DBInstanceClassMemory is in bytes.

It's not recommended to change these values - if you need more connections, we encourage you to upgrade to a larger RDS instance size.

You can find out the max_connections via a MySQL client and the following query:

mysql> select @@max_connections;
-------------------
| @@max_connections |
-------------------
|             20463 |
-------------------

Hope this helps,
kind regards
Ale"

Amazon EC2	"Re: Cannot connect to database xxx : Too many connections
Thank you very much for your answer, 
I progress , after change the RDS instance type, i have another error message

Cannot connect to database xxx : Can't connect to MySQL server on 'xxx.cdpy4yxsttmc.eu-central-1.rds.amazonaws.com' (99)

What is the error (99) ? 

Thank you, 
Best regards,

Ch."

Amazon EC2	"VCenter plugin help - cant create ""environment""
Plugin is installed in my VMware 6 vcenter. When I select to export a VM I dont have the option to create an ""environment"". I can see my region, also Admin User, and VPC are greyed out in the dashboard.

I must have botched the permissions?

Thanks for any advice!

Steve"

Amazon EC2	"Re: VCenter plugin help - cant create ""environment""
https://forums.aws.amazon.com/thread.jspa?messageID=563243

user name \ domain is case sensitive - this is the fix"

Amazon EC2	"Re: VCenter plugin help - cant create ""environment""
https://forums.aws.amazon.com/thread.jspa?messageID=563243  - this is the answer"

Amazon EC2	"Unable to activate Windows Server 2008 R2 datacenter
Hello.  I have an m1.medium i-7ac65f17 server and all of a sudden I see that the windows version is not activated.  I have had this server for 2 years.  I try to activate and get an activation error (error code 0xC004F039).  How do I activate and way was this not activate when I launched in June 2014?  This is a production server and don't want it to stop.  Please help.

Thanks"

Amazon EC2	"Re: Unable to activate Windows Server 2008 R2 datacenter
Hi,

The activation issue could be due to an out of date version of EC2Config and/or old PV drivers.
To fix this, please follow the steps mentioned below:
1.       Update to the latest PV drivers and EC2Config
2.       Restart the instance or restart the EC2Config service after installation
3.       Set the KMS target IP: slmgr /skms 169.254.169.250:1688
4.       Force activation: slmgr /ato

Documentation:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html  http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_Install.html
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#activate-windows

Regards,
Kunal"

Amazon EC2	"Re: Unable to activate Windows Server 2008 R2 datacenter
I had the same problem and the instructions given solved it for me.  However, I didn't understand the PV drivers instruction and the link to the PV drivers was broken.  This one:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html%C2%A0

FYI:  The cause of my problem was accidentally deleting the Task Scheduler job for the EC2Config service.  This caused Windows to not be activated regularly."

Amazon EC2	"Re: Unable to activate Windows Server 2008 R2 datacenter
Hello.  if you remove the space at the end of the URL it works.

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html

Trying this now."

Amazon EC2	"Suddenly unable to access my site, big trouble !
Hello
	My site has been normal running for some time, suddenly can not access today.
My EC2 Instance ID: i-554f65e7 
Public DNS is：ec2-52-8-91-147.us-west-1.compute.amazonaws.com    
Elastic IP: 52.8.91.147 
Instance Status: running
And i registered my domain  in the Route 53

Appreciate for all your help

Happy weekend and thanks!"

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
I have rebooted instance, my site seems to have returned to normal running,and I will continue to monitor."

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
I do not know what happened to instance ID i-554f65e7, my site can be a normal operation after reboot the EC2 instance, but after a period of time, the site can not be accessed again, i must restart the instance returned to normal, again and again, and shown as ""Website refused our connection request"". Today, I have restarted three times. Who can tell me what's going on?

Please help me and thank all of you!

Edited by: virtualdesktop3d on Jun 14, 2016 7:44 AM"

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
And now, unable to access this site, because It refused our connection request !"

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
Check cloudwatch metrics; if your site is being heavily used, you could be running out of memory / CPU.

Also, if you haven't tried a Stop (NOT TERMINATE), then Start, of the instance (from the AWS Console) try that.  That will cause the instance to start up on new hardware, there could be an underlying hardware issue.  Using the Restart function from the AWS console just reboots the instance on the same hardware. Note that if you are using instance storage, you may want to backup the instance store data before doing any of this, in this case... check the AWS docs for confirmation regarding this.  If using EBS volumes only, it's normally not a concern.

Edited by: BrucekConvergent on Jun 15, 2016 4:21 PM"

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
Thanks for your comments. I have tried a variety of methods, Stop and Reboot several times, I do not know what I can do. I can not access my site more than 24 hours."

Amazon EC2	"Re: Suddenly unable to access my site, big trouble !
I have terminated instance, and no longer need the answer, thank you"

Amazon EC2	"Confirm retirement
Hi

An instance was stopped last night (i-25feb56d).  Can you confirm if this was a scheduled retirement or any other reason for it stopping?

Many thanks"

Amazon EC2	"Re: Confirm retirement
Hello,
I can confirm you that it was a scheduled retirement.
You were notified about this on Thursday, June 2, 2016 2:20 PM (PDT) at email private

Kind regards,
Ale

Edited by: AlessandroP@AWS on Jun 17, 2016 12:28 PM"

Amazon EC2	"AWS firewall issue ?
My OS is RHEL 7, disable selinux and firewall ( including iptables rule ).

I can access my two personal mail servers with port 25 (SMTP) before. but recently I can't access them very often. I make sure AWS firewall enable All TCP / UDP traffic in Outbound tag. I did the same test in another linux server, it works at the same time. it's AWS EC instance issue. 

Any idea about that ? just go crazy."

Amazon EC2	"Re: AWS firewall issue ?
Hello,
I had a look at your two Linux instances and everything is fine from Network ACL perspective; on one of the two instances I don't see the ingress rule for TCP 25, so maybe it's currently missing (or you are using a different port)
I am referring to Security Group sg-b2bbc9d6

More in general, I would anyway recommend you to narrow down administrative access to instances to few trusted source IPs or subnets.

Hope this helps,
kind regards
Ale"

Amazon EC2	"Not able to restart instance
I am not able to restart i-710f2bf5 instance.
What should I do now?


Regards,
  Jakub Sławiński."

Amazon EC2	"Re: Not able to restart instance
Hello,
Your instance is now correctly in stopped state so that you can start it again e.g. from AWS console and it will start on a fresh new hardware.
Unfortunately there was an issue with the underlying hardware.
On behalf of AWS, I sincerely apologize for any inconvenience this may have caused to you.

Kind Regards,
Ale"

Amazon EC2	"Scheduled Auto Scaling UP or DOWN needed
https://forums.aws.amazon.com/ann.jspa?annID=3518

When we use this feature we find that our instances often scale DOWN to X number of instances when we want it to scale UP - and vice versa. For example,

1. We went from 2 to 5 instances running. 3 of them came in with our auto scaling rule - > 70% CPU Utilization.
2. At 9am we tell Amazon to set the number of instances to 4 using the scheduled auto scaling feature. So Amazon reduces the number of instances to 4. 
3. We have a small spike in CPU.

What we want is an indicator of UP or DOWN direction. So at 9am we can set UP. And since the number of instances is already > 4, it ignored our request - since if we changed it to 4, we would be going DOWN. 

Makes sense?"

Amazon EC2	"Load balancers
Can I recommend a feature for ELBs? We have a blue/green stack and only 1 stack is active most of the time. It would be awesome if we could ""stop"" an ELB to stop the billing.

We don't want to delete it, since then we need to add it and reconfigure the Cloudformation stack, it would be MUCH better if we could just ""stop"" the ELBs.

+1 ?"

Amazon EC2	"switch from 1 hr min time to 10 minutes
My recommendation is for Amazon AWS to switch to a 10 minute minimum time for an instance from the current 1 hr. This would make spot instances more appealing since the 2 minute warning is far less than 1 hr. Also Azure has 1 minute pricing, and Google Compute is 10 minutes - so it would allow Amazon to compete with their competitors.

Say +1 if you agree."

Amazon EC2	"VPC Internal BGP
Hello, I am working on setting up a VPN to connect my VPCs to a 3rd party. They require specific setting, so I am unable to use the AWS VPN endpoints, but rather have EC2 instances that I plan on using as gateways. Is there a way for me to advertise subnets available on the other end of the VPN using bgp? I am already running bgpd (quagga) on the instances I plan on using. I just need to know if/how I can connect to the VPC router to get the routes to propagate up the line."

Amazon EC2	"AWS Connector 2.2.0 and Management Portal Issues
Hi,

I have installed and configured the AWS Connector version 2.2.0 on vSphere 5.5.  The connector shows green check marks for the health status.  I have created IAM users with AWS Connector/Admin rights with the AWS Connector role attached.

My issue is when i try to ""Migrate to EC2"" I get the following error:
""Unable to authenticate user.  Please log in by going to Home > AWS Management Portal.  If the error still persists, please contact AWS Support.""

After getting this error I try to goto the AWS Management Portal in vSphere and I get an error saying the webpage cannot be displayed.

vSphere and the AWS Connector are on the same subnet.

Any help would be greatly appreciated!

Thank you,
Mike"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hello Mike, 

Thank you for posting to the AWS forums. 

I have reached out to our team regarding this issue. As soon as we have more information we will be updating this post.

Best, 
Matt"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hi there, 

Could you kindy confirm the following: 

1) Do you have a web proxy configured? 
2) Are you able to open the connector dashboard from teh same machine that has vsphere client installed ?

Kind regards, 
Belynda"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Another issue - vCenter Service Account Details - it shows the following error while registering the connector:

An error occured creating role ""AWS Connector"". Permission to perfrom this operation was denied.

vCenter version is 5.1.0
Connector version is 2.2.0"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hello,

I have reported the issue to our operations team.
We will reply via this forum as soon as we have an update.

Kind regards,
LloydM"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
The reason you are seeing this error is because the ""admin"" user that you are putting in the ""Step 3: vCenter Admin Credentials"" of the connector setup does not have the permissions to create new roles in your vCenter, which is a requirement of the setup process. Please try registering the connector again using the admin credentials of the user who has the permissions to create new roles. Here are the instructions to configure the Connector: http://docs.aws.amazon.com/amp/latest/userguide/install-option-connector.html#configure-connector-fp

Regards 
Tony"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hello,

I am receiving the same error when trying to migrate a server, with the exact same connector version and vcenter version.

This is a fresh install of vcenter, the admin used is the default account , vsphere.local\administrator, so it should not be a matter of creating the roles. 

Can anyone tell me what is going on?"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hi Cosmin,

I have informed our operations team of the error that you are receiving.
I have let them know that this relates to a fresh install of vcenter and that the admin used is the default account.

We will update you as soon as we have any feedback.

Many thanks,
LloydM"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
Hello Cosmin,

It's possible that ""vsphere.local\administrator"" is a vCenter 5.5 SSO administrator but still not a vCenter Server administrator. Could you please log into vCenter, select the vCenter Server root node, look at the permissions for that vCenter Server, and make sure ""vsphere.local\administrator"" is listed?

Regards,
Troy W"

Amazon EC2	"Re: AWS Connector 2.2.0 and Management Portal Issues
If anyone is having still having trouble with this, here's what fixed it for me:

After you've completed the setup by following the instructions here: http://docs.aws.amazon.com/amp/latest/userguide/install-option-connector.html#configure-connector-fp

You need to login to vcenter, go to ""home"" and select 'AWS Management Portal'. From there, you need to accept the security certificate before you can migrate your vms to ec2. 

If you're sure that you've properly given permissions to the users, I would suggest making sure you've done this. It worked for me where other suggestions in this post did not help. 

-Charley"

Amazon EC2	"Operation timed out when SSH to EC2 Instance
I can't seem to ssh into my ec2 instance and I am not sure why. I am on the free tier and with all my attempts, I'm not sure why I am constantly getting Operation Timeout

I am using this command

$ ssh -i /path/to/keypair.pem ec2-user@public_dns_name


My security group for outbound and inbound has Port Range set to ALL, traffic is ALL, Protocol is ALL, and IP 0.0.0.0/0

When I SSH, I keep getting Operation Timeout. I have the instance set to accept all traffic and yet I cannot SSH into it. I've terminated an instance and created another one but same issue."

Amazon EC2	"Re: Operation timed out when SSH to EC2 Instance
Hi,

Could you please provide the instance ID of the instance you're trying to connect to?

Anup"

Amazon EC2	"Re: Operation timed out when SSH to EC2 Instance
Here you go!

Instance ID: i-2efd48f3"

Amazon EC2	"unable to connect to ec2 instance using putty
Hi, I was trying to connect to ec2 instance i-7ceddee9 but get ""connection time d out"" message.
I've checked all the security group, VPC, subnet etc definitions, but everything seems correct. what may be the issue?
Thanks"

Amazon EC2	"Re: unable to connect to ec2 instance using putty
up..."

Amazon EC2	"Internal server error when trying to get instance info
I've recently been trying to access the aws ec2 api from google scripts because the javascript sdk won't run within google scripts. I believe I set up the signature and query correctly but I'm getting an internal server error. Here is the query and here is the response.
Query: https://ec2.amazonaws.com/?Action=DescribeInstances?Version=2015-10-01

Response:
<html><head><title>Error report</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 500 - Encountered an Internal Error</h1><HR size=""1"" noshade=""noshade""><p><b>type</b> Status report</p><p><b>message</b> <u>Encountered an Internal Error</u></p><p><b>description</b> <u>The server encountered an internal error that prevented it from fulfilling this request.</u></p><HR size=""1"" noshade=""noshade""></body></html>


Is there something wrong with my query or my setup of the ec2 server or is the api/amazon server just not working?

Edited by: flashstartsdev on Jun 15, 2016 10:50 AM

Edited by: flashstartsdev on Jun 15, 2016 10:51 AM"

Amazon EC2	"Re: Internal server error when trying to get instance info
Hi,

Thanks for posting to our forums. However, this one is for AWS API Gateway. I've moved your thread to the EC2 forums because you might get better answers there.

Thanks,
Jurgen"

Amazon EC2	"Re: Internal server error when trying to get instance info
Found the error. It was in my query. I used a question mark after the first parameter instead of an ampersand."

Amazon EC2	"Can't stop instance
Hi Guys,

I can't seem to stop an instance (i-b5a87c6a), tried forcing but still to no avail! Any help would be appreciated."

Amazon EC2	"Re: Can't stop instance
Hello,
Looking at the instance and at its underlying hardware I don't find any issue so far; instance is now UP&Running with Status Check OK 2/2 and OS available.
I hope your issue is solved but please feel free to contact us in case of need.

Kind regards
Ale"

Amazon EC2	"Hybrid Environments
Hello every body 
plz try to listen to me . 
I am run webapp java and I am have datacenter with 2 server to run this app 
and I am starting to user more Server with AWS and its ok working fine with Direct connection to AWS. servers in Data center run with other Ec2 in Amazon every things fine.

my question is : 
I want to create auto scaling Group in AWS but when you going to create auto scaling group 

in AWS I am Arrive to step of ( Attach instance ) when you attach instance: AWS show
to you only The EC2 instance of AWS . 
my question is here how I can attach my 2 server in Data center? 
its seems stupid question but sure have solation for this.
dont forget i am with direct connection and working fine. 

hope can help me 

best Regards"

Amazon EC2	"Re: Hybrid Environments
any answer plz"

Amazon EC2	"Feature request - tags for Elastic IP's
Currently, we have 2 elastic IP's that are associated with NAT Gateways for our VPN's. Both addresses are listed in the elastic IP section of the web console, but they appear to not be associated with anything (No instance, no public DNS, etc). I'm concerned someone is going to see these and release them because they think they're not in use. It would be great to be able to add tags to these elastic IP's so I can notify others that they shouldn't be released."

Amazon EC2	"Re: Feature request - tags for Elastic IP's
Hello,
thanks for your input. Anyway don't worry, because if someone or even you will try to release it, you will get an error saying that you are not authorized to do the action.
This because in order to do this, you need to delete the NAT Gateway itself.

Hope this helps,
kind regards
Ale"

Amazon EC2	"EC2 freezes when open inbound port 80 to anywhere
Hi.

   I don't know what to do anymore. I'm stuck in 3 days trying to solve a problem. Suddenly my EC2 instance started to freeze. I have an web app on it. I've read all the logs, I revised all the configurations. Find nothing! I didn't find why the EC2 instance keeps freezing.

   I was trying all when I found that when I open inbound port 80 for anywhere in security groups the EC2 instance freeze. And just stopping and starting to get it running again. Opening the port 80 only for my ip nothing happens, the web app works as usual.

  It's a ubuntu ami with apache running php.

   What could be?

   Is there any option for a amazon specialist check my case? I can pay, it's very important.

   VPC ID: vpc-cd5ae6a8

Edited by: Cassiano Tartari on Jun 11, 2016 7:08 AM"

Amazon EC2	"Re: EC2 freezes when open inbound port 80 to anywhere
Hi,

You said that when you open inbound port 80 for anywhere in security groups the EC2 instance freeze and the instance operates normal when you restrict inbound port 80 to your IP. This suggests to me that the instance gets overwhelmed with incoming HTTP requests and this breaks some services. How is the CPU and memory utilization during this time?

I noticed that instance i-09df1feb CPU utilization spikes up when there is a spike in NetworkIn. t2.small might be too small for your web application. Please consider upgrading your instance to a bigger instance type with more CPU or memory. For more information on re sizing your instance type please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Please see a list of instance types and their capacity here: http://aws.amazon.com/ec2/instance-types/

If you want to work with an engineer on this issue from paid support you can move to premium support with no long-term contracts. Please refer to this link for more information on premium support: https://aws.amazon.com/premiumsupport/pricing/

Regards,

Souza S"

Amazon EC2	"Re: EC2 freezes when open inbound port 80 to anywhere
SouzaS@AWS wrote:
Hi,

You said that when you open inbound port 80 for anywhere in security groups the EC2 instance freeze and the instance operates normal when you restrict inbound port 80 to your IP. This suggests to me that the instance gets overwhelmed with incoming HTTP requests and this breaks some services. How is the CPU and memory utilization during this time?

I noticed that instance i-09df1feb CPU utilization spikes up when there is a spike in NetworkIn. t2.small might be too small for your web application. Please consider upgrading your instance to a bigger instance type with more CPU or memory. For more information on re sizing your instance type please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

Please see a list of instance types and their capacity here: http://aws.amazon.com/ec2/instance-types/

If you want to work with an engineer on this issue from paid support you can move to premium support with no long-term contracts. Please refer to this link for more information on premium support: https://aws.amazon.com/premiumsupport/pricing/

Regards,

Souza S

Hi, thanks for reply @SouzaS@AWS 

So, my web app doesn't have so much visits and I'm always monitoring with Google Analytics and the maximum users at same time that I saw was 13, too small. My app has all assets under CloudFront and database in RDS. So the EC2 instance basic just to render html, and all the pages are very simple. By the way, the website was running smoothly and fast for last months. With all traffic in inbound open to anywhere when suddenly this problem starts.

My tests found that traffic from port 80 was the problem, when I keep only 443 opened (my web app has ssl certificate) all goes right.

Yesterday I was running:
sudo tcpdump -i eth0 src port 80
And I saw I huge traffic from bingbot, the crawler from Bing. Tried to block them in robots.txt and doesn't work, my instance keeps freezing. So I add some code into my php to block them and blocked some ips from them with:
sudo iptables -A INPUT -s 157.55.39.144 -p tcp --destination-port 80 -j DROP

To look at memory and cpu usage I'm running in the last days:
sudo htop
The CPU usage is almost zero and memory keeps I almost all the time with 896/2000

So I don't know If just upgrading the instance will solve my issue or will cover it. I can't understand why because for months my web app was running as lighting and all at once this started.

I will look at premium support. I'm paying a huge monthly fee for a so small web app all ready."

Amazon EC2	"Re: EC2 freezes when open inbound port 80 to anywhere
I think I solved the issue, what I did:

As I said, I've blocked some ips from bing with iptables.

Added crawl-delay in robots.txt, I don't know if bots really care about it.

Installed  monit to monitoring apache, alert me by email and restart when it freezes.

Added swap   partition, I think this step was crucial to not freeze my instance for high memory usage.

Rechecked parameters in mpm prefork of php. A good script to calculate is this ""curl -L http://apache2buddy.pl/ | perl""

I did a lot of load tests with JMeter  and now the instance don't freeze anymore, it could be very slow with a huge traffic but don't stop.

As I said, for my traffic and light code 2GB of memory is enough.

Edited by: Cassiano Tartari on Jun 16, 2016 5:25 AM"

Amazon EC2	"Instance stuck in shutting-down state for more than 8 days
One of our instances(i-a8b79777) has been stuck for more than 8 days now. I am not able to force shutdown or terminate the instance.
Is there anything I can do to remove this instance?"

Amazon EC2	"Re: Instance stuck in shutting-down state for more than 8 days
Hello,
now your instance ID(s) i-a8b79777 is correctly terminated.
On behalf of AWS, I sincerely apologize for any inconvenience this may have caused to you. 

Kind regards,
Ale"

Amazon EC2	"How to calculate the the fulfiled price for spot instance
Hi,

I retrieve the current ""Spot Price"" for m3.medium in eu-west-1a, it is lower than $0.02

```
aws> ec2 describe-spot-price-history --instance-types m3.medium --availability-zone eu-west-1a --product-descriptions Li
nux/UNIX --start-time 2016-06-14T01:00:00 --end-time 2016-06-14T12:00:00
{
    ""SpotPriceHistory"": [
        {
            ""Timestamp"": ""2016-06-14T07:13:43.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010400"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:13:10.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010300"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:12:36.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010400"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:09:52.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010300"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:09:19.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010400"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:04:25.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010300"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-14T07:03:53.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010400"",
            ""AvailabilityZone"": ""eu-west-1a""
        },
        {
            ""Timestamp"": ""2016-06-13T19:34:20.000Z"",
            ""ProductDescription"": ""Linux/UNIX"",
            ""InstanceType"": ""m3.medium"",
            ""SpotPrice"": ""0.010300"",
            ""AvailabilityZone"": ""eu-west-1a""
        }
    ]
}
```

However my Spot Request is still not fulfilled.
```
price-too-low: Your Spot request price of 0.02 is lower than the minimum required Spot request fulfillment price of 0.04.
```

How is it possible be $0.04, am I missing something for the calculation.

Edited by: ChrisDuongSentifi on Jun 14, 2016 1:07 AM"

Amazon EC2	"Re: How to calculate the the fulfiled price for spot instance
Hello,
looking at your account I can see Spot request only for R3 instances (r3.xlarge ad one r3.large).
Could you please double-check and retry to make the Spot Instance request?

Thanks in advance,
kind regards
Ale"

Amazon EC2	"Returned spot price history is limited to 1000 rows
Hello to all,

if the actual amount of items in the spot price history is slightly greater than 1000 rows aws ec2 describe-spot-price-history returns only 1000 of them.

Attached testing script plays with the timeframe's width to identify a suspicious result set. Script prints a result items CSV to stdout, where the last integer field is a flag, which is set to 1 if it's an extra item (fetched using an extra call to aws ec2 describe-spot-price-history command). Debugging output of the aws ec2 describe-spot-price-history is printed to stderr.

Outputs of the script (stdout and stderr) are attached as well. Result items CSV looks good - extra items seem to be correct, so they should be in the primary result set.

Note, that extra items (but not only extra items) have a timestamp, which does not belong to the requested timeframe - it's earlier than a start date, but the price was actual for the beginning of the timeframe so it's correct to have that in the result set.

All the best,
Ilya

P.S. I'm using aws-cli/1.10.28 Python/2.7.3 Linux/3.2.0-98-virtual botocore/1.4.20 version of aws-cli.

P.P.S. A respective issue on aws-cli github project was closed and I was advised to ask for help here.

Edited by: storozhilov on Jun 16, 2016 3:38 AM"

Amazon EC2	"Can't access my ec2 instance using global ip
Hello,

I can't access my ec2 instance using global ip. I set http inbound traffic for my security group to ""Anywhere"" (0.0.0.0/0), but when I tried to access my app using wget it returns: 
Connecting to 52.208.82.145:80... connected.
HTTP request sent, awaiting response... 302 Found
Location: http://www.dicorico.com/ following
--2016-06-16 12:03:55--  http://www.dicorico.com/
Resolving www.dicorico.com (www.dicorico.com)... failed: Name or service not known.
wget: unable to resolve host address ‘www.dicorico.com’

My instance id is ""i-11a6ce9d""

Edited by: art_galuza on Jun 16, 2016 3:02 AM"

Amazon EC2	"How can i upload my own website on a ec2 instance.
Hello. I managed to configure my website on a linux ec2 instance with drupall application. But i don't know where i need to modify the files of the server. I already have a fully funtional website on my local host and would like to upload it in my ec2 instance. Can i upload y site somwehere in drupall ? I also tried without drupall , i installed apache and everything but i can't add files on /var/www/ folder because i don;t have the necessary permission. Can you please give me some suggestions or tutorials that might help me? Thanks!"

Amazon EC2	"Creating an Image from an Instance stucks on pending for 6 hours
Hi,

Again creating an image and not changing pending status. The AMI id is ami-c9dc42ba. It has a lot of hard disk (100GB + 300 GB + 150GB), but I don't know if the time is ok or it hangs forever on this state. I have a service stopped due to this and not knowing how the status works makes not having idea of what to do.

Is this normal? How much is the amount of time to wait for an image? How does it works the status? I created another image and I had similar issues and I didn't not see other status than pending and ready. Does it means that it is working or not?

It's a pity not having better status information to take decisions about running services.

Edited by: JuanManuelMR on Jun 16, 2016 12:38 AM

Edited by: JuanManuelMR on Jun 16, 2016 12:43 AM"

Amazon EC2	"Re: Creating an Image from an Instance stucks on pending for 6 hours
7 hours is the time it took to make an image from the instance I had. Finally I got the image in available state.

The way status works should be improve because I have not seen a change from pending to available."

Amazon EC2	"Swagger file validation error ""missing path parameter(s)""
APi with CORS enabled, After Exporting swagger file when i go to validate at site http://bigstickcarpet.com/swagger-parser/www/index.html, it throw error like:

Validation failed. /paths/grower/{grower_id}/options is missing path parameter(s) for {grower_id}

Error: Validation failed. /paths/grower/{grower_id}/options is missing path parameter(s) for {grower_id}
at http://bigstickcarpet.com/swagger-parser/www/js/bundle.min.js:11:318
at http://bigstickcarpet.com/swagger-parser/www/js/bundle.min.js:50:316

When I add manually path parameters under option for that api, it fix that error.

Not sure how to map so that it should come when exported."

Amazon EC2	"EC2 windows instance network stop to work after some seconds
Hi,

I created a Windows 2012 R2 Instance using AMI (following the Amazon Getting Started) and tried to connect to this instance using windows Remote Desktop Connection. After some seconds connected, the network stops and I just can connect again if I restart the instance. Then the instance works some seconds and stop again... 

I made the following settings on the console:
~ created a VPC
~ created a subnet
~ created a route table
~ created an internet gateway
~ created a security group: I put 3 permissions (http 80, https 443 and RDP 3389)
~ updated AWS PV Driver
~ associated an Elastic IP

The Windows Log is:
2016/06/05 02:29:08Z: EC2ConfigMonitorState: 0
2016/06/05 02:29:08Z: Windows sysprep configuration complete.
2016/06/05 02:29:09Z: AMI Origin Version: 2016.05.11
2016/06/05 02:29:09Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2016/06/05 02:29:09Z: OS: Microsoft Windows NT 6.3.9600
2016/06/05 02:29:09Z: OsVersion: 6.3
2016/06/05 02:29:09Z: OsProductName: Windows Server 2012 R2 Standard
2016/06/05 02:29:09Z: OsBuildLabEx: 9600.18289.amd64fre.winblue_ltsb.160328-1315
2016/06/05 02:29:09Z: Language: en-US
2016/06/05 02:29:09Z: TimeZone: Coordinated Universal Time
2016/06/05 02:29:09Z: Offset: UTC 00:00:00
2016/06/05 02:29:09Z: EC2 Agent: Ec2Config service v3.16.930
2016/06/05 02:29:10Z: Driver: AWS PV Network Device v7.3.2.0
2016/06/05 02:29:10Z: Driver: AWS PV Storage Host Adapter v7.3.2.0
2016/06/05 02:29:10Z: Message: Waiting for meta-data accessibility...
2016/06/05 02:29:10Z: Message: Meta-data is now available.
2016/06/05 02:29:10Z: AMI-ID: ami-8db945ed
2016/06/05 02:29:10Z: Instance-ID: i-086b2df31e44b4014
2016/06/05 02:29:10Z: Ec2SetPassword: Disabled
2016/06/05 02:29:10Z: RDPCERTIFICATE-SUBJECTNAME: WIN-RK...
2016/06/05 02:29:10Z: RDPCERTIFICATE-THUMBPRINT: 36...
2016/06/05 02:29:13Z: Message: Windows is Ready to use

When I try to connect to instance, the RDP shows me:
1) Remote access to the server is not enabled
2) The remote computer is turned off
3) The remote computer is not available on the network

Additional information:
~ I can't ping.
~ The Instance Status Checks are ok (System reachability check passed and Instance reachability check passed)
~ Instance Type: t2.micro (us-west-2a)

Can you help me to solve this problem? Which detailed information do you need?
My Instance ID is: i-086b2df31e44b4014"

Amazon EC2	"Re: EC2 windows instance network stop to work after some seconds
Hello, 
sorry to hear you have issues to RDP into your instance. For what I could investigate from my monitoring tools, the instance has the following ports allowed 

Protocol 	Port range 	Source
TCP 	80 	0.0.0.0/0
TCP 	443 	0.0.0.0/0
TCP 	3389 	201.17.234.178/32

You can't ping because you need to specify on the security group a rule allowing ICMP traffic to the instance. 

The RDP Access issue, you have only 1 IP allowed and seems to be a public IP, this may be the IP assigned by the ISP to your terminal, keep in mind this addresses are mostly dynamic.

To rule out an issue with the RDP service what you can do is this test.. edit that rulle and change the source for the 3389 TCP to 0.0.0.0/0 and try again. If you are successful then the problem is the rule not allowing your access from your terminal. If not please share with us the error 

Cheers! 
Javier C#"

Amazon EC2	"Re: EC2 windows instance network stop to work after some seconds
I did the suggested changes, tried again to ping and to connect to the instance via RDP, but I did not succeed.

The test ping result was:
c:\ping ec2-52-36-56-70.us-west-2.compute.amazonaws.com

Pinging ec2-52-36-56-70.us-west-2.compute.amazonaws.com http://52.36.56.70 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 52.36.56.70:
Packets: Sent = 4, Received = 0, Lost = 4 (100% loss)

What else can we try?"

Amazon EC2	"Re: EC2 windows instance network stop to work after some seconds
I solved my problem creating a new instance in a new AWS Zone.
I don't know why, but my network of instances stop do work suddenly in zone us-west-2a."

Amazon EC2	"how can i ""filter"" the api call to describe autoscaling groups?
Is there any way to filter an api call to  DescribeAutoScalingGroups by tags on it?"

Amazon EC2	"ELB with 2-way SSL ?
Hello,

Sorry, I have not found recent response for this question :

AWS ELB does support now 2-way SSL ?

Thanks by adance,"

Amazon EC2	"Re: ELB with 2-way SSL ?
Hello,

Currently ELB does not support 2-way authentication. But in order for 2-way authentication to take place, the server needs to be able to authenticate back the client. If you could just provide the use case, it would tremendously helpful to understand the case and we'll be able to provide a solution accordingly.

Thanks,
Anup"

Amazon EC2	"512GB RAM instance?
Anybody knows whether amazon plans on adding bigger instances?
Currently most RAM you can get is 244gb on r3.8xlarge. I'm running some monte carlo simulations and would benefit from more RAM."

Amazon EC2	"Re: 512GB RAM instance?
Hello,

We do not currently offer instances with 512GB of RAM.

Having said that, you're not the first to request this. I'll add your voice to the list 

Richard"

Amazon EC2	"Re: 512GB RAM instance?
I'll throw in that I need a machine with at least 384 GiB of RAM to run a model that otherwise requires running on a supercomputer; I'd be really happy if I could get it onto EC2 instead."

Amazon EC2	"Re: 512GB RAM instance?
Any progress on adding 512 GB instances?
I have some types of simulations that would really benefit from anything 400GB and up (even 1TB, 2TB of ram, but I guess that is still few years away)"

Amazon EC2	"Re: 512GB RAM instance?
I'm still waiting too, my SQL Server instance needs at least 400 GB to not get its buffer cache constantly flushed from memory pressure."

Amazon EC2	"Re: 512GB RAM instance?
Well, there is the X1 instance type available now, 2TB of RAM... might be too big for what some of you guys want though."

Amazon EC2	"st1 EBS volume already has partitions when mounting
I just created a new st1 EBS volume and after attaching it to my linux instance it already has a few partitions set up. No filesystem as far as I can tell. I was under the impression that all EBS volumes were wiped when detached and deleted. If there is any way to gain access to the data that someone else left on a ""deleted"" EBS volume we would like to know so we can wipe them manually before we delete them.

I have seen this happen twice now and I recorded the last one below. The first time I thought it must've been me doing something strange so I detached and deleted that EBS volume immediately and created a new one that was completely blank. This time I figured I'd keep an eye out for the same issue and I made sure to not make any changes at all. I have only seen this behaviour with st1 disks.

Here's what a simple lsblk gives me right after I have attached a brand new 4TB st1 EBS volume:
$ lsblk
NAME       MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT





a bunch of legitimate disks and partitions here that is irrelevant ---





xvdj                202:144  0   3.9T  0 disk      <--- new disk that I just attached in the AWS console.
├─xvdj1          202:145  0 591.3G  0 part  <---
├─xvdj3          202:147  0 155.5G  0 part  <--- random partitions that I did not create.
└─xvdj4          202:148  0 731.9G  0 part  <---

Please let me know if I'm just misunderstanding how linux functions as I'm no expert. I just want to be certain."

Amazon EC2	"Re: st1 EBS volume already has partitions when mounting
Hello,

This is unusual and shouldn't be happening. Any fresh volume created should come as a whole volume altogether. Could you please provide the volume ID of this volume and the instance ID as well? Let me take a quick look in to this and see whats happening.

Thanks,
Anup"

Amazon EC2	"IMPORTINSTANCE: ClientError: No valid partitions. Not a valid volume?
Hello,

Can someone tell me why an upload of a VMDK would need a new partition or volume to work?  Is it caused by the RAW format detected?  Is there a way around this so we can get the new instance working?

Thanks in advance,
Jeff


Disk image format: RAW
Converted volume size: 1772289992 bytes (1.65 GiB)
Requested EBS volume size: 10737418240 bytes (10.00 GiB)
TaskType	IMPORTINSTANCE	TaskId	import-i-fg7i8rsl	ExpirationTime	2011-10-21T19:41:48+00:00	Status	active	StatusMessage	Pending	InstanceID	i-bcab92dc	Description	Oberon WinXP Oracle Image
DISKIMAGE	DiskImageFormat	RAW	DiskImageSize	1772289992	VolumeSize	10	AvailabilityZone	us-east-1b	ApproximateBytesConverted	0	Status	active	StatusMessage	Pending
Creating new manifest at psd-ops/98cc1e40-7d97-4627-9c0f-af5ca194d4c9/Windows-XP-Pro.05.vmdkmanifest.xml
Uploading the manifest file
Uploading 1772289992 bytes across 170 parts
0% |--------------------------------------------------| 100%
   |==================================================|
Done
Average speed was 9.629 MBps
The disk image for import-i-fg7i8rsl has been uploaded to Amazon S3
where it is being converted into an EC2 instance.  You may monitor the
progress of this task by running ec2-describe-conversion-tasks.  When
the task is completed, you may use ec2-delete-disk-image to remove the
image from S3.

TaskType	IMPORTINSTANCE	TaskId	import-i-fgzskc9n	ExpirationTime	2011-10-21T18:55:55+00:00	Status	active	StatusMessage	Pending	InstanceID	i-aee2dbce	Description	Oberon WinXP Oracle Image
DISKIMAGE	DiskImageFormat	RAW	DiskImageSize	1772289992	VolumeSize	10	AvailabilityZone	us-east-1b	ApproximateBytesConverted	0	Status	active	StatusMessage	Pending

TaskType	IMPORTINSTANCE	TaskId	import-i-fg7i8rsl	ExpirationTime	2011-10-21T19:41:48+00:00	Status	cancelling	StatusMessage	ClientError: No valid partitions. Not a valid volume.	InstanceID	i-bcab92dc	Description	Oberon WinXP Oracle Image
DISKIMAGE	DiskImageFormat	RAW	DiskImageSize	1772289992	VolumeIdvol-a94d7cc3	VolumeSize	10	AvailabilityZone	us-east-1b	ApproximateBytesConverted	1772289992	Status	completed

Edited by: perfectsensedigital on Oct 14, 2011 1:31 PM"

Amazon EC2	"Re: IMPORTINSTANCE: ClientError: No valid partitions. Not a valid volume?
Jeff,
From what we can see, you are trying to upload a specific partition to VM Import expects disk images as opposed to specific partitions.
 Please upload the dump of the complete physical disk to import into EC2. Also please note that the supported operating systems are:
1. Windows Server 2003 R2
2. Windows Server 2008

WinXP is not a supported operating system.

Thank you for using AWS.

-Bashuman"

Amazon EC2	"Re: IMPORTINSTANCE: ClientError: No valid partitions. Not a valid volume?
Is FreeBSD also not supported? I'm seeing the same error trying to pull in a simple OVA for a pfSense VM."

Amazon EC2	"unable to install openssl-devel on amazon linux 2014.09
openssl-devel is totally broken amazon linux 2014.09 (ami-146e2a7c).

To recreate it setup a new server with the given AMI and point the yum repos to releasever=2014.09

sudo yum install openssl-devel
Loaded plugins: priorities, update-motd, upgrade-helper
Resolving Dependencies
--> Running transaction check
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Processing Dependency: zlib-devel(x86-64) for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Processing Dependency: krb5-devel(x86-64) for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Running transaction check
---> Package krb5-devel.x86_64 0:1.10.3-33.28.amzn1 will be installed
--> Processing Dependency: libcom_err-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
--> Processing Dependency: keyutils-libs-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
--> Processing Dependency: libselinux-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
---> Package zlib-devel.x86_64 0:1.2.7-10.17.amzn1 will be installed
--> Running transaction check
---> Package keyutils-libs-devel.x86_64 0:1.5.8-3.12.amzn1 will be installed
---> Package libcom_err-devel.x86_64 0:1.42.12-1.34.amzn1 will be installed
--> Processing Dependency: libcom_err(x86-64) = 1.42.12-1.34.amzn1 for package: libcom_err-devel-1.42.12-1.34.amzn1.x86_64
---> Package libselinux-devel.x86_64 0:2.1.10-3.17.amzn1 will be installed
--> Processing Dependency: libsepol-devel >= 2.1.5-1 for package: libselinux-devel-2.1.10-3.17.amzn1.x86_64
--> Processing Dependency: pkgconfig(libsepol) for package: libselinux-devel-2.1.10-3.17.amzn1.x86_64
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Running transaction check
---> Package libcom_err.x86_64 0:1.42.9-4.33.amzn1 will be updated
--> Processing Dependency: libcom_err(x86-64) = 1.42.9-4.33.amzn1 for package: e2fsprogs-libs-1.42.9-4.33.amzn1.x86_64
--> Processing Dependency: libcom_err(x86-64) = 1.42.9-4.33.amzn1 for package: libss-1.42.9-4.33.amzn1.x86_64
--> Processing Dependency: libcom_err(x86-64) = 1.42.9-4.33.amzn1 for package: e2fsprogs-1.42.9-4.33.amzn1.x86_64
---> Package libcom_err.x86_64 0:1.42.12-1.34.amzn1 will be an update
---> Package libsepol-devel.x86_64 0:2.1.7-3.12.amzn1 will be installed
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Running transaction check
---> Package e2fsprogs.x86_64 0:1.42.9-4.33.amzn1 will be updated
---> Package e2fsprogs.x86_64 0:1.42.12-1.34.amzn1 will be an update
---> Package e2fsprogs-libs.x86_64 0:1.42.9-4.33.amzn1 will be updated
---> Package e2fsprogs-libs.x86_64 0:1.42.12-1.34.amzn1 will be an update
---> Package libss.x86_64 0:1.42.9-4.33.amzn1 will be updated
---> Package libss.x86_64 0:1.42.12-1.34.amzn1 will be an update
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Finished Dependency Resolution
Error: Package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64 (amzn-updates)
           Requires: openssl(x86-64) = 1:1.0.1k-1.84.amzn1
           Installed: 1:openssl-1.0.1k-14.91.amzn1.x86_64 (@amzn-updates/latest)
               openssl(x86-64) = 1:1.0.1k-14.91.amzn1
           Available: 1:openssl-1.0.1i-1.78.amzn1.x86_64 (amzn-main)
               openssl(x86-64) = 1:1.0.1i-1.78.amzn1
           Available: 1:openssl-1.0.1i-1.79.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1i-1.79.amzn1
           Available: 1:openssl-1.0.1j-1.80.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1j-1.80.amzn1
           Available: 1:openssl-1.0.1k-1.82.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1k-1.82.amzn1
           Available: 1:openssl-1.0.1k-1.84.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1k-1.84.amzn1
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest


This is the output after running yum update
sudo yum install openssl-devel
Loaded plugins: priorities, update-motd, upgrade-helper
Resolving Dependencies
--> Running transaction check
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Processing Dependency: zlib-devel(x86-64) for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Processing Dependency: krb5-devel(x86-64) for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Running transaction check
---> Package krb5-devel.x86_64 0:1.10.3-33.28.amzn1 will be installed
--> Processing Dependency: libcom_err-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
--> Processing Dependency: keyutils-libs-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
--> Processing Dependency: libselinux-devel for package: krb5-devel-1.10.3-33.28.amzn1.x86_64
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
---> Package zlib-devel.x86_64 0:1.2.7-10.17.amzn1 will be installed
--> Running transaction check
---> Package keyutils-libs-devel.x86_64 0:1.5.8-3.12.amzn1 will be installed
---> Package libcom_err-devel.x86_64 0:1.42.12-1.34.amzn1 will be installed
---> Package libselinux-devel.x86_64 0:2.1.10-3.17.amzn1 will be installed
--> Processing Dependency: libsepol-devel >= 2.1.5-1 for package: libselinux-devel-2.1.10-3.17.amzn1.x86_64
--> Processing Dependency: pkgconfig(libsepol) for package: libselinux-devel-2.1.10-3.17.amzn1.x86_64
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Running transaction check
---> Package libsepol-devel.x86_64 0:2.1.7-3.12.amzn1 will be installed
---> Package openssl-devel.x86_64 1:1.0.1k-1.84.amzn1 will be installed
--> Processing Dependency: openssl(x86-64) = 1:1.0.1k-1.84.amzn1 for package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64
--> Finished Dependency Resolution
Error: Package: 1:openssl-devel-1.0.1k-1.84.amzn1.x86_64 (amzn-updates)
           Requires: openssl(x86-64) = 1:1.0.1k-1.84.amzn1
           Installed: 1:openssl-1.0.1k-14.91.amzn1.x86_64 (@amzn-updates/latest)
               openssl(x86-64) = 1:1.0.1k-14.91.amzn1
           Available: 1:openssl-1.0.1i-1.78.amzn1.x86_64 (amzn-main)
               openssl(x86-64) = 1:1.0.1i-1.78.amzn1
           Available: 1:openssl-1.0.1i-1.79.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1i-1.79.amzn1
           Available: 1:openssl-1.0.1j-1.80.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1j-1.80.amzn1
           Available: 1:openssl-1.0.1k-1.82.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1k-1.82.amzn1
           Available: 1:openssl-1.0.1k-1.84.amzn1.x86_64 (amzn-updates)
               openssl(x86-64) = 1:1.0.1k-1.84.amzn1
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest
 


Basically there is no way to install openssl-devel on a fresh"

Amazon EC2	"Re: unable to install openssl-devel on amazon linux 2014.09
Hi,

I was able to reproduce the issue you were seeing and also solve it. The problem lay in the fact that openssl needs to be downgraded in order for the 2014.09 version of openssl-devel to install. Please try with the following commands:

sudo yum update
sudo yum downgrade openssl-1.0.1k-1.84.amzn1.x86_64
sudo yum install openssl-devel


Best Regards,
Omar S."

Amazon EC2	"Remote Desktop Randomly Freezes - Windows 2008 R2
Hey Everybody --

I'm having an issue with Remote Desktop on my Windows 2008 R2 Server (ami-ee926087). People are able to connect just fine but the connection will randomly freeze. There is no way I can tell what is causing the connection to become unstable. I'm desperately trying to find a solution so my users can continue to work without interruption. 

Currently, we are directing our users to xx.myserver.com which will direct them to a login page for remote app. Alternatively, the user can use Remote Desktop Connection to connect to the same server. The DNS is hosted via Amazon 53 and is pointed to a single server. The server is located within an Amazon VPC. 

Any help would be greatly appreciated. Thank you. 

Steve."

Amazon EC2	"Re: Remote Desktop Randomly Freezes - Windows 2008 R2
I have same problem.
Any advice on your experience?

Thanks."

Amazon EC2	"Re: Remote Desktop Randomly Freezes - Windows 2008 R2
This works for me:

• 2655998 long logon time when you establish an rd session to a windows server 2008 r2-based rd session host server if printer redirection is enabled
• http://support.microsoft.com/?id=2655998 
update(s): Umrdp.dll"

Amazon EC2	"EC2config and further activation problems
I've been experiencing the 'This copy of Windows is not genuine' problem.

Having done my research here, it appeared that the ultimate solution was to upgrade my EC2config files to version 2.1.11 which I've done.

This has solved the problem on one of my servers but on another, the problems persist.

Having installed version 2.1.11, the first problem I get upon logging into the server is a pop-up warning 'Caught Exception while setting wallpaper: Unable to connect to the remote server'. OK, I can fix this one by turning off the 'Wallpaper Information' within the EC2 Service Properties dialogue, but clearly something is going wrong here. Worse still is that my Windows still fails to be activated - it still reports as non-genuine.

I've tried completely uninstalling the EC2config and re-installing the msi file as per the manual instructions in the readme, but with no luck.

What am I doing wrong?

I'm running Windows Server 2008 from a standard AMI (ami-89d1d5fd)."

Amazon EC2	"Re: EC2config and further activation problems
Hello stephenben,

If you are still having issues after downloading and installing the tool as well as rebooting (just to be sure) then you will need to check for connectivity or other issues. Fact that your wallpaper is not able to get information, suggests that its not able to make contact with metadata server.

a)Check for IP address of your current configured KMS server: slmgr.vbs /dlv

telnet <kms_server_IP_from_above> 1688
check for firewall configuration for Port 1688

b) Check for static routes for the 169.X address(es) (metadata and to KMS) that older versions of the EC2ConfigService tool would not add. The new version should include all necessary routes for Windows activation.

c) Check for any IPSec or other network or protocol changes that could affect connectivity."

Amazon EC2	"Re: EC2config and further activation problems
All of my changes have ended with a machine reboot to be sure changes have been active.

I think I need a bit more guidance here.

I can see the following regarding the current configured KMS server:

C:\Users\Administrator>slmgr.vbs /dlv
Microsoft (R) Windows Script Host Version 5.7
Copyright (C) Microsoft Corporation. All rights reserved.
 
Software licensing service version: 6.0.6002.18005
Name: Windows Server(R), ServerDatacenter edition
Description: Windows Operating System - Windows Server(R), VOLUME_KMSCLIENT channel
Activation ID: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
Application ID: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
Extended PID: 92577-00152-082-250044-03-1033-6002.0000-1302011
Installation ID: 019821053225015215094355425353772083471571479550021352
Partial Product Key: TCBY3
License Status: Notification
Notification Reason: 0xC004F00F.
 
Key Management Service client information
    Client Machine ID (CMID): 35362b84-fa13-4df1-b373-76940624fcd1
    Registered KMS machine name: ec2-79-125-16-172.eu-west-1.compute.amazonaws.com:1688
    KMS machine extended PID: 55041-00168-305-162803-03-1033-6002.0000-3432009
    Activation interval: 120 minutes
    Renewal interval: 10080 minutes


I can resolve ec2-79-125-16-172.eu-west-1.compute.amazonaws.com but what should I se if I telnet into it? At the moment, using puttytel I'm not seeing anything coming back.

I'm not aware of any static routes for 169.X address(es). How can I verify this?

I have no VPNs setup on the server - no IPSec or other types of network changes.

This type of problem is unbelievably exasperating - it's such a waste of valuable time!! Hopefully you can help me before I pull all of my hair out!!"

Amazon EC2	"Re: EC2config and further activation problems
Not sure if this is relevant, but my machine is operating within a VPC. But so are two others configured in exactly the same way which seem happy."

Amazon EC2	"Re: EC2config and further activation problems
In order to help resolve this, I've turned of the machine firewall. I assume it's not necessary to add a rule to the AWS firewall (I haven't with the two servers that are happy)."

Amazon EC2	"Re: EC2config and further activation problems
Hi,

What is the instance ID that is having the activation issue?

To answer your question regarding routes -- if you have two ENI attached to your instance, you will need to have 3 static routes configured for 169.254.169.254,169.254.169.250, and 169.254.169.251). Activation in VPC will always occur via either the .251 or .250 addresses -- the newer Ec2Config will handle this automatically for you.

Typing 'Route print' from the cmd prompt will allow you to check if they have been added.

Thanks!"

Amazon EC2	"Re: EC2config and further activation problems
My instance ID is i-3bec9473

I do have two ENI's on this machine, so this may be where the problem lies.

C:\Users\Administrator>Route print
===========================================================================
Interface List
 12 ...06 26 1e 70 2d 00 ...... RedHat PV NIC Driver #2
 11 ...06 26 1e 64 9d 78 ...... RedHat PV NIC Driver
  1 ........................... Software Loopback Interface 1
 13 ...00 00 00 00 00 00 00 e0  isatap.{DD6BD6E0-BEA5-45E1-82D2-9E3C8C57EE33}
 10 ...02 00 54 55 4e 01 ...... Teredo Tunneling Pseudo-Interface
 14 ...00 00 00 00 00 00 00 e0  isatap.{9E9784DE-F79F-48BF-AF55-20DABCC88F0F}
===========================================================================
 
IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0        10.10.0.1       10.10.0.20    266
          0.0.0.0          0.0.0.0        10.10.0.1       10.10.0.25    266
        10.10.0.0    255.255.255.0         On-link        10.10.0.25    266
        10.10.0.0    255.255.255.0         On-link        10.10.0.20    266
       10.10.0.20  255.255.255.255         On-link        10.10.0.20    266
       10.10.0.21  255.255.255.255         On-link        10.10.0.20    266
       10.10.0.22  255.255.255.255         On-link        10.10.0.20    266
       10.10.0.23  255.255.255.255         On-link        10.10.0.20    266
       10.10.0.25  255.255.255.255         On-link        10.10.0.25    266
       10.10.0.26  255.255.255.255         On-link        10.10.0.25    266
      10.10.0.255  255.255.255.255         On-link        10.10.0.25    266
      10.10.0.255  255.255.255.255         On-link        10.10.0.20    266
        127.0.0.0        255.0.0.0         On-link         127.0.0.1    306
        127.0.0.1  255.255.255.255         On-link         127.0.0.1    306
  127.255.255.255  255.255.255.255         On-link         127.0.0.1    306
        224.0.0.0        240.0.0.0         On-link         127.0.0.1    306
        224.0.0.0        240.0.0.0         On-link        10.10.0.20    266
        224.0.0.0        240.0.0.0         On-link        10.10.0.25    266
  255.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  255.255.255.255  255.255.255.255         On-link        10.10.0.20    266
  255.255.255.255  255.255.255.255         On-link        10.10.0.25    266
===========================================================================
Persistent Routes:
  Network Address          Netmask  Gateway Address  Metric
          0.0.0.0          0.0.0.0        10.10.0.1  Default
          0.0.0.0          0.0.0.0        10.10.0.1  Default
===========================================================================
 
IPv6 Route Table
===========================================================================
Active Routes:
 If Metric Network Destination      Gateway
  1    306 ::1/128                  On-link
 12    266 fe80::/64                On-link
 11    266 fe80::/64                On-link
 12    266 fe80::38c6:eaeb:aaa7:86ad/128
                                    On-link
 11    266 fe80::c9a0:1bf5:5a9:e18a/128
                                    On-link
  1    306 ff00::/8                 On-link
 12    266 ff00::/8                 On-link
 11    266 ff00::/8                 On-link
===========================================================================
Persistent Routes:"

Amazon EC2	"Re: EC2config and further activation problems
The three routes needed for VPC are not present. These can be manually added using the 'Route Add' command, but the prefered method would be to have Ec2Config handle this (so you won't have the problem again in the future).

Can you review the Ec2Config log file at 'C:\Program Files\Amazon\Ec2ConfigService\Logs\Ec2ConfigLog.txt' and let me know what error you received when it tried to add the routes for 'EC2AddRoute:'?

Thanks!"

Amazon EC2	"Re: EC2config and further activation problems
The log starts of as 

2013-02-14 14:38:00: Microsoft Windows NT 6.0.6002 Service Pack 2 (en-US)
2013-02-14 14:38:00: Starting Ec2Config service v2.1.11.0
2013-02-14 14:38:00: Opening COM port handle to write to the console
2013-02-14 14:38:08:   RedHat PV NIC Driver v1.1.0.1
2013-02-14 14:38:08:   RedHat PV NIC Driver v1.3.4.0
2013-02-14 14:41:37: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/instance-type with exception Unable to connect to the remote server
2013-02-14 14:43:29: Ec2Wallpaper: Unable to connect to the remote server
2013-02-14 14:43:39: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2013-02-14 14:43:40: Loading plugins
2013-02-14 14:43:40: Loading Bundle Config Info...
2013-02-14 14:43:46: EC2AddRoute: Adding Routes to Adapter with index: 11
2013-02-14 14:43:46: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.254 message: 160
2013-02-14 14:43:47: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.250 message: 160
2013-02-14 14:43:47: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.251 message: 160
2013-02-14 14:43:47: Waiting for meta-data accessibility...
2013-02-14 14:43:49: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
2013-02-14 14:43:49: Initialize: Meta-data unavailable: Unable to connect to the remote server
2013-02-14 14:43:50: EC2AddRoute: Adding Routes to Adapter with index: 11
2013-02-14 14:43:51: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.254 message: 160
2013-02-14 14:43:51: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.250 message: 160
2013-02-14 14:43:51: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.251 message: 160
2013-02-14 14:44:01: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
2013-02-14 14:44:01: Initialize: Meta-data unavailable: Unable to connect to the remote server
2013-02-14 14:44:02: EC2AddRoute: Adding Routes to Adapter with index: 11
2013-02-14 14:44:02: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.254 message: 160
2013-02-14 14:44:02: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.250 message: 160
2013-02-14 14:44:02: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.251 message: 160


and continues in the same vein, growing every few seconds."

Amazon EC2	"Re: EC2config and further activation problems
Hi,

Couple more questions:

1) Has there been any modification to the default networking?

2) Can you provide the output for IPConfig /All?

Thanks!"

Amazon EC2	"Re: EC2config and further activation problems
C:\Users\Administrator>IPConfig /All
 
Windows IP Configuration
 
   Host Name . . . . . . . . . . . . : ip-0A0A0014
   Primary Dns Suffix  . . . . . . . :
   Node Type . . . . . . . . . . . . : Hybrid
   IP Routing Enabled. . . . . . . . : No
   WINS Proxy Enabled. . . . . . . . : No
   DNS Suffix Search List. . . . . . : eu-west-1.compute.internal
                                       eu-west-1.ec2-utilities.amazonaws.com
 
Ethernet adapter Local Area Connection:
 
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : RedHat PV NIC Driver #2
   Physical Address. . . . . . . . . : 06-26-1E-70-2D-00
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
   Link-local IPv6 Address . . . . . : fe80::38c6:eaeb:aaa7:86ad%12(Preferred)
   IPv4 Address. . . . . . . . . . . : 10.10.0.20(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   IPv4 Address. . . . . . . . . . . : 10.10.0.21(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   IPv4 Address. . . . . . . . . . . : 10.10.0.22(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   IPv4 Address. . . . . . . . . . . : 10.10.0.23(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 10.10.0.1
   DNS Servers . . . . . . . . . . . : 10.10.0.111
                                       10.10.0.21
   NetBIOS over Tcpip. . . . . . . . : Enabled
 
Ethernet adapter 1st Network Adaptor:
 
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : RedHat PV NIC Driver
   Physical Address. . . . . . . . . : 06-26-1E-64-9D-78
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
   Link-local IPv6 Address . . . . . : fe80::c9a0:1bf5:5a9:e18a%11(Preferred)
   IPv4 Address. . . . . . . . . . . : 10.10.0.25(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   IPv4 Address. . . . . . . . . . . : 10.10.0.26(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 10.10.0.1
   DNS Servers . . . . . . . . . . . : 10.10.0.111
                                       10.10.0.21
   NetBIOS over Tcpip. . . . . . . . : Enabled
 
Tunnel adapter Local Area Connection* 8:
 
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : isatap.{DD6BD6E0-BEA5-45E1-82D2-9E3C8C57EE33}
   Physical Address. . . . . . . . . : 00-00-00-00-00-00-00-E0
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
 
Tunnel adapter Local Area Connection* 9:
 
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Teredo Tunneling Pseudo-Interface
   Physical Address. . . . . . . . . : 02-00-54-55-4E-01
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
 
Tunnel adapter Local Area Connection* 11:
 
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : isatap.{9E9784DE-F79F-48BF-AF55-20DABCC88F0F}
   Physical Address. . . . . . . . . : 00-00-00-00-00-00-00-E0
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
 
C:\Users\Administrator>


I've made some modifications in that I've need to manually add additional IP's and I use my own DNS servers as you can see from the above. Other than that, everything should be very standard."

Amazon EC2	"Re: EC2config and further activation problems
In your case, the Add Route is failing due to having multiple IP addresses assigned to your Primary ENI ('RedHat PV NIC Driver' with index of 11).

As a temporary workaround, you can temporarily remove the secondary IP address from this interface to allow the Add Route to succeed (then add it back later). This will allow Windows to activate (and set your KMS server) -- note that the added routes are not persistant and get added on every reboot (you can make this persistant by adding it manually if you want).

I will work on a change to Ec2Config to handle this behavior for the next release as I have enough detail about your configuration to repro the issue.

Please reply back to confirm if temporarily removing the additional IP to this interface allows Ec2Config to add the route -- this should allow the KMS server to be set and resolve the metadata issue."

Amazon EC2	"Re: EC2config and further activation problems
I did as you suggested.

I left both ENI's connected but removed all additional IPs leaving both ENI's with one IP each.

I also removed the EC2config service, uninstalled and deleted it.

Rebooted and re-installed.

No luck, the same problems persisted:

2013-02-14 19:28:08: Microsoft Windows NT 6.0.6002 Service Pack 2 (en-US)
2013-02-14 19:28:09: Starting Ec2Config service v2.1.11.0
2013-02-14 19:28:09: Opening COM port handle to write to the console
2013-02-14 19:28:15:   RedHat PV NIC Driver v1.1.0.1
2013-02-14 19:28:15:   RedHat PV NIC Driver v1.3.4.0
2013-02-14 19:29:38: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/instance-type with exception Unable to connect to the remote server
2013-02-14 19:29:40: Ec2Wallpaper: Unable to connect to the remote server
2013-02-14 19:31:50: Loading plugins
2013-02-14 19:31:50: Loading Bundle Config Info...
2013-02-14 19:31:58: Sysprep Answer file to be Modified: C:\Program Files\Amazon\Ec2ConfigService\sysprep2008.xml
2013-02-14 19:31:58: Existing Password option selected -- this is not supported by Sysprep on Windows 2008 and greater
2013-02-14 19:32:02: Sysprep Answer file to be Modified: C:\Program Files\Amazon\Ec2ConfigService\sysprep2008.xml
2013-02-14 19:32:02: Existing Password option selected -- this is not supported by Sysprep on Windows 2008 and greater
2013-02-14 19:32:06: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/instance-type with exception Unable to connect to the remote server
2013-02-14 19:32:08: Ec2Wallpaper: Unable to connect to the remote server
2013-02-14 19:32:10: Sysprep Answer file to be Modified: C:\Program Files\Amazon\Ec2ConfigService\sysprep2008.xml
2013-02-14 19:32:10: Existing Password option selected -- this is not supported by Sysprep on Windows 2008 and greater
2013-02-14 19:33:24: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2013-02-14 19:33:31: EC2AddRoute: Adding Routes to Adapter with index: 11
2013-02-14 19:33:32: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.254 message: 160
2013-02-14 19:33:32: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.250 message: 160
2013-02-14 19:33:32: EC2AddRoute: Failed to add route...CreateRoute: Problem creating the route entry 169.254.169.251 message: 160
2013-02-14 19:33:32: Waiting for meta-data accessibility...


The same wallpaper warning and failed activation 

I've now had to add back my IPs as this is a live server which usually serves websites that briefly had to disappear!

Where do I go from here? Windows is still grumbling about activation."

Amazon EC2	"Re: EC2config and further activation problems
Uninstalling Ec2Config, or rebooting should not be necessary -- instead, try stopping/starting the service.

Can you try running the following from the cmd prompt?
route add 169.254.169.254 MASK 255.255.255.255 10.10.0.1 IF 11
route add 169.254.169.251 MASK 255.255.255.255 10.10.0.1 IF 11
route add 169.254.169.250 MASK 255.255.255.255 10.10.0.1 IF 11
net stop ec2config
net start ec2config

This will add the three static routes manually (can use -p to make persistant across reboots) and restart the ec2config service.

Thanks!"

Amazon EC2	"Re: EC2config and further activation problems
Jonathan,

Thanks enormously for your time with this.

I've done as you've suggested and now my copy of windows has activated.

I've not made the changes persistent as it seems wiser to wait for an updated version of the EC2config service. Any idea when that's likely to be? Is there a notification service for this or is it best to just keep checking http://docs.amazonwebservices.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html (although that does show that the most recent version is 2.1.9  )

Thanks again for your help
Stephen."

Amazon EC2	"Re: EC2config and further activation problems
Glad things are working -- sorry for the frustration.

Once Windows activates, it will need to re-activate every 180 days, so there is some time before this occurs again.

I hope to have the next version out in the next few weeks. For now, refer to http://aws.amazon.com/developertools/5562082477397515 for the download and the other page for usage (both have download links to the same binary).

Best Regards,"

Amazon EC2	"Re: EC2config and further activation problems
Perfect. Once again Jonathan, thank-you for your time"

Amazon EC2	"Re: EC2config and further activation problems
Hi,

We're having similar issues, although for us it is preventing the wallpaper info from being displayed, and we get a error message box popup when we log in over RDP. This machine has one ENI with three IPs.

I tried restarting the service as suggested here, it did not seem to work:

(Ec2ConfigLog)
2013-02-14 15:29:45: Exception caught trying to poll meta-data: System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond 169.254.169.254:80
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Int32 timeout, Exception& exception)
   --- End of inner exception stack trace ---
   at InstanceMetaDataMgr.InstanceMetaDataHndlr.GetMetaData(String MetadataUrl, Boolean log)
   at Ec2Config.Service1.PollMetaDataAndSubmitAction()
2013-02-14 15:29:45: Closing COM port handle
2013-02-14 15:29:45: Sysprep Answer file to be Modified: C:\Program Files\Amazon\Ec2ConfigService\sysprep2008.xml
2013-02-14 15:29:45: Existing Password option selected -- this is not supported by Sysprep on Windows 2008 and greater
2013-02-14 15:29:45: Opening COM port handle to write to the console
2013-02-14 15:29:51:   RedHat PV NIC Driver v1.3.10.0
2013-02-14 15:29:53: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2013-02-14 15:29:54: EC2AddRoute: Adding Routes to Adapter with index: 13
2013-02-14 15:29:54: EC2AddRoute: Failed to AddRoute...CreateRoute: Problem creating the route entry
2013-02-14 15:29:54: Waiting for meta-data accessibility...
2013-02-14 15:30:17: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
2013-02-14 15:30:17: Initialize: Meta-data unavailable: Unable to connect to the remote server
2013-02-14 15:30:17: EC2AddRoute: Adding Routes to Adapter with index: 13
2013-02-14 15:30:17: EC2AddRoute: Failed to AddRoute...CreateRoute: Problem creating the route entry
2013-02-14 15:30:48: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
2013-02-14 15:30:48: Initialize: Meta-data unavailable: Unable to connect to the remote server
2013-02-14 15:30:48: EC2AddRoute: Adding Routes to Adapter with index: 13"

Amazon EC2	"Re: EC2config and further activation problems
Hi,

The issue is because Windows 2008 and above does not know which interface/IP address to use for outbound the communication if more than one IP/ENI is available.

In this case, because you have more than one IP on the primary interface, the add route in Ec2Config is failing.

To temporarily resolve the issue, similar to above, you will need to add the static routes manually, then restart the Ec2Config service.

Syntax looks like:
Route Add <IP Route> MASK <Subnet> <Gateway IP for your interface> IF <Primary interface metric from Route Print>

You can use the following -- will need to add your gateway IP:

route add 169.254.169.254 MASK 255.255.255.255 <Interface Gateway IP> IF 13
route add 169.254.169.251 MASK 255.255.255.255 <Interface Gateway IP> IF 13
route add 169.254.169.250 MASK 255.255.255.255 <Interface Gateway IP> IF 13
net stop ec2config
net start ec2config

Reply back if you still have issues.

Regards,"

Amazon EC2	"Re: EC2config and further activation problems
Ec2Config will now support adding the route for interfaces that contain multiple IP addresses.

Please reply back if there are any issues.

Regards,"

Amazon EC2	"Re: EC2config and further activation problems
Hi,

Similar issue than above, when excuting Ec2WallpaperInfo I get error ""Caught Exception while setting wallpaper: Unable to connect to the remote server"". I have checked the Ec2ConfigLog and in there it says ""014-01-06 11:29:16: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/instance-action with exception Unable to connect to the remote server
2014-01-06 11:29:16: EC2AddRoute: Adding Routes to Adapter with index: 13
2014-01-06 11:29:16: EC2AddRoute: Failed to AddRoute...CreateRoute: Problem creating the route entry""

I have checked my routing table, and server 169.254.169.254 has a route in there using the right interface. 

What else can I check?

Many thanks."

Amazon EC2	"Re: EC2config and further activation problems
Hi,

Have you checked that you can open that URL in a web browser? If you installed any security products in your instance, you may need to add an exception.

Regards,"

Amazon EC2	"Re: EC2config and further activation problems
I've also got the 'This copy of Windows is not genuine' problem.

Having read the above thread I downloaded the latest version of EC2config (3.6.269) which hasn't fixed the problem.

Looking through the log file I get several errors.  

Any advice on how to get this working again would be really appreciated.... 

2015-06-09 22:00:28: Checking Configuration State of Windows before continuing
2015-06-09 22:00:28: Windows sysprep configuration complete.
2015-06-09 22:00:28: Warning: Unable to Publish to WMI. | System.Management.Instrumentation.WmiProviderInstallationException: Exception of type 'System.Management.Instrumentation.WMIInfraException' was thrown.
   at System.Management.Instrumentation.InstrumentationManager.Publish(Object value)
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.PublishWmiInstance()
2015-06-09 22:00:28: Checking for Sysprep
2015-06-09 22:00:29: Difficulty detecting PV driver details for Console Output
2015-06-09 22:00:29: There was an exception writing driver information to console: System.Exception: Difficulty detecting PV driver details for Console Output
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.GetDrivers()
2015-06-09 22:01:19: OS: Microsoft Windows NT 6.0.6002
2015-06-09 22:01:19: OsVersion: 6.0
2015-06-09 22:01:19: OsProductName: Windows Server (R) 2008 Datacenter
2015-06-09 22:01:19: OsBuildLabEx: 6002.19346.x86fre.vistasp2_gdr.150312-1556
2015-06-09 22:01:19: Language: en-US
2015-06-09 22:01:19: EC2 Agent: Ec2Config service v3.6.269
2015-06-09 22:03:00: Message: Please enable RealTimeIsUniversal registry key
2015-06-09 22:03:00: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2015-06-09 22:03:00: Error: Failed when adding route. The value for column 'ShouldAddRoutes' in table 'GlobalSettings' is DBNull.
2015-06-09 22:03:00: Message: Waiting for meta-data accessibility...
2015-06-09 22:03:00: Message: Meta-data is now available.
2015-06-09 22:03:00: Windows License Type: ProvidedByAmazon
2015-06-09 22:03:00: Failed to fetch instance metadata http://169.254.169.254/latest/user-data with exception The remote server returned an error: (404) Not Found.
2015-06-09 22:03:00: Failed to get metadata/user-data The remote server returned an error: (404) Not Found.
...
2015-06-09 22:03:00: Gettting Ec2ConfigExceptionsData...
2015-06-09 22:03:00: Caught Exception:  
Exception: System.Data.StrongTypingException: The value for column 'RemoveCredentialsfromSysprepOnStartup' in table 'GlobalSettings' is DBNull. ---> System.InvalidCastException: Specified cast is not valid.
   at Ec2ConfigLibrary.DataSets.Ec2ConfigurationSettings.GlobalSettingsRow.get_RemoveCredentialsfromSysprepOnStartup()
   --- End of inner exception stack trace ---
   at Ec2ConfigLibrary.DataSets.Ec2ConfigurationSettings.GlobalSettingsRow.get_RemoveCredentialsfromSysprepOnStartup()
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.CheckSysprepConfigPurge()
   at Ec2Config.LegacyConfiguration.LegacyConfigurator.Go()
Plugin: 
Category: Unknown


I've also tried the following:

route add 169.254.169.254 MASK 255.255.255.255 172.30.1.1 IF 11
route add 169.254.169.251 MASK 255.255.255.255 172.30.1.1 IF 11
route add 169.254.169.250 MASK 255.255.255.255 172.30.1.1 IF 11
net stop ec2config
net start ec2config

Which has added the routes but hasn't helped Windows Activation...

C:\Windows>route print
===========================================================================
Interface List
 11 ...0a 33 42 bc 3a ee ...... RedHat PV NIC Driver
  1 ........................... Software Loopback Interface 1
 12 ...00 00 00 00 00 00 00 e0  isatap.ec2.internal
 10 ...02 00 54 55 4e 01 ...... Teredo Tunneling Pseudo-Interface
===========================================================================

IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0       172.30.1.1      172.30.1.41     20
        127.0.0.0        255.0.0.0         On-link         127.0.0.1    306
        127.0.0.1  255.255.255.255         On-link         127.0.0.1    306
  127.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  169.254.169.250  255.255.255.255       172.30.1.1      172.30.1.41     21
  169.254.169.251  255.255.255.255       172.30.1.1      172.30.1.41     21
  169.254.169.254  255.255.255.255       172.30.1.1      172.30.1.41     21
       172.30.1.0    255.255.255.0         On-link       172.30.1.41    276
      172.30.1.41  255.255.255.255         On-link       172.30.1.41    276
     172.30.1.255  255.255.255.255         On-link       172.30.1.41    276
        224.0.0.0        240.0.0.0         On-link         127.0.0.1    306
        224.0.0.0        240.0.0.0         On-link       172.30.1.41    276
  255.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  255.255.255.255  255.255.255.255         On-link       172.30.1.41    276
===========================================================================
Persistent Routes:
  None

IPv6 Route Table
===========================================================================
Active Routes:
 If Metric Network Destination      Gateway
  1    306 ::1/128                  On-link
 11    276 fe80::/64                On-link
 11    276 fe80::2918:d9a4:37ad:4c47/128
                                    On-link
  1    306 ff00::/8                 On-link
 11    276 ff00::/8                 On-link
===========================================================================
Persistent Routes:
  None

Any ideas?

Edited by: mike5456465 on Jun 9, 2015 2:23 PM"

Amazon EC2	"Re: EC2config and further activation problems
Ok, small update - I've edited the config.xml to include the missing GlobalSettings keys.

Once I removed my manually added routes to 169.254.169.250, 169.254.169.251 and 169.254.169.254, ec2config added them.

But still Windows Activation fails, and the IPs return 404....what else can I try?

C:\Windows>route print
===========================================================================
Interface List
 11 ...0a 33 42 bc 3a ee ...... RedHat PV NIC Driver
  1 ........................... Software Loopback Interface 1
 12 ...00 00 00 00 00 00 00 e0  isatap.ec2.internal
 10 ...02 00 54 55 4e 01 ...... Teredo Tunneling Pseudo-Interface
===========================================================================
 
IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0       172.30.1.1      172.30.1.41     20
        127.0.0.0        255.0.0.0         On-link         127.0.0.1    306
        127.0.0.1  255.255.255.255         On-link         127.0.0.1    306
  127.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  169.254.169.250  255.255.255.255       172.30.1.1      172.30.1.41     20
  169.254.169.251  255.255.255.255       172.30.1.1      172.30.1.41     20
  169.254.169.254  255.255.255.255       172.30.1.1      172.30.1.41     20
       172.30.1.0    255.255.255.0         On-link       172.30.1.41    276
      172.30.1.41  255.255.255.255         On-link       172.30.1.41    276
     172.30.1.255  255.255.255.255         On-link       172.30.1.41    276
        224.0.0.0        240.0.0.0         On-link         127.0.0.1    306
        224.0.0.0        240.0.0.0         On-link       172.30.1.41    276
  255.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  255.255.255.255  255.255.255.255         On-link       172.30.1.41    276
===========================================================================
Persistent Routes:
  None
 
IPv6 Route Table
===========================================================================
Active Routes:
 If Metric Network Destination      Gateway
  1    306 ::1/128                  On-link
 11    276 fe80::/64                On-link
 11    276 fe80::2918:d9a4:37ad:4c47/128
                                    On-link
  1    306 ff00::/8                 On-link
 11    276 ff00::/8                 On-link
===========================================================================
Persistent Routes:
  None"

Amazon EC2	"Re: EC2config and further activation problems
For anyone in a similar situation, I eventually fixed it with:

slmgr.vbs /skms 169.254.169.250
slmgr.vbs /ato"

Amazon EC2	"Connection timeout to my instance
Hi all, sorry this might be a stupid question but I'm blocked here...

I created an instance followed https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html
However, I failed to connect to it with browser/putty-on-windows/ssh-on-linux.

Strace of ssh ends with this:
connect(3, {sa_family=AF_INET, sin_port=htons(22), sin_addr=inet_addr(""52.41.71.109"")}, 16) = -1 ETIMEDOUT (Connection timed out)
close(3)                                = 0
write(2, ""ssh: connect to host ec2-52-41-7""..., 101ssh: connect to host ec2-52-41-71-109.us-west-2.compute.amazonaws.com port 22: Connection timed out
) = 101
exit_group(255)                         = ?
+ exited with 255 +

I tried both http://Amazon Linux AMI 2016.03.2 and SUSE Linux Enterprise Server 12 SP1, got same error.

Could someone help me out?

Thanks!"

Amazon EC2	"Re: Connection timeout to my instance
Did you check the security group to make sure there was an entry for port 22 under the inbound rules?
Is this one of the on demand instances provided by us, or is it an image that you created?
Is the server in a VPC? If so, does it have an elastic IP address?"

Amazon EC2	"AWS EC2 Unaccountable Costs
Hi,
I'm new to AWS EC2 and I have the following distributed JavaEE set up which I let run for exactly one day (24 hours) to check if I can reconstruct the costs manually. In order to generate some workload I used an Load Test Driver which runs on my local machine and emulates user requests to the system. I'm using the region EU (Frankfurt) and all my instances are in the same Availability Zone.
The general setup can be seen in the Attachment AWS Setup.png.

Now when I take a look at the Amazon Cost Reporter the following costs are reported:
Costs grouped by Instance Type and costs grouped by API Operation can be found in the attachments.

The instance m4.xlarge costs $0.285 per Hour which means 3 x 24 x 0.285 = 20.52. That's exactly the same what the Amazon Cost Reporter says.

Now I have costs for RunInstances which is 22.80 and when I subtract the costs for the three instances I get 22.80 - 20.52 = 2.28.

The next thing I would do is to subtract the costs for the EBS Volumes (Amazon EBS General Purpose SSD (gp2) volumes) which is $0.119 per GB-month of provisioned storage. So in my case I have 32GB * 0.119 = 3.808 per Month. In order to get the costs per day I divide it through 30.5 and get 3.808 / 30.5 = 0.125.

Now when I subtract the costs for the EBS Volumes from the remaining instance costs I get 2.28 - 0.125 = 2.155. But what now where do this remaining 2$ come from? Do I have some mistakes in my calculation or are there other costs I don't consider so far?

Any help or pointers would be appreciated.
Thanks in advance for your support.

Best regards,
Thomas

Edited by: Thomas on Jun 15, 2016 7:07 AM

Edited by: Thomas on Jun 15, 2016 7:13 AM"

Amazon EC2	"Jmeter load testing request form
Hi AWS Team

We need to do Performance testing of around 10000 user load testing from ec2 servers with jmeter installed . I would like to know about how to raise the request for the same . Is the process similar to that of raising request for Penetration testing . ? 
Could you explain the process briefly 

Thanks !! 
Satish"

Amazon EC2	"Re: Jmeter load testing request form
Hello,

You should be submitting  penetration testing request to whitelist your instances for this kind of testing. This would be a good idea if you think that your testing traffic could be mistakenly detected as a DoS attack.

[1]  https://aws.amazon.com/security/penetration-testing/

You need to login with your root credentials in oder to submit this request. 

Regards,
Umair A."

Amazon EC2	"Re: Jmeter load testing request form
Hi Umair

There is an option to enter the bandwidth in the pen testing request form . I am  not sure how much data will be transferred from our ec2 server . Is there any tool which can help to determine the bandwidth ? Or is there any procedure for calculating the same 

Regards
Satish"

Amazon EC2	"Bandwidth determination for Amazon Penetration request form
Hi AWS

We are doing around 1500-2000 User load testing for one of our client using Jmeter . We need to raise a request with Amazon before performing testing for lot of user load or else we get Abuse report . 
In the penetrating testing form , there is an option to enter the bandwidth . Could you let me know more about it . We are not sure how much data will be sent out from EC2 servers . And are not sure how to calculate the same . Is there any tool which you can suggest us so that we go ahead and calculate this bandwidth . 

Regards
Satish"

Amazon EC2	"Retirement Notification for the instance Id-7d0f8ecd
This instance id- Id-7d0f8ecd can't access since 3.30 hours,and we got the ""Retirement Notification"" just before One hour before. Right now we can't access the instance to create a backup AMI to  launch a new instance from the AMI. How to create a AMI from unreached instance?   Could you please help to create a new AMI of the instance Id-7d0f8ecd?"

Amazon EC2	"Re: Retirement Notification for the instance Id-7d0f8ecd
Hello,

Thanks for using the AWS Developer Forums.

I see that your instance i-7d0f8ecd was scheduled for an instance stop due to running on degraded hardware.

This scheduled event is now completed. The instance has been stopped and started and has migrated to a new host computer. It is currently passing both system-level status checks and instance-level status checks. In the future, you can wait for the instance to stop as scheduled, or you can stop and start the instance yourself.

With regard to creating an AMI: by default, the EC2 service shuts down the instance, takes snapshots of any attached volumes, creates and registers the AMI, and then reboots the instance. In the case that the underlying host is experiencing an issue, the instance may not be able to reboot. Choosing the ""no reboot"" option may allow the process to complete as it won't shut down the instance. However, with this option enabled we can't guarantee the file system integrity of the created image.

Are you able to now connect to your instance as well as create an AMI?

Apologies for any inconvenience this issue may have caused.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Retirement Notification for the instance Id-7d0f8ecd
Thank you!"

Amazon EC2	"S3 Glacier backup
I create S3 bucket and configured lifecycle to archive to glacier every 0 day (as  soon as data is uploaded) I also tick the option to permanently delete file after 90 days, I user script below to upload to S3 via power shell

Write-S3Object -Region xxxx -AccessKey xxxx -SecretKey xxxxx -folder c:\... -BucketName xxx -Recurse -KeyPrefix ""/""

I have the following question

When I upload data it over right older version in S3 bucket how to overcome this problem as  I will be charged by Glacier if I delete the file before 3 months"

Amazon EC2	"Super slow writing to MySQL via Port 3306 on a t2.Micro instance
Hi,

Does anyone know why it is super slow for an external App writing data to MySQL sitting on a free t2.micro instance on port 3306?

My App when writing to a local DB, it works fine and is very fast, like a 100 times faster.

Does AWS throttle port 3306 or something like that that causes it to be turtle speed when writing to MySQL on port 3306 from a App externally?

If I put my App on another AWS instance, it also writes much much faster. 

Does anyone have any clues on the causes of the problem and how to resolve it?

Appreciate anyone who could help. Thanks."

Amazon EC2	"EC2 instance stuck in pending state after Sydney outage
Hi there

An EC2 instance in my account is stuck in pending state (status checks say Initialising) and I'm unable to stop or terminate it. It was launched by a auto scaling group during the outage on Sunday but never went to the started state. Can you please advise how it can be stopped/terminated?
Instance ID: i-ff9ae168

Cheers"

Amazon EC2	"Re: EC2 instance stuck in pending state after Sydney outage
Hello,

We're investigating this issue and will update you as soon as we have more info.

Kind regards,
Chris"

Amazon EC2	"Re: EC2 instance stuck in pending state after Sydney outage
Hello,

Based on some previous cases where this happened, a force stop/terminate should resolve this. I see you've already tried quite a few stops, so terminate may be the way to go. Failing this, a force stop/terminate via the AWS CLI with debugging enabled (add --debug to command) may help us troubleshoot this further.

More info on this here: 

http://docs.aws.amazon.com/cli/latest/reference/ec2/stop-instances.html
http://docs.aws.amazon.com/cli/latest/reference/ec2/terminate-instances.html

Please try these options and let us know if you're still having problems with this instance.

Kind regards,
Chris"

Amazon EC2	"Re: EC2 instance stuck in pending state after Sydney outage
Hi there

Thanks. 
The stop-instances didn't work (even with --force), but the terminate command solved the issue.

Cheers"

Amazon EC2	"Cannot connect to website using elastic IP
the elastic IP address of my ec2 instance is 52.20.250.208.  I cannot access it from any computer and I have traffic allowed on 80 and 443.  Can you tell me if there is anything wrong with my security settings?"

Amazon EC2	"Re: Cannot connect to website using elastic IP
deleted instance"

Amazon EC2	"IMPORTOVA2AMI: ClientError: No valid partitions. Not a valid volume
I am trying to import ova to convert into AMI, but while doing so it gives error ""ClientError: No valid partitions. Not a valid volume?"".

Here are some details:

OVA Contains:
vAAC_MediumSimplex_MCP_18.1.4_2015-03-27-1706-1vDisk150GB_8vCPU_24GBMemory.ova
vAAC_MediumSimplex_MCP_18.1.4-e51-1.ovf
vAAC_MediumSimplex_MCP_18.1.4-e51-1.mf
vAAC_MediumSimplex_MCP_18.1.4-e51-1.cert
vAAC_MediumSimplex_MCP_18.1.4-e51-1-disk1.vmdk
var/home/vmware/bin/AvayaCertificates/vAAC.pem


[ntsysadm@aac ~]$ df -kh
Filesystem                               Size  Used Avail Use% Mounted on
/dev/mapper/vg_plat-lv_root              2.0G  1.2G  651M  65% / 
tmpfs                                     12G     0   12G   0% /dev/shm
/dev/sda1                                2.0G   26M  1.8G   2% /boot
/dev/mapper/vg_app-lv_home               2.0G  3.6M  1.9G   1% /home
/dev/mapper/vg_plat-lv_opt               5.8G  321M  5.2G   6% /opt
/dev/mapper/vg_plat-lv_tmp               976M  194M  731M  21% /tmp
/dev/mapper/vg_plat-lv_var               4.8G   50M  4.5G   2% /var
/dev/mapper/vg_plat-lv_var_log           5.8G   15M  5.5G   1% /var/log
/dev/mapper/vg_plat-lv_var_log_audit     2.9G  4.5M  2.8G   1% /var/log/audit
/dev/mapper/vg_app-lv_var_mcp            105G  5.0G   94G   5% /var/mcp
/dev/mapper/vg_data-lv_var_mcp_datadisk  2.0G  3.1M  1.9G   1% /var/mcp/data
/dev/mapper/vg_app-lv_admin              488M  548K  462M   1% /admin


[ntsysadm@aac ~]$ mount
/dev/mapper/vg_plat-lv_root on / type ext4 (rw)
proc on /proc type proc (rw,nosuid)
sysfs on /sys type sysfs (rw,nosuid)
devpts on /dev/pts type devpts (rw,gid=5,mode=620)
tmpfs on /dev/shm type tmpfs (rw)
/dev/sda1 on /boot type ext4 (rw,nosuid)
/dev/mapper/vg_app-lv_home on /home type ext4 (rw,nosuid)
/dev/mapper/vg_plat-lv_opt on /opt type ext4 (rw)
/dev/mapper/vg_plat-lv_tmp on /tmp type ext4 (rw,nosuid)
/dev/mapper/vg_plat-lv_var on /var type ext4 (rw)
/dev/mapper/vg_plat-lv_var_log on /var/log type ext4 (rw,nosuid)
/dev/mapper/vg_plat-lv_var_log_audit on /var/log/audit type ext4 (rw,nosuid)
/dev/mapper/vg_app-lv_var_mcp on /var/mcp type ext4 (rw,nosuid)
/dev/mapper/vg_data-lv_var_mcp_datadisk on /var/mcp/data type ext4 (rw)
/dev/mapper/vg_app-lv_admin on /admin type ext4 (rw,nosuid)
none on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,nosuid)
[ntsysadm@aac ~]$


When I try to convert we get following error. 
[ec2-user@ip-192-168-119-5 ~]$ aws ec2 describe-import-image-tasks --cli-input-json ""{ \""ImportTaskIds\"": [\""import-ami-fgsgud4n\""], \""NextToken\"": \""abc\"", \""MaxResults\"": 10 } ""
{
    ""ImportImageTasks"": [
        {
            ""Status"": ""deleted"",
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""aa7bucket"",
                        ""S3Key"": ""vAAC_MediumSimplex_MCP_18.1.4_2015-03-27-1706-1vDisk150GB_8vCPU_24GBMemory.ova""
                    },
                    ""DiskImageSize"": 5694044160.0,
                    ""Description"": ""First CLI task"",
                    ""Format"": ""RAW""
                }
            ],
            ""Description"": ""AAC 8.0.3"",
            ""StatusMessage"": ""ClientError: No valid partitions. Not a valid volume."",
            ""ImportTaskId"": ""import-ami-fgsgud4n""
        }
    ]
}
[ec2-user@ip-192-168-119-5 ~]$


Let me know what causes this error and how to fix it."

Amazon EC2	"Re: IMPORTOVA2AMI: ClientError: No valid partitions. Not a valid volume
Hi there, 

I am trying to import an McAfee SIEM .ova file into EC2 but failed with same error: 
StatusMessage: ""ClientError: No valid partitions. Not a valid volume.""

Can't find any reference where this is happening.
Any suggestion please?

Thanks,
Suranjit


AWS CLI:
aws ec2 import-image --cli-input-json ""{ \""Description\"": \""McAfee_XXX_XXX\"", \""DiskContainers\"": [ { \""Descriptio
n\"": \""McAfee_XXX_XXX\"", \""UserBucket\"": { \""S3Bucket\"": \""XXXXXX\"", \""S3Key\"": \""McAfee_XXX_XXX.ova\""}}]}""

Output:
{
    ""ImportImageTasks"": [
        {
            ""Status"": ""deleted"",
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""XXXXXX"",
                        ""S3Key"": ""McAfee_XXX_XXX.ova""
                    },
                    ""DiskImageSize"": 2382109368.0,
                    ""Format"": ""RAW""
                }
            ],
            ""Description"": ""McAfee_XXX_XXX"",
            ""StatusMessage"": ""ClientError: No valid partitions. Not a valid volume."",
            ""ImportTaskId"": ""import-ami-xxxxxxxx""
        }
    ]
}"

Amazon EC2	"mykey ppk Will not open by double clicking
I can't open mykey.ppk by double clicking like the book says. Is there something I've missed? The instructions say to double click and a command prompt will display:

ssh -i ~/Downloads/mykey.pem ubuntu@52.4.216.201
Warning: Permanently added '52.4.216.201' (RSA) to the list of known hosts.
Welcome to Ubuntu 14.04.1 LTS (GNU/Linux 3.13.0-44-generic x86_64)

etc. etc..

When I double click, nothing happens. When I try to skip the double click step and just open PuTTY Configuration, type in the Host Name (or IP address) i get a fatal error.

Edited by: itschasee on Jun 14, 2016 3:36 PM"

Amazon EC2	"Instance stuck in ""shutting-down"" state
Got an instance: i-c047d65c that's perpetually stuck on ""shutting-down"". Pretty sure it never actually came up (state transition reason is ""Server.InternalError: Internal error on launch"")

Any chance someone can give it a kick and sort it out please?"

Amazon EC2	"Re: Instance stuck in ""shutting-down"" state
Hello,

We are investigating the issue with your instance. We will update this thread shortly.

Regards,
Umair A."

Amazon EC2	"Re: Instance stuck in ""shutting-down"" state
Hello,

I am able to see the EC2 instance i-c047d65c has now terminated successfully. I do sincerely apologize for the issue you had experienced.

Regards,
Mohsin"

Amazon EC2	"Re: Instance stuck in ""shutting-down"" state
Excellent stuff, thanks!"

Amazon EC2	"Is running Headless Selenium/Chrome driver Amazon Linux possible?
I've only gotten headless chrome/selenium testing on Ubuntu and am in  the process of using Amazon Linux AMI.  Is this even possible? If anyone has done this, I would appreciate any pointers.

Installing google-chrome-stable through yum had many missing dependencies including gconf. 
When I finally worked through them, launching chrome hangs silently.

I piped X11 to my local machine. While xeyes works fine, when I run chrome I get nothing showing and no complaints in the 
google-chrome-stable --enable-logging
Created new window in existing browser session.
Thanking you in advance,
H

Edited by: hster_investigates on Jul 2, 2015 3:53 PM"

Amazon EC2	"Re: Is running Headless Selenium/Chrome driver Amazon Linux possible?
Really silly question: If you have it running in Ubuntu, why do you need to do it in AMZ-Linux?"

Amazon EC2	"Re: Is running Headless Selenium/Chrome driver Amazon Linux possible?
running into the same problem.  any luck?"

Amazon EC2	"Instance reachability check failed, also can't SSH in.
Hi there. I'm new to AWS and this is my first attempt at using one. I just got one and configured it to run a Django application for a mobile app currently under development. I recently finished most of the configuration as it seems.

Instance-ID: i-0e4c210c7ea4fdfad

I could probably just use a new instance and reconfigure it (I launched an instance like it and it passed both tests, but I didn't configure it or touch it at all yet, I will after posting this most likely). But I worry that this same problem might occur again on a production server or even a development server and I wouldn't know how to solve it, that would be a huge problem.

Please help, thanks."

Amazon EC2	"Re: Instance reachability check failed, also can't SSH in.
Hi,

I might suggest you set up your environment in elastic beanstalk as the configuration and deployment of an instance via django (python) is quite simplified as it automatically manages and deploys your instance.

I've looked at the instance and it seems that there is an OS-Level issue where the instance is not fully up and running. I'm not overly sure why, but to find out exactly what is going on in the instance. You need to connect the volume to a rescue instance and look at the logs.

The simpler solution (and probably the better direction) is to go with elastic beanstalk as the configuration and access are more easily managed."

Amazon EC2	"Re: Instance reachability check failed, also can't SSH in.
Thank you for your help. I went with Elastic Beanstalk and now the application is deployed successfully.

Don't know how to mark this post and Answered though."

Amazon EC2	"Running LXC containers in an EC2 instance
I've created an EC2 AMI for AWS that's configured for running libvirt based lxc containers in CentOS 7.1. I deploy instances of these in AWS and create a number of lxc containers on each of these instances. For each instance I allocate additional public IPs, assigning one to the instance itself and the extra addresses to the containers. The host instances have a single eth0 interface plus a br0 bridge interface that the containers are configured to communicate through. The containers have a single eth0 interface.

The containers run fine within a single host instance and have no problem communicating with themselves as well as with their host, and vice versa. However, containers hosted in one EC2 instance cannot communicate with containers hosted in another EC2 instance.

When I ping a container hosted by one instance from another host instance, it hangs indefinitely. A tcpdump on the target container's host shows that it receives an arp request for the target container's IP and it replies with its own mac address, not the mac address of the container it hosts. Consequently the ping fails because the host does not have this IP assigned, one of the containers it hosts has it. 

How can I solve this problem? Specifically, how can I communicate between lxc containers running on two separate EC2 instances?"

Amazon EC2	"Re: Running LXC containers in an EC2 instance
I'll answer my own question here. With some help from AWS, the solution is to enable proxy arp on the instances:

echo 1 > /proc/sys/net/ipv4/conf/br0/forwarding 
echo 1 > /proc/sys/net/ipv4/conf/br0/proxy_arp_pvlan 
echo 1 > /proc/sys/net/ipv4/conf/br0/proxy_arp 
echo 0 > /proc/sys/net/ipv4/conf/all/send_redirects 
echo 0 > /proc/sys/net/ipv4/conf/br0/send_redirects

This assumes you have a bridge device called br0. In addition to these settings, it is also necessary to add the line

MACADDR=<macaddr>

to /etc/sysconfig/network-scripts/ifcfg-br0, where <macaddr> is the mac address of the interface (likely eth0) that is hosting the bridge device."

Amazon EC2	"Why xen-hypervisor cannot readily monitor guest-o/s RAM utilization?
Dear All,

Pardon me if am being naive to be asking this question, but I haven't got a satisfactory response for this from anyone (outside this forum) so far.
The default cloudwatch monitoring does not show the RAM utilization. Reason, as I know, being the fact that xen-hypervisor does not have visibility into the guest-o/s RAM. (workarounds are , scripts to be installed on the guest o/s to provide metrics to the cloud watch). 
But, if that is the case, then why cpu utilization is readily visible in the cloud watch? Why should xen have selective visibility (into cpu utilization)? 
Kindly evangelize me with the right information.

Regards,
Vish_aws

Edited by: vish_aws on Jun 13, 2016 4:10 AM"

Amazon EC2	"Re: Why xen-hypervisor cannot readily monitor guest-o/s RAM utilization?
zz"

Amazon EC2	"Views not working: CouchDB
I successfully installed CouchDB 1.6.1 on an Amazon Linux AMI 2016.03.2 t2.micro account.

I then replicated a small database(1000 documents) to it from my desktop.

I am able to access the documents easily in my AWS instance and everything seems to be fine.

However, when I run any of the views for the data, the system hangs and no results are produced. (I am logged in as server admin.)

Locally, all the views still work 100%.

Are there any settings needed to get the views to work?(Linux permissions?)

Is the Ram possibly too small to run the views on the free account limitations? (It seems to be 1 GiB, I would think that is enough??)

This is not a lot of data.(2mb on the Futon overview screen.)

I see there is an unanswered question on the forums dated Nov 28, 2011 concerning exactly the same problem. (MessageID=295764)

I have tried creating a new (temporary) view with the same result.

It somehow looks like a ""permission"" problem.

My local CouchDB setup is running on Windows(10).

Many thanks for any assistance."

Amazon EC2	"System Status Check Failures
We are getting ""System Status Check Failures"" on one of our instances (i-e6db7fc9) over the last 24hrs (see the graph here http://cl.ly/3S0h0q2x3p44). I stopped and started the instance at 10:30utc but the failures continue. On Friday 10th we had the same issue and again stopped and started. The instance is EBS backed.

What can we do in this situation?"

Amazon EC2	"Re: System Status Check Failures
Hello,

I see you did stop/start but it seems like the instance is still experiencing issues to underlying host. Could you please stop and start your instance again?

Regards,
Umair A."

Amazon EC2	"EC2 Instance Stuck in 'shutting-down' State
Hello, the i-bca94a1e instance is stuck in the 'shutting-down' state. The desired state is 'terminated'. Thanks, Phil."

Amazon EC2	"Re: EC2 Instance Stuck in 'shutting-down' State
Hello,

I have asked our EC2 team to investigate this issue further.

Regards
Truptesh"

Amazon EC2	"Re: EC2 Instance Stuck in 'shutting-down' State
Hi,

I see that the instance has been terminated. Please feel free to update the thread if you have any further issues.

Best Regards,
Pavithra"

Amazon EC2	"Re: EC2 Instance Stuck in 'shutting-down' State
Hi,
Unfortunately, Your EBS volume was lost due to multiple failures of the underlying EBS hardware components and we were unable to recover it automatically. 

Although EBS volumes are designed for reliability, we are still exposed to durability risks caused by multiple concurrent hardware failures that occur before our systems are able to restore data redundancy. For more information about our durability expectations regarding EBS volumes, please refer to the EBS detail page located at http://aws.amazon.com/ebs.

I would recommend you to use one of your previous snapshots, to restore the volume from a last good known backup. We apologize for any inconvenience this may have caused.

Christian R"

Amazon EC2	"Re: EC2 Instance Stuck in 'shutting-down' State
Hello, we accept that the EBS volume was lost due to multiple failures. Back to the original issue; the objective is to terminate the instance (i-bca94a1e), to which the failed volume (vol-59b6a8b4) was attached. The volume (vol-59b6a8b4) is shown in the console with the state 'error'. It can be deleted. The instance (i-bca94a1e) is shown in the console as 'shutting'down'. It can be terminated. How do I terminate an instance that is stuck in the shutting-down state and had an attached volume that failed (and the failed volume is now shown as not attached in an error state)? Thanks."

Amazon EC2	"Re: EC2 Instance Stuck in 'shutting-down' State
Hello,

The instance has been stopped now.

Regards,
Umair A."

Amazon EC2	"European VAT Invoices have disapeared
Hi,

up until this month, I was able to download VAT invoices from the ""Bills"" section of the AWS console. This option now seems to have disappeared, with only the standard invoices which say ""This is not a VAT invoice"" at the bottom. 

Can anyone tell me where I can download the VAT invoices that used to be available? 

Many thanks,
Craig"

Amazon EC2	"Re: European VAT Invoices have disapeared
Hello,

Please reach out to billing and accounts team for billing related queries.

http://docs.aws.amazon.com/awssupport/latest/APIReference/API_CreateCase.html

Regards,
Umair A."

Amazon EC2	"Unexpected instance reboots
Hi,

We had an unexpected restart of our production instance this week.

We didn't find the root cause yet and I would like to know if there was a maintenance or issues with the physical server this week.

Instance i-8f1f6c62 rebooted on 6/12/2016 - 9:13 AM (UTC-8).

Thanks!"

Amazon EC2	"Re: Unexpected instance reboots
Hello,

We have reviewed the instance and we don't see any issues with the underlying host. However if you look at the cloudwatch graphs you will see CPU utilization spike up to 100% around the time when instance status check failed.

Regards,
Umair A."

Amazon EC2	"Random Instance Status Check failed , Int freezes for 2 min
Hi 
I recently changed a ubuntu 12.04 LAMP instance from m1.medium to m4.large. Worked fine for 3 days then i started getting Instance Status Check failed errors. Up to 5 times a day, it just like it freezes ... then comes good.

Instance ID i-86897057

The instance freezes for 1 to 5 min, ssh,http both not responding during this time. The machine is not busy or overloaded, i have checked every log on the machine, but nothing out of the norm. This machine has been very reliable for the last few years. 

I wrote a little script, it writes to a file the current time and pings google every second. When the machine freezes the pings stop.... and it stops logging time , missing 30 seconds at a time. 

Id checked to see if there was any corresponding disk writes,reads, network in/out around this time but nothing. 

Any ideas what could be causing this?"

Amazon EC2	"Re: Random Instance Status Check failed , Int freezes for 2 min
Hello,

It's possible that there's something on the underlying host causing this. Not hugely likely, I think, but I'd like to check nevertheless.

Can you give me the timestamps (including time zone) when you've seen these freezes happen?

Richard"

Amazon EC2	"Re: Random Instance Status Check failed , Int freezes for 2 min
Hi Richard, 

I did some more investigation, the machine is not freezing its the network interface. 

A simple script that pings an external IP every second stops during this time,  while all other services on the machine keep running fine. 

During the dropout the interface still shows that its up, and has ip address etc, just the traffic seems to go nowhere. 

Are you able to check specifically the interface for issues?"

Amazon EC2	"Re: Random Instance Status Check failed , Int freezes for 2 min
UPDATE

I also notice now that during the interface dropout,  tcpdump only shows packets from my internal ip trying to leave. tcpdump shows nothing is received, so no replies. 

I still cant see anything in the logs except connection issues."

Amazon EC2	"Re: Random Instance Status Check failed , Int freezes for 2 min
Hello,

We dont see any problem with your instance from AWS side, Can you start your instance again and confirm if still there's a problem?

I would advise you to take a look at your instance network configurations, Share your network configurations and timestamps of failed pings.

Regards,
Umair A."

Amazon EC2	"libvirt for LXC on Amazon Linux
I want to create a LXC host based on Amazon Linux. I have found the repository for the lxc installation. But libvirt is missing. I tried to install it with a tar ball. 
Amazon Linux can't find the service with chkconfig --add.
How can I get a running libvirt?"

Amazon EC2	"Unable to connect to facebook.com
Hi,

I'm not able to connect to facebook.com from my EC2 instance. I've tried to access facebook.com using the web browser and I'm getting ""this site can't be reached"" error. Is anyone experiencing this problem?"

Amazon EC2	"Windows EC2 instance very slow after extending EBS volume
Hi All,

Can someone help me with instance ID: i-9e5a5e27

Since I extended the EBS volume today it's running very slow. I have done the following:
Rebooted the instance a number of times
Stopped then started it
Took another snapshot and used that to generate another volume which I attached to the instance

But still the server is very slow. Ican just about RDP into it after a very log on process but once in basic operations like clicking on the start button are painfully slow.

Please can someone look into it.

Many thanks"

Amazon EC2	"Re: Windows EC2 instance very slow after extending EBS volume
Hi,

Have you initialized (prewarmed) the volume after creating the it from snapshot?

Please have a look at our documentation on Initializing EBS volume here.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Windows EC2 instance very slow after extending EBS volume
Thanks for the suggestion Jayakrishnan as I didn't think of this.

By the way, when i came back to work on Monday the performance issues went away. I don't know if AWS did anything but I'm glad it's fixed.

Thanks"

Amazon EC2	"EC2 instance stuck in ""stopping"" state
My Sydney based instance i-2c2074f3 is stuck in ""stopping"" state.  I have tried forcefully stopping it & copying image & even tried detaching EBS but to no avail.

Please help."

Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello,

I have asked engineering to take a look at this instance for you.

We'll post back as soon as we can.

Richard"

Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hi,

Unfortunately, Your EBS volume (vol-d6c4bd1c) was lost due to multiple failures of the underlying EBS hardware components and we were unable to recover it automatically. 

Although EBS volumes are designed for reliability, we are still exposed to durability risks caused by multiple concurrent hardware failures that occur before our systems are able to restore data redundancy. For more information about our durability expectations regarding EBS volumes, please refer to the EBS detail page located at http://aws.amazon.com/ebs.

I would recommend you to use one of your previous snapshots, to restore the volume from a last good known backup. We apologize for any inconvenience this may have caused.

Christian R"

Amazon EC2	"SNAT and the Elastic Load Balancer (ELB)
As I understand it the ELB does not support Source NAT. 

Is this the correct understanding? 

Is there any solution to this?"

Amazon EC2	"Re: SNAT and the Elastic Load Balancer (ELB)
What do other web applications do about not having source IP information? How can you deal with malicious user actions if you can't identify the IP?

I'm thinking there is something I must be missing here."

Amazon EC2	"Re: SNAT and the Elastic Load Balancer (ELB)
The IP address is available in the X-Forwarded-For header. Would this work, or do you have any special requirements?"

Amazon EC2	"Re: SNAT and the Elastic Load Balancer (ELB)
That's unfortunate... Often malicious attacks come from anonymizing networks where sometimes the original IP is preserved in the x-forwarded-for header. However if you map the load balancer's IP into this variable this information is lost."

Amazon EC2	"Server.InternalError: Internal error on launch
Hello

I have launch an EC2 instance from EC2 Management Console yesterday and it's stopped immediately.
It have been in shutting down state for about half-day and still not disappear. But after that I can launch other instance normally as usual. 

The instance ID is i-42c1a5dd 
The instance's State transition reason said: ""Server.InternalError: Internal error on launch"". 

I don't know what to do about it. Please help!"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hi,

I can confirm that there was an underlying hardware error that resulted in the instance not launching successfully. The instance is terminated now and no further action is required from your end.

Regards,

Matombo T"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Thanks for the answer.

But I have been waiting for another day but the instance still in shutting down state and not disappears  from the ec2 management console. Is that ok? 

More importantly, do I have to pay for the resources I didn't use at all?

Regards."

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hello,
thanks for the update.
I can see the instance is still in a stuck state, so I have engaged our service team in order to fix this and let it disappear from your console.
You won't be charged for these resources.

Kind regards
Ale"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hi,

I can see that the instance -  i-42c1a5dd is now terminated.

Please check and let us know if you have any further issues.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hi,

I'm experiencing the same error with one instance. Can you have a look and see if it can be fixed ?

Instance ID
i-43ebb1c9

Thanks,

Chris"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hello,

I've asked engineering to take a look at i-43ebb1c9. We'll post back when we can.

Richard"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Hi
We have been updated by our EC2 and EBS team that issue should have been fixed now. Please try again and let us know if you still experiencing any any issues regarding EC2 instance i-43ebb1c9.

Best Regards
Christian R"

Amazon EC2	"Re: Server.InternalError: Internal error on launch
Thanks for your support!

The instance is  disappeared from the console. The EBS volume attached to it is still remain but I can delete it by my self.

Thanks again"

Amazon EC2	"Why is my Web Server so slow? Tried running Amazon EC2 M4.large
My Web server that was historically fast even on lower instances is running very slow lately. I tried to change attached volume to a I/O Provisioned SSD and also changed the instance type from m3.medium to M4.large. Got a little better performance i.e. pages load few seconds earlier, but still the server is quite slow and not at its full potential. The website traffic is almost none to 15 hits per day so website traffic is not a issue. Loading a simple .php file takes few minutes to load.

Instance type:  M4.Large
Instance ID: i-8f091d57
RAM: 8 GiB
ECU: 6.5
vCPU: 2

I have created the instance from a bitnami-wordpress-4.4.2-1-r04-linux-ubuntu-14.04.3-x86_64-hvm.

Can someone help me fix this issue?

Thank you."

Amazon EC2	"Re: Why is my Web Server so slow? Tried running Amazon EC2 M4.large
Hello,

Thanks for using the AWS Developer Forums.

I understand that your web server is slow. For security and privacy reasons we can't see inside your instance but I have examined the configuration and metrics and here are some recommendations:

1) Lock down ports to prevent unauthorized access

I see that the security group has port 22 open to the world (0.0.0.0/0). As you may be aware, this enables all IP addresses to access your instance using SSH. We advise that you authorize only a specific IP address or range of addresses to access your instance:

Authorizing Inbound Traffic for Your Linux Instances -- http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html

2) CPU Utilization

Your CPU Utilization is quite high with recent spikes:

https://console.aws.amazon.com/cloudwatch/home?region=us-west-2#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2016-06-12T23%3A56%3A56Z~2016-06-13T23%3A56%3A56Z~Maximum~60~InstanceId~i-8f091d57

Connect to your instance and run ""top"" for a real-time view of your running system and the tasks being managed. This may reveal processes with a high %CPU that you may want to kill (http://linux.die.net/man/1/kill), provided they are not required by any applications.

3) Log-diving

The logs under the /var/log directory may reveal errors/activity which you can troubleshoot. Places to look:


/var/log/apache2/access.log
/var/log/apache2/error.log 
/opt/bitnami/apache2/logs/*
/var/log/syslog 


4) Application tuning, optimization and caching

There are lots of third-party guides on the internet for tuning Bitnami, Apache, Ubuntu, WordPress etc. Also plugins to cache content like posts/pages as static files.

I hope this information is helpful.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Changing Development Companies - PEM Key
We are in the process of changing development companies for our SaaS.  The current company of course has the PEM key and access to our AWS EC2 servers.

My questions relates to going forward with the new company.  
1) What is the best practice or process to revoke the server access of the old company?  It is my understanding is that if they know/have the PEM key, they can always access the server (even after we fire them)
2) The new company is initially setup in the IAM system, but advises they need the PEM key.  Is there another option to pursue?

Any other suggestions or advice would be appreciated.  The servers are paid for and handled by our company, but the third party company we were using maintained them so I am learning quite a bit during this process.

Thank You in advance for your assistance."

Amazon EC2	"Always failed to deploy NodeJs App with mongoose module, semver error
I want to deploy my NodeJs App to EC2, but always got same error. I googled so long time still cannot fix it. Please help 
Here is the logs:

/var/log/nodejs/npm-debug.log

3542 verbose rebuildBundles   'mpath',
3542 verbose rebuildBundles   'mpromise',
3542 verbose rebuildBundles   'mquery',
3542 verbose rebuildBundles   'ms',
3542 verbose rebuildBundles   'muri',
3542 verbose rebuildBundles   'regexp-clone',
3542 verbose rebuildBundles   'sliced' ]
3543 info install mongoose@4.4.19
3544 info postinstall mongoose@4.4.19
3545 info build /tmp/deployment/application/node_modules/mongoose/node_modules/bson
3546 info preinstall bson@0.4.23
3547 info linkStuff bson@0.4.23
3548 silly linkStuff bson@0.4.23 has /tmp/deployment/application/node_modules/mongoose/node_modules as its parent node_modules
3549 verbose linkBins bson@0.4.23
3550 verbose linkMans bson@0.4.23
3551 verbose rebuildBundles bson@0.4.23
3552 info install bson@0.4.23
3553 info postinstall bson@0.4.23
3554 info build /tmp/deployment/application/node_modules/mongoose/node_modules/hooks-fixed
3555 info preinstall hooks-fixed@1.1.0
3556 info linkStuff hooks-fixed@1.1.0
3557 silly linkStuff hooks-fixed@1.1.0 has /tmp/deployment/application/node_modules/mongoose/node_modules as its parent node_modules
3558 verbose linkBins hooks-fixed@1.1.0
3559 verbose linkMans hooks-fixed@1.1.0
3560 verbose rebuildBundles hooks-fixed@1.1.0
3561 info install hooks-fixed@1.1.0
3562 info postinstall hooks-fixed@1.1.0
3563 info build /tmp/deployment/application/node_modules/mongoose/node_modules/kareem
3564 info preinstall kareem@1.0.1
3565 info linkStuff kareem@1.0.1
3566 silly linkStuff kareem@1.0.1 has /tmp/deployment/application/node_modules/mongoose/node_modules as its parent node_modules
3567 verbose linkBins kareem@1.0.1
3568 verbose linkMans kareem@1.0.1
3569 verbose rebuildBundles kareem@1.0.1
3570 info install kareem@1.0.1
3571 info postinstall kareem@1.0.1
3572 info build /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb
3573 info preinstall mongodb@2.1.18
3574 info linkStuff mongodb@2.1.18
3575 silly linkStuff mongodb@2.1.18 has /tmp/deployment/application/node_modules/mongoose/node_modules as its parent node_modules
3576 verbose linkBins mongodb@2.1.18
3577 verbose linkMans mongodb@2.1.18
3578 verbose rebuildBundles mongodb@2.1.18
3579 verbose rebuildBundles 
3580 info install mongodb@2.1.18
3581 info postinstall mongodb@2.1.18
3582 info build /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/es6-promise
3583 info preinstall es6-promise@3.0.2
3584 info linkStuff es6-promise@3.0.2
3585 silly linkStuff es6-promise@3.0.2 has /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules as its parent node_modules
3586 verbose linkBins es6-promise@3.0.2
3587 verbose linkMans es6-promise@3.0.2
3588 verbose rebuildBundles es6-promise@3.0.2
3589 info install es6-promise@3.0.2
3590 info postinstall es6-promise@3.0.2
3591 info build /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core
3592 info preinstall mongodb-core@1.3.18
3593 info linkStuff mongodb-core@1.3.18
3594 silly linkStuff mongodb-core@1.3.18 has /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules as its parent node_modules
3595 verbose linkBins mongodb-core@1.3.18
3596 verbose linkMans mongodb-core@1.3.18
3597 verbose rebuildBundles mongodb-core@1.3.18
3598 verbose rebuildBundles 
3599 info install mongodb-core@1.3.18
3600 info postinstall mongodb-core@1.3.18
3601 info build /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional
3602 info preinstall require_optional@1.0.0
3603 info linkStuff require_optional@1.0.0
3604 silly linkStuff require_optional@1.0.0 has /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules as its parent node_modules
3605 verbose linkBins require_optional@1.0.0
3606 verbose linkMans require_optional@1.0.0
3607 verbose rebuildBundles require_optional@1.0.0
3608 verbose rebuildBundles 
3609 info install require_optional@1.0.0
3610 info postinstall require_optional@1.0.0
3611 info build /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver
3612 info preinstall semver@5.1.0
3613 info linkStuff semver@5.1.0
3614 silly linkStuff semver@5.1.0 has /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules as its parent node_modules
3615 verbose linkBins semver@5.1.0
3616 verbose link bins [ { semver: './bin/semver' },
3616 verbose link bins   '/tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/.bin',
3616 verbose link bins   false ]
3617 verbose linkMans semver@5.1.0
3618 verbose rebuildBundles semver@5.1.0
3619 verbose stack Error: ENOENT: no such file or directory, chmod '/tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver/bin/semver'
3619 verbose stack     at Error (native)
3620 verbose cwd /tmp/deployment/application
3621 error Linux 4.4.5-15.26.amzn1.x86_64
3622 error argv ""/opt/elasticbeanstalk/node-install/node-v4.3.0-linux-x64/bin/node"" ""/opt/elasticbeanstalk/node-install/node-v4.3.0-linux-x64/bin/npm"" ""--production"" ""rebuild""
3623 error node v4.3.0
3624 error npm  v2.14.12
3625 error path /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver/bin/semver
3626 error code ENOENT
3627 error errno -2
3628 error syscall chmod
3629 error enoent ENOENT: no such file or directory, chmod '/tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver/bin/semver'
3629 error enoent This is most likely not a problem with npm itself
3629 error enoent and is related to npm not being able to find a file.
3630 verbose exit  -2, true 



/var/log/nginx/access.log-20160605.gz

requested file /var/log/nginx/access.log-20160605.gz is not a supported file type, please use bundle log to download the complete file...


/var/log/nginx/error.log-20160607.gz

requested file /var/log/nginx/error.log-20160607.gz is not a supported file type, please use bundle log to download the complete file...


/var/log/eb-commandprocessor.log

    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 681, in <module>
      main()
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 663, in main
      node_version_manager.run_npm_install(options.app_path)
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 131, in run_npm_install
      self.npm_install(bin_path, self.config_manager.get_container_config('app_staging_dir'))
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 166, in npm_install
      raise e
  subprocess.CalledProcessError: Command '' returned non-zero exit status 254 (ElasticBeanstalk::ExternalInvocationError)
caused by: + /opt/elasticbeanstalk/containerfiles/ebnode.py --action npm-install
  npm ERR! Linux 4.4.5-15.26.amzn1.x86_64
  npm ERR! argv ""/opt/elasticbeanstalk/node-install/node-v4.3.0-linux-x64/bin/node"" ""/opt/elasticbeanstalk/node-install/node-v4.3.0-linux-x64/bin/npm"" ""--production"" ""rebuild""
  npm ERR! node v4.3.0
  npm ERR! npm  v2.14.12
  npm ERR! path /tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver/bin/semver
  npm ERR! code ENOENT
  npm ERR! errno -2
  npm ERR! syscall chmod

  npm ERR! enoent ENOENT: no such file or directory, chmod '/tmp/deployment/application/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/node_modules/require_optional/node_modules/semver/bin/semver'
  npm ERR! enoent This is most likely not a problem with npm itself
  npm ERR! enoent and is related to npm not being able to find a file.
  npm ERR! enoent 

  npm ERR! Please include the following file with any support request:
  npm ERR!     /tmp/deployment/application/npm-debug.log
  Running npm install:  /opt/elasticbeanstalk/node-install/node-v4.3.0-linux-x64/bin/npm
  Setting npm config jobs to 1
  npm config jobs set to 1
  Running npm with --production flag
  Failed to run npm install. Snapshot logs for more details.
  Traceback (most recent call last):
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 681, in <module>
      main()
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 663, in main
      node_version_manager.run_npm_install(options.app_path)
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 131, in run_npm_install
      self.npm_install(bin_path, self.config_manager.get_container_config('app_staging_dir'))
    File ""/opt/elasticbeanstalk/containerfiles/ebnode.py"", line 166, in npm_install
      raise e
  subprocess.CalledProcessError: Command '' returned non-zero exit status 254 (Executor::NonZeroExitStatus)

2016-06-13T18:59:39.852Z ERROR 11510 : Command CMD-AppDeploy failed!"

Amazon EC2	"Start/Stop Instance created by a Spot Request
Hello,

I realize that starting and stopping an instance requires an EBS based one, however I have created my own image and from there I selected a ""Request Spot Instances"" in the wizard but doing this still won't allow me to Start or Stop the instance, interestingly enough if I select ""Launch Instances"" option in the same wizard option I do end up with the start/stop options being enabled, is there a way to have these options enabled for spot instances?

Thanks."

Amazon EC2	"Re: Start/Stop Instance created by a Spot Request
Hello Smara,

Spot instances do not support stop/start. For more details about this, please see the following documentation:
http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/index.html?ApiReference-query-StopInstances.html

Regards,
Mary"

Amazon EC2	"Re: Start/Stop Instance created by a Spot Request
As Mary mentioned, it is not possible to stop/start a spot instance. The spot instance will run until it is terminated by you or the system. If you need to stop the instance, you would want to launch it as an on-demand instance instead. 

I believe stop/start support for spot instances would be very complex. When you bid on unused capacity, would it even make sense not to use it? What would happen when you want to start the instance again? You don't pay any hourly fees for a stopped instance. How would that affect the spot market? As you can see, it gets complicated pretty fast. If you want to use spot instances, design your application to take advantage of instances that can come and go. Don't rely on a specific instance. Always be prepared to handle sudden termination. If you design with that in mind, you don't need to care about individual instances."

Amazon EC2	"Re: Start/Stop Instance created by a Spot Request
Actually stopping an instance would be great, as it would allow EBS stores to be remapped and instances to be restarted with restored/different volumes.

Application design, API usage (and it limitations) are different from allowing customers to pay for unused datacenter capacity."

Amazon EC2	"Re: Start/Stop Instance created by a Spot Request
This has been resolved as per P11D documentation, thanks."

Amazon EC2	"Re: Start/Stop Instance created by a Spot Request
I received mail in the morning which said one of my Amazon EC2 instances in the ap-northeast-1 region is scheduled for retirement, and sugguested me to stop, and restart instance for migration.

I click the ""stop"", and it always in ""stopping"" status, I clicked ""stop"" to Force stop, but it still in ""stopping"" status. It lasted for 6 hours till now, pls get it resolved.

My instance id is: i-c76b9a68"

Amazon EC2	"EIPAssociation + Allocation ID ""some-ip"" does not exist.
Hi,
My first-time attempt of associating an EIP to an ENI fails with the error message ""The allocation id 'ip' does not exist"". There is a prior post on this forum pertaining to this https://forums.aws.amazon.com/message.jspa?messageID=471472. I simulated the referenced delay between creation of EIP and association to an ENI using a cloudformation custom resource backed by a lambda function. However, the association continues to fail. Can someone please help me?

Some relevant timelines

11:36:11 UTC-0700	CREATE_FAILED	AWS::EC2::EIPAssociation	EC2EIPA4HWH6	The allocation ID '52.32.100.167' does not exist
11:36:10 UTC-0700	CREATE_FAILED	AWS::EC2::EIPAssociation	EC2EIPA35IZB	The allocation ID '52.33.76.55' does not exist
11:36:10 UTC-0700	CREATE_IN_PROGRESS	AWS::EC2::EIPAssociation	EC2EIPA35IZB	
11:36:10 UTC-0700	CREATE_IN_PROGRESS	AWS::EC2::EIPAssociation	EC2EIPA4HWH611:31:08 UTC-0700	CREATE_COMPLETE	AWS::EC2::EIP	VWDC1InternetLink1EIP	
11:31:08 UTC-0700	CREATE_COMPLETE	AWS::EC2::EIP	VWBranch1InternetLink1EIP

Thanks"

Amazon EC2	"Howto change key pair on running instance?
Howto change key pair on running instance?Is it possible? If yes, how?Thanks"

Amazon EC2	"Re: Howto change key pair on running instance?
Hi,No, it's not currently possible to change the keypair on a running instance.  You'd need to launch a replacement instance from the same AMI with the new keypair.Regards,Courtney E."

Amazon EC2	"Re: Howto change key pair on running instance?
Is there a way to retrieve an existing key pair.  I've had the IE8 problem when downloading the key pair, so it's lost.  I can terminate and create another (Windows) instance, but that seems rather clunky."

Amazon EC2	"Re: Howto change key pair on running instance?
It's not clearly spelled out in the docs, but if you log into your account and go to Security Credentials and click on they Key Pairs tab, you'll see this:

For your protection, AWS does not retain your private key. You should also never share your private key with anyone.

Which makes sense. They only keep the public key to install on machines you boot up.

So you need to be careful with your private key. Once you lose it, it's no longer recoverable."

Amazon EC2	"Re: Howto change key pair on running instance?
This is very frustrating.  Like this person I was not able to save my private key when I created my image.  WWhen will this issue be addressed?"

Amazon EC2	"Re: Howto change key pair on running instance?
I second this: or at least give us a way to associate a new key pair."

Amazon EC2	"Re: Howto change key pair on running instance?
Yes, please allow this. 

I just followed these steps to work around this issue: 
http://seabourneinc.com/2011/01/19/change-key-pairs-on-aws-ec2-instance/

I would like to avoid issues around restarting the server and also having conflicting information in the AWS console and in the .ssh/authorized_keys file.

Thanks"

Amazon EC2	"Re: Howto change key pair on running instance?
this doesnt work.. just tried it."

Amazon EC2	"Re: Howto change key pair on running instance?
Looks like this may be a solution:

http://stackoverflow.com/a/11776183"

Amazon EC2	"Request for Varnish package being added to Amazon Linux AMI
Could for future releases the package varnish be added to the available package list in the Amazon Linux AMI?"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Hi P. Smit,

Thanks for the feedback. We value all feedback and feature requests and I have passed your request on to our EC2 engineering team.

Regards,

Brendan"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Varnish has now been added to the Amazon Linux AMI repositories.  You can install it via ""sudo yum install varnish"""

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
I have posted an article on Varnish Implementation architectures on Amazon EC2 (AWS) .
http://harish11g.blogspot.in/2012/03/deployment-architectures-varnish-amazon.html
Will be useful for the community implementing Varnish on EC2"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Do you think that we could get the package for Varnish 3.x at some point soon? Compiling it is possible, but nearly not as convenient. Thx!"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Hi hubertnguyen,

Thanks for requesting the update. We're looking into it and will be sure to let you know when we update it."

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Varnish has been updated to 3.0.2.

Thanks for using the Amazon Linux AMI!"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Any chance of getting 3.0.4? https://www.varnish-cache.org/releases/varnish-cache-3.0.4

Edited by: jardeath on Aug 28, 2013 7:33 PM"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Hi jardeath,

We will look into getting varnish updated in an upcoming Amazon Linux AMI repository push.

Thank you for using the Amazon Linux AMI."

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Varnish 3.0.4 is now live in the Amazon Linux AMI repositories, concurrent with the release of the 2013.09 Amazon Linux AMI.

Thank you!"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Can you upgrade to 4.1.2 in Amazon Linux?  

https://www.varnish-cache.org/releases/index.html"

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Hello,

Thanks for the feedback. We value all feedback and feature requests and I have passed your request on to our Amazon Linux AMI team."

Amazon EC2	"Re: Request for Varnish package being added to Amazon Linux AMI
Hello,

Thank you all for your request.

Our internal team is tracking the request, but we do not have any ETA on it.

Please find the new updates from AWS at: https://aws.amazon.com/new/

Thanks."

Amazon EC2	"Receiving errors while buying reserved instances
Hi,

I am trying to buy a reserved instance for a t2.micro EC2 instance that I am running on AWS. However, no matter what I do I get an error like this:

Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: d06efa00-3496-4c38-a3d0-ae58f0b804dd)

I don't understand the issue about the ""quota"" here since I don't have any other reserved instances out of my current 20 instances limit.

Any ideas what's going on?"

Amazon EC2	"Re: Receiving errors while buying reserved instances
Hello,

I apologize for the inconvenience. I have opened an outbound case (case ID 1777411921) for your issue on this account. Can you please revert back to us on the case?

Thank you."

Amazon EC2	"Intermittent ELB 504s
We are experiencing an intermittent but persistent problem with 504 errors from our ELB. I've enabled logging from our ELB; logs for these errors are in the form:

2016-01-29T02:01:33.351290Z oca 1.129.96.114:54275 - -1 -1 -1 504 0 0 0 ""GET http://www.xxxxxxx.com HTTP/1.1"" ""Mozilla/5.0 (iPhone; CPU iPhone OS 9_2 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13C75 Safari/601.1"" - -

Looking at the ELB Troubleshooting Guide, it lists two potential causes for this error:

1) Application not responding within timeout period. This does not appear to be the case, as the 504 responses are very quick, certainly not longer than the 120-second timeout period the ELB has specified. We increased it from 60-seconds, just to confirm this was not the problem.

2) Registered instances closing the connection to Elastic Load Balancing. This does not appear to be the case, as the logs don't specify an instance to which the ELB is forwarding the request (listed as ""-""). To me this indicates that the error occurs before the load-balancer connects to an instance.

Does anyone have any solutions to this? I note others have had similar problems (ex: https://forums.aws.amazon.com/thread.jspa?messageID=673976 ) but no threads I have found contain a solution."

Amazon EC2	"Re: Intermittent ELB 504s
Hello,

I have engaged ELB operations team to dive deeper. I believe you are experiencing 504 errors on ELB ""oca-184348"", if this is not the correct elb please let us know so that we can update the ELB team.

We will keep you updated"

Amazon EC2	"Re: Intermittent ELB 504s
Hello, 

Our ELB team has taken a look and verified this is actually a timeout issue. 

The problem with the backend instances having a lower timeout period, is that the ELB reuses TCP connections. When the connection is unexpectedly closed between the ELB and Backend instance is when you'll see this type of issue crop up. Please update all backend instances to have at least 5 seconds longer timeout than your ELB (125 seconds) and verify if you see any change in performance. 

Regards,
Nick"

Amazon EC2	"Re: Intermittent ELB 504s
We did exactly this, even going so far in giving the backends a much higher timeout than the ELB (by 100 seconds) - no change, still intermittent 504 errors."

Amazon EC2	"Re: Intermittent ELB 504s
I had this same issue.  We started to notice the issue when we upgraded to the Amazon Linux 2016.03 AMI.  Once we reverted the problem went away.  here is a link with my post with my details:

https://forums.aws.amazon.com/message.jspa?messageID=725650#725650"

Amazon EC2	"Amazon Linux 2016.03 causing 504 gateway time outs
We use Beanstalk with Docker to run a java application on tomcat.  When we upgraded to Amazon Linux 2016.03 we started getting some weird 504 gateway timeout errors when trying to load javascript files on a webpage.  We reverted to the previous AMI and the gateway time outs stopped.  After looking into the issue, I could find the 504 gateway timeout errors in the load balancer logs but I couldn't find them anywhere in the nginx (reverse proxy) logs."

Amazon EC2	"Re: Amazon Linux 2016.03 causing 504 gateway time outs
Hmm interesting info - were you able to further debug what might have caused those 504 errors?"

Amazon EC2	"Re: Amazon Linux 2016.03 causing 504 gateway time outs
No, we just reverted.  I wasn't able to tell why the load balancer wasn't able to reach nginx.  The nginx logs didn't show the request in the error or access logs."

Amazon EC2	"auto scaling how to sync data with new scale up server
Hi

I have the web server and expect some request of spike on it and for that want to scale up the new system.

Now question is how this new scale up system will help to handled the request ???

How can I sync the original server data/configuration with the new scale up server ???"

Amazon EC2	"Max spot instance count exceeded
I have been able to launch up to 50 c4.8xlarge instances in march.
Today, a new project needs to be executed, but I seem to be hitting a wall after 18 machine launches. It started from about 15 machines, now only every now and then a machine gets through.

Error:
Description:DescriptionPlacing Spot instance request. Status Reason: Max spot instance count exceeded. Placing Spot instance request failed.
Cause:CauseAt 2016-06-12T23:24:56Z a difference between desired and actual capacity changing the desired capacity, increasing the capacity from 18 to 28.

Location: EU WEST

Are there other users experiencing simular issues with the region/machines?

I read the error indicates I have reached my limit of concurrent number of spot instances and have requested to increase the limit. 

Thanks.

Edited by: kmeirlaen on Jun 12, 2016 5:03 PM"

Amazon EC2	"Re: Max spot instance count exceeded
Hello,

You can request to increase your limit using the steps mentioned on the below links:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-resource-limits.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html

Hope this helps,

Regards,
Jayakrishnan L."

Amazon EC2	"Getting Unusual Traffic From Another AWS Account
Hey All,

I am getting unusual traffic from another AWS account. When I run checks on the IP address it resolves to ec2-75-101-151-107.compute-1.amazonaws.com. I have gone through my server logs and an extremely large number of entries are showing for it attempting to access a non existent file on my web server. When I try to connect to the server using the provided domain name I get an error saying the connection has been blocked which would indicate to me that it isn't a web server or other public facing server meant to be accessed which could be innocent enough.

The machine in question doesn't seem to be associated with any reputable search engine service nor is it attempting to crawl my whole website, only repeated attempts to access the exact same file."

Amazon EC2	"Re: Getting Unusual Traffic From Another AWS Account
Hello,

I understand that you are receiving suspect traffic from host - ec2-75-101-151-107.compute-1.amazonaws.com that is associated with one of AWS's customers.

You can report this to AWS Abuse team using the below link:
https://aws.amazon.com/forms/report-abuse

In this way, you will be directly contacted by our Abuse team, and at the same time they will contact the owner of the host, in order to find a solution for this problem.

Regards,
Jayakrishnan L."

Amazon EC2	"Using a new Instance ( how will ssl work? )
I needed to change instance, So I am just going to disconnect all the volume / ip / database connected to the old instance to the new one.

but my old instance have ssl on it ( outside source so it is inside the server file system somewhere )
Will the ssl get transferred over correctly ?"

Amazon EC2	"Re: Using a new Instance ( how will ssl work? )
Hi,

Could you provide some more information? Why are you getting a new Instance? Are you changing the size? Are you changing region or AZ? Could you provide an instance id?

I ask these as you may not need to get a new instance depending on why/what you are trying to accomplish.

If you are using the same volume, but you are changing the instance size/type, then you likely can keep the same instance, but just perform a stop/change instance size/start. As long as you are using the same volume (or a snapshot of the same volume) then your ssl shouldn't need to be changed in any way as it's on the volume. 

The ssl is only dependent upon the domain/subdomain that it is associated with. This means that you need to make sure that you keep the same hostname and make sure that your DNS record is correct to match the instance. The additional configuration needed to make ssl work is to set the hostname in the webserver itself (ie. Apache, Nginx, Lighttpd, etc.). If all these values are properly configured, then ssl should work without issue. The only critical one, though, is to set the hostname in apache (or whatever webserver you are using)."

Amazon EC2	"Re: Using a new Instance ( how will ssl work? )
instance id : i-eb34da7c

The server had ftp write permission issue, I followed a guide but I think was not made for aws's system
and now I brick the root access by using the sudo -R chrom command on /var/www/httpd
Not sure how to fix at this point..."

Amazon EC2	"Accidentally truncated MySQL database
Dear All,

One of our MySQL databases in a EC2 instance got accidentally truncated. We are currently searching for a solution if it can be recovered through MySQL. Additionally we would like to know if there is any chance you maintain a lets say an image of the instance. This can be of help to us. Please let us know. Thank you."

Amazon EC2	"All four EC2 instances reporting ""Error establishing a database connection""
All four instances contain a Wordpress LAMP stack that consistently worked up until yesterday.
Both 'live' sites - on two separate instances started to report the fault yesterday having run well enough for months. Normally a reboot will clear the problem but now it does not seem to be having any effect.
Using MySQL on localhost - RDS is not involved.
Any thoughts etc please?"

Amazon EC2	"Re: All four EC2 instances reporting ""Error establishing a database connection""
Still not sure why all four instances started 'playing up' at the same time - but the 'fix' for the two public / live ones (so far) seems to be to reload the latest version of WordPress. They have not failed in the 12 hrs+ since.
Nothing had been changed on WordPress - no stack updates applied so far as I know. Ho hum."

Amazon EC2	"Why can't I associated an Elastic IP with my EC2 instance?
Why can't I associated a Elastic IP with my EC2 instance?
They are in the same region and I've stopped my instance too.

Edited by: Michel Gomes Ank on Jun 11, 2016 1:18 PM"

Amazon EC2	"Re: Why can't I associated an Elastic IP with my EC2 instance?
Hi,

What error do you get when associating an EIP to your instance? Please provide the screenshot of the error you incur. I assume you are referring to instance i-c7759a45 ?

For a guide on how to associate an EIP to an instance please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-associating

You can either associate an EIP to instance or to the instance's network interface (ENI eni-2c95204a).

Regards,

Souza S"

Amazon EC2	"Re: Why can't I associated an Elastic IP with my EC2 instance?
I've done this worked before and I'm not doing nothing different.
The instance didn't show up in the list even tough when I tried to force putting the instance ec2 name.
I'm attaching the screenshot."

Amazon EC2	"Re: Why can't I associated an Elastic IP with my EC2 instance?
Hello Michel,

I have checked your instance and Elastic IP address. Currently you have 1 instance and 1 Elastic IP address. The problem is that, your EC2 instance is VPC instance but your Elastic IP address is EC2-Classic platform Elastic IP. It is not allowed associate EC2-Classic Elastic IP address to VPC instance.

To associate Elastic IP address to your instance, you will need to create new Elastic IP address with choosing 'VPC' or you will need to move your Elastic IP address from the EC2-Classic platform to the EC2-VPC platform if you want to keep this Elastic IP address. You can move your Elastic IP address via AWS CLI[1].

I hope this help and please let us know if you have any questions.

Documentations
[1] http://docs.aws.amazon.com/cli/latest/reference/ec2/move-address-to-vpc.html"

Amazon EC2	"My EC2 Server keep crashing every hour now, tried upgrading but none works
I am using WPLMS theme for wordpress and have got some custom plugins created for my wordpress website by a developer who has recently left my team. Everything was working fine but now, we are facing some critical issues. The website is crashing every hour now, it started almost daily a few days back. There are some errors which I am listing here for understanding the issue:

http://prntscr.com/bffqvu
AWS EC2 Status screenshot

http://prntscr.com/bffr69
AWS RDS Status Screenshot

http://prntscr.com/bfg84v
website errors page - console display

Tried upgrading both RDS and EC2 instance types but none working. When I restart my EC2 instance, the site starts functioning but within hours it goes off. Then I get this error.

http://prntscr.com/beksxt

Appreciate your help with more information on correcting the website.

Thank you so much!
Aryan"

Amazon EC2	"Unable to connect to ec2 instance
Hi
 My instance i-d9857316 was running fine. Suddenly it was stopped connecting to ssh or web browser. The status check of the instance is fine. When i try to connect using 

ssh -v ec2-user@52.74.51.100 -i maws.pem

I get the following
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 20: Applying options for *
debug1: /etc/ssh/ssh_config line 102: Applying options for *
debug1: Connecting to 52.74.51.100 http://52.74.51.100 port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file aws-small.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file aws-small.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9

Then it hangs and does not let me login to the server. 

Thanks
Xavier"

Amazon EC2	"Re: Unable to connect to ec2 instance
Hello,

I have checked your instance i-d9857316 and found that there were a lot of spikes on CPU Utilization. Also, I saw that instance status check failed when CPU Utilization spikes to 100%. So I expect the cause of this situation is because of high CPU Utilization. Currently that instance's CPU Utilization is under 10% so you will be able to connect your instance via SSH.

I hope this help and please let us know if you have any questions."

Amazon EC2	"Single EC2 (without ELB) randomly returns ""504 Gateway Timeout""
Lately, I'm experiencing ""504 Gateway Timeout"" on the EC2 (without ELB) running Apache and PHP, which randomly interrupted the services. 

Most of the forums mentioned the scenario with configuration between ELB and EC2, but in my case, there is no ELB.  Also PHP is configured with max_input_time, and max_execution_time more than enough.

Any suggestion would be very welcome."

Amazon EC2	"Re: Single EC2 (without ELB) randomly returns ""504 Gateway Timeout""
Hello,
while I would also recommend you to check webserver's and application logs, I'd also recommend you to please provide affected instance id so we can investigate its metrics.

Regards,
Alessandro"

Amazon EC2	"Re: Single EC2 (without ELB) randomly returns ""504 Gateway Timeout""
Hi Alessandro,

The instance ID is i-739543be.  server log (/var/log/messages), apache error log does not show anything.

Best regards,
Phakin Ch."

Amazon EC2	"Re: Single EC2 (without ELB) randomly returns ""504 Gateway Timeout""
Any updates? What was the outcome here?"

Amazon EC2	"ELB randomly returns 504 around 5 times per hour
We have a simple setup with 1 ELB with 2 instances. Some of the requests return a few times per hour an HTTP 504 but most of the time the same requests return HTTP 200. We have checked request logs on both instances behind the ELB and none of them has ever received the failing requests. We have multiple VPCs with same setup and in every VPC this same issue is happening. We have very little traffic so we doubt that the ELB requires any warm up.

How to check what is going on in our ELB? 

We have already enabled ELB request logs and they show:
2015-04-26T01:17:34.303750Z <name>-elb 10.244.24.111:51984 - -1 -1 -1 504 0 0 0 ""GET http://<request> HTTP/1.0""
You can see the response code 504, but the ELB doesn't even log the instance that it tried to call."

Amazon EC2	"Re: ELB randomly returns 504 around 5 times per hour
any luck?  we're having the same issue."

Amazon EC2	"Re: ELB randomly returns 504 around 5 times per hour
Any progress here?"

Amazon EC2	"Questions about ELB 504 in access logs
Hi, there

We are using ELB in AWS Oregon in front of our applicatons, through AWS Cloudwatch monitoring, I noticed there are about 150 5XX for ELB 5xx metric in one minute if latency is more than 1 seconds (less than 1.5 seconds). 

When I downloaded access logs for this ELB, I find some entries below:

2015-05-26T06:52:15.295083Z myelb 54.169.197.121:15014 - -1 -1 -1 504 0 280 0 ""POST https://abc.com:443/test.json HTTP/1.0""
2015-05-26T06:52:18.217042Z myelb 54.169.197.173:28579 - -1 -1 -1 504 0 933 0 ""POST https://abc.com:443/test.json HTTP/1.0"" HTTP/1.0""
2015-05-26T06:52:18.727591Z myelb 54.169.197.121:15451 - -1 -1 -1 504 0 300 0 ""POST https://abc.com:443/test.json HTTP/1.0"" HTTP/1.0""
2015-05-26T06:52:19.316573Z myelb 54.169.197.173:28708 - -1 -1 -1 504 0 214 0 ""POST https://abc.com:443/test.json HTTP/1.0""

In AWS document, it mentioned ""If the client didn't send a full request, the load balancer can't dispatch the request to a registered instance, and this value is set to -.""

I don't quite understand what it means ""If the client didn't send a full request"", does that mean the request is not valid? 

For the ELB, I use the default configuration, Is there any suggestions for the ELB configuration? thanks."

Amazon EC2	"Re: Questions about ELB 504 in access logs
I too would like some clarification regarding this section of the documents."

Amazon EC2	"Re: Questions about ELB 504 in access logs
I am equally in this boat. Ive done some telemetry on these access logs and it seems that the 504s come in groups and can last up to a full second. For a webservice getting 40 to 50 requests a second this can be quite a large amount of drop. 

If the client sends a bad request then I would expect to see received bytes which is what your logs and my logs have. But I dont know if that is evidence to show that malformed requests are being sent to the ELB...

Also, to rule it out, if the backend server (the ec2 instances) wasnt responding in time or didnt have a fully qualified response, wouldnt the backend response time be higher than -1? I think that would have to mean the request never goes to the backend server in the first place.

I also read that the ELB has nodes (somewhat of a load balanced load balancer) and that if there is not an available node then a 504 will occur but these logs have the IP address of the ELB node that it came from in the log file name so that sort of points at there not being a lack of ELB nodes.

Any insight into arbitrary 504s would be super helpful

Edited by: Bksepulv on Jun 26, 2015 8:39 AM"

Amazon EC2	"Re: Questions about ELB 504 in access logs
we have having the same issue"

Amazon EC2	"Re: Questions about ELB 504 in access logs
any updates? anyone able to solve this problem?"

Amazon EC2	"Intermittent ELB 504 errors
Hello,

We are currently running into a very annoying issue -
We have an ELB, with one public instance behind it - both in the same AZ

Our ELB usually works as expected, but sometimes during peak usage, it gives us a 504 error.

That 504 error seems to happen on only ONE script, and we get like 1 such error every now and then.

We store the logs and, here's one sample, after checking in over 10 MB of ELB logs :

I observed only ONE 504 :

2015-08-06T14:43:34.766732Z myelb 54.xx.xx.xx:17307 - -1 -1 -1 504 0 815 0 ""POST http://mysite.com:80/myscript.php HTTP/1.1"" ""-"" - -  

And here is a successful call :

   2015-08-06T14:43:29.755710Z myelb 54.xx.xx.xx:17303 10.yy.yy.yy:80 0.000055 0.008705 0.000091 200 200 819 726 ""POST http://mysite.com:80/myscript.php HTTP/1.1"" ""-"" - -

We noticed that there is no ""private ip"" for the failed call - 
I checked our local webserver log files, and the responses times around that timestamp are well under the Idle Timeout (set to 350 seconds)

Any idea what could be wrong ? 
I can send the ELB id and Instance ID inside a PM if that's necessary"

Amazon EC2	"Re: Intermittent ELB 504 errors
any idea ?"

Amazon EC2	"Re: Intermittent ELB 504 errors
Hello,

This indicates that your ELB was unable to make a TCP connection to your backend instance before the timeout.  Maybe your backend instance is running out of ephemeral ports or file descriptors?

Regards,

Matt W."

Amazon EC2	"Re: Intermittent ELB 504 errors
Hello,

Thank you for your answer - we investigated a bit more -
We also had an increased activity during the week end, which actually leads to more question marks !

-> an increased activity on our platform does NOT mean an increased amount of 504 errors (!!!!)
using cloudwatch ""hourly sum"" on HTTPCode_ELB_5XX shows about 10 events +/- 5 with no obvious pattern in the timing.

-> the 504 errors never happen in group (ie : we have one occurence, another one a couple of minutes later, another one 10 minutes later ...) again, no obvious pattern.

-> when you say
MattW@AWS wrote:
This indicates that your ELB was unable to make a TCP connection to your backend instance before the timeout. 
Wouldn't we observe a ""peak"" in HTTPCode_ELB_5XX ?
And why would only ONE particular URL be rejected ?

Thank you for your answers"

Amazon EC2	"Re: Intermittent ELB 504 errors
Did you ever find an answer to this?  We also observe seemingly random 504 errors in our ELB access logs- about once every 300 or so requests, but see no other errors on instances or anything that would indicate why the request failed/connection timed out.  A request to the same URL a minute later when we actually see it in the logs yields a normally served page.

This is really frustrating and hard to track down the cause, so any thoughts would be helpful here if you did end up solving this.

Thank you in advance!"

Amazon EC2	"Re: Intermittent ELB 504 errors
we are also seeing a similar problem that we are actively investigating"

Amazon EC2	"Re: Intermittent ELB 504 errors
any updates? anyone able to solve this problem?"

Amazon EC2	"Transitioning from Physical Server (Debian+Mysql) to Amazon Cloud
Summary of below:  Transitioning from Phyiscal server that runs Debian Linux (Mysql+Apache2) to Amazon Cloud, need guidance

We have a single physical server that runs our business.  Rough stats:

24 GB Memory
500 GB Hard Drive (Raid 2)
Debian Linux
MySql + Apache2
Low user load, used internally only with relatively small amount of users

Goals in switching:
Improving redundancy (eliminate physical servers)
Improve SQL performance (if possible) when running reports

It runs fine, no issues.  We want to transition to the cloud to eliminate (or reduce) risks associated with having a physical device.  The only things we notice is that it may help to have a little more memory for SQL queries.  Also as for CPU load, we only get about 20% loaded tops and don't really have a lot of web traffic as the server is mostly internal.

I have done some playing around with EC2 + RDS instances and have some questions on converting over.


We created an EC2 server instance and notice it ""included"" what seems to be roughly 8GB partition for the main install.  After installing all of our ""apt-get install"" packages it filled up to 95%.  What is the proper way to setup storage on an EC2 system?  I have heard something about setting up a separate ""EBS"" volume?  Is the original partition that comes with a new Debian server just there for initial login and I'm suppose to transition it out to an EBS volume?



We have played around with a separate RDS database instance (Mysql) vs. using one on the actual server -- when transferring a large amount of data outside of the Amazon IP range (to our external server) it was very slow running some big reports.  When I tried it from an internal ECS server it sped up dramatically, however it was still about 50-75% slower than when we run reports on our physical server that has Mysql directly on it.  I am assuming this is due to transferring large amounts of data over Ethernet?  When is it appropriate to use RDS vs. have Mysql right on the same machine?


Thanks for any guidance.

-John"

Amazon EC2	"Unable to Stop/Start EC2 instances from Local Computer via the API tools.
Hey Guys,
I'm running into an issue when i'm trying to stop and start ec2 instances from my mac. The goal is to schedule a cron on my Mac so i can stop and start them automatically. I've downloaded the ec-api-tools and installed via the package manager. Both Instances have 1 Security Group with Inbound rules of http and ssh from anywhere. Please Advise. 

$ brew search ec2
codec2                                                  ec2-ami-tools                                           ec2-api-tools ✔                                       

--Shell Script
export AWS_ACCESS_KEY=""BLAHBLAH""
export AWS_SECRET_KEY=""BLAHBLAH/icpGY""
export AWS_CREDENTIAL_FILE=""/Path/TO/Key/Key.pem""
/usr/local/bin/ec2-stop-instances i-xxyy --region us-west-2b
/usr/local/bin/ec2-stop-instances i-xxyy --region us-west-2a

--Error
./stop-ec2.sh 
Unknown problem connecting to host: 'https://ec2.us-west-2b.amazonaws.com'
Unable to execute HTTP request: ec2.us-west-2b.amazonaws.com: unknown error
Unknown problem connecting to host: 'https://ec2.us-west-2a.amazonaws.com'
Unable to execute HTTP request: ec2.us-west-2a.amazonaws.com: unknown error"

Amazon EC2	"Re: Unable to Stop/Start EC2 instances from Local Computer via the API tools.
Hello,

The region name in your script should be us-west-2. us-west-2a and us-west-2b are availability zones in the us-west-2 region. 

Please correct the region name and the script should work.

Regards
Truptesh"

Amazon EC2	"Re: Unable to Stop/Start EC2 instances from Local Computer via the API tools.
Thank You Truptesh. I was able to get it running from Cmd Line. 

Cheers."

Amazon EC2	"HVM AMI build creation
Hi,

All the instructions I find online start with an existing AMI, but I would like to create an AMI from scratch using HVM instead of PV.
I would like to build or create new HVM AMI for montavista linux.
I did not find any existing public AMI available for montavista linux operating system.
My requirement turned to create new HVM AMI from scratch. Could you please anyone share the process of creating HVM AMI or point to existing AMI if available.

Thanks in advance.

Regards,
Karpagavalli"

Amazon EC2	"Instance failing Status Checks, then I get an Unknown Error in Support
My instance i-0e931fb71a3149813 has suddenly decided not to start. After failing status checks for 30 minutes I was offered the ability to create a support case, but when I submit the support case I get an error ""Error creating support case: An unknown error occurred"".

I'm assuming the instance is failing because of Sydney, it's the first time I've tried to boot it since the whole Sydney-AZ1 died this week."

Amazon EC2	"Re: Instance failing Status Checks, then I get an Unknown Error in Support
Hello,

It looks like this instance does not have network connectivity. If you look at the Console output you'll see that eth0 does not have an IP address. 

There's a lot of entries like this showing too:

2016-06-11 06:33:07,266 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

There are two possibilities. One is that this is an issue with the host you are running on right now. You can eliminate that as a possibility by stopping your instance and then starting it again. If that doesn't work however then it is probably internal to your instance and you will need to look at recovery options. I'd suggest this link as a start point:

https://aws.amazon.com/articles/5213606968661598

Good luck!

Richard"

Amazon EC2	"Re: Instance failing Status Checks, then I get an Unknown Error in Support
Like I said in my post, the server is failing and I can't access the console. Also, whatever you were seeing about no IP being assigned to eth0 isn't what I was being told through the Management Console.
I rebooted and waited several times with no success.

I eventually resolved the issue by unmounting the EBS volume, making a new EC2 instance in a different AZ and then mounting the volume onto it. After mounting to a new host there were no issues with networking or anything else."

Amazon EC2	"Postfix AMI telnet issue
Many apologies since this seems to be a near universal problem for those of us who are not Old Hands at this stuff.  I've done the requisite two days of Google searches but am still stuck on what I assume is a really simple problem.

I'm patient, but this driving me mad.

Thanks for any help.

Barry

Amazon Linux AMI , installed Postfix. (a few times via different how-tos.)
mail.1234legsgood.com Elastic IP: 52.40.136.97
I believe the MX record is set up correctly at the registrar (Dreamhost) (see attached)
Security group has incoming ports 22 and 25 open to the world.
Amazon has approved the requisite Reverse DNS form.

I can send email out, but can't receive.
I can telnet in to other ports, but not 25
Ping times out.
root@ip-172-31-24-2 etc#lsof -n -i :25
COMMAND PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
master  483 root   12u  IPv4 125690      0t0  TCP 127.0.0.1:smtp (LISTEN)

root@ip-172-31-24-2 etc#lsof -i :25
COMMAND PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
master  483 root   12u  IPv4 125690      0t0  TCP mail.1234legsgood.com:smtp (LISTEN)

root@ip-172-31-24-2 etc#netstat -an | grep "":25""
tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN 

/etc/hosts
127.0.0.1   mail.1234legsgood.com localhost localhost.localdomain


Here's my main.cf (the uncommented parts):
# LOCAL PATHNAME INFORMATION
 
queue_directory = /var/spool/postfix
 
command_directory = /usr/sbin
 
daemon_directory = /usr/libexec/postfix
 
data_directory = /var/lib/postfix
 
# QUEUE AND PROCESS OWNERSHIP
 
mail_owner = postfix
 
# INTERNET HOST AND DOMAIN NAMES
 
myhostname = mail.1234legsgood.com
 
mydomain = 1234legsgood.com
 
# SENDING MAIL
 
myorigin = $mydomain
 
# RECEIVING MAIL
 
inet_interfaces = all
inet_interfaces = localhost
 
# Enable IPv4, and IPv6 if supported
inet_protocols = ipv4
 
mydestination = localdomain, localhost, localhost.$mydomain, localhost
 
# REJECTING MAIL FOR UNKNOWN LOCAL USERS
 
local_recipient_maps = unix:passwd.byname $alias_maps
 
unknown_local_recipient_reject_code = 550
 
# TRUST AND RELAY CONTROL
 
mynetworks_style = host
 
relay_domains = $mydestination
 
# ADDRESS REWRITING
 
masquerade_domains = 1234legsgood.com
 
# ADDRESS REDIRECTION (VIRTUAL DOMAIN)
 
virtual_alias_domains = $virtual_alias_maps 
virtual_alias_maps = hash:/etc/postfix/virtual
 
alias_maps = hash:/etc/aliases
 
alias_database = hash:/etc/aliases
 
# DELIVERY TO MAILBOX
 
mail_spool_directory = /var/spool/mail
 
# DEBUGGING CONTROL
 
debug_peer_level = 2
 
debugger_command =
	 PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
	 ddd $daemon_directory/$process_name $process_id & sleep 5
 
# INSTALL-TIME CONFIGURATION INFORMATION
 
sendmail_path = /usr/sbin/sendmail.postfix
 
newaliases_path = /usr/bin/newaliases.postfix
 
mailq_path = /usr/bin/mailq.postfix
 
setgid_group = postdrop
 
html_directory = no
 
manpage_directory = /usr/share/man
 
sample_directory = /usr/share/doc/postfix-2.6.6/samples
 
readme_directory = /usr/share/doc/postfix-2.6.6/README_FILES"

Amazon EC2	"Associate IP using AWS CLI as scheduled task failing
Hi,

I am attempting to associate an IP to an instance using AWS CLI command as a Windows scheduled task, running on the virtual machine who's IP needs associated.

I have success when: I schedule the task to run while the instance is already up and running. Or when I schedule the task to run from another machine.

However if I set it to run after the instance has been stopped and restarted, the task does not complete when running on the virtual machine. I've run tests several ways, as both the Admin and System, but have not had success. I feel like there is something I am overlooking, or that the virtual machine is confused until after the IP is assigned remotely.

Any ideas?

Thanks!"

Amazon EC2	"Re: Associate IP using AWS CLI as scheduled task failing
I ended up using Data Pipelines instead of the method in question here, but am still curious if/how it would be possible. Data Pipelines is working well."

Amazon EC2	"Windows 2012 R2 Upgrade -- Can't RDP into it.
I've attempted upgrading my EC2 instance from Win2008 to Win2012R2.  However, each time I can't connect to it after upgrading.

I saw information about upgrading the drivers, and thought I had done it correctly each time, but unfortunately it isn't working.

Can anyone give me updated information regarding the process I must follow to perform the upgrade?

Thank you!
Mike

Edited by: vaaccess on May 11, 2016 4:38 PM"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
Hey Mike,

Thanks for reaching out to us.

At this moment I'm not entirely sure which guide you have followed, but you can have a look at the following guides, which will assist you in the process:

1] http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/serverupgrade.html
2] http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html
3] http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/serverupgrade.html#os-post

If you still experience issues, please provide us the instance-ids of the affected instances and we will be more than happy to assist further."

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
Yeah, it would be great if you could take a look at it:  i-ee4f09bf

I just ran through it again and it doesn't appear to have worked, again.  

Thanks!"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
So, can you take a look at it?  I've been leaving the server in its un-RDP-able state so you guys can troubleshoot, but really do need to get this resolved.

Thanks for your help!"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
???"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
???  Bueller???"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
Hello,

Apologies for the delay. We have reached out to our Windows team to investigate this issue further. We will get back to you once we have more information from the team to share with you.

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
Hello,

I just heard back from the Windows team that the instance is upgraded to Windows 2012 R2. We checked this using the Console Screenshot Service.

We also verified the connectivity to the instance on port 3389 (RDP) and we were able to get a connection successful message. Please see the command I performed to check the connectivity:
nc -v 54.208.X.X 3389
Connection to 54.208.X.X 3389 port tcp/ms-wbt-server succeeded!

From the above information, it seems that the instance was successfully upgraded from Windows 2008 R2 to Windows 2012 R2. If you are having issues connecting to the instance, you can refer to this 'Troubleshoot an Unreachable Instance': http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/screenshot-service.html

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
Very helpful, thank you.  After reading about the driver issues after upgrading, I was assuming that was the failure.  I'll start parsing through the link you provided to attempt to resolve why I can't RDP to it...

Thanks."

Amazon EC2	"Re: Windows 2012 R2 Upgrade -- Can't RDP into it.
While it wasn't on the thread you provided, I finally figured out the issue.

I had to download a new RDP client on my Mac.  Apparently the move from 2008 to 2012 negated the ability to use the previous RDP client."

Amazon EC2	"Instance do not shutdown
Hi!

One of my instances (i-30f558af ) has a problem. It's in shutdown process and doesn't shutdown.
Can anyone help me?

I read this Page, so I post this thread.
http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/TroubleshootingInstancesShuttingDown.html

The situation below is match to my problem.

| Terminated Instance Still Displayed

| After you terminate an instance, it remains visible for a short while before being deleted. The status shows as terminated. If the entry is not deleted after several hours, contact Support.

If you delete my instance, it's no problem.

Best Regards,

Tanaka"

Amazon EC2	"Re: Instance do not shutdown
I'm sorry to hear you had problems to stop your instance. 

I see your instance is stopped now. Please let us know if you are able to action it again. 

Cheers
Javier C#"

Amazon EC2	"Re: Instance do not shutdown
(I response instead of Mr.Tanaka)

Thanks for your response, But the instance(i-30f558af) is still shutting-down.
Please fix it?

I checked this situation with ec2 in management console/

Sincerely

Edited by: nagata1989 on Jun 2, 2016 9:11 PM"

Amazon EC2	"Re: Instance do not shutdown
Hello,

I can confirm that instance i-30f558af is still stuck shutting down. I have asked the EC2 team to investigate - we'll update you again as soon as we have more information.

Apologies for the frustration and inconvenience this may cause!

Kind regards,
Chris"

Amazon EC2	"Re: Instance do not shutdown
Hi Tanaka

Thank you for your patience as we investigated this case. 

The instance is now in a stopped state. 

The problem was an unresponsive EBS Volume. 

Please feel free to contact us should you require any further assistance with this. 
Regards
Tawanda"

Amazon EC2	"Network Transit issue on EC2. Seeing large numbers of dropped packets.
I am seeing a possible issue with a network router within the Amazon environment. We are seeing latency increase 200ms from our ""normal"" network latency from US east to the Philippines.  An MTR shows there to be a router at 206.126.236.35 (equinix02-iad2.amazon) that is causing a 25% packet loss.

Is anyone else experiencing this latency/packet loss? 

Output from MTR
We are seeing high latency times on the network leading to our instances from over seas (Philippines). We are seeing the issues at equinix02-iad2.amazon.com.

Here is an MTR output.

      Fri Jun 10 11:06:01 2016
Keys:  Help   Display mode   Restart statistics   Order of fields   quit
                                                                                                                                                                                                                                                                                   													Packets				Pings
 Host 											Loss%   Snt   Last   Avg  Best  Wrst StDev
 1. 192.168.0.10 								0.2%   810    1.7   1.2   0.9   6.8   0.3
 2. 121.96.11.2.bti.net.ph						0.0%   810    7.9   4.1   2.5  43.7   3.0
 3. 121.96.0.178								0.0%   810    3.2  27.7   3.0 227.8  49.8
 4. 121.96.0.178								0.0%   810    3.5  25.7   2.9 234.5  46.8
 5. tengige-1-0-0.gw1.rsv.bayan.net.ph			0.0%   810    4.3   4.6   3.1  21.3   3.0
 6. Gi0-1.gw1.mnl1.10026.telstraglobal.net		0.0%   810    3.6   4.8   3.3  22.0   2.9
 7. ip-61-14-158-9.asianetcom.net				0.0%   810   25.8  25.8  22.6  44.1   3.3
 8. te0-7-1-0.wr2.osa0.10026.telstraglobal.net	0.0%   810  150.1 151.4 147.9 172.3   3.3
 9. te0-0-0-4.gw2.lax3.10026.telstraglobal.net	0.1%   810  149.1 148.9 147.3 174.6   3.0
10. equinix02-iad2.amazon.com					26.3%   810  496.7 500.6 474.7 539.5   7.3
11. ???
12. ???
13.
54.239.110.133									29.0%   810  497.2 644.6 490.7 2635. 431.7
14. 54.239.108.129								26.1%   810  490.5 500.2 481.0 521.7   6.9
15. 205.251.245.224								17.3%   809  398.6 404.0 389.7 428.0   5.9
16. ???

Thanks, 
Richard"

Amazon EC2	"Re: Network Transit issue on EC2. Seeing large numbers of dropped packets.
Issue seems to have resolved itself 4 hours after it started. The router that was dropping packets stopped as quickly as it started. 

Thanks."

Amazon EC2	"The instance fails to respond once I launched VPN
I am using a Windows instance and installed  on it a VPN client software -- Cisco AnyConnect. But when I launched the VPN after logging in, the Windows instance no longer responded. What's the matter and how to get around this problem? Thank you."

Amazon EC2	"Too many hops to get to EC2 isntance
I've recently noticed difficulty establishing connection to my webserver and many assets just timing out.  I ran a tracert and got the following:

Tracing route to *****
over a maximum of 30 hops:

  1     2 ms     2 ms     4 ms  192.168.0.1
  2    24 ms    17 ms    18 ms  10.124.0.1
  3    23 ms    18 ms    17 ms  64.59.162.109
  4    21 ms    20 ms    27 ms  66.163.72.10
  5    21 ms    18 ms    18 ms  66.163.68.18
  6    22 ms    18 ms    18 ms  206.81.80.147
  7    32 ms    18 ms    28 ms  52.95.52.18
  8    22 ms    18 ms    19 ms  52.95.52.25
  9    25 ms     *       28 ms  54.239.41.193
 10    52 ms   138 ms    58 ms  52.93.12.222
 11    32 ms    27 ms    28 ms  52.93.12.213
 12    50 ms    63 ms    73 ms  52.93.12.248
 13    37 ms    29 ms    28 ms  52.93.13.21
 14    23 ms    28 ms    28 ms  205.251.230.125
 15  *   *   *  Timed out.

There seems to be a lot of hops between 6 and 14 to get to my server.  At hop 15 it's reached my system though it doesn't reply to pings.  Is this an error in routing on Amazon's side that's adding all these hops?

Thanks"

Amazon EC2	"give database connection error every 24 hrs
giving : Error establishing a database connection , connection dropping frequently  , i had to restart mysql service every 24 hrs , I checked DB , repaired it all fine .but still mysql going down

instance and elastic ip here 

Instance ID
i-9e95dd46
Public DNS
ec2-52-37-46-248.us-west-2.compute.amazonaws.com

Instance state
running
Public IP
52.37.46.248"

Amazon EC2	"How to sync code with Node.js app running on EC2
I am developing a Node.js app on EC2 (t2.micro) and looking for a good mechanism to push code updates from my laptop and restart the server.  I can use Forever to restart the server but unsure how best to sync my JavaScript modules.

I looked at CodeDeploy and it appears to be overkill for a single developer.

Thanks!

Edited by: sayitwithcode on Jun 8, 2016 10:11 AM"

Amazon EC2	"Re: How to sync code with Node.js app running on EC2
Shall I assume by silence that there is no mechanism for this?  I can fire up WinSCP and WebStorm in the absence of a solution."

Amazon EC2	"Spot Defined-Duration (Spot-Blocks) price is always fixed or changed?
I`d like to use Spot Defined-Duration instance.
But, Description of this instance type is not clear to me.

currently, spot blocks (m4.large / 1hour duration on tokyo) price is $0.101.
this price is fixed or can be changed in real-time such as original spot instance?

Spot Blocks price can be higher than on-demand price such as original spot instance? (sometimes, spot price spike)."

Amazon EC2	"Re: Spot Defined-Duration (Spot-Blocks) price is always fixed or changed?
Currently, the Spot block price is fixed as a fraction of on-demand price. The discount decreases with the duration growth (http://aws.amazon.com/ec2/spot/pricing/)."

Amazon EC2	"Re: Spot Defined-Duration (Spot-Blocks) price is always fixed or changed?
What is the fixed price scale by hour? I can't find any documentation that describes this and it makes it very difficult to use programmatically unless I can obtain the prices programmatically. I can get the on demand prices (although it is a very big pain requiring downloading and parsing 30 MBs of JSON), but without knowing the discount multiplier per hour I am just guessing at what the current spot block price is. There has got to be a good way to do this.

What does the AWS console do? When you specify ""Reserve for duration"" it doesn't even ask you for a price. It must be supplying one (unless you have undocumented APIs that don't require one).

Thanks for your help!"

Amazon EC2	"T2 CPU credits discrepancy
I have a t2.small instance, which according to AWS docs should have a baseline performance level of 20% CPU (or 12 CPU credits per hour).  When I look at the CPU credits consumed over the last day per hour (summed, not averaged) my PEAK credits consumed was 2.53 in one hour, well below the 12/hr baseline.  In fact it's below the t2.nano baseline!

However, when I look at my CPU credit balance over the last day, I see it start at about 281 credits and steadily drop to 269 -- even though in the most CPU-intense hour, I never exceeded the baseline.

What possible explanation could there be for this?  I'm worried that my CPU usage is going to be throttled in a few days, even though I'm operating well within the baseline usage parameters.

(See the attached graphs.  This is i-0ef241a2adcf18a21 in case an AWS rep wants to take a look.)"

Amazon EC2	"Re: T2 CPU credits discrepancy
To add some more info/analysis:

Based on the load averages on this machine, as well as CloudWatch's own statistics about this instance, I'm averaging about 4% CPU usage for the last six hours, which means I should be spending ~2.4 of my 12 credits every hour.  This is consistent with what I'm seeing in my CPU Credit Usage graph.  However, this means I should be accruing ~9.6 CPU credits per hour (up to the cap) when instead I'm losing 2 per hour!

If we assume this will continue, then this instance will start being CPU-throttled in about 5.5 days!"

Amazon EC2	"Re: T2 CPU credits discrepancy
Sorry to keep posting my thread, but I think I may simply not be thinking clearly due to the late hour, and may have just realized how this is being accounted.

About eight hours ago, I installed some new services on the box that raised the average CPU consumption from about 0.5% to 4%.

At 0.5% CPU I would have consumed 0.3 credits per hour, so I was accruing 11.7 credits per hour 24 hours ago.  I suspect what's happening is that these 11.7 credits are expiring and being replaced with the 12 - 2.4 = 9.6 credits per hour that I'm accruing at 4% average CPU use.  The difference of 11.7 and 9.6 is 2.1 net credits expiring every hour, which is pretty much exactly what I'm seeing.

Based on this analysis, it seems correct that the CPU credits available will drop by 2.1 per hour and settle around 230 CPU credits in about 16 hours.  If that does happen then I guess I'm not in danger of being throttled."

Amazon EC2	"Re: T2 CPU credits discrepancy
The loss of credits was due to expiration of old credits.  The credit count stopped dropping after 24 hours."

Amazon EC2	"Lost my pem file
I lost my .pem file for my instance a cannot login the RDS can someone help?"

Amazon EC2	"Re: Lost my pem file
Hi,

An instance can only be associated with a key pair only at launch time (either to an existing key pair or by creating a new key pair). that means if you lose the key pair then you won't be able to generate another one for that already running instance or associate it with an already existing key pair. To urgently address your issue, you may try to do the following:-

1. From your AWS console stop the instance in question
2. Create a snapshot of the instance
3. Create a duplicate instance from the resulting snapshot and create a new Key Pair.

Once the instance is up and running, you would be able to log into the new instance using the new key pair. The new instance is identical in every aspect to the original instance and you can carry on your work from there. If you were using an elastic IP, then dissociate it from the old instance and associate it with the new instance and make sure to update DNS as well. If you are happy you can then terminate the old instance.

I hope this helps.

Thanks,
Avani"

Amazon EC2	"Can't access ubuntu server after setting up wrong route?!
Hi all,

without knowing too much about networking I got tangled up in something and I fear the loss of tons of work (no I didn't save an image file). Any help woud be hiiiighly appreciated.

I did the following on my ubuntu server 14.04 (anonymized)

sudo vim /etc/network/interfaces
add the line in the file: up route add -net 212.123.122.142/32 gw 192.168.168.1 dev eth0
save, close and reboot server


Now I can't connect via any means to my instance anymore. I even completely opened up the according security group to allow SSH access from all IPs.

Can anyone give advice?
Please heeelp 

Edited by: martinneedshelp on Jun 10, 2016 5:17 AM"

Amazon EC2	"Re: Can't access ubuntu server after setting up wrong route?!
Hi,

Could you please let me know the instance Id in a PM?

Thanks,
Avani"

Amazon EC2	"0/2 checks passed. (i-94158428) Can I check if it was infrastructure?
My instance became suddenly unreachable. After 5-10 I rebooted and it eventually came back. There is no trace of any error in the system logs, so I suspect it was an infrastructure problem. Is there anyway for me to confirm this?"

Amazon EC2	"Re: 0/2 checks passed. (i-94158428) Can I check if it was infrastructure?
Hi,
I have checked your instance and I can confirm that it failed the System Status check, therefore showing 0/2 Status checks passed.
The System Status check normally fails when there is an issue on the underlying hardware supporting the instance, as in this case, where the underlying hardware experienced a transient issue that caused the Status check to fail for a few minutes.
I can confirm, though, that the underlying hardware is currently working correctly and your instance is up and running as expected.

We apologize for any inconvenience this might have caused you.

Have a great day!

Andrea S."

Amazon EC2	"php_pgsql
Hello

I have installed php55, php55-pgsql and postgresql94* packages but the driver for postgresql in php is built with postgresql8.4.20 , do you know how to install the php55-pgsql linked with postgresql94 ?

Thanks
Benoit"

Amazon EC2	"SSH Connection timed out
I need to retrieve some files from our instance. This was setup by a developer who is long gone. I know almost nothing about using AWS. I am trying to use FTP to access the file system.

When I try to connect I get this error:

Status:	Connecting to ec2-52-89-162-15.us-west-2.compute.amazonaws.com...
Response:	fzSftp started, protocol_version=5
Command:	keyfile ""C:\KeyPairs\myKeyPair.ppk""
Command:	open ""ec2-user@ec2-52-89-162-15.us-west-2.compute.amazonaws.com"" 22
Error:	Connection timed out after 20 seconds of inactivity
Error:	Could not connect to server


I created a new Key Pair from AWS (.pem) and generated a .ppk with PuTTY Key Generator. 

I have read countless threads on accessing EC2 with FTP and believe I have setup everything, but still I get this error.

My instance is a *'t2.micro*' type and it is running.

My Security Group is setup as follows

Security Groups associated with i-1714a9e1
Ports	Protocol	Source	WebServerSG
80	tcp	0.0.0.0/0	✔
0--1	icmp	0.0.0.0/0	✔
22	tcp	0.0.0.0/0	✔
20-21	tcp	0.0.0.0/0	✔
50000-51000	tcp	0.0.0.0/0	✔
1024-1048	tcp	0.0.0.0/0	✔


Any suggestions on what to change or try?

Is there some other way I could just zip the contents of the directories and retrieve the file(s) without FTP?"

Amazon EC2	"Re: SSH Connection timed out
I still cannot get connected with SSH.  Since my initial post, I have:

1. Deleted the Key Pair and recreated one name 'myKeyPair'. That name appears to be required for the instance.
2. Stopped the instance.
3. Started the instance.
4. On my Windows computer, I made the .pem ReadOnly.
5. I used PuttyGen to create a new Private key named 'myKeyPair.ppk' per the instructions in the AWS documentation.

At this point I tried using the Connect to launch a MindTerm session.  I entered the fullpath to my .ppk file. It never gets passed this step and eventually crashes with ""I/O error - read failed: unknown error""

MindTerm home: C:\Users\Mike\Application Data\MindTerm\
SSH Server/Alias: ec2-52-39-249-251.us-west-2.compute.amazonaws.com
Connected to server running SSH-2.0-OpenSSH_6.2
 
Server's hostkey (ssh-dss) fingerprint:
openssh md5:  85:...
bubblebabble: xotan...


It never gets passed this step and eventually crashes with ""I/O error - read failed: unknown error""

Using FileZila I get this error:

Status:	Connecting to ec2-52-39-249-251.us-west-2.compute.amazonaws.com...
Response:	fzSftp started, protocol_version=5
Command:	keyfile ""C:\KeyPairs\myKeyPair.ppk""
Command:	open ""ec2-user@ec2-52-39-249-251.us-west-2.compute.amazonaws.com"" 22
Error:	Disconnected: No supported authentication methods available (server sent: publickey)
Error:	Could not connect to server


Using PuTTY I get this console:

Using username ""ec2-user""
Server refused our key


and this PuTTY Fatal Error

Disconnected: No supported authentication methods available (server sent: publickey)


Trying with Ipswitch I get this console log:

Finding Host ec2-52-39-249-251.us-west-2.compute.amazonaws.com ...
Connecting to 52.39.249.251:22
Connected to 52.39.249.251:22 in 0.031268 seconds, Waiting for Server Response
Server Welcome: SSH-2.0-OpenSSH_6.2
Client Version: SSH-2.0-WS_FTP-12.4.1-0
DSS Signature Verified
Session Keys Created
Ciphers Created
New Client->Server ciphers in place.
New Client->Server ciphers in place.
Completed SSH Key Exchange.  New Keys in place.
Trying authentication method: ""publickey""
Server rejected public key
Failed SSH User Authentication
SSH Transport closed."

Amazon EC2	"Re: SSH Connection timed out
I finally paid for Support to solve this.

The problem is I did not have the key pair that was used WHEN THE INSTANCE WAS CREATED.  I thought I could stop the instance, create a new key pair, and then start it to get it to use the new one.  That DOES NOT WORK.

Instead, I had to create a new key-pair on on a new, temporary instance, and then move the mount to the original instance.  The instructions are in this article: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair

You have to be careful about getting the volume name right -- it took me a few times to get the right volume mounted to the original instance."

Amazon EC2	"Request limit exceeded in AWS Console
We frequently receive this error while logged into the AWS Console
""An error occurred fetching instance data: Request limit exceeded."" 
We don't have any api scripts running during the day only at night for some volume snapshots. Also enabled cloudtrail but not seeing anything specific.

Anything else we should look into ?"

Amazon EC2	"Re: Request limit exceeded in AWS Console
Hello,

Could you please tell me which region you're experiencing this issue in so we could investigate this further?

Thanks,
Anup"

Amazon EC2	"Re: Request limit exceeded in AWS Console
this is in us-east"

Amazon EC2	"Re: Request limit exceeded in AWS Console
When I try to start a new instance in Opsworks it returns:

""EC2 request limit exceeded - please try again in a couple of minutes""

Screenshot attached. Could you please solve the issue? Thanks

Edited by: mobovivo99 on Jun 9, 2016 12:47 PM"

Amazon EC2	"Re: Request limit exceeded in AWS Console
Same here on us-east. One of my instances stopped responding so I restarted it and then it failed to start. Tried to create new instance on VPC (public subnet) and got this error:
Launch Failed
Request limit exceeded.

Also, when I tried to create an instance on the same VPC, but on my private subnet, I was able (after some attempts) to create the instance, but after the initialization it was automatically terminated.

Now, my server is down! I need some help with this!"

Amazon EC2	"Re: Request limit exceeded in AWS Console
Hello,

We are investigating increased error rates for new instance launches and elevated API error rates in the US-EAST-1 Region. Please see http://status.aws.amazon.com/  for the latest information.

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Re: Request limit exceeded in AWS Console
Nikhil, thank you for your reply. On the checklist that you sent I noticed that ""We continue to investigate increased error rates for new instance launches and elevated API error rates in the US-EAST-1 Region. We have throttled requests to the RunInstances API as we work towards recovery. Running instances are not affected."", but I think you made a mistake stating that ""Running instances are not affected."", because my instance was affected and it was running for like one year without any problems. I think it is very unlikely that the problem was unrelated to the API errors mentioned. I hope this feedback will be useful.

After some juggling I was able to start the instance, and now it is running without problems."

Amazon EC2	"Re: Request limit exceeded in AWS Console
Hello,

Thank you for the post and the feedback. I will provide this feedback to our internal teams.

As for the updates, at 1:19 PM PDT: We are starting to see some recovery for new instance launches in the US-EAST-1 Region. We continue to work on removing throttles and restoring RunInstances API availability. Throttled API requests will return a ""request limit exceeded"" error message. 

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"EC2 instance won't start
Hi there, 

I rebooted my instance accidentally - and now it won't start -Server.InternalError: Internal error on launch

I use Bitnami cloud services - in zone us-east-1a 

Tried a few times to start it and it just won't go. 

Thanks!"

Amazon EC2	"Re: EC2 instance won't start
I'm having the same problem also in the us-east-1a zone.  I can start paravirtual machines but not hvm ones. They go right from starting to stopping to stopped in the web console.

As a test I tried launching a new machine from an AMI and get the error: ""Launch Failed
Request limit exceeded."".

Edited by: marcoshw on Jun 9, 2016 12:52 PM"

Amazon EC2	"Re: EC2 instance won't start
Hello,

Thank you for the post.

We can confirm increased error rates for new instance launches and elevated API error rates and latencies in the US-EAST-1 Region. 

For more information, please refer to AWS Service Health Dashboard on this link: http://status.aws.amazon.com/

I hope the above information helps. 

Regards,
Nikhil"

Amazon EC2	"Re: EC2 instance won't start
Hello,

At 12:53 PM PDT: We continue to investigate increased error rates for new instance launches and elevated API error rates in the US-EAST-1 Region. We have throttled requests to the RunInstances API as we work towards recovery. Running instances are not affected.

At 1:19 PM PDT: We are starting to see some recovery for new instance launches in the US-EAST-1 Region. We continue to work on removing throttles and restoring RunInstances API availability. Throttled API requests will return a ""request limit exceeded"" error message.

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"centOS: Does anyone have steps or links to create our own centOS Image ?
Hi AWS Team,

Does anyone have steps or links to create our own centOS image with ebs volume in EC2 ? 

Thanks,
Gubs"

Amazon EC2	"DELETE SNAPSHOOT
I finished my All instances of EC2 , but still paying for 4 snapshoot , how is this possible ?
I tried to delete but can not because the system says it is still in use, but there is no more volume !
How should I proceed?
I do not want to pay for something I'm not using ."

Amazon EC2	"Configuring ELB for multiple ports
I'm using Wowza on my ec2 instance to stream videos, record, and play back videos. I need to have my load balancer be able to connect to ports 1935, 8088, 8086, and 80 on my instance. Right now I have LB port 443 on instance port 80, but I'm not sure how I can get the others to work. Thought it would have just been setting the rest as 
LB HTTPS port 1935 to Instance HTTP port 1935
LB HTTPS port 8088 to Instance HTTP port 8088
LB HTTPS port 8086 to Instance HTTP port 8086

I have my SSL cert set on all the ports. Not really sure what else I need to get my app to connect to the ports?

Edit: Changed my security groups, and when I got to the dashboard port it redirects to the unsecured site and 404s.

If I got to https://site.com/8088 it'll redirect to http://site.com:8088/manager  How can I change this?

Edited by: ziplinetom on Jun 9, 2016 11:23 AM"

Amazon EC2	"Power on stopped instance if another instance goes down
Is there a way to have another instance power on if the instance being monitored goes down?  I'm only seeing in Cloudwatch a way to have a monitored instance try to recover itself."

Amazon EC2	"Re: Power on stopped instance if another instance goes down
You can use CloudWatch Events to push the stop/terminate event into an AWS Lambda function.  This function could start another instance."

Amazon EC2	"Unable to release elastic IP
I'm unable to release an elastic IP, its not associated with any EC2 instance.

I get the following message. An error occurred while attempting to release the IP addresses 52.17.24.72: The address with allocation id eipalloc-6630f503 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 19aca548-cf38-4c50-8322-38321358c0d0)

Please can someone assist?
Many Thanks"

Amazon EC2	"Re: Unable to release elastic IP
Hi charlenerogers, 
the elastic IP can't be deallocated because has a Reverse DNS Record Associated. 

I will need your confirmation to remove the association. 

Cheers. 
Javier C#"

Amazon EC2	"Re: Unable to release elastic IP
Hi Javier, 

Thanks for your quick response, yes please remove the rdns entry.

For further reference is there a way I can do this?

Many Thanks"

Amazon EC2	"Re: Unable to release elastic IP
Hi,

Could you please try to dissociate the EIP using the console now? If you are still receiving the error on the console, please try using the CLI command ""aws ec2 disassociate-address --public-ip 52.17.24.72""

If you continue to receive an error, please run the CLI command with the --debug option and send us the output.

Best Regards,
Pavithra"

Amazon EC2	"ssh_exchange_identification: read: Connection reset by peer
Hi, I am not able to ssh my instance, and I can not visit the IP, neither.

Below is the debug information:

debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: /etc/ssh/ssh_config line 56: Applying options for *
debug1: Connecting to ec2-54-153-80-114.us-west-1.compute.amazonaws.com http://54.153.80.114 port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file awswp.pem type -1
debug1: key_load_public: No such file or directory
debug1: identity file awswp.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
ssh_exchange_identification: read: Connection reset by peer

Any help is appreciated. Thank you."

Amazon EC2	"Domain Controller
We are running an Active Directory Server in one of our VPC. And we would like to run Secondary Active Directory Server. but when i try to add the secondary domain i get error. Screenshot is attached. Let me know if more info is required on the same.

Thanks"

Amazon EC2	"Re: Domain Controller
Hi, 
We will need the instance Id for the secondary domain controller and for the main one as well, but this mostly happens when the security groups on the instances are not properly configured. 

I would recommend you to create a new security group, assing an single outbound rule to this security group allowing all the traffic to himself, and then assign this security group to all your ec2 instances that will be or are domain controllers and try to run the dcpromo again. 

This will probably solve the issue. If not please let us know 
Cheers 
Javier C#"

Amazon EC2	"Tool to max out CPU?
Hi there,

I'm learning AWS and am trying to experiment with ELB and AutoScaling. In order to do that I'd like to experience with CloudWatch alarms for CPU utilisation but am struggling to find an easy way to push and keep my EC2 instance's CPUs above a certain amount for a configurable period of time before dropping down again.

I'm sure I can't be the only one who's tried to do this, but I can't fund anything out there that fits the bill.

Thanks in advance.

Chris"

Amazon EC2	"Re: Tool to max out CPU?
Hello, 

You do this within your OS, and how you do so depends on which OS you're utilizing. There are also multiple tools that can be used for this purpose. 

In linux, the following post suggests multiple solutions:
http://stackoverflow.com/questions/2925606/how-to-create-a-cpu-spike-with-a-bash-command

In Windows, the following post also lists multiple tools for how to accomplish this:
http://superuser.com/questions/396501/how-can-i-produce-high-cpu-load-on-windows

Regards,
Nick"

Amazon EC2	"Re: Tool to max out CPU?
Thanks Nick - worked a treat!"

Amazon EC2	"20 Min Fail and unexpected restart of instance in Frankfurt on June 6th
On June 6th between 10:00 and 10:20 (UTC) i experienced an Fail of my instance i-a3e77a1f followed by a restart.

15 Minutes after the system was failing i was not able to reach it by ssh. There is as well no clue in any of the OS-logs what happened to the instance.

Is there a reason for ec2 instances to restart without event-notices and what other choice do i have for more reliable instances for machines that run critical tasks for my application?"

Amazon EC2	"Re: 20 Min Fail and unexpected restart of instance in Frankfurt on June 6th
Hello,

I apologize for the inconvenience. I just looked at your instance and didn't see any issue during the time-frame you mentioned. The instance has been up and running for more than 2 months without a reboot. However, I see that the Status check failed at 2016-06-07T10:09:00+0000.

This was due to some issue on the hardware level which seems to have been fixed now. The hardware is currently running healthily and has no issues.

But if you are doubtful and would like to move to a different hardware, I would recommend you perform a stop/start from your console. This will move the instance on to a different hardware. Additionally, I would also recommend you back up your data on a  day to day basis. You can do this by creating AMIs and snapshots on regular basis. This way, if you ever reach a point where you would lose access to your instance due to any reasons, you can simply relaunch and recover them easily.

Hope this information was helpful.

Anup"

Amazon EC2	"Re: 20 Min Fail and unexpected restart of instance in Frankfurt on June 6th
Hi Anup,

thanks for the quick response. I will stay on this hardware for now even though it is not too satisfying that single instances can restart randomly. Especially when it is the main entrancepoint to my whole application. Let's see if everything stays normal from now on 

Have a great day!
Konstantin"

Amazon EC2	"HELP - my Instance is inaccessible and won't shutdown
I am in availability zone ap-southeast-2a which suffered a lengthy power outage on Sunday. About an hour ago, my instance all of a sudden became inaccessible by all connection methods, including browser based Java ssh client. Prior to this, it was all working just fine and no system changes had been made

Now the instance is stuck trying to shutdown and has been in ""stopping"" status for at least 30 minutes at the time of writing. 

I really do not know what to do as I cannot just delete it and start again as it has client data on it. I cannot detach any of the volumes, so cannot even try launching a new instance. I believe there must be some lingering issue with this instance from Sunday's problems. I am aware from the updates that there were some instances that continued to have problems.

PLEASE HELP.

Instance ID: i-da2b1a06"

Amazon EC2	"Re: HELP - my Instance is inaccessible and won't shutdown
Hello Matt_rw
I'm sorry to hear you had issues with your ec2 instnace 
We are investigating degraded performance for a small number of customer EBS volumes in a single availability zone in the AP-SOUTHEAST-2 Region which are impacted by an underlying hardware failure. We are working to migrate these volumes to healthy hardware. This process is expected to take a number of hours, and until complete, I/O on the affected volumes will be impaired.
Apologies for the inconvenience this is causing you. 
That being said, I noticed your instance is up and running now in my console and it was ok for the last 2 hours. Could you please confirm if this is accurate? 

Cheers
Javier C#

Edited by: JavierC@AWS on Jun 9, 2016 3:56 AM"

Amazon EC2	"Re: HELP - my Instance is inaccessible and won't shutdown
Hi JavierC@AWS and thanks for the response.

While waiting for replies I mucked around with a few attempts to fix the issue, but I have no real indication if they had any effect. The instance took almost an hour to shut down, and during that time, I could not utilise any of the attached devices.

The big issue I have is that this was clearly an issue on the AWS platform, yet I had no avenue to enquire through to get an understanding of where the issue was.

All I can say is that the AWS support platform and protocols fail beyond belief. I spend close to AUD$600 per month, but when an issue occurs, I'm left out in the cold because I'm not willing to pay more for even the most basic support information.

I have already put a plan in place to move my servers to another local Australian provider that will at least provide basic platform support free of charge."

Amazon EC2	"EC2 Instance is not accessible from Putty
I am not able to access EC2 instance when I associate with the security group which I created. The security group has exposed SSH on 22 port."

Amazon EC2	"server not stopping
Hi,

I had a server that was failing status checks, so I stopped it.  It hung in ""stopping"" so I stopped it again (""force stop"") but it's still in stopping mode.  i-ee64568a after 5 min.  

I need this machine to full stop so I can bring it back up again.

Can this machine be forcefully stopped?

WILL

Edited by: willglasshusain on Jun 9, 2016 4:21 AM"

Amazon EC2	"Re: server not stopping
all set, it stopped after a few more minutes"

Amazon EC2	"Slow download in all other zones except in US zone
Hello Team,

i have observed slow download speed with the sites i have hosted on my Amazon EC2 instance in Eurpoe and Asian zones. (instance id : i-eb55a791). 
Speed is good in US zone.
Any help or guidance is highly appreciated.

Edited by: dover_alok on May 6, 2016 12:14 PM"

Amazon EC2	"Re: Slow download in all other zones except in US zone
Dear customer,
we experienced an issue with an external network that recovered at 3:21AM PDT, which may have impacted connectivity between some customers networks and the EU-WEST-1 Region. Connectivity to instances and services within the region was not impacted by the event. The issue has been resolved and connectivity has been restored.

Please let me know if you are still facing the issue.
Kind Regards
Ale"

Amazon EC2	"Re: Slow download in all other zones except in US zone
Hello Alessandro,

Still the problem persists. We have checked even in Asian region."

Amazon EC2	"Re: Slow download in all other zones except in US zone
Hi,

I apologize for the issues you are facing.

Could you please let us know how you are testing the issues. Could you please let us know the Source Instance? You mentioned an instance - i-eb55a791 which is in US-East-1. 

We need TCP based Traceroute and TCP based MTR reports to analyze the issue. It would be great if you could provide us with a reverse TCP Traceoute output as well from the EC2 instance.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Slow download in all other zones except in US zone
Hello Jayakrishnan,

We have hosted a sample webpage on the server which lets user to download a wmv video file.
Sample Web page link 
When we do the download from US region, it is getting done instantly.
When we do the download from any other regions like Europe or Asia, it is hardly giving 80Kbps speed to download the file."

Amazon EC2	"Instance Retirement - What would happen if i don't replace the old instance
Hi AWS Support Team,
So today i got an email from AWS related to ""Instance Retirement""


What do you need to do?

You may still be able to access the instance. We recommend that you replace the instance by creating an AMI of your instance and launch a new instance from the AMI. For more information please see Amazon Machine Images (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html) in the EC2 User Guide. In case of difficulties stopping your EBS-backed instance, please see the Instance FAQ (http://aws.amazon.com/instance-help/#ebs-stuck-stopping).


Why retirement?

AWS may schedule instances for retirement in cases where there is an unrecoverable issue with the underlying hardware. For more information about scheduled retirement events please see the EC2 user guide (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-retirement.html). To avoid single points of failure within critical applications, please refer to our architecture center for more information on implementing fault-tolerant architectures: http://aws.amazon.com/architecture

I know that i need to replace the old instance by creating AMI and running new instance just to make sure that everything would be fine. But for example, my instance can't be stopped for some reason and i wouldn't be running new instance with AMI, is there a chance i would lost all data? How many percentage that could happen?"

Amazon EC2	"Re: Instance Retirement - What would happen if i don't replace the old instance
my instance can't be stopped for some reason and i wouldn't be running new instance with AMI, is there a chance i would lost all data?

Yes, there is.  Your EC2 instance should be assigned a retirement date, which you can view in the Events section of the EC2 console.  When this date is reached, the EC2 instance will be deleted.

How many percentage that could happen?

It's 100% guaranteed that it will happen when the scheduled retirement date is reached.

Note that if you are using EBS only, you can also fix this issue without dealing with an AMI:

1. Make sure the EBS volume has ""delete on termination"" set to ""false.""
2. Terminate the EC2 instance.
3. Create a new EC2 instance with the same/similar specs and instead of creating a new EBS volume, attach the same EBS volume your other instance used.
4. Attach any other resources to the instance (EIPs, security groups, etc.), and set whatever settings you need for your environment to work correctly (such as assigning the new instance the same private IP as the old).
5. Start the new EC2 instance."

Amazon EC2	"Re: Instance Retirement - What would happen if i don't replace the old instance
Thank you for your answering.
I've heard that if i stop and start instance, then my instance would be migrate to new underlying host. If so, i wouldn't have to delete my instance, right?"

Amazon EC2	"Re: Instance Retirement - What would happen if i don't replace the old instance
If it's EBS-backed then yes, I think that should prevent it from being deleted.  (I'm not sure why I came up with that long process when a simple stop/start would do it.)  From the docs, if the instances is EBS-backed then you can ""wait for the scheduled retirement date - when the instance is stopped - or stop the instance yourself before the retirement date. You can start the instance again at any time."" http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-retirement.html

Verify after doing so that the instance is no longer scheduled for retirement."

Amazon EC2	"Spot instance requests get stuck in pending-evaluation status
When I try to launch an EC2 spot instance, the instance almost immediately goes into status = pending-evaluation and stays there indefinitely.

My bid price is far above the current spot price, and I have no trouble launching dedicated instances.

Why is this happening? Has anyone had a similar problem?"

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Can you please let us know how your are submitting the request for the SPOT and the request ID please so that we can investigate?

Najah N"

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
I've tried several things.

RequestID sfr-8dc0683a-5e37-4aa9-a15d-4390feacccf6 was submitted through the new console."

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Hello, 

We are not able to investigate this with the request ID, we require an account number. 

I have tried to find instances/information in your account and am not able to find anything. Can you perhaps give us the account ID that this request was submitted as so that we may investigate this further?

Thanks."

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Thanks for looking into it. My account id is 1659-6053-6350.

I don't have any running instances because my spot instance requests always get stuck in pending-evaluation---that's the whole problem.

I'm attaching a screen shot that shows my Spot Instance dashboard. It's been stuck here for several days. Please let me know if there's more that you need to track down the issue."

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Hello,

Thanks for the additional information and screenshot.

I'm reaching out to our service team about this now and will update this thread when I hear back.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Hello,

Can you please make a new Spot instance request and let us know if the issue is fixed?

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Joel -
  Yes, that seems to have done it. Thanks!

Abe"

Amazon EC2	"Re: Spot instance requests get stuck in pending-evaluation status
Hi Abe,

I'm glad to hear the issue is now resolved.

If there is anything else we can do please let us know.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Does Elastic Load Balancing support http 100 continue expectation?
We are trying to load balance calls to to a web service. Calling the ELB url results in ""The request failed with HTTP Status 417: Expectation failed."" Looking at the trace and checking other forums looks like the error is generated when a HTTP 100 Continue response is not returned. Does ELB support this? If so how can it be setup?Thanks.<span style=""font-weight: bold; font-family: Geneva,Arial,Sans-serif; color: #ff0000""></span>"

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
We have exactly the same problem. Is there somewhere a setting that could enable ELB to support 100-continue handshake?"

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
As a workaround you can change the ELB to use TCP on port 80, which will allow all traffic from your instances to pass through to the client."

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
This work around raises the question: what is the meaning of the HTTP protocol type in the Elastic Load Balancer? The fact that the HTTP protocol type in ELB doesn't implement the HTTP protocol in it's entirety would imply that it is not, in fact, HTTP but a subset of HTTP particular to Elastic Load Balancing."

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
It's true: ELB's HTTP support is not complete. WebDav extensions are known not to work, as per http://developer.amazonwebservices.com/connect/message.jspa?messageID=129693It would be nice to have AWS  explicitly state what is and what is not supported."

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
At this time, Elastic Load Balancing in HTTP mode does not support 100-continue requests.  It will not pass such requests on to the backend instances, and in accordance with the HTTP 1.1 specification, it will return a 417 HTTP response to the client:  http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.20This is on our list of features to consider adding in the future.  In the meantime, we will take an action to note this restriction in the ELB release notes. If you have control over the client software used to access your web service/site, you can potentially disable the use of 100-continue requests, if your application is not absolutely dependent on them.  Examples of doing this for the curl library and command-line tool can be found here:  http://developer.amazonwebservices.com/connect/message.jspa?messageID=129436Otherwise, you can resort to using direct TCP load balancing as Shlomo suggested, to bypass this behavior."

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
Would you have an update on this issue? Was this resolved? Thanks"

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
100-continue is now supported on ELB.  Just talked to support from AWS."

Amazon EC2	"Re: Does Elastic Load Balancing support http 100 continue expectation?
Hello,

ELB's behavior for expect header is, when the client sends a request to ELB with an Expect header and a value 100-continue, ELB will immediately respond back to the client with a 100-continue WITHOUT testing the value of the content-length header. In other words, ELB will unconditionally return 100-continue for all requests with an expect:100-continue header. ELB will STRIP OFF the expect header from the client's request and forward(proxy) the request to the backend.
The backend does not know whether the original client request to ELB even had an expect header or not.
After the client receives the 100-continue, it starts streaming the body, ELB forwards the body to the backend.

ELB data plane has no plans to support a feature where we proxy the expect header to the backend and have the backend decide whether to return 100-continue or 417 expectation failed.

Anup"

Amazon EC2	"Can't connect to ELB via openssl s_client but can via curl
Hello,

We've setup ELB to point to our services (HTTPS -> HTTPS) and everything works fine in browser (and via curl), however it does not work via openssl s_client (or when connecting from a simple .c program,  using https).

E.g. this works:
curl -ki https://api-lb.tabletcommand.com/api/ping

This does not work:
openssl s_client -connect api-lb.tabletcommand.com:443 then GET /api/ping. The latter one gets the following error message: ""HTTP/1.1 408 REQUEST_TIMEOUT""

We do get the same 408 REQUEST_TIMEOUT even if we're setting up an ELB to use HTTP -> HTTP, when connecting via simple client that uses openssl for connections.

Do you have any suggestions on how to fix this? Is there a configuration option that I am missing?

Thank you,
Marius"

Amazon EC2	"Re: Can't connect to ELB via openssl s_client but can via curl
Hi,

Please look at ""-k"" option that you are using with ""curl"", understand its meaning.

Please also check the output from the command that you've provided: ""openssl s_client -connect api-lb.tabletcommand.com:443"", the output shows certificate mismatch problem.

As a fast and inital check you can use services like:
1. https://ssltools.websecurity.symantec.com/checker/views/certCheck.jsp
2. https://www.ssllabs.com/ssltest/analyze.html

Regards,
Sergey"

Amazon EC2	"Re: Can't connect to ELB via openssl s_client but can via curl
I forgot to mention that I am aware that the certificate is not matching the domain.

As I mentioned in the original post, I get the same issue using the openssl lib connect methods and and connecting to HTTP. I've attached a simple sample.c file that connects via http. To compile it, run 'make sample' and then run it using './sample'.

As before, running the same thing using curl works fine.

curl -i http://api-lb.tabletcommand.com/api/ping


Makefile:
OPT = -g
CC = gcc -Wall
 
all: sample
 
sample: sample.o makefile
	$(CC) -o sample sample.o -lcrypto -lssl
 
sample.o: sample.c
	$(CC) -c sample.c -o sample.o"

Amazon EC2	"Re: Can't connect to ELB via openssl s_client but can via curl
One more thing to add. ELB was setup as HTTPS->HTTPS, HTTP->HTTP, HTTPS->HTTP and neither of them seemed to work. The only setup that works is TCP->TCP (for port 80 and 443).

I think we can consider this issue close (with the reported issue added as caveat)."

Amazon EC2	"Re: Can't connect to ELB via openssl s_client but can via curl
My site encountered the same problem, and the solution was to pass the -crlf option to openssl s_client. I guess when ELBs are forwarding HTTP(S) traffic they strictly enforce the original HTTP 1.1 line break requirements, even though RFC 7230 suggests relaxing them.

Edited by: Simon B. on Jun 9, 2016 10:34 AM"

Amazon EC2	"Lost all the data on my EBS
The data of the EBS all gone... I have not do anything but the data look like re-formatted. The OS I used on EC2 is ubuntu. I just access to the server and find that the unbuntu are clean and no any packages installed. Previously the server is running LAMP normally but a day ago all the data lost...

The Instance ID is i-0639e7b4c1d1f32bc and the EBS is vol-ed928737. Anyone can help me? Thanks a lot"

Amazon EC2	"Re: Lost all the data on my EBS
Hello,

I just took a look at your volume and instance. I don't see that this volume attached to the instance currently. This volume was attached to the instance  i-00464e8c6b5adeb6c. But it looks like you detached it few minutes ago. I didn't see anything unusual in the volume activity. Could you confirm that you're looking at the right instance?

In addition to the above, if you have a snapshot/AMI, I would recommend recreating/recovering your stack from there.

I hope this was helpful. Please let me know if you have any other questions.

Thanks,
Anup"

Amazon EC2	"EC2 Spot instance store
I used to be able to configure the instance store on my spot request. I don't seem to be able to now other then a single checkbox to auto mount them. But it doesn't work correctly, 3x2048, but it only mounted 2 to the instance, I don't see the third in /dev/. I don't see the old option to configure the drives. Is there a way to go back to the old spot console?"

Amazon EC2	"Re: EC2 Spot instance store
Hi,
I will check what is the problem and fix it.
In the mean time you can use the older Launch wizard, the link is on the bottom of the new Launch page, and here is the url  - https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#LaunchInstanceWizard:type=spot"

Amazon EC2	"Re: EC2 Spot instance store
Hi,
this issue was fixed. Please let me know if it does not work for you."

Amazon EC2	"site can’t be reached
I cannot open my website www.pi-career.com.  I have checked that there is nothing wrong showing from my side, I was wondering if you could help me figure out if there is something wrong from AWS's end? Thank you!

Edited by: hrpicareer on Jun 7, 2016 7:14 PM"

Amazon EC2	"Re: site can’t be reached
Hello,

I just took a look at your instance on which this website is being hosted. I see the instance is running healthily without any issues. I can even confirm the underlying hardware is healthy currently.

I performed a curl on your URL and received a ""504 Gateway Timeout"":

$ curl -I www.pi-career.com
HTTP/1.1 504 Gateway Timeout
Mime-Version: 1.0
Date: Wed, 08 Jun 2016 19:40:30 GMT
Via: 1.1 sea19-proxy-3.amazon.com:80 (Cisco-WSA/9.0.1-162)
Content-Type: text/html
Connection: keep-alive
Content-Length: 5059

I'm able to connect to your port 80 successfully though. I would recommend you check your application access logs to troubleshoot this further. One other thing I noticed is that the CPU utilization on your instance is pretty low currently. I would suggest you check if your webserver is running on the instance by running the below command:

sudo service httpd status

I would also recommend restarting your webservice once:

sudo service httpd restart

I hope this helps. Please let me know if you have any other questions.

Thanks,
Anup"

Amazon EC2	"Instance reachability check failed
I am having issue with my instance which is suddenly stopped today. I also notice that there is an error Instance reachability check failed . 

Can someone help me to fix this 

Instance ID: i-14c849ab

Thanks"

Amazon EC2	"Re: Instance reachability check failed
Hello,

I just checked your instance. It is failing all the health checks. I also noticed that the CPU Utilization maxed out before it started failing checks. This is the reason your instance is unreachable. 

You would need to perform an instance rescue to check the logs for red flags.






These steps are detailed here: https://aws.amazon.com/articles/5213606968661598 ****






(1.) Stop your instance (i-14c849ab)
(2.) Detach the root volume of your instance (vol-0a8d56e6)
(3.) Attach the volume to a rescue instance (one which you can SSH in to). Make sure that the rescue instance is in the same availability zone as your original instance.
(4.) Mount the root volume to a temporary mount point on the rescue instance. For ex:

$ sudo mount /dev/xvdf /mnt/recovery



Once you have access to the EBS volume as a secondary, I'd recommend looking for red flags in your logs to pinpoint the issue.

Feel free to attach a snippet of your log directory in to a private message and I'll be happy to review.

I look forward to assisting you further!

Thanks,
Anup"

Amazon EC2	"Re: Instance reachability check failed
Anup,

Thank you for your assistance.  As for the log directory, I just sent it to your private message. 

Thanks"

Amazon EC2	"Re: Instance reachability check failed
Hello,

I haven't received any log snippets. I just received a path name to your log directory."

Amazon EC2	"Adding a New User to my EC2 Instance
Hi guys,

I was wondering if you could help me with something. I am currently trying to add a new user to my EC2 instance so that we can setup a database dump to my SQL db that is running on it. I have gone through the steps and had no issues:

ec2-user@ip~$ sudo adduser duke
ec2-user@ip ~$ sudo su - duke
duke@ip-~$ mkdir .ssh
duke@ip-~$ chmod 700 .ssh
duke@ip-~$ touch .ssh/authorized_keys
duke@ip-~$ chmod 600 .ssh/authorized_keys

The issue arises from the next step, which requests that I: Edit the authorized_keys file with your favorite text editor and paste the public key for your key pair into the file. 

I am attempting to connect using Notepad++ with NppFTP using SFTP. I am able to connect as ec2-user with no issue. 

What I am unclear on, is how can I connect as the new user Duke, to be able to edit his authorized_keys file and place in it the proper public key? 

Sorry for my ignorance if this is not the proper place for the question, any guidance would be much appreciated.

Thanks,

Erik"

Amazon EC2	"Issue with connection among EC2 instances
Our two EC2 instances were able to communicate with each other up until a couple days ago. Suddenly thereafter the communication is blocked. no ping, no ssh, I don't know why or what to do. The security groups look fine and the ec2 security group assignment is the same. No changes were made that we know of. Metrics for each look OK, too. (We can still access each instance from external.)

Suggestions welcome."

Amazon EC2	"EC2 Instance not accessible from Canada
I  have an instance in us-east-1 VPC which can't be reached from Canada. We have dev teams in US/Argentina which are able to access the instance. However, we have a team in Canada that cannot establish a connection to this instance. Tried cycling EIP, as is mentioned in this old post: https://forums.aws.amazon.com/thread.jspa?messageID=724789, but none are reachable from Canada. Connection failed with these IPs from Canada so far:

50.16.8.107
52.4.27.237
52.5.114.233
52.6.11.53
52.6.14.58
52.6.244.52
52.20.128.140
52.21.96.212
23.22.63.69
52.22.244.9
52.70.229.179
52.72.69.212
52.86.247.86
52.202.168.147
52.202.192.195
52.202.227.246
52.204.15.128"

Amazon EC2	"Re: EC2 Instance not accessible from Canada
Hello,

Could you please provide us the instance id to take a look at it?

Regards
Truptesh"

Amazon EC2	"Re: EC2 Instance not accessible from Canada
yes. instance id is i-4375e9d9
thanks"

Amazon EC2	"ec2 instance rebooted last night
We had an ec2 instance rebooted last night with no clear indication of why. System logs and logs is /var/log show no sign of a system fault. The instance ID: i-e18a877a. Was VM on degraded HW?

Thanks for any help,

Justin"

Amazon EC2	"Re: ec2 instance rebooted last night
Hello Justin,

The underlying hardware on which the instance is running experienced an unexpected issue at about 10 hours ago. The hardware fixed the issue itself and rebooted. The system and instance are up and running now. However, you can move it to a different healthy hardware by performing a stop/start.

Regards
Truptesh"

Amazon EC2	"Spot request is not available right after making it
I am using Node.js AWS SDK. If describeSpotInstanceRequests() call is made right after making requestSpotInstances() call then it returns 0 requests (see code below). It looks like there is an inconsistency window here. Is its maximum value defined? I also noticed that inconsistency window is much bigger if SpotInstanceRequestIds is not specified in describeSpotInstanceRequests() call, i.e. if all spot requests are queried.

ec2.requestSpotInstances(..., (error, data) => {
    var requestId = data.SpotInstanceRequests[0].SpotInstanceRequestId;
    
    ec2.describeSpotInstanceRequests({SpotInstanceRequestIds: [requestId]},
        (error, data) => {
            console.log('%d requests received', data.SpotInstanceRequests.length);
            // expected: ""1 requests received""
            // actual: ""0 requests received""
        });
})


Edited by: andrei_sedoi on Jun 8, 2016 8:23 AM"

Amazon EC2	"Re: Spot request is not available right after making it
Hello,

Our api calls follow an eventual consistency model as described here:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/query-api-troubleshooting.html#eventual-consistency

Hence, doing a describe right after requesting spot instances may not provide you expected results."

Amazon EC2	"Password issue while installing RVM on AWS EC2 instance
I am trying to install Ruby on AWS EC2 instance. For connecttion through PuTTY, I gave hostname and in ssh -> auth, I added private_key.ppk. It is connected to AWS EC2 instance and asked for username, I gave ec2-user as username.
Then I started installing RVM, it worked fine and for Ruby, I gave:

root@ip-xxx-xx-xx-xxx ec2-user# rvm install ruby 2.2.3
This is the log:

Searching for binary rubies, this might take some time.
No binary rubies available for: redhat/7/x86_64/ruby-2.2.3.
Continuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.
Checking requirements for redhat.
Unable to locate SystemId file. Is this system registered?
Unable to locate SystemId file. Is this system registered?
Enabling optional repository
Username: ec2-user
Password:

This is the error I got:
An error has occurred: See /var/log/up2date for more information Requirements installation failed with status: 1.

I know that when I run all this installations I have to use sudo -s such that there is no requirement of password, but still it is asking. What might be wrong? Please help me."

Amazon EC2	"Run windows desktop application isn't possible without RDP connection first
Hi,

We have urrently several Windows machine on a g2.8xlarge template.

We run unity jobs on it but it needs to have a ""desktop"" to run as it cpature some images in the process.
But when we create instances without connecting to it in RDP, the process fails.

Is there a way to run a Windows instance with a ""desktop enabled"" as if it was a classical computer ?

Thanks in advance !"

Amazon EC2	"Staggering 16.86TB 'regional data transfer - in/out/between EC2 AZs or....'
We've been billed for a staggering 16,864GB of data transfer marked as 'regional data transfer - in/out/between EC2 AZs or using IPs or ELB'

The server is a very simple LAMP stack serving a reasonably simple site with CMS (we recently moved it from rackspace). We use RDS for the data and this is using the endpoint provided (i assume this resolves to a private IP internally?) 

Everything is on same region, same zone. We have no servers or services operating outside of EU Ireland. 

We've sniffed the traffic using TCPtrack and NetHog, and also set up a CloudWatch NIC Flow log - these all  look normal. Certainly not anything close to  600,000,000,000 bytes per day the EC2 monitor claims we're consuming!

Whats the chances this is an error with AWS?"

Amazon EC2	"Re: Staggering 16.86TB 'regional data transfer - in/out/between EC2 AZs or....'
Hello,
I'm sorry for any concerns relating to the Data Transfer section of your bill. I'm happy to look into a concession for your charges, but first, I want to make sure that the root issue is identified and addressed. This way, you won't be surprised by a similar bill later on.

Due to our security policy, we're only able to see what resources are provisioned to your account, but we're not able to see what's running on those resources; this limits how much we can help with troubleshooting issues like these. Here are some common causes of unexpected Data Transfer charges to look into:

1. Scripts or processes running on your resources are automatically transferring data to or from your resources, and they've been configured to transfer more data than you expected.

2. Your resources are receiving more traffic than you expected. For example, if you're hosting a website with your EC2 resources, more external users may be accessing your website than you originally would have thought.

3. One or more of your instances may have some ports which are ""open to the world"", meaning that access to your instance is less restricted than it could be. Occasionally, attackers will use open ports to access your instance, and install scripts on it that can cause spikes in your Data Transfer usage.

For more granular information about the usage on your resources, I would suggest activating Usage Reports for your account by following the instructions here (note that these reports will only start recording after they're activated, and are not retroactive):

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/usage-reports.html 

Kind Regards,
Ale"

Amazon EC2	"Instance i-ab65a459 not stopping
Tried stopping and force stopping, but stuck in the stopping state."

Amazon EC2	"Re: Instance i-ab65a459 not stopping
Hello,
I see that now your instance is again UP&Running with Status Check OK 2/2.
Please let us now if your issue is solved.
Thanks in advance,
Kind regards
Ale"

Amazon EC2	"Instance is on Shutting-down state for long time
Hi,

Below instance is styed on Shutting-down status for long time. This instance was affected by the power outage in Sydney B zone. Can you try terminating that instance?

i-10a4a4cf"

Amazon EC2	"Re: Instance is on Shutting-down state for long time
Hello, 

I have engaged operations team to try resolving issue with this instance. We will update this thread as soon as the internal teams fix this instance issue.

Regards,
Umair A."

Amazon EC2	"Re: Instance is on Shutting-down state for long time
Hello

I have received feedback from the operations team. The root EBS volume on the instance is currently in a state where it is unable to completely detach from the instance.

They have informed me that you need to make a decision here. 

Choice 1: They can mark the volume as lost. This will end the detach being in progress resulting in your instance failing to stop. After the instance stop you can then replace the lost volume by building a new root EBS volume from most recent snapshot. That way you will be able to start up the instance successfully again directly after replacing the existing root EBS volume.

Choice 2:  They can recover the existing EBS volume, but only after required hardware replacement is completed on the underlying hardware for the EBS volume. This can be another day or two.

Please let us know what choice you make, keeping in mind that you do have very resent snapshots available for the EBS volume failing."

Amazon EC2	"Query About t2.small instance
Hi,

I have a query regarding t2.small instance. Its a burstable performance instance which works on CPU credits basis. We are running a website with small to medium load on the t2.small instance.  

What if there is a sudden load on the website and all credits are exhausted? In such a case, will the instance be shutdown automatically or will the website be inaccessible? Can anybody please answer this query?

--
Many Thanks,
Nikhil"

Amazon EC2	"Re: Query About t2.small instance
Hey Nikhil,

A CPU Credit provides the performance of a full CPU core for one minute. You can find more information regarding this in the below link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

Your instance wouldn't become unavailable if you run out of burst credit Balance. You would be run within the baseline performance. It wouldn't stop the CPU from running itself. Just that you wouldn't be able to burst at higher clock speeds. The CPU will remain at baseline and continue function.

Thanks,
Anup"

Amazon EC2	"Re: Query About t2.small instance
Hi,

Many thanks for the clarification !!!"

Amazon EC2	"How to recover data from server with failed Status check
Hi,
I have a ubuntu instance on AWS. It has failed status checks. It is marked for retirement on Jun 20. I need to recover data from the machine. I am not able to connect to the machine, neither can i take AMI(It is hanging.) I tool two AMI. One failed with Server.InternalError and other is ""Pending"". How can i take data from the system.
A

Edited by: anthony223344 on Jun 8, 2016 1:12 AM

Edited by: anthony223344 on Jun 8, 2016 1:12 AM"

Amazon EC2	"Re: How to recover data from server with failed Status check
Hello

I found the instance that is marked for retirement on 20 June.

Kindly note that the notification you received does not mean actual retirement of the instance, but simply that the underlying hardware was flagged as experiencing problems, and the instance will be stopped on 20 June to enable AWS to repair the host. You can then simply start the instance again with no data loss, as you have an EBS volume attached to the instance.

You can stop and start the instance at any time before 20 June to move the instance automatically to a new healthy underlying hardware host. That way you can preempt the maintenance. I recommend you do so now to recover availability of your instance."

Amazon EC2	"Creating a new image from running instance gets stuck on Pending status
I created an image yesterday at 13:05 Spanish time. Right now it is almost a whole day since I launched the process. Is this a common time for finishing it?

It has 100GB + 30GB EBS storage devices. Could anyone confirm if this is the normal time for this process? I have launched it on an instance that is going to be terminated on Friday 10th due to hardware deprecation. So, if it is a long time process I would need to be sure of doing it right. The next step would be creating an instance from this image to replace the other machine after terminating it.

I am also worried because it has a check warning due to not being reacheble, so I am worried about not being done correctly the image creation. Could anyone help me?

Thanks.

Edited by: JuanManuelMR on Jun 7, 2016 1:02 AM"

Amazon EC2	"Re: Creating a new image from running instance gets stuck on Pending status
Hello,

Would you be able to share the details of the AMI that is stuck in pending and the instance from which the AMI is created.

Regards,
Umair A."

Amazon EC2	"Re: Creating a new image from running instance gets stuck on Pending status
Yes, of course. Here it is:

The Instance-id: i-29a7c865
The Ami-id: ami-d59d00a6

I have just launched a third try. A colleague told me that 3 hours was a common time for making an image based on another instance we have with less disk space, so it is not normal this behaviour. This time I stopped instance before. Just in case. The issue is that right now it appears as available. So the problem is solved.

Thank you for answering.

Edited by: JuanManuelMR on Jun 8, 2016 1:25 AM"

Amazon EC2	"S3 Object Decrypt
Few weeks ago we used AWS export/import for moving some our customer data to AWS S3. The size of the data  was around 3Tb. Data was encrypted with Truecrypt as recommended by AWS folks. Now we have run into issue that after downloading the data to our EC2 instances  we are not able to decrypt it.  Its a single file. Does anyone know what kind of software we can use to decrypt it and break into multiple files.

Edited by: techie122 on Jun 7, 2016 9:15 PM"

Amazon EC2	"Re: S3 Object Decrypt
Hello

During the TrueCrypt Encryption proses did you choose options as set out in below documentation?

http://docs.aws.amazon.com/AWSImportExport/latest/DG/encrypting-your-data.html#encrypting-using-truecrypt"

Amazon EC2	"DNS failure
Dear,

We had a problem with the DNS server for our apache server located in Asia Pacific (Tokyo).

Between 10:58 JST and 12:45 (JST), we had the following errors in our apache server log :
Fri Jun 03 12:12:12 2016 error http://client X.X.X.X proxy: DNS lookup failure for: mysubdomain.domain.com returned by

mysubdomain.domain.com was accessible from other servers which are not located in AWS during this period.

Could you tell us if there were some problems with Amazon DNS Servers during this period please ?

Thank you.

Best regards

Edited by: tele2016 on Jun 3, 2016 3:33 AM"

Amazon EC2	"Re: DNS failure
Hello,

Thanks for using AWS.
I looked at your account but did not find any hosted zone hosted by Route53, so I assume you are using other company's domain name service and try accessing the domain from EC2 instance.

Yesterday we observed one company providing DNS service had outage in Asia-Pacific region. Please contact with your DNS server provider and see if there were any outage during that time period. DNS cache along resolving path may result the situation you observed. If possible please provide more information, such as 'dig trace' during outage hour, or your server's resolver configuration. 

I will help you move this thread to EC2 forum, and they will help you."

Amazon EC2	"Re: DNS failure
Hello,

Thank you for your response.

I think there was a misundertanding. We don't use Route53. We've created a VM (EC2) in Asia Pacific Tokyo in 2013 and the DNS that are configured on this VM is Amazon DNS.  The network card is in DHCP mode. 

Here is the result of nslookup on this VM:
C:\Users\Administrator>nslookup
Default Server:  ip-172-31-0-2.ap-northeast-1.compute.internal
Address:  172.31.0.2

The real problem is that for a reason this VM didn't translate correctly domain names.

The domain names are hosted in Colt (France) and were accessible from Europe, America. 

Do you think that there was a problem within Asia Amazon DNS between 10:58 JST and 12:45 (JST) the 3rd of June ?"

Amazon EC2	"Redhat 5.11 paravirtualized to HVM migration
Hi,

We are using Redhat for production/uat and dev need, for one of the our requirement we want to migrate instance type to R3 series.

This series are supported by only HVM instance. by various way I have done following scenario with false result. 

1) Migrating snapshot by creating AMI with HVM - Instance failed to start. 
2) Got one rhel 5.9 HVM instance ( non AWS official image)  copied grub (/boot) from RHEL 5.9 HVM  to our 5.11 paravirtual instance - Failed to start.

Please suggest official image for RHEL 5.11 HVM or any complete guide for such migration."

Amazon EC2	"can not SSH into ec2 instance
I have an ec2 micro instance running amazon Linux and a domain (climbon.rocks) that i purchased from godaddy, I've been using this to host my e-portfolio for several months without a problem until today when I found myself unable to ssh in using the command ""ssh -i /path/to/key ec2-user@climbon.rocks"" and unable to connect via web browser (when attempting to ssh i get ""ssh: connect to host climbon.rocks port 22: Connection timed out"" after a long wait). When using the public DNS found in the ec2 management console I can see my website via web browser but am still unable to connect via SSH (this time i get the error ""Connection closed by 52.33.58.188"")

Additional info:
 the night before this happened I changed the permissions for the /etc directory to allow me to edit my php.ini file could this have anything to do with it?
Also my security groups have port 80, port 22, and port 443 open so its not that.

Any help would be greatly appreciated thank you in advance

Edited by: chadthedev on Jun 7, 2016 11:46 PM"

Amazon EC2	"[cleared] Degraded instance stuck in 'stopping' state
http://Clear, finally stopped.

i-fb33f472 was marked as degraded and went non-responsive on me. I stopped it, and it went into a 'stopping' state and hasn't budged from it since. After many minutes I tried a 'Force Stop' and it's still just as stuck -- apparently I can't open a support ticket even for clear faults on the AWS side, so how should I proceed?

Edited by: Asher Densmore-Lynn on Jun 7, 2016 10:29 PM"

Amazon EC2	"How do I determine the cause very high IOs?
My bill for hosting EC2 VM has jumped by $30 per month; The bill breakdown shows the cots is attributed to IO as below:

$0.055 per 1 million I/O requests - EU (Ireland) 	580,046,311 IOs 	

My VM doe not serve any files. It only processes email ( 2 emails per day). Very low traffic.

How do I find out what is causing the IOs?

Joginder Nahil"

Amazon EC2	"Re: How do I determine the cause very high IOs?
Hello,

AWS Billing can answer your billing related queries if you open the forum post in billing & accounts section.

Please see Ec2 pricing: 

http://aws.amazon.com/ec2/pricing/

Regards,
Umair A."

Amazon EC2	"Re: How do I determine the cause very high IOs?
I received the following reply from billing department:

""Thank you for contacting AWS Billing and Accounts support. I apologize for the issue you've been experiencing.

Unfortunately, the complexity of your question is outside our scope of knowledge here in Billing and Accounts. However, I want to make sure you still get the help you need. We have a few options I’d like to offer you.""
Our documentation is a great place to start. I've located the following articles that you may find helpful in providing assistance.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html

If the documentation doesn’t answer your question, we also have forums available to help. The forums allow you to post your questions to our developers who monitor and respond to these daily. The below link will help you get there.

You can create a forum profile following these steps:
1. Go to https://forums.aws.amazon.com/index.jspa
2. Click on Login.
3. Sign in using your AWS credentials.
4. Create a AWS Nickname and a Forum Email.

Edited by: Joginder S Nahil on Jun 7, 2016 10:27 PM"

Amazon EC2	"instance cannot connect outbound or to s3 since australian outages
We had an ec2 instance which was working fine under an elb. it was able to make outbound connections in order to connect to svn etc.

Since the outages in Australia due to extreme weather over the last week, the instance could no longer make any outbound connections. 

No configuration was altered during this period.

We checked all of our parameters (eg. IP addresses etc) and confirmed that no changes had occurred and that it appeared logically correct.

We tried to use 'wget' out to external hosts but no data was returned 
 viz:  $ wget http://cloud-base.com.au/index.html
--2016-06-08 14:38:36--  http://cloud-base.com.au/index.html
Resolving cloud-base.com.au (cloud-base.com.au)... 139.130.12.4
Connecting to cloud-base.com.au (cloud-base.com.au)|139.130.12.4|:80...
followed by a hang (as per a svn request).

A subsequent internal test was made via:

$ yum update
Loaded plugins: priorities, update-motd, upgrade-helper
Could not retrieve mirrorlist http://repo.ap-southeast-2.amazonaws.com/latest/main/mirror.list error was
12: Timeout on http://repo.ap-southeast-2.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10000 milliseconds')
http://packages.ap-southeast-2.amazonaws.com/2016.03/main/20160301f525/x86_64/repodata/repomd.xml?instance_id=i-d77b7a09&region=ap-southeast-2: Errno 12 Timeout on http://packages.ap-southeast-2.amazonaws.com/2016.03/main/20160301f525/x86_64/repodata/repomd.xml?instance_id=i-d77b7a09&region=ap-southeast-2: (28, 'Connection timed out after 10000 milliseconds')

And this too is failing.

We could still access the instance in question via SSH and also found that it no longer had access to S3 (via a third party s3fs pseudo device).  Attempts to unmount and remount this file system resulted in a hang (again pointing to an S3 issue).

It was thought that perhaps by taking the interface down and bringing it back up (via ifdown et0,ifhup eth0) this might clear the issue.  It certainly did not and the fact that asg detected that there was (what it perceived to be a problem), it then started to spawn a new instance.  This instance performs a rebuild and requires access to S3 to complete.  That access now appears to be non functional between S3 and the VPC.

We can still see S3 from our account console, but cannot find other way of accessing it from within a running instance, nor during the build process.

We suspect the vpc -> S3 connectivity is fundamentally broken and is precluding us from executing our previously working build CFTs. It is our belief that this connectivity is related to AWS infrastructure itself, rather than anything that we can modify from within our VPC.

Please advise what went wrong during the outage/restore and what we can do to resolve this issue.

Edited by: pstanton-xmarc on Jun 7, 2016 9:33 PM"

Amazon EC2	"Upgrading from Tomcat 7 to Tomcat 8 on Amazon Linux
Hi All,

We are currently running an application on Tomcat 7 and would like to upgrade to Tomcat 8, is there an easy path to upgrade that will retain all the settings, etc... (e.g. using Yum) or would it be a matter of doing a fresh install and copying everything across? 

Thanks.

Andrew."

Amazon EC2	"EC2 not storing files from ephemeral to ebs.
I rebooted EC2 instance and all my files went back to its original state i.e. any changes I made to my app files either via SSH or by transferring the files via filezilla gets removed and I can only see the original files and changes I made are not reflected on any of the files even 'env' file which stores the db config didn't have the modified values.

I can confirm the root device on EC2 is EBS and it is attached.

I do not wish this to happen and want all the changes to get stored on EBS. I have checked online and although there is help available but not providing any assistance to solve my problem."

Amazon EC2	"Re: EC2 not storing files from ephemeral to ebs.
EBS volumes persist across reboots, in fact even ephemeral store will persist if it is a true reboot.

That makes me think you did something slightly different than a reboot. Was the node in an Autoscale group? If so the node could have been marked as bad during the reboot and a new one spun up from the AMI, which would not have your changes."

Amazon EC2	"AWS Run Command - InProgress/Pending/Succeeded when actually failed
Using the .Net SDK as well as the AWS Console yields similar (seemingly) the same results when using the SSM feature: run command. Attempting to run a batch script on Windows Server 2012 instances after start up encounters problems with the batch script and output file still being in use by Ec2Config Service. This was confirmed with Process Explorer. Killing the Ec2Config service and then running the command relieves the issue. However, this is only part 1 of the problem. 

Part 2 is that reviewing commands in the AWS Console shows mixed results. Commands that did not successfully run, show a status of ""Success"" but the output lists an error. This result can be seen for command: 1b9fb225-6a94-4df4-827b-0744fad8421a. Some other commands that were attempted on instances that have been long since terminated still list a status of ""In Progress"" such as command: de8ef25c-8a48-4cac-aa7e-f33c3ba16475.

Not sure if this is a mishap on my utilization of the Run Command feature or potentially a bug."

Amazon EC2	"How is corruption dealt with on 10TB+ EBS disks?
Hi there,

Suppose we use the new 16TB EBS volumes... Do we need to do anything to prevent, say, bad sectors or corruption?
For example, I could run a RAID1 set, but over a long period of time, I'd need a way to remove bad sectors from the SSD, assuming it's infrequently used. Again, this is only relevant since the data size is huge, so the likelihood of bad sectors is high."

Amazon EC2	"Instance not accessible from Canada
Hi,

I have an instance in region US East which can't be reached from Canada (public IP 54.88.70.107). I am in Montreal. I have a colleague in Toronto and he can't reach the instance as well. But I have access to a Linode server and from there, I can reach the instance just fine (using ssh and http).

Using traceroute from my place in Montreal, I see that it reaches equinix04-iad2.amazon.com (hop #6) and some other IPs in hop 7 and 8, but after hop #8, I only see * * * right up to hop #64 where my traceroute client let go.

I create several instances in region US East and I can't reach them. But I was able to create an instance in US West (Oregon) and I was able to access it without issue.

Any suggestions where I should look for a solution?

Thanks!"

Amazon EC2	"Re: Instance not accessible from Canada
Hi,

I just saw that the public address assigned to my instance is part of a new list of IP ranges that Amazon acquired:
https://forums.aws.amazon.com/ann.jspa?annID=1701

Could it explains why we can't reach the instance from Canada?"

Amazon EC2	"Re: Instance not accessible from Canada
I just spawn several instances and some were assigned a 54.86.XX.XX address, while others were assigned 54.88.XX.XX address. All instances with ""86"" can be accessed just fine from my place, while none of the instances with ""88"" are accessible."

Amazon EC2	"Re: Instance not accessible from Canada
Hello, 

I am sorry you were having problems connecting to your instance. As I don't have any specific information about the instance, I can't see what might have been occurring. If this happens again please let us know along with the instance ID and the source IPs that you are connecting from, and we can take a look to see why the connections might be failing. 

I took a look and I don't see any reported network issues for us-east yesterday. 
I would suggest you take a look at any local firewalls that might be limiting traffic. There could also be routing issues on the VPC that would limit the traffic to the instance via VPN. Or something in the security groups that might be hindering the connection. 

As far as the * in the traceroute. Those aren't always indicative of an issue. The *s mean that the Router did not respond to the (generally) ICMP request from the traceroute command. Not all routers are configured to respond, and you can often get stars even though the router is working properly. 
http://stackoverflow.com/questions/16499694/how-is-it-possible-for-traceroute-to-timeout-yet-the-site-will-load-fine-in-a-b

Thanks, 
Chris"

Amazon EC2	"Re: Instance not accessible from Canada
Hi,

Thanks for your reply. As of this morning, the problem is still there. I have another instance with IP 54.88.110.166 (instance id i-0b0fd120) which is not accessible from my IP (74.56.194.99). Yet, I have another instance using IP 54.85.57.211 (instance id i-2547e577) which I can access just fine. They both use the same security group, so it is probably not the reason of my problem.

So far, all instances I've launched having an IP address starting with 54.85 are accessible, while all instances starting with 54.88 are not."

Amazon EC2	"Re: Instance not accessible from Canada
I confirm I have the exact same problem.

Unable to access my instance (i-db5180f0, Public IP 54.88.122.5) from 2 different location (in Montréal). However, I was able to access it from home. From there, I was able to ssh and http without interruption.

Using traceroute from here (from static IP 69.70.88.30), I get the same results as PascalID123. The hops start hanging at #8.

Edited by: fcoteecorcce on Jun 19, 2014 12:20 PM"

Amazon EC2	"Re: Instance not accessible from Canada
I generate elastic IPs until I got an ip outside of 54.88...

I got one in 54.86.., associated it with my instance, and now it works. Something seems wrong with 54.88.."

Amazon EC2	"Re: Instance not accessible from Canada
Come on AWS.  This is the exact same issue we saw when 54.85.x was added.  Rogers cannot connect while Aliant can.

The Rogers traceroute goes to Seatle (AWS IPs) and stops.  This is not a client issue. Fix it."

Amazon EC2	"Re: Instance not accessible from Canada
Confirmed this is an issue for me as well. i am connecting to an EIP from Toronto (over bell AND rogers) and am having intermittent results. Instance is in us-east-1c (and us-east-1d). Tracerts contain * and responses in the same lines - which indicate there are routing issues or dropped packets in the AWS network. Attached is a screenshot of my issue.

normally, i can ssh in to the machine, but everything else is very intermittent. i will try to get an ip outside of the 54.88 block and get back to you...

either way, this is a huge issue and has burned several hours of my time. yikes."

Amazon EC2	"Re: Instance not accessible from Canada
Hello,

Earlier today, we took steps to address this issue.  Can you confirm if you are still experiencing problems?

Regards,

Matt R."

Amazon EC2	"Re: Instance not accessible from Canada
sorry, can't help at this point - maybe the OP can. i do know that shortly after my post,  i recycled my EIP until i got one outside of 54.88 and now it's working fine. don't want to spend much more time on this issue, but i trust/hope the next time i need an EIP it will work..."

Amazon EC2	"Re: Instance not accessible from Canada
It works now! I just test and I am able to connect to a new instance having an 54.88.x address.

Thanks!"

Amazon EC2	"Re: Instance not accessible from Canada
Confirmed this is an issue for me as well.

Aws Instance Id i-e746dccf in Singapore Location .

IP - 54.254.187.51

In morning we were not able to access this instance. After restart it was accessible. For last couple of days we are facing this issue. Please help us.

We are clue less.

Website name - www.letsride.in

Please help

Thanks"

Amazon EC2	"Re: Instance not accessible from Canada
Pretty old thread but am encountering the same issue with EIP addresses in us-east-1 VPC. Cycled IPs but all failing to connect from Canada. We have dev teams in Argentina/US that can establish connections just fine. Not accessible from Canada. Any ideas?

failed with these IPs so far:
50.16.8.107
52.4.27.237
52.5.114.233
52.6.11.53
52.6.14.58
52.6.244.52
52.20.128.140
52.21.96.212
23.22.63.69
52.22.244.9
52.70.229.179
52.72.69.212
52.86.247.86
52.202.168.147
52.202.192.195
52.202.227.246
52.204.15.128"

Amazon EC2	"Setting up ADFS 3.0 for AWS Connector for vcenter
I am having trouble getting the AWS connector setup working and believe this has to do with my ADFS setup.  Reading the instructions I think I was able to set the AmpRole claim correctly.  I am having trouble with the RoleSessionName claim:

c: 
=> issue(store = ""Active Directory"", types = (""https://aws.amazon.com/SAML/Attributes/RoleSessionName""), 
query = "";mail;{0}"", param = c.Value);

They say:
""Use the display name for the user with the SAML assertion. These names must be less than 32 characters long and contain only the following set of characters: a-zA-Z_0-9+=,.@-.
The user must have an email address set up in Active Directory.""

It is not clear to me where to use the display name in this claim.  I assume that they mean it to be hard-coded into the claim.  With the AmpRole claim, the requirements are clear but not with this one.  Perhaps this is just information about what the claim is doing."

Amazon EC2	"when typing in domain we get http://ec2-52-51-253-144.eu-west-1.compute.ama
Please can somebody advise - Website was put up on AWS EC2 and it is working on and off - on typing www.vaultproof.com we get 'cant find the server if we type in vaultproof.com we get http://ec2-52-51-253-144.eu-west-1.compute.amazonaws.com showing in the URL bar? 
Please advise what we are doing wrong."

Amazon EC2	"Instance Rebooted
It appears that my instance i-37673784 in US East availability zone 1C rebooted in the middle of the night for no apparent reason. No unusual CPU usage or network activity. Could someone from AWS look into it? Thanks."

Amazon EC2	"Re: Instance Rebooted
Hello,

I have checked your instance and i see that the underlying host experienced issues that affected your instance. We can confirm the instance is running on healthy underlying host now.

We are sorry for the inconvenience caused by this issue.

Regards,
Umair A."

Amazon EC2	"Domain and Public IP/DNS of instance loading blank page WordPress Bitnami
I have an EC2 instance running WordPress by Bitnami. The domain name and even Public IP/DNS address of instance loads a blank page now. It actually seems like it's loading VERY slowly, only loading the title in <head> tag after a couple minutes.

Instance ID: i-0a8ffbf614f578db4
Public DNS: ec2-52-91-231-208.compute-1.amazonaws.com
Public IP: 52.91.231.208"

Amazon EC2	"Re: Domain and Public IP/DNS of instance loading blank page WordPress Bitnami
Hello,

I just looked in to your instance. the underlying hardware looks healthy. The instance seems to be running fine as well. I didn't see any high CPU Utilization.

I would recommend you check the application logs. You can attach a snippet of your access logs and we will be more than happy to take look for you.

Thanks,
Anup"

Amazon EC2	"Re: Domain and Public IP/DNS of instance loading blank page WordPress Bitnami
It's not loading again. The domain: https://masonrygrid.com"

Amazon EC2	"Re: Domain and Public IP/DNS of instance loading blank page WordPress Bitnami
The instance was loading fine earlier today. Now it is down again. I haven't changed anything, or even logged into the AWS console in a week."

Amazon EC2	"Re: Domain and Public IP/DNS of instance loading blank page WordPress Bitnami
It's still down!! This is ridiculous!"

Amazon EC2	"Unexpected reboot in eu-west-1 on 7JUN16
One of our instances has unexpectdly rebooted during the night. It hass been in production for a while and no change has been made to it so we have the feeling that the issue is not coming from our side. Did anyone get the same problem ?

If someone from AWS looks into it, instance id is i-691d8dd0"

Amazon EC2	"Re: Unexpected reboot in eu-west-1 on 7JUN16
The same thing happened to our instance i-077549a6. It was running without any issues for months while today at 3:28am UTC it was unexpectedly shutdowned (no entries in any logs for that) and the booted (log of Xen-sourced messages present at 3:28:56).
It's a shame not to provide any notifications, not even mentioning warnings for such cases - I have only detected this due to Apache not booting correctly which means that our commercial project was down for almost 4 hours (which is completely natural, small businesses rarely have 24/7 server administrators and 5:28AM CET is not a time when you could expect somebody already working.
Not allowing to send any enquiry to technical support without buying extra support plan first is even more disgusting thing, considering it was not issue from our side - why should we pay to find out what has happened with our paid service?"

Amazon EC2	"Re: Unexpected reboot in eu-west-1 on 7JUN16
Hello,

I have reviewed your instance and i can see instance restart messages on the console. There were nor problems at the infrastructure side, We can see the underlying host is healthy and there are no issues that could have affected your instance. You can see that from cloudwatch graphs as well. You will see the system status checks are passing whereas the instance failed status checks which means there was some problem at Operating system layer.

If you look at he CPU utilization cloudwatch graph you will see a spike in CPU load up to 100% and at the same time instance stopped responding and failed status checks, so it seems your instance experienced problem due to resource exhaustion. Please monitor instance memory and CPU usage.

Regards,
Umair A."

Amazon EC2	"Re: Unexpected reboot in eu-west-1 on 7JUN16
@ THVLordie,

I have check your instance as well and i see there was a problem at the underlying host which affected your instance. Both the instance and the system status check failed at the same time, you can check that from cloudwatch as well.

Please note that AWS services are subject to SLA and we offer EC2 Monthly Uptime Percentage (defined below) of at least 99.95%. [1]  We make every possible effort to ensure Amazon Web Services is highly available and resilient, but as you know, hardware and networking equipment are subject to failures, and may experience issues.

[1] https://aws.amazon.com/ec2/sla/

AWS provides elasticity and scalability in its services and we recommend customers to introduce redundancy and failover techniques to make sure applications are fault tolerant and business is not affected. You can also monitor the instance using cloudwatch event and trigger certain actions in case the instance state changes. 

See below docs.

https://aws.amazon.com/blogs/aws/new-cloudwatch-events-track-and-respond-to-changes-to-your-aws-resources/
https://d36cz9buwru1tt.cloudfront.net/AWS_Building_Fault_Tolerant_Applications.pdf


Regards,
Umair A."

Amazon EC2	"What is using SOAP (being depreciated!)
Hello AWS,

I got this email from AWS below. Unfortunately, SOAP was setup years ago, and we have no idea what is using it after having developers look for days.

How can we figure out what is using SOAP?   Is there something we can look do to find out what is accessing it?

On your end, if I provide you with my customer information and the date/time of a request (5/13/16 23:14 UTC.)  The email references as a last time SOAP was accessed, can we get further information on that request to know what AWS is being sent in it's logs? To try to figure out what SOAP is being used for.

Please, your help is needed! 

Thanks,
Evan

""Please be aware of the upcoming deprecation of SOAP access to Amazon EC2 for all API versions. SOAP has been deprecated for all API versions later than 2014-02-01. We are deprecating SOAP access as it is a legacy protocol and prevents a number of technical innovations in EC2. Using the SOAP protocol is a security risk to customers and will prevent them from experiencing new EC2 features.

From December 1 2015, all NEW EC2 customers will receive the following response for all API versions when using SOAP:

Client.UnsupportedProtocol: SOAP is no longer supported.
""

Edited by: eman2 on May 27, 2016 10:08 AM"

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Hi eman2 
SOAP requests are logged in CloudTrail, but unfortunately the only indication of a SOAP API call is an accessKeyId that does NOT begin with an ""A"".

An example that uses the AWS CLI and JQ to return details that can be used to find SOAP API calls in Cloudtrail:

JQ=' { sourceIPAddress: .sourceIPAddress, accessKeyId: .userIdentity.accessKeyId, eventName: .eventName, userAgent: .userAgent }' 
aws cloudtrail lookup-events --query 'Events[].CloudTrailEvent' --output text | tr '\t' '\n' | jq -c ""$JQ""

The results are one per line in the following format:
{""sourceIPAddress"":""a.b.c.d"",""accessKeyId"":""XYZ..."",""eventName"":""CreateTags"",""userAgent"":""ec2-api-tools 1.5...""}
{""sourceIPAddress"":""a.b.c.d"",""accessKeyId"":""A..."",""eventName"":""CreateTags"",""userAgent"":""aws-cli/1.9.7...""}

Adding a grep -v , you can exclude any accessKeyId that starts ""A"" and see only the relevant results :
aws cloudtrail lookup-events --query 'Events[].CloudTrailEvent' --output text | tr '\t' '\n' | jq -c ""$JQ"" | grep -v 'accessKeyId"":""A'

Regards 
Conrad"

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Thank you Conrad.

I ran: 

bash-3.2# aws cloudtrail lookup-events --query 'Events[].CloudTrailEvent' --output text | tr '\t' '\n' | jq -c ""$JQ"" | grep -v 'accessKeyId"":""A'

I got back:
bash: jq: command not found
bash: aws: command not found

Our architecture I should note is from 2010, I believe."

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Hi,

You will need to install and configure AWS CLI as described here and here.

Similarly you will have to install the 'jq' package for using jq tool. on Amazon Linux AMI, you can use the below command to install jq.

$ sudo yum install -y jq

Regards,
Jayakrishnan L."

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Thank you. But will that tell me where me about my existing SOAP requests, which are being currently made without those installed packages?"

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Hello, 

I wish to understand your question correctly, you have asked about what SOAP requests are being made currently without these installed packages?

I am assuming you are referring to jq and the AWS cli software packages?

Referring earlier to my colleagues post about diving into cloudtrail in order to investigate past SOAP requests being made to the AWS infrastructure, you will have to issue the command below in order to investigate this:

aws cloudtrail lookup-events --query 'Events[].CloudTrailEvent' --output text | tr '\t' '\n' | jq -c ""$JQ"" | grep -v 'accessKeyId"":""A'

The command is invoked with aws and the jq program is simply a type of string search tool for java so in order to achieve this command both aws and jq packages will have to be installed.

I hope that this has answered your question. If I am missing something please feel free to get back to us."

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Thank you for your follow-up.

We use a lot of  dynamic security keys that are created by AWS for that request. Do these keys follow the same logic of not generating a key starting with A when it is going to make a SOAP request?

Also, this logic of keys not beginning with A for SOAP requests...is that something that would be for all setups, or a setup after a certain date (e.g. 2012).  Our architecture if from 2009."

Amazon EC2	"Re: What is using SOAP (being depreciated!)
Hello,

You need to identify first how are you making SOAP requests this is what my colleagues suggested earlier,  The presence of the SOAP headers due to authentication with the PRIVATE_KEY and CERT would cause the CLI calls to fail after the deadline.  The recommended migration option for your environment, which is based on the EC2 CLI, would be to upgrade to the latest version and transition from EC2_PRIVATE_KEY and EC2_CERT authentication to AWS_ACCESS_KEY and AWS_SECRET_KEY authentication. 

Regards,
Umair A."

Amazon EC2	"Snapshots
Hello,

I'm sorry if this is a newbie question. Can someone tell me please how are snapshots billed? Are they billed when created? Does it also cost after they are created?

Thank you!"

Amazon EC2	"Re: Snapshots
Hello,

Snapshot storage is based on the amount of space your data consumes in Amazon S3. Because data is compressed before being saved to Amazon S3, and Amazon EBS does not save empty blocks, it is likely that the snapshot size will be considerably less than your volume size. For the first snapshot of a volume, Amazon EBS saves a full copy of your data to Amazon S3. For each incremental snapshot, only the changed part of your Amazon EBS volume is saved.

Please see the storage costs of S3 as the snapshot are stored in S3.

[1]  https://aws.amazon.com/ebs/pricing/

Regards,
Umair A."

Amazon EC2	"EC2 instance stuck in stopping status in Sydney
Since the incident in Sydney region, one of our EC2 instances (i-28c134f7) is stuck in stopping status for about two hours now. I have forced shut down twice. EBS volumes attached have ok status, but taking snapshot returned error."

Amazon EC2	"Re: EC2 instance stuck in stopping status in Sydney
Hello,

We are working on getting this fixed. We will keep you posted.

We apologize for this inconvenience."

Amazon EC2	"Re: EC2 instance stuck in stopping status in Sydney
Hello, 

I have taken a look at your instance i-28c134f7 and it seems as if it has now stopped.

You can now start the instance. 

Should you require further assistance please do not hesitate to reach out."

Amazon EC2	"Re: EC2 instance stuck in stopping status in Sydney
Yes, it's working now. Thanks
John"

Amazon EC2	"Error launching instance in Singapore region
I get the following error :
EC2 error: This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.

Any clues what is going on ?"

Amazon EC2	"Re: Error launching instance in Singapore region
Hello,

Thanks for using the AWS Developer Forums.

I have responded to your case (Case ID 1770743741) with regard to this matter.

If there is anything else we can do please let us know.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Sydney EBS backed instances stuck in Stopping state
Hi,

Instance i-5179a68d and i-dcc65a00 are stuck in stopped state. Have tried multiple stops (with force) from console and command line. Can someone pull the cable out for me please 

Cheers
Craig"

Amazon EC2	"Re: Sydney EBS backed instances stuck in Stopping state
Hello Craig,

I can see that your instances - i-5179a68d and i-dcc65a00 are running and has passed all the health checks. So I guess you do not want me to pull the cables any more, right ? 

Regards,
Jayakrishnan L"

Amazon EC2	"Re: Sydney EBS backed instances stuck in Stopping state
No, don't touch the cables now. I got some of the local Amazon guys to take a look / escalate for me. Thanks though!

Cheers
Craig"

Amazon EC2	"Joomla Permissions issue
Hello, I'm making the jump from shared hosting to AWS, so it's learning curve time.

I moved a small Joomla site over to an Amazon Linux AMI instance. (Moved over the entire directory; imported the mySQL data, changed the relevant configuration bits.)

It seems to be running just fine except for one issue: Joomla tells me that all folders are Unwriteable. (System | System Information | Folder permissions)

I can log in with Filezilla and confirm that Folders are 755 and files are 644.
If I change the logs folder to 777 it becomes writeable.

I think I'm missing something simple. 

Thanks everyone - otherwise it's been a piece of cake."

Amazon EC2	"Re: Joomla Permissions issue
Hello Appalbarry,

faced the same problem. Changing folders to 777 is never a good decision in case of security. 
I solved it like this:

Find out which user runs your webserver, in case of apache run
ps aux | egrep '(apache|httpd)'

In my case this was webapp. Use this information to be a group member of this group: 
sudo usermod -a -G webapp ec2-user


Maybe you have to change the /var/www/html to 775.
greetz"

Amazon EC2	"Re: Joomla Permissions issue
Arrgh! I feel SO close, but my knowledge is just a bit short. Which is a good reason to be doing this.

OK: ec2-user@ip-172-31-27-255 ~$ ps aux | egrep '(apache|httpd)'

root      8164  0.0  2.3 411488 24380 ?        Ss   Apr30   0:26 /usr/sbin/httpd
apache   13378  0.0  2.8 418364 28596 ?        S    May08   0:03 /usr/sbin/httpd
apache   13379  0.0  2.9 419892 29728 ?        S    May08   0:01 /usr/sbin/httpd
apache   13380  0.0  2.9 419876 29736 ?        S    May08   0:01 /usr/sbin/httpd
apache   13448  0.0  2.7 418100 28336 ?        S    May08   0:02 /usr/sbin/httpd
apache   17048  0.0  2.7 418092 28164 ?        S    May09   0:01 /usr/sbin/httpd
apache   17526  0.0  2.9 419884 29720 ?        S    May09   0:01 /usr/sbin/httpd
apache   17527  0.0  2.9 419892 29712 ?        S    May09   0:00 /usr/sbin/httpd
apache   17528  0.0  2.7 418348 28452 ?        S    May09   0:01 /usr/sbin/httpd
apache   20384  0.0  2.9 419900 29788 ?        S    May11   0:00 /usr/sbin/httpd
apache   21698  0.0  2.8 419652 29356 ?        S    May11   0:00 /usr/sbin/httpd
ec2-user 22500  0.0  0.2 110456  2064 pts/0    S+   02:27   0:00 grep -E --color=auto (apache|httpd)


I'm assuming that ec2-user is already fine, and root can take care of itself, so I tried:
ec2-user@ip-172-31-27-255 ~$ sudo usermod -a -G apache ec2-user

Which seems to have done nothing.  Again, permissions seem to be set right.

I'm sure it's some kind of group thing.  Could the Joomla package have carried over some wierdness from its old home?"

Amazon EC2	"Re: Joomla Permissions issue
The solution, for me at least was  found here .

(quote)
Solution if host is dedicated

I thought that changing the changing the group from root to apache would fix the issue but nothing changed. After reading another post on Joomla Forum I saw someone change the owner of the folders and files. So after I ran the following

sudo chown -R apache:apache /var/www/html/

Then, after refreshing my screen, I see the colour green again.

Green is good

So the files on the root of my web directory are set for permissions with 744. Folders with 755 and files in said folders are 644. Think I'm all set for now.

(end quote)"

Amazon EC2	"Add SSL listener to an ELB without certificate
We have a Cloudformation template that creates an ELB and return it as an output of the stack. AWS already generates a DNS name automatically and in order to setup SSL currently we need a domain, a certificate and a listener rule in ELB.

We want to add SSL support for the output ELB url for our customers but the problem is that it requires a domain name and it's not possible to automate this process. We may use ACM to register new certificate but it also requires a domain name and cannot be attached to a ELB.

How can we make ELB support SSL using auto-generated DNS name or is it possible to automate this process with Cloudformation to support SSL on a URL something like customerid.ourproduct.com? Currently we use Cloudflare flexible SSL and CNAME record points to the ELB address of the customer and already automated this process but flexible SSL is not secure enough and Cloudflare comes with an overhead since we need to activate Cloudflare proxy servers in order to use flexible SSL."

Amazon EC2	"Is it possible to bring external IPs to EC2?
I rented a /24 subnet currently being used by my dedicated servers.

Now I'm currently moving my infrastructure to AWS and I'm wondering if and how it's possible to bring those IPs to AWS and use them with EC2 instances.

Is it possible to announce external IP addresses with AWS and to allocate them to EC2 instances?

Kind Regards"

Amazon EC2	"Re: Is it possible to bring external IPs to EC2?
No, you can only used external IPs allocated using AWS VPN or EC2 Elastic IP functions."

Amazon EC2	"WaitCondition with count 0
Hi,
Would a waitcondition with count 0 simply act as a delay or is this not a supported config? I would like to create a delay between EIPAssociation and creation of EIP  due to https://forums.aws.amazon.com/message.jspa?messageID=471472.  The EIP is associated with a network interface. So, i made the WaitCondition dependOn the EIP and the network interface dependOn the WaitCondition. However, the WaitCondition 'creation' succeeds immediately when i have the count set to 0. 

Thanks"

Amazon EC2	"Sydney outage - instance stuck in stopping state
We have an instance affected by the issues in Sydney today... at first it said ""running"" under Instance State, but ""Insufficient Data"" under Status Checks.

The instance ID is i-e180e93d.

We tried rebooting it and nothing happened.

We then tried stopping it, and it has been stuck in the ""stopping"" state for a couple of hours now.

Can you please help?  Thanks!

-k."

Amazon EC2	"Re: Sydney outage - instance stuck in stopping state
Hello, and sorry for the issues with the instance.

I have asked our EC2 team to look at i-e180e93d.

I wanted to post a quick update on the event status for you, and assure you that we are working on the issue.

Current Status:
==============
Connectivity has been restored for the majority of the instances in the affected Availability Zone and the APIs continue to operate normally. The remaining impacted instances are taking longer to recover. For immediate recovery, we recommend customers that are able to, launch replacement instances.
==============

If you can, we advise that you launch replacement instances for these as they should deploy and be accessible at this time.

Regards,
Jay"

Amazon EC2	"Re: Sydney outage - instance stuck in stopping state
Hi,

As previously mentioned, it appears that most of the errant volume and instance issues have been fixed. I checked your instance just now and it appears that your instance is running again. I can see the screenshot of your instance's console (as you can also do from the web console now) shows that the instance is running.

I also see that your instance is showing it is passing all its status checks."

Amazon EC2	"Re: Sydney outage - instance stuck in stopping state
Hi Bret, thank you for your reply.

We got up and running again yesterday as you noted.  Thank you for your help with this problem.  It must have been a difficult day yesterday for you guys as well as us  and we appreciate your attention to this issue.  Thanks again for helping to get us going again."

Amazon EC2	"Poblem when launching a new instance
Hello,

Every time a try to launch a new instance, using a AMI I've create from a instance that is working properly, my new instance is being terminated.

Region: Oregon
Instance source: i-06232e1941c1f13dc
AMI source: ami-62827902 (generated from the instance source above)
Instance that was terminated: i-0c7ef7abd05ec32ab

Please, can you check what is happening?

Thanks!

Edited by: awsdev-etrust on Jun 6, 2016 12:04 PM"

Amazon EC2	"Re: Poblem when launching a new instance
Hi,

I am sorry your instance doesn't get launched when you try it from an AMI of a working instance. Looking into the instance from my end, I was able to check there are issues with the block device mapping. ie) there are 2 volumes attached as /dev/sdb and /dev/xvdb (The device mapping in the source instance  i-06232e1941c1f13dc  does not have this problem)

As we know  if you specify a device name of /dev/sdb, your device might be renamed /dev/xvdb internally. Naming the devices with the same trailing letter causes internal error at launch. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html 

To fix this, I suggest you to attach the volume, which is currently attached as /dev/sdb to /dev/xvdh

I hope this helps.

Best,
Aishwarya"

Amazon EC2	"Re: Poblem when launching a new instance
Problem solved!

Thanks AishG@AWS!"

Amazon EC2	"spot fleet requests not showing in AWS Console
I'm a heavy user of spot fleet instances, I have many spot fleet requests and suddenly they are not shown in AWS Console.

When I go to https://console.aws.amazon.com/ec2sp/v1/spot/home?region=us-east-1 appears a message saying ""Welcome to Amazon EC2 Spot instances""

I have to click on ""Get started"". Then cancel, and i'm redirected to a page that shows zero spot instances.

Using aws cli I can see all spot instances and spot-fleet requests. Last week AWS console was different, so I assume this was a failed update to the AWS Console.  Anyone having the same problem? Does anyone know a way to see the old-new spot requests console?"

Amazon EC2	"Re: spot fleet requests not showing in AWS Console
It seems the problem is here:

https://console.aws.amazon.com/ec2sp/services/list_spot_requests?start=0&type=fleet&state=all&size=50

it returns error 500"

Amazon EC2	"Re: spot fleet requests not showing in AWS Console
Mike,
we have fixed this issue recently, please confirm that you do not have it anymore."

Amazon EC2	"Brand new instance wouldn't allow connection via SSH showing a > prompt
All that I was able to see after trying to connect via SSH was a > symbol.  I had been able to connect once but not after that.  Then answer was to run the ""chmod 400"" command again on my certificate.

Log into AWS > Click Instances > highlight the instance you are having trouble with and click connect.  You will then have the instructions you need to run the chmod command.

sideways caret carat arrow"

Amazon EC2	"Re: Brand new instance wouldn't allow connection via SSH showing a > prompt
I had more problems and discovered that the quotes were getting in the way of the command working successfully.  If I removed the quotes, then the command works just fine.  

One interesting note...   the > prompt is an indication of an unfinished command.  On the Macintosh keyboard a CTRL-C will exit out of the unfinished command status/prompt.

http://www.tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html#chap_01 had some notes on this 'unfinished command' that were helpful."

Amazon EC2	"Deleted default VPC
Hello,

I accidentally deleted my default VPC (United States Oregon Region.) Is there any chance I can get it back?"

Amazon EC2	"Re: Deleted default VPC
Hi,

I have recreated the Default VPC for your account in the us-west-2(Oregon) region.

Regards,
Aishwarya"

Amazon EC2	"instance stuck in shutting down
I needed to stop/start this instance.

i-67c4944d"

Amazon EC2	"Re: instance stuck in shutting down
Hi,

The instance i-67c4944d should be stopped now.  This was because of a host issue. You can perform a start on the instance now. 

Sorry for the inconvenience this had caused!

Regards,
Aishwarya"

Amazon EC2	"Adding security group as a source for port 8983(TCP) is not working
I have a ec2 instance with solr on it on port 8983. I am trying to limit access to the port, by allowing only my webservers on different instances to connect to it. If I define the source ip as anywhere it works fine but if I add the webserver security group as source it is not working. 
Can someone help with this issue?

CustomTcpRule  TCP  8983 0.0.0.0/0 ---- works
CustomTcpRule  TCP  8983  sg-***** --- not working"

Amazon EC2	"System cannot be reached after Reboot
Hello

I got this problem this morning after I did a system reboot.
Here is the sys log.
Memory for crash kernel (0x0 to 0x0) notwithin permissible range
WARNING calibrate_APIC_clock: the APIC timer calibration may be wrong.
PCI: PIIX3: Enabling Passive Release on 0000:00:01.0
�Red Hat nash version 5.1.19.6 starting
vbd vbd-768: 19 xlvbd_add at /local/domain/0/backend/vbd/329/768
  Reading all physical volumes.  This may take a while...
  Found duplicate PV KGEdxxuOUK17Nyjs6J4wAclvHowFjLbV: using /dev/xvdf2 not /dev/hda2
  Couldn't find device with uuid YA1hYb-WvII-pY8O-p2dW-qh8k-4qpD-DCzrdb.
  Found volume group ""VolGroup00"" using metadata type lvm2
  Found duplicate PV KGEdxxuOUK17Nyjs6J4wAclvHowFjLbV: using /dev/xvdf2 not /dev/hda2
  Couldn't find device with uuid YA1hYb-WvII-pY8O-p2dW-qh8k-4qpD-DCzrdb.
  Refusing activation of partial LV LogVol00. Use --partial to override.
  1 logical volume(s) in volume group ""VolGroup00"" now active
mount: could not find filesystem '/dev/root'
setuproot: moving /dev failed: No such file or directory
setuproot: error mounting /proc: No such file or directory
setuproot: error mounting /sys: No such file or directory
switchroot: mount failed: No such file or directory
Kernel panic - not syncing: Attempted to kill init!

Right now, the system is inaccessible.

Could anyone help me to solve this issue?

Thank you."

Amazon EC2	"DNS lookup not working after Sydney power outage
Hi, I can't reach any public websites from my EC2 instance after the problems at the weekend. 

The problem appears to be that my instance cannot reach the DNS server. I've made no configuration or security group changes.

Any ideas on how to resolve?"

Amazon EC2	"Re: DNS lookup not working after Sydney power outage
Hi,

Are you still facing issues?

If so could you do a stop and start of the instance and check again? 

Regards,
Jayakrishnan L."

Amazon EC2	"Re: DNS lookup not working after Sydney power outage
I have tried restarting, but it did not help. I have been able to work around this issue by manually setting the DNS server address to 8.8.8.8, rather than using the ""Obtain a DNS server address automatically"" option. Note, this is a Windows 2012 instance."

Amazon EC2	"AWS EC2 instance connection interrupted repeatedly.
Hi:
    We currently come front a problem with AWS EC2 that the connection interrupted randomly and repeatedly, the curve for CPU credits is shown in the attachment.
    By the way, log shows nothing.
    Please help and tell us what happened to our instance and why the CPU credits act like that in the picture.
our EC2 id: i-920f7b20"

Amazon EC2	"Re: AWS EC2 instance connection interrupted repeatedly.
Hi,

I understood that you have experienced connection interruptions to your instance - i-920f7b20. However could you please provide us with more details of the issue you faced, with the timestamp including time zone?

Seems  you missed to attach the CPU credits graph. But upon checking the instance's CPU Utilization, I can see that the instance had spike to 98.33% at 2016-06-06 07:57 UTC. So this could have caused the connectivity issues. I would also suggest you to check the SAR logs for the day for finding out any memory issues during the same time.

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 EventLog Output to Console
Please view the attached image for reference.

I opened up the EC2ConfigService Settings program.

There is a checkbox on there that suggests that you can, I believe, have certain event log entries exported to the Amazon EC2 console.

Am I reading that wrong? 

I checked the setting, generated some system errors (in the event log) and I can't seem to find a spot in the EC2 Console (web) to view the errors.

Thanks

Edited by: hamlin11 on Mar 7, 2011 1:58 PM"

Amazon EC2	"Re: EC2 EventLog Output to Console
I Will ditto the request. Where are these envents ""On The Console"" for easy monitoring and debugging the client."

Amazon EC2	"Re: EC2 EventLog Output to Console
I had the exact same question.  I know that 3 years is too late to give an answer but others might benefit from this in the future.  Here is link which describes how to view the console (screen displayed during the machine boot process) using the AWS console:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

I think that this is confusing because there are 2 consoles in play here."

Amazon EC2	"Unable to reach website from within Instance
Hi,

I am experiencing an issue while trying to access a website from within my instance(ID: i-b2eebc1a).

The website I am trying to reach is:
http://karolainepenha.no-ip.org:9080/ncall

It gives me a timeout.

The odd thing is that I can perfectly access this site from my other instance (ID: i-11e96c31).

I've checked the firewall and internet options configurations from both machines and they are the same.

This is not the only website that caused the problems.

Could you help me identify the problem?

I have attached the tracert log from both servers."

Amazon EC2	"Re: Unable to reach website from within Instance
Anyone could help me with this?

Thanks"

Amazon EC2	"Volume will not detach
Hi,

I have a problem with a very important machine not detaching a volume.  It will not seem to detach the volume, this could be because the machine is also trying to stop.

I have tried to force detach and force stop but nethier work can you help please."

Amazon EC2	"Re: Volume will not detach
Hello,

Can you tell me the instance ID and the volume ID?"

Amazon EC2	"Re: Volume will not detach
Hi Jerry

instance id i-2d5532e2 
volume id's (vol-fddb8b36,vol-6e72cbe3)

Thanks"

Amazon EC2	"Re: Volume will not detach
Hello,

We are working on getting this fixed. We will keep you posted.

We apologize for this inconvenience."

Amazon EC2	"Re: Volume will not detach
Hi Jerry,

Thanks for the help and update.

I will wait for the next update."

Amazon EC2	"Re: Volume will not detach
Hi guys,

Just wondered if you knew how long something like this usually takes to resolve.  I understand if no ETA is available just wanted to have some answers to questions I will get asked soon.

Thanks"

Amazon EC2	"Re: Volume will not detach
Hi guys,  I have raised this now with Technical Support, sounds like there is a region issue with a problem volume so the Service Team will need to look into it"

Amazon EC2	"Re: Volume will not detach
Hello, 

It seems as if the instance i-2d5532e2 is now stopped and the volume vol-6e72cbe3 is available.

The volume vol-fddb8b36 however, seems as this is still being worked on. 

I note that you have reached out to technical support? If so, please reach out to them on those channels to continue to troubleshoot this issue.

Should you require further assistance don't hesitate to reach out."

Amazon EC2	"I cannot access EC2 instance after reboot due to System Update
Hi Guys,
I'm in a crisis over here. I updated my Ubuntu 14.04 instance using apt-get upgrade and rebooted soon after. Since then I have been unable to access my instance via SSH or SFTP. However for some reason FTP works.

I have seen several posts advising to create another instance and mounting the corrupted volume onto the new instance but for some reason, I can not do that because the problematic instance is in us-west-2a and each new instance I create is in the us-west-2b. It's so frustrating.

I do not know what else to do. Please help me with a solution. I don't know how the hell I forgot to create snapshots at least weekly. I appreciate any help and effort in pointing me into the right direction to get this done.

Regards."

Amazon EC2	"Re: I cannot access EC2 instance after reboot due to System Update
Hello,
I am sorry that you are still unable to connect to your instance.
The workaround that you mentioned about launching another instance in the same AZ and mount the volume is indeed valid and you can retry it: during the launch wizard, at step 3, manually select the same VPC and AZ of your original instance.
Below other links for troubleshooting Linux instance connections:
https://aws.amazon.com/articles/5213606968661598
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html

Hope this helps, 
kind regards,
Ale"

Amazon EC2	"Re: I cannot access EC2 instance after reboot due to System Update
Thank you for this. I was able to fix my error by finding invalid entries in my fstab. How they got there? I have no idea. But I was able to successfully create a debug instance as per the instructions in the links you shared. Thank you very much for that!

I can mark this as solved at the moment!

Regards,"

Amazon EC2	"Connection refused on t2  instance even security group is fine
Hi, I have spin up a t2.medium Ubuntu 14.04 instance and started my app on port 8080.
I can access on localhost, e.g.  curl http://localhost:8080/ 


However, when I try to connect from my laptop (over the internet), I always see a connection refused:
curl http://52.90.238.210:8080
curl: (7) Failed connect to 52.90.238.210:8080; Connection refused


I've checked the security and network ACL settings are fine, while netstat return result as:
sudo netstat -anlp |grep 8080
tcp6       0      0 127.0.0.1:8080          :::*                    LISTEN      5933/java  

Can someone shed some light on this issue?
Thanks!"

Amazon EC2	"Re: Connection refused on t2  instance even security group is fine
Hello, 

I have taken a look at this instance and can verify that the ACL and security groups are set up correctly. 

However, I have seen from your information that your application is only listening for connections coming from localhost.

sudo netstat -anlp |grep 8080
tcp6       0      0 127.0.0.1:8080          :::*                    LISTEN      5933/java

This application should be listening to applications coming from outside connections. i.e. 0.0.0.0:8080

I am including this stackoverflow article below to illustrate your case. It has a brief explanation of what is happening.

http://stackoverflow.com/questions/7949548/how-can-i-externally-connect-to-a-service-running-on-127-0-0-1-rather-than-0-0

I hope that this assists you."

Amazon EC2	"Sydney outage - did the autoscaling help?
Hi all,

With the AWS Sydney power outage yesterday, can anyone that have autoscaling (to different az) confirm whether it worked during the outage yesterday?

I just want to check whether it actually helped in yesterday's scenario.

Thanks for your reply.
Anton"

Amazon EC2	"Ec2 Instance Stuck in ""stopped"" state
Hi,

After the sydney incident, one of our instance i-ccd7c3f1 was not reachable. I tried rebooting/stopping the instance but still the issue remained the same. It is stuck in the stopping state and I am not able to start it.. 

Need this instance to be up and running asap. Kindly help to resolve this issue..

Thanks & regards

Ankush Grover

Edited by: 3itgroup on Jun 5, 2016 8:03 PM"

Amazon EC2	"Re: Ec2 Instance Stuck in ""stopped"" state
Hello Ankush,

The instance i-ccd7c3f1 is currently stopped. Could you please start the instance?"

Amazon EC2	"Re: Ec2 Instance Stuck in ""stopped"" state
Thanks Jerry. I started the instance and now it is running fine.

Thanks for your help"

Amazon EC2	"EC2 instance stuck in ""stopping"" state
Hi,

After the Sydney outage I tried rebooting my ap-southeast-2 ec2 instance i-40b0247f as it was not responsive.

That didn't work, so I tried stopping it.

Its has now been in the ""stopping"" state for about an hour, and I can't get it out of that state.

What do I do in this situation?

Frank

Edited by: frankr001 on Jun 5, 2016 1:59 PM"

Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello Frank,

The instance i-40b0247f is stopped at 2016-06-05 21:05:27 UTC.

We apologize for the inconvenience."

Amazon EC2	"Security Group Rules between Instances
We currently have an EC2 instance that hosts a MongoDB server running inside a VPC that is configured with a security group and has a public IP tied to a DNS entry. We are trying to connect web and worker tier instances to that standalone EC2 instance. When we open the MongoDB port (27017) based on IP address or CIDR range (eg. xx.xx.xx.00/24), machines are able to communicate just fine using the public IP or DNS name. If we instead try to use security group settings as the source rather than IP addresses (since EB instances can come and go with different public IP addresses), the connection fails. Why is that? Is there any way we can configure it properly to not depend on public IP addresses?"

Amazon EC2	"Instance unreachable, console reports errors but no outages in Sydney?
A server I've been running without issue for years is no longer reachable over port 80, 443 or 22. The AWS console for my account says:  ""Error retrieving resource count"" in the place of the number of running instances and some other vitals. 

The AWS Status dashboard shows no outages/issues in the Sydney ap-southeast-2a where the instance is.

What could possibly be the cause here?"

Amazon EC2	"Re: Instance unreachable, console reports errors but no outages in Sydney?
Hi,

We are aware of the current service disruption in the Sydney region, we apologize for the inconvenience and appreciate understanding, 

Currently we are working on this issue with highest priority to get the services restored.

Please kindly keep an eye on http://status.aws.amazon.com/ for more information 

Regards
Ganesh"

Amazon EC2	"Re: Instance unreachable, console reports errors but no outages in Sydney?
Thanks Ganesh."

Amazon EC2	"Instance stuck in ""stopping"" state in the ap-southeast-2a after outage
Instance stuck in ""stopping"" state in the ap-southeast-2a after outage. Unable to stop or force stop the instance.

Have followed both procedures as documented here, http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Both procedures return error messages. Unable to create an AMI of the instance and unable to create a snapshot of the volume.

The Instance is i-dbe48ee4 and I would like this instance running again ASAP please."

Amazon EC2	"Re: Instance stuck in ""stopping"" state in the ap-southeast-2a after outage
Hello, and sorry for the issues with the instance.

I have asked our EC2 team to look at i-dbe48ee4

I wanted to post a quick update on the event status for you, and assure you that we are working on the issue.

Current Status:
==============
Connectivity has been restored for the majority of the instances in the affected Availability Zone and the APIs continue to operate normally. The remaining impacted instances are taking longer to recover. For immediate recovery, we recommend customers that are able to, launch replacement instances.
==============

If you can, we advise that you launch replacement instances for these as they should deploy and be accessible at this time.

Regards,
Jay"

Amazon EC2	"Re: Instance stuck in ""stopping"" state in the ap-southeast-2a after outage
I am still waiting for this issue to be resolved.

I cannot 1) create an image of this instance and 2) cannot snapshot the volume, due to EC2 error messages presented when performing those action. I must therefore wait for the instance to stop or otherwise become available."

Amazon EC2	"instance stuck in zombie state since power outage in Sydney
Like some others on this forum, we have an instance that is stuck in a zombie state since the power outage in Sydney. We are unable to restart the instance, so have tried to stop the instance. It is now stuck in a 'stopping' status and has been for a long time now.

The instance ID is i-c4cddd1b. 

K"

Amazon EC2	"Re: instance stuck in zombie state since power outage in Sydney
Hello,

We apologize for the issue in ap-southeast-2 region.

I confirmed that your instance i-c4cddd1b is currently in ""Stopped"" state. You can try to start it back again.

Regards,
Jay"

Amazon EC2	"Cannot force shutdown of instance since outage
hello,

I have an EC2 instance showing insufficient data and I cannot force shut it down since the outage in Sydney. can someone assist?"

Amazon EC2	"Re: Cannot force shutdown of instance since outage
Same issue with one of my instances.

How do we go about shutting down an instance that won't force shut down?

Cheers, Stephen"

Amazon EC2	"Re: Cannot force shutdown of instance since outage
Hello, and sorry for the issues with the instances.

Please provide affected instance IDs, I can ask our team to look at them.

I wanted to post a quick update on the event status for you, and assure you that we are working on the issue.

Current Status:
==============
Connectivity has been restored for the majority of the instances in the affected Availability Zone and the APIs continue to operate normally. The remaining impacted instances are taking longer to recover. For immediate recovery, we recommend customers that are able to, launch replacement instances.
==============

If you can, we advise that you launch replacement instances for these as they should deploy and be accessible at this time.

Regards,
Jay"

Amazon EC2	"Suddenly can't ssh to my instance
Today I am working on one of my instance, and suddenly system complains that command 'ls' not found. I quit putty, and start a new session, putty complains No supported authentication methods available (server sent: publickey), I checked my firewall settings, everything is good. Does anyone here have same problem before?"

Amazon EC2	"SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
Problem
Wrong SELinux settings after upgrade of iputils-20121221 package, causing the instance to fail at boottime, not getting an IP address and thus unreachable. Seems to be caused by arping and ping (part of iputils package) triggering SELinux denials.

How to reproduce?
Amazon Linux instance, running with SELinux enforced. Run sudo yum -y update. Package iputils-20121221-7.13.amzn1.x86_64 is updated. Reboot. The system hangs with avc denials:

type=AVC msg=audit(1463656439.022:129): avc:  denied  { getcap } for  pid=6107 comm=""arping"" scontext=system_u:system_r:netutils_t:s0 tcontext=system_u:system_r:netutils_t:s0 tclass=process permissive=0
type=SYSCALL msg=audit(1463656439.022:129): arch=c000003e syscall=125 success=yes exit=0 a0=55e41377a014 a1=55e41377a01c a2=55e41377a010 a3=7ffdb6a515c0 items=0 ppid=6090 pid=6107 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=""arping"" exe=""/sbin/arping"" subj=system_u:system_r:netutils_t:s0 key=(null)
type=AVC msg=audit(1463656439.022:130): avc:  denied  { setcap } for  pid=6107 comm=""arping"" scontext=system_u:system_r:netutils_t:s0 tcontext=system_u:system_r:netutils_t:s0 tclass=process permissive=0
type=SYSCALL msg=audit(1463656439.022:130): arch=c000003e syscall=126 success=yes exit=0 a0=55e41377a014 a1=55e41377a01c a2=1 a3=7ffdb6a515f0 items=0 ppid=6090 pid=6107 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=""arping"" exe=""/sbin/arping"" subj=system_u:system_r:netutils_t:s0 key=(null)
type=AVC msg=audit(1463656851.224:142): avc:  denied  { getcap } for  pid=7149 comm=""ping"" scontext=system_u:system_r:ping_t:s0 tcontext=system_u:system_r:ping_t:s0 tclass=process permissive=0
type=SYSCALL msg=audit(1463656851.224:142): arch=c000003e syscall=125 success=yes exit=0 a0=55a7927f7014 a1=55a7927f701c a2=55a7927f7010 a3=7ffe5ce7a000 items=0 ppid=7147 pid=7149 auid=4294967295 uid=497 gid=496 euid=497 suid=497 fsuid=497 egid=496 sgid=496 fsgid=496 tty=(none) ses=4294967295 comm=""ping"" exe=""/bin/ping"" subj=system_u:system_r:ping_t:s0 key=(null)
type=AVC msg=audit(1463656891.011:144): avc:  denied  { getcap } for  pid=7361 comm=""ping"" scontext=system_u:system_r:ping_t:s0 tcontext=system_u:system_r:ping_t:s0 tclass=process permissive=0
type=SYSCALL msg=audit(1463656891.011:144): arch=c000003e syscall=125 success=yes exit=0 a0=558261611014 a1=55826161101c a2=558261611010 a3=7fff77297030 items=0 ppid=7359 pid=7361 auid=4294967295 uid=497 gid=496 euid=497 suid=497 fsuid=497 egid=496 sgid=496 fsgid=496 tty=(none) ses=4294967295 comm=""ping"" exe=""/bin/ping"" subj=system_u:system_r:ping_t:s0 key=(null)
type=AVC msg=audit(1463657091.043:156): avc:  denied  { getcap } for  pid=7713 comm=""ping"" scontext=system_u:system_r:ping_t:s0 tcontext=system_u:system_r:ping_t:s0 tclass=process permissive=0

How to recover from this?
Change kernel boot argument ""enforcing=1"" to ""enforcing=1"" in /etc/grub.conf, reboot. Then everything works again.

How to work around this so that SELinux can be enabled again?
Create a custom SELinux module. Mine looks like this:

module incitem-arping-ping 1.0;

require {
        type ping_t;
        type netutils_t;
        class process { getcap setcap };
}

#============= netutils_t ==============
allow netutils_t self:process { getcap setcap };

#============= ping_t ==============
allow ping_t self:process getcap;

What should Amazon do?
Amazon, please fix the SELinux policy on this one, so that we don't have to hack to get a working system 

Kind regards,
Marc"

Amazon EC2	"Re: SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
Hi Marc, thanks for your detailed report.

The iputils-20121221 version updates many of the binaries to use capabilities instead of setuid root, among other fixes and modernizations.

We're looking into an update to the SELinux policy to fix this incompatibility, and we'll update this thread when we have one available.

Thanks for using the Amazon Linux AMI!
Ian"

Amazon EC2	"Re: SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
I'm including specifics here to help the next person along if they aren't whiz's (like myself) at creating local SELinux policies. 

vim netutils.te 
----------------------------------------------------FILE CONTENTS---------------------------------------
module incitem-arping-ping 1.0;

require {
type ping_t;
type netutils_t;
class process { getcap setcap };
}

#============= netutils_t ==============
allow netutils_t self:process { getcap setcap };

#============= ping_t ==============
allow ping_t self:process getcap;

---------------------------------------END FILE CONTENTS-------------------------------------------------

checkmodule -M -m netutils.te -o netutils.mod
semodule_package -o netutils.pp -m netutils.mod
make -f /usr/share/selinux/devel/Makefile netutils.pp
semodule -i netutils.pp"

Amazon EC2	"Re: SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
Thanks Ian, and happy to help. I'll keep watching this thread for updates."

Amazon EC2	"Re: SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
Hello,
An updated version of the selinux-policy package is available in the Amazon Linux AMI repositories. This updated package should address the issues you are seeing. If you have further questions please let us know.

Heath"

Amazon EC2	"Re: SELinux instance won't boot after install of iputils-20121221-7.13.amzn1
Hi Heath,

I just installed the new selinux-policy package, then removed my custom SELinux module and rebooted. The instance booted just fine.

Thanks for the quick fix"

Amazon EC2	"Service Unavailable
Asia Pacific (Sydney) Service status says running normally but when going to the instances page it says ""An error occurred fetching instance data: The service is unavailable. Please try again shortly.""

Our instance is currently down. It seems that these two messages are inconsistent.

Wouldn't the service be having problems if instance data cannot be returned.

How do I get extra information on the problems our instance is having? 

i-8d0f2742 in region Asia Pacific - Sydney"

Amazon EC2	"Re: Service Unavailable
Also having issues with at least one of our instances being down and seeing the same error in our ec2 listing"

Amazon EC2	"Re: Service Unavailable
I'm having the exact same issue with asia pacific - other zones are fine.  Nothing in the service health status.

Edited by: rbs1111 on Jun 4, 2016 10:45 PM"

Amazon EC2	"Re: Service Unavailable
Hi,

We are aware of the current service disruption in the Sydney region, we apologize for the inconvenience and appreciate understanding, 

Currently we are working on this issue with highest priority to get the services restored.

Please kindly keep an eye on http://status.aws.amazon.com/ for more information 

Regards
Ganesh"

Amazon EC2	"Sydney unavailable nothing on status site
Our sydney operations appear to have gone out. I have checked with others I know using Sydney region and they are having similar availability issues, and the console is reporting Sydney EC2 as also unavailable.

Can anyone please let us know what is happening?

Thanks"

Amazon EC2	"Re: Sydney unavailable nothing on status site
Same issue here.  More people have the issue noted here: http://aussieoutages.com/status/aws-amazon-web-services

Will await the formal response."

Amazon EC2	"Re: Sydney unavailable nothing on status site
Out for me too. All my EC2 instances are unavailable and not listed in the console. ""Error retrieving resource count"" for everything on the dashboard."

Amazon EC2	"Re: Sydney unavailable nothing on status site
Status site is now registering 'Connectivity issues'

http://status.aws.amazon.com/"

Amazon EC2	"Re: Sydney unavailable nothing on status site
Hi,

We are aware of the current service disruption in the Sydney region, we apologize for the inconvenience and appreciate understanding, 

Currently we are working on this issue with highest priority to get the services restored.

Please kindly keep an eye on http://status.aws.amazon.com/ for more information 

Regards
Ganesh"

Amazon EC2	"EC2 Instances Console Not Available?
We are in the Sydney Region, there seems to be some outage with EC2 console, we get this message with not instances shown: 

""An error occurred fetching instance data: The service is unavailable. Please try again shortly.""

and the same with the ELB instances, 

I also just got a report from PagerDuty Say we have 12 unhealthy nodes in the ELB (we only have 3 total), but one does seem to be down

Anyone else seeing this?

Just notice the the command line / API interface also down, Ansible (using Boto) also can connect:

Error connecting to AWS backend.
The service is unavailable. Please try again shortly.

The Service Health Dashboard still isn't indicating any issues

Edited by: Carl Bowden on Jun 5, 2016 5:55 PM"

Amazon EC2	"Re: EC2 Instances Console Not Available?
Hi,

We are aware of the current service disruption in the Sydney region, we apologize for the inconvenience and appreciate understanding, 

Currently we are working on this issue with highest priority to get the services restored.

Please kindly keep an eye on http://status.aws.amazon.com/ for more information 

Thanks
Trevor"

Amazon EC2	"Server is so slow..
my ec2 instance is so slow. I wonder why. SSH client take more than 5 minutes to connect. Same with SFTP. Also MySQL keeps crashing even though I have swap file activate. 
Please be kind enough to suggest a working solution.
We even upgraded to M3.MEDIUM recently.
Thank you.

Edited by: manoj_g on May 24, 2016 11:22 PM"

Amazon EC2	"Re: Server is so slow..
Unfortunately, your swap file might be why everything is running so slow.

When your OS runs out of memory, it begins swapping less-used data out to disk.  Processes often get paused while they're swapping, and unused processes get pushed out.  So, MySQL might be pushing SSHd out to swap.  Then, when you try to log back in, the OS has to push parts of MySQL out so it can swap SSHd back in.

Personally, I find swapping is just too time-expensive, and prefer to run without swap, or with a very small swap.

Try turning your swap off, and look at adjusting the memory usage of your MySQL instance."

Amazon EC2	"Re: Server is so slow..
did what you've suggested. Still mysqld crashes after about every few hours until I do ""service mysqld start"".
Here's the mysqld log:

160529 01:01:52 mysqld_safe Number of processes running now: 0
160529 01:01:53 mysqld_safe mysqld restarted
160529  1:02:00 Note /usr/libexec/mysql55/mysqld (mysqld 5.5.46) starting as process 11644 ...
160529  1:02:02 Note Plugin 'FEDERATED' is disabled.
160529  1:02:02 InnoDB: The InnoDB memory heap is disabled
160529  1:02:02 InnoDB: Mutexes and rw_locks use GCC atomic builtins
160529  1:02:02 InnoDB: Compressed tables use zlib 1.2.8
160529  1:02:02 InnoDB: Using Linux native AIO
160529  1:02:02 InnoDB: Initializing buffer pool, size = 2.0G
InnoDB: mmap(2197815296 bytes) failed; errno 12
160529  1:02:02 InnoDB: Completed initialization of buffer pool
160529  1:02:02 InnoDB: Fatal error: cannot allocate memory for the buffer pool
160529  1:02:02 ERROR Plugin 'InnoDB' init function returned error.
160529  1:02:02 ERROR Plugin 'InnoDB' registration as a STORAGE ENGINE failed.
160529  1:02:03 ERROR Unknown/unsupported storage engine: InnoDB
160529  1:02:03 ERROR Aborting

160529  1:02:03 Note /usr/libexec/mysql55/mysqld: Shutdown complete

160529 01:02:03 mysqld_safe mysqld from pid file /var/run/mysqld/mysqld.pid ended"

Amazon EC2	"Re: Server is so slow..
160529 1:02:02 InnoDB: Fatal error: cannot allocate memory for the buffer pool


Your buffer pool is too large.  MySQL asked the kernel to give it a 2GB chunk of memory to use as its buffer pool, and the kernel rejected the request with the reason of 'not enough memory available'.  

Start the 'top' command and hit SHIFT+M to sort by memory usage, and investigate what is taking up the other 2GB on the machine.

Depending on what you are using your MySQL server for, you might not need a 2GB buffer pool.  Modify your mysql config files to specify a smaller pool and see if the performance is still acceptable."

Amazon EC2	"Re: Server is so slow..
Hi Michael,

I've adjusted memory according to the link in your first response. I've set innodb_buffer_pool_size to 2048M as suggested there. 

Here's what I see after executing what you've suggested in your second suggestion:

top - 16:03:25 up 5 days,  7:06,  1 user,  load average: 0.31, 0.17, 0.26
Tasks:  87 total,   2 running,  85 sleeping,   0 stopped,   0 zombie
Cpu(s): 10.3%us,  0.3%sy,  0.0%ni, 81.9%id,  0.0%wa,  0.0%hi,  0.0%si,  7.4%st
Mem:   3857856k total,  2329616k used,  1528240k free,   131376k buffers
Swap:  1048572k total,    14884k used,  1033688k free,   141836k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
14350 mysql     20   0 2950m 211m  10m S  0.3  5.6  26:27.35 mysqld
15791 apache    20   0  476m  53m  16m S  0.0  1.4   1:29.60 httpd
18124 apache    20   0  476m  52m  16m S 14.3  1.4   0:34.37 httpd
15205 apache    20   0  476m  52m  16m S  0.0  1.4   1:42.89 httpd
17038 apache    20   0  476m  52m  16m S  0.0  1.4   1:01.50 httpd
18125 apache    20   0  477m  51m  14m S  0.0  1.4   0:31.78 httpd
18161 apache    20   0  477m  51m  14m S  0.0  1.4   0:31.06 httpd
17786 apache    20   0  477m  51m  14m S  0.0  1.4   0:42.97 httpd
18297 apache    20   0  464m  48m  13m S  0.0  1.3   0:27.13 httpd
17788 apache    20   0  464m  48m  13m S  0.0  1.3   0:40.14 httpd
18818 apache    20   0  464m  48m  13m S  1.0  1.3   0:08.41 httpd
18857 apache    20   0  463m  45m  11m S  0.0  1.2   0:06.43 httpd
18847 apache    20   0  463m  45m  11m S  0.0  1.2   0:06.45 httpd
18995 root      20   0  115m 6648 5576 S  0.0  0.2   0:00.01 sshd
19062 root      20   0  179m 4240 3620 S  0.0  0.1   0:00.00 sudo
19036 ec2-user  20   0  115m 3700 2628 S  0.0  0.1   0:00.00 sshd
 2674 root      20   0 88992 3376 2920 S  0.0  0.1   0:08.54 sendmail
14141 root      20   0  112m 3236 2936 S  0.0  0.1   0:00.00 mysqld_safe
19064 root      20   0  112m 3220 2856 S  0.0  0.1   0:00.00 bash
19037 ec2-user  20   0  112m 3180 2912 S  0.0  0.1   0:00.00 bash
19063 root      20   0  154m 3012 2612 S  0.0  0.1   0:00.00 su
 2698 root      20   0  361m 2820  932 S  0.0  0.1   0:26.70 httpd
19077 root      20   0 15284 2264 1984 R  0.0  0.1   0:00.04 top
 2377 ntp       20   0 29288 2120 1968 S  0.0  0.1   0:00.45 ntpd
    1 root      20   0 19636 1816 1584 S  0.0  0.0   0:01.07 init
 2061 root      20   0  9360 1668 1524 S  0.0  0.0   0:00.12 dhclient
 2683 smmsp     20   0 80440 1476 1356 S  0.0  0.0   0:00.03 sendmail
 2355 root      20   0 77840 1452 1340 S  0.0  0.0   0:00.00 sshd
 2709 root      20   0  116m 1040  948 S  0.0  0.0   0:01.09 crond
 2226 dbus      20   0 21792  540  492 S  0.0  0.0   0:00.00 dbus-daemon
 2134 root      20   0  241m  364  208 S  0.0  0.0   0:00.16 rsyslogd
 2113 root      16  -4 46536  284  220 S  0.0  0.0   0:00.20 auditd
 2156 root      20   0  4380   12    0 R  0.0  0.0   0:32.44 rngd
 1663 root      20   0 11316    8    4 S  0.0  0.0   0:00.00 udevd
 2195 rpcuser   20   0 39860    8    4 S  0.0  0.0   0:00.03 rpc.statd
 2752 root      20   0  6460    8    4 S  0.0  0.0   0:00.02 agetty
 2757 root      20   0  4312    8    4 S  0.0  0.0   0:00.03 mingetty"

Amazon EC2	"Re: Server is so slow..
Are you happy with how it is working now?

The output from top looks pretty good to me.  Your load average suggests that your machine still has plenty of leftover capacity.  The cpu was mostly idle, and isn't waiting on IO.  There's a fair amount of %st, but that is probably normal with a number of apache daemons doing network traffic.

The amount of free memory you have right now -- around 1.5GB -- is surprisingly high. I expect that to go down, and the performance of your machine to get better, as that free space is gradually converted into file caches.

This is only a single snapshot in time, so I'm far from certain, but now that we've got the database sized better it looks like your instance is too big.  When we adjusted the buffer pool down, we might have made the database slower. But if it is still performing well enough, you might consider saving some money by downsizing again -- just remember to take your new buffer pool settings with you."

Amazon EC2	"Re: Server is so slow..
I like finding a solution in M3.MEDIUM. Any specific help would be awesome. Just had to restart mysql again. This needs done every day."

Amazon EC2	"Unknown Network Interface - Can't Detach - Do not have permission
I was going through the network interfaces I have currently, and there is one that I don't think is needed anymore.  I tried to delete it and it is giving me a ""You do not have permission to access the specified resources"". 

I am using the main administrator login to the AWSaccount in attempt to do this.

The network interface I am trying to change is: eni-a27374e9"

Amazon EC2	"Re: Unknown Network Interface - Can't Detach - Do not have permission
Same issue. I am trying to delete non default VPC which gives error that NI (network interface is in use). So tried deleting NI and got the same error. 
eni-a7b3a7fa
eni-205c4c5b

Can someone plz help? 
Thanks
Sujoy"

Amazon EC2	"Re: Unknown Network Interface - Can't Detach - Do not have permission
Hi,
Same problem here. Did you guys manage to solve the issue?
I have these two network interfaces hanging and I cannot detach them either.
eni-a28ffedf
eni-b13d30da

Any help is appreciated it.

Thanks!

Edited by: mm on Jun 4, 2016 11:54 AM"

Amazon EC2	"My EC2 Does not appear in my Load Balancer List
I have a standard EC2 Linux webserver i want to make it use SSL.

Cannot select my instance below to my load balancer below too, the instance just doesnt appear in the selection list."

Amazon EC2	"Re: My EC2 Does not appear in my Load Balancer List
Hello,

Please make sure that the instance is in the same VPC as your load balancer. Also, make sure you have selected subnets for ELB in the same availability zone (AZ) as your EC2 instance.

Refer to following URLs for more information:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/enable-disable-az.html
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-manage-subnets.html
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-deregister-register-instances.html


Regards,
Jay"

Amazon EC2	"Restarting an instance on service failure
Good morning,
I am writing this post because we've been searching a good way to restart an ec2 instance when it becomes unresponsive, and Route53 health checks look perfect for catching that event.
We defined an health check, testing our domain with some http requests to a URL, and it works perfectly: if the service is going to crash soon, a CloudWatch alarm send us a notification, and we take manual actions, such as restarting the instance.
It would be nice to automate that process, too.
We'd like to set an ec2 action for that alarm, but it looks like we can't.
In CloudWatch console, the ""+ add ec2 action"" button is disabled: it claims we can only set an ec2 action to an alarm bound to an ec2 instance. 
Actually, our alarm is bound to a Route53 health check.
We already have something like that with ec2 status checks, but that's not enough: status checks fail just when an instance is completely down. 
In our environment, the instance can be definitely ok, while the service is down! (maybe because the web server crashed).

What's the best practice for our use case?"

Amazon EC2	"[Question] : Unable to connect AWS EC2 instance, i-0d936abac21bc0c5b
Hi,

I have been using this instance for quite sometime now (from Bangalore, India).

Today morning, all of a sudden, it's not reachable via PuttY, error is network not reachable.
In AWS console, instance is in a healthy state.

I can confirm no changes were made to keys. My broadband connection to the Internet is stable.

Any suggestions on how to proceed ?

TIA,
/Ram"

Amazon EC2	"Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Friends,

I've been using EC2 for quite a while, all Windows instances.  I often have many EBS volumes attached to a single instance, each formatted with an NTFS filesystem and mounted as some folder, such as ""\User Databases"" or ""\Database Backups"", and such.

What remains a mystery after all these years is exactly how to correlate the EBS attachment device, (xvdf, xvdh, xvdi, etc.) to a ""Disk"" that appears in Windows ""Disk Management"" applet, (Disk1, Disk2, Disk3, etc.)

There seems to be no way to know, from Windows or EC2 that, say, EBS ""xvdk"" is currently Disk4.  (Or, how to keep xvdk as Disk4, forever, no matter what.)

I've done a bunch of experiments on test instances using test EBS volumes, and the mystery remains.  Worse, removal of a Disk using Windows ""Disk Management"" applet that creates a gap, such as removing Disk 2 if Disk3 and Disk4 exist, sometimes, not always, causes things to shift around.  Obviously this can create a mess.

I might need AWS staff to respond, if possible.  But, this may be a gap in my Windows understanding too. If anybody can shed some light onto this problem it would be greatly appreciated.

James"

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Hello,

If I understand your question correctly, this functionality is provided by the Drive Letter Mapping with EC2Config. For additional details, the ""Configuring a Windows Instance Using the EC2Config Service"" section of the EC2 User Guide is here:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html

Regards,
Joshua F."

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
No, that does not address the question.

I don't want to re-type the whole original note, and I think that describes the issue as best as I reasonably can describe it.

Basically, using the AWS console or API, I ""associate"" an EBS volume to an instance, and specify xvdf-xvdp as the ""device"" that Windows should ""see"".  But, how does say xvdk ""become"" say Drive3 as seen in Windows Disk Manager?

Plus, xvdk can magically and annoyingly (fatally!) change if say the EBS volume say xvdn was disassociated, if xvdn was seen by Windows as Disk2.

James

P.S. I do appreciate the response.  But, I need to get our understanding of this EBS to xvd? to Windows DiskN clarified somehow.

P.S.S. We do not use drive letters at all.  The only letter is ""C"", and we have many volumes attached."

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
I see from documentation the DriveLetterConfig.xml is ALMOST what I'm looking for, except it seems that only drive letters are supported, not ""mount points"" that are basically folders.

So, a reformulated question might be; how does it all work in the absence of any entries in the DriveLetterConfig.xml file?

And, perhaps some day ""mount points"" can be specified instead of drive letter?

James

Edited by: James Ross on Jan 2, 2013 6:38 PM"

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Hi James,

The mapping determination will depend on which PV driver is being used.

For example, the Redhat PV driver (currently used in most AMIs) is assigned within the OS randomly based upon the order of attachments.

The Citrix PV driver (currently used for Cluster and Windows 2012 AMIs) has a defined order for each Mount Point as follows:

Mount Point  |  Location (Windows Disk Property)
sda1             |  Bus Number 0, Target ID 0, LUN 0
b                   |  Bus Number 0, Target ID 1, LUN 0
c                    |  Bus Number 0, Target ID 2, LUN 0
d                    |  Bus Number 0, Target ID 3, LUN 0
....

Keep in mind that Mount Point (specified when attaching EBS Volumes) and OS Drive Letter are independent, however by using WMI to determine the Windows Disk Property, it is possible to create a mapping.

The PV driver can be determined by looking at the driver properties for your network interface.

Regards,"

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Thank you very much.  All of your replies have been helpful.  I know how to move forward now, and I think I can manage all this.

James"

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Can you elaborate on that a little? Which WMI class should be queried? I tried googling but I can't find any information about a ""Windows Disk Property""... I really need to be able to map a drive letter to a volume id."

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
The Windows Disk Property is found by using the Disk Management MMC and right clicking/properties the disk.

To find the Physical Disk mapping using WMI, try using Win32_DiskDrive / SCSITargetId.

Regards,"

Amazon EC2	"Re: Windows disk (1-9) to EBS device (xvdf-xvdp) assigment algorithm...
Hi Jonathan,

I've followed all the documentation to determine the device name for the various EBS block devices mounted on our Windows Server 2008 instance (m3.medium)

The location information in disc device properties for a device looks like this:
Bus Number 1, Target Id 0, LUN 4

But, there is no mapping for that pattern here:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-volumes.html

There doesn't seem to be any other way to determine what  mappings.
(the DriveLetterConfig.xml file is empty as well)

How can I determine the device name?

Justin Shea

Edited by: justinmshea on Jun 3, 2016 3:05 PM

Edited by: justinmshea on Jun 3, 2016 3:08 PM"

Amazon EC2	"Routing from EC2 instances doesn't work when accessing a particular domain
Hello,

I have found an external website that will not display from any EC2 instance within AWS, and I would appreciate any advice or input that anyone may have.

It appears to be a routing issue in AWS, but I do not know.  Maybe the problem is on the external web server itself, and it is blocking all of AWS?  This seems kind of unlikely, but I guess possible.

This was discovered by a user who is connecting to our RRAS VPN in AWS EC2.  I have confirmed it from EC2 instances in Virginia, Oregon, and California.

From within AWS, the website for Victoria's Secret will not display.  Going through our VPN EC2 instance from my client browser, or directly from any server instance in any US region, the website https://www.victoriassecret.com/ returns a ""File not found"" page.

The lock icon in my browser shows the correct certificate, so it seems to be getting to the site, but the page will not display.

As soon as I disconnect from my AWS EC2 VPN connection the site loads just fine.  But from within any instance, or through any instance, the site will not load.

Can anyone confirm if this is an AWS issue, or is it perhaps an issue on the host website and it is blocking all of AWS?

Thanks!"

Amazon EC2	"Re: Routing from EC2 instances doesn't work when accessing a particular domain
Hi there,

I understand you are experiencing difficulty accessing https://www.victoriassecret.com. We will contact the owner of this domain to try and determine the cause of the issue, but it’s ultimately at the discretion of the domain owner which traffic they choose to accept.

You might also consider reaching out to the domain owner directly, as they may prefer working with end-users on an individual basis.

We apologize for any inconvenience this may have caused, and thank you for your patience.

Best,
Adolfo M."

Amazon EC2	"Re: Routing from EC2 instances doesn't work when accessing a particular domain
So it appears that there are several websites that are apparently blocking the entire AWS network.

It is not a routing or DNS issue.  Rather it is the fact that many organizations are blocking AWS for some reason. (?)

All traffic coming from any instance in AWS, or through AWS such as my VPN connection hosted at Amazon, is blocked from accessing many websites.  HTTP Error 403 Forbidden is returned.

For whatever reason the following web servers have what appear to be Domain or IP restrictions/blocks on all of AWS.  I'm sure there are more...

www.victoriassecret.com
www.stubhub.com
www.eastbay.com (however, www.eastbayteamsales.com does work.)

I've reached out and mentioned this to the support teams at these sites, but have not had any resolution.  Obviously, I can just disconnect from AWS in order to access the sites, but I do find this extremely peculiar."

Amazon EC2	"Can't delete snapshot of volume
Hi

I am tried to delete a snapshot. But I get this exception:


The snapshot snap-70b66707 is currently in use by ami-f85de291

But this instance is deleted since 1 month. 
How can I delete this snapshot :(?"

Amazon EC2	"Re: Can't delete snapshot of volume
Hi.

You need to de-register the AMI (ami-f85de291) first before deleting the snapshot.

Regards,

Tonderai."

Amazon EC2	"Re: Can't delete snapshot of volume
Hi.

I can't find it. Where can I de-register it?

Thx"

Amazon EC2	"Re: Can't delete snapshot of volume
Hi.

Navigate your AWS management console (EC2) into US-EAST region. On the navigation pane, expand IMAGEs and select AMIs. From the resultant AMIs available, highlight the one you wish to de-register. Click the de-register button.

Let me know if you require any further assistance.

Regards,

Tonderai."

Amazon EC2	"Re: Can't delete snapshot of volume
Thx a lot!

Best Regards"

Amazon EC2	"Re: Can't delete snapshot of volume
Thanks as well. I just solved that issue based on your post!

Clive"

Amazon EC2	"SSL encryption within VPC
Hi,

We have the following resources in our VPC:
A Redshift cluster that is hosting our data  (vpc-xyz)
An EC2 Windows Server that is running a Tableau server (vpc-xyz)

We have setup our Tableau workbooks to have a live connection to the Redshift. What this means is that when a user browser submits a request to the Tableau server, the Tableau server will connect live to the Redshift, run some sql query, get the data, and then serve the client browser.

The Redshift connection driver dialog box in Tableau has an option to enable SSL. We have found that if we enable the SSL option, users experience excessive delays. Removing the SSL option will greatly speed up browser response.

Since we deem our data sensitive, the question we have is the following:
Is the SSL encryption irrelevant here when data is in flight between our Redshift and EC2 Tableau server having the same VPC ID?

Does this data cross the public network and therefore are we exposing our data by removing the SSL encryption option between Redshift and the Tableau EC2 instance?

Any light shed on this is greatly appreciated."

Amazon EC2	"Re: SSL encryption within VPC
Anyone out there, or someone from Amazon support can weigh in here?"

Amazon EC2	"Joomla site SQL injection from another Amazon instance
Hello.

I run a Joomla site on my AWS instance, and I have the SecurityCheckPro component installed, which attempts to block SQL and PHP code injection.  I have received numerous attempts from 52.40.214.84, which is an ip address registered to amazon.  How can I make Amazon give this user a cease and desist order?

Thanks,"

Amazon EC2	"Re: Joomla site SQL injection from another Amazon instance
Hi,

If you suspect that AWS resources are misappropriate for malicious activities, please use the following form to report this to our Abuse team: https://aws.amazon.com/forms/report-abuse

Thanks,
Arun T."

Amazon EC2	"Instance Hacked
Hello,

I noticed yesterday that one of my client's websites had a red warning message in the browser saying that this page is not safe to visit. 

These are the details about that: https://www.google.com/transparencyreport/safebrowsing/diagnostic/index.html#url=http://nochempool.com/

So I tried logging in via SSH to the server, but I couldn't connect. I am the only one with access to the private key, and I keep it in a safe place. 

The instance in question is i-66784fd4. Since I cannot log in through SSH anymore, I am completely locked out of the instance! 

I did not create any snapshots unfortunately. 

Now, I pointed the domain to another IP to prevent people from seeing the warning message and I also shut down the instance with problems. 

Is there anything I can do at this point?

Thank you!"

Amazon EC2	"Re: Instance Hacked
Restore from backup.  I'd build a new instance, restore the data / app, and get moving again -- being careful to make sure it's set up securely.

As to how they got into your instance, if it was a web app, etc. exposed to the public, they probably leveraged a vulnerability or incorrect permissions setting in the app or instance.  Other possibility; sometimes folks accidentally post their keys in dev repositories, etc. I'd check for that.

You may want to save off the EBS volume for forensics purposes if needed in this case."

Amazon EC2	"Re: Instance Hacked
IMHO the only solution is to move to a new server:

create new instance
shut down old one, 
detach volume, 
re-attach the volume to the new server as a second drive
transfer the site code and DB
security, security, security
backups"

Amazon EC2	"Re: Instance Hacked
Thank you for the answers. 

I created a new instance. Fortunately I had a backup of the database and the files stored on my computer. 

What I don't understand is why am I not able to log in via SSH using my private key? I would assume that the private key stored on the server can't be (easily) deleted. 

Is there a way I can find out how the hacker gained access to the instance? Perhaps a log file that would point me in the right direction. 

Should I attach the EBS volume in question to a new instance and see what's on it?

Thank you!"

Amazon EC2	"Re: Instance Hacked
It's not a big deal for someone to change the SSH key if they've gotten into the system with elevated privileges -- break in, then lock you out.

As for determining what happened, you will have to perform forensics on the EBS volume, which may or may not tell you what happened (depends on your skill level and how well their tracks were covered-- if this instance housed sensitive data, you may be required, depending on your industry, to get a professional to perform forensics on this).  If you were running a cloud firewall, WAF, or IPS, you may be able to retrieve logs there to get clues.  You won't find anything of use for the built in security group and network access rules in EC2 or VPC, but if you were using the AWS Cloud WAF, you may find something in logs there.

Edited by: BrucekConvergent on Jun 3, 2016 1:03 PM"

Amazon EC2	"AMI Stuck in Pending State - Request Assist for Stopping Image or Recovery
This morning I received a Retirement Notification for a running instance:

AMI ID: i-05ae051231a11dd1e

I could not connect to the EC2 Instance via RDP or through another instance in the same subnet and both status checks were failing. 

I then started to create an Image of that server since I wanted to attempt to spin it up again. That image never completed and has been in a ""pending"" state for a little over four hours now, which seems pretty long for a machine of this size. I then was able to stop the instance state on the ""Instances"" dashboard. The currently pending AMI-ID is ami-32b3ad58.

I do not have any snapshots or AMI's of this server, but I'd like to attempt to recover as much as I can if that's going to be possible. What's the best way to (1) stop the current AMI and/or (2) get any form of a snapshot of this machine?

Thanks for your help.

Edited by: tt-ama on Apr 20, 2016 11:21 AM"

Amazon EC2	"Re: AMI Stuck in Pending State - Request Assist for Stopping Image or Recovery
I marked this question as answered to mention this in case someone else can get value out of this:

I couldn't get anything back up from the EC2 instance that got the Retirement Notification, so that server needed to be rebuilt. Consider this a lesson learned to create an AMI at the end of the day. 

Secondly, the spinning ""Pending State"" eventually bombed out and disappeared. As I recall, it did this for a couple days so if you see it spinning for awhile, eventually it will vape into the ether.

Hope this helps! Thanks!"

Amazon EC2	"Unable to SSH through ELB
I deployed an EC2 instance and an ELB and I'm able to SSH directly to the EC2 instance directly, however if I open up a port on the ELB for SSH and redirect it to port 22 on my instance I get ""Server unexpectedly closed network connetion"". I've gone over all the ssh settings recommended on the web but nothing helps. I've made sure that the listeners and security groups on the load balancer are correct but i just can't get it to work. Anyone have any potential ideas?"

Amazon EC2	"CPAN unable to connect to install modules.
Hi,

I am running CentOS 6.5 and have installed perl and cpan. I have installed most of the modules I need, except for one. 

when running cpan, I now get an error ""connection timed out"" as it is trying to locate the module. I have full network connectivity. I can ping all of the sites it is trying to connect to. I can access my webserver from the outside.

Here is an example of the error. I was able to install many modules before...

Any ideas?

--2016-06-03 15:47:04--  (try: 6)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:48:13--  (try: 7)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:49:23--  (try: 8)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:50:34--  (try: 9)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:51:46--  (try:10)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:52:59--  (try:11)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:54:12--  (try:12)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:55:25--  (try:13)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying.

--2016-06-03 15:56:38--  (try:14)  http://ppm.activestate.com/CPAN/authors/01mailrc.txt.gz
Connecting to ppm.activestate.com|204.244.102.19|:80... failed: Connection timed out.
Retrying."

Amazon EC2	"Cannot RDP to instance i-2179abba
Amazon please help. I can't RDP to my instance i-2179abba

Any help greatly appreciated."

Amazon EC2	"Re: Cannot RDP to instance i-2179abba
Turns out an elastic ip was assigned to the instance that I did not know about. Sorry for the false alarm."

Amazon EC2	"1/2 checks passed
I have four EC2 instances that will not completely starting up. I can never SSH into them (timeout) and they say 1/2 checks passed after being up for hours. The instances are:
i-03ce09bf9aa1907d1
i-013c0c3aa0d9b3313
i-06d3c15453807c19d
i-0c766e4121c46053c

Edited by: awswebhse on Jun 1, 2016 1:51 PM"

Amazon EC2	"Re: 1/2 checks passed
Ran out of time. Terminated the named instances and re-created them from scratch."

Amazon EC2	"NVA us-east-1a Slow?
Hi,
NVA us-east-1a seems slow to me.    By slow this is what I mean:

VPC
Launching an instance that is already created takes between 3 and 4 minutes before I am able to login remotely.
The instance is a m4.2xlarge  which seems like a decent machine, but installing 30 or so Windows updates has taken about 16 hours to complete, honestly fell asleep waiting for it to finish.

Turns out I ran out of disk space installing updates, not part of the slowness but on to the next problem.

Expanding a volume, adding space to a volume, is extremely time consuming.   

It took over 30 minutes to create a snapshot of the volume, 80GB.

That is where I am at in this lengthy process, waiting for it to complete, thought I'd ask if this is the expected behavior in this region or is something else going on?    

I have not spent my time investigating other zones, it just seems out of alignment with 80GB, 30 minutes for a snapshot, 4 minutes before a machine is reachable, the performance of the instance not up to par (in my opinion) with the specs of mx.2xlarge.

Who is to say what performance you really get out of a particular instance?  How can we as a client ensure this is being properly balanced behind the scenes?

Are these numbers in par with others?

Thank you.

Edited by: danedanedane on Jun 1, 2016 12:21 PM"

Amazon EC2	"Re: NVA us-east-1a Slow?
ok, there must be something going on because now a snapshot only takes moments.
however, now when I select the image to make a new instance (I terminated the old one), all the memory optimized options are grayed out. 

Does this mean AWS is out of capacity in North Virginia?"

Amazon EC2	"Re: NVA us-east-1a Slow?
something went wrong with the imaging process, it took my windows image and made it Linux-other and did not notice.  TRying to roll out another instance with that image limited the instance options.

Starting over..."

Amazon EC2	"Re: NVA us-east-1a Slow?
Hello, 
I had a look at your instance ID  i-1f61a499 in us-east-1a and it is UP&Running with Status Check OK 2/2 and OS available since last reboot:
6/1/2016 4:25:54 PM: Message: Windows is Ready to use

Are you still facing the issue? In case of need just open a case with our AWS Premium Support in order to get immediate assistance on this.

Kind regards
Ale"

Amazon EC2	"Expand storage for free tier machine
Hi,

I want to expand the storage from 8G to 150G for storing images, no requirement for speed. What kind of storage should I use in AWS,

Thanks a lot"

Amazon EC2	"Re: Expand storage for free tier machine
Magnetic volumes are twice cheaper than general ssd"

Amazon EC2	"Re: Expand storage for free tier machine
Hello,
below you will find reference documentation on:

EBS volume types:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html

Resize your EBS volumes:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html

Hope this helps,
kind regards
Ale"

Amazon EC2	"EC2 - Write failed: Broken pipe
Dear Support Team,
I can't ssh to my instance ( i-01b896b08d6d927d9 ) and I have already opened a ticket here https://forums.aws.amazon.com/thread.jspa?messageID=723783#723783 but nobody helped me to solve and I urgently need to operate on the instance. 
Please help. Thanks

Best regards"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hello, 
sorry to hear you have problems to ssh into your instance. I was doing a quick checkout and form the AWS perspective the instance looks good and healthy and I was able to query the port 22 without any problem. 

ubuntu@ip-172-16-0-229:~$ telnet 52.19.56.4 22
Trying 52.19.56.4...
Connected to 52.19.56.4.
Escape character is '^]'.
SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7

We will need you to share with us the follwing information 

a) which client are you using to ssh into your linux instance 
b) which os is running in the computer your are using to remote into the instance
c) the exact error you are receiving
d) any other information you may consider useful to help us understand the nature of the error. 

Cheers
Javier C#"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hello Javier,
Thanks for your message.
Here are the answers to your questions: 
a) I'm using the Mac OS Terminal
b) Mac OSX 10.10.5
c) Write failed: Broken pipe (will paste the full log below)
d) last week I've connected to it many times from the same computer and it was working fine, since 3 days ago I get this error but no changes were applied neither to the instance nor my computer. I can connect to the other instances from my account with no problems. 

The log generated by ssh -vvv -i ""rep.pem"" ubuntu@ec2-52-19-56-4.eu-west-1.compute.amazonaws.com

OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/devmachine/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-19-56-4.eu-west-1.compute.amazonaws.com http://52.19.56.4 port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""rep.pem"" as a RSA1 public key
debug1: identity file rep.pem type -1
debug1: identity file rep.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7 pat OpenSSH*
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host ""ec2-52-19-56-4.eu-west-1.compute.amazonaws.com"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:41
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa,ssh-dss-cert-v01@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: kex_parse_kexinit: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ssh-ed25519
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 118/256
debug2: bits set: 530/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA c1:9c:62:1c:a2:62:5f:d5:8c:03:e2:57:0c:91:d7:5b
debug3: load_hostkeys: loading entries for host ""ec2-52-19-56-4.eu-west-1.compute.amazonaws.com"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:41
debug3: load_hostkeys: loaded 1 keys
debug3: load_hostkeys: loading entries for host ""52.19.56.4"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:40
debug3: load_hostkeys: loaded 1 keys
debug1: Host 'ec2-52-19-56-4.eu-west-1.compute.amazonaws.com' is known and matches the RSA host key.
debug1: Found key in /Users/devmachine/.ssh/known_hosts:41
debug2: bits set: 530/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /Users/devmachine/.ssh/id_rsa (0x7f8599700150),
debug2: key: rep.pem (0x0), explicit
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/devmachine/.ssh/id_rsa
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug1: Trying private key: rep.pem
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey: RSA 30:51:a7:64:08:1e:a0:34:5c:fd:d8:1c:49:c2:ea:06
debug2: we sent a publickey packet, wait for reply
debug1: Authentication succeeded (publickey).
Authenticated to ec2-52-19-56-4.eu-west-1.compute.amazonaws.com (http://52.19.56.4:22).
debug1: channel 0: new client-session
debug3: ssh_session2_open: channel_new: 0
debug2: channel 0: send open
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
Write failed: Broken pipe

Thanks
Best regards"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hello,
please see my answer on the other forum post:
https://forums.aws.amazon.com/message.jspa?messageID=724129#724129

Thanks, regards,
Ale"

Amazon EC2	"Cant find server
Launched website on Wednesday and it was working fine, but now it says can't find server. 
Checked DNS propagation and the instances are running with nothing flagged on EC2. Can anybody help an total AWS novice find whats wrong?"

Amazon EC2	"Amazon Linux Docker 1.10
Hi, currently Docker 1.9.1 is available in yum, but 1.10 was released a month ago. Will 1.10 be available anytime soon on Amazon Linux?

Thanks, Adam."

Amazon EC2	"Re: Amazon Linux Docker 1.10
Nearly a month later and still nothing. Think I'm going to switch our instances to CentOS 7!"

Amazon EC2	"Re: Amazon Linux Docker 1.10
Hello 
I have forwarded your feature request to make Docker 1.10 available in Amazon Linux to the Amazon Linux Package Management Team. 
Regards 
Conrad B."

Amazon EC2	"Re: Amazon Linux Docker 1.10
Hello Adam, 
I can confirm that we are in a process to provide an updated version of Docker in a future update push. I do not have an ETA but we will update as soon as it is pushed.

Cheers, Najah"

Amazon EC2	"Re: Amazon Linux Docker 1.10
Well docker 1.11 is now out. We're in the process of moving to CentOS 7 away from Amazon Linux. For such a popular tool and one that Amazon use as part of their service (ECS) I find it incredibly disappointing at the lack of any progress on this."

Amazon EC2	"Re: Amazon Linux Docker 1.10
Hi, any update on this? What is the ETA for Docker 1.10+ on Amazon Linux? The last reply here was 2 months ago."

Amazon EC2	"Re: Amazon Linux Docker 1.10
Hello,
we are pleased to announce that now you can now use Docker 1.11 on your Amazon ECS container instances.

https://aws.amazon.com/about-aws/whats-new/2016/05/amazon-ec2-container-service-supports-docker-1-11/

Cheers
Ale"

Amazon EC2	"SSH Write failed: Broken pipe. Was working previously
Dear Support Team,
this is the third time I'm addressing you, I really need help to access my instance. 
First ticket here: https://forums.aws.amazon.com/thread.jspa?messageID=723783#723783
Second here: https://forums.aws.amazon.com/thread.jspa?messageID=723913#723913

I can't ssh to my instance ( i-01b896b08d6d927d9 ) 

I'm using the Mac OS Terminal on Mac OSX 10.10.5
The error that I get is: Write failed: Broken pipe (will paste the full log below)
last week I've connected to it many times from the same computer and it was working fine, since 4 days ago I get this error but no changes were applied neither to the instance nor my computer. I can connect to the other instances from my account with no problems.


The log generated by ssh -vvv -i ""rep.pem"" ubuntu@ec2-52-19-56-4.eu-west-1.compute.amazonaws.com
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/devmachine/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-19-56-4.eu-west-1.compute.amazonaws.com http://52.19.56.4 port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""rep.pem"" as a RSA1 public key
debug1: identity file rep.pem type -1
debug1: identity file rep.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.7 pat OpenSSH*
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host ""ec2-52-19-56-4.eu-west-1.compute.amazonaws.com"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:41
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa,ssh-dss-cert-v01@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: kex_parse_kexinit: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ssh-ed25519
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 118/256
debug2: bits set: 530/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA c1:9c:62:1c:a2:62:5f:d5:8c:03:e2:57:0c:91:d7:5b
debug3: load_hostkeys: loading entries for host ""ec2-52-19-56-4.eu-west-1.compute.amazonaws.com"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:41
debug3: load_hostkeys: loaded 1 keys
debug3: load_hostkeys: loading entries for host ""52.19.56.4"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:40
debug3: load_hostkeys: loaded 1 keys
debug1: Host 'ec2-52-19-56-4.eu-west-1.compute.amazonaws.com' is known and matches the RSA host key.
debug1: Found key in /Users/devmachine/.ssh/known_hosts:41
debug2: bits set: 530/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /Users/devmachine/.ssh/id_rsa (0x7f8599700150),
debug2: key: rep.pem (0x0), explicit
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/devmachine/.ssh/id_rsa
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug1: Trying private key: rep.pem
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey: RSA 30:51:a7:64:08:1e:a0:34:5c:fd:d8:1c:49:c2:ea:06
debug2: we sent a publickey packet, wait for reply
debug1: Authentication succeeded (publickey).
Authenticated to ec2-52-19-56-4.eu-west-1.compute.amazonaws.com (http://52.19.56.4:22).
debug1: channel 0: new client-session
debug3: ssh_session2_open: channel_new: 0
debug2: channel 0: send open
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
Write failed: Broken pipe

Thanks
Best regards"

Amazon EC2	"Re: SSH Write failed: Broken pipe. Was working previously
Hello,
Looking at the instance and at its underlying hardware I don't find any issue so far; instance is UP&Running with Status Check OK 2/2 and OS available and it's responding to SSH requests.

Below my recommendations:
1) for security reasons do NOT leave the Security Groups open to the world, especially for administrative protocols like SSH; please narrow down the access to few trusted IPs. Try to reboot or stop/start the instance using AWS console and reconnect.
2) try to modify these parameters at OS level:
add:
ServerAliveInterval 120
TCPKeepAlive no
to this file:
~/.ssh/config
Or, if you want it to be a global change in the SSH client, to this file
/private/etc/ssh_config

These parameters can be changed both at client and server side in case of need.

Hope this helps
Kind Regards
Ale"

Amazon EC2	"How do I host a static website from EC2?
I have a  simple website which consists of two html files and javascript file. I want to host it on my EC2 server. I know how to use my EC2 server to run a website with expressjs but not a simple static website. The reason I don't want to use S3 is because it costs money."

Amazon EC2	"How to install phpMyadmin tool?
HelloI have successfully installed PHP MYSQL on my new instance. I want a PhpMyadmin tool to manage my databases. How can I do that please guide me?Regards"

Amazon EC2	"Re: How to install phpMyadmin tool?
SSH to your instance,
type sudo apt-get install phpmyadmin
Follow the prompts."

Amazon EC2	"High CPU problem on EC2 (c3.large instance)
We have a c3.large Amazon EC2 instance (Internshala Server A) which primarily runs a PHP Codeigniter application. This is attached to a load-balancer and auto-scales when latency increases. We don't have any cronjobs or other high-computational programs running on this server. The real-time traffic on the application is generally around 150-200 users. The problem is, quite often, the CPU of the server (as seen using htop) spikes to 100% and the load average increases to 15-20s for extended periods of time. This causes latency in the ELB and the second server to come on. We believe the CPU utilization is unusually high for these many users. Could you tell us how we could go about debugging this problem? Any help would be appreciated.

Please find attached image of Cloud Watch CPU utilization metric of first server.

Please let us know if you require any more information. Thanks in advance."

Amazon EC2	"Re: High CPU problem on EC2 (c3.large instance)
We have small instance, which we are using it as webserver and application server and usage is around 40-50 users at the time. But every day atleast 3-4 times CPU utilization reaches to around 100% for few minutes and that is the time it becomes unresponsive and our web application does not open at that time. Can you please what is the issue and how to fix it?"

Amazon EC2	"Error stopping instances - This request has been administratively disabled.
Hi All,

Error stopping instances - This request has been administratively disabled.

I am facing the error above stopping an EC2 instance by cloudwatch ec2 action or by manually. Suddenly we can't stop the instance any more.

I have been using the same IAM user for a long time and nobody changed any privilege setting and there have been no issue at all manually stopping instances. It just suddenly complaints. 

Please advise where to look at and whom in aws to contact regarding the up-time we didn't intend.

Thanks,"

Amazon EC2	"Re: Error stopping instances - This request has been administratively disabled.
Hello,

I'm sorry to hear about the issue you're experiencing. Can you please provide some example instance Ids (i-XXXXX...) so we can investigate this issue further?

Kind regards,
Chris"

Amazon EC2	"Instance stuck stopping
i-4bfac6cc been stuck stopping for 15 minutes now. Any way to force stop it so I can reboot it?"

Amazon EC2	"Re: Instance stuck stopping
Hello,

Thank you for the post.

I took a look at your instance: i-4bfac6cc and found that it is in 'Running' state at this point. However, there was an issue with the underlying host computer on 2016-06-02 at 19:33 UTC/GMT, this was the reason when you performed a stop operation, the instance stuck in stopping state.

For more information about 'Troubleshooting Stopping Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

I hope the above information helps.

Regards, 
Nikhil"

Amazon EC2	"Trouble connecting to EC2 with RD Client (iOS)
Anyone have a reference on how to set this up?  I have my public and private IP address for the instance, but I can't find my username/password for this instance."

Amazon EC2	"Instance reachability check failed
I received the following email last week:

EC2 has detected degradation of the underlying hardware hosting your Amazon EC2 instance (instance-ID: i-6a24674b) in the us-east-1 region. Due to this degradation, your instance could already be unreachable. After 2016-06-13 02:00 UTC your instance, which has an EBS volume as the root device, will be stopped.

I stopped the Instance, created a new AMI from it and create a new instance (instance-ID: i-92bb2c08) . However, in the new instance after 12-18 hours, I continue to get 'Instance reachability check failed' and I have to stop and start the instance again.

System log below:

Xen Minimal OS!
  start_info: 0x112e000(VA)
    nr_pages: 0xf0000
  shared_inf: 0x7d8e2000(MA)
     pt_base: 0x1131000(VA)
nr_pt_frames: 0xd
    mfn_list: 0x9ae000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x96d840-0x98d840
MM: Init
      _text: 0x0(VA)
     _etext: 0x7dc7d(VA)
   _erodata: 0x9a000(VA)
     _edata: 0x9fce0(VA)
stack start: 0x96d840(VA)
       _end: 0x9ade40(VA)
  start_pfn: 1141
    max_pfn: f0000
Mapping memory range 0x1400000 - 0xf0000000
setting 0x0-0x9a000 readonly
skipped 0x1000
MM: Initialise page allocator for 18ba000(18ba000)-f0000000(f0000000)
MM: done
Demand map pfns at f0001000-20f0001000.
Heap resides at 20f0002000-40f0002000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0xf0001000.
Initialising scheduler
Thread ""Idle"": pointer: 0x20f0002050, stack: 0x2070000
Thread ""xenstore"": pointer: 0x20f0002800, stack: 0x2080000
xenbus initialised on irq 1 mfn 0x14e1816
Thread ""shutdown"": pointer: 0x20f0002fb0, stack: 0x2090000
Dummy main: start_info=0x98d940
Thread ""main"": pointer: 0x20f0003760, stack: 0x20a0000
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********






































backend at /local/domain/0/backend/vbd/3304/2049
16777216 sectors of 512 bytes
**************************
vbd 2128 is hd1





































BLKFRONT for device/vbd/2128 **********






































backend at /local/domain/0/backend/vbd/3304/2128
83886080 sectors of 512 bytes
**************************

Press `ESC' to enter the menu... 0   [H[J  Booting 'Amazon Linux 2016.03 (4.4.10-22.54.amzn1.x86_64)'


root (hd0)

 Filesystem type is ext2fs, using whole disk

kernel /boot/vmlinuz-4.4.10-22.54.amzn1.x86_64 root=LABEL=/ console=hvc0 LANG=e

n_US.UTF-8 KEYTABLE=us

initrd /boot/initramfs-4.4.10-22.54.amzn1.x86_64.img


============= Init TPM Front ================
Tpmfront:Error Unable to read device/vtpm/0/backend-id during tpmfront initialization! error = ENOENT
Tpmfront:Info Shutting down tpmfront
close blk: backend=/local/domain/0/backend/vbd/3304/2049 node=device/vbd/2049
close blk: backend=/local/domain/0/backend/vbd/3304/2128 node=device/vbd/2128
http://    0.000000 x86/PAT: Configuration 0-7: WB  WT  UC- UC  WC  WP  UC  UC  
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 4.4.10-22.54.amzn1.x86_64 (mockbuild@gobi-build-60007) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Tue May 17 22:45:04 UTC 2016
http://    0.000000 Command line: root=LABEL=/ console=hvc0 LANG=en_US.UTF-8 KEYTABLE=us
http://    0.000000 x86/fpu: Legacy x87 FPU detected.
http://    0.000000 x86/fpu: Using 'lazy' FPU context switches.
http://    0.000000 ACPI in unprivileged domain disabled
http://    0.000000 Released 0 page(s)
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 Xen: mem 0x0000000000000000-0x000000000009ffff usable
http://    0.000000 Xen: mem 0x00000000000a0000-0x00000000000fffff reserved
http://    0.000000 Xen: mem 0x0000000000100000-0x00000000f07fffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 DMI not present or invalid.
http://    0.000000 Hypervisor detected: Xen
http://    0.000000 e820: last_pfn = 0xf0800 max_arch_pfn = 0x400000000
http://    0.000000 MTRR: Disabled
http://    0.000000 RAMDISK: mem 0x01dd7000-0x040a5fff
http://    0.000000 NUMA turned off
http://    0.000000 Faking a node at mem 0x0000000000000000-0x00000000f07fffff
http://    0.000000 NODE_DATA(0) allocated mem 0xef883000-0xef8a4fff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x0000000000001000-0x0000000000ffffff
http://    0.000000   DMA32    mem 0x0000000001000000-0x00000000f07fffff
http://    0.000000   Normal   empty
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x0000000000001000-0x000000000009ffff
http://    0.000000   node   0: mem 0x0000000000100000-0x00000000f07fffff
http://    0.000000 Initmem setup node 0 mem 0x0000000000001000-0x00000000f07fffff
http://    0.000000 p2m virtual area at ffffc90000000000, size is 800000
http://    0.000000 Remapped 0 page(s)
http://    0.000000 smpboot: Allowing 1 CPUs, 0 hotplug CPUs
http://    0.000000 e820: mem 0xf0800000-0xffffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen
http://    0.000000 Xen version: 4.2.amazon (preserve-AD)
http://    0.000000 clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
http://    0.000000 setup_percpu: NR_CPUS:128 nr_cpumask_bits:128 nr_cpu_ids:1 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 32 pages/cpu @ffff8800eb000000 s91416 r8192 d31464 u2097152
http://    0.000000 PV qspinlock hash table entries: 256 (order: 0, 4096 bytes)
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 969578
http://    0.000000 Policy zone: DMA32
http://    0.000000 Kernel command line: root=LABEL=/ console=hvc0 LANG=en_US.UTF-8 KEYTABLE=us
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 Memory: 3802412K/3939964K available (4999K kernel code, 983K rwdata, 2432K rodata, 1188K init, 1580K bss, 137552K reserved, 0K cma-reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	Build-time adjustment of leaf fanout to 64.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=128 to nr_cpu_ids=1.
http://    0.000000 RCU: Adjusting geometry for rcu_fanout_leaf=64, nr_cpu_ids=1
http://    0.000000 Using NULL legacy PIC
http://    0.000000 NR_IRQS:8448 nr_irqs:32 0
http://    0.000000 xen:events: Using 2-level ABI
http://    0.000000 Console: colour dummy device 80x25
http://    0.000000 console tty0 enabled
http://    0.000000 console hvc0 enabled
http://    0.000000 clocksource: xen: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
http://    0.000000 installing Xen timer for CPU 0
http://    0.000000 tsc: Detected 2500.068 MHz processor
http://    0.004000 Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.13 BogoMIPS (lpj=10000272)
http://    0.004000 pid_max: default: 32768 minimum: 301
http://    0.004000 Security Framework initialized
http://    0.004000 Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://    0.004000 Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
http://    0.004000 Mount-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.004000 Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.004000 Initializing cgroup subsys io
http://    0.004000 Initializing cgroup subsys memory
http://    0.004000 Initializing cgroup subsys devices
http://    0.004000 Initializing cgroup subsys freezer
http://    0.004000 Initializing cgroup subsys net_cls
http://    0.004000 Initializing cgroup subsys perf_event
http://    0.004000 Initializing cgroup subsys net_prio
http://    0.004000 Initializing cgroup subsys hugetlb
http://    0.004000 Initializing cgroup subsys pids
http://    0.004000 ENERGY_PERF_BIAS: Set to 'normal', was 'performance'
http://    0.004000 ENERGY_PERF_BIAS: View and update with x86_energy_perf_policy(8)
http://    0.004000 CPU: Physical Processor ID: 1
http://    0.004000 CPU: Processor Core ID: 0
http://    0.004000 Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
http://    0.004000 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
http://    0.026167 Freeing SMP alternatives memory: 20K (ffffffff81c20000 - ffffffff81c25000)
http://    0.029545 ftrace: allocating 20550 entries in 81 pages
http://    0.036074 cpu 0 spinlock event irq 1
http://    0.036082 Could not initialize VPMU for cpu 0, error -38
http://    0.036123 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.036302 x86: Booted up 1 node, 1 CPUs
http://    0.036380 devtmpfs: initialized
http://    0.038456 clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
http://    0.038638 NET: Registered protocol family 16
http://    0.038652 xen:grant_table: Grant tables using version 1 layout
http://    0.038662 Grant table initialized
http://    0.038979 PCI: setting up Xen PCI frontend stub
http://    0.041365 ACPI: Interpreter disabled.
http://    0.041380 xen:balloon: Initialising balloon driver
http://    0.041493 vgaarb: loaded
http://    0.041493 dmi: Firmware registration failed.
http://    0.041493 PCI: System does not support PCI
http://    0.041493 PCI: System does not support PCI
http://    0.041493 NetLabel: Initializing
http://    0.041493 NetLabel:  domain hash size = 128
http://    0.041493 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.041493 NetLabel:  unlabeled traffic allowed by default
http://    0.041493 clocksource: Switched to clocksource xen
http://    0.044796 pnp: PnP ACPI: disabled
http://    0.046821 NET: Registered protocol family 2
http://    0.046949 TCP established hash table entries: 32768 (order: 6, 262144 bytes)
http://    0.047044 TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
http://    0.047107 TCP: Hash tables configured (established 32768 bind 32768)
http://    0.047260 UDP hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.047281 UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
http://    0.047327 NET: Registered protocol family 1
http://    0.047375 Unpacking initramfs...
http://    0.077022 Freeing initrd memory: 35644K (ffff880001dd7000 - ffff8800040a6000)
http://    0.077090 RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
http://    0.077096 hw unit of domain pp0-core 2^-16 Joules
http://    0.077099 hw unit of domain package 2^-16 Joules
http://    0.077103 hw unit of domain dram 2^-16 Joules
http://    0.077507 futex hash table entries: 256 (order: 2, 16384 bytes)
http://    0.077533 audit: initializing netlink subsys (disabled)
http://    0.077554 audit: type=2000 audit(1464703275.131:1): initialized
http://    0.077750 Initialise system trusted keyring
http://    0.079778 VFS: Disk quotas dquot_6.6.0
http://    0.079806 VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.079830 hugetlbfs: disabling because there are no supported hugepage sizes
http://    0.080531 Key type asymmetric registered
http://    0.080538 Asymmetric key parser 'x509' registered
http://    0.080571 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
http://    0.188720 io scheduler noop registered (default)
http://    0.188745 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.189107 Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
http://    0.189451 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.190302 i8042: PNP: No PS/2 controller found. Probing ports directly.
http://    1.312406 i8042: No controller found
http://    1.312478 hidraw: raw HID events driver (C) Jiri Kosina
http://    1.312633 clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x240979fcf3e, max_idle_ns: 440795260637 ns
http://    1.313674 NET: Registered protocol family 17
http://    1.313689 mce: Unable to init device /dev/mcelog (rc: -5)
http://    1.313918 registered taskstats version 1
http://    1.313935 Loading compiled-in X.509 certificates
http://    1.314681 Loaded X.509 cert 'Build time autogenerated kernel key: 6a695c2cec8cfbb74b0fdea4d60f803ad6d95aa8'
http://    1.316474 zswap: default zpool zbud not available
http://    1.316480 zswap: pool creation failed
http://    1.350756 blkfront: xvda1: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.356935 blkfront: xvdf: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.359218  xvdf: xvdf1
http://    1.416665 Freeing unused kernel memory: 1188K (ffffffff81af7000 - ffffffff81c20000)
http://    1.416674 Write protecting the kernel read-only data: 10240k
http://    1.419348 Freeing unused kernel memory: 1132K (ffff8800014e5000 - ffff880001600000)
http://    1.420105 Freeing unused kernel memory: 1664K (ffff880001860000 - ffff880001a00000)
http://    1.485062 dm_mod: module verification failed: signature and/or required key missing - tainting kernel
http://    1.485966 device-mapper: uevent: version 1.0.3
http://    1.486062 device-mapper: ioctl: 4.34.0-ioctl (2015-10-28) initialised: dm-devel@redhat.com
http://    1.507385 udevd430: starting version 173
http://    1.559854 SSE version of gcm_enc/dec engaged.
http://    2.443925 EXT4-fs (xvda1): INFO: recovery required on readonly filesystem
http://    2.443936 EXT4-fs (xvda1): write access will be enabled during recovery
http://    2.553343 EXT4-fs (xvda1): orphan cleanup on readonly fs
http://    2.553390 EXT4-fs (xvda1): 5 orphan inodes deleted
http://    2.553395 EXT4-fs (xvda1): recovery complete
http://    2.557990 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    2.580373 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    2.588809 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    2.601142 dracut: Mounted root filesystem /dev/xvda1
http://    2.647733 dracut: Loading SELinux policy
http://    2.731173 dracut: /sbin/load_policy: Can't load policy: No such device
/pre-pivot/50selinux-loadpolicy.sh: 64: cannot create /sysroot/selinux/enforce: Read-only file system
http://    2.766090 dracut: Switching root
http://    2.849683 random: init urandom read with 96 bits of entropy available
		Welcome to Amazon Linux AMI
Starting udev: http://    3.131487 udevd1008: starting version 173
  OK  

Setting hostname localhost.localdomain:    OK  

http://    3.403518 random: nonblocking pool is initialized
Setting up Logical Volume Management:   OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 74597/524288 files, 774777/2097152 blocks
[/sbin/fsck.ext3 (1) -- /vol] fsck.ext3 -a /dev/xvdf1 
/dev/xvdf1: recovering journal
/dev/xvdf1: clean, 9563/2621440 files, 3686243/10484412 blocks
  OK  

Remounting root filesystem in read-write mode:  http://    4.130357 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:  http://    4.174833 EXT4-fs (xvdf1): mounting ext3 file system using the ext4 subsystem
http://    4.179375 EXT4-fs (xvdf1): mounted filesystem with ordered data mode. Opts: (null)
  OK  

Enabling /etc/fstab swaps:    OK  

Entering non-interactive startup
http://    4.681356 NET: Registered protocol family 10
Bringing up loopback interface:    OK  

Bringing up interface eth0:  
Determining IP information for eth0...http://    7.030779 netlink: 12 bytes leftover after parsing attributes in process `ip'.
 done.
  OK  

Starting auditd: http://    9.655543 audit: type=1305 audit(1464703284.707:2): audit_pid=1522 old=0 auid=4294967295 ses=4294967295 res=1
  OK  

Starting system logger:   OK  

Starting irqbalance:   OK  

Starting system message bus:   OK  

Mounting filesystems:    OK  

Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Tue, 31 May 2016 14:01:25 +0000. Up 10.70 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Tue, 31 May 2016 14:01:26 +0000. Up 11.20 seconds.
ci-info: +++++++++++++++++++++++++Net device info+++++++++++++++++++++++++
ci-info:  Device   Up      Address           Mask           Hw-Address    
ci-info:    lo    True    127.0.0.1       255.0.0.0             .         
ci-info:   eth0   True  10.231.80.152  255.255.255.192  22:00:0b:d0:8f:02 
ci-info: ++++++++++++++++++++++++++++++++Route info++++++++++++++++++++++++++++++++
ci-info:  Route    Destination       Gateway         Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      10.231.80.129      0.0.0.0         eth0      UG  
ci-info:    1     10.231.80.128      0.0.0.0     255.255.255.192     eth0      U   
ci-info:    2    169.254.169.254     0.0.0.0     255.255.255.255     eth0      UH  
May 31 07:01:26 cloud-init1624: cc_migrator.pyWARNING: Migrated semaphore consume_userdata.always to consume-data with frequency always
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Tue, 31 May 2016 14:01:27 +0000. Up 12.35 seconds.
Starting sshd:   OK  

ntpdate: Synchronizing with time server:   OK  

Starting ntpd:   OK  

Starting S64mysqld:    OK  

Starting sendmail:   OK  

Starting sm-client:   OK  

Starting httpd:   OK  

Starting crond:   OK  

Starting atd:   OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Tue, 31 May 2016 14:01:36 +0000. Up 20.63 seconds.
Cloud-init v. 0.7.6 finished at Tue, 31 May 2016 14:01:36 +0000. Datasource DataSourceEc2.  Up 20.85 seconds
[r[H[J

Amazon Linux AMI release 2016.03
Kernel 4.4.10-22.54.amzn1.x86_64 on an x86_64

ip-10-231-80-152 login:"

Amazon EC2	"Re: Instance reachability check failed
I can't keep this instance up - within 1 to 12 hours, it becomes unreachable again and nothing in any of the logs points to any issues.

I can't keep babysitting this to stop and start again.

Help please!"

Amazon EC2	"Re: Instance reachability check failed
I'm not a AWS staff, but until they fix it I'd create a CloudWatch alarm which will reboot the instance if it isn't available."

Amazon EC2	"ELastic Load Balancer ( redirect port80 and port 443 to port 3000 )
I am running NodeJS app on EC2 instance on port 3000 without having any apache or nginx. I have setup ELB at front with SSL enabled( ACM on ELB ). Now I want to open my web-app url with https always.I have redirected port 443 request to port 3000 which is open on https. Same I want to do with port 80 request to go with 443 and then finally end up to port 3000, Because if someone request with port 80 for the web-app url that should also redirect to https and then end up on port 3000.

So Can you tell me How can I implement on ELB this thing for port 80 request which also open with https. My port 3000 is on http on EC2 instance.

port 443 https ----> port (3000) http ( its working )

port 80 (http) ---->want to open with https(443 ) ----->port(3000 ) http  (this I want to implement)"

Amazon EC2	"Re: ELastic Load Balancer ( redirect port80 and port 443 to port 3000 )
AFAIK you cannot do it with LB but CloudFront only. Then CF will redirect requests http-to-https without sending to an instance.

 As an alternative, put a small perl/shell/php/etc script on port 80 which will respond with redirect"

Amazon EC2	"httpd start failed
Having installed an SSL certificate, starting httpd fails while rebooting.
Without any helpful error message, just ""failed"".

From a similar thread I found the advice to enter:
chkconfig --list |grep httpd
The output was:
httpd           0:off   1:off   2:on    3:on    4:on    5:on    6:off
I was not sure if this means it's on or off, so I tried the following as suggeseted in the thread:
sudo chkconfig httpd on

Nothing changed, unfortunately. The output of chkconfig staid the same, and starting httpd still failed.

Does anyone have a hint where to look for?
Thanks!

Edited by: flokoloco on Jun 1, 2016 9:32 AM"

Amazon EC2	"Re: httpd start failed
Try:

check apache logs
check system logs
remove all from /etc/httpd/conf.d, try to restart. If ok then add file-by-file until crashes, then check that file
if you put virtual hosts in the main config - remove from there, out each virtual host into a separate config"

Amazon EC2	"Mindterm: ""Connection timed out.  No further information""
I am trying to work through this tutorial.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html
My EC2 console is running on Firefox on Windows 7.  For java, I am using jre-8u91-windows-i586-iftw

I am able to launch an instance but when I start the instance, click Connect, select 
""A Java SSH Client directly from my browser (Java required)""
enter my key search path and click
""Launch SSH Client""
MindTerm starts up but gives the error message
""Error connecting to 10.0.0.45.  -> Connection timed out:  No further information""

I went though the steps here http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
 and all the setting appear to be correct.

I tried connecting with Putty using 
ec2-user@10.0.0.45 
as the host name and selecting my ppk key but get the message
Network error: Connection timed out

EDIT:

I set up CygWin and ran the following.

 ping 10.0.0.45

This resulted in

Pinging 10.0.0.45 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 10.0.0.45:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),

So there must be a problem with that IP address although  the https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Instances:sort=desc:dnsName
page gives 

Private IP: 10.0.0.45

The public IP, and public DNS fields are blank.

Edited by: otagoharbour on May 29, 2016 4:34 AM"

Amazon EC2	"Re: Mindterm: ""Connection timed out.  No further information""
10.0.0.45 is in the private subnet and cannot be connected from outside. Use public ip instead.
If public IP is blank then assign an elastic IP to the instance.

Also, make sure the instance is in public-accessible subnet.

Edited by: pputnik_ on May 29, 2016 9:31 AM"

Amazon EC2	"Re: Mindterm: ""Connection timed out.  No further information""
Thanks very much!  I allocated, and associated, an elastic IP address as described here.

http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/getting-started-assign-eip.html

I was able to SSH to a new linux instance, from cygwin, using

ssh -i ""/cygdrive/c/AWS/keys/key.pem"" ec2-user@elastic IP address

It appeared to act perfectly as a linux shell.

It also works perfectly with Putty.

However, when I went to this page,  https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Instances:sort=desc:dnsName ,
clicked 
Connect
chose
    A Java SSH Client directly from my browser (Java required)
and then clicked 
Launch SSH Client
I got a MindTerm window with the following
MindTerm home: C:\Users\peter\Application Data\MindTerm\
SSH Server/Alias: ec2-23-20-234-223.compute-1.amazonaws.com
Connected to server running SSH-2.0-OpenSSH_6.6.1

Server's hostkey (ssh-rsa) fingerprint:
openssh md5:  0f:3d:11:80:cd:8c:36:etc
bubblebabble: xusig-tikuh-vivif-etc

and then a dialog box that said

I/O Error - read failed: Unknown error

Thanks,
OH

EDIT:  OK.  I figured out the residual problem.  I was supposed to include the name of the key file in the search path.  So the search path should have been C:\AWS\keys\keyName.pem, not just C:\AWS\keys\

Thanks again,
OH

Edited by: otagoharbour on May 29, 2016 3:11 PM"

Amazon EC2	"Re: Mindterm: ""Connection timed out.  No further information""
If no public IP address, create an elastic IP address and use it as the destination address for connecting.
The key search path must include the key file name."

Amazon EC2	"Re: Mindterm: ""Connection timed out.  No further information""
Glad to know it helped. Please don't forget to mark the reply as 'correct'"

Amazon EC2	"Cost of increasing max number of instances
Hi,

We want to run 360 instances (G2 or C3) to do some image processing computations. We do not want to use these instances continuously, rather for short periods in parallel. Looking at the cost and the instance limits, it appears to be unfeasible.  

Has anyone on the forum run more than 20 instances for short bursts of computations? If so, was the approach feasible? What was the approximate cost of adding a new instance - I've already tried contacting AWS support, but they said that they will let me know when I get there - which doesn't help me decide.

Thanks in advance!
Pallavi."

Amazon EC2	"Cannot install emacs on ubuntu instance
After creating an ubuntu instance, I log in and want to install Emacs. I tried ""sudo apt-get install emacs"" and get output that looks like this:

After this operation, 192 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Err http://us-west-2.ec2.archive.ubuntu.com/ubuntu/ trusty-updates/main libtiff5 amd64 4.0.3-7ubuntu0.1
  404  Not Found [IP: 52.12.240.158 80]
Err http://us-west-2.ec2.archive.ubuntu.com/ubuntu/ trusty-updates/main libgudev-1.0-0 amd64 1:204-5ubuntu20.10
  404  Not Found [IP: 52.12.240.158 80]
Err http://security.ubuntu.com/ubuntu/ trusty-security/main libtiff5 amd64 4.0.3-7ubuntu0.1
  404  Not Found [IP: 91.189.91.15 80]
E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/t/tiff/libtiff5_4.0.3-7ubuntu0.1_amd64.deb  404  Not Found [IP: 91.189.91.15 80]

Any idea what I'm missing here? I get similar outcome with ""sudo apt-get install build-essential"".

Edited by: Jennifer Richler on Jun 18, 2015 10:23 AM"

Amazon EC2	"Re: Cannot install emacs on ubuntu instance
Hi,

I see a stopped instance on your account -- is this the one that is having issues installing emacs? If so, could you please start it so we can investigate the issue?

Also, please make sure your VPC is setup correctly by referring to these directions: http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html

Regards,

Scott"

Amazon EC2	"Re: Cannot install emacs on ubuntu instance
It seems that the problem is still persisted. 

Here is the Error message:
E: Failed to fetch http://us-west-2.ec2.archive.ubuntu.com/ubuntu/pool/main/g/gcc-4.8/libgomp1_4.8.4-2ubuntu1~14.04_amd64.deb  404  Not Found [IP: 52.12.240.158 80]

And the problem is the naming is different.  Whom I should contact to fix it, Ubuntu or AWS side?

Thanks,"

Amazon EC2	"Re: Cannot install emacs on ubuntu instance
Hello, 

If you could provide the instance ID of the instance you're having issues with, and leave it running, we could better verify the AWS elements. 

If you look at this instance again, are you able to get any internet connectivity at all? Reviewing the document Scott linked would help you verify your VPC is properly configured as well. 

Regards,
Nick"

Amazon EC2	"Re: Cannot install emacs on ubuntu instance
Can you install emacs on Centos or other OS System?
Once i had a similar problem like you, turned out it was related to Unavailable Address Link.
After a few days i was able to install it."

Amazon EC2	"Re: Cannot install emacs on ubuntu instance
Try running ""sudo apt-get update"" first. I was running into the same issue (couldn't apt-get emacs, g++, etc. because was getting a 404), this fixed it."

Amazon EC2	"Network connectivity issues
Sometimes we are seeing delays and timeouts when connecting to remote hosts from EC2 instance. MTR shows big delays on host 54.239.108.196:
                            My traceroute  [v0.85]
proxy-3-staging-soa (0.0.0.0)                         Thu Jun  2 14:09:07 2016
Keys:  Help   Display mode   Restart statistics   Order of fields   quit
                                      Packets               Pings
 Host                               Loss%   Snt   Last   Avg  Best  Wrst StDev
 1. ???
 2. ???
 3. ???
 4. ???
 5. ???
 6. 100.65.10.97                     0.0%   772    1.5   1.6   0.6  73.0   5.3
 7. 205.251.245.231                  0.0%   772    0.8   1.0   0.7  15.4   1.5
 8. 54.239.108.196                   6.6%   772   24.6 603.5   2.6 3270. 1088.
 9. 54.239.108.171                   0.0%   772    1.2   1.4   0.9  18.8   1.0
10. 72.21.221.109                    0.0%   772   14.3   3.4   0.8  75.9   9.4
11. dal1-ar1-ae21-0.us.twtelecom.ne  0.0%   772   36.8  39.8  36.6 103.6   9.2
12. 174-46-28-158.static.twtelecom.  0.0%   772   38.5  38.5  38.3  60.6   1.6
13. ???


MTR to its gateway shows delays on 54.239.108.60:
                             My traceroute  [v0.85]
proxy-3-staging-soa (0.0.0.0)                           Thu Jun  2 14:15:03 2016
Keys:  Help   Display mode   Restart statistics   Order of fields   quit
                                        Packets               Pings
 Host                                 Loss%   Snt   Last   Avg  Best  Wrst StDev
 1. ???
 2. ???
 3. ???
 4. ???
 5. ???
 6. 100.65.11.1                        0.0%    85    0.8   0.9   0.6  11.0   1.3
 7. 205.251.245.64                     0.0%    85    0.8   1.0   0.7   9.5   1.1
 8. 54.239.108.60                      1.2%    85   16.4 124.8   3.7 2156. 412.3
 9. 54.239.108.35                      0.0%    85    1.2   1.4   1.0   4.4   0.5
10. 72.21.221.109                      0.0%    85    0.9   8.6   0.8  64.6  11.6
11. dal1-ar1-ae21-0.us.twtelecom.net   0.0%    85   38.1  39.7  36.7  92.7   8.3
12. 74.123.133.1                       0.0%    85   39.0  39.1  38.8  50.2   1.2


These IPs are belong to Amazon.com, Inc.

Why does it occur and how can we get this issue resolved?"

Amazon EC2	"Releasing elastic IP
Hi,
I can't release an elastic IP and after short research I found out it's because of reverse DNS beeing set up.
Since I'm on the basic plan I can't create technical tasks so would you mind helping me on forums?
Allocation id: eipalloc-c8d425ad
Request ID: 37beb04f-0213-4907-bcbb-f4c4e7ac688b"

Amazon EC2	"Re: Releasing elastic IP
Hi,

The IP cannot be released because there is a reverse DNS record associated with it. Please confirm if we can go ahead and remove the rDNS record and also confirm the IP address that you want released.

Awaiting you response.

Regards,

Matombo T"

Amazon EC2	"Re: Releasing elastic IP
I confirm.
IP: 54.171.148.153"

Amazon EC2	"Re: Releasing elastic IP
Hello, 
We sucessfully reset the rDNS for 54.171.148.153. 

You should be able to release the EiP 54.171.148.153 now. 

Cheers
Javier C#"

Amazon EC2	"Re: Releasing elastic IP
Which I did. Thanks."

Amazon EC2	"Unable to connect with WinSCP after security updates ""Host is not communic""
After applying a security update (sudo yum update), I can no longer connect to one of my instances using WinSCP via SFTP protocol. I double checked that my security group still allows traffic from port 22 to pass, and also made sure I can SSH to my server. It's just SFTP is no longer working.

I am pretty sure the issue was introduced by my security updates because 1) right before the updates it works fine and 2) I have another server which shares the same security group with this instance but I can still connect to that server successfully.

Here is the log from WinSCP:

! 2016-05-26 16:07:57.373 Using username ""ec2-user"".
. 2016-05-26 16:07:58.385 Offered public key
. 2016-05-26 16:07:58.460 Offer of public key accepted
! 2016-05-26 16:07:58.460 Authenticating with public key ""imported-openssh-key""
. 2016-05-26 16:07:58.593 Sent public key signature
. 2016-05-26 16:07:58.670 Access granted
. 2016-05-26 16:07:58.670 Opening session as main channel
. 2016-05-26 16:07:58.746 Opened main channel
. 2016-05-26 16:07:58.938 Started a shell/command
. 2016-05-26 16:07:58.970 --------------------------------------------------------------------------
. 2016-05-26 16:07:58.970 Using SFTP protocol.
. 2016-05-26 16:07:58.970 Doing startup conversation with host.
. 2016-05-26 16:07:59.023 Type: SSH_FXP_INIT, Size: 5, Number: -1
. 2016-05-26 16:08:14.062 Waiting for data timed out, asking user what to do.
. 2016-05-26 16:08:14.062 Asking user:
. 2016-05-26 16:08:14.062 **Host is not communicating for 15 seconds.
. 2016-05-26 16:08:14.062
. 2016-05-26 16:08:14.062 Wait for another 15 seconds?** ()
. 2016-05-26 16:08:15.230 Attempt to close connection due to fatal exception:
* 2016-05-26 16:08:15.230 **Terminated by user.** 
======================================="

Amazon EC2	"Re: Unable to connect with WinSCP after security updates ""Host is not communic""
Can someone help me out please?"

Amazon EC2	"Re: Unable to connect with WinSCP after security updates ""Host is not communic""
Yesterday I tried to roll it back to the state before the security update and I can connect it with WinSCP again. So it's definitely the security update that caused this issue. Can someone please help me on this one?"

Amazon EC2	"Restoring an Amazon EBS Volume from a Snapshot
Restoring an Amazon EBS Volume from a Snapshot

I have two ec2 Instances (EC21001 and EC1002)
Both are configured as Web/App Server
In Instance EC21001 I’ve data volume, in which there are some application data placed.
I’ve created snapshot of EC21001 data volume
Using that snapshot created new data volume attached the new data volume to EC21002 instance.
All works fine, but I can see the data in newly created volume using snapshot.

Is there something I’m missing here."

Amazon EC2	"Re: Restoring an Amazon EBS Volume from a Snapshot
Hi,

When you create a volume from the snapshot, you are supposed to see the data contained in the snapshot. Thats what the snapshots are meant to be.

What exactly are you trying to achieve here? Could you elaborate your issue?

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Restoring an Amazon EBS Volume from a Snapshot
Hello Jayakrishnan, Thanks for your reply.
Yes, you’re right in saying that. But in my case I can’t see the data in a volume which I have created using snapshot.
Regards, Suresh"

Amazon EC2	"Re: Restoring an Amazon EBS Volume from a Snapshot
Hi,

Unfortunately we can't confirm what you are seeing from our end since we do not have visibility to the inside of your resources. However, like my colleague explained, when you create a snapshot of a volume, you are literally creating an exact copy of the volume and all it's contents. When you create a volume from that snapshot, the contents should be identical in every sense to the source volume at the time the snapshot was taken. Please take note of this ""the data is identical to the source volume at the point when the snapshot was taken"". Any other data written to the source volume after taking a snapshot would not show in the volume restored from the snapshot.

If the above is not the case, please make sure that you are selecting the correct snapshot when you create the volume. You may also compare the two volumes in terms of size, utilized and free disk space by running ""df -h"" in both instances.

I hope this helps.

Regards,

Matombo T"

Amazon EC2	"Re: Restoring an Amazon EBS Volume from a Snapshot
Thanks for your explanation and suggestion.

But based on my experiment I would found the following outcome, there are two instances Instance-1 and instance-2

First scenario - Failed

I’ve created snapshot for data volume of Instance-1 and using that snapshot I’ve created a new volume and attached/mounted the new volume to Instance-2. After mounting the new volume into instance-2 I can’t see the data in it.

Second scenario - Success

I’ve unmounted the data volume from Instance-1 and then I’ve created snapshot for data volume of Instance-1 and using that snapshot I’ve created a new volume and attached/mounted the new volume to Instance-2. After mounting the new volume into instance-2 I can see the data in it.
Is this the behavior snapshot or am I missing something

Thanks, Suresh"

Amazon EC2	"Linking Eclipse to EC2
Hi all,

first post.

I am creating this project in java on eclipse.

I am wondering if there is a way to sync my project with the ec2 instance I am running.

So when I compile or run the code the project gets uploaded and run in the EC2 server.

Best regards,

Edited by: cirsec on Jun 1, 2016 4:21 PM"

Amazon EC2	"Poor performance of Snapshot based Volumes
Hi,

Is anyone else experiencing increasingly poor performance from volumes created from snapshots in ap-southeast-2? I understand the lazy-load population of these volumes over time, or the trickle load that happens in the background, but my experience in the last few months has been that the load-on-read performance has dropped significantly. 

A few months back in ap-southeast-2 region we would get a paltry 2-7MB/s. However, today, for example, I'm witnessing an average of 500-700KB/s trying to read 10 TiB volumes backed by snapshots. This renders the volumes created in the way unusable for any significant workload that has a deadline that must be met within a week.

Am I misunderstanding something or are my observations the norm?

Regard,
Sean"

Amazon EC2	"Can we use an EC2 EBS (Elastic Block Storage) from the AWS CLI?
We know that we can create an EC2 EBS (Elastic Block Storage) from the AWS CLI.    The command-line command is ""aws ec2 create-volume ......"".   After being create, can we use this volume to store and process files from AWS CLI?    

For example, can we copy files into the newly created EBS volume and process them from AWS CLI?   If yes, how exactly?   I regularly copy files using the AWS S3 commands from the AWS CLI.  That works well.   However, now I would like to do rapid file processing in EBS to exploit its much faster file-io speed, but I can't see how to use it from the command line (AWS CLI)!"

Amazon EC2	"Re: Can we use an EC2 EBS (Elastic Block Storage) from the AWS CLI?
Hello,

Currently, there is no way to copy files to EBS from AWS CLI. AWS CLI only helps you control your resources.

So the only way to copy data in to an EBS would be via an instance.

Thanks,
Anup"

Amazon EC2	"Unable to delete volume
Here's my catch-22:


Volume is showing state as being in use, with no attachment information.
There are no instance in that selected datacenter (N. Virginia).
Contextual menu offers only Force Detach, Create Snapshot, Add/Edit Tag, Change Auto-enable IO settings.
Trying to Force Detach gives a critical error that the volume is in the available state.


tl/dr: 

Can't delete because it's in-use
Can't force detach because it's available"

Amazon EC2	"Re: Unable to delete volume
Hi,

It seems that volume thinks it is attached to an instance that no longer exists. I've raised the issue with the EBS team and they will investigate and we'll pass any information they find along to you.

Best Regards,
Omar S."

Amazon EC2	"Re: Unable to delete volume
Hi,

The EBS team has resolved the issue and they have let me know that you should be able to delete the volume now.

Best Regards,
Omar S."

Amazon EC2	"EC2 connectivity issues with instance on us-east-1b
Everything was running perfect for the last year, then yesterday/today out of the blue, one of our instances has become completely unusable and took the site down with it. Haven't made any changes or anything like that.

Restarting the server sometimes gets things working for a minute or two, then it dies again. SSHing doesn't really work either, takes forever to connect, and can't really do anything with it. 

Yet somehow status checks all show up as green. Any ideas if its an Amazon issue or something specific to this particular instance?"

Amazon EC2	"Re: EC2 connectivity issues with instance on us-east-1b
Hello, 

We don't have any reported outages or issues in us-east currently, but you can review current AWS status here:
http://status.aws.amazon.com/

If you provide us with the instance ID we'll be able to better investigate the current status of this EC2 instance. Taking a look at CPU utilization, network utilization, and system logs may help reveal a possible issue. 

Have you tried a stop/start of the instance at all? Otherwise if all else fails you want to move forward with recovery immediately, you should be able to detach the root volume (And/or any other volumes) and attach them to another instance for recovery or further troubleshooting. The following article details how to do this:
https://aws.amazon.com/articles/5213606968661598

Regards,
Nick"

Amazon EC2	"Re: EC2 connectivity issues with instance on us-east-1b
thanks, seems to be working now, I'll check back in case it goes down again"

Amazon EC2	"Re: EC2 connectivity issues with instance on us-east-1b
Thanks for confirming that the issue has been resolved. Do let us know if you see further issues.

Najah N"

Amazon EC2	"Re: EC2 connectivity issues with instance on us-east-1b
unfortunately, looks like it's happening again intermittently 

the instance id is i-06cf8b63"

Amazon EC2	"Re: EC2 connectivity issues with instance on us-east-1b
Hi,

I've taken a look at that instance and the Cloudwatch metrics for that instance and I see a great number of ""out of memory"" errors in your console output as well as the oom-killer repeatedly killing your php5-fpm application. I also see a few status check failures that coincide with your instance's CPU spiking. This leads me to believe that your instance either has a memory leak somewhere, or does not have enough resources to handle the load your site or application is receiving. I would suggest implementing Autoscaling with an Elastic Load Balancer, or increasing the size of the instance. 

Best Regards,
Omar S."

Amazon EC2	"Instance Restarted Itself
Recently one of my instances went away so I enabled Cloudtrail in my account.  Just a few hours ago another instance restarted itself.  Nothing is in the cloudtrail log that pertains to the instance going away so I would like to know what happened if possible.

Instance Id: i-0cb1f2b658adfcb08

Regards,
Nate"

Amazon EC2	"Re: Instance Restarted Itself
Hello Nate,
I have checked your instance and the underlying hardware supporting it to verify the cause of the unexpected restart.
Unfortunately the underlying hardware experienced a transient issue that caused your instance to restart, however the instance is up and running correctly now.
We apologize for the inconvenience.

This is also the reason why you cannot find any related event in Cloudtrail, as the unexpected restart was not generated by an API call.

Have a great day!

Andrea S."

Amazon EC2	"Unable to Host PHPFOX Website on AWS Amazon AMI
Hi All,

We are trying to host a PHP based website which was developed using PHPFOX Framework in Amazon AMI freetier. I have setup the Virtual host to point to the public folder and tried accessing the url.

I am encountering below error message. 

 AH01276: Cannot serve directory /var/www/html/public_html/: No matching DirectoryIndex (/var/www/html/public_html/index.php) found, and server-generated directory index forbidden by Options directive
Could you please help me in resolving this.

VHOST Entry:

<VirtualHost *:80>
DocumentRoot ""/var/www/html/public_html""
DirectoryIndex ""/var/www/html/public_html/index.php""
</VirtualHost>

Tried setting various options in Directory Tag but none of them are helpful.

Regards,
Vik"

Amazon EC2	"Re: Unable to Host PHPFOX Website on AWS Amazon AMI
Hello, 

Your DirectIndex looks to be improperly configured. It should look something like:

DirectoryIndex index.php index.html


You can read more on this configuration and how to properly use it here:
https://httpd.apache.org/docs/current/mod/mod_dir.html

After being configured properly you'll need to restart apache, you can read more on the exact error message here:
http://www.liquidweb.com/kb/apache-error-no-matching-directoryindex-index-html-found-solved/

Regards,
Nick"

Amazon EC2	"Re: Unable to Host PHPFOX Website on AWS Amazon AMI
Hi Nick,

Thanks for the help. That changes didn't resolve our issue. We have referred the documents provided and that too didn't help.

Client has developed this website using PHPFOX. Do we need to perform any extra steps to configure this website in AWS host?

Regards,
Vikram"

Amazon EC2	"Outbound connections failing sometimes
Hi, my instance i-a2da37bd is sometimes getting timeout when I call external URLs.
e.g.: sudo yum update
e.g.: mpm install
e.g.: curl https://mandrillapp.com

It always worked like a charm, but since last friday I'm sometimes getting this timeouts.
Is there a way to investigate the problem?
Thanks in advance."

Amazon EC2	"How to deal with 3.5 million packets?
Since yesterday I am getting 3.5 mpps for about 20 minutes every few hours.

Is this a DDoS attack? How do you guys deal with such issues?

I got a t2.large instance with normaly 50 kpps.

Instance ID: i-8616f13b"

Amazon EC2	"Are there network issues on Ireland eu-west-1b
I have 2 servers with intermittent connection and response time climbing to 15 secs from different parts of the world. The fact that the issues happen on both at the same time (and they are the only ones of this kind). suggests that its a network issue in AWS.

Anyone experiencing issues  in eu-west-1 ?

Can AWS check the status? sample server id is:
7b74e3b4-8d40-478b-ae7d-d0f96ea70ff5

Thanks"

Amazon EC2	"EC2 - Write failed: Broken pipe
Dear Support Team,
I can't ssh to my instance ( i-01b896b08d6d927d9 ) anymore. I was working last week and today it suddenly doesn't connect anymore. I tried the Java client but it gets stuck after asking the Server Alias.

Please let me know how to proceed. Thanks

Best regards"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hi,

I can see that the instance is responding on the SSH port.

What error are you getting while trying to access the instance? 
Can you try to do a reboot and try to access the instance again? 
Was there any recent changes to the instance?

You may use the below link for troubleshooting SSH Connectivity:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

Regards,
Jayakrishnan L.

Edited by: Jayakrishnan@aws on May 30, 2016 7:45 AM"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hi,

No recent changes were applied. Last time I connected was last Thursday and it was working perfectly. Then I needed to connect yesterday and I get the error. 
I tried to reboot but it does nothing, just keeps running. 
Here is the last part of the connection log

debug3: load_hostkeys: loading entries for host ""52.19.56.4"" from file ""/Users/devmachine/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /Users/devmachine/.ssh/known_hosts:40
debug3: load_hostkeys: loaded 1 keys
debug1: Host '52.19.56.4' is known and matches the RSA host key.
debug1: Found key in /Users/devmachine/.ssh/known_hosts:40
debug2: bits set: 486/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /Users/devmachine/.ssh/id_rsa (0x7f962ac166f0),
debug2: key: rep.pem (0x0), explicit
debug2: key: /Users/devmachine/.ssh/rep (0x7f962ad00160), explicit
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/devmachine/.ssh/id_rsa
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug1: Trying private key: rep.pem
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey: RSA 30:51:a7:64:08:1e:a0:34:5c:fd:d8:1c:49:c2:ea:06
debug2: we sent a publickey packet, wait for reply
debug1: Authentication succeeded (publickey).
Authenticated to 52.19.56.4 (http://52.19.56.4:22).
debug1: channel 0: new client-session
debug3: ssh_session2_open: channel_new: 0
debug2: channel 0: send open
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
Write failed: Broken pipe


Thanks
Regards"

Amazon EC2	"Re: EC2 - Write failed: Broken pipe
Hi, 
I have no way to access my server. Please let me know what can I do. I tried to stop and restart the instance but nothing changed. I tried the java ssh client but it doesn't work. I'm really stuck and I need to work on a website hosted on that server. Please help. 

Thanks

Best regards"

Amazon EC2	"Please Activate My AWS Account
Account ID: 159480887159
Kindly activate my AWS account. I created the account with the above ID but cannot access resources, there is a message indicating to contact support. Thanks for your speedy response as my client awaits to deploy an application on your cloud platform."

Amazon EC2	"Re: Please Activate My AWS Account
Hello 

If have requested that our Customer Support Team investigate the status of the account. We will update you as soon as we have a response from them. 

Regards
Conrad"

Amazon EC2	"Re: Please Activate My AWS Account
Hello jt0123, 

I trust you are well. 

I've taken a look at your account and I can see you've successfully added a payment method and that your account is active: you should now be able to sign up for all AWS Services.

To add services to your account click the link below:

https://aws-portal.amazon.com/gp/aws/developer/registration/index.html

Once you get an email confirming your services are active, the Getting Started guide may be useful:

http://docs.aws.amazon.com/gettingstarted/latest/awsgsg-intro/gsg-aws-intro.html

New accounts can avail of the Free Tier promotion for a year, which provides certain usage of AWS services for free. More information on the Free Tier can be found here:

http://aws.amazon.com/free/faqs/

Best regards. 

Jayd j,"

Amazon EC2	"EC2 instance is running but fails to connect using putty
Hi,
I had this instance up and running for almost a year now and today all of a sudden I am facing problem connecting using putty. But the instance shows it as ""Running"" in the instances window. My instance id is i-83161e4f.
Availability zone : ap-southeast-1a, server : Asia Pecific(Sigapore)
Issue since :   01/06/16 13:00 IST"

Amazon EC2	"cloud-config file not loaded and units not started on machine created from
We are working on a code that does the following using terraform (on AWS):

1. Creates a core-os instance (1) with the cloud-config yaml file we provided
2. Creates an AMI from that instance

The process works perfectly fine up till here.

When we launch an instance (2) from that AMI, through AWS console. The newly launched instance does not use the cloud-config file.

It (2) has services/systemd units that were created in the instance (1) through the cloud-config yaml file. But those services are dead. They work perfectly fine if we start them explicitly using `systemctl`

How do we make sure that ANY instance created from that AMI should have those services/systemd units started on startup or should load that cloud-config file? 

(We have that cloud-config yaml saved at a location inside the machine too, if we run the cloud-config file manually through `coreos-cloudinit --from-file=path/to/file/cloud-config.yaml`, everything works perfectly fine. But we want it to work at startup without any manual step)

Here is our cloud-config file
    #cloud-config
    coreos:
      etcd2:
        # generate a new token for each unique cluster from https://discovery.etcd.io/new?size=3
        # specify the initial size of your cluster with ?size=X
        discovery: https://discovery.etcd.io/2cb27f1fecb57e14837016e04547aa32
        # multi-region and multi-cloud deployments need to use $public_ipv4
        advertise-client-urls: http://0.0.0.0:2379,http://0.0.0.0:4001
        initial-advertise-peer-urls: http://127.0.0.1:2380
        # listen on both the official ports and the legacy ports
        # legacy ports can be omitted if your application doesn't depend on them
        listen-client-urls: http://0.0.0.0:2379,http://0.0.0.0:4001
        listen-peer-urls: http://0.0.0.0:2380,http://0.0.0.0:7001
      units:
        - name: etcd2.service
          command: start
        - name: fleet.service
          command: start
        - name: hello.service
          command: start
          content: |
            [Unit]
            Description=hello_docker
            After=docker.service
            Requires=docker.service
    
            [Service]
            TimeoutStartSec=0
            ExecStartPre=-/usr/bin/docker rm busybox1
            ExecStartPre=/usr/bin/docker pull busybox
            ExecStart=/usr/bin/docker run --rm --name busybox1 busybox /bin/sh -c ""while true; do echo Hello Docker; sleep 1; done""
            ExecStop=/usr/bin/docker stop busybox1"

Amazon EC2	"Traffic from Amazon IP to my EC2 instance
Hello

I have an EC2 instance behind CloudFlare and whilst utilising the flow log to ensure any traffic that isn't coming from CloudFlare is being blocked, I saw requests coming from an Amazon IP which is in the same subnet as my VPC public IP.

If I continue to block that IP, it makes the site unavailable.
Once I allow it through, it works.

Can anyone shed any light as to why these requests from Amazon are happening? The EC2 instance is a web server which depends on an RDS instance, but the RDS IP is not the Amazon IP that is repeatedly connecting to my EC2 instance, so I am not sure it's that.

Any ideas would be great!

Thanks
Brad

Edited by: bwyattdsg on Jun 1, 2016 2:46 AM"

Amazon EC2	"Announcing Node.js RPM packages for Amazon Linux
We are happy to announce the availability of Node.js RPM packages for Amazon Linux.

For more details, please see our blog post at,
https://lambda-linux.io/blog/2016/06/01/nodejs-support-for-amazon-linux/

Sincerely,
Lambda Linux Project Team"

Amazon EC2	"import-image stuck at 59%,  status message booting.
Please discard

Edited by: phoenixai on May 31, 2016 10:05 PM"

Amazon EC2	"Differences between TCP/SSL Protocol and HTTP/HTTPS Protocol
Hi Folks,

Recently I am trying to change HTTPS protocol to SSL protocol  to disable keep-alive for HTTP1.1 that is enabled by ELB by default. But I don't know what is exact differences between TCP/SSL Protocol and HTTP/HTTPS Protocol.  I found some docs from http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-listener-config.html
Using this configuration, you do not receive cookies for session stickiness or X-Forwarded headers.

But I think this is not all differences. I am wondering if there are any other differences as well?

Thanks,

Tony"

Amazon EC2	"Status Check is 1/2 for over 1 hour now
I was just expanding the HDD size for an existing VM on AWS. 

Created snapshot
Created a new volume using the snapshot that was larger by 50GB
Detached the original HDD
Attached the new HDD with same Device Name and Availiability zone
Started the VM instance (i-23aad89c)


It did the ""System Status Check"" without any issues. It is still waiting on the ""Instance Status Check"" (normally seems to take a little over 30 minutes to complete). When It still did not complete I tried the suggestion of rebooting the system and then waited over 30 minutes, now nearly 1 hour, and the ""Instance Status Check"" still has not completed. What can be done about this? Why does it take so long to complete this Status Check every time it is stopped and restarted? Why is there no Console that we can use to see how the system is actually running? So how can I get this system to pass the ""Instance Status Check"" so we can access the system?

Edited by: 949richard on May 31, 2016 5:11 PM"

Amazon EC2	"OpsWorks EC2 Instance stuck in stopping state
My instance i-064811c8 (HAProxy) shows as stopped in the EC2 management console but stopping in OpsWorks, and has been so now for a good 20 minutes. Am I right to assume it has bugged out?

Additionally I tried to then create a new instance but that hung as requested for a good 20 minutes - so I stopped it. Now that is stuck as stopping, too. I did think perhaps it was to do with the custom JSON I added (re: maxconn) but editing that in different ways and spawning a new instance failed to result in the starting of a new instance.

What's the crack? My OpsWorks stack now has 3 instances stuck in stopping and there's nothing I can do about them!"

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
AWS OpsWorks posted to the AWS Dashboard about this:

http://status.aws.amazon.com/

""We are investigating increased execution times for OpsWorks Stack operations including application deployments, configuration, and instance related operations""

I'll post an update here as soon as this event is over."

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
We can confirm OpsWorks execution times have returned to normal levels. We are recovering a small number of instances that were stuck in stopping or booting states."

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Roger that, thank you for the swift reply! I assume you guys are still working on resolving the stopping state problem, but if deemed fix mine are still showing as stopping."

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Hello,

Are you still experiencing issues? None of your Opsworks instances appear to be stuck in the stopping state at this time.

KInd regards,
Chris"

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
please help me, my instance i-4be134fa is stuck stopping"

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Hello Carlos,
I have engaged our internal Service Team to work on your issue in order to stop correctly your instance.
Hope to give you an update soon.

Regards
Ale"

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Hello Carlos,

The instance has stopped. Please let us know should you have any further issues in this regards.

Stanton."

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Please help with my instance that is stuck in the stopping state. The instance ID is i-f055da96"

Amazon EC2	"Re: OpsWorks EC2 Instance stuck in stopping state
Hello ardy8, 

It looks you were able to stop and eventually start that instance back up again, as I now show the instance you've listed is currently in the running state. 

If you are having further issues with this instance, please create a new forum post as opposed to replying to previous posts. 

Regards,
Nick"

Amazon EC2	"Unexpected reboot
Hello!

My instance i-9a68ef2f experienced reboot on May 265pm PST,
I didn't get any emails about it and couldn't find any related information,
Could you, please, help me figure out what could cause reboot and is there any way to get notified about it?

Thank you!"

Amazon EC2	"Re: Unexpected reboot
Hi,

Apologies for the unexpected reboot that might have inconvenienced your operation. I took a look at your instance. The instance rebooted due to an issue with an underlying host. The issue caused an instance to reboot at 2016-05-27 05:26 UTC.  Would you please confirm the time the instance rebooted. The issue has since been resolved.

Regards,

Souza S"

Amazon EC2	"Re: Unexpected reboot
Thank you, the time looks correct.

It would be great to get notified about instance problems such as unexpected reboots."

Amazon EC2	"Can't connect via ssh to an EC2 instance copied to another region
Hi everyone.
I've got a running ec2 instance in Frankfurt region and i use this instance as my application server.
Now i want to add another machine running in us region for us customers. I've created an AMI from the running EC2 instance. ( avoiding to restart as i can't take my instance down ) and copied the ami from frankfurt to Virginia.
After copy ends i create instance with that ami and when the creation process ends i try to connect via ssh but i get a port22: connection refused.
I've checked the security groups and i've enabled all inbound traffic. I've tried with all 3 us zones and i get the same result.
In my original ec2 instance i've got 3 ebs volumes ( one is root , one is /var/www , and one is data ) but when i create the ami image i add only root and /var/www, not adding /data because is 100 GB and i don't want to copy it trough regions. can this be the issue ? 
thanks to anyone that suggests anything to me"

Amazon EC2	"New EBS volumes very slow
I launched a new M3.large instance in US-East-1e from a fresh AMI created from an M1.large instance in US-East-1d. 

Both instances have 2 magnetic EBS volumes, but the US-East-1e is running at roughly 1/2 the speed of the EBS volumes attached to the old M1.large instance. These slower volumes cuase web page timeouts, and batch processes take 2-3 times longer than on the old instance.

This page states that I/O on an M3 instance should be better, does that only apply to the root device when it is an SSD?

http://aws.amazon.com/ec2/previous-generation/

Why is there such a large variation in EBS performance across instances? Is there an SLA for EBS disk performance?

How can I configure the new instance to have similar performance to the older instance type?

OLD INSTANCE:
root@ip-10-190-xx-xx ~#  hdparm -t /dev/sdf
 Timing buffered disk reads:  316 MB in  3.01 seconds = 104.95 MB/sec

NEW INSTANCE:
root@ip-10-33-xx-xx ~#  hdparm -t /dev/sdf
 Timing buffered disk reads:  218 MB in  3.20 seconds =  68.17 MB/sec"

Amazon EC2	"Re: New EBS volumes very slow
Hello,

IO performance can vary across EBS volumes depending upon factors such as first read/write penalties, volume type, and instance type. General Purpose SSD and PIOPS volumes will get the best performance. Magnetic volumes don't have a guaranteed level of IOPS that they can achieve and are generally much slower than GP SSD or PIOPS. On new EBS volumes, the first time data is read from a block of the volume, it may take longer since EBS volumes are sparsely allocated and instantiated from their snapshots on-demand. You can prewarm an EBS volume by reading every block of the volume once before using the volume for production.

You can read more about EBS volume performance in our documentation located here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSPerformance.html"

Amazon EC2	"Re: New EBS volumes very slow
David, docs say how I can prewarm a EBS volume on Linux: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-initialize.html

But how can I do it on Windows? When I copy data from a EBS volume to the ephemeral device first time, speed drops to 4 MB/sec. Copying same data second time reaches 100 MB/sec."

Amazon EC2	"Re: New EBS volumes very slow
Hello,

Please refer the below document for steps to prewarm an EBS volume from Windows instance.

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-initialize.html

Regards,
Jayakrishnan L."

Amazon EC2	"Odd behavior with cloud init, mounting ephemeral drives and c3/r3 instances
Hi, We have been using instances in the c3 family and create a swap file in /mnt, which appears to be automatically created via cloud init (HVM Ubuntu 14.04 based AMI). 

We are prototyping the r3 family and we found that the r3 family doesn't automount xvdb to /mnt. We modified /etc/cloud/cloud.cfg to mkfs.ext4 /dev/xvdb

bootcmd:
   - http:// cloud-init-per, once, fix_ephemeral_mounting, mkfs.ext4, /dev/xvdb 

Using this new AMI with the above changes to /etc/cloud/cloud.cfg results in performance degradation for both r3 AND c3 instances... Not sure what explains that but we'd like some feedback on whether our observations are correct (ephemeral drives are automounted for certain instance families) and also whether our approach is best practices.

Good AMI- ami-1907e674
""Bad"" AMI- ami-2630c04b

Edited by: DanMOTW on May 31, 2016 5:08 AM

Edited by: DanMOTW on May 31, 2016 5:08 AM

Edited by: DanMOTW on May 31, 2016 5:09 AM

Edited by: DanMOTW on May 31, 2016 5:10 AM"

Amazon EC2	"r3.large instance on eu-central-1a frequently stop responding
My instance i-4830c3f5 on Ubuntu 12.04 stops responding frequently, from 1.05.2016 there was 3 incidents, i can't find cause, there is nothing suspicious in system log, no overload, enough memory, everything seems to be ok, but still from unknown reasons there was Status Check Failed (Instance) and i can't connect to the instance, i can only restart the instance (force to stop) and then it comes back.

I would be grateful for any hints."

Amazon EC2	"Re: r3.large instance on eu-central-1a frequently stop responding
Hi,

I could see that the instance is failing its Instance level status checks and not System status checks which specifies the issues is at the OS level and not at the Infrastructure level. You mat read more about the status checks here.

I can also see that you are using old version of Enhanced Networking driver (ixgbevf) - version 2.11.3-k. I would suggest you to upgrade it to the latest as described in the here.

I would also suggest you to check the OS/application logs again to trace out any issues at the application level.

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"What if my imported VM did not have SSH installed
I imported my images as vmdk files and previously accessed the Linux console using either VMshpere manager or VMworkstation 11 when these images were running on ESXI 5.5

I don't think ssh was ever installed on these servers but I need some way to get to the console so that I can install ssh now that this ec2 instance has been created and my Linux server is up and running.

Can I do this through the AWS CLI or is there some other method to gain access to my running instance?

I have tried clicking connect in the aws web console but it gives me the ssh options which do not work.  I also have tried to reach the instance from putty on my local environment which gets a Network error: connection refused message which I am assuming is because there is no ssh server running inside the instance."

Amazon EC2	"Re: What if my imported VM did not have SSH installed
Have you tried an nmap to determine which ports are actually open and listening on the running instance?

Edited by: lukepetersonau on Apr 25, 2016 10:48 PM"

Amazon EC2	"Re: What if my imported VM did not have SSH installed
I just ran nmap and it returned with: ""warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port"".

When I setup this instance I followed the directions to allow incoming requests on port 22 so
I created an inbound rule in the security group that allows port 22 and then another rule that allows icmp.  I am able to ping this server but according to this Nmap scan it still must be blocked.

I verified that it was not my local firewall by running the nmap scan on another server at a different datacenter which reported several ports open including port 22.  From this I am assuming that it is not my local firewall but something on the AWS side blocking the port.

Edited by: ghostinthemachines on Apr 26, 2016 11:50 AM"

Amazon EC2	"Re: What if my imported VM did not have SSH installed
I deleted this instance since there was no further responses to the question

Edited by: ghostinthemachines on May 31, 2016 3:33 AM"

Amazon EC2	"Error deleting Snapshots
I try to delete a snapshot and get this error:

Error deleting Snapshots
snap-2fdc48d6: The snapshot snap-2fdc48d6 is currently in use by ami-99d401ee

I double checked and there is no instant connected to this snapshot. How can I fix this?"

Amazon EC2	"Re: Error deleting Snapshots
Good day 

EC2 will prevent a snapshot from being deleted if the associated AMI is still available. In this case, ami-99d401ee still appears to be available on your account.

Go in EC2 menu ""Images"" -> ""AMIs"", and ""Deregister"" it. Once that has been done, the snapshot can be deleted. (This will take a short time before you can delete the snapshot)

Regards
Imthian R"

Amazon EC2	"An error occurred while attempting to release the IP addresses
I get the bellow message when i am trying release IP address.

""54.165.39.46: The address with allocation id eipalloc-6a4bd40f cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: ac4cdc8f-8df6-494f-9966-6c6023bdc6c1).""

Can someone help me?"

Amazon EC2	"Re: An error occurred while attempting to release the IP addresses
Good day 

The IP cannot be released because there is a reverse DNS record associated with it:

host 54.165.39.46
46.39.165.54.in-addr.arpa domain name pointer correio.spassu.net.

We'll be happy to assist but please confirm that you'd like us to remove the rDNS entry.

Regards,
Imthian R"

Amazon EC2	"Urgent - production instance down
Hi,

I tried to install Windows updates on our instance i-827e55f1 tonight and I think the C drive ran out of space.  It said that 10 updates succeeded and 5 failed and put up a prompt that it needed to reboot to finish the install.  I accepted the reboot dialog thinking that it would clear up temp files during the reboot, but ever since then I cannot connect to the instance.  Can you check instance i-827e55f1 and let me know what I can do?"

Amazon EC2	"Re: Urgent - production instance down
Rebooting my instance didn't seem to help, but after stopping and restarting the instance, I was able to reconnect.  Problem solved."

Amazon EC2	"Too high price of Windows g2.2xlarge spot-instances in Frankfurt region
Hello,

Average price of Windows g2.2xlarge spot-instance in my region several times more than OnDemand price. Around 9$ in zone A and around 5$ in zone B.
Do you plan to increase hardware amount for g2.2xlarge in Frankfurt region? Because currently nobody can use it, for example in Ireland everything is ok, average price around 0.15$.

Thanks!

Edited by: roman_abdulmanov on May 31, 2016 1:47 AM"

Amazon EC2	"server refusing the key
Using username ""root"".
Server refused our key

i am facing issue from last two days i have created the i-527b10d5 instance about month ago but suddenly i am not able to access my instance through putty server is refusing our key 

logs of putty

2016-05-30 22:25:43	We claim version: SSH-2.0-PuTTY_Release_0.66
2016-05-30 22:25:43	Server version: SSH-2.0-OpenSSH_5.3
2016-05-30 22:25:43	We believe remote version has SSH-2 channel request bug
2016-05-30 22:25:43	Using SSH protocol version 2
2016-05-30 22:25:44	Doing Diffie-Hellman group exchange
2016-05-30 22:25:44	Doing Diffie-Hellman key exchange with hash SHA-256
2016-05-30 22:25:45	Host key fingerprint is:
2016-05-30 22:25:45	ssh-rsa 2048 ec:f3:d2:c3:fa:8d:36:4a:62:b6:1e:ab:c9:d4:84:1a
2016-05-30 22:25:45	Initialised AES-256 SDCTR client->server encryption
2016-05-30 22:25:45	Initialised HMAC-SHA-256 client->server MAC algorithm
2016-05-30 22:25:45	Initialised AES-256 SDCTR server->client encryption
2016-05-30 22:25:45	Initialised HMAC-SHA-256 server->client MAC algorithm
2016-05-30 22:25:45	Reading private key file ""C:\Users\uzair.RCO\Downloads\DU.ppk""
2016-05-30 22:25:45	Offered public key
2016-05-30 22:25:46	Server refused our key
2016-05-30 22:25:46	Using SSPI from SECUR32.DLL
2016-05-30 22:25:46	Attempting GSSAPI authentication
2016-05-30 22:25:46	GSSAPI authentication request refused

Edited by: uzair329 on May 30, 2016 1:19 PM"

Amazon EC2	"Cannot connect to EC2 instance after making changes to allowed cipher suite
In an attempt to get a better SSL Labs rating on an EC2 instance, I made changes to the allowed Cipher Suites on my Windows Server 2012 R2 EC2 Instance.  After making the change, I rebooted the instance, and I can no longer access the instance via remote desktop.  Obviously something I changed has made it so I can no longer connect to my server.  I had spent several hours configuring the instance.  I did not create an backup or AMI or anything before making the changes.

Am I completely out of luck here, and I do I have to terminate the instance, and start a new one, and spend several hours configuring it again, or is there a way to recover what I have done and gain access back to the EC2 instance?

Thank you."

Amazon EC2	"Re: Cannot connect to EC2 instance after making changes to allowed cipher suite
Hello,

May we have you provide the instance ID? Are you receiving any error messages when you attempt to RDP?

Regards
Tim"

Amazon EC2	"Unable to stop an instance
We're trying to restart the instance i-ec3ea8a7 (before check state in error) but it's in stopping status from 30 minutes. We also tried to force stop with no result.

Thanks in advance"

Amazon EC2	"Re: Unable to stop an instance
Hello,

I see instance i-ec3ea8a7 is in a running state now. Please let us know if you continue to experience issues.

Regards,
Timothy"

Amazon EC2	"trend micro ERS-RBL DUL Listed even with rDNS setup.
Trend micro automatic delisting service keeps on referring for me to setup rdns via Amazon,
but the address in question has had its rdns setup for 1+ years.
elastic ip: 54.171.67.52 
rdns:        smtp1.lumi.ws.

Repeated contact attempts have no effect, they seem to have no human monitoring:
""""""
54.171.67.52is listed on our Dynamic User List (DUL) because
Amazon has told us that this is not a static IP address.

We work very close with Amazon and receive regular updates from them. 
In Amazon's updates, all Amazon EC2 IP addresses
are by default dynamic and included in the DUL, unless specified by them that
it is static. 
So, if you are running a mail server on this IP address, please contact Amazon
and have them:

1) properly setup an rDNS for this IP to reference static
2) update us with the latest list

We will update the list accordingly.

If you have further questions, please contact Amazon directly.

Or please go to this link to file a request to Amazon.
https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

Kind regards,
Spam Investigation Team
Trend Micro, Inc.
""""""

Edited by: jaskatyni on Mar 14, 2016 2:31 AM

Url to rbl query page: https://ers.trendmicro.com/reputations"

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
Hi,

I have created an ticket with internal team to look into the issue.

We shall get back to you as soon as we get further update from them.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
Hi,
Sorry for interrupting this thread.

I was getting a similar response from Trend Micro after I reported to them DUL blocked our company SMTP server.

I've submitted my rDNS request to https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request 5 days ago but still get no reply.

It this the correct URL? Or is there a way to track the status?

Thanks

Updated: Just got a reply from AWS. Thanks.

Edited by: Amazon Customer on Mar 14, 2016 11:04 AM"

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
It seems to be solved now, thanks:

IP:
    54.171.67.52
Reputation:
    Unlisted in the spam sender list
Listed in:
    None"

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
Hi,

Yes, Trendmicro has removed the IP from their blacklist/DUL list.

Cheers!

Jayakrishnan L."

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
I have the same problem with TrendMicro DUL list
I have one PTR configured , but my IP don't is removed this list

128.20.218.54.in-addr.arpa domain name pointer awsmail.famme.com.br

I only get standard answers by Trend and AWS

Could you help me ?"

Amazon EC2	"Re: trend micro ERS-RBL DUL Listed even with rDNS setup.
Today after days trying, my ip has removed the TRENDMicro DUL list"

Amazon EC2	"VPC Signup looping
Hello

My EC2 instance is not showing up with Public DNS. I read through forums and tried to go into VPC for configuring but it puts me in endless loop of asking to ""Signup"" and takes me back to Management Console.

My instance id is i-07f8ab9a and VPC id is vpc-c4f108a3.

Please advise."

Amazon EC2	"High load avg. no apparent reason
We've been experiencing extremely high load avg. on one of our instances (i-68d816a1) running in us-west-2b, CPU seems to be idle most of the time, so are disks/ram, the system works fine for several minutes then spikes to a load avg of: 241.51, 143.14, 83.27 for 5 minutes then goes back to normal:  0.04, 26.38, 49.47.

this has only started recently, this instance is up for several months now, but this behavior only started few days ago.

I've searched pretty much everywhere in the machine but couldn't find any apparent reason for this, any insight would be appreciated.  (i've checked vmstat/iostat/top/nfsiostat, all stats seem fine/low).

One last thing, the instance is connected to an EFS volume.

Thanks,
--Danny.

Edited by: danny_gu on May 30, 2016 9:14 AM"

Amazon EC2	"RDP/HTTP between 2 EC2 Instances - EIP OK, Public DNS/Route53 Not OK
Hi

Two Windows EC2 instances in same VPC. 
Instance #1 has an Elastic IP e.g. 52.9.8.7
Instance #2 has an Elastic IP e.g. 52.2.3.4.
Security Group on #2 allows RDP & HTTP access from #1, specifying the EIP of Instance #1 (e.g. 52.9.8.7).
RDP from #1 to IP of #2 (e.g. 52.2.3.4) - works OK.
HTTP from #1 to IP of #2 (e.g. http://52.2.3.4) - works OK. 

If I try to connect (RDP/HTTP) from #1 to the Public DNS of #2 (e.g. ec2-52-2-3-4.compute-1.amazonaws.com), it fails...

Instance #2 also has a Route53 entry (e.g. myentry.mydomain.com) and that also fails.

Am I missing something here? Why does it work with the IP but not the DNS entries?

All help appreciated!

Brian"

Amazon EC2	"ruby script  from cron works except it doesnt write file on local filesyste
I have a ruby script on an ec2 instance  that works perfectly when i run it from the command line.
but when  executed  from crontab  the part of the script wich creates a file on the local file system doesnt work. all the other parts of the ruby script work.

here is the ruby script:
puts 'testoutpout1' #this line works
`touch testfile1` #this doesnt work
File.open('testfile2','w+') do |f|#this doesnt work
    f.puts 'cron'#this doesnt work
end
puts  'testoutpout2' #this line works

any idea ?"

Amazon EC2	"Re: ruby script  from cron works except it doesnt write file on local filesyste
My  guess it works, you just can't find the files. 
ALWAYS use full path names in cron scripts, or at least explicit 'cd' to desired directory."

Amazon EC2	"Re: ruby script  from cron works except it doesnt write file on local filesyste
you're right. was looking for my file in the wrong place. thanks a lot. was looking desesparetly for a solution on the web but there's  nothing like a real personn help ! 
thanks"

Amazon EC2	"Re: ruby script  from cron works except it doesnt write file on local filesyste
Glad to help. Please don't forget to mark the response as helpful"

Amazon EC2	"Unable to  import my vmdk to EC2
Hi all ,
I am trying to import my vmdk to EC2 as a instance using S3 bucket
Iam using this syntax 

ec2-user@ip-10-0-x-x ~$ ec2-import-instance disk1.vmdk -f VMDK -t m1.xlarge -a x86_64 -b import-raj -o XXXXXXACCESS KEY -w XXXXXXXSECRETKEY -O ACESSKEYXXXXXXX -W SECRETKEYXXXXXXXXXXXXXXXXX
Requesting volume size: 90 GB
ERROR: Unable to create signed manifest URL. Bucket import-raz is not in us-east-1 region, it's in eu-west-1

Can you please provide me the exact syntax to be used . 

Edited by: rajaws467690 on May 30, 2016 5:08 AM"

Amazon EC2	"Lost connectivity to instance
Hi,

We are unable to connect to our instance i-ea7bffb4 from outside world - however, we can SSH to the same from another EC2 instance which shows the instance to be running properly. Nor the EC2 domain name, the public IP address work for us.

Regards,
Sandeep"

Amazon EC2	"East-1b connectivity issues
Please help solve the following connectivity problem on the East-1b from Instance ID: i-2d502db5.

We're suffering intermittent connectivity issues to our instance on East-1b.  One of our web services (outbound) keep timing out most of the time.  Ping works well, but after running a traceroute with multiple servers in multiple areas of the word, we noticed that the problem is worst when we traceroute with servers around the Washington DC area (or even on the east coast USA). 

The problem has persisted since yesterday when we first noticed it.

The following is the route trace with the Washington Post server (URI: www.washingtonpost.com) in Washington DC:

$ traceroute www.washingtonpost.com
traceroute to www.washingtonpost.com (192.33.31.66), 30 hops max, 60 byte packets
 1  216.182.224.228 (216.182.224.228)  1.654 ms  1.647 ms  2.071 ms
 2  100.64.2.15 (100.64.2.15)  11.232 ms 100.64.2.1 (100.64.2.1)  6.250 ms 100.64.2.25 (100.64.2.25)  1.796 ms
 3  100.64.10.220 (100.64.10.220)  2.048 ms 100.64.3.134 (100.64.3.134)  2.475 ms 100.64.1.224 (100.64.1.224)  2.040 ms
 4  100.65.1.176 (100.65.1.176)  59.938 ms 100.65.0.80 (100.65.0.80)  23.652 ms 100.65.0.32 (100.65.0.32)  23.650 ms
 5  100.66.0.152 (100.66.0.152)  42.408 ms 100.66.0.126 (100.66.0.126)  13.752 ms 100.66.0.38 (100.66.0.38)  19.507 ms
 6  100.66.2.6 (100.66.2.6)  19.037 ms 100.66.3.200 (100.66.3.200)  21.245 ms 100.66.2.98 (100.66.2.98)  20.120 ms
 7  100.66.6.13 (100.66.6.13)  19.423 ms 100.66.6.43 (100.66.6.43)  20.074 ms 100.66.6.137 (100.66.6.137)  16.821 ms
 8  100.66.4.77 (100.66.4.77)  22.962 ms 100.66.4.17 (100.66.4.17)  21.423 ms 100.66.4.215 (100.66.4.215)  18.425 ms
 9  100.65.11.33 (100.65.11.33)  0.828 ms 100.65.9.129 (100.65.9.129)  5.455 ms 100.65.10.161 (100.65.10.161)  0.804 ms
10  205.251.244.194 (205.251.244.194)  1.785 ms 205.251.245.241 (205.251.245.241)  5.293 ms 205.251.244.200 (205.251.244.200)  2.236 ms
11  54.239.111.30 (54.239.111.30)  51.275 ms 54.239.111.28 (54.239.111.28)  21.559 ms 54.239.111.22 (54.239.111.22)  21.914 ms
12  54.239.108.135 (54.239.108.135)  2.592 ms 54.239.108.141 (54.239.108.141)  1.712 ms 54.239.109.17 (54.239.109.17)  1.553 ms
13  ae-23.r06.asbnva02.us.bb.gin.ntt.net (168.143.228.37)  1.760 ms ae-16.r05.asbnva02.us.bb.gin.ntt.net (168.143.232.49)  2.064 ms ae-24.r06.asbnva02.us.bb.gin.ntt.net (168.143.232.73)  1.998 ms
14  ae-14.r05.asbnva02.us.bb.gin.ntt.net (129.250.2.72)  1.973 ms xe-0-2-0-4.r05.asbnva02.us.ce.gin.ntt.net (131.103.116.122)  8.019 ms ae-14.r05.asbnva02.us.bb.gin.ntt.net (129.250.2.72)  1.987 ms
15  xe-0-2-0-4.r05.asbnva02.us.ce.gin.ntt.net (131.103.116.122)  7.519 ms !X * *

$ traceroute www.washingtonpost.com
traceroute to www.washingtonpost.com (192.33.31.66), 30 hops max, 60 byte packets
 1  216.182.224.228 (216.182.224.228)  1.526 ms  1.808 ms  1.935 ms
 2  100.64.2.19 (100.64.2.19)  10.121 ms 100.64.2.5 (100.64.2.5)  1.927 ms 100.64.2.19 (100.64.2.19)  19.082 ms
 3  100.64.3.122 (100.64.3.122)  1.904 ms 100.64.9.204 (100.64.9.204)  2.198 ms 100.64.3.14 (100.64.3.14)  2.287 ms
 4  100.65.2.160 (100.65.2.160)  51.787 ms 100.65.1.64 (100.65.1.64)  16.728 ms 100.65.3.224 (100.65.3.224)  20.073 ms
 5  100.66.0.140 (100.66.0.140)  18.874 ms 100.66.0.236 (100.66.0.236)  18.279 ms 100.66.0.42 (100.66.0.42)  19.311 ms
 6  100.66.3.132 (100.66.3.132)  20.487 ms 100.66.3.74 (100.66.3.74)  21.543 ms 100.66.3.34 (100.66.3.34)  18.960 ms
 7  100.66.7.43 (100.66.7.43)  14.079 ms 100.66.6.3 (100.66.6.3)  16.256 ms 100.66.7.5 (100.66.7.5)  21.762 ms
 8  100.66.4.45 (100.66.4.45)  28.489 ms 100.66.4.25 (100.66.4.25)  13.384 ms 100.66.4.159 (100.66.4.159)  32.898 ms
 9  100.65.9.161 (100.65.9.161)  0.650 ms 100.65.11.129 (100.65.11.129)  0.535 ms 100.65.11.33 (100.65.11.33)  0.603 ms
10  205.251.244.198 (205.251.244.198)  1.562 ms  1.494 ms  1.478 ms
11  54.239.108.198 (54.239.108.198)  18.488 ms 54.239.109.44 (54.239.109.44)  34.383 ms 54.239.111.16 (54.239.111.16)  16.692 ms
12  54.239.108.213 (54.239.108.213)  2.052 ms 54.239.108.239 (54.239.108.239)  1.829 ms 54.239.108.205 (54.239.108.205)  1.830 ms
13  ae-16.r05.asbnva02.us.bb.gin.ntt.net (168.143.232.49)  2.275 ms ae-24.r06.asbnva02.us.bb.gin.ntt.net (168.143.232.73)  1.986 ms ae-11.r05.asbnva02.us.bb.gin.ntt.net (168.143.191.25)  1.817 ms
14  xe-0-2-0-4.r05.asbnva02.us.ce.gin.ntt.net (131.103.116.122)  15.007 ms ae-14.r05.asbnva02.us.bb.gin.ntt.net (129.250.2.72)  1.865 ms  1.867 ms
15  * xe-0-2-0-4.r05.asbnva02.us.ce.gin.ntt.net (131.103.116.122)  13.281 ms  13.369 ms
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *
$"

Amazon EC2	"Re: East-1b connectivity issues
Hi,

Are you still facing the connectivity issues? 

I checked AWS Service health Dashboard and I can see that there were no reported issues at the infrastructure level. 

You were running ICMP based tracroute and as you probably know, ICMP can be deprioritized over the Internet. Could you please run a TCP based traceroute and check if you are seeing the connectivity issues? It would be great if you could run a TCP based MTR as well. 

I tried to do a TCP traceroute to Port 80 of your instance and I can see that I am getting good response. 

I would also request you to keep an eye on the NetworkIn/NetworkOut cloudwatch graphs for the instance.

Regards,
Jayakrishnan L."

Amazon EC2	"Best way to SSH between EC2 instances?
Hi, I'm just wondering what is the best way to SSH between EC2 instances within the same VPC and subnet. I am setting up some automated rsync jobs via cron. If anyone can point me in the right direction that would be great. Thanks"

Amazon EC2	"Re: Best way to SSH between EC2 instances?
Sorted it out. Just used the Ec2 key pairs and loaded them onto the user profiles."

Amazon EC2	"c4.8xlarge instances become unresponsive in N. Virginia region
Hi all,

since two weeks we observe that some instances become unresponsive (instance status check fails) in the N. Virginia region. Up until now this only happened with c4.8xlarge instances. We are running Ubuntu 14.04 on those instances. The recent instance where this happened is i-6acf2ff6.

The system log that you can get via the console is full of the following messages:
[12388946.589066] Hardware name: Xen HVM domU, BIOS 4.2.amazon 12/07/2015
[12388946.593731] task: ffff880ee67f1800 ti: ffff88074fb66000 task.ti: ffff88074fb66000
[12388946.599843] RIP: 0010:[<ffffffff813ea2c8>]  [<ffffffff813ea2c8>] intel_idle+0xd8/0x140
[12388946.606182] RSP: 0018:ffff88074fb67e28  EFLAGS: 00000046
[12388946.610234] RAX: 0000000000000020 RBX: 0000000000000008 RCX: 0000000000000001
[12388946.616183] RDX: 0000000000000000 RSI: 000000008f588f56 RDI: 0000000000000046
[12388946.621957] RBP: ffff88074fb67e50 R08: 0000000000000046 R09: 0000000000000018
[12388946.627840] R10: 0000000000002741 R11: 0000000000009d02 R12: 0000000000000004
[12388946.633644] R13: 0000000000000020 R14: 0000000000000003 R15: ffffffff81c94038
[12388946.639523] FS:  0000000000000000(0000) GS:ffff880f0f620000(0000) knlGS:0000000000000000
[12388946.646068] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[12388946.650418] CR2: 00007fd2b9603000 CR3: 0000000001c0e000 CR4: 00000000001406e0
[12388946.656282] Stack:
[12388946.658368]  000000234fb67e50 ffff880f0f63a400 ffffffff81c93ec0 00002d9049291261
[12388946.664874]  0000000000000004 ffff88074fb67e88 ffffffff815d65a0 ffff88074fb67f38
[12388946.671389]  ffff880f0f63a400 0000000000000004 0000000000000023 ffffffff81c93ec0
[12388946.677927] Call Trace:
[12388946.680239]  [<ffffffff815d65a0>] cpuidle_enter_state+0x40/0xc0
[12388946.684664]  [<ffffffff815d66d9>] cpuidle_idle_call+0xb9/0x1f0
[12388946.689099]  [<ffffffff8101d3ee>] arch_cpu_idle+0xe/0x30
[12388946.693275]  [<ffffffff810bf475>] cpu_startup_entry+0xc5/0x290
[12388946.697769]  [<ffffffff810415ed>] start_secondary+0x21d/0x2d0
[12388946.702126] Code: 48 89 d1 48 2d c8 1f 00 00 0f 01 c8 0f ae f0 65 48 8b 04 25 30 b8 00 00 48 8b 80 38 e0 ff ff a8 08 75 08 b1 01 4c 89 e8 0f 01 c9 <85> 1d ea 9b 8a 00 75 0e 48 8d 75 dc bf 05 00 00 00 e8 62 9f ce 
[12388968.370565] BUG: soft lockup - CPU#0 stuck for 22s! [migration/0:266]
[12388968.375060] Modules linked in: dm_crypt syscopyarea sysfillrect serio_raw sysimgblt fb_sys_fops isofs crct10dif_pclmul crc32_pclmul aesni_intel aes_x86_64 lrw gf128mul glue_helper ablk_helper cryptd psmouse ixgbevf floppy
[12388968.390189] CPU: 0 PID: 266 Comm: migration/0 Tainted: G      D       3.13.0-74-generic #118-Ubuntu


Any idea what could cause this issue?

Thanks,
Martin"

Amazon EC2	"Re: c4.8xlarge instances become unresponsive in N. Virginia region
Hello Martin,

Please stop/start the instance and access it again and then install latest kernel patches to avoid this issue.
[1] https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1269404

Regards,
Umair A."

Amazon EC2	"Re: c4.8xlarge instances become unresponsive in N. Virginia region
Thank you for your response and help. We applied kernel updates and the issue did not show since.

However, today we had another instance (i-486497d4) where both status checks (System and Instance) failed at the same time. After some time the instance restarted. Could you please check what the cause for this issue was?

Thanks,
Martin"

Amazon EC2	"Re: c4.8xlarge instances become unresponsive in N. Virginia region
Happend again to a c4.4xlarge instance (i-9898620f) in N. California that both instance checks failed for a short amount of time and the instance got restarted.

We never experienced this when we were using the c3 instance types but after we switched we are seeing those errors. The restarts of the instances hurt for our use-case as we are doing some processing on those instances and we loose state of what the current task it handles. Could you please let us know how to mitigate?

Thanks,
Martin"

Amazon EC2	"Re: c4.8xlarge instances become unresponsive in N. Virginia region
Hello Martin,
I had a look at both your instance ID(s): i-9898620f and i-486497d4 and in both cases I have found that an issue with the underlying hardware occur at 2016-05-26T18:35:00 UTC.

On behalf of AWS, I sincerely apologize for any inconvenience this may have caused to you.

Normally we sent out email communication to customer when there is a scheduled maintenance or a hardware degradation ongoing, so that users can take action on instances (generally speaking, issuing a stop/start will move the instance on a fresh new underlying hardware).
In case of sudden reboot like this, unfortunately there is no time for email or customer to take actions and so the instance will result with an unclean  reboot or instance in a stuck state.

As you know, hardware and networking equipment will never enjoy 100% up time, and from time to time there are system failures. We make every commercially available effort to make sure Amazon Web Services is secure and resilient, giving you reliability and massive scale. However, hardware and network failures will inevitably occur in any environment, and we encourage you to design your applications working on the AWS platform accordingly.

We know how critical our services are to our customer's businesses, and we'll do everything we can to learn from this and use it to drive improvement across our services.

To prevent this issue in the future, you may be interested in some of our documentation for building a failure resilient environment. There are some best practices available on our forums, in our documentation and white papers that help to show effective designs. Additionally, as backups and data redundancy (outside of s3) are at the sole discrepancy of the account owner, you will want to make sure to create an AMI (amazon machine image) and/or backups in case of future failures.

More info:
http://aws.amazon.com/whitepapers/designing-fault-tolerant-applications/
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf
https://media.amazonwebservices.com/AWS_Disaster_Recovery.pdf

Hope this helps,
kind regards
Ale"

Amazon EC2	"Re: c4.8xlarge instances become unresponsive in N. Virginia region
Thank you for your response and information.
Martin"

Amazon EC2	"XAMPP does not run on port 86 in a AMI instance with Nginx
Hi, everybody.

I have a instance of AMI with a PHP site running on Nginx 1.8.1 (default port 80). 
I want to upload a new version of site, but I can't take off current version, because new one has not all features.
Then I installed XAMPP with Apache 2.4.18 and changed it to listen on port 86.
I started XAMPP and process is running. 
I created a new Security Group with rule Custom TCP for port 86, but I can't get answer from public IP on port 86. 
When I try a wget command so:

wget 54.232.80.154:86
--2016-05-28 15:39:12--  http://54.232.80.154:86/
Connecting to 54.232.80.154:86...

And nothing. 
Is there more action to make available HTTP through 86 port?"

Amazon EC2	"Re: XAMPP does not run on port 86 in a AMI instance with Nginx
Hello 

I have had a look at your EC2-Classic instance with public IP 54.232.80.154. 
The security group for the instance does not contain an entry for 0.0.0.0/0 TCP port 86. I would suggest that you add this rule and try again. 

Also please verify that the process is listening on the correct port by executing  sudo netstat -nltp  . 

Regards 
Conrad"

Amazon EC2	"AMAZON EC2 Windows Activation Failed
Hi my EC2 instance kept getting a error log:

License Activation Scheduler (sppuinotify.dll) was not able to automatically activate.  Error code:
0xC004F074

And I tried to activate the windows but it failed. There are only 21 days left to activate the Windows. Any idea how to solve this issue?

Eugene"

Amazon EC2	"Re: AMAZON EC2 Windows Activation Failed
Good Day, 

Thank you for posting on this forum. 

May you upgrade the version of your EC2Config:

https://forums.aws.amazon.com/message.jspa?messageID=227937#418321

And then attempt the activation once again.
https://forums.aws.amazon.com/message.jspa?messageID=453106

https://aws.amazon.com/premiumsupport/knowledge-center/windows-activation-fails/

You can also follow the activation troubleshooting guide here: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#activate-windows 

Please let me know once you have attempted this and we can assist you further. RegardsTawanda"

Amazon EC2	"Re: AMAZON EC2 Windows Activation Failed
Thank you Tawanda. This issue has been resolved."

Amazon EC2	"1/2 checks passed - instance status checks fail
i create a centos 7 instance and install php + nginx + s3fs(mount a bucket) into it by ssh. 
Everything is ok. 
But after reboot the status of instance is ""1/2 checks passed"" and i could't connect it with ssh.
The instance status checks is fail.
Dettach and attach vol. or eip is no use.
I don't know what happened? So i paste the system log for hoping to solution it.

99209)
http://    1.314268 Freeing unused kernel memory: 1620k freed
http://    1.321492 systemd[1]: systemd 219 running in system mode. (+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN)
http://    1.332657 systemd[1]: Detected virtualization xen.
http://    1.336180 systemd[1]: Detected architecture x86-64.
http://    1.354527 systemd[1]: Running in initial RAM disk.

Welcome to [0;34mCentOS Linux 7 (Core) dracut-033-360.el7_2 (Initramfs)[0m!

http://    1.361594 systemd[1]: No hostname configured.
http://    1.364808 systemd[1]: Set hostname to <localhost>.
http://    1.368257 systemd[1]: Initializing machine ID from random generator.
[[32m  OK  0m Reached target Swap.
http://    1.400423 systemd[1]: Reached target Swap.
http://    1.403504 systemd[1]: Starting Swap.
[[32m  OK  0m Reached target Timers.
http://    1.408894 systemd[1]: Reached target Timers.
http://    1.412494 systemd[1]: Starting Timers.
[[32m  OK  0m Reached target Local File Systems.
http://    1.418998 systemd[1]: Reached target Local File Systems.
http://    1.424415 systemd[1]: Starting Local File Systems.
http://    1.427969 systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
http://    1.433548 systemd[1]: Starting Dispatch Password Requests to Console Directory Watch.
[[32m  OK  0m Reached target Paths.
http://    1.441619 systemd[1]: Reached target Paths.
http://    1.444783 systemd[1]: Starting Paths.
[[32m  OK  0m Created slice -.slice.
http://    1.450448 systemd[1]: Created slice -.slice.
http://    1.453646 systemd[1]: Starting -.slice.
[[32m  OK  0m Created slice System Slice.
http://    1.459328 systemd[1]: Created slice System Slice.
http://    1.462673 systemd[1]: Starting System Slice.
[[32m  OK  0m Listening on udev Kernel Socket.
http://    1.468696 systemd[1]: Listening on udev Kernel Socket.
http://    1.472402 systemd[1]: Starting udev Kernel Socket.
[[32m  OK  0m Reached target Slices.
http://    1.478360 systemd[1]: Reached target Slices.
http://    1.481575 systemd[1]: Starting Slices.
[[32m  OK  0m Listening on Journal Socket.
http://    1.487262 systemd[1]: Listening on Journal Socket.
http://    1.490723 systemd[1]: Starting Journal Socket.
http://    1.494429 systemd[1]: Starting Create list of required static device nodes for the current kernel...
         Starting Create list of required st... nodes for the current kernel...
http://    1.506296 systemd[1]: Started dracut ask for additional cmdline parameters.
http://    1.511351 systemd[1]: Starting dracut cmdline hook...
         Starting dracut cmdline hook...
http://    1.520352 systemd[1]: Started Load Kernel Modules.
http://    1.524629 systemd[1]: Starting Journal Service...
         Starting Journal Service...
http://    1.539749 systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[[32m  OK  0m Listening on udev Control Socket.
http://    1.559005 systemd[1]: Listening on udev Control Socket.
http://    1.562712 systemd[1]: Starting udev Control Socket.
[[32m  OK  0m Reached target Sockets.
http://    1.570975 systemd[1]: Reached target Sockets.
http://    1.574272 systemd[1]: Starting Sockets.
[[32m  OK  0m Started Journal Service.
http://    1.582096 systemd[1]: Started Journal Service.
[[32m  OK  0m Started Create list of required sta...ce nodes for the current kernel.
[[32m  OK  0m Started Apply Kernel Variables.
         Starting Create Static Device Nodes in /dev...
[[32m  OK  0m Started Create Static Device Nodes in /dev.
[[32m  OK  0m Started dracut cmdline hook.
         Starting dracut pre-udev hook...
http://    1.678308 RPC: Registered named UNIX socket transport module.
http://    1.682657 RPC: Registered udp transport module.
http://    1.686239 RPC: Registered tcp transport module.
http://    1.689564 RPC: Registered tcp NFSv4.1 backchannel transport module.
[[32m  OK  0m Started dracut pre-udev hook.
         Starting udev Kernel Device Manager...
[[32m  OK  0m Started udev Kernel Device Manager.
         Starting dracut pre-trigger hook...
[[32m  OK  0m Started dracut pre-trigger hook.
         Starting udev Coldplug all Devices...
         Mounting Configuration File System...
[[32m  OK  0m Mounted Configuration File System.
http://    1.850150 FDC 0 is a S82078B
[[32m  OK  0m Started udev Coldplug all Devices.
         Starting dracut initqueue hook...
[[32m  OK  0m Reached target System Initialization.http://    1.902800 xen_netfront: Initialising Xen virtual ethernet driver

[[32m  OK  [0m    1.923887] scsi host0: ata_piix
 Reached target Basic System.http://    1.929792 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    1.936580 tsc: Refined TSC clocksource calibration: 2493.985 MHz

http://    1.950943 scsi host1: ata_piix
http://    1.953717 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    1.958991 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    1.970927  xvda: xvda1
[[32m  OK  0m Found device /dev/disk/by-uuid/ef6ba050-6cdc-416a-9380-c14304d0d206.
         Starting File System Check on /dev/...0-6cdc-416a-9380-c14304d0d206...http://    2.062003 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input3

[[32m  OK  0m Started File System Check on /dev/d...050-6cdc-416a-9380-c14304d0d206.
[[32m  OK  0m Started dracut initqueue hook.
         Mounting /sysroot...
[[32m  OK  0m Reached target Remote File Systems (Pre).
[[32m  OK  0m Reached target Remote File Systems.
http://    2.163333 SGI XFS with ACLs, security attributes, no debug enabled
http://    2.169751 XFS (xvda1): Mounting V4 Filesystem
http://    2.803133 XFS (xvda1): Ending clean mount
[[32m  OK  0m Mounted /sysroot.
[[32m  OK  0m Reached target Initrd Root File System.
         Starting Reload Configuration from the Real Root...
[[32m  OK  0m Started Reload Configuration from the Real Root.
[[32m  OK  0m Reached target Initrd File Systems.
[[32m  OK  0m Reached target Initrd Default Target.
         Starting dracut pre-pivot and cleanup hook...
[[32m  OK  0m Started dracut pre-pivot and cleanup hook.
         Starting Cleaning Up and Shutting Down Daemons...
[[32m  OK  0m Stopped Cleaning Up and Shutting Down Daemons.
[[32m  OK  0m Stopped target Timers.
[[32m  OK  0m Stopped dracut pre-pivot and cleanup hook.
         Stopping dracut pre-pivot and cleanup hook...
[[32m  OK  0m Stopped target Remote File Systems.
[[32m  OK  0m Stopped target Remote File Systems (Pre).
[[32m  OK  0m Stopped dracut initqueue hook.
         Stopping dracut initqueue hook...
[[32m  OK  0m Stopped target Initrd Default Target.
[[32m  OK  0m Stopped target Basic System.
[[32m  OK  0m Stopped target Sockets.
[[32m  OK  0m Stopped target Slices.
[[32m  OK  0m Stopped target Paths.
[[32m  OK  0m Stopped target System Initialization.
[[32m  OK  0m Stopped target Local File Systems.
[[32m  OK  0m Stopped Apply Kernel Variables.
         Stopping Apply Kernel Variables...
[[32m  OK  0m Stopped udev Coldplug all Devices.
         Stopping udev Coldplug all Devices...
[[32m  OK  0m Stopped dracut pre-trigger hook.
         Stopping dracut pre-trigger hook...
         Stopping udev Kernel Device Manager...
[[32m  OK  0m Stopped target Swap.
[[32m  OK  0m Stopped udev Kernel Device Manager.
[[32m  OK  0m Stopped Create Static Device Nodes in /dev.
         Stopping Create Static Device Nodes in /dev...
[[32m  OK  0m Stopped Create list of required sta...ce nodes for the current kernel.
         Stopping Create list of required st... nodes for the current kernel...
[[32m  OK  0m Stopped dracut pre-udev hook.
         Stopping dracut pre-udev hook...
[[32m  OK  0m Stopped dracut cmdline hook.
         Stopping dracut cmdline hook...
[[32m  OK  0m Closed udev Kernel Socket.
[[32m  OK  0m Closed udev Control Socket.
         Starting Cleanup udevd DB...
[[32m  OK  0m Started Cleanup udevd DB.
[[32m  OK  0m Reached target Switch Root.
         Starting Switch Root...
http://    3.168370 systemd-journald122: Received SIGTERM from PID 1 (systemd).
http://    3.263714 type=1404 audit(1461899211.455:2): enforcing=1 old_enforcing=0 auid=4294967295 ses=4294967295
http://    3.418473 type=1403 audit(1461899211.610:3): policy loaded auid=4294967295 ses=4294967295
http://    3.430346 systemd[1]: Successfully loaded SELinux policy in 168.190ms.
http://    3.475881 ip_tables: (C) 2000-2006 Netfilter Core Team
http://    3.479354 systemd[1]: Inserted module 'ip_tables'
http://    3.500535 systemd[1]: Relabelled /dev and /run in 13.576ms.

Welcome to [0;31mCentOS Linux 7 (Core)[0m!

[[32m  OK  0m Stopped Switch Root.
         Mounting Huge Pages File System...
         Starting Create list of required st... nodes for the current kernel...
[[32m  OK  0m Listening on /dev/initctl Compatibility Named Pipe.
         Mounting Debug File System...
[[32m  OK  0m Created slice User and Session Slice.
[[32m  OK  0m Stopped File System Check on Root Device.
         Stopping File System Check on Root Device...
[[32m  OK  0m Set up automount Arbitrary Executab...ats File System Automount Point.
         Starting Apply Kernel Variables...
         Mounting POSIX Message Queue File System...
[[32m  OK  0m Reached target Encrypted Volumes.
[[32m  OK  0m Created slice system-getty.slice.
[[32m  OK  0m Listening on Delayed Shutdown Socket.
[[32m  OK  0m Listening on udev Kernel Socket.
         Mounting NFSD configuration filesystem...
[[32m  OK  0m Stopped target Switch Root.
[[32m  OK  0m Stopped target Initrd Root File System.
[[32m  OK  0m Stopped target Initrd File Systems.
[[32m  OK  0m Listening on udev Control Socket.
[[32m  OK  0m Stopped Flush Journal to Persistent Storage.
         Starting Remount Root and Kernel File Systems...
[[32m  OK  0m Stopped Journal Service.
         Starting Journal Service...
[[32m  OK  [0m    3.779833] Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
 Created slice system-serial\x2dgetty.slice.
[[32m  OK  0m Reached target Slices.
[[32m  OK  0m Reached target Swap.
         Starting Setup Virtual Console...
[[32m  OK  0m Mounted NFSD configuration filesystem.
[[32m  OK  0m Mounted Debug File System.
[[32m  OK  0m Mounted POSIX Message Queue File System.
[[32m  OK  0m Mounted Huge Pages File System.
[[32m  OK  0m Started Journal Service.
[[32m  OK  0m Started Create list of required sta...ce nodes for the current kernel.
[[32m  OK  0m Started Apply Kernel Variables.
[[32m  OK  0m Started Remount Root and Kernel File Systems.
         Starting Load/Save Random Seed...
         Starting Configure read-only root support...
         Starting udev Coldplug all Devices...
         Starting Create Static Device Nodes in /dev...
         Starting Flush Journal to Persistent Storage...
[[32m  OK  0m Started Load/Save Random Seed.
[[32m  OK  0m Started Configure read-only root support.
[[32m  OK  0m Started Create Static Device Nodes in /dev.
http://    4.039449 systemd-journald391: Received request to flush runtime journal from PID 1
[[32m  OK  0m Reached target Local File Systems (Pre).
         Mounting /mnt/mypay.webserver.bucket...
         Starting udev Kernel Device Manager...
[[32m  OK  0m Started Flush Journal to Persistent Storage.http://    4.091873 fuse init (API version 7.22)

[[32m  OK  0m Started Setup Virtual Console.
[[32m  OK  0m Started udev Coldplug all Devices.
**[[1;31mFAILED0m Failed to mount /mnt/mypay.webserver.bucket.**
**See 'systemctl status mnt-mypay.webserver.bucket.mount' for details.**
**[[1;33mDEPEND0m Dependency failed for Local File Systems.**
**[[1;33mDEPEND0m Dependency failed for Mark the need to relabel after reboot.**
**[[1;33mDEPEND0m Dependency failed for Relabel all filesystems, if necessary.**
[[32m  OK  0m Started udev Kernel Device Manager.
         Starting Preprocess NFS configuration...
[[32m  OK  0m Stopped firewalld - dynamic firewall daemon.
[[32m  OK  0m Stopped Getty on tty1.
[[32m  OK  0m Stopped Serial Getty on ttyS0.
[[32m  OK  0m Stopped target Multi-User System.
[[32m  OK  [0m    4.268133] input: PC Speaker as /devices/platform/pcspkr/input/input4
 Stopped D-Bus System Message Bus.http://    4.286294 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr

[[32m  OK  0m http://    4.315921 drm Initialized drm 1.1.0 20060810
http://    4.322481 Error: Driver 'pcspkr' is already registered, aborting...
Stopped irqbalance daemon.
[[32m  OK  0m Stopped Dynamic System Tuning Daemon.
[[32m  OK  [0mhttp://    4.377686 TTM Zone  kernel: Available graphics memory: 507736 kiB
http://    4.381845 TTM Initializing pool allocator
http://    4.385122 TTM] Initializing DMA pool allocator  Stopped Command Scheduler.
http://    4.393815 ppdev: user-space parallel port driver
[[32m  OK  0m Stopped Postfix Mail Transport Agent.http://    4.401510 drm fb mappable at 0xF0000000
http://    4.404563 drm vram aper at 0xF0000000
http://    4.407561 drm size 33554432
http://    4.410247 drm fb depth is 24
http://    4.412795 drm    pitch is 3072

[[32m  OK  0m Stopped Permit User Sessions.
http://    4.482782 fbcon: cirrusdrmfb (fb0) is primary device
http://    4.531717 Console: switching to colour frame buffer device 128x48
http://    4.574660 cirrus 0000:00:02.0: fb0: cirrusdrmfb frame buffer device
http://    4.574661 cirrus 0000:00:02.0: registered panic notifier
[[32m  OK  0m Reached target Login Prompts.
[[32m  OK  0m Stopped Execute cloud user/final scripts.
http://    4.607301 drm Initialized cirrus 1.0.0 20110418 for 0000:00:02.0 on minor 0
[[32m  OK  0m Stopped GSSAPI Proxy Daemon.
[[32m  OK  0m Stopped Login Service.
[[32m  OK  0m Closed D-Bus System Message Bus Socket.
[[32m  OK  0m Stopped Apply the settings specified in cloud-config.
[[32m  OK  0m Stopped System Logging Service.
[[32m  OK  0m Reached target Timers.
[[32m  OK  0m Stopped Dump dmesg to /var/log/dmesg.
[[32m  OK  0m Stopped NTP client/server.
[[32m  OK  0m Closed RPCbind Server Activation Socket.
[[32m  OK  0m Stopped target Cloud-config availability.
[[32m  OK  0m Stopped Initial cloud-init job (metadata service crawler).
[[32m  OK  0m Stopped Initial cloud-init job (pre-networking).
[[32m  OK  0m Stopped Load CPU microcode update.
[[32m  OK  0m Stopped nginx - high performance web server.
[[32m  OK  0m Stopped OpenSSH server daemon.
[[32m  OK  0m Stopped OpenSSH Server Key Generation.
[[32m  OK  0m Stopped LSB: Bring up/down networking.
[[32m  OK  0m Reached target Network.
[[32m  OK  0m Reached target Network is Online.
[[32m  OK  0m Stopped target Basic System.
         Starting Import network configuration from initramfs...
[[32m  OK  0m Reached target Sockets.
[[32m  OK  0m Stopped target System Initialization.
[[32m  OK  0m Reached target Paths.
[[32m  OK  0m Started Preprocess NFS configuration.
[[32m  OK  0m Found device /dev/ttyS0.
         Mounting FUSE Control File System...
http://    4.827199 AES CTR mode by8 optimization enabled
[[32m  OK  0m Reached target NFS client services.
[[32m  OK  0m Reached target Remote File Systems (Pre).
[[32m  OK  0m Reached target Remote File Systems.
         Starting Crash recovery kernel arming...
         Starting Notify NFS peers of a restart...
[[32m  OK  0m Mounted FUSE Control File System.
[[32m  OK  0m Started Import network configuration from initramfs.
http://    4.880097 alg: No test for __gcm-aes-aesni (__driver-gcm-aes-aesni)
[[32m  OK  0m Started Emergency Shell.
         Starting Emergency Shell...
         Starting Create Volatile Files and Directories...
[[32m  OK  0m Reached target Emergency Mode.
[[32m  OK  0m Started Notify NFS peers of a restart.
http://    4.933413 alg: No test for crc32 (crc32-pclmul)
[[32m  OK  0m Started Create Volatile Files and Directories.
         Starting Security Auditing Service...
http://    4.973582 type=1305 audit(1461899213.165:4): audit_pid=520 old=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:auditd_t:s0 res=1
[[32m  OK  0m Started Security Auditing Service.
         Starting Update UTMP about System Boot/Shutdown...
[[32m  OK  0m Started Update UTMP about System Boot/Shutdown.
         Starting Update UTMP about System Runlevel Changes...
[[32m  OK  0m Started Update UTMP about System Runlevel Changes.
[[1;31mFAILED0m Failed to start Crash recovery kernel arming.
See 'systemctl status kdump.service' for details.
Welcome to emergency mode! After logging in, type ""journalctl -xb"" to view
system logs, ""systemctl reboot"" to reboot, ""systemctl default"" or ^D to
try again to boot into default mode.
Give root password for maintenance
(or type Control-D to continue): [[32m  OK  0m Stopped target Slices.
         Unmounting Configuration File System...
[[32m  OK  0m Removed slice User and Session Slice.
[[32m  OK  0m Removed slice system-getty.slice.
[[32m  OK  0m Stopped target Encrypted Volumes.
[[32m  OK  0m Stopped target Swap.
[[32m  OK  0m Stopped target Timers.
         Unmounting RPC Pipe File System...
[[32m  OK  0m Stopped target Remote File Systems.
[[32m  OK  0m Stopped target Remote File Systems (Pre).
[[32m  OK  0m Stopped target Emergency Mode.
[[32m  OK  0m Reached target Unmount All Filesystems.
[[32m  OK  0m Stopped target NFS client services.
[[32m  OK  0m Stopped target Login Prompts.
         Stopping Emergency Shell...
[[32m  OK  0m Stopped Setup Virtual Console.
         Stopping Setup Virtual Console...
[[32m  OK  0m Stopped target Paths.
         Stopping Load/Save Random Seed...
[[32m  OK  0m Stopped target Network is Online.
[[32m  OK  0m Stopped target Network.
[[32m  OK  0m Stopped target Sockets.
[[32m  OK  0m Stopped Apply Kernel Variables.
         Stopping Apply Kernel Variables...
         Stopping Security Auditing Service...
[[32m  OK  0m Removed slice system-serial\x2dgetty.slice.
[[32m  OK  0m Stopped target Local File Systems (Pre).
[[32m  OK  0m Stopped Create Static Device Nodes in /dev.
http://  971.323821 type=1305 audit(1461900179.515:15): audit_pid=0 old=520 auid=4294967295 ses=4294967295 subj=system_u:system_r:auditd_t:s0 res=1
Stopping Create Static Device Nodes in /dev...
[[32m  OK  0m Stopped Security Auditing Service.
http://  971.338271 type=1131 audit(1461900179.530:16): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=auditd comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
[[32m  OK  0m Stopped Emergency Shell.
http://  971.352193 type=1131 audit(1461900179.544:17): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=emergency comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
[[32m  OK  0m Unmounted Configuration File System.
[[32m  OK  0m Unmounted RPC Pipe File System.
[[32m  OK  0m Stopped Load/Save Random Seed.
http://  971.373544 type=1131 audit(1461900179.565:18): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=systemd-random-seed comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
[[32m  OK  0m Stopped Create Volatile Files and Directories.
http://  971.395134 type=1131 audit(1461900179.587:19): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=systemd-tmpfiles-setup comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Create Volatile Files and Directories...
[[32m  OK  0m Stopped Import network configuration from initramfs.
http://  971.411515 type=1131 audit(1461900179.603:20): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=rhel-import-state comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Import network configuration from initramfs...
[[32m  OK  0m Stopped Configure read-only root support.
http://  971.428490 type=1131 audit(1461900179.620:21): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=rhel-readonly comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Configure read-only root support...
[[32m  OK  0m Stopped Remount Root and Kernel File Systems.
http://  971.446864 type=1131 audit(1461900179.639:22): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=systemd-remount-fs comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Remount Root and Kernel File Systems...
[[32m  OK  0m Reached target Shutdown.
http://  971.480875 systemd-shutdown[1]: Sending SIGTERM to remaining processes...
http://  971.493144 systemd-journald391: Received SIGTERM from PID 1 (systemd-shutdow).
http://  971.499082 systemd-shutdown[1]: Sending SIGKILL to remaining processes...
http://  971.506707 systemd-shutdown[1]: Unmounting file systems.
http://  971.515474 systemd-shutdown[1]: All filesystems unmounted.
http://  971.519466 systemd-shutdown[1]: Deactivating swaps.
http://  971.523260 systemd-shutdown[1]: All swaps deactivated.
http://  971.527047 systemd-shutdown[1]: Detaching loop devices.
http://  971.533158 systemd-shutdown[1]: All loop devices detached.
http://  971.537567 systemd-shutdown[1]: Detaching DM devices.
http://  971.542035 systemd-shutdown[1]: All DM devices detached.
http://  971.548011 systemd-shutdown[1]: Rebooting.
http://  971.612361 xenbus: xenbus_dev_shutdown: device/vfb/0: Initialising != Connected, skipping
http://  971.619540 Restarting system.
http://  971.622581 reboot: machine restart
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.10.0-327.13.1.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Thu Mar 31 16:04:38 UTC 2016
http://    0.000000 Command line: BOOT_IMAGE=/boot/vmlinuz-3.10.0-327.13.1.el7.x86_64 root=UUID=ef6ba050-6cdc-416a-9380-c14304d0d206 ro console=tty0 console=ttyS0,115200n8 crashkernel=auto console=ttyS0,115200 LANG=en_US.UTF-8
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x000000003fffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 AGP: No AGP bridge found
http://    0.000000 e820: last_pfn = 0x40000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x3fe00000-0x3fffffff
http://    0.000000 init_memory_mapping: mem 0x3c000000-0x3fdfffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x3bffffff
http://    0.000000 RAMDISK: mem 0x33a79000-0x35d34fff
http://    0.000000 ACPI: RSDP 00000000000ea020 00024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f5a0 00054 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 0BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 00040
http://    0.000000 ACPI: APIC 00000000fc00f360 000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f4b0 00038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f4f0 00028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f520 00031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f560 00031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000003fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x3fffffff
http://    0.000000   NODE_DATA mem 0x3ffd9000-0x3fffffff
http://    0.000000 kexec: crashkernel=auto resulted in zero bytes of reserved memory.
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   empty
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0x3fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 14 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x0009e000-0x0009ffff
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000dffff
http://    0.000000 PM: Registered nosave memory: mem 0x000e0000-0x000fffff
http://    0.000000 e820: mem 0x40000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:5120 nr_cpumask_bits:15 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 31 pages/cpu @ffff88003fc00000 s87168 r8192 d31616 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 257928
http://    0.000000 Policy zone: DMA32
http://    0.000000 Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.10.0-327.13.1.el7.x86_64 root=UUID=ef6ba050-6cdc-416a-9380-c14304d0d206 ro console=tty0 console=ttyS0,115200n8 crashkernel=auto console=ttyS0,115200 LANG=en_US.UTF-8
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 x86/fpu: xstate_offset[2]: 0240, xstate_sizes[2]: 0100
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 AGP: Checking aperture...
http://    0.000000 AGP: No AGP bridge found
http://    0.000000 Memory: 978284k/1048576k available (6441k kernel code, 396k absent, 69896k reserved, 4265k data, 1620k init)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=5120 to nr_cpu_ids=15.
http://    0.000000 	Offload RCU callbacks from all CPUs
http://    0.000000 	Offload RCU callbacks from CPUs: 0-14.
http://    0.000000 NR_IRQS:327936 nr_irqs:952 0
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console tty0 enabled
http://    0.000000 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 4194304 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2494.056 MHz processor
http://    0.005000 Calibrating delay loop (skipped), value calculated using timer frequency.. 4988.11 BogoMIPS (lpj=2494056)
http://    0.011003 pid_max: default: 32768 minimum: 301
http://    0.015040 Security Framework initialized
http://    0.018006 SELinux:  Initializing.
http://    0.020122 Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
http://    0.025225 Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
http://    0.030098 Mount-cache hash table entries: 4096
http://    0.034060 Initializing cgroup subsys memory
http://    0.037012 Initializing cgroup subsys devices
http://    0.040003 Initializing cgroup subsys freezer
http://    0.044003 Initializing cgroup subsys net_cls
http://    0.047002 Initializing cgroup subsys blkio
http://    0.051003 Initializing cgroup subsys perf_event
http://    0.054004 Initializing cgroup subsys hugetlb
http://    0.057081 CPU: Physical Processor ID: 0
http://    0.061693 mce: CPU supports 2 MCE banks
http://    0.064023 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.064023 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.064023 tlb_flushall_shift: 6
http://    0.087888 ACPI: Core revision 20130517
http://    0.094316 ACPI: All ACPI Tables successfully acquired
http://    0.098004 ftrace: allocating 24584 entries in 97 pages
http://    0.128004 Switched APIC routing to physical flat.
http://    0.134354 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.148609 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.156014 installing Xen timer for CPU 0
http://    0.159090 cpu 0 spinlock event irq 53
http://    0.160039 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.164347 Brought up 1 CPUs
http://    0.165007 smpboot: Total of 1 processors activated (4988.11 BogoMIPS)
http://    0.166470 NMI watchdog: disabled (cpu0): hardware events not enabled
http://    0.167097 devtmpfs: initialized
http://    0.169817 EVM: security.selinux
http://    0.170004 EVM: security.ima
http://    0.171004 EVM: security.capability
http://    0.172826 atomic64 test passed for x86-64 platform with CX8 and with SSE
http://    0.173105 NET: Registered protocol family 16
http://    0.174146 ACPI: bus type PCI registered
http://    0.175006 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.176258 PCI: Using configuration type 1 for base access
http://    0.177701 ACPI: Added _OSI(Module Device)
http://    0.178007 ACPI: Added _OSI(Processor Device)
http://    0.179005 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.180009 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.184058 ACPI: Interpreter enabled
http://    0.185007 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20130517/hwxface-571)
http://    0.188006 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20130517/hwxface-571)
http://    0.191016 ACPI: (supports S0 S3 S4 S5)
http://    0.192005 ACPI: Using IOAPIC for interrupt routing
http://    0.193041 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.248828 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.249011 acpi PNP0A03:00: _OSC: OS supports ASPM ClockPM Segments MSI
http://    0.250014 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.251086 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.252660 acpiphp: Slot [0] registered
http://    0.253811 acpiphp: Slot [3] registered
http://    0.254266 acpiphp: Slot [4] registered
http://    0.255320 acpiphp: Slot [5] registered
http://    0.256298 acpiphp: Slot [6] registered
http://    0.257260 acpiphp: Slot [7] registered
http://    0.258251 acpiphp: Slot [8] registered
http://    0.259303 acpiphp: Slot [9] registered
http://    0.260289 acpiphp: Slot 10 registered
http://    0.261289 acpiphp: Slot 11 registered
http://    0.262291 acpiphp: Slot 12 registered
http://    0.263301 acpiphp: Slot 13 registered
http://    0.264305 acpiphp: Slot 14 registered
http://    0.265253 acpiphp: Slot 15 registered
http://    0.266306 acpiphp: Slot 16 registered
http://    0.267283 acpiphp: Slot 17 registered
http://    0.268299 acpiphp: Slot 18 registered
http://    0.269312 acpiphp: Slot 19 registered
http://    0.270285 acpiphp: Slot 20 registered
http://    0.271300 acpiphp: Slot 21 registered
http://    0.272316 acpiphp: Slot 22 registered
http://    0.273469 acpiphp: Slot 23 registered
http://    0.274301 acpiphp: Slot 24 registered
http://    0.275307 acpiphp: Slot 25 registered
http://    0.276278 acpiphp: Slot 26 registered
http://    0.277285 acpiphp: Slot 27 registered
http://    0.278249 acpiphp: Slot 28 registered
http://    0.279289 acpiphp: Slot 29 registered
http://    0.280298 acpiphp: Slot 30 registered
http://    0.281251 acpiphp: Slot 31 registered
http://    0.282281 PCI host bridge to bus 0000:00
http://    0.283007 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.284005 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.285004 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.286004 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.287009 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.292793 pci 0000:00:01.1: legacy IDE quirk: reg 0x10: io  0x01f0-0x01f7
http://    0.293017 pci 0000:00:01.1: legacy IDE quirk: reg 0x14: io  0x03f6
http://    0.294004 pci 0000:00:01.1: legacy IDE quirk: reg 0x18: io  0x0170-0x0177
http://    0.295016 pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: io  0x0376
http://    0.296564 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.296564 * this clock source is slow. Consider trying other clock sources
http://    0.298215 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.304536 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.307210 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.310190 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.314176 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.333823 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.334080 xen:balloon: Initialising balloon driver
http://    0.336034 xen_balloon: Initialising balloon driver
http://    0.337131 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.338004 vgaarb: loaded
http://    0.339004 vgaarb: bridge control possible 0000:00:02.0
http://    0.340085 SCSI subsystem initialized
http://    0.341030 ACPI: bus type USB registered
http://    0.342021 usbcore: registered new interface driver usbfs
http://    0.343023 usbcore: registered new interface driver hub
http://    0.344037 usbcore: registered new device driver usb
http://    0.345116 PCI: Using ACPI for IRQ routing
http://    0.346488 NetLabel: Initializing
http://    0.347005 NetLabel:  domain hash size = 128
http://    0.348003 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.349031 NetLabel:  unlabeled traffic allowed by default
http://    0.350039 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.351018 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.354004 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.357023 Switching to clocksource xen
http://    0.361791 pnp: PnP ACPI init
http://    0.364320 ACPI: bus type PNP registered
http://    0.367245 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.371594 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.375488 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.379452 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.383777 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.387896 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.408932 pnp: PnP ACPI: found 11 devices
http://    0.412142 ACPI: bus type PNP unregistered
http://    0.420959 NET: Registered protocol family 2
http://    0.424164 TCP established hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.428469 TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
http://    0.432690 TCP: Hash tables configured (established 8192 bind 8192)
http://    0.436973 TCP: reno registered
http://    0.439690 UDP hash table entries: 512 (order: 2, 16384 bytes)
http://    0.443556 UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
http://    0.448543 NET: Registered protocol family 1
http://    0.452474 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.456814 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.460868 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.465185 Unpacking initramfs...
http://    0.933423 Freeing initrd memory: 35568k freed
http://    0.946628 RAPL PMU detected, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
http://    0.955223 hw unit of domain pp0-core 2^-16 Joules
http://    0.960301 hw unit of domain package 2^-16 Joules
http://    0.965279 hw unit of domain dram 2^-16 Joules
http://    0.970085 microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x415
http://    0.975584 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://    0.984046 sha1_ssse3: Using AVX optimized SHA-1 implementation
http://    0.989551 sha256_ssse3: Using AVX optimized SHA-256 implementation
http://    0.994641 futex hash table entries: 4096 (order: 6, 262144 bytes)
http://    0.998885 Initialise system trusted keyring
http://    1.002144 audit: initializing netlink socket (disabled)
http://    1.005961 type=2000 audit(1461900233.810:1): initialized
http://    1.029030 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    1.033945 zpool: loaded
http://    1.036496 zbud: loaded
http://    1.039223 VFS: Disk quotas dquot_6.5.2
http://    1.042104 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    1.046802 msgmni has been set to 1980
http://    1.049816 Key type big_key registered
http://    1.053130 NET: Registered protocol family 38
http://    1.056323 Key type asymmetric registered
http://    1.059596 Asymmetric key parser 'x509' registered
http://    1.062925 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251)
http://    1.068597 io scheduler noop registered
http://    1.071795 io scheduler deadline registered (default)
http://    1.075359 io scheduler cfq registered
http://    1.078618 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    1.082404 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://    1.086896 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
http://    1.092336 ACPI: Power Button PWRF
http://    1.095225 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
http://    1.100447 ACPI: Sleep Button SLPF
http://    1.103613 GHES: HEST is not enabled!
http://    1.106778 xen:grant_table: Grant tables using version 1 layout
http://    1.110832 Grant table initialized
http://    1.113659 Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
http://    1.117576 Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
http://    1.149326 00:09: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
http://    1.153871 Non-volatile memory driver v1.3
http://    1.157100 Linux agpgart interface v0.103
http://    1.160355 crash memory driver: version 1.1
http://    1.163571 rdac: device handler registered
http://    1.167220 hp_sw: device handler registered
http://    1.170689 emc: device handler registered
http://    1.173771 alua: device handler registered
http://    1.176867 libphy: Fixed MDIO Bus: probed
http://    1.180187 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://    1.184720 ehci-pci: EHCI PCI platform driver
http://    1.188050 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://    1.192512 ohci-pci: OHCI PCI platform driver
http://    1.195906 uhci_hcd: USB Universal Host Controller Interface driver
http://    1.200567 usbcore: registered new interface driver usbserial
http://    1.204511 usbcore: registered new interface driver usbserial_generic
http://    1.209102 usbserial: USB Serial support registered for generic
http://    1.213217 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    1.220545 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    1.224143 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    1.227945 mousedev: PS/2 mouse device common for all mice
http://    1.232277 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
http://    1.238575 rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
http://    1.246107 rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
http://    1.253537 cpuidle: using governor menu
http://    1.256635 hidraw: raw HID events driver (C) Jiri Kosina
http://    1.260801 usbcore: registered new interface driver usbhid
http://    1.264837 usbhid: USB HID core driver
http://    1.267908 drop_monitor: Initializing network drop monitor service
http://    1.271935 TCP: cubic registered
http://    1.274405 Initializing XFRM netlink socket
http://    1.277660 NET: Registered protocol family 10
http://    1.281009 NET: Registered protocol family 17
http://    1.284406 Loading compiled-in X.509 certificates
http://    1.289516 Loaded X.509 cert 'CentOS Linux kpatch signing key: ea0413152cde1d98ebdca3fe6f0230904c9ef717'
http://    1.297558 Loaded X.509 cert 'CentOS Linux Driver update signing key: 7f421ee0ab69461574bb358861dbe77762a4201b'
http://    1.305503 Loaded X.509 cert 'CentOS Linux kernel signing key: 6f3378187d83cd18a43b2e0ac49aed8aeffc3ac7'
http://    1.312125 registered taskstats version 1
http://    1.316733 Key type trusted registered
http://    1.321006 Key type encrypted registered
http://    1.325280 IMA: No TPM chip found, activating TPM-bypass!
http://    1.329382 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.333934 xenbus_probe_frontend: Device with no driver: device/vbd/768
http://    1.338241 xenbus_probe_frontend: Device with no driver: device/vif/0
http://    1.342819 rtc_cmos 00:04: setting system clock to 2016-04-29 03:23:54 UTC (1461900234)
http://    1.350222 Freeing unused kernel memory: 1620k freed
http://    1.357593 systemd[1]: systemd 219 running in system mode. (+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN)
http://    1.369007 systemd[1]: Detected virtualization xen.
http://    1.372350 systemd[1]: Detected architecture x86-64.
http://    1.388985 systemd[1]: Running in initial RAM disk.

Welcome to [0;34mCentOS Linux 7 (Core) dracut-033-360.el7_2 (Initramfs)[0m!

http://    1.396328 systemd[1]: No hostname configured.
http://    1.399681 systemd[1]: Set hostname to <localhost>.
http://    1.403161 systemd[1]: Initializing machine ID from random generator.
[[32m  OK  0m Created slice -.slice.
http://    1.434995 systemd[1]: Created slice -.slice.
http://    1.438036 systemd[1]: Starting -.slice.
[[32m  OK  0m Listening on udev Kernel Socket.
http://    1.444022 systemd[1]: Listening on udev Kernel Socket.
http://    1.447760 systemd[1]: Starting udev Kernel Socket.
[[32m  OK  0m Listening on udev Control Socket.
http://    1.456371 systemd[1]: Listening on udev Control Socket.
http://    1.459981 systemd[1]: Starting udev Control Socket.
[[32m  OK  0m Reached target Swap.
http://    1.465969 systemd[1]: Reached target Swap.
http://    1.469219 systemd[1]: Starting Swap.
[[32m  OK  0m Reached target Local File Systems.
http://    1.476241 systemd[1]: Reached target Local File Systems.
http://    1.480252 systemd[1]: Starting Local File Systems.
http://    1.484764 systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
http://    1.490749 systemd[1]: Starting Dispatch Password Requests to Console Directory Watch.
[[32m  OK  0m Reached target Paths.
http://    1.499197 systemd[1]: Reached target Paths.
http://    1.502521 systemd[1]: Starting Paths.
[[32m  OK  0m Reached target Timers.
http://    1.508205 systemd[1]: Reached target Timers.
http://    1.511490 systemd[1]: Starting Timers.
[[32m  OK  0m Created slice System Slice.
http://    1.517722 systemd[1]: Created slice System Slice.
http://    1.521554 systemd[1]: Starting System Slice.
[[32m  OK  0m Reached target Slices.
http://    1.528483 systemd[1]: Reached target Slices.
http://    1.531900 systemd[1]: Starting Slices.
[[32m  OK  0m Listening on Journal Socket.
http://    1.537930 systemd[1]: Listening on Journal Socket.
http://    1.541619 systemd[1]: Starting Journal Socket.
http://    1.545282 systemd[1]: Started dracut ask for additional cmdline parameters.
[[32m  OK  0m Reached target Sockets.
http://    1.552443 systemd[1]: Reached target Sockets.
http://    1.555863 systemd[1]: Starting Sockets.
http://    1.559406 systemd[1]: Starting Create list of required static device nodes for the current kernel...
         Starting Create list of required st... nodes for the current kernel...
http://    1.571371 systemd[1]: Started Load Kernel Modules.
http://    1.575243 systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
http://    1.583503 systemd[1]: Starting dracut cmdline hook...
         Starting dracut cmdline hook...
http://    1.593139 systemd[1]: Starting Journal Service...
         Starting Journal Service...
[[32m  OK  0m Started Create list of required sta...ce nodes for the current kernel.
http://    1.619101 systemd[1]: Started Create list of required static device nodes for the current kernel.
[[32m  OK  0m Started Apply Kernel Variables.
http://    1.632794 systemd[1]: Started Apply Kernel Variables.
[[32m  OK  0m Started Journal Service.
http://    1.640596 systemd[1]: Started Journal Service.
         Starting Create Static Device Nodes in /dev...
[[32m  OK  0m Started Create Static Device Nodes in /dev.
[[32m  OK  0m Started dracut cmdline hook.
         Starting dracut pre-udev hook...
http://    1.733985 RPC: Registered named UNIX socket transport module.
http://    1.738294 RPC: Registered udp transport module.
http://    1.741807 RPC: Registered tcp transport module.
http://    1.745333 RPC: Registered tcp NFSv4.1 backchannel transport module.
[[32m  OK  0m Started dracut pre-udev hook.
         Starting udev Kernel Device Manager...
[[32m  OK  0m Started udev Kernel Device Manager.
         Starting dracut pre-trigger hook...
[[32m  OK  0m Started dracut pre-trigger hook.
         Starting udev Coldplug all Devices...
         Mounting Configuration File System...
[[32m  OK  0m Mounted Configuration File System.
http://    1.904371 FDC 0 is a S82078B
[[32m  OK  0m Started udev Coldplug all Devices.
         Starting dracut initqueue hook...http://    1.948200 tsc: Refined TSC clocksource calibration: 2493.990 MHz

http://    1.955658 xen_netfront: Initialising Xen virtual ethernet driver
[[32m  OK  0m Reached target System Initialization.http://    1.977771 scsi host0: ata_piix

[http://    1.986542 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
[32m  OK  0m Reached target Basic System.
http://    2.006701 scsi host1: ata_piix
http://    2.009646 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    2.013912 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    2.023694  xvda: xvda1
http://    2.091575 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input3
[[32m  OK  0m Found device /dev/disk/by-uuid/ef6ba050-6cdc-416a-9380-c14304d0d206.
         Starting File System Check on /dev/...0-6cdc-416a-9380-c14304d0d206...
[[32m  OK  0m Started File System Check on /dev/d...050-6cdc-416a-9380-c14304d0d206.
[[32m  OK  0m Started dracut initqueue hook.
         Mounting /sysroot...
[[32m  OK  0m Reached target Remote File Systems (Pre).
[[32m  OK  0m Reached target Remote File Systems.
http://    2.214608 SGI XFS with ACLs, security attributes, no debug enabled
http://    2.220964 XFS (xvda1): Mounting V4 Filesystem
http://    2.855174 XFS (xvda1): Ending clean mount
[[32m  OK  0m Mounted /sysroot.
[[32m  OK  0m Reached target Initrd Root File System.
         Starting Reload Configuration from the Real Root...
[[32m  OK  0m Started Reload Configuration from the Real Root.
[[32m  OK  0m Reached target Initrd File Systems.
[[32m  OK  0m Reached target Initrd Default Target.
         Starting dracut pre-pivot and cleanup hook...
[[32m  OK  0m Started dracut pre-pivot and cleanup hook.
         Starting Cleaning Up and Shutting Down Daemons...
[[32m  OK  0m Stopped Cleaning Up and Shutting Down Daemons.
[[32m  OK  0m Stopped dracut pre-pivot and cleanup hook.
         Stopping dracut pre-pivot and cleanup hook...
[[32m  OK  0m Stopped target Initrd Default Target.
[[32m  OK  0m Stopped target Basic System.
[[32m  OK  0m Stopped target System Initialization.
[[32m  OK  0m Stopped target Local File Systems.
[[32m  OK  0m Stopped target Sockets.
[[32m  OK  0m Stopped target Slices.
[[32m  OK  0m Stopped Apply Kernel Variables.
         Stopping Apply Kernel Variables...
[[32m  OK  0m Stopped target Swap.
[[32m  OK  0m Stopped target Remote File Systems.
[[32m  OK  0m Stopped target Remote File Systems (Pre).
[[32m  OK  0m Stopped target Timers.
[[32m  OK  0m Stopped target Paths.
[[32m  OK  0m Stopped dracut initqueue hook.
         Stopping dracut initqueue hook...
[[32m  OK  0m Stopped udev Coldplug all Devices.
         Stopping udev Coldplug all Devices...
[[32m  OK  0m Stopped dracut pre-trigger hook.
         Stopping dracut pre-trigger hook...
         Stopping udev Kernel Device Manager...
[[32m  OK  0m Stopped udev Kernel Device Manager.
[[32m  OK  0m Stopped Create Static Device Nodes in /dev.
         Stopping Create Static Device Nodes in /dev...
[[32m  OK  0m Stopped Create list of required sta...ce nodes for the current kernel.
         Stopping Create list of required st... nodes for the current kernel...
[[32m  OK  0m Stopped dracut pre-udev hook.
         Stopping dracut pre-udev hook...
[[32m  OK  0m Stopped dracut cmdline hook.
         Stopping dracut cmdline hook...
[[32m  OK  0m Closed udev Kernel Socket.
[[32m  OK  0m Closed udev Control Socket.
         Starting Cleanup udevd DB...
[[32m  OK  0m Started Cleanup udevd DB.
[[32m  OK  0m Reached target Switch Root.
         Starting Switch Root...
http://    3.226434 systemd-journald124: Received SIGTERM from PID 1 (systemd).
http://    3.323811 type=1404 audit(1461900236.480:2): enforcing=1 old_enforcing=0 auid=4294967295 ses=4294967295
http://    3.483437 type=1403 audit(1461900236.640:3): policy loaded auid=4294967295 ses=4294967295
http://    3.495749 systemd[1]: Successfully loaded SELinux policy in 173.514ms.
http://    3.541820 ip_tables: (C) 2000-2006 Netfilter Core Team
http://    3.545410 systemd[1]: Inserted module 'ip_tables'
http://    3.566896 systemd[1]: Relabelled /dev and /run in 13.210ms.

Welcome to [0;31mCentOS Linux 7 (Core)[0m!

[[32m  OK  0m Stopped Switch Root.
[[32m  OK  0m Created slice User and Session Slice.
[[32m  OK  0m Listening on udev Control Socket.
[[32m  OK  0m Stopped target Switch Root.
[[32m  OK  0m Stopped File System Check on Root Device.
         Stopping File System Check on Root Device...
[[32m  OK  0m Reached target Slices.
[[32m  OK  0m Listening on /dev/initctl Compatibility Named Pipe.
[[32m  OK  0m Reached target Encrypted Volumes.
[[32m  OK  0m Created slice system-serial\x2dgetty.slice.
         Starting Setup Virtual Console...
         Mounting POSIX Message Queue File System...
[[32m  OK  0m Listening on Delayed Shutdown Socket.
[[32m  OK  0m Listening on udev Kernel Socket.
[[32m  OK  0m Stopped Flush Journal to Persistent Storage.
[[32m  OK  0m Stopped Journal Service.
         Starting Journal Service...
         Mounting Debug File System...
[[32m  OK  0m Set up automount Arbitrary Executab...ats File System Automount Point.
[[32m  OK  0m Created slice system-getty.slice.
         Starting Apply Kernel Variables...
         Mounting NFSD configuration filesystem...
[[32m  OK  0m Stopped target Initrd File Systems.
         Mounting Huge Pages File System...
[[32m  OK  0m Reached target Swap.
         Starting Remount Root and Kernel File Systems...
[[32m  OK  0m Stopped target Initrd Root File System.http://    3.951312 Installing knfsd (copyright (C) 1996 okir@monad.swb.de).

         Starting Create list of required st... nodes for the current kernel...
[[32m  OK  0m Mounted NFSD configuration filesystem.
[[32m  OK  0m Mounted Debug File System.
[[32m  OK  0m Mounted POSIX Message Queue File System.
[[32m  OK  0m Mounted Huge Pages File System.
[[32m  OK  0m Started Apply Kernel Variables.
[[32m  OK  0m Started Setup Virtual Console.
[[32m  OK  0m Started Remount Root and Kernel File Systems.
[[32m  OK  0m Started Create list of required sta...ce nodes for the current kernel.
         Starting Create Static Device Nodes in /dev...
         Starting Configure read-only root support...
         Starting Load/Save Random Seed...
         Starting udev Coldplug all Devices...
[[32m  OK  0m Started Journal Service.
[[32m  OK  0m Started Load/Save Random Seed.
[[32m  OK  0m Started Create Static Device Nodes in /dev.
[[32m  OK  0m Started Configure read-only root support.
         Starting udev Kernel Device Manager...
[[32m  OK  0m Reached target Local File Systems (Pre).
         Mounting /mnt/mypay.webserver.bucket...
         Starting Flush Journal to Persistent Storage...
[[32m  OK  0m Started udev Coldplug all Devices.
http://    4.163231 systemd-journald380: Received request to flush runtime journal from PID 1
http://    4.169286 fuse init (API version 7.22)
[[1;31mFAILED0m Failed to mount /mnt/mypay.webserver.bucket.
See 'systemctl status mnt-mypay.webserver.bucket.mount' for details.
[[1;33mDEPEND0m Dependency failed for Local File Systems.
[[1;33mDEPEND0m Dependency failed for Relabel all filesystems, if necessary.
[[1;33mDEPEND0m Dependency failed for Mark the need to relabel after reboot.
[[32m  OK  0m Started Flush Journal to Persistent Storage.
[[32m  OK  0m Started udev Kernel Device Manager.
http://    4.313696 input: PC Speaker as /devices/platform/pcspkr/input/input4
http://    4.320471 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
http://    4.357541 drm Initialized drm 1.1.0 20060810
[[32m  OK  0m Found device /dev/ttyS0.
http://    4.398767 Error: Driver 'pcspkr' is already registered, aborting...
         Starting Preprocess NFS configuration...http://    4.427405 AES CTR mode by8 optimization enabled

http://    4.441657 ppdev: user-space parallel port driver
[[32m  OK  0m Stopped Dump dmesg to /var/log/dmesg.http://    4.503067 TTM Zone  kernel: Available graphics memory: 507736 kiB
http://    4.507231 TTM Initializing pool allocator
http://    4.510687 TTM Initializing DMA pool allocator

[[32m  OK  0m Stopped Getty on tty1.
http://    4.525906 drm fb mappable at 0xF0000000
http://    4.529075 drm vram aper at 0xF0000000
http://    4.532232 drm size 33554432
http://    4.534838 drm fb depth is 24
http://    4.537540 drm    pitch is 3072
[[32m  OK  0m Stopped target Multi-User System.
[[32m  OK  0m Stopped irqbalance daemon.
[[32m  OK  0m Stopped nginx - high performance web server.http://    4.561062 alg: No test for __gcm-aes-aesni (__driver-gcm-aes-aesni)

[[32m  OK  0m Stopped Postfix Mail Transport Agent.
[[32m  OK  0m Stopped NTP client/server.
http://    4.580360 fbcon: cirrusdrmfb (fb0) is primary device
http://    4.624064 alg: No test for crc32 (crc32-pclmul)
http://    4.649534 Console: switching to colour frame buffer device 128x48
http://    4.697756 cirrus 0000:00:02.0: fb0: cirrusdrmfb frame buffer device
http://    4.697757 cirrus 0000:00:02.0: registered panic notifier
[[32m  OK  0m Stopped Login Service.
[[32m  OK  0m Stopped Load CPU microcode update.http://    4.710024 drm Initialized cirrus 1.0.0 20110418 for 0000:00:02.0 on minor 0

[[32m  OK  0m Stopped firewalld - dynamic firewall daemon.
[[32m  OK  0m Stopped Dynamic System Tuning Daemon.
[[32m  OK  0m Stopped LSB: Bring up/down networking.
[[32m  OK  0m Stopped D-Bus System Message Bus.
[[32m  OK  0m Closed D-Bus System Message Bus Socket.
[[32m  OK  0m Stopped Command Scheduler.
[[32m  OK  0m Stopped System Logging Service.
[[32m  OK  0m Stopped Execute cloud user/final scripts.
[[32m  OK  0m Stopped Apply the settings specified in cloud-config.
[[32m  OK  0m Stopped Serial Getty on ttyS0.
[[32m  OK  0m Reached target Login Prompts.
[[32m  OK  0m Closed RPCbind Server Activation Socket.
[[32m  OK  0m Stopped GSSAPI Proxy Daemon.
[[32m  OK  0m Reached target Timers.
[[32m  OK  0m Stopped target Cloud-config availability.
[[32m  OK  0m Stopped Initial cloud-init job (metadata service crawler).
[[32m  OK  0m Stopped Initial cloud-init job (pre-networking).
[[32m  OK  0m Stopped OpenSSH server daemon.
[[32m  OK  0m Stopped OpenSSH Server Key Generation.
[[32m  OK  0m Reached target Network.
[[32m  OK  0m Reached target Network is Online.
[[32m  OK  0m Stopped Permit User Sessions.
[[32m  OK  0m Stopped target Basic System.
[[32m  OK  0m Stopped target System Initialization.
         Mounting FUSE Control File System...
[[32m  OK  0m Reached target Paths.
         Starting Import network configuration from initramfs...
[[32m  OK  0m Reached target Sockets.
[[32m  OK  0m Mounted FUSE Control File System.
[[32m  OK  0m Started Preprocess NFS configuration.
         Starting Notify NFS peers of a restart...
[[32m  OK  0m Reached target NFS client services.
[[32m  OK  0m Reached target Remote File Systems (Pre).
[[32m  OK  0m Reached target Remote File Systems.
         Starting Crash recovery kernel arming...
[[32m  OK  0m Started Import network configuration from initramfs.
[[32m  OK  0m Started Notify NFS peers of a restart.
[[32m  OK  0m Started Emergency Shell.
         Starting Emergency Shell...
[[32m  OK  0m Reached target Emergency Mode.
         Starting Create Volatile Files and Directories...
[[32m  OK  0m Started Create Volatile Files and Directories.
         Starting Security Auditing Service...
http://    5.038955 type=1305 audit(1461900238.195:4): audit_pid=516 old=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:auditd_t:s0 res=1
[[32m  OK  0m Started Security Auditing Service.
         Starting Update UTMP about System Boot/Shutdown...
[[32m  OK  0m Started Update UTMP about System Boot/Shutdown.
         Starting Update UTMP about System Runlevel Changes...
[[32m  OK  0m Started Update UTMP about System Runlevel Changes.
[[1;31mFAILED0m Failed to start Crash recovery kernel arming.
See 'systemctl status kdump.service' for details.
Welcome to emergency mode! After logging in, type ""journalctl -xb"" to view
system logs, ""systemctl reboot"" to reboot, ""systemctl default"" or ^D to
try again to boot into default mode.
Give root password for maintenance
(or type Control-D to continue): [[32m  OK  0m Stopped target Timers.
[[32m  OK  0m Stopped target Paths.
[[32m  OK  0m Stopped target Network is Online.
[[32m  OK  0m Removed slice system-serial\x2dgetty.slice.
[[32m  OK  0m Stopped target Emergency Mode.
[[32m  OK  0m Stopped target Slices.
         Unmounting Configuration File System...
[[32m  OK  0m Stopped target Encrypted Volumes.
[[32m  OK  0m Stopped Apply Kernel Variables.
         Stopping Apply Kernel Variables...
[[32m  OK  0m Removed slice system-getty.slice.
         Stopping Load/Save Random Seed...
[[32m  OK  0m Stopped target Remote File Systems.
[[32m  OK  0m Stopped target Login Prompts.
[[32m  OK  0m Stopped Setup Virtual Console.
         Stopping Setup Virtual Console...
[[32m  OK  0m Reached target Unmount All Filesystems.
[[32m  OK  0m Removed slice User and Session Slice.
[[32m  OK  0m Stopped target Swap.
         Stopping Update UTMP about System Boot/Shutdown...
[[32m  OK  0m Stopped target Network.
         Stopping Emergency Shell...
[[32m  OK  0m Stopped target Local File Systems (Pre).
[[32m  OK  0m Stopped Create Static Device Nodes in /dev.
         Stopping Create Static Device Nodes in /dev...
[[32m  OK  0m Stopped target Remote File Systems (Pre).
[[32m  OK  0m Stopped target NFS client services.
         Unmounting RPC Pipe File System...
[[32m  OK  0m Stopped target Sockets.
[[32m  OK  0m Stopped Emergency Shell.
[[32m  OK  0m Unmounted Configuration File System.
[[32m  OK  0m Stopped Load/Save Random Seed.
[[32m  OK  0m Stopped Update UTMP about System Boot/Shutdown.
[[32m  OK  0m Unmounted RPC Pipe File System.
         Stopping Security Auditing Service...
http:// 2452.778709 type=1305 audit(1461902685.935:19): audit_pid=0 old=516 auid=4294967295 ses=4294967295 subj=system_u:system_r:auditd_t:s0 res=1
[[32m  OK  0m Stopped Security Auditing Service.
http:// 2452.788897 type=1131 audit(1461902685.945:20): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=auditd comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
[[32m  OK  0m Stopped Create Volatile Files and Directories.
http:// 2452.802958 type=1131 audit(1461902685.959:21): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=systemd-tmpfiles-setup comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Create Volatile Files and Directories...
[[32m  OK  0m Stopped Configure read-only root support.
http:// 2452.819442 type=1131 audit(1461902685.976:22): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=rhel-readonly comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Configure read-only root support...
[[32m  OK  0m Stopped Remount Root and Kernel File Systems.
http:// 2452.834911 type=1131 audit(1461902685.991:23): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=systemd-remount-fs comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Remount Root and Kernel File Systems...
[[32m  OK  0m Stopped Import network configuration from initramfs.
http:// 2452.852563 type=1131 audit(1461902686.009:24): pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=rhel-import-state comm=""systemd"" exe=""/usr/lib/systemd/systemd"" hostname=? addr=? terminal=? res=success'
         Stopping Import network configuration from initramfs...
[[32m  OK  0m Reached target Shutdown.
http:// 2452.883617 systemd-shutdown[1]: Sending SIGTERM to remaining processes...
http:// 2452.893018 systemd-journald380: Received SIGTERM from PID 1 (systemd-shutdow).
http:// 2452.897809 systemd-shutdown[1]: Sending SIGKILL to remaining processes...
http:// 2452.904602 systemd-shutdown[1]: Unmounting file systems.
http:// 2452.912424 systemd-shutdown[1]: All filesystems unmounted.
http:// 2452.916275 systemd-shutdown[1]: Deactivating swaps.
http:// 2452.919868 systemd-shutdown[1]: All swaps deactivated.
http:// 2452.923403 systemd-shutdown[1]: Detaching loop devices.
http:// 2452.928808 systemd-shutdown[1]: All loop devices detached.
http:// 2452.932700 systemd-shutdown[1]: Detaching DM devices.
http:// 2452.936447 systemd-shutdown[1]: All DM devices detached.
http:// 2452.941644 systemd-shutdown[1]: Rebooting.
http:// 2453.047497 xenbus: xenbus_dev_shutdown: device/vfb/0: Initialising != Connected, skipping
http:// 2453.052907 Restarting system.
http:// 2453.055591 reboot: machine restart"

Amazon EC2	"Re: 1/2 checks passed - instance status checks fail
I Also having some issues in EC2 instance like, i created a instance (t2.micro) and now it's now in production after deployment few days later i am just receiving below error.

ERROR: ""Could not retrieve mirrorlist http://repo.ap-southeast-1.amazonaws.com/latest/main/mirror.list error was 12: Timeout on http://repo.ap-southeast-1.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10000 milliseconds') Could not retrieve mirrorlist http://repo.ap-southeast-1.amazonaws.com/latest/updates/mirror.list error was 12: Timeout on http://repo.ap-southeast-1.amazonaws.com/latest/updates/mirror.list: (28, 'Connection timed out after 10000 milliseconds')"" 

Can someone help me out on this, why this is happening.

Regards,
Vimal"

Amazon EC2	"Re: 1/2 checks passed - instance status checks fail
i correct it by reset the /etc/fstab.
Because some service launch later than s3 mount.
So i attach a new vol as boot vol to revise the /etc/fstab in original vol."

Amazon EC2	"EC2 instance keeps rebooting itself
Hi guys,

One of my ec2 servers keep rebooting without any recent change except running yum update. I don't find any pattern. It reboots even if I'm running commands in the console through ssh. Please help.

Instance ID: i-8ced0341"

Amazon EC2	"Re: EC2 instance keeps rebooting itself
I saw the following messages came up when I was working in the ssh console with the said instance. Why was that?

The system is going down for reboot NOW!
Control-Alt-Delete pressed"

Amazon EC2	"Re: EC2 instance keeps rebooting itself
These should be the first few lines of system log just before self rebooting.

/dev/fd/11: line 1: /sbin/plymouthd: No such file or directory
initctl: Event failed
Shutting down monit:   OK"

Amazon EC2	"Re: EC2 instance keeps rebooting itself
I've stopped the instance and started again. Now the problem is fixed and I found its public IP had changed. I suppose it was a hardware problem and the solution is to change the hardware by the Amazon. Thanks!"

Amazon EC2	"How to open port for fileserver of windows server 2012 r2
Hi, 
I'm gonna create fileserver for internal use on windows server 2012 R2, but never find any information which port should be opened at security group.
Hope anyone help me."

Amazon EC2	"Re: How to open port for fileserver of windows server 2012 r2
You can open all traffic for your IP only.

If it helps then don't forget to mark the response as helpful/correct."

Amazon EC2	"instance is running but cannot ssh into it and the domain is not resovling
Hi there. I just changed my wordpress site's database to RDS, because mysql database keeps stopping every day and I have to restart it every time. It works fine at the beginning. However, after a while, I cannot visit the site and even worse, I cannot ssh into my instance. my instance id is i-1fbab1c0 and the elastic IP is 52.63.231.111. Please help me figure out what is going on. Thanks.

The connection error says: Connection closed by 52.63.231.111. have no idea what does this mean!!

Edited by: damieneskimo on May 29, 2016 11:26 PM"

Amazon EC2	"Auto Scale ""Rate Exceeded"" error while creating scheduled actions
Hi,

I repeatedly get ""Rate Exceeded"" errors while I try to change auto scale group schedules via an API.

What the automated job does:
1) It evaluates the number of instances needed for every hour of the day based on some data.
2) Deletes previous schedules per auto scaling group where each has 24 schedules (for each hour of the day)
3) Creates 24 new schedules for each auto scaling group.
4) Currently there are two such groups, will increase to around 50 soon (we have a lot of services).
I have auto scaling setup, this is to get maximum number of spot instances instead of on demand, will not get into those details here.

How do I increase this limit? This is an API call limit?"

Amazon EC2	"Re: Auto Scale ""Rate Exceeded"" error while creating scheduled actions
Answer please, AWS people?"

Amazon EC2	"Troubleshooting EC2 instance connectivity or hardware problem
Hello everyone:

I am trying to solve a connectivity problem I am experiencing with an EC2 instance.  Can anybody help?

When I try to run ""curl"" on different sites, some times it works and some other times it does not work.  Including the site ""amazon.com"" fails sometimes (at least 1 out of 5 attempts fail or it take a long time) to load when I try to load the website with the Linux command ""curl -i amazon.com"".  This instance is running Amazon-Linux-2015.09.

I am not sure if this problem is with the hardware where this EC2 runs or if it is a connectivity problem with the availability zone (AZ). Yesterday the AWS console was reporting a 1/2 checks failed on the ""status check"" for this EC2 instance. I checked the system logs but the only problem I saw was ""ntpdate: synchronizing with time server FAILED"". I already stopped the EC2 instance a couple of times, hoping that it would starts on a different hardware, but the problem persists.

Do I need to terminate the EC2 instance to make sure it runs on a different hardware, to see if this problem goes away?, or do I need to move the server to a different AZ by creating an image and the instantiate that image on the new zone?

Server instance ID is i-2d502db5 and it is connected to AZ us-east-1b.

Any recommendations on how to solve this problem?"

Amazon EC2	"Re: Troubleshooting EC2 instance connectivity or hardware problem
Hi Ivan,

If an instance in your VPC is the client initiating a request, your network ACL must have an inbound rule to enable traffic destined for the ephemeral ports specific to the type of instance (Amazon Linux, Windows Server 2008, and so on). Looking at the Instance  i-2d502db5 is launched in a VPC with restricted Inbound ACLs of allowing Ephemeral ports 49152-65535 to allow inbound return traffic from requests originating in the subnet  (TCP 	49152 - 65535 	0.0.0.0/0 )

The client that initiates the request chooses the ephemeral port range. The range varies depending on the client's operating system. For example, Windows Server 2008 and later versions use ports 49152-65535, Linux kernels (including the Amazon Linux kernel) use ports 32768-61000.  So, you might want to use a different range for your network ACLs depending on the type of client that you're using or with which you're communicating. In practice, to cover the different types of clients that might initiate traffic to public-facing instances in your VPC, you can open ephemeral ports 1024-65535.

Refer http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html#VPC_ACLs_Ephemeral_Ports for more details on Ephemerals ports in N/W ACLs.

I would suggest you to allow the ephemeral port range 1024-65535 inbound (TCP   1024 - 65535   0.0.0.0/0 ) in ACL acl-77280113 and test the Internet connectivity from within the Instance  ""curl –I amazon.com"".

regards,
Deepa"

Amazon EC2	"""stop"", ""detach volume"" and ""snapshot"" do not work on degraded instance.
ups; after ~30 minutes it stopped finally  

Hi,

I have received an e-mail from AWS related to degraded instance ""i-05c447b9"".

But I can not make it to stop or I can not make it to detach related volume to create new instance.

Could you help me ?

Edited by: ubaltaci on May 29, 2016 7:07 PM"

Amazon EC2	"EC2 instance with WP down - how can I make it publicly accessible again?
Installed on 12 May, was running fine for some time.

Yesterday I found it was not available online and couldn't find it in console either. Started new instance and then the site came back online.

Today same problem, site not available, times out. Started new instance again, but this time site did not come back.

I have gone through the issues on this link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

except for auto scaling.

So the issue is not:
==rules in security groups: Linux instance, port 22 is present
==the route table for the subnet is OK
==network access control list, ACL: for inbound as well as outbound, there is a line here that says ALLOW for all traffic (rule 100), there is a line here that says DENY (rule *), but this line is not editable, only numbered rules are editable
==firewall is unlikely to be the issue, because I have had access before
==I have added the Elastic IP Address
==CPU load looks low in the available graphs, I have not gone into autoscaling yet, don't think I'm having a whole lot of traffic, but I'm not measuring it, to be honest

So please get this resolved or answered for us soon? If it takes long I'm going to look for another hosting option.

Thanks,
Hendrik

Instance ID: i-044c54ed144ed0305
Instance: state running
Public IP: 52.203.98.127
Instance type: t2.micro
Elastic IP: 52.203.98.127"

Amazon EC2	"EC2 instance reporting that Windows is not activated
Hello-   we have this issue on one of our servers which is instance i-f7387006.  We've had this instance for about 4 years actually, and this week it started reporting that Windows could not be activated.

I tried installing the latest version of EC2Config, and then restarted the server a few times too.   Still no Windows activation though.  Would you take a look at the attached screen shots and let us know what to try next?   Thanks very much for your help."

Amazon EC2	"Re: EC2 instance reporting that Windows is not activated
Hi Larry,

Could you please provide the following outputs for us to take a closer look?

1. Output of slmgr /dlv (run this in cmd prompt)
2. Output of slmgr /ato
3. Output of netstat -r (windows route table)
4. Test whether you are able to telnet to our KMS servers with telnet 169.254.169.250 1688
5. If you are able to confirm that you can connect to our KMS servers with telnet, try the following

5.1 Set the KMS client key for your OS with slmgr.vbs /ipk 74YFP-3QFB3-KQT8W-PMXWJ-7M648
5.2 Register with our KMS server with slmgr.vbs /skms 169.254.169.250:1688
5.3 Attempt an activation with slmgr /ato

Let me know how it goes and if it fails, please include the information as per above!"

Amazon EC2	"Re: EC2 instance reporting that Windows is not activated
Thanks!   Ok-  telnet does appear to connect to that address & port successfully, although I'm getting various errors (see attached) from the slmgr commands.

I attached the output you requested for steps 1 thru 3 and 5.1 here."

Amazon EC2	"Re: EC2 instance reporting that Windows is not activated
Hello

Looking at the output from slmgr /dlv, it looks like the registered KMS server is not the expected 169.254.169.250 or 169.254.169.251

Can you run step 5.2 for changing the server address and try running the same command for activation? (Also the output of /dlv)"

Amazon EC2	"Re: EC2 instance reporting that Windows is not activated
Thanks very much, ok-  that did it!  It says Windows was activated successfully, and I restarted just to make sure and it still reports Windows is activated.

I appreciate your help because I am not familiar with the intricacies of Windows licensing and activation."

Amazon EC2	"Defining the assigned IP range to user
Sorry if this question is a rather amateur, however I am hoping that someone can assist with the following ...

We receive files from a customer that uses Amazon web services (Elastic Cloud) via FTP.

Consequently, out of good security practice, we need to define a security policy on our firewall for this customer, one element of which is the source / incoming IP address or range in order to limit access from the those connecting.

According to the customer:

""Yes, as we are on elastic cloud we do not have a set of fixed IPs. Whenever we scale or replace the server instances the IPs will be changing from a very wide range.""

Is anyone able to confirm this or have any suggestion as to how this might be resolved?

Best regards
Stephen"

Amazon EC2	"Re: Defining the assigned IP range to user
That could certainly be the case. With multiple EC2 instances (= servers) involved, potentially even created and destroyed automatically based on demand, outbound connections could be originating from a wide range of unknown, changing IP addresses. It avoids introducing a single point of failure, but is problematic in your specific case. Transferring files from a known, stable IP address will require some sort of change on the customer side, which may not necessarily be a simple thing. Introducing a NAT Gateway which will have it's own static IP address could be one option, but it really depends on what the setup looks like today."

Amazon EC2	"WordPress Bitnami install - site down, pages won't load no idea why
I have a t2.micro instance set up with Bitnami WordPress installed on it.

The site has been up about a week with no problems, however today the website won't load - I can connect to the server via ftp and ssh. 

As far as I can tell the performance reports on the aws panel look fairly normal if not low. 

I keep getting 'site took too long to respond' errors on Chrome - and have tried on my phone and other browsers with no luck. 

Public DNS is: ec2-52-51-153-174.eu-west-1.compute.amazonaws.com

IP: 52.51.153.174

Instance ID: i-0a29ce1347e2cbae3

My assumption is that something is overloading the server but if I'm honest I don't know where to start to find out or fix it. elp?!"

Amazon EC2	"Re: WordPress Bitnami install - site down, pages won't load no idea why
I´m having the same problem. Did you find any solution?

Thanks!"

Amazon EC2	"Instance not responding
Instance ID
i-0a62e0aa

No connections can be made and it will not reboot. This seems to happen a few times with only this instance in this account."

Amazon EC2	"Can't connect to Windows EC2 via RDP
Hello,

I'm trying to connect via RDP to the instance i-b15fddc7, but I'm getting the following error:

Remote Desktop can't connect to the remote computer for one of these reasons:

1) Remote access to the server is not enabled
2) The remote computer is turned off
3) The remote computer is not available on the network

Make sure the remote computer is turned on and connected to the network, and that remote access is enabled.

I never had any issues to connect via RDP, but this morning suddenly I got the attached error message.

Both the system reachability and the instance reachability checks pass according to the EC2 console.

Is there any way to fix that without rebooting the instance?

Bests, 
Jhon

Edited by: clic2c on May 25, 2012 4:28 AM"

Amazon EC2	"Re: Can't connect to Windows EC2 via RDP
Hi,

I am facing intermittent connection problem to my EC2 Windows Server 2012 R2 server (instance-id: i-b9643d66).

When the problem occurs, I sometimes has to wait for, a few minutes to a n hour before I can RDP to the server again. It always stop and spinning at the ""Configuring remote session"" screen when it happens. 

Any help and guidance are much appreciated."

Amazon EC2	"Cant access port 8081
I am using WAMP stack in EC2. I have added Custom TCP rule for port 8081 and can access it on local host.

But when I try to access it from outside it doesnt work. I am able to access other ports from outside. Can anyone help on this?"

Amazon EC2	"OpenVPN
Hi folks,
I was wandering if I can pick you brain for help with my openVPN config.

My issue is that even though i am able to connect to the vpn i cant connect to any other server or outside.

port 1194
proto udp
dev tun
ca keys/ca.crt
cert keys/server.crt
key keys/server.key
dh keys/dh1024.pem
server 10.0.0.0 255.255.0.0
client-config-dir ccd
ifconfig-pool-persist ipp.txt
push ""route 10.0.0.0 255.0.0.0""
keepalive 10 120
comp-lzo
persist-key
persist-tun
status server-tcp.log
verb 3

ipv4/ip_forward part if as it should.

and the IP tables are set with the following rules:
sudo iptables -P FORWARD ACCEPT

sudo iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE

sudo iptables -A FORWARD -i tun0 -s 10.0.0.0/24 -d 174.129.30.184 -j ACCEPT

any ideas where i took the wrong turn?"

Amazon EC2	"Re: OpenVPN
Here is the simplest recipe I could come up with for connecting through EC2 using OpenVPN on Ubuntu:  http://alestic.com/2009/05/openvpn-ec2Adjust as needed to use certificates instead of a shared key."

Amazon EC2	"Re: OpenVPN
Actually the issue, is that the client does not work on Windows 7 or XP.

Darn thing was working all the time..... frustrating........"

Amazon EC2	"Re: OpenVPN
I am so frustrated ...

I happen to have installed OpenVPN server on Amazon Linux and OpenVPN client on Windows 7 . The Windows 7 64-bit client is screwed up (Errors with TAP adapter) but the Windows 7 32-bit client works fine.

I have the VPN connection established between the two.

The problem I am having is, how to connect to my other instances (in the private subnet) using this VPN connection. The OpenVPN server is in the public subnet.

I can't find anywhere detailed step by step directions."

Amazon EC2	"Re: OpenVPN
Hi dhawalparkar,

Hope this howto video I made can be of assistance:
http://d2930476l2fsmh.cloudfront.net/OpenVPNwithVPC.zip

Kind Regards,
Lance"

Amazon EC2	"Re: OpenVPN
PERFECT ! Thank you !!!!"

Amazon EC2	"Re: OpenVPN
Nice.  A REAL video, instead of FLASH.  I saved it."

Amazon EC2	"Re: OpenVPN
Hey guys,

I have been happy with OpenVPN so far. But I have other issues.

Following is the situation right now :

OpenVPN server installed on Amazon Linux.
OpenVPN client installed on Windows 7.
Set up port forwarding and Masquerading as mentioned in the video on OpenVPN server.
Can establish VPN connection and RDP into all windows instances in the VPC without any problems.


Problems : 


SSH over this OpenVPN connection doesn't work ""properly"". What I mean is, I can connect via SSH to a ubuntu instance in the VPC but after connecting when the shell pops up it shows me the date/time but I cannot type into the shell. The SFTP window which opens up on my SSH client also cannot list files.



MySQL connection doesn't work properly, I can establish a connection to the MySQL server in the VPC via MySQL workbench, but I cannot select the database and run a query, I can only 'see' the database.


What am I missing ?"

Amazon EC2	"Re: OpenVPN
Hi dhawalparkar,

Another option would be to use use Route Tables instead of Masquerading.
(I will be doing an update to the video in the near future. It will be more like this video: http://d2930476l2fsmh.cloudfront.net/vpc-to-vpc-with-openswan.zip There is a section that shows how to set up the route tables in VPC.)

You can point OpenVPN ""LAN"" to the interface of the OpenVPN server in the Route Table.
This will remove any issues that masquerading may be causing.

If you post an instance ID of the OpenVPN server, (Looks like i-xxxxxxxx), I can take a look at your VPC setup. Send me the Ubuntu Box instance ID as well.

Another way to remove masquerading, would be to make the ubuntu box an OpenVPN client.
Your Windows and Ubuntu box would look like there on the same ""LAN"".

Then attempt to SSH to the Ubuntu box via it's OpenVPN ""LAN"" IP.
Make sure the client-to-client directive is setup.

These are just my first thoughts on this. After your testing and provided results, I may be able to offer something more. 

Kind Regards,
Lance"

Amazon EC2	"Re: OpenVPN
Hi
I am terribly frustrated in support within AWS. From subscribing to Activate group, then raising issues AWS cant find my subscription to them, blowing off their scheduled appointments......they just disappeared!!!!!! Even after 3 days, AWS cant get confirmation from Activate group that I am subscribed to them.
Its been days since I can get resolution to this. Any my days are about 14 hour days...

I have EC2 with OpenVPN with VPC with within windows server. Finally got python working.
Now just need VPN. Since I cant get OpenVPN to work to prevent website blockage. I hear its site to site VPN.
It may seem possible to have it work with OpenVPN with Tunnel. Dont know.

 I may a problem with  connecting with HMA Pro OpenVPN. So I am in open support resolution with HMA and they are having problems reading and following a conversation... And their documentation does not support server environment....
Does AWS have a solution for windows server??
Need VPN to keep from getting blocked"

Amazon EC2	"SQL Server 2014 Web edition installation media
Hi ,

I got a default SQL server instance when I launched a EC2 Instance with SQL Server WEB edition. But I need multiple Database instances on a single EC2, which requires the installation media.
Can you anyone please guide me how to get get access/snapshot to the SQL Server 2014 Web edition installation media.

Thanks for the help in advance."

Amazon EC2	"pending-evaluation
My spot c4.large and c1.medium spot requests have been stuck on pending-evaluation for hours. What does this mean, and is there anyway to determine the status of this evaluation? I tried looking for help online but didn't find anything useful.

Edited by: Joel on Jun 7, 2015 4:39 PM"

Amazon EC2	"Re: pending-evaluation
Hi there Joel,

I am sorry that we have not been able to look into this issue for you sooner. Looking at your account now there does not seem to be any issue with spot bids any longer.

If you are still experiencing these issues, or you have any Account or Billing issues in the future be sure to contact us using support. You only need to have a support subscription to access technical support, Account and Billing should always be available. The below link as more information.

http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-get-answers.html

Quim."

Amazon EC2	"Re: pending-evaluation
I have the same issue. Every time I request a spot instance, it gets stuck indefinitely on pending-evaluation."

Amazon EC2	"Backups
I have an EC2 web site up  and running and getting ready to be live. But how do I back it up automatically?  

Also if I need to recover a file how do I do that?"

Amazon EC2	"Creating AMI Stuck on Pending
Hi,

I am trying to create an 128GB AMI of my instance but it keeps getting stuck on pending overnight. I have tried stopping and starting the instance, rebooting the instance, and changing the instance type. Has anyone had this problem before and found a solution? Thanks!

My instance ID is i-00cf217fa262b1aac. My AMI ID is ami-b49063d9. My zone is us-east-1d.

Jeff"

Amazon EC2	"Amazon Instance - Degraded Hardware
We are trying to stop an instance and reboot it to get it on non-degraded hardware.

Is it possible for an AWS technician to manually speed the process up:)   

InstanceID:  
i-aa734215

Thank you!

EDIT:

Thank you!  Looks like it stopped.

Edited by: indydrive on May 28, 2016 10:01 AM"

Amazon EC2	"Re: Amazon Instance - Degraded Hardware
THanks!  It has stopped and we were ablet o restart it.

Thank yuou."

Amazon EC2	"Why do we have 'desired capacity' value at start?
Assume we've started Auto Scaling Group.  Min=1 (we want to keep it as cheap as possible) max=X. 

From common sense we may think that the desired capacity should be calculated, based on a load level processed by alarm rules. So why do we have this value when we're starting to create an ASG? When we may want to configure it at all?"

Amazon EC2	"502 Bad Gateway, Write Error
Hello, 

We have a website hosted on EC2 instance, and when saving one of our reports (only one, but that one is the biggest) we receive the following error below. This only happens on Amazon, not on any other environments that we are hosting locally. Also, very rarely this request works fine (maybe 1 in 5 times). 

Could you please let me know what can possibly be wrong here, and how to fix this?

Thank you in advance.

HTTP/1.0 502 Bad Gateway
Server: squid/3.0.STABLE26
Mime-Version: 1.0
Date: Thu, 26 May 2016 16:16:17 GMT
Content-Type: text/html
Content-Length: 4874
X-Squid-Error: ERR_WRITE_ERROR 13
X-Cache: MISS from server1
Via: 1.0 server1 (squid/3.0.STABLE26)
Connection: close


ERROR
The requested URL could not be retrieved

The following error was encountered while trying to retrieve the URL: http://www.xxxxxxxxx.com/webapp/DXReports/SaveJobTypeReportLayout


Write Error


The system returned: (13) Permission denied

An error condition occurred while writing to the network.  Please retry your request.

Your cache administrator is Generated Thu, 26 May 2016 16:16:17 GMT by server1 (squid/3.0.STABLE26)"

Amazon EC2	"VM import : ServerError: an internal error has occurred during conversion
Hi AWS team,

I get below error while importing my VM from KVM environment. May you please throw some light on what actually the issue is . I am importing Linux VM.

balamura@balamura-host:~$ ec2-describe-conversion-tasks --region ap-southeast-1 import-i-ffxdbz51
TaskType	IMPORTINSTANCE	TaskId	import-i-ffxdbz51	ExpirationTime	2016-05-26T05:46:59Z	Status	active	StatusMessage	ServerError: an internal error has occurred during conversion.	InstanceID	i-016e4e69b3829d797
DISKIMAGE	DiskImageFormat	RAW	DiskImageSize	8589934592	VolumeId	vol-07170add	VolumeSize	8	AvailabilityZone	ap-southeast-1b	ApproximateBytesConverted	8472494080	Status	completed
balamura@balamura-host:~$ 

Thanks,
-Bala"

Amazon EC2	"Re: VM import : ServerError: an internal error has occurred during conversion
Hello,

I understand that you saw the error 'ServerError: an internal error has occurred during conversion' while importing the image. The error you are receiving usually indicates an issue with exporting the VM disk files from its virtual environment, an incorrect image format or missing/corrupted uploads to S3. It can also be caused by unsupported operating systems or a problem reading the disk partitions.

Therefore, in order to troubleshoot further, could you check and review the prerequisites, VM preparation to make sure you meet the VM import per-requisites:

1. Ensure the VM disk format is on the supported list, please see the link to prerequisites below for full details.

Only EXT2, EXT3, EXT4, Btrfs, JFS, and XFS file systems are supported.

VM Import Prerequisites:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

2. Ensure you are preparing the VM for AWS Import before exporting the VM from its current environment.

VMs with encrypted volumes are not supported.
The VM should be as clean as possible, remove all virtual hardware like CD-ROMs, Floppy drives, Com Ports, etc.
Ensure at least 250 MB of free space is available on the root/boot volume. 

Enable SSH
Disable Firewalls or add SSH to IPTables and confirm SSH connectivity.
Configure a non-root user to use public key-based SSH. Password-based logins are possible but not recommended.

Preparing the VM for Export:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/PrepareVMImportImage.html

3. Ensure you are using the latest version of the CLI: https://aws.amazon.com/releasenotes/CLI, to update, please refer to the instruction in this link: http://docs.aws.amazon.com/cli/latest/userguide/installing.html

4. VM Import/Export supports MBR-partitioned volumes that are formatted using ext2, ext3, ext4, Btrfs, JFS, or XFS filesystem. GUID Partition Table (GPT) partitioned volumes are not supported.

For more information on requirements and limitations, please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-limitations

5.  please ensure you are preparing the VM for AWS Import before exporting the VM from its current environment. As it's stated at the bottom of the following AWS public doc, make sure that your Linux VM uses GRUB (GRUB legacy) OR GRUB 2 as its bootloader.

Preparing the VM for Export:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/PrepareVMImportImage.html

Additionally, I'd also like to gather some more information from you:

1. What is the VM you are trying to import? 
2. Can I have the CLI command you are running? 
3. What virtualization platform you are using? If you are using v-center, what version is it? 

I hope this helps. If you still see the failure after checking the pre-requisites and limitations please let me know, I'm happy to work with you to resolve the issue.

Cheers! 
Javier C#"

Amazon EC2	"Re: VM import : ServerError: an internal error has occurred during conversion
Hi Javier,

Below is the information requested. Pls note that i want my VM run under full virtualization(HVM) where i hope host OS should not worry about custom kernels. 

1. I use linux kernel 3.10.0 modified .
2. cli command is 
""ec2-import-instance /a/balamura.img -t t2.micro -f raw -a x86_64 -b balamuras3bucket -p Linux  -o <access key> -w <secret key> --region ap-southeast-1""
3. I am importing the VM from KVM environment. 

current task under this problem is ""import-i-fgkiose2"" . please use this task for debugging. Seems it has proceeded itself and now the problem is ""ClientError: Unsupported kernel version 3.10.0"". May you please tell me what is missing . 

Thanks,
-Bala

Edited by: balamura on May 24, 2016 11:50 PM

Edited by: balamura on May 24, 2016 11:51 PM"

Amazon EC2	"Re: VM import : ServerError: an internal error has occurred during conversion
Hi there,

I understand that you would like to use HVM for your instance. Please note that: ""Imported VMs create Amazon EC2 AMIs that use Hardware Virtual Machine (HVM) virtualization. Creating AMIs that use Paravirtual (PV) virtualization using VM Import is not supported. Linux PVHVM drivers are supported within imported VMs.""[1] 

I also understand that you are using a modified version of 3.10.0 kernel. ""Imported Linux VMs should use default kernels for best results. VMs that use custom Linux kernels might not import successfully."" [2]. We can see that back-end is unable to complete the import due to the kernel version.

Additionally, the VM team performs tests using the Operating Systems listed under the prerequisites page. I am not sure what OS distribution you are using but I suspect that this may also contribute to the import failure.  

[1]http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html?shortFooter=true#vmimport-limitations
[2]http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html?shortFooter=true#vmimport-operating-systems

Best,
Adolfo M."

Amazon EC2	"ELB Proxy Protocol Not Working
Found out Proxy Protocol only works with TCP listeners. It is working now.

Edited by: skane-forcepoint on May 27, 2016 3:16 PM"

Amazon EC2	"Suddenly very slow SCP and SSH
hi,

all of a sudden the SCP connection to my server i-0d0cc30934631931a started to be very slow. is there any reason for that like general problems or change of something?

bye b.

Edited by: B. Ondrisek on May 27, 2016 2:35 PM
Sorry, it was my provider!"

Amazon EC2	"EC2 temporary access
Hi, I'm trying to troubleshoot an EC2 SSH connectivity issue whereby after creating a new EC2 instance I am able to successfully SSH into the running instance, but about a minute later (regardless of terminal activity) the SSH session freezes, and I cannot make new connections. I have tried:


Using the default VPC, and creating a custom VPC
Using wizard generated security groups, and using custom ones
Using different AMIs, including the ""stock"" Ubuntu, Amazon Linux, and RedHat
Connecting from client machines on totally separate networks
Provisioning manually through the web console, with the ec2 cli, with ansible, and with terraform.


.. and pretty much every permutation of the above. I've also followed every troubleshooting step (in repeat) listed here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

Still, no matter what I try, my EC2 instance access is temporary. So my question is: How do I proceed? Any tips or advice would be much appreciated.

Edited by: Monkey on May 27, 2016 11:13 AM"

Amazon EC2	"i-ed32933e Rebooted at 3:36am EST
Our instance that rebooted at 7:37 UTC. Did the underlying host have some issue that caused this? we don't see any thing in the logs that points to a crash, almost like someone unplugged the server. Can you please let us know?

Thanks."

Amazon EC2	"Re: i-ed32933e Rebooted at 3:36am EST
Hello,

I looked at the instance i-ed32933e for the mentioned time-frame and the underlying hardware did face some issues and recovered at around 7:41 UTC. 

We apologize for the inconvenience caused due to this!

Cheers,
Avani"

Amazon EC2	"Amazon EC2 API request problems
Hello everyone. I am trying to use EC2 services (let's say starting and stopping ec2 instances for example) and i've encounered few problems.
Using example request to ListUsers on IAM i've managed to get my programm working, but for ec2 commands i receive AuthFailure error with no explanation on what am i doing wrong. Thus i have few questions:
1) Do i have to use eu-west-1 server if i have instances on Ireland or could i connect any other server to check all of them?
2) Do i have to mention server i'm connecting to in the url itself (and ""Host"" header), or can i use ""ec2.amazonaws.com"" url and mentioning ""eu-west-1"" in header is sufficient?
3) Which time should i sign my request with? IAM services required me to convert my local time to UTC+0 zone, but what time does EC2 expects? Server's time? UTC+0? My local time?

Also if there is a way to get more details on what's going wrong ecxept the same ""AWS was not able to validate the provided access credentials"" all the time it would be nice.
PS: I have tried both creating user with all right possible to use it's credentials and using route credentials, so i imagine it's not the problem."

Amazon EC2	"Connection Reset & Connection Timed Out Errors
Hi,

I am facing an issue on my website since the last one month (screenshots attached). There are intermittent 'Connection Reset/Connection Timed Out' errors. Sometimes the website works fine, most of the other times I get either of the above-mentioned errors. 

I had transferred this site to AWS about 3 months back from a shared host and it worked fine for the first 2 months. Have started getting this error in the last one month, I have not made any changes to the website during this time.

Request you to please help resolve this, as I have no clue what to do next.

Instance ID: i-2be2f1b3
Website: http://www.skyscraperdash.com"

Amazon EC2	"Re: Connection Reset & Connection Timed Out Errors
Hello,
I had a look at your instance and at its underlying hardware and I have found no issue so far.
Instance is UP&Running fine an I cannot see any strange behavior also accordingly to the Cloud Watch metrics:

CPU:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2016-05-22T14%3A00%3A00Z~2016-05-27T14%3A00%3A00Z~Average~300~InstanceId~i-2be2f1b3

Network IN:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~NetworkIn~2016-05-22T14%3A00%3A00Z~2016-05-27T14%3A00%3A00Z~Average~300~InstanceId~i-2be2f1b3

Network OUT:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~NetworkOut~2016-05-22T14%3A00%3A00Z~2016-05-27T14%3A00%3A00Z~Average~300~InstanceId~i-2be2f1b3

Status Check:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed~2016-05-22T14%3A00%3A00Z~2016-05-27T14%3A00%3A00Z~Average~300~InstanceId~i-2be2f1b3

Maybe you would like to consider reviewing the application logs and/or change instance size to a bigger one, but as you can see there no CPU/network issues: maybe memory shortage being currently a t2.micro.

Hope this helps,
kind regards
Ale"

Amazon EC2	"LAMP server on an Amazon Linux instance not loading
Hello.

I just started an instance of an Amazon Server and I followed the tutorial: ""Installing a LAMP Web Server on Amazon Linux""step by step.
I created a security group (sg-fce9189a) that has inbound settings for ports 80 for HTTP, 443 for https and 22 for SSH. Through an SSH console I checked that the Apache Service is running, as well as MySQL but I keep getting a ""The server took too long to respond"" reply when I try to access via browser. I have no special firewall or proxy settings that could be interfering with the connection.

What am I missing? Did I skip a step in the setup?

Thanks for your help.

PS: my instance id is 	
i-0472f8f6c994534b4"

Amazon EC2	"Re: LAMP server on an Amazon Linux instance not loading
Hello,
I had a look at your instance ID i-0472f8f6c994534b4 and currently your Security Group sg-d9b140bf associated with the instance is only allowing SSH traffic; you will need to modify it and add ports TCP 80 and 443 to be able to reach your website from the internet.

Please refer to our documentation here:
http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/getting-started-create-security-group.html
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html

Hope this helps,
kind regards
Ale"

Amazon EC2	"Can't ping Public IP or Public DNS
Hi AWS support team,

Today I get a issue that I cannot access a public DNS (It work before). I tried to access FTP, Winscp and ping but don't 

Can you please take a look at it? Thanks

My Instand ID: i-9d169413
Zone: ap-southeast-1a
 State: running

Regards,
Chien Pham"

Amazon EC2	"Re: Can't ping Public IP or Public DNS
Hello Chien Pham,
I had a look at your instance ID: i-9d169413 and at its underlying hardware and I didn't find any issue so far.
I see that the instance was first manually rebooted at 
2016-05-27T07:27:42 UTC
and then issued a stop/start action at:
2016-05-27T07:39:50
2016-05-27T07:41:34

I see now instance is UP&Running with Status Checks OK 2/2 and OS available.
No issue reported as well on our service dashboard:
http://status.aws.amazon.com/

Please let us know if you are still facing any issue.

Kind regards
Ale"

Amazon EC2	"How to roleback Cloud formation stack in case cfn commands fails
Hi

I have created one cloud formation script within which I have one ec2 resource.
Within the ""AWS::CloudFormation::Init"" definition of ec2 resource I am trying to create / download some file under ""files"" / ""sources"" section with proper authentication mechanism.

Now here my question is is there a way to role back the entire stack or notify something in stack creation process in case the required command under ""files"" / ""sources"" fails?

Because it is observed that even though these commands fail to execute the cloud formation process completed successfully.

Thanks,
Avik"

Amazon EC2	"Default VPC
Please create my default vpc for Singapore. Thanks"

Amazon EC2	"Re: Default VPC
Hello,
You Default VPC in ap-southeast-1 AWS region is again available.
Please have a look and let us know if everything is OK.

Thanks,
kind regards,
Ale"

Amazon EC2	"Instance i-909c5777 stuck in stopping state due to underlying host failure
Hi,

I've been notified that one of my instances (i-909c5777 eu-west-1b) is marked for retirement 2016-06-09 21:00 UTC due to degradation of the underlying host, since this has happened my instance has been unreachable, i've tried stopping it but it seems to be stuck in 'Stopping' mode, can someone please stop it for me so i can turn it back on ?"

Amazon EC2	"Re: Instance i-909c5777 stuck in stopping state due to underlying host failure
it took forever but it finally stopped, thanks."

Amazon EC2	"Cannot connect to t1.micro instance via RDP
Hi:

I just created a t1.micro Windows instance with 30GB EBS storage as root volume.  I selected default security group, so all traffic is allowed.  I cannot access the server via RDP.  I'm using public DNS name.  I also tried public IP.  I cannot ping the public DNS name either.  I cannot telnet on port 3389 to public DNS name or public IP.  The console shows the instance as running with 2/2 checks passed, no issues.  I already tried restarting the instance, as well as stopping it, then starting it.  I've also tried RDP connection from another machine on a different network.

Any ideas?

Thank you!"

Amazon EC2	"Re: Cannot connect to t1.micro instance via RDP
Hello,

I was looking through your account for instance-id's and found a windows instance that ends with instance-id ""...154fc3c"".

I can confirm that your instance is healthy and security groups is configured correctly, as I was able to see that port 3389 is open:

$ nc -vz x.x.x.x 3389
Connection to x.x.x.x 3389 port tcp/ms-wbt-server succeeded!

And I was also able to ping as ICMP is allowed:

$ ping -c 1 x.x.x.x
PING x.x.x.x (x.x.x.x) 56(84) bytes of data.
64 bytes from x.x.x.x: icmp_seq=1 ttl=115 time=139 ms

Are you still experiencing this issue? You might want to look at any firewall rules from where you are connecting from, etc. As this could be where it prevents you from connecting to your instance.

If there is anything else that we can assist with, please let us know."

Amazon EC2	"Re: Cannot connect to t1.micro instance via RDP
Hi Ruan@AWS:

Yes, that is the instance to which I'm referring.  Issue is fixed now.  This morning the console shows a different public IP and it's connecting.  Perhaps a bug in the console, i.e. displaying the wrong public IP, or perhaps AWS made a change to this VM overnight?

A question: I fired up this vm to migrate an ecommerce web site from a shared server environment to this dedicated VM so that it will pass PCI scans.  The existing shared server env. supports TLS 1.0, which PCI deprecated.  We can shut down TLS 1.0, correct, so that env. is PCI compliant? 

Thanks for your help!
Bob H."

Amazon EC2	"PermitUserEnvironment sshd_config setting
Hi, 

I am running an amzn-ami-hvm-2016.03.1.x86_64-gp2 image. 

1. In /etc/ssh/sshd_config I have enabled ""PermitUserEnvironment yes"" and restarted my sshd daemon. 
2. I have tagged my entries in the authorized_keys file appropriately eg ""environment=""SSH_USER=User1"" ssh-rsa AAAAB3""

I can successfully login but /var/log/secure is not tracking the userenvironment variable! To troubleshoot this issue I have done the following.

1. verify the setting using $ sudo sshd -T |grep userenvironment
permituserenvironment yes
2. Edited /etc/profile to track this variable in /var/log/messages successfully
   # test SSH_USER environment setting
   if ; then
      logger -ip auth.notice -t sshd ""Accepted publickey for $SSH_USER""
   fi
        May 26 01:12:55 ip-xxx-xxx-xxx-xxx sshd5428: Accepted publickey for User1""
3. Created a new account using to eliminate the possibility of it being unique to the ec2-user account. (same results)

We employ this feature across a number of locally hosted linux servers running RHEL .... stumped for the moment."

Amazon EC2	"Re: PermitUserEnvironment sshd_config setting
Ok found the answer ! 8-)

 RHEL6  includes a shell script /etc/profile.d/ssh_auth.sh (file attached)

By adding the same script to the AMI image (or centos) I get the desired results.

Woot !"

Amazon EC2	"Ec2 public DNS cannot access
It was good for more than 11 months, but after some configuration for enable EC2 instance usage reports (following the online docs of AWS), the public DNS could not accessible any more.

ec2-52-24-156-166.us-west-2.compute.amazonaws.com

Could you please shed some light on this?"

Amazon EC2	"Re: Ec2 public DNS cannot access
Hello,

We don't see any problems with your instance. The instance is accessible on port 22.

$ telnet ec2-52-24-156-166.us-west-2.compute.amazonaws.com 22
Trying 52.24.156.166...
Connected to ec2-52-24-156-166.us-west-2.compute.amazonaws.com.
Escape character is '^]'.
SSH-2.0-OpenSSH_6.2

How are you trying to access instance and problems you are seeing.

Regards,
Umair A."

Amazon EC2	"Re: Ec2 public DNS cannot access
Thanks, cannot access http 80 port.

But previously, it was fine."

Amazon EC2	"MS Terminal Server Licensing
Hi,

We are planning to deploy few MS Terminal Server Licenses for Server 2008 R2 on EC2 instances.

Is there a special treatment for purchasing/deploying Terminal Services CALs on EC2 instances?
Can we get any help from AWS on purchasing Terminal Services CALs?

Please suggest point of contact.


Thanks."

Amazon EC2	"Re: MS Terminal Server Licensing
Hello,

This is a common request, but unfortunately we do not have the means in place to allow you to modify the EC2 Windows offering currently. This includes allowing you the ability to purchase CAL's from Amazon to use on your MS Terminal Server Licenses for Server 2008 R2.

As you are aware, we own the licensed software from Microsoft, so we would need to be able to modify the operating system for you. We are currently working on trying to implement this feature, but there is no timeline on when it might be available."

Amazon EC2	"Re: MS Terminal Server Licensing
Thanks for the response.

So, this means we will have to buy MS Terminal Service Licenses from Microsoft and use it on EC2 instances. Is this correct? 

Can you provide the point of contact for purchasing Terminal Services CALs if there is a special treatment for using Terminal Services CALs on EC2 instances?

Thanks."

Amazon EC2	"Re: MS Terminal Server Licensing
Hi ScottM,

Do we have an update from AWS on this front?

Hello tushard,

Have you managed to make a headway in this? Please share your experience.

Cheers,
Shagun"

Amazon EC2	"Re: MS Terminal Server Licensing
Hi,

Any progress on this issue?

Regards,
Mert Ece"

Amazon EC2	"Re: MS Terminal Server Licensing
Hello,

Thank you for your recent reply.  Here is some useful information.

1) Please refer to our AWS/MS informational site called:  http://awsmicrosite.com

2) You can bring your own TS Cals as AWS does not provide a method of purchase, install, or configuration.

Thanks,

CurtusR"

Amazon EC2	"Re: MS Terminal Server Licensing
Sorry to reply to an old thread -- it's the first one I googled

I'd like to get confirmation that we can install our own separately purchased TS licenses on a Windows Server EC2 on-demand or reserved instance.

We have a physical Windows Server 2008 R2 with 10 TS licenses.

We want terminate the physical server and start using EC2 for our users who connect to the server with RDP. In the past system upgrade, we transferred our 10 TS licenses from a physical Windows Server 2003 to the current physical Windows Server 2008 R2.

Now we'd like to transfer the 10 TS licenses from the physical Windows Server 2008 R2 to an AWS EC2 Windows Server 2008 R2.

Is transferring existing TS licenses from a physical server to the EC2 instance possible?

If not, can we just order and buy the TS licenses separately (from Microsoft, Amazon, ProVantage, CDW, etc) and add them to the EC2 instance?"

Amazon EC2	"Cannot SSH into EC2 Instance
Hello, 

I am having trouble connecting to my instance using SSH. I have allowed connections over port 22 and confirmed that there is no rule against it in our company firewall. I can connect via RDP and can Ping the instance when I allow ICMP. I have tried specifically allowing my IP address, and allowing all IP addresses over port 22, but I still get the error Network Error: Connection timed out when trying to establish SSH connection.

I am using Putty to try to connect Windows machine to Windows machine, I have used puttygen to create a ppk file.

I have tried following the troubleshooting guide:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectionTimeout 

I appreciate any help that can be provided. Thank you

Edited by: JR-Zenith on May 26, 2016 12:55 PM"

Amazon EC2	"Re: Cannot SSH into EC2 Instance
Hello,

Thank you for the post.

I took a look at your account ending with 3886 and found that there are two EC2 instances both of the instances seems to be Windows instances. For a Windows instance, you can connect to the instance remotely via RDP (port 3389). However, if there is no SSH server configured on the Windows server instance, you won't be able to connect to the instance via SSH (port 22) as there is no service listening on it.

Also, if you have a Linux instance then you can connect to the Linux instance remotely via SSH (port 22). 

More information about 'Using RDP to Log In to a Windows Instance' can be found on this documentation: http://docs.aws.amazon.com/opsworks/latest/userguide/workinginstances-rdp.html

Also, for more information about 'Connecting to Your Linux Instance from Windows Using PuTTY', please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Being asked for passphrase when key-pair was created via CLI
Hi!

If I create a key pair on aws.console.amazon.com and SSH into an instance using that key - then everything is fine.

If I create the key on CLI with aws ec2 create-key-pair --key-name test and use the key pair test for an instance - then I get asked for a (unknown) keyphrase upon SSHing into the instance.

Any ideas what the passphrase is?

Kind Regards

Raffael"

Amazon EC2	"Re: Being asked for passphrase when key-pair was created via CLI
I'm having the same trouble.  Various solutions posted in this forum and on the Internet haven't worked.  Any solutions?"

Amazon EC2	"EC2 instance reached capacity - need to know how to fix
So I had an EC2 instance.  was getting a 503 Service unaviailable .. server is at capacity message.  Tried restarting apache.  didnt help.  Tried restarting instance.  didnt help.
Tried Stopping instance so i could restart it.  It terminated by itself
Tried creating instances based on the one i stopped, but didnt help

I have an ELB
I have a EC2 instance in N Va on an ASG  and another instance in US West OR on ASG

I thought the purpose of the ASG was to not have a capacity issue.

I also have no idea why the instance Terminated.

I am at a loss as to how to get everything back to where it was.  Can anyone help."

Amazon EC2	"Private DNS issue
We have 1 EC2 instance (i-23cd61cc) that requires access to another instance (i-b3145dd8). We can ssh to the second instance from the first instance using its private IP address but cannot use its private DNS. First instance can resolve DNS of our other instances just fine, just that i-b3145dd8 one that it has issue with. How can we fix it?"

Amazon EC2	"moving file from Windows to AWS using Putty?
I was able to log into Putty using ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com


I then tried to move a file from my Desktop to AWS using

scp /C/Users/MyName/Desktop/watch.jpg ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com


However, I keep getting the error 

cp: cannot stat /C/Users/MyName/Desktop/watch.jpg’: No such file or directory


even though that file clearly exists there. 

However when I use ""pscp"" instead of ""scp"" I now get the error ""Local to local copy not supported""

Anyone know why?

Edited by: vampirelord12 on May 24, 2016 11:25 AM

Edited by: vampirelord12 on May 24, 2016 11:26 AM"

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
The ""local to local"" error has to do with the syntax of the scp command.

You should be able to add :~/ 
 to the end of that statement to make it work like so

pscp /C/Users/MyName/Desktop/watch.jpg ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com:~/ 


basically if you want to SCP the file to a server you need to tell it where you want to put the file ~/ means your home directory you could also change it to /data/myfiles/"

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
when I try that I keep getting the error

/C/Users/MyName/Desktop/watch.jpg: No such file or directory"

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
There's surely some way to specify the disk in a Windows file path, but I don't know it off the top of my head.  One way around it would be to go to that directory, then do the copy from the local directory:

C:
cd /Users/MyName/Desktop
pscp watch.jpg ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com:


If you want a more Winows-y experience, I find that WinSCP complements Putty nicely."

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
how can I cd into `/Users/MyName/Desktop` with putty?

When I cd into there using the command prompt in Windows and then try the command, I get

 'pscp' is not a recognized as an internal or external command 


how do I do it using WinScp? If I try ""ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com"" as the HostName, ""ubuntu"" as the username, and ""XXXXXX"" as the password I get the message

Authentication log (see session log for details):
    Using username ""ubuntu"".
 
   Authentication failed. 


Edited by: vampirelord12 on May 25, 2016 12:17 PM

Edited by: Michael@AWS on May 25, 2016 12:24 PM"

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
pscp isn't in your path... Well, maybe just try the path without the C?

pscp /Users/MyName/Desktop/watch.jpg ubuntu@ec2-52-38-143-134.us-west-2.compute.amazonaws.com:


WinSCP uses a certificate to login, too.  See this page for more information."

Amazon EC2	"Re: moving file from Windows to AWS using Putty?
I get the same error without the C

As for WinSCP, I get the same error as before if I follow that link and use ""ec2-52-38-143-134.us-west-2.compute.amazonaws.com"" as the hostname, ""ec2-user"" as the username and blank for the password"

Amazon EC2	"How get ftp address with website name?
I used the info in the previous Stackoverflow post  here . It helped me achieve most of what I want. My address shows up like this: ftp://54.38.2.255
. I wanted to get the FTP to show up like I am used to e.g. ftp://mysite.com
. Is this achievable? To be clear the when I type it in the ip format it works, I can upload and download. However, when I type it in the with ftp://  and website name I get server not found. As for my site it is up and running and works both ways. Both being ip and domain name. Thanks"

Amazon EC2	"Connection reset issue
Hi Team,

I am running a instance in Amazon EC2 cloud server and earlier it was working fine, but from past couple of days I can't able to open my website and I am seeing ""The Connection Reset"" message, I would be great if anyone can help me to resolve this issue.

Attached the error message screenshot which I am looking while accessing the website.

Am not able to connect to the hostname using putty or java SSH client.

Also, am not able to PING or TELNET to the hostname. I tried adding my ipaddress to the inbound rule but still am not able to connect.

Thank you for your support.

Thanks,
Karthik.K"

Amazon EC2	"Re: Connection reset issue
HI there, 

Could you please provide me with the instance ID, and I can gladly further investigate this for you. 

Kind regards,
Belynda"

Amazon EC2	"Re: Connection reset issue
Hi Belynda,

Here is the Instance ID: i-f27f918c

Thanks,
Karthik.K"

Amazon EC2	"Re: Connection reset issue
Hi Belynda,

I have resolved this issue 

Thanks,
Karthik.K"

Amazon EC2	"Re: Connection reset issue
Hi Belynda,

I am facing connecting issue with my Instance ID: i-f27f918c again today.

I am getting the error message ""Error connecting to 184.73.254.203, reason:
-> Connection timed out: no further information""

Please find the screenshot attached with this email. 

This was working fine yesterday. My Ipadress is added to the Inbound rule.

Can you assist me in fixing this issue?

Thanks,
Karthik.K

Edited by: leonardpg on Feb 4, 2015 12:24 PM"

Amazon EC2	"Re: Connection reset issue
Hello,

Thanks for providing further feedback on this issue. I've reviewed the instance in question as well as the underlying host. Currently I'm not seeing anything that would indicate there is an issue. I can also reach your instance on port 80 and it is responding with a 403 forbidden.

You are allowing all IPs to access port 80 with the rule 'tcp 0.0.0.0/0 80' There is no need to add specific IPs after that. You currently are not allowing ICMP in your Security Group, this would explain why you can't ping the instance. 

In order to better understand this issue would it be possible for you to gather some further data for us?

1. When/if the issue happens again would it be possible for you to run a TCP traceroute to port 80 and/or port 22 and provide us with the complete output (if testing port 22 keep in mind your Security Groups only allow connections from some IPs, make sure you are coming from one of those IPs)?

Windows:
http://simulatedsimian.github.io/tracetcp.html
tracetcp YOUR_IP_HERE:80

Linux:
sudo traceroute -T -p 80 YOUR_IP_HERE

2. Please provide the time when you noticed this issue and when found it to be working again.

One other step you may want to take is to stop and start this instance if possible. This should move the instance to another host. You will need to reassign you EIP after the stop/start. 

Regards,
Brandon"

Amazon EC2	"Re: Connection reset issue
Hi,

I am facing the similar issue on my website since the last one month (screenshots attached). There are intermittent 'Connection Reset/Connection Timed Out' errors. Sometimes the website works fine, most of the other times I get either of the mentioned errors. 

I had transferred this site to AWS about 3 months back from a shared host and it worked fine for the first 2 months. Have started getting this error in the last one month, I have not made any changes to the website during this time.

Request you to please help resolve.

Instance ID: i-2be2f1b3
Website: http://www.skyscraperdash.com"

Amazon EC2	"Re: Connection reset issue
Hi,

Unfortunately, I am unable to find the screenshots. I was able to successfully connect to the website www.skyscraperdash.com on port 80. While connecting on port 443, I receive the error ""Your connection is not secure"" which is because the website is not using a valid certificate.

I also checked the connectivity to the instance on ports 22, 80 and 443 and I was successfully able to connect. In order to troubleshoot this issue further, please attach the error snapshots to the next correspondence. Also, please let us know on which ports are you experiencing connectivity issues.

Thanks,
Pavithra"

Amazon EC2	"Good way to implement Cloudwatch alarms for autoscaled instances
I feel like I have a fairly good grasp on EC2 and autoscaling concepts, but our project calls for about five different ""roles"" of servers which will each be in different autoscaling groups not behind ELBs. I can see how I'd use CloudWatch metrics (probably using the dimension of each autoscaling group) to scale them up and down as necessary with CloudWatch alarms. No problem.

My concern is that for these instances, I'm also going to want alarms that either notify me or perform some other action (like a health check, instance termination, etc.) on failure. That's easy, too--I can hook those up to SNS topics for e-mails or Lambda function invocations to do whatever I want.

My question pertains to the best way to set up those CloudWatch alarms for the instances that will, by design, have some terminated and some spun up new on the fly. For each of those, I'll still want to be notified if one has high CPU or memory usage, but I also want to keep false positives to a minimum. I don't want to get an e-mail of these checks failing because an instance was expectedly terminated.

I can write a Python script that creates the alarms for the instance when the AMI is first launched and use an IAM instance profile with permission to do it, but then there's nothing in place to remove them cleanly when the instance is terminated. I can use CloudWatch Events to run a Lambda function whenever an instance changes state and use code there to set up alarms and tear them down. That'll work, although will likely require a hundred or so lines of code.

This seems like a very common goal, right? Is there a recommended way to do this?"

Amazon EC2	"Re: Good way to implement Cloudwatch alarms for autoscaled instances
Used wrong account to post. Ignore this message.

Edited by: CertesBenn on May 26, 2016 8:20 AM"

Amazon EC2	"Re: Good way to implement Cloudwatch alarms for autoscaled instances
I got some responses in the Reddit thread I cross-posted here:
https://www.reddit.com/r/aws/comments/4l33tv/good_way_to_implement_cloudwatch_alarms_for/

It sounds like Auto Scaling Lifecycle Hooks are what I want. I didn't know they existed.
http://docs.aws.amazon.com/autoscaling/latest/userguide/lifecycle-hooks.html"

Amazon EC2	"1/2 status check Like Forever and Everytime
For the last couple months I always see 1/2 status check whenever I create instance from my own AMI say for example (ami-4942aa24).
It never moves forward.
Current Limbo Instance: i-ad708031
Please help!

Edited by: anangia on May 26, 2016 8:15 AM"

Amazon EC2	"""Server refused our key"" - After creating a new instance using private AMI
I needed to upgrade my instance type, so I created an AMI from my t2.micro in us-east-1a.

I then created a new instance based on the above AMI to a t2.medium in us-east-1d.

Both have the exact same Key Name.

Both have the exact same Security Group.

Both are in the exact same VPC.

This is a web server, and the server is running fine as such.

Yet, now when I attempt to login via PuTTY, I get an error ""Server refused our key"".

I'm using the same Saved Session inside PuTTY and using the same PPK file and login details.

Any ideas on why this would happen?"

Amazon EC2	"Instance stuck in stopping state
I received a notification that one of my instances is scheduled for retirement, and have since attempted to stop and reboot it. However, my instance has been stuck in the stopping state for about 30 minutes, and I'm unsure how to proceed.

Instance ID: i-6b518566
Region: us-west-2a

Thanks for any assistance!"

Amazon EC2	"Saved Images - Which can I delete?
Hey everyone,

I have a bunch of saved instance images that I wanted get rid of. However I'm really weary as to what I can deregister as I THINK somehow they could be tied to some of my currently running instances.

I have launched instances from some of these saved images? If that matters.

Any help appreciated."

Amazon EC2	"Windows server 2012 instance: why the screen is divided in 2?
After some days I have found that my sessions with Microsoft Remote Desktop open with a virtual screen (the window) divided in 2:


one part is ""home"" of Windows 2012
the other part is the desktop


This has happened when I have used a second monitor. But it is always so now. Even when I use one single monitor.

In this way the window is difficult to use. All applications are compressed in view.

I have tried to find some configuration on control panel of Win 2012. But any results.

Thanks to all"

Amazon EC2	"EC2 scheduled instance start issue.
Hi to all.
I try to create a datapipeline to automatic start a instance (MS WINDOWS 2008) on a scheduled time.
I follow the knowledge-center article  How do I stop and start Amazon EC2 Instances at scheduled intervals with AWS Data Pipeline? 

So..
I created:
=> a custom policy (DataPipelineDefaultResourceRole_EC2_Policy)
=> 2 IAM roles (DataPipelineDefaultRole and DataPipelineDefaultResourceRole) and attach the custom policy to second role.
=> the Data Pipeline with a template Run AWS CLI Command.
The command i use is :
aws ec2 start-instances --instance-ids <MyInstanceIds> --region <eu-west-1c>
Of course, the instance-ids and region is the one of the instance i would like to start every day at 08.00 am..
But when i try to activate the pipeline, at the time to run, i receive an error message like:
Could not connect to the endpoint URL: ""https://ec2.eu-west-1a.amazonaws.com/""

I think my mistake is about the role creation..

Could someone help me to solve this issue?
Thank's
Luca"

Amazon EC2	"Inexplicable reboot
Hi,

This is related to case 1757206201.  It was suggested that we post the query here.

One of our instances (i-5ed28bd0) running Windows Server 2012 was discovered to be down.  It became alive on it's own later.  Following are some bits of information:

  - the instance was down from 10:26 AM IST to 10:37 AM IST (on 05/24/2016)
  - event logs did not indicate any user-initiated shutdown/restart activity
  - other logs did not indicate anything wrong with the system that might have triggered a shutdown or reboot
  - no (crash) dump was found upon logging in into the system (post restart)

Could you please help determine the cause of shutdown/restart of the mentioned instance?

Thanks.

Edited by: unclaimed on May 26, 2016 12:41 AM"

Amazon EC2	"Re: Inexplicable reboot
Hi, 
I'm sorry to hear you have some issues with your instance. I was checking on it and I can confirm there has been a transient issue in the underlying hardware supporting that ec2instance in the time you are providing. 

You can check this yourself looking for Status Check System failures in your cloudwatch monitors. 
I'm pasting here the URL to your cloudwatch graph for the time provided. 

URL of this graph:

https://console.aws.amazon.com/cloudwatch/home?region=ap-southeast-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_Instance~2016-05-21T10%3A36%3A41Z~2016-05-26T10%3A36%3A41Z~Average~300~InstanceId~i-5ed28bd0

You can automatically attempt to recover an instance in this situation, using cloudwatch in combination with the Alarm Feature
Please check this article to know more about this 

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/UsingAlarmActions.html#AddingRecoverActions

Thanks for let us know you problem and hope this could help you to understand what happened and why your instance rebooted

Cheers
Javier C#"

Amazon EC2	"EC2 memory vs. DBInstanceClassMemory
Dear friends, I have a big question mark about memory on my Amazon EC2 t2.micro.
This is the ps aux command filtered of every process that basically doesn't weight anything in terms of memory:
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root       449  0.1 13.8 2073716 141256 ?      Sl   May25   1:23 /usr/bin/java -XX:+UseParallelGC -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -Xmx96M -Djava.rmi.ser
ec2-user  2549  0.1 13.8 1275188 141044 ?      Sl   May14  23:55 /etc/alternatives/jre/bin/java -XX:+UseParallelGC -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -Xmx2
root      9359  0.2 20.0 2121900 204636 ?      Sl   May24   7:35 /usr/bin/java -XX:+UseParallelGC -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -Xmx128M -Djava.rmi.se
root     29089  0.1 14.9 2090784 152840 ?      Sl   May25   1:28 /usr/bin/java -XX:+UseParallelGC -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -Xmx96M -Djava.rmi.ser


Summing those up, I get 639.776. I should have somewhere around 350MB free, but top says:

Mem:   1019340k total,  1008572k used,    10768k free,    73992k buffers


I thought, lets check how much the MySql instance I created on RDS is consuming, it might be shared. 
The instance showed the following on the dashboard: Memory -> 381MB, FreeableMemory -> 400MB, innodb_buffer_pool_size -> DBInstanceClassMemory*3/4 = 620MB.

These numbers puzzled me a bit, the only thing I noticed was that the Memory of the instance was about the size of the memory I was expecting to have left on the EC2 instance.

I created another parameter group for the DB, and lowered DBInstanceClassMemory*3/4 to DBInstanceClassMemory*2/10, to leave more or less just 200MB of memory to the DB, which would be enough for its current load. Reloaded everything, and the new values were: Memory -> 519MB, FreeableMemory -> 519MB. Odd I thought. I checked the EC2 with top, and the free ram bumped from 10MB to 170MB. Odd again. I went to bed, this morning the RDS dashboard still returns Memory -> 519MB, FreeableMemory -> 519MB, so I went to check the EC2 with top, and it's back to 10 free MB of ram, even though doing a ps aux and summing the values doesn't show any extra allocation of 160MB anywhere compared to last night when there were 170 free again.

So yeah, I'm terribly confused by all this memory values, and I'd be truly thankfull if anyone could help me make some sense out of them.

Have a nice day everyone,
Roberto"

Amazon EC2	"Frequent crashes on m4.large instance during Mysql batch
Hello,

We have a frequent issue with an m4.large instance (id *i-8d2bc435*) almost every day.

The last crash occurs yesterday at 6:18 PM (French Time). Network on instance is KO (can't ping), 1/2 System check failed, we have to stop/start the instance.
We have on syslog file and mysql error file the information that the server knows he's stopping:

Mysql:
2016-05-24 16:22:56 1900 Note /usr/sbin/mysqld: Normal shutdown

Syslog: 
May 24 16:22:52 decapp1001 rsyslogd:  exiting on signal 15.

We have a datagod agent to have some infrastructure graphes and we see nothing except the datadog log:
Temporary failure in name resolution & error=HTTPError('HTTP 599: Timeout',)

Looks like the network stack crashed ?

This happens during a mysql batch, the server has 1 cpu load, and 100% cpu mysql process only.

Regards

Edited by: RunisoDEC on May 25, 2016 4:00 AM

Add some graphes"

Amazon EC2	"Re: Frequent crashes on m4.large instance during Mysql batch
New network crash yesterday (25/05/16) at 6:53 PM (French Time)

All crontab is working fine (* * * * * date >> /root/test.txt gives me the date every minute during the network crash)

How a single mysql batch (with only 1 cpuload which is mysql) can stop the network on my instance?"

Amazon EC2	"インスタンスが起動しない
インスタンスが起動しない状況となりました。
起動時のログを添付いたします、原因についてご確認いただけないでしょうか。

インスタンスID: i-0e8bd1fc
アベイラビリティーゾーン：ap-northeast-1c

現状、ステータスは停止にしておりますが、
ステータスチェックが「1/2 のチェックに合格しました」、
またインスタンスステータスのチェックで「障害」があると表示されたままほぼ一日ステータスが変わらない状況でした。
2,3度インスタンスの再起動しましたが起動することはありませんでした。"

Amazon EC2	"CreateSnapshot 500 errors - EBS corruption?
I create a snapshot of an EBS volume every hour.  In the last 4 days, I have received 500 errors between the hours of 1 and 3 AM CST.  Today I received a 500 at 11 AM.  Here is the requestId for the failed CreateSnapshot attempt:

RequestId:  ebac34e8-d522-4559-870a-97461e32f0db

I want to know if this is an indication that my EBS is corrupt or damaged in some way.

Please let me know.

Thanks"

Amazon EC2	"Re: CreateSnapshot 500 errors - EBS corruption?
Hello,

I have reached out to our EBS team for more information regarding this.

Regards,
Truptesh"

Amazon EC2	"Re: CreateSnapshot 500 errors - EBS corruption?
There are a number of things that can cause 500 Internal Server Error, but given the distributed nature of our services you should expect to receive occasional 500 errors. The usual technique for dealing with these error responses in a networked environment is to implement retries in the client application. 

In these cases we do recommend to add exponential backoff logic to your code, you can find more information on:

http://docs.aws.amazon.com/general/latest/gr/api-retries.html

Our team just got back to me and informed that after checking the volume we could confirm it's healthy. I hope this helps!

Regards,

Ed"

Amazon EC2	"Microsoft Project Professional 2010
Has anyone had successfully deployed Microsoft Project Professional 2010 on an EC2 instance?

And if so, what AMI did you use?

Thanks in advance

Edited by: zapper1234 on May 25, 2016 6:01 PM"

Amazon EC2	"Instance in stopping state
We've a instance with id:  i-8065f61d, its been in stopping state since days. 

I've tried it using awscli using --force option, still it stays in ""stopping"" state.  How can it be resolved ??"

Amazon EC2	"Re: Instance in stopping state
Hello,

I have asked operations team to take a look at your instance. We will update this thread once we receive internal update. 

Regards,
Umair A."

Amazon EC2	"Re: Instance in stopping state
Our team got back to me and informed the instance is now back up, could you please confirm?"

Amazon EC2	"Bug in AuthorizeSecurityGroupIngress API Action
I am trying to create a security group rule where GroupA can access GroupB over a specific port range.  This works via the Python API, which is using version 2014-10-01 of the REST API.  It does not work from Java which is using version 2015-03-01 of the API.  The error message I get is The parameter 'SourceSecurityGroupId' may not be used in combination with 'FromPort'  I have included HTTP traces below with sensitive information redacted

Successful Python Request:
POST https://ec2.us-east-1.amazonaws.com/ HTTP/1.1
Accept-Encoding: identity
Content-Length: 215
User-Agent: Boto/2.37.0 Python/2.7.6 Darwin/14.1.0
Host: ec2.us-east-1.amazonaws.com
X-Amz-Date: 20150427T222015Z
Content-Type: application/x-www-form-urlencoded; charset=UTF-8
Authorization: AWS4-HMAC-SHA256 Credential=redacted/us-east-1/ec2/aws4_request,SignedHeaders=host;x-amz-date,Signature=redacted

Action=AuthorizeSecurityGroupIngress&GroupName=test&IpPermissions.1.FromPort=65535&IpPermissions.1.Groups.1.GroupName=test-1&IpPermissions.1.IpProtocol=tcp&IpPermissions.1.ToPort=65535&Version=2014-10-01

Successful Python Response:
HTTP/1.1 200 OK
Content-Type: text/xml;charset=UTF-8
Transfer-Encoding: chunked
Vary: Accept-Encoding
Date: Mon, 27 Apr 2015 22:20:15 GMT
Server: AmazonEC2

102
<?xml version=""1.0"" encoding=""UTF-8""?>
<AuthorizeSecurityGroupIngressResponse xmlns=""http://ec2.amazonaws.com/doc/2014-10-01/"">
    <requestId>redacted</requestId>
    <return>true</return>
</AuthorizeSecurityGroupIngressResponse>
0


Failed Java Request:
POST https://ec2.us-east-1.amazonaws.com/ HTTP/1.1
Host: ec2.us-east-1.amazonaws.com
Authorization: AWS4-HMAC-SHA256 Credential=redacted/us-east-1/ec2/aws4_request, SignedHeaders=host;user-agent;x-amz-date, Signature=redacted
X-Amz-Date: 20150427T214730Z
User-Agent: aws-sdk-java/1.9.32 Mac_OS_X/10.10.2 Java_HotSpot(TM)_64-Bit_Server_VM/25.45-b02/1.8.0_45
Content-Type: application/x-www-form-urlencoded; charset=utf-8
Content-Length: 153
Connection: Keep-Alive

Action=AuthorizeSecurityGroupIngress&Version=2015-03-01&GroupId=sg-redacted&SourceSecurityGroupName=test-java1&IpProtocol=tcp&FromPort=80&ToPort=80

Failed Java Response
HTTP/1.1 400 Bad Request
Date: Mon, 27 Apr 2015 21:47:30 GMT
Cneonction: close
Server: AmazonEC2
Content-Length: 294

<?xml version=""1.0"" encoding=""UTF-8""?>
<Response><Errors><Error><Code>InvalidParameterCombination</Code><Message>The parameter 'SourceSecurityGroupId' may not be used in combination with 'FromPort'</Message></Error></Errors><RequestID>redacted</RequestID></Response>"

Amazon EC2	"Re: Bug in AuthorizeSecurityGroupIngress API Action
Also fails for Boto3:

botocore.exceptions.ClientError: An error occurred (InvalidParameterCombination) when calling the AuthorizeSecurityGroupIngress operation: The parameter 'SourceSecurityGroupId' may not be used in combination with 'FromPort'"

Amazon EC2	"Amazon Filter port 80/443
Dear Users,
Thank you for read my post and try to help me.
I have a problem with my instance. My problem is that apache2 is running and listen in ports 443,80.
I have not set iptables, all is clean.
I have open in the security group the ports 80,443.
My server was working good but today leave to response HTTP and HTTPS.
When i make a scan with nmap the port are listed like FILTERED.
Is amazon blocking my ports ? How can i fix this situation?
Thz"

Amazon EC2	"Re: Amazon Filter port 80/443
Hello there,

Could you please provide the instance ID? I will look it up to see if any of your ports are being blocked.

Thanks,
Anup"

Amazon EC2	"Issues with linking domain name with wordpress site
So I have my site set up and hosted and when I have ec2-54-152-230-82.compute-1.amazonaws.com set as my site url everything works fine. But I bought a domain from godaddy and set it up with the nameservers I got from route 53 and creating a hosted zone but when I use that domain as my site url all I get is a dns address could not be found. As far as I can tell the domain changes have propagated since when I do a whois lookup my domain has the amazon nameservers listed. I also have route 53 set up with a record set type A which is pointing toward my elastic IP.

And I followed these tutorials:
Installing a LAMP Web Server on Amazon Linux 
Hosting a WordPress Blog with Amazon Linux 
Associate a Domain Name with Your Website 

Honestly I'm not sure what else I need to do so any help at all would be appreciated... I'm sure I skipped a step somewhere just don't know what it could be.

Thanks in advance!

Edited by: mcohen2016 on May 25, 2016 1:08 PM
Small update I changed the wordpress options in the sql database to point toward the elastic ip and now that works. So if I enter my actual domain it loads the page but the url changes to the ip in the address bar. So I guess I flipped something?

Edited by: mcohen2016 on May 25, 2016 1:22 PM
Never mind it works now"

Amazon EC2	"How to remove reverse PTR records?
Hi Guys,

Can someone point me in the right direction. I want to remove the reverse PTR record, so I can release the AWS IP Address. I can find the form to add the new PTR records, but not to remove them.

Any help will be much appreciated.

Regards,

Simon"

Amazon EC2	"Re: How to remove reverse PTR records?
Hello Simon,

Could you please PM me the details of the IP addresses for whcih the PTR records need to be removed?

Thanks,
Anup"

Amazon EC2	"Re: How to remove reverse PTR records?
Hi Anup,

I've sent you these IP addresses. Can you please remove those PTR records.

Regards,

Simon"

Amazon EC2	"Re: How to remove reverse PTR records?
Hey Simon,

Thanks for sending the information. I've raised a request to the concerned team to have the records removed. Will notify you once it's done. I will get back to you if I need further information.

Regards,
Anup"

Amazon EC2	"Problem with Instance to Instance transmissions using udp
I am testing sending files between different availability zones using different methods, HTTP, UDP.
HTTP has no issues, connecting to the ports using udp also has no issues, it is not until I attempt to transmit large files that the UDP connection appears to be getting throttled and ultimately ends up timing out.
Has anyone experienced this using UDP acceleration to transfers from within EC2?"

Amazon EC2	"Re: Problem with Instance to Instance transmissions using udp
Hello,

I'm sorry to hear that you are experiencing throttling issues. AWS doesn't throttle any UDP transmissions between Availability Zones.

Could you please provide details on how you're testing this? It would be tremendously helpful if you could provide the commands/tools you're using for transmission. This way, we can test it from our end and try to reproduce the issue.

Thanks,
Anup"

Amazon EC2	"Sudo is not working for 2 weeks
I run the chown command on /etc folder .When I try to use sudo  now ,on my instance, I get this error message. 
Error :
sudo: /etc/sudo.conf is owned by uid 500, should be 0
sudo: /etc/sudoers is owned by uid 500, should be 0
sudo: no valid sudoers sources found, quitting
sudo: unable to initialize policy plugin

Is there any simple solution for this ? I googled for this , I learned I need to create new instance for this.Any simple solution other than this?

Edited by: pikkurthi on May 24, 2016 8:52 PM"

Amazon EC2	"Re: Sudo is not working for 2 weeks
I'm afraid that your searches are probably correct.  For safety, sudo won't allow anyone access if its files have permissions that would allow the file to be modified by non-root.  If you happen to allow root logins and that user has a password or key, then you can log in directly as root and fix the permissions.

This probably won't work, since direct root logins are considered a Bad Thing and are almost always prohibited.

The other option is, as you say, to create a new instance.  This doesn't necessarily mean that you'll lose your old one, though. If your disks are in EBS, you can disconnect them from one instance and connect them to another.  You shut down your old instance, attach its disks to the new instance, then edit the files.  Then, terminate the new instance, reattach the disks to your old instance and start back up.

There's a longer write-up about this process in this article."

Amazon EC2	"Elastic IP address locked
When attempting to release IP address 107.23.213.90 with allocation ID eipalloc-fa27fd97, I get a message that the IP address is not able to be released because it is locked to our account. We don't currently have a need for this IP address and was wondering how I can go about releasing it. 

Thank you."

Amazon EC2	"Re: Elastic IP address locked
Hello,

You should now be able to release the Elastic IP address from your AWS account.

Best regards,
Mohsin"

Amazon EC2	"Re: Elastic IP address locked
Thank you for your help. I was able to release the IP address."

Amazon EC2	"Re: Elastic IP address locked
Hello,

I got the same problem here. Would you help me?

""54.165.39.46: The address with allocation id eipalloc-6a4bd40f cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: f760c249-a7fe-4661-8077-a14c54ccca73)""

Edited by: jeffersonayub on May 25, 2016 12:01 PM

Edited by: jeffersonayub on May 25, 2016 1:33 PM"

Amazon EC2	"Removing e-mail sending limits and mismatched PTR
I've been having an ongoing discussion with AWS Accounts and Billing, following their refusal to remove SMTP e-mail sending limits following submitting the request here.

Their issue is that there's a mismatch between the A record (a1.swapstick.com) and its PTR record (which points to the external EC2 address - ec2-52-31-134-112.eu-west-1.compute.amazonaws.com).

The thing is though, the PTR record is held by Amazon's DNS server at x3.amazonaws.org - as you'd expect, them being the owners of the IP address block.  So surely they're the ones who should be changing the PTR record to match the A record - not us!

Can anyone shed any light on this?

Edited by: demulv on May 25, 2016 6:27 AM
Added tags"

Amazon EC2	"Re: Removing e-mail sending limits and mismatched PTR
I have sent you a PM regarding this."

Amazon EC2	"Api filters not working in Sydney and Singapore regions
Using latest v2 AWS PHP SDK and the below api call works fine on all other regions except Sydney and Singapore:

use Aws\Ec2\Ec2Client;
$client = Ec2Client::factory(array(
    'key'    => '',
    'secret' => '',
	'region' => $region_name
));
$result=$client->describeInstances(array(
     'Filters'    => array(
		array('Name' => 'group-id', 'Values' => $node_security_group_id_array),
		),
 ));

In fact, the filter group-name does not work either, no error message, just empty returned result. Other filters like image-id works fine though.

Also tried with php sdk latest v1, same results.

Anyone else had this problem?"

Amazon EC2	"Re: Api filters not working in Sydney and Singapore regions
Its working now."

Amazon EC2	"Can't HTTPS From EC2 Instance
Hello all,

I am unable to use wget, apt-get, or any other commands that require HTTPS access from my Ubuntu 14.04 instance.  The instance has a Network Interface with an Elastic IP, and a Security Group with an Inbound rule (Type=HTTPS (443), Protocol=TCP (6), Port Range=443, and Source=0.0.0.0/0) and a matching Outbound rule.  Furthermore, the ENI's subnet has an ACL with matching Inbound and Outbound rules.  All routing within the VPC appears correct, as I am able to connect to the instance, ping it, etc.  Does anyone have any ideas on why I can't HTTPS from this instance?

Thanks in advance!"

Amazon EC2	"Re: Can't HTTPS From EC2 Instance
So I was able to find the answer.  I knew the issue was somewhere in my security settings, so I just allowed all inbound/outbound traffic on my security group, and used the Network ACL to try different inbound/outbound rules until wget worked.  Turns out I needed to allow inbound traffic from ephemeral ports, so I added a rule for TCP ports 1024-65535 from any source, and now it works like a charm!  Now I can change my security group to only allow outbound traffic via HTTPS.  Btw, from later testing I found that ephemeral port inbound rules are required for HTTPS and basic HTTP."

Amazon EC2	"My IP is being blocked by websites
Hello,

I am using this IP: 23.21.32.44

and am being blocked from accessing websites.

These are a couple examples:
http://www.ticketmaster.com.mx/Teatro-Degollado-boletos-Guadalajara/venue/163939
Forbidden
You don't have permission to access /Teatro-Degollado-boletos-Guadalajara/venue/163939 on this server.

https://www.google.com/flights/
Our systems have detected unusual traffic from your computer network. Please try your request again later. 
IP address: 23.21.32.44
Time: 2016-05-25T14:48:06Z
URL: http://www.google.com/

How can I get my IP delisted? Why is this happening?

thank you"

Amazon EC2	"Website periodically down
My website (www.kbstudioart.com) has been periodically going down. When typing in web address or IP address, Google returns: ""This site can't be reached."" My instance state is ""running."" I have tried stopping and starting my instance and rebooting. Makes no difference. 

My instance ID: i-0c8ceab5547596fc1

Please help."

Amazon EC2	"Instance won't terminate
Please terminate i-05c5275368c39298b"

Amazon EC2	"Re: Instance won't terminate
Hi,
The instance is part of an Elastic Beanstalk environment and has been launched as part of an Autoscaling group, therefore it is possible that if you terminate it a replacement instance will be launched.
You would need to terminate the environment through Elastic Beanstalk and the instance will be terminated with the rest of the environment.

You can find more information at the link below:
http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.terminating.html

Regards.

Andrea S."

Amazon EC2	"Regional data transfer - in/out/between EC2 AZs or using elastic IPs or ELB
Dear friends, 
I'm pretty new to AmazonWS, I'm running a simple demo application written in Play Framework on a EC2 instance, and it reads and sends some data to a MySql DB on RDS, plus I configured SES to send some alerts via email.
All is working just fine. Only thing to notice is that SES was not available on the same zone that I picked for the EC2 and DB (Frankfurt), so I picked another zone for it (Ireland), but it works np.

Today I noticed this in the bill:
$0.010 per GB - regional data transfer - in/out/between EC2 AZs or using elastic IPs or ELB	2.308 GB	$0.02

I really have no idea where this is coming from.
From a seach on the net that I did before asking your help, I found out that this is charged for traffic INSIDE the Amazon domain using the PUBLIC address of a resource, so for example it cannot be due to the SFTPs from my laptop to the EC2 instance.
I immediately thought about the connection between the EC2 web application and the RDS mysql instance, as I deployed that with the public DB endpoint. That cannot be either though, because that's the expected behaviour, and to confirm that, I noticed that the db's public endpoint is resolved with different addresses on my laptop and inside the EC2 instance (the latter resolving to an internal one).

ping frankfurt-mysql-xxxx.eu-central-1.rds.amazonaws.com
PING ec2-52-58-119-151.eu-central-1.compute.amazonaws.com (172.31.6.251) 56(84) bytes of data.


Lastly, I found that my EC2 ip is 172.31.19.23, and that the two VPC defined for my zone are:
172.31.0.0/20 	eu-central-1a
172.31.16.0/20 eu-central-1a

I tried following this guide: http://serverfault.com/questions/753053/aws-regional-traffic-track-down-where-it-comes-from and launched this command:

sudo tcpdump ""not src net 172.31.16.0 mask 255.255.240.0 and not src host ip-172-31-19-23"" -i eth0


which returned this:
[ec2-user@ip-172-31-19-23 ~]$ sudo tcpdump ""not src net 172.31.16.0 mask 255.255.240.0 and not src host ip-172-31-19-23"" -i eth0
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes
15:42:28.675053 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.50296: 13072 1/0/0 A 172.31.19.23 (79)
15:42:28.678211 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.50296: 41019 0/1/0 (124)
15:42:28.683959 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.56903: 330 1/0/0 PTR ip-172-31-19-23.eu-central-1.compute.internal. (102)
15:42:28.685008 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.48943: 64202 1/0/0 PTR ip-172-31-0-2.eu-central-1.compute.internal. (98)
15:42:28.720693 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 827529555, win 255, length 0
15:42:28.722586 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 337, win 260, length 0
15:42:28.722758 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.50383: 51408 NXDomain 0/1/0 (106)
15:42:28.723104 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 1057, win 258, length 0
15:42:28.760932 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 1649, win 260, length 0
15:42:28.799115 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 2033, win 259, length 0
15:42:29.063459 IP clock.trit.net.ntp > ip-172-31-19-23.eu-central-1.compute.internal.ntp: NTPv4, Server, length 48
15:42:29.082621 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 2225, win 258, length 0
15:42:29.225562 IP ip-172-31-0-2.eu-central-1.compute.internal.domain > ip-172-31-19-23.eu-central-1.compute.internal.54843: 54995 1/0/0 PTR clock.trit.net. (70)
15:42:29.264824 IP 91.218.224.5.50242 > ip-172-31-19-23.eu-central-1.compute.internal.ssh: Flags [.], ack 2817, win 256, length 0
.........


At this point I'm kinda lost though, I'm not really sure how I can debug this any further and reach a useful conclusion.
Do you think that you can help me get back on my analysis?
Thank you so much everyone,
Best regards,
Roberto"

Amazon EC2	"Instance unreachable on SSH or HTTP but passing status Checks
Instance ID i-72f2e7cb, as stated I cannot connect over SSH or via the browser. The SSH connection just hangs with no response, and times out over HTTP. I've tried a reboot, but no change. 
Any Ideas?

Thanks in advance."

Amazon EC2	"Announcing database change management tool Sqitch support for Amazon Linux
Database change management is a hard and complex problem faced by most enterprise applications. It is usually on the critical path when delivering new features to our customers.

We have been using a tool called Sqitch internally for a while now and we have found it to be extremely helpful in managing changes to our databases. 

Sqitch has also given us the ability to better integrate more stateful information into our database fleet. Hence our application layers are becoming increasingly functional and friendly to testing. 

We are happy to make our Sqitch RPMs available to the rest of the AWS community. We hope you'll find it useful.

For more details, please see our blog post at,
https://lambda-linux.io/blog/2016/05/25/announcing-sqitch-support-for-amazon-linux/

Sincerely,
Lambda Linux Project Team"

Amazon EC2	"AWS VMDK to EC2 ,USING S3
Hi  all ,
I am trying to import my  vmdk  to EC2 as a instance using S3 bucket
Iam using  this  syntax 

ec2-user@ip-10-0-x-x ~$ ec2-import-instance disk1.vmdk -f VMDK -t m1.xlarge -a x86_64 -b import-raj -o XXXXXXACCESS KEY -w XXXXXXXSECRETKEY -O ACESSKEYXXXXXXX -W SECRETKEYXXXXXXXXXXXXXXXXX
Requesting volume size: 90 GB
ERROR: Unable to create signed manifest URL. Bucket import-raz is not in us-east-1 region, it's in eu-west-1


Can you please provide me the exact syntax  to  be used . 

Edited by: rajaws467690 on May 25, 2016 4:36 AM"

Amazon EC2	"Redirect http to https on tomcat8 elasticbeanstalk using elb
Hi,
I'm successfully able to access my domain using https. But not able to redirect http to https. I there any specific way to configure it and to redirect http to https.?"

Amazon EC2	"SSH - Permission denied (publickey)
AWS EC2 newbie here. 

I am using Bitnami for a Ghost blog. Trying to SSH into the server so I can make changes to the theme via text editor (Atom) and I am having issues SSHing into the server. 

 $ ssh bitnami@ec2-XXXXXX.us-west-2.compute.amazonaws.com -v
OpenSSH_6.9p1, LibreSSL 2.1.8
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug1: Connecting to ec2-XXXXXX.us-west-2.compute.amazonaws.com [XXXXX] port 22.
debug1: Connection established.
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_rsa type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_rsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_dsa type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_dsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_ecdsa type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_ecdsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_ed25519 type -1
debug1: key_load_public: No such file or directory
debug1: identity file /Users/apple/.ssh/id_ed25519-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.9
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.6
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.6 pat OpenSSH_6.6.1* compat 0x04000000
debug1: Authenticating to ec2-XXXXXX.us-west-2.compute.amazonaws.com:22 as 'bitnami'
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client chacha20-poly1305@openssh.com <implicit> none
debug1: kex: client->server chacha20-poly1305@openssh.com <implicit> none
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:1Ie0dPzXsd0u8EsCQ02sePqEGeI1OctSCWC51L99wUo
debug1: Host 'ec2-XXXXXX.us-west-2.compute.amazonaws.com' is known and matches the ECDSA host key.
debug1: Found key in /Users/apple/.ssh/known_hosts:8
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /Users/apple/XXX/XXX/GhostBlog.pem
debug1: Authentications that can continue: publickey
debug1: Trying private key: /Users/apple/.ssh/id_rsa
debug1: Trying private key: /Users/apple/.ssh/id_dsa
debug1: Trying private key: /Users/apple/.ssh/id_ecdsa
debug1: Trying private key: /Users/apple/.ssh/id_ed25519
debug1: No more authentication methods to try.
Permission denied (publickey). 


Here is my ~/.ssh folder
 ls -al ~/.ssh
total 48
drwx------   6 clark  XX    204 May 25 12:04 .
drwxr-xr-x+ 74 clark  XX   2516 May 25 12:05 ..
-rw-------   1 clark  XX  12288 May 25 12:05 .knownhosts.swp
-rw-------   1 clark  XX      0 May 25 12:52 authorized_keys
-rw-------   1 clark  XX   1766 May  5 23:34 github_rsa
-rw-r--r--   1 clark  XX    407 May  5 23:34 github_rsa.pub
-rw-r--r--   1 clark  XX   2835 May 25 03:06 known_hosts 


Any help is appreciated. I am sure the answer is pretty basic but I've spent a few hours trying w/no luck."

Amazon EC2	"Wordpress page keeps dropping out on micro EC2 instance
Hi,

I am currently hosting a wordpress website on a micro EC2 instance - however noticed that a large portion of the time the server is not accessible by using a browser when accessing the webpage. I have tried rebooting the instance which works 50% of the time. The server is accessible if i SSH into it or use FTP.

Any advice on how to investigate the issue would be greatly appreciated."

Amazon EC2	"Instance stucked in stopping for 30 min on impaired hardware
Hi AWS Team,

unable to stop instance i-565511fc: tried stop and force stop but it has been spinning for 30 minutes.

Please stop it so I can restart it."

Amazon EC2	"Re: Instance stucked in stopping for 30 min on impaired hardware
it's stopped.
Thanks"

Amazon EC2	"Notified about instance getting retired but unable to create image
I attempted to create an image from the instance but one hour later I still see this: http://screencast.com/t/rDCBoZpgaS 

Here was the email I got from you: http://screencast.com/t/9xVcCQyQL"

Amazon EC2	"Re: Notified about instance getting retired but unable to create image
Good day 

I had a look at your instance i-1af8287c and the current AMI. The instances current underlying host is facing an issue. The host is currently in an degraded state which can cause the AMI creation to get stuck.

On the brighter side of things since the instance's root device is an EBS volume, you can recover the instance by performing a stop/start. This will move it to a different underlying hardware host that is functioning correctly. 

There is a chance that due to the issues with the underlying host that the instance may become stuck in a ""stopping"" state. If this does happen, please reach back out to us as we will need to force the stop on our end.

Kind Regards
Imthian R"

Amazon EC2	"Configuring HTTPS issues
We want to get HTTPS running on or site. So far I believe I have done everything in the amazon guide.
I created the certificate with ACM
I created a load balancer, with the same security group as our instance assigned the certificate etc
We pass the health checks to, not sure if we need to do something else to our apache config or like a dns record for it?
website is calendar.childmags.com.au 
https://calendar.childmags.com.au currently doesn't work. Any help appreciated will post relevant details as needed just unsure"

Amazon EC2	"Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hi,

Please check my instance (i-e39cce7e).
There is no info of ""CPU Credit Usage"" and ""CPU Credit Balance"".
I already tried to stop/start the instance(not just reboot) but still no luck.

Thanks in advance,
Hide"

Amazon EC2	"Re: Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hi, 
sorry to hear you are not being able to see the cpu credit metrics. 
I've reached our cloudwatch service team and we will be letting you know if we need additional information here. 

Cheers
Javier C#"

Amazon EC2	"Re: Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hello,

still don't get it? any updates?

thanks."

Amazon EC2	"Re: Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hello,

I have requested internal update on the issue here, We will be contacting you with feedback soon.

Regards,
Umair A."

Amazon EC2	"Re: Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hello,

Issue with cloduwatch metrics should be resolved now. Could you please check it again and let us know if you face any issue.

Regards,
Umair A."

Amazon EC2	"Re: Missing info ""CPU Credit Usage"" and ""CPU Credit Balance""
Hi,

I checked it again and those status is showing up correctly now. 
Thanks!

Hide"

Amazon EC2	"Instance stuck in stopped state with undetachable volume, unsnapshotable
Issue: Instance stuck in a stopped state. 

We tried to follow the procedure outlined in the AWS Docs: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

We were able to initiate a snapshot for the first two out of 3 volumes but the 3rd one is undetachable.

tried force stop -> shows that it's stopping but stuck for over an hour. 


No AMI exists for the Instance -> trying force detach but stuck stopped state isn't allowing this. 
devops@nz mbc > ec2-detach-volume -v --debug vol-338c91cb --force
Setting User-Agent to http://ec2-api-tools 1.7.3.2
Using AWS acces key: &ltAccess Key Removed>
2016-05-24 11:15:33,264 main DEBUG org.apache.http.wire  - >> ""POST / HTTP/1.1\r\n""
2016-05-24 11:15:33,265 main DEBUG org.apache.http.wire  - >> ""Host: ec2.amazonaws.com\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""Authorization: AWS4-HMAC-SHA256 Credential=&ltAccess Key Removed>/20160524/us-east-1/ec2/aws4_request, SignedHeaders=host;user-agent;x-amz-date, Signature=dfd504c665ef2a39b5ca5da5d6411112eed9fcb4a42d61c9bb5c054cbc0aa771\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""X-Amz-Date: 20160524T151532Z\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""User-Agent: ec2-api-tools 1.7.3.2, aws-sdk-java/unknown-version Mac_OS_X/10.11.4 Java_HotSpot(TM)_64-Bit_Server_VM/25.45-b02/1.8.0_45\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""Content-Length: 71\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""Connection: Keep-Alive\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""\r\n""
2016-05-24 11:15:33,266 main DEBUG org.apache.http.wire  - >> ""Action=DetachVolume&Version=2014-10-01&VolumeId=vol-338c91cb&Force=true""
2016-05-24 11:15:33,597 main DEBUG org.apache.http.wire  - << ""HTTP/1.1 400 Bad Request\r\n""
2016-05-24 11:15:33,598 main DEBUG org.apache.http.wire  - << ""Transfer-Encoding: chunked\r\n""
2016-05-24 11:15:33,598 main DEBUG org.apache.http.wire  - << ""Date: Tue, 24 May 2016 15:15:33 GMT\r\n""
2016-05-24 11:15:33,598 main DEBUG org.apache.http.wire  - << ""Connection: close\r\n""
2016-05-24 11:15:33,598 main DEBUG org.apache.http.wire  - << ""Server: AmazonEC2\r\n""
2016-05-24 11:15:33,599 main DEBUG org.apache.http.wire  - << ""\r\n""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""150\r\n""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""<?xml version=""1.0"" encoding=""UTF-8""?>\n""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""<Response><Errors><Error><Code>IncorrectInstanceState</Code><Message>Unable to detach volume 'vol-338c91cb' from instance 'i-758a3a99'. The instance is not in a state in which volumes can be detached.</Message></Error></Errors><RequestID>739dd613-1a46-4315-ba43-e2f74cac404d</RequestID></Response>""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""\r\n""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""0\r\n""
2016-05-24 11:15:33,605 main DEBUG org.apache.http.wire  - << ""\r\n""
Client.IncorrectInstanceState: Unable to detach volume 'vol-338c91cb' from instance 'i-758a3a99'. The instance is not in a state in which volumes can be detached. (Service: AmazonEC2; Status Code: 400; Error Code: IncorrectInstanceState; Request ID: 739dd613-1a46-4315-ba43-e2f74cac404d)
Request ID: 739dd613-1a46-4315-ba43-e2f74cac404d
com.amazonaws.AmazonServiceException: Unable to detach volume 'vol-338c91cb' from instance 'i-758a3a99'. The instance is not in a state in which volumes can be detached. (Service: AmazonEC2; Status Code: 400; Error Code: IncorrectInstanceState; Request ID: 739dd613-1a46-4315-ba43-e2f74cac404d)
	at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1073)
	at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:721)
	at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:456)
	at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)
	at com.amazonaws.services.ec2.AmazonEC2Client.invoke(AmazonEC2Client.java:7061)
	at com.amazonaws.services.ec2.AmazonEC2Client.detachVolume(AmazonEC2Client.java:357)
	at com.amazon.aes.webservices.client.Jec2SdkImpl.detachVolume(Jec2SdkImpl.java:1244)
	at com.amazon.aes.webservices.client.cmd.DetachVolume.invokeOnline(DetachVolume.java:85)
	at com.amazon.aes.webservices.client.cmd.BaseCmd.invoke(BaseCmd.java:1152)
	at com.amazon.aes.webservices.client.cmd.DetachVolume.main(DetachVolume.java:98)

Is there any solution to recover that volume or are we dead in the water with that volume? 

Please advise, 

Thanks! 

Michael Chu
DevOps Engineer
michael.chu@newzulu.com"

Amazon EC2	"Re: Instance stuck in stopped state with undetachable volume, unsnapshotable
Here is what the System Log shows on the AWS Console:

http://37934913.912052 INFO: task xfsaild/xvdg1:402 blocked for more than 120 seconds.
http://37934913.912067       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912071 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912230 INFO: task mysqld:8067 blocked for more than 120 seconds.
http://37934913.912234       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912237 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912299 INFO: task mysqld:29136 blocked for more than 120 seconds.
http://37934913.912303       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912306 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912371 INFO: task mysqld:30024 blocked for more than 120 seconds.
http://37934913.912375       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912378 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912419 INFO: task mysqld:31421 blocked for more than 120 seconds.
http://37934913.912423       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912427 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912465 INFO: task mysqld:32683 blocked for more than 120 seconds.
http://37934913.912469       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912472 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912524 INFO: task mysqld:686 blocked for more than 120 seconds.
http://37934913.912527       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912531 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912582 INFO: task mysqld:725 blocked for more than 120 seconds.
http://37934913.912586       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912589 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.912640 INFO: task mysqld:1266 blocked for more than 120 seconds.
http://37934913.912644       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.912647 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37934913.955581 INFO: task mysqld:1267 blocked for more than 120 seconds.
http://37934913.955586       Not tainted 3.13.0-83-generic #127-Ubuntu
http://37934913.955590 ""echo 0 > /proc/sys/kernel/hung_task_timeout_secs"" disables this message.
http://37939645.692975 Out of memory: Kill process 7611 (mysqld) score 601 or sacrifice child
http://37939645.693202 Killed process 7611 (mysqld) total-vm:45881992kB, anon-rss:42199916kB, file-rss:2968kB
http://37940348.871826 Out of memory: Kill process 8064 (mysqld) score 603 or sacrifice child
http://37940348.871840 Killed process 8064 (mysqld) total-vm:45881992kB, anon-rss:42344668kB, file-rss:3448kB
http://37942349.944911 end_request: I/O error, dev xvdg, sector 1048853200
http://37942349.944945 end_request: I/O error, dev xvdg, sector 1048853209
http://37942349.944958 end_request: I/O error, dev xvdg, sector 1049710048
http://37942349.944969 end_request: I/O error, dev xvdg, sector 1049712880
http://37942349.944979 end_request: I/O error, dev xvdg, sector 1049731672
http://37942349.944991 Buffer I/O error on device xvdg1, logical block 131216203
http://37942349.945019 end_request: I/O error, dev xvdg, sector 1048853215
http://37942349.945033 end_request: I/O error, dev xvdg, sector 1073253368
http://37942349.945051 end_request: I/O error, dev xvdg, sector 1073253456
http://37942349.945062 end_request: I/O error, dev xvdg, sector 1073253544
http://37942349.945074 end_request: I/O error, dev xvdg, sector 1073253632
http://37942349.945221 XFS (xvdg1): metadata I/O error: block 0x3e8432d0 (""xlog_iodone"") error 5 numblks 64
http://37942349.945509 XFS (xvdg1): Log I/O Error Detected.  Shutting down filesystem
http://37942349.945518 XFS (xvdg1): Please umount the filesystem and rectify the problem(s)
http://37942349.945532 XFS (xvdg1): metadata I/O error: block 0x3e8432d9 (""xlog_iodone"") error 5 numblks 64
http://37942349.945545 XFS (xvdg1): metadata I/O error: block 0x3e8432df (""xlog_iodone"") error 5 numblks 64
http://37942349.945552 XFS (xvdg1): metadata I/O error: block 0x3e8432ee (""xlog_iodone"") error 5 numblks 64
http://37942349.945619 XFS (xvdg1): metadata I/O error: block 0x3e8432fa (""xlog_iodone"") error 5 numblks 64
http://37942349.945650 Buffer I/O error on device xvdg1, logical block 134156283
http://37942349.945660 Buffer I/O error on device xvdg1, logical block 134156284
http://37942349.945667 Buffer I/O error on device xvdg1, logical block 134156285
http://37942349.945673 Buffer I/O error on device xvdg1, logical block 134156286
http://37942349.945682 Buffer I/O error on device xvdg1, logical block 134156287
http://37942349.945691 Buffer I/O error on device xvdg1, logical block 134156288
http://37942349.945716 Buffer I/O error on device xvdg1, logical block 134156289
http://37942349.945738 Buffer I/O error on device xvdg1, logical block 134156290
http://37942349.946919 XFS (xvdg1): metadata I/O error: block 0x3e8432fc (""xlog_iodone"") error 5 numblks 64
http://37942349.946935 XFS (xvdg1): metadata I/O error: block 0x3e8432fe (""xlog_iodone"") error 5 numblks 64
http://37942349.947033 XFS (xvdg1): metadata I/O error: block 0x3e843300 (""xlog_iodone"") error 5 numblks 64
Tue May 24 13:27:39 UTC 2016: shutting down for reboot up 2662799s."

Amazon EC2	"Re: Instance stuck in stopped state with undetachable volume, unsnapshotable
Hello, 

I've reached out to our support team to further investigate what happened to this EBS volume. We'll update you with what they find. 

Regards,
Nick"

Amazon EC2	"Re: Instance stuck in stopped state with undetachable volume, unsnapshotable
Hello,
Can you please try to detach the volume again now? Please let us know if you still see issues.

Cheers
Najah N."

Amazon EC2	"Website fails on trying to update PHP
I tried to update the version on PHP on my EC2 instance using the following commands:

sudo yum remove httpd* php*
sudo yum install httpd24 php7


While I was previously able to access the website using the public DNS, I'm unable to do so anymore. Is there a way to reverse what I did? Also, is there a different way to get my instance to run PHP 7?

Edited by: _raghul on May 24, 2016 6:56 PM"

Amazon EC2	"Ubuntu Xenial will not reboot with a valid Openvpn configuration
Hi -

Having a strange but reproducible issue trying to run Openvpn on Ubuntu Xenial. It will not reliably reboot with a valid config. Here are steps to reproduce.

*) Use region us-west-2 (Oregon)

*) Select AMI ami-fa82739a which is Ubuntu Xenial release, 64bit, EBS, HVM. Spin up into micro instance, completely open security group (all ports open in and out). My instance is in a VPC with IP range 172.30.0.0/16 which will be relevant later on.

*) SSH into the instance and run

% sudo apt-get update && sudo apt-get -y dist-upgrade

to bring the node fully up to date. Reboot.

*) SSH back into the instance and run

% sudo apt-get -y install openvpn easy-rsa

*) Use scp to put the the file openvpn-failconf.tar in the /home/ubuntu directory. Please note this contains a valid Openvpn config, but just has example certs / keys. There's nothing dangerous to have in public in there.

*) Become root with

% sudo su -

*) Set up the openvpn configuration with

% cd /etc
% mv /home/ubuntu/openvpn-failconf.tar .
% tar xvf openvpn-failconf.tgz
% chown -R root:root openvpn

*) Start openvpn with

% systemctl start openvpn@example

*) At this point, there is an active running Openvpn server. If you do

% ifconfig

You'll see a tun device that routes traffic to the 172.30.0.0/16 network represented by the VPC I mentioned earlier.

*) Reboot the instance.

EXPECTED: The instance comes back up

ACTUAL: The instance does not get back onto the network and status checks fail.

OTHER NOTES: This exact same config works just fine on an Ubuntu Wily instance that is also launching Openvpn via systemd. As far as I can tell the bad behavior is specific to Ubuntu Xenial (I have not tested with Debian Sid).

Any insight would really be appreciated. Thanks!

Edited by: Christopher Lea on May 9, 2016 9:57 PM

Edited by: Christopher Lea on May 9, 2016 9:59 PM

Edited by: Christopher Lea on May 9, 2016 10:17 PM"

Amazon EC2	"Re: Ubuntu Xenial will not reboot with a valid Openvpn configuration
I am having the EXACT same problem. My methods to reproduce are slightly different, but in the end the same.

1. Go to https://cloud-images.ubuntu.com/locator/ec2/ and search for 'xenial'. Find the AMI in US-West-2 with the ID ami-fa82739a and click the link to be re-directed to AWS.

2. Spin up an EC2 instance. Run `apt-get -y update && apt-get -y dist-upgrade && reboot now`.

3. After reboot, do `apt-get install -y openvpn openvpn-auth-ldap easy-rsa`.

4. I place a single `.conf` file in /etc/openvpn such as `openvpnudp.conf` with all of the relevant files (certificates, keys, etc.) in a separate folder at /etc/openvpn/openvpnudp/.

5. I make that .conf file started with the generic OpenVPN service using `systemctl daemon-reload` and then `systemctl restart openvpn.service`. A simple `ps -ef | grep openvpn` reveals that it is running. Then I do `reboot now`.

I get the same results as Christopher. Instance should come back online, but the health checks fail, and I can no longer SSH into that machine.

Here's a link to my config: https://gist.github.com/sc250024/001e05d64cd02fe746ae1772baccd24a

Edited by: sc250024 on May 10, 2016 12:48 PM

Edited by: sc250024 on May 10, 2016 12:49 PM"

Amazon EC2	"Re: Ubuntu Xenial will not reboot with a valid Openvpn configuration
Chris,

I found the answer. The `systemd` script `/lib/systemd/system/openvpn@.service`, which is used for the *.conf files inside of `/etc/openvpn` is missing a very important line in it's configuration.

[Unit]
Description=OpenVPN connection to %i
PartOf=openvpn.service
ReloadPropagatedFrom=openvpn.service
Before=systemd-user-sessions.service
After=network.target network-online.target # This is needed
Documentation=man:openvpn(8)
Documentation=https://community.openvpn.net/openvpn/wiki/Openvpn23ManPage
Documentation=https://community.openvpn.net/openvpn/wiki/HOWTO


That ""After"" line is needed to ensure that the OpenVPN routes get established after the main networking unit. That should solve it!"

Amazon EC2	"Re: Ubuntu Xenial will not reboot with a valid Openvpn configuration
That did it, thanks!

I'll look into reporting this as a bug to Debian or Canonical.


chl"

Amazon EC2	"Windows Activation Failed
Several of our ec2 instances are failing to renew activation. We only have a certain number of days left until our production environments stop working. We have reinstalled the Ec2Config on one of the instances, but it still fails activation saying the KMS server cannot be reached. The KMS settings are 169.254.169.250 and 169.254.169.251. Thanks."

Amazon EC2	"Re: Windows Activation Failed
Hello there,

Can you please provide some of the instance ID's to begin the investigation?

Best,
Adolfo M."

Amazon EC2	"Re: Windows Activation Failed
i-43c5c1e3

This instance is having the issue and the Windows OS will expire today if this doesn't get fixed. We have other instances having the same problem. It looks like every instance connected to this VPC, vpc-c9a9efac.

The other instances can wait for now as they aren't going to expire today, but we do need to eventually get them all fixed obviously."

Amazon EC2	"Re: Windows Activation Failed
Having same issue with i-01c076c004922c2de in ap-southeast-2b but only development server.  Still I'd rather not lose it."

Amazon EC2	"Re: Windows Activation Failed
Hey Peter,

Since AWS support is slacking on the forums, we had to pay for support to get an answer on this.

We had to update the EC2Config application and PV drivers on the server that was having an issue. Updating the PV drivers will reboot the instance several times. You should have a valid activated Windows install once you update both of those."

Amazon EC2	"Re: Windows Activation Failed
Hello, 

A better place to start for troubleshooting these activation issues is here:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#activate-windows

There are any number of ways to break this connectivity at an OS level, and the above documentation covers how to troubleshoot this in detail. You'll want to verify you're running the latest version of EC2config, verify routes for the KMS servers, and troubleshoot using the Slmgr tool. 

Regards,
Nick"

Amazon EC2	"Re: Windows Activation Failed
After taking a snapshot image, I spun up the VM as classic, updated PV drivers (had already updated EC2Config) and followed all the steps in the troubleshooting guide without success.  Firewall is disabled.

PS C:\tmp> route print
===========================================================================
Interface List
 20...22 00 0a fb 17 15 ......AWS PV Network Device #0
  1...........................Software Loopback Interface 1
 13...00 00 00 00 00 00 00 e0 Microsoft ISATAP Adapter
 12...00 00 00 00 00 00 00 e0 Teredo Tunneling Pseudo-Interface
===========================================================================
 
IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0      10.251.23.1     10.251.23.21     10
      10.251.23.0  255.255.255.192         On-link      10.251.23.21    266
     10.251.23.21  255.255.255.255         On-link      10.251.23.21    266
     10.251.23.63  255.255.255.255         On-link      10.251.23.21    266
        127.0.0.0        255.0.0.0         On-link         127.0.0.1    306
        127.0.0.1  255.255.255.255         On-link         127.0.0.1    306
  127.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  169.254.169.250  255.255.255.255      10.251.23.1     10.251.23.21     10
  169.254.169.251  255.255.255.255      10.251.23.1     10.251.23.21     10
  169.254.169.254  255.255.255.255      10.251.23.1     10.251.23.21     10
        224.0.0.0        240.0.0.0         On-link         127.0.0.1    306
        224.0.0.0        240.0.0.0         On-link      10.251.23.21    266
  255.255.255.255  255.255.255.255         On-link         127.0.0.1    306
  255.255.255.255  255.255.255.255         On-link      10.251.23.21    266
===========================================================================
Persistent Routes:
  None
 
IPv6 Route Table
===========================================================================
Active Routes:
 If Metric Network Destination      Gateway
  1    306 ::1/128                  On-link
 20    266 fe80::/64                On-link
 20    266 fe80::51be:16ab:1d25:ca66/128
                                    On-link
  1    306 ff00::/8                 On-link
 20    266 ff00::/8                 On-link
===========================================================================
Persistent Routes:
  None

PS C:\tmp> slmgr.vbs /dlv
Microsoft (R) Windows Script Host Version 5.8
Copyright (C) Microsoft Corporation. All rights reserved.
 
Software licensing service version: 6.2.9200.17361
 
Name: Windows(R), ServerStandard edition
Description: Windows(R) Operating System, VOLUME_KMSCLIENT channel
Activation ID: f0f5ec41-0d55-4732-af02-440a44a3cf0f
Application ID: 55c92734-d682-4d71-983e-d6ec3f16059f
Extended PID: 05426-01843-000-000001-03-1033-9200.0000-2362012
Installation ID: 512124036132151692840776167060315966303394348344279097139609685
Partial Product Key: 92BT4
License Status: Notification
Notification Reason: 0xC004F00F.
Remaining Windows rearm count: 992
Trusted time: 18-May-16 09:07:47
Configured Activation Type: All
Please use slmgr.vbs /ato to activate and update KMS client information in order to update values.

 Couple of related entries from Windows Log:
The client has sent an activation request to the key management service machine.
Info:
0xC0020017, 0x00000000, kms.ap-southeast-2.amazonaws.com:1688, fbd9b220-cda8-4f7e-b11a-29f1686f480c, 2016/05/17 22:34, 1, 5, 0, f0f5ec41-0d55-4732-af02-440a44a3cf0f, 5

The Software Protection service has completed licensing status check.
Application Id=55c92734-d682-4d71-983e-d6ec3f16059f
Licensing Status=
1: 20e938bb-df44-45ee-bde1-4e4fe7477f37, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
2: 6a1e73cb-6d7f-4703-811c-3b8af0f6d161, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
3: 7b37c913-252b-46be-ad80-b2b5ceade8af, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
4: 7d7240c9-5ea0-4a33-8061-a5f44d061f2e, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
5: 80f31e41-6acb-44f8-84b6-f977eee1180b, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
6: b56ceac0-8372-431d-9790-e8f5c3bc36d9, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
7: c0cacd85-5cd9-40cf-9c30-a1ecce06211f, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
8: dcb88f6f-b090-405b-850e-dabcccf3693f, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
9: e8d4f6d1-e7dc-4846-8211-00c73378761c, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
10: e99ef7c9-df7e-4ad8-9bc2-a9c1d89a808b, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
11: f0f5ec41-0d55-4732-af02-440a44a3cf0f, 1, 1 [(0 [0xC004E003, 0, 0], [( 2 0xC004F00F 0 0 msft:rm/algorithm/volume/1.0 0x00000000 0)( 1 0x00000000)(?)( 2 0xC004F00F 0 0 msft:rm/algorithm/volume/1.0 0x00000000 0)(?)(?)(?)(?)])(1 )(2 [0x00000000, 0, 0], [( 6 0xC004F009 0 0)( 1 0x00000000)( 6 0xC004F009 0 0)(?)(?)(?)( 10 0x00000000 msft:rm/algorithm/flags/1.0)( 11 0x00000000 0xC004F00F)])]
12: fe27276b-a5a9-4b4d-88e3-14271beb79be, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]
13: 3502d53e-5d43-436a-84af-714e8d334f8d, 1, 0 [(0 [0xC004F014, 0, 0], [(?)(?)(?)(?)(?)(?)(?)(?)])(1 )(2 )]

License Activation (slui.exe) failed with the following error code:
hr=0xC004F074
Command-line arguments:
RuleId=eeba1977-569e-4571-b639-7623d8bfecc0;Action=AutoActivate;AppId=55c92734-d682-4d71-983e-d6ec3f16059f;SkuId=f0f5ec41-0d55-4732-af02-440a44a3cf0f;NotificationInterval=1440;Trigger=UserLogon;SessionId=2


Any ideas?"

Amazon EC2	"Re: Windows Activation Failed (SOLVED)
I noticed that the IP address returned when I ping kms.ap-southeast-2.amazonaws.com (54.240.195.103) was not the same as the TargetKMSServer (169.254.169.250) in ActivationSettings.xml

So when I did slmgr.vbs /skms 169.254.169.250
slmgr.vbs /ato

Windows activated successfully.

Any idea what was going on here?  Is there something wrong with my VM configuration or with AWS infrastructure?

Edited by: Peter Hancox on May 18, 2016 9:26 AM"

Amazon EC2	"Re: Windows Activation Failed (SOLVED)
Thank you, Peter! I've been looking for a solution to this since I found our EC2 instance in its nonactivated grace period last week. I followed several sets of directions with no joy. Resetting the KMS address (to the 169.254 address listed in ActivationSettings.xml) let the activation succeed. Where would you like me to send the thank-you cookies?

Everything was working fine for the past few years. What broke?"

Amazon EC2	"Re: Windows Activation Failed (SOLVED)
Hi Addelphi.  Not sure what broke.  My instance was an old one that I haven't spun up for about six months.  Sounds like yours were similarly old; perhaps some configuration that has changed for newly created instances.  Though since it worked using information from ActivationSettings.xml in the ""old"" instance, it seems more likely something changed externally.  Perhaps kms.ap-southeast-2.amazonaws.com is returning the wrong address?

Anyway, glad my notes helped you out.  I'm not that familiar with the forums so I'm not sure whether your afore mentioned ""thank-you cookies"" are a feature of the forums or some freshly baked virtual cookies?"

Amazon EC2	"cant force stop instance after hardware retirement
I just received a hardware retirement notice. I tried stopping it; after 10 minutes I tried a force stop. It's been about 20-30 minutes now. 

I tried to create an AMI as well, but the snapshot is stuck at 99%.

The instance id is i-c5f2726c

Any advice?"

Amazon EC2	"Re: cant force stop instance after hardware retirement
The instance has finally stopped and successfully restarted."

Amazon EC2	"Problems connecting to the instance
Help needed.

Our Instance was restarted & I have trouble connecting it back. Last time I did that - I remember the 1st step was to connect to it through SSH

But now I fail in doing that.
I downloaded Bitwise SSH client & it is saying ""Authentication failed. The key has been rejected.""
I also tried to connect with built in (Java) SSH client. It is saying:
--Connected to server running SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2--
Server's hostkey (ssh-dss) fingerprint:
openssh md5: ***
bubblebabble: ***
and that's it. After some time it showing ""I/O error - read failed: unknown error""

Update1: ok, I've got through that step. the problem was with user name missing.

Oddly enough now it turned on as a read-only. Any advice on how to make it back full access is appreciated.

We have t2.micro instance.

Edited by: Deniss Z. on May 24, 2016 11:54 AM

Edited by: Deniss Z. on May 24, 2016 11:56 AM

Edited by: Deniss Z. on May 24, 2016 11:56 AM"

Amazon EC2	"Re: Problems connecting to the instance
I don't know what was the reason, but the walkaround was to connect to the server & manually change permissions to the working folders (with chmod command)"

Amazon EC2	"Regarding open a website's home page instead of apache tomcat's page.
Dear sir/madam,
 Currently i am having amazon ec2 instance with Amazon linux 64bit ami. i am using this instance since 2015. I am running my website which is written in Java on this instance. Suddenly today when i logged in to instance using putty it gets updated and and many packges are being updated today including tomcat.

so after completion of update when i ran my website ""http://www.silcore.in"", apache tomcat's home page is there in display. i put all files in /var/lib/tomcat6/webapps/ROOT/ and configuration file of tomcat6 is located in /usr/share/tomcat6/. I had tried R & D on it and also googled it but not able to find any solution for opening my website's page. please give me some solution as soon as possible.

Thanks 
Regards 
Savan Tripathi"

Amazon EC2	"Cannot connect to the webpage
Hi. We have a T2 micro instance running. Suddenly (yesterday) we lost access to that. Browser keep saying:

This webpage is not available
ERR_CONNECTION_REFUSED

From the console - Instance status check failed yesterday, but today showing fine.

have no idea where to start looking.

UPD: I launched Java SSH Client & (despite I don't understand anything) was able to access/download all the work files. So looks like the instance itself is working fine. However I still cannot connect to it through the browser (We used to connect to ""http://52.10.113.12:5001/tree - where it was asking for a password"").

UPD2: I was able to connect to webpage (""http://52.10.113.12""), but I'm getting the general ubuntu/apache2 page. I'd say that means - we are missing some of the settings, but I may be wrong.

However I still have no idea how to restore those settings. And will be glad for any clues.

Last edited by: oigroup on Jun 24, 2015 2:17 PM"

Amazon EC2	"Re: Cannot connect to the webpage
cd /home/ubuntu/webapp/jupyter
tmux
ipython notebook"

Amazon EC2	"Re: Cannot connect to the webpage
cd /home/ubuntu/webapp/jupyter
tmux
ipython notebook"

Amazon EC2	"Problem Configuring winRM in Windows instance
Hi, thanks in advance for all your help.

I'm having problems configuring winrm in a newly created Windows 2012 R2 instance. I've confirmed that winrm is running on my local machine. I created the instance, attaching a custom made security group which permits all traffic on all ports. I tried running ""Test-WsMan -ComputerName 52.87.227.223"", (where 52.87.227.223 is the IP address of the instance I created) and it gives me an error, which makes sense, because from what I understand winrm isn't configured by default on Windows instances. I then RDP'd into the instance without issue, and ran ""Enable-PSRemoting -Force"" in Powershell. It output confirmation that winrm is now running on the instance. However, when I retry running ""Test-WsMan -ComputerName 52.87.227.223"", checking the winrm connection, it returns an error again.

What am I missing here? How do I configure winRM correctly?

Thanks again,
Aman

Edited by: aman_opsworks on May 24, 2016 11:59 AM"

Amazon EC2	"Average response time for Reverse DNS on Elastic IP?
How long does it usually take for a reverse DNS PTR record request to be processed? I mean the ones made through this form:

https://aws.amazon.com/forms/ec2-email-limit-rdns-request

Edited by: danixd5 on May 24, 2016 11:59 AM"

Amazon EC2	"ERR_CONNECTION_TIMED_OUT occurs when attempting to reference IP Address
I recently create an instance that I am trying to access via browser (https://52.35.90.165/lifestat).  I can access it via RDP without issue.  When I RDP and access the same URL locally, I have no problem.

The issue is accessing https://52.35.90.165/lifestat from a system other than the localhost results in a ERR_CONNECTION_TIMED_OUT.  Since I can access the URL locally, the supporting web server is clearly started and functioning.

What am I missing in the network setup for this new system.  The Security Group is configured correctly (I think).  I can access a different server in that same Security Group without issue.

Instance:  i-ee8fb837 (New Prod Lifestat)Elastic IP: 52.35.90.165"

Amazon EC2	"Re: ERR_CONNECTION_TIMED_OUT occurs when attempting to reference IP Address
Hi there,

I have checked the security group and network configuration for instance i-ee8fb837. The network configuration looks correct and the instance is listening to traffic on port 80. If the URL is working inside your instance, please validate that the site's bindings are pointing to the AWS ENI with a public IP.

Regards,
Adolfo M"

Amazon EC2	"Re: ERR_CONNECTION_TIMED_OUT occurs when attempting to reference IP Address
got the working fix
http://www.deskdecode.com/err_connection_timed_out/"

Amazon EC2	"https on elb not working along with route 53 settings
I'm new to aws. I'm trying to implement https with help of elb. I have configured ssl certificate on elb along with HTTPS(Secure HTTP) on port 443. I have also configured route 53 as shown in the snap shot. I have assigned elb to A-IPv4 Address. but still its not working for https. Please help ASAP.

Edited by: rajdesh02 on May 24, 2016 11:29 AM"

Amazon EC2	"Google services not working on network
Hi Everyone,

Has anyone ever run into an issue where there domain controller instance no longer allows you to access any google related items (search, google.com, google docs, gmail, etc)?  I feel this is related to DNS but don't know where to look.  We do run DNS through AWS using Route 53.  I'm not too familiar with the setup as I came on board after the initial setup.  This issue started approximately a week ago with intermittent issues but for the past 3 days it hasn't been working at all.  Any help would be greatly appreciated.  Thank you!"

Amazon EC2	"Re: Google services not working on network
I thought I should elaborate a bit more on the issue.  Currently our issue is that on neither the instance (server) or on our network (DNS routing through AWS) can we get to google.  We get errors that the site cannot be found.  This goes for any google related service (search, gmail, google docs, maps, etc).  It appears as something is happening with our AWS DNS where google is sporadically blocked or losing communication.  This issue has been occurring for the past 3 weeks on and off.  Can someone please take a look?  If there is any more information needed, please let me know and I'll be happy to add.  Thanks."

Amazon EC2	"Re: Google services not working on network
Hello, I keep having intermittent issues.  When I try to do a nslookup to google from the instance it's not resolving.  Everywhere I look it's keep mentioning to check with the ISP.  In this case, it's AWS.  If anyone can chime in on next steps, I would appreciate it.  Thank you."

Amazon EC2	"AMI creation failed with Server.InternalError
Hi,

This night the AMI creation failed for 2 instances but succeeded for others.
Failed AMIs ami-566dfb25 and ami-8a6ff9f9.
They were taken from i-c8a6db43 and i-ced0f847 respectively.
Region: eu-west-1

PS: We don't reboot instance during imaging.

I see ""State Reason: Server.InternalError"" for both failed images.

Could you please advise what happened ? what's the reason ...

Regards,
Constantin"

Amazon EC2	"Re: AMI creation failed with Server.InternalError
Hello Constantin,

Could you please retry and let us know if you are able to create AMI's now. If not please try  creating AMI using AWS CLI and share the output of the cli command along with request ID.

Regards,
Umair A."

Amazon EC2	"Re: AMI creation failed with Server.InternalError
Hi Umair,

Yes, I already did it 2 hours ago for both of them and everything was fine.
But I lost the backups for this night which is not good at all.

My question is why they failed and what ""Server.InternalError"" means ? how to interpret it ...
I'm trying to understand what happens (reason) and how to avoid it in future.

Thanks,
Constantin"

Amazon EC2	"Re: AMI creation failed with Server.InternalError
Just checked the AWS Console and the failed AMI have disappeared ...
Is this an expected behavior?"

Amazon EC2	"ec2 instance stuck on stopping
This instance refuses to stop. Attempted to forcefully stop twice.

Instance ID ""i-197c0690"" 
region ""us-east-1d""
root device: vol-fa2e762c"

Amazon EC2	"Re: ec2 instance stuck on stopping
Hello,

We see the instance running on healthy infrastructure now. Let us know if you still face any issues.

Regards,
Umair A."

Amazon EC2	"Re: ec2 instance stuck on stopping
Yes, it eventually stopped. I wasn't certain if it was me or some benevolent outside force. Once stopped it came back up without problems."

Amazon EC2	"Instance reachability check failed at May 24, 2016 at 3:38:00 PM UTC+5:30
Dear AWS team

Instance id : i-36053993 , Tokyo region . The server stopped by itself . Could you tell me the reason for it . The same issues I have faced with others servers too in other region at various point of time 

Regards
Satish"

Amazon EC2	"Re: Instance reachability check failed at May 24, 2016 at 3:38:00 PM UTC+5:30
Hello Satish,

StopInstance API call was made by user ""ptuser"" at 2016-05-24T10:18:20+0000. If you have cloudtrail enabled you can search for stop instance API call in the cloudrail logs to see detailed information. Cloudtrails logs all API calls made to your AWS resources.

Regards,
Umair A."

Amazon EC2	"Re: Instance reachability check failed at May 24, 2016 at 3:38:00 PM UTC+5:30
Hi,

I have the same problem, 

These checks monitor your software and network configuration for this instance.
Instance reachability check failed at May 24, 2016 at 2:51:00 PM UTC+8 (5 hours and 4 minutes ago)

Reboot the instance many times and nothing happens. May this issue be solve as soon as possible."

Amazon EC2	"Re: Instance reachability check failed at May 24, 2016 at 3:38:00 PM UTC+5:30
Hello,

I have reviewed your account and i see one instance failing ec2 status checks, i believe you are talking about instance i-5d5bb69b. I have checked the instance and i dont see any problems from AWS infrastructure point of view.

However when you look at system logs of the instance you will see below messages.

34.840506] cloud-init1092: ci-info: |  eth0  | False | 172.31.34.209 | 255.255.240.0 |   .   | 02:5b:39:67:f9:1f |
http://   34.846441 cloud-init1092: ci-info: |   lo   |  True |   127.0.0.1   |   255.0.0.0   |   .   |         .         |
http://   34.852232 cloud-init1092: ci-info: |   lo   |  True |    ::1/128    |       .       |  host |         .         |
http://   34.858687 cloud-init1092: ci-info: +--------+-------+---------------+---------------+-------+-------------------+
http://   34.865625 cloud-init1092: 2016-05-24 13:16:27,869 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by NewConnectionError('<requests.packages.urllib3.connection.HTTPConnection object at 0x7f46d6b272e8>: Failed to establish a new connection: 

It appears that network configurations on your instance are broken and this needs to be fixed. This is an operating system layer issue and AWS does not have access to customers instances. You will need to stop this instance, detach its root volume and attach the volume to a temporary instance. Mount the volume on temporary instance and review its network configurations.

Regards,
Umair A."

Amazon EC2	"ELB Modifying and Stripping websocket headers
We are trying to deploy our application that is using SignalR (Real-time web applications) using websockets. The instances are Windows 2012 R2 with iis 8.5 installed. Websocket feature is enabled.

The problem occurs when the client tries to connect using websockets. ELB seems to be stripping out some headers and modifying the Connection header from Upgrade to keep-alive.
This causes the websocket to be rejected since it is not a valid websocket request.
The (websocketelb.jpg) screenshot is from an instance behind an ELB, while the other one is from an instance that is not behind an ELB.

You can see that the Upgrade header exists on the (websocket.jpg) screenshot but not the first.
Is this by design? Are there any workarounds to get websockets working?

What I have tried:
1- Enable proxy protocol (this is why you see the X-Forward headers.
2- Changed the listener from HTTPS to SSL. This caused HTTP requests to be rejected as iis thinks it is in bad format (HTTP error 400)

Thanks!

Edited by: rayanalsubhi on May 20, 2016 8:39 AM"

Amazon EC2	"Re: ELB Modifying and Stripping websocket headers
Hello,

Unfortunately the ELB doesn't support WebSockets in HTTP/HTTPS mode (by design, as they don't obey the HTTP RFC), and IIS does not support proxy protocol.

Your only option for getting WebSockets to work with IIS through an ELB is to put the ELB into TCP/SSL mode and disable proxy protocol.

Regards,

Matt W."

Amazon EC2	"Re: ELB Modifying and Stripping websocket headers
Matt,

I appreciate your answer! Enabling Proxy protocol seems to be what was causing the issue. I have modified the ELB to be a TCP ELB and not an HTTP/S

For anyone looking for a solution to this issue this is my setup:
ELB with two listeners:
TCP 80 TCP 80
TCP 443 TCP 443 (SSL handled by instances)
No proxy protocol.

Edited by: rayanalsubhi on May 24, 2016 6:17 AM"

Amazon EC2	"AWS ELB Unexplained High Latency
I am running a t2.small instance to host parse-server.  When first deployed, my application runs flawlessly and all requests are successful.  However after an arbitrary amount of time, the latency shows spikes up to 60 seconds and I am unable to retrieve any information.  If I restart the app server, it works for a short period of time and then stops or no explainable reason.  The server is always healthy, but I noticed there are a lot of backend connection errors.  I am only testing currently so there is no large amounts of traffic.  Any help would be greatly appreciated.

http://golfgamut-env.us-east-1.elasticbeanstalk.com/"

Amazon EC2	"Re: AWS ELB Unexplained High Latency
Hello,

We see you have only Ec2 instance attached to ELB. The instance is healthy and ELB is also working fine. Upon reviewing ELB history i see increased latency yesterday and some backend connection errors. The latency is measured as response time taken by the back-ends. ELB 5XX errors are occurring because the application is not generating response to the requests.

I would advise you to take a look at your application and its logs for further analysis. You can also isolate ELB just to test your application from Ec2 instance.

Regards,
Umair A."

Amazon EC2	"Problem after EC2 instance upgrade - Please help
I'm running a Ubuntu LAMP stack on EC2.  A few days ago I took a snapshot then proceeded to upgrade the instance from t2.micro to t2.large

The instance has come back up and says it's running, however I cannot connect to it via SSH or even ping it 54.206.14.213 (the old IP was 54.206.29.221).

I have updated the www in my zone file.  I get nothing when I go to the domain: http://ecnaustralia.com.au/

Please help.  Thanks in advance.

Adam"

Amazon EC2	"Re: Problem after EC2 instance upgrade - Please help
Hello,

The instance is healthy, up and running. The website is also loading. We do not see any issues from AWS side. 

Regards,
Umair A."

Amazon EC2	"multiple instances writing output results?
Hi all,

maybe I got just stuck in my thinking. I appreciate your help. The problem is as follows:

I want to start multiple instances. Each vCPU in each instance will write a result file every hour. The result files are disjoint for all vCPUs and all instances (so no locking conflicts or whatever) and very small (maybe after a week each vCPU has written files altogether maybe 10Mbyte only). 
1) How to do that with EC2 ?? 

it is like having one writeout path in a large cluster (here however multiple instances should write into the same directory if possible) and all jobs write into it. I think it is something natural and simple. 

Initially I thought: ok, use an EBS volume. Not possible: cannot attach the same volume to multiple instances.

is the only solution to scp the result files to some server outside of amazon after they are written into the root volume?

2) another weird thing is that an instance loads not the newest snapshot of the attached EBS volume when I launch an AMI. what to do about that??

Best regards, Alex"

Amazon EC2	"Re: multiple instances writing output results?
Hello,

""Initially I thought: ok, use an EBS volume. Not possible: cannot attach the same volume to multiple instances.""

EBS volume is not a shared storage it is block device and can be only attached to one instance at a time. I'm not aware of your application architecture but if your application cluster running on several instances need a single point of storage for computation then here are the options for you:

1) Create an NFS instance and mount the NFS share on to instances in cluster
2) Use Amazon EFS service which provides you shared storage. (Note the service is in preview and not available in all regions)

Now coming to your second question related to AMI: 

When you create AMI make sure you are not doing any writes or io operations to volume as the AMI operation only takes copy of the data written on the disk blocks. Any data which is not yet written to disks i.e data in memory will not be included. We recommend AMI with reboot. 

When you launch instance from, the instance volumes will have the data only that was included in the snapshots at the time of when AMI was taken.

Regards,
Umair A."

Amazon EC2	"""Write failed: Broken pipe"" and ""port 22: Operation timed out""
Hi,

some minutes after starting an ec2 instance I get ""Write failed: Broken pipe"" and then ""port 22: Operation timed out"" when connecting via ssh. Networking and security should be correctly setup.

As I have read in another thread (https://forums.aws.amazon.com/thread.jspa?threadID=128361), this could be because the account was suspended a while back due to an unpaid bill. Please help me to investigate.

Sample instance where I can't connect:
i-59a67284

Thanks,
Thomas"

Amazon EC2	"ELB - SLA or uptime target
Hi,

Do you know what's the SLA or uptime target for Elastic Load Balancer?

I cannot find this information in the official docs.

Is it the same as for EC2 services, e.g. 99.95% ?

Regards,
Constantin"

Amazon EC2	"Launch Configuration: IAM Role shows ""Loading..."" only
The only two options are: ""None"" and ""Loading..."". ""Loading..."" does not change after waiting for some minutes.

Edited by: k_art on May 19, 2016 1:04 AM
Screenshot"

Amazon EC2	"Re: Launch Configuration: IAM Role shows ""Loading..."" only
Hello, 
sorry to hear you have problems assigning an IAM role to your EC2 instance. 
This behavior may indicate the user you are logged in to the AWS management Console has not enough privileges to assign an IAM role to the instance. 
In order to confirm this I will need you to share with me by pm (please don't put this information in this thread), the Account number and the user you are using to launch the instance. 

Cheers
Javier C#"

Amazon EC2	"Re: Launch Configuration: IAM Role shows ""Loading..."" only
Hi Javier,

Thanks for the quick reply! Which privilege do I need?

Another thing:

First time I tried to post:
""Your account is not ready for posting messages yet. Please try again later.""

Tried to reply:
""Your message quota has been reached. Please try again later. ""

This is definitely something else you guys can improve ..

Edited by: k_art on May 19, 2016 5:02 PM"

Amazon EC2	"Re: Launch Configuration: IAM Role shows ""Loading..."" only
Hello,

Please see below document which explains granting access to use IAM roles. 

http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html

Regards,
Umair A."

Amazon EC2	"Elastic load balancer : how is uploaded SSL certificate used?
Hi

When we create a new load balancer and choose HTTPS listener routed to HTTP backend, we are asked to upload SSL certificate. How is this certificate used? When i visit a page through URL generated by the load balancer (e.g. d34v2lkyplcbk7.cloudfront.net) i see that connection is encrypted and certificate is issued to:
Common name: *.cloudfront.net
Organization: Amazon.com, Inc."

Amazon EC2	"Re: Elastic load balancer : how is uploaded SSL certificate used?
Did you set up a CloudFront distribution with a custom origin? Because you are connecting to CloudFront, the shared SSL certificate for *.cloudfront.net will be used. CloudFront currently provides SSL support for these URLs only. The certificate configured for your ELB will only be used if you access it through the load balancer DNS name or a custom CNAME record. If you put CloudFront in the middle, the custom SSL certificate will not be served to the clients."

Amazon EC2	"Re: Elastic load balancer : how is uploaded SSL certificate used?
Hello

Thank you D. Svanlund for your reply. You said:

Did you set up a CloudFront distribution with a custom origin?

I feel i missed something about ELB. How can i set this up?

The certificate configured for your ELB will only be used if you access it through the load balancer DNS name or a custom CNAME record.

What is load balancer DNS name?

I created CNAME record in our DNS registrant like this:

static.personyze.com CNAME dp5q5rl5u1fsz.cloudfront.net

Now when i access static.personyze.com/ i still recieve the CloudFront's certificate (with security warning)."

Amazon EC2	"Re: Elastic load balancer : how is uploaded SSL certificate used?
Oh, sorry gentlemen, i just found where ELB DNS name is. I misunderstood with cloudfront DNS name. Thank you."

Amazon EC2	"Re: Elastic load balancer : how is uploaded SSL certificate used?
It sounds like this issue has been resolved. Let me know if you still need help with anything."

Amazon EC2	"Re: Elastic load balancer : how is uploaded SSL certificate used?
Hi,
I'm facing similar kind of issue, I have mentioned details on https://forums.aws.amazon.com/message.jspa?messageID=722149, Will you please help me..?"

Amazon EC2	"SUSE SLES 11 SP2 to SP3 Upgrade fails
Hello Experts, 

We have an EC2 instance running on SUSE 11 SP2, and when trying to upgrade to SP3, it is failing during the registration. Screenshot attached.

Steps followed: 

1. zypper ref -s 
2. zypper update -t patch 
3. zypper dup 
4. zypper se -t product 
5. zypper in -t product sle-sdk-SP3-migration SUSE_SLES-SP3-migration 
6. suse_register -d 2 -L /root/.suse_register.log (Failing in this step) 
7. zypper ref -s 
8. zypper mr --disable SUSE_SLES-SP2-migration 
9. zypper mr --disable sle-sdk-SP2-migration"" 
10. suse_register -d 2 -L /root/.suse_register.log 
11. reboot 
12. cat /etc/*release (still shows SP2) 

Your guidance on this issue will be helpful. Now during our daily checks for new OS patches I am seeing the patches related to SP3 as well.

Reviewed this article from SUSE https://www.suse.com/support/kb/doc.php?id=7015686
Where do I get the Activation Code, we don't have any systems directly registered with SUSE to get the code from https://scc.suse.com/.

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hello Experts, any help on this issue is very much appreciated."

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi, Srikar,

This forum is dedicated to AWS Quick Starts (http://aws.amazon.com/quickstart).

For general questions, please use the AWS forums located here:
https://forums.aws.amazon.com/category.jspa?categoryID=3

Thanks,
AWS Quick Start reference team"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi,

This is an on demand image thus you should be following [1] and [2] and if you care to move all the way to SLES 12 SP1 follow [3].

Given that you used suse_register directly I am not certain in which state your system is in now and thus you may run into additional issues.

[1] https://www.suse.com/communities/blog/suse-image-life-cycle-public-cloud-deployments/
[2] https://www.suse.com/communities/blog/suse-linux-enterprise-server-11-sp4-landed-public-cloud/
[3] https://www.suse.com/communities/blog/upgrading-running-demand-instances-public-cloud/"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi rjschwei,

Still the upgrade of my instance is not completed, the Patchlevel is still 2. But when I do 'zypper list-patches' I see many of SP3 patches to be applied. I am bit confused here, though the upgrade is not done why is it listing SP3 patches ?

Thanks for links, I am trying to follow the first link to upgrade from SP2 to SP3 as below:

1.) zypper up
2.) cd /etc/zypp/repos.d
3.) for i in SP1; do newname=${i/SP1/SP3}; cp $i $newname; done
4.) sed -i s/SP1/SP3/ SP3.repo
5.) sed -i s/enabled=0/enabled=1/ SP3.repo
6.) zypper refresh
7.) zypper in zypper
8.) zypper dup

In point 3, do I need to replace SP1 with SP2 ? Can you explain bit further of each step ?
Please advise.

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Appears to me that you would need to change SP1 to SP2 on both step 3 and 4."

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi,


So step 1 is to get the running instance fully up t date for the release version it is on.
Steps 3-5 are to set up the repos for SP3.


Note here that in SP2 we introduced a naming inconsistency and thus the same steps do not apply for an SP1 -> SP2 transition. These steps only apply for a SP2 -> SP3 transition. In SP2 the primary repo was named Core and not Pool. This is the reason the steps outlined in the blog use the SP1 repos as the basis to establish the names for the SP3 repos as there is naming consistency between SP1 and SP3 repos but not for SP2 repos.


Step 6 will cause zypper to download the metadata and verify the repo setup
Step 7 upgrades the version of zypper to the latest version available in the new repos
Step 8 does the distribution upgrade


HTH"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Thanks for detailed explanation. Since we are moving from SP2 to SP3, I will need to replace SP1 with SP2 in the steps 3 & 4. Please correct me if I am wrong. Also how about the suse activation key this was asking for ?

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
After talking to rjshwei, the short explanation is that you will not change SP1 to SP2. SP2 servers have SP1 repos. The SP1 repos naming scheme are consistent with the SP3 naming scheme. For this reason it is simpler to change the SP1 repos to SP3, even if you are on an SP2 server. So follow the steps as they are laid out, without any changes."

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Thanks Joel. Do I need to register the system with any activation key before I start upgrading ? As we don't have any activation key, this may break at the same point during upgrade.

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
There is no activation key required for On Demand Instances. We felt like this would be too big of a burden in this type of environment. It conflicts with the expectation that you click a few buttons in Amazon, and you have a fully functional server.
In the first attempt, it appears you tried to register the server. On Demand Instances do not require registration. Following these steps, you will not being attempting to register the server, therefore you should bypass the requirement for a key.  

Edited by: joelsuse on Apr 19, 2016 12:47 PM

Edited by: joelsuse on Apr 19, 2016 12:54 PM"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi Joel

I have attempted to upgrade again, and getting into following issues:

1. zypper up - Successful
2. for i in SP1;do newname=${i/SP1/SP3};cp $i $newname;done
Error - cp: cannot stat `SP1': No such file or directory
3. sed -i s/SP1/SP3/ SP3.repo
Error - sed: -e expression #1, char 9: unterminated `s' command
4. sed -i s/enabled=0/enabled=1/SP3.repo
Error - sed: -e expression #1, char 23: unknown option to `s'

I did'nt executed 'zypper dup' as I don't know if this may cause issues in server.
Please advice about the above issues.

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Well,

The sed error tell you that you do not have any repos with SP1 in the name. So lets see what you actually have.

Please provide the output of

ls /etc/zypp/repos.d"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi rjschwei,

Here is the output:

ls -la /etc/zypp/repos.d/
total 152
drwxr-xr-x 2 root root 4096 Apr 16 00:00 .
drwxr-xr-x 5 root root 4096 Nov 16  2014 ..
-rw-r--r-- 1 root root  157 Apr  2 05:05 nVidia-Driver-SLE11-SP2.repo
-rw-r--r-- 1 root root  217 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP1-Pool.repo
-rw-r--r-- 1 root root  226 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP1-Updates.repo
-rw-r--r-- 1 root root  217 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP2-Core.repo
-rw-r--r-- 1 root root  226 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP2-Updates.repo
-rw-r--r-- 1 root root  217 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP3-Pool.repo
-rw-r--r-- 1 root root  226 Apr  2 05:05 nu_novell_com:SLE11-SDK-SP3-Updates.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLE11-SDK-SP1-Pool.repo
-rw-r--r-- 1 root root  213 Apr 16 00:00 susecloud:SLE11-SDK-SP1-Updates.repo
-rw-r--r-- 1 root root  189 Apr 16 00:00 susecloud:SLE11-SDK-SP1.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLE11-SDK-SP2-Core.repo
-rw-r--r-- 1 root root  213 Apr 16 00:00 susecloud:SLE11-SDK-SP2-Updates.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLE11-SDK-SP3-Pool.repo
-rw-r--r-- 1 root root  213 Apr 16 00:00 susecloud:SLE11-SDK-SP3-Updates.repo
-rw-r--r-- 1 root root  222 Apr 16 00:00 susecloud:SLE11-SP1-Debuginfo-Pool.repo
-rw-r--r-- 1 root root  231 Apr 16 00:00 susecloud:SLE11-SP1-Debuginfo-Updates.repo
-rw-r--r-- 1 root root  222 Apr 16 00:00 susecloud:SLE11-SP2-Debuginfo-Core.repo
-rw-r--r-- 1 root root  231 Apr 16 00:00 susecloud:SLE11-SP2-Debuginfo-Updates.repo
-rw-r--r-- 1 root root  228 Apr 16 00:00 susecloud:SLE11-SP2-WebYaST-1.3-Pool.repo
-rw-r--r-- 1 root root  237 Apr 16 00:00 susecloud:SLE11-SP2-WebYaST-1.3-Updates.repo
-rw-r--r-- 1 root root  222 Apr 16 00:00 susecloud:SLE11-SP3-Debuginfo-Pool.repo
-rw-r--r-- 1 root root  231 Apr 16 00:00 susecloud:SLE11-SP3-Debuginfo-Updates.repo
-rw-r--r-- 1 root root  225 Apr 16 00:00 susecloud:SLE11-WebYaST-SP1-Updates.repo
-rw-r--r-- 1 root root  201 Apr 16 00:00 susecloud:SLE11-WebYaST-SP1.repo
-rw-r--r-- 1 root root  216 Apr 16 00:00 susecloud:SLE11-WebYaST-SP2-Pool.repo
-rw-r--r-- 1 root root  225 Apr 16 00:00 susecloud:SLE11-WebYaST-SP2-Updates.repo
-rw-r--r-- 1 root root  189 Apr 16 00:00 susecloud:SLES11-Extras.repo
-rw-r--r-- 1 root root  195 Apr 16 00:00 susecloud:SLES11-SP1-Pool.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLES11-SP1-Updates.repo
-rw-r--r-- 1 root root  180 Apr 16 00:00 susecloud:SLES11-SP1.repo
-rw-r--r-- 1 root root  195 Apr 16 00:00 susecloud:SLES11-SP2-Core.repo
-rw-r--r-- 1 root root  228 Apr 16 00:00 susecloud:SLES11-SP2-Extension-Store.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLES11-SP2-Updates.repo
-rw-r--r-- 1 root root  228 Apr 16 00:00 susecloud:SLES11-SP3-Extension-Store.repo
-rw-r--r-- 1 root root  195 Apr 16 00:00 susecloud:SLES11-SP3-Pool.repo
-rw-r--r-- 1 root root  204 Apr 16 00:00 susecloud:SLES11-SP3-Updates.repo

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hello rjschwei,
Please advise on this one. 

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi rjschwei/Joel
Please advise on further steps to upgrade the OS.

Regards,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi,

Sorry there is no notification when you post to the thread and I didn't get around to check. So there is at least one problem in that there should be no repos that refer to nu_novell_com. Lets get rid of those, as root:

rm /etc/zypp/repos.d/nu_novell_com*.repo

However, this may also imply that there is a service set up that points nu_novell, although the spelling might be different. Thus use:

ls /etc/zypp/services.d/

to list the registered services and if there is one with novell in the name remove it.

After that run

zypper refresh

Please report back with the results."

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi rjschwei,

I have removed the repos related to nu_novell_com from /etc/zypp/repos.d and yes there was nu_novell_com.service service in /etc/zypp/services.d and I have removed that one as well and there is only susecloud.repo in /etc/zypp/services.d now.

zypper refresh result as below:


zypper refresh

Repository 'nVidia-Driver-SLE11-SP2' is up to date.
Repository 'SLE11-SDK-SP1-Pool' is up to date.
Repository 'SLE11-SDK-SP1-Updates' is up to date.
Repository 'SLE11-SDK-SP2-Core' is up to date.
Repository 'SLE11-SDK-SP2-Updates' is up to date.
Repository 'SLES11-SP1-Pool' is up to date.
Repository 'SLES11-SP1-Updates' is up to date.
Repository 'SLES11-SP2-Core' is up to date.
Repository 'SLES11-SP2-Extension-Store' is up to date.
Repository 'SLES11-SP2-Updates' is up to date.
All repositories have been refreshed.

Let me know the next steps here.

Thanks,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
OK, the refresh worked, but it looks like the SP3 repos are not enabled. Lets take care of that. As root

sed -i s/enabled=0/enabled=1/ /etc/zypp/repos.d/*SP3*.repo

Then re-run zypper refresh and show the output again."

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi Sorry for delay, here is the output:




sed -i s/enabled=0/enabled=1/ /etc/zypp/repos.d/*SP3*.repo







zypper refresh



Repository 'nVidia-Driver-SLE11-SP2' is up to date.
Repository 'SLE11-SDK-SP1-Pool' is up to date.
Repository 'SLE11-SDK-SP1-Updates' is up to date.
Repository 'SLE11-SDK-SP2-Core' is up to date.
Repository 'SLE11-SDK-SP2-Updates' is up to date.
Retrieving repository 'SLE11-SDK-SP3-Pool' metadata done
Building repository 'SLE11-SDK-SP3-Pool' cache done
Retrieving repository 'SLE11-SDK-SP3-Updates' metadata done
Building repository 'SLE11-SDK-SP3-Updates' cache done
Retrieving repository 'SLE11-SP3-Debuginfo-Pool' metadata done
Building repository 'SLE11-SP3-Debuginfo-Pool' cache done
Retrieving repository 'SLE11-SP3-Debuginfo-Updates' metadata done
Building repository 'SLE11-SP3-Debuginfo-Updates' cache done
Repository 'SLES11-SP1-Pool' is up to date.
Repository 'SLES11-SP1-Updates' is up to date.
Repository 'SLES11-SP2-Core' is up to date.
Repository 'SLES11-SP2-Extension-Store' is up to date.
Repository 'SLES11-SP2-Updates' is up to date.
Retrieving repository 'SLES11-SP3-Extension-Store' metadata done
Building repository 'SLES11-SP3-Extension-Store' cache done
Retrieving repository 'SLES11-SP3-Pool' metadata done
Building repository 'SLES11-SP3-Pool' cache done
Retrieving repository 'SLES11-SP3-Updates' metadata done
Building repository 'SLES11-SP3-Updates' cache done
All repositories have been refreshed.

Thanks,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Hi, can you please advise further steps.

Thanks,
Srikar"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
OK, looks like your repository setup is consistent now. Thus you should be able to migrate to SP4.

zypper up

to get the latest packages for SP3, then follow the blog:
https://www.suse.com/communities/blog/suse-linux-enterprise-server-11-sp4-landed-public-cloud/"

Amazon EC2	"Re: SUSE SLES 11 SP2 to SP3 Upgrade fails
Thanks, we wanted to upgrade to SP3. I will follow the below steps and see if this works:

1.) zypper up
2.) cd /etc/zypp/repos.d
3.) for i in SP1; do newname=${i/SP1/SP3}; cp $i $newname; done
4.) sed -i s/SP1/SP3/ SP3.repo
5.) sed -i s/enabled=0/enabled=1/ SP3.repo
6.) zypper refresh
7.) zypper in zypper
8.) zypper dup

Let me know if there any change in the above procedure. Thanks for your help.

Regards,
Srikar"

Amazon EC2	"Yet Another Connection Problem - Cannot connect to Linux or Windows
Running into a bit of a challenge, currently stuck.  I've been trying to get a basic instance up so I can test some LAMP or WAMP access.  I previously set up a linux instance using a Mac Mini, however now I only have access to a Windows 7 laptop. 

After spending a day or so troubleshooting the Windows Server 2012 R2 instance and not getting anywhere, I decided to switch efforts to try the linux instance again.  Most of the initial setup was using the Amazon-provided tutorials, with excessive backup by StackOverflow.

My end goal is to establish a domain through 53 to link to the instance via the Elastic IP (or similar - haven't read up on this yet).  I want to run the LAMP/WAMP install as an academic development service for a few months.

Here's what I have so far:
 - Running linux instance (free tier), instance name is i-207c97fb
 - Elastic IP is associated with the instance
 - Security group has the following inbound rules (currently wide-open as part of testing connection):
    - HTTP     TCP   80    0.0.0.0/0     
    - SSH      TCP   22    0.0.0.0/0  
    - HTTPS   TCP   443  0.0.0.0/0
    - All ICMP All     N/A  0.0.0.0/0
 - Security group outbound rules are all traffic on 0.0.0.0/0
 - The VPC is has a subnet set, with the route table connected to an internet gateway
 - I'm using the same security group for the instance and VPC
 - The network ACL has both an all traffic (allow) and TCP (allow) rule defined (inbound and outbound).  There's an all traffic (deny) rule on the ACL that I can't seem to disable.
 - I've been trying the browser and PuTTY methods to connect.  I have both the .pem and .ppk permissions set to 400 using CHMOD on cygwin.
 - Windows firewall is allowing port 22 inbound and outbound.

Can't think of anything else specific yet, please let me know if more info is required."

Amazon EC2	"Re: Yet Another Connection Problem - Cannot connect to Linux or Windows
I ended up getting set up with the Dev support plan to get this sorted out.  Turned out that the configuration above was fine.

The problem was that I had re-activated an old account of mine, and the account ""was still under isolation/suspension"", although without contacting support I would've had no idea how to find this out.  

Hopefully this is of some help if someone else encounters the same problem.  Best of luck!"

Amazon EC2	"Networking issue
I have two instances. One running flexlm and the other one running an application which should consume a license served by flexlm.

Flexlm is running on the first box on port 27000. The port is open in the security group from anywhere.
I am checking if this port is accessible from the second box by running the command:
telnet ip-10-0-1-204 27000
Trying 10.0.1.204...
Connected to ip-10-0-1-204.eu-west-1.compute.internal.
Escape character is '^]'.

Connection closed by foreign host.

Any ideas what am I doing wrong?

Thanks,
Liora"

Amazon EC2	"instance running on degraded hardware - unable to stop and start
atempting to stop i-9eac414d,but it is not stopping. the main EBS volume will not detach. I am running this now during a scheculed maintenance window but I fear it will not complete within the window.

Please help."

Amazon EC2	"Re: instance running on degraded hardware - unable to stop and start
eventually detached"

Amazon EC2	"Instance reachability check failed
Hi All,

Recently I launched an EC2 instance and I'm getting this error on the status check tab and I'm not able to access the application I had installed on the server through web. Could you please help.

These checks monitor your software and network configuration for this instance.
Instance reachability check failed at May 23, 2016 at 12:24:00 AM UTC+5:30 (10 hours and 10 minutes ago)

Thanks,
Arun"

Amazon EC2	"Re: Instance reachability check failed
Here is the system log: http://pastebin.com/ha34Y4U3"

Amazon EC2	"Re: Instance reachability check failed
Hi there,

I just checked the instances under your account and they are all reporting as healthy. Are you still having issues? If so, can you please share the instance ID?

Best,
Adolfo M."

Amazon EC2	"Best practices and partition sizes
Hello guys,

Here's my 2 cents questions, we have a very demanding server - my instance runs 2 drives :
the system drive /dev/sda 100 GB (I feel it's a bit too big)
and our data drive /dev/sdb 5TB

The 5TB gets a lot of IOPS but the main drive doesn't  -

I was asked to justify why we had a rather ""small"" main drive, and if having a much bigger one, with more reserved IOPS, would benefit to the system.
Since all the read/write operations happen our my /dev/sdb (mounted drive) I believe the system drive doesn't need much - still I feel it's best to ask linux aficionados here about their view.

Thank you,"

Amazon EC2	"What is checked when importing custom linux kernel (AWS CLI: import-image)?
Hi all,

Is there anyone that can provide any info of how AWS will check when using ""import-image"" to generate AMI for a custom Linux kernel?

My organization uses a customized Linux kernel from 3.2.33. After I copy the vmdk onto S3 bucket, I use the AWS CLI ""import-image"" to generate AMI, but it fails eventually. The response of ""describe-import-image-tasks"" includes below status info:
......
            ""Status"": ""deleted"", 
.......
            ""StatusMessage"": ""ClientError: Unsupported kernel version <abc123456>"", 
......
in which, ""abc"" is our product name and the digit string 123456 is the change number of SCM code change. FYI - in our kernel code, we use this fashion for our customized kernel and initrd etc.

I tried below workarounds, however still cannot get AMI creation passed.
1. change the kernel version string from abc123456 to formal format, e.g.: 
before: vmlinz-<abc123456> 
after:  vmlinuz-3.2.33-123456_el7_x86_64

2. hack the system call, uname, to return formal format:
before: abc123456
after: 3.2.33-123456-el7_x86_64

I'm wondering if anyone could provide any thread about the kernel checking criteria when importing image and generating AMI. 

FYI - I have read below article, however it looks not able to help in this case http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-limitations

Thanks!"

Amazon EC2	"3rd Party Firewalls
Hi,

I had a question on the usage of 3rd party firewalls. It seems that in spite of various third party firewalls ( from vendors such as Palo Alto, Checkpoint etc) being available on AWS, majority of the customers do not use those. Can someone explain why that is the case ? I would love to hear from guys that are not using any 3rd party firewalls in AWS relying only on ACLs and security groups. What is your rationale for doing so when I presume you would never run an app in the data center on-prem without a firewall. Do you feel that ACLs / security groups provide adequate security. Also, would like to hear the opinion of those who are using 3rd party firewalls on AWS today.

Thanks."

Amazon EC2	"Re: 3rd Party Firewalls
I would also like to hear the rationale behind not using 3rd party firewalls. I'm currently evaluating Palo Alto bundled instance and running into several issues on how to resolve hosting web applications behind the firewall. The problem comes in what AWS resolves the public IP address to a private IP address. AWS forwards the frame to the server and not the PA."

Amazon EC2	"ELB Reporting Unhealthy Hosts
Several of our ELBs, inside and outside of VPC are reporting unhealthy hosts.  But, when I go to the ELB, all instances are In Service.  The health check is normally on port 8443(https) but when I move it to 8080(http) the alarms seem to go away.

I've rebooted the 2 instances that are connected to the ELBs that are outside the VPC also.

Not all of the ELBs are reporting problems either.  Some are still checking health check on 8443 with no problems ... but others I switched to 8080.

There do seem to be 'Backend connection' errors when looking at the monitoring.  Is this related to the health check?  And why would it all of a sudden start having problems?  This started last week and I can't seem to figure out why and I've got a ticket already with Amazon support, but haven't heard anything yet either.

Any help or guidance is much appreciated as we have hundreds of clients using our services.

Here are a couple of ELBs that I changed the health check port on
Cleanroom-Compliance-Training-1142528088.us-east-1.elb.amazonaws.com
OrgMetrics-50374186.us-east-1.elb.amazonaws.com

Here are a couple I did not
Active-Presence-Limiited-1327855207.us-east-1.elb.amazonaws.com
CD-YoungWilliams-330337926.us-east-1.elb.amazonaws.com

Edited by: dcprod on May 23, 2016 11:34 AM
We are also getting 503 errors .. but all instances are in service."

Amazon EC2	"Super fast SSH, more people should know about this
https://github.com/pmazurek/aws-fuzzy-finder

This is something I wrote for myself, but I am more than happy to share, as I feel it improved my workflow massively. I have always found finding the IP's of instances somewhat cumbersome, and was always forced to either go to the UI or use hacky grep-awk commands over aws-cli. This package fixes this problem.

This is my first opensource contribution, so please share your thoughts, and let me know if there are ways to make it better. So far everyone loves it, but no one knows it exists, so please share it if you like it. Hope it will make someones life easier. Enjoy!"

Amazon EC2	"What's the meaning of configuring second private IP for EC2 Instance?
Hi everyone,
Here's the question i read from ""VPC FAQ""

. Can I assign multiple IP addresses to an instance?

Yes. You can assign one or more secondary private IP addresses to an Elastic Network Interface or an EC2 instance in Amazon VPC. The number of secondary private IP addresses you can assign depends on the instance type.

But i don't understand the advantages of getting second private IP for one instance? What's the use-case of that? Really appreciate your help!"

Amazon EC2	"Re: What's the meaning of configuring second private IP for EC2 Instance?
Any help would be great appreciated!"

Amazon EC2	"Re: What's the meaning of configuring second private IP for EC2 Instance?
Think of it like having a single telephone number with multiple listings in the phone book for Alice and Bob.  When the phone rings, you can't tell who it is ringing for without answering the phone and asking, 'Who are you trying to call?'  

However, if you give Alice and Bob their own number, then you can tell them apart without even answering the phone.

If your phone number is your IP address, and the DNS is a phone book, then you can't tell which DNS name a client used to contact you unless the client tells you itself.  For web pages, a browser provides a host header. 

For protocols that don't support something like this, you need to give multiple DNS names to multiple IP addresses.  

Most notably, SSL was a protocol that needed this help. It used to be the case that every SSL site you had needed its own IP address. Now, SSL has something similar to the host header called Server Name Indication that makes one of the major user-cases for multiple IPs no longer needed."

Amazon EC2	"Instance storage - Essential questions
I do understand that Instance Storage is ephemeral and as such must not be used to persist data. Ok, we would only plan on using it for indexes that can be regenerated from persistent data in case of a hard fail for the performance benefits compared to EBS. But:


Is there any redundancy, e.g. if the underlying disk fails, will the storage in the VM fail or will it continue off a redundant disk? (e.g. Server-Local RAID1)
If there is no redundancy, I could make a software RAID, fine, but...
Is there any guarantee that my Large instance gets two distinct disks that do not share a physical controller or at least disk?
What happens to a disk that failed?
Will it be replaced?
When will it be replaced?
Can I even (re-?) attach a replacement instance storage device during the runtime of an instance or do I have to Terminate and restart that instance?


Edited by: Riundarbal on May 23, 2016 8:49 AM"

Amazon EC2	"Re: Instance storage - Essential questions
It really depends on the platform.  

For some we provide you a chunk of redundant disk as a single drive. For others we give you whole disks to yourself that aren't redundant.  If a platform offers you multiple instance storage disks, you can assume they are multiple spindles and it is on you to decide if you want them arranged for speed or reliability or space -- I'm thinking specifically of the I2, here.  If the platform only provides a single disk, then we're likely doing some level of RAID in the background. Disks are likely to share a controller.  The D2 platform is a big special case.  Is there a platform in particular that you're thinking of?

Most of the time, we won't repair the disk while customers are on the host. You will receive a notification of host maintenance, and we wait until everyone is safely off the host. The physical failed disks are ground into tiny bits and mixed in with the coffee that our developers drink.

Your questions suggest a hosting mindset, though. I strongly encourage you to think cloudy (?) about storage. Redundancy on the instance provides you a small layer of protection against catastrophic failure. It buys you a few days to get your data off a broken host -- but leaving a broken host should be your response to a failed disk -- not repair."

Amazon EC2	"Getting a reverse PTR record created for my elastc IP?
Hi-

I was hoping to get a reverse PTR record created for my elastic IP. I filled out the form  here but have not heard a response. Is there any other requirements or does this usually take a couple days?

Thanks"

Amazon EC2	"Re: Getting a reverse PTR record created for my elastc IP?
Hi,

Seems you have got a response already from us on 22/May/2016. 

Please follow the instructions we send and request again for setting PTR record.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: Getting a reverse PTR record created for my elastc IP?
Hi Jayakrishnan-

Yes I did receive a response saying the PTR didn't match the A record, which it did, but has since been resolved. The correct PTR is in place now.

Thanks!

Chris"

Amazon EC2	"Instance not accessible
My instance i-02b7ea94ec3e7af17  - which has the elastic ip http://52.16.138.126/ 
and pointed by sso.schooly.co.il (route 53) is not accessible - can you help me troubleshoot ?"

Amazon EC2	"Re: Instance not accessible
Can't SSH into my instance either. Problem seems to have just started earlier today within the last few hours at most. i-006a4c202ac30bc70

Was able to Stop (took a while) and then Start but still can't SSH. No idea of that to do and am wondering if this is a general AWS issue."

Amazon EC2	"Re: Instance not accessible
Update... My issue was site specific and not generally endemic to AWS.

I increased the attached storage volume size and was able to reattach it and get in again. Found xmlrpc.php was getting hit hard and so I disallowed access to it via httpd.conf so that the server was not spinning up httpd processes out of control like before. Will continue to investigate but issue seems somewhat under control for now."

Amazon EC2	"EC2 instances failing to connect on port 80
I tried to deploy some changes 3 days ok and had an error message saying that it had failed. I've found that this is not uncommon with EC2, approx once a month or so I have to log in and manually reboot the instances which seems to fix failed deploys. I rebooted the instances and decided I would wait until today to deploy again. After trying to redeploy today, I had the same error however I was still able to access php files on my site. 
I then tried terminating both instances and then letting the load balancer create 2 more. Once I did this however, they both show as ""OutOfService"", though both instances claim to be running if I go to the instances screen. I am no longer able to access my site at all.

Most results for this error seem to say the Security Groups are to blame. However we had not changed our SG settings for months, and today I have tried multiple things such as making sure http port 80 is open, reducing health check times so that it would go back to ""healthy"" more quickly but nothing has worked.

I've also tried curling the instances directly:   
curl -I ec2-54-93-90-59.eu-central-1.compute.amazonaws.com 
and I'm getting this error:  
Failed to connect to ec2-54-93-90-59.eu-central-1.compute.amazonaws.com port 80: Connection refused 

These are the 2 instances in question:  
Instance1: ec2-54-93-90-59.eu-central-1.compute.amazonaws.com  
Instance2: ec2-54-93-125-136.eu-central-1.compute.amazonaws.com  

I'm quite inexperienced with EC2, and so I don't understand why all attempts to connect to them are failing.

These are the security settings currently being used. The same group is used for both instances and the Load Balancer itself (apologies if the formatting gets messed up):

Inbound
Type          Protocol   PortRange   Source
HTTP          TCP        80          0.0.0.0/0
All traffic   All        All         0.0.0.0/0
SSH           TCP        22          0.0.0.0/0
All ICMP      All        N/A         0.0.0.0/0
 
 
Outbound
Type          Protocol   PortRange   Source
All traffic   All        All         0.0.0.0/0


Can anyone help at all?"

Amazon EC2	"Slow Servers - Can not Connect to AWS from China
Our facility in China are not able to connect to our website or it is running SUPER slow. We asked them to do the AWS network test and got attached files. 

Could you please review it and let us know why it's failing?"

Amazon EC2	"outgoing connections on port 25 blocked
Hi there,

Our EC2 instance (US-east region) used as mail server recently (2 days ago) started to fail on sending emails. 

We investigated the problem on our end and figured out that all outgoing telnet connections on port 25 (from EC2 instance out to the world) are being blocked. Here is the sample console output:

ubuntu@ip-***:~$ telnet smtp.gmail.com 25
Trying 173.194.204.109...
Trying 173.194.204.108...
Trying 2607:f8b0:400d:c04::6c...
telnet: Unable to connect to remote host: Network is unreachable 

Other ports work fine.

Our second amazon instance (based in Ireland) works well though:

ubuntu@ip-+++:~$ telnet smtp.gmail.com 25
Trying 74.125.24.109...
Connected to gmail-smtp-msa.l.google.com.
Escape character is '^]'.
220 smtp.gmail.com ESMTP on2sm8463032wjc.32 - gsmtp

Any ideas on why this could happen?

P.S. We have recently removed EC2 mail sending limitations and that didn't help.

Our instance details:
Instance ID : i-49bddb25
IP : 184.72.221.65

Edited by: revizto on May 19, 2016 12:58 AM

Edited by: revizto on May 19, 2016 12:59 AM"

Amazon EC2	"Re: outgoing connections on port 25 blocked
Hi,

I can see that the instance i-49bddb25 is under isolation. Our Abuse team has updated you regarding the same via mail associated with 'Security Contact' in your account.
I would request you to check your mail and respond to them with the corrective actions performed by you. 

Hope this helps.

Regards,
Jayakrishnan L."

Amazon EC2	"Re: outgoing connections on port 25 blocked
Thanks a lot, Jayakrishnan!"

Amazon EC2	"Unable to route to instance from same instance on public IP address
Hi, 

So I have an instance and it's a member of a security group.  I have a Route53 domain name setup pointing to an ELB above the instance, both the ELB and the instance are in the same security group.

When I add the security group to itself I am unable to curl https://my_url/, however when I remove the security group as the source on the ingress rule and replace it with the public IP address of the instance I am then able to curl the public domain name.  Am I wrong in thinking that adding the security group into it's own ingress rules should allow access to the box on it's public IP address?

Am I best to place the ELB into a separate security group and add a rule to allow one SG to route to the other SG?

The reason I need to connect to the box on it's own public IP, is that I am using a security appliance running in another docker instance on the same app server that will only bind to one URL and I either have to come in from the public URL or start to run a separate BIND server that will return the private IP of my app instance and this feels worse than using the public IP address.

Thanks for any help."

Amazon EC2	"AutoScaling Custom Health Check - How to configure?
Hi,

We want to use AWS Autoscaling with custom health check which means neither EC2 nor ELB checks. We want auto scaling group to check health of application hosted on EC2 instance. However when I create autoscaling group there is no option to configure custom health check. Options available are only EC2 and ELB. I would like to configure similar health check as ELB where it will call custom URI (https) to get instance health check.

I see this post http://docs.aws.amazon.com/autoscaling/latest/userguide/healthcheck.html#as-configure-healthcheck 
which briefly talks about it but here responsibility of health check has been shifted to instance from ASG. I don't think its a good approach.

Please suggest."

Amazon EC2	"While trying to allowcate a new elastic ip address we get:  An error ....
Hi,
While trying to allocate a new elastic ip address we get:  An error occurred while attempting to allocate the IP address
The maximum number of addresses has been reached.

VPC - ID  vpc-4cb3e425

Best, Michael"

Amazon EC2	"Re: While trying to allowcate a new elastic ip address we get:  An error ....
Hello,

Seems you have reached your EIP Limit on eu-central-1 Region.
I have increased the limit from 5 to 10. You should now be able to allocate new EIPs.

Regards,
Jayakrishnan L."

Amazon EC2	"EC2 instance will not boot with EBS volume attached
I made a brand new, clean m4.xlarge instance using the latest Amazon linux AMI. Ssh into it with no problems. Then I attach an existing EBS volume to it, I'm able to mount and use the volume no problems. Then I reboot the instance and I'm unable to connect via ssh or get any other info. Disconnecting the EBS volume gets me the ability to SSH again, but I'm not able to find anything about what's going on.

I paid for a reserved instance and I'm unable to use it due to this issue."

Amazon EC2	"Re: EC2 instance will not boot with EBS volume attached
Hi,
Could you please let us know the below details for understanding whats happening?

Instance ID
Device ID you specified while attaching the volume to the instance.
Is the volume you are attaching is a root volume of some other instance? 
Check the label associated with the root volume of your instance and the other volume.
Check the /etcfstab file and check if you have updated any wrong device ID or options for the additional volumes. 
Add 'nofail' (On RHEL, AMazon Linux AMI based instances) or 'nobootwait' (on Debian/Ubuntu based instances) on the /etc/fstab entry for the additional volume.


Hope this helps.
Regards,
Jayakrishnan L."

Amazon EC2	"Some files have been missed from ec2
Hi,

I have hosted a web site in amazon ec2, It contains lots of images approx. 4000, From that images some files are frequently lost. I had taken the backup of the image before 3 months back. Then when I compared to backup there is no some files. Why it's happening. I couldn't see the files in ec2 recycle bin. Losing of some files happening frequently. It contains lots of important files. This happening in future, How can I trust ec2?

Edited by: riyas_k on May 23, 2016 3:28 AM"

Amazon EC2	"Can't connect to EC2 instance via SSH
Instance ID: i-c5442247

I set this instance up a couple of months ago to host a few websites and have had no problems.  Today I can't connect via SSH (putty) - error is ""software caused connection abort"".
I also can't connect via SFTP (tried WinSCP and Filezilla)

Also the 3 websites hosted are offline - error is ""Site can't be reached""

I've tried rebooting the instance.  It's showing as running normally in Management Console.

Any help would be greatly appreciated."

Amazon EC2	"Re: Can't connect to EC2 instance via SSH
Hello,

I have investigated your instance and found that your instance failed to communicate with the underlying host between '2016-05-21 02:45' and  '2016-05-21 03:45' UTC.

I have investigated further, and had a look at a couple of other instances that is residing on the same underlying host, where they were running fine during the mentioned time period.

Furthermore, when investigated the standard output of your console prompt, I found that your ""httpd"", ""yum"" and ""mysqld"" process was stopped due to an ""Out of memory"" error.

Out of memory: Kill process 2901 (mysqld) score 33 or sacrifice child
Killed process 2901 (mysqld) total-vm:769896kB, anon-rss:33604kB, file-rss:0kB

Out of memory: Kill process 3097 (yum) score 47 or sacrifice child
Killed process 3097 (yum) total-vm:356756kB, anon-rss:48804kB, file-rss:0kB

Out of memory: Kill process 3104 (httpd) score 30 or sacrifice child
Killed process 3104 (httpd) total-vm:654188kB, anon-rss:22676kB, file-rss:7512kB

With this behavior, it lean towards that your resources on the instance-type is the main reason for the bottlenecks as your applications are requesting more resources that is available.

Depending on how much resources your application needs, but you can look at upgrading your instance type to t2.small or t2.medium.

==Resource:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

If you have any further questions, please feel free to reach out to us."

Amazon EC2	"Can't SSH to my newly created EC2 instance
Hello,

I can't seem to connect my newly created EC2 instance. Getting the following error(its the same from putty as well)
Error connecting to ec2-52-50-1-169.eu-west-1.compute.amazonaws.com, reason:
-> Connection timed out: no further information

I have checked everything from the trouble shooting instructions from the AWS documentation and the Security groups and the rest seem to be ok.

The only thing i can think is that i recently got my account reactivated, not sure  if this would cause this issue, because I was able to create an instance and connect to it before the deactivation.

Any help would be very much appreciated.

Thanks,
Siv

Adding trace route below
Tracing route to ec2-52-50-1-169.eu-west-1.compute.amazonaws.com http://52.50.1.169
over a maximum of 30 hops:

  1    17 ms    14 ms     8 ms  95-44-112-1-dynamic.agg2.kln.lmk-mlw.eircom.net http://95.44.112.1
  2     9 ms     9 ms     9 ms  lag-22.pe1.mlw.lmk-mlw.eircom.net http://86.43.10.245
  3     *       14 ms    15 ms  lag-10.core2.prp.core.eircom.net http://86.43.11.178
  4    15 ms    14 ms    15 ms  lag-20.br1.6cr.border.eircom.net http://86.47.63.110
  5    14 ms    14 ms    14 ms  inex1.dub2-br-tra-r1.amazon.com http://193.242.111.50
  6    15 ms    15 ms    15 ms  178.236.0.132
  7    16 ms    15 ms    15 ms  178.236.0.89
  8     *        *        *     Request timed out.
  9     *        *        *     Request timed out.
 10     *        *        *     Request timed out.
 11     *        *        *     Request timed out.
 12     *        *        *     Request timed out.
 13     *        *        *     Request timed out.
 14     *        *        *     Request timed out.
 15     *        *        *     Request timed out.
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22     *        *        *     Request timed out.
 23     *        *        *     Request timed out.
 24     *        *        *     Request timed out.
 25     *        *        *     Request timed out.
 26     *        *        *     Request timed out.
 27     *        *        *     Request timed out.
 28     *        *        *     Request timed out.
 29     *        *        *     Request timed out.
 30     *        *        *     Request timed out.

Edited by: Shiva Chandra Katta on May 21, 2016 10:32 AM"

Amazon EC2	"Re: Can't SSH to my newly created EC2 instance
Hello,

I tried to check your instance, but I couldn't find any instances from any regions. If you experience the issue again, could you please try ssh with -vvv(verbose client output) option and attach console output?

Please let us know if you need any further assistance."

Amazon EC2	"Re: Can't SSH to my newly created EC2 instance
Thanks Jerry.

The issue is now resolved. It was something to do with the deactivation and the reactivation. I have raised a ticket and AWS support did something(not sure what) and i'm able ssh into the instance now.

Thanks,
Shiva"

Amazon EC2	"How to select the different region group instead of system auto assign
I would like to have my ec2 both availble for 2 different subnet. How can i done it?

Edited by: threesir on May 22, 2016 10:50 PM

Edited by: threesir on May 22, 2016 10:57 PM"

Amazon EC2	"""Error establishing a database connection"" while cpu usage less than 20%
Hi ,

I use the free t2.micro running a simple workpress site.   Instance ID is i-747f44d1.

I am suffering the """"Error establishing a database connection"" for 2 months since the site was setup.

the error occurs one or more times each day.   

when the error occurs,  the mysqld status is ""mysqld dead but subsys locked"".  

After restarting the mysql with command ""sudo service mysqld start"" , the site could return to normal.   but the error will occur again in 24 hours. 

attached is the Cloud Metrics, it seems the CPU usage is under 20 percents.

Could you help have a look if there is any thing wrong in the host?

thanks
br.  max"

Amazon EC2	"ELB set max con for backend servers
For my specific workflow I only want 1 tcp connection connected to a backend server.  I am using RTMP to connect to a streaming server instance and only want one source RTMP redirected per instance. I can't find much in the way of setting up a policy for this. Any help would be appreciated. Thanks"

Amazon EC2	"t2.nano az support in sydney
Hi,

started testing out the new t2.nano instances in sydney region,  they seem to be available in ap-southeast-2a and ap-southeast-2c but not in a.  Will they be made available in ap-southeast-2a in the near future?

Scott"

Amazon EC2	"Re: t2.nano az support in sydney
Hello HoorooAdmin,

Thanks for using the AWS Developer Forums.

Which Availability Zone would you like to launch your t2.nano in? I think you've made some typos in your correspondence so I'm not entirely sure.

Best regards,

Joel K.
Amazon Web Services"

Amazon EC2	"Re: t2.nano az support in sydney
sorry,  you are correct, made a typo.  Works in 2b and 2c but not in 2a.

This is the error i get
Launch Failed
Your requested instance type (t2.nano) is not supported in your requested Availability Zone (ap-southeast-2a). Please retry your request by not specifying an Availability Zone or choosing ap-southeast-2c, ap-southeast-2b."

Amazon EC2	"Re: t2.nano az support in sydney
hey joel, any idea about this?"

Amazon EC2	"Re: t2.nano az support in sydney
Hi ScottHooroo, 
I think there has been some kind of misunderstanding here, and please apologizes if we got something wrong on your first request, but what you are noticing is correct. We aren't currently offering this instance type in all regions and availability zones. While we are unable to state if or when will be offering this instance type in ap-southeast-2a, I encourage you to follow our ""What's New"" page https://aws.amazon.com/new/ and our official Blog (https://aws.amazon.com/blogs/aws in order to be informed whenever the functionality will be launched. 

thanks for get in touch with us and have a great day 
Cheers! 
Javier C#"

Amazon EC2	"Re: t2.nano az support in sydney
Hi,
It's your lucky day .
On March 8, it was just announced the availability at the sydney region.
Here's the link:
t2.nano sydney region 

Thank You!!

Regards,
Ashutosh,
Researching on AWS."

Amazon EC2	"Re: t2.nano az support in sydney
Ashutosh, 
to clarify this,  you are correct in your appreciation, Sidney Region is now included in the t2.nano available list of regions, but Each AWS Region is subdivided in Availability Zones, we currently are providing the t2.nano instances in the ap-southeast-2b and ap-southeast-2c Availability Zones, but the ap-southeast-2a availability zone is still not supporting the t2.nano instances at this moment. 

Hope this could clarify the Sidney t2.nano availability, but please feel free to contact us back if you have any further doubt or concern. 

Cheers! 
Javier C#"

Amazon EC2	"Re: t2.nano az support in sydney
Hi,
Thanks for the clarification.

Thank You!!

Regards,
Ashutosh,
Researching on AWS."

Amazon EC2	"Re: t2.nano az support in sydney
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html

An Availability Zone is represented by a region code followed by a letter identifier; for example, us-east-1a. To ensure that resources are distributed across the Availability Zones for a region, we independently map Availability Zones to identifiers for each account. For example, your Availability Zone us-east-1a might not be the same location as us-east-1a for another account. There's no way for you to coordinate Availability Zones between accounts.

How does this reconcile with your statement that t2.nano's are only available in ap-southeast-2's ""b"" and ""c"" AZs? Is this limit entirely artificial?"

Amazon EC2	"Keeping getting disconnected from instance
I'm running an Ubuntu 12.04 instance and, as of today, i keep getting disconnected from it. I'll SSH in and try doing some commands. It'll work for a few seconds, freeze and then I'll get disconnected for some reason. Is there an issue?

None of the status checks are failing either and the VPC is working just fine"

Amazon EC2	"Re: Keeping getting disconnected from instance
Hello,

Thank You for creating this forum post. To further investigate this issue can you please post your instance id having this issue.

Thanks,
SnehaV"

Amazon EC2	"Re: Keeping getting disconnected from instance
Maybe you could help me too, I just wrote a detailed explanation on another thread only be told that my account wasnt ready for posting. This stuff takes time and costs nerves. I am trying to set up SFTP logging to try and diagnose the issue, no info on that whatsoever...I am getting nowhere, going further and further back and running into more and more brick walls due to lack of appropriate documentation.  

i am continuously getting connection problems, resulting in 0kbyte uploads and other anomolies, that nearly cost me a weeks coding. I have to get to the bottom of this or seek another server. I never have problems with SSH, but I regularly have SFTP problems.


The instance number is  	
i-0fc2e408c71bd601f"

Amazon EC2	"Re: Keeping getting disconnected from instance
Have you attempted to run the debug flag when you run the sftp command? Also, you can and should configure the keepalive for sshd.

The other things that matter is where are you coming from, where are you going (ie. what client are you using to connect)? What is the size of the file transfer that is failing? Have you tried using a different client? If you have used another client, did it fail or succeed?

You can use the command with -vvv to figure out what is going on with the connection. Also, I suggest setting up logging for sftp if it is not already set up.[1]

[1] http://serverfault.com/questions/73319/sftp-logging-is-there-a-way"

Amazon EC2	"unable to login to ec2 after usermod -d
Hi, I can't connect to ec2 after changed the usermod -d /var/www/html ec2-user but i able to connect it if i change it back to /home/ec2-user. Any solution please?"

Amazon EC2	"Re: unable to login to ec2 after usermod -d
Well if you change the home directory of the user your would also need to ensure that keys are also moved into the home directory.

There are two solutions to the problem

1) copy the /home/ec2-user/.ssh/authorized_keys to the new directory ( i.e  /var/www/html) ensure appropriate permissions on .ssh directory .The .ssh directory should allow rwx for the user (owner) and the files should be readable only by the user ( i.e. 700). Home directory permission should be  0755, 0711, 0700 that disallows writes by group or other, and owned by the user.

2) Modify the /etc/ssh/sshd_config file ""AuthorizedKeysFile"" property pointing to correct location of key file and restart sshd service

Edited by: Yogesh Sinhal on Sep 19, 2012 9:33 AM"

Amazon EC2	"Re: unable to login to ec2 after usermod -d
Thanks Yogesh, I did try with the 1st method but it's still failed.
I run cp -ar /home/ec2-user/.ssh /var/www/html/. 
The .ssh directory and also authorized_keys is inside /var/www/html/ but still can't login. Any idea?"

Amazon EC2	"Re: unable to login to ec2 after usermod -d
did you check the permission on directory and key file ?

sudo chown -R ec2-user /var/www/html/
sudo chmod 0755 /var/www/html
sudo chmod 0700 /var/www/html/.ssh

Also change the sshd_config ""LogLevel"" to DEBUG to investigate and post output

Edited by: Yogesh Sinhal on Sep 19, 2012 11:54 AM"

Amazon EC2	"Re: unable to login to ec2 after usermod -d
I am having the samer issue.

Does anyone can help me?"

Amazon EC2	"Re: unable to login to ec2 after usermod -d
Hi,

Have you followed the steps mentioned by the previous posters? You may need to set up a rescue instance to figure out what is going on with the instance.

Also, could you provide an instance id? This may help troubleshoot the issue."

Amazon EC2	"All ports close shortly after launch (cannot access instance)
Hi,

We recently de- and reactivated our aws account. Since then, I have a weird problem with all my instances. I tried launching a fresh Ubuntu Server 14.04 and Amazon Linux 2016.03.1 image. I assigned to them a security group with port 22 open. After launch I connect using ssh and after about a minute I get a broken pipe and every connect attempt times out. I didn't touch any other settings since the account reactivation. What could be the problem??

thanks

Edited by: steambot9000 on May 22, 2016 3:11 PM"

Amazon EC2	"Can I Copy my EC2 Instance Snapshot over to S3?
Can I Copy my EC2 Instance Snapshot over to S3?"

Amazon EC2	"Hacker? Error Establishing Connection (Only when traffic is going to site)
Hello.

I am running a website on an EC2 instance.

I started having problems a while back, the website would constantly go down and would work again only after I rebooted the instance, but then it would stop working again a short time later.

I got tired of it and recently had a freelancer stop the instance the website was on and start fresh on a new one; worked well until I started showing ads and people started going to my website again.

At this point I am wondering if it could be a hacker who did something so that my website goes down the minute I start sending traffic to it, I bought about 200 visitors since yesterday and now it stopped working again when I try to visit it it is giving the message ""Error Establishing Database Connection"". 

Could it be related to the DNS? My domain name is registered with Godaddy.

I am a complete ignorant when it comes to server administration I have absolutely no clue what to do. Could someone please be kind enough to tell me what steps I should take to find out what the problem is and fix it once and for all?

On a side note; what I am about to say is a little far fetched but I have nothing to lose so I will say it. I am an expert when it comes to pay per click advertising, I wouldn't mind doing an exchange of service with and AWS expert. He helps with my hosting services to ensure it doesn't go down, I help him with his business advertising. I cannot afford the expensive support of AWS so I might as well offer value that way.

Thank you."

Amazon EC2	"Instance won't stop
My instance i-f0eaba53 failed both checks and was unresponsive. I tried to stop it and tried to forcefully stop. It is staying in the stopping status. What is my next course of action?

Edited by: t4chris on May 21, 2016 4:38 PM"

Amazon EC2	"Re: Instance won't stop
Hello,

I've asked my colleagues in the EC2 team to take a look at this for you and I'll get back to you as soon as I hear back from them.

Regards,

Matt W."

Amazon EC2	"Re: Instance won't stop
Thanks Matt. I have gone to backups to get a new instance up, but would appreciate having this instance to fill in gaps in the data.

Thanks again."

Amazon EC2	"EC2 instance powered off, why?
I have a c4.LARGE instance (ID: i-0a69644bdd34e7d6c)running and it was all good until yesterday. Suddenly the instance is permanently shutting down showing the following:

Broadcast message from root@ip-...
(unknown) at XX:XX ...

The system is going down for power off NOW!

After this message is shown I have to stop/start the instance as I can't connect again otherwise.
I have some serious computations on this instance and but it keeps on switching itself off. I updated the Ubuntu OS and enabled Termination Protection, increased security but it keeps on happening. I have no clue why. 

Any help is very welcome.

Thanks in advance"

Amazon EC2	"Re: EC2 instance powered off, why?
I found the solution.
I was running the same python script on my local machine and after 2 days it crashed with an actual error message. Turns out I forgot an free(my_c_array) and the computer was out of memory at some point. 
What weirds me out are 2 1/2 things:
a) Why did not I get the same error message in the instance terminal I got on my local machine? Where should I have looked for the appropriate message?
b) Why on earth did the entire EC2 instance shut down with such a not at all useful message (""root called, I'm shutting down now"").
1/2) Why did it take 2 days on my machine and less than 2 hours on the AWS instance.

I hope that helps someone else.

cheers"

Amazon EC2	"Can only ping and SSH to instance
Instance ID: i-ab5e442b
Availability Zone: us-east-1b
Config: Ubuntu 14.04 / Apache2

Starting sometime late yesterday or early today I lost most connectivity to my server.  I can remotely ping and connect via SSH to the domain name and the Elastic IP but the web server and email are inaccessible.  apt-get just hangs at http://Connecting to us-east-1.ec2.archive.ubuntu.com, as does open_ssl to ports 443, 587 and 993.

There aren't any relevant error messages in the logs.  Ports 80, 443, 587 and 993 show LISTEN status for netstat.  Iptables is currently empty.  In the Security Group, ports 80, 443, 587 and 993 are enabled for 0.0.0.0/0 Inbound.  Outbound is set for All Traffic, Protocols and Ports on 0.0.0.0/0.

I have rebooted Ubuntu and rebooted the instance and all statuses are good in AWS Console.

From the Ubuntu command line, telneting to the Private IP port 80 succeeds but telneting to the Elastic IP port 80 hangs at Trying xx.xx.xx.xx ...

I'm at a loss as to what the problem is and nothing I've tried has corrected the problem.  Please help."

Amazon EC2	"Re: Can only ping and SSH to instance
Hello,

I've had a look at your instance and account history and have found that the reason why you are restricted to being only able to ping and SSH to your instance is due to a breach of our Acceptible Use Policy as your instance was used for port scanning.

If you would like to mediate this, I recommend that you refer to the previous emails we sent to your account on the 12th May and follow up with our Abuse team

https://aws.amazon.com/aup/"

Amazon EC2	"Restore OS dependencies
Hi,

I accidentally deleted some of OS dependencies including Python 2.7 and some libraries when I was working with Mindterm. Is there any way that I can revert/restore them? 
If I download my WWW folder and then terminate my instance and create another one, and then upload the WWW folder to the same place, is it gonna work?

I don't have that much stuff in my website so I also can start from beginning if that's the only case.

Thank you!

Btw, just in case if you like to know, this is the error I'm getting from Mindterm:

Bootstrapping dependencies via Amazon Linux...
yum is /usr/bin/yum
Could not find platform independent libraries <prefix>
Could not find platform dependent libraries <exec_prefix>
Consider setting $PYTHONHOME to <prefix>:<exec_prefix>
ImportError: No module named site
Could not install OS dependencies. Aborting bootstrap!

Thank you!"

Amazon EC2	"Debugging Elastic Load Balancer
I have a VPC with several private subnets.

I'm running an instance in one of these private subnets.  NAT is working with a NAT instance, and I'm able to ping and connect to external resources from the private subnet instance, ping public servers, install packages etc.

On this instance I've installed a web server.

I've setup a fairly standard load balancer to provide access to servers in this private subnet.

When I put this server into the load balancer, it shows the instance as being in Service.  If I tcpdump port 80 on the instance, it shows traffic from the load balancer IP for the healthchecks.

The issue is that no traffic seems to be getting through the LoadBalancer's public internet interface.

When I use the A record DNS name for the load balancer, I timeout, and no traffic comes from the load balancer to the instance.

The security group for the load balancer is allowing all traffic on all IP's for the purposes of debugging this issue.  

The LB has a port 80 listener.

I am out of ideas of how to debug this issue, and the documentation doesn't have a troubleshooting section that seems to cover this situation.  Any help is appreciated.

Edited by: Gizmola on May 20, 2016 11:31 AM"

Amazon EC2	"Re: Debugging Elastic Load Balancer
Ok, so I figured out what the secret to getting this all to work was.

Just for a bit of detail, the thing that makes a subnets route to the internet (ie., the ""public"" subnet) is that it has to have the internet gateway attached to it.

The other ""private"" subnets route their 0.0.0.0/0 to the Nat instance.  There is also a default route that handles the traffic on the subnet.

It turns out, what I was missing was that the Load Balancer must be created and attached to the public subnet.  I made an erroneous assumption that I needed to attach it to the same subnet as the instance(s) I wanted to attach to the load balancer.  You will be able to see all the instances in the VPC, even though they are not part of the public subnet!

Once I created a new LB, everything worked as planned, and as soon as the instance passed Health check, I was able to hit the web server using the load balancer's DNS name."

Amazon EC2	"Problems accessing EC2 Instance (PEM file not recognized)
I had a long-time working EC2 node, but had reason to restart it.  Since that time, I have not been able to SSH into the machine.  On a related node (in the same VPC, on the same subnet, etc.) I see the following on an % ssh -v:
debug1: Next authentication method: publickey
debug1: Offering RSA public key: ./PEMs/VPC-GreySpark.pem
debug1: Server accepts key: pkalg ssh-rsa blen 279
debug1: Authentication succeeded (publickey).

On the failing node, I see:
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: ./PEMs/VPC-GreySpark.pem
debug1: Authentications that can continue: publickey
debug1: Offering RSA public key: ./PEMs/VPC-DNSentinelDevelopment.pem
debug1: Authentications that can continue: publickey

So, it looks like the PEM file is not being honored.  Could someone assist, please?

Thanks.

AWS Developer in Syracuse"

Amazon EC2	"Re: Problems accessing EC2 Instance (PEM file not recognized)
Good Day, 

Thank you for posting in this forum post.

There are many things that you can do to salvage a PEM Key and ensure you can logo again to your instance via SSH. 

However the most rapid way to be able to login into that instance without changing a lot of things is to create an AMI of the instance then relaunch the instance using the same keypair then you will be able to log in. 

There may have been changes within the instance SSH relaunching using an ami will reset this and you will be able to access the instance once again. 

Please let me know if you are able to login after following the recommendation. 

Regards
Tawanda"

Amazon EC2	"Re: Problems accessing EC2 Instance (PEM file not recognized)
Thanks for the reply.  I actually tried that.  On that EC2 instance (which I inherited), it says:

""Cannot load details for ami-XXX. You may not be permitted to view it.""

That AMI does not show up in ""My AMIs"" when I go to launch a new instance.  When I launch something close (to my disabled node), I get:

Launch Failed
The instance configuration for this AWS Marketplace product is not supported. Please see http://aws.amazon.com/marketplace/pp?sku=b3dl4415quatdndl4qa6kcu45 for more information about supported instance types, regions, and operating systems.

I've also tried detaching that volume and mounting it to a similar node (again, w/o the identical AMI), but could not mount the volume since it was a root partition.

Thanks for any help you can offer."

Amazon EC2	"Not Getting Expiration Notice For Reserved Instances
I am not receiving reserved instance expiration notices??? I didn't even know they exist because I never got them and I got nailed with a $100 extra charge this month. It is really upsetting. No other answers are available on this forum. No one answered the posts."

Amazon EC2	"Re: Not Getting Expiration Notice For Reserved Instances
Hi, 

I have confirmed about this billing and have asked our Customer Services Team for a credit for that $100 for the time you got billed on demand rates. 

Please note that we do not give the expiration notification for RIs you have to keep an eye on your reservation. 

The concession has been processed. 
Regards
Tawanda

Edited by: TawandaZ@AWS on May 21, 2016 2:53 AM"

Amazon EC2	"Cannot SSH/SFTP to EC2 instance
As of 2016-05-20 09:00 GMT +8 I cannot connect via HTTP/SSH/SFTP to my Ubuntu 14.04 EC2 instance. I'm getting ""Connection timed out"" on these 3 connections. When viewing my EC2 dashboard everything is ok, status checks are ok, availability zone EC2 Singapore is operating normally.

My last access was yesterday(2016-05-19 20:00 GMT +8) and everything was working fine then i can HTTP/SSH/SFTP to the instance.

Edit:
As of 2016-05-20 11:00 GMT +8, tried rebooting instance then connecting via SSH, I'm getting ""ssh_exchange_identification: read: Connection reset by peer""

Edited by: davidrino on May 19, 2016 8:12 PM"

Amazon EC2	"Re: Cannot SSH/SFTP to EC2 instance
Hi just now I have the same problem trying to ssh to my instance.

There is a problem on EC2 service?"

Amazon EC2	"Access the volume and fix own of the folders.
Hi guys,

My server was perfect until I used some chown commands.

So after that I even could not connect via putty or FTP.

I receveid: Server refused our key.

So then I created a new instance and attached my volume to it.

I had mounted the volume but i cannot access anything because every folder is:
Permission denied

What should I do?
It is getting me crazy!

Edited by: andremellobr on May 20, 2016 12:53 PM

Edited by: andremellobr on May 20, 2016 12:53 PM"

Amazon EC2	"ssh connection timed out
Hii...I am unable to connect through ssh. I have already check security groups, vpc, subnets, routing table settngs. Everything is set. But still not able to connect, it always says connection timed out. Please help to figure out the problem.   My instance id is i-09b6bf7bd217bc55c"

Amazon EC2	"Re: ssh connection timed out
Hello, 

Taking a look at your instance it looks to be terminated so I'm unable to verify current settings/connectivity. Additionally, I couldn't find a way to launch the particular AMI you were utilizing as it wasn't listed under Marketplace or Community AMIs in that region, so I was unable to test that specific AMI either. 

If you'd like to further troubleshoot, please leave an instance running and we can investigate further. 

Regards,
Nick"

Amazon EC2	"Re: ssh connection timed out
Hello,  
This problem of connection time out got solved when i created new cluster. Now, I am trying running a small job of word count  in EMR but it gets failed every time and shows following error:
Exception in thread ""main"" java.lang.NoClassDefFoundError: hdriver (wrong name: hi/hdriver)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:803)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:278)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:214)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)

My main class: hrdriver looks like:
public class hdriver{

	public static void main(String[] args) throws Exception {
	    Configuration conf = new Configuration();
	    Job job = Job.getInstance(conf, ""word count"");
	    job.setJarByClass(hdriver.class);
	    job.setMapperClass(hmapper.class);
	    //job.setCombinerClass(hreducer.class);
	    job.setReducerClass(hreducer.class);
	    job.setOutputKeyClass(Text.class);
	    job.setOutputValueClass(IntWritable.class);
	    System.out.println(""going on"");
	    FileInputFormat.setInputPaths(job, new Path(args[0]));
	    FileOutputFormat.setOutputPath(job, new Path(args[1]));
	    System.exit(job.waitForCompletion(true) ? 0 : 1);
	    System.out.println(""done"");
	  }
}

During adding a new job flow, i am giving name of main file and location of input and output. hdriver is main class and i am giving this name. But error shows wrong name. I am new to EMR, so Please help me to find out the problem.
Thanks."

Amazon EC2	"wordpress install(s)  on ec2
Hello all, I'm new to ec2 hosting but I have set up Wordpress sites in the past on my own personal hosting.  I've never used Web Platform Installer. Ultimately my end goal is to be able to have multiple independent wordpress pages within the one ec2 instance.  I'm trying to set up a wordpress site on my new ec2 instance but I've had multiple issues:

1. I successfully installed Wordpress with the Web Platform installer but when I try to access the wp-login.php page, none of the dashboard is there. The theme doesn't seem to be applied because all I see is the ""Hello World"" post with absolutely no formatting and no sign of the Wordpress dashboard.  It was there when I started but at some point it just disappeared.  

2.  I did another Wordpress install but this time I made a 'new site' instead of using the 'Default site'. The install path was a subfolder within the wwwrootfolder.  This time, when it got to the part of the configuration where I am supposed to create a wordpress username I got the following error message

HTTP Error 500.52 - URL Rewrite Module Error.

The page cannot be displayed because an internal server error has occurred.
Detailed Error Information:
Module
   RewriteModule 
Notification
   SendResponse 
Handler
   StaticFile 
Error Code
   0x800700b7 
Config Error
Cannot add duplicate collection entry of type 'rule' with unique key attribute 'name' set to 'wordpress' 
Config File
   \\?\C:\inetpub\wwwroot\________\web.config 
Requested URL
http://localhost:80/________
Physical Path
   C:\inetpub\wwwroot\_______
Logon Method
   Not yet determined
Logon User
   Not yet determined 
Config Source:
    5:       <rules>
    6: 			<rule name=""wordpress"" patternSyntax=""Wildcard"">
    7: 				<match url=""*""/>

Any ideas of how I can my wordpress page up and running?  I would be willing to start from scratch if there is a way to roll back any of the installs that I've done.

Thank you in advance for any help with this!

Edited by: pfd12345 on May 20, 2016 10:09 AM"

Amazon EC2	"Can´t stop/start an once functional instance
Hi! I have an instance (i-18d1b46b) that became unresponsive, I was able to stop the instance but it doesn´t start and the instance status check fails. Any ideas?
Thanks!"

Amazon EC2	"Re: Can´t stop/start an once functional instance
Hi,

I see your instance can't boot and this is the error message I see from my end.

dracut Warning: Can't mount root filesystem

http://    1.891771 dracut Warning: Boot has failed. To debug this issue add ""rdshell"" to the kernel command line.

http://    1.891844 dracut Warning: Signal caught!

http://    1.891920 dracut Warning: Boot has failed. To debug this issue add ""rdshell"" to the kernel command line.
http://    1.892089 Kernel panic - not syncing: Attempted to kill init! exitcode=0x00000100

This means that Linux can't mount the root file system for some reason.

Did you make any changes to the instance? 

You can try the following steps in order to troubleshoot this issue.

1) Attach your EBS root volume to a different instance as a secondary volume in the same AZ or create a new temporary recovery instance for this purpose.
2) check  /etc/fstab of the root device(attached as secondary volume) and see if any change has to be made. 

It may be worth investigating the local log files on the instance. Optionally, you can create a new volume from the last working snapshot and try to attach it to the instance (as a root volume) to see if the instance will boot.

Regards,
Aishwarya"

Amazon EC2	"Will the PublicDNS of an EC2 Instance change ?
Hi,

We would like to know whether the PublicDNS will change for an EC2 Instance OR just the IP address assigned to it will be changed ?

If they will be changed, then WHEN ?  Like: When we restart it or when we stop and start the EC2 Instance ?

Thanks"

Amazon EC2	"Re: Will the PublicDNS of an EC2 Instance change ?
Hi,

The public DNS of your instance changes just like your public IP changes whenever your perform a stop/start. They do not change when you perform a reboot on the instance. To have the same public DNS/IP, we recommend you to use Elastic IPs: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

Regards,
Aishwarya"

Amazon EC2	"cannot release the IP addresses
Hi,
I got this error when trying to release my Elastic IP :
""
An error occurred while attempting to release the IP addresses
54.186.213.15: The address with allocation id eipalloc-2b1be74e cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: fc2a9404-1846-492c-ae7f-aa21ce38ae4c)
""
Can anyone please help me with this ?
Thanks

Edited by: Wissam Chedid on May 20, 2016 3:18 AM"

Amazon EC2	"Re: cannot release the IP addresses
Hello,

The IP cannot be released because there is a reverse DNS record associated with it:

$ host 54.186.213.15
15.213.186.54.in-addr.arpa domain name pointer www.giftmakerapp.com.

We'll be happy to assist but please confirm that you'd like us to remove the rDNS entry.

Regards,
Aishwarya"

Amazon EC2	"Instance stuck in stopping state
Good day,

after my instance has not been available for some reason, i tried to stop (and even force-stop) it, but since over an hour the machine is stuck in said state. Sadly, it seems i can´t do much about it. Can you help me?

The instance ID is i-c7910621

Edited by: Markus Niemann on May 20, 2016 6:17 AM"

Amazon EC2	"Re: Instance stuck in stopping state
Hi Markus,

The instance i-c7910621 is in a stopped state now. It appears there were underlying issues with the host which caused it to be stuck in a stopping state. Issuing a start on the instance will bring it up on a new healthy host.

Regards,
Aishwarya"

Amazon EC2	"Re: Instance stuck in stopping state
I have the same issue happening to me, I was able to stop the instance (i-18d1b46b) but it doesn´t start and the instance status check fails. Can you help me? Thanks!"

Amazon EC2	"Instance stuck in stopping state
Hi,

I've got an instance that is stuck in stopping state, can anyone assist ? instance id i-cb80d605 running on eu-central-1a (Frankfurt).

Thanks."

Amazon EC2	"Re: Instance stuck in stopping state
problem solved itself, thanks."

Amazon EC2	"Re: Instance stuck in stopping state
Sorry for the inconvenience. This was because of a host issue.

Regards,
Aishwarya"

Amazon EC2	"Instance created from imported VMDK fails Instance Status check
when  trying to  run instance(i-f5c3c672) i get an error:

Instance reachability check failed.

I imported a VMDK (from our VMWare environment from OVF export) using the aws ec2 import-snapshot command. I then created a volume using the aws ec2 create-volume command. Since I have had trouble in the past with volumes created this way not being recognized as Windows VMs. I manually created an ec2 instance in my vpc then switched the created drive for the imported drive. I then created an ami and launched a fresh instance (i-f5c3c672). The instance never passes the reachabillity check and does not respond to ping. 

Please let me know if I have missed something in my steps to create this EC2, or if there is something I can change to make this instance usable.

Thanks,

Nick"

Amazon EC2	"Re: Instance created from imported VMDK fails Instance Status check
Hi,
If I understand correctly, you imported a VMDK as a volume snapshot and then used the snapshot to create the root volume of an instance that now appears to be failing the instance checks.
This appear to be due to missing network connectivity, which can be caused by missing PV drivers on the instance or by a Static IP set up on the network interface.

You might want to have a look at the troubleshooting steps at the following link to try and regain access to your instance:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#metadata-unavailable

However, my suggestion would be to re-import the instance by using the import-image cli command:
http://docs.aws.amazon.com/cli/latest/reference/ec2/import-image.html

This will create an AMI from your imported VM with all the correct drivers and the EC2config service correctly installed, so that instances launched from it would  work straight away.

I hope this information helps.
Have a great day!

Andrea S."

Amazon EC2	"Re: Instance created from imported VMDK fails Instance Status check
Andrea,

Importing direct to AMI did the trick. Thank you very much.

Nick"

Amazon EC2	"HTTPCode_ELB_5XX increase but no (Un)HealthyHostCount issue
The documentation states two reasons for increase in this metric:

no healthy instances
request rate exceeds the capacity of the instances (spillover)


Occasionally we see an increase in this metric on our ELB.
We checked that during this periods HealthyHostCount > 0, UnHealthyHostCount = 0.
The metric SpilloverCount is not listed (so I assume this problem has not occured)

The ELB has cross-zone load balacing enabled.

Can you shed some light what may be causing increase in HTTPCode_ELB_5XX given above?

Thanks,"

Amazon EC2	"ELB suddenly stopped forwarding traffic to backend WEB servers
Dear AWS Support Team,

Today we had a issue with ELB suddenly not forwarding traffic to WEB instances. It happened 7:04 - 7:14 UTC time. The HealthhostCount went down from 2 to 0.
The ELB name is ""prod-randa-elb-the-open-737993526.eu-west-1.elb.amazonaws.com.""
From WEB servers logs I identified that the ELB stopped sending healthcheck requests.
At the same time in the logs I found healthchecks coming from another ELB which proves that the problem wasn't on WEB side.

1. Could you please have a look why it behaves like this?
2. We have an upcoming big event, so expect high traffic so do we need to request a ""pre-warm"" of it?

PS: Since Monday, the 16th May, I found another short occurrences of ELB downtime which concern me.

Regards,
Constantin."

Amazon EC2	"Re: ELB suddenly stopped forwarding traffic to backend WEB servers
I can confirm.
We experienced EC2 connectivity issues in the 16-17 UTC timeframe.
Symptoms:

autoscaling triggered due to backend reachability problems
RDS, S3 unreachable from EC2 instances


AWS Support: did EC2 have issues in the specified timeframes on May 19th?

Thanks"

Amazon EC2	"Instance Store Disk
Hello,

We have an instance that is using instance store. It is an old server which wasn't upgraded (unfortunately). Today we rebooted the server and ssh is failing to start, no matter what we do. We have some pretty important data on this instance and we would like to get it back somehow. How can we proceed? Any help would be much appreciated."

Amazon EC2	"Re: Instance Store Disk
Hello,
Could you please provide the instance ID so that we can double-check?
Currently I don't see any instance inpaired or with Status Check Failed in your AWS Account.
Please remember that user data on instance store volume is wiped out each time you stop/start the instance (in this case you mentioned a reboot so you should still able to get your data if the instance boots properly.

Please let me know,
kind regards
Ale"

Amazon EC2	"Re: Instance Store Disk
Hi Alessandro,

It appears we had an old backup from 2013 and we restored that and launched a new instance. Thank you so much for trying to help.

Have a great day!"

Amazon EC2	"Re: Instance Store Disk
We restored an older backup."

Amazon EC2	"HTTP Error 404.17 - Not Found
Hi ,
I hosted my site on EC2 instance which works in .Net Framework 2.0. (IIS 8.0)
Default Application Pool  (Integrated, Enable 32 bit application= True)
But when browsing the aspx page , i am getting the following error

HTTP Error 404.17 - Not Found
Most likely causes:
The request matched a wildcard mime map. The request is mapped to the static file handler. If there were different pre-conditions, the request will map to a different handler.

Detailed Error Information:
Module	   StaticFileModule
Notification  ExecuteRequestHandler
Handler	   StaticFile
Error Code	   0x80070032

Can some body help me out please"

Amazon EC2	"AJAX calls to fail with mixed content HTTP/HTTPS errors
I have a single EC2 instance running behind ELB, for which I utilized AWS Certificate Manager (ACM) to enable HTTPS.

As suggested in a few places, I mapped both HTTP (Port 80) and HTTPS (443) to my instance's HTTP (Port 80).

I also enabled forcing secure connections by adding these lines to .htaccess file:

RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} R=301,L

All that is working beautifully. All pages display secure content as expected, no warnings in the Console about mixed content. 

Only on pages where I make an AJAX call I get an error about mixed content and only in Chrome. FireFox works as expected but Console still shows an error.

Error (FireFox):
Content Security Policy: Upgrading insecure request 'http://mysite.com/myapi/get_company/?code=abcd&limit=8' to use 'https'

Error (Chrome):
Mixed Content: The page at 'https://mysite.com/mypage' was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint 'http://mysite.com/myapi/get_company/?code=abcd&limit=8'. This request has been blocked; the content must be served over HTTPS.

I opened chrome://net-internals/ and from what I can see there are 2 calls the first one receives HTTP 301 Permanent Redirect and the second one fails because the redirect points to an HTTP page, not HTTPS.

AJAX call looks like this:
	    $url = ""/myapi/get_company?code="" + e;
	    apiJson = $.ajax({
	        url: $url, 
	        dataType: 'json',
	      data:{ 
	        limit:8
	        },
	    success: function(data) {
	        //Some code here
	      },
	    error: function(jqXHR, textStatus, errorThrown) {
	    	//Some code here
	    }
	  });


I also tried giving the full URL including the protocol but that didn't make a difference.

I've searched online all over but haven't been able to find anything that would help me with this issue.
Any assistance from anyone familiar with what might be causing this is greatly appreciated.

Edited by: Maria on May 18, 2016 10:39 PM"

Amazon EC2	"Re: AJAX calls to fail with mixed content HTTP/HTTPS errors
Answering my own question. Hopefully this will help someone else.

Don't ask me how I figured this out because I won't be able to give you a definite answer but this is what did it:

$url = ""/myapi/get_company?code="" + e;

changed to:

$url = ""/myapi/get_company/?code="" + e;

Notice the trailing slash, right before the parameters. The actual file handling the AJAX calls on the server side is here:

/myapi/get_company/index.php"

Amazon EC2	"Error in obtaining a CA-signed certificate
Hi!

I'm following the instructions on ""http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/SSL-on-an-instance.html"" to obtain a CA-signed certificate, but I get the following error when I try to create a CSR using following codes.

These are the last commands I've done:
ec2-user@ip-******** ~$ sudo openssl ecparam -name prime256v1 -out custom.key -genkey
ec2-user@ip--******** ~$ sudo chown root.root custom.key
ec2-user@ip--******** ~$ sudo chmod 600 custom.key
ec2-user@ip--******** ~$ ls -al custom.key
-rw------- 1 root root 302 May 19 07:00 custom.key
ec2-user@ip--******** ~$ sudo openssl req -new -key private.key -out csr.pem
Error opening Private Key private.key
140481457702752:error:02001002:system library:fopen:No such file or directory:bss_file.c:398:fopen('private.key','r')
140481457702752:error:20074002:BIO routines:FILE_CTRL:system lib:bss_file.c:400:
unable to load Private Key

Any help or ideas?

Thank you!
Hiva"

Amazon EC2	"Re: Error in obtaining a CA-signed certificate
AWS Certificate Manager provides managed certificates, so that you don't need to handle the muck of creating and submitting CSRs.  What you're discussing is an EC2 document, so we'll repost this question there."

Amazon EC2	"Re: Error in obtaining a CA-signed certificate
Thank you, but I didn't understand what to do now. I'm trying to Configure Apache Web Server on Amazon Linux to use SSL/TLS but got that error. 
Do you mean that I should use AWS certificate manager instead of this? or ..? 

Thanks!"

Amazon EC2	"Ideas for debugging occasional slow TCP sessions
I have a situation where some (but not all) TCP sessions between some of my client locations and AWS instances suffer elevated packet loss and slower throughput. (In this case I'm downloading a static JS file via HTTPS from nginx running on the instance). Where one client location might have issues with one instance, another location will have no problems with that instance, but might have issues against a different instance.

For the situation between one client location and one instance where I've started a more in depth investigation (guessing the issue is similar/the same across all manifestations of this problem):

When I run `mtr`, I don't see any packet loss between the instance and primary client location where I see this issue in either direction (run from both the server and the client). I've tested with both ICMP and TCP packets. But when I use Wireshark on the client to capture packets, I see many TCP DUP ACKs and Fast Retransmissions (indicative of packet loss) during the slow TCP sessions. I can open multiple simultaneous TCP sessions (multiple transfers of this same file) in different terminal windows (using CURL) and several will be fast while a slow session is in progress (seemingly eliminating issues with my local network and perhaps pointing blame at some layer 3 device in the middle where TCP sessions are pinned throughout their duration).

The instances in question are running in a VPC and use an Elastic IP & elastic network interface. My understanding is that this means the traffic sent to that public IP is sent through some sort of Amazon-controlled NAT since the machine itself is not directly assigned the public IP on any of its interfaces (as confirmed w/`ifconfig`). I'm wondering if the TCP sessions opened through the NAT (perhaps load balanced) are pinned throughout the session and if there's the possibility that some sessions are pinned against a misbehaving NAT device.

Is there a way to check this? Or some other way to determine where the packet loss is coming from that seems to only occur during some active TCP sessions?

Attached:
packet loss.txt - output of two different `tcptrace`s--one for a fast request, one for a slow request
curl output.txt - output of 10 `curl` calls run in a loop
mtr output ICMP client to host.txt (couldn't run TCP due to firewall restrictions)
mtr output TCP host to client.txt"

Amazon EC2	"Re: Ideas for debugging occasional slow TCP sessions
I was able to also use iperf3 to run 10 simultaneous TCP sessions between the server and my client and transfer data. On average, 2 sessions will be slow while the other 8 are fast throughout the duration of the 10 second test. This is only when sending data from AWS to my machine (using the --reverse option of iperf3). When I send the data to AWS, all sessions have similar performance."

Amazon EC2	"Question Regarding Notification of Reserved Instance Reservation Retirement
Is there a way to have AWS notify an account holder, etc. of a Reserved Instance reservation that is retiring?  Had one retire on us without any apparent warning, no notification.  I'm talking about ones that retire due to expiration of the reservation agreement, not due to host issues."

Amazon EC2	"Re: Question Regarding Notification of Reserved Instance Reservation Retirement
anyone?"

Amazon EC2	"Re: Question Regarding Notification of Reserved Instance Reservation Retirement
No one interested oh well"

Amazon EC2	"Re: Question Regarding Notification of Reserved Instance Reservation Retirement
Love how there is no response.  These forums suck."

Amazon EC2	"Reserved instance expiration notification
At some point in the past I would receive email messages when one of my reserved instances would be expiring.  I no longer receive these emails.  Is there an option in my account to re-activate these types of alerts?  If the feature was removed, will it be added back at some point?"

Amazon EC2	"Re: Reserved instance expiration notification
Love how there is no response =)"

Amazon EC2	"Cannot rdp to new instance
Hello - I have just created a new instance that I believe has the correct vpc settings but I am getting the dreaded ""Remote Desktop Can't Connect"" message ...

I have gone through all the troubleshooting steps and as far as I can tell, its set up correctly  - any ideas on where to go next?

Thanks

Tracy

instance ID i-227dabe4"

Amazon EC2	"Re: Cannot rdp to new instance
Hello,

Thank you for the post.

I took a look at the instance: i-227dabe4 and found that the route table: rtb-a96908cd associated with the subnet: subnet-31e15a55 of this instance doesn't have a route via the Internet Gateway (IGW). This is the reason you are unable to connect to your instance: i-227dabe4.

In order to resolve this issue, could you please follow the steps below:

Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.
In the navigation pane, choose 'Route Tables', and then select the route table: rtb-a96908cd.
In the 'Routes' tab, choose 'Edit'.
Choose 'Add another route', for 'Destination' enter 0.0.0.0/0, and then select a target as the Internet Gateway (IGW) for 'Target' and then click 'Save'.


Once you add the route in the route table, you should be able to connect to the instance. 

For more information about 'Adding and Removing Routes from a Route Table', please refer to this documentation: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#AddRemoveRoutes

I hope the above information helps.

Regards,
Nikhil"

Amazon EC2	"Internal communication between two apps, same instance
Hello, 
I have an ubuntu instance that hosts a backend app (using strongloop) and a web page (using apache). The backend instance does not need to be reached externally, only internally by my web page. The problem is, when I try to reach the backend, by calling ec2-xx-xx-xxx-x.us-west-2.compute.amazonaws.com, in port 3000, it works but only if I open port 3000 to the world. 

That is not something I desire, I want to block port 3000 to the world and only allow communication to the app within in the same instance. I have tried setting a custom TCP rule allowing traffic on port 3000 only for the same security group, I also have specified the internal and external IP's of the instance, but still the port remains blocked. 
Is there something I'm missing?
Thanks."

Amazon EC2	"Instance do not stop
Hello,

I have a problem with instance i-5e6ce214 that I can not stop. It crashed (more then 1 hour ago) and since I try to do stop instance / forced stop instance - it stay anyway in ""stopping"" state.

Can you please help me?

Best regards"

Amazon EC2	"Re: Instance do not stop
Hello,

The underlying host experienced an issue that prevented your instance from completely stopping. Your instance is now stopped. You may start your instance again at a time that is convenient for you.

Regards,
Timothy"

Amazon EC2	"Have to constantly reboot instance. Says Wordpress High Status check failed
Not sure what this means but this is what I'm getting in emails under CloudWatch. Please help!!

Alarm Details:

Name:                       Wordpress-High-Status-Check-Failed-Any-
Description:                Created from EC2 Console
State Change:               OK -> ALARM
Reason for State Change:    Threshold Crossed: 2 datapoints were greater than or equal to the threshold (1.0). The most recent datapoints: http://1.0, 1.0.
Timestamp:                  Tuesday 03 May, 2016 13:04:39 UTC
AWS Account:                268352097005


Threshold:

The alarm is in the ALARM state when the metric is GreaterThanOrEqualToThreshold 1.0 for 60 seconds. 


Monitored Metric:

MetricNamespace:            AWS/EC2
MetricName:                 StatusCheckFailed
Dimensions:                 InstanceId = i-fb250f7b
Period:                     60 seconds
Statistic:                  Average
Unit:                       not specified


State Change Actions:

OK: 
ALARM: arn:aws:sns:us-east-1:268352097005:Wordpress-Problem
INSUFFICIENT_DATA:"

Amazon EC2	"Re: Have to constantly reboot instance. Says Wordpress High Status check failed
Hello, 

Your ec2 instance appears to have failed health checks a few times intermittently throughout the past 24 hours. 

Taking a look at CPU utilization, I see CPU spikes around the same times this occurs, and it looks as though the instance restarts and then recovers. 

It'd be wise to take a look at your OS and application logs during these times frames to get an idea of what is occurring prior to these restarts. It doesn't look like CPU utilization is getting pegged, but memory utilization may be reaching it's limit. 

Regards,
Nick"

Amazon EC2	"Re: Have to constantly reboot instance. Says Wordpress High Status check failed
Nope that does not do anything. Basically I am being told that my ports are opened to the public. 
Attached a screen shot as to what I set the ports to. Please let me know if this is correct. That is my private IP address. Does it need to be the public IP address? thank you"

Amazon EC2	"OPENVPN issue: EC2 ubuntu tunneling to Remote Server with redirect-gateway
Dear community,

I am running an ubuntu server on an EC2 instance which I am accessing via putty ssh.
I have to connect to a remote server via VPN to gain secure access to their database.

I succeeded in setting up the tunnel via OPENVPN (or at least I think so) - however, when then tunnel is set active, I lose access to my own EC2 server. The only way to get it back is to reboot via AWS Mgmt. Console.

After a bit of research I found out that the remote server configuration forces the client to tunnel all traffic through the VPN through the following directive in the client.opvn-file:
""redirect-gateway def1""

Next thing I find during my investigation is the following explanation during server configuration regarding this directive:
+""# If enabled, this directive will configure

all clients to redirect their default
network gateway through the VPN, causing
all IP traffic such as web browsing and
and DNS lookups to go through the VPN
(The OpenVPN server machine may need to NAT
the TUN/TAP interface to the internet in
order for this to work properly).
CAVEAT: May break client's network config if
client's local DHCP server packets get routed
through the tunnel.  Solution: make sure
client's local DHCP server is reachable via
a more specific route than the default route
of 0.0.0.0/0.0.0.0.""+


So, my question finally is:
How do I solve that last step (local DHCP server) so that my EC2 instance is still reachable for me? Second question would be whether I can circumvent all traffic being tunneled through this VPN as I will have to connect to various networks at the same time and get data from them?

Any help and suggestions would be highly appreciated. My brain and eyes are smoking from all the googling.

Cheers
Martin"

Amazon EC2	"Re: OPENVPN issue: EC2 ubuntu tunneling to Remote Server with redirect-gateway
Found the solution myself - in any case:
https://community.openvpn.net/openvpn/wiki/IgnoreRedirectGateway"

Amazon EC2	"JavaScript and AJAX snippet metadata via HTTPS protocol
Hi Everybody,

Just ran into a big problem. 

I wrote a Java Script snippet (AJAX) which I can place into a customer's website to capture and re-route the meta data from incoming web inquiries to a database, which is hosted in another server. 
After the customer's website got updated to HTTPS, the snipped does not work anymore and I am in big trouble. Can anybody help? 

Here some more details: 

Question:

At Google Chrome browser, it’s shown ""This page is insecure (broken HTTPS).""
""SHA-1 Certificate” “The certificate for this site expires in 2017 or later, and the certificate chain contains a certificate signed using SHA-1.""
""Certificate Error” “There are issues with the site's certificate chain ( net::ERR_CERT_COMMON_NAME_INVALID ).""
Also, “Host name mismatch error on Google Chrome” browser.

The certificate CN (COMMON NAME) is ip-10-147-2-17.ap-southeast-1.compute.internal
How to update CN (COMMON NAME) from “ ip-10-147-2-17.ap-southeast-1.compute.internal ” to “ trc.mx ” in certificate file?

How to fix an error message: ""your connection is not private on Google Chrome"" browser?

How is CN (COMMON NAME) related configuration to AWS ELB (Elastic Load balancing) and cloudfront with using HTTPS protocol?

It has been changed from HTTP to HTTPS protocol at the Server for JavaScript and AJAX snippet metadata. 
How to affect the mobile device browser result of JavaScript and AJAX snippet metadata via HTTPS protocol with  “Host name mismatch error“ ( net::ERR_CERT_COMMON_NAME_INVALID ) security certification installation?

PS. COMMON NAME “The fully qualified domain name for your web site. This must match the domain name that users see when they visit your site, otherwise certificate errors will be shown.”errors will be shown.”

Hope to get some feedback soon.

Edited by: Alfons Futterer on May 19, 2016 6:36 PM"

Amazon EC2	"Unable to connect on port 25
Hi,

We have recently set up an EC2 instance for which we want to accept incoming connections on port 25. We have completed the form at the following link and received a response from the AWS team to say that our request has been approved.
https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

Our security group settings include...
Inbound
SMTP    TCP    25    0.0.0.0/0

And testing that the instance is listening on port 25 shows...

netstat -an | grep 25

tcp    0    0 127.0.0.1:25    0.0.0.0:*    LISTEN

However, when we run... telnet server-address 25 ...we are unable to connect. Is there something else needed to open up connections on this port?

Our instance ID is: i-09f2e76b6b70097a0

Thanks for your help."

Amazon EC2	"Re: Unable to connect on port 25
Hello,
I can confirm that your request was successfully approved and set up.
From an AWS perspective it's all fine (Security Groups and Network ACLs)
It seems that your mail server/application  is not correctly binding the service with the private IP address (or it's not anyway listening an all available IPs)

regards
Ale"

Amazon EC2	"Re: Unable to connect on port 25
Ale,

Thanks for your help. After reviewing your suggestion, I updated sendmail to listen to the private IP address of the EC2 instance (instead of 127.0.0.1) and it all worked!

Thanks again."

Amazon EC2	"Re: Unable to connect on port 25
Hello 

I am facing the same issue with my instance.

I have configured sendmail.cf with the elastic IP as below

O DaemonPortOptions=Port=smtp,Addr=52.26.117.231, Name=MTA
O ClientPortOptions=Family=inet, Address=52.26.117.231

However still i cannot telnet from remote host. I have added a loopback ip on my sendmail network as below

lo:0: flags=201<UP,LOOPBACK,RUNNING,NOARP>  mtu 65536
        inet 52.26.117.231  netmask 255.255.255.255
        loop  txqueuelen 0  (Local Loopback)

Can you let me know how you solved your issue. I have configured security groups to allow SMTP from all sources."

Amazon EC2	"Re: Unable to connect on port 25
Hi ahsan2011,

Sorry for a slow response, I didn't get notified of your post. Hopefully you've fixed this by now but I found I had to use the private IP address of the EC2 instance in the sendmail config. The ElasticIP might not be recognised in a similar way that 127.0.0.1 wasn't recognised for us.

Hope that helps."

Amazon EC2	"Amazon Linux: Is there a way to detect if the instance requires a reboot?
Hi,

is there any way to detect if a Amazon Linux instance requires a reboot? (for example after system updates). Some other distros creates /var/run/reboot-required or similar, but i cant find anything like that for RHEL-based distros.

I found this from RHEL: https://access.redhat.com/solutions/27943 (i cut & pasted a truncated chunk below)
-------------------------------------(cut)---------------------------------
Each of the following packages requires a reboot in order to be fully-utilized. This list is for informational use and subject to change at Red Hat's discretion.

Red Hat Enterprise Linux 7:
kernel
glibc(*)
linux-firmware
systemd
udev


Typically it is sufficient to restart services after applying a non-security glibc erratum (i.e. RHBA rather than RHSA). The restarted services will immediately make use of the new glibc runtime. Until that time, such services will continue to use the earlier version of those libraries, having been loaded by the dynamic linker at service startup. Note that, depending on the nature of the bug being fixed, it may not be necessary to immediately restart the service. Lastly, disk space will continue to be consumed by the old runtimes until all packages referencing them close their open file descriptors allowing the kernel to free the reserved storage.

-------------------------------------(cut)---------------------------------
An Autoscaling group with the latest Amazon Linux AMI + 'yum -y update' could need a reboot for some packages.

To always reboot after an update will make bootstrapping a little harder.

Is there any best practices for this? 

Best Regards

//Mike"

Amazon EC2	"Cannot SSH into my instance
I launched an EC2 instance, at the beginning I could ssh into it, but after a few minutes the instance was not accessible anymore. The instance is ec2-52-38-240-122.us-west-2.compute.amazonaws.com and this has happened to me quite a few times. Can anyone help on this? And I wonder how to avoid this situation later."

Amazon EC2	"ImageMagick Is On Fire — CVE-2016–3714 AWS AMI 2016.03
ImageMagick have a security alert CVE-2016–3714

You can see details on https://imagetragick.com/

It seems AWS AMI 2016.03 is not patched.

Do you think to update the ImageMagick policy.xml soon ?

Edited by: kkbb2014 on May 4, 2016 1:36 PM"

Amazon EC2	"Re: ImageMagick Is On Fire — CVE-2016–3714 AWS AMI 2016.03
Hi,

AWS is aware of CVE-2016–3714 and will be updating the ""ImageMagick"" package available in the Amazon Linux repositories as soon as possible. When the new package is available, a bulletin will be posted on the Amazon Linux AMI Security Center: https://alas.aws.amazon.com.

Customers can update the ""policy.xml"" file used by ImageMagick for their own EC2 instances as described at imagetragick.com. Customers may also wish to inspect the ""magic bytes"" of any images provided from untrusted sources to ensure that the image being processed is not malicious. Magic bytes are bytes at the start of the file that indicate the file type. Examples are ""FF D8"" for JPEG, and ""89 50 4E 47 0D 0A 1A 0A"" for PNG. A list can be found on the Wikipedia page here: https://en.wikipedia.org/wiki/List_of_file_signatures. 

Best Regards,
Omar S."

Amazon EC2	"Re: ImageMagick Is On Fire — CVE-2016–3714 AWS AMI 2016.03
Hi

It looks like a new version of ImageMagick is avalable.
https://alas.aws.amazon.com/ALAS-2016-699.html

I tried to update. But it did not change.
Is update released only for Amazon Linux  2016.03?

$ cat /etc/system-release
Amazon Linux AMI release 2015.09
 
$ sudo yum update ImageMagick
読み込んだプラグイン:priorities, upgrade-helper
amzn-main/2015.09                           | 2.1 kB     00:00
amzn-updates/2015.09                       | 2.3 kB     00:00
947 packages excluded due to repository priority protections
No packages marked for update"

Amazon EC2	"Re: ImageMagick Is On Fire — CVE-2016–3714 AWS AMI 2016.03
Hi,

Updated package for Imagemagick is available for Amazon Linux AMI 2015.09 also.

Verified on my test instance:


cat /etc/system-release

Amazon Linux AMI release 2015.09


yum list ImageMagick

Loaded plugins: dkms-build-requires, priorities, update-motd, upgrade-helper
2 packages excluded due to repository priority protections
Installed Packages
ImageMagick.x86_64                                             6.7.8.9-10.18.amzn1                                              @amzn-main  
Available Packages
ImageMagick.i686                                               6.7.8.9-13.19.amzn1                                              amzn-updates
ImageMagick.x86_64                                             6.7.8.9-13.19.amzn1                                              amzn-updates

Could you please check the version of the ImageMagick package installed in your instance?


rpm -qa ImageMagick


Regards,
Jayakrishnan L."

Amazon EC2	"Re: ImageMagick Is On Fire — CVE-2016–3714 AWS AMI 2016.03
Hi

(sorry for the late responce)

here is the results
$ cat /etc/system-release
Amazon Linux AMI release 2015.09
 
$ sudo yum list ImageMagick
読み込んだプラグイン:priorities, upgrade-helper
947 packages excluded due to repository priority protections
インストール済みパッケージ
ImageMagick.x86_64                      6.7.8.9-10.18.amzn1                      @amzn-updates
利用可能なパッケージ
ImageMagick.i686                        6.7.8.9-10.18.amzn1                      amzn-updates
 
$ sudo rpm -qa ImageMagick
ImageMagick-6.7.8.9-10.18.amzn1.x86_64


 6.7.8.9-13.19 don't appeared

Edited by: sparkgene on May 19, 2016 12:00 PM"

Amazon EC2	"Amazon EC2 Instance failed to start with error 1/2 checks passed and Route
Hi All,
My problem is something similar to this https://forums.aws.amazon.com/thread.jspa?threadID=190237 

I’m facing a strange situation and this has happened 3rd time when I created Amazon EC2 t2.micro instance. 
I’ve installed ubuntu and did some configuration on server such as SSL and postfix installation.
After any new server configuration I always stop instance and restart to check if it hasn’t broken anything. It always worked. Then I stop instance for few days and then it doesn’t start.
As mentioned in the Amazon forum, I didn’t install any firewall. I had elastic IP which I detached and still not able to start.
Reboot didn’t work either.

I’m not sure what else has been causing this issue.

Detaching and attaching volume process will be a bit too much for me. Can anyone shed some light on what exactly I'm doing wrong to screw these instances? I've tried it 3 times and it's always same result. 

==========
Below is the system log:
===============================
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 06:84:4f:86:fc:53 |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2016-05-18 21:33:28,464 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
============================="

Amazon EC2	"EC2 Instance wont start MySQL and allocate PTY
Suddenly my website stored in an EC2 Instance stopped working. I opened the terminal, tried to connect and it showed the following message:

PTY allocation request failed on channel 0 error message

I've read that I should put -T when trying to connect to allocate PTY, but it won't work.

It actually connects to the instance, but I can't open any files with nano and MySQL won't start at all.

Now I have a database at MySQL which I really cannot lose. How can I activate again my MySQL? I think what might be causing this are corrupt files. Are there any commands where I can make a full repair on the instance or MySQL?

I'll be very glad with any help cause I'm a bit desperate because of this error.

Thanks a lot!"

Amazon EC2	"Re: EC2 Instance wont start MySQL and allocate PTY
Hello,

I was just researching regarding this error. As per the below link:

http://serverfault.com/questions/351162/ssh-fails-pty-allocation-request-failed-on-channel-0

It suggests that you try unmounting /dev/pts and mounting it back again. Please try this and let me know if it fixes the issue.

Thanks,
Anup"

Amazon EC2	"clarification regarding Windows Server EC2 payment
Hi guys, 

I just want to know exactly how the payments work on windows server EC2. 

I need a VPS to run stuff on. 
I want to use is for an hour a week. 
If I create a Windows Server using EC2 and login once a week - Do I get charged for all the time the instance exists? Or do I get charged for only the time logging in the server and the machine is working? 

I had a Linux server for hosting my website and it had to be running all the time. So I got charged for as long as it's up. 
I am just not sure about how it works with a Windows Server where I need to use it intermittently during the week."

Amazon EC2	"Re: clarification regarding Windows Server EC2 payment
Hello wal123 ,

It would be the same for Windows as well. You will be charged as long your instances are running. There are also storage charges when you just ""stop"" the instances. Only ""Terminating"" the instance would delete the resource from your account and you would not be charged for that. You can find more information regarding this in the below link:

http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/checklistforunwantedcharges.html#checkec2instances

Please let me know if you have any questions regarding this.

Thanks,
Anup"

Amazon EC2	"Cross-Zone Load Balancing aws-cli/1.10.27  ""Non Default VPC""
I'm confused..

aws elb create-load-balancer does not have an option to enable or disable cross zone load balancing, but you can add 2 subnets (which are in different availability zones).. Does this in essence provide cross zone load balancing?

And then there is a separate call (very weird)

 aws elb enable-availability-zones-for-load-balancer , which wants you to specify your AZ's, yet in the create-load-balancer above we have already provided 2 subnets in differing Az's..

Now if I totally ignore the enable-az-lb command and just do what I think is right by providing 2 subnets in different AZ's from the create-load-balancer command, the console shows that cross-zone load balancing is disabled..

Yet if I attempt to run enable-availability-zones-for-load-balancer I get an error 

""A client error (ValidationError) occurred when calling the EnableAvailabilityZonesForLoadBalancer operation: You cannot enable Availability Zones for ELBs in a non default VPC""

I don't use a default VPC (IP schema is not right!)..

So am I good with the 2 subnets in differing AZ's, providing the cross-zone load balancing, and I should ignore the console??

Also why does the console allow me to enable it, yet the aws:cli borks ??  

Kind of confused

Or, do you really have to run a modify after a create statement, seems silly to continue to have to run differing commands, create an ELB, and then you have to run a command to enable healthchecks , should be embedded in the ELB command, and then maybe this where I have to not only create an ELB, create health checks but also modify said newly created ELB?

 aws elb modify-load-balancer-attributes --load-balancer-name ""prod-VIP"" --load-balancer-attributes CrossZoneLoadBalancing={Enabled=true} 

Tory

Edited by: tmblue-ghs on May 17, 2016 10:28 AM"

Amazon EC2	"Re: Cross-Zone Load Balancing aws-cli/1.10.27  ""Non Default VPC""
Ahh based on further reading there was some confusion on my part.

cross zone load balancing 

link: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/how-elb-works.html

So I guess the question is now, what is the benefit of cross-zone replication,since it seems that AWS is already bringing up an ELB in both of my AZ's, and that ELB will handle requests for nodes in that AZ.. But I'm still confused on the benefit, negative of enabling cross-zone replication?"

Amazon EC2	"Re: Cross-Zone Load Balancing aws-cli/1.10.27  ""Non Default VPC""
Hello. The difference is whether requests are distributed evenly among the Availability Zones or the instances. Suppose you have 2 instances in one Availability Zone and 10 instances in another. Without cross-zone load balancing, the 2 instances would receive as many requests as the 10 instances. With cross-zone load balancing, the requests will be distributed among all 12 instances without regard for their Availability Zone.

Julie"

Amazon EC2	"tags for IPs in security groups
Hi,

I'd like to be able to label/tag the various IP addresses in my security groups.  For instance, I may be traveling for the day and add the IP of my temporary location to a security group in order to ssh into my instance.  Hopefully I'll remember to remove it the next day.   What's more problematic are longer term, but not permanent IPs.  When someone is no longer with our company, I'd like to be able to remove their IPs without having to maintain a separate list of which IP belongs to whom.

Is there something I'm missing to do this?  Are IP addresses taggable?  How do others deal with this?

Thanks!

Eileen"

Amazon EC2	"Re: tags for IPs in security groups
Hello reillye6, 

I have submitted a feature request for this feature.

Since this is a feature request I do not have an ETA on this.

All the new features will be announced at http://aws.amazon.com/about-aws/whats-new/

Regards,
Baseer M."

Amazon EC2	"Re: tags for IPs in security groups
Thanks Baseer.

Is there a way to follow enhancement requests?

Any suggestion as to how others might do this?"

Amazon EC2	"Re: tags for IPs in security groups
Is there a way to upvote this feature request?
It is really an everyday hassle, not being able to label individual security group entries."

Amazon EC2	"Re: tags for IPs in security groups
+1000"

Amazon EC2	"Re: tags for IPs in security groups
+1 as well, this would really help putting more context to each of the IPs."

Amazon EC2	"Unable to connect to Windows Instance using RDP!! - Please help
I created a free t2.micro instance of Microsoft Windows Server 2012 R2 Base - ami-63489d00.  I am unable to connect to the instance after downloading the remote desktop file.  I have ensured that inbound RDP connections are allowed - in the security settings. And also ensured that no firewall on my networks blocks the connection. 

I keep getting the error - ""Remote Desktop can't connect to the remote computer for one of the following reasons : 1) Remote access to the server isn't enabled
2) The remote computer is turned off
3) The remote computer isn't available on the network""

I'm attaching the screenshot of the error.

PLEASE HELP ASAP! THANKS IN ADVANCE!"

Amazon EC2	"Re: Unable to connect to Windows Instance using RDP!! - Please help
Hello Nayantara.

I found two instances running under your account. I'm assuming you're referring to the only Windows instance running with instance ID  i-00cce88e.

I attempted to replicate your problem and attempted to RDP to your instance and was greeted with the login prompt. There doesn't seem to be any resource issues from the AWS side.

You would want to test the connectivity between your local machine and the instance itself. You could perform a telnet from your command line to the RDP port of the instance and see if you're able to reach.

I would also recommend you check your antivirus/firewall or something on the upstream to ensure your outgoing connections to the instance are not blocked. One additional thing I would check is to allow all the ICMP traffic like you did for RDP and attempt to ping it.

Please let me know if you have any questions regarding this.

Thanks,
Anup"

Amazon EC2	"Yum from private subnet broken - help
I am running instance i-07e37f26dbb1f115c on a private subnet.  I direct 0.0.0.0/0 to instance i-07530fbe97a7b3cc2, which is on a public subnet and provides NAT for the private subnet.

I can ping google.com without a problem.  When I run a yum update however I get the message: ""Could not retrieve mirrorlist http://repo.us-west-2.amazonaws.com/latest/main/mirror.list error was
12: Timeout on http://repo.us-west-2.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10001 milliseconds')""

Why isn't yum working?

Edited by: whydoessomeonealreadyhavemynickname on May 18, 2016 11:44 AM"

Amazon EC2	"ELB seems to be causing users to get logged out of my app periodically
I am using the ELB to route traffic fromthe web to 2 webservers.  Here are the settling on the ELB:

80 (HTTP) forwarding to 80 (HTTP)
    Stickiness: LBCookieStickinessPolicy, expirationPeriod='0'
443 (HTTPS, IAM Certificate: wild.dropship.com) forwarding to 443 (HTTPS)
    Backend Authentication: Disabled
    Stickiness: LBCookieStickinessPolicy, expirationPeriod='0'
Idle Timeout: 3600 seconds
Connection Draining:Enabled, 300 seconds

I have been running a test where my page (behind a login) refreshes every 60s.  I have a subdomain pointed directly at a webserver, where another subdomain is pointed at the loadbalancer.  I log in and start the refreshing and session at the same time.  After a variable period of time (anywhere between 40m and 2h19m) the subdomain being routed through the ELB ends up at the login screen.  The subdomain going directly to the server has never logged itself out.  This leads me to believe that I have either misconfigured the ELB, or there is an issue with the ELB.  I hope it is just a misconfiguration issue.  Interestingly, I thought that this might be related to ELB stickiness, but the request didn't end up at the other server in the cluster when the login page came back up.

I tried using the ""Disable stickiness"" setting, but that led to the site going into infinite redirects.  I also tried the ""Enable Application Generated Cookie Stickiness"" setting, but that didn't seem to work either (probably because I couldn't seem to find any helpful docs about it's intended implementation with an application).  I am running a PHP app, so I assumed that I could just use the ""PHPSESSID"" cookie, but that broke my app as well.  

Any help here would be greatly appreciated.  Thanks!"

Amazon EC2	"Re: ELB seems to be causing users to get logged out of my app periodically
I pulled 1 of the servers out of the ELB rotation to see if that changed any results and I still got the same issue.  The session lasted a little over an hour."

Amazon EC2	"Re: ELB seems to be causing users to get logged out of my app periodically
Turns out that there was a misconfiguration in PHP."

Amazon EC2	"i-f3043fb2 stuck in shutting down state due to host hardware failure
Hi,
Just received an email from amazon that the hardware hosting my instance had died and likely killed the instance. Sure enough it has. Tried to stop the instance but it won't shut down, even with forced shutdowns.
Instance i-f3043fb2 .

Can you please kick it so that it shuts down?

Thank you,
Colin."

Amazon EC2	"Re: i-f3043fb2 stuck in shutting down state due to host hardware failure
Hi,

Sorry to hear about your issues with the instance. I've taken a look at it and it seems now the instance has successfully stop/started so it's on fresh, healthy hardware. 

Best Regards,
Omar S."

Amazon EC2	"Windows 2012 Standard on Us-West-2c is not activating Windows
Case 1743607821
Instance ID: i-9e93b3ac

The Windows VM systems are suppose to be activated when they are created, but this system we see a message that we need to Activate Windows. 
I followed the directions on the knowledge base to try to get this system activated, this did not help. 
What I have discovered is the issue seems to be the system is unable to reach the KSM Server to perform the activation. 
Looking at the location the knowledge base showed discovered the KSM Server's IP address is the same as the systems that did activate. 
Is there something going on in the backend that is causing this VM's Instance ID: i-9e93b3ac not to be able to reach the KSM Server?"

Amazon EC2	"Problem releasing an Elastic IP address
Hi,

I am unable to release/delete an Elastic IP that I have created : 52.51.105.117
This has an allocation ID of eipalloc-215d2e44

When I try disassociate the address I get the following error :

Are you sure that you wish to disassociate this Elastic IP Address?
Public IP	52.51.105.117
Instance ID	
Network interface ID	eni-d0e54d9a
""An error occurred while attempting to disassociate the IP address
You do not have permission to access the specified resource."" 

From what I have read, it seems that only Amazon can disassociate or delete this resource ?

Thanks

Hafiz"

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hello Hafiz,

I am seeing the Elastic IP  52.51.105.117 as unassociated, can you kindly confirm on your end? I understand you no longer need this resource. Please try to release the address. If you encounter any further issues, let us know at your earliest convenience.

Regards,
Mohsin"

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hi Mohsin,

From my end I see the following :
""
Address: 52.51.105.117
Elastic IP
52.51.105.117
Network interface ID
eni-d0e54d9a
Instance
Private IP address
172.31.19.250
Scope
vpc
Network interface owner
946497531370
Public DNS
-
Allocation ID
eipalloc-215d2e44

""

When I try disassociate, I see the following error :

""Disassociate Address
Are you sure that you wish to disassociate this Elastic IP Address?
Public IP	52.51.105.117
Instance ID	
Network interface ID	eni-d0e54d9a
An error occurred while attempting to disassociate the IP address
You do not have permission to access the specified resource."""

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hi,

Are you logged in with a root account? If not, does the IAM user you are using have enough permissions to disassociate the IP?

Regards,

Souza S"

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hi Souza,

I am logged in as the root user. 

I have read elsewhere on this forum that Elastic IP's can only be released by AWS ?

Please check the following post :

https://forums.aws.amazon.com/thread.jspa?messageID=718041&#718041

Thanks

Hafiz"

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hello Hafiz,
I see the EIP  52.51.105.117 as currently unassociated in your AWS account ID, so your root account should have the permission to release it.
Sometimes it happens that EIP cannot be released due to related Reverse DNS record, that seems not to be your case and beside this you get an explicit error message of permission deny
Anyway, I have engaged our service team to work on this and I will update you as soon as I receive a feedback from them."

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hi Hafiz,

The Elastic IP 52.51.105.117 cannot be released because it's currently attached to a NAT Gateway, nat-0273f9dae4f8f6f6d. You will need to delete this NAT Gateway before you are able to release the EIP.

Best Regards,
Omar S."

Amazon EC2	"Re: Problem releasing an Elastic IP address
Hi,

After deleting the NAT gateway, I have managed to delete the Elastic Ip

Many thanks for your help

Best Regards

Hafiz"

Amazon EC2	"stuck instance, will not stop
Our instance instance won't stop.  It has been stuck on stopping for a long time.

i-cb1228b1"

Amazon EC2	"Re: stuck instance, will not stop
Hi,

It appears that instance i-cb1228b1 has successfully stopped, and then started. I apologize for the inconvenience you experienced while the instance was stuck stopping but it seems like everything is working ok now.

Best Regards,
Omar S."

Amazon EC2	"EC2 SOAP Deprecation
TL;DR;
How do I verify that EC2 CLI is not using SOAP?


I've inherited a project from my predecessor which was using EC2 API tools version 1.6.7.4
We received the SOAP depreciation notification a while back

I inspected the configuration and it appeared to me that it was already configured to use AWS_ACCESS_KEY and AWS_SECRET_KEY rather than the depreciated authentication method (EC2_PRIVATE_KEY / EC2_CERT ), which I thought would automatically use the Query API rather than SOAP.
http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/set-up-ec2-cli-windows.html

I've upgraded to version 1.7.5.1 and confirmed that the API is working. I've read that SOAP is no longer even implemented in this version of the API. However, considering that the deadline is fast approaching and I'd prefer not to find out the hard way;  I'd like some validation that I'm compliant, but short of inspecting TCP traffic I don't see any way to confirm it.

I appreciate any guidance or reassurance anyone can offer.

Thanks;

Steve L."

Amazon EC2	"Re: EC2 SOAP Deprecation
Hello Steve,
SOAP API are deprecated and no longer supported since 1 December 2015 as per our documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/using-soap-api.html

Hope this helps,
kind regards,
Alw"

Amazon EC2	"Re: EC2 SOAP Deprecation
Thank you for taking the time to respond to my question.

I understand that SOAP is depreciated.

What I am trying to determine is if I can continue to use the EC2 CLI tools described here:

http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/Welcome.html

... of if I will have to implement the AWS SDK"

Amazon EC2	"Amazon EC2 server full, and I can't resize partition.
Hi there. My volume of 8GB got full. I created a snapshot of it and later a volume from the snapshot. However, I can't use it because for some reason there is an error. The server is in linux (Debian 8.1)

If I run the command df -h, and hats what it shows. The server if full as far as I understand:

Filesystem Size Used Avail Use% Mounted on
/dev/xvda1 7.8G 7.3G 76M 100% /
udev 10M 0 10M 0% /dev
tmpfs 200M 4.3M 196M 3% /run
tmpfs 500M 0 500M 0% /dev/shm
tmpfs 5.0M 0 5.0M 0% /run/lock
tmpfs 500M 0 500M 0% /sys/fs/cgroup

So I created a new volume of 100GB, but thats what it shows:

NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda 202:0 0 100G 0 disk 
ââxvda1 202:1 0 8G 0 part /

I tried to run the command sudo resize2fs /dev/xvda1 to resize and use the 100GB but it says:

admin@ip-172-31-26-254:~$ sudo resize2fs /dev/xvda1
resize2fs 1.42.12 (29-Aug-2014)
The filesystem is already 2096128 (4k) blocks long. Nothing to do!

So I looked for help in stack overflow and found a guide for the partitioning, and encountered the following error:

fdisk /dev/xvda (the disk name, not your partition) This enters into the fdisk utility.

u #Change the display to sectors
p #Print info
d #Delete the partition
n #New partition
p #Primary partition
1 #Partition number
2048 #First sector
Press Enter to accept the default <------- I type nothing, and then I use 100GB
p #Print info
a #Toggle the bootable flag
1 #Select partition 1
w #Write table to disk and exit
Now, reboot your instance: reboot

After it comes back do:
resize2fs /dev/xvda (the name of your partition, not the block device)
And finally verify the new disk size: df -h

However, everything looks ok, until I hit w:

`Command (m for help): w
The partition table has been altered.
Calling ioctl() to re-read partition table.
Re-reading the partition table failed.: Device or resource busy

The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8).
`

I try to reboot the server, but then it is not responding. I think I am close to the solution, but I am missing something. Any ideas?"

Amazon EC2	"Networking performance EC2
Hi,

We have a t2.small and whens tested connectivity with google (ping 8.8.8.8) on server occurs many packet loss.

Anyone can help ??"

Amazon EC2	"Re: Networking performance EC2
Hello, 
I see that your instance ID i-16d6cc95 is a t2.small in sa-east-1 and it was launched 17 hours ago.
Are you still facing the issue?
I see that there were partial status check failed that correspond to CPU spikes accordingly to Cloud Watch metrics:

CPU:
https://console.aws.amazon.com/cloudwatch/home?region=sa-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2016-05-13T13%3A23%3A30.814Z~2016-05-18T13%3A23%3A30.814Z~Average~300~InstanceId~i-16d6cc95

Status Check:

https://console.aws.amazon.com/cloudwatch/home?region=sa-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed~2016-05-13T13%3A23%3A30.814Z~2016-05-18T13%3A23%3A30.814Z~Average~300~InstanceId~i-16d6cc95

Please have a look and let us know.
Kind regards
Ale"

Amazon EC2	"Re: Networking performance EC2
Hey,

Thanks for answer me.
Yes i'm still problem, already reboot the instance e change Elastic IP.

It's just networking performance because occurs on PING , processing CPU instance is ok. How can i resolve ?

Edited by: lrsantana on May 18, 2016 7:01 AM"

Amazon EC2	"Please help me create default VPC
Deleted it by accident. Please help me create a new default VPC. Thanks."

Amazon EC2	"Re: Please help me create default VPC
Hello,
I have re-created for you the Default VPC in your  ap-southeast-1 (Singapore) AWS region.
Please check for the same.

Kind regards
Ale"

Amazon EC2	"Network speed issues uploading to Glacier from AWS instance
Good morning,

we are currently in the process if moving your cloud backups from a third-party provider's S3 storage into our own Glacier storage via a C4.large instance, as the backups have to be decrypted first before being re-encrypted with a new password. 
This process is done by downloading batches of about 800-900GB of data at a time to the C4 instance and then re-uploading them into Glacier. Now, the download rates are fine (usually just a few hours at several dozen MB/s), however the upload takes absolute ages (several days at only a few KB/s). Like the current batch has taken more than 6 days and still isn't done. 
Speed isn't an issue when we upload from our premisses, where 1TB takes about 3-4 days at less than 6MB/s.
Has anyone encountered a similar issue? And is there any way we can speed this up?
Thank you!

Cheers,
Phil"

Amazon EC2	"CloudWatch INSUFFICIENT_DATA alarms but instance seems normal
Dear EC2 Team,

One of our instance (i-a4411e4e) started triggering CloudWatch INSUFFICIENT_DATA alarms in CPUUtilization checks a few weeks ago. The state usually returns to OK in 4 min after that. We can see 5-8 such alarms per day. 

If you look at the CPU load graph (attached) you will see that it is kind of intermittent.

We did not reboot the instance for 533 days already and it is operating normally. We did not see such problem before this. Could you please check what is wrong with the instance and what should we do.

Thanks,
Andrey.

{
  ""version"": ""1.0"",
  ""oldState"": {
    ""stateValue"": ""OK"",
    ""stateReason"": ""Threshold Crossed: 1 datapoint (20.64) was not greater than or equal to the threshold (85.0)."",
    ""stateReasonData"": {
      ""version"": ""1.0"",
      ""queryDate"": ""2016-05-13T14:38:19.041+0000"",
      ""startDate"": ""2016-05-13T14:33:00.000+0000"",
      ""statistic"": ""Average"",
      ""period"": 300,
      ""recentDatapoints"": [
        20.64
      ],
      ""threshold"": 85
    }
  },
  ""newState"": {
    ""stateValue"": ""INSUFFICIENT_DATA"",
    ""stateReason"": ""Insufficient Data: 2 datapoints were unknown."",
    ""stateReasonData"": {
      ""version"": ""1.0"",
      ""queryDate"": ""2016-05-13T16:04:19.035+0000"",
      ""statistic"": ""Average"",
      ""period"": 300,
      ""recentDatapoints"": [],
      ""threshold"": 85
    }
  }
}"

Amazon EC2	"Re: CloudWatch INSUFFICIENT_DATA alarms but instance seems normal
Still waiting for an answer from EC2 team. 

Thank you,
Andrey."

Amazon EC2	"Original AMI used?
We are about to purchase/renew Reserved Instances for EC2 instances running on our account. I am having trouble figuring out which reserved instances need to be purchased/renewed, because I cannot tell the difference between instances running Windows or instances running Windows + SQL Web.

Can you help us identify which instances below are running Windows and which ones are Windows + SQL Web?

i-03eb8566
i-0de3b472
i-1b2b4a60
i-26411047
i-2add47c5
i-43c5c1e3
i-89a737f6
i-a49792d9
i-ebc62497"

Amazon EC2	"Re: Original AMI used?
Hello, 

Generally speaking you can use the following steps to verify your AMI version:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/windows-ami-version-history.html#determine-instance-version

However this is only on instances running at least EC2Config service 2.1.19 and on AMIs created after 2013.11.13. 

In this case it looks like some of your AMIs are before that date, so I've manually retrieved this information for you:

i-03eb8566 - Microsoft Windows 2008 Datacenter 32-bit
i-0de3b472 - Microsoft Windows Server 2012 RTM 64-bit Base
i-1b2b4a60 - Microsoft Windows Server 2008 R2 SP1 Datacenter 64-bit
i-26411047 - Microsoft Windows Server 2012 RTM 64-bit Locale English with SQL 2012 Web
i-2add47c5 - Custom AMI of yours
i-43c5c1e3 - Custom AMI of yours
i-89a737f6 - Microsoft Windows Server 2012 RTM 64-bit Base
i-a49792d9 - Microsoft Windows Server 2008 R2 SP1 Datacenter 64-bit with SQL 2008 R2 Express and IIS
i-ebc62497 - Microsoft Windows Server 2008 R2 SP1 Datacenter 64-bit with SQL Server Web 2012 64-bit

Regards,
Nick"

Amazon EC2	"Re: Original AMI used?
Thank you so much!"

Amazon EC2	"ELB Surge Queue Length Inquiry
Hi,
I have an ELB that is currently receiving about 300k requests per minute... I have noticed I have consistent Surge Queue length values of somewhere between 30 - 300 (count) ... doesn't sound to bad for the number of requests I am receiving.. but I am not sure if I should worry about this metric at this level?

Is increasing the number of back-end servers the only way to reduce surge queue length? I am not very concerned about latency / response time with this service... so I don't mind requests being queued up a bit.

Thanks"

Amazon EC2	"Re: ELB Surge Queue Length Inquiry
Hi,

Thank you for the post.

Like you mentioned, the surge queue metric shows the requests being queued on the ELB. This happens when the backend instances are not accepting more requests and thus these requests get queued up at the ELB. This leads to latency.

If the request count goes over 1024, then these requests get dropped; which can be seen in the spill over count graph.

The backends may refuse to accept new request due to several reasons like over CPU utilization, max connections reached, application errors.

Requests being queued may cause latency, client experiencing high response time and if there are spill overs then requests are dropped.

The following link will give you more information on surge queue and sill over count metrics - http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/US_MonitoringLoadBalancerWithCW.html

Thank you,
Varun"

Amazon EC2	"Re: ELB Surge Queue Length Inquiry
Hello, 

I see that the post is 2 years old, but I find it very relevant to what I am experiencing. 

Recently one ELB is constantly failing. And by failing I mean:


Surge queue length goes to 1024 and requests cannot be processed anymore.
healthcheck fails
due to scaling up policies and the failures of the health check the ELB constantly scales up and down.


Any idea what may be the reason for such behaviour?

Thank you very much for any insights.

Dimitar."

Amazon EC2	"EC2 instance stuck in shutting down stage for more than 12 hours
Hello,
I have an EC2 instance that will not terminate.  It is currently in shutting-down phase and has been stuck there for around a day. Not sure what to do.
The instance id is: i-f413da32"

Amazon EC2	"Re: EC2 instance stuck in shutting down stage for more than 12 hours
Hello, 

I took a look at this instance and the underlying hardware was experiencing some issues which was preventing you from stopping the instance. 

We went ahead and manually cleared this for you. If you start this instance again it will spin up on new hardware and further issues shouldn't be seen. 

Regards,
Nick"

Amazon EC2	"EFS in Northern Virginia
Hi, 
According to this presentation EFS preview was available on the Northern Virginia Region but when I went to sign up for the preview, I now see that it is only available for the Oregon region. 

I'm wondering if EFS will be available for the Northern Virginia region soon or at the official launch date. I need to tie it in with AppStream which is only available there (or alternatively will AppStream ever be supported in the Oregon Region?)

Thanks!"

Amazon EC2	"Re: EFS in Northern Virginia
+1"

Amazon EC2	"service function chaining support in AWS cloud
I am trying to provide a POC (proof-of-concept) for a mobile Gi LAN infrastructure.
The idea is to provide multiple service functions.
Traffic is classified and then chained dynamically to different service functions.

The idea is illustrated by
https://datatracker.ietf.org/doc/draft-ietf-sfc-nsh/

Now, I do not expect the NSH implementation on AWS infrastructure, but is there any other similar mechanism to implement service chaining currently?"

Amazon EC2	"How do I get instances filtered by tags in the Java SDK?
Hi

I'm trying to use the Java SDK to get instances filtered by tags using the Filter objects in DescribeInstancesRequest. 

The documentation does not mention anything about in exactly what format and how the tag information  has to be formatted for the filters. 

Also I wanted to filter using multiple tags. Do I use multiple strings values (corresponding to the tags) in a single filter or do I use multiple filters? That's not clear either.

Suppose I have an instance with two tags  (key -> ""T1"", value->""V1"") and (key->""someprop"", value ->""somevalue""). How do I prepare the DescribeInstancesRequest to be able to get that specific instance.

Thanks in advance.

BMan"

Amazon EC2	"Re: How do I get instances filtered by tags in the Java SDK?
Try this

DescribeInstancesRequest request = new DescribeInstancesRequest();

List<String> valuesT1 = new ArrayList<String>();
valuesT1.add(""V1"");
Filter filter1 = new Filter(""tag:T1"", valuesT1);
List<String> valuesSomeprop = new ArrayList<String>();
valuesSomeprop.add(""somevalue"");
Filter filter2 = new Filter(""tag:someprop"", valuesSomeprop);

DescribeInstancesResult result = ec2.describeInstances(request.withFilters(filter1, filter2));
List<Reservation> reservations = result.getReservations();

for (Reservation reservation : reservations) {
	List<Instance> instances = reservation.getInstances();
	for (Instance instance : instances) {
		System.out.println(instance.getInstanceId());
	}
}

I wrote a little blog post about it:
http://www.javacloud.net/post/3359443141/get-aws-instances-filtered-by-tags

Edited by: Peter Hulsen on Feb 18, 2011 12:10 AM"

Amazon EC2	"Re: How do I get instances filtered by tags in the Java SDK?
Thanks Peter. As great as the SDK is, I wish it had examples for this kind of stuff."

Amazon EC2	"Re: How do I get instances filtered by tags in the Java SDK?
Great info, but, the link is broken -- javacloud.net and http://www.javacloud.net/post/3359443141/get-aws-instances-filtered-by-tags is linking to world.taobao.com, some kind of chinese-langauge ecom site."

Amazon EC2	"Instance Store Persistence
In the EC2 User's Guide (link below), it states ""Any data on an instance store volume is deleted when the instance fails or terminates (*except for data on the root device*)"".  Except for data on the root device?  Wouldn't any data on an instance-store root device also be deleted?  Can someone please clarify this?

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ComponentsAMIs.html"

Amazon EC2	"Cannot get ec2-import-instance to work in GovCloud
Has anyone successfully used the  ec2-import-instance tool in the GovCloud?  I am getting the following error:

ERROR: Unable to create signed manifest URL. Could not verify the region for bucket bucketname ; received error: com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: F37D66D6CF039EB1), S3 Extended Request ID: 4T6pZ9g3bEd3JwMgf+5lKKTexjAu5MHHlLERo8lkgdrlCf8pDTgfzrofzAvJ7ulDfMkk1BlfGbM= 

AWS tech support had me create a new access key and then rerun aws config on the instance.

Then they said that I needed to follow the import prereqs here:  http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

I created the role and policy, but nowhere in the document does it say where to attach it or how to use it. 

Has anyone done this and come up with a concise set of instructions? Can someone offer some guidance on what I need to do next?

Thanks in advance for any help!"

Amazon EC2	"Re: Cannot get ec2-import-instance to work in GovCloud
Ended up having to dd a volume from commercial cloud and scp it to govcloud. Then I could extract it and create an AMI."

Amazon EC2	"Launching an AWS Marketplace AMI into GovCloud
Can anyone tell me how I can launch an AMI from the AWS marketplace into GovCloud?

Or, can I find an AMI that is in the AWS Marketplace while trying to launch from the EC2 console?

Thanks in advance for any help!"

Amazon EC2	"Re: Launching an AWS Marketplace AMI into GovCloud
No marketplace in GovCloud"

