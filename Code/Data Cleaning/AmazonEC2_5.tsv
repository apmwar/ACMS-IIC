label	description
Amazon EC2	"Very high I/O requests under EBS category
We have been having memory utilization issues (too high), we have been basically shut down to focus on the problem therefore there is almost zero visitors on site. However, the I/O requests are so high, it generates a bill of  almost $100/month alone. We are trying to figure out what might cause the problem, if you can help pointing out the potential causes that would be great!

Thank you!"
Amazon EC2	"Re: Very high I/O requests under EBS category
It sounds like you're referring to needing help with the system administration/troubleshooting of an EC2 instance.  In which case, you'll probably have better luck posting your question in the EC2 forum:

https://forums.aws.amazon.com/forum.jspa?forumID=30"
Amazon EC2	"Re: Very high I/O requests under EBS category
Hello,

If you want to find out which process is actually performing high IO operations on your volumes, I would recommend you to track this down using utilities like iotop. It will give you the read and write operations performed by each process in your system.

Regards
Shiroy"
Amazon EC2	"Issues utilizing two Elastic IPs on one ec2 instance
I have two Elastic IPs that I am attempting to attach to an ec2 that has two network interfaces however only one (at a time) is responsive.

A few weeks previous I had done the same - I set up up an ec2 to serve as DNS/web/email for my small business. As I am not concerned about redundancy at the moment I put both NS records, each with their own IP, on that instance. I was able to utilize both of the IP addresses and they went to the same ec2 instance.

I decided to migrate from the Amazon AMI to Ubuntu which I am more comfortable with so I brought up a new instance and reconfigured from the existing server.

Once that was all done I allocated a second network interface to that ec2 and mapped the two Elastic IPs there.

Only one of them responds. For example, at a point where the last one I attached was on eth1, here is a tcpdump on eth0:

karldotm@ip-xxx:~$ sudo tcpdump -ni eth0
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes
01:12:46.469326 IP aa.bb.cc.dd.61714 > ee.ff.gg.hh.22: Flags [S], seq 2706189515, win 8192, options mss 1460,nop,wscale 8,nop,nop,sackOK, length 0
01:12:49.447781 IP aa.bb.cc.dd.61714 > ee.ff.gg.hh.22: Flags [S], seq 2706189515, win 8192, options mss 1460,nop,wscale 8,nop,nop,sackOK, length 0
01:12:55.454229 IP aa.bb.cc.dd.61714 > ee.ff.gg.hh.22: Flags [S], seq 2706189515, win 8192, options mss 1460,nop,nop,sackOK, length 0
01:27:23.710966 IP ee.ff.gg.qq.47236 > ee.ff.gg.hh.22: Flags [S], seq 3198516859, win 26883, options mss 8961,sackOK,TS val 115393 ecr 0,nop,wscale 7, length 0
01:27:24.708455 IP ee.ff.gg.qq.47236 > ee.ff.gg.hh.22: Flags [S], seq 3198516859, win 26883, options mss 8961,sackOK,TS val 115643 ecr 0,nop,wscale 7, length 0
01:27:26.712664 IP ee.ff.gg.qq.47236 > ee.ff.gg.hh.22: Flags [S], seq 3198516859, win 26883, options mss 8961,sackOK,TS val 116144 ecr 0,nop,wscale 7, length 0
01:27:30.720693 IP ee.ff.gg.qq.47236 > ee.ff.gg.hh.22: Flags [S], seq 3198516859, win 26883, options mss 8961,sackOK,TS val 117146 ecr 0,nop,wscale 7, length 0
01:27:38.744800 IP ee.ff.gg.qq.47236 > ee.ff.gg.hh.22: Flags [S], seq 3198516859, win 26883, options mss 8961,sackOK,TS val 119152 ecr 0,nop,wscale 7, length 0

You'll note that even going to the private IP (that is, ee.ff.gg.hh) from another ec2 in the same security group (ee.ff.gg.qq) does not get a response.

Both interfaces are up and configured correctly:

eth0      Link encap:Ethernet  HWaddr 06:94:b3:d1:3c:47
          inet addr:ee.ff.gg.hh  Bcast:172.31.63.255  Mask:255.255.240.0
          inet6 addr: xxxx
          UP BROADCAST RUNNING MULTICAST  MTU:9001  Metric:1
          RX packets:218 errors:0 dropped:0 overruns:0 frame:0
          TX packets:32 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:18969 (18.9 KB)  TX bytes:2388 (2.3 KB)

eth1      Link encap:Ethernet  HWaddr 06:cd:32:c2:b7:4d
          inet addr:ee.ff.gg.ii  Bcast:172.31.63.255  Mask:255.255.240.0
          inet6 addr: xxxx
          UP BROADCAST RUNNING MULTICAST  MTU:9001  Metric:1
          RX packets:861 errors:0 dropped:0 overruns:0 frame:0
          TX packets:749 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:106021 (106.0 KB)  TX bytes:109939 (109.9 KB)

How do I get support on this considering it does not to be a problem on my side?

Thanks,

karldotm

Added tags"
Amazon EC2	"Re: Issues utilizing two Elastic IPs on one ec2 instance
Hello karldotm,

The behavior that you are seeing in your machine is an expected behavior due to assymetric routing issue. In Amazon Linux, when you have multiple ENIs with public IP, the required routing rules are added by the ec2-net-utils package. However, in Ubuntu, you will have to configure the routing rules manually. If you do not configure those rules, you will only be able to connect through the default interface..

This article will provide you more information on how you can avoid assymetric routing issues in  a Linux server.

Regards
Shiroy"
Amazon EC2	"libGL error: failed to load driver: swrast error on AmazonEC2 with Ubuntu14
Hello,

I have a t2.large instance on Amazon EC2 with 8Go of ram and 30Go of disk space.

The OS used is Ubuntu 14.04 Trusty and the desktop manager is xfce4. I'm using xrdp to remotely access the desktop, and it is working relatively well.

However, I have issues with some GUI applications, the error I get is:
libGL error: failed to load driver: swrast

The graphic card is:
# lshw -C video
  *-display UNCLAIMED
       description: VGA compatible controller
       product: GD 5446
       vendor: Cirrus Logic
       physical id: 2
       bus info: pci@0000:00:02.0
       version: 00
       width: 32 bits
       clock: 33MHz
       capabilities: vga_controller bus_master
       configuration: latency=0
       resources: memory:f0000000-f1ffffff memory:f3000000-f3000fff

And I cannot find the driver for this graphic card (Cirrus Logic).

Is it possible to change the Graphic card with AmazonEC2? Or is there a universal driver for all graphic cards?

Thanks."
Amazon EC2	"Intermittent connection problems
In the two past week we have had 4 cases of spontaneous connection problems, where about half our users are unable to connect to our server via http. When the problem is occurring we notice a handful of failures to connect to our backend machines, and even browsing the internet from the server has connection timeouts. This seems like a network problem but we are unable to determine if it is something to do with our configuration (machine has run fine for years) or aws. 

Rebooting the instance seems to fix the problem for the short term. We have tried fully stopping the instance hoping to get a new host but the problem persists.

InstanceID: i-74e9a207"
Amazon EC2	"Re: Intermittent connection problems
Good Day, 
Thank you for contacting us on this thread. 
Your instance seems to be having high network activity.

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~NetworkIn~2015-08-31T09%3A08%3A16Z~2015-09-05T09%3A08%3A16Z~Maximum~300~InstanceId~i-74e9a207

I am not certain about the exact times but you will see on the links if you will be able to correlate the traffic pattern with the times your instance is not accessible. 

In order to fix this you may want to validate what activity is happening during time through your logs and event viewer and also move to larger instance type. 

Also consider upgrading the EC2 config as your instance is still using  Ec2Config service v2.1.9.0
https://aws.amazon.com/developertools/5562082477397515

I trust you find this information useful, and should you require any further assistance with the above, please do not hesitate to contact me."
Amazon EC2	"Are AWS firmware resources vulnerable to firmware malware insertion?
Been reading about how firmware malware is becoming more pervasive as hardware security has not kept pace with software security measures.

Is AWS hardware susceptible to firmware hacks that will infect with malware? If not, why not?

Thanks for any QUALIFIED and KNOWN information (guesses or suppositions, while likely fun, are not conclusive and not helpful for making a decision)

-Avi"
Amazon EC2	"Re: Are AWS firmware resources vulnerable to firmware malware insertion?
Good Day, 

AWS takes care of the firmware for the data-centers equipment through automated monitoring and compliance check on our environment.  

AWS manages the underlying infrastructure i.e: firmware updates and patching accordingly. 
https://aws.amazon.com/security/platform/

Using private auditors to measure compliance: tests are done within our infrastructure against most common standards (some of these tests include the firmware for our network and infrastructure equipment).

AWS provides certification reports that describe how the AWS Cloud infrastructure meets the requirements of an extensive list of global security standards, including:Â ISO 27001,Â SOC etc. 

https://aws.amazon.com/security/platform/
https://aws.amazon.com/compliance

http://d0.awsstatic.com/whitepapers/Security/AWS%20Security%20Whitepaper.pdf

Should you require to know of any particular security process you are welcome to email our security team  aws-security@amazon.com

And some information can be made available  once you are on a Non-disclosure Agreement with us:
https://aws.amazon.com/compliance/contact/

I trust you find this information useful, and should you require any further assistance with the above, please do not hesitate to contact me."
Amazon EC2	"Is root certificate required for SSL on ELB?
The SSL installation docs here are a little vague on whether a root certificate is required.

When I purchased a RapidSSL cert, it came with the intermediate RapidSSL certificate. However I had to go online to hunt down the self-signed root from GeoTrust Global CA.

I installed the intermediate and root together as a chain. Now the GeoTrust SSL checker says, ""Root installed on the server. For best practices, remove the self-signed root from the server.""

I wondered if maybe ELB is different--whereas Apache (for example) might already have the GeoTrust root, ELB is not really a server so I need to include the root in the chain? Or should I remove the root as suggested by GeoTrust?"
Amazon EC2	"Re: Is root certificate required for SSL on ELB?
Hello,

As per the last section in the documentation you linked to - Intermediaries that are not involved in the trust path must not be included. If included, the chain must end with your CAâ€™s root certificate.

See ""sample certificate chain section"" - http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html

Thanks"
Amazon EC2	"Re: Is root certificate required for SSL on ELB?
David,

Thanks for your reply. 

You're right:  that section of the document says that the chain ""must end with your CA's root certificate.""

However, earlier in the document, under 3. Certificate chain in PEM Format, it says, ""To create your own certificate chain file, include the intermediate certificates and optionally, the root certificate, one after the other without any blank lines.""

Hence my confusion:  is it optional, or must it be included? What is the benefit one way or the other?

Mark"
Amazon EC2	"Re: Is root certificate required for SSL on ELB?
Hello Mark,

The root certificate is optional. I think this article will help explain why a root certificate could be used.
http://www.whichssl.com/intermediate_certificates2.html

Thanks"
Amazon EC2	"Re: Is root certificate required for SSL on ELB?
In addition, All that certificate checker means that when performing the scan its reading that the server is radiating out the SSL certificate > the intermediates > and the Root. There is nothing wrong with this as the clients when making the SSL connection to that website or service are in charge of rationalizing out what it needs in terms of chain certificates to perform a trust Handshake in the SSL connection. 

Certificate checkers Will only show and spout out what they are programed by design. Technically its fine to radiate out the root and include it in the chain depending on the servers system and in some cases it is required to have it on certain server systems.

Edited by: domsymc on Jun 9, 2014 9:48 AM"
Amazon EC2	"Re: Is root certificate required for SSL on ELB?
These two links were much more helpful to setup and test a SSL config

https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html
https://www.ssllabs.com/ssltest/

The symantic tester gave some bad advice."
Amazon EC2	"My AWS were abused bandwidth abnormally in last a few days in Aug.
The first time I got the billing, I've created a Case 1485292281 but it's still with unassigned status. I'm not good in English to express my opinion. I still want to argue that I did nothing but the bandwidth consumed 200+G in last a few days. I also want to know what happened...I'm really really frustrated on this weird situation.

Please...it there any one could help to looking into this? Big thanks...

I'm worried..."
Amazon EC2	"Scaling a PHP website that resides on efs
So, my use case is this... 
I have a Web site the fluctuates in load, for obvious reasons I would like to set it up on as small a server as possible and the have it auto scale. 

On a regular use case I would set its image with the latest version of the code, and then have every new instance update the code from git. 

Problem is, I set up a new Web site on this server every few days, and cannot go through the process of getting the latest version of the code whenever a new instance is created. We are  talking many gigabytes... 

My thoughts were to host the site in a EFS drive, and have the servers access it, so when I start a new instance all I have to do is update mappings to the new sites. 

Does that use case for EFS seem right? 
What other options do I have? 

Thanks a lot...."
Amazon EC2	"ssh: connect to host [ip] port 22: Operation timed out
Hello,

I recently launched a micro-instance (i-4dd9d39f) and have been trying my hardest to maintain a connection to it.

I have made sure the availability zone remains the same throughout all my settings,
my security group allows inbound HTTP, HTTPS and SSH connections from anywhere,
I verified that my VPC has an internet gateway attached,
under subnets, I have verified that there is a 0.0.0.0/0 rule for the internet gateway mentioned above,
I checked my Network ACL, and have a 100 rule for both inbound and outbound, allowing traffic from everywhere (I left these settings untouched as I do not know what to do with them),
I am sure that I am using the correct private key when trying to SSH to my instance (chmod 400 on the key, and using i- during SSH),
and I am sure that I am using the correct username ('ubuntu' for 'phpBB by Bitnami' AMI).

I've done a lot of digging through these forums and through other sources, I've tried some proposed fixes, looked over others, to no avail. What's weird is that I can SSH into my instance sometimes, and after a while, the terminal window stops responding and displays: ""Write error: Broken pipe"". At other times, I can't SSH into it at all, it just keeps displaying: ""Operation timed out"".

In addition to what I did above, I've looked through my computer's firewall and antivirus settings, I've tried disabling them to see if that would resolve the issue, but nothing's changed. I've created over a dozen different instances, each with as many different settings as I could manage to apply, and I've still had connectivity issues.

Am I missing something? Did I do something wrong? What's going on?



Edited by: Zayadur Khan on Aug 30, 2015 8:27 PM - added extra steps I've tried to achieve solvency.

Edited by: Zayadur Khan on Aug 30, 2015 9:03 PM - updated AMI username for new instance"
Amazon EC2	"Re: ssh: connect to host [ip] port 22: Operation timed out
I have the same issue but it's only with hvm instances.  If I create a pv instance I can connect fine after it initializes.  

Three different times I have created Ubuntu hvm instances and once launched I can not ssh into them.  I have tried with the assigned ip address, dns name and I've created a static elastic ip and assigned it to the instance and still no joy.  I have used the default security group which is wide open and my own security groups which I use successfully on other servers.  This is driving me crazy!

Hopefully someone will have an answer for us soon?"
Amazon EC2	"Re: ssh: connect to host [ip] port 22: Operation timed out
Hi,

Thank you for posting your question on AWS Forums and elaborating the issue in detail.

The ""Write error: Broken pipe"" is caused because of inactive or idle SSH connections which are normally disconnected by the server after a certain period of time. This usually depends on how the SSH server is configured, and upon disconnection the SSH client will be prompted with a message.

You could set either ServerAliveInterval in /etc/ssh/ssh_config of the client machine or ClientAliveInterval in /etc/ssh/sshd_config of the server machine. Try reducing the interval if you are still getting the error.

In Linux this could be set globally in /etc/ssh/ssh_config or per-user in ~/.ssh/config. 

For the client, edit your ~/.ssh/config (or /etc/ssh/ssh_config) file as follows for Linux:
It could also be used in the command line as an argument as in the following example;

ssh -o ServerAliveInterval=100 user@example.com

Host *
  TCPKeepAlive yes
  ServerAliveInterval 120

This fix doesn't require root or administrator access to the server and it can be applied to all SSH connections instead of just to a specific server.

This keeps the connection active even if the user is actually idle. This could be done by using the ServerAliveInterval option where the SSH client will send a null packet to the server over a set period of time just to keep the connection alive.

The following option will send the packet every 100 seconds;
ServerAliveInterval 100

For SSH server:

With administrator / root access, the option could just be disabled in the server. Set the related options in the global SSHd configuration file as the following, and restart the SSHd service.

ClientAliveInterval 30
TCPKeepAlive yes 
ClientAliveCountMax 99999

TCPKeepAlive - Specifies whether the system should send TCP keepalive messages to the other side. If they are sent, death of the connection or crash of one of the machines will be properly noticed. However, this means that connections will die if the route is down temporarily, and some people find it annoying (The default is 'yes').

ServerAliveInterval - Sets a timeout interval in seconds after which if no data has been received from the server, ssh(1) will send a message through the encrypted channel to request a response from the server. The default is 0, indicating that these messages will not be sent to the server.

ClientAliveCountMax â€“ This indicates the total number of checkalive message sent by the ssh server without getting any response from the ssh client. Default is 3.

ClientAliveInterval â€“ This indicates the timeout in seconds. After x number of seconds, ssh server will send a message to the client asking for response. Default is 0 (server will not send message to client to check.).

In Linux, /etc/ssh/sshd_config normally is the configuration file and the service could usually be restarted by the following command;

sudo service sshd restart

For the ""Operation timed out"" error, it is usually the firewall which play a role, the next time when you see the error please share the results of the following:

ping server_address
traceroute server_address
ssh -v login_name@server_address

I hope the above information helps.

Thank you,
Amit"
Amazon EC2	"Re: ssh: connect to host [ip] port 22: Operation timed out
Hello AmitR,

Thank you for the detailed reply. I tried the client-side fixes you listed...

Attempt - I could not reduce the intervals of ServerAliveInterval (in ssh_config) and ClientAliveInterval (in sshd_config), because the settings did not have values assigned to them. The comments within stated their default values were 0. I set the ServerAliveInterval to 120 and left ClientAliveInterval alone.

Result - The behavior remains the same. After what seemed to be the same period of time, it returns: ""Operation timed out"".

Please note that I could not follow the next few steps that require me to change settings on the server side as I have no ability of maintaining a connection to my instance. Therefore, I did not attempt the proposed server-side fixes.

Attempt - To try and solve the firewall problem, I decided to try a foolproof method. I used my dad's laptop (OS X). The laptop is only used for browsing the web, so there is next to no protection software. The firewall was disabled by default.

Result - Same issue. After some time, it displays ""Operation timed out"".

I attached a screenshot of my Terminal window displaying the results from following your last set of instructions.

To rule out the possibility that this may be a network issue, I connected to a public network in my area and tried to connect to my instance. The same problem persists: ""Operation timed out"".

Furthermore, I tried to connect to my instance from my Windows machine, which is connected to the Internet modem via an Ethernet cable. It also has no antivirus, and I made sure to disable the firewall. After some time, PuTTy displays a new window with the error: ""Network error: Connection timed out"".

I'm starting to think there is something wrong with my AWS account."
Amazon EC2	"Re: ssh: connect to host [ip] port 22: Operation timed out
Hello Zayadur,

I've taken a look into your account and it seems you're right, there is a problem with its current state. The fastest way to get our Customer Service team to assist you and have that sorted is by going to the Support Center in the AWS Management Console and creating a new Account and Billing case, using Phone as the preferred contact method. Here is a direct link to the form you have to fill up https://console.aws.amazon.com/support/home/#/case/create.

Cheers,
Matias"
Amazon EC2	"Re: ssh: connect to host [ip] port 22: Operation timed out
Hello again,

Thank you for the confirmation and the suggestion Matias.

Since my account was reinstated recently, I did not have full access to all Amazon services. In essence, my account was not ""technically"" reinstated (see what I did there?). As a result, EC2 instances would not boot all the way and it hung right before starting up. Support agents noted my account as being in a state of ""isolation"" I believe.

Through Amazon's seemingly careful and excellent technical support, I was able to quickly diagnose the issue (there was a point at which there were 5 support agents on my case). Although this hiccup caused delays in services I was planning on running, I am glad I'm using Amazon. There's a gigantic safety net under everything here.Kudos to Holger B. for diagnosing the issue and Oren M. for applying a quick fix!

If anyone recently cancelled their AWS accounts, changed their minds and reinstated it, make sure you contact the support team and have everything reauthorized and back to the way it was. Problems like these could be confusing and almost impossible to fix unless you directly contact the providers.

Many regards,
Zayadur Khan"
Amazon EC2	"Instance hung in stopping state
After our instance stopped responding, we tried to stop him and run back. 
Now the instance is in a state of ""stopping"" more than an hour and is not available.

Instance ID: i-a5f9a2ee"
Amazon EC2	"Re: Instance hung in stopping state
Hello,

Apologies for the inconvenience; your instance is now stopped.

Best regards,
Justin G."
Amazon EC2	"Storage of snapshots: EBS or S3, and related billing
I am confused about where snapshots are stored, and how their billing works.

I've taken a snapshot of one EC2 instance and its encrypted EBS volume.

According to the Windows-AWS user guide, snapshots are stored in S3, not EBS.

But the bill shows charges for EBS and nothing for S3.

And when I go to the S3 panel from the dashboard, the screen asks me to create a bucket.  If the snapshots were stored in S3, wouldn't I already see at least one bucket?"
Amazon EC2	"Re: Storage of snapshots: EBS or S3, and related billing
EBS is using S3 behind the scenes for snapshot storage, but everything is managed through EBS. All charges will be for EBS usage. So S3 is the actual storage system under the hood, but you are not interacting with or charged for it directly."
Amazon EC2	"Re: Storage of snapshots: EBS or S3, and related billing
Many thanks.

AWS's publicity refers to S3 as the storage medium, but is silent about how it's actually charged.

So it seems that if I want to pay S3, I must use an app that backs up to an S3 bucket."
Amazon EC2	"Re: Storage of snapshots: EBS or S3, and related billing
Here are a couple great articles about how EBS snapshots work and how they are billed.

http://harish11g.blogspot.in/2013/04/understanding-Amazon-Elastic-block-store-EBS-snapshots.html
http://harish11g.blogspot.com/2013/05/Amazon-Web-Services-AWS-Cost-Saving-Tips-Delete-Amazon-EBS-snapshots-regularly-retention-period.html

Snapshot costs can get out of control over time if you are doing them frequently and not purging them regularly.  Amazon unfortunately provides very little details on EBS snapshots (its a single line item on a bill per region).  Personally I wish they had a way to break out the costs down to the volume level so you can see where you may be spending more."
Amazon EC2	"SSH authentication failure on public IP but not on internal IP
Hi folks,

Today I experienced a strange behavior in one of our EC2 servers running Ubuntu 14.04. The server have been working fine and I had access to it with SSH as  usual until today. Now, when I try to ssh into the EC2 instance using the public IP the authentication fails with error ""too many authentication failure for user ubuntu"".

I stopped/started the broken server to force a change of the public ip, tried to reboot it but nothing solved the problem. The only way I found to access the server was to copy the key to another EC2 server and ssh from it into the first using the internal IP instead of the public ip.

Since no file or configuration was changed on the ""broken"" instance and username/private key are ok, I can't understand why the authentication is failing now.

Can someone help me out to figure out what is happening? The server instance-id is i-4f033d9d

Cheers,

Eric"
Amazon EC2	"EC2 Instance Status Check failed
Dear Community

I have one of my client's Server running with EC2 instance

It showed that 1/2 system status check failed.
These checks monitor your software and network configuration for this instance.
+Instance reachability check failed at July 31, 2015 at 8:45:00 PM UTC+5:30 (35 minutes ago)+

It is not reachable via SSH or other means and not up & running even after several instance restart.

I dont know how to handle this.

ANybody can help me..pls"
Amazon EC2	"Re: EC2 Instance Status Check failed
Hi Community

My Instance ID is: i-58c28094
Any help?"
Amazon EC2	"Re: EC2 Instance Status Check failed
Hi xavieregrove,

I see the instance is currently in a stopped state at this time. Could you put the instance back into a running state and report back if the issue persists?

Could you also provide some details on any recent changes that were made to the instance (ex. software installation, applications enabled/disabled, any network modifications)

Regards,

Rodney"
Amazon EC2	"Re: EC2 Instance Status Check failed
Hi 

We closed this instance as we need to make the site up and running we setup another instance and install all the code from our GIT back up to up to date.

It is really frustrating when something happen to an instance, we could not able to restore it immediately.

I mark this thread as answered for now and closing.

Regards

Xavier"
Amazon EC2	"Re: EC2 Instance Status Check failed
Hi, 

My instance is not working , any amazon personal .Kindly please look into this matter. 

My instance ID is :i-2fa340fa

Thanks. Please be quick to reply"
Amazon EC2	"Instance halted at 0.5%
Hi!

We've had a linux instance - that's been running for 600days+ without fault - today over a 15 minute period, the instance CPU usage dropped from an average 30% to 0.5%. Anyone experienced something similar?

Stopping the instance took over 8 minutes - The instance logs show no errors. It leaves me wondering if there was a HOST issue that affected the instance?

Instance Id: i-e01417a9

Thanks"
Amazon EC2	"Re: Instance halted at 0.5%
Hello,

I've reached out to you privately to discuss that particular instance and the described issue.

Cheers,
Matias"
Amazon EC2	"Website showing up as blank
Not quite sure what the issue is, but our ec2 instance is running and is not reporting any errors as far as I can tell through the console. I am very new to this however, so any and all help would be greatly appreciated. Someone suggested I may have to restart my app, but I am not exactly sure how to do that. Does anyone else think that could be the problem? If not, what do you think the problem may be, and how do you think that I could go about fixing it?

Thank you very much,
Andy"
Amazon EC2	"instance stuck in stopping state
Hello AWS,

Our instance i-80eb3ccb has become unresponsive and i've been trying to stop it for the last hour. It's been stuck in the ""stopping"" state even after 3 ""force stop"" attempts.

Could somebody please unstuck it?

Thank you!
Florin"
Amazon EC2	"Re: instance stuck in stopping state
Instance has finally stopped, and I could start it again."
Amazon EC2	"ec2 instance stuck in stopping status
My ec2 instance i-bc20fdf6, in eu-west-1c, is stuck in stopping status. I already followed directions given in http://aws.amazon.com/instance-help/#ebs-stuck-stopping.
Please help me, this outage is critical for us."
Amazon EC2	"Re: ec2 instance stuck in stopping status
After 30 minutes instance finally stopped.
Thanks"
Amazon EC2	"Instance not stopping
Our instance i-686a0622 is stuck in the stopping state, can someone please force stop this instance for us.

Thanks"
Amazon EC2	"Re: Instance not stopping
This has now been resolved. Thanks."
Amazon EC2	"Terminated instance, a new one appears shortly afterwards
Some time ago I have terminated an EC2 instance I have not been using. I expecting I will not get billed, however now I received an invoice showing that the instance was running for a whole month.

Moment ago I have tried to terminate it once again. It was shown in the console as terminated, however after some time a new instance with a new id was created and running. I have tried one more time to terminate the new one, and it got recreated under another id...

What should I do to get rid of this? Currently it's running under ID i-a2671d0f ..."
Amazon EC2	"Re: Terminated instance, a new one appears shortly afterwards
Situation still persists. Meanwhile I have tried to switch off the Bitnami connection to AWS, which was the service I used to create the first original instance, which went awry.

The current instance impossible to kill is i-9784ff36"
Amazon EC2	"Re: Terminated instance, a new one appears shortly afterwards
Hello,

Instance i-9784ff36 is part of an Elastic Beanstalk environment (Default-Environment) in eu-west-1. This environment contains an autoscaling group (awseb-e-puv9syi2nz-stack-AWSEBAutoScalingGroup-D3F7T2QPM2VB) which is designed to automatically start up a new instance when an instance in the group fails (or is terminated) such as what happened when you manually terminated instance i-a2671d0f.

If you no longer need this Beanstalk environment you can remove it and its associated resources as follows: http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.terminating.html

I hope this helps!

Kind regards,
Chris"
Amazon EC2	"another instance stuck in stopped state
Tried to perform force stop, stop and wait , but been stuck in stopped state for 30 minutes now:

instance id: i-b04c5fd8"
Amazon EC2	"Re: another instance stuck in stopped state
Hello,

It appears that instance i-b04c5fd8 is back up and running.

Kind regards,
Chris"
Amazon EC2	"Re: another instance stuck in stopped state
Yes, it just stopped after an hour. Thanks

Edited by: whyaskagain on Sep 4, 2015 12:48 AM"
Amazon EC2	"Re: another instance stuck in stopped state
Hello,

Instance i-4724352c has just gone into a running state.

Kind regards,
Chris"
Amazon EC2	"Common ELB, ECS Service  backend for multiple HTTPS domains
I have a case where HTTPS traffic from multiple domains need to be routed to the same set of backend ECS containers.

The ECS way is:

For domainA: create serviceA and register taskdefinitionA with imageX, container port 8000 and  ELB listener port 8000
For domainB: create serviceB and register taskdefinitionB with imageX, container port 8001 and  ELB listener port 8001

and so on , 
The main requirements of above setup are 
a)new ELB, 
b)unique port for container and ELB, 
c)new container for each service(even if it is same app).  
There is redundancy of containers and ELBs apart from port management aspects for my use case. I am exploring different options (workable or not) for completeness..  

Option1:

Terminate SSL using NGinx container. ELB does not terminate SSL and only proxies it to the Nginx container(assuming NGinx handles ELB proxy protocol).
Managing on-the-fly Nginx configuration changes across multiple Docker containers can be a pain point. 


Option2: 

Have Cloudfront terminate SSL for each domain and route plain HTTP to backend ELB.
ELB with plain HTTP stands exposed to Cloudfront (thereby internet). 
Cloudfront path incurs higher charges compared to hitting an ELB directly.     


Option3: 

Another workable solution would be to have one SSL terminating ELB per domain, each of which routes plain HTTP traffic to a common backend ECS service. This service runs 1 task definition, 1 container instance, 1 container image and port and one ELB listener port. 
This would require ELBs to be cascadable. ELB costs will double though.


Option4: 

One elegant solution is ELB supporting multiple SSL certificates via SNI.


Is ELB SNI planned to be supported or is cascading ELBs possible ? I don't see it possible from the documentation. 

This leaves only Option1 as a viable  alternative. Option2 has serious security issues. 
Options 3 and 4 may not be supported by ELB.  Are there any other possibilities?

Suggestions are most welcome.


venu"
Amazon EC2	"Please help: Instance Storage (GB)
Good day to you.
Please see attached. May I know what is Instance Storage (GB).
For the SSD 1 x 4 highlighted in yellow, what does it mean?
Thanks for your help."
Amazon EC2	"Re: Please help: Instance Storage (GB)
We generally recommend that you use instance store volumes for temporary data and EBS volumes for data requiring a higher level of durability. The data on an instance store volume persists only during the lifetime of its associated instance. If an instance reboots (intentionally or unintentionally), data on the instance store volumes will persist. However, data on instance store volumes is permanently lost under the following circumstances:

1) Failure of an underlying drive or host
2) Stopping an Amazon instance with attached instance store volumes
3) Terminating an instance

Instance store volumes are located on the underlying host hardware of the instance. When you stop an instance, the instance store disks are wiped clean. When you start the instance up again, it will be running on a different underlying host using the new host's empty instance store disks. Instance store volumes are ideal for temporary storage of information that changes frequently, such as buffers, caches, scratch data, and other temporary content, or for data that is replicated across a fleet of instances, such as a load-balanced pool of web servers. The following link describes instance store volumes and their uses in more detail: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#using-instance-storage

You should use EBS volumes if you need to retain data after a stop/start. EBS volumes can be created in any size up to 16TB and added to any instance type at any time. You can think of EBS volumes like network attached storage versus the ""on hardware host"" storage of instance store disks. The EBS volumes will follow the instance no matter which host it resides on. The following links provide more information about EBS volumes:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSPerformance.html

The AMI (disk image) you choose will determine whether the root volume of your instance will be on an instance store volume or on an EBS volume. The AMI description will usually specify the root device type. In most cases you'll want to choose an AMI that uses an EBS root volume with HVM virtualization. Note that EBS volumes are charged in addition to the instance pricing:

http://aws.amazon.com/ebs/pricing/

The m3.medium instance type highlighted in your screenshot comes with 1 x 4GB instance store volume. Note that if you want to use these volumes, you'll need to specify them at launch. Block devices can only be specified during instance creation using the Block Device Mappings specified in the AMI manifest or by specifying the Block Device Mappings through the AWS web console or AWS CLI tool. Remember that anything stored on these instance store volumes should be considered temporary.

Finally, please see the following documentation for more information on the various storage options offered by AWS:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Storage.html

I hope this helps!

Kind regards,
Chris"
Amazon EC2	"Instance stuck in stopping mode.
My site went down a couple of hours ago, so I decided to stop and start it. Now stuck in stopping mode for well over an hour. Need to get that instance back up as soon as I can. Can anyone help me?
Matt

Edited by: Matthew Donley on Sep 3, 2015 8:35 PM"
Amazon EC2	"Re: Instance stuck in stopping mode.
Hi Matthew,

I've had a look at your account and none of your instances appear stuck in a stopping state. Is this issue resolved? If not, can you please provide the instance id (i-XXXXXXXX) so we can investigate?

Kind regards,
Chris"
Amazon EC2	"volume stuck deleting
volume us-west-2:vol-c6694e21 is stuck in deleting state.   it was deleted while a snapshot was being created.  the snapshot is complete (tested by creating another volume from it and attaching to an instance, mounting, and counting files)."
Amazon EC2	"Re: volume stuck deleting
Hello,
I can see the volume has been deleted.

Please let us know if it is still and issue.

Regards,
Anand"
Amazon EC2	"Re: volume stuck deleting
any way to find out how long it took?"
Amazon EC2	"Re: volume stuck deleting
Hello,

From our records, the volume completed the deletion process at 2015-08-21 12:41:53 UTC.

Kind regards,
Chris"
Amazon EC2	"Apache Not starting: Redirecting to /bin/systemctl start httpd.service
Hi, recently I installed LAMP on my EC2 server but after install when run service httpd start command its giving error and Apache not starting, how can I solve this?

Giving error Redirecting to /bin/systemctl start httpd.service

Instance ID: i-3bf81231"
Amazon EC2	"Re: Apache Not starting: Redirecting to /bin/systemctl start httpd.service
To Start the Apache web server on Linux.
If we get error message: Redirecting to /bin/systemctl start  httpd.service then
1) Instead of command: sudo service httpd start
use command:sudo systemctl start httpd
2) Instead of command : sudo chkconfig httpd on
use command: sudo systemctl enable httpd"
Amazon EC2	"Re: Apache Not starting: Redirecting to /bin/systemctl start httpd.service
Hi,
I tried to execute this command but getting same error."
Amazon EC2	"AWSAutoScaling.m failed to build after updating to Swift 1.2 in AWSiOSSDKv2
Hi,

AWSAutoScaling.m reports ARC Semantic issues in Xcode 6.3 after updating to Swift 1.2.

Is this a compatibility issue? Will this be fixed in the next update?

Screenshots have been attached."
Amazon EC2	"Re: AWSAutoScaling.m failed to build after updating to Swift 1.2 in AWSiOSSDKv2
Hi did you ever solve this I am having big issues with the same thing?"
Amazon EC2	"ssh connection refused
I've got an Ubuntu 14.04 instance from which I created a new AMI. But when I launch a new instance from the new AMI I get ""Connection refused"" when I try to ssh in. I've tried with the public IP and also the internal IP from another instance. 

I'm seeing some very peculiar stuff in the system log. It goes along fine and then starts generating new rsa key pairs. It does this three times and then that's the end of the system log. I have pasted the bottom of my system log below with the IP address obscured.

Any idea what's going on?

Thanks

Tail end of system log:

 * Starting enable remaining boot-time encrypted block devices[74G OK 
Generating public/private rsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_rsa_key.
Your public key has been saved in /etc/ssh/ssh_host_rsa_key.pub.
The key fingerprint is:
25:c9:27:d9:f0:e1:08:82:d4:90:16:b8:ee:92:cd:bd root@ip-172-30-xx-xxxx
The key's randomart image is:
-- RSA 2048----
| o+*. . . .      |
|. + .. o O .     |
| o      B *      |
|.        =       |
|.       S        |
| .               |
|.+ .             |
|o.o .            |
|.   E.           |
-----------------
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
6c:db:cf:fe:bb:82:63:e2:a2:a8:68:dc:73:e2:eb:a4 root@ip-172-30-xx-xxxx
The key's randomart image is:
-- DSA 1024----
|                 |
|                 |
|                 |
|       .         |
|        S        |
|       . o       |
|. ..    . ..     |
|.oo= .. . +o.    |
|+E++*. o.o o+o+o |
-----------------
Generating public/private ecdsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_ecdsa_key.
Your public key has been saved in /etc/ssh/ssh_host_ecdsa_key.pub.
The key fingerprint is:
2a:da:37:6d:50:75:af:3b:bb:a1:13:2f:5f:c1:ea:42 root@ip-172-30-xx-xxxx
The key's randomart image is:
--ECDSA  256---
|                 |
|          . .    |
|         . . .   |
|        .    ..  |
|       .S    .o  |
|      ..  E .. . |
|    . .o . oo..  |
|   o .o o +o+o   |
|  . .. o  .==+   |
-----------------"
Amazon EC2	"New instances stop responding to SSH after a few minutes
I'm having an issue where any instances spun up (from multiple different Linux AMIs, including Amazon Linux and the ) stop responding to SSH after a few minutes of running. After it stops working, SSH connections time out rather than denying the connection. It seems to stop working right around (Â± a few seconds) that the instance status checks change from ""Initializing"" to ""2/2 checks passed"". SSH doesn't come back, even temporarily, if the instance is rebooted or stopped then started; it's only accessible shortly after creation.

The issue occurs regardless of VPC or subnet.

Here are instance where this has happened: i-78d760be, i-331db6e8, i-009522c6"
Amazon EC2	"Re: New instances stop responding to SSH after a few minutes
Hello,

Thank you for the post.

I took a look at the instances: i-78d760be, i-331db6e8 and i-009522c6, and found that these instances are terminated.

In general, if you are seeing ' Connection timed out' while trying to connect to your Linux instances via SSH, you can try some things mentioned on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectionTimeout

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"t2.micro instance getting stuck - does not recover
My t2.micro instance (i-8573f024) (AMI ID amzn-ami-hvm-2015.03.0.x86_64-gp2 (ami-a10897d6)) got stuck after I tested it with a couple of simultaneous casperjs tests. 

By ""stuck"" I mean it's now very unresponsive, but I'm still logged in there with ssh and the shell responds to a keypress after 20 minutes or so. The web server timeouts. The instance is still in this state right now.

I believe the memory got filled up or almost so. I can reproduce this also, and a reboot does help.

What's problematic is that it does not recover from this state even though I have stopped the testing and the CPU load is 0 according to aws console. 

Question: How could I prevent this kind of thing happening? How to recover from this? Rebooting doesn't seem like a good option.

All the Status Checks show things being ""ok"".

Thanks.

Edit: I killed one process and the instance ""recovered"", it's responsive again.

Again, I don't know how to prevent this stuck happening again, or how to recover from this automatically. Any help?"
Amazon EC2	"Account blocked?
When i trying to start my instance it says: ""This account is currently blocked and not recognized as a valid account"". Please help?"
Amazon EC2	"Re: Account blocked?
Hello,

Please contact our Account / Billing team for further assistance on this matter. 

They can be contacted via AWS Support Center: 

1. Sign in and navigate to the AWS Support Center. If prompted, type the email address and password for your account.
2.Choose Open a new case.
3. On the Open a new case page, select Account and Billing Support and fill in the required fields on the form.
4. After you complete the form, you can choose Web for an email response, or Phone to request a telephone call from an AWS Support representative.

Best Regards, 

Ahmed H."
Amazon EC2	"DescribeVolumes returning InvalidInstanceId.NotFound.
We seem to be getting intermittent errors from EC2 when trying to list volumes, complaining about invalid instance ids (none of which are specified in the request. Is this from some internal detail being exposed to th

  File "".../venv/lib/python2.7/site-packages/boto/ec2/connection.py"", line 2148, in get_all_volumes
    [('item', Volume)], verb='POST')
  File "".../venv/lib/python2.7/site-packages/boto/connection.py"", line 1186, in get_list
    raise self.ResponseError(response.status, response.reason, body)
boto.exception.EC2ResponseError: EC2ResponseError: 400 Bad Request
<?xml version=""1.0"" encoding=""UTF-8""?>
<Response><Errors><Error><Code>InvalidInstanceID.NotFound</Code><Message>The instance IDs 'i-4e365d8b, i-e5096220, i-e7096222, i-43355e86' do not exist</Message></Error></Errors><RequestID>f4a78ac8-1ec2-47eb-afbb-7ef19df56d61</RequestID></Response>"
Amazon EC2	"all instances where stoped and now i can't put them online
after account was suspended 
all instances where stoped and now i can't put them online 
mysql instance is online EC2 instance:IDi-2340fe63 , but can't connect  
what should i do ?"
Amazon EC2	"Re: all instances where stoped and now i can't put them online
Hello,

It looks like the Billing team removed the suspension from your account. Please try to connect again in few minutes. 

If you have any further questions or concerns, please contact us via Case # 1482624891.

Best Regards, 

Ahmed H."
Amazon EC2	"1/2 check passed issue
Hello support,
could you help us to check our instance id i-333275f6.
after restart the server,status check for the server are  1/2 checks passed.
could you chect that.

Thanks
Best Regards"
Amazon EC2	"Re: 1/2 check passed issue
Hello,

I have taken a look at the instance and it looks like it's in a terminated state. 

If you need any further assistance, please feel free to contact us again.

Best Regards, 

Ahmed H."
Amazon EC2	"How to asociate many sub-domains to one ELB
IÂ´m having some trouble with the configuration of my ELB.
I've bought a domain from a 3rd-party provider, then I create three CNAME resource record sets to route queries to my load balancer. One CNAME record for each subdomain. 
So far so good, the problem now is that I need the load balancer to access a different instance port depending on the subdomain. 
E.g:

link1.mydomain.com --> myELB:80
link2.mydomain.com --> myELB:1234
link3.mydomain.com --> myELB:5678

Is there any way to do that? Or do I need to create 3 different ELBÂ´s and set one CNAME for each subdomain?"
Amazon EC2	"Re: How to asociate many sub-domains to one ELB
apintos wrote:
link1.mydomain.com --> myELB:80
link2.mydomain.com --> myELB:1234
link3.mydomain.com --> myELB:5678

This would require three ELBs. You can, however, add the same backend instance(s) to all of them if you wish. If you're running a web server, you can configure it for virtual hosting to support multiple domains with a single ELB. So it depends on what your use case looks like."
Amazon EC2	"I Can't Shut Down or Terminate an Instance
Hello,

I first tried to restart unresponsive i-3574b739 instance and tried to shut down both didn't work. I finally tired to terminate that instance 3 days ago but I still see the both loader and the instance on web console. Can you help me please?

Thanks"
Amazon EC2	"Re: I Can't Shut Down or Terminate an Instance
Hello, 

Instances will continue to show for a period of time after termination before being removed from the view of the management console. 

I pulled up your instance in our internal tools and I'm showing it as terminated. Do you still see this instance in the web console? Does the status show as ""Terminated""? 

Regards,
Nick"
Amazon EC2	"Re: I Can't Shut Down or Terminate an Instance
Instance state still says ""shutting-down"" on the console."
Amazon EC2	"Re: I Can't Shut Down or Terminate an Instance
Hi,

Sorry for the inconvenience. I've reached out to our internal team and they'll take a look at why your instance won't shutdown. When we hear back from them, we'll let you know.

Best Regards,
Omar S."
Amazon EC2	"Re: I Can't Shut Down or Terminate an Instance
Hello,

The instance is now terminated. Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Fail start instance after change type
Hi,

I have a instance m3.large and y want change to m1.large (because I have this reserved instance ) but whe I changed this instance type appear the next ssh error when I start the instance:


found data source: DataSourceEc2
2015-08-13 17:53:14,876 - __init__.pyWARNING: Unhandled non-multipart userdata ''
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G[[31mfail39;49m
 * Stopping OpenSSH server[74G OK 
Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
 * Starting AppArmor profiles       [80G 
[74G OK 
 * Stopping System V initialisation compatibility[74G OK 
 * Starting System V runlevel compatibility[74G OK 
 * Starting regular background program processing daemon[74G OK 
 * Starting save kernel messages[74G OK 
 * Starting deferred execution scheduler[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting automatic crash report gen
eration[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting CPU interrupts balancing daemon[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Stopping Handle applying cloud-config[74G OK 
 * Starting OpenSSH server[74G OK 
 * Stopping save kernel messages[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting OpenSSH server[74G[[31mfail39;49m
 * Stopping OpenSSH server[74G OK 
 * Starting OpenLDAP slapd       [80G 
[74G OK 
 * Starting nagios-nrpe nagios-nrpe       [80G 
[74G OK 
 * Not starting internet superserver: no services enabled
Starting ftp server: Running: /usr/sbin/pure-ftpd -l puredb:/etc/pure-ftpd/pureftpd.pdb -8 UTF-8 -O clf:/var/log/pure-ftpd/transfer.log -u 1000 -E -B
 * Starting NTP server ntpd       [80G 
[74G OK 
landscape-client is not configured, please run landscape-config.
 * Starting web server apache2       [80G 
[74G OK 
RTNETLINK answers: No such process
 * Stopping System V runlevel compatibility[74G OK 
 * Starting execute cloud user/final scripts[74G OK 
cloud-init boot finished at Thu, 13 Aug 2015 15:53:17 +0000. Up 7.12 seconds

My Grub version is PV-GRUB  1.02. I try reply error with another instance with the same PV-GRUB and the error doesn't appear. The difference between instances is the SO version:
Ubuntu 12.04.5 LTS doesn't work  and  Ubuntu 14.04.2 LTS work fine. 

Is possible that the SO version is the problem? How I can change instance type without error?

Thank you and Best regards."
Amazon EC2	"ReservedInstancesLimitExceeded? O_o
I'm trying to purchase a reserved instance for the t2.medium I'm running. I get the following error:

Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 98dfa37b-cbf8-498e-943f-c547b756119f)


There are no reserved instances under this account, so it's puzzling why my limit would be 0. As billing has already started at a full hourly rate, I'd like to get this resolved ASAP."
Amazon EC2	"Re: ReservedInstancesLimitExceeded? O_o
And is there something I did wrong? We generally create new AWS accounts for managing different, unrelated things. I've since linked this account with our main account's consolidated billing, but is there some better way to create new accounts where you can recognize we are not new (i.e. have an established reputation and billing history with you)?"
Amazon EC2	"Re: ReservedInstancesLimitExceeded? O_o
Hello, Amazon? I thought you guys help people out here."
Amazon EC2	"Re: ReservedInstancesLimitExceeded? O_o
Hi thermopg,

Sincerest apologies for the late response to this forums post.

I do see that you have a billing support case opened regarding your issue of not being able to purchase Reserved Instances, on case 1477254481. Should you have any additional questions please respond to that case for further information and assistance.

Regards,

Yannick M."
Amazon EC2	"Can't purchase reserved instance in us-east-1d
Hello, I was trying to move an existing reserved instance from us-east-1c to 1d. My requests are going through, because I've successfully modified other reserved instance, but this request fails with no error message. It gives a successful confirmation, but the instance never gets moved."
Amazon EC2	"Re: Can't purchase reserved instance in us-east-1d
Hi mike,

I have created an outbound billing support case to address your query, on case 1484407701. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"Help to release an EIP
Hi,

Can you help to release this EIP?

54.249.8.114: The address with allocation id eipalloc-1ec04b77 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: d7ee362f-b8cc-418c-9a16-b5e6f49f5d72)"
Amazon EC2	"Re: Help to release an EIP
Hi hot_sun,

I have created an outbound billing support case to address your query, on case 1484405321. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"Instanse can`t boot after reboot
Instance ID i-c3287168

I saw this in log - 
cloud-init-nonethttp://14.81: waiting 120 seconds for network device
cloud-init-nonethttp://134.81: gave up waiting for a network device.
Cloud-init v. 0.7.5 running 'init' at Wed, 02 Sep 2015 15:39:43 +0000. Up 134.94 seconds.
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
ci-info: |  eth1  | False |     .     |     .     | 12:0f:6f:48:a6:bb |
ci-info: |  eth0  | False |     .     |     .     | 12:08:ad:ff:d6:9b |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
2015-09-01 10:42:33,252 â€“ url_helper.pyWARNING: Calling â€˜LINK://169.254.169.254/2009-04-04/meta-data/instance-idâ€™ failed 0/120s: request error [HTTPConnectionPool(host=â€™169.254.169.254â€², port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by : Errno 101] Network is unreachable)

I changed 
datasource_list:  NoCloud, ConfigDrive, OpenNebula, Azure, AltCloud, OVF, MAAS, GCE, OpenStack, CloudSigma, Ec2, CloudStack, None 
Ñ‚Ð¾ 
datasource_list:  None 

cloud-init-nonethttp://14.81: waiting 120 seconds for network device
cloud-init-nonethttp://134.81: gave up waiting for a network device.
Cloud-init v. 0.7.5 running 'init' at Wed, 02 Sep 2015 15:39:43 +0000. Up 134.94 seconds.
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
ci-info: |  eth1  | False |     .     |     .     | 12:0f:6f:48:a6:bb |
ci-info: |  eth0  | False |     .     |     .     | 12:08:ad:ff:d6:9b |
ci-info: +--------+-------+-----------+-----------+-------------------+
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 * Starting Signal sysvinit that local filesystems are mounted[74G OK 
 * Starting configure network device security[74G OK 
 * Starting configure virtual network devices[74G[[31mfail39;49m
 * Stopping Mount filesystems on boot[74G OK 
 * Starting Failsafe Boot Delay[74G OK 
 * Starting flush early job output to logs[74G OK 
 * Stopping configure network device security[74G OK 
 * Starting D-Bus system message bus[74G OK 
 * Stopping flush early job output to logs[74G OK 
 * Starting SystemD login management service[74G OK 
 * Starting system logging daemon[74G OK 
 * Starting Handle applying cloud-config[74G OK 
 * Starting Bridge file events into upstart[74G OK 
Cloud-init v. 0.7.5 running 'modules:config' at Wed, 02 Sep 2015 15:39:44 +0000. Up 135.51 seconds.
 * Stopping Handle applying cloud-config[74G OK 
Waiting for network configuration..."
Amazon EC2	"Re: Instance can`t boot after reboot
I detached root volume, attached this volume to other instance. Mount volume in o
I changed file /etc/network/interfaces
iface lo inet loopback
            source /etc/network/interfaces.d/*.cfg
             post-up iptables-restore < /etc/iptables.up.rules
to 
iface lo inet loopback
source /etc/network/interfaces.d/*.cfg
#post-up iptables-restore < /etc/iptables.up.rules
i removed the tab before the word source

I unmounted disk, detached from instance and attached to first instance. After that my instance booted normally."
Amazon EC2	"Re: Instanse can`t boot after reboot
I changed the file /etc/network/interfaces
iface lo inet loopback
source /etc/network/interfaces.d/*.cfg
post-up iptables-restore < /etc/iptables.up.rules
to
iface lo inet loopback
source /etc/network/interfaces.d/*.cfg
#post-up iptables-restore < /etc/iptables.up.rules
i removed the tab before the word source."
Amazon EC2	"Unterminated SSL traffic passing through ELB not reaching back-end instance
I'm running an application in a Multi-Container Elastic Beanstalk environment that should be terminating SSL connections via an NGiNX container. The SSL termination works as expected when bypassing ELB by browsing to the back-end instance directly, but I can't seem to pass the encrypted traffic through the ELB.

I'm also load balancing port 80 to the same back-end instance to verify there's not an issue with the load balancer itself.

I've tried TCP 443 -> TCP 443 and TCP 443 -> Secure TCP 443, but neither work. Running cURL hangs before receiving any type of response, similar to what I'd expect to see if a security group is blocking port 443.

I've also tried allowing all TCP traffic from 0.0.0.0/0 on both the instance's security group and the load balancer's security group, to eliminate those sorts of issues and changing from the target port 443 to 8443 (changing NGiNX's listener as well).

From the docs it seems like this should be supported, but I'm not sure where the issue could be other than incompatibilities with Docker / Elastic Beanstalk.

Any ideas?

Thanks!
Tim

Edited by: thenrich83 on Sep 2, 2015 8:23 AM"
Amazon EC2	"Re: Unterminated SSL traffic passing through ELB not reaching back-end instance
For anyone else who may experience this, the issue is Elastic Beanstalk related. Per EB docs, ELB only supports plaintext to backend instances even if you manually change the ELB outside of the EB console.

Setting up ELB -> ECS environment outside of EB passes unterminated SSL traffic as expected."
Amazon EC2	"EC2 Network or DNS Issue?
Hi,

Is anyone encountering network or DNS issue where the running instance can connect to some sites but not to others? The instance could not open wordpress.org, google.com, yahoo.com and others while it is able to connect to espn.com, airasia.com, vietnamairlines.com and others. Is there a way to resolve this?

Thank you."
Amazon EC2	"Re: EC2 Network or DNS Issue?
Hi,

Thank you for posting your question on AWS Forums.

I looked at the your account details and see that you have two EC2 Windows instances running with correctly set internet gateway, security groups and network ACLs as of 09/02/2015. 

You might as well check the Windows Firewall setting to see if there was any modification in it which might have caused this. To cover more ground, I have also checked for any events in the region where your EC2 instances belong but there was none hence the possibility of any EC2 Network or DNS issue is ruled out.

I hope the above information helps.

Thank you,
Amit"
Amazon EC2	"high latency from AWS Ireland via ldn1.flagtel.com to hkg005.flagtel.com
Hello Support,

over the past weeks we have been observing high latency from our ec2 instance in Ireland to a destination in Hong Kong. It looks like the issue is from flagtel between ldn1.flagtel.com - nyc005.flagtel.com - lax002.flagtel.com - wad001.flagtel.com - hkg005.flagtel.com

I also did verify this from transit looking glass of flagtel http://ubs.flagtel.com/lg . latency only starts to normalize from hkg005.flagtel.com

traceroute to xxx.xxx.xxx.xx (xxx.xxx.xxx.xx), 30 hops max, 60 byte packets
 1  ec2-79-125-0-90.eu-west-1.compute.amazonaws.com (79.125.0.90)  2.830 ms  2.816 ms  2.827 ms
 2  100.64.2.209 (100.64.2.209)  2.555 ms 100.64.2.243 (100.64.2.243)  2.038 ms 100.64.2.241 (100.64.2.241)  1.839 ms
 3  100.64.0.74 (100.64.0.74)  2.530 ms 100.64.0.144 (100.64.0.144)  1.429 ms 100.64.0.102 (100.64.0.102)  2.606 ms
 4  * * *
 5  178.236.0.69 (178.236.0.69)  0.802 ms 178.236.1.16 (178.236.1.16)  0.809 ms 178.236.0.69 (178.236.0.69)  0.833 ms
 6  178.236.0.178 (178.236.0.178)  0.939 ms 178.236.0.168 (178.236.0.168)  0.848 ms  0.867 ms
 7  176.32.106.26 (176.32.106.26)  10.685 ms  10.708 ms 176.32.106.35 (176.32.106.35)  10.948 ms
 8  178.236.3.54 (178.236.3.54)  10.683 ms  10.603 ms 54.239.100.16 (54.239.100.16)  30.501 ms
 9  54.239.100.51 (54.239.100.51)  10.724 ms 54.239.100.111 (54.239.100.111)  10.765 ms peer2.ldn1.flagtel.com (195.66.236.146)  15.136 ms
10  peer2.ldn1.flagtel.com (195.66.236.146)  11.787 ms  12.802 ms  12.770 ms
11  xe-8-0-0.0.pjr02.nyc005.flagtel.com (85.95.25.81)  303.509 ms ge-2-0-0.0.pjr02.lax002.flagtel.com (85.95.26.14)  303.296 ms xe-2-0-2.0.pjr02.nyc007.flagtel.com (85.95.26.41)  304.456 ms
12  ge-2-0-0.0.pjr02.lax002.flagtel.com (85.95.26.14)  304.270 ms so-2-0-0.0.pjr02.wad001.flagtel.com (85.95.26.82)  303.328 ms  303.358 ms
13  so-2-0-0.0.pjr02.wad001.flagtel.com (85.95.26.82)  303.217 ms  303.386 ms ge-0-3-0.0.pjr02.hkg005.flagtel.com (85.95.26.89)  304.368 ms
14  so-5-0-0.0.cjr04.hkg003.flagtel.com (85.95.25.214)  304.234 ms ge-0-3-0.0.pjr02.hkg005.flagtel.com (85.95.26.89)  312.350 ms so-5-0-0.0.cjr04.hkg003.flagtel.com (85.95.25.214)  303.198 ms
15  so-5-0-0.0.cjr04.hkg003.flagtel.com (85.95.25.214)  304.788 ms  303.259 ms  304.259 ms
16  80.77.0.182 (80.77.0.182)  274.203 ms xe-4-0-0.0.cji01.hkg003.flagtel.com (62.216.128.66)  302.828 ms  302.836 ms
17  115.160.187.69 (115.160.187.69)  270.756 ms 80.77.0.182 (80.77.0.182)  273.185 ms 115.160.187.5 (115.160.187.5)  275.534 ms
18  202.131.73.198 (202.131.73.198)  272.661 ms 115.160.187.69 (115.160.187.69)  269.681 ms 202.131.73.198 (202.131.73.198)  271.542 ms
19  202.131.73.198 (202.131.73.198)  272.605 ms irb-7-gjurtmx480-01.hk03.iadvantage.net (210.184.124.129)  275.712 ms 202.131.73.198 (202.131.73.198)  272.792 ms
20  203.194.234.70 (203.194.234.70)  276.415 ms irb-7-gjurtmx480-01.hk03.iadvantage.net (210.184.124.129)  275.784 ms  274.610 ms
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *

Since it seems to me this is an upstream from AWS, is this something you can please have a look into?"
Amazon EC2	"Create and Add new Network Interface to EC2 instance
I have on instance up and running on EC2. The application expects 3 NICs to provide full functionality, and by default the EC2 instance fires up with one.

I have read the information on Elastic Network Interfaces here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html

So, in the console I go to create an ENI, but I have no options to select a subnet, so I'm obviously missing a pre-requisite. 

Any guidance would be appreciated."
Amazon EC2	"Re: Create and Add new Network Interface to EC2 instance
Hi,

Thank you for posting your question on AWS Forums.

Looking at your account information, I can see that you have an instance running in EC2 Classic Network which does not support subnets, ENIs. 

Here is a reference to the documentation describing difference between EC2 Classic and VPC:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html#differences-ec2-classic-vpc

If you would like to take advantage of multiple ENIs(NICs) on an instance, please launch an instance in a VPC.

Here is a reference to the documentation to launch instance in a VPC:
http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/getting-started-launch-instance.html

I hope the above information helps.

Thank you,
Amit

Edited by: AmitR@AWS on Sep 2, 2015 1:14 PM"
Amazon EC2	"ELB not setting sticky session cookie
I created a load balancer with several instances attached; then I created a sticky session policy for the same. When I test the load balancer with curl, I see that no cookie is being set:

curl -i -L http://DevLoadHTTP-1480749855.us-east-1.elb.amazonaws.com/instance-id
HTTP/1.1 200 OK
Accept-Ranges: bytes
Date: Wed, 02 Sep 2015 19:53:59 GMT
ETag: ""b-51ec850a43ca5""
Last-Modified: Wed, 02 Sep 2015 19:02:58 GMT
Server: Apache/2.4.7 (Ubuntu)
Content-Length: 11
Connection: keep-alive
Â 
<Instance ID here; changes every time>


Obviously, no cookie is being set. Similar results occur from my browser.
Relevant section of output from `aws --region=us-east-1 elb describe-load-balancers`:

            ""DNSName"": ""DevLoadHTTP-1480749855.us-east-1.elb.amazonaws.com"",
            ""Policies"": {
                ""LBCookieStickinessPolicies"": [
                    {
                        ""PolicyName"": ""SoSticky"",
                        ""CookieExpirationPeriod"": 61536000
                    }
                ],
                ""AppCookieStickinessPolicies"": [],
                ""OtherPolicies"": []
            },
            ""LoadBalancerName"": ""DevLoadHTTP"",


So what, precisely, is going on? Why is this broken?

In a related note, if I try to view load balances in the web console, the page shows the ""loading"" throbber briefly and then nothing.

Edited by: kmbdj on Sep 2, 2015 12:52 PM

Edited by: kmbdj on Sep 2, 2015 12:54 PM"
Amazon EC2	"Re: ELB not setting sticky session cookie
I was able to enable the cookie stickiness via the web UI once that started loading--however, enabling it with commands is failing. Why?

This is the command I used:

aws elb create-lb-cookie-stickiness-policy --load-balancer-name ""DevLoadHTTP"" --policy-name SoSticky --cookie-expiration-period 61536000 --region=us-east-1

The output in the previous post showed the policy as being present, but it was having no effect.
Now that I've enabled stickiness in the web UI, I have two policies:

            ""Policies"": {
                ""LBCookieStickinessPolicies"": [
                    {
                        ""PolicyName"": ""SoSticky"",
                        ""CookieExpirationPeriod"": 61536000
                    },
                    {
                        ""PolicyName"": ""AWSConsole-LBCookieStickinessPolicy-DevLoadHTTP-1441224099256"",
                        ""CookieExpirationPeriod"": 61536000
                    }
                ],
                ""AppCookieStickinessPolicies"": [],
                ""OtherPolicies"": []
            },


Clearly this is NOT working as intended."
Amazon EC2	"Instance unreachable
Hi,

My instance (i-8fc05c69) became unreachable at 16:47:50.

Stopping and rebooting didn't work. Forcefully stop worked and the instance is up and running again now. What may cause this problem? No logs was written until we forcefully stopped.

Sep  2 16:47:50 localhost dhclient2026: bound to 10.0.0.50 -- renewal in 1591 seconds.
Sep  2 17:26:38 localhost kernel: imklog 5.8.10, log source = /proc/kmsg started.
Sep  2 17:26:38 localhost rsyslogd:  start

Best,"
Amazon EC2	"Re: Instance unreachable
Hi,

The previous underlying host of your instance experienced a failure that caused your instance to become unreachable. I apologize for the inconvenience, but since you have performed a stop/start of your instance, it's now placed on a fresh host and I can see that it's up and running now.

Best Regards,
Omar S."
Amazon EC2	"Error Instance reachability check failed
Instance ID i-7b630439 (currently stopped)

Tried reboot, stop & start did not resolve.
Tried moving the EBS to a new instance also did not resolve.
Used an AMI taken earlier today and this encountered the same issue.

An image was taken and the issue appears to have occurred shortly afterwards. Would taking an image when the EC2 instance was running cause a problem?

Can the instance be looked at to identify the issue?
Thank you in advance."
Amazon EC2	"Hacked account
Hi!
My account was hacked and bought a lot of ec2 instances from different regions at last day.
A blocked my account. But i have 648$ bill, and i cannot pay this((
Can anybody help me.
Thanks!"
Amazon EC2	"Re: Hacked account
Hi,

I'm sorry to hear that your account has been compromised. I see that you've created a Support case with us regarding your bill. We're currently looking into it and you should be contacted shortly via that case.

Best Regards,
Omar S."
Amazon EC2	"RDC can't connect
Was able to RDC into the instance about 60 minutes ago. Now receiving error:
Remote Desktop can't connect to the remote computer for one of these reasons:
1.) Remote Access to the server is not enabled
2.) The remote computer is turned off
3.) The remote computer is not available on the network

Make sure the remote computer is turned on and connected to the network, and that remote access is enabled.

I have checked the security group and my IP address is covered. I've checked the server status in the dashboard and AWS Service Health and all looks like it's working? 

Instance: i-95f462f0

The service running on this server appears to be stuck and we need to get in there now!! Please assist."
Amazon EC2	"Re: RDC can't connect
Hello,

Thank you for the post.

I took a look at your instance: i-95f462f0 and found that this instance is consuming high CPU most of the times. As your instance seems to be over-utilized, you can resize your instance to a larger instance type with more CPU.

You can find more information about 'Resizing Your Instance' on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

In general, for more information about 'Troubleshooting Windows Instances', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html

I hope the above information helps.

Regards,
Nikhil"
Amazon EC2	"Re: RDC can't connect
Thank you for the reply. I'm unable to remote to this instance as if the single NIC is disabled. I'm also unable to add a second NIC to allow me to gain access. How can I either remove and re-add the single NIC or add a second NIC? I have stopped and restarted the instance and rebooted many times but still cannot get in. 

Thanks in advance."
Amazon EC2	"Re: RDC can't connect
Any advise on this? Please. Thanks."
Amazon EC2	"Windows reports Invalid attached volume
Hi -  I need some help...

I am trying to create a volume from a snapshot and then attach the volume to a Windows instance.

In the AWS  console, I can create a volume from the snapshot and can attach it to Windows. The problem is inder Disk Management in Windows. When I right-click the volume and pick Online, after a while it shows the volume is Invalid.

It's a non-root volume, it's basically a data drive. This worked before when I did an new install of Windows 2012 and attached the volume from the same snapshot to it.

The snapshot id I'm using is snap-09d42d1c, volume id vol-32ab8cd3 and instance I'm trying attach the volume to is id i-3fbc12ec. I select all the default values when I create the volume from the snapshot (except make the underlying storage magnetic).

I also tried some other snapshots of the same type and get the same 'Invalid' status."
Amazon EC2	"SSL termination at the server to support mutual authentication
I'm aware of Amazon's options to terminate SSL at an Elastic Load Balancer, but I have a specific requirement to terminate SSL at the appliance I'm deploying. This is to ensure support for mutual ( client certificate ) authentication as part of the SSL handshake.

All of the references I can see on EC2 refer to standard server side SSL, but I need to get confirmation that if I chose to terminate SSL at my appliance, it really is terminating at my appliance only and not one some network device in front of my appliance that would strip the client certificate out as part of a networt traffic inspection process.

Is there some definitive support documentation on how SSL termination occurs on EC2 ?"
Amazon EC2	"ALARM: ""www-sitename-com-High-Sum-HTTP-5XXs"" in APAC - Singapore
Dear All

We have our instances and ELB configured in Singapore region.

We also have setup AWS notifications / alarms through Cloud watch for metric - 'HTTPCode_Backend_5XX >= 1 for 15 minutes'

my question:
Why this 500 type of errors happening for a load balancer and how this will be reliable to my website visitors when it gives 500 type of errors when accessing the site?

How can we resolve this issue and prevent this from happening?
Looking forward for your replies.

Regards

Xavier"
Amazon EC2	"Re: ALARM: ""www-sitename-com-High-Sum-HTTP-5XXs"" in APAC - Singapore
Hi there,

So there are two types of 5xx Errors reported by the ELB:

HTTPCode_ELB_5XX
and
HTTPCode_Backend_5XX

This particular alarm is firing because the ELB received a HTTP 5xx error from the backend server.
If the backend server returns a HTTP 5xx error to the ELB, the ELB will relay this error back to the client.

In this case, something occurred on the backend instance that prevented the request from being completed successfully - you'll have to investigate your application as to why it returned a 5xx error to the ELB.

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-http-errors.html#ts-elb-error-metrics-Backend_5XX"
Amazon EC2	"How to update Git to > v2.2 on standard Amazon Linux
Hi All,

I've got a pretty standard configuration of Amazon Linux, configured up as a webserver.  I'm in the process of setting up a Python script to fetch a Git repository using GitPython over SSH, however it would appear that the GitPython doesn't like the version of Git that Amazon Linux has available (v2.1.0) when using SSH.  Apparently using v2.3 or greater simplifies using SSH keys dramatically.

Could somebody point me to a standard repo that contains a version of Git >= v2.3?  I've already tried amzn-preview and epel.  I don't want to install from source as this needs to automatically update with a yum update command.

thanks

Edited by: PeteAUK on Aug 26, 2015 4:01 AM"
Amazon EC2	"Re: How to update Git to > v2.2 on standard Amazon Linux
Still could do with a solution to this if anybody has any suggestions?"
Amazon EC2	"ec2 instance running php - high cpu usage when network traffic
Our application uses two tier architecture - EC2 which runs PHP 5.5 and RDS which runs MySQL 5.6
There is usually a burst in traffic ~ 200-300 users try to do a db activity - signup / download /submit at the same time. 


Some users are never able to connect e.g. they press Submit and nothing happens
On the server we see a peak in CPU utilization (40%) and Network In/Out. RDS utilization is low.


We are currently running m3.medium and thinking of upgrading to c3.large.

Any suggestions on upgrade and tuning ideas to support more concurrent users and improve response time?

Thank you

Edited by: ecarnew on Sep 2, 2015 5:59 AM"
Amazon EC2	"ELB had some issue and all instances went our of service suddenly
Team,

We faced on issue 15-30 mins back. All of sudden website is not working. When we look into this , there was a huge spike in and we also seen some gap in ELB. What is the cause for this issue?

ELB : VPC-Prod-888670347.us-west-1.elb.amazonaws.com

Attached the screenshot for your reference."
Amazon EC2	"How to monitoring Disk IOPS Utilization
Team,

Please let us know how can we check about IOPS utilization in Amazon EC2 instance.

Thanks
Ashok"
Amazon EC2	"Re: How to monitoring Disk IOPS Utilization
Hello, 

You can read more on EBS volume metrics recorded here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-volume-status.html

Regards,
Nick"
Amazon EC2	"Create Network Interface IAM limitation
Hello, 

I would like to give permissions to instance for create automatically Elastic Network Interfaces (ENI), but I want that instance can only create ENIs in one VPC.

How can I do it using IAM policies?

Thanks!"
Amazon EC2	"Re: Create Network Interface IAM limitation
Hello, 

The following documentation covers how to restrict launching an instance to a single VPC witht eh ""ec2:Vpc"" condition:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_IAM.html#subnet-ami-example-iam

The same concept applies to the creation of an ENI, but you'd want to update the Action to be ""ec2:CreateNetworkInterface"". 

Regards,
Nick"
Amazon EC2	"PHPmyAdmin and mysql
Hi,
I choose basis EC2 plan and created one instance  but i am tried to install php and mysql its getting error and not executing any command in a cosole like yum -y update and yum install phpmyadmin.
I had tried to get package in from site but it shows only connecting having connection issue also.

So how to install PHPMYADMIN and MYSQL please guide me ASAP."
Amazon EC2	"Re: PHPmyAdmin and mysql
Moving this to EC2 Forums"
Amazon EC2	"CPU Credit Balance not matching CPU/Credit Usage
Hi,

we have a strange behavior for one t2.micro instance:
If you look at Credit Usage and CPU Usage, there are regular peaks of always the same amount, caused by heavy-load cronjobs running every 6 hours.

However, if I look at Credit Balance, I see an additional 3-day rythm which cannot be explained by the two other metrics:

For approx. one day, the instance accumulates Credit overall
For approx. 2 days, the instance consumes Credit overall.

(additionally, the 6-hour rythm can be observed here, ""modulated"" onto the 3-day rythm.

I attached the graphs. @AWS team, can you please investigate? I can send you the instance ID by PM.
Thanks!"
Amazon EC2	"Re: CPU Credit Balance not matching CPU/Credit Usage
AWS team, can you please have a look at this?
This seems to be a bug in your CPU Credit calculations."
Amazon EC2	"Re: CPU Credit Balance not matching CPU/Credit Usage
I got your message.  We'll do some research on it and hopefully get back to you soon."
Amazon EC2	"Re: CPU Credit Balance not matching CPU/Credit Usage
On the credit balance graph, you see a steady slope up while you are accumulating credits. Every six hours you consume credits, and there's a down spike.  This is your fine sawtooth.  

As for the larger wave, I think the hint we're missing is in this doc. It says:

""Unused earned credits ... expire 24 hours after they are earned, and any expired credits are removed from the CPU credit balance at that time, before any newly earned credits are added.""

Those stair-steps down are your credits expiring, mixed with the constant slope up of earned credits.  Once they all expire down to a base level, expiration turns off again, and the slope turns up again."
Amazon EC2	"UniFi controller IP change
I have a micro instance running Ubuntu for a Ubiquiti Unifi AP controller.  I have about 12 remote sites with dozens of wireless APs that communicate with my host at AWS.  It has been working great for a couple years, then about 4 days ago Amazon changed the public IP address of the controller with no warning.  I am able to reach the controller at the new address.  The instance is running (and I am paying for it).  But, my remote devices are still configured to inform to the old address.  Is there any way to revert to the old IP address?"
Amazon EC2	"Re: UniFi controller IP change
I figured out what happened to the address of my instance and am writing what I learned in case it may help someone else.  I know it would have saved me a major headache right now if I had known.  Amazon sent me an email notice of maintenance which seemed like it would be a routine operation.  No big deal.  Buried in the complexity of their products is a core feature called Elastic IP.  The Elastic IP instance (EC2) I started was not set up by default with Elastic IP.  This is an option that has to be set up -after- the instance is created.  An EIP allows the public IP address of an instance to remain the same when the instance is rebooted or moved to another server.  Its basically a reserved (static) address for the instance.  I was operating under the misunderstanding that a product called ""Elastic Computing 2"" would have this feature enabled this by default (ie: I was paying for a reserved public IP).  It is an option buried in another menu and it there is no cost to enable it as long as the instance is running.  Once the instance is terminated, the EIP must also be terminated (IP released) or the customer pays $0.005/hr to keep the IP reserve.  This is crucial to know because AWS does not prompt the user when important changes like this are made from the console.  For instance, the console does not caution the user that stopping and starting the instance will release an IP that is not reserved or that migrating an instance with out a reserved IP will release it.  I am sure that from Amazon's perspective this is all common knowledge and well documented.  I find it is misleading to call a product Elastic Computing but not have the core feature enabled by default.  Of course tech support is not free so if you found this thread in the forums, kudos!.  I hope it helps you.  Here are the instructions I was given by a nice rep in billing to enable what I hope is now a reserved, permanent, static, public address that can be turned on and off and migrated to another instance at my discretion in perpetuity as long as I pay my bill.  If this is not the case someone just shoot me now.  

Allocating an Elastic IP Address

You can allocate an Elastic IP address using the Amazon EC2 console or the command line.

To allocate an Elastic IP address for use with EC2-Classic using the console

    Open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.

    Choose Elastic IPs in the navigation pane.

    Choose Allocate New Address.

    Select EC2 from the EIP list, and then choose Yes, Allocate. Close the confirmation dialog box.

To allocate an Elastic IP address using the command line

You can use one of the following commands. For more information about these command line interfaces, see Accessing Amazon EC2.

    allocate-address AWS CLI

    ec2-allocate-address (Amazon EC2 CLI

    New-EC2Address (AWS Tools for Windows PowerShell"
Amazon EC2	"Re: UniFi controller IP change
Hi!

Thank you for this, as of yesterday I also cannot connect to my Unify controller in AWS the DNS link I used to use doesn't seem to work anymore. I think I have the same problem you faced and I made an elastic IP, when all done I still cannot log on to my site and I'm afraid something went wrong with my keypair, it can not seem to find the key..

Any help? Pretty pls"
Amazon EC2	"Making my wordpress site public
Hi,

I'm new to EC2. I'm going to make my wordpress site public.

My EC2 istance ID is i-f983fa38.
My public DNS is: http://ec2-52-28-231-109.eu-central-1.compute.amazonaws.com/
The folder ""project07cs"" contains my wordpress website.


My initial settings was: 

siteurl = http://localhost/project07cs 
home = http://localhost/project07cs 


Using these: 

siteurl = http://ec2-52-28-231-109.eu-central-1.compute.amazonaws.com 
home = http://ec2-52-28-231-109.eu-central-1.compute.amazonaws.com 
typing http://ec2-52-28-231-109.eu-central-1.compute.amazonaws.com in the browser, my wordpress site is showed.

How can I change url form http://ec2-52-28-231-109.eu-central-1.compute.amazonaws.com to www.mydomain.com ? 


Thank you.
Claudio

Edited by: iamuser1 on Sep 1, 2015 3:40 AM

Edited by: iamuser1 on Sep 1, 2015 3:43 AM"
Amazon EC2	"Re: Making my wordpress site public
Hello,
thank you for your message. I understand you'd like to point your www.mydomain.com to i-f983fa38 instance.
What you need to do is to change DNS settings for www.mydomain.com as A record to instance's public ip address: I'd recommend you to refer to your registrar documentation on how to perform this task. After a couple of minutes (usually), you will be able to reach www.mydomain.com through your web browser.

Regards,
Alessandro"
Amazon EC2	"Re: Making my wordpress site public
Hi Alessandro,

thank you, it's working now."
Amazon EC2	"Could not create SSL/TLS secure channel errors
Over the last couple months or so we have started getting random ssl errors when connecting to S3 and/or SQS.

The error I get is:
The request was aborted: Could not create SSL/TLS secure channel.

This has been random and unable to reproduce.  The errors are occuring on a c3.large instance with two auto scaling instances.  We are using the .NET AWS SDK 1.5.40.0.  We have noticed these errors on August 12, 11 and July 23, 22, 16, 10, 8.

The exception being thrown is:
System.Net.WebException: The request was aborted: Could not create SSL/TLS secure channel.
   at Amazon.SQS.AmazonSQSClient.Invoke[T](SQSRequest sqsRequest, IDictionary`2 parameters)
   at Amazon.SQS.AmazonSQSClient.SendMessage(SendMessageRequest request)"
Amazon EC2	"Bug in EC2 Metadata service
Hello, 

I have found a bug in Metadata service, when I try to obtain secondary ips attached to my network interfaces.

I use AWS CLI to assign a secondary IP address to a ENI in a subnet:
aws ec2 assign-private-ip-addresses --network-interface-id $ENI_ID --secondary-private-ip-address-count 1

To view what IP have been assigned, I use metadata service:
MAC=$(ip a | grep -A1 eth0 | grep ether | awk '{print $2}')
curl -sS http://169.254.169.254/2014-11-05/meta-data/network/interfaces/macs/$MAC/local-ipv4s

Until here everything is ok. The problem is when I assign the same private IP to other instance with the following command:
aws ec2 assign-private-ip-addresses --network-interface-id $ENI_ID --private-ip-addresses $PRIVATE_IP --allow-reassignment

If I use AWS CLI, I can see that the first instance don't have the private IP and the second instace have it, but in Metadata service, first instance continues having the private IP, when It shoudn't have it.

I hope that you can resolve this problem early. 

Thanks!

Alberto R.C"
Amazon EC2	"Re: Bug in EC2 Metadata service
Hello,
thank you for your bug report! I've reported it to our EC2 team: unfortunately I do not have an ETA for when a fix will be released, but we will update you as soon as we have an answer.

Regards,
Alessandro"
Amazon EC2	"Can't connect to new Storage Gateway VTL [EC2] from Win2012 iSCSI Initiator
I recently setup an AWS Storage Gateway VTL on EC2 and so far have been completely unable to connect to it from an iSCSI Initiator on a Windows 2012 R2 server.

I can add the IP 54.68.146.79 as a Discover Portal, which then then loads all 11 of the targets (the media changer plus 10 ""tapes"").
However, when I try to connect to any of them using default settings it hangs for about 20 seconds then comes back with ""Connection Failed"" message.

Netstat doesn't even show an attempted connection being made to the IP (or any IP on that port).

If I try to specify the Initiator and outbound IP in ""Advanced"" I can, but if I try to specify the Target Portal IP, then rather than the IP 54.68.146.79 I enter in the Discover Portal it comes back with 172.31.4.208 (an internal IP).

To verify it wasn't a firewall issue on my end I tried from a Windows 8 workstation that was completely un-firewalled (direct ethernet connection to a cable modem, after whitelisting its IP in the EC2 security group) and it had the exact same issue.

Admitted I am a complete noob to EC2, but isn't this supposed to work ""out of the box""?

I am also unable to SSH into this box from the cygwin ssh client on a separate workstation but will open a separate thread for that.

Edit: I was unable to open this separate thread due to ""message quota"" (1, really?!) but I also tried to SSH from an un-firewalled Ubuntu workstation and got the same ""Permission Denied (publickey)"" error. So I don't think it has anything to do with Cygwin.

Edited by: asp_williams on Aug 26, 2015 8:43 AM

Edited by: asp_williams on Aug 26, 2015 8:45 AM"
Amazon EC2	"Re: Can't connect to new Storage Gateway VTL [EC2] from Win2012 iSCSI Initiator
Can anyone help? This is a show stopper right now!"
Amazon EC2	"Re: Can't connect to new Storage Gateway VTL [EC2] from Win2012 iSCSI Initiator
I was able to finally get in with SSH - turns out the user to login with for the Storage Gateway is sguser, NOT root or ec2-user as the setup documentation suggests.

However, once I get in, the option to configure networking that is shown in the examples does not exist. And no way to gain access to an unfiltered command prompt that I can tell. Sudo is a no go and even a simple ls is unrecognized.

So we are still stuck with a Gateway VTL whose iSCSI devices our Windows iSCSI Initiator cannot connect to, because it is still sending back an internal IP (172.31.4.208) as the target Portal IP.

Surely SOMEONE here has run into this before!

With the documentation snafu with the sguser above, it makes me think there is probably a crucial step they left out of the setup documentation or explained poorly. 

It's been a week now and still no answer.  If we can't get this to work soon, we are not going to be able to use Amazon's cloud services and will have to go with another solution. ANY response right now would be helpful."
Amazon EC2	"EC2-import-instance Without S3
Greetings all, 

I am curious if I can use the EC2-import option without S3, basically point to a different storage location using NFS mount located behind Direct Connect.

Thank you,

Nabil"
Amazon EC2	"Re: EC2-import-instance Without S3
Hello,
I reviewed your request and at the moment it seems that you can only use S3 with ec2-import feature [1], at the moment, but I've passed this information to our service team to check if there are any plans to support different storage methods in the future.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ImportVMImportImage.html

Regards,
Alessandro"
Amazon EC2	"Trying to boot a Spot instance from /dev/xvdf
After starting up an HVM Spot Instance, I attached a bootable EBS volume to /dev/xvdf and did this:

e2label /dev/xvda1 ec2temp
tune2fs -O ^uninit_bg /dev/xvda1
tune2fs /dev/xvda1 -U `uuidgen`
perl -lpi.bak -e 's/hd0/hd1/' /boot/grub/menu.lst
grub-install /dev/xvda
shutdown -r now

And, the instance became unbootable. Why? I expected it to come back from reboot with /dev/xvdf1  mounted as root."
Amazon EC2	"Re: Trying to boot a Spot instance from /dev/xvdf
Hello,
as you might already know,  root device is typically /dev/sda1 (Linux) or xvda (Windows), but if you could send us instance id we'll look into this issue.

Regards,
Alessandro"
Amazon EC2	"Ubuntu GUI
I am able to set up an ubuntu ec2 instance and connect to it via terminal (the mac equivalent of command prompt) I installed vncserver on this instance but when I use vnc viewer to connect to it with

vnc://ec2-xxx-xxx-xxx-xxx.us-west-2.compute.amazonaws.com:5900

I get the error invalid end point: port not correctly specified.

How does one view the ubuntu desktop from a mac?

PS: I set up custom TCP protocols with port range 5900-5950 for the associated security group. Instance id is: i-6dc5bba8

Edited by: steventendo on Sep 1, 2015 4:51 AM"
Amazon EC2	"Unable to connect to EC2 Instance - comes in and out of working
We keep having issues with one of our instances not allowing us to connect then miraculously working again hours later.  What is going wrong and what should we do?  (see screenshot attached)"
Amazon EC2	"Re: Unable to connect to EC2 Instance - comes in and out of working
Hello,
thank you for your message. Reviewing i-d98a1bd3 instance details and console [1], I noticed there are a number of messages from kernel out of memory killer, while other metrics (CPU, Network traffic) look correct.
This may explain why your instance was not reachable.
As the instance is a t2.micro one, we'd recommend you to:
 * perform a stop/start of it.
 * resize it [2] to a larger type.
 * install Cloudwatch memory monitoring tools [3]

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html
[2] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html
[3] http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts-perl.html

Regards,
Alessandro"
Amazon EC2	"Problem logging to new Windows Server 2012R2 instance
I have a setup that I use with the Amazon provided Windows Server 2012R2 AMI, which used to work alright, but it looks like Amazon updated the provided AMI and now I can't log in to new instances.

To reproduce I've created a new instance using the EC2 console, and chose the 2012R2 Base image from the main AMI list. It uses this AMI: Windows_Server-2012-R2_RTM-English-64Bit-Base-2015.08.12 (ami-4dbcb67d) , which according to the name appears rather new. 

After launching the new instance (for example, i-30d441f6, if Amazon support is looking at this and want to lend a hand) I have waited a few minutes then used the console's ""Get Windows Password"" feature. I then fed the password to ""rdesktop"" like this:

ssh -f ubuntu@bastion-server -L3389:172.30.0.22:3389 'while true; do sleep 1; done'
rdesktop -z -0 -f localhost:3389 -g 90% -u Administrator -p 'RANDOMPASS'

(I'm running the instance inside a VPC and without a public IP)
And I get a response that the password is incorrect. As far as I can tell, this should work.

I'd appreciate any help."
Amazon EC2	"Re: Problem logging to new Windows Server 2012R2 instance
Found out the problem was incorrect redirection of the bastion connection"
Amazon EC2	"I'm getting connection timed out
Hi, 
 Initially I was getting connection refused but now im getting connection timed out on port 22. If I start a new instance it works for a while and then stops responding with no errors
sudo ssh -vvv -i xxx.pem ubuntu@ec2-52-26-180-183.us-west-2.compute.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-26-180-183.us-west-2.compute.amazonaws.com http://52.26.180.183 port 22.
debug1: connect to address 52.26.180.183 port 22: Connection timed out
ssh: connect to host ec2-52-26-180-183.us-west-2.compute.amazonaws.com port 22: Connection timed out
Please help me out"
Amazon EC2	"Re: I'm getting connection timed out
Hello,

Thank you for the post.

I took a look at your instance with IP address: 52.26.180.183 and everything seems to be operating normally at the infrastructure level. Also, I tried to perform a netcat command to check the connection on port 22 (SSH) and I was able to connect successfully. Please see the output below:
nc -v 52.26.180.183 22
Connection to 52.26.180.183 22 port tcp/ssh succeeded!
SSH-2.0-OpenSSH_6.4

Looking at the command you performed, it seems that you were using incorrect username: ubuntu in order to login to this instance which was launched from a Redhat Linux AMI. For a RHEL5 AMI, the user name is either ""root"" or ""ec2-user"".

For more information about 'Troubleshooting Connecting to Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: I'm getting connection timed out
Im still getting connection refused even after i started an ubuntu instance this the verbose error I am getting 

OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-88-131-48.us-west-2.compute.amazonaws.com http://52.88.131.48 port 22."
Amazon EC2	"Re: I'm getting connection timed out
Can You please remove all my instances and settings and revert it back to the initial default state"
Amazon EC2	"Re: I'm getting connection timed out
Hi I tried removing all vpcs and started another instance after getting a new default vpc 

the instance started and evrything was working for like 5 minutes and then I got the error

Write failed: Broken pipe

when I tried reconnecting the the same connection refused started poppping up again 

PLEASE HELP"
Amazon EC2	"EC2 Instance Sporadically Failing to Resolve Route53 Private DNS
I use route53 for private DNS names to use for RDS and ElastiCache. Inexplicably, these have started failing sporadically on instances in us-east-1a but seem to work in us-east-1d. Earlier this evening we deployed an updated version of our application and noticed that the autoscaling group was continuously destroying and creating instances in us-east-1a. 

These instances come up and pass health checks at first and then start failing healthchecks and die a short time later - part of the health check is to verify connectivity to RDS and Elasticache. I've SSH'd in and confirmed that when the instance first comes up it is able to resolve our private DNS properly and then it suddenly stops and begins returning errors. Note, there are no cron jobs operating on these servers, so nothing we control is happening to them on any schedule. They will also sporadically start working again and then break again.

I've tested manually creating instances, including instances with our previous AMI in us-east-1a and they all being exhibiting this issue. 

I'm at a loss for what to do next.

Edited by: mgrosser00 on Aug 27, 2015 7:22 AM

Edited by: mgrosser00 on Aug 27, 2015 8:07 AM

Edited by: mgrosser00 on Aug 27, 2015 8:57 AM
Update: Here's an instance exhibiting this behavior: i-4d866aed. It seems like this issue happens after either a certain amount of time or a certain number of requests as the healthcheck script checks out at first and then begins failing. When this happens in our autoscaling group, it causes the instance to die, a new one gets built, comes in service, then dies and the process starts over. Here's an example of what this looks like from doing requests at the CLI level over a few minutes:

OK!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
OK!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
OK!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
OK!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
OK!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php
FAIL!root@ip-10-128-1-38 ~# php /var/www/healthcheck.php

Edited by: mgrosser00 on Aug 27, 2015 9:02 AM
One more quick update. When this problem occurs it only affects some of the CNAMEs in our private hosted zone. When this issue rears its head, the server is able to resolve some of the CNAMEs but not others, and it seems to come and go as to which ones are reachable and which ones are not.

Edited by: mgrosser00 on Aug 27, 2015 9:24 AM

Here are the results of some DIGs:

Here are the results of some digs:

This is to a CNAME that IS NOT working:

root@ip-10-128-1-38 ~# dig redis-55p.55placesprivate.com @10.128.0.2 +trace

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.37.rc1.el6_7.2 <<>> redis-55p.55placesprivate.com @10.128.0.2 +trace
;; global options: +cmd
.			2137	IN	NS	d.root-servers.net.
.			2137	IN	NS	e.root-servers.net.
.			2137	IN	NS	f.root-servers.net.
.			2137	IN	NS	g.root-servers.net.
.			2137	IN	NS	h.root-servers.net.
.			2137	IN	NS	i.root-servers.net.
.			2137	IN	NS	j.root-servers.net.
.			2137	IN	NS	k.root-servers.net.
.			2137	IN	NS	l.root-servers.net.
.			2137	IN	NS	m.root-servers.net.
.			2137	IN	NS	a.root-servers.net.
.			2137	IN	NS	b.root-servers.net.
.			2137	IN	NS	c.root-servers.net.
;; Received 228 bytes from 10.128.0.2#53(10.128.0.2) in 8 ms

com.			172800	IN	NS	d.gtld-servers.net.
com.			172800	IN	NS	j.gtld-servers.net.
com.			172800	IN	NS	h.gtld-servers.net.
com.			172800	IN	NS	e.gtld-servers.net.
com.			172800	IN	NS	a.gtld-servers.net.
com.			172800	IN	NS	l.gtld-servers.net.
com.			172800	IN	NS	g.gtld-servers.net.
com.			172800	IN	NS	f.gtld-servers.net.
com.			172800	IN	NS	k.gtld-servers.net.
com.			172800	IN	NS	m.gtld-servers.net.
com.			172800	IN	NS	c.gtld-servers.net.
com.			172800	IN	NS	b.gtld-servers.net.
com.			172800	IN	NS	i.gtld-servers.net.
;; Received 507 bytes from 202.12.27.33#53(202.12.27.33) in 176 ms

com.			900	IN	SOA	a.gtld-servers.net. nstld.verisign-grs.com. 1440692422 1800 900 604800 86400
;; Received 120 bytes from 192.5.6.30#53(192.5.6.30) in 27 ms

This is to a CNAME that IS working:
root@ip-10-128-1-38 ~# dig rds-55p.55placesprivate.com @10.128.0.2 +trace

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.37.rc1.el6_7.2 <<>> rds-55p.55placesprivate.com @10.128.0.2 +trace
;; global options: +cmd
.			2026	IN	NS	g.root-servers.net.
.			2026	IN	NS	h.root-servers.net.
.			2026	IN	NS	i.root-servers.net.
.			2026	IN	NS	j.root-servers.net.
.			2026	IN	NS	k.root-servers.net.
.			2026	IN	NS	l.root-servers.net.
.			2026	IN	NS	m.root-servers.net.
.			2026	IN	NS	a.root-servers.net.
.			2026	IN	NS	b.root-servers.net.
.			2026	IN	NS	c.root-servers.net.
.			2026	IN	NS	d.root-servers.net.
.			2026	IN	NS	e.root-servers.net.
.			2026	IN	NS	f.root-servers.net.
;; Received 228 bytes from 10.128.0.2#53(10.128.0.2) in 8 ms

com.			172800	IN	NS	a.gtld-servers.net.
com.			172800	IN	NS	b.gtld-servers.net.
com.			172800	IN	NS	c.gtld-servers.net.
com.			172800	IN	NS	d.gtld-servers.net.
com.			172800	IN	NS	e.gtld-servers.net.
com.			172800	IN	NS	f.gtld-servers.net.
com.			172800	IN	NS	g.gtld-servers.net.
com.			172800	IN	NS	h.gtld-servers.net.
com.			172800	IN	NS	i.gtld-servers.net.
com.			172800	IN	NS	j.gtld-servers.net.
com.			172800	IN	NS	k.gtld-servers.net.
com.			172800	IN	NS	l.gtld-servers.net.
com.			172800	IN	NS	m.gtld-servers.net.
;; Received 505 bytes from 199.7.83.42#53(199.7.83.42) in 10 ms

com.			900	IN	SOA	a.gtld-servers.net. nstld.verisign-grs.com. 1440692547 1800 900 604800 86400
;; Received 118 bytes from 192.5.6.30#53(192.5.6.30) in 27 ms"
Amazon EC2	"Re: EC2 Instance Sporadically Failing to Resolve Route53 Private DNS
This issue was resolved last week according to an AWS response to a colleague or mine:

Event Start Date and Time 2015-08-26 16:25 UTC Event Resolution Date and Time 2015-08-28 00:28 UTC
Summary of Issue: Between the times above, some EC2 instances in a single Availability Zone in the US-EAST-1 Region experienced intermittent incorrect responses to Private DNS queries.
AWS Actions: AWS identified that a single component was not refreshing configuration state for Private DNS domains. This component was deactivated and the service is operating normally. By 8/28/15, we will update our monitoring to detect and automatically correct any similar error in the future.
Recommended Customer Actions: None. The system is now operating normally

However, it's now occurring again and has been for the last 30 minutes or so. This time, however, it's not sporadic. Newly spawned instances in us-east-1a can't access private DNS at all.

Here's the ID of an instance exhibiting this inability to resolve Route 53 private DNS: i-0ed02bae

Edited by: mgrosser00 on Aug 31, 2015 12:21 PM

Edited by: mgrosser00 on Aug 31, 2015 12:41 PM"
Amazon EC2	"Re: EC2 Instance Sporadically Failing to Resolve Route53 Private DNS
I'm getting the same behavior, since about noon EST, also in us-east-1.  I thought I was going insane until I saw your post."
Amazon EC2	"Re: EC2 Instance Sporadically Failing to Resolve Route53 Private DNS
Seeing this as well, newly launched instances are unable to resolve private DNS. Support said they are working on it and to give it a few hours."
Amazon EC2	"Spot Fleet Launch Spec w/Security Group?
I'm trying to request a spot fleet using the AWS CLI 1.7.40.  Everything works great, except when I try to request a security group.  The aws CLI help for ""request-spot-fleet"" says the security groups should be specified this way:
                 ""SecurityGroups"": [
                   {
                     ""GroupName"": ""string"",
                     ""GroupId"": ""string""
                   }

This syntax seems strange, when request-spot-instances uses a request format like this:
""SecurityGroupIds"": [""string"", ...]
""SecurityGroups"": [""string"", ...],

1) Is syntax mentioned in the help for request-spot-fleet correct?  If I specify it any other way, it will fail the CLI's parameter checker.

2) If this is correct, has anyone actually gotten this to work??  A request config like this (see below) will submit just fine, but then eventually describe-spot-fleet-request-history will report ""spotFleetRequestConfigurationInvalid"".  If I strip out the security group then it will launch without issue.
{
    ""SpotPrice"": "".50"",
    ""TargetCapacity"": 1,
    ""IamFleetRole"": ""arn:aws:iam::123456:role/spot_fleet_bot"",
    ""LaunchSpecifications"": [
        {
            ""InstanceType"": ""r3.4xlarge"",
            ""ImageId"": ""ami-abcd1234"",
            ""SubnetId"" : ""subnet-abcd1234"",
            ""KeyName"" : ""some_key"",
            ""SecurityGroups"": [
                {
                    ""GroupId"": ""sg-abcd1234"", 
                    ""GroupName"": ""group name""
                }
            ] 
        }
    ]
}

history:
{
    ""HistoryRecords"": [
        {
            ""Timestamp"": ""2015-08-06T22:16:36.813Z"", 
            ""EventType"": ""fleetRequestChange"", 
            ""EventInformation"": {
                ""EventSubType"": ""submitted""
            }
        }, 
        {
            ""Timestamp"": ""2015-08-06T22:16:36.935Z"", 
            ""EventType"": ""fleetRequestChange"", 
            ""EventInformation"": {
                ""EventSubType"": ""active""
            }
        }, 
        {
            ""Timestamp"": ""2015-08-06T22:16:37.186Z"", 
            ""EventType"": ""error"", 
            ""EventInformation"": {
                ""EventSubType"": ""spotFleetRequestConfigurationInvalid"", 
                ""EventDescription"": ""r3.4xlarge, ami-abcd1234, Linux/UNIX""
            }
        }
    ], 
    ""SpotFleetRequestId"": ""sfr-...."", 
    ""LastEvaluatedTime"": ""2015-08-06T22:16:53+0000"", 
    ""StartTime"": ""1970-01-01T00:00:00Z""
}


Thanks for your assistance."
Amazon EC2	"Re: Spot Fleet Launch Spec w/Security Group?
Hi MCSpot,

Spot does not support specifying Subnet and SecurityGroup together in the same launchspecification. Please specify only the subnet you want to launch in and attach the security group to the instance after its launched using ModifyInstanceAttribute API (http://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-attribute.html).

Thanks,
Aniruddha."
Amazon EC2	"Re: Spot Fleet Launch Spec w/Security Group?
Hi Aniruddha,
Thanks for your reply.  It seems unintuitive to me that you cannot specify a subnet & security group (firewall config) at the same time.  This certainly is possible when using request-spot-instances directly.  Here's a sample launch spec that we use with request-spot-instances without issues:

{
   ""SecurityGroupIds"" : [
      ""sg-abcd1234""
   ],
   ""ImageId"" : ""ami-abcd1234"",
   ""KeyName"" : ""some key"",
   ""SubnetId"" : ""subnet-abcd1234"",
   ""InstanceType"" : ""r3.4xlarge""
}


Would you entertain this as an enhancement?   Thanks."
Amazon EC2	"Re: Spot Fleet Launch Spec w/Security Group?
Thanks - Yes, we will investigate this issue and report back the findings and when a fix is available.

Sorry for the inconvenience.
Aniruddha."
Amazon EC2	"Re: Spot Fleet Launch Spec w/Security Group?
Hello,

Spot fleet has now fixed the issue with specifying a subnetId with a securityGroupId now. Please note that Spot fleet still does not support specifying a security group name with a subnetId.

Hope this helps & please let me if you see any issues.

Thanks,
Aniruddha."
Amazon EC2	"ETags for ELB logs no longer reflect the MD5 of the log
Hello, the ETag of the ELB logs delivered to S3 no longer reflect the MD5 of the log file in S3.  This seems to have changed as of a week ago.

For example, for a log delivered from my production elb on Wed Aug 19 17:06:01 GMT-700 2015, the ETag is 4e95c7418200f4721f7d06ca4cc554f3 which matches the MD5.

However, for a log delivered on Wed Aug 26 17:08:06 GMT-700 2015, the ETag is fe05b0c9ed1b522382f6b564b3dcef55-1 and the MD5 is 8d7f167be09ff74eadae1a92ccfad399.

I used to use the ETag to determine if I've fully and accurately downloaded the log file.

Are there any other headers with a hash of the file contents?  Why did the ETag change?"
Amazon EC2	"mkdir(): Permission denied  in webroot of application
I'm trying to make a directory in my webroot folder but keep getting this error - 

mkdir(): Permission denied

How do I make it so that a can create new directories?

EDIT:
It looks like I can make a new directory as long as I do not go more than one folder deep, how  do I change this(e.g. webroot/fb_profile_pic/a2/somefile.text)

Edited by: retrocheck1 on Aug 31, 2015 1:01 PM

Edited by: retrocheck1 on Aug 31, 2015 1:04 PM"
Amazon EC2	"Launch of debian via autoscaling on t2.medium in eu-central stopped working
Hello,

I used a launch configuration and an autoscale group to start debian jessie (ami-b092aaad) on an hvm t2.medium in eu-central (Frankfurt) for approximately four weeks. Everything worked fine.

But suddenly the instance does not start any more. The machine is not reachable via network and the system log states ""reboot: machine restart
"" at its end.

A manual start of ami-b092aaad on a t2.medium in Frankfurt still works. 

A comparison of a working (manual) start and a non-working autoscale-start does show the following difference:

working:
...
[[32m  OK  [0m] Started Serial Getty on ttyS0.
[[32m  OK  [0m] Reached target Login Prompts.
[[32m  OK  [0m] Started System Logging Service.
Debian GNU/Linux 8 ip-172-31-0-118 ttyS0
ip-172-31-0-yyy login: ci-info: ++++++Authorized keys from /home/admin/.ssh/authorized_keys for user admin+++++++
...


not working (autoscale):
...
[[32m  OK  [0m] Reached target Login Prompts.
[[32m  OK  [0m] Started System Logging Service.
[[32m  OK  [0m] Started LSB: Cloud init local.
         Starting LSB: Cloud init...
Debian GNU/Linux 8 ip-172-31-11-xx ttyS0
ip-172-31-11-xx login:          Starting Synchronise Hardware Clock to System Clock...
[[32m  OK  [0m] Reached target Unmount All Filesystems.
[[32m  OK  [0m] Stopped Update UTMP about System Runlevel Changes.
....

Afterwards the manual working start does fire up ssh and is ready for use.
The autoscale not working start is stopping everything.

Is there subtile difference between manual and autoscale starts ? Or a change in amazons xen/hvm in frankfurt ?

Any ideas
 Ingo Moneus

Edited by: ingo_moneus on Aug 28, 2015 12:55 PM"
Amazon EC2	"Re: Launch of debian via autoscaling on t2.medium in eu-central stopped working
closed !

(there was a small subtile error in my cloud-init script resulting in the above stated effect...)"
Amazon EC2	"EC2 Load Balancer Keeps Dropping Instances
Our Elastic Load Balancer keeps dropping instances, which causes an outage of our site/blank page.   Here are the details from one of our failed health checks: 
State Details:The current state of the alarm: OK, ALARM or INSUFFICIENT_DATA. Includes information about when it entered this state and why.State changed to ALARM at 2015/08/31. Reason: Threshold Crossed: 1 datapoint (192828.8) was less than the threshold (2000000.0).
Description:The description provided when the alarm was created or modified.ElasticBeanstalk Default Scale Down alarm
Threshold:The condition in which the alarm will go to the ALARM state.NetworkOut < 2,000,000 for 5 minutes
Actions:The actions that will occur when the alarm changes state.Loading notifications failed
Namespace:A namespace is a conceptual element to which you attach one or more metrics.EC2
Metric Name:The metric name field of the metric being monitored.NetworkOut
Dimensions:Name/Value pairs used to identify a metric uniquely. Often indicates the resource being monitored.AutoScalingGroupName = awseb-e-qebdifcttw-stack-AWSEBAutoScalingGroup-HUTWLMX0S2X8
Statistic:Statistic of the metric being monitored, either Average, Minimum, Maximum, Sum or number of Data SamplesAverage
Period:The granularity of the datapoints for the monitored metric.5 minutes"
Amazon EC2	"Cloudera Manager (CDM) started but can't connect and its not listening 7180
Successfully got the instance up and the CM install installed successfully, but i can't connect to it remotely or on the aws instance. My instance is ""ec2-52-0-248-213.compute-1.amazonaws.com"" and all ports should be open.

Checked the running services and the database is running fine, but the CM Manager service didn't start. No big deal, so I started the service manually "" sudo service cloudera-scm-server start"" which got it running, but still can't connect. Firewall rules are all set properly, i even opened all ports to all traffic from all ip addresses to no avail.  Just to be sure, i tried again to connect from the ssh terminal ""nc -zv localhost 7180"" also, nothing. Then i ran a netstat and there's nothing listening on port 7180.. what am i missing?

My instance is Ubuntu 14.x and the CM version is 5.x (whatever came down from ""wget http://archive.cloudera.com/cm5/installer/latest/cloudera-manager-installer.bin""

any help would be appreciated!

Cheers,
Matt"
Amazon EC2	"Re: Cloudera Manager (CDM) started but can't connect and its not listening 7180
As i look through logs, it appears that i may not have enough memory for the manager to start. I'm running on a free micro instance, with 8 gig of disk. meminfo has this information.
ubuntu@ip-10-0-0-24:/etc$ cat /proc/meminfo
MemTotal:        1016292 kB
MemFree:          829200 kB
Buffers:            7928 kB
Cached:           109904 kB
SwapCached:            0 kB
Active:            63460 kB
Inactive:          78580 kB
Active(anon):      31356 kB
Inactive(anon):    26880 kB
Active(file):      32104 kB
Inactive(file):    51700 kB
.. 

how do i change the heapspace request for CM? is it in a conf somewhere?"
Amazon EC2	"Instance keep losing status check - eu-west-1a
Hi,

This is really scratching my heads off, not sure one of our instance running via AMI 'CentOS 7 -x86_64- with Updates HVM-7 2014-09-29' is keep losing it's status check and machine becomes unavailable  this happens for both 'System Status Checks' & 'Instance Status Checks' and than I have to Stop the instance and Start it again which makes it available but sometimes after several hours and sometimes within some hours(2-3)... 'System Log' via get systemlog option within AWS panel I get this: http://pastebin.com/iPpHawGT and when I check via cat /var/log/messages I see file http://pastebin.com/Bpz6UEjM

Can someone please help me in this... I am really not sure what's happening with my production instance! I have initiated several instances with 'CentOS 7 -x86_64- with Updates HVM-7 2014-09-29' AMI on micro and never had this kind of problem...

Regards,
Farmi

Edited by: farazhkhan on Aug 26, 2015 10:57 AM"
Amazon EC2	"Re: Instance keep losing status check - eu-west-1a
Hi Farmi,

Could you provide the instance id? I'd be happy to take a look.

Regards,

Rodney"
Amazon EC2	"Re: Instance keep losing status check - eu-west-1a
Hi Rodney,

I think there was some issue with your host OS during that time as now it's been more than 3 days and my instance is fine. I believe issue with host OS or other because some others also reported the same issue.

So, I would imagine this should be now considered resolved.

Regards,
Farmi"
Amazon EC2	"r3.2xlarge spot instance bid price capped
I was requesting r3.2xlarge spot instances in ap-northeast-1, the bid price is always cut to 0.84 which is exactly the on-demand price in that region.

The bid price can be 10x on-demand price per the doc:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-limits.html#spot-bid-limit

using AWS CLI:
aws ec2 request-spot-instances --region ap-northeast-1 --spot-price 3.36 --launch-specification '{""ImageId"":""ami-9025a790"",""InstanceType"":""r3.2xlarge"",""SubnetId"":""subnet-b2f9f5f4"",""SecurityGroupIds"":[""sg-d219deb7"",""sg-a519dec0"",""sg-c819dead"",""sg-a219dec7"",""sg-c6b601a3""],""BlockDeviceMappings"":[{""DeviceName"":""/dev/sda1"",""Ebs"":{""VolumeSize"":16,""VolumeType"":""gp2"",""DeleteOnTermination"":false}},{""DeviceName"":""/dev/sdb"",""VirtualName"":""ephemeral0""}]}'


response:
{
    ""SpotInstanceRequests"": [
        {
            ""Status"": {
                ""UpdateTime"": ""2015-08-30T14:22:15.000Z"",
                ""Code"": ""pending-evaluation"",
                ""Message"": ""Your Spot request has been submitted for review, and is pending evaluation.""
            },
            ""ProductDescription"": ""Linux/UNIX"",
            ""SpotInstanceRequestId"": ""sir-02sjkkdd"",
            ""State"": ""open"",
            ""LaunchSpecification"": {
                ""Placement"": {
                    ""AvailabilityZone"": ""ap-northeast-1c""
                },
                ""ImageId"": ""ami-9025a790"",
                ""BlockDeviceMappings"": [
                    {
                        ""DeviceName"": ""/dev/sda1"",
                        ""Ebs"": {
                            ""DeleteOnTermination"": false,
                            ""VolumeSize"": 16,
                            ""VolumeType"": ""gp2""
                        }
                    },
                    {
                        ""DeviceName"": ""/dev/sdb"",
                        ""VirtualName"": ""ephemeral0""
                    }
                ],
                ""SecurityGroups"": [
                    {
                        ""GroupName"": ""xxx"",
                        ""GroupId"": ""sg-d219deb7""
                    },
                    {
                        ""GroupName"": ""xxx"",
                        ""GroupId"": ""sg-c819dead""
                    },
                    {
                        ""GroupName"": ""xxx"",
                        ""GroupId"": ""sg-c6b601a3""
                    },
                    {
                        ""GroupName"": ""xxx"",
                        ""GroupId"": ""sg-a219dec7""
                    },
                    {
                        ""GroupName"": ""xxx"",
                        ""GroupId"": ""sg-a519dec0""
                    }
                ],
                ""SubnetId"": ""subnet-b2f9f5f4"",
                ""Monitoring"": {
                    ""Enabled"": false
                },
                ""InstanceType"": ""r3.2xlarge""
            },
            ""Type"": ""one-time"",
            ""CreateTime"": ""2015-08-30T14:22:15.000Z"",
            ""SpotPrice"": ""0.840000""
        }
    ]
}"
Amazon EC2	"creating AMI  Image taking very long time ? more than an Hour ?
i am creating AMI image of a Windows instance. but it takes long time . still its in PENDING status . please help.

Edited by: RajVTG on Aug 28, 2015 8:33 AM"
Amazon EC2	"Re: creating AMI  Image taking very long time ? more than an Hour ?
Hello,

Are you still having issues with this ? Can you please provide the ami id and the region it is in ?
If you have multiple drives associated with the instance of which you are taking the ami, it will take time to create the ami as it has create the snapshot of all the volumes.

Regards,
Baseer."
Amazon EC2	"keep Play Framework web app running
Hi, just installed Playframe on my EC2 and a web app. I can ssh to EC2 from my computer and start the web App with 

    activator run

But if I close my xterm the ssh will end and the web App will also end. How can I keep the App running with a live console on my computer?

Thank you very much. 

fireman

Edited by: firemansmall on Aug 30, 2015 10:36 AM"
Amazon EC2	"EC2 Instance cannot work with 1/2 checks pass or Insufficient Data issue
Hi All,

The issue for the instance id : i-2fc27e8d
i-2fc27e8d instance is create from snapshot by my another work fine and running instance i-c5e0a837,
and I first encounter a problem with ssh connection is refused and all the connection except ICMP is not reachable(security group set to All traffic) than I try to stop and start this instance than the problem is either 1/2 check pass or Insufficient.

Please help us to solve this issue due to we have block with this problems for many days.
my target is just would like to have another developing server and all the resource is from my running instance i-c5e0a837.

appreciate for your support.
Thanks a lot!!

Kind Regards,
Collin

Edited by: gffman on Aug 29, 2015 10:09 AM"
Amazon EC2	"Re: EC2 Instance cannot work with 1/2 checks pass or Insufficient Data issue
Hey Collin,

The process you described of creating a snapshot of a root volume of an instance can be known to create issues if not all of the parameters are matched exactly to the previous instance. For example things like kernel ID and other things need to match, or this can cause the instances not to work correctly.

Instead of creating a snapshot, can you please instead create an AMI of your original instance (i-c5e0a837) using the below AMI guide:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

Creating an AMI directly from an instance is the preferred way to replicate an instance, as it will automatically incorporate all of those minor details (aki, virtualization, 32/64) for you and should result in an exact copy of your original instance.

Please try that above and let me know if the new instance still has those issues.

Regards,
Troy W"
Amazon EC2	"Re: EC2 Instance cannot work with 1/2 checks pass or Insufficient Data issue
Thanks for your reply,
I think my root problem is all of the connection is refused for the instance which created by the snapshot from the working fine instance : i-c5e0a837 , I have tried a lot of way and still cannot solve this issue. Simply to say , May I have your suggest for how to create a instance without connection refused which from my another instance  i-c5e0a837 ?.. 

Many thanks.
Collin"
Amazon EC2	"Help !!! The network interface does not respond !!!
Hello!

We have an instance r3.4xlarge and we need to modify its kind to r3.8xlarge (windows 2008r2).

But after starting the instance modified for the new type, the following message appears:

Instance reachability check failed, in instance networking check.

Overall, the log window is black without any information.

Another question is, if I set the instance to the previous type, it returns to normal operation!

Thus, I need to know how to solve this problem or if someone AWS can help or advise in the solution.

If someone can help as soon as possible it would be great, because I'm in trouble.

Thank you!

Edited by: gestosaude on Aug 29, 2015 4:35 PM"
Amazon EC2	"Re: Help !!! The network interface does not respond !!!
Hello, 

I can see that your instance is using the network Driver: Citrix PV Ethernet Adapter v5.9.960.49119.
r3.4xlarge and r3.8xlarge instances support enhanced networking (http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/enhanced-networking.html) which uses the intel Network adapter drivers  (https://downloadcenter.intel.com/download/18725) which results in higher performance (packets per second), lower latency, and lower jitter.

Please download and install the intel network drivers by following the instructions on the link below, and then try changing the instance type to r3.8xlarge.

  - install intel network drivers, and enable enhanced networking: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/enhanced-networking.html#enable-enhanced-networking

Please create an ami from your instance as a backup before making any modifications: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html
Regards,

Fawzi. H."
Amazon EC2	"Re: Help !!! The network interface does not respond !!!
Hello,

The following error when performing the check commands the network interface and the change appears.

Could not connect to the endpoint URL: ""https://ec2.us-east-1a.amazonaws.com/""

What could be happening?

Thank you!

Edited by: gestosaude on Aug 30, 2015 8:07 AM"
Amazon EC2	"Re: Help !!! The network interface does not respond !!!
Hello,

Figured out what was wrong to show the error mentioned earlier, I was using the default region as us-east-1a when it is okay to us-east-1.

Efetuei the procedures for installing the driver, unzipping the package and running the command ""-a PROXGB pnputil \ Winx64 \ NDIS62 \ vxn62x64.inf"", however in the task manager did not show up the network card as Intel, continued as Citrix. ....

Still I ran the command ""aws ec2 modify-instance-attribute-id instance_id --instance --sriov-net-support simple""

Now the instance failed to initialize properly. LOL

What can I be doing wrong? !!!

Thank you!"
Amazon EC2	"backing a spot instance with on-demand for HA infrastracture
HI, 
I am considering moving a large part of my application to Spot in order to reduce my costs.
The spot instances are sitting behind a ELB and an auto-scaling group.

In order to achieve a HA infra. I want to back these instances with an on-demand instances.
Because aws doesn't allow configuring the ELB to distribute traffic in a weighted algo. , I'm currently considering the following options:

1. Distribute the traffic through Route53 weighted routing - giving the spot the majority of the traffic ( let's say a 19/1 ratio). I will accompany this with an health check.  This way if the spot is taken from me, the health check will fail and the on-demand will get 100% traffic.

2. writing a script that will monitor price of spot instance, and when price reaches threshold, to increase the minimum number of instances in on-demand scaling group to 1.

Do you see any failure points in any one of these scenarios ?
Is there another , more preferred way ?"
Amazon EC2	"Getting CUDA drivers to work on g2.2xlarge
I followed  to install CUDA 7 on an Ubuntu 14.04 g2.2xlarge instance, installed deviceQuery, and rebooted the instance. Invariably, deviceQuery tells me: 

    ./deviceQuery Starting...

     CUDA Device Query (Runtime API) version (CUDART static linking)

    modprobe: ERROR: ../libkmod/libkmod-module.c:809 kmod_module_insert_module() could not find module by name='nvidia_346'
    modprobe: ERROR: could not insert 'nvidia_346': Function not implemented
    cudaGetDeviceCount returned 38
    -> no CUDA-capable device is detected
    Result = FAIL

I have tried pre-built Ubuntu AMIs, including ami-2cbf3e44, with the same result."
Amazon EC2	"Authentication failed because your account has been suspended.
Hello, please, please, please, i have a big problem.

My account has been suspended because my credit card expire, but i resolve this, i change for other credit card. I have many problem because my website services was limited.

My Account Number 666458761624

Case ID1480504261

Thank You"
Amazon EC2	"Re: Authentication failed because your account has been suspended.
Hello,

I've looked into your case and it appears this has already been addressed.

Regards,

Matt W."
Amazon EC2	"Launching an instance from an AMI results in an instance status check error
Hello

I have created an AMI from an existing instance so that I can keep a back-up as well as starting similar instances based on this AMI. The creation of the AMI didn't result in any issue and is now visible in the list of AMIs.

When I now launch a new instance based on that AMI, I get an Instance Status Check error, I have tried the following steps in order to resolve the issue but so for without any luck:

1. Create a new instance based on the AMI
2. Instance Status Check error occurs
3. Reboot the instance
4. Instance Status Check error occurs
5. Terminate instance
6. Deregister AMI
7. Create a new AMI based on the original instance
8. AMI is created successfully
9. Create a new instance based on that AMI
10. Instance Status Check error occurs
11. Reboot the instance
12. Instance Status Check error occurs

Error:

Instance reachability check failed

Suggested Resolution:

Reboot this instance.
Modify your operating system configuration.
Terminate this instance and launch a replacement.

No matter what I do, it doesn't seem that I can launch any new instance wether I create a new instance or create a new instance from a new AMI. Did anyone else ever encounter this issue?

Sincerely

Edited by: Al on Aug 12, 2015 4:50 AM"
Amazon EC2	"Re: Launching an instance from an AMI results in an instance status check error
Hi there,

The most common cause for this is that your original instance probably has a Static IP configured on your networking interface within the operating system.

If you were to connect to your original instance and check its networking configuration please make sure that it is set to DHCP before creating the AMI otherwise your new instance that you launch off of the AMI will keep the same Static IP settings but the Elastic network Interface that the new instance has will most likely have a different IP address and so your instance is unable to communicate through this network interface.

Regards
Jaco"
Amazon EC2	"SMTP rate limit not being lifted, despite submitting form
We've submitted the form to have our EC2 instance SMTP limit lifted, and have received the approval message twice now. However, there is still a rate limit in place and AWS provides no further explanation or help. Is there anything else we can do or check? Is there anything our server is doing that might cause this rate limit to be automatically applied without notifying us? It is not currently delivering spam to our knowledge. The public elastic IP address is 52.3.87.126

Edited by: clarketortus on Aug 7, 2015 8:11 AM (fix typo)"
Amazon EC2	"Re: SMTP rate limit not being lifted, despite submitting form
Hi there,

I had a look at your account and I can 100% confirm the rate limit has been removed.

You may however be reaching the limits of the networking performance on the instance type you are using as I noted that the instance with the Elastic IP 52.3.87.126 on your account would fall into the ""Low to Moderate Networking Performance"" level and so if you are pushing enough traffic this may be the bottleneck rather than the throttle.

Regards
Jaco"
Amazon EC2	"Windows 2012 r2 Unreachable
Good Morning,

I think we have been hit with the infamous Windows 2012 R2 networking issue and I can't seem to get it resolved.  After a reboot due to Windows updates, one of our instances became unresponsive with the ""Waiting Metadata"" message in the logs over and over again.  (instance i-961de567)

I have tried the solution posted to create an image from the instance, then switching to a C3, but after that was done, I was still unable to RDP to the instance.  The system logs were completely blank when booting.  

After some more research, I saw that there was a Linux Recovery AMI, but when I launched that instance and SSH into it, I saw it was only for older versions. (e.g. Server 2008).

I also tried launching a new instance from the image created before changing to C3, but that presented the same issue.  (instance i-659f77ce)

I have also tried, as suggested in other threads, to detach and re-attach the volume to the instance.  Nothing is working for me.

I really need to get the instance back up and running and any help that can be provided will be appreciated."
Amazon EC2	"Re: Windows 2012 r2 Unreachable
Hi there,

I had a look at your instance and it is definitely NOT the Windows 2012 R2 problem

Seeing ""Waiting for Metadata"" combined with a failing health check is normally indicative of some kind of configuration problem of your network interface at the operating system level like the Network device being disabled or having Static IP settings different from the actual ENI values.

A quick way to test this is attach another secondary ENI to your instance and then try to RDP on that secondary ENI's IP address. This should give you access back to the instance and a chance to review the settings for the original network adapter. Just make sure that it is set to enabled and DHCP and that should have your instance passing health checks and accessible again. 

Alternatively you could also do this via offline registry edits on the root volume of your instance and in our documentation we have a step for step guide to do this.

Regards
Jaco"
Amazon EC2	"Connection refused on Amazon EC2 Instance
Hello,

We can't seem to access our main instance (i-e26dcd2e) via console/SSH.

We already tried the methods found on the internet like creating a recovery instance and detaching and fixing the volume then attach it back to main. 

Followed this but no luck. We haven't changed our ssh private keys, btw.
http://www.5neo.be/how-to-fix-ec2-instance-suddenly-refuses-ssh-connection/

Is it possible to have just access to the instance to the volume to backup the files and move it to a new instance. 

Can anyone help us?

Thanks in advance.

Edited by: jmanalansan on Aug 28, 2015 6:36 PM"
Amazon EC2	"Re: Connection refused on Amazon EC2 Instance
Hello, 

I had a look at your instance's console output (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html), and I can see the sshd service is failing to start: Starting sshd: Auto configuration failed

As your instance is ebs backed, you are able to stop your instance, detach its root volume, and attach it to another working instance in the same availability zone and view the logs to understand why the sshd service did not start.  Please create a snapshot of your volume before attempting to make any modifications: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html

Another option is to create a snapshot of your root volume, and then create a volume from your snapshot and work on the newly created volume to fix/troubleshoot the issue.

IF you think recovering the data is an acceptable solution, you will be able to copy the data from your volume once you have it attached to your working instance. 

Regards
Fawzi H."
Amazon EC2	"Updated 4.5 and server essentials, username is changed, can't get back in.
I Updated .net 4.5 and server essentials, my server restarted and can't get back in. It changed the username with this WIN-__________ Admin.... i cant log on anymore, how can I fix this?? I don't have the password for this new username, what is this?"
Amazon EC2	"Re: Updated 4.5 and server essentials, username is changed, can't get back in.
pic"
Amazon EC2	"ELB IPv6 issue on sa-east-1
Hi,
My ELBs on sa-east-1 are no longer accepting incoming IPv6 traffic. The only recent change was the Beanstalk container that were updated. Could someone from AWS check that?
Thanks."
Amazon EC2	"Any friend can help suggest? I can't connect to my free AWS EC2 set up
Today I created a free AWS EC2 windows VPS. However I can't connect to it.
There is no response if pinging its IP in ""cmd"". 
Is there some other way for me to access to this server? Or any solution? any suggestion?
Looking forward to your support and thanks a lot!"
Amazon EC2	"Re: Any friend can help suggest? I can't connect to my free AWS EC2 set up
Greetings,

As a suggestion make sure you allow ICMP and RDP in the applied security group.

Best,
-Iulian"
Amazon EC2	"Re: Any friend can help suggest? I can't connect to my free AWS EC2 set up
Hello giffordx,

I have seen that you have one running instance in the us-east-1 region, I checked your security group and I have seen that you enabled correctly your 3389 port. I was able to succesfully establish a tcp connection on that port.
As advised please enable ICMP traffic if you to ping your instance.

Are you still experiencing any issue?

Regards,
Giorgio"
Amazon EC2	"ERR_CONNECTION_TIMED_OUT when trying to connect to phpMyAdmin
Hello,

So I have installed phpMyAdmin on my CentOS 6.4 server. However when I try to access it it says ERR_CONNECTION_TIMED_OUT. I am connecting with the public (elastic) IP and made sure I had all inbound and outbound traffic enabled in my security group.

I am following this tutorial, but can't get past the part where I need to access the phpMyAdmin page.

https://www.youtube.com/watch?v=HD5GfItffRo

Any help?"
Amazon EC2	"Re: ERR_CONNECTION_TIMED_OUT when trying to connect to phpMyAdmin
Hello sihotaj,

Thanks for posing on AWS Forum.

I noticed that in this AWS Account currently you don't have any ec2 instances running. In order to further troubleshoot your issue can you please specify the instance-id in question?

Regards,
Giorgio"
Amazon EC2	"EC2 Instance: Unable to connect
I created a CloudFromation EC2 instance for Wordpress blog. But the server is not responding even through ssh. Restarted several times."
Amazon EC2	"Re: EC2 Instance: Unable to connect
You need to verify that the security group associated with the instance allows web and ssh traffic inbound.  If that checks out, verify that it has a public IP associated if it is in a public facing subnet."
Amazon EC2	"Re: EC2 Instance: Unable to connect
Hello,

tschutte1 is correct, I just check your resources and I noticed that your running instance has correctly opened port 80 and 22, I was able to establish TCP connection on both ports.

Please let me know if you are still experiencing any issue.

Regards,
Giorgio"
Amazon EC2	"gp2 volume limit increase request
Hi Amazon team,

We've encountered the following error when trying to create a new volume:

Error creating volume
Maximum number of active gp2 volumes bytes, 20, exceeded.

Can someone please increase the limit on our account?"
Amazon EC2	"Re: gp2 volume limit increase request
Hello,

I have just sent a private message.

Regards,
Giorgio"
Amazon EC2	"Why have rolling updates not yet been integrated into ASG w/o CF dep?
What's taking so long?

It looks like CF supported rolling updates for ASG instances in Feb of 2013.

But more than 2 years later this still isn't an option in the 'general' ASG API.

Why not? This is a really elegant way to deploy:

1. When my Docker images are done building a postback is sent to my designated endpoint. (e.g. https://api.myapp.com/trigger-rolling-update).
2. My endpoint then uses the AWS SDK to send a request to aws asg triggerRollingUpdate [options]

3. ASG then takes care of the rest, launching replacements and then taking down the old instances.

Is there something I'm missing that is preventing this from happening?"
Amazon EC2	"Cost of Resizing Root Partition
Hi I'm launching an EBS backed AMI with the default 8G partition, but I'd like to make that larger, like (for example) 10G. For the EBS costs, would I be charged for the entire 10G or the extra 2G?

Thanks!"
Amazon EC2	"Re: Cost of Resizing Root Partition
EBS is always (well, except AWS Free Tier usage) charged separately, so nothing is included with the instance. You would be paying for the full 10 GB that has been allocated (and 8 GB before the resize)."
Amazon EC2	"Load balancing multiple ports to different instances
Hello,

  I would like to use the AWS load balancer to route requests to different instances based on the port. For example, I have multiple instances will run one application component on port 80 and another set of instances that run another application component on port 8080. How can I configure a singe load balancer (that the client will connect to) to route requests to port 80 to one set of instances and requests to 8080 to another set of instances? Is this possible with the AWS load balancer?

Thanks,
Bijoy"
Amazon EC2	"Re: Load balancing multiple ports to different instances
Greetings Thomas,

That is not a very hard thing to do. Please see http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/setting-up-elb.html

I would also encourage you to start setting up your LBs as you currently described. I think it will be a pretty straight forward exercise.

-Iulian"
Amazon EC2	"Re: Load balancing multiple ports to different instances
Thanks Iulian. I do have a ELB setup with the following listeners

LB Port: 80 to Instance-Port: 80
LB Port: 8080 to Instance-Port: 8080
Health check on port 80

I have say Machine A with a service on port 80 and nothing on 8080
I have Machine B with a service on port 8080 and nothing on 80

If I add both EC2 instances to the ELB, will not the ELB remove machine B since it has nothing running on port 80.?"
Amazon EC2	"Re: Load balancing multiple ports to different instances
This basic configuration on the ELB does not work. As I mentioned in my previous post, I added both instances to the ELB and the instance that only runs the service on port 8080 is described as 'Out of Service' in the ELB information since it is not running anything on port 80.

How can I get this to work?"
Amazon EC2	"Re: Load balancing multiple ports to different instances
That will not work with a single ELB by default, however you might still have a chance if you use iptables and redirect the port 80 traffic to 8080 on the instances listening on 8080."
Amazon EC2	"Re: Load balancing multiple ports to different instances
You mean configure IP tables on the instances running 8080 to direct traffic from 80 to 8080.

That doesn't work for me. Like I said these are two completely different services. The client knows that one service runs on 80 and the other on 8080. So I just want to redirect traffic coming on port 80 to the machine running the service on port 8080 and the client traffic coming from 80 to the machine running on port 80. 

This works as long as the services run on the same machine. But going forward we want to add multiple machines running this service and want to load balance the traffic coming on port 80 to say N machine have the service running on port 80 and the traffic coming on port 8080 to M machines running the service on port 8080.

It sounds like the ELB doesn't have any of this functionality and I'm better off just having a machine running Nginx or Apache customized for this.

Edited by: bijoythomas1 on Aug 28, 2015 5:14 AM"
Amazon EC2	"Re: Load balancing multiple ports to different instances
bijoythomas1 wrote:
It sounds like the ELB doesn't have any of this functionality and I'm better off just having a machine running Nginx or Apache customized for this.

Correct. All instances behind the ELB need to be capable of handling any request. Elastic Load Balancing (and Auto Scaling) can however help you build a robust Nginx/Apache setup. What looks like a single load balancer unit to you is actually a system that can scale up/down/in/out, and you can expect it to kind of repair itself when necessary. Having just a single EC2 instance could be seen as a step backwards in terms of reliability."
Amazon EC2	"Remote Access To RTSP Stream Hosted On EC2 Instance
I have an AWS EC2 instance running Windows Server 2012 R2 base. On this server I have an application running which starts a RTSP Stream of a video file. The application uses the Live555 library for this.

When running the application it automatically starts the stream on the EC2 instance's Private IP. That means that I can't access it from my PC at home.

So now I had the idea to set up a VPN to access the Private IP from my PC at home. So I installed Hamachi. From both ends (Server -> Remote PC, Remote PC -> Server) I can ping the other end and get a valid response.

However, when trying to access the RTSP stream in VLC using rtsp://xx.xxx.xx.xxx:8554/stream I can a connection error on the remote PC. I tried to replace the IP xx.xxx.xx.xxx with the public IP, the private IP and the Hamachi IP. None works.

The stream works when I try to open it locally on the server. I enter rtsp://xx.xxx.xx.xxx:8554/stream in the VLC player that I installed on the server and it perfectly streams the video file.

I updated the security of the instance already by allowing all outgoing and incoming traffic on all ports.

What am I missing?"
Amazon EC2	"Re: Remote Access To RTSP Stream Hosted On EC2 Instance
If the server application listens on the private IP address, you should be able to connect on the public IP address from the outside. The public address is mapped to the private address. As long as the application isn't using the loopback interface (127.0.0.1), you should be good. Listening on the private IP address is perfectly fine. Maybe you're getting blocked by the Windows firewall? Other than that, I'm not that familiar with RTSP, so not sure if the public/private IP 1:1 NAT could be causing trouble."
Amazon EC2	"aws ec2 attach-volume : Connection to ec2.eu-west-1.amazonaws.com timed out
I've been trying to mount an existing volume to a Amazon Linux EC2 instance - sounds simple I know!

The volume is currently in the ""available"" state according to the management console. And if I use the management console it will attach to the instance and I can use it. Great! Except that I'm trying to configure an AutoScalingGroup (with just 1 instance) which will automatically attach the volume to any new instance as it launches (via a UserData script)- the start of a basic failover procedure.

This is where the problem starts. I've connected to the EC2 instance via ssh and tried running the following command manually (I've tried both as root and +ec2-user+):
aws ec2 attach-volume --volume-id vol-8fed4a99 --instance-id i-b07d8c1c --device /dev/sdf


The result, after many attempts, is consistently this:
HTTPSConnectionPool(host='ec2.eu-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x7f40c3c34310>, 'Connection to ec2.eu-west-1.amazonaws.com timed out. (connect timeout=60)'))


Here is what I have checked/confirmed so far:
1) Both the EC2 instance, and the EBS volume are in the eu-west-1a availability zone
2) The volume is ""available""
3) The EC2 instance lists no additional volumes in it's block devices (just the root device)
4) I've tried attaching it to different device slots (/dev/xvdb, /dev/xvdc, /dev/xvdd....etc)
5) The EC2 is running in a custom built subnet, but I've triple checked (NACLs, SecurityGroups, etc) and the instance can definitely connect to the outside world. I can download a linux .bin installer from https://www.atlassian.com/... without issue 


Has anyone experienced similar issues and/or have any suggestions?

Much appreciated!!

Edited by: Tarry Software Consultancy on Aug 28, 2015 10:16 AM"
Amazon EC2	"Re: aws ec2 attach-volume : Connection to ec2.eu-west-1.amazonaws.com timed out
Ignore me - it's been a long day, and this was caused by a silly mistake : not assigning a public IP!"
Amazon EC2	"How to automatically shutdown instance after some time?
Dear all,

I currently have a server running with some code. When I make a new version of the code on the server I fire up a new instance upgrade ,debug and test the code. When it all works I replace the old version on the production version with the new version. Not that strange right?

Well the problem is that I sometimes leave the test server on without doing anything. I know that I should turn him off, but before you know it....

Is there any mechanism in Amazon AWS that I can use to automatically shut the test server down after a certain amout of hours (or being idle?) ?

Any help on how to do this or any other solutions would be appreciated!!"
Amazon EC2	"Re: How to automatically shutdown instance after some time?
We solved this via simple cron jobs which run nightly to shutdown our dev/qa instances which are not needed overnight.  We have a special tag set on all instances eligible for the nightly shutdown, and we put a filter condition into the aws cli command to only stop instances with that tag.  The cron job runs on one of our various utility servers which have 100% uptime.

It is a fairly simple solution, and has been working for us for several years.

Alternatively, you could put a cron job in each of the dev instances and make them each responsible for stopping them self."
Amazon EC2	"Re: How to automatically shutdown instance after some time?
Thanks for your reaction.

I thought about that too. I was kind of hoping there was some build in GUI thing. Maybe a bit spoiled with all the functions in the webinterface of Amazon 

But thanks anyway"
Amazon EC2	"Re: How to automatically shutdown instance after some time?
I agree with this.  If AWS ever decides to allow scheduling of Lambda functions, then this problem could be easily solved by fully using AWS tooling."
Amazon EC2	"EC2 Intermittent Outbound HTTP & HTTPS
Hello-

I have been seeing outbound intermittency on my ec2 instances all day today. Specifically on i-be1a4915 I can sometimes wget http://google.com and https://google.com. Apt-get update fails most of the time. I checked my NACLs and Security Groups and all check out. 

A Stop then Start does not Fix. I have attached my NACL and Security Group.

Please Help!"
Amazon EC2	"Re: EC2 Intermittent Outbound HTTP & HTTPS
It is possible that your inbound network acl is not allowing the full range of ephemeral ports for return http traffic, depending on the OS your instance is using.  Assuming you trust your inbound security group rules to properly filter inbound traffic (based on your screenshot they look perfect), you can try allowing all inbound on your network acl to see if that fixes it.  If so, you can then start tightening up your network acl again.

http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html#VPC_ACLs_Ephemeral_Ports"
Amazon EC2	"Unable to extend a volume to a bigger size than 2TB
Hi, 
We have an EC2 instance i2.xlarge and it has currently few volumes all under 1TB. I would like to change one of the volumes to be a bigger size (3.4TB). The volumes have been previously partitioned using mbr style, and they contain data. 
What I did was:

Took snapshot of the volume 
Created a new volume (3.4TB) using the snapshot
Attached the volume to the instance
From disk manager (tried also diskpart), tried to bring the disk online and extend it to get the full size 3.4 TB

The problem is that; when I check the newly added disk in the disk manager, it contains 1TB of original volume, and 2 separated unallocated sections (1 TB and 1.4TB). I was able to extend the volume to be 2TB, but when trying to extend it to get the remaining 1.4 TB also in use, it complains: 
Virtual Disk Service error:
Only the first 2TB are usable on large MBR disks.
Cannot create partitions beyond the 2TB mark, nor convert
the disk to dynamic.
I tried to convert the first 1TB section of volume to gpt style, however that is not allowed: 
Virtual Disk Service error:
The specified disk is not convertible. CDROMs and DVDs
are examples of disks that are not convertable.

So I ended up with creating a new empty volume with size 3.4 TB, attached to the instance and partitioned as gpt, then manually copy the data from the original 1TB volume to the newly added one! 

Is there anything I could do to avoid this slow and inefficient way of handling volume re-size?

Thank you in advance for your reply, 
Mon"
Amazon EC2	"Re: Unable to extend a volume to a bigger size than 2TB
Hi MoNQPR,

Please refer to the following documentation we have for expanding the EBS volume size.

Expanding EBS Volume Size on Linux 
Expanding EBS Volume Size on Windows 

Regards,
-Neel

Edited by: Neel@AWS on Aug 24, 2015 1:54 PM"
Amazon EC2	"Re: Unable to extend a volume to a bigger size than 2TB
Hi Neel, 

Thanks for your reply. Actually I came cross this document and also checked few others in MS site. However the issue I faced was not covered. 
Please check section 3 of  Expanding EBS Volume Size on Windows 
3. Right-click the expanded drive and select Extend Volume.

As I mentioned in my post, after I attached the volume 3.4TB volume (which was created based on an snapshot of 1TB volume), I could expand the volume to maximum 2 TB, since the original volume was MBR. So I tried to change the original one to GPT type, however I was not allowed.  
I used both DiskPart and Disk Management in windows, but both were giving me similar errors

Best Regards, 
Mon"
Amazon EC2	"Re: Unable to extend a volume to a bigger size than 2TB
Hello,

Unfortunately that is a limitation of the MBR partition scheme and as such it doesn't have anything to do with EBS. EBS is by definition a block storage. The service is not aware of the structure or semantics of the data you write or read from each block.

The partition table on MBR disks has a fixed size to allocate the addresses of each partition boundary and the maximum addressable size is 2 TiB. It is recommended that you use GPT partition tables if you plan to use volumes larger than 2 TiB.

Cheers,
Matias"
Amazon EC2	"Cannot install openjdk-7-jdk on Ubuntu 14.04
I cannot install openjdk-7-dk on ubuntu/images/hvm/ubuntu-trusty-14.04-amd64-server-20150814

sudo apt-get update
sudo apt-get install -f -y openjdk-7-jdk

results in the following error:

The following packages have unmet dependencies:
 openjdk-7-jdk : Depends: openjdk-7-jre (= 7u79-2.5.6-0ubuntu1.14.04.1) but it is not going to be installed
 E: Unable to correct problems, you have held broken packages.
Recommends: libxt-dev but it is not installable


What is wrong? Google does not help..

Cheers,

Mark"
Amazon EC2	"Re: Cannot install openjdk-7-jdk on Ubuntu 14.04
It turns out to be a intermitted issue. Sometimes it works, sometimes it does not."
Amazon EC2	"Instance unreachable
My instance (i-8573f024) (amzn-ami-hvm-2015.03.0.x86_64-gp2, ami-a10897d6) as t2.micro was unreachable this morning. There's not much activity (if at all) on the server so I don't know what could have caused this.

The Status Checks are OK:
System Status Checks 
Instance Status Checks 
These checks monitor the AWS systems required to use this instance and ensure they are functioning properly.
System reachability check passed	
These checks monitor your software and network configuration for this instance.
Instance reachability check passed

I cannot SSH to it or reach the web server running on it, it timeouts.

Any ideas? I read that mounting the EBS volume to another instance and inspecting that would be one way to go. 

How is it possible for the status checks to show an OK status even though it's unreachable?

Thanks."
Amazon EC2	"Re: Instance unreachable
Hello,

I have reviewed your EC2 instance i-8573f024, and the EC2 instance and underlying-host both appear in good health.  I do see that you have port 22 locked down to a specific IP address within your security group. Can you review your security group to ensure this is the correct IP address in which you are trying to connect from?

Have you attempted to reboot the EC2 instance? Once you reboot, attempt to try connecting again via SSH.

If you are having difficult connecting to your EC2 instance via SSH, it could be there may have been configuration change made within the EC2 instance. It would be difficult to say what may have occurred. Are you aware of any changes made to the EC2 instance?

Look forward to your reply,
Mohsin"
Amazon EC2	"Re: Instance unreachable
Hi,

Thanks. Indeed, the SSH problem was partly because of the IP. I don't know how I forgot to check that, maybe because there was also the port 80 problem now. Earlier I had changed the IP for SSH rule but not this time.

Setting the IP in the SSH rule was not enough though. Still logging to the machine with SSH is not possible. I get this:

vagrant@vagrant-ubuntu-trusty-64:~/.ssh$ ssh -v -i ""key-1.pem"" ec2-user@xx.xx.xx.xx
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug1: Connecting to xx.xx.xx.xx [xx.xx.xx.xx] port 22.
debug1: Connection established.
debug1: identity file key-1.pem type -1
debug1: identity file key-1.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
ssh_exchange_identification: Connection closed by remote host

Also the port 80/web server doesn't answer, and I believe at least the nginx should be up and running on that machine. So something is still broken. 

This ""ssh_exchange_identification: Connection closed by remote host"" doesn't seem to appear anymore after trying a few times. SSH just hangs with the line ""debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2"".

I had seen this same SSH problem before a few times and after rebooting it worked fine. This problem seems to persists, so I think it would be worth fixing it, so I would not want to resort to rebooting, especially because the port 80 doesn't answer either.

This problem looks like some kind of security rule/firewall issue but cannot think of anything in particular."
Amazon EC2	"Re: Instance unreachable
I created a snapshot of the volume, attached it into a new instance and went to see if I could see anything.

In the /var/log/messages there was this:

Aug 27 05:09:43 ip-10-0-1-133 dhclient1880: DHCPREQUEST on eth0 to 10.0.1.1 port 67 (xid=0x201fb7e6)
Aug 27 05:09:43 ip-10-0-1-133 dhclient1880: DHCPACK from 10.0.1.1 (xid=0x201fb7e6)
Aug 27 05:09:45 ip-10-0-1-133 dhclient1880: bound to 10.0.1.133 -- renewal in 1364 seconds.
Aug 27 05:32:29 ip-10-0-1-133 dhclient1880: DHCPREQUEST on eth0 to 10.0.1.1 port 67 (xid=0x201fb7e6)
Aug 27 05:32:30 ip-10-0-1-133 dhclient1880: DHCPACK from 10.0.1.1 (xid=0x201fb7e6)
Aug 27 05:32:33 ip-10-0-1-133 dhclient1880: fork: Cannot allocate memory
Aug 27 05:32:34 ip-10-0-1-133 dhclient1880: bound to 10.0.1.133 -- renewal in 1431 seconds.
Aug 27 06:08:13 ip-10-0-1-133 dhclient1880: DHCPREQUEST on eth0 to 10.0.1.1 port 67 (xid=0x201fb7e6)
Aug 27 06:24:28 ip-10-0-1-133 dhclient1880: DHCPREQUEST on eth0 to 10.0.1.1 port 67 (xid=0x201fb7e6)
Aug 27 07:51:10 ip-10-0-1-133 dhclient1880: DHCPREQUEST on eth0 to 10.0.1.1 port 67 (xid=0x201fb7e6)

So the only thing I could see is this out of memory error. 

The machine should have enough free memory though. I found a thread that suggested the environment variable may have gotten too big: https://forums.aws.amazon.com/thread.jspa?messageID=598032

So something to explore...

Edit: I rebooted it now and it's reachable again. I'm sure I will see this error and problem again though.

Edited by: Ilkka Huotari on Aug 28, 2015 4:52 AM"
Amazon EC2	"AWS EC2 or ELB issue
I am running my web app (developed in python & flask) on AWS ELB with 10 EC2 instances. I am getting throughput 600 requests/sec.
    But, before one month with same configuration I was getting throughput 7000 requests/sec.
I have checked all configuration in my web server(Nginx) to increase though put . All is good.

Does anybody has idea why I am facing this problem?

Edited by: navnath on Aug 18, 2015 6:34 AM"
Amazon EC2	"Re: AWS EC2 or ELB issue
Hello,
could you please give us ELB name and instance ids so we can perform further troubleshooting and checks on them?

Thank you.
Regards,
Alessandro"
Amazon EC2	"Re: AWS EC2 or ELB issue
Thanks alessandros!
    Problem is resolved now."
Amazon EC2	"Rss feed from other Site doesn't fetch Data
Hi,

I have a instance for my website docglobal.com. i fetch medical news form another website. the feed was working fine for a long time. Recently the feed doesn't fetch any data. 

The cron runs from the server perfectly, but doesn't fetch any news. The Rss feed is working fine in my local machine. 

Please Help me out."
Amazon EC2	"How to guarantee bandwidth for my new Proxy Instance
Hi all,

I have a new EC2 instance which is for a new Proxy Instance at my public subnet.  The box will be enabling my internal servers (sitting at private subnet) to pull updates from the Internet, with a total of approx. 300 servers in the private subnet pulling concurrently.

I would like to guarantee the bandwidth of the Proxy Instance to the Internet.  Can someone shed some light on this?

Should I:
1.  Allocate all 5 x of my Elastic IPs to the Proxy Instance so that I can get 5 x the Internet bandwidth?
OR
2.  Should I run up a large instance (e.g. a c4.xlarge) to ensure my Internet bandwidth?

Cheers,
Hunt"
Amazon EC2	"Re: How to guarantee bandwidth for my new Proxy Instance
Hi DilipS@AWS,

Is that the max bandwidth for instance to EBS? Or bandwidth for instance to Internet?

Cheers,
Hunt"
Amazon EC2	"Re: How to guarantee bandwidth for my new Proxy Instance
Hello,

My bad. You are right that is the throughput to EBS Volume.

With regards to your question on guarantee bandwidth for the proxy server, our best option would be to use Instances that support Enhanced Networking and make the required changes to your instance to make use of these features.

List of Instances which support Enhanced Networking:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#instance-networking-storage
Enabling Enhanced Networking on Linux Instances in a VPC
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html

Once again apologies for the wrong information, hope this help."
Amazon EC2	"Help needed installing IonCube Loader
Hi

I need some help installing ionCube Loader. It appears that I'm not be able to create my own ini files on my server. Therefore, the necessary zend_extension line could not be created in the configuration. Please can you advise as to how I can go about installing ionCube in the correct location.

Thanks"
Amazon EC2	"Re: Help needed installing IonCube Loader
Please follow this url for install in amazon instance.  i have done and working fine.

http://iswwwup.com/t/b02ee12f878a/php-how-to-install-ioncube-loader-on-amazon-linux-x64-instance.html"
Amazon EC2	"Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
This is a cross-post from ServerFault so I'll share the link first: http://serverfault.com/questions/346194/unusual-server-crash-on-ec2-syslog-has-line-of

Feel free to comment here or there as I will check both.

Trying to get at the root of why a server went down for 20 minutes, I looked at the syslog for that time period and saw this:

Jan  3 07:50:01 tools CRON[17085]: (munin) CMD (if [ -x /usr/bin/munin-cron ]; then /usr/bin/munin-cron; fi)
Jan  3 07:55:01 tools CRON[17773]: (munin) CMD (if [ -x /usr/bin/munin-cron ]; then /usr/bin/munin-cron; fi)
Jan  3 07:55:01 tools CRON[17774]: (root) CMD (if [ -x /etc/munin/plugins/apt_all ]; then /etc/munin/plugins/apt_all update 7200 12 >/dev/null; elif [ -x /etc/munin/plugins/apt ]; then /etc/munin/plugins/apt update 7200 12 >/dev/null; fi)
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@Jan  3 08:19:44 tools kernel: imklog 4.2.0, log source = /proc/kmsg started.
Jan  3 08:19:44 tools rsyslogd: [origin software=""rsyslogd"" swVersion=""4.2.0"" x-pid=""470"" x-info=""http://www.rsyslog.com""] (re)start


EC2 shows this CPU utilization during the time of the crash (in the middle, before 13:00 UTC) (see attachment)

So there is nothing even visible during that time period. None of our other EC2 instances crashed and I can find no evidence that it was an application error. In fact, this happened on our tools server (apache, mongodb, and redis). Monit was also running, but there are no suspicious logs at the time of the crash.

What could have caused this crash and what do the ^@'s mean in the syslog?"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
Can you provide the instance ID so I can take a look?

Thanks
Preethi"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
i-af4b59c1"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
Reed, 

There was a problem with the underlying hardware that caused the underlying system to crash.  The artifact of the syslog lines, could be just a representation that the system was in mid write when it crashed, or the lines could have come from the the cron process that was running on the previous line.

Nathan"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
Thanks for looking into this.

Reed"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
Today the same server went down again, this time for over 23 minutes (from around 11:20AM EST). Every time this server crashes I have to rebuild the mongo database. Is there any fix in the works for the server hardware issue?"
Amazon EC2	"Re: Unusual server crash on EC2, syslog has line of ^@^@^@^@^@
Hi there,
sorry for re-opening such an old thread, but I didn't see any rule about ""resurrecting topics"", and we did encounter the same symptoms recently.

Two of our servers were affected by apparently the same thing, showing the same symptoms: complete loss of monitoring (both CloudWatch and from a 3rd-party monitoring agent) during the incident (13 and 29 minutes), and upon a restart, syslog containing a large line of `^@^@^@^@^@^@`.
We can only assume it was an hardware failure, as was the case in the messages above. It is acceptable, however, we have no way of confirming that, and are especially surprised that the EC2 dashboard did not log an event if it was the case. In other hardware failure cases, we've received ""Retirement Notification"" events/emails (either for an immediate crash or future termination). Should it not be the case here?"
Amazon EC2	"Additional Network Interfaces to Imported Instance from VMWare
Hi,

I have successfuly imported a .VMDK CentOS 5 instance to amazon ec2 created through VMWare, now I'm trying to attach 2 additional network interfaces but none of them is getting attached to the instance nor stopped or running .

It is supposed that a ifcfg-ethX files should be created, but after succesfully attaching the interfaces in the AWS Console, nothing seems to work.

Any Ideas?

Thanks in Advance"
Amazon EC2	"What do I need to Enable for SSL and Email
Hi, I'm interested in building a website in AWS that includes a single page with a form that users can fill out and pay by credit card. The form needs to email us when someone submits it. We're probably going to use Drupal for the interface and Commerce module for payment processing...a bit overkill but we're used to it and it shouldn't be too complicated.

My questions for you guys is this: what AWS services do I need to enable to do the following:
1. SSL for secure payment processing?
2. Ability for users to submit forms that get emailed to us?

Thanks!"
Amazon EC2	"Re: What do I need to Enable for SSL and Email
It sounds like you have ended up in the right forum. EC2 is a very relevant service in this case. You probably know that it provides you with a virtual server where you can install pretty much anything you need. Regarding your specific questions: For SSL, you need to obtain your certificate from another party at this time. The Simple Email Service could be of interest when it comes to sending the form information. If you need email accounts as well, take a look at WorkMail."
Amazon EC2	"i am not able to login  in the relaunch instance
Hello
I got my new password by using get password for one the instance id i-1c65544b. I tried to login using RDP and not successful. I have security group open for RDP port as i am using for earlier launches. 
When i try to ping in cmd prompt it says requested time out and log file is
2015/08/16 16:57:34Z: OS: Microsoft Windows NT 6.1.7601 Service Pack 1
2015/08/16 16:57:34Z: Language: en-US
2015/08/16 16:57:34Z: EC2 Agent: Ec2Config service v2.1.16.0
2015/08/16 16:57:39Z: Driver: Citrix PV Ethernet Adapter v5.9.960.49119
2015/08/16 16:58:28Z: Message: Waiting for meta-data accessibility...
2015/08/16 16:58:29Z: Message: Meta-data is now available.
2015/08/16 16:58:33Z: Ec2SetPassword: Disabled
2015/08/16 16:58:34Z: RDPCERTIFICATE-THUMBPRINT: 054AF834CB69C1999AC08F07EDDEDA9827418871
<RDPCERTIFICATE>
<THUMBPRINT>054AF834CB69C1999AC08F07EDDEDA9827418871</THUMBPRINT>
</RDPCERTIFICATE>
2015/08/16 16:59:16Z: Message: Windows is Ready to use

pl help me"
Amazon EC2	"Re: i am not able to login  in the relaunch instance
Hello,

Thank you for the post.

I took a look at the instance: i-1c65544b and found that the instance is in stopped state at this point in time. 

In general, for more information about 'Troubleshooting Windows Instances', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Cannot Create EC2 Instance on SIngapore region
Hi Amazon Support,

I cannot create EC2 instance on Singapore region.

I always get this error message :
This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.
_______________________________________________________________
Initiating launches............... Failure

I can create EC2 instance on other region, such as Oregon.

PS:
I'm from Indonesia, sot it will be really helpful if i can make instance on Singapore region.

I need your help to resolve this problem.

Edited by: tonnyadhi on Aug 27, 2015 4:21 AM"
Amazon EC2	"Re: Cannot Create EC2 Instance on SIngapore region
Hello,

I have engaged the team to further investigate the issue you are experiencing. We will provide you an update once more information becomes available.

Regards,
Mohsin"
Amazon EC2	"Re: Cannot Create EC2 Instance on SIngapore region
Hi, 

I received an update from the team. As noted in the error message you have provided, you have to contact the AWS verification team by sending an e-mail to aws-verification@amazon.com.

Regards,
Mohsin"
Amazon EC2	"error uploading SSL Certificate
Hi, I have a problem uploading an EV SSL Comodo certificate. 

First I put the private key and the public key (certificate from comodo), and as the certificate chain is optional, i didn't put it.  All seems ok but now some browsers like firefox shows a trust error.... 

After searching I need to put the certificate chain, and this is my problem:

Unable to validate certificate chain. The certificate chain must start with the immediate signing certificate, followed by any intermediaries in order.

After reading a lot of forums, i've tried to put the bundle provided by comodo, changing order of certificates inside etc... with no luck.

Here:
https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/620/1/which-is-root-which-is-intermediate

If I go to the first line, SHA-2 , download files, I go to a page with intermediate 1, 2 and root ca.
https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/977/108/extended-validation-sha-2

Tried to put in lots of orders with no luck too....

Anyone can help me please?

Thank you."
Amazon EC2	"Re: error uploading SSL Certificate
Please anyone can help me?

thanks."
Amazon EC2	"Re: error uploading SSL Certificate
Hello,

Thank you for the post.

The certificate chain enables a browser to build a certificate chain to a root certificate that it trusts. As a result, the browser can implicitly trust your certificate. Therefore, you are receiving ""This connection is Untrusted"" error while browsing from certain web browsers like Firefox.

Furthermore, certificate chain includes the intermediate certificates and optionally the root certificate, one after the other without any blank lines, as shown in the following example:
-----BEGIN CERTIFICATE-----
Intermediate certificate 2
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Intermediate certificate 1
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Optional: Root certificate
-----END CERTIFICATE-----

More information about ""SSL Certificates for Elastic Load Balancing"" can be found on this documentation: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html

In order to get the correct intermediate certificate and/or the root certificate for certificate chain, please work with your Certificate Authority i.e., Comodo.

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Instance i-0b78b36d in ""stopping"" state.
Unable to restart instance i-0b78b36d. It stucked in ""Stopping"" state. Before attempt to restart it had status checks failed.

Edited by: kountermove on Aug 25, 2015 11:30 PM"
Amazon EC2	"Re: Instance i-0b78b36d in ""stopping"" state.
Hello,

It does appear the underlying-host that previously hosted the EC2 instance i-0b78b36d experienced an issue. I apologize for any inconvenience caused. I am able to see that your EC2 instance i-0b78b36d is currently in a running state and appears in good health. The underlying-host also appears in good health. 

Regards,
Mohsin"
Amazon EC2	"Instance stuck in shutting down state
I received a message saying the instance was scheduled for retirement. So, I created a replacement and tried to power down the bad instance but it has been stuck powering down for a few days now.

The instance id is i-b5184577.

Thank you for your help!"
Amazon EC2	"Re: Instance stuck in shutting down state
Hello,

I am able to see that your EC2 instance  i-b5184577 has successfully terminated. It does appear there was an issue with the underlying-host where the EC2 instance resided. I apologize for the issue you had experienced. If you have any questions or concerns, please do let us know at your earliest convenience.

Regards,
Mohsin"
Amazon EC2	"Minecraft Server Lags, Even After Upgrade
Hello - 

I am an AWS user who heard about the free plan where you get an t2.micro EC2 instance free for a year. I also read a post about running a Minecraft server on an EC2 server, so I gave it a try. The server worked fine, and I had up to 5 people on the server at once. But then one day (I pinpointed it to August 19th) the server CPU spiked to 100%, and everyone started to experience lots of server lag thereafter, with almost 1-2 second delays between commands. I heard in the post that t2.micro instances sometimes had crazy CPU throttling, which could cause problems, so today I tried copying all the server files to a brand new t2.small instance. At first, no lag, then after a few minutes, the usual server lag came back. Why is this happening? Is this just a general problem with EC2, because I have heard of other servers that flourished with a t2.MICRO instance with LESS server lag than a gaming host. Anyone know any solutions? Thanks in advance!"
Amazon EC2	"Re: Minecraft Server Lags, Even After Upgrade
Greetings,

I think you should consider first learning about CPU credits:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html

I also believe that a small instance won't suffice for a minecraft server, especially if you manage to bring more people in.

Regards,
-Iulian"
Amazon EC2	"Re: Minecraft Server Lags, Even After Upgrade
If you are saying that t2.small instance will not suffice for a minecraft server, how are there posts like these that say t2.small works fine?

http://www.aaronbell.com/how-to-run-a-minecraft-server-on-amazon-ec2/
http://abiteof.com/2015/02/20/building-a-very-cheap-minecraft-server-on-amazons-ec2-cloud/
http://www.blog.gartonhill.com/setting-up-a-free-minecraft-server-in-the-cloud-part-1/
http://javaevangelist.blogspot.com/2013/12/minecraft-server-on-amazon-elastic.html

And especially this one, which clearly states t2.small should work fine for up to 10 players:
http://www.minecraftforum.net/forums/support/server-support/server-administration/1900051-amazon-ec2-server-setup-guide

Also a clarification: The server starts to lag after only 2 people are on the server together, not with the load of 7-10 players, and the lag that ensues is almost 3-4 second lag at times.

Edited by: Manish Pandya on Aug 27, 2015 9:49 AM"
Amazon EC2	"EC2 Time Sync
Hello, the info I found on this is really old so thought I'd ask. I just recently spun up a new server (i-eece204e) and would like to know if I need to sync the clock to aws ntp pool. Is there any info on this?"
Amazon EC2	"Re: EC2 Time Sync
Hello,

It is advised to take a look at our AWS documentation on Setting the Time for Your Linux Instance.

Regards,
Mohsin"
Amazon EC2	"Need group outbound rules to limit connections for yum updates and APIs
Hello all.
I had thought that I resolved this issue, however I am still facing issues.

I need to tighten the outbound security groups on my instances to only allow traffic back to my corporate network. 

When I did this, it broke my yum update capability and the AWS APIs I am trying to run on another instance.

Is there a range I can open up to allow my instances to talk to these resources? I do not want to open up outbound to all.

I tried adding the ranges based on the document here: http://docs.aws.amazon.com/general/latest/gr/rande.html
This document lists the endpoints for each region.  I entered 205.251.242.0/24 for HTTP and HTTPS and everything worked... for a little while. Now it does not. 

What ruleset to I need to implement?

Thanks"
Amazon EC2	"Re: Need group outbound rules to limit connections for yum updates and APIs
I talked to a solutions architect and they recommended this solution:

https://aws.amazon.com/articles/6884321864843201

Enforcing a Squid Access Policy for Amazon S3 and Yum"
Amazon EC2	"Cannot connect to us-west-2 using boto python api
We cannot figure out what is causing our python script to not be able to connect to the region where the instance it is running on lives. Hopefully, someone has some insights or suggestions on how to resolve this issue.

We are connecting to EC2 with the following
import boto.ec2, boto.utils
access_key = ""XXXXXXX""
secret_key = ""YYYYYYYYYYY""
conn = boto.connect_ec2(aws_access_key_id=access_key, aws_secret_access_key=secret_key)
nstance_id = instance_metadata[""instance-id""]
ec2_region = instance_metadata[""placement""][""availability-zone""][0:-1]

and correctly getting
instance_id ==> 'i-12345'
ec2_region ==> 'us-west-2'

However, when I try to get the tag value of Name for the instance or even the attached volumes, EC2 responds that we don't have the appropriate access. As a matter of fact, when looking at the reservations we have for the instance id we already got before (above), we get an empty list!
reservations = conn.get_all_instances(filters={'instance_id':[instance_id]})
reservations ==> []

For some reason, this IAM user we are using only has access to us-east-1 instances.

The AMI policy we are using for this user is the following, so we are not explicitly limiting this user to a particular region.
{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmt1440558723000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:CreateSnapshot"",
                ""ec2:CreateTags"",
                ""ec2:DeleteSnapshot"",
                ""ec2:DescribeInstances"",
                ""ec2:DescribeSnapshots"",
                ""ec2:DescribeTags"",
                ""ec2:DescribeVolumes""
            ],
            ""Resource"": [
                ""*""
            ]
        },
        {
            ""Sid"": ""Stmt1440558869000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""cloudwatch:PutMetricAlarm"",
                ""cloudwatch:PutMetricData"",
                ""cloudwatch:SetAlarmState""
            ],
            ""Resource"": [
                ""*""
            ]
        },
        {
            ""Sid"": ""Stmt1440558925000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""sns:Publish""
            ],
            ""Resource"": [
                ""*""
            ]
        }
    ]
}

Obviously, we are missing something. Any ideas?

THANKS!!!!

Edited by: noisydudes on Aug 27, 2015 7:05 AM"
Amazon EC2	"html dir permissions
I've somehow suddenly lost the ability to write & delete files in my html directory on my ec2 instance.  The problem just arose tonight--is there any sort of maintenance going on that could cause this?  I can't write a new file, I can't delete any files, when I save a file in emacs I get a message that it ""cannot write backup file"".  These are all files that belong to my ec2 login user, and have never caused any problems before.  Subdirectories of html seem to be fine.

Any idea what could be causing this, and what I could do to fix it?"
Amazon EC2	"After importing RAW VM, how to boot?
I just finished importing a multi-GB VM, which is currently sitting in an S3 bucket. the ec2-import completed the import, but I am getting an error message stating failed because the instance failed to boot and establish network connectivity.

I cannot find any documentation as to how I can either make an AMI from the image I imported or how to boot from that imported image.

Any guidance would be much, much appreciated!!

Thanks!!"
Amazon EC2	"Re: After importing RAW VM, how to boot?
This never worked, so we decided to build the server from scratch."
Amazon EC2	"Instance i-1f9adce5 - eth0 experiencing packet loss
AWS - 

I am experiencing a consistent 20-30% packet loss on my c3.xlarge instance (ID: i-1f9adce5) on eth0.

I recently stopped the instance in hopes of there being an underlying issue with the host, and maybe a stop/start would grab a new host. There was no change in the packet loss being experienced after the stop/start event.

Is there an issue with the host, and can my instance be marked to move to a new host? If the host is not the issue, is there anything you can see as to why my NIC is experiencing this?

Thanks,
Timm"
Amazon EC2	"Re: Instance i-1f9adce5 - eth0 experiencing packet loss
There appears to have been network connectivity issues with Internet providers that was affecting the entire us-east-1 region. Things look good this morning."
Amazon EC2	"Cloudwatch Custom Metrics not visible through Console
I have created and published a set of custom metrics using the Cloudwatch CLI.  I am able list the metrics I've published and retrieve statistics using mon-list-metrics and mon-get-stats.  However, when I look for these metrics in the AWS Management Console, none of them are listed.

Not sure if this makes a difference, but I am using an access key pair generated on my user account from the IAM tab in the management console (some instructions seem to say to go to the ""Account"" page, and then go to ""Security Credentials""; this seems to promt me for the AWS account owner's credentials, not my IAM user credentials).

Thanks,
Stephen"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Hi StephenR12,

I'm sorry to hear you are running into a problem. Can you PM me your account ID so we can look on your behalf?

Do the metrics show up in the list of available metrics, or are they not visible at all?

Thanks,

-Mike"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
It looks like i'm having the very same problem"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Did this ever get resolved?  I am having this problem on Sept. 9.  I created custom metrics and waited 45 minutes and I still don't see them in the Dashboard.

I know that they are there because I can see them if I pull them via the API."
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
I too am having this problem. Metric is available through the get metric statistics api, but I can't find it in the console."
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
I had the same problem this afternoon, until I remembered that i forgot to specify my region (EU West).
So, on the AWS Management Console/CloudWatch I moved to the default (US East ) Region and hey presto, here they were .
Hope of help

Edited by: philippeglondon on Feb 28, 2012 9:14 AM"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Exactly the same problem here. Have anyone managed to make it visible in AWS Console?"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Hi,

Once you have confirmed your custom metric is providing data via an API call, it is necessary to update which metrics are displayed on the Cloudwatch tab of the AWS Management console. To do so, browse to the Cloudwatch dashboard (https://console.aws.amazon.com/cloudwatch/home?#s=Home) and click the ""refresh"" button in upper right corner. Once this is complete, navigate to ""All Metrics"" to view them.

Regards,
Zach"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Thank you, ZachT. This solved the problem."
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Tried refreshing, but my custom metrics still do not show up in the console (but they do via command line). Even tried enabling ""detailed monitoring"" on the instance, but still no luck. I've waited a long time and sent several updates.

Does it matter what namespace you use? I assume they show up under ""EC2: Instance Metrics""? I tried scrolling through the full list of ""All Metrics"" too, but didn't see it there either.

Thanks"
Amazon EC2	"Re: Cloudwatch Custom Metrics not visible through Console
Thanks, I was tearing my hair out over this one!"
Amazon EC2	"Network issues
We have a (recurring) network problem - instances become unreachable via network, and unable to reach outside world from withing the computer, yet EC2 internal status checks stay OK (2/2 successful).

For example, last time this happened to 2 instances: i-ff9f32af and i-71daab8c on Aug 20 (7 days ago).
This is not the first time we've had this kind problem, but it's the first time that two servers were affected at once.
Rebooting the instance helps, but we do not consider rebooting instances as a viable production solution.

There are two problems with this:
1. The fact the servers are unreachable from network (and can't reach network themselves either)
2. Since the health-checks pass, no alarms fire - so we don't even know the service is affected unless we attempt to use it ourselves or use additional (external) monitoring.

What can be the problem? And how can we prevent this from happening in the future?"
Amazon EC2	"Re: Network issues
Losing network connectivity can be the result of a lot of factors that are contained within the OS settings and customizations as well such as custom routing or network related kernel customizations. I think you need to set up a more comprehensive monitoring solution to determine why your instances are failing.

Regards,
-Iulian"
Amazon EC2	"database downgraded
Hi 

We have restarted one of our AWS instance x.x.x.x
After restarting we have noticed database got reverted from postgres9.4 to postgres9.3
Please anyone can help me out ?"
Amazon EC2	"My public IP changed for EC2 instance and now my IOS app is not working
Hello,
I am in need of help! My developer expanded our EC2 hard drive and in doing so the public IP changed. Now our mobile APP for IOS is not working and users cannot connect. 

We will be doing future updates to EC2 server, is there a way to prevent the public IP from changing and how do i get fixed ASAP?

I will lose a lot of users if they cannot use the app. Please help!!!!

EDIT It appears to have assigned the EIP. Does that mean in the future when we make changes, it wont change this ip?

Edited by: Saif Ahmad on Aug 26, 2015 1:27 PM"
Amazon EC2	"Re: My public IP changed for EC2 instance and now my IOS app is not working
If you allocate your own Elastic IP and associate it to an interface or instance, it should stick across reboots. (Or can always be re-associated.) If not and it was released, you're basically out of luck. In either case, I'd recommend that you at least set up a DNS record within your own domain that your app uses and that points to your elastic IP's public hostname. This will give you the flexibility to point it elsewhere when needed like a Elastic Load Balancer. (You'll probably want to use a low TTL.). If you use Route53, you can alias it directly to an instance or ELB."
Amazon EC2	"Re: My public IP changed for EC2 instance and now my IOS app is not working
Patrick,

You are correct that i am out of luck. I am working on updating my IOS app to use my host name which is now using dns (which i created to point to the EIP). Now i wait for apple to approve. sigh!

thanks,
Saif"
Amazon EC2	"Setting default ruby version under Amazon Linux?
Is there any recommended (i.e. easy) way to set the default ruby version under Amazon Linux (latest release)? For example, installing puppet3 brings along Ruby 2.0, but I'd like to ruby22 to be the default. It seems like /etc/alternatives is key, but it's not clear on how to effectively manipulate that to ensure all related links are updated (e.g. ruby, gem, irb, etc). Any insight would be appreciated.

Thanks,

Patrick"
Amazon EC2	"Attached new volume is not visible in Disk Management
Hi,

I created and attached a new volume (vol-e0443101) to my Windows Server 2012 instance (i-fe48ee15) successfully, following the documentation provided by amazon. Then I tried to make the new volume online, but the new volume is not displaying in the Disk Management.

Thanks.

Edited by: liglio on Aug 20, 2015 1:24 PM"
Amazon EC2	"Re: Attached new volume is not visible in Disk Management
Hello,

I have reviewed you instance Id:i-fe48ee15 and can see that volume vol-e0443101 is mounted successfully.

It seems to be an issue with OS. Can you try rescan the disk again, stop and start of the instance etc.

Regards,
Anand"
Amazon EC2	"Re: Attached new volume is not visible in Disk Management
Hi,
I tried to detach the volume and attach again, reboot the instance several times, rescan the disk, but it didnÂ´t work.

Sorry for not replaying faster.

Thanks

Edited by: liglio on Aug 26, 2015 10:52 AM

Edited by: liglio on Aug 26, 2015 10:53 AM"
Amazon EC2	"Delete default VPC
i have deleted my default VPC, can you recreate me one in us west 2 region."
Amazon EC2	"Re: Delete default VPC
Hello, 

Thank you for your post!

It looks like there is already a Default VPC in Us-West-2 for this account. The VPC ID is vpc-803447e5. 


Best Regards,
Jillian L."
Amazon EC2	"AWS Linux Feature request - add openjdk jstack to repo pkgs
Hi, we'd like to put in a vote for adding OpenJDK 1.8 jstack utility to the AWS Linux AMI/repo. We're trying to migrate over to the managed OpenJDK JVM from Oracle JVM, and we have a lot of scripted debug operations that depend on jstack. Its in the upstream OpenJDK repos (http://openjdk.java.net/groups/serviceability/index.html#tools), but for some reason isn't bundled in the packages used in AWS Linux. Using jstack in the AWS Linux repo version-matched with the distributed OpenJDK would be much preferable to us than rolling our own package for this.

Thanks!"
Amazon EC2	"instance unreachable, then stuck stopping (micro in us-east-1b)
Instance i-39feec57 has been unreachable since around 04:00 UTC, failing its two status checks in the EC2 dashboard.  Since shortly before 05:00 UTC, when I issued a ""stop"" instruction, it has been ""stopping"" for twenty minutes and is still not stopped."
Amazon EC2	"Re: instance unreachable, then stuck stopping (micro in us-east-1b)
Hello, 

I took a look at instance i-39feec57 and it appears to be in the stopped state. My apologies about any inconvenience this may have caused you. 

Best Regards,
Jillian L."
Amazon EC2	"ec2-import-instance fails
Greetings,

My imported image contains a single disk(OVF) with a single partition:

root@CDI-PRD-APP1:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        18G  1.7G   16G  10% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            991M  4.0K  991M   1% /dev
tmpfs           199M  496K  199M   1% /run
none            5.0M     0  5.0M   0% /run/lock
none            995M     0  995M   0% /run/shm
none            100M     0  100M   0% /run/user

root@CDI-PRD-APP1:~# ls /
bin   dev  home  lib64       media  opt   root  sbin  sys  usr
boot  etc  lib   lost+found  mnt    proc  run   srv   tmp  var

However the conversion fails by not finding the /lib dir. I am not sure why..any help is appreciated.

C:\ec2-api-tools-1.7.5.0>ec2-describe-conversion-tasks
TaskType        IMPORTINSTANCE  TaskId  import-i-ffsw3br8       ExpirationTime
2015-09-01T15:13:56Z    Status  cancelled       StatusMessage   ClientError: Uns
upported: Incomplete root disk. No /lib found   InstanceID      i-97b9ff3c"
Amazon EC2	"EC2 Server Load
I am creating an iOS app that connects to an EC2 server which hosts php pages that connect to an RDS MySQL instance. I also use an S3 bucket to host pictures for this app. I am using my free year of AWS so I only have access to the free-tier services (i.e. a t2.micro EC2 instance).

This app is for an event that will last about 6 hours on one day. I anticipate probably about several hundred or maybe more people will be using the app frequently during that time period. The app connects to the EC2 server when it is first opened, and then about once every hour after that. My question is whether this t2.micro EC2 instance that I am using will be able to withstand this load or will something bad happen. I ask this because I set up a CloudWatch for the server and I get a warning for CPUUtilization >= 70% for 5min
 about once a day, and right now I'm the only person ever connecting to the server.

Edited by: infamous911 on Aug 20, 2015 1:47 AM"
Amazon EC2	"Re: EC2 Server Load
Hello,
thank you for your message. Even if you're planning to use your instance for just one event that will last about 6 hours, I'd recommend you to perform further tests on it and eventually consider a larger instance type (as m3.mediun or m3.large), because T2 instance types have a CPU credit monitoring [1]: if vCPU is used at 100% for 1 minute, your Credits will be decreased and new credits will be earned when performances are below its base performance level allows (such as when it is idle).

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

Regards,
Alessandro"
Amazon EC2	"Re: EC2 Server Load
Thank you for your response.

I think I can probably expect to have a consistent amount of 0 credits, which means the instance will be running at its base performance level, which is 10% of CPU. How many connections per hour is a t2.micro at 10% of CPU able to sustain? We are just talking about a connection to a simple php page that accesses a MySQL database, which I don't think takes a lot of CPU power. 

What happens if there are too many connections to the instance? Will that just mean there will be more of a wait to connect to it? How much of a wait?"
Amazon EC2	"Security group outbound rule to limit connections for yum updates and APIs
Hello all.
I need to tighten the outbound security groups on my instances to only allow traffic back to my corporate network. 

When I did this, it broke my yum update capability and the AWS APIs I am trying to run on another instance.

Is there a range I can open up to allow my instances to talk to these resources? I do not want to open up outbound to all.

Thanks"
Amazon EC2	"Re: Security group outbound rule to limit connections for yum updates and APIs
I found this and added the correct endpoints with HTTP access.

http://docs.aws.amazon.com/general/latest/gr/rande.html

It's working now.

Edited by: cloudsparker on Aug 26, 2015 9:01 AM"
Amazon EC2	"Supported kernel version list for Linux import instance
Hi,

I got the following error when I imported SUSE 11 SP3 to  S3 using ""EC2-import-instance"":
ClientError: Unsupported kernel version 3.0.101-0.47.52-default

I am just wondering, could you please give us a full list of supported Linux kernel version for import instance. So, we will never waste time on this.

thanks,

Edited by: Tek_RD on Aug 26, 2015 8:37 AM"
Amazon EC2	"Doubts about AutoScaling with several policies
Hi,

I have some doubts regarding AutoScaling:

Let's say I'm setting up AutoScaling with the following metrics: CPU, Memory. Each of them has a scale up / down policy:

CPU: 
  - Scale up by adding 1 instance if CPU has been above 80% for the last 10 minutes.
  - Scale down by removing 1 instance if CPU has been under 20% for the last 10 minutes.

Memory:
   same than above (CPU).

so far everything seems to be working okay, but now I'm thinking in adding a third scale policy in order to scale if my instances are attacked with DDoS, hence I'll use NetworkIn as a metric to scale.

Considering this scenario: 

If I add this policy based on NetworkIn metric, and let's say that in some moment the scaling policy gets triggered and launch 2 instances because I'm receiving a lot of inbound traffic, if after 10 minutes I am still receiving high amount of traffic but on those instances CPU and RAM are under 20% will my other scale down policies trigger and remove these instances even if I'm still receiving high traffic?

Thanks in advance."
Amazon EC2	"Re: Doubts about AutoScaling with several policies
anyone?"
Amazon EC2	"EC2 Amazon Linux Server not receiving ICMP Fragmentation Needed Messages
I have an EC2 Server running m3.large running Amazon Linux. The security group has a Custom ICMP Rule Destination Unreachable and fragmentation required, and DF flag set set for IP Addresses:  0.0.0.0/0

However, the ICMP messages are not being received by the server. We were able to confirm using tcpdump icmp. A client sent the requests but the server is not getting them. The rule appears to still be blocking. 

I also have  Custom ICMP Rule  Echo Request and Echo Reply set for 0.0.0.0/0 and this works fine.  I can ping the server.

But the first rule appears to not be working. 

I've confirmed that IPTABLES is not running on my instance.

Can anyone make a suggestion?

 Mike Russiello
mike@hravatar.com"
Amazon EC2	"Re: EC2 Amazon Linux Server not receiving ICMP Fragmentation Needed Messages
I'm sure you've already done this, but have you got the ICMP allow rules in both inbound and outbound on the security group?"
Amazon EC2	"Key Pair stopped working for one instance but not others
I created a keypair and launched two instances with it (i-2e1312fd and i-e30e0f30).  Until last night, I was able to log into both without any problem.  I am now still able to log into one (i-e30e0f30) but on the other (i-2e1312fd) I get ""Permission denied (publickey).""  I'm also able to launch new instances with the same keypair and log into them.

Any advice would be appreciated."
Amazon EC2	"Re: Key Pair stopped working for one instance but not others
Hello,

Thank you for the post.

I took a look at your instances: i-2e1312fd and i-e30e0f30, and I see that everything i.e., security groups, network ACLs and route table, is configured correctly. Also, I tried to connect to the instances using netcat command on port 22 (SSH) and I was able to connect. Please see the output below:
nc -v 52.X.X.X 22
Connection to 52.X.X.X 22 port tcp/ssh succeeded!
SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2

From the above output, it looks like the instance is accepting connections on port 22 (SSH).

The error you are receiving: Permission denied (publickey) could be because, you are connecting with inappropriate user name for your AMI and that you have not specified the proper private key (.pem) file for your instance.

For more information about 'Troubleshooting Connecting to Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectingMindTerm

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Key Pair stopped working for one instance but not others
Thank you for the suggestions. The keypair was correct.  Unfortunately I was unable to resolve this and had to terminate the instance and rebuild it from scratch."
Amazon EC2	"Not able to create dynamic folder on /home/ec2-user/MyDir/ on AWS
I wanted to create a folder on ""/home/ec2-user/MyDir/test"" on AWs but It is saying permission denied though I given enough permission to the directory. 

<?php
$brideOrderFolder = '/home/ec2-user/MyDir/test';

if (!@mkdir($brideOrderFolder)) {
$error = error_get_last();
echo $error; //Error: mkdir(): Permission denied
}
exit;
?>

Here is my folder permission.

ec2-user@ip-xx-xxx-xxx-xxx MyDir $ ls -ld
drwxrwxrwx 5 ec2-user ec2-user 4096 Aug 23 14:24

Can't I make dir at ""/home/ec2-user"" dir in AWS?

Edited by: jiimt on Aug 26, 2015 6:19 AM

Edited by: jiimt on Aug 26, 2015 6:20 AM"
Amazon EC2	"Re: Not able to create dynamic folder on /home/ec2-user/MyDir/ on AWS
How are you running this script?"
Amazon EC2	"How to get a password of a linux machine in aws
How to get password for ""ec2-user"" / ""root"" user in case my ec2 machine has a suse linux?

I am using ppk file to connect through putty but not able to retrieve its password for ""ec2-user"". Which is required for some applications."
Amazon EC2	"Re: How to get a password of a linux machine in aws
You can change the password of the ec2-user. You would simply connect to the server over ssh. Type ""sudo -i"" to get to a root console. Then you would type ""passwd ec2-user"" to bring up a password change dialogue."
Amazon EC2	"Re: How to get a password of a linux machine in aws
Changed the linux password as mentioned...but again while connecting to that linux machine using putty ( and this time not using key, using password for authentication ) getting the following error:

""error is Disconnected: No supported authentication methods available(server sent: publickey)""

Tried to connect using different clients and from different machine...but still not able to connect.

Edited by: avikPune on Aug 26, 2015 5:58 AM"
Amazon EC2	"Amazon Load balancer has very huge latency of upto 30-40 seconds
Hi, 
Load Balancer does not forward the request immediately many a times and this causes issues in client connection.

Name of load Balancer: ed1-ovbordergw

Basically, some messages are forwarded immediately to the servers behind load balancer but many times, they are help in load balancer for several seconds before they make it to the server. This is the case when there is absolutely no load in the load balancer. How to go about resolving this?

I tried telnet to the specific port and the result is same(varies randomly between 1-30 seconds).

I tried from within my office and also from home(outside of office network). The result is same(varies randomly between 1-30 seconds).

Edited by: Karthik1980 on Aug 26, 2015 3:36 AM

Edited by: Karthik1980 on Aug 26, 2015 3:40 AM"
Amazon EC2	"Openssh update
Hi, is current version of Openssh on Amazon Linux affected by this issue?

http://www.securityfocus.com/archive/1/536220"
Amazon EC2	"Re: Openssh update
This post has been edited; we originally confused this post with a separate SSH question and provided an incorrect response. We apologize for the misinformation.

The Amazon Linux AMI team is investigating CVE-2015-6563 and CVE-2015-6564. Both of these CVEs are local-user attack vectors which upstream rates as medium severity. If SSH access is limited only to the trusted owner of the private key associated with the AWS account that is launching the instance, these CVEs are likely to be of very little concern.

Thank you for using the Amazon Linux AMI!

Edited by: Sean@AWS on Aug 25, 2015 10:03 PM"
Amazon EC2	"EBS State Error
Good morning. Last weekend i was ""surprised"" by an email of my main volume with a error. Searching google and here, looks like im not the only ""lucky"" do fit the 0,05% of this problem. I though for the price that i pay for a reserved r3.large instance, it could have at least a mirror security in your datacenter.

Now im with my production environment stopped because of an error that could be acceptable in a free ""anything"" host service... So i need help at least to reattach the volume in read-only mode as it was to download importante files that is there.

The volume id is vol-7b058a3e. Hope i can count with the engineers to help me recover my files.

Thanks in advance."
Amazon EC2	"Re: EBS State Error
Hello,
sorry to hear that you are experiencing issues with your vol-7b058a3e volume. We are working with our EBS team in order to help you recover volume data and attach it to a running instance.

We'll update you as soon as we have an answer from them.
Regards,
Alessandro"
Amazon EC2	"Re: EBS State Error
Hi Alessandro. Do you have a prevision for this work?"
Amazon EC2	"EC2 instance slow from specific ip
Hi All,

We  face an issue with our EC2 instance (m3.2xlarge, US West 2b). For some reason it appears to be very slow and even unresponsive at times from a specific ip. The case is that we have a site hosted on a lamp stack (bitnami image) there, and we have all our administrative users accessing the site from the same ip (office space connection) and updating things. 

Even though monitoring does not show anything suspicious happening in terms of CPU usage or other, the site is very slow for these users. This is a consistent issue appearing only for the last 7-8 days. Before that things were working fine. At the time if we access the site from another connection (different ip) things work as expected. We tried to troubleshoot the issue but with no success thus far. 

Does anyone have any suggestions why this can be happening? Also do you know if amazon applies any kind of throttling or protection against specific ips if there is too much traffic coming from these? (DDOS protection etc..)"
Amazon EC2	"Please terminate instance i-db9768d1
Instance State has displayed shutting-down for the last 24 hours."
Amazon EC2	"Re: Please terminate instance i-db9768d1
Hello, 

I've terminated this instance for you as requested. Let us know if you have any additional questions or concerns. 

Regards,
Nick"
Amazon EC2	"Error Installing DigiCert SSL Certificate: Failed to create SSL Certificate
I have tried to upload digicert certificate to my ELB which works fine when I did a self signed. Now when I tried to upload the DigiCert certificate I receive an error that say ""Failed to create SSL Certificate: digi_lenGDI. Private key was in an unrecognized format.""

Have anyone seen this error before and would you know the root cause and solution.

Thank You"
Amazon EC2	"Re: Error Installing DigiCert SSL Certificate: Failed to create SSL Certificate
Hello, 

Please see the following documentation, and verify your certificate matches the format covered here:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html#upload-cert

Additionally make sure there are white spaces in what gets pasted. 

Regards,
Nick"
Amazon EC2	"How best to utilize the ACL to block offending/hackers Ip's
Hi
What is the best way to utilize the ACL to block offending/hackers Ip's 

I have following offending/hackers IP 94.23.216.76 which is blacklisted on anti-hacker-alliance.com
http://anti-hacker-alliance.com/index.php?ip=94.23.216.76&searching=yes

The IP range is listed as  94.23.200.0 - 94.23.229.202 

I have obtain the CIDR's, for the above range.
94.23.200.0/21
94.23.208.0/20
94.23.224.0/22
94.23.228.0/24
94.23.229.0/25
94.23.229.128/26
94.23.229.192/29
94.23.229.200/31
94.23.229.202/32

Should I add a deny entry for all the above CIDR?"
Amazon EC2	"SSL error Unrecognised SSL message, plaintext connection
Hey there, 

I am using Logback to send logging events to my ELK stack which is in fact hosted on an EC2 instance.

If I remove the ssl restrictions then everything works fine and behaves as expected. However if I attempt to send the data using ssl with a x509 certificate I get the following error:

:message=>""SSL Error"", :exception=>#<OpenSSL::SSL::SSLError: Unrecognised SSL message, plaintext connection?>

The application is listening on port 5000 and the security has port 5000 open. Anyone have a solution for this?

Edited by: cedw93 on Aug 25, 2015 9:37 AM

Edited by: cedw93 on Aug 25, 2015 9:44 AM"
Amazon EC2	"ec2-import-instance fails when importing an ova Linux file
I'm trying to import an OVA file containing a CentOS-5.2 image.  My command line is:


ec2-import-instance ./file_20Gv2.ova -f OVA -t c3.xlarge -a x86_64 -b <bucket> -o <id> -w <secret> -p Linux

ERROR: OVA is unsupported format.

Is ova format supported for Linux?  If not, is it possible to convert my ova file into something that is acceptable to ec2-import-instance?

Thank you for your assistance"
Amazon EC2	"Re: ec2-import-instance fails when importing an ova Linux file
OVA is not a supported format for the ec2-import-instance command. You will need to extract the vmdk file from OVA and import that.

http://pubs.vmware.com/vsphere-4-esx-vcenter/index.jsp?topic=/com.vmware.vsphere.vmadmin.doc_41/vc_client_help/importing_and_exporting_virtual_appliances/t_export_a_virtual_machine.html

Alternately we have launched new APIs recently that allows OVA files to be imported directly.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingImportImage.html

The new APIs are supported through the AWS CLI."
Amazon EC2	"How ELB behaves when it gets huge amount of traffic in short time?
Hi,

I have read that ELB scales up without too much trouble if traffic gets increased accordingly, however if traffic gets increased very rapidly in a short amount of time (for instance, when it's being attacked in a DDoS) it could stop working, is this correct or I'm wrong?

In such cases, what are the best practices to avoid service disruption in this kind of situation?

PD: appliances like aiCache or any other solution based on DNS change like CloudFlare won't work if the attack is directly against the IP and not against the domain name.

Thanks in advance."
Amazon EC2	"Re: How ELB behaves when it gets huge amount of traffic in short time?
Hi,

ELB will behave as follows in this scenario:

""Elastic Load Balancing will likely never reach true capacity limits, but until it scales based on the metrics, there can be periods in which your load balancer will return an HTTP 503 error when it cannot handle any more requests. The load balancers do not try to queue all requests, so if they are at capacity, additional requests will fail""

Source: http://aws.amazon.com/articles/1636185810492479

If you have a planned and expected rise in your ELB traffic you can get it pre-warmed so it grows with the increased demand.  This is also covered in the above article.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: How ELB behaves when it gets huge amount of traffic in short time?
Hi Stooby,

First of all thanks for giving some feedback.I knew that if I'm expecting an increment in the amount of traffic I'll be receiving anytime I could request a ""pre-warmed"" ELB just as you say, the problem is that there are sometimes when you get this kind of traffic in a ""unpredictable"" way, for example when you're being attacked with a DDoS.

According to the article you cited above, ELB will start to throw 503 errors when its capacity is near its limits, but of course, in terms of availability this could be translated as legit users will get this error and not the actual site because the DDoS attacker is taking all the current ELB resources.

Do you know how much time does it take approximately in ""adjust"" its size to one that is capable to deal with the current traffic demand?

Thanks again"
Amazon EC2	"problems with EC2 instances in Europe (Ire) just now (25/8/15 14:50 BST)?
Hi,

We have 2 EC2 instances running and they both went down at the same time at about 14:49 British Summer Time (we have a test set-up running every 10 minutes). I then manually launched 2 new instances in the same availability zones as the ones already used by the other 2 instances and these 2 new instances took much longer than usual to start. Usually they take less than 5 minutes to launch and then perhaps another 5 minutes for the services that we run on them to come online. This time it took 10-15 minutes for the instances to launch and another 10-15 minutes for the services to come online (about 25 minutes in total).

Has there been any problems with EC2 instances in EU Ireland at this time? I checked http://status.aws.amazon.com/ but it said the service was running normally.

Kind regards,
Mike"
Amazon EC2	"Mounting a device
Hello -

I am in the process of recreating a server because mine was retired last week.  I am trying to mount my old device on the new server but keep getting ""mount: special device /dev/$$$ does not exist.""  Can anyone suggest a remedy?

Thanks,
Mike"
Amazon EC2	"Re: Mounting a device
Hello,
as first step, could you please provide affected instance id? Please make sure that old device volume is attached to it.
Regards,
Alessandro"
Amazon EC2	"EC2 AutoScalingGroup Scale-in
Hi,

We have set a Scale-in Policy as below on one of our Web-Servers:

Scale in when
breaches the alarm threshold: CPU Utilization < 25 for 3600 seconds
Take the action: Remove 1 instance	

and Scale out when:

breaches the alarm threshold: CPU Utilization > 75 for 300 seconds
Take the action: Add	1 instances

Scaling-out works as intended, when CPU Utilization is >75 for 5 minutes an instance is initialized, but 
the scale-in policy should keep the instance for until CPU Utilization is down to <25 for 1 hour. Attached are some of the scaling activity history and as you can see, the time for how long the instance was kept is almost always between 5-10 minutes.

Looking forward to some replies and help.

Thanks."
Amazon EC2	"EC2 instance startup issue in VPC (Determining IP information for eth0...)
Hello

I have a working Amazon AMI Linux instance in VPC but today i restarted it and it stopped working. Here what is happening. 

When i start instance it passed both ""System Status Check"" and ""Instance Status Check""
But instance is not accessible on network.
I checked System Logs and it was stuck on ""Determining IP information for eth0..."" and nothing happens after this.  

Complete System logs are attached as text file. 

Anyone have any idea about this issue ??"
Amazon EC2	"Re: EC2 instance startup issue in VPC (Determining IP information for eth0...)
Hello,
could you please give us instance id so we can further investigate?

Thank you.
Regards,
Alessandro"
Amazon EC2	"Change my /var/www folder from ephemeral to EBS
Hi

We rebooted our server and lost our /var/www folder

How do we make sure that our /var/www folder is part of EBS and not ephemeral storage?

Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1      7.8G  2.8G  4.7G  38% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            1.9G   12K  1.9G   1% /dev
tmpfs           377M  348K  377M   1% /run
none            5.0M     0  5.0M   0% /run/lock
none            1.9G     0  1.9G   0% /run/shm
none            100M     0  100M   0% /run/user"
Amazon EC2	"Re: Change my /var/www folder from ephemeral to EBS
Hello,
based on ""mount"" command output you posted, it seems that /var/www is part of /dev/xvda1 disk: to further assist you, could you please give us affected instance id and /etc/fstab content?

Regards,
Alessandro"
Amazon EC2	"ec2 + route53 issue
Hello!

I have strange issue with dns names in ec2.
I recently transfer several DNS zones to route53.
In one zone I have several CNAME records, pointed to EC2 instance. If I query that records from outside of EC2 - I receive correct answer. If query goes from ec2 instance - I receive Not Found error. 
Instance is in VPC. In same time, records in other DNS zones works as expected. Main question - how to fix dns resolution ?"
Amazon EC2	"Re: ec2 + route53 issue
Hello,
could you please give us affected domain names and instance id you're experiencing issues with? Also, output of ""dig domain_name.com"" (for both a working domain and a not working one) from instance and output of instance DNS configuration would help.

Regards,
Alessandro"
Amazon EC2	"Default Security Policy breaks Path MTU discovery; web pages won't load.
Do you have problems with a small number of users who can't load web pages, download files, or otherwise interact with your EC2 server?

The problem might be the Default security policy.  It does not allow ICMP Type 3, Code 4 packets through.  This means that Path MTU discovery is broken.

You have three options:

#1. Allow all ICMP through (-1, -1, 0.0.0.0/0).
#2.  Stop sending packets out with Dont Fragment set:
   echo 1 > /proc/sys/net/ipv4/ip_no_pmtu_disc
#3.  Enable Linux path MTU Black hole detection:
   echo 1 >  /proc/sys/net/ipv4/tcp_mtu_probing
 or echo 1 for detect, then use, echo 2 for always use it.

These solutions only solve the problem for data going out of your system to the other end.  If the other end has the problem in reverse, data from them to you, you can't fix it*.  They have to fix it.

AWS itself is bugged by this problem; it is impossible to login when there is a reduced-MTU link(VPN, 6to4, 4to6, etc) in your path because the AWS login screen uses images served by Akamai, which has the same defective firewall in front of their CDN servers.  Ticket was opened with Akamai (for www.apple.com, also won't load), AKAM-CASE #B-C-32AU2F.  Their initial finding was 'no problem found' so they will need additional input.  Akamai would appear to be the #1 biggest cause of Path MTU brokenness in the whole darn Internet.  AWS would have to be #2.

additional reading:
http://www.znep.com/~marcs/mtu/
http://www.fir3net.com/General-Info/General-Info/pmtu-pmtu-black-holes.html


Discuss!"
Amazon EC2	"Re: Default Security Policy breaks Path MTU discovery; web pages won't load.
I know this is an old post - but for anyone else struggling with this, Clarence has hit the nail on the head.

I battled with this problem for weeks before discovering it was an issue with MTU - and in my experience, it affected a huge variety of home routers - such as the Belkin F5D7633 (ADSL2+ Wireless G router) and SMC Barricade, Zyxel etc.....

This issue was single-handedly responsible for eroding the confidence of many of my clients to host stable and reliable sites (particularly those that used SSL) - and was only fixed by firmware upgrades to the clients' routers.

The most obvious symptoms were repeated entries claiming SYN Flood to Host in the routers logs.
For anyone else struggling with this issue - follow Clarence's advice above and check for firmware updates.

Once I did that - the problem was solved."
Amazon EC2	"Re: Default Security Policy breaks Path MTU discovery; web pages won't load.
Hi Clarence 
Im experiencing the same problem and I came across your post. I have added 'All ICMP' for all of my inbound traffic, all the ports as well, but still Im experiencing the same problem? What am I doing wrong here?
And because I cannot connect to SSH, so how should I be running the commands from second and third options??? 

Cheers,
Shehroze"
Amazon EC2	"An example of a problematic download
I encountered this (or at least, a problem that was fixed by reducing my Linux instance's MTU from 9001 to 1400).  It affects downloading a specific file from a specific server on the internet.  Actually yum was failing, but it can be recreated with the more basic curl.

Posting here in case these steps to recreate / check resolution are useful.

curl -H ""Range: bytes=0-1200"" -v http://ftp.icm.edu.pl/pub/Linux/opensuse/repositories/home:/oojah:/mqtt/RedHat_RHEL-7/x86_64/mosquitto-1.4.3-1.1.x86_64.rpm > test.rpm

Get stuck forever and needs to be killed with Ctrl-C

curl -H ""Range: bytes=0-1100"" -v http://ftp.icm.edu.pl/pub/Linux/opensuse/repositories/home:/oojah:/mqtt/RedHat_RHEL-7/x86_64/mosquitto-1.4.3-1.1.x86_64.rpm > test.rpm

Completes successfully.

Now run: 

sudo ip link set dev eth0 mtu 1400

Now retry:

curl -H ""Range: bytes=0-1200"" -v http://ftp.icm.edu.pl/pub/Linux/opensuse/repositories/home:/oojah:/mqtt/RedHat_RHEL-7/x86_64/mosquitto-1.4.3-1.1.x86_64.rpm > test.rpm

It now succeeds."
Amazon EC2	"Need to install or compile ffmpeg-php into EC2 instance
I have struggled for more than a week and still don't know how to do this.
Anyone knows how to either install from any packages or compile from source code?
My instance is Red Hat 7.1, x86_64.    Or I can switch to Amazon AMI if you know how to do it there?
Thanks in advance!"
Amazon EC2	"Re: Need to install or compile ffmpeg-php into EC2 instance
0
down vote
favorite


I am about two days into attempting to install FFMPEG-php with dependencies on an AWS EC2 instance running the Amazon Linux AMI. I've installed FFMPEG, and have read reportedly successful instructions on installing on Red Hat/Fedora. I have followed a number of tutorials and forum articles to do so, but have had no luck yet. As far as I can tell, the main problems are as followed:

I have installed all the dependency for ffmpeg-php. I run the following command successfully.

$wget http://downloads.sourceforge.net/project/ffmpeg-php/ffmpeg-php/0.6.0/ffmpeg-php-0.6.0.tbz2 $tar xvfj ffmpeg-php-0.6.0.tbz2 $phpize

But when I run the following command it throw the error like below:

$sudo ./configure

configure: error: ffmpeg shared libraries not found. Make sure ffmpeg is compiled as shared libraries using the --enable-shared option}

I have used enable shared option with shared enable option but it throw the same error.

On to my question: Has anyone successfully installed FFMPEG-php on Amazon Linux? Is there a fundamental incompatibility? If anyone could share specific instructions on installing ffmpeg-php on amazon linux I would be greatly appreciative. Any other insights/experiences would also be appreciated."
Amazon EC2	"Re: Need to install or compile ffmpeg-php into EC2 instance
You should be able to point to the ffmpeg install directory to help the configure script find the libraries. To get the ffmpeg path, look for the --prefix option in the output of ffmpeg --help

Then you can pass this to the configure script:
./configure --with-ffmpeg=<prefix path>

Depending on how you built and installed ffmpeg, you may need to adjust the path above to point at the shared libraries.
I hope this helps, 
Heath"
Amazon EC2	"Re: Need to install or compile ffmpeg-php into EC2 instance
I have used your solution with following command
$ sudo ./configure --with-ffmpeg=/root/ffmpeg-static/64bit
my ffmpeg prefix path = /root/ffmpeg-static/64bit

But it throws the same error."
Amazon EC2	"Bug in ami-12195765; 100% CPU, Windows Update never completes.
Hi,

I've launched a couple of instances using ami-12195765 (Windows_Server-2008-R2_SP1-English-64Bit-SQL_2008_R2_SP2_Web-2015.07.15) in eu-west-1a, and neither will complete Windows update.

When searching for updates, svchost.exe uses all free CPU. I've tried various things to get around it (including waiting, rebooting, shutting down and starting up, and as a last resort, deleting the SoftwareDistribution folder), all to no avail.
Nothing suspicious in windowsupdate.log or CBS.log except for a few of these (which may be normal?) -
2015-08-24 18:32:21, Info                  CSI    00000211 Couldn't mark for pending delete: [ml:78{39},l:76{38}]""\SystemRoot\WinSxS\Temp\PendingDeletes""\[l:90{45}]""$$DeleteMe.sorttbls.nlp.01cfe879370614d0.0012"".  Reason: [13]""Cannot Delete""

The scvhost thread in question is wuauserv wuaueng.dll!DllInstall+0x5704. No disk or network IO whilst it's hanging. 

Stopping the wuauserv service immediately returns the system to a usable state, albeit without the latest updates.

Has anyone else experienced this? I'll probably just give up and go with 2012, but would prefer to get to the bottom of this.

Many thanks,
Dave."
Amazon EC2	"Re: Bug in ami-12195765; 100% CPU, Windows Update never completes.
Hi sircompo,

Could you provide the instance where you experienced this issue? Also, did event viewer throw any errors during the windows update process?"
Amazon EC2	"Re: Bug in ami-12195765; 100% CPU, Windows Update never completes.
Hi Rodney,

i-624fd1c3 is one of the machines, but it should be possible for you to replicate the issue by launching a new instance based on the previously mentioned ami.

One thing I've just noticed (from looking at CloudWatch stats), is that the CPU immediately dropped to idle when I gave up and went home last night (I left the session open in an RDP window, but my workstation was locked). When I checked this morning, Win Update had completed the detection phase and was offering me updates. Clicking 'Install' max'd out the CPU again and a 'Cancelled' error and an option to Try Again. I clicked 'Try Again' and the CPU has max'd out and it says 'downloading updates...' but is stuck at 0% and there's no i/o. 
Perhaps the lull in CPU activity was a fluke as I've not been able to replicate it this morning. 
NB. This was on a different instance; i-464b2de7.

The only way I can get the system to respond to open eventvwr is to set the svchost priority to Low or to stop the wuauserv service. There are no event log warnings or errors.

Interestingly, I see that windowsupdate.log shows shows errors from before the instance was launched (i.e. from when the image was originally commissioned by Amazon) -
2015-07-19	20:04:33:839	 868	b1c	PT	+++++++++++  PT: Synchronizing server updates  +++++++++++
2015-07-19	20:04:33:840	 868	b1c	PT	  + ServiceId = {9482F4B4-E343-43B6-B170-9A65BC822C77}, Server URL = https://fe2.update.microsoft.com/v6/ClientWebService/client.asmx
2015-07-19	20:04:34:072	 868	b1c	PT	WARNING: Cached cookie has expired or new PID is available
2015-07-19	20:04:34:316	 868	b1c	PT	WARNING: PTWarn: Anonymous plug-in skipped for WU
2015-07-19	20:06:45:679	 868	910	AU	Initiating Install-at-shutdown
2015-07-19	20:06:45:679	 868	910	Shutdwn	user declined update at shutdown
2015-07-19	20:06:45:680	 868	910	AU	Successfully wrote event for AU health state:0
2015-07-19	20:06:45:680	 868	910	AU	AU initiates service shutdown
2015-07-19	20:06:45:681	 868	910	AU	###########  AU: Uninitializing Automatic Updates  ###########
2015-07-19	20:06:57:552	 868	b1c	PT	WARNING: PopulateDataStore failed: 0x8024000b
2015-07-19	20:06:57:572	 868	b1c	PT	WARNING: Sync of Updates: 0x8024000b
2015-07-19	20:06:57:573	 868	b1c	PT	WARNING: SyncServerUpdatesInternal failed: 0x8024000b
2015-07-19	20:06:57:573	 868	b1c	Agent	  * WARNING: Failed to synchronize, error = 0x8024000B
2015-07-19	20:06:57:611	 868	b1c	Agent	  * WARNING: Exit code = 0x8024000B
2015-07-19	20:06:57:611	 868	b1c	Agent	*********
2015-07-19	20:06:57:611	 868	b1c	Agent	**  END  **  Agent: Finding updates [CallerId = AutomaticUpdates]
2015-07-19	20:06:57:611	 868	b1c	Agent	*************
2015-07-19	20:06:57:612	 868	b1c	Agent	WARNING: WU client failed Searching for update with error 0x8024000b
2015-07-19	20:06:58:093	 868	910	Service	*********
2015-07-19	20:06:58:093	 868	910	Service	**  END  **  Service: Service exit [Exit code = 0x240001]
2015-07-19	20:06:58:093	 868	910	Service	*************


This suggests a pre-existing problem, although it might just be something to do with your build environment?

The acid test is to launch a regular 2008R2 instance alongside a 2008R2+SQLWEB on, and simultaneously check for updates. One works, the other does not.

Hope that's not too much information!

Cheers,
Dave."
Amazon EC2	"ec2-consistent-snapshot and NFS lockups?
My file server is running Ubuntu 12.04 LTS.  Web Servers connect to it for NFS mounts over nfsv4.

I have a periodic NFS lockup happening and see errors in the syslog similar to

nfsd process xxxx has been blocked for 120 seconds.

Beyond that the server is completely unresponsive for any NFS mounts, web servers monitoring pages start to fail and the file server needs to be stopped and started to recover use of NFS services again from the webs.

Often times, just prior to this lockup I have a snapshot that is started using ec2-consistent-snapshot running like the following:

/usr/bin/ec2-consistent-snapshot --description ""My Backup Name"" --xfs-filesystem /folderofthemount vol-xxxxxxxx

Have others noticed this same issue or have any helpful advice?  I haven't found a consistent rhyme or reason for the scenario other than that about 50% of the time there is a ec2-consistent-snapshot backup running just prior to when the lockup seems to start.  Other times, after talking to AWS support, they report increased latency or networking issues at the time that could have impacted my servers."
Amazon EC2	"(Bug report) IAM ""power user"" cannot upload ELB SSL certificate
I created an IAM ""power user"" which is supposed to have all permissions except the ability to manage other IAM users.

I can create a ELB instance but I cannot upload a certificate within the IAM sub-account portal.

When attempting to do so within the ELB wizard I receive this error:

Error: User: arn:aws:iam::957144137209:user/endertech is not authorized to perform: iam:UploadServerCertificate on resource: arn:aws:iam::957144137209:server-certificate/MCH-2012

If I create the ELB instance without the SSL certificate and then try to add it from the property page (not in the creation wizard) I simply receive this error:

User does not have permission.

The IAM group policy is:
{
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""NotAction"": ""iam:*"",
      ""Resource"": ""*""
    }
  ]
}


Thanks

Edited by: endertech on Aug 9, 2012 10:49 AM"
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
I have this problem too."
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Hi, do you know what permission should I ask so I can set and change SSL load balancer certs?

I'm a power user with some other custom permissions.

Saludos!

Edited by: jpdborgna on Mar 18, 2013 1:10 PM"
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Hi,

Server certificates are managed by IAM and the default Power User IAM policy blocks all IAM actions:
{
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""NotAction"": ""iam:*"",
      ""Resource"": ""*""
    }
  ]
}

A list of all IAM actions can be found in our  IAM API documentation. As well,   here is a list of all IAM actions you can specifically perform on Server Certificates.

You may find the  AWS Policy Generator,  documentation, and  example policies helpful for help writing a custom policy to allow the ability to perform specific IAM actions (such as  UpdateServerCertificate).

I hope this helps!

Regards,
Joe C."
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Hi Joe,
I'm just learning IAM policies. So, if I read your response correctly, this is 0 or 1; the permission is either ALL IAM permissions or NONE, there's no greater granularity, like allowing the upload of certs, only, not the deletion? 
If I've gotten this wrong, do you have the URL for the documentation? I've searched but think I may not be familiar enough with AWS to be searching efficiently.
Thanks,
Chris"
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Hi FreeMoneeIT,

You can certainly write an IAM policy to allow certain IAM actions.

I have included a lot of documentation links above in Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate:
--
A list of all IAM actions can be found in our  IAM API documentation. As well,   here is a list of all IAM actions you can specifically perform on Server Certificates.

You may find the  AWS Policy Generator,  documentation, and  example policies helpful for help writing a custom policy to allow the ability to perform specific IAM actions (such as  UpdateServerCertificate).
--

For example, your policy may look something like this:
{
  ""Statement"": [
    {
      ""Action"": [
        ""iam:DeleteServerCertificate"",
        ""iam:GetServerCertificate"",
        ""iam:ListServerCertificates"",
        ""iam:UpdateServerCertificate"",
        ""iam:UploadServerCertificate""
      ],
      ""Effect"": ""Allow"",
      ""Resource"": ""*""
    }
  ]
}


I hope this helps!

Regards,
Joe C."
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Thanks Joe, very helpful, your example clarifies everything."
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
That's good information. But I am just curious why these permissions are not automatically included for a Power User? Is this an oversight that needs to be addressed?"
Amazon EC2	"Re: (Bug report) IAM ""power user"" cannot upload ELB SSL certificate
Thanks a lot Joe. This is the proper answer as expected and it worked."
Amazon EC2	"Can't connect to instances / Keep losing ability to Connect to instances.
I have had issues connecting to new instances for the past week. Here are the symptoms.

+ Amazon Default VPC instance will connect via Remote Desktop (Windows).
+ Remote Desktop connects for about 20 minutes, afterward RDP will connect.
+ New instances might connect a few times, but still disconnect about 10 -20 minutes, and never connect again.
+ It gets to a point to where new instances launced in VPC never connect.
+ When Remote Desktop fails, so does SSH, telnet, even Ping.
+ Allowing all traffic security rules still fail.
+ Verify internet gateway settings and subnet and VPC security rules.
+ I tried connecting, even ping, from different networks and computers. Still fail.

The only thing I haven't tried is creating a new Amazon account. Any ideas from the community would be helpful.

Edited by: hankaaron on Aug 24, 2015 7:35 PM"
Amazon EC2	"Retired instance won't terminate
Hi

We receieved notice that one of our instances i-0dee0fd2 is on a host that's to be retired. We've replaced the instance however this instance won't terminate, can someone at AWS terminate it and confirm we won't be billed for the time that it's stuck in shutting down?

Regards

Rowan"
Amazon EC2	"Re: Retired instance won't terminate
Nevermind it's terminated now."
Amazon EC2	"Minimal cost for hosting a web site (on a dedicated server)
I am new to AWS. Currently I am using the ""AWS Free Tier"" to test the features provided, the Management Console and to have an idea about the performance of this environment.

I want to host my personal web site under a .com domain. For this (I guess) I need the following:

1. One continuously running EBS instance (Ubuntu Linux): t2.micro looks fine, but the 8 GB disk volume size may be limiting in the future.
2. One Elastic IP to bind my domain name.
3. One VPC. By default 3 subnets are given, but one will be more than enough. Also 1 Network ACL and 1 Security Group looks enough.
4. One registered .com domain name under ""Route 53"".
5. Also a secondary DNS server may be needed. The primary DNS server will be my instance itself. (<100K DNS queries per month.)

My expected Internet traffic is < 10GB/month (both directions).

I want a  total yearly cost estimate for all the above. Can you give me a rough figure?

Thank you.

Edited by: fedkad on Aug 14, 2015 12:59 PM

Edited by: fedkad on Aug 14, 2015 2:00 PM"
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
fedkad wrote:
1. One continuously running EBS instance (Ubuntu Linux): t2.micro looks fine, but the 8 GB disk volume size may be limiting in the future.

A t2.micro Linux in US East (N. Virginia) is $14.64 per month. General Purpose (recommended!) EBS storage is $0.10 per GB and month, so $0.80 for 8 GB as disk is charged separately. You can always expand the size of an existing volume or add additional ones.

2. One Elastic IP to bind my domain name.

Free as long as the instance is up and running.

3. One VPC. By default 3 subnets are given, but one will be more than enough. Also 1 Network ACL and 1 Security Group looks enough.

There is no additional charge for this VPC configuration. The VPC service is free, apart from VPN functionality that you don't need in this case.

4. One registered .com domain name under ""Route 53"".

Currently $12 per year.

5. Also a secondary DNS server may be needed. The primary DNS server will be my instance itself. (<100K DNS queries per month.)

Unless you really want to run your own DNS server, I can recommend Route 53. Fast, stable, good integration with different AWS services. You get four name server addresses that are routed to nearby locations depending on where the user is located. Route 53 is all over the world. DNS service is $0.50 per month for one domain, plus $0.40 per million standard queries (that is, ordinary DNS records, latency/geo and more advanced are extra). While you can use Route 53 as secondary only, I would recommend that you use it for all your DNS needs. Less manual configuration and updates.

My expected Internet traffic is < 10GB/month (both directions).

Inbound is always free. 10 GB outbound in US East (N. Virginia) is $0.81.

(Amount can vary based on the number of hours in a given month. Pricing in US East (N. Virginia) region.)"
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
Thank you for the answer. Any other hidden or unexpected costs that I need to consider?

I am also planning to purchase a reserved instance, which should reduce the monthly cost of the instance to something  below 10 USD. But, currently Amazon does not allow me to do this purchase. Is it because I am a new user?"
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
fedkad wrote:
Any other hidden or unexpected costs that I need to consider?

I think we have covered what's relevant for your use case. That said, AWS pricing isn't always so easy to understand. I would recommend that you enable billing alerts. In short, you can set a threshold and get notified when your preliminary bill exceeds that amount.

... currently Amazon does not allow me to do this purchase. Is it because I am a new user?

Perhaps. What does the error message say, if any?"
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
I get the following error message when I try to purchase a ""No Upfront Linux/UNIX t2.micro in us-west-2a for 12 months"" instance. My user is just over a month old.

Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 1521e18f-3407-4d90-8f38-c6dfb734e68d)"
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
Right, it sounds like it may be related to the new account. Unless someone shows up here, perhaps you could open a ""Service Limit Increase"" case (Limit Type: EC2 Reserved Instance Purchase Instances) through the Support Center."
Amazon EC2	"Re: Minimal cost for hosting a web site (on a dedicated server)
It looks like for under 10$/month you can have your own Linux server for a personal web, email, etc. server.."
Amazon EC2	"Logs into S3 and  Elastic Search
Is it possible to store my logs in json format into S3 and search using elastic search? Will the index sit on S3 as well?"
Amazon EC2	"Instance Resized but the volume did not increase
Hi, We have resized our EBS backed instance from m3.xlarge to m3.2xlarge. I see the upgrade in cpu and memory. But the volume is not changed. Current volume is 80 GB. with m3.2xlarge, it can give us double of this 160 gb. How can we get this increase? I need one volume itself of 160 gb."
Amazon EC2	"Re: Instance Resized but the volume did not increase
Hello,

Thank you for the post.

Resizing the instance type and expanding the Storage Space of an EBS Volume are two separate events. When you resize the instance type, it doesn't affect the EBS volume size, it only changes the size of your instance in terms of compute, memory, network performance, etc.

More information about 'Resizing Your Instance' can be found on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html#resize-ebs-backed-instance

In order to expand the EBS volume, you will need to follow the instructions provided on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Instance Resized but the volume did not increase
Thank you."
Amazon EC2	"Can't ping instances from each other -- first time user
I am a first time user of EC2. I have recently created 3 t2.micro instances, each running ubuntu. I created one at first and then the other two using the Launch Similar Instances button. They are all in the same subnet and security group. I can't get any of them to ping the others. When I subsequently do arp -a I can see the correct IP address and ethernet address entries for the others. The ping just hangs. Any ideas?"
Amazon EC2	"Re: Can't ping instances from each other -- first time user
Hello,

Thanks for posting on AWS Forum.

Can you please be sure that you have enable ICMP traffic in your inbound rules at security group level?

Regards,
Giorgio"
Amazon EC2	"Re: Can't ping instances from each other -- first time user
Thanks. That worked.
Is there a doc that explains other similar setup steps that I might need to do?"
Amazon EC2	"Can not RDP connect to my instacnce
After windows update, I can not RDP to my instance.

I logged into console, and reboot the instance . And I still can not connect it.

The instance id is i-a9e117c1. It shows running.

Can someone help me?

Joe

Edited by: joewang100 on Aug 6, 2015 7:52 PM"
Amazon EC2	"Re: Can not RDP connect to my instacnce
The server is up but I lost my d:\ drive.

Can someone help?"
Amazon EC2	"Re: Can not RDP connect to my instacnce
Hello,

Could you please confirm if the D drive on your instance was mapped to an EBS volume or was it an instance store volume? Because, I could not find any additional EBS volumes attached to your instance other than your root volume.
Could you please perform the below mentioned steps on your instance and see if it helped?

1. Create an AMI copy from the AWS console as a backup: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html

2. Download and unzip the 7.2.5 AWS PV Driver Upgrader from: http://ec2-downloads-windows.s3.amazonaws.com/Drivers/AWSPVDriverSetup7.2.5.zip

3.  Review the Readme.txt

4.  Run the upgrade package: AWSPVDriverSetup7.2.5.msi

5.  Allow the instance to reboot automatically and perform the upgrade process. This will take approximately 5-10 minutes.

6.  When the instance becomes healthy, RDP to the instance and open Device Manager (devmgmt.msc) and verify that the Disk Drive reports AWS PVDISK SCSI Disk Device

7. Check in the disk management utility (diskmgmt.msc) that your secondary volume is getting detected.

Regards
Shiroy"
Amazon EC2	"Instance Rebooted
One of our instances was rebooted yesterday ( or stopped and restarted) .. i-108c9430 .. Is there any way to tell where the reboot was initiated from?  Were there any AWS issues yesterday that would have caused this?"
Amazon EC2	"Re: Instance Rebooted
Hello,

I did check your instance i-108c9430 and can confirm that this instance was stopped and started on 2015-08-23 as part of a scheduled maintenance activity.

I did check for the communication sent out to you with this regard and I can see that there was an email with subject 
Amazon EC2 Maintenance - Maintenance AWS Account: xxxxxxxxxxxx sent out to the email address associated with your aws account on Thursday, August 6, 2015 3:06 PM (PDT) .

I hope this helps.

Regards
Shiroy"
Amazon EC2	"network connection issues in Amazon network
Hi all,

For some days we see that from time to time there're connection issues within Amazon network and during this time the servers are very slow to respond, even they are not loaded

Checking network connectivity showed that on some hosts there's a packet loss of 80 % and more.

The IP of one of the hosts is as follows: 216.182.236.113, it is part of Amazon network.
After some minutes the connection goes back to normal.

Is there anything we could do to fix this ?

Best Regards,
Rumen

Edited by: rumeny on Jul 24, 2015 3:11 PM"
Amazon EC2	"Re: network connection issues in Amazon network
Hello,

Could you please confirm if you are still experiencing the issue that you reported?
If yes, please share the id of the instances which experienced this issue? Are they affecting a particular availability zone or for a few instances in an availability zone or instances within a subnet or for a whole region? If you are still experiencing this issue, can you share us the id of the instances which are affected?

Regards
Shiroy"
Amazon EC2	"Trying to switch from m1.large to m4.large
Hi,
We are trying to switch to m4.large EBS Optimized for some of our existing instances and getting below error when we start the instance. Please note that when we do change instance type it works fine and we can see m4.large as new instance type but when we try to start the instance below message appears.
Current instance is in us-west-1b zone.

Error starting instances
EBS-optimized instances are not supported for your requested configuration. Please check the documentation for supported configurations."
Amazon EC2	"Re: Trying to switch from m1.large to m4.large
Hello,
Can you please provide the instance id of the instance you are having issues with, what was the instance family prior to changing this to m4 large ebs optimize ?

Regards,
Baseer."
Amazon EC2	"Re: Trying to switch from m1.large to m4.large
Most likely your instance is not a VPC instance, the M4 family are VPC only."
Amazon EC2	"Re: Trying to switch from m1.large to m4.large
Hello,

I did check your account for m1.large instance in us-west-1b availability zone and could find the instance i-84f5a6c2. So I assume you are trying to resize this particular instance.

I did notice that instance i-84f5a6c2 is running in EC2 classic environment. As Benct mentioned, M4 instance types can only be launched in VPC environment. The same is mentioned in our public facing documentation This would be the reason you are not able to resize your instance to m4.large.

Regards
Shiroy"
Amazon EC2	"ELB instances ""OutOfService"", but the instance is running ?
a new elb and two new instance (apache+php)
instances state running, but elb show status ""OutOfService""

elb
health check: 
Ping Target 	HTTP:80/index.php
Timeout 	5 seconds
Interval 	30 seconds
Unhealthy Threshold 	2
Healthy Threshold 	10

Edited by: xiow on Aug 24, 2015 12:06 AM"
Amazon EC2	"Can't connect to new Ubuntu instance
(EDIT*** This is a repost because the AWS rep that first chimed in sort of faded away and I don't want my question to get lost in the background.)

I just created an Ubuntu instance, but keep getting timeout errors when trying to ssh in using Putty.

I've followed all the instructions, and I've researched the forums for similar cases and tried the fixes noted in those threads, to wit, I've adjusted the security group rules to allow access on port 22, to allow pinging using ICMP, etc, etc.

I've also made sure port 22 is open on the requesting computer, and I've attempted connecting from work, from home using FIOS, and from an uncontrolled access point (basically, my point here is I feel confident I've ruled out things like firewalls or corporate domains getting in the way).

Please let me know what further detail I need to provide to help troubleshoot this, and many, many thanks in advance for your help.

Edited by: Robert F. Meyer on Jul 31, 2015 1:07 PM
I lit up another Ubuntu server and the same non-result -- can't connect.

Then I lit an Amazon Linux instance, and that one connects just fine -- and it's using the same security group. Certainly looks like something to do with the Ubuntu instances.

Edited by: Robert F. Meyer on Jul 31, 2015 1:50 PM
And now the Amazon flavor of Linux is unreachable -- this sort of behavior seems inconsistent.

Perhaps I'll try a couple Windows installs -- but my purpose is to try my hand at running a Git server...."
Amazon EC2	"Re: Can't connect to new Ubuntu instance
Hi Robert,

Generally with the ubuntu instances, you need to try and use the following usernames to log in via ssh. It depends on which ubuntu AMI you are using.

ubuntu
root

If you can let me know the AMI ID, I can figure out which username to use in putty to connect to the instance.

Moreover, I thought the following documentation might be helpful to you.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html

Regards,
-Neel"
Amazon EC2	"Cannot connection to EC2 with custom ssh port
I using EC2 service and change ssh port 
(reference > https://blog.tinned-software.net/change-ssh-port-in-centos-with-selinux/)

I coonnect EC2 Instance using custom ssh port and no problem.

But when EC2 status check fail and I reboot this instance. (Why status check fail? I don't know) 
(Status Checks: 1/2 checks passed. )

So, I reboot 3 times and i try stop and start once. but still issue exist.

What can i do??

My instance infomation : i-dc07b82e

Edited by: okihouse16 on Aug 5, 2015 4:51 AM"
Amazon EC2	"Re: Cannot connection to EC2 with custom ssh port
Hi okihouse16,

In the AWS EC2 console, if you select the instance and check the bottom pane and see the ""Status Checks"" tab, you will find that there are 2 health checks.
1. System Status Checks
2. Instance Status Checks

Please refer to the attached screenshot.

The System Status Checks is for the underlying host/hardware. We can check the root cause if it is the System Status Check failure.

The Instance Status Checks is for the Instance/Operating System itself. You can check the system logs and figure out if the instance is failing to boot. To check the OS console logs, you can right click on the instance and select ""Instance Settings"" -> ""Get System Log"". It will provide you some additional information.

Since your instance i-dc07b82e is already in terminated state, we could not verify whether it was a System Status Checks failure or the Instance Status Checks failure.

I hope this help if you encounter this type of issue in future.

Regards,
-Neel"
Amazon EC2	"ec2 80,443,8080 port blocked?
I am running a EC2 instance (ID:i-0007bd38) in China region, I cann't access its 80,443,8080 port by public IP .  I already open these ports in security group , and clean iptables with iptables -F .  

But I can acess port 81,8443,8081... by public IP.

Who knows why these ports are blocked?"
Amazon EC2	"Re: ec2 80,443,8080 port blocked?
Have you started a web server? Are the ports open on the machine when you check them locally?

Open a command window/shell and type the command:

netstat -an

Check the list looking for a line that has a LISTENING state and the local address has a suffix reading :80 or :443 or :8080.

If you can't find the lines, then the machine isn't waiting to receive network traffic on those ports.

If they are listed, then the machine is waiting for the network traffic, but you need to check the ip address shown in the local address column. This needs to be either one of the interface addresses (as seen when you execute 'ifconfig -a' on linux, or 'ipconfig/all' on windows) or the general ip address :::80 for ip6, 0.0.0.0:80 or *:80 for ip4.

If this all appears right, then its likely to be firewall permissions that are getting you."
Amazon EC2	"Re: ec2 80,443,8080 port blocked?
These ports are blocked in China until you ask for them to be opened, and can demonstrate your ICP license and other regulatory issues.  You need to open a support case to get them opened.

Steve Mushero
CEO
ChinaNetCloud - Advanced AWS Partner - Operations-as-a-Service
Shanghai, China
www.ChinaNetCloud.com"
Amazon EC2	"Port 80 and 8080 can not be accessed
Hi all,
I have launched an ec2 server in Beijing Region ( China ), and set up our web application on it, including installing apache, tomcat, ... But not sure why port 80 and 8080 can not be accessed, we have enabled them in the security group already.
I followed the same way I set up the ec2 server in US to set up this server, the US server works, could someone help to tell me if I missed something ? 
Thanks!"
Amazon EC2	"Re: Port 80 and 8080 can not be accessed
Lisa,

These ports are blocked in China until you ask for them to be opened, and can demonstrate your ICP license and other regulatory issues.  You need to open a support case to get them opened.

Steve Mushero
CEO
ChinaNetCloud - Advanced AWS Partner - Operations-as-a-Service
Shanghai, China
www.ChinaNetCloud.com"
Amazon EC2	"SMTP limits still present?
We are dealing with strange SMTP behavior in our VPC. It seems that some SMTP limits are still applied even though we asked to remove those limits and set up a rDNS (we asked to do it twice).

We are able to make 3 SMTP connections and then port 25 is blocked for some time after which we can make another SMTP connection.

We don't have this issue in your VPC in Frankfurt, but only in our VPC in Ireland (in all subnets using different EIPs).

We have these problems here (eu-west-1a):
1. instance i-7c06159b (52.16.172.202, subnet-4c4dc63b, vpc-2a398e4f)
2. instance i-b4677453 (52.17.70.61, subnet-e64fc491, vpc-2a398e4f)

Can someone please check that SMTP limits are really removed? Thanks.

Edited by: pstast on Jul 31, 2015 1:00 AM"
Amazon EC2	"Re: SMTP limits still present?
Hi pstast,

I have verified that your instance i-7c06159 does not have any limits on SMTP port 25. I could not verify the instance i-b4677453 as it is currently in stopped state.

Regards,
-Neel"
Amazon EC2	"Volume Stuck Detaching Please Help
We have a volume stuck in the detaching state for hours now.  It is unmounted from the instance, and have attempted ""force"" detaching through the console multiple times.  Please help, as we need to re-attach this asap!"
Amazon EC2	"Re: Volume Stuck Detaching Please Help
Hello,

Can you please provide the volume id so we can investigate this for you?

Kind regards,
Chris"
Amazon EC2	"Re: Volume Stuck Detaching Please Help
vol-7968c463"
Amazon EC2	"Re: Volume Stuck Detaching Please Help
pls don't do anything that would affect the instance at all.  I had previously rebooted it, with no affect on the detachment progress."
Amazon EC2	"Re: Volume Stuck Detaching Please Help
Hi pmawslx,

I can see that your volume vol-7968c463 is in ""Available"" state. You can try to re-attach it to the instance. Let us know if you have any issues in re-attaching the volume to the instance.

Regards,
-Neel"
Amazon EC2	"Can't connect to RDS instance from EC2 instance from PHP
Ok... really newbie here and I'm having problems setting up really simple stuff. Here's the deal...


I set up 1 EC2 instance (redhat) installed httpd on it and everything went smoothly.
I set up 1 RDS instance (mysql) 
Created security group for both so I can ssh from the outside and the two instances to communicate on  port 3306, mysql.
installed php-mysql, php-pdo, mysql (client)

So far so good.

Now the issue:
I can connect without any problem from the EC2 instance using the mysql client (from the ssh/console) by running ""mysql -h RDS-ENDPOINT -u user -p"". However when I try to connect to the RDS from a php file, either a test php just to test the connection, or run Wordpress site on the ec2 web server I'm unable to connect.

So, what I've checked so far:

both instances are in the same VPC
ec2 instance can access the rds instance and connect to mysql (via mysql client)
checked my php db configuration 10 times
mysql (and mysqli, and pdo) php extension are loaded fine
security group is fine since I can connect via ssh (as supposed) and can mysql connect to RDS from th EC2 BUT only from mysql cli client.


I'm running out of ideas and I couldn't find any solution neither here nor around the web. Any suggestion is welcome 

Edited by: theztefan on Aug 15, 2015 3:29 PM"
Amazon EC2	"Re: Can't connect to RDS instance from EC2 instance from PHP
In case aws staff needs this:
EC2 instancvce id - i-5ccd4399
RDS name/endpoint-  health-media-inc-db.csz26zyhlvvh.us-west-2.rds.amazonaws.com"
Amazon EC2	"Re: Can't connect to RDS instance from EC2 instance from PHP
bump. any ideas?"
Amazon EC2	"Cost about creating an AMI
I have created an AMI from my existing instance. Then I launched a windows EC2 instance from that AMI, After using it I stopped the instance. I know if instance is in stopped condition we just pay for storage associated wit that instance. My AMI is still in Available condition. Will it occur any extra cost to me?"
Amazon EC2	"Re: Cost about creating an AMI
Hi  navjotsingh11,

You are correct. An instance in a stopped state doesn't accrue hourly compute charges. You are still charged for the storage associated with your account. This includes any attached or unattached volumes and the snapshots that your AMI utilizes.  

http://aws.amazon.com/ec2/pricing/
http://aws.amazon.com/s3/pricing/

Regards,

Rodney"
Amazon EC2	"How to visit my web app
Hi, 

I just launched a EC2 instance and installed Play framework (Activator) and then generated a test app using Play template. I start the App. Everything is fine. Now I try to visit the app from 
http://my-public-DNS:9000
But can not access the page. Is there something wrong?

Thanks,

Fireman"
Amazon EC2	"Re: How to visit my web app
Hi Fireman,

Could you provide your instance id? 

Did you also allow ingress tcp 9000 on the security group for the instance?

Can you confirm that your app is listening on tcp 9000?

Rodney"
Amazon EC2	"EC2 Instance not stopping!
Hello AWS support. 

The following instance has been in a stopping state for a few hours. 
i-516bee74

I issued a ""Stop"" command using the console, but it wouldn't stop. I tried the ""Force Stop"" command, but it is still in a ""Stopping"" state. Will you please check on it ASAP?

Thank you!"
Amazon EC2	"Re: EC2 Instance not stopping!
Hello,

I've taken a look at this instance and it appears that it's already stopped.

Regards,

Matt W."
Amazon EC2	"Re: EC2 Instance not stopping!
thank you"
Amazon EC2	"Re: EC2 Instance not stopping!
ydarg_nimor,

Anytime! 

Feel free to reach out if you have further questions; I'm happy to assist where possible.

Rodney"
Amazon EC2	"Connectivity issue
Hello support,

We are having issues pinging 149.18.55.34 from Amazaon Linux server ( 50.18.218.109 )which acts as our gateway in North California Region.

Attached the traceroute from linux server 50.18.218.109. Please can you check if there is no issue with routing.

As we are able to ping and tracert sucessfully from other aws regions aws singapore and aws ireland. Please check and let us know."
Amazon EC2	"SSH works for dev and blog server instances, but not prod server instance
Using SSH, I connect to my development and blog server instances with no issue, but then I can't connect to my production instance server. They all use the same PEM key. For that matter, the blog server has the same security group as the production server.

Here are the verbose SSH logs from my SSH attempt:
OpenSSH_6.6, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /home/ubuntu/.ssh/config
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug1: Connecting to 54.187.46.184 http://54.187.46.184 port 22.
debug1: Connection established.
debug1: identity file .ssh/sitsquare.pem type -1
debug1: identity file .ssh/sitsquare.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6p1 Ubuntu-2ubuntu1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2 pat OpenSSH* compat 0x04000000
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA 2a:70:5d:41:8a:1d:ef:9d:f9:0d:67:ec:79:f4:40:07
debug1: Host '54.187.46.184' is known and matches the ECDSA host key.
debug1: Found key in /home/ubuntu/.ssh/known_hosts:3
debug1: ssh_ecdsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: .ssh/sitsquare.pem
debug1: key_parse_private2: missing begin marker
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

Edited by: wale_ssq on Jul 27, 2015 9:55 PM"
Amazon EC2	"Re: SSH works for dev and blog server instances, but not prod server instance
Hello,
Can you please provide the instance id of the instance you are having issues with ? 
I was not able to find the instance using the ip 54.187.46.184.

Regards,
Baseer."
Amazon EC2	"Strange route to ec2 instance
Dear amazon team

I'm running an ec2 instance with an elastic ip (54.194.152.64) in the eu-west-1 region. When I do a traceroute to this ip from different providers here in switzerland, I see that traffic is taking routes over the US with some providers. Of course, everything runs extremely slow when this route is being taken.
Whenever the route is going directly to ireland, everything works fine.
The same thing happens when using cloudfront. For most providers when I resolve the cloudfront address I get US IP's and bad performance...

Why is that? How can I circumvent this?"
Amazon EC2	"Re: Strange route to ec2 instance
Hello,
I have opened an outbound case for you, the case ID is  1475387781, can you please check the support center from your account and update the info requested ?

Regards,
Baseer."
Amazon EC2	"Unknown output type: bucketname when runningaws iam create-role --role-name
When I tru to create role name

aws iam create-role --role-name vmimport --assume-role-policy-document file://trust-policy.json

I keep getting this error
aws iam create-role --role-name vmimport --assume-role-policy-document file://trust-policy.json

Unknown output type: bucketname"
Amazon EC2	"Site crawling, flapping up/down; high %steal numbers per `sar -u`
Hi,

I have an instance -- i-c246b4cd , us-west-2a -- that has been performing poorly this morning (https timing out; ssh timing out). Rebooting was able to get me back in, at least temporarily. Looking around, I don't see anything odd, except for high %steal rates starting this morning per `sar -u`. Since %steal is ""the percentage of time spent in involuntary wait by the virtual CPU or CPUs while the hypervisor was servicing another virtual processor"", is this indicative of a ""noisy neighbor""/cpu hog on the same virtual platform as my instance? 

If so, what is the fix for this?

Here is what `sar -u` tells me:

[root@ip-172-31-19-161 ~]# sar -u
Linux 3.10.0-229.7.2.el7.x86_64 (ip-172-31-19-161.us-west-2.compute.internal) 	08/23/2015 	_x86_64_	(2 CPU)
Â 
12:00:01 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
12:10:01 AM     all     28.88      0.00      0.92      0.03      0.07     70.10
12:20:01 AM     all     19.49      0.00      0.73      0.07      0.07     79.64
12:30:01 AM     all     26.41      0.00      0.95      0.45      0.09     72.10
12:40:01 AM     all     23.12      0.00      0.98      0.04      0.07     75.78
12:50:01 AM     all     23.93      0.00      0.72      0.04      0.06     75.25
01:00:01 AM     all     23.20      0.00      0.76      0.06      0.06     75.92
01:10:01 AM     all     20.70      0.00      0.84      0.07      0.06     78.33
01:20:01 AM     all     26.70      0.00      0.91      0.07      0.08     72.24
01:30:01 AM     all     28.63      0.00      1.04      0.17      0.23     69.93
01:40:01 AM     all     25.59      0.00      0.93      0.05      0.48     72.95
01:50:01 AM     all     19.59      0.00      0.76      0.03      0.85     78.77
02:00:01 AM     all     22.03      0.00      0.76      0.04      0.48     76.69
02:10:02 AM     all     22.48      0.00      0.85      0.11      1.05     75.51
02:20:01 AM     all     26.06      0.00      0.81      0.19      0.43     72.51
02:30:01 AM     all     24.00      0.00      0.85      0.08      1.94     73.13
02:40:01 AM     all     25.42      0.00      0.88      0.05      3.42     70.23
02:50:01 AM     all     24.27      0.00      0.73      0.04      5.81     69.16
03:00:01 AM     all     20.74      0.00      0.81      0.04      7.97     70.44
03:10:01 AM     all     25.08      0.00      0.84      0.04     13.66     60.38
03:20:01 AM     all     26.60      0.00      1.08      0.22     32.87     39.22
03:30:02 AM     all     26.02      0.00      0.80      0.15     60.92     12.10
03:40:03 AM     all     22.11      0.00      1.00      0.01     73.02      3.86
03:50:01 AM     all     22.01      0.03      0.79      0.20     56.79     20.17
04:00:02 AM     all     21.79      0.00      0.94      1.71     56.02     19.54
04:10:01 AM     all     22.28      0.00      1.04      0.01     74.46      2.22
04:20:01 AM     all     23.25      0.00      1.09      0.07     72.68      2.91
04:30:01 AM     all     23.21      0.00      0.79      0.08     73.05      2.87
04:40:01 AM     all     22.52      0.00      0.82      0.07     74.89      1.71
04:50:01 AM     all     23.59      0.00      0.82      0.03     73.29      2.27
05:00:03 AM     all     23.24      0.00      1.01      0.00     74.67      1.09
05:10:01 AM     all     22.89      0.00      0.71      0.00     76.38      0.02
05:20:01 AM     all     23.87      0.00      0.76      0.02     75.00      0.36
05:30:01 AM     all     23.50      0.00      0.68      0.04     74.08      1.70
05:40:02 AM     all     22.48      0.00      1.07      0.07     76.07      0.32
05:50:02 AM     all     23.90      0.00      0.72      0.02     74.85      0.50
06:00:02 AM     all     23.40      0.00      0.80      0.02     74.72      1.06
06:10:01 AM     all     22.53      0.00      0.95      0.00     75.39      1.13
06:20:02 AM     all     23.46      0.00      0.79      0.08     73.02      2.65
Â 
06:20:02 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
06:30:01 AM     all     23.49      0.00      0.77      0.03     75.00      0.71
06:40:01 AM     all     22.44      0.00      0.75      0.01     73.37      3.44
06:50:02 AM     all     23.33      0.00      0.81      0.01     70.95      4.90
07:00:01 AM     all     22.69      0.00      0.92      0.01     69.39      7.00
07:10:03 AM     all     22.56      0.00      0.80      0.00     73.96      2.68
07:20:01 AM     all     23.50      0.00      0.80      0.07     72.39      3.24
07:30:02 AM     all     23.28      0.00      0.95      0.05     74.77      0.95
07:40:02 AM     all     22.63      0.00      0.80      0.05     74.68      1.83
07:50:03 AM     all     23.59      0.00      1.09      0.00     75.32      0.00
08:00:02 AM     all     23.33      0.00      0.85      0.86     74.44      0.52
08:10:01 AM     all     22.86      0.00      0.75      0.00     76.36      0.03
08:20:02 AM     all     23.87      0.00      0.75      0.03     74.98      0.36
08:30:01 AM     all     23.55      0.00      0.81      0.01     75.57      0.06
08:40:02 AM     all     22.51      0.00      0.80      0.11     74.37      2.21
08:50:01 AM     all     23.66      0.00      0.77      0.10     73.80      1.67
09:00:02 AM     all     23.37      0.00      0.85      0.30     74.78      0.70
09:10:23 AM     all     20.96      0.00      2.66      0.00     76.35      0.04
09:23:38 AM     all     11.05      0.00     13.67      1.54     73.73      0.00
09:33:08 AM     all      5.62      0.00     19.00      1.55     73.82      0.00
Average:        all     22.86      0.00      1.49      0.17     49.44     26.03
Â 
09:40:29 AM       LINUX RESTART
Â 
09:50:02 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:00:05 AM     all     21.85      0.00      2.72      0.00     75.43      0.00
10:10:17 AM     all     20.79      0.00      2.67      0.00     76.55      0.00
10:31:26 AM     all      6.76      0.00     17.53      2.07     73.64      0.00
Average:        all     13.89      0.00     10.26      1.05     74.79      0.00
Â 
11:35:43 AM       LINUX RESTART
Â 
11:40:10 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
11:50:01 AM     all     65.27      0.00      1.56     29.00      0.18      3.99
12:00:01 PM     all     45.52      0.00      1.92     41.44      6.34      4.78
Average:        all     55.28      0.00      1.74     35.30      3.29      4.39"
Amazon EC2	"Internal ELB and subnets
can you use an internal ELB to load balance within a subnet or does the input and output have to be to different subnets?"
Amazon EC2	"Re: Internal ELB and subnets
Hello,

Internal ELBs can load balance in the same subnet fine.

Regards,

Matt W."
Amazon EC2	"EC2 Instance Status Checks fail
Hello,

I have tried to roboot, the issue is not resolved. Also, the website links to this instance shows ""ERR_CONNECTION_TIMED_OUT""
I have followed this guide to check http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectionTimeout 

It seems the required ports / connections are there.

Could you pls advise on how to resolve this issue?

Thanks."
Amazon EC2	"Re: EC2 Instance Status Checks fail
Hello,
thank you for contacting us.
Sorry to hear that Instance Status Checks are failing: to further assist you, could please provide us affected instance id so we can perform further investigation?

Thank you.
Regards,
Alessandro"
Amazon EC2	"Re: EC2 Instance Status Checks fail
Hello

Thanks for your help.

The instance id is i-483e2a60"
Amazon EC2	"Re: EC2 Instance Status Checks fail
Hi there,

From our investigation, it appears that this is due to an incorrectly configured network interface, which is causing issues with your connections to your instance.

What we recommend is that you go ahead and attach an additional ENI to this instance.
You should then attempt to connect on this secondary ENI. This should give you RDP access which you can then use to amend the configuration of your original network Adapter.
You will need to make sure that it is enabled and also set to use DHCP. 

Once this is done the Health checks should pass and the instance be contactable on the eth0 IP addresses and so the secondary ENI can be detached.

If this however doesn't work or if you realize tha connectivity  is being lost often it may be that the system time has been changed and DHCP leases appear expired to the operating system and so then you could attempt these steps:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#instance-loses-network-connectivity

I hope this helps.
Let me know if you're still having problems"
Amazon EC2	"Re: EC2 Instance Status Checks fail
Hi,

May I know how to get the additional ENI? And will amazon team be able to help on this directly? Or we must upgrade to a better plan for amazon to solve?

Thanks."
Amazon EC2	"Re: EC2 Instance Status Checks fail
Hi,

Please use this link to guide you on how to create an ENI and attach it to your instance: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html

You will need premium support to have an engineer directly assist you. Please look at different AWS support plans: https://aws.amazon.com/premiumsupport/features/

Regards,

Souza S"
Amazon EC2	"Unexpected reboots of instance
Hi,

We have an Ubuntu 14.04 instance (i-fd3edfbd) that has been installed and running fine for a long time but has rebooted twice on its own recently. Both times it was at exactly 22.11 (GMT) on August 17th and August 20th.

I dont see why the OS would suddenly start to do this, but is there a way I can check the logs of the underlying hardware or hypervisor to see if that is causing the issue? Nothing is logged in the server logs and its like the instance is 'hard' reset (ie not cleanly shut down and rebooted) which is obviously a concern!

Any ideas?"
Amazon EC2	"Re: Unexpected reboots of instance
Hello, 

This is to confirm you that your instance was rebooted due to underlying host issue. This has nothing to do your OS/Application.

In future you can look at CloudWatch Metrics to determine if it is possible issue with underlying hardware or instance itself by looking at Status Check Failed (System)  or Status Check Failed (Instance) (Count). Usually if you see Status Check Failed (System), indicates and underlying hardware issue. Please see the links below for more information:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html

You can also create an Alarm to monitor these events. Please see the link below:

https://aws.amazon.com/blogs/aws/ec2-instance-status-metrics/

To resolve this issue please stop the instance and start again so that it will start on a new hardware. Sorry for the inconvenience, I have reported this issue to my internal team.

Note: Any data store on the instance store (Temp store) will be deleted when you stop and start instance. Please see link below:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

Regards,
Anand"
Amazon EC2	"Re: Unexpected reboots of instance
Hello Anand,

Thank you very much for your quick and helpful answer.  We have done as suggested and done a hard reset, and so far so good.

Very impressed by the speed and helpfulness of your answer, and thank you very much!

Kind regards
Palletoper"
Amazon EC2	"Pass tags onto volumes
I have an autoscaling groups set up through cloudformation.  As part of that I pass on a set of tags to instances as they're created that helps me appropriately assign costs to projects at the end of the month.

Unfortunately the tags do not get passed on to the volumes that are created and don't seem to get sorted properly when I use the cost tool.  Is there a way to get volumes to be automatically tagged with a set of defined tags at creation?

Thanks"
Amazon EC2	"Re: Pass tags onto volumes
I'd like to +1 this question. Did you ever get an answer? I've got volumes spinning up with my tagged instances regularly with no tags propagating to the volumes.

Edited by: billbutler1969 on Aug 22, 2015 6:24 PM"
Amazon EC2	"Unable to connect to: i-07d647c2
I am using RDP,was workin fine until the last hour. I have vital work on instance and I do not want to restart. Pse help."
Amazon EC2	"Re: Unable to connect to: i-07d647c2
When I try connecting all I get is a black screen, and then the connection is dropped after a few minutes. Please help."
Amazon EC2	"Re: Unable to connect to: i-07d647c2
I had to stop the above instance but I will be billed it seems none the less. It had crashed.

I have now decided to try the 'dedicated' tenancy instance installations. My new instance is i-b06ef775, however it too seems to be freezing. Is there anything am missing!!?"
Amazon EC2	"Re: Unable to connect to: i-07d647c2
Hello,

I am sorry to hear about the issues. 

I have reviewed your instance Id: i-b06ef775, CloudWatch metrics and can see CPU was really hot, consistently above 80%. Although you are using one of most powerful instance type but I have no visibility in what application or programs you are running inside the instance.

I further looked into the your EBS performance and found that Average Queue Length was as high as 25. It seems you may be running resource intensive application inside the instance like DB. You could also review these CloudWatch metrics, please see the link below for more information:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html

https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-volume-status.html

You are using Provisioned IOPS on EBS volume but the IOPS assigned to EBS volume is too low based on demand. To resolve this issue I would suggest to take a snapshot of existing EBS and create EBS volume with higher provisioned IOPs (State with 30 X size of volume in GB). This should improve performance and allow you to login into the instance.

Once you are logged in to the instance check what process are taking most of resources. Remove unwanted programs, if you are running antivirus make sure to exclude larges files like database from on access scan, run disk cleanup, disk defragment etc. It should not be much different than performance tuning any other virtual or physical windows machine.

Each application requirement is different than other application, like some are CPU, Disk, Memory etc. The advantage of using EC2 is that it allows you to change resources without losing any data and with few clicks.

I trust you will find above useful. Please let us know how it goes.

Regards,
Anand"
Amazon EC2	"Re: Unable to connect to: i-07d647c2
Okay will try this. Thanks."
Amazon EC2	"Instance was in alarm state and is now stuck stopping
Instance ID is i-6fd0433c in the us-east-1c availability zone.  It has been down for 45 minutes.

Edited by: thinkingbig1 on Aug 22, 2015 1:38 PM"
Amazon EC2	"Re: Instance was in alarm state and is now stuck stopping
Server finally stopped after an hour.  Looks like it is back up and responding."
Amazon EC2	"Auto Scaling group stuck in deleting state
We have deleted two AS groups today morning (Wed Aug 19 ~10:01:21 GMT; Availability Zone us-east-1a)
One group deleted successfully but second stuck in (Deleting) state.
It not allows to delete or modify even now

How to delete it?"
Amazon EC2	"Re: Auto Scaling group stuck in deleting state
Hello,

can you provide here or with a private message the Autoscaling groupName that is stuck in deleting state?

Regards,
Giorgio"
Amazon EC2	"Ec2 Instance fails status check
I have been trying to create an EC2 instance with a existing snapshot but it keeps showing instance status fail, I have used the same snapshot earlier and never had a problem. tried all possible permutations and combinations. Instance id i-8dc1d941. plz help very urgent."
Amazon EC2	"Re: Ec2 Instance fails status check
Hello antheia,

I have taken a look at your instance and now seems up&running, tested a tcp connection on one opened port and worked as expected.

Are you still experiencing any issue on that instance?

Regards,
Giorgio"
Amazon EC2	"Instance not starting with multiple security group
I have a windows instance that I have started several times without problem with 1 security group.  When I associated the  instance to multiple groups it  no longer comes up and it is stuck in ""pending"" state.  If I try to stop, it gets stuck in ""stopping"" state, and can only be brought down with a ""Forced Stop"". If I go back to associating the image with 1 security group, then it comes up fine...

Should the use of multiple Security Groups impact the ability to start the image?"
Amazon EC2	"Re: Instance not starting with multiple security group
Hi,

Generally multiple Security Groups shouldn't impact the ability to start your instance: can you please provide your instance-id for further troubleshoot your issue?

Regards,
Giorgio"
Amazon EC2	"Instance Stuck in stopping state
Please stop instance (i-3f95e35e). The instance is located on a host selected for retirement and will not stop so I can start it again on a new host.

Thank you...."
Amazon EC2	"Re: Instance Stuck in stopping state
AWS support, can you look at this. I'd like to get it restarted."
Amazon EC2	"Re: Instance Stuck in stopping state
Hello,
I am sorry about the inconvenience.
There was an issue with underlying hardware where instance was running. 
The instance is stopped now and you can start it again.

Regards,
Anand"
Amazon EC2	"CPU Credit Issue
Could you please take a look at instance i-f5365227.  It seems it has stopped gaining CPU Credit correctly despite it's usage levels shown on other graphs.

Thanks!"
Amazon EC2	"Re: CPU Credit Issue
I have to admit, I am discouraged that not only have I yet to get a response to this, but in searching the forums I have found another with my EXACT same problem and the same EXACT slow crawl decline issue from months ago that was never actually addressed at all by Amazon.

I have to admit, when I spent several hundred dollars on a reserve instance, I did not realize it came with such an apathetic level of support.  If you have a problem, you can not call anyone, you can not open a support ticket (unless you want to shell out an extra $60/month), all you can apparently do is post here in the forums and pray that some Amazon tech will decide to help.

I would hate to think that I could have my whole server fail and go down and it may be days or never that someone would followup.

Amazon, if I am misunderstanding things or have perhaps been misinformed here, please let me know.  I like EC2, have used it for some time on the free tier with no issue, but now that I bought in I have concerns.  Please tell me I am wrong in the above."
Amazon EC2	"Re: CPU Credit Issue
Guess I will respond to myself since Amazon is not.  I decided to do a complete power off of the instance and start back up to see if that would reset the CPU Credits and possibly resolve the problem.  It did cause the CPU Credits to start back over at 30, and they then climbed at a normal rate as one would expect them to do.  Unfortunately once we reached this 166-167 range again, the credits took a turn back down and again started their slow death crawl despite there being no change in CPU usage on the system.  This is all backed up by the graphs on the instance.  

To me this is clearly an issue on the Amazon EC2 end.  My server is in no way aware of it's CPU Credit limit and would not in some strange way decide to react based on that count.  Even if it did, it would have to reflect in the CPU Usage and that is not occurring, only the CPU Credits are affected.

Amazon, I understand now that I purchased a $300 instance that comes with zero guarantees, technical support, or service commitments, but could you perhaps take pity on me this one time and at least make sure you are delivering what I paid for?

Thank you in advance for any assistance that is provided."
Amazon EC2	"Python 2.7 Question
I am new to AWS, and am attempting to run a simple python file on an Ubuntu instance.   I've checked to see if Python is installed: 

ubuntu@ip-xxx-xx-xx-xx:~$ python --version 
Python 2.7.6

When I attempt to run the file, it falls over on the first line, importing pandas: 

ubuntu@ip-xxx-xx-xx-xx:~$ python Springleaf_001.py
Traceback (most recent call last):
  File ""Springleaf_001.py"", line 3, in <module>
    import pandas as pd
ImportError: No module named pandas

What am I missing?   How do I install pandas and other Python modules?"
Amazon EC2	"ERROR: Unable to create signed manifest URL. Could not verify the region fo
I am getting this error when trying to import a ovf file into ec2

any idea?

ec2-import-instance win8-fdic-disk1.vmdk -f vmdk -t t2.large -a x86_64 -b xxxxx -o xxxxxx -w yyyyyyyyy -p Windows -z us-west-1

Requesting volume size: 30 GB

ERROR: Unable to create signed manifest URL. Could not verify the region for bucket tdubb ; received error: com.amazonaws.services.s3.model.AmazonS3Exception: AWS authentication requires a valid Date or x-amz-date header (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: F9BD5C8E7838CD2A), S3 Extended Request ID:"
Amazon EC2	"EC2 instance stuck in shutting-down state
Hi Team, 

I currently have a problem with one of my instances stuck in the shutting-down state for nearly a day now. The instance ID is i-b8367d73. 
The instance was running, so I stopped it previously. This action already hung, the instance still was stopping two days later. I selected to ""forcefully stop"" it, but with no effect. And now the termination also dosn't work. 

Thank you in advance, 
Thomas"
Amazon EC2	"Re: EC2 instance stuck in shutting-down state
Hi Thomas,

Sorry for the delayed response here. We're having a look at instance i-b8367d73 and will update you again as soon as we have more info.

Kind regards,
Chris"
Amazon EC2	"Re: EC2 instance stuck in shutting-down state
Hi Thomas,

Sorry for the delay. The instance has been terminated. Please let me know if you are facing any more issues with the instance.

Thanks,
-Tipu"
Amazon EC2	"Android SDK and Emulator
Has anyone has been able to get an Android Emulator running on any linux version?
Any clues you might share?
Thanks!"
Amazon EC2	"Instance stops responding, wont stop
Hello,

My server started acting strangely and 2/2 failing checks, and now when I try to stop the instance the status shows as ""Stopping"" and it has not stopped for the past 3 hours so far.  There is a blue spinning indicator, I have tried refreshing and logging in and out, as well as stopping the instance a second time.

The instace id is : i-9ab4e736

Thanks so much for your help"
Amazon EC2	"Re: Instance stops responding, wont stop
Update: The server is still stuck, this is occurring on zone us-east-1d. I'm guessing there's some sort of outage right now or xen is misbehaving due to an update while instances are running.

Edited by: KEVIN MAHAN on Aug 21, 2015 10:45 AM

Update: Thanks guys the server is now fixed

Edited by: KEVIN MAHAN on Aug 21, 2015 11:06 AM"
Amazon EC2	"Re: Instance stops responding, wont stop
Hello,

I see that your instance is in running state. Let us know if you still have issues. 

Best Regards,
Chandra P."
Amazon EC2	"Re: Instance stops responding, wont stop
Problem resolved after second post"
Amazon EC2	"determine the ownership of an AWS ip address
one of our web servers is making calls out to this ip address:  54.209.60.63
i checked the ip addresses of everything in my AWS account (s3 buckets, load balancers, rds) and i did not find that ip address in my account.

how would i go about getting information about that ip address (i.e. who owns, what is the purpose, why is my server making calls out to it, etc.)?

thank you."
Amazon EC2	"Re: determine the ownership of an AWS ip address
That is an EC2 instance, but I'm afraid there is little more we can tell you about it.  You may be able to use a packet capture system, like wireshark or tcpdump,  to determine what kind of traffic is being sent. If you have reason to believe that the site is malicious, you should contact our security teams."
Amazon EC2	"Re: determine the ownership of an AWS ip address
thanks for the quick response.

how do i go about contacting the security team?  

from the iptables logs, the destination port is 45902, and from what i've read about that port is it's a trojan port."
Amazon EC2	"Re: determine the ownership of an AWS ip address
Hello,

You can use our Report Abuse page (https://aws.amazon.com/forms/report-abuse) to submit any relevant information about a potential abusive behavior by AWS users. Our abuse team will review your claims and act accordingly.

I would recommend that if the unwanted traffic is originating in one of your instances, you consider trying to find what the process is and stop it. If your instance is running in a VPC you can also prevent that outbound traffic from leaving your instance by using Egress rules in the Security Groups attached to the instances. For more information on that please take a look at http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html.

Have a great day"
Amazon EC2	"Re: determine the ownership of an AWS ip address
thank you!  we've determined the source of the outgoing traffic as being an injected PHP file, but was not sure what all that PHP file was doing.  finding traffic to that ip address was part of the course of our investigation.

thank you so much."
Amazon EC2	"How to apply instance to reserved instance
I have purchased reserved instance, paid the upfront, payment is done, status is active. I searched some topics which was same as me, I launch a new instance, and select the corresponding criteria ( Instance Type, Platform, Instance Type, Availability Zone, and term length).

However, EC2 still charge me extra around USD50 when new instance is done. Anything I missed? Please share & advise...."
Amazon EC2	"Re: How to apply instance to reserved instance
Was it partial upfront payment? Amazon also charges hourly rate for the month upfront."
Amazon EC2	"Re: How to apply instance to reserved instance
I don't think this is partial payment of upfront. My billing detail as below:
Amazon Elastic Compute Cloud Reserved Instances:One Time Charge	$327.00

Amazon Elastic Compute Cloud running Windows Reserved Instances
USD 0.074 hourly fee per Windows (Amazon VPC), m1.medium instance: 711.188 Hrs	$52.63

So, apart from upfront USD327, Amazon charged me monthly fee with discounted rate once I launch new instance?

I already terminated the first instance. If I launch a new instance again,  will I be charged another $52.63 in same month?

Thanks in advance."
Amazon EC2	"Re: How to apply instance to reserved instance
I think $327 is partial upfront for m1.medium/Windows. Partial upfront payments also have hourly discounted rate - which amazon charges upfront for the month.

So whether you are using the reserved instance or not, Amazon will bill you monthly for hourly usage for that reserved instance. (They bill you for 24*30(or 31) hours upfront, and matching instance use that billed hours...)"
Amazon EC2	"Re: How to apply instance to reserved instance
Hello,

It sounds like you purchased a Partial Upfront Reserved Instance. If that's the case, you pay a portion of the cost upfront and the remaining hours in the term (either one year or three years) are billed at a discounted hourly rate, regardless of usage. 

I hope this answers your question. 

Regards,

Justine"
Amazon EC2	"i-5a6e1835 - Stuck - Ec2Config Service is rebooting the instance.
I had an instance become unresponsive earlier today. I had to force stop the instance. It finally stopped. I restarted the instance. It has been 30 minutes, and it still has not brought the server back up online. The log shows: 

8:37:08 AM: Message: Ec2Config Service is rebooting the instance. Please be patient. (30 minutes ago)"
Amazon EC2	"Re: i-5a6e1835 - Stuck - Ec2Config Service is rebooting the instance.
Hello,

I am sorry to hear about this issue.

Could you please assist us with instance id, so that we can assist you further?

Regards,
Anand"
Amazon EC2	"Re: i-5a6e1835 - Stuck - Ec2Config Service is rebooting the instance.
The instance ID is in the thread subject. 

Funny story, so, this instance was a stop/start of an existing, unresponsive instance. I was waiting for the new instance to spool up, waiting to get the ""Windows is Ready to Use"" message, but that apparently only comes in new, clean instances. If you stop/start an instance, you may not get that message. What really got me, was I was trying to access the started server using the Elastic IP, but it was unreachable because they are released on stop! This behavior is not ideal and caused me a few hours of extra downtime. My fault for sure. Server is back up and working now. Thanks for checking in."
Amazon EC2	"Re: i-5a6e1835 - Stuck - Ec2Config Service is rebooting the instance.
Glad to hear the issue is resolved!

Just wanted to chime in with one tip: Your instance is running in the EC2-Classic platform, and yes when EC2-Classic instances are stopped their Elastic IP is disassociated.
However that behavior changed in the EC2-VPC platform! You can stop and start back again a VPC EC2 instance and if it has en Elastic IP attached to it it will remain attached throughout the entire process.
This is only one of the many benefits and features VPC has to offer in terms of flexibility and security, you may want to check out VPC and our docs around the topic here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html"
Amazon EC2	"Remote Desktop Connection not working
Hi,

I'm afraid I've messed to much with my networking settings. I've tried to delete everything in order to start fresh. But I also deleted some defaults. I then tried to delete the account and recreate it, hoping to get the default back. But I still cannot Remote Desktop to a instance.

I've been through the help page on RDP
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html

And changed a few things, but I still cannot connect. Any help is appreciated. Its instance ID: i-a3fbf60e  

Thank you - I'm really on my knees here..."
Amazon EC2	"Re: Remote Desktop Connection not working
Hello,

I have reviewed your network settings, everything looks fine.

$ nc -vz 52.XX.XX.XX5 3389
found 0 associations
found 1 connections:
     1:	flags=82<CONNECTED,PREFERRED>
	outif en3
	src 10.66.118.42 port 55804
	dst 52..XX.XX.XX5 port 3389
	rank info not available
	TCP aux info available

Connection to 52..XX.XX.XX5 port 3389 tcp/ms-wbt-server succeeded!

Please let us know if you are still experiencing the issue.

Regards,
Anand"
Amazon EC2	"Re: Remote Desktop Connection not working
Indeed it works! Thank you so much!!"
Amazon EC2	"Setting computer name to instance id on Windows
Is there a way to automatically set the Windows computer name with the instance id? The best I can do is set it using the hex of the ip but that is causing SSM join domain to fail since the IP is static. Static IP is not ideal I know (and am working on it), but even dynamic IPs would collide at some point."
Amazon EC2	"Re: Setting computer name to instance id on Windows
Hi,

I would have thought you could create a script to enter into the User-Data part of the instance creation to call upon the Metadata of the Instance on boot, details found here on Metadata: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html#instancedata-data-categories

You will be able to look a the http://169.254.169.254/latest/meta-data/instance-id value and I am sure use that to set the Computer name.

Unfortunately I am not a BASH script expert and so I can't give you the coding to do this, but I am sure this would be possible?

Cheers,

Stooby..."
Amazon EC2	"Re: Setting computer name to instance id on Windows
Thanks, this is what I am doing currently. However, it requires a restart and does not jive well with using SSM to join my Directory Services. I would think relaunching a server at an IP would be a somewhat common occurrence so that there is a way to do this using SSM."
Amazon EC2	"Re: Setting computer name to instance id on Windows
Hi, kwilson_premise ,

You can rename a computer using userdata and use SSM to domain join using the new name in single reboot. 

You can then use the powershell command to rename the computer with force flag and without the restart flag. 
(https://technet.microsoft.com/en-us/library/Hh849792.aspx)
Rename-Computer -NewName <String> -Force 

This will leave the computer in pending reboot phase, and then SSM will perform the domain join using the new name and reboot the machine to complete the domain join with the new name. 

let us know if you face any issues.

We will see if we can add a configurable option so that Ec2config can handle this scenario to rename the computer to instance-id."
Amazon EC2	"Windows 2008 and EC2Config
Hi,

I'm currently trying to get a Windows 2008 Server (ami-5fe81d34) instance created using a user data powershell script and AWS Console.  I tried both string and file values and I was able to confirm that the UserData.ps1 [1] file has the correct contents.  Sadly, this is where my problems start:


When I use a user data file, the last entry in the system log is ""Message: Windows is Ready to use"" and there are not log files in the log directory [2].  The script does not get executed.
When I use a user data string (base 64 or not), usually the behavior is the same as the user data file approach, but sometimes I think the UserData.ps1 file does get executed, because I'll see a message in the system log and log directory [2] with an error message like ""EC2Config configuration: status:3;..."".  I tried to create a new IAM policy [3] to allow for SSM, but since the UserData.ps1 script execution is inconsistent, I wanted to reach out to the community and figure that out first.


I was able to verify that the version of EC2ConfigService on the AMI is 3.6.269.0.  I see on the EC2ConfigService developer tool page [4] that there is a newer version available (3.7.308).  Is there a new Windows 2008 Server AMI available with the new service or is the current practice that one would take the latest AMI, update the EC2ConfigService, and manually publish a new base (one-time) before hooking in any automation?

Advice on how I should best approach this?

Thanks!




Ross




[1] C:\Program Files\Amazon\Ec2ConfigService\Scripts\UserScript.ps1
[2] C:\Windows\System32\config\systemprofile\AppData\Local\Amazon\Ec2Config\Logs
[3] http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-configuration-manage.html#grant-iam-users-ssm-access
[4] https://aws.amazon.com/developertools/5562082477397515"
Amazon EC2	"Re: Windows 2008 and EC2Config
I'm still trying to verify things, but it appears that my problem could be related to the fact that my powershell script tried to create a user with a password that didn't comply with the EC2 instance's password security policy.  

How I figured that out was by running the same powershell script on an already spun up Windows 2008 EC2 instance with a powershell execution policy of ""unrestricted"".

I'll post back if I discover something different."
Amazon EC2	"Re: Windows 2008 and EC2Config
Hi Ross, 

Granting SSM permissions is not required to run user-data. If you are having trouble with executing user-data, the first place you should check is the C:\Program Files\Amazon\Ec2ConfigService\Logs\Ec2ConfigLog.txt file. Please search for userdata in the log file to see whether it can or failed there."
Amazon EC2	"CLI - the target machine actively refused it
I'm entirely new to everything AWS and I'm trying to step my way through.  I've created an EC2 RedHat instance with groups and users and I'm able to ssh into the instance.

I have installed CLI on my Windows machine and gone through the part where I configure CLI and I tried the most basic command:

H:\>aws ec2 describe-instances

('Connection aborted.', error(10061, 'No connection could be made because the target machine actively refused it'))

I'm sure I need something simple - please help this newbie."
Amazon EC2	"Re: CLI - the target machine actively refused it
I found the problem definitely has to do with our having to use an internet proxy for our network here in the building.  I determined this by taking my laptop to a restaurant where I could use their wifi without a proxy and then was able to run the CLI commands.

But I can't be the only one who is required to use an internet proxy.  Does anyone know what to do to get around this problem?  I don't want to do all my AWS work in a restaurant."
Amazon EC2	"Re: CLI - the target machine actively refused it
Hello,

Please refer to the link below to configure proxy on AWS Tools for Windows/AWS CLI:

https://aws.amazon.com/releasenotes/6046334327674055

http://docs.aws.amazon.com/cli/latest/userguide/cli-http-proxy.html

http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html

Regards,
Anand"
Amazon EC2	"EC2 Instance Falls Off The Net
Hi.

I was using a server a month or so ago and it was all working fine. I suspended my account and got it reactivated... but now the servers are not working fine. I've tried a couple of different (new) instances, all share the same problem. They seem to lose all networking anything from a few minutes to 15m after being started up. Stopping the server and restarting it seems to fix the issue, temporarily.

The currently failing instance id is i-bd51954b. http://puu.sh/jjZiD/38f99c2d36.png - when I'm connected to RDP initially, it times out and disconnects mid-session.

Be great if you could find out what's wrong.

Thanks!

P.S. Is there a way to change the server's region?

Edited by: Matt C on Jul 31, 2015 3:56 AM"
Amazon EC2	"Re: EC2 Instance Falls Off The Net
Hello Matt,

The first thing you need to do is to lock down your security groups. Currently for the instance you mentioned in your post, the Security Groups are wide open and allows RDP and ICMP connection from anywhere (0.0.0.0/0). This can result in being subjected to a DDOS via RDP.

We have seen this in the past where a DDOS via constant RDP connection brings the instance to its kneels.  I would recommend that you lock down access to the RDP and ICMP to your Public IP only and restart the server as currently it is not responding to RDP. Once you have logged in to the server, check the Windows Event logs and verify if you see multiple failed RDP logon events.

If you still continue to face the issue even after locking down the ports, please let us know.

Regarding changing the region of an instance, you cannot change the region once the instance is launched. You could however, create an AMI of the instance and then copy the AMI to the intended region and deploy an instance out of that AMI. Please note that copying the AMI across regions incurs transfer charges.

I hope I have addressed your question.

Let us know if you have any further questions or need clarifications if any.

Have an ""AWS""ome day ahead!"
Amazon EC2	"Re: EC2 Instance Falls Off The Net
Hi.

Thanks for the reply, but I did already try this. It did not fix the problem, so I undid the change. I will do it again now, just to check.

Matt."
Amazon EC2	"Re: EC2 Instance Falls Off The Net
Died again."
Amazon EC2	"Re: EC2 Instance Falls Off The Net
Considering the situation is still not ""aws""ome, we're going to have to take our business elsewhere."
Amazon EC2	"Re: EC2 Instance Falls Off The Net
Hello,

I have checked the server and seems to be up and running now.

Could you please advise if you are still experiencing this issue?

Regards,
Anand"
Amazon EC2	"Server repeatedly unresponsive
Hi,

My instance i-d6305f7e (t2.medium, US-east-1) failed a EC2 reachability check and was completely unresponsive (approx 7/28 1600 UTC).  Assuming this be degraded hardware, I stopped and then started the instance.

Again on 7/30 0330 UTC, the same thing happened to the same instance.  Stopping then restarting the instance restored service.

In both cases, there is no indication of problems in the logs or cloud metrics.  cpu is normal, /var/log/syslog is normal.  All activity just suddenly halts.

Any suggestions for next steps?  My understanding was that if I stop/start the instance that can move it to new hardware and fix these issues.  Since it happened twice with the same instance, what can I do?

Thanks, WILL"
Amazon EC2	"Re: Server repeatedly unresponsive
Hi,

You could have just been unlucky and experiences problems with 2 faulty pieces of hardware.  Check which Status Check failed to determine if its likely to be the underlying host or potentially a software/network config error.  

From within the AWS Console, select the instance and then select 'Status Checks'.  If there is a problem with the 'System' status check then its likely an underlying host hardware issue.  If its an 'Instance' Status check fault then its more likely to be an issue with the software/config of the instance itself which you will need to investigate further.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Server repeatedly unresponsive
Thanks - that's helpful.

Both System and Instance reachability checks failed.

I have 45 servers.  It seems very improbable the same instance failed a day apart for random reasons.  So I'm puzzled.

Edited by: willglasshusain on Jul 30, 2015 9:10 AM"
Amazon EC2	"Re: Server repeatedly unresponsive
Hello,
thank you for contacting us.

Reviewing your i-d6305f7e instance details, it seems that it was running on a faulty hardware on both 28/07 and 30/07, this explains why both System and Instance reachability checks failed. [1]

System status checks monitor the AWS systems required to use your instance to ensure they are working properly. These checks detect problems with your instance that require AWS involvement to repair. The following are examples of problems that can cause system status checks to fail:
 * Loss of network connectivity
 * Loss of system power
 * Software issues on the physical host
 * Hardware issues on the physical host 

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html

If you notice that System status checks fail, you might try to resolve it yourself for example, by stopping and starting an instance, or by terminating and replacing the instance as in this case.

Regards,
Alessandro"
Amazon EC2	"Re: Server repeatedly unresponsive
What puzzles me is that this happened twice on the same instance.  After the first occurrence I stopped the instance then immediately started it.

I am suspecting it might have been provisioned on the same faulty hardware after the first occurrence -- is this plausible?

Is there a way to verify if the hardware has changed when I stop and start an instance?"
Amazon EC2	"Re: Server repeatedly unresponsive
Hello,

Looking at my internal tools, I can confirm instance has moved to a new underlying hardware.

However it is currently in stopped state.

Regards,
Anand"
Amazon EC2	"Add instance to Load Balancer - Security Groups issue
Hello everyone,

I have a load balancer with one T1 instance. I am trying to add a new T2 instance and configuring the security groups to have access through Custom IP rules for LB Group (amazon-elb/sg-XXXXXX). This is the same configuration that I have for my T1 instance, but I am creating a new security group.

When I go to launch the instance I get the following error message:
Groups belonging to other users may not be granted permissions to VPC security groups.

What do I need to do? Am I getting this error because of the instance type or because I am trying to launch the new T2 instance in my VPC and the T1 instance isn't.

Thanks for the help"
Amazon EC2	"Re: Add instance to Load Balancer - Security Groups issue
Hi,

Are you saying that one instance is in the Classic environment and the other VPC? if so, they work differently.  Take a look here for more information:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-security-groups.html

Cheers,

Stooby..."
Amazon EC2	"Re: Add instance to Load Balancer - Security Groups issue
Thanks for the reply Stooby. Yes this is the problem I am facing.

So what would be the easiest way to add a new T2 instance if I have a live Classic environment running?
Create an entire new configuration with a load balancer in a VPC and then change the DNS entry to the new LB after? Or I can migrate the LB into a VPC?

Thanks"
Amazon EC2	"Re: Add instance to Load Balancer - Security Groups issue
I found this article that outlines all the steps.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-migrate.html#classiclink-migrate"
Amazon EC2	"pg_dump: server version: 9.4.1; pg_dump version: 9.3.6
Trying to run a dump of our RDS database, but unfortunately the installed version of pg_dump on EC2 doesn't line up with the database in RDS resulting in a ""pg_dump: server version: 9.4.1; pg_dump version: 9.3.6""

This is the same version of an issue that was fixed awhile back, just reoccuring for newer versions of postgresql.

Any idea on when the yum repository or Amazon AMI will be updated with the 9.4 version of postgresql package to line up with RDS?

Thanks!"
Amazon EC2	"Instance Not Reachable
Hi Support, 

This is the second time we are facing this issue. Suddenly Instance stop working and it becomes not reachable. This happened again. Instance ID :  i-30c01298

Could you please check what exactly is the issue is. 

System Checks shows all Okay .. But we are unable to even SSH.

Thanks
Ron"
Amazon EC2	"Re: Instance Not Reachable
Hello,

Thank you for the post.

I took a look at the instance: i-30c01298 and found that it is operating normally at infrastructure level i.e., CPU, Network, etc, at this point in time.

Also, I tried to perform a netcat command to check if the instance is accepting connections on port 80 and I was able to connect successfully. Please see the command below:
nc -v 52.1.X.X 80
Connection to 52.1.X.X 80 port tcp/http succeeded!

You can find more information about 'Troubleshooting Connecting to Your Instance' on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"EC2 service and dynamodb
I'm following thru the sample ""deploying a web application"" tutorial and using elastic beanstalk to deploy the sample application. It creates an EC2 instance that is hosting a webserver application that when connected to from a remote client sends out a template for the client to input user data. This data is then stored in a table that has been created in DynamoDB. Everything seems to function correctly i.e. connecting to the webserver thru the URL, having a template rendered for user input, input data to the template, closing out the template and the client connection.  But when I go to review the data in the table on my DynamoDB there has been no data populated in the table on DynamoDB. It doesn't seem like my EC2 instance is ""put"" data into my dynamodb. There are no errors and my elastic beanstalk environment is green. Why isn't the input data being stored onto the dynamodb table? any suggestions on what to do?

thanks,
jtmicha"
Amazon EC2	"Change magnetic storage block size
I have a Win 2012 EC2 server configured with 2 1TB magnetic Storage volumes.  This server is going to be the target for backups of our hosted servers.  The hosting company says that the backup software is configured to use a block size of 512  compared to the default of 4096 on my current drives.  They are saying that this is causing an issue with the backup software's ability to backup to my AWS server.

1) Does it make sense that the difference in block sizes between the source and target would cause a problem?

2) If so, is there a way to change the block size on the magnetic storage drives from 4096 to 512?

3) This is a new setup, so if there is an option to create the volumes with a selected block size it would not be a problem for me to delete these volumes and create new ones."
Amazon EC2	"Instance stuck shutting down
Hi, instance i-92fd9c7b has been stuck shutting down for quite some time.  Please take a look, thanks!"
Amazon EC2	"Re: Instance stuck shutting down
Hello, 

Instance i-92fd9c7b should now be terminated. Sorry about the delay!

Best Regards,
Jillian L."
Amazon EC2	"Using EC2 APIs
Im trying to use EC2 APIs but i have the error ""The System cannot find the path specified"" every time im using a command.

follow the instructions:
http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/index.html?setting-up-your-tools.html

but when i try a command like:
ec2-describe-regions shows me the error ""The System cannot find the path specified"".

Instance: Amazon pre-configured Windows Server 2008"
Amazon EC2	"Re: Using EC2 APIs
Verify that you have set the corret path for the JAVA_HOME environment variable. It has to point to the root folder of the Java installation.

You can find a full guide on How to set up the API tools here: How to set up API tools"
Amazon EC2	"Re: Using EC2 APIs
Hello,

It might also be worth seeing if you can execute the EC2 API Tools when you are running from the directory in which they are installed. That will help us narrow down your problem.

Richard"
Amazon EC2	"Re: Using EC2 APIs
I am getting same error and I have java path and ec2_home all set correctly in my env

I tried running locally inside the folder


C:\AWS\ec2-api-tools-1.7.5.0\bin>.\ec2-describe-regions
The system cannot find the path specified.

any idea?"
Amazon EC2	"steps to change ec2 public hostname
after i stand up an ec2 instance, how do i change the ec2 public hostname from:  ec2-54-123-123-123.compute-1.amazonaws.com

to:  my.domain.com

i've already updated my server's hostname in /etc/sysconfig/network and the hostname resolves locally, but publicly it stays the ec2-ip-address-comopute-1.amazon.com.

this is needed for an SSL report where the SSL does not match the FQDN."
Amazon EC2	"Re: steps to change ec2 public hostname
Hi,

A couple of threads talk about this, one example can be found here - https://forums.aws.amazon.com/message.jspa?messageID=319837

Cheers,"
Amazon EC2	"Re: steps to change ec2 public hostname
thank you!"
Amazon EC2	"Alternative to using elastic IPs for dev boxes
I have a few ec2 boxes that I use as dev servers.  I spin them up at the beginning of business hours, and down at the end of the day.  2 TLDs and many subdomains are being pointed at them to handle ports: 80, 443, 22, 21.  This can all be handled via elastic IPs (what I am doing currently) and does it well.  The problem is the fact that I only get 5 elastic IPs.  I would love to have a solution that gives me space for more than 5 boxes.  I began playing around with using a load-balancer on each TLD.  The problem is the fact that the load balancer config does not allow port 22 and 21 to be handled, plus it seems like the wrong use for a load balancer.

Anyone else out there have any thoughts for a solution to this, or the AWS intended way to handle it?"
Amazon EC2	"Re: Alternative to using elastic IPs for dev boxes
You can always apply for an increased Elastic IP limit in the Support Center section of the Management Console. In the upper right hand corner, click Support, then Support Center. From there, you can create a Service Limit Increase case. If you're in VPC, you will want to select just that as the Limit Type (instead of the Elastic IP option that appears). Selecting VPC allows you to choose Elastic IP in a later field."
Amazon EC2	"Re: Alternative to using elastic IPs for dev boxes
Thanks!"
Amazon EC2	"Threshold Crossed Alarm now my linux instance isn't collecting data
The full description:

Alarm Details:

Name:                       awsec2-i-7d71405d-Status-Check-Failed-Any-
Description:                Created from EC2 Console
State Change:               OK -> ALARM
Reason for State Change:    Threshold Crossed: 2 datapoints were greater than or equal to the threshold (1.0). The most recent datapoints: http://1.0, 1.0.
Timestamp:                  Monday 17 August, 2015 20:24:19 UTC
AWS Account:                977475924710


Threshold:

The alarm is in the ALARM state when the metric is GreaterThanOrEqualToThreshold 1.0 for 60 seconds. 


Monitored Metric:

MetricNamespace:            AWS/EC2
MetricName:                 StatusCheckFailed
Dimensions:                 InstanceId = i-7d71405d
Period:                     60 seconds
Statistic:                  Maximum
Unit:                       not specified


State Change Actions:

OK: 
ALARM: arn:aws:sns:us-east-1:977475924710:David
INSUFFICIENT_DATA: 


Basically, immediately after getting this error, my instance is no longer collecting UDP data that is being forwarded towards it. I absolutely NEED help fixing this! Any ideas? Thanks!"
Amazon EC2	"EC2 instance is stopping for a long time
Hi, i have an instance m3.large, Amazon reported ""degradation of the underlying hardware hosting"" i stoped the instance, but that instance is stopping for a long time and doesnt finish, somebody knows what can i do?

Thanks in advance for your help"
Amazon EC2	"Re: EC2 instance is stopping for a long time
Hi,
Could you please provide an instance id?
I checked in your account and at the moment there is no instance stuck in the stopping state.

We published some useful information in our public facing documentation to address a stuck stopping issue:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

I hope this helps!"
Amazon EC2	"Re: EC2 instance is stopping for a long time
Thank you, the instance is stoped now"
Amazon EC2	"Imported VMWare VM - Can't RDP
Hi All,

We are currently testing and learning how to Export a small test VM from Vmware onsite and then importing it in to AWS and turning it on to RDP to it. So far so good.

I have managed to get the VM instance in EC2 (eu-west-1a) using CMD line and i also have the HDD under EBS Volumes as expected. I have then created a new security group and allowed/enabled RDP as an inbound route and also an outbound route although don't think this is needed. These are currently set to anywhere to rule out any IP address issues.

I did read somewhere that you should be able to Retrieve Default Admin Password but it advises i can't as it's not associated with a key pair. I can't see how to associate it with a key pair when importing a VM via CMD, or if this is the issue for the RDP.

This is the guide i used for the Export/Import process.
https://pibytes.wordpress.com/2013/07/31/convert-vmware-vsphere-virtual-machine-to-amazon-ec2-instance/

Did i miss a step somewhere?

Thanks
Rich"
Amazon EC2	"ssh login issue read the docs but yet ..
Hi

I have EC2 instance id is  i-aa1a8f79 , I am not able to login with ssh via windows.

I have read the all the documents and try to solve that issue but still not able to solve the same

Please find the following attachment of error. Please guide for the same."
Amazon EC2	"Re: ssh login issue read the docs but yet ..
Hello,

Thanks for posting and for the screenshot. 

I understand that youâ€™ve read the documentation, so I took a look around and found that the specific error that youâ€™re seeing is mentioned in the Troubleshooting guide: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectingPuTTY. Iâ€™d also just like to check that the private key youâ€™re using has been correctly converted to the format that PuTTY can recognize: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html. 

Have you been able to connect successfully in the past, or is this the first time youâ€™re trying to connect? If itâ€™s the first time, it might be a good idea to go through the set-up steps again to make sure that all the requirements were followed. 

Please let us know whether this helps.  

Regards,

Justine"
Amazon EC2	"Re: ssh login issue read the docs but yet ..
HI

   Earlier I have the amazon server and I was able to connect the same, but after re-enabled the service first time I am connecting the server and getting error.

As per docs 
I have deleted the existing key-pair  and again  I have created  the same.
then for windows I have download the puttygen  and from this key-pair(.Pem) file created the private key (.ppk) file.

and then trying to ssh the same but still getting the same error. Please help for the same."
Amazon EC2	"Re: ssh login issue read the docs but yet ..
Hi

Tried ssh via  linux system also 

root@t1 ~# ssh -i /home/niraj/aws-niraj-july15.pem ec2-user@ec2-54-86-232-240.compute-1.amazonaws.com
Permission denied (publickey,gssapi-keyex,gssapi-with-mic).

and getting the above."
Amazon EC2	"Re: ssh login issue read the docs but yet ..
Hello,

I'd like to confirm whether you have been able to resolve this issue by going through the steps in the tutorials I posted or whether it is still a problem.  

Regards,

Justine

Edited by: Justine@AWS on Aug 20, 2015 7:57 AM"
Amazon EC2	"How to verify if an instance is running as on-demand or reserved?
Hi there,
after the annoucement of the new ""No Upfront payment"" reserved instances, I quickly reserved 4 instances for all my currently running instances.
Now, what is very far from being clear even after checking the forum, is how I can verify if the new price scheme applies to my running instances or if I need to take some special action to bind my instances to the 4 reserved instances like starting and stopping the instances, create new AMIs and restart them or whatever. 
My current understanding is that AWS does it automagically by matching the instance size and OS type, but it's not clear if the ""active"" status in the reserved instances panel means that the instance is actually running or if it is ready to be associated with an instance.
Inspecting the information about a running instance in the AWS instances console doesn't help either as I can't spot anything telling me if the instance is now running as a reserved instance or not.

Could you please provide me with a method for checking the current status of an instance in terms of its type?

Thank you
Flavio"
Amazon EC2	"Re: How to verify if an instance is running as on-demand or reserved?
You don't have to restart, just wait a couple of hours and go to Billing. you should see Reserved Instances under Elastic Compute Cloud."
Amazon EC2	"Re: How to verify if an instance is running as on-demand or reserved?
Hi,
I see the reserved instances in the billing, it's telling me 6 hours usage, however the totals are still zero.

I insist that Amazon should make it easier to understand, probably it works just fine, it's just a lack of clarity.

Thank you
Flavio"
Amazon EC2	"Re: How to verify if an instance is running as on-demand or reserved?
Hello, 

When you buy Reserved Instances you're buying a capacity reservation and billing discount. As you correctly said, AWS does the matching for you, provided your reservation matches the specifications of the instance (platform, instance type, Availability Zone, and tenancy) you want to receive the discount on. The ""active"" status means that the purchase has been processed successfully. 

Instances aren't bound to reservations, and it is possible to modify your reserved instances: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ri-modifying.html. 

You can also generate reports with details about your Reserved Instance utilization. This tutorial covers how to get started with usage reports: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/usage-reports.html.  

I hope this helps.

Regards,

Justine"
Amazon EC2	"EC2 SMTP restriction removal request not processed
Hi All,

I am currently running a couple of EC2 exim mail relays. Earlier this month it was brought to my attention that our EC2 IPs had been reported to Trend and listed in the DUL. To restore mail flow the relays were redirected to a privately hosted smart host and Trend were contacted in relation.

Trend replied advising that AWS reported the IPs and to log a request using the following URL to have the IPs de-listed.

https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

A requested was processed on the 12/06/15 with use case details and a full explanation. Since this time I have heard nothing back in relation, and both IPs remain listed with Trend. 

Does anyone have any advice on how to proceed? The current configuration means we are double-processing a large amount of mail which is not ideal.

Thanks,

Matthew Billiet"
Amazon EC2	"Re: EC2 SMTP restriction removal request not processed
Hi there Matthew,

I have been unable to locate your account and there were no resources listed in the initial post on this thread. The form that you linked to is to remove outbound sending limits on EC2 instances. Please update the thread or PM me with the instance IDs so I can further investigate."
Amazon EC2	"Re: EC2 SMTP restriction removal request not processed
Thanks for that Joaquim, I have sent the instance information to you via private message and will update this thread with any updates."
Amazon EC2	"Re: EC2 SMTP restriction removal request not processed
As I've heard nothing back in relation from AWS support I have investigated this issue further through Trend. 

Trend apparently lists all dynamic IPs in their DUL. This causes all/most EIPs being listed as they are assigned from a dynamic block. The correct process to resolve this issue is to request reverse DNS entries for the IPs in question, and then request AWS contact Trend to have the IPs delisted. 

This is why the link provided by Trend was for the outbound EC2 SMTP restriction removal as the rDNS requests are part of this form. 

I have submitted this form twice now - once before posting this thread, and once again a number of weeks ago. I have had literally no response to either of these requests, and no further assistance from AWS support here on the forums. 

I must admit, while I have had positive experiences in the past, I have been extremely disappointed with AWS' customer service in relation to this matter.

I will be leaving this question as 'un-answered' in the hopes that someone may, eventually, get in touch."
Amazon EC2	"EC2 unresponsive for 6 times today
EC2 has become responsive for the 6th Time in a row in one day.

There are no huge processes running a simple lamp serving a website.

What could be wrong?"
Amazon EC2	"Re: EC2 unresponsive for 6 times today
Hello,
thank you for contacting us.
Could you please provide us affected instance id?

Thank you
Regards,
Alessandro"
Amazon EC2	"Re: EC2 unresponsive for 6 times today
We have gotten this with 3 different machines today as well at different times. 

2 are behind an elb these go unresponsive at the same time (pair).
1 is not behind an elb

I have lost all network connectivity at this time and have no errors in the ""system console."" I'm at a loss for troubleshooting why this is happening at this point without any eyes."
Amazon EC2	"Re: EC2 unresponsive for 6 times today
Hello,

Thanks again for your response.

Could you please provide us instance id, this should be similar to i-757960a9.

Regards,
Anand"
Amazon EC2	"Re: EC2 unresponsive for 6 times today
Hello,

I had looked at the health of all three instances and cannot see any performance issue in terms of CPU and network.

I have noticed frequent health check failures of your backend instances. When ELB does not receive successful response to your health checks it marks them Out of service. Please refer to link below to troubleshoot health check failures:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-healthcheck.html

I also noticed high latency, the time elapsed when request leaves load balance and response is received from backend. Indicates that the load balancer closed a connection because a request did not complete within the idle timeout period. You will need to find out why it is taking longer by looking at application logs, it may be also caused due to issue with the dependency of application like database performance. You can enable access logs on load balancer to get more insight. If require you can increase backend capacity or increase the idle timeout for lengthy operations. You can also enable keep alive on backend instances so that load balancer can reuse those connection (Make sure the time out of keep alive is greater that ELB timeout. Please refer to links below for more information:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/config-idle-timeout.html
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-error-message.html
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/enable-access-logs.html

You can get more information on above metrics by looking at your CloudWatch Metrics for Elastic Load Balancing.

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-cloudwatch-metrics.html

Regards,
Anand"
Amazon EC2	"Fresh Amazon Linux AMI 2015.03 assorted yum installs fail.
Hopefully I have missed something totally obvious.

I'm upgrading an existing working cloud formation to use a newer AMI.  In this example I've cut back the stack so it basically creates only a single instance.  The AMI is ami-1ecae776.

$ cat /etc/os-release 
NAME=""Amazon Linux AMI""
VERSION=""2015.03""
ID=""amzn""
ID_LIKE=""rhel fedora""
VERSION_ID=""2015.03""
PRETTY_NAME=""Amazon Linux AMI 2015.03""
ANSI_COLOR=""0;33""
CPE_NAME=""cpe:/o:amazon:linux:2015.03:ga""
HOME_URL=""http://aws.amazon.com/amazon-linux-ami/""
$ cat /etc/os-release 
NAME=""Amazon Linux AMI""
VERSION=""2015.03""
ID=""amzn""
ID_LIKE=""rhel fedora""
VERSION_ID=""2015.03""
PRETTY_NAME=""Amazon Linux AMI 2015.03""
ANSI_COLOR=""0;33""
CPE_NAME=""cpe:/o:amazon:linux:2015.03:ga""
HOME_URL=""http://aws.amazon.com/amazon-linux-ami/""
$ grep enabled=1 /etc/yum.repos.d/*
/etc/yum.repos.d/amzn-main.repo:enabled=1
/etc/yum.repos.d/amzn-updates.repo:enabled=1


It isn't behaving the way I expected.  For example I can't install nginx:

$ yum install nginx
Loaded plugins: priorities, update-motd, upgrade-helper
Resolving Dependencies
--> Running transaction check
---> Package nginx.x86_64 1:1.4.3-1.14.amzn1 will be installed
--> Processing Dependency: gd for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Processing Dependency: perl(:MODULE_COMPAT_5.10.1) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Processing Dependency: GeoIP for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Processing Dependency: libprofiler.so.0()(64bit) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Processing Dependency: libGeoIP.so.1()(64bit) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Processing Dependency: libgd.so.2()(64bit) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Running transaction check
---> Package GeoIP.x86_64 0:1.4.8-1.5.amzn1 will be installed
---> Package gd.x86_64 0:2.0.35-11.10.amzn1 will be installed
--> Processing Dependency: libXpm.so.4()(64bit) for package: gd-2.0.35-11.10.amzn1.x86_64
---> Package gperftools-libs.x86_64 0:2.0-11.5.amzn1 will be installed
--> Processing Dependency: libunwind.so.8()(64bit) for package: gperftools-libs-2.0-11.5.amzn1.x86_64
---> Package nginx.x86_64 1:1.4.3-1.14.amzn1 will be installed
--> Processing Dependency: perl(:MODULE_COMPAT_5.10.1) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Running transaction check
---> Package libXpm.x86_64 0:3.5.10-2.9.amzn1 will be installed
---> Package libunwind.x86_64 0:1.1-2.1.amzn1 will be installed
---> Package nginx.x86_64 1:1.4.3-1.14.amzn1 will be installed
--> Processing Dependency: perl(:MODULE_COMPAT_5.10.1) for package: 1:nginx-1.4.3-1.14.amzn1.x86_64
--> Finished Dependency Resolution
Error: Package: 1:nginx-1.4.3-1.14.amzn1.x86_64 (amzn-updates)
           Requires: perl(:MODULE_COMPAT_5.10.1)
           Available: 4:perl-5.10.1-131.19.amzn1.x86_64 (amzn-main)
               perl(:MODULE_COMPAT_5.10.1)
           Available: 4:perl-5.10.1-136.21.amzn1.x86_64 (amzn-updates)
               perl(:MODULE_COMPAT_5.10.1)
           Installed: 4:perl-5.16.3-283.37.amzn1.x86_64 (installed)
              ~perl(:MODULE_COMPAT_5.16.0)
              ~perl(:MODULE_COMPAT_5.16.1)
              ~perl(:MODULE_COMPAT_5.16.2)
              ~perl(:MODULE_COMPAT_5.16.3)
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest


or python26, mysql-server, etc. etc.  The other things have similar issues with being unable to find this or that .so which they desire.   A few things do install.

I was also surprised by
$ sudo alternatives --set python /usr/bin/python2.6
/usr/bin/python2.6 has not been configured as an alternative for python"
Amazon EC2	"Re: Fresh Amazon Linux AMI 2015.03 assorted yum installs fail.
Hello,
Looking at the output of the yum command, for some reason yum is deciding to install an old version of nginx, not the latest version in th 2015.03 repositories. This is why you are seeing the error with a missing dependency. The most common cause of this is having the wrong releasever set in /etc/yum.conf. The version you are installing is from 2013.09. You can see what yum vars you have set by running:
python -c 'import yum, pprint; yb = yum.YumBase(); pprint.pprint(yb.conf.yumvar, width=1)'

Having the wrong releasever set could also explain why you are not seeing alternatives for python. 
Regards,
Heath"
Amazon EC2	"Re: Fresh Amazon Linux AMI 2015.03 assorted yum installs fail.
Yup.  The old cloud formation template's  ... Resources ... Properties.UserData included a cloud-config.txt file which in turn requested ""repo_releasever: 2013.09""... That legacy of the old cloud forming clearly wasn't appropriate anymore.

Thanks!"
Amazon EC2	"Is free EC2 support PPP?
In my EC2, i found
cat /dev/ppp
cat: /dev/ppp: Permission denied

how to turn on ppp? or free ec2 can't support ppp"
Amazon EC2	"Cannot Connect to MySQL DB from website in same EC2 instance...
Hi All,
I apologize if this is a thread that appears elsewhere or this question has been answered elsewhere.  But... i'm a noobie to AWS and have been searching these forums and the Internet for an answer for days!  My experience lies totally within setting up & administering hosting accounts within a cpanel environment.  So sorry if my questions may seem ""foolish"".

I've signed up for the AWS Free Tier.  We have a dynamic website that we've created on a shared hosting platform.  We feel that, once launched, this site will require a solid hosting platform and AWS was highly recommended.

I've created an EC2 instance using the t2.micro template with Amazon Linux.  I followed the setup instructions in the Getting Started documentation to the letter, installing & updating software including MySQL.  I also installed phpMyAdmin (since this is a familiar means of accessing MySQL).

I made sure that an EBS volume had been created and attached to the instance.  I uploaded all the folders/files from the website (that is currently running on our shared platform).

I created an Elastic IP for the account and assigned it to this EC2 instance.

I created the appropriate Security Groups with the standard rules as well as a rule for MySQL (inbound).

Using phpmyadmin, I created the database required using the same database & user name.  I added the user and gave it full rights to the DB (we always do this with our sites).  I exported the existing data from the current database and imported it into the new database.

Finally, I updated the DBconfig.php file that stores the database connection information.

At this point, when I access the site using either the EIP or the Public DNS, the website should come up.  Instead, all I get is a blank page with one ""SELECT..."" statement at the top of the page.  I traced this ""SELECT"" statement to a class_user.php file that is ""included"" at the beginning of the DBconfig.php.

I apologize for the wordiness, but I felt it important to fully describe the setup since I haven't seen this question before.

I'm at a loss!  I've checked, double-checked, and triple-checked the database name, hostname, username, and password.  I've tried using the public IP, internal IP, public DNS, and private DNS as the database hostname.  I've added the line ""bind-address = 0.0.0.0"" to my.cnf.  I've followed every possible lead I could find... and still no luck!

I'm sure whatever is wrong is probably staring me in the face.  But I just can't find it.  If anyone has a clue or can point me in the right direction, I'd be truly grateful!  We want to launch this site within the next 2 weeks and want to test AWS as a platform... but so far, NO LUCK!

HELP???

Thanks in advance...

Clem"
Amazon EC2	"ELB suddenly stopped accepting/forwarding HTTPS traffic.
There is something funky happening with our ELBs. They don't seem to forwarding HTTPS traffic upstream and just timeout for any HTTPS connection.

HTTP works fine. 

curl -I website-1369466537.us-west-2.elb.amazonaws.com

However once you try HTTPs there is nothing. The lack of the invalid cert warning and no hits on nginx leads me to believe it's on the ELB side.

curl -I https://website-1369466537.us-west-2.elb.amazonaws.com

I even tried creating a new ELB but to no avail. Is anyone else having similar issues?"
Amazon EC2	"Re: ELB suddenly stopped accepting/forwarding HTTPS traffic.
Hello,

Thank you for the post.

I took a look at your ELB: website-1369466537.us-west-2.elb.amazonaws.com and found that everything is operating normally on the ELB and the backend instance(s) at the infrastructure level at this point in time.

I tried perform a curl on the ELB DNS name with '-Ik' options and received a HTTP 200 OK response:
curl -Ik https://website-1369466537.us-west-2.elb.amazonaws.com
HTTP/1.1 200 OK
Cache-Control: max-age=86400
Content-Type: text/html; charset=utf-8
Date: Wed, 19 Aug 2015 21:59:07 GMT
ETag: W/""865987a126f37c5c2e9adc3ad5d8c88f""
Expires: Thu, 20 Aug 2015 21:59:07 GMT
Server: nginx/1.6.2 + Phusion Passenger 4.0.53
Set-Cookie: request_method=HEAD; path=/
Set-Cookie: _session_id=88dfc2f2fa0f450e3d8ef6ac6f3fcdef; path=/; expires=Mon, 24 Aug 2015 21:59:07 -0000; HttpOnly
Status: 200 OK
Strict-Transport-Security: max-age=31536000
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Powered-By: Phusion Passenger 4.0.53
X-Request-Id: 997364d9-8da3-4e5c-b28f-632db4a4ee85
X-Runtime: 0.018434
X-XSS-Protection: 1; mode=block
Connection: keep-alive

'k' option explicitly allows curl to perform ""insecure"" SSL connections or transfers. 

Please make sure you uploaded the SSL certificate in the correct format and along with the correct certificate chain.

You can find more information about 'SSL Certificates for Elastic Load Balancing' on this documentation:  http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Error when we try to upgrade an instance (  EBS to EBS-optimized )
We have an instance, with Windows 8 Server r2 ( 64 Bit )  

This instance is an m3.large instance type, we want to upgrade this one to an m4.large.

When we try , we must tu change to EBS-optimized , but we have an error when we start the instance.

"" Error starting instances
EBS-optimized instances are not supported for your requested configuration. 
Please check the documentation for supported configurations. ""

This is instance ID i-37d2a367

Thanks !!"
Amazon EC2	"Re: Error when we try to upgrade an instance (  EBS to EBS-optimized )
Hello,

Thank you for the post.

I took a look at your instance:  i-37d2a367 and found that it is launched into EC2-Classic platform at this point in time. The instance type you wish to change your current instance to, i.e., m4.large, only supports VPC platform and this is the reason you are receiving the error when you are trying to change the instance type from m3.large to m4.large.

You can find more information about 'Instance Types Available Only in a VPC' on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html#vpc-only-instance-types

Furthermore, for more information about 'Resizing Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Win 2012 R2 cannot RDP instance
Hi,

after some Windows OS Updates I cannot RDP a Windows 2012 R2 instance anymore. Instance ID i-a8aae0eb. I got error:

""""Remote Desktop can't connect to the remote computer for one of these reasons:

1) Remove access to the service s not enabled
2) The remote computer is turned off
3) The remote computer is not available on the network

Make sure the remote computer is turned on and connected to the network, and that remote access is enabled.""

I did:
 - checked a security group, RDP ports are allowed from my IP
 - temporary allowed all traffic from any IP - no success
 - reboot / shutdown several times

I can connect remotely to SQL, IIS hosted sites are also public available. Problem seems to be in RDP 
Before update(s), RDP worked without any problem.

Any advice?

Thank you!

Edited by: lm20000 on Aug 2, 2015 4:41 AM"
Amazon EC2	"Re: Win 2012 R2 cannot RDP instance
Hello,

Thank you for the post.

I took a look at your Windows instance: i-a8aae0eb and found that everything is operating normally at the infrastructure level i.e., CPU, Network, etc, at this point in time.

You can try the 'Remote Desktop can't connect to the remote computer' section on the following documentation to resolve issues related to connecting to your instance:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#rdp-issues

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"can not terminate instance i-b41d1e18
hi support, would you please help terminate instance i-b41d1e18 ?"
Amazon EC2	"Re: can not terminate instance i-b41d1e18
Hello,

Apologies for the delay, the instance should now be reporting as terminated.

Best regards,
Justin G."
Amazon EC2	"Re: can not terminate instance i-b41d1e18
thanks"
Amazon EC2	"EFS holding database files
I don't see an EFS forum but it sort of fits here.

I have several EC2 instances, one of which has postgres running on it. All instances hit that one for database queries.  I was wondering if it would make sense moving the database data files to EFS (still in beta right now) and then have a postgres running on each local ec2.  

The benefit is I could start up other EC2s and just map the EFS drive. It would also grow as needed.  But I am not sure if EFS (NFS) would be fast enough.  

Does it make sense?

(I do know about RDS, just thinking through other possibilities.)"
Amazon EC2	"How to understand the usagetype and operation in billing report?
In the billing report, the value of 'operation' column i can see:
RunInstances
RunInstances:0010
RunInstances:0002
What's the difference between them?

For 'UsageType' column:
USW1-CW:Requests
USW2-CW:Requests
What's the difference ?

Do you have any guide or doc to describe these values??"
Amazon EC2	"Re: How to understand the usagetype and operation in billing report?
Hello,

We can help explain this to you if you give us a call at: http://aws.amazon.com/contact-us/ please choose account and billing.

Regards,

Matt"
Amazon EC2	"Re: How to understand the usagetype and operation in billing report?
Just chatted with support about this a bit.  The number after RunInstances is apparently related to the O/S (where there are extra charges perhaps).  ""0010"" may be RHEL.  There does not seem to be a canonical list anywhere (yet) but support said they'd take that request back to the documentation folks."
Amazon EC2	"error with tracerto to my server
I have this problem:
Tracing route to ec2-52-28-237-137.eu-central-1.compute.amazonaws.com [52.28.237
.137]
over a maximum of 30 hops:

  1     4 ms     3 ms     2 ms  192.168.1.1
  2    12 ms     7 ms    11 ms  wro.connecta.pl http://10.32.95.1
  3    12 ms    18 ms    19 ms  gi0-6-0-1.203.rcr21.poz01.atlas.cogentco.com http://149.6.28.49
  4    23 ms    22 ms    24 ms  be2591.ccr21.waw01.atlas.cogentco.com http://130.117.0.241
  5    58 ms    34 ms    26 ms  be2250.ccr21.bts01.atlas.cogentco.com http://154.54.60.245
  6    29 ms    27 ms    29 ms  be2222.ccr21.vie01.atlas.cogentco.com http://130.117.1.50
  7    35 ms    25 ms    25 ms  level3.vie01.atlas.cogentco.com http://130.117.14.30
  8     *        *        *     Request timed out.
  9     *        *        *     Request timed out.
 10    35 ms    42 ms    33 ms  dialup-212.162.19.106.frankfurt1.mik.net http://212.162.19.106
 11     *        *        *     Request timed out.
 12     *        *        *     Request timed out.
 13    36 ms    34 ms    37 ms  54.239.5.134
 14     *        *        *     Request timed out.
 15     *        *        *     Request timed out.
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22     *        *        *     Request timed out.
 23     *        *        *     Request timed out.
 24     *        *        *     Request timed out.
 25     *        *        *     Request timed out.
 26     *        *        *     Request timed out.
 27     *        *        *     Request timed out.
 28     *        *        *     Request timed out.
 29     *        *        *     Request timed out.
 30     *        *        *     Request timed out.

Trace complete.

Someone can help?"
Amazon EC2	"Windows Server 2008 R2 Standard RAM Limits
It looks like I can easily provision a 'Microsoft Windows Server 2008 R2 with SQL Server Standard 2008' as a r3.2xlarge which has 61GB of RAM.

My question, does the standard 32GB Max RAM limit on Server 2008 R2 Standard still apply in AWS? What about the Physical CPU limit of 4?

Edited by: Andrew Rice on Aug 16, 2015 10:44 PM

Edited by: Andrew Rice on Aug 16, 2015 10:45 PM"
Amazon EC2	"Re: Windows Server 2008 R2 Standard RAM Limits
Do you mean the RAM limitations on SQL Server 2008 Standard R2?

If you use SQL Server 2008 (*not* R2) then you have no limitations on resources."
Amazon EC2	"Re: Windows Server 2008 R2 Standard RAM Limits
Should have double checked my wording.

My understanding is Windows Server 2008 R2 Standard has a maximum ram limit of 32GB.

If i provision a AMI of Windows Server 2008 R2 Standard on an instance type with more than 32GB, I assume i wouldn't be able to address more than 32GB of ram unless AWS Microsoft licensing somehow differs. 

I hope this make more sense."
Amazon EC2	"Re: Windows Server 2008 R2 Standard RAM Limits
Okay, so the Windows Server 2008 instances you'll get from Amazon are Datacentre Edition so you will get access to all the memory available.

The limitations are baked into the installed version of Windows, so are not license limited. You cannot install a Datacentre Server 2008 License with Server Standard 2008 Media and vice-versa. What is strange is that I didn't notice the fact that the AWS Offering of 2012 is Standard and not Datacentre. This would so easily explain the issues we've seen with 2012 Server."
Amazon EC2	"Re: Windows Server 2008 R2 Standard RAM Limits
That's what i suspected, but just wanted to confirm. Thanks for the info."
Amazon EC2	"Re: Windows Server 2008 R2 Standard RAM Limits
2012 R2 Standard does not have the limitations its predecessors had. 2012 R2 Standard and Datacenter only differ in the amount of licensed virtual instances you can run. This however is irrelevant on EC2."
Amazon EC2	"Can On-Demand Instance Be Converted to a Dedicated Instance?
Hello, I have an on-demand EC2 instance that I'd like to pay for in advance for the next 3 years. Would I need to create an entirely new instance? Or can I just convert this one?"
Amazon EC2	"Re: Can On-Demand Instance Be Converted to a Dedicated Instance?
You don't need to do anything with your existing instance. It will not be affected by the purchase of a reservation as it is purely a matter of how you are billed. When you purchase a reservation, you select the parameters that match what you have up and running already. Behind the scenes, the billing system will see that you have an unused reservation and apply it to your existing instance."
Amazon EC2	"Re: Can On-Demand Instance Be Converted to a Dedicated Instance?
Great thanks!"
Amazon EC2	"Billing of snapshots
Hi Team 

I have been using the aws calcualtor to find out the cost of creating and keeping snapshot of my volumes for every last 5 days apart from the ec2-resource bills. I have 6 instances and it has volume size as follows 90 GB, 150GB, 60GB,90GB,60GB and 250GB. 
If we take daily back snapshot of each of these volumes and keep the same for last 5 days how will it affect the billing. I tried the calculator http://calculator.s3.amazonaws.com/index.html but its more confusing with the cost of snapshots for a month. would be great if you could help me on the same . 

Please note : 5 Instances are in eu-ireland region and 1 instance is in eu-frankfurt region ( with 250 GB size).

Thanks in advance
Govind"
Amazon EC2	"Re: Billing of snapshots
AWS you listening ???

can some one help me with the question ?? I dont see any response with the concern?

Thanks
Govind"
Amazon EC2	"Re: Billing of snapshots
what do you find confusing about it?

i don't use it but i took a quick look and it seems simple enough to me. are your disks full? do you have a screenshot of what is confusing?

snapshots can get tricky. are you storing your data in the root volumes you launch the instances from? what OS are you running? are you copying/transferring any snapshots between regions?"
Amazon EC2	"Re: Billing of snapshots
Hey there

I have all windows instances. nothing much confusing here, just wanted to ensure that the % of change into the volumes is considered while taking snapshot. all volumes are root volumes only. 

Also have a plan of copying snapshot to another region once in a week for all those volumes snapshots. ( 6 snapshots to be copied to another region in one week so almost 24 copy snapshots a month)

thanks
Govind

Edited by: govindcnd on Aug 19, 2015 12:54 AM"
Amazon EC2	"EC2 instance does not respond and does not reboot!
Today, before a couple of hours, on of my instances running Linux (i-f0d0dd86) stopped responding at all! Trying to reboot from the console didn't do anything. It does not even show that it changes state to ""Rebooting"". We have received a notification from AWS that on 20th of August the system would reboot for maintenance - I don't know if this is related with the problem. 

Is it a generic AWS problem on that region (eu-west-1b) ? I was surprised that the AWS console does not respond at all - I though that AWS console is rock solid in any case! 

F."
Amazon EC2	"Re: EC2 instance does not respond and does not reboot!
Hello,

I am sorry for the trouble. I see that the instance is currently in running state.  Let me know if you still have issues. 

Best Regards,
-Chandra P."
Amazon EC2	"Re: EC2 instance does not respond and does not reboot!
Hello, 

Looking at the AWS console I found out that the scheduled system-reboot was performed earlier without proper notification! If you look at the attachment there is a scheduled system-reboot that it is already completed, even if the schedule is set for August 20th!

Can you explain me what went wrong in that case ? Why we didn't get a notification about the out-of-schedule maintenance ? Is it something that was planned by your side or performed by accident ? We have also another VM that is scheduled for a system-reboot on August 20th. Is it assured that everything will work according to the schedule ? 

Thank you

F."
Amazon EC2	"Re: EC2 instance does not respond and does not reboot!
i would guess that the underlying hardware had issues and it just totally failed before the move date, which is scheduled to give you time to do your own move.  any time you get such a notice you should stop and restart the instance as soon as you can just in case of events like that."
Amazon EC2	"Re: EC2 instance does not respond and does not reboot!
Thank you for your response, it sounds rational now. When an instance-reboot is pending, the notification e-mail from AWS states clearly that in case that you want to perform the ""update/maintenance"" in an aerlier date, you have to manually issue a reboot command. However, in the system-reboot case which is related with the undelying hardware as you said, there was no such information. I thought that you have to wait the specific date for the maintenance. 

I will have in mind that in such cases a start/stop should do the job! 

Thank you

F."
Amazon EC2	"Auto Recovery and Termination Protection
Hi,

We configured AutoRecovery upon StatusCheckFailed_System.
But it didn't work and we received the message below.

According to the message, Termination Protection seems to prevent the 'Terminate' action.
Does anyone know whether it is true for the 'Recover' action as well?
In other words, does Termination Protection have to be disabled in order to execute the 'Recover' action successfully?

Thank you in advance.

----
Dear AWS customer,

We are unable to execute the 'Recover' action on Amazon EC2 instance i-xxxxxxxx that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-xxxxxxxx.

You may want to check the alarm configuration to ensure that it is compatible with your instance configuration. You can also attempt to execute the action manually.

These are some possible reasons for this failure and steps you can try to resolve it:

Incompatible action selected:
 Your instanceâ€™s configuration may not be compatible with the selected action.
    * To execute the 'Terminate' action, your instance may have Termination Protection enabled. Disable this feature if you want to terminate your instance. Once you do that, the alarm will execute the action after the next applicable alarm state change.
    * To execute the 'Stop' action, your instanceâ€™s root device type must be an EBS volume. If the root device type is the instance store, select the 'Terminate' action instead. Once you do that, the alarm will execute the action after the next applicable alarm state change.

Temporary service interruption:
 There may have been an issue with Amazon CloudWatch or Amazon EC2. We have retried the action without success. You can try to execute the action manually, or wait for the next applicable alarm state change.

Sincerely,
Amazon Web Services"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi  s-morita-2015,

I've reviewed the documentation here http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingAlarmActions.html and http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html and don't specifically see where it calls out termination protection affecting the recovery steps. With that said the email you received seems to indicate that termination protection could've been the cause. This assumes that your instance is EBS backed and not instance store, of course.

I'm going to investigate this further and find out if termination protection needs to be disabled for auto recovery to work.

Regards,

Rodney"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi Rodney,

Thank you for the reply.

This assumes that your instance is EBS backed and not instance store, of course.

Yes, we think our instances are supposed to satisfy the conditions including EBS.

I'm going to investigate this further and find out if termination protection needs to be disabled for auto recovery to work.

Thank you so much!! It will help us a lot.

Best regards,

Shin-ichi MORITA"
Amazon EC2	"Re: Auto Recovery and Termination Protection
I'm definitely interested in this as well."
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi Rodney,

How is the investigation going since then?
I hope you will find out something.

Thank you.

Shin-ichi"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello Shin-ichi,

I see that Rodney has already opened an internal ticket to investigate on this behaviour.
Could you please provide us the id of the instance which faced this issue?

Regards
Shiroy"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi shiroyp and Rodney,

Thank you for the investigation.

We have the following instances which failed AutoRecovery:

i-811ae873 in Tokyo region
i-46be35ec in Ireland region
i-54de26a6 in Tokyo region


Regarding the latter two instances, we had already disabled Termination Protection when StatusCheckFailed_System happened. But they still failed AutoRecovery.
So there should be another reason as well.

Best regards,

Shin-ichi"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello Shin-ichi,

Our preliminary investigations have shown that there were no  calls to RecoverInstances during this time, failed or not failed.  To investigate the issue further, could you please provide the dates and time when the auto-recovery failed for the three instances. 

Best regards,
RonnieN"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello RonnieN,

Thank you for the investigation.

Below are the snippets of notifications we got. We received failure notifications of auto recovery immediately after OK notifications of system check at 2015/07/01 22:20 UTC+0900 and at 2015/07/06 1:17 UTC+0900, and I don't know why we received the failure notifications. In the other cases, we had to recover manually.

And, I forgot to mention one thing. We are running Windows Server 2008 R2 on these instances. ""at least 2 period(s) of 60 seconds"" might be too short for Windows. After we changed the interval to ""at least 2 period(s) of 300 seconds"", Status Check Alarm stopped occurring.

But anyway, so far, we have not had auto recovery be successful yet.

Thank you.

Best regards,
Shin-ichi

2015/06/28 13:00 UTC+0900
You are receiving this email because instance i-811ae873 in region APAC - Tokyo has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 28 June, 2015 04:00:17 UTC"".

2015/06/28 13:04 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-811ae873 that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-811ae873.

2015/06/28 13:38 UTC+0900
You are receiving this email because instance i-811ae873 in region APAC - Tokyo has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 28 June, 2015 04:38:17 UTC"".

2015/06/28 13:42 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-811ae873 that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-811ae873.

2015/06/28 20:51 UTC+0900
You are receiving this email because instance i-811ae873 in region APAC - Tokyo has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 28 June, 2015 11:51:17 UTC"".

2015/06/28 20:55 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-811ae873 that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-811ae873.

2015/06/28 21:31 UTC+0900
You are receiving this email because instance i-811ae873 in region APAC - Tokyo has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 28 June, 2015 12:31:17 UTC"".

2015/06/28 21:35 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-811ae873 that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-811ae873.

2015/07/01 1:09 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Tuesday 30 June, 2015 16:09:27 UTC"".

2015/07/01 1:13 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec.

2015/07/01 1:48 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Tuesday 30 June, 2015 16:48:27 UTC"".

2015/07/01 1:52 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec.

2015/07/01 21:57 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Wednesday 01 July, 2015 12:57:03 UTC"".

2015/07/01 22:01 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec.

2015/07/01 22:16 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Wednesday 01 July, 2015 13:16:03 UTC"".

2015/07/01 22:20 UTC+0900
You are receiving this email because your Amazon CloudWatch Alarm ""AutoRecovery-EC2-i-46be35ec"" in the EU - Ireland region has entered the OK state, because ""Threshold Crossed: 1 datapoint (0.0) was not greater than or equal to the threshold (1.0)."" at ""Wednesday 01 July, 2015 13:20:03 UTC"".

2015/07/01 22:20 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec.

2015/07/05 4:12 UTC+0900
You are receiving this email because instance i-54de26a6 in region APAC - Tokyo has failed a system status check for at least 2 period(s) of 60 seconds at ""Saturday 04 July, 2015 19:12:43 UTC"".

2015/07/05 4:17 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-54de26a6 that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-54de26a6.

2015/07/06 0:26 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 05 July, 2015 15:26:03 UTC"".

2015/07/06 0:30 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec.

2015/07/06 1:13 UTC+0900
You are receiving this email because instance i-46be35ec in region EU - Ireland has failed a system status check for at least 2 period(s) of 60 seconds at ""Sunday 05 July, 2015 16:13:03 UTC"".

2015/07/06 1:17 UTC+0900
You are receiving this email because your Amazon CloudWatch Alarm ""AutoRecovery-EC2-i-46be35ec"" in the EU - Ireland region has entered the OK state, because ""Threshold Crossed: 1 datapoint (0.0) was not greater than or equal to the threshold (1.0)."" at ""Sunday 05 July, 2015 16:17:03 UTC"".

2015/07/06 1:17 UTC+0900
We are unable to execute the 'Recover' action on Amazon EC2 instance i-46be35ec that you specified in the Amazon CloudWatch alarm AutoRecovery-EC2-i-46be35ec."
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello Shin-ichi,

thanks for the information, we will continue to investigate your issue.

Regards,
Giorgio"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi Shin-ichi,

Thanks for providing this great info, our internal teams are cross referencing the data to determine the root cause. We'll get you an update once we have further info.

Regards,

Rodney"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hi team,

Thank you for the investigation.
I'm looking forward to hearing from you again.

Best regards,
Shin-ichi"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello, 

We took a look at the logs of this action and found that the IAM user who configured this doesn't have permission to recover the instance. 

The IAM user in question is ""sakuragi"". 

You'll need to configure the CloudWatch Action to use an account that does have recover permission or they need to update the permissions for the above account.

Let us know if you have any additional questions or concerns. 

Regards,
Nick"
Amazon EC2	"Re: Auto Recovery and Termination Protection
Hello NickL,

Thank you for the reply.

Let me make sure the required conditions.

In order for AutoRecovery to work, both of the following conditions must be met:
= Termination Protection is disabled.
= The creator of Recover action in CloudWatch Alarm has recover permission.

Am I correct?

Best regards,
Shin-ichi"
Amazon EC2	"This account is currently blocked and not recognized as a valid account
Hello, all.

I got an error while I was creating m3.xlarge instance in Singapore with additional drive 500Gb (general purpose SSD):

Launch Failed
This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.

I've sent two messages yesterday and today but still havn't got any answer.
Please help to fix the issue."
Amazon EC2	"Re: This account is currently blocked and not recognized as a valid account
Hi Olexeygrinko,

Nolen from AWS Customer Service.

As per email sent by my colleague, I have reviewed your account and can confirm that your account is working as is expected.  There are no issues or limitations that should prevent you from launching any instances.

Could you please confirm the AWS account ID you are experiencing this issue on. Please respond to the support case,  1358179371, with more info so that we can help investigate. 

Iâ€™m sorry for any inconvenience this may have caused.

Regards,

Nolen M."
Amazon EC2	"Re: This account is currently blocked and not recognized as a valid account
Hi Nolen,

I have same problem, when i create instance with m3.xlarge in singapore region, i got error :
""This account is currently blocked and not recognized as a valid account.""

Can you help me?

Regards,
Agus Bonanza"
Amazon EC2	"Re: This account is currently blocked and not recognized as a valid account
Hi agusbz,

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 1472251081.

Should you have any billing or account related queries in future, you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Have a good day!
C.Manuel"
Amazon EC2	"How to handle 'system reboot' event manually for EBS instance
Hello All,

Recently I got an email notification from Amazon EC2 that one of my Amazon instance is having 'system-reboot' event scheduled. I have searched over forum and found there are two reboot events 'instance reboot' and 'system reboot'.
I got notification for 'system reboot'. If I want to handle this scheduled event manually before scheduled time and if I 'stop' and 'start' my EBS instance manually, will it resolve scheduled event problem of 'system reboot' ? If I 'stop' and 'start' my instance, will it provide new host ?
Please help me to resolve my problem. I want to resolve this 'system reboot' even manually before scheduled time. If there are other options available to resolve it, please share those options. 

Thanks,
Emorphis_AWS"
Amazon EC2	"Re: How to handle 'system reboot' event manually for EBS instance
Hello,

As your instance is EBS-backed you can feel free to stop and then start your instance again to resolve this event manually.

Please be aware that if you have any instance store volumes the data on them will be lost when the instance is stopped.

Regards,

Matt W."
Amazon EC2	"Re: How to handle 'system reboot' event manually for EBS instance
Thanks Matt. It worked for me."
Amazon EC2	"EC2 not stopping and associated EBS not attaching
Hello,

I have an EC2 instance (i-152f05b8) stuck in the ""stopping"" process and the associated root volume (vol-0d58b01b) stuck in the ""attaching"" process. The message on the volume states ""Volume stuck in attaching since 22 days, 18 hours and 53 minutes ago ago."", although I'm pretty certain that message wasn't displayed when a created a snapshot yesterday.

Can you please remedy the situation or instruct me on fixing it. 

Thanks"
Amazon EC2	"Re: EC2 not stopping and associated EBS not attaching
Hello,
thank you for contacting us.
Reviewing i-152f05b8 instance details, I found there are issues with underlying hardware hosting it: I escalated the request to our EC2 team to further investigate and fix the issue.

We'll get back to you as soon as we have an answer from them.
Thank you.
Regards,
Alessandro"
Amazon EC2	"Re: EC2 not stopping and associated EBS not attaching
Hello launeradmin

Our EC2 team has reported back that the issue is resolved. Please verify that your instance is running as expected.

Kind regards

Leon"
Amazon EC2	"Multiple domains on one IP address?
I have an AWS instance of a web application written in Python/Django/Java.

My domains are hosted at godaddy and we set the ""A record"" for www.learn.MyDomain.org to the AWS IP address. I also set the ""A record"" for www.learn.myOtherDomain.org at the same IP address, and now both work great.

Can I set an unlimited number of ""A records"" to the same IP address without causing problems?

To be clear - I want to send all domains to the default website.

Why? We would like to share our web app with other orgs, and it would be great if it appeared to their users to be owned by their own org. 

Is this problematic? Are there limits?

Thanks!
W

Edited by: wuvu2 on Aug 17, 2015 6:49 AM

Edited by: wuvu2 on Aug 17, 2015 8:09 AM"
Amazon EC2	"Re: Multiple domains on one IP address?
No limits from an IP perspective - just from the number of connections your server can reliable handle."
Amazon EC2	"Re: Multiple domains on one IP address?
Thanks very much!"
Amazon EC2	"Unable to access t2.micro instance on us-west-2a
I'm unable to access my running Ubuntu 14.04 LTS t2.micro instance at the moment.  I've tried rebooting the instance, verified no changes were made to the instance's Linux OS prior to the issue and confirmed that SSH access is still allowed in the attached security group.

Can you please take a look and help resolve this issue?  The instance ID is i-60992da5.

I know there is a way to open a support ticket however I'm waiting on my account's permissions to be adjusted by the primary account holder so I can create a case, so I've created this forum thread in the meantime in hopes someone can assist as well as document the issue since it seems others have experienced the same problem in the past few days.

Thank you!"
Amazon EC2	"Re: Unable to access t2.micro instance on us-west-2a
Ok, I'm now able to gain access to the instance but only after noticing the IP address changed.  I verified the IP address was the previous IP when I started to troubleshoot but I don't remember looking after I restarted the instance.  Does the public IP address change when you restart a t2.micro instance?"
Amazon EC2	"Re: Unable to access t2.micro instance on us-west-2a
Hi. I am glad that you were able to figure it out. Yes, the public IP address of an instance changes if you stop and start it, but not if you reboot it. For more information, see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-lifecycle.html#lifecycle-differences. 

Julie"
Amazon EC2	"/dev/xvda1 is full
Hello, I am using EC2 m3.medium with CentOS 7. I have no idea why this is happening although I expanded to large EBS. I saw sendmail error from System Log from AWS Console. Then I stopped the sendmail service. However it keeps on increasing as usual. I also deleted Log Files from tmp. Please suggest me what to do with this situation. Thank you and appreciate."
Amazon EC2	"Re: /dev/xvda1 is full
you can try this command to see a list of very big files, size and name:

sudo find / -type f -printf '%12s %p\n' 2>/dev/null|awk '{if($1>999999999)print $0;}'"
Amazon EC2	"Re: /dev/xvda1 is full
a larger volume just delays the disk filling up.

do you need to run sendmail?  if not and if its logging is filling up the disk then don't run it.  uninstall it and reboot."
Amazon EC2	"Re: /dev/xvda1 is full
Thanks for the advice. Just removed and see whether it's still happening or not. Again thank you."
Amazon EC2	"Feature Request: Security Group Rule Labels
I'm surprised I couldn't find anyone else asking for this. Perhaps I am posting a feature request to the wrong forum?

It would fantastic if there was some way to label or tag each rule within a security group. There are countless times when I look at a long list of rules and have to ask ""I wonder what IP or service that rule was added for?"".

If there was a way to add a short label or description to these, it would be extremely helpful.

Thx!"
Amazon EC2	"Re: Feature Request: Security Group Rule Labels
Hi ntn100

Thank you for your feedback. Just to let you know that this feature request is already in our systems. We are committed to improving the AWS services in every way possible.

I'd also encourage you to keep an eye on http://aws.amazon.com/new/ -- all new features are published there.

There is one more thread I found related to this request
https://forums.aws.amazon.com/thread.jspa?messageID=607966

Regards,
-Neel"
Amazon EC2	"Instance having some network issues
Team,

We are running our production DB server in AWS for more than 2 years . We recently had few network issues, which resulted our production website outages. our monitoring system reported ""unable to communicate with network"" & at the same time,  we observed few spikes in cloud watch monitoring - system check details . 

Can someone help us, whether there is a issue with the instance? and if so  what will be the solution for this? How can we prevent this in future?

Instance ID : i-dda4c783"
Amazon EC2	"Re: Instance having some network issues
Hi infoarmy,

There are two status checks for the instance.
1. StatusCheckFailed_Instance
2. StatusCheckFailed_System

If you are seeing spikes in only StatusCheckFailed_Instance and not the second one, then there are issues within the instance. But if you see spikes in StatusCheckFailed_System, then there are issues with the underlying hardware.

You can design your application to be highly available and fault tolerant to prevent this kind of situations in future. For more info you can refer the documentation available at http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf.

Regards,
-Neel"
Amazon EC2	"Browser returns ""No data received"" for my EC2 instance.
Hello,

My instance id is i-210bb1d6. 

I've experienced two times now of the ""No data received"" issue ever since I've moved my WordPress site to use RDS. Though I could still connect to my RDS via MySQLWorkbench, but not able to connect to my instance via SSH (It shows ""Operation timed out"") after this issue has happened each time. Doing ""ping"" in Terminal would show that my instance is ""100.0% packet loss"", and rebooting the instance would not fix this issue neither. I've set the correct IP for the SSH in the security groups inbound rules, and also checked that my instance is appear to be running on the EC2 console. 

Interestingly, I've found that stopping the instance, and then restart the instance and the httpd service would fix the issue. However, this issue will always come back again after couple of hours. 

Could anybody help me or guide me to troubleshoot it, please?

Edited by: leotse89 on Jul 20, 2015 9:43 PM"
Amazon EC2	"Re: Browser returns ""No data received"" for my EC2 instance.
Hi leotse89,

Are you still seeing the issues? I can see that your instance is already terminated.

Ssh timing out can usually be attributed to either security group or firewall blocking the port. For being able to ping, you might want to allow all ICMP traffic through your security group.

Regards,
-Neel"
Amazon EC2	"Amazon EC2 unusable after Elastic IP assignment
Hello all! I assigned a static IP to my web instance using Elastic IP. My instance is now too slow to access, and barely loads text. Others have encountered this issue as well, but there doesn't seem to be any resolution listed. I don't believe I did anything wrong. What can I do to fix this? My website is now essentially dead due to this very simple change."
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Hello,

Can you kindly provide an update to this thread with the instance-ID in question. I will gladly take a look into this issue you are experiencing.

Regards,
Mohsin"
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Hello Moshin -- thanks for the quick response! The instance ID is i-57c438a1"
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Hello,

I have reviewed your EC2 instance in question, and it appears in good health. As a troubleshooting measure, can you kindly perform a 'stop' and 'start' to see if this resolves the issue you are experiencing?

Regards,
Mohsin"
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Will that cause me to lose data associated with the instance? There is content stored on the instance that has not been backed up recently."
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Will that cause me to lose data associated with the instance? There is content stored on the instance that has not been backed up recently."
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
Hello,

I have reviewed your EC2 instance i-57c438a1, and I am able to see it is EBS-backed and does not have any instance-store volumes attached. You are safe to perform a 'stop' and 'start' on your EC2 instance. 

Regards,
Mohsin"
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
A restart has not resolved the problem. Have you visited the IP address associated with the instance? Text no longer loads following the restart."
Amazon EC2	"Re: Amazon EC2 unusable after Elastic IP assignment
I found the problem! After I regained ssh access, I discovered my Elgg instance -- the software I was running on my EC2 instance -- was the cause of the problem. It was trying to use the IP address of the old instance; providing it with the elastic IP solved the problem."
Amazon EC2	"Two problems in AWS EC2 - An error occurred fetching network interfaces
Hello

I have two problems in the AWS Panel in SÃ£o Paulo.

1 - I can't see network interfaces (NETWORK & SECURITY > Network Interfaces)
Error message: An error occurred fetching network interfaces: Invalid id: ""2830020120""

2 - Can't associate on elastic ip to an ec2 instance
When click with right mouse button in ""associate address"" show the message: ""An error occurred fetching the list of available network interfaces""

I think is the same problem, but this is a problem in the AWS Panel.

How can I fix this?

Thank you

Edited by: gibagiba on Jul 22, 2015 1:26 PM

Edited by: gibagiba on Jul 22, 2015 1:35 PM"
Amazon EC2	"Re: Two problems in AWS EC2 - An error occurred fetching network interfaces
Hi gibagiba,

Could you please provide me your instanceID? I will try to have a look into it.

Regards,
-Neel"
Amazon EC2	"Logging/Auditing: Termination information
A few hours ago four of our instances have apparently been terminated. They are not shown on the web console, and their volumes are also absent. As I have their ids thanks to a special backup we did a few weeks ago, is it possible to know who terminated the instance?"
Amazon EC2	"Re: Logging/Auditing: Termination information
Hi javierpalacios,

With AWS CloudTrail you can get a history of AWS API calls and related events for your account. This includes calls made by using the AWS Management Console, AWS SDKs, command line tools, and higher-level AWS services. However, you will have to enable the CloudTrail logging to start using it. More information on CloudTrail can be found at the below link.

http://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html

Please PM me your AWS account ID and instance IDs, I will try to find out the termination information for you.

Regards,
-Neel"
Amazon EC2	"Re: Logging/Auditing: Termination information
I did see cloudtrail after the incident, as usual. As I understood that it logs all the requests, including those from web console, we will likely enable it for the future. Respecting the past, I'll sent you the ID's of the instances."
Amazon EC2	"Re: Logging/Auditing: Termination information
i recommend using separate volumes for your data (including you own software and backup copies of system files you change).  this makes it much easier to manage.  or did you make an AMI?"
Amazon EC2	"Re: Logging/Auditing: Termination information
Hi javierpalacios,

Thanks for providing the instance IDs. It looks like there were 5 instances that got terminated. They were all terminated at 2015-08-17T16:42:01 UTC. The request was user initiated from the ec2 console.

You might not have manually terminated the instances, but it is quite possible that they are part of the autoscaling group and are terminated as per the autoscaling group policies.

I have sent your more detailed information in PM.

Regards,
-Neel"
Amazon EC2	"Hostname lookup fails on new EC2 instances
I set up a linux CENTOS 7 and and an Amazon linux machine.  They are both t2.micro instances.  I can login with ssh (putty) and I can ping IP numbers outbound from both machines.

I cannot run YUM to install anything. 
Starting with ""Could not retrieve mirrorlist http://mirrorlist.centos.org/?release  ""

I cannot even ping amazon.com
ec2-user@ip--- ~$
  ping amazon.com
    ping: unknown host amazon.com

I can ping IP numbers in other networks successfully .

All the instructions I have seen appear to assume that lookups will work, and hence yum will work, but both fail."
Amazon EC2	"Re: Hostname lookup fails on new EC2 instances
Hi bobt14,

Looks like your VPC might not have any DHCP options set associated with it. I recommend you to go through the below link that explains DHCP options set in VPC.

http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_DHCP_Options.html

You might need to create a new DHCP options set and associate it with your VPC and then reboot the instances or re-launch them.

For your reference, I have attached a screenshot of Create DHCP options set so that you can use those values while creating a new DHCP options set.

Let me know if that fixes your issue.

Regards,
-Neel"
Amazon EC2	"Re: Hostname lookup fails on new EC2 instances
I have two very important production machines on my account, and I don't want to risk making accidental changes to them.   Those machines were previously VMWare images which I converted successfully with a utility from AMZ.

I am trying to learn how to create new standalone instances on AMZ.   I know some things are created automatically at instantiation, but I don't know which ones are dependencies of my two production servers.

I am thinking about  starting a new account so I don't have that risk.   Is that allowable?

Edited by: bobt14 on Aug 18, 2015 10:58 AM
Update/Edit - I couldn't figure out how to manage the AMZ  configuration tools.   
I set up an account with a different host (linode)  in order to develop and test install scripts.
Thanks for your advice .
===="
Amazon EC2	"Re: Hostname lookup fails on new EC2 instances
Hi bobt14,

It is definitely allowed to open an additional account to try out different stuffs. Alternatively, you can use the same account and use a different region or you can also create a new VPC.

Regards,
-Neel"
Amazon EC2	"HELP! One of my Linux servers won't accept RDP connections
Thanks for taking the time to look at this! I should start by saying that I am NOT a linux expert. I work in the life sciences, but I'm collecting data for research that demands the use of such servers. Here is the situation: I have two linux servers that I use to process a great deal of information that comes in from various remote sites around the world. I have to log into both of them via GUI to run a GUI application that is crucial to my implementing new research sites. The older of the two servers works fine with windows remote desktop. But the newer one doesn't. When I try to login I the process starts, but ends in a line ""xrdp_mm_process_login_response login failed "". The security rules for the two servers are identical, so that doesn't seem to be the reason. I can connect to the newer instance with Tight vnc, but for some reason the guy leading the study is demanding that we be able to access both servers with windows remote desktop. Any Ideas? Thanks so much for any help you might be able to offer!"
Amazon EC2	"File version and metadata description in Spot Instance Data Feed
Hi Everyone,
I subscribed to aws spot instance data feed subscription and noticed two files 
xxxxxxx.2015-08-14-15.001.xxxxx.gz
xxxxxxx.2015-08-14-15.002.xxxxx.gz
I infer from the documentation that that these are basically two different versions of for the same date and hour data feed.
My questions :
1. I am not sure what other changes can I expect across versions. I noticed a row corresponding to a new instance was added to the version 2 feed.  Can I also expect rows/columns data to be deleted/edited across different versions. 

2. Also when does a newer version of the file for the same date and hour data feed generally gets delivered after the first version is already delivered to the s3 bucket. For example, can a newer version file get delivered after 2 hours from when I receive the first file version. Is there an upper limit to the numbers of hours after which I can be sure that no more new version will be dumped for the same date and time data feed.

3. Also, different from the context above, Can there be a scenario where value in MarketPrice field is different from value in Charge field? I notice that both the fields have the same value.

Thanks,
Rohit.

Edited by: Rohit Jhunjhunwala on Aug 18, 2015 2:12 PM"
Amazon EC2	"Unable to connect to my EC2 instance
Hello i have recently signed up for EC2 basic tier. I have setup everything correctly. I had access to instance for only one day. Although i can see my instance running in management console but i cant access my vps anymore. Any help will be greatly appreciated please. Instance ID is i-809e5f2b. Thanks

Edited by: iffi2595 on Aug 16, 2015 1:38 AM"
Amazon EC2	"Re: Unable to connect to my EC2 instance
Hi

Me too.   This has happened to me at 02:11 this morning.

I contacted AWS Support a few times and ""miraculously"" the server rebooted itself at 08:42

This has happened to me on another account about a week ago, and on the same account about a week before.

Everytime I call they say ""everything looks fine"" and talk about needing to PAY FOR SUPPORT, which is 100% ridiculous because if the instance goes offline by itself that's not technical support it is FAILED PRODUCT.

So, click ""Support"" and then ""Support Center"" and then ""Create Case"" and ""Where's my stuff?""

You will be spoken to as an errant child and about three minutes later the instance will return."
Amazon EC2	"Re: Unable to connect to my EC2 instance
I have New Relic sending data back from all my instances every 5 minutes.   Here's the last 12 hours of data for the instance that went dead.

It shows it's running normally and then stops both sending out data and receiving it."
Amazon EC2	"Re: Unable to connect to my EC2 instance
I'm a little confused by your graph. Are the big, pink blocks how the outtage displays? It says  100% CPU usage(?)."
Amazon EC2	"Can't get identity verification by phone
Hi, I've been trying since yesterday to get the identity verification by phone.
Tried 2 phones, also created a case in Support Center but got no response.

Is there anyone from Amazon that can help me out?

Thanks



Tried again and worked. Thanks anyway.

Edited by: Ezequiel Klusman on Aug 18, 2015 12:15 PM"
Amazon EC2	"Help: The instance is not in a state in which volumes can be detached
I can't reboot my instance because one or more attached volumes are impaired. I can not detach or force detach the volumes. I get the following message:

Error detaching volume

vol-bfbcf2a2: Unable to detach volume 'vol-bfbcf2a2' from instance 'i-0352865b'. The instance is not in a state in which volumes can be detached. My instance i-0352865b is broken and I can't access it. I'm told to reboot it but this is when I get the volume impaired issues.

What should I try next?

Thanks
-nate-"
Amazon EC2	"Re: Help: The instance is not in a state in which volumes can be detached
Hi Nate,

Upon reviewing your EC2 instance  i-0352865b, I see it is EBS-backed and does not have any instance-store volumes attached. As a troubleshooting measure, can you attempt to perform a 'stop' and 'start' action on the EC2 instance? Please note, when performing a 'stop' and 'start' the Public IP address will change when the EC2 instance starts back up since it is not utilizing an Elastic IP address.

Regards,
Mohsin"
Amazon EC2	"Re: Help: The instance is not in a state in which volumes can be detached
Hi Mohsin,

That corrected the problem. Thanks so much for the quick help.

Have a great day
-nate-"
Amazon EC2	"Instance stuck 'stopping'
I've lost access to instance i-180d25ef - first I replaced elastic ip, that didn't help, next attempted to restart the instance. It seems to be stuck 'stopping' and force stop doesn't help. Are there any problems with the service ?"
Amazon EC2	"Re: Instance stuck 'stopping'
Hello,
thank you for contacting us: reviewing i-180d25ef details, it seems that we are experiencing issues with underlying hardware hosting the instance.

I escalated your request to our EC2 team in order to fix the issue: we'll update you as soon as we have an update from them.
Regards,
Alessandro"
Amazon EC2	"Re: Instance stuck 'stopping'
Hello,

I am able to confirm that your EC2 instance  i-180d25ef had successfully stopped. I also see that you have restarted the instance back up again. The EC2 instance and underlying-host both appear in good health.

Again, I apologize for the issue you encountered. Please let us know if you have any questions.

Regards,
Mohsin"
Amazon EC2	"How to recover my old data
i reboot the instence its stack not starting its ays terminated how to start i will lost my old data 
help me plcs 
i-1df536b4
t2.micro
us-east-1a
 terminated"
Amazon EC2	"Re: How to recover my old data
Hello,

It appears you may have accidentally terminated your EC2 instance i-1df536b4. Unfortunately, we do not have any way of recovering your data if the EC2 instance has terminated. I would recommend to recover from any backups that you may have: EBS Snapshots, AMIs, or any offline backups.

By default, you can terminate your instance using the Amazon EC2 console, command line interface, or API. If you want to prevent your instance from being accidentally terminated using Amazon EC2, you can enable termination protection for the instance. For more information on termination protection, please visit the following AWS documentation here.

It is also advised to review our AWS whitepaper on 'Building Fault-Tolerant Applications in the AWS Cloud'.

I sincerely apologize for this accidental deletion that was experienced. If you have any additional questions or concerns, please do let us know.

Regards,
Mohsin"
Amazon EC2	"Cant access instance through rdp
i-f4675458 can't be accessed, any ideas?"
Amazon EC2	"Re: Cant access instance through rdp
Hello,

I have reviewed your EC2 instance i-f4675458. The reason why you are unable to access your EC2 instance is due to a missing route to an Internet Gateway(IGW). For more information, visit our AWS documentation on Internet Gateways. This documentation provides information on how to attach an Internet Gateway to your VPC, and configuring a route to the IGW in your route table.

I hope this helps.

Regards,
Mohsin"
Amazon EC2	"Re: Cant access instance through rdp
I just added it and still can't connect. Is there something else wrong?"
Amazon EC2	"Re: Cant access instance through rdp
Hi,

You added the route for the Internet Gateway as 0.0.0.0/32. This needs to be 0.0.0.0/0. Kindly make this change and try connecting to your EC2 instance again.

Regards,
Mohsin"
Amazon EC2	"Re: Cant access instance through rdp
Works! What's a good tutorial to learn all of this VPC stuff?"
Amazon EC2	"Re: Cant access instance through rdp
Hello,

I'm glad to hear that.

I would advise to take a look at our 'Getting Started' guide and VPC scenario documentation here.

Regards,
Mohsin"
Amazon EC2	"Suddenly Unable to SSH to my EC2 Instance
HELP!

I've been running a t1.micro EC2 instance for a couple years now without any problems. 

My EC2 instance is: i-3eb2b246 (ec2-23-23-167-75.compute-1.amazonaws.com) 

Suddenly, this morning, I am unable to SSH to the EC2 Instance.   I rebooted it, double-checked the in-bound security settings, made sure my terminal's ip address is allowed, made sure port 22 wasn't blocked --but still I can not SSH to the instance. 

I can confirm the instance is running (it is a web server that is serving out web pages just fine.)  I just can't SSH to it anymore.

Any help would be greatly appreciated!"
Amazon EC2	"Re: Suddenly Unable to SSH to my EC2 Instance
Hello,

I sent you a private message regarding your question. 

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Suddenly Unable to SSH to my EC2 Instance
My connectivity inexplicably returned.  

I'm guessing the problem was related to the AWS ""Health Bulletin"" regarding the US-EAST-1 Region:

""9:23 AM PST We are investigating possible Internet connectivity issues in the US-EAST-1 Region.
10:09 AM PST We are continuing to investigate Internet connectivity issues in the US-EAST-1 Region.
11:07 AM PST We continue to to investigating Internet connectivity issues in the US-EAST-1 Region. This is impacting connectivity between some customer networks and the region. Connectivity within the US-EAST-1 Region is not impacted."""
Amazon EC2	"Re: Suddenly Unable to SSH to my EC2 Instance
HELP!

I've been running a m3.medium EC2 instance for a year now without any problems. 

Suddenly, this today, I am unable to SSH to the EC2 Instance or winSCP into the folders. I double-checked the in-bound security settings, made sure my terminal's ip address is allowed, made sure port 22 and 80 are not blocked --but still I can not SSH/winscp to the instance. 

I can confirm the instance is running (it is a web server that is serving out web pages just fine.) I just can't SSH/winSCP to it anymore.

Any help would be greatly appreciated!"
Amazon EC2	"Re: Suddenly Unable to SSH to my EC2 Instance
Hello,

I apologize for the issue you are experiencing. Can you kindly provide the error message you receive when attempting to SSH into the EC2 instance?

Regards,
Mohsin"
Amazon EC2	"Help with EC2-Windows Server
I have several questions I hope someone can help with.  
Background - I want to spin up EC2 Window server instances, disable the firewall and then run an application on the instance.
Starting an ec2 instance is documented, but
1) Can I programmatically (C#) turn off the firewall?
2) Can I programmatically (C#) start a process(application) that was installed from the AMI?

Edited by: idolminds-devs on Aug 18, 2015 10:26 AM"
Amazon EC2	"httpd 2.4.12 possible vulnerabilities
A recent vulnerability scan of our instances noted these vulnerabilities based on the Apache version number.

I understand AWS does backports, but was not able to find the documentation where these were patched.

CVE-2015-0228
CVE-2015-0253
CVE-2015-3183
CVE-2015-3185

These are all patched in 2.4.16, but I don't see that available on the YUM repos yet

current installed rpms
# rpm -qa | grep httpd
httpd24-tools-2.4.12-1.60.amzn1.x86_64
httpd24-devel-2.4.12-1.60.amzn1.x86_64
httpd24-2.4.12-1.60.amzn1.x86_64"
Amazon EC2	"Re: httpd 2.4.12 possible vulnerabilities
Dear AWS,
I am experiencing the same issue. Apache has released version 2.4.16 almost a month ago to address security vulnerabilities and AWS has yet to make this package available in their repositories.

According to  AWS FAQs 

Q: How often will updates for the Amazon Linux AMI be available?
""The Amazon Linux AMI image is updated to include the latest components on a regular basis, and these updates are also made available in the yum repositories for installation on running instances.""

I'm starting to wonder... how regular is ""on a regular basis""?

Edited by: ohosting on Aug 12, 2015 8:07 AM"
Amazon EC2	"Re: httpd 2.4.12 possible vulnerabilities
Looks like apache has been updated to 2.4.16 on the yum repos

# rpm -qa | grep httpd
httpd24-devel-2.4.16-1.62.amzn1.x86_64
httpd24-tools-2.4.16-1.62.amzn1.x86_64
httpd24-2.4.16-1.62.amzn1.x86_64"
Amazon EC2	"PHP 5.6.11/5.5.27/5.4.43 (CVE-2015-3152)
Our EC-2 instance just failed a PCI vulnerability scan and this was among the issues that caused us to fail.  I see that the most recent available version of PHP 5.5 (which is what we are using) is 5.5.26, and that PHP released 5.5.27 on July 10.

I haven't really noticed how quickly a new PHP version goes from release to getting in the yum repo for the Amazon AMI, but is this something I can expect to see in the next week or so or will we have to take alternate remediation steps?  The last thing I want to do is get PHP out of sync with the repos.

Thanks!"
Amazon EC2	"Re: PHP 5.6.11/5.5.27/5.4.43 (CVE-2015-3152)
Hello,
thank you for contacting us: I reviewed our internal ticket system and I'd like to confirm that the team that manages Amazon Linux is working on fix for CVE-2015-3152 bug for a future repository push.

Unfortunately I do not have an ETA for this, at the moment, but we'll update you as soon as possible.
Regards,
Alessandro"
Amazon EC2	"Re: PHP 5.6.11/5.5.27/5.4.43 (CVE-2015-3152)
Thank you for the update, I will keep my eyes open for when I can pull the updated."
Amazon EC2	"Error on API DescribeSecurityGroupsResponse on Europe
==> machine-1:  -- Assigning a public IP address in a VPC: false
/Users/eduardooliveira/.vagrant.d/gems/gems/excon-0.44.2/lib/excon/middlewares/expects.rb:6:in `response_call': Expected(200) <=> Actual(0 Unknown) (Excon::Errors::HTTPStatusError)
excon.error.response
  :body          => ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?>\n<DescribeSecurityGroupsResponse xmlns=\""http://ec2.amazonaws.com/doc/2014-10-01/\"">\n    <requestId>d11db31b-f5c3-48c0-8255-a09b43eaa6f5</requestId>\n    <securityGroupInfo>\n        <item>\n            <ownerId>584629324139</ownerId>\n            <groupId>sg-f6a34a81</groupId>\n            <groupName>default</groupName>\n            <groupDescription>default group</groupDescription>\n            <ipPermissions>\n                <item>\n                    <ipProtocol>tcp</ipProtocol>\n                    <fromPort>0</fromPort>\n                    <toPort>65535</toPort>\n                    <groups>\n                        <item>\n                            <userId>584629324139</userId>\n                            <groupId>sg-f6a34a81</groupId>\n                            <groupName>default</groupName>\n                        </item>\n                    </groups>\n                    <ipRanges/>\n                </item>\n                <item>\n                    <ipProtocol>udp</ipProtocol>\n                    <fromPort>0</fromPort>\n                    <toPort>65535</toPort>\n                    <groups>\n                        <item>\n                            <userId>584629324139</userId>\n

Full: https://gist.github.com/entering/ff34573a7712e5ee489b

This was working until today just fine, and works on USA, we use vagrant with aws tools to deploy and keep giving this error everytime we deploy to Europe, on USA works well.

Any idea?"
Amazon EC2	"Re: Error on API DescribeSecurityGroupsResponse on Europe
So now is happening on USA as well:

us-west-1

==> machine-1:  -- Assigning a public IP address in a VPC: false
/Users/eduardooliveira/.vagrant.d/gems/gems/excon-0.44.2/lib/excon/middlewares/expects.rb:6:in `response_call': Expected(200) <=> Actual(0 Unknown) (Excon::Errors::HTTPStatusError)
excon.error.response
  :body          => ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?>\n<DescribeSecurityGroupsResponse xmlns=\""http://ec2.amazonaws.com/doc/2014-10-01/\"">\n    <requestId>556a9bf1-2878-4777-9faf-ce5c755963f8</requestId>\n    <securityGroupInfo>\n        <item>\n            <ownerId>584629324139</ownerId>\n            <groupId>sg-2735d363</groupId>\n"
Amazon EC2	"Re: Error on API DescribeSecurityGroupsResponse on Europe
Found others with same problem:
https://github.com/mitchellh/vagrant-aws/issues/406"
Amazon EC2	"Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Hello ,
we are facing some load issues in EC2 M3 MEDIUM since 2 weeks, even tough there are 0 users accessing our website , when we cross checked Ram is taking its full utilization of 3.70 GB (100 % CPU Utilization ) in which we are unable to access the website and IIS  , well this issue is lasting for only 30-40 min .

CASE 1 :when we debugged it we found that an windows update file SVCHOST.EXE is consuming the entire memory. can any one help me in killing this process                                                          
----------------------------------------------------------OR-----------------------------------------------------------
CASE 2 :if am wrong in the above case is there any other windows process that might consume heavy memory

please help me in this issue, its tampering our brand

EC2 Details 
Instance : M3.Medium
RAM : 3.37GB
Windows Server 2008"
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
We are facing same problem with my EC2 instance. Not sure how to resolve this. My server gets down due to this issues after every 2 days."
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Hello,

svchost.exe is used to run many different services in the Windows operating system. It is generally not appropriate to kill it.

From the description of your issue it sounds like you've got a memory leak on your instance -- that is, over a period of time the software on your instance consumes more and more memory, eventually getting to the point where there's nothing left.

As a first port of call, I'd recommend some general Windows tuning:


Install any required Windows Updates
Run an antivirus/antimalware scan using the tool of your choice.
Upgrade to the latest EC2Config

https://aws.amazon.com/developertools/5562082477397515

If none of those help, then the next step would be to look at the contents of Event Viewer to see if any errors are recorded.

Let me know how you get on.

Richard"
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Same problem in last two days on my t2micro. After svchost killing it looks like server work fine.

Upd: none of any software were installed in past days

Edited by: alexeygorunov on May 23, 2015 3:21 PM"
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Same here. any luck getting a solution? It happend on my production server :["
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
I have exactly the same problem with my new t2.micros. I checked the ports and found that process to be using 45194 and 45195. Confirmed after I blocked 45194 outbound and the CPU bound condition ceased. I will update when I determine root cause."
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Experiencing same issue here with a fresh 2008R2 instance - process was there on first login.  Killing it is showing no ill effects, but is there an easy way to find out what service exactly it is that is running?  And how did you determine the network ports?  Looks like we'll have to debug AWS's image ourselves..."
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
I had this same issue on a t2.small, but I also can't could not get software update to move past 0% 

Then, I waited overnight, and the software update finally ran, and then the next day I disabled all software update checking, and that seems to have fixed the 100% CPU issue.

Edited by: veppime on Jul 24, 2015 6:17 AM"
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
netstat -a -b"
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
We're seeing the same issue. Windows updates are the cause.  When we disable the windows update service, the system is fine.  

But when we re-enable the service and try to check for updates, the system bogs down with 100% CPU to svchost.  It will barely respond to web requests or RDP connections.

The server is now unable to download windows updates and were afraid security will be an issue in the near future."
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Same issue here with several t2.medium instances throughout the day (from own baked AMIs as well as stock Amazon ones).

A newly started t2.medium with 60 CPU credits has 0 crÃ©dits remaining after 2 hours at a consistent rate of 50% CPU, due to Windows Update (CPU is consumed by svchost.exe).

The only way to make any 2008R2 workable at the moment is to disable Windows Update, which is not acceptable for more than a few days."
Amazon EC2	"Re: Svchost.exe consuming high CPUmemory(100%) Server dead slow how to resolve?
Hi,

We have been experiencing this issue on a few of our servers. If you let windows update run and download/install the updates, the cpu will go back to normal. The other option is to disable and stop the windows update service."
Amazon EC2	"Article - AWS Regions, Availability Zones and Edge Locations explained
Hi,

AWS has developed and created its highly available global infrastructure allowing users to deploy and manage their estates all across the world through the use of the following geographical components


Regions
Availability Zones
Edge Locations


I wrote the article below to explain each of these elements and how they can be used to create highly available services throughout your infrastructure.

http://www.experts-exchange.com/articles/18666/AWS-Regions-Availability-Zones-and-Edge-Locations-explained.html

Cheers,

Stooby..."
Amazon EC2	"SQL Server license bundled in also when creating a new AMI?
If I want to run SQL Server (Standard) on an EC2 I can use the already provided AWS AMI. And the license will be bundled in and the license cost will be included into the (higher) hourly rate for that type of instance. That's all great.

But what happens if I create a new AMI from that instance, and spin up a new instance with this new AMI (owned by me). Is the SQL Server license still included on my new instance? And that new instance will run on that higher hourly rate too, or?"
Amazon EC2	"Re: SQL Server license bundled in also when creating a new AMI?
Apparently it's built into the AMI even when ""cloning"" to a new AMI. Meaning the license is also bundled into the new machine image."
Amazon EC2	"Possible bug with launch configurations and Classic Link
I removed an availability zone from my Auto Scaling Group. This caused the ASG to terminate the instances in the availability zone and replace them. This was expected.

The problem is the machine that was launched to replace the terminated instance launched without classic link, even though it is specified in the launch config. This meant it was unable to access our RDS and other VPC based resources.

The output from the Auto Scaling Group History is:

At 2015-08-17T14:41:02Z a user request removed the zones eu-west-1c from this AutoScalingGroup making them invalid.. At 2015-08-17T14:41:03Z invalid availability zones eu-west-1c had 1 instances respectively. An instance was launched to aid in migrating instances from these zones to valid ones.."
Amazon EC2	"When does cost get calculated in Ec2? What timezone?
Hi, I'd like to know when does cost get computed for my ec2 server. What timezone is the aws console set to? When does cost change? One time change or multiple times each day?

Kindly assist. Thanks!"
Amazon EC2	"Re: When does cost get calculated in Ec2? What timezone?
Hi anyone would like to reply to this query? thanks in advance!"
Amazon EC2	"Re: When does cost get calculated in Ec2? What timezone?
Hello,
thank you for contacting us: costs for your ec2 server are computed daily, so, generally, it may take up to 24 hours for them to be updated.
Also, AWS console usually displays time with your ""local"" (local to your computer) timezone, but please be aware that some services (ex. instance Cloudwatch metrics) are shown as UTC.

Regards,
Alessandro"
Amazon EC2	"MySQL Daemon fails to start
I'm running Wordpress on a microinstance, and the database became unreachable today. It's crashed, and I can't figure out why. I've tried un- and re-installing mysql-server, I've tried a few tweaks to the my.cnf file, I'm getting nowhere. It's not even writing logs. 

From looking at the system logs, it looks like it had an out-of-memory error and killed the process: 
http://3648545.272362 Out of memory: Kill process 7392 (mysqld) score 54 or sacrifice child
http://3648545.277060 Killed process 7392 (mysqld) total-vm:873548kB, anon-rss:54752kB, file-rss:0kB
http://3648545.286478 httpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0
http://3648545.291216 httpd cpuset=/ mems_allowed=0

But I haven't been able to get it back up. It looks like I'm using around 44% of my disk space, so I think it should be fine. I'm out of ideas. Should I try upgrading to the next tier?

Thanks!"
Amazon EC2	"Re: MySQL Daemon fails to start
Hello,
thank you for contacting us.
Based on the error message, it seems that Linux OOM killer [1] killed mysql daemon, because system run out of memory.
Before suggesting to a larger instance type, can you please:
 - provide us affected instance id?
 - tune your mysql configuration with mysqltuner [2] tool?

[1] https://lwn.net/Articles/317814/
[2] https://major.io/mysqltuner/
Thank you.
Regards,
Alessandro"
Amazon EC2	"Reachability checks failed
I am getting reachability checks failed on two EC2 instances. The first was created a few weeks back, it had been stopped, I started it up today and cannot connect. I have attached the system log as 'Restarted_not_reachable.txt' but the recurring line of interest is:

2015-08-14 15:35:48,373 - util.pyWARNING: 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: url error [Errno 101] Network is unreachable

Because of this, I decided to create a new EC2 instance, using the 'launch more like this' button on another instance that is just like the first one I mention above, but operational. I have attached the system log as 'New_not_reachable.txt'. The ErrNo 101 does not appear but I do notice this:

ci-info: eth0  : 1 10.3.1.108

That is the IP of the instance I 'cloned' this from. The IP that this instance should have, according to my EC2 dashboard, is 10.3.1.85

Anyone have any idea what's going on? This is the first time I have encountered such problems. A couple of days ago a started up a different instance that had been stopped for a while, and it was fine."
Amazon EC2	"Re: Reachability checks failed
Hello,
thank you for contacting AWS.

To further assist you, could you please provide us affected instance-ids so we can further investigate?
Regards,
Alessandro"
Amazon EC2	"Instances without EIP cannot reach Internet
If I attach an EIP to an instance, it can reach the internet.

Without the EIP, it cannot.  I tried creating a NAT instance but it doesn't seem to work.  If I change the default route to point at the NAT instance, even the EIP instances stop being able to reach the internet.

What I'd like is for any instance in the VPC to not have a public IP, but be able to reach the internet."
Amazon EC2	"Re: Instances without EIP cannot reach Internet
jwilson_clover wrote:
What I'd like is for any instance in the VPC to not have a public IP, but be able to reach the internet.

So what you need is a NAT instance. That's the only way for those instances to reach the Internet. It's hard to say why your NAT instance didn't work. But in short, the NAT instance needs to be placed in a public subnet (any subnet with 0.0.0.0/0 pointing to an Internet Gateway) and have a public IP address (Elastic IP or dynamic). If you launch a NAT instance manually, it is important to select a NAT AMI. You will also need to disable the source/destination check for the NAT instance through the Management Console. The VPC instances that will need Internet access have to be in another subnet with 0.0.0.0/0 pointing to the NAT instance. Security groups and Network ACLs need to permit the traffic."
Amazon EC2	"Re: Instances without EIP cannot reach Internet
Hello,
thank you for contacting us.

I understand you'd like to configure your instances without a public ip address: in order to achieve this goal, you need to have a NAT instance. Please make sure that:
 - you created and configured a NAT instance for the subnet you are using to launch instances. [1] Please be sure that ""Source/Destination Checks"" for the instance is disabled.
 - routing table for the private subnet has NAT instance ENI (in ""eni-xxxxxxxx / i-xxxxxxxx"" format) as default gateway.
 - security group and network acls allow traffic to/from private subnet.

[1] http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_NAT_Instance.html
[2] http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html

If you have any further doubts or concerns, please get back to us.
Regards,
Alessandro"
Amazon EC2	"EC2 Instance is extremely slow
I have an EC2 instance that has taken the better part of an hour just to boot and login.  There were no issues with this instance over the past couple of weeks until today.  I have started and stopped the instance multiple times, but this has not resolved the issue.  Any thoughts/assistance would be greatly appreciated."
Amazon EC2	"Re: EC2 Instance is extremely slow
Hello,

Thanks for posting on AWS Forum,

Can you please provide us the instance-id and a timeframe of the experienced issue?

Regards,
Giorgio"
Amazon EC2	"Re: EC2 Instance is extremely slow
The instance ID is i-622208ca.  This started last week on August 13th (or at least that's when I noticed it) and the issue is still occurring.  Thanks for looking into it."
Amazon EC2	"Re: EC2 Instance is extremely slow
Hello,
thank you for getting back to us and providing instance id.

Reviewing its details and metrics, I noticed:
 * it is a t2.micro one
 * either on 13/08/2015 and yesterday 17/08/2015 all CPU credit balance [1][2] was used for this specific instance

Based on previous information, I suspect the issue was caused by CPU credits and instance performance were brought to baseline ones, that are lower, as you experienced. 

[1] https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUCreditBalance~2015-08-08T10%3A39%3A15Z~2015-08-18T10%3A39%3A15Z~Average~600~InstanceId~i-622208ca
[2] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

If you need performances to be consinstent, we recommend a larger T2 size or a fixed performance instance type such as M3 or C3.

Regards,
Alessandro"
Amazon EC2	"Instance stuck in stopping state even after multiple force-stops.
Instance i-329798d7 on eu-west-1b was unresponsive, attempted to stop several times over time (with force-stop),
does not seem to be stopping."
Amazon EC2	"Re: Instance stuck in stopping state even after multiple force-stops.
The instance has now stopped."
Amazon EC2	"FTP client on EC2 instance not working in Active Mode
Hello all,

I cannot use Active Mode when talking to FTP servers outside Amazon.
The problem is caused by the PORT command, that contains the private IP of the instance instead of the public one.

I'm seeing contradictory information about this issue:


this link says that my only 2 options are: 1. configure the client to send the Public IP in the PORT command, OR 2. use FTP passive mode.
this link says that the EC2 implementation of NAT has the capability to recognize the FTP commands and replace the private IP with the public IP on-the-fly. However this is NOT happening for my instances at this time.


A bit of background:
I'm using EC2 instances to run an application that connects to various FTP servers outside my control -- they are customers' servers. Some of these servers do not accept Passive Mode, and there's nothing I can do about that.

Also, my application is some Java-based mammoth, and my development colleagues say it's out of the question to rewrite the FTP client API of their framework.

I have had this issue in some other networks that I manage, and to solve it i would load the ip_conntrack_ftp module (or its equivalent) on the router doing the NAT.

So my question is: is there is any way to convince the EC2 NAT to do this for my instances, so that the PORT parameters get automatically rewritten with the public IP ?

Thank you,
Florin"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hi,

There are a few reasons why ftp will fail with the symptoms you describe, at this point is likely that you will need to open the range of tcp ports used by your java client in order for ftp to work in active mode."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hello Vicente,

Thank you for your advice.
Unfortunately this is not helpful. I have tried to completely open all TCP ports (0-65534), both in the EC2 Security Group and in the instance's firewall, but it did not help.

I am attaching a tcpdump on one of my FTP servers (did not obfuscate aything, the whole FTP server is temporary  ).
You can see that the PORT command reaches the server with the private IP of the instance.

Thank you
Florin"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hello,

Is there any way to escalate this issue on Amazon tech support ?

I could use a definitive answer 

Thanks
Florin"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Can you configure your ftp client to send a custom IP with the PORT command? Or is it hardcoded to take the interface IP address?"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hello D. Johansson,

We are using the Apache Servicemix platform ( http://servicemix.apache.org/home.html ), it has a built-in ""FTPclient"" class.
My colleagues from Software Development tell me that, at this time, they will not rewrite this class to make this patch.
However, if there is no other solution, they will have to...

But I would very much like to have a definitive answer from Amazon on this issue, before we allocate resources for rewriting FTP clients.

Florin"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hello again,

Could somebody please tell me, if there is any way to get Amazon to answer to this thread ?

I believe this is a general network issue that affects more than one customer.

Thanks
Florin"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Piling on here. 

We are having the same issue, and would really, really, really like a response from AWS on this.

In our case, we are using (really, trying to use) a Windows Server 2003 instance to download files from a remote site via FTP. Having zero success.

Edited by: anthony_q on Sep 22, 2011 11:58 AM"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hello,

Here are a couple of recommendations that we provide to customers having trouble connecting from an EC2 instance to an external FTP server in Active mode:


The recommended FTP client to use on a Windows instance is FileZilla, http://filezilla-project.org/download.php?type=client. FileZilla client supports configuring the client machine's public IP address and also restricts the client machines data port range (to which the Server makes a data connection on).



The FTP client on a Linux instance will default to passive mode and should work without any problems.


We'll let you know if we come up with any additional recommendations.

Regards,
JBrown"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
FYI, we are not using a Windows FTP command-line client to transfer files, but the WinINET.DLL library.

Does anyone know of a Windows DLL / OCX that allows you to configure the local systems IP address? I took a look at FileZilla but didn't see any API documentation. Could peruse the source code, but would rather not ..."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Just slammed into this problem, too.

We have an external vendor that has a mis-configured ftp server, so passive doesn't work. Our AWS Linux instances can't use active.

So passive is a great workaround--if it isn't messed up at the other end.

DAD

Edited by: huntdawumpus on Oct 5, 2011 9:06 AM"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
We see exactly the same problem.  Is there a known fix for it?"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
It would appear that there is still no fix for this yet. Attached is our experience with the issue..."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
I've got the same issue but from trying to access active ftp via a php script."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Did you set passive mode?  The following works for me.  Note, I needed to add the command ftp_pasv() before it started working.  Previous version of PHP script worked on non-AWS system without ftp_pasv() but to get it to work on AWS EC2 you need to set passive mode.

$conn_id = ftp_connect($ftp_server); 
$login_result = ftp_login($conn_id, $ftp_user_name, $ftp_user_pass); 
ftp_pasv($conn_id, true);"
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
I know it works in pasv but the question is asking about active mode."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
It works in passive mode and that is good for me. Thanks."
Amazon EC2	"Re: FTP client on EC2 instance not working in Active Mode
Hi,

During an issue investigation, I found this forum post. The problem when using FTP in active mode is 'PORT' requests from FTP protocol include private IP information instead of external. Because of this, FTP data connection fails, for example. 

Details and how to workaround this issue is covered in next public article:

http://jsianes.blogspot.com/2015/08/ftp-active-mode-in-aws.html

Please, take a look and feel free to use the customized ncftp command-line client that works in AWS environments replacing 'on-the-fly' the private IP with the public IP.

I hope this information addressed your needs."
Amazon EC2	"Elastic IPs locked to my account
Hello AWS support,

I have tried to release 2 EIP addresses, but I'm unable to do so because the addresses are locked.

The allocation IDs are:
eipalloc-39e6fc5b
eipalloc-3ee6fc5c

Thanks in advance."
Amazon EC2	"Re: Elastic IPs locked to my account
Hi,

I have created an outbound billing support case to address your query on case 1471315361. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"release my ip address
Hi,

I would like you to release IP Address on my account 54.72.73.193. This has been locked by aws.

Kanhai Chhugani"
Amazon EC2	"Re: release my ip address
Hello Kanhai,

I have seen that your elastic ip 54.72.73.193 has a PTR record associated, in order to be able to release this address we need to remove the PTR record.

Please advise.
Giorgio"
Amazon EC2	"Re: release my ip address
Hello,

as agreed via PM I would like to confirm that we deleted the ptr record associated to your Elastic IP 54.72.73.193, you can now release the said EIP.

Regards,
Giorgio"
Amazon EC2	"EC2 Clone Active Directory
I need to clone an EC2 instance that has been joined to Active Directory, I do this on prem all the time because I can clone the server bring it up without the NIC attached and remove from domain and rename then bring it back on the network and add with new name. I do not know how to do this with an EC2 instance because the only access I have to it is via RDP so I cannot bring it up off the network. Does anyone have experience with how to do this?"
Amazon EC2	"Re: EC2 Clone Active Directory
You can bring an instance online ""Off Network"" but it can be tricky.

Probably the best way to do this would be to put it into a VPC of its own with no access to the rest of the domain. That way you can RDP onto it and DCPROMO it.

If you cannot create a new VPC then if you can put it into its own Security Group you can restrict down the security group to allow only one Inbound Service (RDP) from your IP, and then create DENY restrictions on Outbound traffic from the instance for any traffic relating to DNS, AD, WINS, SMB etc etc.

That should put the server in isolation. It's on the same network, but cannot actually talk to anything."
Amazon EC2	"Re: EC2 Clone Active Directory
Hmm...creating a security group like that kinda sucks but it does get the job done. Thanks for the help"
Amazon EC2	"Re: EC2 Clone Active Directory
It's only temporary, once you've taken it off the domain and renamed it you can change the security group back (assuming that the instance is in a VPC... You can only change the Security Groups when it's in a VPC.). My instruction was mostly for a DC... I totally misread your initial post (did a lot of that yesterday).

Thinking on it, since a deny takes preference, you can create a new SG with outbound traffic to AD Protocols blocked and just apply that as another security group to the instance. It will allow you to remove from the domain (then configure EC2Config to rename the box when it comes up, followed by imaging the box...?). Once done, you can remove the restrictive security group and you're back to a non-member server."
Amazon EC2	"Degradation of the underlying hardware
Just received this email.

Trying to stop my instance to take a backup and then start again, but I'm unable to stop it."
Amazon EC2	"Re: Degradation of the underlying hardware
Hi daswebb,

Could you please provide me your instance ID? I will have a look into it.

Regards,
-Neel"
Amazon EC2	"Re: Degradation of the underlying hardware
i-0d19d7a4

Thanks."
Amazon EC2	"Re: Degradation of the underlying hardware
Hi daswebb,

Looks like your instance is already in running state. Were you able to stop and start it successfully?
What happens when you try to stop it?

Regards,
-Neel"
Amazon EC2	"Re: Degradation of the underlying hardware
Ahh, I see now, looks like it took quite a while and I hadn't checked recently.

Thanks Neel."
Amazon EC2	"instance stucked stopping/terminating
Hi,

I have an instance (i-10b1bfed) that has being in stopping state for the last hour, i now try to terminate it but is totally stuck. Any help from inside AWS?

Regards,"
Amazon EC2	"Re: instance stucked stopping/terminating
Hi wtorrealbac,

I had a look at your instance and it looks like it has already been terminated. Let me know if you are having any further issues.

Regards,
Neel"
Amazon EC2	"Lost SSH to EC2 instance
We have an EC2 instance to which SSH spontaneously does not work anymore. Detached and attached the EBS image to another instance, sshd config looks fine, key is in the right place and it's the correct key, even turned password auth on briefly to see if that would work. From the console log it looks like sshd starts up fine, and 22 is open. 

Any ideas?"
Amazon EC2	"Re: Lost SSH to EC2 instance
Hello,
thank you for contacting us.

I reviewed i-7373f69a instance console and underlying hardware, but could not find any errors, except these ones
""/etc/rc0.d/K20atlstash: line 40: cd: /opt/atlassian/stash/3.11.0/bin: No such file or directory
/etc/rc0.d/K20atlstash: line 22: ./stop-stash.sh: No such file or directory
/etc/rc0.d/K20confluence: line 4: cd: /opt/atlassian/confluence/bin: No such file or directory
/etc/rc0.d/K20confluence: line 11: ./stop-confluence.sh: No such file or directory
Shutting down Crowd: 
No directory, logging in with HOME=/
-su: /opt/atlassian/crowd/atlassian-crowd-2.8.3/apache-tomcat/bin/shutdown.sh: No such file or directory
done.
/etc/rc0.d/K20jira: line 4: cd: /opt/atlassian/jira/bin: No such file or directory
/etc/rc0.d/K20jira: line 11: ./stop-jira.sh: No such file or directory""

Therefore, I'd recommend you to double-check system logs (usually located under /var/log directory) for errros and attach them to this case to continue troubleshooting.

Thank you.
Regards,
Alessandro"
Amazon EC2	"Re: Lost SSH to EC2 instance
Yes, these errors were due to moving the Atlassian apps out of their folder, but should be unrelated to the ability to ssh in.

Which logs would you be interested in viewing? We can see in the boot.log that the OpenSSH Server starts correctly, and can see our previous successful login attempts before this issue occurred in auth.log:

 * Starting OpenSSH server[74G OK 

Aug  2 17:13:32 ip-172-31-32-141 sshd12643: Accepted publickey for ubuntu from XXX.XXX.XXX.XXX port 62881 ssh2: RSA XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX
Aug  2 17:13:32 ip-172-31-32-141 sshd12643: pam_unix(sshd:session): session opened for user ubuntu by (uid=0)

I have exported the logs and can provide any you would be interested to help troubleshoot this issue."
Amazon EC2	"Instance in Stopping state for extended time
My instance (i-6748edcd) (t2 medium) running linux came up with a reachability check failure.

Tried a restart of the instance to no avail.

I then tried a Stop of the instance. In the console the Instance State has sat on 'Stopping' for approx 30 minutes.

Retried the Stop and it came up and asked if okay to perform a Forced stop.  I answered yes but instance state is still showing as 'Stopping' after a further 10 minutes.

Can anyone assist?"
Amazon EC2	"Re: Instance in Stopping state for extended time
Eventually stopped without intervention. Closing."
Amazon EC2	"I can't use my rdp ?
Hi all , today i have a rdp and every thing was fine i do all steps right , until i got the password i try to connect to the rdp but it told me the password is wrong what i can do now ?"
Amazon EC2	"Re: I can't use my rdp ?
If the instance is an image of another instance, the admin password will be whatever was set on the master instance.

If the instance is a newly provisioned instance, try getting the windows password again from the console

If the instance is over, like, 60 days old then the admin password may have expired. You may need to take the root volume out and update the policy the hard way to get back in."
Amazon EC2	"Re: I can't use my rdp ?
Hello, 

Thank you for taking the time to respond to this. 

You are correct, here is the link to reseting a windows password should you need to do this.
Link: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-passwords.html 

When performing these tasks I always recommend taking a snapshot, never a bad thing to have a backup. 
Link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html 

Hope this helps,

PhillipR"
Amazon EC2	"Poor EC2 latency for the past 48 hours
Hi Amazonians,

For the past couple of days we have experienced excessive latency to all of our EC2 instances in the ap-northeast-1 region (Tokyo). It is increasing the latency of our API responses, and quite noticeable over SSH (as we use SSH tunnelling to reach machines inside secure VPCs this makes it more noticeable). Before this started, our SSH sessions to EC2 instances in the Tokyo region were almost lag free so they felt like local machines.

Performing some TCP traceroutes from our office in Tokyo, comparing one of our instances to Yahoo Japan servers shows this:

Our office -> One of our EC2 instances
Selected device en0, address <censor>, port 57027 for outgoing packets
Tracing the path to <ec2 instance> on TCP port 22 (ssh), 30 hops max
 1  <censor>  0.346 ms  0.167 ms  0.118 ms
 2  <censor> 2.224 ms  2.242 ms  1.695 ms
 3  101.74.150.220.ap.yournet.ne.jp (220.150.74.101)  2.418 ms  1.916 ms  2.265 ms
 4  tokyo-ip-gate-1.otemachi4.dti.ad.jp (202.216.225.209)  2.639 ms  2.387 ms  2.788 ms
 5  93.75.150.220.ap.yournet.ne.jp (220.150.75.93)  3.815 ms  2.941 ms  4.521 ms
 6  85.88.99.219.ap.yournet.ne.jp (219.99.88.85)  3.116 ms  3.075 ms  3.127 ms
 7  210.173.176.188  53.267 ms  56.527 ms  51.463 ms
 8  27.0.0.80  54.526 ms  54.515 ms  54.323 ms
 9  27.0.0.70  61.212 ms  61.332 ms  62.172 ms
10 <our ec2 instance> [open]  53.807 ms  53.759 ms  53.527 ms

I see 53-65ms each time I test. Not great.

Our office -> Yahoo Japan:
Selected device en0, address <censor>, port 57129 for outgoing packets
Tracing the path to yahoo.co.jp (182.22.59.229) on TCP port 80 (http), 30 hops max
 1  <censor>  0.338 ms  0.150 ms  0.149 ms
 2  <censor>  1.991 ms  1.874 ms  2.272 ms
 3  101.74.150.220.ap.yournet.ne.jp (220.150.74.101)  2.383 ms  1.855 ms  2.327 ms
 4  tokyo-ip-gate-1.otemachi4.dti.ad.jp (202.216.225.209)  2.593 ms  2.411 ms  2.313 ms
 5  93.75.150.220.ap.yournet.ne.jp (220.150.75.93)  2.806 ms  3.392 ms  4.257 ms
 6  85.88.99.219.ap.yournet.ne.jp (219.99.88.85)  3.210 ms  3.188 ms  3.907 ms
 7  210.173.176.241  4.404 ms  4.047 ms  4.779 ms
 8  202.93.95.142  4.567 ms  4.322 ms  4.549 ms
 9  118.151.224.250  7.573 ms  7.405 ms  7.597 ms
10  182.22.34.58  8.192 ms  7.635 ms  7.660 ms
11  182.22.37.250  7.274 ms  8.039 ms  8.018 ms
12  f1.top.vip.ssk.yahoo.co.jp (182.22.59.229) [open]  7.707 ms * 7.309 ms


We see similarly good performance to other websites, but similarly bad performance to our other EC2 instances.

I notice there is currently a large DDoS between Australia and the US (see http://www.digitalattackmap.com/ ) - could this be impacting the network peering around the Asian regions? I can't find any mention of that in the news though, so if anyone knows I would be interested to know the cause of that DDoS.

Kind regards
Michael"
Amazon EC2	"Re: Poor EC2 latency for the past 48 hours
This did resolve itself, once the DDoS stopped it seemed."
Amazon EC2	"Windows Licensing on EC2: Do we need CALs?
I would like to use Microsoft Windows and Microsoft SQL Server in EC2 with the AMIs provided by Amazon, but I need to be able to give my colleagues some definitive answers about the software licensing.

My colleagues are familiar with the on-premises licensing models, such as Processor/CAL and Server/CAL, described in Microsoft's Product Terms document.  In these models, the license fee paid for the server software does not include the right to have clients use the server, which is obtained separately through Client Access Licenses, an External Connector License, or both.

Could someone please point me to an official, published statement from Amazon or Microsoft about whether these or similar models apply to EC2?

What software use rights are included with the hourly price for the AMIs?  If we have clients on our local network that connect only to Windows Server instances in EC2, for example, must we have CALs for these clients?

What about if we want to use Windows Remote Desktop Services?  I understand the Windows Server AMIs include the usual two simultaneous remote connections for administrative purposes; what licenses, if any, would we need to allow more, non-administrative connections?"
Amazon EC2	"How to get an OpenGL enabled linux (debian) desktop working on g2.2xlarge ?
Hello,

I am trying to get a very simple desktop running on debian jessie 8.0 on top of an irish g2.2xlarge machine. With OpenGL and remotely accessible.

I tried the following setup:
 - debian jessie
 - with nvidia-drivers from debian non-free repository
 - with fluxbox window manager
 - with mesa-utils
 - and with xrdp

Everything is working, a very simplicistic desktop, remotely accessible... nearly perfect...

BUT OpenGL is missing ! lspci does show the nvidia card, but glxinfo does only show mesas soft rendering and the client program i plan to use on this desktop only says ""no opengl context found"".

Any ideas ? Are there any working examples out there ?
 Ingo Moneus"
Amazon EC2	"Stopped vpc-nat instance, but still able to ping across zones
I was doing some testing today, and stopped our vpc-nat instance, which I assumed would break communication between instances across availability zones (we have instances in us-west-1b and us-west-1c in VPC).

After the vpc-nat instance was stopped, I sshd into an instance in us-west-1b and tried to ping an instance in us-west-1c assuming it would fail. To my surprise, ping returned responses as normal on both internal (10.0.X.X) and external ips.

What exactly then is the vpc-nat instance doing? With it stopped, I was able to ping instances across zones on both private and public."
Amazon EC2	"Re: Stopped vpc-nat instance, but still able to ping across zones
The NAT instance enables instances that don't have public IPs to access the Internet. You would normally set up a VPC route table entry for 0.0.0.0/0, pointing to the NAT instance. It means that all traffic from that subnet that isn't covered by another route table entry should go through the NAT instance. But for traffic within the VPC, whether that is across availability zones or not, there is another route table entry that covers the entire VPC IP address range. It is always present and can't be modified. It says that the VPC traffic should be routed locally."
Amazon EC2	"Re: Stopped vpc-nat instance, but still able to ping across zones
So, the fact that I powered down the VPC instance, and didn't see any instances either lose connectivity publically (internet) or privately (within the VPC) is expected?"
Amazon EC2	"Re: Stopped vpc-nat instance, but still able to ping across zones
justinksf wrote:
So, the fact that I powered down the VPC instance, and didn't see any instances either lose connectivity publically (internet) or privately (within the VPC) is expected?

For private connections, yes. The NAT instance is never used for connections to internal addresses. If public connectivity is unaffected, it would indicate that the instances in question weren't using the NAT instance in the first place."
Amazon EC2	"Problems Stopping Instance
Currently have and instance reporting 0/2 monitor checks passed.  Attempted to ""stop"" instance and after 10 minutes it is still spinning on the ""stop"" (i-xxxxxx).  I go to the status tab and ""Open Support Case"" button is there.  Cool, press it enter additional information in text and click ""Yes, Report"" and get 
""Error creating support case: Resource i-xxxxxx is not known to be impaired""

So, AWS knows there's a problem (or I would get the ""Open Support Case"" button) and yet doesn't know there's a problem.  

Help would be greatly appreciated in fixing the actual issue getting the instance restarted and there appears to be a need to fix an apparent bug in the console...

Thanks!
Ramon

Edited by: randa11c on Aug 17, 2015 12:30 PM
Almost an hour and still ""stopping""

Edited by: randa11c on Aug 17, 2015 12:48 PM
Ok forced stopped it and restarted.

Edited by: randa11c on Aug 17, 2015 12:49 PM"
Amazon EC2	"Windows Firewall blocks port communication
Hello I am running windows server on my ec2 instance and try to connect to a masterserver. 
I have setup my security group settings in order to allow incoming/outbound traffic from UDP port 15937 and also I have added an inbound traffic UDP rule for port 15937 for the Windows firewall.

But I do not get a connection and if I test the port with a service like http://www.base64online.com/port-check.php? then it says that the port is closed !

If I disable the windows firewall then everything works fine and the port reports to be open.

Do I need to set anything else except for the port in the firewall in order to make it work. Clearly that is the issue right now.
Or do I need to enable the Windows firewall at all?"
Amazon EC2	"Re: Windows Firewall blocks port communication
Have you modified your Security Group Inbound Rules to take into account the configuration?"
Amazon EC2	"Re: Windows Firewall blocks port communication
""I have setup my security group settings in order to allow incoming/outbound traffic from UDP port 15937""

This is all I did to the security group. As already said the windows firewall is the real problem here. Or do you mean something else?"
Amazon EC2	"Re: Windows Firewall blocks port communication
You know, I read your post twice looking to see if you had put anything about Security Groups... Couldn't see for looking.

Seeing as the instance is guarded by your Security Groups, it's up to you whether or not you use Windows Firewall. We have it disabled on all of our systems (700+) and the only issues we have is when Windows Updates re-enables it."
Amazon EC2	"Re: Windows Firewall blocks port communication
Hm well I have read some posts about not disabling the firewall by any means but since I do not store and confidential information or anything else on the instance I might be fine with disabling it."
Amazon EC2	"Remote Desktop Connection - Timeout Issue
I'm having a real problem with RDC timing out.  It seems to be about after 2 minutes.  I've tried looking at RDC config as well as Group and User settings for timeout.  I did change the setting for Group but still having the issue.  The odd thing is I have one instance that never times out but I can't find the difference in settings on the one that never times out compared to the other two that continue to timeout after a couple of minutes.

I can close my RDC and start it right back up so EC2 doesn't appear to be hanging or freezing.

Any suggestions?"
Amazon EC2	"Re: Remote Desktop Connection - Timeout Issue
I have the same issue.
Using tracert I see blocking subnet 54.239.48 in Oregon or 54.239.5 in Frakfurt

Edited by: piergaetano on Aug 17, 2015 8:31 AM"
Amazon EC2	"Elastic Load Balancer dropping client connections?
I was doing a micro load test on a simple REST service. I'm using JMeter to throw some continuous load at the ELB (about 50-60 qps) and then adding some EC2 instances to the ELB to see how things scale.

Often when adding a new instance to the ELB, the client will get a handful of socket exceptions (reset, closed). As far as I can tell, these issues aren't caused by the actual EC2 server instances. They report no errors in their logs that correlate with these drops. This can be done with a fully warmed up instance that is removed from the load balancer, then added back in again, so it's not a warmup issue on the EC2 server side of things.

I've also enabled the access logs on the ELB and see nothing except 200s in that log, so it's not showing any issues there either.

So, the question is, is this standard? Is this expected? Do the ELBs occasionally drop client connections when reconfiguring themselves for new backend instances or scaling events?

Edited by: feak on Aug 12, 2015 9:12 AM"
Amazon EC2	"Re: Elastic Load Balancer dropping client connections?
It may be the situation when JMeter hits only one node due to DNS caching on JVM level. Try adding   DNS Cache Manager  to your test plan - it should resolve your issue"
Amazon EC2	"Instance won't stop
My instance (i-0fbc5363) is stuck in the 'stopping' state. I've tried running stop multiple times from the console (so it tried a force-stop) and that still didn't seem to work.

Can you help? I'd like to upgrade the instance type and start it back up."
Amazon EC2	"Re: Instance won't stop
Hello,

Your instance is now stopped successfully. You should now be able to upgrade your instance and start back.
There was an issue with the underlying host due to which your instance was stuck in stopping state. We are sorry for any inconvenience this may have caused you.

Regards
Shiroy"
Amazon EC2	"Re: Instance won't stop
Thank you!"
Amazon EC2	"I accidentally set my AWS Windows Firewall settings to default - can't RDP.
My instance ID is i-d3876225 

Less than an hour ago, I was messing with Firewall settings trying to set up an SQL Server. I reset the Firewall  to ""default settings"" not realizing I'd lose remote access altogether. The sites I have on it are also now unresponsive.

Is there anything AWS can do on their end to help me out?

I'd gladly take a rollback to any point in the last 24 hours if that's possible."
Amazon EC2	"Re: I accidentally set my AWS Windows Firewall settings to default - can't RDP.
If you haven't backed up the instance then a rollback will be out of the question.

Try shutting the instance down, detaching the root volume and attaching it as a non-root volume on another windows instance. It is very possible to modify your Windows Firewall from accessing the registry files on the volume, then detach the volume and re-add it as the root volume on your initial instance. 

Personally, I would actually disable Windows Firewall. The easiest option from the Registry.

If you need a detailed guide (or someone to do it for you) let me know."
Amazon EC2	"Re: I accidentally set my AWS Windows Firewall settings to default - can't RDP.
Hello,

I understand that you reset the windows firewall rules on your instance and unable to connect to your instance. You can follow the steps mentioned in the following documentation section to gain back access to your instance. I hope this helps.

 Link: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#rdp-issues

Regards
Shiroy"
Amazon EC2	"EC2 instance is bugged after an AMI
Hello,

This happened to me three times this month. I create an image of my instance and then the instance is bugged when it runs again. The connection is refused on the browser and also on the terminal using a SSH tunnel. I tried to stop/start the instances. I also checked the log as it is indicated on this tutorial but I don't understand what the problem is. 

https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html?console_help=true

The only solution is to create another instance from an old AMI. Could anybody help me with that? I need to do new images and now I'm afraid of it.

Thanks."
Amazon EC2	"Re: EC2 instance is bugged after an AMI
Are you launching the instance from the AMI, or are you shutting it down to image it? Have you tried using the ""NoReboot"" option?

It's a silly question, but you're not trying to connect to the wrong IP are you? When the instance is restarted it might have a different Public IP. Are you able to connect to it using its Internal IP?

If you launch from the AMI, does this work? Do you have any dead machines for troubleshooting purposes?"
Amazon EC2	"Re: EC2 instance is bugged after an AMI
Hi thetechieuk,

Thanks for your answer.

Concerning your questions, it happened already several times with different instances. In some cases, I had just umount the s3fs (I also changed the /etc/fstab file to be sure to delete it) and I wanted to have a new image without this mountpoint. When I asked to create the image, the machine didn't start again correctly. In others, I just wanted to create an extra backup of my machine without any changes. The machine reboots for the image and never starts correctly again.

Before asking the creation of the images, I'm not sure I had shutted down the instances. Should I ? I didn't see the no reboot option. I'm going to take a look at it.

About the IPs, yes I'm sure to use the correct ones. For one of the instances I lost, I even had a elastic IP so I'm sure it didn't change after the image.

I terminated the troubleshooting machines and deleted the wrong images. Wasn't that a good idea? Actually, I tried to create instances from the AMIs that broke the machines and they were broke as well. I had to use an older AMI to save my machines."
Amazon EC2	"Re: EC2 instance is bugged after an AMI
Are you actually able to just perform an instance stop/start on an instance? Does that break the instance?

As for Elastic IP - Don't assume it's actually picked up the right IP... We've had to put code in to make sure the instance is re-assigned the EIP if it loses it after a reboot.

By default the ""CreateImage"" process will reboot the machine to flush the disks prior to imaging them. 

If this is reproducable it would be handy to have one there that can be checked. You can probably get Support to look at it, or you can hire a 3rd party to investigate. It sounds like there is something amiss with your volumes, but without seeing it I'm not sure where you'd start."
Amazon EC2	"AWS EC2 instance status checks failed
Hi,

Our account number is AWS Account: 714085585678. We have an email on August 14th, 2015  regarding instance (i-b30af998) retirement on August 28th, 2015 but it is down since the day, we have received an email. Please find attached screenshot and could you please clarify the issue regarding this instance.

Regards
Anurag"
Amazon EC2	"Re: AWS EC2 instance status checks failed
Hello,

I did take a look at the instance that you mentioned.  I could understand that you already performed a stop and start of the instance i-b30af998. Due to this activity, your instance is now running on a different physical host and it looks healthy. Also your instance is passing 2/2 status checks.

Are you facing any issues with this instance at the moment?

Regards
Shiroy"
Amazon EC2	"Instances in same subnet in VPC cannot ping each other
I know this has to be something simple.
I have set up two Amazon Linux AMI instances within a subnet in a VPC.
They have the following IPs: 10.0.0.150 and 10.0.0.168
The subnet is 10.0.0.0/24
The route table has two entries:  
                10.0.0.0/16 -> local
                0.0.0.0/0 -> internet gateway

The /etc/sysconfig/network file does NOT have a GATEWAY= entry. 
Why can't they ping each other?  
Thanks in advance."
Amazon EC2	"Re: Instances in same subnet in VPC cannot ping each other
Hi,

Are they in different Security Groups? If so have you allowed ICMP traffic in/out of both Security Groups?

Cheers,

Stooby..."
Amazon EC2	"Re: Instances in same subnet in VPC cannot ping each other
No, they are in the same security group."
Amazon EC2	"Re: Instances in same subnet in VPC cannot ping each other
Does that security group allow PING?

Go into the Security Group and add as an inbound rule All ICMP from Custom IP and enter the security group ID (sg-xxxxx). This will allow that security groups members the ability to ping each other.

Or you can allow All ICMP from Custom IP and enter your CIDR for the VPC."
Amazon EC2	"Possible to change SQL Server Instance from Web to Standard
Is it possible to change SQL Server Web to a Standard version while keeping all databases intact? I'm hoping to log ship from a local standard version to a web version and then switching Web to Standard when a ""disaster"" occurs. I read a clip from the EC2 documentation that makes it sound like this is possible."
Amazon EC2	"Re: Possible to change SQL Server Instance from Web to Standard
A quick Google brings me a couple of answers (both the same answer from different websites)

http://blogs.msdn.com/b/petersad/archive/2011/01/24/how-to-perform-an-sql-server-edition-upgrade.aspx

And 

http://www.brentozar.com/archive/2014/08/sql-server-edition-change-standard-edition-enterprise-evaluation/"
Amazon EC2	"API for AWS EC2 pricing
Are there any API to access pricing information in AWS EC2?"
Amazon EC2	"can not connect to webapp (port 8080)
I start JBoss on one EC2 instance, and one web app is deployed within JBoss. Meanwhile, this EC2 instance is assigned an elastic IP address and I already add one rule: allow all traffic to port 8080.
Unfortunately, I could not open that web app, it always says connection timeout.

Can someone take a look, the url is http://xxxxxx:8080? Thanks advance. 
Or let me know if there is any step I missed.

Edited by: PhillipR@AWS on Aug 14, 2015 2:18 PM -> Redacted public IP for security reasons. Instance ID:  i-af8e2d04"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Hi, 

Thank you for reaching out on the forums.

I have redacted the IP address in your post for security reasons, in future please refer to the instance ID instead as this is safe to post.

I had a look at your instance and I do not see anything that immediately jumps out. 
Your security groups look OK.  

Can you telnet to port 8080 locally on the instance?
Are there any local firewalls running? 
Is selinux enabled?
If selinux is enabled have you verified the contexts on the files and checked the audit log for errors?
Are there any errors that your application produces when trying to listed on that port or on start up?

Let me know what you find.

PhillipR"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Thanks a lot.
1. I could not install telnet in my ec2 instance because of following error
@ip-10-0-7-146 log$ sudo yum install telnet-server
    Loaded plugins: amazon-id, rhui-lb, security   
    Setting up Install Process
    Could not contact CDS load balancer rhui2-cds01.us-east-1.aws.ce.redhat.com, trying others.    
    Could not contact any CDS load balancers: rhui2-cds01.us-east-1.aws.ce.redhat.com, rhui2-      cds02.us-east-1.aws.ce.redhat.com

    Without telnet, any command i can run to get the result?

2. The firewall is disabled
3. selinux is enabled. But I don't know how/where to check the log
4. The web application is started successfully, without any error

Edited by: saasdude on Aug 13, 2015 11:01 PM"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Hi, 

Not being able to reach the repository servers is a concern.  
Can other instances in the same subnet reach the repositories?
Are there any other connectivity issues on this instance?

telnet server is not what you want, you just need the telnet client.
 sudo yum install telnet

You can use netcat instead of telnet.
nc localhost 8080


To investigate selinux errors does take some advanced skill, they are not easy to work with at all.
You can check for errors using the command below. Normally there will also be a suggest on how to fix the errors by they can be inaccurate or to permissive. 
sudo sealert -a /var/log/audit/audit.log


If the errors prove to difficult to work with you can disable selinux until you have the server working as you would like, then re-enable selinux and fix up any resulting errors. 
To disable selinux but still see errors in the logs.
 sudo setenforce -P Permissive"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Hi, 
I ran following command and the port 8080  is listening.
****@ip-10-0-7-146 ~$ netstat -ln|grep 8080
tcp        0      0 0.0.0.0:8080                0.0.0.0:*                   LISTEN      

And, the command sealert could not run successfully in my side.
root@ip-10-0-1-124 ~# sealert -a /home/vitria/upload/sealert.log 
Errno 22 Invalid argument

I disabled selinux and then reboot the EC2 instance, and still not work."
Amazon EC2	"Re: can not connect to webapp (port 8080)
Another issue is, I can ssh to that ec2 instance from another one in the same vpc, however, I could not ssh login from my company networking. The EC2 instance has been assigned with one elastic ip.

Another question, each instance has specific property ""available zone"", in my vpc, instances have different values, e.g. us-east-1b, us-east-1a, can zone have impact on this issue?

Edited by: saasdude on Aug 17, 2015 1:09 AM"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Hello,

I did take a look at your instance  i-af8e2d04 and it appears to be in stopped state. We will not be able to see the Elastic IP,security groups, VPC route tables, Network ACLs associated with your instance when in stopped state. Is it possible for you start the instance so that I or anyone from AWS side could table a look at your instance settings?

Coming to your query with regard to the difference in availability zones, Since the availability zones are different, the VPC subnets in which your instances were launched also will be different. You can have same/different route tables for each subnet in the same VPC. So, I would recommend you to take a look at the VPC route table rules which are associated with your problematic instance as well. 

Is it that you are only facing issues to connect to port 8080? If you are only facing issues in connecting to a particular port, then it will not be a route table or routing issue, but would be more likely related to Security Group/Network ACL/Firewall or SELinux running on your instance level.

Regards
Shiroy"
Amazon EC2	"Re: can not connect to webapp (port 8080)
Hi,
Much appreciate for your continuing help. 
I just find the root cause. the EC2 instances created by our program use the default route table, which doesn't include the item to the internet gateway.  After fixing this issue, I could ssh login and open web application now."
Amazon EC2	"Cloudwatch S3 bucket size
Can someone please post the proper command syntax for retrieving the size of an S3 bucket using CloudWatch.

I am starting with this syntax but am having no luck.

aws cloudwatch get-metric-statistics --metric-name BucketSizeBytes --start-time 2018-08-11T23:18:00 --end-time 2015-08-12T23:18:00 --period 3600 --namespace AWS/S3"
Amazon EC2	"Re: Cloudwatch S3 bucket size
you just need to add:  Name=StorageType,Value=StandardStorage  to your command, you will get the data.  The whole command is:

aws cloudwatch get-metric-statistics --namespace AWS/S3 --start-time 2015-08-12T23:18:00 --end-time 2015-08-13T23:18:00 --period 86400 --statistics Average --region us-east-1 --metric-name BucketSizeBytes --dimensions Name=BucketName,Value=bmsrd-panz-s3-useast-arch Name=StorageType,Value=StandardStorage"
Amazon EC2	"Re: Cloudwatch S3 bucket size
That is correct.  Thanks."
Amazon EC2	"not able to ping one instance (c3.2xlarge) from another instance (t2.medium
We have newly created t2.medium instance and we are not able to ping my another instance which is of type c3.2xlarge

Pl help"
Amazon EC2	"Re: not able to ping one instance (c3.2xlarge) from another instance (t2.medium
Hi,

Are they in different subnets? Are they in different Security Groups?

If they are in different Security Groups, ensure that you have ICMP allowed in/out on both groups otherwise Ping will not work.

If they are in different subnets, ensure that you have a route between the 2 in your routing table.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: not able to ping one instance (c3.2xlarge) from another instance (t2.medium
Hi,

Thanks Stooby for your response ..

Yes both are in different subnet one has ip start from 10.x.x.x. and other has 172.x.x.x

Do i need to create vpc or someother way around will work out ?

Regards,
Hardik"
Amazon EC2	"Re: not able to ping one instance (c3.2xlarge) from another instance (t2.medium
Hi,

You dont need to create a VPC as you can have this working in the default VPC.  What do your routing tables look like for each of those subnets? Can they reach each other? 

Also, have you checked your Security Groups regarding ICMP?

Cheers,

Stu..."
Amazon EC2	"Re: not able to ping one instance (c3.2xlarge) from another instance (t2.medium
Hello Hardik,

Can you please share the instance id of the associated instances, so that we can take a look?
I did take a look at your account and I assume that you are running these resources in Singapore region. If it is true, you are running one instance in a VPC and the other in EC2 classic environment. 

Inorder to have private communication between EC2 Classic and VPC environment, you need to enable ClassicLink and need to have appropriate security group configuration. Could you please check if this is configured as mentioned in the above URL?

Regards
Shiroy"
Amazon EC2	"Instance Stuck in shutting-down state
Our instance went non-responsive, then refused to stop. We terminated the instance, now it's been stuck in ""shutting-down"" state for several minutes. Please can you stop the instance, or restart it. Thanks.

Instance: i-ec9233e7 in oregon"
Amazon EC2	"Re: Instance Stuck in shutting-down state
Hello,

Your instance is now stopped successfully and you should be able to start it back.

You encountered this issue due to an issue with the underlying host. Sorry for any inconvenience this may have caused you. 

Regards
Shiroy"
Amazon EC2	"Re: Instance Stuck in shutting-down state
Thanks, for terminating the instance.

Please could you re-attached the storage so that the instance can be restarted. All of the attached EBS storage devices appear to have been detached and I am unable to re-attach them or restart the instance.

Thanks."
Amazon EC2	"Re: Instance Stuck in shutting-down state
Hello,

We will not be able to attach the volumes to your instance. I did check your volumes and they appears to be detached state. May I know what is the message that you are getting while trying to attach them back?

Regards
Shiroy"
Amazon EC2	"Re: Instance Stuck in shutting-down state
Unfortunately I don't know which block devices were attached to the instance as I didn't expect them to be detached on shutdown/termination. 

The engineers that usually deal with this system are not available, are you able to see which devices were attached before the instance was terminated?"
Amazon EC2	"Re: Instance Stuck in shutting-down state
Hello,

Following were the block device attachment information for your instance:

vol-f540e7f4 ----> /dev/sda
vol-2757f026 ----> /dev/xvdf

Can you please try attaching the volumes back accordingly?

Regards
Shiroy"
Amazon EC2	"Ubuntu EC2 instance - connection refused on port 22 (ssh)
Hello,

My instance ID is: i-f60d961f
I wanted to setup SFTP access on this server and was following the steps given here:
https://wisdmlabs.com/blog/create-an-sftp-user-with-limited-access-on-ubuntu/

I made the changes in the sshd_config file as described above.

After restarting SSH, now I'm unable to connect to my EC2 instance via SSH!

This is my live server. And I'm badly stuck.. Can someone please help in how can I login to my EC2 server.

Any help will be greatly appreciated!

Best,
Ronak"
Amazon EC2	"Re: Ubuntu EC2 instance - connection refused on port 22 (ssh)
Hello,

From what you mentioned, I feel like you would have made some mistakes while modifying the sshd_config file. The message ""Connection refused"" that you mentioned indicates that sshd service fail to start during the start up.
I did take a look at your instance and it is in stopped sate, so I could not check if your instance is failing any health checks.

Inorder to fix the issues, you can refer to the procedure mentioned in this article. I hope this helps.

Regards
Shiroy"
Amazon EC2	"Instance is not shutting down - stuck
Hello, my instance i-569ca11a is in ""shutting down"" state for more than an hour now and it appears to be stuck. The problem is that I need to re-associate the private address of that instance and I cannot do it unless it's terminated. Thank you,

Edoardo"
Amazon EC2	"Re: Instance is not shutting down - stuck
Hello,

Your instance is now stopped and you should be able to start it back.

You encountered this issue due to an issue with the underlying host. We are extremely sorry for any inconvenience this may have caused you.

Regards
Shiroy"
Amazon EC2	"Not receiving bills by email
Under Billing and Cost Management->Preferences, I've indicated that I want to receive a PDF of my monthly bill by email, but I don't seem to be getting it.  I assume it automatically would be sent to the email used to set up the account, but I can't find that information in the AWS documentation.

Anyone else seen this problem, and what can be done to solve it?  And, BTW, it's not a SPAM problem.

Thanks for any help."
Amazon EC2	"Re: Not receiving bills by email
Hi,

I have created an outbound billing support case to address your query regarding the PDF Invoices. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1470332741

Regards,

Luke H."
Amazon EC2	"AS issue - policy not executed saying theres an in-progress scaling action
Hi, I have a working AS Group and a scaling policy set to decrease capacity whenever the CPU get under 10% over a 1hour period. No problems until now. 

Today i noticed the AS group was big even when the load was under 1 hour for several hours. I trace the error to the alarm (it was in ALARM state) but alarm history showed an error repeated over and over.

""actionState"": ""Failed"",
  ""notificationResource"": ""arn:aws:autoscaling:us-east-1:888747933690:scalingPolicy:4d8cce2c-035a-43a2-a59a-9f31bbff4588:autoScalingGroupName/AS-*******:policyName/Decrease Group Size"",
  ""stateUpdateTimestamp"": ""2015-08-15T03:05:59.821+0000"",
  ""error"": ""Auto Scaling Policy not executed because its effect does not override in-progress scaling actions.""


There was NO in-progress scaling action. The last one ocurred 24 hours ago, but the error says there is one. I have to set the AS capacity manually to decrease the AS size.

Any advice would be very appreciated."
Amazon EC2	"EC2 with Elastic IP Sudden Issue - Websites are all down
Hello,

I recently signed up with EC2 and must say it was a very smooth transition coming from a self hosted CentOS 6.5 WHM/cPanel server. However though all my websites are suddenly down, I can't SSH into the server to try and reboot. Meanwhile everything has been working fine all day. The IP address doesn't work, and I don't know what to do now. I stopped the instance, restarted and nothing is resolved. I contacted support, they told me to try making a post on this forum to see if anyone can assist me. Has anyone else had an issue like this before? I literally signed up 3 days ago and this seems to be very inconvenient and bad for business."
Amazon EC2	"Re: EC2 with Elastic IP Sudden Issue - Websites are all down
My instance went down right after 9 pm Eastern tonight.  I have a similar forum posting to yours."
Amazon EC2	"Re: EC2 with Elastic IP Sudden Issue - Websites are all down
stupid me for some reason my IP got blocked. I was able to unblock my IP from CSF through my cell. all is good now."
Amazon EC2	"loadbalancer stuck on ""instance registration is still in progress""
I have created a loadbalancer in eu-west-1 and attatched an instance (eu-west-1c).
When calling directly the healthcheck url on the public dns name all works fine but the loadbalancer will not attatch the instance. It just hangs saying ""Out of Service"" and giving the reason 
""instance registration is still in progress"". 

After a very long time:
""Instance has failed at least the unhealty threshold number of health checks consecutively""

The loadbalancer forwards from port 80 to port 8080

Loadbalancer name: lbireland-743188979

Does anyone see something obvious that I have missed

//Pontus"
Amazon EC2	"Re: loadbalancer stuck on ""instance registration is still in progress""
You might want to have a look at the web server logs. Make sure you are returning 200 OK in response to health check requests. Everything else, including redirects, will make the health check fail."
Amazon EC2	"Re: loadbalancer stuck on ""instance registration is still in progress""
The health check returns a nice 200 OK so i do not think that is the problem. At least i do not think so."
Amazon EC2	"Re: loadbalancer stuck on ""instance registration is still in progress""
Hi, that instance is only configured to allow connections to port 8080 from a single IP which is not that of the load balancer so that is why the health check is failing. Please allow the load balancer to send traffic to that port. See the following page for more info:
http://docs.amazonwebservices.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-security-features.html (Using Security Groups with Elastic Load Balancing)

Alternatively you could just open up port 8080 to the world (0.0.0.0/0). Hope this helps.  If you have questions, let me know.

Thanks
Dag"
Amazon EC2	"Re: loadbalancer stuck on ""instance registration is still in progress""
Many thanks,

It was a rookie mistake but lesson learned.

//Pontus"
Amazon EC2	"Re: loadbalancer stuck on ""instance registration is still in progress""
Hi Dag, 

Actually my ELB is having status: ""Instance has failed at least the UnhealthyThreshold number of health checks consecutively."" as well. and i dont know which part has gone wrong.

As for my ELB SG listeners - i edited, and added LB HTTP 80 to Instance Port: HTTP 80 and LB TCP 8080 to Instance Port 8080. Then i applied.  back to the LB, Instance Tab, the status is still ""showign Out Of Service.""

Any help on that?

Rgds

Jim"
Amazon EC2	"Instance Fail - reboot / restart not working
I have an instance, i-5282733f, that is failing. A reboot did not work, and a stop/start did not work.  After restart, the system log is empty -- it didn't have anything of value in it before restart either.

Instance reachability check failed at August 16, 2015 at 10:34:00 PM UTC-4 (9 minutes ago)

What do I try next?

Root device type:  ebs

Edited by: CHRIS R GEHRINGER on Aug 16, 2015 10:46 PM"
Amazon EC2	"Re: Instance Fail - reboot / restart not working
Stopped and started with a new instance type. Now all is working."
Amazon EC2	"Windows Server Clock Skew
I have a Windows Server 2012 instance (i-4230cf2c) that keeps going drastically out of sync with the correct time (6+ minutes) when it syncs to the hardware clock. This is impacting my application since authenticated API calls with a timestamp are skewed outside of the acceptable window.

I've increased the Windows Time Service NTP client poll frequency, but (aside from being a bad network citizen), when I review the system logs this only temporarily fixes the problem until the OS re-syncs with the hardware clock. 

Questions:
How do I prevent the hardware clock sync? 
Or else, Amazon, can you sync the host hardware clock? 

Details: I see these two events in the system log battling it out back and forth:

Source: Kernel-General
EventID: 1

The system time has changed to â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž28T20:15:05.500000000Z from â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž28T20:20:56.252273800Z.

Change Reason: System time synchronized with the hardware clock.


Source: Kernel-General
EventID: 1

The system time has changed to â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž28T21:00:29.708992800Z from â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž28T20:54:38.789726600Z.

Change Reason: An application or system component changed the time."
Amazon EC2	"Re: Windows Server Clock Skew
The clock on the underlying hardware was stuck in a bad state. I've corrected it.  I'll keep an eye on it to make sure it continues to behave."
Amazon EC2	"Re: Windows Server Clock Skew
Hi Michael!

Our instance i-8a8054bc has the exact same issue - can you take a look and see if it can be resolved as well?"
Amazon EC2	"Re: Windows Server Clock Skew
Hmmm... I don't see any problems on this one.  If this is a PV windows instance, you might want to make sure that you're using the latest PV Drivers.  I seem to recall there were problems with time sync in an earlier version."
Amazon EC2	"Re: Windows Server Clock Skew
Hi Michael,

I'm also seeing this issue on instance i-6cbf111c - could you take a look and see if it is related to this issue, or if I need to look into upgrading the PV Drivers?

Thanks in advance!!"
Amazon EC2	"Re: Windows Server Clock Skew
Nope, it looks good, too."
Amazon EC2	"Re: Windows Server Clock Skew
Hi Michael,

The machine seems to be resetting itself back hourly at 40 minutes past the hour (I've been updating it manually today so that our sync processes don't fail).  As with the original poster, I have System Log entries with ""Kernal-General"" as the source stating ""Change Reason: System time synchronized with the hardware clock.""

After syncing with the host/hardware, it is reverting to a time roughly 2 minutes in the past.  Is it conceivable the the hardware's clock may be inaccurate?

My concern comes from the fact that I have another instance created from the same AMI (actually, created from an image of the problematic server).  Other than the fact that one is an m1.medium (i-6cbf111c) and one is an m1.large (i-b2c9eac9), they are identical and reside within the same availability zone.

The large instance displays the correct time, which makes me worry that the PV Drivers are not related (I would assume that both instances would have the same issue, since they are using the same drivers).  Is this an incorrect assumption?

Are there other possible causes, or should I focus on the PV Drivers?  The provided instructions appear to be Windows Server 2008 specific, and I'm running Windows Server 2012 standard on both instances; I'm not sure if that changes the situation at all, so I wanted to mention.

In general, any guidance or ""next steps"" would be greatly appreciated."
Amazon EC2	"Re: Windows Server Clock Skew
I'm afraid I'm not sure what the actual issue is with respect to the PV drivers, aside from people experiencing issues with clock sync, so I can't say why it would happen on one but not the other.  

It probably isn't a UTC/GMT problem (which would be about 35s off) or a time zone problem (Which would be full or 1/2 hours off). The host clocks skewing would cause this problem, but both of the instances you quoted are on similar hardware that are both syncing correctly.

That leaves a known -- but not well-understood -- problem with the PV drivers.

The information in this post might tell you more.  I'm afraid Windows isn't my strong point..."
Amazon EC2	"Re: Windows Server Clock Skew
We have the same issue on instance i-9724c6f5, i-f2c2a1a2
Can you fix this ASAP ?"
Amazon EC2	"Re: Windows Server Clock Skew
having same issue on instance ID: i-0a17a071. Server time is off 5-6 minutes and is preventing api authentications. Please fix ASAP.

Thanks,"
Amazon EC2	"Re: Windows Server Clock Skew
Hi there.  We seem to have a similar issue with instance i-a3da019f

Do you mind checking this?   I've check the registry settings and driver issues referenced.  The behaviour seems very similar to OP's"
Amazon EC2	"ssh_exchange_identification: read: Connection reset by peer
This morning this instance i-6ea013ac suddenly is not accepting SSH connections anymore.  No changes were made either to the instance or to the security groups.

I enabled detailed monitoring and it seems like the instance is up and mostly idle.  Here is the trace of the ssh command:
ssh -v ubuntu@ec2-52-8-205-248.us-west-1.compute.amazonaws.com
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 102: Applying options for *
debug1: Connecting to ec2-52-8-205-248.us-west-1.compute.amazonaws.com http://52.8.205.248 port 22.
debug1: Connection established.
debug1: identity file /Users/XXX/.ssh/id_rsa type 1
debug1: identity file /Users/XXX/.ssh/id_rsa-cert type -1
debug1: identity file /Users/XXX/.ssh/id_dsa type -1
debug1: identity file /Users/XXX/.ssh/id_dsa-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
ssh_exchange_identification: read: Connection reset by peer

Please help"
Amazon EC2	"Re: ssh_exchange_identification: read: Connection reset by peer
Hello Sailesh,

Just checking whether you are able to ssh into your instance now or still facing issues? Let me know.

Regards,
-Neel"
Amazon EC2	"FTP or SSH account access
I would like to transfer my website to another host to compare services. How can I obtain either FTP or SSH access? With which username should the SSH connection be established?"
Amazon EC2	"Re: FTP or SSH account access
Hi,

Which AWS resource do you use to how your website? Please provide the service/resource you use so we can advise better."
Amazon EC2	"Re: FTP or SSH account access
I have two EC2 instances (one of which is running) and route 53. Please let me know if you need any more information to help me answer my original posted question."
Amazon EC2	"Re: FTP or SSH account access
Hi Frank,

Please refer to the following documentation for connecting to the instance via ssh/sftp.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-connect-to-instance-linux.html

The ssh username is usually as listed below:

For Amazon Linux: ec2-user
For Ubuntu: ubuntu
For CentOS: centos
For Redhat: ec2-user

Regards,
-Neel"
Amazon EC2	"Can't ping/rdp EC2 instance - ELB can't deploy either
I'm trying for 2 weeks to deploy my web app through Visual Studio plugin, without success. I've reported here before, but no answer so far. The same problem every time: the ec2 instance is created, but I can ping/rdp it only for a small time window. After that, it's dead and I need to reboot it to access again. Now I'm having trouble deploying the app because ELB can't connect to the EC2 instance, and so I have a brick with windows installed. Right now it's a t2.micro, but I tried with t1 as well. 
If someone is willing to help me, the EC2 id is ""i-f5393016"".
Thanks
-Jorge"
Amazon EC2	"Instance stuck at stopping
Hi engineers,

I ""force stop"" the my instance id: i-29ff7630 in region 'ap-northeast-1c' but it is not responding. It keep stucking at ""stopping"".

Please help to stop it.
Thanks."
Amazon EC2	"Re: Instance stuck at stopping
Hello yadowin,

I can see that your instance i-29ff7630 is currently in stopped state. Let us know if you are still experiencing any issues.

Regards,
-Neel"
Amazon EC2	"Re: Instance stuck at stopping
Thanks Neel."
Amazon EC2	"EBS-optimized instances are not supported for your requested configuration.
Trying to relaunch an instance as an m4.2xlarge in ec2-classic. Is this possible?"
Amazon EC2	"Re: EBS-optimized instances are not supported for your requested configuration.
Can anyone from AWS support chime in on this?"
Amazon EC2	"Re: EBS-optimized instances are not supported for your requested configuration.
Hi.

M4 instances are VPC only, so you can't launch them in EC2-Classic. For a list of instance types that require a VPC, see the following documentation: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#instance-networking-storage

Julie"
Amazon EC2	"PCI DSS Trustwave
Hello just was wondering how to do something with 
During the course of the scan, TrustKeeper detected a change in its ability to communicate with some services on the remote host. In some cases, this may be caused by network security devices actively blocking the vulnerability scan, which it may perceive as a threat. In other cases, an intermediate network device, or the host itself, may be unable to cope with the vulnerability scan.
It's often very difficult to tell the difference between these two scenarios, but in either case, this behavior significantly impacts the ability of this vulnerability scanning service to detect vulnerabilities on the remote host, resulting in an inconclusive vulnerability assessment. The PCI ASV Program Guide 1.0 requires that PCI ASV scan customers have a scan performed on all in-scope hosts without interference from IDS/IPS; if such interference is detected, then the ASV is required to fail the scan. Examples of products and devices that provide active measures that may interfere with the scan are firewall and intrusion detection systems (IDS) with active countermeasures, intrusion prevention systems (IPS), web-application firewalls (WAF), and distributed-denial of service (DDoS) mitigation products.
In order to achieve a conclusive vulnerability assessment of the remote host, the products and devices responsible for interfering with this scan may need to be temporarily configured to permit scanning without interference. This normally takes the form of adding the IP addresses of this scanning service to the ""whitelist"" of the product or device. Please ensure the following network blocks have full, unobstructed, access in order to more accurately perform a vulnerability scan: 204.13.201.0/24, 64.37.231.0/24.
We passed last month with same configuration, I tried white listed them over security group but no chance
Any advice would be a f appreciated

Thanks Marian"
Amazon EC2	"Should I save to root device?
Hi all

I am very new to using Ubuntu on EC2 and would like some advice on whether I should be saving to the root device (/dev/xvda1)? When I first setup the installation the root device was 8GB so I increased it to 50GB as I thought that would be small and I also created a new 100GB but have not mounted it yet.

The output I get then I run the lsblk command it below.

NAME  MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
xvdb  202:16   0   420G  0 disk /mnt
xvdf  202:80   0   100G  0 disk
xvda1 202:1    0    50G  0 disk /

At the moment all apps and folders are using xvda1 which is the root, should I be using xvdb or xvdf instead? Is there any advantage/disadvantage if I carry on using only xvda1?

Any help would be greatly appreciated.

Tim"
Amazon EC2	"Re: Should I save to root device?
I would say that it is entirely up to you. Having a single EBS volume is not unusual. The EBS root volume, and any additional EBS volumes you attach, provide persistent storage. They will at least be around until you decide to terminate the instance. Be careful with any storage that doesn't correspond to a mounted EBS volume, though. In particular, xvdb looks very much like instance storage. That is not a safe place for any data that you care about. Instance storage is tied to a particular instance (can't move between physical hosts) and certain failure scenarios and actions can render it inaccessible or result in deletion."
Amazon EC2	"Instance i-160a2a68 unreachable all of a sudden
My AWS instance was unreachable all of a suddenly today at around 12:20pm EST.  The instance has been working fine for quite a few years.  The only recent change was upgrading the instance type to m4.xlarge from m3.xlarge in July.

Stopping it from the web interface took a long time...I had to do it several times so it would do a force stop.  Once stopped, I restarted it to restore connectivity.

This is the second time this has happened in the last few weeks.

The instance ID is i-160a2a68

Do you mind seeing what the problem might be?

Thanks

Edited by: Eddie_e46 on Aug 14, 2015 9:50 AM"
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Hello,

I am sorry for the trouble. I see that currently the instance is in running state. Let us know if you still have issues connecting to it. 

Best Regards,
Chandra P."
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Thanks for your response.  It is currently running after I forced it to stop and restarted it.  This is the second time I had to do this in the last 3 weeks.  I'm afraid this might happen again as this is a live web server.

We switched instance types about a month ago and that is when this started to happen.  Is there anything you can check on your end?"
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Hello  Eddie_e46,

I have checked your instance state prior to your last stop - start and I noticed that on Fri Aug 14 2015 17:24:55 GMT+0100 the underlying hardware your instance was running on suffered a failure which  have rendered your instance uncontactable.
I apologize for any impact this issue had on your infrastructure.

Regards,
Giorgio

Edited by: GiorgioN@AWS on Aug 15, 2015 12:05 PM"
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Thanks so much for looking into it Giorgio.  I'm glad you found the reason.  Do you know if the hardware problem has been fixed?

Thanks,
Eddie"
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Hello Eddie,

When you stop and start your instance, the instance gets moved to a different underlying hardware. After the stop and start, your instance has started on a different underlying hardware which is healthy.

Something to note:
Hardware failures can occur with any machine (inside or outside of Amazon EC2). The advantage of EC2 is it gives you all the tools necessary to quickly and easily move away from any single failing node. You may want to check out this whitepapers that helps you in building fault tolerant and high availability applications on AWS:

http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Regards,
Neel"
Amazon EC2	"Re: Instance i-160a2a68 unreachable all of a sudden
Great.  Thank you."
Amazon EC2	"Instance not responding?
There seems to be some issue with my Windows instance not responding to any packets I send to it; HTTP, ICMP, RDP, or Telnet on port 25 (SMTP?). Security groups seem ok, and I can't obviously get in to check the local firewall.
Instance ID is i-f52c1059.

Any help is greatly appreciated!

Edited by: aldahick on Aug 15, 2015 7:36 PM"
Amazon EC2	"Re: Instance not responding?
I have solved the problem."
Amazon EC2	"Re: Instance not responding?
I think I have similar problem, I even created the new instance but still can't connect to new instance from RDP. It happened today.

And now it works. lol.

Edited by: thelakmus on Aug 16, 2015 7:20 AM"
Amazon EC2	"Auto Scaling is going crazy out the blue
My auto scaling  and keeps terminating and firing up new instance for no reason no increase in CPU or anything and the instance keeps saying Initializing and never firing up can anyone help me? DOmain is yourwhip.com"
Amazon EC2	"Re: Auto Scaling is going crazy out the blue
Hi there,

I had a look at your account, I see 2 instances currently running in the V.Virginia region.
Neither of them are currently part of a scaling group, can you confirm if you are still having the issue?

Kind Regards,
Ridwaan M."
Amazon EC2	"IAM Role for PHP SDK on running EC2 instance
Goodmorning, 

is it possibile to change IAM ROLE on running EC2 instance without destroy it?

Thanks!"
Amazon EC2	"Re: IAM Role for PHP SDK on running EC2 instance
Hello, 

Thank you for posting to the AWS Forums. 

Presently the only time you can assign an IAM role is on instance startup. You can read more on IAM roles here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html

Regards,
Nick"
Amazon EC2	"Re: IAM Role for PHP SDK on running EC2 instance
So if the instance is running and I want to attach a role to it.
I would have to:
1. generate an AMI
2. Launch AMI (apply role)

correct?"
Amazon EC2	"Re: IAM Role for PHP SDK on running EC2 instance
Hi there,

While you are not incorrect, that is viable way of getting around the issue. Depending on your use case, an alternative/easier solution is possible. 

Assuming there is already a role attached to the instance in question, You can simply edit the permission of said role to suit your current needs. 
The only down side to this is, if you have more instances attached the to the same role and the other instances should not have their permissions changed. 
The permission changes will affect all instances attached to this role.

I hope this helps.
Kind regards,
Ridwaan M."
Amazon EC2	"Need help with dumb question on ec2 policy
Hi guys,

I have a dumb question, Im trying to restrict access for IAM users to certain EC2 using a tag ""Customer"". I created a policy below, I double-checked, all details are correct, the policy is attached to the test user, there are several instances with the tag Customer=Test. However, when I login as the test user, I always get message ""Not authorised to describe ..."" and there are no instances listed in the AZ. This is just a test policy, so I put ec2:*. Do you see anything wrong with it? Thanks

{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Action"": [
                ""ec2:Describe*"",
                ""ec2:StartInstances"",
                ""ec2:StopInstances"",
                ""ec2:RebootInstances""
            ],
            ""Condition"": {
                ""StringEquals"": {
                    ""ec2:ResourceTag/Customer"": ""TEST""
                }
            },
            ""Resource"": [
                ""arn:aws:ec2:*""
            ],
            ""Effect"": ""Allow""
        }
    ]
}"
Amazon EC2	"Re: Need help with dumb question on ec2 policy
Even if I put 

Resource: 

The test user still see nothing"
Amazon EC2	"Re: Need help with dumb question on ec2 policy
The policy simulator shows that the test user should see the instances but real life is not!

I tried logout and login several time, clear cache, still the same."
Amazon EC2	"Re: Need help with dumb question on ec2 policy
Hi there,

What you are experiencing is a limitation on the describe API which currently does not support resource level permissions. 

What is Resource level permissions you ask? 
This is expertly explained in the article : Demystifying EC2 Resource-Level Permissions

But at the same time thank you for noting the bug in IAM simulator I will get our teams to investigate if there is a solution.

I trust you find this information useful. Please, do not hesitate to re-contact us if you have any further questions or need any guidance with the above, we will happily help.

Kind Regards,
Ridwaan M."
Amazon EC2	"Unable to SSH to my EC-2 Instance
Hello,

Server Details :
Instance ID : i-df68d61a
Elastic IP : 54.149.241.59
Domain Name : naukrinama.com

It was all working fine till yesterday, but from today morning I am unable to login onto my server instance using WinSCP. The server is not pinging. 

Also in the Instance Status Checks it says : Instance reachability check failed at August 15, 2015 at 10:34:00 AM UTC+5:30 (3 minutes ago)

I have tried rebooting the instance but its not helping out. I have checked the security groups settings and its all fine. 

Please let me know the resolution to this as I am currently stuck and my site is down."
Amazon EC2	"Re: Unable to SSH to my EC-2 Instance
Hello,

I have taken a look at your instance and I noticed a spike up to 100% of CPU, followed by OutOfMemory killer related error:

http://313375.102723 Out of memory: Kill process 14758 (httpd) score 82 or sacrifice child
http://313375.107639 Killed process 14758 (httpd) total-vm:426164kB, anon-rss:83816kB, file-rss:0kB
http://313571.106249 httpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0

At the moment your httpd daemon seems down but your instance is answering on ssh port:

nc -z 54.149.241.59 80
Connection to 54.149.241.59 port 80 tcp/http succeeded!
nc -z 54.149.241.59 22
Connection to 54.149.241.59 port 22 tcp/ssh succeeded!

Are you still experiencing this issue? Have you noticed something at http logs level?

Regards,
Giorgio"
Amazon EC2	"Re: Unable to SSH to my EC-2 Instance
Hello,

Thanks for your reply !

I am facing this issue regularly almost every 2-3 hours. The status checks gets failed and the server stops pinging. Once i reboot the instance multiple times and wait for 30-40 mins then it starts working again. 

I don't know why it is happening, but its causing a lot of trouble for me as my site is going down again and again. Please let me know the resolution to this as currently my site doesn't have much user traffic and still the server is getting crashed."
Amazon EC2	"Re: Unable to SSH to my EC-2 Instance
Hi crazymedia,

Looks like the crashes may the be result of your system running out of memory. I'd take a look at which applications you are running which are using the most memory and try to optimize their memory usage. If the applications you are running require a lot of memory then you might have to look into utilizing a larger instance type which houses more memory.

Regards,

Rodney"
Amazon EC2	"Availability of MailMan 2.1.18?
I apologize if this is the wrong place to post this...

Does anyone know when the MailMan package in the AMI yum repository will be upgraded to 2.1.18?  Or at least the correct way I can request Amazon provide the upgrade?  It's currently at 2.1.12 (5 years old) and the newest version has a couple of features I really need.  I know I can install it from source, but I'd much prefer to use a package if possible.

Thanks!




Sam"
Amazon EC2	"Re: Availability of MailMan 2.1.18?
Hi,

We have noted your request, and we will work to get it into a future Amazon Linux AMI update.  Once the updated package is available, we will let you know in this thread.

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: Availability of MailMan 2.1.18?
As always, the sooner the better!  Most major mail providers (Yahoo, AOL, GMail) have implemented a new spam filtering system called DMARC that stops (almost) all messages from MailMan lists.  Version 2.1.18 adds some features to make it work again; without them, MailMan is nearly useless.  More information from the MailMan team here:
http://wiki.list.org/display/DEV/DMARC 

Thanks much!




Sam"
Amazon EC2	"Re: Availability of MailMan 2.1.18?
Hi Sam,

The only other real option that comes to mind is to build and install the package from scratch yourself. The key dependency is Python with version 2.7 being the recommendation for it, I am including a link to the steps below for doing so:

http://www.gnu.org/software/mailman/mailman-install/index.html

Potentially you may find other Linux variants include this package so potentially using a different operating system may also be an option for you.

Best Regards,

Davin G."
Amazon EC2	"Re: Availability of MailMan 2.1.18?
I'm not sure I understand what you mean about Python 2.7 -- the README for Mailman 2.1.18-1 recommends Python 2.6.7:

    It is recommended that you use Python 2.6.7, the latest 2.6 patch release
    as of this writing (25-Oct-2011).  Mailman has not yet been tested with
    Python 2.7.

My AMI installation has Python 2.6.9, so that shouldn't be a problem.  Or am I misreading something?




Sam"
Amazon EC2	"Re: Availability of MailMan 2.1.18?
Hi Sam,

I took those details from the Mailman Requirements page which I have included a link to below

     - http://www.gnu.org/software/mailman/requirements.html

The details from it being ""You must have the Python interpreter installed somewhere on your system. Currently (as of 2014-06-30) Python 2.4 or newer is required, with Python 2.7 being recommended. Mailman is not yet compatible with Python 3.""

Regards,

Davin G."
Amazon EC2	"Re: Availability of MailMan 2.1.18?
I saw that page, but I'm inclined to believe the README file in the new version takes precedence over a web page.

In any case, I've created an RPM for AMI Linux that builds and installs Mailman 2.1.18-1 by modifying the package for version 2.1.12 (mostly just tweaking the patch files).  I also created one for a new Python library Mailman now depends on.  The Mailman package upgraded cleanly on my server and the mailing lists seem to be functioning correctly.  Is there some way I can contribute these new packages so others can use them?




Sam"
Amazon EC2	"Re: Availability of MailMan 2.1.18?
Hi Sam,

I understand and appreciate that. We do not provide something ourselves that enables this, probably the best suggest I can make is to contact the likes of RepoForge.org or  Dags RPM  site for sharing those.

Regards,

Davin G."
Amazon EC2	"Re: Availability of MailMan 2.1.18?
Any update ? There have been several new AMI bases released, and they all ship an increasingly broken Mailman.

Failing that, if the OP lets me have the updated RPMs I'm happy to host them.

Tom

Edited by: TomChiverton on Aug 5, 2015 5:47 AM"
Amazon EC2	"Re: Availability of MailMan 2.1.18?
FWIW, it was very easy to update the RPM version from the source.

Grab a new bit of Python required, http://www.dnspython.org/kits/1.12.0/dnspython-1.12.0.tar.gz
Unpack and install:
python setup.py install

Grab and unpack from https://launchpad.net/mailman.
Build and install (set defaults to override the RPM provided so-out-of-date it breaks DMARC version. You could install leave off the prefix options and remove the AWS RPM, but I was upgrading an existing list service):
./configure --prefix=/usr/lib/mailman/ --with-var-prefix=/var/lib/mailman/ --with-cgi-gid=apache --with-mail-gid=mail
make && make install

Done. You'll now have options for fixing DMARC related headers on the main list general options page, for instance."
Amazon EC2	"*ec2-EBS*
I am contracted to design a web portal that will allow my customer (amazon user) the ability to move data akin to client side encryption to EC2. The constraints are as follows: 1. It has to has to be cost effective GB/Month. 2. S3 is not a solution since it cost more but seem faster. 2. Must be accessed from anywhere in the world like S3.

What they want to accomplish:

1. Move and store encrypted data within amazon region that is the most cost effective and fast for EBS--US East is preferred in this case.
2. All backup or snapshots will be sent to a different region of EBS bucket instead of S3 like say US West. Just the redundancy needed for BCP and DRP.
3. They want manage their master keys for encryption.

What I think:

I think the solution is more like cost effective in all. I am not sure if S3 could be a better idea in this case.

My assumptions:
I think that amazon will charge for encrypted data volume since that will increase the file size especially using AES which involved IV for very large files. This company is moving large files on a regularly.

If my assumption is wrong how will amazon deal with server-side encryption where I have 10GB of data to encrypt and after the encryption I now have 14GB. Will I only pay for the 10 GB? In this case can you see that client-side encryption could win the data depending on how they will deal with both.

Conclusion:
What do you guys think about this approach? Let me know if there is something missing. Why is EBS a good choice here? Why not S3?

Thanks."
Amazon EC2	"Re: *ec2-EBS*
Are you referring to network performance or to storage performance when you say that S3 is faster? In my experience, S3 is extremely slow while EBS provides much better performance and with provisioned iops, guaranteed performance. The difference of course is price. I'm in the process of testing out new EBS volumes but I'm expecting EBS without provisioned iops to be substantially faster than S3."
Amazon EC2	"Can't start a stopped instance, need immediate help!
HI Guys,

I can't start an instance that I stopped. I need help.
account email is <redacted>

When I tried to start it, The error message is
Error starting instances
This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.

I've sent email to aws-verification@amazon.com already but no reply after 1 hr.

I NEED IMMEDATE HELP!

Edited by: shawhu on Aug 14, 2015 9:09 PM

Edited by: shawhu on Aug 14, 2015 9:11 PM

Edited by: PhillipR@AWS on Aug 15, 2015 2:24 PM - Redacted e-mail address for security reasons."
Amazon EC2	"Re: Can't start a stopped instance, need immediate help!
Hello,

Thank you for reaching out on the forums, I have redacted you e-mail address from your post to prevent spammers from finding it, hopefully I made it in time.

Can you provide me with the instance ID that you are working with so I can have a look at the logs.

PhillipR"
Amazon EC2	"Re: Can't start a stopped instance, need immediate help!
Thank you PhillipR!

And the instance ID is i-d5770789"
Amazon EC2	"Re: Can't start a stopped instance, need immediate help!
Hi, 

I cannot see anything that  jumps out at me so I have contacted our customer service team to have a look at you account. 

PhillipR"
Amazon EC2	"Re: Can't start a stopped instance, need immediate help!
Ok, thanks.

But, I still can't start the instance. In fact moment ago when I was stopping it, it doesn't have any problem. But I can't start it? If that's my account, I don't think it make any sense allowing me to stop it and not to start it. It must be some system error.

Anway, it's very urgent. And please help us!

Harry"
Amazon EC2	"Re: Can't start a stopped instance, need immediate help!
Hello Harry,

I can see that now your instance is in a running state, are you still experiencing any issues?

Regards,
Giorgio"
Amazon EC2	"EC2 under attack how can I block/blacklist abusive IP?
Hi 

My app on an EC2 is being constantly (every few seconds) attacked by the following IP 192.232.255.240  and other IP's which have been blacklisted as hackers/spammers. i believe they are attempting to brute force/doss attack my system. This is causing my instance to utilize unnecessary resources. While I've managed block these IP via my app to allow them to generate 503.

I can still see them constantly accessing via the access log.

My instance is in a vpc I attempted to blacklist the Ip's via network ACL but this dose not seem to work how can I block these IP's from a network level?"
Amazon EC2	"Re: EC2 under attack how can I block/blacklist abusive IP?
Hi, 

Thank you for reaching out in the forums, I need some further information so I can help. 

Can you provide me with the ID of the instance under attack so I can have a look at the ACLs and security groups around it. 

Also have a look at this white paper which details the security best practices in AWS.
https://d0.awsstatic.com/whitepapers/Security/Intro_to_AWS_Security.pdf

PhillipR"
Amazon EC2	"Re: EC2 under attack how can I block/blacklist abusive IP?
Thanks for the quick response

ID: i-8ff8475d"
Amazon EC2	"Re: EC2 under attack how can I block/blacklist abusive IP?
Hello, 

The issue with the ACLs you have is the order that they are processed. 
Entry 100 is acted upon first, this entry allows in all traffic so your deny rules don't do anything. 
Here is how your ACLs should look to block that IP.

Ingress rules:
Entry 	Protocol 	Port range 	Source 	 	 	Action
200 	TCP 	 	80 	 	192.232.255.240/32  	deny
300 	TCP 	 	443 	 	192.232.255.240/32 	deny
400 	ALL 		  		0.0.0.0/0 	 	allow
* 	ALL 		 	 	0.0.0.0/0 	 	deny
Egress rules:
Entry 	Protocol 	Port range 	Destination 	Action
100 	ALL 		 	 	 0.0.0.0/0 	allow
* 	ALL 		 	 	 0.0.0.0/0  	deny


Here is the documentations explaining how to use ACLs effectively. 
Link:http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html

Let me know how you go with this. 

PhillipR

Edited by: PhillipR@AWS on Aug 15, 2015 2:47 PM - Added link to ACL docs."
Amazon EC2	"Re: EC2 under attack how can I block/blacklist abusive IP?
Thanks a lot it worked."
Amazon EC2	"Finding outstanding requests of an instance attahced to load balancer
Hi,

I have a load balancer and few instances attached to it. Now, I want to find out number of outstanding requests per instance attached to this load balancer.

As per my understanding, the number of outstanding requests are used in the algorithm to route the traffic to the instance with least number of outstanding requests.

I need to find out these number of outstanding requests. I checked API reference for ELB but I did not find any method to accomplish this. Could somebody please let me know if there is any way to find this?

Thanks,
Swapnil"
Amazon EC2	"Re: Finding outstanding requests of an instance attahced to load balancer
Hi All,

I would really appreciate if someone helps me in some way to figure out the outstanding requests of instances attached to the load balancer.

Thanks,
Swapnil"
Amazon EC2	"Re: Finding outstanding requests of an instance attahced to load balancer
Hi,

What about monitoring the surge queue? For more information, see:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-cloudwatch-metrics.html

Julie"
Amazon EC2	"Re: Finding outstanding requests of an instance attahced to load balancer
Hi Julie,

Thanks! This is what I wanted.

Swapnil"
Amazon EC2	"How To Move From On Demand To Reserved?
Hello

I installed Only Office onto an AWS micro instance, after installing other software on the Windows platform it was really hogging a micro's resources so I then changed this to a small instance and it is so far suiting my needs really well. After some research I have found that if I sign up to a reserved service I can save about 13% on the monthly fee, ever mindful of costs and wanting to launch another couple of instances over the next couple of weeks I am keen to streamline costs as much as possible so would like to now move everything from the on demand server to a reserved one is there any easy way to do this?

Thanks in advance"
Amazon EC2	"Re: How To Move From On Demand To Reserved?
stcpembs wrote:
... so would like to now move everything from the on demand server to a reserved one is there any easy way to do this?

Yes! In fact, you don't need to do anything  Well, except for purchasing a reservation matching the on demand instance you are currently running. When the system detects that you have an active reservation with parameters that happen to match the running instance, you automatically get the correct rate."
Amazon EC2	"Re: How To Move From On Demand To Reserved?
Hello

Thank you for taking the time to reply, I appreciate it 

So how would I then move everything from the on demand machine to the newly purchased reserved one?

Thanks in advance"
Amazon EC2	"Re: How To Move From On Demand To Reserved?
stcpembs wrote:

So how would I then move everything from the on demand machine to the newly purchased reserved one?


You don't.

The AWS billing system checks the list of active reserved instances against the instances you have running. For those instances that have a matching free reserved instance you get charged the reserved instance rate, otherwise you get the on demand rate. This is why you need to make sure the reserved instance matches the current"
Amazon EC2	"Re: How To Move From On Demand To Reserved?
The reservation system is pretty opaque, and a bit scary. You have to buy a reserved instance that matches your running instances exactly (region, instance type, availability zone, Windows, the correct edition of SQL Server), and there's no feedback or confirmation that you have reserved something useful for you. And once you've bought the reserved instance, you're stuck with it."
Amazon EC2	"Re: How To Move From On Demand To Reserved?
Hello

Thanks for the replies I really do appreciate your time in helping me 

I have just tried to purchase a reserved instance but upon checkout was met with the following error

""Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 5a0497d9-7b7a-40d7-b826-d0535c68dd65)""

I only have 1 on demand instance running currently any ideas what I need to do?

Thanks again."
Amazon EC2	"Re: How To Move From On Demand To Reserved?
Did you ever get a resolution to this? I'm trying to do something similar and I cannot reserve even one instance. I get the same error message, and I'm sure the quota can't set at 0 for me ."
Amazon EC2	"Re: How To Move From On Demand To Reserved?
I am having the same quota related error too when I try to purchase a Reserved Instance. Is it because my account is just less than a month old and I am still in the free tier? Any ideas?"
Amazon EC2	"Article - Reducing & optimising your AWS costs across common services
Hi,

One of the many reasons that people choose to deploy their infrastructure with AWS is the incredible potential of cost savings it has to offer against hosting your own infrastructure on premise.  However if you do not maintain and keep a close eye on your Cloud infrastructure then you can start to fall into traps that will end up costing you more than your projected AWS costs. 

I wrote this article as a guide on how to keep your costs to a minimum when using some of the most common AWS services ensuring that your estate remains optimised and your infrastructure is cost efficient.

http://www.experts-exchange.com/articles/19559/Reducing-optimising-your-Amazon-Web-Services-AWS-Costs-across-common-services.html

Any comments welcome.

Many thanks,

Stooby..."
Amazon EC2	"Re: Article - Reducing & optimising your AWS costs across common services
Hi Stooby,

Thanks for sharing with the community!

Giorgio"
Amazon EC2	"Unable to reach website publicly
Installed Apache on EC2.
Internally, using browser and localhost, website comes up.
But, I cannot connect using public IP.

ssh with putty works

telnet <ip>:22 works
telnet <ip>:8682 fails
telnet <ip>:80 fails

Ideas?

Here are the rules in the security group:
Type                     Protocol Port Range    Source 
Custom TCP Rule TCP        8682              0.0.0.0/0
HTTP                    TCP        80                  0.0.0.0/0
Custom TCP Rule TCP        8282              0.0.0.0/0
Custom TCP Rule TCP        5900 - 5905   0.0.0.0/0
SSH                      TCP        22                  0.0.0.0/0"
Amazon EC2	"Re: Unable to reach website publicly
Hello, 

I will need a bit more information before I can help.

Are you getting any errors from your external connection attempts?
What is the ID of the instance that you are having trouble with?
Is apache setup to listen on all IPs?
Do you get any output from restarting apache?

I'm Looking forward to hearing from you,

PhillipR"
Amazon EC2	"Re: Unable to reach website publicly
Hello Phillip,

What is the ID of the instance that you are having trouble with?
Instance ID:  i-1bac69e5

Are you getting any errors from your external connection attempts?
When I try to connect: The connection has timed out
      The server at xxxxxxx is taking too long to respond.

Is apache setup to listen on all IPs?
Just installed it.  Made no changes to config files.
Following instructions as per AWS: Link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html

Do you get any output from restarting apache?
I do get this:  autoindex:error pid 11405 [client xxxxxx
.xxxx:38567] AH01276: Cannot serve directory /var/www/html/: No matching Director
yIndex (index.html) found, and server-generated directory index forbidden by Opt
ions directive

Which I find interesting.  The test site comes up using localhost, internally.  But can't get there externally.

Edited by: PhillipR@AWS on Aug 12, 2015 2:51 PM - Removed IP Addresses for security reasons"
Amazon EC2	"Re: Unable to reach website publicly
Hi,

Thank you for providing that information. I have edited your post as you exposed your IP addresses which can lead to unwanted attention.  Please be careful of what information you expose to the public, resource IDs are fine as they cannot be used by anyone except you and AWS Support. 

Looking at the console I can see a few things have gone wrong on your instance:

Firstly a t2.micro is a too small to run a LAMP stack of any real use and only just meets the minimum requirements according to the RHEL documents: https://access.redhat.com/articles/rhel-limits
The limitation you are running into specifically is memory, this can be seen by the error from the console log below:

Login: [3433178.797897] pool invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0

Looking at the 10G root volume  you have 30 IOPS baseline performance that can briefly boost to 3000 IOPS. This will become a problem once your site become actively used as the database will use up the IO credits relatively fast.

Additionally there seems to something wrong with the disk:
[3433179.656545] Out of memory: Kill process 10923 (gnome-shell) score 164 or sacrifice child
[3433179.661170] Killed process 10923 (gnome-shell) total-vm:1543760kB, anon-rss:165584kB, file-rss:0kB
[3448545.488534] end_request: I/O error, dev xvda, sector 6370160
[3448545.489498] end_request: I/O error, dev xvda, sector 6397456
[3448545.489498] end_request: I/O error, dev xvda, sector 6399200
[3448545.489498] end_request: I/O error, dev xvda, sector 6399224
[3448545.489498] end_request: I/O error, dev xvda, sector 6399240
[3448545.489498] end_request: I/O error, dev xvda, sector 6399320
[3448545.489498] end_request: I/O error, dev xvda, sector 6412672
[3448545.489498] end_request: I/O error, dev xvda, sector 6829192
[3448545.489498] end_request: I/O error, dev xvda, sector 6364216
[3448545.489498] end_request: I/O error, dev xvda, sector 6371936
[3448545.599596] XFS (xvda2): metadata I/O error: block 0x600001(""xfs_trans_read_buf_map"") error 5 numblks 1
[3448545.605426] XFS (xvda2): xfs_do_force_shutdown(0x1) called from line 138 of file fs/xfs/xfs_bmap_util.c.  Return address = 0xffffffffa009ad58
[3448545.612764] XFS (xvda2): metadata I/O error: block 0x300008(""xfs_trans_read_buf_map"") error 5 numblks 8
[3448545.617795] XFS (xvda2): xfs_do_force_shutdown(0x1) called from line 138 of file fs/xfs/xfs_bmap_util.c.  Return address = 0xffffffffa009ad58
[3448545.624908] XFS (xvda2): metadata I/O error: block 0x1(""xfs_trans_read_buf_map"") error 5 numblks 1
[3448545.629750] XFS (xvda2): xfs_do_force_shutdown(0x1) called from line 138 of file fs/xfs/xfs_bmap_util.c.  Return address = 0xffffffffa009ad58
[3448545.711510] XFS (xvda2): metadata I/O error: block 0xc00001(""xfs_trans_read_buf_map"") error 5 numblks 1
[3448545.731464] XFS (xvda2): metadata I/O error: block 0x600001(""xfs_trans_read_buf_map"") error 5 numblks 1
[3448545.763649] audit: *NO* daemon at audit_pid=398
[3448545.766250] audit: audit_lost=1 audit_rate_limit=0 audit_backlog_limit=320
[3448545.769834] audit: auditd disappeared
[3448545.773189] XFS (xvda2): metadata I/O error: block 0x602707 (""xlog_iodone"") error 5 numblks 64
[3448545.777818] XFS (xvda2): xfs_do_force_shutdown(0x2) called from line 1172 of file fs/xfs/xfs_log.c.  Return address = 0xffffffffa00faa71
[3448545.784278] XFS (xvda2): Log I/O Error Detected.  Shutting down filesystem
[3448545.787900] XFS (xvda2): Please umount the filesystem and rectify the problem(s)
[3448545.792816] XFS (xvda2): metadata I/O error: block 0x600001(""xfs_trans_read_buf_map"") error 5 numblks 1
[3448545.798095] Kernel panic - not syncing: Attempted to kill init! exitcode=0x0000000b
 

This may have stemmed from the OOM killer killing the wrong processes, you will have to look at the kernel logs to see the full output as I can only see a small snippet.

My biggest suspicions are that the instance is too small, this can cause unforeseeable errors to occur as a result of the OOM killer and secondly that selinux permissions have not been set on the files in the web directory. 

A few things you can try:
1) Change your instance type to something larger. A t2.medium should do it for testing. Check the memory usage once you have completed your setup. 
 free -m

2) Check if selinux is getting in the way ( RHEL comes with selinux on by default).
 setstatus 
 sudo sealert -a /var/log/audit/audit.log

3) Try using the standard Amazon Linux AMI, it is based off RedHat, if it works then compare the differences between the settings on the RedHat AMI and Amazon Linux  ( *Note the Amazon Linux AMI is based of RHEL 6 not RHEL7 so there will be some vast OS architecture differences)

PhillipR"
Amazon EC2	"Re: Unable to reach website publicly
Philip,

I have edited your post as you exposed your IP addresses which can lead to unwanted attention.
Thank you for the redaction.  It was late and I was tired when I posted that info.

resource IDs are fine as they cannot be used by anyone except you and AWS Support.
Firstly a t2.micro is a too small to run a LAMP stack of any real use 
Ok all good info to know.

look at the kernel logs to see the full output as I can only see a small snippet.

See attached file.

1) Change your instance type to something larger. A t2.medium should do it for testing.
Done.

check memory

ec2-user@xxx~$ free -m
              total        used        free      shared  buff/cache   available
Mem:           3534         674        2298          17         561        2624
Swap:             0           0           0


2) Check if selinux is getting in the way ( RHEL comes with selinux on by default).

sudo sealert -a /var/log/audit/audit.log
100% done
found 0 alerts in /var/log/audit/audit.log

So far, this does not help.  Still not responding.

3) Try using the standard Amazon Linux AMI, it is based off RedHat, if it works then compare 

Created an Amazon Linux AMI.

That works.

But still having problems with the original instance.

I used the same security group for both instances.

Instance id of the original non working red hat linux: i-1bac69e5
Instance id of the test Amazon Linux AMI: i-4834bd9a
-J

Edited by: brandonmfo on Aug 12, 2015 7:11 PM
Clarified status after taking recommended actions.
Added  instance ids for both instances."
Amazon EC2	"Re: Unable to reach website publicly
Hi, 

Thank you  for providing that information. I can see in the log file that the RedHat instance is much healthier. 
The are no longer any OOMs or XFS issues appearing. 

The problem is definitely somewhere in the configuration on that instance. Perhaps a local firewall? 
[    4.826388] Ebtables v2.0 registered
[    4.845102] Bridge firewalling registered
cloud-init[501]: Cloud-init v. 0.7.6 running 'init-local' at Wed, 12 Aug 2015 15:05:57 +0000. Up 4.93 seconds.
Â 
[[32m  OK  [0m] Started firewalld - dynamic firewall daemon.
Â 
         Starting Network Manager...
 


Can you check the existing local firewall rules that your have. 
 sudo iptables -nL
*Note  do not post the output of this. 


Other things to look at: 

Is apache listening on all IPs or only localhost?
Check what ports are open on each IP and check the if the apache configuration is listing on all IPs.
 netstat -tapn
*Note  do not post the output of this. 
 

In your security groups you have exposed ssh to the world. You need to lock this down to only the IP range that you will access the server from. It is imperative as publics IPs are very often scanned for an open SSH port. 
 SSH TCP 22 0.0.0.0/0 


I cannot be sure what mode selinux is running in. If its in passive mode or disable it will have no affect.
 sudo sestatus


Have a look in the apache error_log file for any clues.
 sudo less /var/log/httpd/error_log


PhillipR"
Amazon EC2	"Re: Unable to reach website publicly
Philip,

I can see in the log file that the RedHat instance is much healthier.
Ok, good, a little progress.

The problem is definitely somewhere in the configuration on that instance. Perhaps a local firewall?

I agree both instances share the same Security Group.

Can you check the existing local firewall rules that your have.
sudo iptables -nL

I also did ""sudo service iptables stop"".  The system responded with ""Unit iptables.service not loaded"".

*Note  do not post the output of this.
I will say, from looking at the output, I don't think this is the problem.

Is apache listening on all IPs or only localhost?
The httpd.conf contains: Listen *:80

Check what ports are open on each IP and check the if the apache configuration is listing on all IPs.

If there is something else in this regard you need me to do, please be specific.  Sorry, this area is a bit new to me.
I have not modified the default installation.  Did not add a .conf file with virtual hosts.

netstat -tapn

It seems that there is a rule for httpd to listen on all IPs, but only for tcp6.  Is that ok?
Security Group rules seem to be written in ipv4 notation.

exposed ssh to the world. You need to lock this down 
This has been addressed.

I cannot be sure what mode selinux is running in.
sudo sestatus

SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Max kernel policy version:      28

Have a look in the apache error_log file for any clues.
See attached."
Amazon EC2	"Re: Unable to reach website publicly
Hello,

Since selinux is running in enforcing mode you will need to set the contexts on the web files so that apache can present them to the world. 
For the moment I suggest using the following procedure:

1) Set selinux to permissive mode (The ""-P"" makes it survive reboots)
 sudo setenforce -P Permissive 

 2) Get the application running.
Having selinux in permissive mode means that it will report on misconfiguration and breach attempts but not block them.
This will allow you to focus on your application.

Doing connectivity tests this is what i get.
[ec2-user@awscli ~]$ telnet xxx.xxx.xxx.xxx 82                                                                                                                 
Trying xxx.xxx.xxx.xxx ...
^C
[ec2-user@awscli ~]$ telnet xxx.xxx.xxx.xxx  80
Trying xxx.xxx.xxx.xxx ...
telnet: connect to address xxx.xxx.xxx.xxx : No route to host
[ec2-user@awscli ~]$ telnet xxx.xxx.xxx.xxx  8282
Trying xxx.xxx.xxx.xxx ...
telnet: connect to address xxx.xxx.xxx.xxx : No route to host
[ec2-user@awscli ~]$ telnet xxx.xxx.xxx.xxx   22
Trying xxx.xxx.xxx.xxx...
^C

So there is connectivity to your server but something is still blocking the traffic.
I'm not completely familiar with RHEL 7 yet but some research tells me that its using firewalld not iptables which explains the error you saw earlier.  Try this command to stop the local firewall. 
 sudo service firewalld stop

If this works then you need to disable firewalld completely or add rules to it.
 sudo systemctl disable firewalld

 3) Re-enable selinux and use the RedHat documents to help you work through selinux errors.
Understanding selinux:
Link: https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Security-Enhanced_Linux/
Selinux applied to your use case.
Link: https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/SELinux_Users_and_Administrators_Guide/chap-Managing_Confined_Services-The_Apache_HTTP_Server.html

Let me know if this helps.
PhillipR"
Amazon EC2	"Re: Unable to reach website publicly
Phillip,

Ok, so, that worked!  It now displays the webpage!

sudo setenforce -P Permissive

It whined about usage, apparently no -P option.
Issued ""sudo setenforce Enforcing"".  I am still able to access the site.

I restarted the firewalld and used:
firewall-cmd --zone=public --add-port=80/tcp --permanent

Still can access, so I think we are good.

Got the problem solved and learned something.

Thank you for helping me through this problem."
Amazon EC2	"system unreachable alarm
Hello, 

About 90 minutes ago my EC2 instance became unreachable, I'd like some help figuring out what happened.  I am running a public website from this instance and need to prevent this from happening  again.  I'm attaching the system log.

After multiple reboots the system became reachable and available again -- although apache did not restart upon reboot.

If anyone can assist it woudl be appreciated.  My instance is up and running; however I would like to know what I can do to prevent this in the future."
Amazon EC2	"Re: system unreachable alarm
Hello Ellen,

I'm truly sorry for the concern and inconvenience caused by this. I had a look at the instance and it appears the underlying host which your instance resides upon encountered technical errors which prevented your instance from being accessible during that time. I see the host was able to recovery and your instance is accessible once again.

I'd suggest taking a look at our published white-paper here which talks about building fault tolerant applications. 

I hope the above helps!

Rodney"
Amazon EC2	"Re: system unreachable alarm
Hi Rodney, 

Thanks for your answer.  Is there any reason to believe that the underlying host will continue to experience problems?  Can you let me know?

Thanks,
Ellen"
Amazon EC2	"Trying to build a CentOS 7 with LVM AMI
Hello all,

I've used the CentOS.org provided CentOS 7 image to build out an instance.  Now, I'm trying to take that instance and build a new AMI that leverages LVM.

I've found some guides about how to do this with CentOS 6, and we were able to successfully do this with CentOS 6.  But, it isn't working for me for CentOS 7.  Has anyone done this with CentOS 7?

I'd like to end up with my volume being partitioned in to a boot partition and a second partition that is a pv so it can be carved up to swap space and a root filesystem.

Thanks"
Amazon EC2	"EC2 small instance unresponsive periodically - cannot ssh
Instance: i-9bf62896 - m1.small - us-west-2a

We are having issues with a small ec2 instance that becomes periodically unresponsive. The period is random, 5 days, 7 days and some times 10 days. Once it becomes unresponsive, SSH does not work. So we have to reboot it from the AWS Web console. Once it reboots, everything is back to normal again. 

The instance has Ruby on Rails and MySQL running on it. We havent seen any kind of load on the server - its used very rarely. CPU graphs show minimal spikes, there are no errors that we found in the syslogs or ssh logs. 

Our instance was getting hit with a lot of SSH attempts, so we installed fail2ban and its blocking the bad IPs. 

Other than that, we cannot think of anything that can make the instance unresponsive. 

Any suggestions on how to find the problem ?"
Amazon EC2	"Re: EC2 small instance unresponsive periodically - cannot ssh
Hi,

I had a look at your instance and I have a suspicion that this might be IO related. You have a 20G EBS volume which gives you 60 IOPS base line performance. Looking at the volumes statistics I can see there are a few usages spikes. My theory is that in those spikes you might be exhausting your burst IOPs credit, to prove or disprove this theory I need to have recent specific timestamps of when you see the issues so I can drill into the graphs.

Looking at the network graphs I can see that installing fail2ban has made a significant improvement to your network usage. The SSH attempts you saw are brute force hacking attempts. Your security groups are far too open especially for SSH. You should lock the ports down to known IP ranges as much as possible. Only expose what you need to to minimize the number sources an attack can come from. This will also help reduce the overall load on your instance. 

Have a look at this white paper about securing your services in AWS.
Link: https://d0.awsstatic.com/whitepapers/Security/Intro_to_AWS_Security.pdf

Looking a the underlying infrastructure there is a minor flag that has been raised however its unclear what the affect on instances is if any at all. Try stopping and starting the instance to move away from the issue. A stop and start moves an instance to different underlying infrastructure where a reboot simply restarts the instance in the same place. 

CAUTION
You do have an instance store attached to this instance, a stop and a start will wipe all data from the instance store . Be sure to backup any data on the instance store that you with to keep before performing a stop and a start.
CAUTION

I hope this helps.

PhillipR"
Amazon EC2	"Re: EC2 small instance unresponsive periodically - cannot ssh
Thank you for the quick response. 
We will tighten the SSH ports and also stop and start the instance to see if the issue goes away. 

I will report the time to this thread if the issue came up again"
Amazon EC2	"Which takes precedence ScaleupPolicy or ScaledownPolicy
I've got a colleague who insists on having a scale up policy for CPU Utilization too high (60% for 5 minutes) and scale down policy when CPU Utilization is low (10% for 5 minutes).

I am confused on the outcome of the following scenario; is it just a matter of who invokes the change on the ASG's desired capacity first?

Scenario

ASG with 3 instances
Min Size: 2
Max Size: 4
Instance 1 had 9% CPU over last 5 minutes
Instance 2 had 9% CPU over last 5 minutes
Instance 3 had 99% CPU over last 5 minutes

Will the ASG Scale up or Down?"
Amazon EC2	"Slow Performance on EC2
Hello All,

I'm a newbie on the Amazon platform. I have an EC2 instance with ID i-55a6fc5c, Type = m3.large

I experience slow performance during the day. currently I have only one web app running on it.

What can I do to improve the performance and accessing my MySQL server using phpmyadmin is really slow and sometimes impossible during the day.

I will also like a link that can help me catch up on amazon cloud administration.

Thank you"
Amazon EC2	"Server refused our key. Disconnected: No supported authentication methods
Hello all.
I used the Amazon Linux AMI to set up some new instances and was able to connect to them fine using PuTTY and my generated key.
I stopped the instances last night and started them this morning and now cannot login.

So the weird thing is I was able to connect before using 'ec2-user' and now I cannot. So this isn't a username issue.

Can someone assist?"
Amazon EC2	"Re: Server refused our key. Disconnected: No supported authentication methods
Ah. Never mind. I did not take into account that the public IP address had changed. 
Derp."
Amazon EC2	"Is CentOS a free tier as in case of AMI image of Ubuntu/Windows
Dear Team,

I want to know is CentOS image is also free as incase of ubuntu image .I want to create an EC2 instance of CentOS ,I have created previously images of Ubuntu ,but I am worried about Centos as I can't find CentOS in AMI Image and can see it in AWS MarketPlace,so I am confused weather the CentOS image will charge me .

Is the price of CentOS EC2 Instance will be the same as that of ubuntu .

Note:I want to create an CentOS EC2 instance for my school project and not for any professional activity 

Thanks and Regards,
Arpit Joshi"
Amazon EC2	"Re: Is CentOS a free tier as in case of AMI image of Ubuntu/Windows
Hi asj177,

This is Nolen from AWS Customer Service team.

Please respond to the support sace, ID: 1468574621, I have created for further questions on this or any other issues regarding your AWS account.

Regards,

Nolen M.

Edited by: NolenM@AWS on Aug 14, 2015 3:59 AM"
Amazon EC2	"Instance Stuck in shutdown
Hi,

On of my instance didn't responded. I tried to stop/restart it but it is stuck on shutdown.
Instance id is : i-85c4562f

how can I solve it ? I just want to restart it.

Thx,
Lioh






EDIT: Now in status : Initializing ***






Edited by: lioh on Aug 14, 2015 2:28 AM"
Amazon EC2	"Re: Instance Stuck in shutdown
Hi Lioh,

It appears that your instance is back up and running. Let us know if you experience any further issues.

Kind regards,
Chris"
Amazon EC2	"EC2 Instance not reachable
Hi,

We can't access the EC2 Instance. Status check shows failed. See the attachments"
Amazon EC2	"Re: EC2 Instance not reachable
Hello,

I see that instance i-a09b9f73 has now been terminated. Please let us know if you need further assistance.

Kind regards,
Chris"
Amazon EC2	"Re: EC2 Instance not reachable
Hi Chris,

Thank you for your reply 

We terminated the failed instance and created new one.  

May I know the reason for this Instance Status check failure?  This happened second time with our EC2 instance.

Thanks & Regards
cordtech"
Amazon EC2	"Re: EC2 Instance not reachable
Hello,

Unfortunately it is much harder to troubleshoot an instance once it is terminated. However, it does appear that the status checks were triggered due to an instance status check failure and not a system status check failure. In other words it looks like the problem was within the instance itself i.e. not caused by AWS hardware issues. You can confirm this by comparing these two status checks in the CloudWatch console:

StatusCheckFailed_System 
StatusCheckFailed_Instance 

We have more information on troubleshooting status check failures  here.

Kind regards,
Chris"
Amazon EC2	"Cannot connect to port 27017 on ec2 instance.
Hi, I have two ec2 instancesâ€”one hosting a webserver and the other hosting a mongo instance. I have two different security groups, the one with the mongo instance is allowing TCP connections on port 27017 from my local IP address and TCP connections on port 27017 from the security group that the webserver belongs to. The webserver instance allows all outgoing connections. 

I am able to connect to the mongo shell locally via the command mongo ##.##.##.## (the elastic IP of the mongo instance). But when I ssh into the instance that holds the web server and run the same command, I get Error: couldn't connect to server ##.###.##.##:27017 (##.###.##.##), connection attempt failed at src/mongo/shell/mongo.js:148

What kind of issue could this be? 

Thanks in advance.

Edited by: nikk_wong on Aug 11, 2015 12:16 AM"
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
If you are trying to SSH to the EIP of your Mongo server, try adding access to the port from the Public IP of your WebServer to the Security Group."
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
Thanks for the help. I would like to be able to connect to port 27017 on the DB instance from the webserver instance. Already can access SSH from local. Tried adding the webserver's public IP to the DB instance's inbound rules but that wasn't allowed."
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
Any Ideas?"
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
Hi, yes. Why was the IP address adding not allowed? Did you format it correctly (eg. 54.355.417.15/32)

Also, if you are in a VPC then you would be better adding something that allows internal only communication unless you want it to be accessible outside. While testing, I usually allow all of the CIDR that the instance is in access, then narrow it down if needed. You say you have added the web server security group as an inbound rule? Then if you try to connect to the Internal IP of the DB server it should work."
Amazon EC2	"Reserved Instances Limit Exceeded
I am trying to purchase two reserved instances (m4.large and m4.xlarge) in oregon,us-west-2b, region and I am getting quota exceeded error.
""Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 89facfa3-c926-4a1a-913b-fe5ac6ce4edb)""

I just created my account yesterday, hope this will not be a problem.
Please help me on this as earliest."
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Please help me on this, I want to purchase 2 Reserved Instances as soon as possible."
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hello,

I apologize for the issue you have encountered. I have engaged the team to investigate this issue. I will provide you an update as soon as I have more information. In the meantime, if you have any additional questions or concerns, please do let us know.

Regards,
Mohsin"
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Thanks for the reply and please do needful as earliest."
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hello,

Would it be possible for you to send both I and Mohsin the AWS account number used for this request? This is needed to dig further into this issue.

Regards,
Brandon"
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hi,

I have sent you both a private message with required details, let me know if you need any other details."
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hello,

I have just reply via private message.

Regards,
Giorgio"
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hi,

I have asked one question 10 days back, please reply my private message.

Thanks"
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hello,

I sincerely apologize for our delay in response. I have sent you a private message.

Regards,
Mohsin"
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Do you guys ever respond to support queries? I have had 3 open support queries all relating to sales that haven't even been assigned in several days now! Getting rather frustrated as I also have the same quota exceeded error."
Amazon EC2	"Re: Reserved Instances Limit Exceeded
Hello,

I see that all 3 support cases have been responded to. Please update these cases should you have further questions.

Kind regards,
Chris"
Amazon EC2	"ec2 import error
Hi,

We have converted a windows server 2012 vmware virtual machine to ec2 . Converting successfully completed. But when we access to the this server via RDP, error pop-up window opening and saying ""The server denied connection (code DeniedConnection 7)""

When we try domain user error pop-up window opening and saying ""The credentials are correct, but the host cannot log you on for another reason. Please check if your password has expired or contact your system administrator for assistance.""

How can resolve this?

Thanks,"
Amazon EC2	"Problem setting spot instance offer price
Hi there,

I'm having a problem with spot instances: whatever the price I set for a g2.* spot instance request, it gets defaulted to $0.65 for g2.2xlarge and $0.24 for g2.4xlarge (even if, in the creation review step, the correct price is displayed).
Is there some kind of limit I'm not aware about?

Thanks!

Daniele"
Amazon EC2	"Re: Problem setting spot instance offer price
It have been fixed. At least for me. I can now create spot requests without problems."
Amazon EC2	"My spot instances max price resets to $0.26, what am I missing?
I'm trying to create a spot instance, but when I set my maximum price to $0.5 or $1 it looks fine until I actually clicks the Launch button. Then the price resets to $0.26.
The price I've entered looks fine on the review page, but when it's launched the maximum price I see in my spot request list is $0.26.
Am I missing a step somewhere?"
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
I just tried creating the spot request in a different browser. The same thing happens. When I click Launch, my maximum price is changed to 0.26."
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
I can create a spot request with a maximum price below 0.26 without problems. Very strange. It almost seems like I have a global setting somewhere that says my maximum maximum price is 0.26."
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
I just tried creating a spot instance with a Python script. The same thing happens: Maximum price is lowered to 0.26."
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
Same here with g2.4xlarge."
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
Phew! I thought it was just me:)

I asked on reddit as well. No answers there.
https://www.reddit.com/r/aws/comments/3gtddw/my_spot_request_maximum_price_gets_lowered_on/"
Amazon EC2	"Re: My spot instances max price resets to $0.26, what am I missing?
It have been fixed. I can now create spot requests without problems."
Amazon EC2	"Notified - failed an instance or a system status check, what to do next?
Hi,

I have received the Status check fail notification today morning Singapore time 5:57am. But i have checked this email around 9am only. 

By the time, my application is working fine without any problem even though i never take any steps to recover.

First time , i receive this notification, can you please check into My Instance and let me know more details regarding this? 

Details:
My instance i-46abbc11 in region APAC - Singapore
Timestamp: Thursday 13 August, 2015 21:57:04 UTC

Thank you
Mayandi"
Amazon EC2	"Re: Notified - failed an instance or a system status check, what to do next?
Hello Mayandi,

Thank you for reaching out through the forums. 

I had a look at your instance and I can see there was an issue in the underlying infrastructure which caused the symptoms you experienced. The issue was resolved in about 5 minutes. 

You can see the period of the status check failing in this graph: https://console.aws.amazon.com/cloudwatch/home?region=ap-southeast-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed~2015-08-13T21%3A17%3A26Z~2015-08-13T22%3A52%3A26Z~Average~300~InstanceId~i-46abbc11

Best regards, 
PhillipR"
Amazon EC2	"Re: Notified - failed an instance or a system status check, what to do next?
Hi PhillipR,

Thank you for your immediate support.

By the way , can you please clarify me with the below things

1.  Is this issue happened because of my application traffic, CPU usage or memory level?
2.  What type of status check failure encountered, is it SYSTEM STATUS CHECK OR INSTANCE STATUS CHECK failure?
3.  Is there any preliminary steps can be taken to avoid this problem?
4.  How do i protect my instance from status check failure?

Thank you
Mayandi

Edited by: mayandi1 on Aug 13, 2015 7:40 PM"
Amazon EC2	"Re: Notified - failed an instance or a system status check, what to do next?
Hi Mayandi,

1. Is this issue happened because of my application traffic, CPU usage or memory level?
This particular issue has nothing to do with your application, there was something in the surrounding infrastructure that failed or had an error. I realize this is not much to go on but there is nothing you could have done to predict or prevent it from happening. 

2. What type of status check failure encountered, is it SYSTEM STATUS CHECK OR INSTANCE STATUS CHECK failure?
In this case it was the reachability status check that failed, our systems could not verify that your instance could be reached and so  a failure flag was raised. You can see these checks by selecting the instance on the EC2 instances page and viewing the information about the instance. 

3. Is there any preliminary steps can be taken to avoid this problem?
4. How do i protect my instance from status check failure?
These are the money questions, people have spent millions to answer this and we now have the cloud, but it actually comes down to architecting for failure. Everything fails at some point so the question is when and how do you react to it. 

Lets take a web server running on one instance for example:

Failure scenario:
One day the file system encounters an error, the operating system reboots and when it starts back up again a file system check runs for about 5 minutes and manges to fix the errors. As is the website would suffer an outage whilst the reboot and file system checks takes place. 

There are many ways to work around this kind of problem so I will list 2 simple solutions at a high level.

Solution 1 : Wear the instance outage but have a content delivery network (CDN) in front.
In this case the users off the site may not even notice that the instance died, the CDN has most if not all of the website cached and continues to serve the visitors from its cache only showing errors on parts of the website that contain dynamic content.

This is suitable for most small websites and also give you the capability of serving a huge number of visitors with only 1 instance.

Solution 2: Use a load balancer  to distribute traffic between 2 instances.
In the case there is no down time or errors at all, at most there is a connection reset for the visitors on the dead instance.

This is suitable for websites that have a larger amount of content that changes more frequently but it is significantly more complex to set up as the web servers need to share data amongst themselves so they can provide the same content regardless of which instance a user gets directed to by the load balancer. This shared data requirement is what causes all the complexity and with complexity comes more cost. 

The best assumption you can make is that your instance will fail at some point so you need to decide how you want to react to that. Reliability is not cheap or simple and every use case is different depending on how far you are willing to go. A bank goes as far as technologically possible, spending enormousness amounts of money to prevent even the smallest blip. Someones blog can survive a small outage with zero repercussions and so does not spend  anything near a banks budgets and just wheres the outage instead.

So instead of protecting your instance you should protect your service by building around failure. 
Here are some reference architectures to give you an idea of what is possible in this space with AWS.
Link: https://aws.amazon.com/architecture/

I hope this information is useful and helps you to protect your service as your use case requires.

PhillipR"
Amazon EC2	"Re: Notified - failed an instance or a system status check, what to do next?
Hi PhillipR,

Thank you for the detailed explanation.

Thank you
Mayandi"
Amazon EC2	"The address provided is not a valid address
i could not find an appropriate ""billing"" thread to add this question to, so please redirect me if needed - i know this isn't a developer issue, but your help is appreciated.
i have submitted a case but have not heard back from amazon.
i moved locations and i am trying to update my credit card info.
when i enter the information, i receive ""The address provided is not a valid address, please check the Country/City/Postal Code and/or contact customer support.""
the address is valid (i receive mail here every day) and it's the only billing i can provide at this time.

has anyone else encountered this problem?
can you advise on how long it takes to have a case addressed? i'm concerned they will close the account before resolving the issue.

thanks,
lee"
Amazon EC2	"Re: The address provided is not a valid address
Hi Lee,

My colleague Dale updated your support case. Please respond via support case 1459379071 if you have additional questions or concerns. 

Regards,

Kuda"
Amazon EC2	"Unable to remote to instance due to expired password
Hello,

After creating my EC2 instance, I created a new account and disabled the administrator account. The new account, however, had an expiring password. I've done this on another EC2 instance running Windows 2008 without any issue. Whenever my password there expires, I am prompted to change it. However, this new instance is Windows 2012. I wonder if they've changed it somehow since I can no longer change the password. Upon connecting, I am greeted with the following:

""This user account's password has expired. The password must change in order to logon. Please update the password or contact your system administrator or technical support.""

Am I out of luck? I've seen that there are ways to recover the instance via launching a second instance and attaching the drive. I was hoping there was something else that might work though. If this is my only option, it seems this is a ding against the security of the system since either I have to leave Administrator enabled, or I have to set my password to never expire. Or I have to remember to change it before it does expire.

Looking for suggestions. Thanks.
Lushi"
Amazon EC2	"Re: Unable to remote to instance due to expired password
Hi Lushi,

Thank you for reaching out through the forums.

Attaching the drive to an accessible instance is  the only way to recover from this.

Here are the steps to follow. 
Create a lower version of EC2 Windows 2008 instance
    Stop the affected instance
    Detach the root volume from affected instance and attach it with your newly created instance as secondary volume
    Start the new instance and login to that
    Go to the Drive that you have additionally added (affected volume)
    Go to affected volume drive:\Program Files\Amazon\Ec2ConfigService\Settings
    Open config.xml in notepad
    Change the value of Ec2SetPassword to Enabled
    Change the value of Ec2HandleUserData to Enabled
    Save the file
    Detach the affected volume and reattch it with your affected instance as root device (/dev/sda1)
    From EC2 management console, select the affected instance and right click on it
    Click Instance settings >> View/Change User Data
    Copy and pasted the below script (with script tag. Please be careful of copy/paste, it may add some unwanted character)
<script>
net user administrator /active:yes
</script>
    

    Click on Save
    Start the instance
    You should be able to access the instance using local Administrator account

As you have mentioned it is best practice to disable that account. In your scenario it would be beneficial to use Active Directory to manage the accounts on your servers rather than using local user accounts. So if a password expires then the domain administrator can reset it in Active director without the need to touch any  server the can cause an impact to your service.

Hope this help.
PhillipR"
Amazon EC2	"Instance i-840f46d4 Failed Status Checks - Now Won't Stop
My instance i-840f46d4 unexpectedly failed the status checks and I was alerted of the issue. Upon investigation it was indeed not responding to request from machines within my VPC.

I attempted to stop the instance, and after waiting I initiated a forced stop. The instance still will not stop. The state is stuck at ""stopping"".

Can this instance be forcibly stopped from the AWS side so that I can start it up, and hopefully it will obtain new hardware?

Thanks,
Timm"
Amazon EC2	"Re: Instance i-840f46d4 Failed Status Checks - Now Won't Stop
AWS - 

Please see case 1468268201 before attempting to stop the instance.

I am not sure if the instance finally stopped on its own, or the EBS folks took care of the /dev/sda1 device that was not behaving. I would like a post mortem if possible.

The instance stopped responding at 8/13/2015 9:26:27 PM UTC, and the volume attached to /dev/sda1 stated that the ""Volume stuck in attaching since 41 days, 22 hours and 47 minutes ago ago"". While that error is obviously not accurate, the instance finally stopped and I created a new snapshot of the volume, detached the old / attached the new volume and fired up the instance."
Amazon EC2	"I can no longer access my EC2 instance via SSH or SFTP
Everything was working until recently. I was trying to change permissions on a Git repo by chmodding the directory, but sadly I forgot to ENTER that directory before doing so, so instead of changing permissions on the repo, I changed permissions on the ec2-user directory itself. 
I'm fairly sure this is the root of the problem, and I sadly have no way to fix this currently as I can't access the server via SSH or SFTP. What can I do to remedy this problem as soon as possible? Has anyone else run into something similar?"
Amazon EC2	"Re: I can no longer access my EC2 instance via SSH or SFTP
Hello,

Thank you for the post.

You can follow the instructions below to change the permissions on ec2-user directory:

Stop the original instance
Detach the root volume i.e., /dev/sda1 (More information about 'Detaching an Amazon EBS Volume from an Instance' can be found on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html)
Launch a new instance in the same Availability Zone as the original instance
Attach the detached volume from second step to the newly launched instance as a secondary volume i.e., /dev/sdf (More information about 'Attaching an Amazon EBS Volume from an Instance' can be found on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html)
Mount the volume on he new instance using the command: sudo mount /dev/sdf /<mount directory> (In general use this command: sudo mount <device_name> <mount_point>)
Access the volume and change/fix the permissions on the 'ec2-user' directory using the command 'chmod'
Unmount the volume using the command: sudo umount /dev/sdf (In general use this command: sudo umount <device_name>)
Detach the secondary volume from the new instance and  attach it back to the original instance as a root volume i.e., /dev/sda1
Start the original instance


I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: I can no longer access my EC2 instance via SSH or SFTP
After reading this, I realize this will indeed work, and is probably my only option. 
Reminds me of replacing dlls on old windows machines by mounting the drive externally.

I particularly think I messed up group permissions on the directory though, as even changing chmodding it to 777 (before I closed my active putty session) did not remedy the problem.

Do you happen to know exactly what permissions it had to begin with? Once I start this, I won't be able to test the changes without remounting and testing each time."
Amazon EC2	"Re: I can no longer access my EC2 instance via SSH or SFTP
On second thought, considering not much having been done on that instance of value, it makes more sense to just start over from scratch, but thank you for the answer."
Amazon EC2	"need quota increase
Can an aws team member please review case 1466898371 ? 
This has delayed our deployment by a full day now!"
Amazon EC2	"Re: need quota increase
Hello,

Thank you for the post.

It seems that the case: 1466898371 has been resolved.

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Import VHD to EC2 with Key Pair
I have successfully imported a VMware image into EC2 but I don't see how I can import it with a key pair so that I can connect to it once it's running. Can someone point me in the right direction for how to connect to this instance without an assigned key pair?

Thanks,
Landon"
Amazon EC2	"Stuck instance stop
We are trying to restart an instance, but it just seems to be stuck in the stopping state.  We attempted to force stop as well.  The instance in question is i-66fc5c9a.  What should we do next?

Thanks in advance."
Amazon EC2	"Re: Stuck instance stop
The Instance did eventually become `Stopped`, and we were able to restart it.

We're tracking this down, no intervention is required at this time."
Amazon EC2	"IIS not serving HTTP requests - ELB incorrectly reporting 503 at capacity
The Issue started this morning around 8am CDT. 

Incoming Http requests to our ELB got a HTTP 503 error ""back-end server is at capacity"". Yet, the ELB reported instances all passed the health check. The instances themselves (Windows running IIS) were running at 2% CPU. Further digging found that the servers locally would serve some content (.html files and basic aspx pages) but any external request to the servers would get a timeout. There have been no changes to these servers configuration lately. I have started new instances (from our AMI) with the same result. 

Was/Is there some AWS outage going on? AWS Service Health shows all services are online but that's not true for us. We have a continued outage. Can someone please advise so we can get our services back online."
Amazon EC2	"Please help! ELB awfully slow ever since the meltdown two days ago
Before 10 Aug, the load balancer's average latency is around 200 milliseconds. Now it fluctuates between 2000 to 6000 (see attachment). Any idea what's wrong and how to fix it would be greatly appreciated. 

Load balancer name = awseb-e-m-AWSEBLoa-NWPZBMAC6ID4
DNS name = awseb-e-m-AWSEBLoa-NWPZBMAC6ID4-1269716724.us-east-1.elb.amazonaws.com

EC2 and RDS metrics are all fine, indicating no spike whatsoever.

Edited by: anga25 on Aug 12, 2015 6:27 PM"
Amazon EC2	"Re: Please help! ELB awfully slow ever since the meltdown two days ago
And now experiencing Error 522 and Error 504. My site's sometimes down for 1 minute and up for the next."
Amazon EC2	"Re: Please help! ELB awfully slow ever since the meltdown two days ago
I'm still waiting for a solution / response. Connection times out every minute or so, with latency spiking between 1000 and 4000 miliseconds.

Thanks in advance!"
Amazon EC2	"Re: Please help! ELB awfully slow ever since the meltdown two days ago
High ELB latency still occurring. Still waiting for a response or solution. Does anyone else have the same problem in US East N.Virginia?"
Amazon EC2	"Opened a case and no response for 3 days
Hi 
I have a business support and I opened a urgent case three days ago and there is no response from the customer support, I opened another one this morning and did not get any response still, our organization is paying business support and not getting any support, please respond to the request ASAP.
I have two different case ID's with the same issue   
Case ID: 1446471251
Case ID: 1448111491"
Amazon EC2	"Re: Opened a case and no response for 3 days
Hello,

I have gotten one of our VPN engineers to take a look at your case and they should be calling you by the number provided in case 1446471251 shortly.

Best regards,
Justin G."
Amazon EC2	"Re: Opened a case and no response for 3 days
I got the answers I needed, thanks for that, but I don't understand why it takes so much time to respond (3 days) even after paying for business support? aren't you supposed to respond in 1 hour. I am asking because I want to make sure I am doing the right thing in future and avoid delays.

Thanks
Gurubrahma"
Amazon EC2	"Re: Opened a case and no response for 3 days
Wow, I definitely would like to hear AWS Support explanation as well. We are evaluating moving our IT infrastructure into Amazon and such kind of clients treatment is a huge red flag."
Amazon EC2	"Re: Opened a case and no response for 3 days
Answered"
Amazon EC2	"Re: Opened a case and no response for 3 days
They should at least offer ticket support to any paying customers, not just ones who paid for a support package. If you don't pay a monthly $49 price for basic support, you can't even send a ticket, and can only try your luck on forum, hoping in vain for a response that might not come."
Amazon EC2	"Chef Bootstrap Suddenly Failing
Edit: Resolved.

Edited by: ScottC8 on Aug 13, 2015 9:22 AM"
Amazon EC2	"Strange Disk Spike cause the server to hang
Dear AWS stuff,

Please help, this happens for a long time. From time to time, our ec2 instance would have a disk spike that suddenly cause the disk usage jump from 20% to 80-100%, and make the server hanging. The cpu usage was normal all the time, 20% to 30%. CPU is usually climbing before the spike, but it's always in the range and 30+% at most.

To make the server workable again, we have to restart many times. But sometimes, restarting won't work. We have to create AMI, and launch it again. That will work, and disk usage back to 20% again.

At first, we thought it might has something to do with the process running. But only process running is php scripts. Now we suspect it is hardware faulty, otherwise it won't require a AMI relaunch to make it work again. Perhaps EC2 is not reliable as we think, we have other issues before, but this is the most recent and critical causing outage."
Amazon EC2	"Citrix XenApp HDX 3D Pro on Amazon EC2
Has anyone been able to get Citrix HDX 3D Pro running on the g2 instances?  This is the exact setup we are trying to emulate https://www.youtube.com/watch?v=PY9AUI0yo-Y We are using XenApp to deliver desktops and are having trouble getting 3D pro going."
Amazon EC2	"Re: Citrix XenApp HDX 3D Pro on Amazon EC2
Were you ever able to get this working?  I am unable to get OpenGL working on G2 with EC2 but DirectX/CUDA/OpenCL work fine."
Amazon EC2	"Instance i-234a34dc EBS volumes reverted almost 2 months old data
We had our i-234a34dc instance become unresponsive this morning, we restarted the instance and when it came back up, all of our data was reverted to the base snapshot that was used to create this instance on June fourth.  Is this another case of AWS meddling with storage and not notifying?  Our Cloudtrail shows no actions on our end to cause this.  Box was operational, went unresponsive, rebooted and came back up and was now showing files no newer than june 4th, which correlates with our original snapshot volume that this was made from."
Amazon EC2	"Re: Instance i-234a34dc EBS volumes reverted almost 2 months old data
closing."
Amazon EC2	"instance stopped and restarted unexpectly
Hi,
One of my instances(""i-79284f27"") was failed and restarted last night.
The instance check fails between 21:00 and 21:33 (Aug, 11 UTC), but I can't find any useful information from log files. (Attached)

I didn't receive any event about restarting an instance.

What might be the reason of restarting? Thanks."
Amazon EC2	"Re: instance stopped and restarted unexpectly
Hi,
The reboot was caused by a problem on the underlying host.
The instance rebooted and recovered automatically. The issue appears to be isolated and the underlying host is healthy.
No action is required from your side.

Sorry for the trouble caused, feel free to post more about this issue if you need further assistance."
Amazon EC2	"Deleting Preinstalled COMODO certificates
Hi Forum ppl, Does anyone know if its safe to delete the preinstalled comodo certificates (assume they are only related to comode ssl) - windows comes up with a scary message to make sure that it is safe first as windows might crash. The ec-2 instance has over 250 root certificates but on another dedicated server with another company there are only 25 - the chain is not complete when viewed on an android chrome browser, some ssl checkers report no poblem others say there is an intermediate certificate missing in the chain, just going to replace with the ones what are working on another machine, should I just ignore the windows message?

Paul"
Amazon EC2	"ELB Query
Hi Guys, First ELB deployment and it's not working so well for me 

I have 2 servers listening on port 443 in different private subnets with a NAT box sitting there allowing internet for the servers, security group allows 443 from all. Have an ELB pointing to the 2 instances on 443. Both instances have a status of InService, so I assume the ELB can get to the instances on 443. The ELB has a security group of allow all from anywhere. I can't even seem to ping the ELB let alone hit it on port 443. What am I doing wrong? It did state when I set it up that none of the subnets had an internet gateway. I dont want to have to add an IG to a private subnet and i couldnt add our public subnet (which has an IG) as a 3rd subnet to the ELB.

Edited by: DaveBrowning_ on Aug 12, 2015 8:39 PM"
Amazon EC2	"Re: ELB Query
I've reshuffles out subnets, split our edge subnet into different AZs and it's all happy now."
Amazon EC2	"SSL certificate Replacing issue
Hi,

My instance id is : i-46abbc11

I have replaced my SSL certificates since the OLD cert is going to expire from Aug-18-2015.

But when i check my domain for SSL , it still displays the OLD cert expiry date.

Is it must that restart Apache when replacing SSL certificates on the folder?

Thank you
Mayandi"
Amazon EC2	"Re: SSL certificate Replacing issue
It works fine, after restart apache."
Amazon EC2	"Website host instance not working.  www.aecohack.com AWS instance i-f50e280
Website host instance not working.  www.aecohack.com AWS instance i-f50e280"
Amazon EC2	"Internal Network Speed
Hi, my name is Luis Gustavo,

I have been writing my Term Paper and I have a question. What's the internal network speed of the free tier instances?
Do anybody know?

Thanks."
Amazon EC2	"Amazon EBS encryption now available for root volumes?
Hello.

I saw the highlighted post on Amazon EBS encryption now being available.  I also noticed when adding storage while creating a new EC2 instance, the root volume is ""Not Encrypted"".  I can add a new volume and select whether to encrypt that, but there does not appear to be a way to encrypt the root volume itself.  Is this possible?  If not, is this a feature that would be considered?

As background, currently I use a service to provide encrypted disks.  I have been moving some items from the root volume (like /home/ec2-user/.ssh) to the encrypted disks for additional security and creating symbolic links from the root volume to the appropriate location on the encrypted disk.  It would be nice if root volumes themselves could be encrypted to avoid problems (like losing SSH access) when such mappings fail.

Thanks!"
Amazon EC2	"Re: Amazon EBS encryption now available for root volumes?
Hello,

The EBS encryption option is only available for storage volumes at this time.  I've passed along your feature request regarding root volume encryption to the EBS/EC2 team.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html

Regards,

Matt R."
Amazon EC2	"Re: Amazon EBS encryption now available for root volumes?
I have posted a blog on this specific topic at http://blog.hintcafe.com/post/85987577654/encrypting-linux-root-disk-in-ec2-cloud which details how to encrypt root volume using 2 options

1) random key where key only lives in server memory. server reboot loses data
2) keyserver in private data center which supplies the key to ec2 instance on demand."
Amazon EC2	"Re: Amazon EBS encryption now available for root volumes?
I just tried to copy over an existing EBS volume, create an AMI from it and launch but get an error ""An encrypted boot volume is not permitted on launch.""

Having done a quick search, i came across this forum topic so assume it's a missed limitation on the announcement about supporting encrypted EBS volumes.

Please add me to the request list for that feature (even if it means needing a separate key server in order to service the request before the encrypted instance can start).

Would also be useful to understand the performance impact on Non Provisioned IO EBS volumes although i see in the announcement it is not expected to affect the SLA on PIOPS volumes it doesnt say anything about non PIOPS so it will have an effect because the packets are larger, right ?"
Amazon EC2	"Re: Amazon EBS encryption now available for root volumes?
Hello,

I've launched an Ubuntu 14.04 HVM instance, added a new encrypted volume with the exact same size of the existing root volume (8 GB) and copied all data via

dd if=/dev/xvda of=/dev/xvdf

from the non-encrypted root volume to the new encrypted volume. Then I shut down the system, detached both volumes, deleted the non-encrypted volume and re-attached the encrypted volume as /dev/sda1.

I could boot the system and create an AMI image from it.

The remaining problems are, that this process is a) undocumented and b) all new instances based on this AMI will share the same encryption key.

Regards

Oliver Siegmar"
Amazon EC2	"Re: Amazon EBS encryption now available for root volumes?
I was also able to create an AMI the way you did. However, when launching an instance from it, I get the error ""An encrypted boot volume is not permitted on launch"". In your case you did not see this error?

Edited by: rjosephwright on Aug 12, 2015 5:40 PM"
Amazon EC2	"Short temporary network interrupt on ec2 instance. Cannot ping EC2 instance
OK, edit 5 minutes later: Now it works. But I would still like to figure out what happened. Could this just be a random outage?

I was just updating some client view files on this EC2 instance, nothing to do with the webserver itself, and it went offline.  I cannot ping the server elastic IP or the URL. The server/website was working fine for months before this. I have restarted the web-server in multiple ways, using root privileges, still nothing. I have rebooted the instance. This is a free tier EC2 instance. I AM able to SSH into it.
 elastic IP: 54.68.155.9
Any ideas? Thanks, Meir Bank

Edited by: globlee on Aug 12, 2015 3:02 PM

Edited by: globlee on Aug 12, 2015 3:02 PM

Edited by: globlee on Aug 12, 2015 3:14 PM"
Amazon EC2	"Re: Short temporary network interrupt on ec2 instance. Cannot ping EC2 instance
It seems a lot a people (me included) are having this issue, but I still got no answer, tips, guidance or whatsoever of what to do. My instance id is ""i-43d3d1a0"" just in case a good soul is reading this."
Amazon EC2	"Secondary Private IPs on Amazon Linux
I'm trying to get a secondary private IP address on my fresh Amazon Linux instance. The documentation (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html) states,


After you assign a secondary private IP address to your instance, you need to configure the operating system on your instance to recognize the secondary private IP address.

If you are using Amazon Linux, the ec2-net-utils package can take care of this step for you. It configures additional network interfaces that you attach while the instance is running, refreshes secondary IP addresses during DHCP lease renewal, and updates the related routing rules.


But the ec2-net-utils package doesn't seem to bring up this secondary IP automatically. The docs for ec2-net-utils doesn't talk about secondary private IP addresses, and it's unclear where one configures it manually (I was able to find Ubuntu instructions).

I can manually bring up the interface with ifconfig eth1 add 10.10.10.128
, but it seems to disappear after a while. Running ec2ifscan
 doesn't pick it up.

Any advice would be greatly appreciated."
Amazon EC2	"Re: Secondary Private IPs on Amazon Linux
EIPs are added and removed from ENIs during DHCP lease renewal. If they're present at launch time, then the instance should come up with everything configured. Otherwise lease renewal happens every 20 minutes (approximately) and the changes should be visible at that point.

The logic for adding EIPs as secondary IP addresses is in the rewrite_aliases function in this file:
/etc/sysconfig/network-scripts/ec2net-functions


These commands should refresh the list and show all current EIPs for each ENI:
sudo service network restart
ip addr li


(Note that this is potentially disruptive.)

The legacy ifconfig tool will display the interfaces but does not show the secondary IP addresses since they are not labeled the way it expects."
Amazon EC2	"Windows instance unreachable after applying windows updates/reboot
So far I've never had to deal with a Windows instance not booting correctly until today.

Older instance used for development, had been rock solid until it got rebooted after applying some long waiting windows updates

i-1b77d537 - Win2k3R2 c3.xlarge in us-east-1b
Instance reachability check failed at August 12, 2015 at 3:01:00 PM UTC-4 (1 hours and 53 minutes ago)

I've attempted to restart the instance a few times but it doesn't look like it actually does anything.  The system log does not include any items logged today.  Cannot RDP into it.

Any advise on how to reach a windows server in this state?"
Amazon EC2	"My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Instance: i-ef274443

I've tried restarting the instance.
I've tried stopping and starting to run on new server.
After I restart the server and login via rdp. About 10 seconds after logging in it just hangs.

If I disconnect off RDP and try and get back in, I just get a black screen.

I can't do anything.

Any help appreciated.

Edited by: stratusnine on Aug 12, 2015 9:45 AM

Edited by: stratusnine on Aug 12, 2015 9:46 AM"
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Anything? Amazon dudes...you there please?"
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
I'm having the exact same behavior, and no one seems to be keen to help me as well."
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Same problem here with instance i-294992ef"
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
I managed to log back. It only took 15 minutes but it's at a crawl!!!

I literally cannot do anything.

Hope we both get looked at soon."
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
I have had to terminate my instance and go to another provider. What am working on is a bit urgent, you guys have amazing products but I could not wait...."
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Yes that's one thing I have to say. Support is lacking.

I cancelled paid support because I found that it wasn't much better and in the end I've had to find solutions for myself."
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Something is definitely going on as I created a new instance and now I'm getting the same results.

Instance i-0de4cba1

Is this only affecting Virginia us-east-1d?"
Amazon EC2	"Re: My instance i-ef274443 (Windows 2008r2) keeps freezing 10 sec after login
Pick one

i-0de4cba1
i-ef274443
i-bbb26810

All have the same issue. I cannot connect. Can someone from Amazon please confirm the issue.

Is there nothing I can do. I really need this instance up."
Amazon EC2	"EC2 Instance stuck on ""Terminate"" state, please help
Hello, EC2 support.

My instance i-3c706213 is stuck on stopping state.
It has been over 15min so I've tried ""Terminate"" twice, but nothing changed.
Can someone please kill it?"
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Hello,

Thank you for reporting the issue.

We are investigating increased API error rates in a single Availability Zone in the US-EAST-1 Region.

Please stay tuned for updates published on the AWS Service Health Dashboard: http://status.aws.amazon.com/

Regards,
Szymon"
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
I'm having the same issue. My instance id is i-786e06d4.

Its been in the terminate state since july 31, which was 7 days ago."
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Hi there, 

It looks like instance i-786e06d4 has been terminated. My apologies for any inconvenience this may have caused you.

Best Regards,
Jillian L."
Amazon EC2	"EC2 instance ""i-4cb5b6af"" stops responding requests
Hi, 

My instance ""i-4cb5b6af"" stops working after a few minutes (no more than five). If I reboot it, it works again for a few minutes and then stops. It's a very simple app, the monitor says its ok (low cpu, low network). What can I do?? I'm monitoring locally using ping, I can see that ping fails when the service becomes inaccessible. 

Thanks in advance,
-Jorge"
Amazon EC2	"Re: EC2 instance ""i-4cb5b6af"" stops responding requests
I redeployed everything, rechecked SGs and so on, my new instance id is ""i-43d3d1a0"" but the issue is still there: when I reboot the instance, it works for a few minutes and die. Is the t1.micro not able to handle a windows server for a .net app?"
Amazon EC2	"EC2 Instance stop responding frequently while everything looks fine
We've been having this issue for a while now, it sometimes manage to back live itself, but it happens very frequently (whenever there is activity on the website). The instance ID is i-6e63b9b5

Help please!"
Amazon EC2	"Re: EC2 Instance stop responding frequently while everything looks fine
Hello, 

Have you taken a look at CPU and/or memory utilization? I notice this is a t2.micro instance, our smallest current generation instance type. If a larger amount of users hitting your site is causing it to stop responding then you're likely hitting some type of cap. I'd recommend: 

1. Monitor CPU and memory utilization, as you may need to scale up the instance size to handle more connections. You can monitor CPU utilization with CloudWatch, and can enable CloudWatch to monitor memory with the following utility:
http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts-perl.html

2. Look into optimizing your web server, and verifying the maximum number of simultaneous connections. If using Apache, the following guide details how to optimize performance: 
http://httpd.apache.org/docs/2.2/misc/perf-tuning.html

Regards,
Nick"
Amazon EC2	"Re: EC2 Instance stop responding frequently while everything looks fine
Hey Nick,

Thank you for the response.

We checked the 'monitoring' on our console, CPU utilization has never surpassed 50%. I can't seem to find the memory utilization, maybe it is the problem? Also, what is the difference using the CloudWatch, do they have different results?

Thanks again!

Edited by: easy buy on Aug 11, 2015 3:55 PM"
Amazon EC2	"Re: EC2 Instance stop responding frequently while everything looks fine
Hello, 

By default you're not going to be able to see memory utilization in CloudWatch. The OS controls where and how memory is utilized, which is why an additional tool running on the OS is required to upload statistics to CloudWatch. You don't have to use CloudWatch to monitor memory, but it will help track memory utilization if you're not able to duplicate the issue immediately. 

You can read more on CloudWatch metrics here: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring_ec2.html

Regards,
Nick"
Amazon EC2	"Re: EC2 Instance stop responding frequently while everything looks fine
Hey Nick,

We did the memory utilization monitoring script on CloudWatch, and it would went up to 88% then the site breaks down, there is insufficient data after that point. Do you think we need to upgrade to the next tier at this point?

Thanks"
Amazon EC2	"Unable to Ping AWS EC-2 Free Tier Instance
Hello,

I have created a new Amazon AWS EC-2 instance in their free-tier account type. I have successfully configured the settings of the server and then generated an Elastic IP which i linked to my Public IP of my EC-2 instance. 

Now i logged in into my instance using SSH and then transferred all files on my website to the necessary folders. After saving all files when i open the Elastic IP directly in browser URL then it opens the home page of my website but clicking on any other link takes me to my old server. 

I then created a Amazon Route 53 hosting zone and generated nameserver and replaced by current domain nameservers with it. But now I am unable to ping my elastic IP address. I have checked in my console panel and the instance is running perfectly well. 

Where am I making the mistake ? Find below all details related to my EC-2 Instance :

Elastic IP : 54.149.241.59
Instance ID  : i-df68d61a

Let me know how to resolve it ? 

Also is Amazon Route 53 a free service under its Free Tier Account ?"
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Hello,
thank you for contacting us.

Reviewing i-df68d61a instance details, I found that:
 - instance metrics (CPU, Network traffic) are correct and I'm able to ping Elastic IP
root@ip-172-31-21-134 ~# ping 54.149.241.59
PING 54.149.241.59 (54.149.241.59) 56(84) bytes of data.
64 bytes from 54.149.241.59: icmp_seq=1 ttl=51 time=138 ms
64 bytes from 54.149.241.59: icmp_seq=2 ttl=51 time=138 ms
64 bytes from 54.149.241.59: icmp_seq=3 ttl=51 time=138 ms
^C





54.149.241.59 ping statistics ---





3 packets transmitted, 3 received, 0% packet loss, time 2320ms
rtt min/avg/max/mdev = 138.312/138.363/138.435/0.052 ms
 - even if 80/tcp port is open in sg-2a6bb04e security group, I'm not able to access urls through HTTP, I get a ""Connection refused"" message, that leads me to think that webserver (Apache, Nginx, etc) is down.
root@ip-172-31-21-134 ~# nc -vz 54.149.241.59 80
nc: connect to 54.149.241.59 port 80 (tcp) failed: Connection refused
Can you please start webserver with ""sudo service httpd start"" (or ""sudo service nginx start"" if using Nginx) and enable it to start at boot ""sudo chkconfig httpd on"" (or ""sudo chkconfig nginx on"") if using Nginx? This way we should be able to continue troubleshooting with your instance.

Regarding your last question, I'd like to inform you that unfortunately, Route 53 is not a service under free tier usage, as described here [1]

[1] https://aws.amazon.com/free/

I hope this information is useful, but if you have further questions, please get back to us.
Regards,
Alessandro"
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Thanks Alessandros for your reply !

I have restarted the HTTPD service and have configured it to start at boot. 

I can check that not I am able to ping back to the Elastic IP, but still the problem persists of domain linking. 

I have a domain named http://www.naukrinama.com which was earlier hosted on some other server. 

I transferred all its files to AWS EC-2 instance and as Amazon Route 53 is not available under free tier I have created an A record for (naukrinama.com and www.naukrinama.com) in domain panel. But even after 48 hours of adding the A-Records my domain is still pointing to the old server only and I am not able to access my Domain URL through the new server. 

Let me know how can I get this resolved."
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Hello,
thank you for getting back to us.

I reviewed naukrinama.com and www.naukrinama.com domain configuration and found it is registered at ""PDR LTD. D/B/A PUBLICDOMAINREGISTRY.COM"" Registrar and points to 5.100.156.10.
root@ip-172-31-21-134 ~# dig naukrinama.com +short
5.100.156.10
root@ip-172-31-21-134 ~# dig www.naukrinama.com +short
naukrinama.com.
5.100.156.10

As domain is not registered with AWS/Gandi and is using webhostbox.net DNS servers, I'd recommend you to keep in touch with them on how to change this record.

root@ip-172-31-21-134 ~# dig naukrinama.com +short NS
ns2.cp-tr-1.webhostbox.net.
ns1.cp-tr-1.webhostbox.net.

[1] http://whois.domaintools.com/naukrinama.com

Regards,
Alessandro"
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Hello Alessandros, 

What nameservers servers should I use for my amazon server to point my domain to the new Amazon EC-2 instance of mine. 

I have checked my account settings and I am unable to find the nameservers of my Amazon server which i'll be updating. 

Please help me out with it."
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Hello Alessandros,

Can you please tell me where can I find the nameservers for my Amazon EC-2 instance to link it to my given domain name. 

i have already created ""A Record"" for naukrinama.com and www.naukrinama.com on my domain panel using the Elastic IP of my EC-2 instance, but even after 48 hours it is still not pointing to EC-2 instance."
Amazon EC2	"Re: Unable to Ping AWS EC-2 Free Tier Instance
Hello, 

Thank you for the update. 

It looks like the domain is still resolving to a different address:

$ dig naukrinama.com +short
5.100.156.10

What service are you using to manage your DNS for naukrinama.com? According to the whois information, it looks like it is ""Public Domain Registry."" You will need to update the A records there to point to the EIP of the EC2 instance. 

Best Regards,
Jillian L."
Amazon EC2	"Cannot connect to port 27017 on ec2 instance.
I'm trying to connect from local to an EC2 instance that has mongo listening on 27017.

I can connect from local to the instance fine with the mongo shell locally, as the security group of the EC2 Instance is configured to allow connections from my IP address.

mongo #EC2-PUBLIC-IP-ADDRESS#
Ran locally, gets me into the shell correctly.

When trying to connect via mongoose with a local script:

var mongoose = require('mongoose');
mongoose.connect('mongodb://#EC2-PUBLIC-IP-ADDRESS#');
var db = mongoose.connection;
mongoose.connect('mongodb://#EC2-PUBLIC-IP-ADDRESS#', function(err) {
    if (err) throw err;
});
The script hangs and after 30-40 seconds I get

connection error: { MongoError: connect ETIMEDOUT name: 'MongoError', message: 'connect ETIMEDOUT' }
Why would this happen? As they're both outbound connections from local to the remote Ec2 instance, this connection request does not seem as though it would be different than the former mongo shell connection request, which seems to essentially be doing the exact same thing, and is working fine.

There isn't any more debugging information provided, so I'm not sure exactly what is stopping the request from succeeding.

How should I proceed?

Thanks for any help or advice."
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
My syntax was incorrect. Feel free to remove."
Amazon EC2	"Re: Cannot connect to port 27017 on ec2 instance.
Bad syntax."
Amazon EC2	"Can't access an instance, connection close or reset
Hi, I'm having an issue with the instance i-fae305f5, since this morning there is no access on any port
I check the group permissions and its everything ok, but i try to connect via the public ip, the domain or the generated dns and nothing seems to work. nor FTP, SSH, CURL or HTTP are working.
The status check it's ok also, and last night it was working perfect.

please any help will be deeply appreciated."
Amazon EC2	"Re: Can't access an instance, connection close or reset
Hello,

Thank you for the post.

I took a look at your instance: i-fae305f5 and found that everything at the infrastructure level is operating normally at this point. Also, I checked connection on ports 22 (SSH) and 80 (HTTP) and I was able to connect successfully from our end. Please see below the commands I performed to check this:

nc -v 52.X.X.X 22
Connection to 52.X.X.X 22 port tcp/ssh succeeded!

nc -v 52.X.X.X 80
Connection to 52.X.X.X 80 port tcp/http succeeded!

The above outputs mean that the instance is accepting connections on ports 22 (SSH) and 80 (HTTP).

In order to troubleshoot this issue further, could I kindly request to check if you are able to connect to any other instances from your network? 
Also, can you try to connect to this instance from any other machines or network and see if it works? 
Are you receiving any errors while trying to connect?

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Can't access an instance, connection close or reset
Hi thanks for the response, 
ok to answer your questions, 
Yes i can connect via ssh to other instances from my machine.
Yes apparently using ping or nc to the instance it says is responding, but
if I try to ssh to it after a long wait it says Connection closed by 52.xx.xx.xx
and if I try to access the instance via browser or ftp it reset or close the connection.
also try to connect from a different machine and also close the connection.

thanks for your help"
Amazon EC2	"Re: Can't access an instance, connection close or reset
Hi Nancy, 

Are you still having issues connecting with this instance? I see that instance was recently rebooted - within the past hour. 

If you are still unable to connect to the instance it is most likely an internal misconfiguration. From our end everything appears to be functioning; we are still able to reach port 22 and port 80 via the command line. 

The next step would be to take the root volume of the instance and attach it to another instance as a secondary volume and investigate why these services aren't running. 

Here is a link to our documentation on detaching an EBS volume:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html

Here is some additional information on how to attach a volume to an instance:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

I hope this is helpful. 

Best Regards,
Jillian L."
Amazon EC2	"unable to compile s3fs on Amaxon linux AMI due to dependencies.
I have been hitting my head on library dependencies when trying to install s3fs on the base Amazon linux AMI. It appears the conditions for installing s3fs requires libraries that are out of date and yum will not allow you to roll back versions.

Is there a definitive answer on how to mount a S3 bucket to a standard Amazon linux AMI? I have found many articles on how to do it but they all lead me to the same error in trying to compile s3fs.

This is a library I would expect to be standard on an Amazon linux AMI so users could utilize the benefits of mounting a S3 bucket as a shared drive, but it is proving to be very difficult to get set up.

Any help would be much appreciated.

Thanks, Arlen"
Amazon EC2	"Re: unable to compile s3fs on Amaxon linux AMI due to dependencies.
Arlen,

If this is standard amazon linux ami, installing all the dependencies listed on s3fs page will result in successful installation of s3fs. Mainly, you would need these:


yum install gcc
yum install libstdc++-devel
yum install gcc-c++
yum install fuse
yum install fuse-devel
yum install curl-devel
yum install libxml2-devel
yum install openssl-devel
yum install mailcap


After installing these, just run:


./configure --prefix=/usr
make
make install (as root)


If you encounter errors, please paste the same and I will try to help as much as I can.

-Noman A."
Amazon EC2	"Re: unable to compile s3fs on Amaxon linux AMI due to dependencies.
Hello,
I noticed there were no reply to the last post.
I'm facing a compilation issue trying to install s3fs on Ubuntu 12.04 AMI.
I passed the ./configure step setting the PKG_CONFIG_PATH env variable and I thought everything will run just fine, the problem is when I run the make command, it returns:
bitnami@domU-12-31-39-02-30-E0:~/rsb/s3fs-1.63$ make
Making all in src
make[1]: Entering directory `/home/bitnami/rsb/s3fs-1.63/src'
g++  -g -O2 -Wall -D_FILE_OFFSET_BITS=64  -L/opt/bitnami/memcached/lib -L/opt/bitnami/varnish/lib -L/opt/bitnami/varnish/lib/varnish -L/opt/bitnami/varnish/lib/varnish/vmods -L/opt/bitnami/redis/lib -L/opt/bitnami/perl/lib -L/opt/bitnami/perl/lib/5.8.8/x86_64-linux/CORE -L/opt/bitnami/git/lib -L/opt/bitnami/nginx/lib -L/opt/bitnami/sqlite/lib -L/opt/bitnami/apps/django/lib/python2.7/site-packages -L/opt/bitnami/mysql/lib -L/opt/bitnami/postgresql/lib -L/opt/bitnami/apache2/lib -L/opt/bitnami/python/lib -L/opt/bitnami/subversion/lib -L/opt/bitnami/common/lib -o s3fs s3fs.o curl.o cache.o string_util.o -pthread -L/usr/lib/x86_64-linux-gnu -lfuse -lrt -ldl -lcurl -lxml2 -lcrypto
/usr/bin/ld: warning: libiconv.so.2, needed by /opt/bitnami/common/lib/libxml2.so, not found (try using -rpath or -rpath-link)
s3fs.o: In function `std::ctype<char>::widen(char) const':
/usr/include/c++/4.6/bits/locale_facets.h:870: undefined reference to `std::ctype<char>::_M_widen_init() const'
/usr/include/c++/4.6/bits/locale_facets.h:870: undefined reference to `std::ctype<char>::_M_widen_init() const'
/usr/include/c++/4.6/bits/locale_facets.h:870: undefined reference to `std::ctype<char>::_M_widen_init() const'
/usr/include/c++/4.6/bits/locale_facets.h:870: undefined reference to `std::ctype<char>::_M_widen_init() const'
/usr/include/c++/4.6/bits/locale_facets.h:870: undefined reference to `std::ctype<char>::_M_widen_init() const'
s3fs.o:/usr/include/c++/4.6/bits/locale_facets.h:870: more undefined references to `std::ctype<char>::_M_widen_init() const' follow
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_peek@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_server_key@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_X509@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_rc2_40_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_CTX_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_iv_length@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DSA_verify@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_check_private_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DHparams_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_find@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_set_default@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_X509_NAME@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DecryptFinal@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_ASN1_write@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ECDH_compute_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_num_bits@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_retrieve@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_NAME_cmp@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_POINT_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_RSAPrivateKey_bio@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_puts@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_set_depth@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_sha512@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `HMAC_CTX_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_clear_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_s_file@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_set_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_POINT_point2oct@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_iterator@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_free_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `COMP_CTX_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_get_pubkey@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ENGINE_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_load_locations@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_generate_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_object_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_sign_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_ASN1_read@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RAND_add@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_pop_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestFinal_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DecryptInit_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_CTX_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_add_cipher@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_rc4_hmac_md5@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_decrypt@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_256_gcm@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ENGINE_get_ssl_client_cert_function@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_mem_ctrl@OPENSSL_1.0.0'
/opt/bitnami/common/lib/libxml2.so: undefined reference to `libiconv'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_camellia_256_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_s_connect@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_INTEGER_set@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_destroy@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_cipher@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_rc2_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_OCSP_RESPID@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_192_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_verify_cert@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_cleanup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_asn1_find_str@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_sha384@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_sha1@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `COMP_compress_block@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_GROUP_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_set1@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_set@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `asn1_add_error@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_bn2bin@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_VerifyFinal@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_get_retry_reason@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OpenSSLDie@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSAPrivateKey_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_get_ex_new_index@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_ASN1_INTEGER@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_clear_error@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `COMP_zlib@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_OCSP_RESPID@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_s_mem@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_copy_parameters@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ECDSA_sign@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DSA_sign@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_X509_EXTENSIONS@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_sort@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_test_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_GROUP_get_curve_name@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_set_private_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_PrivateKey@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_dss1@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OBJ_find_sigid_algs@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DH_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_up_ref@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_func_error_string@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Verify_B_mod_N@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_encrypt@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_key_length@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_inherit@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_sign@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_set_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_load_crypto_strings@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_read_bio_RSAPrivateKey@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_snprintf@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_GROUP_get_degree@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_copy_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_MEM_grow_clean@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `asn1_GetSequence@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_strndup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_EXTENSION_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_POINT_copy@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_MEM_grow@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_get_subject_name@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_128_gcm@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_set_group@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_printf@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_s_socket@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_sha224@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_set_verify_cb@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_check_purpose@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_read_bio_X509_AUX@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OPENSSL_cleanse@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_set_public_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_EncryptUpdate@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_client_key@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_pop@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_ASN1_INTEGER@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_add_digest@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_u@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_x@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_seed_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_MEM_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_set_cmp_func@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_set_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `HMAC_Final@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `COMP_expand_block@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_get_object@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_create_verifier_BN@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ENGINE_load_ssl_client_cert@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_cleanup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_iv_length@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_int_ctrl@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_certificate_type@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_Cipher@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestInit@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OBJ_obj2nid@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_PrivateKey_bio@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_CTX_ctrl@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_load_strings@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_new_null@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_strdup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_bin2bn@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_dup_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_EncryptInit_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_GROUP_new_by_curve_name@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OBJ_nid2sn@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_ASN1_OCTET_STRING@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_block_size@OPENSSL_1.0.0'
/opt/bitnami/common/lib/libxml2.so: undefined reference to `libiconv_close'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_verify_cert_error_string@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_camellia_128_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_X509@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_value@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_zero@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_get_default_gN@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_next@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_128_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OBJ_NAME_add@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_set_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_read_bio_X509@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_EncryptFinal@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pitem_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `asn1_const_Finish@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_doall_arg@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_put_error@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_lock@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DecryptUpdate@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_get_ex_new_index@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_num_items@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_const_check_infinite_end@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_add_lock@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `HMAC_Init_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_INTEGER_get@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_copy@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_verify@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_assign@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_read@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_enc_null@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_peek_error@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_md@OPENSSL_1.0.0'
/opt/bitnami/common/lib/libcurl.so: undefined reference to `SSLv2_client_method'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_find@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_256_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_push@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_push@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CipherInit_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_get_digestbyname@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_NAME_dup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_add_error_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_write@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_cleanup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ENGINE_finish@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_B@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_POINT_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Calc_A@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_asn1_get0_info@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ERR_peek_last_error@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_encrypt_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_missing_parameters@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_create@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_MEM_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_CTX_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_malloc@OPENSSL_1.0.0'
/opt/bitnami/common/lib/libxml2.so: undefined reference to `libiconv_open'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_ASN1_write_bio@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DH_compute_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_find_type@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_METHOD_get_field_type@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_get_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_decrypt_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_set_trust@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_sha256@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_up_ref@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_callback_ctrl@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_des_ede3_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_SignFinal@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_delete@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_NAME_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_rc4@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_dump_indent@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OCSP_RESPID_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_verify_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_pop@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_ctrl@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_ctrl@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `CRYPTO_new_ex_data@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `HMAC_Update@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_f_buffer@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_CTX_copy@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RAND_pseudo_bytes@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestInit_ex@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_get0_private_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DH_generate_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_get0_group@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_des_cbc@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OPENSSL_DIR_end@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_method_type@OPENSSL_1.0.0'
/opt/bitnami/common/lib/libxml2.so: undefined reference to `gzopen64@ZLIB_1.2.3.3'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `lh_insert@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_RSAPrivateKey@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pqueue_insert@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_get0_param@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_public_encrypt@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DH_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_CTX_init@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_check_known_gN_param@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_X509_EXTENSIONS@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_X509_bio@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OBJ_bsearch_@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BN_clear_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_ASN1_read_bio@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_bits@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `i2d_X509_NAME@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_get_cipherbyname@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestSignFinal@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_STORE_set_default_paths@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_verify@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_ecdsa@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ASN1_put_object@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `HMAC_CTX_cleanup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_derive_set_peer@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `OPENSSL_DIR_read@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `pitem_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_private_decrypt@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `DH_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_Digest@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `COMP_CTX_new@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RSA_size@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_KEY_get0_public_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EC_POINT_oct2point@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `RAND_bytes@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_copy_next_retry@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_md5@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_CIPHER_CTX_flags@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `PEM_read_bio_PrivateKey@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestUpdate@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_sign@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_MD_type@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `ECDSA_verify@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_get_depth@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_DigestSignInit@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BIO_free_all@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `SRP_Verify_A_mod_N@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_CTX_free@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_PKEY_new_mac_key@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_256_cbc_hmac_sha1@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `d2i_ASN1_OCTET_STRING@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_shift@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `BUF_memdup@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `sk_num@OPENSSL_1.0.0'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `EVP_aes_128_cbc_hmac_sha1@OPENSSL_1.0.1'
/lib/x86_64-linux-gnu/libssl.so.1.0.0: undefined reference to `X509_VERIFY_PARAM_set_purpose@OPENSSL_1.0.0'
collect2: ld returned 1 exit status
make[1]: *** [s3fs] Error 1
make[1]: Leaving directory `/home/bitnami/rsb/s3fs-1.63/src'
make: *** [all-recursive] Error 1
bitnami@domU-12-31-39-02-30-E0:~/rsb/s3fs-1.63$
Â 


Any help would be appreciated!

Edited by: borrigan on Mar 15, 2013 4:21 PM"
Amazon EC2	"Re: unable to compile s3fs on Amaxon linux AMI due to dependencies.
@borrigan, were you trying to do this on a bitnami ubuntu instance?
I am facing similar issues on a bitnami magento ubuntu instance. Have made some progress but not completely."
Amazon EC2	"EC2 Instance stuck on ""Terminate"" state, please help
I have an instance thats has been stuck in terminating since 12 days ago.

the id is EC2 instance ID i-786e06d4

Please help."
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Hello,

Upon reviewing your EC2 instance i-786e06d4, I see the EC2 instance is in a 'running' state, however it is failing instance-reachability checks. If you no longer need this EC2 instance, can you attempt to try a 'terminate' action again. If you do encounter any further issues, please do let us know.

Regards,
Mohsin"
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
I've attached some screenshots of this instance. I cannot click terminate because it is already in that state in the opsworks console, and the button is greyed out from the ec2 console, and has been since july 31. Also, I cannot ssh into this box. Is there any other way I can get rid of this instance."
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Also, will i be billed for this instance? Its says running on the ec2 console, but it hasnt been since july 31. Its been showing as terminating in the opsworks console the whole time."
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
I changed the termination protection policy. And was able to terminate it on the ec2 console. I still see it on my opsworks console though in the terminating state."
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Hi,

I have engaged the team with the issue you are seeing. I will provide you an update once more information becomes available.

Regards,
Mohsin"
Amazon EC2	"Re: EC2 Instance stuck on ""Terminate"" state, please help
Hi,

We've marked this instance as Stopped in the OpsWorks console. You should now be able to delete it.

Please let us know if we can assist you further.

Thanks,
Paul."
Amazon EC2	"Cannot ssh into new ec2
Hello, whenever I try to launch a new ec2 instance I can not ssh into it. I've tried with an existing VPC and security groups and creating new ones. My IP is being accepted by other ec2 instances in the same region in the same security group however when I ssh I get;

Permission denied (publickey).

I've tried with existing keys currently used on my other ec2 instances and creating new keys. I can however create an image of an existing instance and ssh in fine with either an existing or new key. 

Are there any other security settings I may have inadvertently changed that could be preventing new instances from being accessible?

Thank you

Edited by: redundantdummy on Aug 12, 2015 5:55 AM"
Amazon EC2	"EC2 instance unscheduled restart and loss of all ephemeral disks and data
Hi EC2 Support,

My EC2 instance i-ea7bffb4 has suffered an unexpected reboot. This is evident from the `uptime` command that shows system up-time as 31 minutes. No one from our team has gone for the reboot.

System log from EC2 console has no information about reboot. Could you explain why this happened?

Also, all our ephemeral disks and their data is gone. This data is critical as we have many folders with data that we cache to speed up site. Rebuilding all this data will take loads of time.

Is there a way we can mount back to the older ephemeral disks or get the data from them back?

An urgent response will be highly appreciated.

Thanks & Regards!

EDIT:: We are experiencing a lot of SSH connection drops on this instance right now - not sure if it is related.

Edited by: sandypec on Aug 12, 2015 4:53 AM

Edited by: sandypec on Aug 12, 2015 5:08 AM"
Amazon EC2	"Amazon data pricing and volume capability
Need help establishing some sort of data pricing from Amazon ec2 . I am going to be streaming video in huge quantities and Amazon has no contact phone number to determine what kind of pricing structure they can offer for massive video streaming services and storage . How do I ""guess"" how much my users will stream and then scale it up from there ? look at you tube . I know they run on google servers now . But what if my app gets that magnitude within one year ? Is Amazon even able to support this kind of volume ? Any help would be appreciated. Thank you"
Amazon EC2	"Re: Amazon data pricing and volume capability
Hi,

A good place to start looking at your estimated prices would be to use the simply monthly calculator found here:

http://calculator.s3.amazonaws.com/index.html

You can put in what you initially want infrastructure wise (Compute/Storage) and estimates on data transfer and it will give you a cost estiamte.

AWS will be able to handle your requirements providings its been architectured correctly.  As a note on that, Netflix entire business is built on AWS so I dont think you will have an issue with streaming!  

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Can only connect to certain instance types
I have a custom AMI that contains Rstudio server.  I have been able to successfully use the AMI with a m3.medium instance type.  When I do so I can either connect through the browser on port 80 or through ssh with port 22 with no problems.  However, when I use the same AMI with a c4.large instance, I am unable to connect, either through the web server or the ssh server (times out).  The instance gets created with no problems, however I just can't connect.

Thanks in advance"
Amazon EC2	"Re: Can only connect to certain instance types
Are you using the same Security Group?"
Amazon EC2	"Re: Can only connect to certain instance types
yes, always the same.  SSH and HTTP"
Amazon EC2	"Re: Can only connect to certain instance types
Hi,

Thank you for using  AWS forums. 

Can you create another instance that exhibits this issue and post the instance ID so I can have a look at it.

Thanks,
PhillipR"
Amazon EC2	"Re: Can only connect to certain instance types
Sure,

It is instance

i-1fa317df

In case you are interested, I also have an instance

i-f988953b

which is running properly.  Both generated from the same AMI.

Thanks for helping!"
Amazon EC2	"Re: Can only connect to certain instance types
Hi, 

Thanks for that information, I can see the c4 instance is not responding to arp which usually means the network stack on the instance is down. The back end is all fine so I suspect something may be going wrong during the boot process or just after. I can see an IP and the correct route is assigned during boot but why it does not respond is still elusive.

The instance looks like its configured correctly so we will have to dig a little deeper to narrow it down. 

Can you try these 2 steps:

1)  Stop the instance and attach the root volume to another working instance then have a look at the log files for any errors.
2) Create another instance using a different instance type, try a c3 and see if the issue repeats. 

This will give us  a clue if you see any errors in the logs and prove that the issue is specifically related to the c4 instance type. Let me know if you need further information on performing those steps.

PhillipR"
Amazon EC2	"Re: Can only connect to certain instance types
I'm sorry but I don't think I know how to follow step 1:  Firstly, the 'stop' option is greyed out, and only 'reboot' and 'terminate' are available.  Secondly, I'm not sure how to 'attach the root volume to another working instance'.  And after I do that I won't know where to look to find any log files.  If you don't mind could you break this down into more noob-friendly steps.

I did create the c3 instance and it is working.  I made the observation that the two working instances have a public DNS server such as 
ec2-xxxxxxxx.us-west-1.compute.amazonaws.com

whereas the c4 instance does not, the field is blank.

Edited by: PhillipR@AWS on Aug 12, 2015 4:04 PM -> removed public IP Addresses for security reasons."
Amazon EC2	"Re: Can only connect to certain instance types
Hi, 

Apologies I did not realize that these were spot instances, that is the reason you cannot stop it.  The procedure is mostly the same but new information has come up and you may not need to do that. 

Looking at your instance again something seems to have changed and the status checks say arp is working. 
Following this I found that you are missing a route in one of your main routing tables. 
Basically your instance does not know how to get to the outside world. The route table will take any traffic that is not local and send it to the internet gateway for that VPC:  igw-9310d4f6 but it needs to be told how to do that.
You need to add a route to the internet, add a route that looks like this to the routing table rtb-14c16171
0.0.0.0/0   igw-9310d4f6
Here is the document that explains how to add a route:
Link : http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#AddRemoveRoutes

For more details on VPC routes have a look here : 
Link: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html

If you are still having issues then proceed with the steps below:

I have provided both the GUI instructions and command line commands. 
If you have not used the AWS CLI before you can find all the setup and usage details in the link below.
Link: http://aws.amazon.com/cli/

1) Take a snapshot of the volume.
Follow the instructions in the link below or you can use the aws cli command provided.
Link:http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html
Link:  http://docs.aws.amazon.com/cli/latest/reference/ec2/create-snapshot.html
aws ec2 create-snapshot --region us-west-1 --volume-id vol-f40d6111 --description ""Back up snapshot of vol-f40d6111  from  i-1fa317df""
 
This will output the new snapshots details to your screen.
2) Create a new volume from the snapshot. 
Follow the instructions in the link below or you can use the aws cli command provided. 
Link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-restoring-volume.html
Link: http://docs.aws.amazon.com/cli/latest/reference/ec2/create-volume.html
aws ec2 create-volume --region us-west-1 --availability-zone us-west-1c --snapshot-id <insert snapshot ID here> --volume-type gp2 

This will output the new volumes details to your screen.
3) Deploy a t2.micro Amazon linux  instance 
Follow the instructions in the link below or you can use the aws cli command provided. 
Link: http://docs.aws.amazon.com/codedeploy/latest/userguide/how-to-set-up-new-instance.html#how-to-set-up-new-instance-console
Please add the name of your key pair to the command, I have left it as xxxx for security reasons.
Link: http://docs.aws.amazon.com/cli/latest/userguide/cli-ec2-launch.html#launching-instances
aws ec2 run-instances --region us-west-1 --image-id ami-e7527ed7 --count 1 --instance-type t2.mirco --key-name xxxx --security-group-ids sg-c42342a1 --subnet-id subnet-f363dd96 
This command will output the instance details to your screen. 

4) Attach the volume to the new instance once the instance is fully deployed.
Follow the instructions in the link below or you can use the aws cli command provided. 
Link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

Replace everything between quotes  including the quotes with the instance ID of the new t2.micro instance and the xxxxxx with the ID of the new volume.
Link: http://docs.aws.amazon.com/cli/latest/reference/ec2/attach-volume.html
aws ec2 attach-volume --region us-west-1 --volume-id xxxxxx --instance-id ""insert instance id of the new instance here"" --device /dev/sdb


Now ssh to the new instance and mount the attached volume to find the data.
Please add the name of your key pair to the command, I have left it as xxxx for security reasons.
ssh -i xxxxx.pem ec2-user@""Insert the IP of the new t2.micro instance here""
# Check if we can see the attached disk 
sudo lsblk 
ls /dev/sd*
# We should see a disk on /dev/sdb and a partition /dev/sdb1
# Lets mount the partition so we can access the files.
sudo mount /dev/sdb1 /mnt
# From here we need to retrieve the following logs.
/var/log/syslog
/var/log/kernel.log


You can use windscp or another FTP client to connect to the instance and retrieve the files once the disk is mounted.
Please send me the content of the files in a private message as they may contain sensitive information. 

Let me if you had to follow the steps or if adding the route fixed the issue.

PhillipR"
Amazon EC2	"Can't ping, access, remote desktop or anything on EC2 instance
I'm having trouble after reactivating my account: I can't get my webserver working anymore. I tried allowing all kind of tcp/http/icmp in the security groups, but it didn't work. I'm deploying using the VisualStudio plugin (.net app). I tried creating a new VPC, but it didn't work either. Last night it worked fine, but after a health check failure it stopped working and it's being born dead since then, no matter if I terminate the environment, redeploy, etc.

My public dns now is ec2-54-207-67-238.sa-east-1.compute.amazonaws.com
The EC2 instance id is i-857a7c66.

I got this error every time, I believe its due to this inaccessibility of the EC2:

""The EC2 instances failed to communicate with AWS Elastic Beanstalk, either because of configuration problems with the VPC or a failed EC2 instance. Check your VPC configuration and try launching the environment again.""

Thanks in advance,
-Jorge"
Amazon EC2	"Re: Can't ping, access, remote desktop or anything on EC2 instance
Error in vpc-subnets-security groups setup"
Amazon EC2	"Instance stuck at stopping
Hi engineers,

I ""force stop"" the my instance id: i-92215575 in region 'eu-west-1' but it is not responding. It keep stucking at ""stopping"". 

Please help to stop it. I need to detach its EBS volume to retrieve my precious data. Thanks a ton."
Amazon EC2	"Re: Instance stuck at stopping
One of AWS engineer has fixed it for me. I closed"
Amazon EC2	"Cannot Compete Identity Verification in Signup
During the sign up process, on the identity verification page, I choose United Kingdom (+44) and then enter my number, either 0XXXXXXXXXX or without the leading zero (mobile number). Neither attempt resulted in a call. How should I be entering the number? I left the extension box blank."
Amazon EC2	"Re: Cannot Compete Identity Verification in Signup
Hi  mopkopf,

I see that my colleague replied to your Support case ID 1461634911.

For any further questions or concerns please reply to the above case ID directly.

Thank you
C.Manuel"
Amazon EC2	"Disk Space Increase on LINUX
Good Morning,

I need to increase the size of the space my server disk . Performed a snapshot to increase however can
not load the root space as shown below ...
I noticed when I added space appears in / dev / xvda put the root is / dev / xvda1

I have attached an image with lbslk commands, df -h fdisk -l
Must be the root with 40GB for the system that is running is failing to be updated by the out of space."
Amazon EC2	"Re: Disk Space Increase on LINUX
Hello,

It looks you will need to grow the partition to include the increased size of the volume.  We have some guidance located in our documentation that you may wish to look into:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html

Best regards,
Justin G."
Amazon EC2	"Re: Disk Space Increase on LINUX
so what I've done so far is wrong ?"
Amazon EC2	"Re: Disk Space Increase on LINUX
I looked at the link You sent Me has however not MOUNTPOINT in My Partition How should I proceed ?"
Amazon EC2	"Gateway Timeout on Request to Server
Today, one of my EC2 instances ceased communication. It is a windows instance with id 'i-b463ff9f' and has been rebooted to try to resolve the error. Rebooting the instance did nothing to resolve the gateway_timeout. The server was then stopped for a few minutes and then started. Upon this action, connection was made to the instance which proceeded to encounter a Tableau Internal Error. However, subsequent requests to this page returns the AWS Gateway_Timeout again.

What can be causing this error? Nothing has changed on my end between yesterday and today.

How do I go about resolving this error?

Thank you"
Amazon EC2	"Re: Gateway Timeout on Request to Server
Hi there RW_Atlas,

I have checked this instance and I can see that it is healthy, has been up for over 20 days and is responding on http and rdp. If you are still having issues with this instance please provide more details on the issues that you are experiencing."
Amazon EC2	"when will amazon linux include a ""supported"" redis
The version of redis server in Amazon Linux 2015.03 is 2.4.10.  The stable version of Redis (http://redis.io/download) is 3.0, the old is 2.8 and the older is 2.6.  Are there any plans on supporting a somewhat modern redis package?

--dan"
Amazon EC2	"Re: when will amazon linux include a ""supported"" redis
Hi Dan,

We'll take a look at including a newer version of Redis in a future updates push and post again here when that happens.

Thanks for the feature request, and thanks for using the Amazon Linux AMI!
Ethan"
Amazon EC2	"Unable to run script on Amazon Linux instance start up
I want to pass a script to run on an Amazon Linux image when I spin it up using the Java API.  I did the same thing for a Windows instance successfully, but cannot get the Linux image to cooperate.  I see no evidence that the Linux instance tried to execute the script using the /var/log/cloud-init.log for investigating.

// WINDOWS (this works)
//String userData = ""<script>cd C:\\Program Files\\Amazon\\Ec2ConfigService\\Scripts & java -jar oneoff-1.0-SNAPSHOT-jar-with-dependencies.jar</script>"";
// LINUX (this doesn't execute)
 String userData = ""#! /bin/bash\\n curl http://www.google.com > google.html\\n"";
 runInstancesRequest.setUserData( new String ( Base64.getEncoder().encode( userData.getBytes() ) ) );


Does anyone see anything wrong/missing?  Can anyone confirm that Amazon Linux supports use of userdata/cloud init?"
Amazon EC2	"Re: Unable to run script on Amazon Linux instance start up
Hi,

I can confirm that the Amazon Linux AMI supports the use of user data.

You probably want user data like this:
#cloud-config
runcmd:
 - curl http://www.google.com > google.html


See this page for more examples of using cloud-init:
http://cloudinit.readthedocs.org/en/latest/topics/examples.html

Have a look here for more information on cloud-init in the Amazon Linux AMI:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonLinuxAMIBasics.html

Hope this helps,
Ethan"
Amazon EC2	"Unable to release Elastic IP
I've been trying to release an elastic IP, but I'm getting this error:

The address with allocation id eipalloc-45a0a927 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: fc1f48f1-2436-4df8-8f3e-a9da089fda90)

I've raised a support instance to query if I will continue to be billed for this, as I can't release it - but haven't had a response yet, and I'm at a lose on how to progress getting this resolved. Any help?!"
Amazon EC2	"Re: Unable to release Elastic IP
Hello, 

I show one EIP on your account. This EIP has a rDNS entry associated. We'll need to release this rDNS entry before you will be able to release the EIP. Please confirm if you want us to delete this rDNS entry. 

Regards,
Nick"
Amazon EC2	"feature request - comments for security group rules
Hello,

I'm not sure whether this is the right place to talk about feature requests, but I'll try 

It would be extremely useful if we could add comments to our security group rules. I have no idea of how SGs work on your backend, but it sounds like a very simple feature to implement and I really believe it would help users to avoid incidents.

I'm sure that a lot of users implement and maintain complex and big security groups (specially on VPC, where you can also control outbound traffic) and sometimes you simply forget why a rule is there. You have no clue whether it should be present or not. 

What makes it worse is that sometimes you even end up deleting a rule because you believe it's useless and no longer required, but in the end you figure it was not, meaning you caused a service disruption which has happened to me a couple times after 3 years of AWS/EC2, I confess =]

Also, it's much easier to read a comment than reading something like

Custom TCP Rule
TCP
12000 - 12100
0.0.0.0/0

Imagine that you were just hired and you started to get to know your employer's cloud. You look at this rule an thinks ""What the heck does it mean?"". Nothing... really. However, if it had a comment like ""Passive FTP port range""... Wow! your life just changed. Same example is pertinent when you have multiple sysadmins working on the same AWS account.

So... it would be great to have such a feature, wouldn't it?"
Amazon EC2	"Re: feature request - comments for security group rules
Hi there, 

I wanted to let you know Security Group Rule Tagging is a feature request we have seen often and our team is aware of it. Unfortunately, I cannot comment on it at this time. Please monitor the forums and What's New From AWS for this feature: http://aws.amazon.com/new/

Best Regards,
Jillian L."
Amazon EC2	"Re: feature request - comments for security group rules
+1 I am wishing I had this feature every day."
Amazon EC2	"All instances in account become unresponsive after boot
Each time I launch an EC2 instance it will become unresponsive to SSH after a couple of minutes.

I know the security groups are correct as I'm initially able to gain access.

I've tried various instance sizes and availability zones within eu-west-1. Each time I've event got as far as changing any system details and I get ""Write failed: Broken pipe"" from my SSH connection and I'm then unable to get back in. Restarting or Stop/Starting the instance has no effect.

I've tried associating different elastic IPs or just using the public DNS name and both have the same issue.

Any ideas? Is there something wrong with my account as I can't be landing on the same hardware each time.

If anyone from AWS can take a look I've left one instance running - i-b776481a

Thanks"
Amazon EC2	"Re: All instances in account become unresponsive after boot
Hello, 

What 'system details' are you modifying? It sounds like you may be breaking connectivity to the instance with the changes you're making. Keep in mind the SSH daemon requires specific permissions to work properly:
http://unix.stackexchange.com/questions/37164/ssh-and-home-directory-permissions

If you're continuing to have errors though, can you give us the specific error you're receiving when attempting to connect? 

Regards,
Nick"
Amazon EC2	"HELP - Server flooded with connections
Hello,

Our server is flooded with TCP connections.  The CPU monitor in amazon monitoring is constantly at 100%.
Can someone please help fix this problem?

Thanks"
Amazon EC2	"Re: HELP - Server flooded with connections
Hello, 

First you'd want to figure out if these connections are malicious or not. Based, off of your description, you really have a few options: 

1. If you suspect these connections are malicious, you can block these requests. You can do this with Windows Firewall or IPTables at the OS level, or you can use Security Groups or Network ACLs to filter this traffic before it reaches your instance. You can read more on SG and ACLs here:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Security.html

2. If you want to support these connections, you'll need to scale up to handle this traffic. You can look into increasing your instance size to handle these connections, or you can even utilize Auto Scaling to help handle this. You can read more on Auto Scaling here: 
http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/WhatIsAutoScaling.html

3. You could also look into optimizing your software/OS to better handle these connections. This step will vary on what application is monitoring this port and it's configuration options.  

Regards,
Nick"
Amazon EC2	"Sometimes the service become no response with ""Connection reset by peer ""
Hi, this is my instance ID. i-80301e4c

I am using EC2 + S3+ RDS + Cloud Front + Route53.

The service on EC2 works well at beginning for few days, and it start to have slow speed or no response. and when I try to SSH to restart PHP server I usually get ""Connection reset by peer "".  I've check the couldWatch and the CPU at the time is around 30% Max.  

Usually I have to reboot the Ec2 instance so it will back to normal (but the situation happens again quite often).  Could anyone shed me some light how I can solve it?

Thanks
Mark"
Amazon EC2	"Re: Sometimes the service become no response with ""Connection reset by peer ""
Hello, 

It looks like you've terminated your instance. However based on your description it sounds like you may be maxing out memory utilization. This is especially apparent given that you're using a t2.micro and only have 1 GiB of memory. You'd want to look into monitoring memory utilization manually, or you can look into setting up CloudWatch to monitor memory utilization with the following: 
http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts-perl.html

Assuming you're using Apache, you can also look into optimizing memory utilization as well:
http://httpd.apache.org/docs/2.2/misc/perf-tuning.html

Regards,
Nick"
Amazon EC2	"Deleting volumes
Hi -

I am trying to delete a volume from a new instance and replace it with an old volume.  I keep getting a ""unable to detach"" error when I detach.  Force detach will not work either.  When I try to attach the volume to the new instance I am unable to because the device is in use.

How do I go about resolving this issue?

Thanks,
Mike Parker"
Amazon EC2	"Re: Deleting volumes
Hi Mike,

Can you provide me the instance-ID and volume-ID in question so we can investigate further?

Regards,
Mohsin"
Amazon EC2	"Re: Deleting volumes
Thank you I need this volume detached: vol-250413d0.  Will this allow me to attach another volume to this instance.

Mike Parker"
Amazon EC2	"Re: Deleting volumes
Hi Mike,

I understand you want to detach vol-250413d0. Upon reviewing this EBS volume, I am able to see it is the root EBS volume of EC2 instance i-037ac1c6. You are unable to detach a root EBS volume when an EC2 instance is in a running state. In order to detach this EBS volume, you will need to stop the EC2 instance i-037ac1c6 and then detach the EBS volume from the EC2 instance. Please note, when you 'stop' an EC2 instance in VPC, the instance retains its private IP addresses when stopped and restarted. We release the public IP address and assign a new one when you restart it. However, it is important to note, any data stored in instance-store volumes are lost when an EC2 instance stops. In this case, I do not see any instance-store volumes attached in your EC2 instance i-037ac1c6.

I hope this information is helpful. Let me know if you have any questions.

Regards,
Mohsin"
Amazon EC2	"Re: Deleting volumes
I think i get it.  I am stoping my instance now.  Then I will detach the old volume and add attach the volume that I want.  Then I will start my instance up again.  Is this the right order?

Thanks again,
Mike Parker"
Amazon EC2	"Re: Deleting volumes
Hi Mike,

You are correct. I see that you have performed the steps, and I am able to see your EC2 instance is back up and passing all health checks.

Regards,
Mohsin"
Amazon EC2	"Re: Deleting volumes
Thank you very much.  It is working.

Mike Parker"
Amazon EC2	"Missing ltdl.h
Hi,
When I run the ./configure before compiling Courier-Authentication library I get the error
configure: error: Unable to find ltdl.h. Please install Libtool's ltdl library

Tried:

find / -name ltdl.h -print doesn't find it on the system
yum install libtool-ltdl reports the package is already installed. Also tried reinstall
yum whatprovides ltdl.h report no matches found.


default kernel for Amazon Linux on a EC2 machine (3.14.34-27.48.amzn1.x86_64)

Any suggestions?

Appreciate your help.

Edited by: trev124816 on Mar 10, 2015 12:33 AM"
Amazon EC2	"Re: Missing ltdl.h
try to install: sudo yum install libtool-ltdl-devel"
Amazon EC2	"CCAVENUE - Integration problem
Hi Guys,

We recently migrated our E-Commerce site to AWS. Previously CCAVENUE payment gateway was working fine. But after migration, CCAVENUE integration is not working. The page which redirects to CCAVENUE is not redirecting to CCAVENUE page.

Please help on this.

Webpage - www.shadowear.com

Regards,
shadowear"
Amazon EC2	"EC2 and dashboard issues
Anyone else seeing sporadic issue with the AWS dashboard and other various intermittent issues this morning?  We are getting strange  errors terminating servers, looking at ELBs, elasticache increased response times, etc."
Amazon EC2	"Re: EC2 and dashboard issues
You're not alone. I'm experiencing the same issues. Many timeout and errors. Drop down lists not populating, long delays getting a list of ""my AMIs"", etc.

It's almost impossible to spin up a new EC2 instance with the errors that can occur at each step of the process.

This needs some attention, as it's apparently not just my local network."
Amazon EC2	"Re: EC2 and dashboard issues
I join to the issue group.

Today has been impossible to do anything. Sometimes are OK another fails."
Amazon EC2	"Re: EC2 and dashboard issues
Same here. Terraform is also failing to work due to API issues. AWS status page shows all green, wonder if they'll change it."
Amazon EC2	"Unable to connect to new instance i-294992ef via RDP
I have been at this for some time. Deleting (even my VPC) and trying reinstallations but I still cannot connect to i-294992ef via RDP."
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
My OS is win 2k12

Edited by: steventendo on Aug 11, 2015 8:14 AM"
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
Was able to connect afterposting this. I guess thx to AMZN"
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
I havw used AWS before and it used to be straight forward. But now it appears the server I had not been able to connect to, but have some how managed after posting this, has no internet.

Yeah I cannot go online on my instance...!"
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
I two subnets and I've created a network ACL for each that allows all traffic but still no internet. This is an on demand instance and I am paying by the hour but I am unable to use it. 

Any help will be appreciated.

Edited by: steventendo on Aug 11, 2015 9:30 AM"
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
Hi,

Upon reviewing your EC2 instance i-294992ef, the outbound rules for your Security Group is locked down to TCP port 3389. Kindly make changes to allow all traffic for outbound. I hope this is helpful.

Regards,
Mohsin"
Amazon EC2	"Re: Unable to connect to new instance i-294992ef via RDP
It worked, thanks."
Amazon EC2	"Create AMI from EC2 with SSL certificate
Hello, this is a noob question:

Could I to create an AMI from an EC2 instance which has a SSL certificate and after deploy a new instance preserving the same SSL certificate?

Regards."
Amazon EC2	"Cannot access EC2 instance using browser and ssh after creating a image
Hi,

I planned to copy a running EC2 instance to another account by creating a shared AMI image and asking the other user to create EC2 instance based on this AMI image. But After I created a AMI image and he created a new instance based on this image, my previous EC2 instance cannot be accessed by browser and SSH anymore. 

My AWS account is 8960-5708-5805, and the my original EC2 instance ID is i-07dbca0c in region us-west-2a. The public IP is 54.69.76.71. 

In the console, this instance is running fine and my security group allows SSH, HTTP, HTTPS access. I have a Apache server installed in this instance. It was working fine for browser and SSH access before. But I cannot access the instance in either way right now. Could someone help me to check the reason?

Thanks!
Pengfei"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
can the other user's instance launched from that AMI be accessed? what OS?"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
Thanks for the reply. The other user's instance cannot be launched as well. I use ubuntu system and a python framework for my web application. The other user's account is 137161767458. He only have one EC2 instance in us-west-2a, although I don't have the instance ID now.

Edited by: Pengfei Yu on Aug 9, 2015 6:12 AM"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
Can anyone help me on the question in the main post?"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
When you imaged the system it might have rebooted. When a system with automatically added Public IP is rebooted it loses the IP. 

Check the instance in the console, verify the IP.

There are 2 ways around this being an issue: 

1. Use an ELB in front of the Instance (the DNS Name of the ELB never changes)
2. Use an EIP in place of the Automatic Public IP"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
thetechieuk wrote:
When you imaged the system it might have rebooted. When a system with automatically added Public IP is rebooted it loses the IP. 

Check the instance in the console, verify the IP.

There are 2 ways around this being an issue: 

1. Use an ELB in front of the Instance (the DNS Name of the ELB never changes)
2. Use an EIP in place of the Automatic Public IP

Thanks for the suggestions. I understand that the public IP will be changed each time I create a AMI image. I used the new IP from the console to access the instance through SSH and HTTP, but it cannot work. the system log says:
The disk drive for /data is not ready yet or not present.
keys:Continue to wait, or Press S to skip mounting or M for manual recovery"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
That reads like you've lost a drive somewhere? 

Did you initially create the /data folder on an Ephemeral Drive perhaps?"
Amazon EC2	"Re: Cannot access EC2 instance using browser and ssh after creating a image
Thanks! I found the problem. I used to have another volume on /dev/xvdf1 which was mounted to /data/. The setting is still in /etc/fstab, but the volume was deleted before. So any time I reboot the system, it will stuck there. Now I remove that line in /etc/fstab and there is no problem upon reboot."
Amazon EC2	"Cannot stop instance
I have an instance that stopped serving requests this morning. It had issues yesterday that a reboot seemed to fix.

This morning I tried rebooting, however the instance would not reboot. Next I tried to stop the instance. It now says 'stopping' however it hasn't finished and it's been at least 10 minutes.

The instance id is i-0224a771

Thank you for your help!"
Amazon EC2	"Re: Cannot stop instance
I also tried forcefully stopping with no luck."
Amazon EC2	"Re: Cannot stop instance
Hello,

I sincerely apologize for your EC2 instance i-0224a771 becoming stuck in a stopping state. I am able to confirm that your EC2 instance has successfully stopped. You may start your EC2 instance back up again so it can migrate to a new healthy underlying-host. 

Regards,
Mohsin"
Amazon EC2	"Why can't access website via public ip after reboot instance???
I can not access my app after i reboot instance. Although i still can connect to server via SSH and ftp. 
my site lalala.vn
Please help!!"
Amazon EC2	"SSL in server amazon
Hello buddies!
I have a biggest problem for me: SSL
I'm trying install a certificate in my system, and my system have 3 containers that are manage with vagrant.

database (docker)
main System (docker)
proxy(docker) - that's a proxy reverse

When I try install in my container proxy, and install all certificates on folders.
I change in the
<Virtual host>




SSL directives



  SSLEngine on
  SSLCertificateFile       ""/etc/apache2/ssl/www.mydomain.com.br.crt""
  SSLCertificateKeyFile ""/etc/apache2/ssl/mykey.key""
  SSLCACertificateFile  ""/etc/apache2ssl/sslroot.crt""
  SSLCertificateChainFile ""/etc/apach2/ssl/Intermediate.crt""

</Virtualhost>

And obviously my certificates in path folders /etc/apache2/ssl/

When I try restart my Apache, my container ""proxy"" don't running again and their status is as stoped. Thein I call docker log proxy:

error Init: Unable to read server certificate from file /etc/apache2/ssl/www.patobragado.gedvic.com.br.key
Thu Aug 06 11:01:02 2015 error SSL Library Error: 218529960 error:0D0680A8:asn1 encoding routines:ASN1_CHECK_TLEN:wrong tag
Thu Aug 06 11:01:02 2015 error SSL Library Error: 218595386 error:0D07803A:asn1 encoding routines:ASN1_ITEM_EX_D2I:nested asn1 error

Someone know how I can solve this problem?

I need much install this SSL in server.ï»¿"
Amazon EC2	"Re: SSL in server amazon
Hello,
error messages you posted
""error Init: Unable to read server certificate from file /etc/apache2/ssl/www.patobragado.gedvic.com.br.key
Thu Aug 06 11:01:02 2015 error SSL Library Error: 218529960 error:0D0680A8:asn1 encoding routines:ASN1_CHECK_TLEN:wrong tag
Thu Aug 06 11:01:02 2015 error SSL Library Error: 218595386 error:0D07803A:asn1 encoding routines:ASN1_ITEM_EX_D2I:nested asn1 error""

usually mean that ssl format of a ssl cert or key file that you installed is wrong or broken. As a first step, I'd recommend you to double check file permissions and that file content does not contain any weird character.
Best regards,
Alessandro"
Amazon EC2	"Re: SSL in server amazon
Why don't you bypass the localized requirement and use an ELB. Install the SSL Cert on your ELB Listener and then have your ELB forward all traffic with it already secured?"
Amazon EC2	"Stop or force stop instance does not works
My instance i-0d3354ee don't get out of stopping state, force stop dont work too.

Can you please stop and start it to get the system back online?"
Amazon EC2	"Re: Stop or force stop instance does not works
The instance stop.

Tks"
Amazon EC2	"Free tier, can I opt for a bigger server for less hours?
Can I choose a c4.4xlarge server instead of the t2.micro for less hours and still be eligible for the free tier? If so how would I calculate the hours I would get? 

The official AWS calculator doesn't even show $0.00 when I choose 750 hours t2.micro so it's very hard to get a feel for what I'm allowed.

Thank you."
Amazon EC2	"Re: Free tier, can I opt for a bigger server for less hours?
Short answer: No.

Free Tier is only eligible when selecting the specific instance types."
Amazon EC2	"Re: Free tier, can I opt for a bigger server for less hours?
Hello,
as described in our Free Tier page [1], it is only possible to use t2.micro instance type to get the benefits of it:  750 hours per month of Linux, RHEL, or SLES t2.micro instance usage, so it's not possible to use it with a ""bigger"" instance type, but less hours.
[1] https://aws.amazon.com/free/

Best regards,
Alessandro"
Amazon EC2	"Re: Free tier, can I opt for a bigger server for less hours?
^^(That's what I said)"
Amazon EC2	"EC2 Backups
I am new to AWS and EC2, and I am wondering how to do backups of the servers.  Currently we use VEEAM in our on premise site.  I know that you are unable to use VEEAM, however I need to understand how do you make GFS backups.  We are required to keep 7 years of data for our company.

Can somebody tell me how to go about doing this and what you use to keep long term data?

Thank you"
Amazon EC2	"Re: EC2 Backups
Hi,

For your servers its recommended that you take regular snapshots (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html) of your EC2 instances which will backup them up to S3 (http://aws.amazon.com/s3/) a highly durable and reliable service.  For data retention I recommend you use the AWS Glacier service (https://aws.amazon.com/glacier/) which is effectively cold storage at a cost of approx $0.01 / GB.  

There are a number of backup solutions out there that integrate well with AWS.  One of them being Cloudberry and advanced technology partner (http://www.aws-partner-directory.com/PartnerDirectory/PartnerDetail?Name=CloudBerry+Lab) -  take a look here at their service -  http://www.cloudberrylab.com/amazon-glacier-bare-metal-recovery-system-state-backup.aspx

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 Backups
Hi Stooby how do I move the EBS snapshot to my S3 bucket? Is there any way using the aws console? Thanks in advance!"
Amazon EC2	"Re: EC2 Backups
Hi,

The EBS Snapshots are automatically saved to the S3 environment as a part of the service, however the snapshots do not appear within your S3 account so you can't copy them to your own S3 bucket.

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 Backups
Thanks for the quick reply. So that means I shall be charged (say if it's I terabyte ebs) the billing statement says:

$0.0300 per GB - first 1 TB / month of storage used

So effectively I'll be paying $30 additional for s3 storage then?"
Amazon EC2	"Re: EC2 Backups
Hi,

Yes that is correct! 

Cheers

Stooby..."
Amazon EC2	"Re: EC2 Backups
If I create snapshots, how do I move the snapshots to Glacier after a week?"
Amazon EC2	"Re: EC2 Backups
I wouldn't recommend going down that route. 

If you are taking a backup of your instance it will need to remain available for you to recover if needed. There are no ""Amazon"" ways to move snapshots to Glacier. We considered it at the company I work very briefly but dismissed it. Why would you want to Glacier a snapshot you cannot guarantee you can restore? Why do the snapshot at all if that's what you're going to do with it.

You can tell an instance to snapshot and store those snapshots as long as you feel you need to. They aren't going anywhere and are not as susceptible as physical media to damage."
Amazon EC2	"Re: EC2 Backups
The reason to go to Glacier is because of the cost to keep hundreds of snapshots on S3 and the cost of it.  We need to keep 7 years of data, we use GFS backups.  I am not sure if that is the correct approach or not

How do you manage all of the snapshots?"
Amazon EC2	"Re: EC2 Backups
We do a purge every couple of months on the snapshots we have. At one point every server was backed up multiple times a week, our bill was astronomical. Now we are somewhat more intelligent in what and when we back servers up. 

The cost of server snapshots is something that comes with the requirement to be able to recover a service when it becomes necessary. 

The other thing that we have recently started is reducing the actual need for backups. Data is stored on Databases, which are backed up and data stored elsewhere if needed. Better use of our environments means we have one instance image (the GOLD) which is used to make instances via Auto-Scaling. This means we only have to update the image of the GOLD when we make a change to it. By rethinking our use of instances we have reduced our need for snapshots and have improved our ability to recover from issues. That said, we are still having to fully snapshot some of our older systems."
Amazon EC2	"Can't connect to instance after importing Centos7 VM
I am trying to import a Centos7 based VM into Amazon AWS. The VM was created with the Centos7 minimal ISO installed into VirtualBox. Networking in the VM works fine locally before trying to do the import. 

I am using the EC2 command line tools to do the import:

    ec2-import-instance /tmp/ce7-disk1.vmdk -o $AWS_ACCESS_KEY -w $AWS_SECRET_KEY -f vmdk -p Linux -b s3bucket -t m3.medium -a x86_64


The import appears to work correctly and I do see a new instance in my list of EC2 instances. After the import indicates that it has successfully completed (using ec2-describe-conversion-tasks) I try to start the instance.

The instance boots correctly and runs, but I seem to have no network connectivity at all. I have all ports forwarded to the instance and I allow all ICMP traffic, but pings and ssh do not show any response.

Here is the console output from the instance:

    [0.000] Initializing cgroup subsys cpuset
    [0.000] Initializing cgroup subsys cpu
    [0.000] Initializing cgroup subsys cpuacct
    [0.000] Linux version 3.10.0-229.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.2 20140120 (Red Hat 4.8.2-16) (GCC) ) #1 SMP Fri Mar 6 11:36:42 UTC 2015
    [0.000] Command line: BOOT_IMAGE=/vmlinuz-3.10.0-229.el7.x86_64 root=UUID=bfd8bc8f-b9b6-430d-9009-ff4aa05932f4 ro console=ttyS0,115200 console=tty0 vconsole.font=latarcyrheb-sun16 crashkernel=auto vconsole.keymap=us LANG=en_US.UTF-8
    [0.000] e820: BIOS-provided physical RAM map:
    [0.000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
    [0.000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
    [0.000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
    [0.000] BIOS-e820: [mem 0x0000000000100000-0x00000000efffffff] usable
    [0.000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
    [0.000] NX (Execute Disable) protection: active
    [0.000] SMBIOS 2.4 present.
    [0.000] Hypervisor detected: Xen HVM
    [0.000] Xen version 4.2.
    [0.000] Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
    [0.000] Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
    [0.000] You might have to change the root device
    [0.000] from /dev/hd[a-d] to /dev/xvd[a-d]
    [0.000] in your root= kernel command line option
    [0.000] No AGP bridge found
    [0.000] e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
    [0.000] x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
    [0.000] found SMP MP-table at [mem 0x000fbba0-0x000fbbaf] mapped at [ffff8800000fbba0]
    [0.000] init_memory_mapping: [mem 0x00000000-0x000fffff]
    [0.000] init_memory_mapping: [mem 0xefe00000-0xefffffff]
    [0.000] init_memory_mapping: [mem 0xec000000-0xefdfffff]
    [0.000] init_memory_mapping: [mem 0x80000000-0xebffffff]
    [0.000] init_memory_mapping: [mem 0x00100000-0x7fffffff]
    [0.000] RAMDISK: [mem 0x36274000-0x37131fff]
    [0.000] ACPI: RSDP 00000000000ea020 00024 (v02    Xen)
    [0.000] ACPI: XSDT 00000000fc00f5a0 00054 (v01    Xen      HVM 00000000 HVML 00000000)
    [0.000] ACPI: FACP 00000000fc00f260 000F4 (v04    Xen      HVM 00000000 HVML 00000000)
    [0.000] ACPI: DSDT 00000000fc0035e0 0BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
    [0.000] ACPI: FACS 00000000fc0035a0 00040
    [0.000] ACPI: APIC 00000000fc00f360 000D8 (v02    Xen      HVM 00000000 HVML 00000000)
    [0.000] ACPI: HPET 00000000fc00f4b0 00038 (v01    Xen      HVM 00000000 HVML 00000000)
    [0.000] ACPI: WAET 00000000fc00f4f0 00028 (v01    Xen      HVM 00000000 HVML 00000000)
    [0.000] ACPI: SSDT 00000000fc00f520 00031 (v02    Xen      HVM 00000000 INTL 20090123)
    [0.000] ACPI: SSDT 00000000fc00f560 00031 (v02    Xen      HVM 00000000 INTL 20090123)
    [0.000] No NUMA configuration found
    [0.000] Faking a node at [mem 0x0000000000000000-0x00000000efffffff]
    [0.000] Initmem setup node 0 [mem 0x00000000-0xefffffff]
    [0.000]   NODE_DATA [mem 0xeffd8000-0xefffefff]
    [0.000] Reserving 161MB of memory at 704MB for crashkernel (System RAM: 3839MB)
    [0.000] Zone ranges:
    [0.000]   DMA      [mem 0x00001000-0x00ffffff]
    [0.000]   DMA32    [mem 0x01000000-0xffffffff]
    [0.000]   Normal   empty
    [0.000] Movable zone start for each node
    [0.000] Early memory node ranges
    [0.000]   node   0: [mem 0x00001000-0x0009dfff]
    [0.000]   node   0: [mem 0x00100000-0xefffffff]
    [0.000] ACPI: PM-Timer IO Port: 0xb008
    [0.000] ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
    -- snip --
    [0.000] ACPI: LAPIC (acpi_id[0x0e] lapic_id[0x00] disabled)
    [0.000] ACPI: IOAPIC (id[0x01] address[0xfec00] gsi_base[0])
    [0.000] IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
    [0.000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
    [0.000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
    [0.000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
    [0.000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
    [0.000] Using ACPI (MADT) for SMP configuration information
    [0.000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
    [0.000] smpboot: Allowing 15 CPUs, 14 hotplug CPUs
    [0.000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff]
    [0.000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff]
    [0.000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff]
    [0.000] e820: [mem 0xf0000000-0xfbffffff] available for PCI devices
    [0.000] Booting paravirtualized kernel on Xen HVM
    [0.000] setup_percpu: NR_CPUS:5120 nr_cpumask_bits:15 nr_cpu_ids:15 nr_node_ids:1
    [0.000] PERCPU: Embedded 28 pages/cpu @ffff8800efc00000 s82752 r8192 d23744 u131072
    [0.000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 967560
    [0.000] Policy zone: DMA32
    [0.000] Kernel command line: BOOT_IMAGE=/vmlinuz-3.10.0-229.el7.x86_64 root=UUID=bfd8bc8f-b9b6-430d-9009-ff4aa05932f4 ro console=ttyS0,115200 console=tty0 vconsole.font=latarcyrheb-sun16 crashkernel=auto vconsole.keymap=us LANG=en_US.UTF-8
    [0.000] PID hash table entries: 4096 (order: 3, 32768 bytes)
    [0.000] xsave: enabled xstate_bv 0x7, cntxt size 0x340
    [0.000] Checking aperture...
    [0.000] No AGP bridge found
    [0.000] Memory: 3672904k/3932160k available (6244k kernel code, 396k absent, 258860k reserved, 4178k data, 1604k init)
    [0.000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
    [0.000] Hierarchical RCU implementation.
    [0.000] 	RCU restricting CPUs from NR_CPUS=5120 to nr_cpu_ids=15.
    [0.000] 	Experimental no-CBs for all CPUs
    [0.000] 	Experimental no-CBs CPUs: 0-14.
    [0.000] NR_IRQS:327936 nr_irqs:1208 16
    [0.000] xen:events: Xen HVM callback vector for event delivery is enabled
    [0.000] Console: colour VGA+ 80x25
    [0.000] console [tty0] enabled
    [0.000] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
    [0.000] console [ttyS0] enabled
    [0.000] allocated 15728640 bytes of page_cgroup
    [0.000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
    [0.000] tsc: Detected 2500.058 MHz processor
    [0.004] Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.11 BogoMIPS (lpj=2500058)
    [0.010] pid_max: default: 32768 minimum: 301
    [0.014] Security Framework initialized
    [0.017] SELinux:  Initializing.
    [0.020] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes)
    [0.026] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes)
    [0.031] Mount-cache hash table entries: 4096
    [0.034] Initializing cgroup subsys memory
    [0.037] Initializing cgroup subsys devices
    [0.040] Initializing cgroup subsys freezer
    [0.044] Initializing cgroup subsys net_cls
    [0.047] Initializing cgroup subsys blkio
    [0.051] Initializing cgroup subsys perf_event
    [0.054] Initializing cgroup subsys hugetlb
    [0.057] CPU: Physical Processor ID: 0
    [0.061] mce: CPU supports 2 MCE banks
    [0.064] Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
    [0.064] Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0
    [0.064] tlb_flushall_shift: 6
    [0.086] ACPI: Core revision 20130517
    [0.102] ACPI: All ACPI Tables successfully acquired
    [0.107] ftrace: allocating 23909 entries in 94 pages
    [0.156] Switched APIC routing to physical flat.
    [0.162] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
    [0.184] smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
    [0.192] installing Xen timer for CPU 0
    [0.195] cpu 0 spinlock event irq 69
    [0.196] Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
    [0.200] Brought up 1 CPUs
    [0.201] smpboot: Total of 1 processors activated (5000.11 BogoMIPS)
    [0.202] NMI watchdog: disabled (cpu0): hardware events not enabled
    [0.203] devtmpfs: initialized
    [0.205] EVM: security.selinux
    [0.206] EVM: security.ima
    [0.207] EVM: security.capability
    [0.208] atomic64 test passed for x86-64 platform with CX8 and with SSE
    [0.209] NET: Registered protocol family 16
    [0.210] ACPI: bus type PCI registered
    [0.211] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
    [0.212] PCI: Using configuration type 1 for base access
    [0.213] ACPI: Added _OSI(Module Device)
    [0.214] ACPI: Added _OSI(Processor Device)
    [0.215] ACPI: Added _OSI(3.0 _SCP Extensions)
    [0.216] ACPI: Added _OSI(Processor Aggregator Device)
    [0.220] ACPI: Interpreter enabled
    [0.221] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20130517/hwxface-571)
    [0.224] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20130517/hwxface-571)
    [0.227] ACPI: (supports S0 S3 S4 S5)
    [0.228] ACPI: Using IOAPIC for interrupt routing
    [0.229] PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
    [0.291] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
    [0.292] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI]
    [0.293] acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
    [0.294] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
    [0.295] acpiphp: Slot [0] registered
    -- snip --
    [0.324] acpiphp: Slot [31] registered
    [0.325] PCI host bridge to bus 0000:00
    [0.326] pci_bus 0000:00: root bus resource [bus 00-ff]
    [0.327] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7]
    [0.328] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff]
    [0.329] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff]
    [0.330] pci_bus 0000:00: root bus resource [mem 0xf0000000-0xfbffffff]
    [0.337] pci 0000:00:01.1: legacy IDE quirk: reg 0x10: [io  0x01f0-0x01f7]
    [0.338] pci 0000:00:01.1: legacy IDE quirk: reg 0x14: [io  0x03f6]
    [0.339] pci 0000:00:01.1: legacy IDE quirk: reg 0x18: [io  0x0170-0x0177]
    [0.340] pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: [io  0x0376]
    [0.341] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
    [0.341] * this clock source is slow. Consider trying other clock sources
    [0.343] pci 0000:00:01.3: quirk: [io  0xb000-0xb03f] claimed by PIIX4 ACPI
    [0.351] ACPI: PCI Interrupt Link [LNKA] (IRQs *5 10 11)
    [0.353] ACPI: PCI Interrupt Link [LNKB] (IRQs 5 *10 11)
    [0.357] ACPI: PCI Interrupt Link [LNKC] (IRQs 5 10 *11)
    [0.360] ACPI: PCI Interrupt Link [LNKD] (IRQs *5 10 11)
    [0.382] ACPI: Enabled 2 GPEs in block 00 to 0F
    [0.383] xen:balloon: Initialising balloon driver
    [0.385] xen_balloon: Initialising balloon driver
    [0.386] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
    [0.387] vgaarb: loaded
    [0.388] vgaarb: bridge control possible 0000:00:02.0
    [0.389] SCSI subsystem initialized
    [0.390] ACPI: bus type USB registered
    [0.391] usbcore: registered new interface driver usbfs
    [0.392] usbcore: registered new interface driver hub
    [0.393] usbcore: registered new device driver usb
    [0.394] PCI: Using ACPI for IRQ routing
    [0.395] NetLabel: Initializing
    [0.396] NetLabel:  domain hash size = 128
    [0.397] NetLabel:  protocols = UNLABELED CIPSOv4
    [0.398] NetLabel:  unlabeled traffic allowed by default
    [0.399] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
    [0.400] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
    [0.403] hpet0: 3 comparators, 64-bit 62.500000 MHz counter
    [0.405] Switching to clocksource xen
    [0.409] pnp: PnP ACPI init
    [0.412] ACPI: bus type PNP registered
    [0.415] system 00:00: [mem 0x00000000-0x0009ffff] could not be reserved
    [0.421] system 00:02: [io  0x08a0-0x08a3] has been reserved
    [0.425] system 00:02: [io  0x0cc0-0x0ccf] has been reserved
    [0.429] system 00:02: [io  0x04d0-0x04d1] has been reserved
    [0.434] system 00:0a: [io  0x10c0-0x1] has been reserved
    [0.439] system 00:0a: [io  0xb044-0xb] has been reserved
    [0.463] pnp: PnP ACPI: found 11 devices
    [0.467] ACPI: bus type PNP unregistered
    [0.476] NET: Registered protocol family 2
    [0.480] TCP established hash table entries: 32768 (order: 6, 262144 bytes)
    [0.485] TCP bind hash table entries: 32768 (order: 7, 524288 bytes)
    [0.490] TCP: Hash tables configured (established 32768 bind 32768)
    [0.495] TCP: reno registered
    [0.497] UDP hash table entries: 2048 (order: 4, 65536 bytes)
    [0.502] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes)
    [0.506] NET: Registered protocol family 1
    [0.510] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
    [0.514] pci 0000:00:01.0: PIIX3: Enabling Passive Release
    [0.518] pci 0000:00:01.0: Activating ISA DMA hang workarounds
    [0.523] Unpacking initramfs...
    [0.924] Freeing initrd memory: 15096k freed
    [0.931] RAPL PMU detected, hw unit 2^-16 Joules, API unit is 2^-32 Joules, 3 fixed counters 163840 ms ovfl timer
    [0.938] microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x415
    [0.942] microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
    [0.948] futex hash table entries: 4096 (order: 6, 262144 bytes)
    [0.953] Initialise system trusted keyring
    [0.956] audit: initializing netlink socket (disabled)
    [0.960] type=2000 audit(1438974112.341:1): initialized
    [0.991] HugeTLB registered 2 MB page size, pre-allocated 0 pages
    [0.996] zbud: loaded
    [0.999] VFS: Disk quotas dquot_6.5.2
    [1.003] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
    [1.008] msgmni has been set to 7203
    [1.011] Key type big_key registered
    [1.014] alg: No test for stdrng (krng)
    [1.017] NET: Registered protocol family 38
    [1.021] Key type asymmetric registered
    [1.024] Asymmetric key parser 'x509' registered
    [1.028] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
    [1.033] io scheduler noop registered
    [1.036] io scheduler deadline registered (default)
    [1.040] io scheduler cfq registered
    [1.043] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
    [1.047] pciehp: PCI Express Hot Plug Controller Driver version: 0.4
    [1.051] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
    [1.057] ACPI: Power Button [PWRF]
    [1.060] input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
    [1.065] ACPI: Sleep Button [SLPF]
    [1.068] GHES: HEST is not enabled!
    [1.072] xen:grant_table: Grant tables using version 1 layout
    [1.076] Grant table initialized
    [1.079] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22!
    [1.083] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
    [1.123] 00:09: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
    [1.128] Non-volatile memory driver v1.3
    [1.132] Linux agpgart interface v0.103
    [1.135] crash memory driver: version 1.1
    [1.138] rdac: device handler registered
    [1.142] hp_sw: device handler registered
    [1.146] emc: device handler registered
    [1.149] alua: device handler registered
    [1.153] libphy: Fixed MDIO Bus: probed
    [1.156] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
    [1.161] ehci-pci: EHCI PCI platform driver
    [1.165] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
    [1.170] ohci-pci: OHCI PCI platform driver
    [1.173] uhci_hcd: USB Universal Host Controller Interface driver
    [1.177] usbcore: registered new interface driver usbserial
    [1.181] usbcore: registered new interface driver usbserial_generic
    [1.186] usbserial: USB Serial support registered for generic
    [1.190] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
    [1.197] serio: i8042 KBD port at 0x60,0x64 irq 1
    [1.201] serio: i8042 AUX port at 0x60,0x64 irq 12
    [1.205] mousedev: PS/2 mouse device common for all mice
    [1.210] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
    [1.216] rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
    [1.224] rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
    [1.241] cpuidle: using governor menu
    [1.244] hidraw: raw HID events driver (C) Jiri Kosina
    [1.248] usbcore: registered new interface driver usbhid
    [1.252] usbhid: USB HID core driver
    [1.256] drop_monitor: Initializing network drop monitor service
    [1.260] TCP: cubic registered
    [1.263] Initializing XFRM netlink socket
    [1.266] NET: Registered protocol family 10
    [1.270] NET: Registered protocol family 17
    [1.273] Loading compiled-in X.509 certificates
    [1.277] Loaded X.509 cert 'CentOS Linux kpatch signing key: ea0413152cde1d98ebdca3fe6f0230904c9ef717'
    [1.283] Loaded X.509 cert 'CentOS Linux Driver update signing key: 7f421ee0ab69461574bb358861dbe77762a4201b'
    [1.291] Loaded X.509 cert 'CentOS Linux kernel signing key: a62a0e1d6a6e484e9bfd7368af34081048e535e5'
    [1.298] registered taskstats version 1
    [1.303] Key type trusted registered
    [1.308] Key type encrypted registered
    [1.312] IMA: No TPM chip found, activating TPM-bypass!
    [1.316] xenbus_probe_frontend: Device with no driver: device/vfb/0
    [1.321] xenbus_probe_frontend: Device with no driver: device/vbd/768
    [1.326] xenbus_probe_frontend: Device with no driver: device/vbd/51728
    [1.331] xenbus_probe_frontend: Device with no driver: device/vif/0
    [1.336] rtc_cmos 00:04: setting system clock to 2015-08-07 19:01:53 UTC (1438974113)
    [1.342] Freeing unused kernel memory: 1604k freed
    [1.348] systemd[1]: systemd 208 running in system mode. (+PAM +LIBWRAP +AUDIT +SELINUX +IMA +SYSVINIT +LIBCRYPTSETUP +GCRYPT +ACL +XZ)
    [1.358] systemd[1]: Detected virtualization 'xen'.
    [1.362] systemd[1]: Running in initial RAM disk.
    [1.370] systemd[1]: Set hostname to <solace-vmr>.
    [1.402] systemd[1]: Expecting device dev-disk-by\x2duuid-bfd8bc8f\x2db9b6\x2d430d\x2d9009\x2dff4aa05932f4.device...
    [1.421] systemd[1]: Starting -.slice.
    [1.427] systemd[1]: Created slice -.slice.
    [1.431] systemd[1]: Starting System Slice.
    [1.438] systemd[1]: Created slice System Slice.
    [1.444] systemd[1]: Starting Slices.
    [1.451] systemd[1]: Reached target Slices.
    [1.454] systemd[1]: Starting Timers.
    [1.460] systemd[1]: Reached target Timers.
    [1.465] systemd[1]: Starting Journal Socket.
    [1.471] systemd[1]: Listening on Journal Socket.
    [1.475] systemd[1]: Started dracut ask for additional cmdline parameters.
    [1.481] systemd[1]: Starting dracut cmdline hook...
    [1.487] systemd[1]: Starting Create list of required static device nodes for the current kernel...
    [1.499] systemd[1]: Starting Apply Kernel Variables...
    [1.519] systemd[1]: Started Load Kernel Modules.
    [1.525] systemd[1]: Starting Journal Service...
    [1.540] systemd[1]: Started Journal Service.
    [1.939] tsc: Refined TSC clocksource calibration: 2499.999 MHz
    [2.037] systemd-udevd[225]: starting version 208
    [2.228] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input3
    [2.242] xen_netfront: Initialising Xen virtual ethernet driver
    [2.443] scsi host0: ata_piix
    [2.456] scsi host1: ata_piix
    [2.460] blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
    [2.470] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
    [2.475] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
    %GStarted Show Plymouth Boot Screen.
    [[    2.527]  xvda: xvda1 xvda2 xvda3 xvda4 < xvda5 >
    [2.536] Setting capacity to 39845888
    [2.539] xvda: detected capacity change from 0 to 20401094656
    Reached target Paths.
    Reached target Basic System.
    [2.554] blkfront: xvdb: flush diskcache: enabled; persistent grants: disabled; indirect descriptors: enabled;
    [2.562]  xvdb: unknown partition table
    [2.568] Setting capacity to 8377344
    [2.571] xvdb: detected capacity change from 0 to 4289200128
    Found device /dev/disk/by-uuid/bfd8bc8f-b9b6-430d-9009-ff4aa05932f4.
             Starting File System Check on /dev/disk/by-uuid/bfd8...ff4aa05932f4...
    Started dracut initqueue hook.
    Reached target Remote File Systems (Pre).
    Reached target Remote File Systems.
    systemd-fsck[267]: /dev/xvda2: clean, 27031/753664 files, 326629/3014656 blocks
    Started File System Check on /dev/disk/by-uuid/bfd8b...9-ff4aa05932f4.
             Mounting /sysroot...
    [3.181] EXT4-fs (xvda2): mounted filesystem with ordered data mode. Opts: (null)
    Mounted /sysroot.
    Reached target Initrd Root File System.
             Starting Reload Configuration from the Real Root...
    Started Reload Configuration from the Real Root.
    Reached target Initrd File Systems.
    Reached target Initrd Default Target.
    [3.517] systemd-journald[122]: Received SIGTERM
    [4.180] type=1404 audit(1438974116.343:2): enforcing=1 old_enforcing=0 auid=4294967295 ses=4294967295
    [4.501] type=1403 audit(1438974116.664:3): policy loaded auid=4294967295 ses=4294967295
    [4.513] systemd[1]: Successfully loaded SELinux policy in 355.584ms.
    [4.678] systemd[1]: Relabelled /dev and /run in 29.026ms.
    
    Welcome to CentOS Linux 7 (Core)
    
    Stopped Switch Root.
    Stopped target Switch Root.
    Stopped target Initrd File Systems.
             Stopping File System Check on /dev/disk/by-uuid/bfd8...ff4aa05932f4...
    Stopped File System Check on /dev/disk/by-uuid/bfd8b...9-ff4aa05932f4.
    Stopped target Initrd Root File System.
    Created slice system-serial\x2dgetty.slice.
             Expecting device dev-ttyS0.device...
    Created slice system-getty.slice.
    Created slice User and Session Slice.
    Reached target Remote File Systems.
    Reached target Slices.
    Listening on /dev/initctl Compatibility Named Pipe.
    Listening on Delayed Shutdown Socket.
    Set up automount Arbitrary Executable File Formats F...utomount Point.
    Reached target Encrypted Volumes.
             Mounting Huge Pages File System...
             Starting Create list of required static device nodes...rrent kernel...
             Starting Apply Kernel Variables...
             Mounting Debug File System...
    Listening on udev Kernel Socket.
    Listening on udev Control Socket.
             Starting udev Coldplug all Devices...
             Mounting POSIX Message Queue File System...
    Listening on Device-mapper event daemon FIFOs.
    Listening on LVM2 metadata daemon socket.
             Starting Monitoring of LVM2 mirrors, snapshots etc. ...ress polling...
             Expecting device dev-disk-by\x2duuid-91880d70\x2d9cd...fb664.device...
             Starting File System Check on Root Device...
             Expecting device dev-disk-by\x2duuid-04756585\x2db03...e40ad.device...
             Expecting device dev-disk-by\x2duuid-b5d5116f\x2d075...1945c.device...
    Stopped Trigger Flushing of Journal to Persistent Storage.
             Stopping Journal Service...
    Stopped Journal Service.
             Starting Journal Service...
    Started Journal Service.
    Mounted Huge Pages File System.
    Mounted Debug File System.
    Mounted POSIX Message Queue File System.
    Started Apply Kernel Variables.
    Started Create list of required static device nodes ...current kernel.
             Starting Create static device nodes in /dev...
             Starting LVM2 metadata daemon...
    Started LVM2 metadata daemon.
    Started udev Coldplug all Devices.
    Started Create static device nodes in /dev.
             Starting udev Kernel Device Manager...
    Started udev Kernel Device Manager.[    6.078] systemd-udevd[366]: starting version 208
    
    Started Monitoring of LVM2 mirrors, snapshots etc. u...ogress polling.
    systemd-fsck[347]: /dev/xvda2: clean, 27031/753664 files, 326629/3014656 blocks
    Started File System Check on Root Device.
             Starting Remount Root and Kernel File Systems...
    [6.134] EXT4-fs (xvda2): re-mounted. Opts: (null)
    Started Remount Root and Kernel File Systems.
             Starting Configure read-only root support...
             Starting Load/Save Random Seed...
    Reached target Local File Systems (Pre).
    Started Load/Save Random Seed.
    Started Configure read-only root support.
    [6.471] piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
    [6.524] FDC 0 is a S82078B
    [6.620] input: PC Speaker as /devices/platform/pcspkr/input/input4
    Found device /dev/ttyS0.
    [6.758] ppdev: user-space parallel port driver
    %G[    6.788] alg: No test for __gcm-aes-aesni (__driver-gcm-aes-aesni)
    [6.945] alg: No test for crc32 (crc32-pclmul)
    Found device /dev/disk/by-uuid/b5d5116f-075e-4afb-9df4-acb2ca61945c.
             Mounting /usr/sw/internalspool...
    Found device /dev/disk/by-uuid/04756585-b03f-4156-9cee-625cd2ae40ad.
             Starting File System Check on /dev/disk/by-uuid/0475...625cd2ae40ad...[    9.642] Adding 2097148k swap on /dev/xvda5.  Priority:-1 extents:1 across:2097148k SSFS
    
    Found device /dev/disk/by-uuid/91880d70-9cda-4ad4-8374-cbf6ff0fb664.
             Activating swap /dev/disk/by-uuid/91880d70-9cda-4ad4...cbf6ff0fb664...
    Activated swap /dev/disk/by-uuid/91880d70-9cda-4ad4-8374-cbf6ff0fb664.
    Reached target Swap.
    [9.698] EXT4-fs (xvda3): mounted filesystem with ordered data mode. Opts: (null)
    Mounted /usr/sw/internalspool.
    systemd-fsck[434]: /dev/xvda1: clean, 340/51200 files, 115304/204800 blocks
    Started File System Check on /dev/disk/by-uuid/04756...e-625cd2ae40ad.
             Mounting /boot...
    [9.818] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
    Mounted /boot.
    Reached target Local File Systems.
             Starting Import network configuration from initramfs...
    [9.844] systemd-journald[348]: Received request to flush runtime journal from PID 1
             Starting Trigger Flushing of Journal to Persistent Storage...
             Starting Tell Plymouth To Write Out Runtime Data...
    Started Trigger Flushing of Journal to Persistent Storage.
    Started Tell Plymouth To Write Out Runtime Data.
    Started Import network configuration from initramfs.
             Starting Create Volatile Files and Directories...
    Started Create Volatile Files and Directories.
             Starting Security Auditing Service...
    [10.261] type=1305 audit(1438974122.425:4): audit_pid=465 old=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:auditd_t:s0 res=1
    Started Security Auditing Service.
             Starting Update UTMP about System Reboot/Shutdown...
    Started Update UTMP about System Reboot/Shutdown.
    Reached target System Initialization.
    Reached target Timers.
    Listening on D-Bus System Message Bus Socket.
    Reached target Sockets.
    Reached target Paths.
    Reached target Basic System.
             Starting Network Manager...
             Starting Dump dmesg to /var/log/dmesg...
             Starting Permit User Sessions...
             Starting Dynamic System Tuning Daemon...
             Starting System Logging Service...
             Starting NTP client/server...
             Starting irqbalance daemon...
    Started irqbalance daemon.
             Starting D-Bus System Message Bus...
    Started D-Bus System Message Bus.
             Starting Login Service...
    Started Permit User Sessions.
             Starting Command Scheduler...
    Started Command Scheduler.
             Starting Terminate Plymouth Boot Screen...
             Starting Wait for Plymouth Boot Screen to Quit...
    Started Dump dmesg to /var/log/dmesg.
    [11.775] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
    
    CentOS Linux 7 (Core)
    Kernel 3.10.0-229.el7.x86_64 on an x86_64
    
    centos-host login: 


I am not importing this into a VPC, but as far as I can tell I do not need to. According to the documentation here the new instance should get a public IP, which is what I want to start with. 

Does anyone have a suggestions of things to try or ways to increase the console output to indicate what the issue might be?"
Amazon EC2	"Re: Can't connect to instance after importing Centos7 VM
It turns out that my issue was that the imported VM did not have an ifcfg-eth0 configuration script in /etc/sysconfig/network-scripts. That script must exist for AWS since its interface is 'eth0' and not 'enp0s10' like it was in my VM."
Amazon EC2	"EC2-Classic and VPC multicast support
Hello AWS Team,

I have a requirement to do multicast between EC2 instances. From your forum i got to know that multicast is not supported on EC2. I would like to confirm my understanding on this. Could you please answer my following queries.

1. EC2-Classic instances can not support multicast. Is there any approach to get it done?

2. EC2 VPC instances does not support multicast out of the box. But can it be enabled as suggested by the following link.
https://www.buckhill.co.uk/blog/how-to-enable-broadcast-and-multicast-on-amazon-aws-ec2

3. Your Release Note on Amazon VPC on 2013-03-11 says on Known Issues ""Broadcast and Multicast Unsupported in a VPC"". When can we expect this to be solved?

Thanks & Regards
Raja"
Amazon EC2	"Re: EC2-Classic and VPC multicast support
Hello,

Currently multicast is not supported for both platforms. For your information this request is on our road map. However, at this moment I will not be able to provide an ETA for this.

Regards,

Marcin"
Amazon EC2	"Re: EC2-Classic and VPC multicast support
Hi,

Multicast is supported now or not ?

Thanks."
Amazon EC2	"instance not stop
Dear,

I have instance # i-611fafb2 I can't stop it still showing stopping

regards,"
Amazon EC2	"Re: instance not stop
Hello,
thank you for contacting us, sorry to hear that your  i-611fafb2 instance is in stuck-stopping state.

I reviewed its details and metrics and found there is an issue with underlying hardware: I escalated your request to our EC2 Linux team to force stop and I will let you know as soon as I have an answer.

Thank you for your patience.
Regards,
Alessandro"
Amazon EC2	"Re: instance not stop
Hello,
instance is now in ""running"" state and passed health checks. Can you please confirm you are able to access it?

Thank you.
Regards,
Alessandro"
Amazon EC2	"EC2 ERR_CONNECTION_TIMED_OUT
So, I've created an instance in the EC2, but when I try to navigate to the public ip address I get ERR_CONNECTION_TIMED_OUT. What am I not doing/doing wrong?

I've got a Node.JS websocket script running in putty listening on port 3000.

But when I navigate to ip:3000 I get connection timed out

Edited by: Matt on Aug 4, 2015 10:23 AM"
Amazon EC2	"Re: EC2 ERR_CONNECTION_TIMED_OUT
Did you open up this port in the security group associated with your instance? You'll find ""Security Groups"" more or less next to where you got the information in the screenshot. Check ""view rules"". If you don't see an entry for port 3000, click the security group name and you will be taken to it. On the Inbound tab, hit Edit and add a Custom TCP Rule with Port Range: 3000 and Source: Anywhere."
Amazon EC2	"Re: EC2 ERR_CONNECTION_TIMED_OUT
Hello,

I have investigated your instance, and I could see that port 3000 is not authorized to communicate to your instance via a Inbound Rule on you Security Group.

By following D. Svanlund 's helpful assistance, you should be able to rectify this in order to connect to port 3000 on your Instance.

Please let us know if you require any assistance."
Amazon EC2	"Route53 DNS Resolve issue.
Hi, 

Could you please check why DNS is not properly getting resolved from all location for our instance. 
Its some times works and some time it doesn't. 

Hosted Zone ID : Z379UH4561YKOD

Also we found this outage from Asia/Indian location for rest of the world this seems to working fine. 

Regards,
RF"
Amazon EC2	"Re: Route53 DNS Resolve issue.
Hello,

I reviewed your Hosted Zone, and I am able to confirm that your Hosted Zone is in a 100% working condition. I have also tested with a couple of open DNS Providers in Asia and India, and all the requests returned my expected answers. 

With this being said, would you be able to provide when these tests was done? As I see that this is a new Hosted Zone, and if the request was done soon after the Hosted Zone was created, it may lean towards DNS Propagation issue.

If you are not already aware, to keep in mind that DNS Propagation may take from 24-48 hours depending on each ISP's standards. 

Would you be able to test again, and please let us know if you require any assistance."
Amazon EC2	"quota limit reach
Hi,

I've only 1 instance running in my AWS account, but when I tried to launch an instance, I'm getting the following error:

Your quota allows for 0 more running instance(s). You requested at least 1

I was doing the exact same thing yesterday and it was working perfectly fine.

I believe my quota to be 20 instances, I currently only have 1

Edited by: espatialqa on Aug 10, 2015 1:38 AM"
Amazon EC2	"Re: quota limit reach
Hi,

I have created an outbound billing support case to address your query case 1465864731. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"increase instance limitation request
Dear support,
i have send the ticket to request in order to increase my EC2 account instance limit, 
case number : 1460179271

could you help me to proccess my request because there is no respon until now.

Best Regards."
Amazon EC2	"Re: increase instance limitation request
Hello,

I can see in the case you've supplied that my colleague has been in touch with you.

If you need anything else please let me know!"
Amazon EC2	"Re: increase instance limitation request
hello support,
i get an email from you but when i request instance limit for t2.medium i got rejected because my account is still new. I did email the sales but still no response.
could you guide me how to increase my instance?

Best Regards"
Amazon EC2	"Re: increase instance limitation request
Hello,

We have created an outbound support case (1465831451) to assist you with this issue.

Kind regards,
Chris"
Amazon EC2	"ssh to new instance:  connection timed out
I've just created a new instance and I can't ssh into it from my cli or via the AWS java console.  I'm using the default (wide-open) security group.  Any ideas?

$ ssh -vv -i storm.pem ec2-user@52.3.39.43
OpenSSH_6.9p1, OpenSSL 1.0.2d 9 Jul 2015
debug1: Reading configuration data /etc/ssh_config
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.3.39.43 http://52.3.39.43 port 22.
debug1: connect to address 52.3.39.43 port 22: Connection timed out
ssh: connect to host 52.3.39.43 port 22: Connection timed out

$ ./tracetcp.exe 52.3.39.43

Tracing route to 52.3.39.43 http://ec2-52-3-39-43.compute-1.amazonaws.com on port 80
Over a maximum of 30 hops.
1       2 ms    2 ms    1 ms    192.168.1.1     WRT610N
2       *       *       *       Request timed out.
3       32 ms   28 ms   28 ms   10.65.92.101    http://bvi200.aggr2.sbo.ma.rcn.net
4       41 ms   43 ms   43 ms   207.172.15.147  http://tge0-1-0-0.core2.sbo.ma.rcn.net
5       44 ms   39 ms   45 ms   207.172.19.54   http://tge0-1-0-2.core2.nyw.ny.rcn.net
6       45 ms   42 ms   47 ms   207.172.19.73   http://tge0-0-1-2.core2.phdl.pa.rcn.net
7       41 ms   39 ms   40 ms   207.172.19.77   http://tge0-0-1-1.core1.lnh.md.rcn.net
8       45 ms   41 ms   41 ms   207.172.19.179  http://tge0-0-0-7.border1.eqnx.va.rcn.net
9       51 ms   40 ms   43 ms   206.126.236.35  http://equinix02-iad2.amazon.com
10      *       *       *       Request timed out.
11      46 ms   43 ms   48 ms   54.239.108.93
12      53 ms   44 ms   45 ms   205.251.245.174
13      *       *       *       Request timed out.
14      *       *       *       Request timed out.
15      *       *       *       Request timed out.
16      *       *       *       Request timed out.
17      *       *       *       Request timed out.
18      *       *       *       Request timed out.
19      *       *       *       Request timed out.
20      *       *       *       Request timed out.
21      *       *       *       Request timed out.
22      *       *       *       Request timed out.
23      *       *       *       Request timed out.
24      *       *       *       Request timed out.
25      *       *       *       Request timed out."
Amazon EC2	"Re: ssh to new instance:  connection timed out
Hi,

Take a look at this artilce I wrote here that addreses the most common connection problems and how to resolve them when using Ports 22 over Putty/SSH.

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Cheers

Stooby..."
Amazon EC2	"Re: ssh to new instance:  connection timed out
Hello,

I did check your instance i-7562e49c and could see that it is launched in a private subnet. You would need to modify the VPC route table rtb-f0e62394 which is associated with your instance's subnet and add a default route pointing to an IGW. This will make your instance publically accessible using it's public IP.

I hope this helps.

Regards
Shiroy"
Amazon EC2	"Re: ssh to new instance:  connection timed out
Hi, 
I'm having the exact same problem. Initially I was getting connection refused but now im getting connection timed out on port 22. If I start a new instance it works for a while and then stops responding with no errors
sudo ssh -vvv -i xxx.pem ubuntu@ec2-52-26-180-183.us-west-2.compute.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-52-26-180-183.us-west-2.compute.amazonaws.com http://52.26.180.183 port 22.
debug1: connect to address 52.26.180.183 port 22: Connection timed out
ssh: connect to host ec2-52-26-180-183.us-west-2.compute.amazonaws.com port 22: Connection timed out"
Amazon EC2	"t2.medium instance
Dear Support,
i'm new user for AWS and i need to create instance with t2.medium instance spesification.
but when i created new instance for t2.medium instance the system give me an error message ""You have requested more instances (1) than your current instance limit of 0 allows for the specified instance type. Please visit http://aws.amazon.com/contact-us/ec2-request to request an adjustment to this limit.""

so i make request for adding limit instance for my account but then i get mail from ""As your account is relatively new with us and there is limited usage so far we would need you to first utilize our smaller instances before granting such a request"".

please help because i need to create EC2 instance with t2.medium spec.
any suggest?"
Amazon EC2	"Re: t2.medium instance
Hello,
anyone no reply my question?

Best Regards"
Amazon EC2	"Re: t2.medium instance
Hi,

I have created an outbound billing support case to address your query on case 1465831451. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"Wordpress on EC2 freezes and requires reboot
I'm new to AWS/EC2, but successfully built out an EC2 instance with apache, mysql and a wordpress build. Everything seems to be running great and way faster than the shared hosting I've been using, but quite frequently (at least once a day) it seems like the server freezes and requires a reboot, which then requires me to ssh in and start httpd and mysqld to see the wordpress site. I cannot figure out why this is happening or how to fix it. I also haven't really been able to make it happen, although today when I uploaded about 11 files as new media to wordpress it happened again. 

Any thoughts on what could be causing this and how to address it? I'd like to move my whole site to AWS, but I won't be able to if I cannot troubleshoot this issue.

Thanks"
Amazon EC2	"Oregon Windows 2012 instance restarted twice today
The event log:
41	Critical	Microsoft-Windows-Kernel-Power	System	8/9/2015 9:41:09 PM

Are there power outages at Oregon location today? Or something else?"
Amazon EC2	"Re: Oregon Windows 2012 instance restarted twice today
Probably a host hardware issue.  You may want to stop, then start your instance via the EC2 console (not reboot).  This should move your instance to another host.  You may want to post your instance ID here so that an Amazonian can check into it deeper."
Amazon EC2	"Re: Oregon Windows 2012 instance restarted twice today
Okay, that make sense. The instance id is i-15b959dc.
Thanks"
Amazon EC2	"Connection Timeout New EC2 instance using AMI migrated from another region
Hi,

I have made a AMI copy of an EC2 instance from Singapore, and started a new instance in Sydney using the AMI.

But I am unable to ssh into the new instance. (I have made sure the firewall setting are accepting all IPs on all ports)

I have tried making the AMI copy more than once and tried to made more than one instance, all had the same problems.

However, a new instance using the same AMI in the Singapore region works completely fine!!

The problem instance id is i-01f8b1dd. I have stopped the instance because it cost money to keep a instance running even it is dead.

Thank you in advance."
Amazon EC2	"Re: Connection Timeout New EC2 instance using AMI migrated from another region
Can anyone please help?"
Amazon EC2	"SUSE SLES 12 -  Warning: There are no enabled repositories defined.
Fresh instance created from ami-b90e6283 (SUSE Linux Enterprise Server 12 (HVM), SSD Volume Type) which supposedly should work out of the box:

""Once your image is running, you can use all of the standard SUSE tools including YaST and zypper to add packages and configure the system.""

All I get is:

+ No repositories defined. Operating only with the installed resolvables. Nothing can be installed.+

I know I can add repos manually, but I need the correct info. I was told previously AWS SUSE servers connect to an AWS repo for which I do not have the detail.
Any advise as to why this not is not included by default and how to fix to use correct AWS repositories."
Amazon EC2	"Re: SUSE SLES 12 -  Warning: There are no enabled repositories defined.
Further research indicated the requirement for having a public IP Address for this to work.
After assigning a public IP address and running registercloudguest it worked.

This is not an ideal solution to force having a public IP address to be able to install or update the OS. Would like to know why and also how to achieve this without needing a public IP for every instance.

Finally, I would think mentioning this in the AMI description or somewhere would be a great idea.

Edited by: Oz_N00b on Aug 10, 2015 6:16 PM

Edited by: Oz_N00b on Aug 10, 2015 6:29 PM"
Amazon EC2	"5 seconds delays in Route 53.
Hello!

We have big problem with Amazon right now.

The servers are in Ireland zone, all availability zones.

When I try to reach internal host (RDS or another EC2 instance), or external host (google), or public host (EC2 public name). In all cases I have inconsistent delay during host resolving.

What is this? I tried on 8 various servers and everywhere this problem.

Regards, Alex."
Amazon EC2	"Re: 5 seconds delays with DNS
Hi cleverweb,

This doesn't look to be a Route53 issue so I will move this thread to the correct forum. Could you please post the output of dig nameyourresolving +trace from your ec2 instance(s) and post the output into here so we can have our team look into this.

Thanks,
Brian"
Amazon EC2	"Re: 5 seconds delays with DNS
$ time php connection_speed.php -n 1
Â 
real	0m0.092s
user	0m0.008s
sys	0m0.048s
$ time php connection_speed.php -n 1
Â 
real	0m5.100s
user	0m0.028s
sys	0m0.032s


<?php
Â 
$options = getopt('n:');
$iterations = $options['n']?:10;
Â 
Â 
for($i=0; $i<$iterations; $i++) {
Â 
$link = mysql_connect(""**********.rds.amazonaws.com"",""****"",""*******"");
mysql_select_db('nextlove');
Â 
$r = mysql_query(""SELECT * FROM table WHERE id < 100;"");
while ($a = mysql_fetch_array($r)) {
//  echo implode(',', $a).""\n"";
}
Â 
mysql_close($link);
}
Â 


nslookup -q=ns **********.eu-west-1.rds.amazonaws.com
Server:		172.16.0.23
Address:	172.16.0.23#53
Â 
Non-authoritative answer:
*************.eu-west-1.rds.amazonaws.com	canonical name = *********.eu-west-1.compute.amazonaws.com.
Â 
Authoritative answers can be found from:
eu-west-1.compute.amazonaws.com
	origin = ns0.eu-west-1.compute.amazonaws.com
	mail addr = hostmaster.amazon.com
	serial = 1403287499
	refresh = 1800
	retry = 300
	expire = 2419200
	minimum = 60


Edited by: cleverweb on Jun 20, 2014 11:08 AM

Edited by: cleverweb on Jun 20, 2014 11:09 AM"
Amazon EC2	"Re: 5 seconds delays with DNS
Hello

If i understand correctly, your script, connection_speed.php, will connect to RDS and run a query, and return the total time (real). So the time includes the time it takes to run the query. This is not a 'fair' indication of DNS resolution. 

We would very much like you to provide an instance ID and the output 
dig nameyourresolving +trace

This will show each step of the lookup and the time it took - abit like this
;; Received 168 bytes from 192.54.112.30#53(192.54.112.30) in 665 ms
;; Received 112 bytes from 216.239.36.10#53(216.239.36.10) in 140 ms
...

By adding these figures together you can accurately determine if DNS resolution is slow or not. Please run some tests and provide the instance IDS and the output if you do see a 5 second delay. 

Regards,
Julian H."
Amazon EC2	"Re: 5 seconds delays with DNS
Hello!

I tried this:
curl http://ya.ru


And has the same 5 seconds delay. But by direct IPs (private and external) that works fine, curl and mysql connection.

i-5a922b18
i-afeca8e0
i-38d10b7b
i-c1922b83
i-3592ac74
i-39ffbd75
i-b3bc89ff

Are these enough? Other servers are not so important for performance.

This has not problem:
i-6a348220

We installed caching DNS Proxy and it solved problem. Definitely I will not trust Route 53 in future. 

Client asking me, why do we have to pay additional support costs for Amazon bugs to report these? Might be better move +20 servers away to another provider?

Guys, I really like your cloud, I'm with you since 2011. 
I always suggested you to my clients, but it's pretty uncomfortable situation for me now.

Regards, Alex."
Amazon EC2	"Re: 5 seconds delays with DNS
Hi again

I'm not sure what 'curl http://ya.ru' does? I've tried it, it returns a page. There is no 'time' attached to it. Can you explain how that shows slow DNS resolution?

Can you please try the test i showed you? SSH onto each instance. Run the test, add the times together. Post the results here.

Thanks!
Julian H."
Amazon EC2	"Re: 5 seconds delays with DNS
Sorry for misunderstanding, I mean this:

time curl http://ya.ru > /dev/null


Yes, this is just fetching some page, does not mean which exactly. 
This is just one stable host, what I tested."
Amazon EC2	"Re: 5 seconds delays in Route 53.
Just created instance c3.8xlarge, most powerful! See screenshot.
LA is 0.09

Single user mode!!! Would you say this is ""slow scripts"" again?

Instance is i-3592ac74.
Guys are you going to work?"
Amazon EC2	"Re: 5 seconds delays in Route 53.
Hi there,

As per your original post to this thread, you are concerned about DNS resolution times. 

The script you used originally was connecting to a database and doing a select. This is not a fair test of DNS as the time it takes to do the select query is reflected in your test.

Your second test it timing how long it takes to curl (GET) the default page on a website (http://ya.ru). DNS will resolve the page name to the IP first. Anything that happens after that is irrelevant. You are including the time it takes to load the page in your test. So again, this is not a fair test of DNS resolution.

Your screen shot is also a test of how long it takes to load a webpage and each component on the page. The very first entry is a GET and takes 5 seconds. Again, this is the same as using 'curl' from above. It is testing how long it takes the webserver to serve the page. Not DNS resolution. 

I have checked the instance you reference - it is not in single user mode as far as the console messages show. It is actually waiting at logon.

Amazon Linux AMI release 2013.09
Kernel 3.4.68-59.97.amzn1.x86_64 on an x86_64
nl-stage-web-app.nextlove.com login:

DNS resolution is the time it takes to contact the DNS server, and the server to provide you the IP of the domain.

If there is a problem with DNS we will of course do our very best to resolve it for you. We need you to complete the tests we have suggested to verify there is a problem. If there is a slow DNS server this test will also identify which one. 

Please run the test suggested on at least one instance, and provide the ID and the output. 

Regards,
Julian H"
Amazon EC2	"Re: 5 seconds delays in Route 53.
Did this ever get resolved?  We are having the exact same problem.  PHP app, 5 second delay on MySQL RDS connections."
Amazon EC2	"Re: 5 seconds delays in Route 53.
We occasionally run into this 5 second timeout problem too: https://forums.aws.amazon.com/thread.jspa?messageID=455394

In our case, we mitigate this issue by also adding these hostnames to /etc/hosts."
Amazon EC2	"Cloudformation Ec2 UserData update not refreshing root EBS
HI!  I wasn't sure if this should go in the CF or EC2 forum, but I think I'm in right place.

So I have an EC2 instance in a stack on CloudFormation.  This stack gets updated when the userdata passed to the instance changes, and it shuts down, then boots up a new instance.

This machine has a root EBS device attached (I did not configure the BlockDevice parameter) so it comes default with an 8GB gp2 EBS set for ""delete on termination"" = YES.

When the userdata changes, and CF spins up a new instance, it seems like sometimes the EBS does not refresh (even though it seems it should since delete on term = yes) and I end up with the EC2 instance having a launch time of 4:30, and the EBS create time being like 3:45 (if I've done this multiple times) but it appears to not be consistent.  This also causes the new userdata to not be applied or executed properly.

I would imagine any time the EC2 instance gets shut down, and a new one comes up that the EBS should change with it, is this a bug?

THANKS!"
Amazon EC2	"Re: Cloudformation Ec2 UserData update not refreshing root EBS
removed solution, because it doesn't work.

Edited by: slikk66 on Aug 10, 2015 2:46 PM"
Amazon EC2	"load balancer missing log
We have a load balancer with 2 web servers at the it's back. We enabled load balancer access log and put it on S3.
Because some time the web access has more than 2 to 3 seconds connection time from browser. the worst is more than 20 seconds, so we try to find out why. 
We start from look into web access log. We can find the log for the slow access on 2 back end server base on access time, and it looks not slow. 
So we look the log for same slow access from load balancer log, but the slow access couldn't find on load balancer access log which is saved on S3.
So I think there is some thing happened on load balancer server at that time.
Does someone has same experience? Is that mean AWS load balancer has problem?
We add load balancer for speed up our traffic, but it looks load balancer cause problem. 
Can AWS help us to fix this issue?

Thanks
Jack

Edited by: jackaf on Aug 10, 2015 11:54 AM"
Amazon EC2	"What's the impact of EBS encryption on snapshot size?
Hello,

I'm wondering if using EBS encrypted volumes have impact on snapshot size and in consequence on costs? As far as I know snapshots are differential and compressed. Does volume encryption make the data ""less"" compressible?

Thanks for clarification!

Kind Regads
Zbynek

Edited by: zvymazal on Aug 6, 2015 4:28 AM"
Amazon EC2	"Re: What's the impact of EBS encryption on snapshot size?
Block-device encryption typically encrypts at the block level, as it is impractical to re-encrypt the entire device for every change. EBS probably already does block-level snapshots (vs byte-level) so there is likely no to little size penalty for encryption."
Amazon EC2	"Java exception on autoscale
Hi Team,
I have written a JAVA client to set the desired capacity of autoscale group from 1 to 2. Please find below code but for some reason I am getting ""AutoScalingGroup name not found"" exception. Any pointers on this is much appreciated.

 I could see ""orchestrator-test"" asg being listed from AWS console but for some reason Java client is spitting exception. Thanks!"
Amazon EC2	"Re: Java exception on autoscale
Are you sure your java client is hitting the same region?"
Amazon EC2	"Blocked outbound traffic
Hi,

I can't reach http://149.78.134.232 from any of my instances.
This IP is accessible from anywhere else. 
Security group is set to allow all outbound traffic.

Any ideas?"
Amazon EC2	"Re: Blocked outbound traffic
The destination is not widely reachable: http://check-host.net/check-http?host=http://149.78.134.232/ shows it as connection timed out from most places."
Amazon EC2	"Increase API request limits
Hello!

Seems like we reached API limits for our account. We use ansible for infrastructure management and caught this today:
09:42:20 boto.exception.BotoServerError: BotoServerError: 400 Bad Request
09:42:20 <ErrorResponse xmlns=""http://elasticloadbalancing.amazonaws.com/doc/2012-06-01/"">
09:42:20â€‚  <Error>
09:42:20â€‚ â€‚  <Type>Sender</Type>
09:42:20â€‚ â€‚  <Code>Throttling</Code>
09:42:20â€‚ â€‚  <Message>Rate exceeded</Message>
09:42:20â€‚  </Error>
09:42:20â€‚  <RequestId>c4ad02d5-3f7e-11e5-be17-35ee5e470cc7</RequestId>
09:42:20 </ErrorResponse>


I wonder if we are able to increase the limits?"
Amazon EC2	"Is anyone else trying to tag ec2 instances automatically?
I'm running a script that tags EC2 instances automatically with the username of the person who created the instance.  We use this information for billing.  I've been doing this by searching the Cloudtrails logs for RunInstances events.  These events provide the username and the InstanceID.  With the username and InstanceId in hand, I run this CLI command:

   aws  ec2 create-tags --tags Key=Creator,Value=$username --resources $instanceId

Is anyone else trying to tag AWS instances (and other AWS resources) automatically?  It seems strange to me that no one else seems to be trying to do this, which makes we fear I'm missing something obvious."
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Hello,

Thanks for posting. I've used the following and this is currently working for me:

~> aws ec2 create-tags --resources i-XXXXXX --tags Key=creator,Value=$username --region us-west-2 --debug

I've made the variable username available in my environment and when I check my console I do see the tag has been created. If you run the create-tags outside of your script does it working correctly? Perhaps you can add the debug flag as well and review the output for errors.

Regards,
Brandon"
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Thank you very much for your response.  I think my question wasn't well posed.  I can tag instances using the CLI successfully, once I know the username.  I work at a research laboratory where scientists are free to launch EC2 instances without tagging them.  We need to tag them so we can bill the scientists for their AWS use, and naturally I'd like to automate this process.  Strangely, however, I haven't come upon anyone else who is in the same boat.  When I posed this question to AWS tech support, their advice was to turn off instances that scientists don't tag properly.  Naturally, I'd prefer a less draconian solution.  Currently, I tag instances by processing Cloudtrails files.  I find the username of the person who launched a given instance, and tag it with their username.  My question is two-fold:  Is anyone else trying to do the same thing, and, if not, how are other people handling this situation?"
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
You could consider running an AWS Lambda function on your CloudTrails bucket that looks for the desired event in the log, and generate tags accordingly."
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Thank you.  I'll definitely investigate lambda.  Have you been monitoring the AWS forums?  Do you know if other people are working on ways to automatically tag resources?  Are most people simply requiring that AWS resources be tagged at creation time by the creator?"
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Hi there, 

This is very much based on the users use case, so unfortunately we are unable to confirm other peoples requirements. 

Kind regards,
Belynda"
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Hello BrandonP@AWS,

Could you please share how are you creating $user variable in detail?

Thanks!

Arjun"
Amazon EC2	"Re: Is anyone else trying to tag ec2 instances automatically?
Hello Dosson,

Could you please share how are you creating $user & $instance variable  ? I have never worked on lambda, could you please share the steps 

Thanks!

Arjun"
Amazon EC2	"Status check suddenly changing between Insufficient data and ok in Virginia
Hi,

Suddenly we are receiving changes in the status check of 3 instances, these instances have been working fine during months without problems. Can be a problem with the instances? 

Thanks in advance for any help,"
Amazon EC2	"Re: Status check suddenly changing between Insufficient data and ok in Virginia
We are getting the same thing.  Over and over.  Very frustrating.  I checked the health status dashboard and everything is mark as either OK or ""Resolved"".  Clearly not (That dashboard could be more up-to-date if you ask me.  I've yet to find it very useful)."
Amazon EC2	"Re: Status check suddenly changing between Insufficient data and ok in Virginia
Same thing here.  We've had instances bouncing between OK and INSUFFICIENT_DATA since about 3:30 AM EDT.  The EC2 console shows everything as being OK, but it's almost like the status checks aren't even running."
Amazon EC2	"Re: Status check suddenly changing between Insufficient data and ok in Virginia
Hello,

Thank you for reporting this issue.
We are investigating this and will update you via this forum post.

Regards
Shiroy"
Amazon EC2	"Re: Status check suddenly changing between Insufficient data and ok in Virginia
Hello,

Between 12:20 AM PDT and 07:18 AM PDT in the US-EAST-1 Region, customers experienced increased delays in EC2 Status Check metrics. During that time, alarms on delayed metrics may have transitioned into an INSUFFICIENT_DATA state. We have resolved the issue. Delayed metrics are in the process of backfilling in CloudWatch console graphs and for API retrieval. The EC2 service was operating normally, and only EC2 CloudWatch metrics were affected. The CloudWatch service is now operating normally.

We have updated the same in our ""Status Health Dashboard"".

Regards
Shiroy"
Amazon EC2	"HTTP connection timeout -URGENT
I have node.js server running on t2.micro of EC2. My domain directly forwards request to EC2 . If I don't access the site for sometime, next time I access the webpage ,I see connection timeout. Next request(pressing enter on web address ) connects it properly and contents of webpage is visible. How to resolve this?"
Amazon EC2	"Internet access from Windows Server
I can't access the internet from a browser in my instance. 
More importantly, I can't ping or fetch data from other servers from the command line. 

I have turned off Safe Mode in IE settings
I have assigned an Elastic IP
I have the proper inbound/outbound settings in my Security Groups
I have disabled my local firewall

Please help!

Instance ID = i-b148e074"
Amazon EC2	"Re: Internet access from Windows Server
No response to this question yet? I'm a student trying to set up a development environment on this server, and I could really use some help on this..."
Amazon EC2	"Cannot associate BizSpark Subscriber ID with AWS
Microsoft Bizspark members should be able to launch windows EC2 instances without Microsoft's licensing costs. However, the process to associate BizSpark Subscriber ID with AWS seems to be broken. Are there any plans to fix this?

Reference:
http://aws.amazon.com/windows/resources/bizspark/"
Amazon EC2	"Re: Cannot associate BizSpark Subscriber ID with AWS
Hi there Mark,

Can you please detail the issues that you are getting when you attempt to make the association between your AWS account and your BizSpark account? This function should be functioning without issues. 

Pending the request for further details please ensure that you are logged in with the root account in the AWS Console when you are trying to make the association as IAM is not supported.

Quim."
Amazon EC2	"Re: Cannot associate BizSpark Subscriber ID with AWS
Hi Joaquim,

The workflow I'm expecting is:
1. Enter BizSpark ID at https://aws.amazon.com/forms/register-microsoft-bizspark-id
2. Redirect to BizSpark website to enter AWS account number
3. Receive confirmation of the association between BizSpark and AWS

Currently, what is happening is:
1. Enter BizSpark ID at https://aws.amazon.com/forms/register-microsoft-bizspark-id
2. Redirect to BizSpark account dashboard with no mention of AWS and no prompts on what to do next

I was logged in to both the AWS root account as well as the BizSpark root account for the entire process.

Hope the above description helps."
Amazon EC2	"Re: Cannot associate BizSpark Subscriber ID with AWS
I am having the exact same issue.

The link to http://www.microsoft.com/bizspark/register.aspx?hosterid=7394 gives me no option to enter AWS account number."
Amazon EC2	"Unable to launch new instance
I am unable to launch new ec2 instances, when i try this error is raised

""Unavailable: The service is unavailable. Please try again shortly."""
Amazon EC2	"Re: Unable to launch new instance
Instance launching is working fine now"
Amazon EC2	"Windows time synchronization issues
We have some EC2 instances running Windows where the time synchronization is experiencing problems.

The time is correctly synced when we run the command:

    w32tm /resync

But after a few minutes, the clock is set back and the following appears in the event log:

""The system time has changed to â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž08T08:51:20.500000000Z from â€Ž2014â€Ž-â€Ž01â€Ž-â€Ž08T08:55:07.288556500Z.

Change Reason: System time synchronized with the hardware clock.""

What is the best way to handle time synchronization?"
Amazon EC2	"Re: Windows time synchronization issues
Hi,

What OS version are you running? If you are running an OS > Windows 2003, please make sure that you have the RealTimeIsUniversal registry key enabled --
HKLM\System\CurrentControlSet\Control\TimeZoneInformation RealTimeIsUniversal=1

Also, do you have an instance ID to provide as an example so we can look at the underlying infrastructure?

Regards,"
Amazon EC2	"Re: Windows time synchronization issues
Hi JonathanS,

The OS is Windows Server 2012. The instance id is i-dbd91c94.

I checked and RealTimeIsUniversal is indeed set to 1 already."
Amazon EC2	"Re: Windows time synchronization issues
Sorry to hijack this thread.
I found the same issue with 3 of my instances.

Can you also help to check this instanceid i-a1937af7
 in ap-southeast-1b?"
Amazon EC2	"Re: Windows time synchronization issues
We solved this issue by installing Meinberg NTP on all servesr:

https://www.meinbergglobal.com/english/sw/ntp.htm"
Amazon EC2	"URGENT: Authentication failed because your account has been suspended.
Authentication failed because your account has been suspended. Please contact AWS customer support. Contact Us

case id: 1463774131
account: ahmad@montnebo.com

it's suspended more than  24 hours it's vary URGENT"
Amazon EC2	"Re: URGENT: Authentication failed because your account has been suspended.
you'r support Support Response Time is so bad 

our account is suspend and we want to access it in URGENT case  

and all the Bills is paid  

how mach time need  to active the account or just give us replay"
Amazon EC2	"Re: URGENT: Authentication failed because your account has been suspended.
Hi,

As you mentioned I see that you have a support case opened regarding the Account Suspension Issue.

Case ID: 1463774131

I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Regards,

Luke H."
Amazon EC2	"instance will not start
I have problem starting instance i-4b6a5985. After reboot, instance is not reachable, and 1/2 status checks fails. 
I have tried to mount root volume to another instance and redo all of my changes (hostname, timezone,...), but instance is still not accessible.
System log is  also empty, so i ran out of debugging ideas (other than building a new instance, which is really a last resort).

EDIT: after a few minutes, instance was pingable, and after few more, i was able to ssh onto it, but instance is extremely slow? Basic commands like ""ls"" lake minute to load. System log is still empty.

Can anyone help me debug this problem with instance being so slow?

Edited by: bedenko on Aug 9, 2015 8:36 AM"
Amazon EC2	"Re: instance will not start
Found out, that i ran out of IOPS 
Moved database to RDS to release read/writes to disk, and everything is working now."
Amazon EC2	"EC2 instance stuck in ""stopping"" state
Hello,

I have received a message regarding an instance that was running on degraded hardware. I've seen that this instance was unreachable since yesterday. I've tried to stop it but it is stuck in ""stopping"" state. I've tried to force stop many times, but nothing has changed. Please can you check it? 

The instance id is i-f246deb1.

Thanks in advance."
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
After 30 minutes, the instance finally stopped."
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello,

Apologies for the frustration this may have caused. I'm happy to hear that it finally stopped. Please do let us know if you run into further issues.

Kind regards,
Chris"
Amazon EC2	"Steps in Autoscaling policy created by Cloudformation
Hello, 

I would like to know how can I create an Autoscaling policy with different steps using CloudFormation. Using AWS Console is very easy but I want to automatize this process whit CloudFormation.

Thanks."
Amazon EC2	"Reserved Instances doubts
We are thinking of buying reserved instances. And I have few doubts which needs be clarified:

================================================================
Per this link here: http://aws.amazon.com/ec2/purchasing-options/reserved-instances/buyer/#Important_Notes_about_Purchases , the RI cannot be changed/modified later. Here is the excerpt:

Reserved Instance Type, Platform, Instance Type, Availability Zone, and term length must be chosen at purchase, and cannot be changed later. However, you can list for sale any or all of your eligible Reserved Instances on the Reserved Instance Marketplace.

But there is a detailed section on how to modify RI: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ri-modifying.html
So these are 2 contradicting statements. Can we modify the RI once purchased or is it not allowed? OR am I missing something obvious here?
================================================================

Does the RI charges apply to my existing On-demand instances?
e.g. I have 10 M4.large instances running. And I buy an RI of 10 M4.large instances.
I understand that once I buy RI, as long as there is capacity in my RI, I will be charged the RI charges and once that limit is crossed, on-demand will kick in.
However, would this RI charges of 10 M4.large instances apply to my current running 10 m4.large instances? OR, the RI charges is applicable only for the new instances that are created post RI purchase and my current running 10 m4.large instances will continue to attract on-demand changes?
================================================================

Thanks."
Amazon EC2	"Re: Reserved Instances doubts
I guess my 2nd question is answered here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts-reserved-instances-applicationandblilling.html#concepts-reserved-instances-application

Here is the excerpt:

Since he already has instances running when he purchases the Reserved Instances, Amazon EC2 will automatically apply the discounted hourly rates to the already running On-Demand instances that match the specifications for the Reserved Instances he purchased.

Post RI purchase, currently running on-demand instances will be charged at RI rate as long as the RI capacity satisfies."
Amazon EC2	"Re: Reserved Instances doubts
Hi,

I have created an outbound billing support case to address your query regarding Reserved Instance Modification and Billing. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1464705241

Regards,

Luke H."
Amazon EC2	"I connect to RDS, worked fine until today
I cannot connect to my RDS instance. It was ok yersterday and today it just refuse to connect. I try to connect using MySQL Workbench with the same connection I tried before.

I've checked the Security Group and it has my IP Address. The server is running. Firewall is off.

Anyone can help please.

Edited by: idansh on Aug 9, 2015 8:51 AM"
Amazon EC2	"Re: I connect to RDS, worked fine until today
Fasle alarm.

The issue was an unsuccessful install of ZoneAlarm that left a service that blocked it apperently. After installing ZoneAlarm again and allow the connection, it worked.

Thanks."
Amazon EC2	"Not able to ssh into the instance
I am not able to ssh into a new instance i created. Due to some problems my main instance( let's call it instance A - i-39f67495) had some key authentication problem and so i was not able to ssh into it at all. So i started another instance and connected the instance A EBS to the new one and tried to edit the  key but that didn't work either or maybe i did it wrong. So i decided to extract all the main files from the instance A EBS and delete it. But now if i create a new instance and successfully ssh into it as usual, i can't ssh after i attach the instance A EBS volume. 

Basically i have a EBS volume that i want to extract data from but just as i attach it to another new instance on /dev/sdf , i can't ssh to the instance. It says connection refused but when i de-attach the EBS again and try ssh-ing, it works. 
I don't understand the problem. Any help or insight would be appreciated. Please help!"
Amazon EC2	"Re: Not able to ssh into the instance
what OS are you using?
what region did you do this in?
what AMI did you launch from?
what happens if you attach the volume while ssh'd from another window into that instance?
have you tried to attach at /dev/sdg or another address?

Edited by: skaperen257 on Aug 9, 2015 2:52 AM"
Amazon EC2	"Re: Not able to ssh into the instance
Attaching the volume while ssh from another window into that instance did the trick. I didn't realize that ebs volume can be attached to a running instance. Thank you so much."
Amazon EC2	"Inaccessible Windows Instances
I am trying to create Windows instances on EC2, but I'm totally unable to connect to them in any way.

I have two instances, one with Windows Server 2012 Base and the other with Windows Server 2003 R2 SP2 Base. Both are in the same VPC and use the same security group.

I am unable to RDP or ping any of them.

I've created an Internet Gateway and attached it to the VPC. I've changed the security group to allow ALL inbound traffic from Anywhere. But I'm still unable to RDP or ping.

I'm confident it's not a client issue because I'm able to RDP to another instance in a different account. I've tried to connect from that instance to my instance, but no success.

Is there anything else I can do?

Edited by: hosamaly on Aug 8, 2015 4:26 AM"
Amazon EC2	"Re: Inaccessible Windows Instances
Hello,

I was unable to locate running instances associated with this Account.
In order to deep investigating your issue can you please specify the affected instance-id?

Regards,
Giorgio"
Amazon EC2	"Re: Inaccessible Windows Instances
Thank you very much. The instances are actually in a different account. I've terminated one to keep the costs down (as I'm unable to use them), but I've still got a running instance with ID i-07d66ba6.

The other one had exactly the same configuration except it was a c3.large.

Thanks!"
Amazon EC2	"Re: Inaccessible Windows Instances
Hello,

Unfortunately we can't provide you with details of an instance on a different account.  This is for security and privacy reasons.

The general things to watch out for are that you have the security groups configured correctly, that the instance has a public IP and is in a public subnet and that Windows Firewall is disabled.

Regards,

Matt W."
Amazon EC2	"Status checks takes too long
Hello,

The status checks initiated when starting my EC2 instance, takes between 5 - 10 minutes.

Is there a way to shorten the time required for these checks ?

Thanks in advance for any help."
Amazon EC2	"Move of snapshot or image out of AWS account
I have a snapshot of 2 volumes (root  and another) and would like to move them out of the company AWS account to use them for other projects.  How do I do that?

Thanks in advance."
Amazon EC2	"Re: Move of snapshot or image out of AWS account
if the destination is another AWS account you can make the snapshot available to it.

if the destination is a server outside of AWS, then you need to set up an appropriate security group (if needed), launch an instance, attach the volume, and transfer it over the network.  encryption is recommended for security.  what OS are you using?"
Amazon EC2	"EBS snapshot question about duplicates
my understanding is that if 2 snapshots are made from one volume then duplication is not made.

i'd like to know/understand what happens in this scenario:

0.  Alice, Bob and Carol each have separate AWS accounts.

1.  Alice create a 1 TB volume an populates it with 960GB of data, make a snapshot of the volume, deletes the volume, and makes the snapshot available to the public.

2.  Bob and Carol each make a volume from Alice's snapshot and each make a small change to a small (4k) file.

3.  Bob and Carol each make a snapshot of that volume then delete the volume.

4.  Alice decides she no longer wants to offer that data and deletes the snapshot she made in #1 above.

under which snapshot is the data that Bob and Carol are keeping now stored?

which account is paying for the EBS space being used by most of the data Bob and Carol are keeping?"
Amazon EC2	"Unable to load web page
Hi, I created an EC2 instance (instance ID i-49397884) and I'm able to connect to it via SSH. I've also allowed HTTP access (via port 80) from any IP address. However, I'm unable to access my web page or  successfully ping its public IP. The instance is running and the status checks are fine. 

What should I do?

Edited by: PuzzledMan on May 4, 2015 11:37 PM"
Amazon EC2	"Re: Unable to load web page
Hello,

I did check your instance and it appears to be in stopped state. I will not be able to view the security groups associated with your instance if it is in stopped state. Could you please confirm that your security group ingress rules is configured to allow connection to ICMP and TCP port 80 from yoru IP?

Regards
Shiroy"
Amazon EC2	"Re: Unable to load web page
Have you checked that the web server has started and listening on port 80?"
Amazon EC2	"Re: Unable to load web page
Hello,

I reviewed your instance console output and seems that the httpd service is not starting at boot time.

You can check if your webserver is configured to start at boot with the following command:

 chkconfig --list |grep httpd 


and you can enable this service to start at boot with the following command:

 sudo chkconfig httpd on 


Regards,
Giorgio"
Amazon EC2	"Re: Unable to load web page
I am trying to load the Hue web interface as per instructions on this page - http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/gsg-hue.html
I set the httpd service to on master node. And, ssh tunneling was successful. But, localhost:8157 will still throw an ""This webpage is not available"" error. Can someone help?"
Amazon EC2	"Can't connect to new Ubuntu instance
I just created an Ubuntu instance, but keep getting timeout errors when trying to ssh in using Putty.

I've followed all the instructions, and I've researched the forums for similar cases and tried the fixes noted in those threads, to wit, I've adjusted the security group rules to allow access on port 22, to allow pinging using ICMP, etc, etc.

I've also made sure port 22 is open on the requesting computer, and I've attempted connecting from work, from home using FIOS, and from an uncontrolled access point (basically, my point here is I feel confident I've ruled out things like firewalls or corporate domains getting in the way).

Please let me know what further detail I need to provide to help troubleshoot this, and many, many thanks in advance for your help.

Edited by: Robert F. Meyer on Jul 31, 2015 1:07 PM
I lit up another Ubuntu server and the same non-result -- can't connect.

Then I lit an Amazon Linux instance, and that one connects just fine -- and it's using the same security group.  Certainly looks like something to do with the Ubuntu instances.

Edited by: Robert F. Meyer on Jul 31, 2015 1:50 PM
And now the Amazon flavor of Linux is unreachable -- this sort of behavior seems inconsistent.

Perhaps I'll try a couple Windows installs -- but my purpose is to try my hand at running a Git server...."
Amazon EC2	"Re: Can't connect to new Ubuntu instance
Hi Robert,

Could you give me the instance id of the ubuntu instance you were having trouble connecting to?

If it's still in a running state I can take a look at it.

Regards,

Rodney"
Amazon EC2	"Re: Can't connect to new Ubuntu instance
R-Dog, my man.

Thanks in advance for the help.

Here are the three instances I've had trouble connecting to.

i-9a77e273 (I was able to connect to this one once, then not again)
i-ca708318
i-8bf58327

Let me know if you need any more detail.

Cheers"
Amazon EC2	"Re: Can't connect to new Ubuntu instance
Hi Rodney -- just wondering if you're still there.

Thanks"
Amazon EC2	"Re: Can't connect to new Ubuntu instance
Hi,

I took a look at the instances. The instances are running fine with no issues. The security groups for the instances only allow incoming connections to specific ports from specified IP addresses. Please have a look at the instances' security group and confirm if you are trying to connect from the IP address specified.

For Ubuntu instances, the user name to use to connect is ubuntu (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html). 

Regards,

Souza S"
Amazon EC2	"Elastic IP not reachable... :(
My ec2 infomation is 
Instance ID : i-4c4df2be
Public DNS : ec2-52-68-237-207.ap-northeast-1.compute.amazonaws.com
Instance state : running
Private IPs : 172.31.30.212
Public IP : 52.68.237.207
Elastic IP : 52.68.237.207

I can't reach Elastic IP. 

check this out
// try 1
telnet ec2-52-68-237-207.ap-northeast-1.compute.amazonaws.com 8080
Trying 172.31.30.212...
Connected to ec2-52-68-237-207.ap-northeast-1.compute.amazonaws.com.
Escape character is '^]'.

// try 2
telnet 172.31.30.212 8080
Trying 172.31.30.212...
Connected to 172.31.30.212.
Escape character is '^]'.

// try 3
telnet 52.68.237.207 8080
Trying 52.68.237.207...

Try 3 is failed. 

I can't understand this situation.

please help me."
Amazon EC2	"Re: Elastic IP not reachable... :(
My mistake....

security group is not setting of inbound"
Amazon EC2	"ELB: Bind to port 843
I know that the AWS ELB limits the ports under 1024 that you can bind to and this is by design.

Is it possible to get an exception to this and configure an ELB to be allowed to bind to port 843?

Thanks"
Amazon EC2	"Re: ELB: Bind to port 843
Hello,

This is entirely possible, however you need to change the type to a TCP under the Load Balancer Protocol when carrying out the configuration, type in the port number of 843 in the Load Balancer Port and then select the appropriate Instance Protocol and Port.

This is quite a common configuration for the likes of SMTP and other services that need an Elastic Load Balancer for traffic distribution.

If we can be of further assistance please ask.

Regards,

Davin G."
Amazon EC2	"Re: ELB: Bind to port 843
When I try this, I get the following error:

""Load Balancer port must be either 25, 80, 443 or 1024 to 65535 inclusive.""

Is there any way around this limitation?"
Amazon EC2	"Re: ELB: Bind to port 843
Hello,

Unfortunately ELB doesn't currently support ports other than 25, 80, 443 and 1024+.

At this point it's not possible to override that limitation but I'd like to confirm that this has already been entered as a feature request.

I'm sorry for not having an immediate solution but please stay tuned for ELB feature announcements.

Regards,
Szymon"
Amazon EC2	"Re: ELB: Bind to port 843
Any update on this, is there a work-around to allow ELB on ports rather than 25, 80, 443 and 1024+? Can not use ELB because of this limitation."
Amazon EC2	"Re: ELB: Bind to port 843
Hello,

Currently there is no work around or override for this using restricted ports. We have however had this feature requested from many customers, it's already being considered. 

Any announcements about this feature will be posted on our ""What's New"" web page so keep an eye out there. 

Regards,
Julian H."
Amazon EC2	"Re: ELB: Bind to port 843
I am also in need of this feature... I need to load balance ports below 1024"
Amazon EC2	"Re: ELB: Bind to port 843
+1 for this feature.  The lengths we have gone to work around this problem are crazy."
Amazon EC2	"Re: ELB: Bind to port 843
Hello,

Thank you for your interest and we are already working on this issue as a feature request. Unfortunately, we do not have a estimated time for this to be released at the moment. Please keep an eye on http://aws.amazon.com/new/ as we should be publishing it there when this feature is available.

Best regards,
Amo"
Amazon EC2	"Re: ELB: Bind to port 843
Any progress on binding to ports under 1024?"
Amazon EC2	"Re: ELB: Bind to port 843
Hi,

At the moment we still don't have an ETA for this feature.  Currently Load balancers can listen on the following ports: 25, 80, 443, 465, 587, and 1024-65535. http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-listener-config.html

Regards,

Souza S"
Amazon EC2	"I can't terminate an instance
Hello everybody,

I have tried to terminate an instance multiple times over the past several months, but the charge always shows up on my bill. I then realized that every time I turn off termination protection AND terminate the instance, a few minutes later a new instance appears.

This is a c3.large instance - I can't find anything in documentation that explains why a terminated instance would recreate itself.

Does anyone have any ideas why this is happening? This is an instance I have never used in my life (terminated it as soon as I created it in error the first time).

Thank you,

Ross"
Amazon EC2	"Re: I can't terminate an instance
Hi Ross,

Could you provide the instance id? I'd be happy to take a look.

Regards,

Rodney"
Amazon EC2	"EC2 instance does not terminate, stuck for several hours now
Instance ID
i-eeaec942

Instance state
shutting-down

Stuck for several hours in that 'shutting-down' state.  Please terminate it."
Amazon EC2	"Re: EC2 instance does not terminate, stuck for several hours now
Hello,

Thank you for posting on AWS Forum.

I am reviewing your instance, will update you through this forum correspondence as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: EC2 instance does not terminate, stuck for several hours now
Hi,

This quick update only to confirm that your instance is now correctly terminated.

Regards,
Giorgio"
Amazon EC2	"I am unable to terminate an instance, its in shutdown status for days
The instance is: i-a0d35577

Thanks"
Amazon EC2	"Re: I am unable to terminate an instance, its in shutdown status for days
Hello,

I would like to confirm that your instance is now correctly terminated.

Regards,
Giorgio"
Amazon EC2	"EC2 instance won't stop
My instance suddenly stopped responding and started failing checks.
It's stuck stopping now.

Ok now it works but I can not connect via http to it.

ID: i-08ecada2

Edited by: maciejkrol on Aug 8, 2015 12:29 AM"
Amazon EC2	"Re: EC2 instance won't stop
Hello,

I have just check your instance and was able to connect on port 80:

  nc -zv 52.xxx.xxx.157 80
Connection to 52.xxx.xxx.157 80 port [tcp/http] succeeded! 


Can you please confirm if you are still experiencing this issue?

Regards,
Giorgio

Edited by: GiorgioN@AWS on Aug 8, 2015 12:27 PM"
Amazon EC2	"EC2 t1.micro failing status checks
Hi 

I'm having trouble with an instance that has become unreachable. I've rebooted the instance and it gets as far as 1/2 Checks passed then stops. Instance ID is i-1ad96012.

The VM is running Windows server 2012 R2. Is there an update that could have run in the background and caused this? On the server I'm running wifi controller software which runs in java and the back end is based on Mongo DB.

The system log gives
2015/08/07 13:05:56Z: AMI Origin Version: 2014.05.16
2015/08/07 13:05:56Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/08/07 13:05:56Z: OS: Microsoft Windows NT 6.2.9200.0
2015/08/07 13:05:56Z: Language: en-US
2015/08/07 13:05:56Z: EC2 Agent: Ec2Config service v2.2.3.0
2015/08/07 13:05:59Z: Difficulty detecting PV driver details for Console Output
2015/08/07 13:06:06Z: Message: Waiting for meta-data accessibility...

The last line of the log then just keeps repeating.
I'd really appreciate any help on this problem as I'm fairly new to cloud computing and VMs.

Thanks
Russ

Edited by: Amazon Customer on Aug 7, 2015 6:29 AM"
Amazon EC2	"Re: EC2 t1.micro failing status checks
Hello Russ,

The symptoms you have described align with what is described in the following:
https://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

Further information and remediation steps are included in this page, I've included them below for your convenience:


1. Stop the instance
2. Create a backup (Right click the instance in the AWS Management Console, Select Image, Create Image)
3. Change the instance type to C3 (any c3)
4. Start the instance
5. RDP into the instance
6. Download the AWS PV upgrader
7. Unzip and run AWSPVDriverSetup7.2.5.msi
8. The OS will reboot automatically after running the upgrader, and install the driver. During this time the instance will be unavailable (5-15 minutes). Once complete, the instance will again be accessible.
9. Verify driver has been installed by checking device manager and under storage controllers look for AWS PV Storage Host Adapter and check the driver properties and make sure the version is 7.2.5.1
10.Stop the instance
11. Change instance type back to the original instance type
12. Start the instance, login, and use as needed


Please let me know if the above solves your issue or if you need help with any of the above.

Thanks,
Michael"
Amazon EC2	"Using Payoneer virtual mastercard
Can I use payoneer virtual master card (http://www.payoneer.com/VirtualCard.aspx) to subscribe for EC2 instance?"
Amazon EC2	"Re: Using Payoneer virtual mastercard
I have the same question, why can't we use payoneer card to subscribe s3 service ? Please, someone post a reply."
Amazon EC2	"Auto scaling fails to start
I have a schedule based auto scaling. It was working fine until I change the AMI.
I have started it manually and it works fine. Added to LB and so on and it worked. Everything seems to be ok.

The Auto Scaling Group just fails to start and give no error message see below and/or attached screenshot.

Please help.

Thanks, in advance

aws autoscaling describe-scaling-activities --auto-scaling-group-name gmx-server2
        {
            ""Description"": ""Executing scheduled action schedule-start-server2"",
            ""AutoScalingGroupName"": ""gmx-server2"",
            ""ActivityId"": ""3d292766-849b-4281-b7b8-68a1254276a4"",
            ""Details"": ""{}"",
            ""StartTime"": ""2015-08-07T16:09:26.004Z"",
            ""Progress"": 100,
            ""EndTime"": ""2015-08-07T16:09:26Z"",
            ""Cause"": """",
            ""StatusCode"": ""Failed""
        }"
Amazon EC2	"Re: Auto scaling fails to start
Guys, now I know what was going on.

There was an instance running for that auto scaling group that I tried to have an instance started and the maximum number of instances was 1, so it tried to start an instance in that given date and time but the ASG was at its maximum instances number already.

Hope it was clear enough."
Amazon EC2	"docker containers cannot connect to rest of internet
Hi,
I am running multiple sites in Docker containers.

The problem is that at least 2 of these sites need to connect to some other site on internet, but this connection is blocked.

For an example, imagine to have a wordpress website inside a docker container. It needs to contact the site for the Wordpress plugins, bu something blocks the connection.

The message by Wordpress is:
```
Warning: An unexpected error occurred. Something may be wrong with WordPress.org or this serverâ€™s configuration. If you continue to have problems, please try the support forums. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in /var/www/html/wp-includes/update.php on line 457
```

Same happens for other sites built with other technologies.

The container expose the port 80 and 443 of the container and they are binded to port 8051 and 8052 of the host ec2 machine.

Does something in aws networks block traffic from my container?

Any help?"
Amazon EC2	"Re: docker containers cannot connect to rest of internet
Were you able to solve this issue? I think I'm having a similar problem because I can't view my running dockerized app through my public DNS"
Amazon EC2	"My instance won't stop
I was just notified that a particular instance would be shut down in 14 days due to degraded hardware. When I tried to connect to the instance, I couldn't. It was already marked unhealthy in the load balancers, and was replaced by our autoscale group, so I tried to stop it. Nothing for 15 minutes. Then I attempted to terminate it. Nothing so far after 5 minutes. It's stuck in the ""Shutting Down"" state. Can someone help? I don't need the server anymore, and would be happy if it just went away.

i-7c2741ab

Thanks"
Amazon EC2	"Re: My instance won't stop
Hello,

The instance i-7c2741ab should now be in terminated state. 

Best Regards,
Chandra P."
Amazon EC2	"Re: My instance won't stop
It sure is. Thanks!"
Amazon EC2	"ELB 502 BAD_GATEWAY
I am loading some images through a PHP script. When I do this, as long as the width and height of the image is 657x657 and below, the image will load. If it is above 657x657, I get a 502 BAD_GATEWAY error. 

If I take out the load balancer, then the images load no matter the size. I am using fpassthru to display the images. The content type and length headers are being set to the correct type and length of the images.

Anyone have any ideas?

Edited by: Keith A. Slater on Aug 4, 2015 11:49 AM"
Amazon EC2	"Re: ELB 502 BAD_GATEWAY
Any help here?"
Amazon EC2	"Re: ELB 502 BAD_GATEWAY
I don't have any ideas, but I would be happy to take a quick look. Who knows, something interesting might turn up  As you seem to be stuck, I guess it can't hurt. Feel free to send the domain name and sample URLs (direct and ELB if possible) in a PM."
Amazon EC2	"EBS before warm-up - What can be expected?
Hi, 

We have a requirement where we need to clone an existing EBS volume (snapshot it and create a new EBS volume); and then do high IO (aprox. 10000 IOPS) on this cloned volume for a few hours and then shut it down. 

Our initial plan was to simply create this volume using Provisioned IOPS that match our requirements. The problem we are seeing on preliminary tests using General Purpose (GP) volumes is that since this is a newly created volume that hasn't been pre-warmed we are not getting even close to the theoretical IO capacity,. 

Some initial tests show that a GP volume that's sized as 1200 / 3000 IOPS will actually give us roughly 150 IOPs on the first read (from a c4.8xlarge if that matters). 

Now, we do know that ""unwarmed"" volumes have somewhat lower IO, but the numbers I've seen reported are on the range of 5%-50% drop of throughput. We are actually experiencing something that's more like 90%. 

We'd like to avoid pre-warming, since the goal here is to get the result as soon as possible. If it's possible we would rather compensate the degradation by just purchasing a higher amount of provisioned IOPs. 

So here come a couple of questions:

Is the ""150 actual IOPs on the first read of a 1200 / 3000 GP volume"" number something that can be expected or is it a sign of some problem in our configuration?
Do ""Provisioned IOPS"" volume suffer from this as much as the GP ones?
Would using a different instance types help mitigate the problem?
Would increasing the number of provisioned IOPs beyond our actual requirement help? 
Would striping the volume help?"
Amazon EC2	"Dynamic Autoscaling based on Response time
I want to set Dynamic autoscaling policy based on breaching certain response time of application. But I can see only scaling (scale up / scale down) based only on CPU utilization, Network In, Network Out, Disk read and Disk Write. Is there a way to dynamically scale out based on response time threshold ?"
Amazon EC2	"Re: Dynamic Autoscaling based on Response time
With an Elastic Load Balancer, I believe that you could use the ""Latency"" metric:

""The time elapsed, in seconds, after the request leaves the load balancer until a response is received.""

https://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-cloudwatch-metrics.html"
Amazon EC2	"Lost Databases after Yum Update
Hi Guys! I am new to the forum, please help me recover my mysql databases which I lost after I updated yum with 'sudo update yum' command. When I goto mysql database, I don't see my databases except mysql and test databases. Please help me recover it for me since my website which was connected to this database is not working. Thanks."
Amazon EC2	"Re: Lost Databases after Yum Update
Any help recovering my data would be appreciated. Thanks.

Edited by: shahid11 on Aug 7, 2015 9:25 AM"
Amazon EC2	"Alternatives to Amazon Windows AMIs that were removed?
Hello, 

A month or so back, Amazon took down all their AMIs for windows and replaced them with versions that had software fees. The problem that I am having is that few of the older versions seem to have a newer paid-for analog. For instance, the Windows 2012 and 2008 server editions seem to be gone. 

For instance, I can't seem to find the newer analog to ami-3ebb8056. That AMI used to be Amazon's offering for Windows Server 2008, which I used heavily if I needed to run a program and I was away from a desktop computer. Is there a newer analog to that image and maybe the Server 2012 counterpart?

Thanks

Edited by: Imagination! on Aug 7, 2015 7:19 AM"
Amazon EC2	"Instance reachability check failed at ... error.
Hello. I have a problem. I want my instance communicate only with my local pc. I deleted all inbound and outbound rules in windows firewall and forbidden all outbound connections and created appropriate rules for remote desktop control. Approx. after 30-60 minutes my remote desktop session hangs and under ""Status Checks"" and i see ""Instance Status Checks"" error - ""Instance reachability check failed at August 6, 2015 at 5:45:00 PM UTC+3 (5 minutes ago)"".
I understand that's happening cause of lack of certain inbound and outbound rules. So what rules should i create to pass ""Instance reachability check"" successfully?"
Amazon EC2	"Re: Instance reachability check failed at ... error.
up"
Amazon EC2	"Re: Instance reachability check failed at ... error.
Hi,

Before I run through a number of things to check, can you confirm if you have set up your own VPC in AWS or if you deployed your instance within the Default VPC?

Cheers,

Stooby..."
Amazon EC2	"Re: Instance reachability check failed at ... error.
Stooby

I didn't create my own VPC, so i think it's default.

Edited by: Askerrr on Aug 7, 2015 2:21 AM"
Amazon EC2	"Re: Instance reachability check failed at ... error.
For RDP access from you local PC you need to ensure that you Security Group only has RDP access from your local IP address.  

Have you managed to connect to this at all before? Or are you saying it drops connection after 30-60 miniutes? 

Cheers,

Stooby..."
Amazon EC2	"Re: Instance reachability check failed at ... error.
Yes Stooby, i have managed to connect. I've set rules for RDP in security group and network ACL (as you advised earlier). It worked flawlessly without any errors for many hours. Then i've installed wireshark to check if my instance communicate only with my local pc via rdp, i found out that my instance communicating with many strange ips (microsoft's mostly) despite my security group and network ACL settings. To prevent those unnecessary connections i've decided to configure windows firewall inbound and outbound rules. I've deleted all inbound and outbound rules and created inbound and outbound rules for RDP. Instance worked and i had correctly working rdp connection but after 30 minutes i've received ""Instance reachability check"" error. I know that to let amazon check my instance i must allow windows firewall to let some outbound connections, but i don't know what rules."
Amazon EC2	"Multiple Networks Interfaces in One Instance
I own an instance running CentOS 6 , I'm bottleneck in the item data traffic.

I'm wondering , because in a local virtual machine can easily add multiple interfaces on CentOS and access the VM via any of the interfaces.

When I do this on an EC2 instance lose access to instance , give have to remove one of the virtual networks and restart the instance to return have access to it.

Should you use more than one network interface in an instance like to help to do the same ."
Amazon EC2	"Re: Multiple Networks Interfaces in One Instance
Hello,

When you add an interface to a Linux instance, you will need to ensure that the kernel knows how to manage the traffic coming in/going out each interface.  Our Amazon Linux AMI will configure the interface automatically, but in other distributions, it may be necessary to configure routes and interface rules before either interface will work correctly.  You may need to check into bringing up interfaces for your specific Linux distribution.

Best regards,
Justin G."
Amazon EC2	"Dear,amazon team support please let me clarify some things
Dear,amazon team support 
please let me clarify some things ,my account is free tier means free only right i mean it wont cost anyhitng to me.After 1 yr it will charge right.
I f i shutdown my instance it will charge to me.
And if i have increased ram of my instance will it charge.
Please reply."
Amazon EC2	"Re: Dear,amazon team support please let me clarify some things
Hi,

AWS has a free tier in which many of its services can be used free for 1 year with limitations.  Should you exceed the limitation of the free tier then you will be charged.  To see a full explanation of what is included within the free tier please visit the page below:

https://aws.amazon.com/free/

If you shut down your instance you will not be charged, in fact quite the opposite.  When the instances are in a shutdown state, all charging stops for that instance.   If this instance is within the free tier then you wont be charged anyway (for the 1st year).

If you use a larger instance size (with more ram) then it may fall outside of the free tier limits.  The free AMI's and instance types are shown so be sure to use these when starting if you wish to keep it free.  

Cheers,

Stooby..."
Amazon EC2	"I am a newbie for ec2, Can i use windows sever as my ec2 instance
hi,Can i use windows sever as my ec2 instance  because mine aws is free tier.please help me out.why i am asking because windows is licensed."
Amazon EC2	"Re: I am a newbie for ec2, Can i use windows sever as my ec2 instance
Hi,

I have created an outbound billing support case to address your query on case 1462994851. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"RDS IOPS Monitor
Hi, How to get the total number of IOPS i used within a hour? and how many burstable iops are available?"
Amazon EC2	"Re: RDS IOPS Monitor
Hi,

Take a look at these Cloudwatch metrics available:

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/ebs-metricscollected.html

Cheers,

Stooby..."
Amazon EC2	"Is Reserved instance charging done at full hour units?
Suppose I have a reserved instance.
From what I understand, AWS will automatically optimize which instances are charged at the lower RI rate.
If I stop and start a running instance several times during an hour, is that considered as one hour charge or as multi-hour charge (as on-demand is priced full hour for partial hour)

thanks"
Amazon EC2	"Re: Is Reserved instance charging done at full hour units?
Hi,

You will be charged for multiple hours as per On-Demand pricing.

Extract from AWS Documentation:
When you purchase Reserved Instances, you get two benefits: a capacity reservation for a number of EC2 instances you will launch at some future time, and a discounted hourly fee. The rest of the experience of launching and working with Reserved Instances is the same as working with On-Demand EC2 instances."
Amazon EC2	"ec2 status check failed
Dear all,

My ec2 instance is : i-9285e953. Its status check was failed (1/2 checks pass) so that I could not ssh to manage it. I rebooted (and stop, restart) it but it is still inaccessible. Could you please check the problem ?

Thank you,

Here is the console logs: 

http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-48-generic (buildd@orlo) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015 (Ubuntu 3.13.0-48.80-generic 3.13.11-ckt16)
http://    0.000000 Command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=dde0e30e-be54-43dc-9a44-5769353c2e27 ro console=tty1 console=ttyS0
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x000000003fffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x40000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x3fe00000-0x3fffffff
http://    0.000000 init_memory_mapping: mem 0x3c000000-0x3fdfffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x3bffffff
http://    0.000000 RAMDISK: mem 0x3712e000-0x3788efff
http://    0.000000 ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f5a0 000054 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 000040
http://    0.000000 ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f4b0 000038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f4f0 000028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f520 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f560 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000003fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x3fffffff
http://    0.000000   NODE_DATA mem 0x3fffb000-0x3fffffff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   empty
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0x3fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 14 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x0009e000-0x0009ffff
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000dffff
http://    0.000000 PM: Registered nosave memory: mem 0x000e0000-0x000fffff
http://    0.000000 e820: mem 0x40000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 28 pages/cpu @ffff88003fc00000 s82368 r8192 d24128 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 257928
http://    0.000000 Policy zone: DMA32
http://    0.000000 Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=dde0e30e-be54-43dc-9a44-5769353c2e27 ro console=tty1 console=ttyS0
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 Checking aperture...
http://    0.000000 No AGP bridge found
http://    0.000000 Memory: 1005916K/1048180K available (7385K kernel code, 1145K rwdata, 3408K rodata, 1336K init, 1444K bss, 42264K reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	RCU dyntick-idle grace-period acceleration is enabled.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
http://    0.000000 	Offload RCU callbacks from all CPUs
http://    0.000000 	Offload RCU callbacks from CPUs: 0-14.
http://    0.000000 NR_IRQS:16640 nr_irqs:1208 16
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console tty1 enabled
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 4194304 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2500.054 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.10 BogoMIPS (lpj=10000216)
http://    0.009892 pid_max: default: 32768 minimum: 301
http://    0.012039 Security Framework initialized
http://    0.014359 AppArmor: AppArmor initialized
http://    0.016003 Yama: becoming mindful.
http://    0.020095 Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
http://    0.024145 Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
http://    0.028115 Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)
http://    0.031660 Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes)
http://    0.032162 Initializing cgroup subsys memory
http://    0.036007 Initializing cgroup subsys devices
http://    0.040003 Initializing cgroup subsys freezer
http://    0.042476 Initializing cgroup subsys blkio
http://    0.044003 Initializing cgroup subsys perf_event
http://    0.048004 Initializing cgroup subsys hugetlb
http://    0.050548 CPU: Physical Processor ID: 0
http://    0.052758 mce: CPU supports 2 MCE banks
http://    0.056025 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.056025 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.056025 tlb_flushall_shift: 6
http://    0.081111 ACPI: Core revision 20131115
http://    0.086849 ACPI: All ACPI Tables successfully acquired
http://    0.090469 ftrace: allocating 28562 entries in 112 pages
http://    0.121304 Switched APIC routing to physical flat.
http://    0.128329 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.171915 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.177295 installing Xen timer for CPU 0
http://    0.180070 cpu 0 spinlock event irq 69
http://    0.187927 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.193357 x86: Booted up 1 node, 1 CPUs
http://    0.195896 smpboot: Total of 1 processors activated (5000.10 BogoMIPS)
http://    0.196341 NMI watchdog: disabled (cpu0): hardware events not enabled
http://    0.200059 devtmpfs: initialized
http://    0.204290 EVM: security.selinux
http://    0.206405 EVM: security.SMACK64
http://    0.208004 EVM: security.ima
http://    0.209916 EVM: security.capability
http://    0.212656 pinctrl core: initialized pinctrl subsystem
http://    0.215773 regulator-dummy: no parameters
http://    0.216035 RTC time: 14:53:30, date: 08/02/15
http://    0.218708 NET: Registered protocol family 16
http://    0.220121 cpuidle: using governor ladder
http://    0.222590 cpuidle: using governor menu
http://    0.224040 ACPI: bus type PCI registered
http://    0.226530 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.228247 PCI: Using configuration type 1 for base access
http://    0.231853 bio: create slab <bio-0> at 0
http://    0.232152 ACPI: Added _OSI(Module Device)
http://    0.234640 ACPI: Added _OSI(Processor Device)
http://    0.236005 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.238779 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.243075 ACPI: Interpreter enabled
http://    0.244007 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20131115/hwxface-580)
http://    0.249683 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20131115/hwxface-580)
http://    0.253666 ACPI: (supports S0 S3 S4 S5)
http://    0.256004 ACPI: Using IOAPIC for interrupt routing
http://    0.258795 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.276809 ACPI: No dock devices found.
http://    0.314438 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.316010 acpi PNP0A03:00: _OSC: OS supports ASPM ClockPM Segments MSI
http://    0.319906 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.320064 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.324667 acpiphp: Slot [0] registered
http://    0.327754 acpiphp: Slot [3] registered
http://    0.328249 acpiphp: Slot [4] registered
http://    0.330918 acpiphp: Slot [5] registered
http://    0.332250 acpiphp: Slot [6] registered
http://    0.334920 acpiphp: Slot [7] registered
http://    0.336254 acpiphp: Slot [8] registered
http://    0.338953 acpiphp: Slot [9] registered
http://    0.340247 acpiphp: Slot 10 registered
http://    0.343172 acpiphp: Slot 11 registered
http://    0.344246 acpiphp: Slot 12 registered
http://    0.346861 acpiphp: Slot 13 registered
http://    0.348248 acpiphp: Slot 14 registered
http://    0.350889 acpiphp: Slot 15 registered
http://    0.352254 acpiphp: Slot 16 registered
http://    0.355037 acpiphp: Slot 17 registered
http://    0.356253 acpiphp: Slot 18 registered
http://    0.359048 acpiphp: Slot 19 registered
http://    0.360254 acpiphp: Slot 20 registered
http://    0.363025 acpiphp: Slot 21 registered
http://    0.364263 acpiphp: Slot 22 registered
http://    0.366974 acpiphp: Slot 23 registered
http://    0.368262 acpiphp: Slot 24 registered
http://    0.370861 acpiphp: Slot 25 registered
http://    0.372260 acpiphp: Slot 26 registered
http://    0.374911 acpiphp: Slot 27 registered
http://    0.376246 acpiphp: Slot 28 registered
http://    0.378968 acpiphp: Slot 29 registered
http://    0.380244 acpiphp: Slot 30 registered
http://    0.382899 acpiphp: Slot 31 registered
http://    0.384249 PCI host bridge to bus 0000:00
http://    0.386721 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.388005 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.391549 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.392006 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.396000 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.401303 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.401303 * this clock source is slow. Consider trying other clock sources
http://    0.405048 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.413508 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.418291 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.422853 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.426858 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.445783 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.448101 xen:balloon: Initialising balloon driver
http://    0.452033 xen_balloon: Initialising balloon driver
http://    0.456096 init_memory_mapping: mem 0x40000000-0x47ffffff
http://    0.460050 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.463589 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.464006 vgaarb: loaded
http://    0.465848 vgaarb: bridge control possible 0000:00:02.0
http://    0.468466 SCSI subsystem initialized
http://    0.470808 ACPI: bus type USB registered
http://    0.472018 usbcore: registered new interface driver usbfs
http://    0.475095 usbcore: registered new interface driver hub
http://    0.476026 usbcore: registered new device driver usb
http://    0.478980 PCI: Using ACPI for IRQ routing
http://    0.480396 NetLabel: Initializing
http://    0.482598 NetLabel:  domain hash size = 128
http://    0.484006 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.486873 NetLabel:  unlabeled traffic allowed by default
http://    0.488061 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.491906 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.494170 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.498068 Switched to clocksource xen
http://    0.501677 AppArmor: AppArmor Filesystem Enabled
http://    0.504437 pnp: PnP ACPI init
http://    0.506539 ACPI: bus type PNP registered
http://    0.509155 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.512997 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.516602 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.519947 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.523530 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.526784 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.546159 pnp: PnP ACPI: found 11 devices
http://    0.548672 ACPI: bus type PNP unregistered
http://    0.556704 NET: Registered protocol family 2
http://    0.559557 TCP established hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.563325 TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
http://    0.566778 TCP: Hash tables configured (established 8192 bind 8192)
http://    0.570249 TCP: reno registered
http://    0.572416 UDP hash table entries: 512 (order: 2, 16384 bytes)
http://    0.575620 UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
http://    0.579184 NET: Registered protocol family 1
http://    0.581770 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.585022 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.588573 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.592136 Trying to unpack rootfs image as initramfs...
http://    0.701952 Freeing initrd memory: 7556K (ffff88003712e000 - ffff88003788f000)
http://    0.706572 microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x416
http://    0.710176 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://    0.715678 Scanning for low memory corruption every 60 seconds
http://    0.719378 Initialise system trusted keyring
http://    0.722187 audit: initializing netlink socket (disabled)
http://    0.725578 type=2000 audit(1438527210.692:1): initialized
http://    0.751216 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.757873 zbud: loaded
http://    0.761534 VFS: Disk quotas dquot_6.5.2
http://    0.765132 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.770853 fuse init (API version 7.22)
http://    0.774604 msgmni has been set to 1979
http://    0.778086 Key type big_key registered
http://    0.781901 Key type asymmetric registered
http://    0.785705 Asymmetric key parser 'x509' registered
http://    0.789996 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://    0.796211 io scheduler noop registered
http://    0.799205 io scheduler deadline registered (default)
http://    0.802225 io scheduler cfq registered
http://    0.804675 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.807772 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://    0.811437 ipmi message handler version 39.2
http://    0.814158 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
http://    0.818582 ACPI: Power Button PWRF
http://    0.820826 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
http://    0.825396 ACPI: Sleep Button SLPF
http://    0.827905 GHES: HEST is not enabled!
http://    0.830912 xen:grant_table: Grant tables using version 1 layout
http://    0.834391 Grant table initialized
http://    0.836690 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://    0.866961 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.872567 Linux agpgart interface v0.103
http://    0.875986 brd: module loaded
http://    0.878562 loop: module loaded
http://    0.893911 scsi0 : ata_piix
http://    0.896051 scsi1 : ata_piix
http://    0.898908 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    0.902589 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    0.908111 libphy: Fixed MDIO Bus: probed
http://    0.911286 tun: Universal TUN/TAP device driver, 1.6
http://    0.914485 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://    0.919065 PPP generic driver version 2.4.2
http://    0.921761 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.926074 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    0.932638 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://    0.936282 ehci-pci: EHCI PCI platform driver
http://    0.939891 ehci-platform: EHCI generic platform driver
http://    0.943208 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://    0.947173 ohci-pci: OHCI PCI platform driver
http://    0.950389 ohci-platform: OHCI generic platform driver
http://    0.954455 uhci_hcd: USB Universal Host Controller Interface driver
http://    0.958160  xvda: xvda1
http://    0.960149 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    0.967480 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    0.971570 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    0.974552 mousedev: PS/2 mouse device common for all mice
http://    0.979716 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
http://    0.985338 rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
http://    0.989965 rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
http://    0.994230 device-mapper: uevent: version 1.0.3
http://    0.998888 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://    1.007064 ledtrig-cpu: registered to indicate activity on CPUs
http://    1.012864 TCP: cubic registered
http://    1.017315 NET: Registered protocol family 10
http://    1.021912 NET: Registered protocol family 17
http://    1.026315 Key type dns_resolver registered
http://    1.030900 Loading compiled-in X.509 certificates
http://    1.036395 Loaded X.509 cert 'Magrathea: Glacier signing key: 4eb2de249917cbf39cb85692e54cebade594d680'
http://    1.043583 registered taskstats version 1
http://    1.047949 Key type trusted registered
http://    1.053067 Key type encrypted registered
http://    1.056095 AppArmor: AppArmor sha1 policy hashing enabled
http://    1.060123 IMA: No TPM chip found, activating TPM-bypass!
http://    1.164127 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.168713 regulator-dummy: disabling
http://    1.171521   Magic number: 11:983:888
http://    1.174116 rtc_cmos 00:04: setting system clock to 2015-08-02 14:53:31 UTC (1438527211)
http://    1.179930 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://    1.184721 EDD information not available.
http://    1.189509 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://    1.194928 Write protecting the kernel read-only data: 12288k
http://    1.200753 Freeing unused kernel memory: 796K (ffff880001739000 - ffff880001800000)
http://    1.207541 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://    1.228197 systemd-udevd127: starting version 204
http://    1.261931 FDC 0 is a S82078B
http://    1.704137 tsc: Refined TSC clocksource calibration: 2500.001 MHz
http://    2.293712 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
Begin: Loading essential drivers ... done.

Begin: Running /scripts/init-premount ... done.

Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.

Begin: Running /scripts/local-premount ... done.

http://    2.813500 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.

done.

Begin: Running /scripts/init-bottom ... done.

http://    3.008877 random: init urandom read with 51 bits of entropy available
 * Starting Mount filesystems on boot[74G OK 

 * Starting Populate /dev filesystem[74G OK 

 * Starting Populate and link to /run filesystem[74G OK 

 * Stopping Populate /dev filesystem[74G OK 

 * Stopping Populate and link to /run filesystem[74G OK 

http://    3.206974 EXT4-fs (xvda1): re-mounted. Opts: discard
 * Stopping Track if upstart is running in a container[74G OK 

 * Starting Initialize or finalize resolvconf[74G OK 

 * Starting Signal sysvinit that the rootfs is mounted[74G OK 

 * Starting Clean /tmp directory[74G OK 

 * Stopping Clean /tmp directory[74G OK 

Cloud-init v. 0.7.5 running 'init-local' at Sun, 02 Aug 2015 14:53:34 +0000. Up 3.81 seconds.

cloud-init-nonethttp://4.07: waiting 10 seconds for network device

 * Starting set console keymap[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Bridge udev events into upstart[74G OK 

 * Starting device node and kernel event manager[74G OK 

 * Starting Signal sysvinit that remote filesystems are mounted[74G OK 

 * Starting cold plug devices[74G OK 

 * Starting log initial device creation[74G OK 

 * Stopping set console keymap[74G OK 

 * Starting Uncomplicated firewall[74G OK 

 * Starting configure network device security[74G OK 

 * Starting configure network device[74G OK 

 * Starting configure network device security[74G OK 

 * Starting Mount network filesystems[74G OK 

 * Stopping Mount network filesystems[74G OK 

cloud-init-nonethttp://4.67: static networking is now up

 * Starting configure network device[74G OK 

 * Starting Bridge socket events into upstart[74G OK 

Cloud-init v. 0.7.5 running 'init' at Sun, 02 Aug 2015 14:53:36 +0000. Up 5.81 seconds.

ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 06:5b:26:5a:7d:9d |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2015-08-02 14:53:36,389 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:37,399 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

 * Stopping cold plug devices[74G OK 

 * Stopping log initial device creation[74G OK 

 * Starting enable remaining boot-time encrypted block devices[74G OK 

2015-08-02 14:53:38,402 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:39,405 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:40,408 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:41,410 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:43,414 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:45,418 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:47,422 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:49,426 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:51,429 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:54,434 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:53:57,439 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:00,444 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:03,449 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:06,453 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:10,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:14,465 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 38/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:18,471 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 42/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:22,476 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 46/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:26,482 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 50/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:31,489 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 55/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:36,505 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 60/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:41,522 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 65/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:46,535 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 70/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:51,550 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 75/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:54:57,568 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 81/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:03,576 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 87/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:09,584 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 93/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:15,591 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 99/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:21,600 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 105/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:28,609 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 112/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:35,618 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 119/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:42,625 - DataSourceEc2.pyCRITICAL: Giving up on md from  after 126 seconds

2015-08-02 14:55:42,633 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:43,636 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:44,638 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:45,641 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:46,644 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:47,647 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:49,659 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:51,663 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:53,667 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:55,671 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:55:57,675 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:56:00,679 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:56:03,684 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:56:06,689 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:56:09,694 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-08-02 14:56:12,699 - url_helper.pyWARNING: Calling 'http://172.31.0.1//latest/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='172.31.0.1', port=80): Max retries exceeded with url: //latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)"
Amazon EC2	"Re: ec2 status check failed
Hello,

Thank you for providing the console output - I have taken a look at this and can see that the eth0 interface is not coming up (see below for the relevant log) 

ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
Â 
ci-info: |  eth0  | False |     .     |     .     | 06:5b:26:5a:7d:9d |
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


I would recommend detaching the root volume from this instance and attaching it as a second volume to a temporary instance. 

You may find this tutorial on recovering unreachable Linux instances useful.

Once this volume is attached to an instance that you can log in I would recommend checking your network configuration (should be found at /etc/network/interfaces) and any error messages that may be of help.

Please let me know if you have any issues."
Amazon EC2	"AMZN VPC NAT not forwarding
I thought this would be fairly straightforward, but I must be missing something. 

VPC CIDR: 172.16.96.0/20
Default ACL
Routes: 
 - 172.16.96.0/20 - Local
 - 172.16.10.0/24 - VPN Gateway
 - 0.0.0.0/0 - NAT 

Private Subnet: 172.16.100.0/22
 - 172.16.96.0/20 - local
 - 172.16.10.0/24 - VPN Gateway
 - 0.0.0.0/0 - NAT

Public Subnet: 172.16.104.0/22
 - 172.16.96.0/20 - local
 - 172.16.10.0/24 - VPN Gateway
 - 0.0.0.0/0 - Internet Gateway

NAT EC2
Public IP Assigned
Private IP: 172.16.107.208
Masquerade has the VPC subnet as the source to anywhere
IP-Forward is True

VPC SG
Inbound
 - ALL 172.16.10.0/24
 - ALL 172.16.100.0/22
 - ALL 172.16.104.0/22
Outbound
 - ALL 172.16.104.0/22

NATSG
Inbound
 - SSH 172.16.100.0/22
 - HTTP(s), ICMP 172.16.100.0/22
Outbound
 - SSH 172.16.100.0/22
 - HTTP(S), ICMP 0.0.0.0/0

I can SSH to the NAT from any EC2 on the Private Subnet.
I can ping any address from the NAT.
I can NOT reach the internet from the Private Subet still.

I've got through the config a number of times, and everything looks good to me, but I must be missing something.

Help!"
Amazon EC2	"Re: AMZN VPC NAT not forwarding
I had to make the following changes in order for everything to work correctly. First, Update the VPC Security Group to allow all outbound traffic. Second, on the NAT SG allow inbound DNS traffic from the VPC and All Outbound DNS traffic.

VPC SG:
Outbound 
ALL 0.0.0.0/0

NAT SG
Inbound 
TCP 53 172.16.100.0/22
UDP 53 172.16.100.0/22
Outbound 
TCP 53 0.0.0.0/0
UDP 53 0.0.0.0/0"
Amazon EC2	"I can't see my Instance on EC2 Management Console
Hello,

I can't see my Instance(Windows Server 2012 which I have set before) on EC2 Management Console. I didn't do anythink about it.

But still I can connect the server with Remote Desktop Connection so also it runs.

What is the problem with it? 

If you want to learn, I can give you my server ip, but it is not obligatory.
You can check my account with my email adress of account."
Amazon EC2	"Re: I can't see my Instance on EC2 Management Console
Hello,

Does the region in the Management Console (found in the top right of the page) match the region where you launched your Windows instance?

If this does not match - you can change it by clicking on the region (i.e N. Virginia) and selecting a different region.

If it does match - can you replicate the issue with a different browser?

Please let me know if changing the region works, I look forward to hearing from you."
Amazon EC2	"Re: I can't see my Instance on EC2 Management Console
Thanks 

I changed the region, then I see anymore."
Amazon EC2	"Billing FIles Not Updated
We have elected to have our billing files delivered to an S3 bucket. This has been working fine for more than a year. However, for August 2015 (this month) 2 of the files have not been updated since 02 Aug. Is there a general problem with billing extract files? Or is it just our account?

These are the 2 files that have not been recently updated:

aws-billing-detailed-line-items-with-resources-and-tags-2015-08.csv.zip	(Sun Aug 02 08:50:08 GMT+1000 2015)
aws-cost-allocation-2015-08.csv	(Sun Aug 02 08:50:08 GMT+1000 2015)
These other files have been updated OK:

aws-billing-csv-2015-08.csv	(Thu Aug 06 08:21:34 GMT+1000 2015)
aws-billing-detailed-line-items-2015-08.csv.zip	(Thu Aug 06 08:37:34 GMT+1000 2015)
aws-billing-detailed-line-items-AWSMarketplace-2015-08.csv.zip    (Thu Aug 06 08:36:34 GMT+1000 2015)
aws-billing-detailed-line-items-with-resources-and-tags-AWSMarketplace-2015-08.csv.zip	(Thu Aug 06 08:36:34 GMT+1000 2015)"
Amazon EC2	"Programmatically get instance account id
Hello,

Is it possible to retrieve the account-id of an ec2 instance?

thanks

Edited by: shahargli on Aug 6, 2015 12:28 AM"
Amazon EC2	"Re: Programmatically get instance account id
Hello,

Thank you for the post.

You can use the following AWS Command Line Interface (CLI) command to get the 'Owner ID' (The ID of the AWS account that owns the instance(s)) of the instance.

$aws ec2 describe instances --instance-ids <instance id>

You can find more information about 'describe-instances command' on this link: http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html

Also, for more information about 'AWS Command Line Interface', please refer to this documentation: http://aws.amazon.com/cli/

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"instance stuck in stopping state
Hello, 
one of my windows instances has got unresponsive (and is failing both system and instance checks).
Instance restart does not help, I've tried to stop it, and it seems to stuck in 'stopping' state.

i-2327290e
m3.large
us-east-1c

Can you check and make it stopped, please ?
Thank you, 
Anatoliy D."
Amazon EC2	"Re: instance stuck in stopping state
Hello,

Thank you for the post.

I took a look at your instance: i-2327290e and found that the instance is in 'running' state at this point in time. It seems that there was an issue with the underlying host on 2015-08-06 at 08:23:05 UTC/GMT (approximately 14 hours ago), this is the reason when you performed a 'stop' operation, it stuck in 'stopping'.

More information about 'Troubleshooting Stopping Your Instance' can be found on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Can't Stop Instance
Hello,

The instance id 'i-788ec69d' is shutting down during hours, and seems endless.
Using the option ""Forced Stop"" does not solve anything. Could you force shutdown otherwise?

Thanks"
Amazon EC2	"Re: Can't Stop Instance
Hello,

Thank you for the post.

I took a look at your instance: i-788ec69d and found that the instance is in 'stopped' state at this point in time. It seems that there was an issue with the underlying host on 2015-08-06 at 14:05:21 UTC/GMT, this is the reason when you performed a 'stop' operation, it stuck in 'stopping'.

More information about 'Troubleshooting Stopping Your Instance' can be found on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

If you wish to continue working on this instance, you can perform a 'start' operation which will migrate this instance to a new underlying host.

For more information about 'Stop and Start Your Instance', please refer to this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html#starting-stopping-instances

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Cannot terminate an instance.
Instance i-c8586735 has been shutting-down for at least an hour. Can someone help me terminate it?

(already sorted itself out)

Edited by: Pilbot on Aug 6, 2015 4:32 AM"
Amazon EC2	"Re: Cannot terminate an instance.
Hello,

Thank you for the post.

I took a look at your instance: i-c8586735 and found that the instance is in 'terminated' state at this point in time. There was an issue with the underlying host of this instance, this is the reason it was stuck in stopping state.

For more information about 'Troubleshooting Terminating (Shutting Down) Your Instance', please refer to this documentation:  http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesShuttingDown.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"remote desktop connection not working
I set up an on-demand instance, and when i try to connect to it, remote desktop connection just hangs and i get a windows error message saying it cannot connect. I am pretty sure there are no firewall rules that block any outgoing request.

Please help

Thanks"
Amazon EC2	"Re: remote desktop connection not working
Hi,

There are many reasons why this could be occurring.

You might not have the port for RDP (typically 3389) open in your security group
A firewall internal to the instance might not have this port open
The RDP service might not be running inside the instance
The instance might not be network reachable, due to OS troubles internal to the instance
The instance might not be network reachable, due to problems in the hardware underlying the instance (in order to enable AWS to check on this, please post an instance ID when encountering this kind of trouble--looks like: i-xxxxxxxx)

This article is really insightful regarding connecting to instances:
http://alestic.com/2009/08/ec2-connectivity

I'd start with checking your security group and post your instance ID if you're still having trouble.
Also, please describe how you are going about connecting (be as detailed as possible).

Best regards,

Mike"
Amazon EC2	"Re: remote desktop connection not working
still not working... instance is running now:  i-2444ed4b
all my firewalls are off... the problem must be coming from the server side
How can i make sure it accepts RDP connections?"
Amazon EC2	"Re: remote desktop connection not working
I have similar issue. I am trying this for first time EC2

i-f319ac36
ec2-52-27-217-83.us-west-2.computer

Please help."
Amazon EC2	"Re: remote desktop connection not working
I have been experiencing this issue on and off with i-b148e074
I was just in there this morning, and now it won't let me in..."
Amazon EC2	"How could I forward my domain to auto scale group's instances
AWS horrible documentation is killing me T_T

I set up a auto scaling group  with my prepared images.

Then I can not found any way to point my domain `sample.co` to my instances.

I've setup the domain in route 53, What should I do now ?

I still can not get what do the `load balancing` and `auto scaling` do in the left bar on the console.

I just want to get the `domain` can point to my auto scaling group's instances.

![](https://i.imgur.com/RDhWvI6.png)
![](https://i.imgur.com/yOF4Hbm.png)
![](https://i.imgur.com/N2UssTE.png)
![](https://i.imgur.com/RoJ4APR.png)"
Amazon EC2	"Re: How could I forward my domain to auto scale group's instances
Hi,

Perhaps the following documentation will help you. If not, let me know.

To create a basic load balancer, follow these directions: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-getting-started.html. 

To attach the load balancer to your Auto Scaling group: http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/attach-load-balancer-asg.html. 

To associate your domain with your load balancer: http://docs.aws.amazon.com/gettingstarted/latest/wah-linux/getting-started-configure-route53.html. Note that this step is part of a larger tutorial.

Julie"
Amazon EC2	"EBS encryption on auto scaling block devices in cloudformation
The ""Encrypted"" attribute for EBS volumes does not appear to be documented to work with Autoscaling EBS Block Device Property Types:
http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig-blockdev-template.html

This means that we can not setup a scaling group and attach encrypted block devices.

Should this be available?"
Amazon EC2	"Re: EBS encryption on auto scaling block devices in cloudformation
Did you ever find anything more on this?  If we setup an ami with that second encrypted disk, would that work?"
Amazon EC2	"Re: EBS encryption on auto scaling block devices in cloudformation
One workaround I've found for this is to use SnapshotId where the snapshot is one I went and created from a volume I had created manually that was encrypted.  One of the features of ebs volumes is that if you create a volume from a snapshot (that was created from an encrypted volume), the new volume is also encrypted (with the same encryption keys as the original volume)."
Amazon EC2	"No Terminal Server License available.
Hello,

All of a sudden one of our Windows server 2008 small instance running on EU region is not responding to RDP. When we tried to connect via RDP, we are getting the 
following message

""remote session was disconnected because there was no Terminal Server License Servers available to provide a license.Please contact the server administrator""

It looks like we are having issues with RDP only. There are other services like IIS , FTP etc in that instance which are all working fine.

You can see the IIS 7 default page in the below URL

http://46.51.187.4/

Please assist in resolving this as this is a production server. 

Instance ID:  i-0f546278

EIP:  46.51.187.4


Thank You
Shankar"
Amazon EC2	"Re: No Terminal Server License available.
Hi, 

We are facing the same issue. Have you been able to solve this.

We have a Windows 2008 server on micro instance.
Port for rdp has been enabled on the security groups.

Thanks in advance."
Amazon EC2	"Re: No Terminal Server License available.
Hi there,

I've taken a quick look at your forums account but I can't see your AWS resources attached. Can you let me know the instance ID?

Also, do you have the RD Session Host role installed on the server by chance? By default, Windows instances are licensed for 2 simultaneous users in what is referred to as Remote Desktop for Administrators.  In this case, the RD Session Host or TS Session Host role should not be installed.  To remove the roles, please see: http://technet.microsoft.com/en-us/library/cc770759.aspx

Cheers
Iain"
Amazon EC2	"Re: No Terminal Server License available.
thank you for the reply.

Here is my instance id : i-0fc73238

No we have not setup RD Session Host role. 
Also we had a single account on that instance i.e Administrator.

Is there a workaround to this lockout?"
Amazon EC2	"Re: No Terminal Server License available.
Hello,

Can you try connecting using mstsc.exe /admin as per the following page:

http://blogs.msdn.com/b/rds/archive/2007/12/17/changes-to-remote-administration-in-windows-server-2008.aspx

Does that work?

Richard"
Amazon EC2	"Re: No Terminal Server License available.
This works for me.

Tks!"
Amazon EC2	"Caught Exception while setting wallpaper: No imaging component suitable...
I am getting this error when remoting in:
Caught Exception while setting wallpaper: No imaging component suitable to complete this operation was found. 

Should I be concern? The wallpaper isn't set. I've tried restarting, and logging in/out.
I have 3 instances created from the same ami. Only this instance is having trouble."
Amazon EC2	"Connecting to AWS EC2 instance by mysql workbench issues.
I am trying to connect to my AWS EC2 instance via SSH through my Mysql workbench. i just keep giving me this error. besides i don't know how to get my mysql port and it just gives me this error. please i need your help."
Amazon EC2	"I'm able to ssl in with putty using elastic fox but not w/ a normal session
I'm able to ssh into my ec2 box using putty if I open it by right clicking on an instance in Elasticfox and choosing 'connect to public dns', however, when I try create a session with the same info and ssl in putty and connect, i get an authentication failed response.my session settings are as such:hostname: ec2-174-129-178-xxx.compute-1.amazonaws.comhave also tried the elastic ip addy.auto-login username: roothave also tried: [blank]root@ec2-174-129-178-xxx.compute-1.amazonaws.comroot@domU-12-31-39-04-xx-xxroot@domU-12-31-39-04-xx-xx.compute-1.internal'Bypass authentication entirely' is checked.All of the other optionsÂ in connection>ssh>authorize have been tried as checked and uncheckedI know that my firewall isnt blocking it because putty under Elasticfox logs right in.Has anyone had the same experience?"
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
You need to add -i <key_file.ppk> to your putty command line.  There is likely a comparable option in the GUI."
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
In GUI, it is under Connection -> SSH -> Auth, then under Private key file for authentication, browse to your ppk file"
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
the ppk file is defined under Connection -> SSH -> Auththat's not it."
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
I've also tried adding the key to pageant and choosing 'attempt authentication in pageant'"
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
Why is 'Bypass authentication entirely' checked?  How do you plan on logging in without authenticating first?"
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
that selection uses the keys instead of trying the user/password combo.i did figure out this problem, so any others out there with similars can take heed.the ppk file was crap. when i tried to rebuild it in puttygen, it refused. i did the whole linebreak thing, and a few other combinations of line endings to no avail. i was able to add the pem file in the command line of putty to get it to work w/o using a ppk.i had to create a new keypair from the command line api, then use thatÂ and pscp it to the box using the root/password authentication.finally, i can use putty, and more specifically, winscp.so my advice to all is: dont trust puttygen....theres a reason why the putty suite is at version .60"
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal ses
When I have 'Bypass authentication entirely' set I get the error 'Server sent a disconnect message type 2 (protocol error): ""bad service request ssh-connection"" '  I put ""root"" as the auto-login username but that doesn't help any.  With 'Bypass authentication entirely' unchecked, everything works fine like it always has for me.  Also, I'm using a ppk that I made with puttygen and it works fine in putty on both my computer and mobile phone."
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal session
Hello,

To get PuTTY to work:
To use the ppk, under the Connection menu, you also have to specify a value for ""Logical Name of Remote Host"". I was able to get both my Public DNS and Elastic IP to work. Once that's done, save your session, then open it...and log on as the user ""ec2-user""...you won't be prompted and you'll be all set."
Amazon EC2	"Re: I'm able to ssl in with putty using elastic fox but not w/ a normal session
Thanks Kyle, this worked like a charm!

NOTE: I had to uncheck 'Bypass authentication entirely' as well as specifying ec2-user as the username."
Amazon EC2	"Amazon Linux medium becomes inresponsive after spice in CPU to 50%
Hi,

I have couple of medium instance that perform CPU intensive work over a short period. But my instance stop responding, even executing scripts after it hits 50% or 20% sometimes of CPU utilization. The instance wont even restart. I always have to do a stop and start after some time. This keeps happening so often now that i cannot even run anything without it freezing. 
I have ELK logging, and so I can see that the script is stuck at that point for hours.
Instance id: i-788c9dab (check out last 24 hrs cloudwatch graph)

Please help."
Amazon EC2	"Re: Amazon Linux medium becomes inresponsive after spice in CPU to 50%
Hi,
Your instance has a very small SSD drive (8GB).
I recommend reading this blog post:

https://aws.amazon.com/blogs/aws/new-ssd-backed-elastic-block-storage/

With 8GB SSD volume, your baseline of performance is 24 IOPS. If you perform more IO, then you will consume the tank of credits you have saved so far. Once exhausted, the volume performance will be 24 IOPS.
What is happening is exactly that: your volume overperforms for as long as it can, then it goes back to normal performance.
If you need more IO you can either increase the root volume size or attach an additional EBS volume and move the application here.
Keep an eye on the Cloudwatch metric for the disk queue length to spot this issue again in the future!

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html"
Amazon EC2	"t2.micro website initial loading slow
Hi,

I'm new to AWS EC2, have a website running on t2.micro instance.
I notice when loading my website for the 1st time it's always slow but then it became faster.
And after period of time like 2-3 hours, it will load slow at initial and then become faster.

What could be wrong? and what can be done to make it always load fast?

Thanks,"
Amazon EC2	"Re: t2.micro website initial loading slow
Hi

 I am also facing the same issue . The home page is loading at 4.2seconds fast and later on, its keep on loading and showing the server is taking too long to respond.

 When  I restart the httpd service  from SSH, the site is loading for me.

 Does anybody know, why this is happening ? Please help us to fix this issue.

Edited by: haridasz on Aug 6, 2015 6:03 AM"
Amazon EC2	"AWS EC2 performance questions
I'm currently using the API (as per Amazon EC2 API Reference. http://docs.aws.amazon.com/AWSEC2/latest/APIReference/Welcome.html)

I have two questions.
1.) Is it not possible to get all instances irrespective of region? The constructor:
AWSClientFactory.CreateAmazonEC2Client(string awsAccessKey, string awsSecretAccessKey)
(http://docs.aws.amazon.com/sdkfornet1/latest/apidocs/html/M_Amazon_AWSClientFactory_CreateAmazonEC2Client_6.htm)
Should be able to do it? Although it fails when it is instantiated. I haven't been able to find further info (perhaps I've missed it) in the docs or online. 

2.) What is the fastest way to get a list of all instances and their resources? Currently the calls can add up to 20 seconds (for 8 instances). Is there anything that I should look out for?"
Amazon EC2	"""shell request failed on channel 0"" error with ssh
Trying to ssh in to my EC2 Ubuntu instance today and receive this error. Exactly same details/process as successful logins yesterday. Command, truncated log and details below:

$ ssh -i ~/.ssh/<absolute path to rsa pem file> ubuntu@52.18.203.195

(...)
debug1: Host '52.18.203.195' is known and matches the RSA host key.
debug1: Found key in /Users/me/.ssh/known_hosts:15
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /Users/me/.ssh/bitshares_delegate_rsa.pem
debug1: read PEM private key done: type RSA
debug1: Authentication succeeded (publickey).
Authenticated to 52.18.203.195 (http://52.18.203.195:22).
debug1: channel 0: new client-session
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
debug1: Sending environment.
debug1: Sending env LANG = en_GB.UTF-8
shell request failed on channel 0

System details
OpenSSH_6.2p2
Mac OS X 10.9.5

EC2 Instance details
Region/Zone: eu-west-1a
ID: i-599b19f4

Thanks"
Amazon EC2	"multiple instance charges
Each time you transition an instance from stopped to running, are we charged a full instance hour, even if these transitions happen multiple times within a single hour?"
Amazon EC2	"Re: multiple instance charges
Yes, each transition will result in a new full instance hour being charged."
Amazon EC2	"I deleted my default VPC
Hello,

I deleted my default vpc, therefore I can't generate new windows server.

Can you help me?"
Amazon EC2	"Re: I deleted my default VPC
Hi,

I do see that you have a billing support case opened regarding the creating default, case 1461763101. Should you have any additional questions please respond to that case for further information and assistance.

Regards,

Yannick M."
Amazon EC2	"Hosted application having periodic issues sending emails
I have a Windows application that is hosted in AWS that periodically sending emails via SMTP.  The error is:

A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

This does not happen every time an email is attempted to be sent.  Sometimes there are few issues and sometimes it happens more regularly.  The email server is hosted at Rackspace, and I have worked with them but they do not feel that it is on their end.  Any ideas on why this would be happening?  What information would need to be provided to help get this resolved."
Amazon EC2	"Re: Hosted application having periodic issues sending emails
Hello,

This sounds like that your are being affected by the SMTP Throttle on EC2.

By default, Amazon EC2 does throttle SMTP traffic from an EC2 instance on port 25.
This is put in place to stop EC2 instances from being used by SPAM operators.
Unfortunately, this policy also affects legitimate users as well.

You can try communicating over a different port 587 or 2587, or you can complete a request to remove the limits.

To remove this limitation, please fill out and submit the following form:
https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

Please let us know if you have additional questions or concerns."
Amazon EC2	"ssh_exchange_identification: Connection closed by remote host
Hi!

We've made no changes to our instance or the processes running on it. 

Today I was able to login sometimes yes and sometimes not. The error is the following:

ssh_exchange_identification: Connection closed by remote host

A lot of people have had this issue due to an error in their /etc/hosts.allow or /etc/hosts.deny files. That is not the case with me. Apparently the server has some intermittence.

Instance ID: i-96a31c69
Instance IP: 23.23.143.225

Attached to this message is a file with the result of the connection attempt

Thanks,"
Amazon EC2	"Re: ssh_exchange_identification: Connection closed by remote host
Hi there nmendez_aprv,

I have looked at the instance and I can see no issues with the EC2 configuration. I can see that you have since stopped and started the instance again. Can you advise if the issue is still occurring?"
Amazon EC2	"Re: ssh_exchange_identification: Connection closed by remote host
Same happened with our EC2 instance i-8a0da563

All the users including root has been blocked out. 
It was working yesterday (and we did not make any changes to ssh and sshd )
i7:~ radhe$ ssh -v xxx.xxx.xxx.xxx
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 102: Applying options for *
debug1: Connecting to xxx.xxx.xxx.xxx [xxx.xxx.xxx.xxx] port 22.
debug1: Connection established.
debug1: identity file /Users/radhe/.ssh/id_rsa type 1
debug1: identity file /Users/radhe/.ssh/id_rsa-cert type -1
debug1: identity file /Users/radhe/.ssh/id_dsa type -1
debug1: identity file /Users/radhe/.ssh/id_dsa-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
ssh_exchange_identification: Connection closed by remote host
i7:~ radhe$"
Amazon EC2	"Re: ssh_exchange_identification: Connection closed by remote host
For your information. 
I am referring to 

Case ID1446201281
Instance id i-8a0da563

I believe that there is some problem is with volume vol-6257f92c which failed 'Instance Status Checks' on us-east-1e zone and was not accessible."
Amazon EC2	"Re: ssh_exchange_identification: Connection closed by remote host
I have the same problem, 
My Instance id: i-3543d606

$ ssh -i ""xxxxx.pem"" -v ubuntu@xx.xxx.xxx.xxx
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: Connecting to xx.xxx.xxx.xxx http://xx.xxx.xxx.xxx port 22.
debug1: Connection established.
debug1: identity file xxxxx.pem type -1
debug1: identity file xxxxx.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2 pat OpenSSH*
debug1: SSH2_MSG_KEXINIT sent
Read from socket failed: Connection reset by peer

Can help me to fix this problem? thanks."
Amazon EC2	"Stuck t1.micro instance
I have an instance i-74d7790b t1.micro that seems stuck in ""shutting-down"". Are t1.micros being deprecated?"
Amazon EC2	"Re: Stuck t1.micro instance
Hello ad-juster,

I have taken a look at the instance you supplied and it appears to be up and running now - can you please confirm?

You can still launch t1.micro instances are still fully supported, however it is a previous generation instance and it has been replaced by the t2.micro, which has a much better performance profile."
Amazon EC2	"EC2 instance can't connect to each other
I have two instances (ubuntu-trusty-14.04-amd64-server-20150325 (ami-5189a661) both in us-west-2c, but they can't reach  each other. Ping doesn't work, it doesn't even say timeout, 100% package loss. The security group has already been changed to accept ICMP request. 

Any clue?

Thanks"
Amazon EC2	"Re: EC2 instance can't connect to each other
Hi,

Are they in the same subnet? If not, do you have a route between the subnets? 

Check your NACLs if in different subnets as the traffic might be blocked from a network level rather than an instance (Security Group)

Cheers,

Stu..."
Amazon EC2	"Re: EC2 instance can't connect to each other
Hi,

   They are actually in the same subnet. mask: 255.255.240.0 
   machine 'a' IP: 172.31.2.x
   machine 'b' IP: 172.31.4.x

   Please advise.

Thanks"
Amazon EC2	"Re: EC2 instance can't connect to each other
Hi,

As a test could you add them to the same Security Group to see if it is a Sec Group issues or not? If it then works then you know its something to do with this.

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 instance can't connect to each other
Thanks Stooby for your response. 

I have already tried putting the same security group to those two machines, which also are running on the same AMI. Still, they can't talk with each other. Ping packets got lost 100%

Is there any other things that I can try?

Thanks again."
Amazon EC2	"Re: EC2 instance can't connect to each other
security group didn't setup ICMP correctly"
Amazon EC2	"Multiple Load Balancers on same Auto Scaling Group - sample use case?
Hi,

I don't really understand how a configuration of multiple ELBs attached to one ASG works.

It's obvious for one ELB, but I'm not sure of the use case for multiple ASGs. Are the ASG policies applied to all underlying instances, behind all attached ELBs, even when one ELB is not healthy?

Thanks,
Maciej.

Edited by: maciej-valtech on Aug 6, 2015 8:38 AM"
Amazon EC2	"Need clarification on AMIs/volumes/snapshots.
I wrote a BASH and Perl script that rotates snapshots.  I am running into issues with some instances that I believe were spun up from AMI's.  I'm getting errors saying the the snapshot is in use by ami-x and cannot be deleted.  E.G.

The snapshot snap-cf1e50a5 is currently in use by ami-3e0abd3f'

Now that confuses me is- If an instance is spun up from an AMI, shouldn't only ""lock"" the snapshot of the volume it had to use?  I feel like it's locking snapshots that are made of that volume after the fact....  I understand that I can't delete that snapshot above, obviously, but subsequent snapshots that are generated cannot be deleted...  Now this could be an API thing I'm missing or a concept i'm not understanding ....

Anyhow, my current solution is to basically iterate through the AMI's and deregister them before making a backup.  

Just curious if I'm missing something or if this is a function of how this mechanism was designed.

Thank you."
Amazon EC2	"Re: Need clarification on AMIs/volumes/snapshots.
Hello, 

An AMI takes a snapshot of the root EBS volume and any other volumes specified and uses those upon instance creation. If you attempt to delete any of the snapshots in use by the AMI you will get that error message. You can read more on AMIs here: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

I've verified in my own tools that snap-cf1e50a5 is currently in use by ami-3e0abd3f. If you're still having this issue with snapshots NOT in use by AMIs, could you provide for me those snapshot IDs and AMI IDs? 

Regards,
Nick"
Amazon EC2	"Re: Need clarification on AMIs/volumes/snapshots.
I'm not sure I was clear.  What I'm asking is why am I unable to delete snapshots that are created of that volume after the initial snapshot?  In other words, future snapshots that are made of the original.  Shouldn't only the first snapshot directly connected to the AMI not be deletable?

That AMI I pasted isn't even mine, I just grabbed that from Google as I wanted you to see the exact output text.

Thank You."
Amazon EC2	"Re: Need clarification on AMIs/volumes/snapshots.
Hello, 

Yes, you should be able to delete snapshots not tied to an AMI without issue. The only time you should see this error is if the snapshot is tied to an AMI. 

Regards,
Nick"
Amazon EC2	"Instance stuck terminating, unable to reassign private IP
Instance id i-7677e443 is stuck terminating and I am unable to reuse its private IP on the replacement instance.

Thanks!

Edited by: phatcraft on Aug 5, 2015 12:10 PM"
Amazon EC2	"Re: Instance stuck terminating, unable to reassign private IP
Finally terminated on its own.

Thanks!"
Amazon EC2	"Spot instance stuck as pending-evaluation
Can anyone tell me why sir-024xxp7a is stuck?"
Amazon EC2	"Re: Spot instance stuck as pending-evaluation
Turned out that my configuration was incorrect."
Amazon EC2	"Webaudio not being able to render mp3 files
I'm using selenium to test a web app, and it requires to play mp3 files using the WebAudio API. However firefox doesn't come with mp3 support for WebAudio by default, and I get a decodeAudio error.

I've tried on a Linux and Window Server box and they both give the same results.

I'll be happy if I can make firefox on the Window Server box to render mp3 files using the WebAudio API, any suggestions on what I should do?"
Amazon EC2	"Not Receiving Email on Private Email Server (EC2)
A couple of weeks ago, I setup a private email server on an EC2 instance running postfix/dovecot.  It seems to work fine when sending/receiving emails to individuals, I've tested sending to/receiving from Gmail, and Office 365.  The problem seems to be that verification emails for some sites never seem to make it to the server.  A couple of examples are LinkedIn and Twitter.  While watching the postfix log (tail -f /var/log/maillog) there is no connection made to the server when the verification email is sent out.  On the server, and in iptables, and in the EC2 security group I have the following ports open for email: 25, 143, 465, and 587.  

I can't seem to reproduce this issue with anything I have access to, it's only when a verification email is sent from some websites."
Amazon EC2	"EC2 Access 'itself': from behind ELB to URL that is back through ELB again
Hi. I'm obviously not understanding something fundamental here, but I have a domain (in Route 53) which points to my ELB. Behind that are two EC2 web servers ('mirrored'). I would like to access a URL from the EC2 instance that would in essence be a URL to itself itself e.g. 

user goes to example.com (request 1) > Route 53 > ELB > EC2#01 -> URL(example.com/getcontents) (request 2) > ...

At this point I would assume request 2 goes back out through DNS to Route 53 and the request is handled and passed back to the EC2, which then passes back the response to the original user.

Here's the use case: user clicks ""generate report"", report is created by generating a PDF output of a URL. The URL is pointing to the same site as the original one with the ""generate report"" button and so ""going out and coming back in again"".

I cannot access the route URL from either of the EC2 machines - it responds with nothing. The security group as outbound (and inbound) HTTP and HTTPS open.

EC2 instance ID: i-90574b3a
ELB VPC ID: vpc-5de45238

A point to note: if I curl the URL over http I get my HTTP 302 forward to make it go via https. If I curl https - I get nothing.

Any help gratefully received..."
Amazon EC2	"Re: EC2 Access 'itself': from behind ELB to URL that is back through ELB again
Hello,

I am able to both curl the ELB and your R53 domain referencing the ELB over HTTPS and get response:$ curl -Ik https://REDACTED.eu-west-1.elb.amazonaws.com
HTTP/1.1 200 OK
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Content-Type: text/html; charset=UTF-8
Date: Wed, 05 Aug 2015 16:22:00 GMT
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Pragma: no-cache
Server: Apache/2.4.12 (Amazon) PHP/5.6.10
Set-Cookie: NETRAIL=gsnf0p9ckdh4mvtmdrarj0qoi0; path=/Â 
X-Powered-By: PHP/5.6.10
Connection: keep-alive
Â 
[ec2-user@ip-192-168-1-0 ~]$ curl -Ik https://REDACTED.co.uk
HTTP/1.1 200 OK
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Content-Type: text/html; charset=UTF-8
Date: Wed, 05 Aug 2015 16:22:40 GMT
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Pragma: no-cache
Server: Apache/2.4.12 (Amazon) PHP/5.6.10
Set-Cookie: NETRAIL=j5lkqpnec6s86meaaueg3rao12; path=/Â 
X-Powered-By: PHP/5.6.10
Connection: keep-alive

Note: elements have been redacted from the above output due to Security Groups allowing port 22 open to the world.

Can you verify if you are still seeing this issue?

Best regards,
Justin G."
Amazon EC2	"Re: EC2 Access 'itself': from behind ELB to URL that is back through ELB again
Hi Justin,

I was just coming back to close this off... yes - after some tweaking and some red herrings things now seem to be behaving as one would expect.

Many thanks for following up, appreciate it. Have a good day.

Dan"
Amazon EC2	"EC2 instance is not reachable since 2 days
Hi Friends,
I am using EC2 instance since many years but this is the first time I dont have any clue why my EC2 instance is not reachable from anywhere. I tried putty, ping etc.

I have also tried stopping and starting it but nothing is working. Please suggest how it can come back.

Thanks,
Keshav

Edited by: keshavdogra on Jul 31, 2015 10:23 AM"
Amazon EC2	"Re: EC2 instance is not reachable since 2 days
Hi Keshav,

Are you still experiencing this issue? If so, can you please provide the instance id (e.g. i-XXXXXXX) so that we can look into this for you?

Kind regards,
Chris"
Amazon EC2	"Re: EC2 instance is not reachable since 2 days
Hi, Me too facing the same problem..Instance ID i-ea50f123..This is a temporary instance which i created to test the connectivity when my original one had problem. Even with temporary also unable to connect...putty gives ""network connection timed out"". As far as the security group, enabled port 22 for all IPs. also telnet to the IP with 22 is failed. Tracert is dropping also dropping after amazon.com ip.

C:\Windows\system32>tracert 52.10.168.70

Tracing route to ec2-52-10-168-70.us-west-2.compute.amazonaws.com http://52.10.168.70

over a maximum of 30 hops:

  1     1 ms     1 ms     1 ms  192.168.0.1
  2     2 ms     2 ms     2 ms  103.16.70.153
  3    34 ms     2 ms     2 ms  103.16.70.1
  4    10 ms     4 ms     5 ms  220.227.125.118
  5     *        9 ms     8 ms  115.255.252.225
  6     8 ms     8 ms     8 ms  62.216.147.249
  7   239 ms   239 ms   239 ms  ge-5-0-0.0.ejr03.sin001.flagtel.com [62.216.128.
158]
  8   242 ms   240 ms   240 ms  so-0-3-0.0.pjr01.hkg005.flagtel.com [62.216.128.
118]
  9     *      140 ms   121 ms  ge-2-2-0.0.pjr02.wad001.flagtel.com [85.95.26.20
6]
 10   249 ms   239 ms   238 ms  so-3-0-0.0.ejr02.pao001.flagtel.com [62.216.128.
1]
 11   233 ms   265 ms   232 ms  paix01-sfo4.amazon.com http://198.32.176.36
 12     *        *        *     Request timed out.
 13     *        *        *     Request timed out.
 14   257 ms   256 ms   256 ms  205.251.232.116
 15   257 ms   348 ms   272 ms  205.251.232.143
 16   258 ms   286 ms   255 ms  54.239.48.179
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22     *        *        *     Request timed out.
 23     *     ^C

can you pls help

Regards....Iyy"
Amazon EC2	"Re: EC2 instance is not reachable since 2 days
Hi Iyy,

I see that your instance isn't currently passing it's health checks. The underlying host is showing as healthy and I don't see any network errors between the instance and underlying host which would be causing this. As such I believe the issue is within the instance itself at the OS level.

Were any network related changes made the instance? Do you know if any firewall software was installed or enabled on the instance? Do you know if SELinux is set to enforcing? 

I had a look at your ingress security group rule applied to the instance and can see only TCP 22 is allowed. This would be the cause for traceroute timing out as it uses ICMP packets.

If you don't have another way to log into the instance then you'll need to do an offline recovery.
This means you'll need to stop the instance, detach the root volume, and attach it as a secondary device on another working instance.

When you stop a running instance, the following happens:

â€¢ The instance performs a normal shutdown and stops running (the status goes to stopping and then stopped)
â€¢ The instance retains its instance ID
â€¢ Any Amazon EBS volumes remain attached and the data persists
â€¢ Any instance store volumes don't persist
â€¢ The instance won't keep its public and private IP addresses. The exception is that instances launched in a VPC keep the same IP address when stopped and restarted.
â€¢ Any Elastic IP address mapped to the instance is unmapped. For Amazon VPC instances, the Elastic IP address remains associated with the stopped instance. When you restart the instance, the Elastic IP address is active. While the Elastic IP address is associated with the stopped instance, you're charged for the Elastic IP address.

Additional docs which may prove helpful or insightful:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html
https://aws.amazon.com/articles/5213606968661598

Regards,

Rodney"
Amazon EC2	"Re: EC2 instance is not reachable since 2 days
Hi all,

The same happens to me today.  Last Monday everything was working fine but todat when I tried to connect to my EC2 instance I got Network error: Connection to ec2-52-27-237-207.us-west-2.compute.amazonaws.com refused from both putty and WinSCP.
Instance Id is i-d4fe381d

Any clue will be appretiated.

Regards"
Amazon EC2	"Re: EC2 instance is not reachable since 2 days
Hi All,

I have a clue. IÂ´ve just created a new fresh instance and I can connect to it !!!!!
All I did last Monday was installing LAMP Server, PostgeSQL and Tomcat.  May it affected connectivity ?
I donÂ´t think so.  Any clue ?

Regards"
Amazon EC2	"Lost my instance when I changed from DHCP to Static IP
Ok, I need help

My instance is not reachable when I changed the adapter settings from DHCP to the private IP address. anyone please help how to recover.

Sameer Jaffer

Edited by: sijaffer on Aug 3, 2015 11:53 AM"
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
Hello Sameer, 

can you try to attach a second ENI to your instance and then trying to connect via rdp on the new ENI from an instance in the same VPC? 
after you connect you may update the static ip configuration as required.

Alternatively, you may enable DHCP by following the steps described here: 
-To enable DHCP on a Windows instance that you can't connect to:  http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#metadata-unavailable

if you require to assign multiple ip addresses to your interface, please follow the steps in this guide to configure a Secondary Private IP Address for Your Windows Instance: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/config-windows-multiple-ip.html

Regards,
Fawzi H."
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
Thanks for the reply,

I was trying to add a secondary IP and thats when it happend. I changed from DHCP to static IP in the network adapter properties. not sure what I did wrong. I will try your recommendations and get back. thanks for your help."
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
Ok, I am trying to get in using an additional network card to the instance and facing issues. 
here is what i have done so far:
1. added the new network interface to the instance
2. Added an Elastic IP to the VPC
3. Assisgned the EIP to the new network

I am not able to assign/activate the new network interface to the instance. included are my screen shots.

Thanks in advance, your help is greatly appreciated."
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
any help here is appreciated, I am not able to connect to my instance."
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
Why can I not attach another ENI to a stopped instance? I get the message: ""No network interfaces were found for this VPC"". I am on t2.medium and allowed upto 3 ENI's"
Amazon EC2	"Re: Lost my instance when I changed from DHCP to Static IP
Any help on this is really appreciated. I've been down for about 2 days now. re-creating the instance will be a nightmare. please help. AWS needs to do a better job on supporting instances which get lost by network changes."
Amazon EC2	"SSH access denied after migrating the root volume
I followed the instruction at http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html to migrate the root volume.

When I ssh the instance, I got Permission denied (publickey). Below is the log. Could I anyone advise what to try next? 

Thanks,

Edited by: Rui Kuang on Aug 5, 2015 8:26 AM"
Amazon EC2	"Stuck instance
My instance i-025d5944 is stuck and I can't reboot or stop the instance. Can someone help?

Thanks"
Amazon EC2	"Re: Stuck instance
Hello,

I do apologize for the delay you were seeing here and your instance should now be reporting as stopped.

Best regards,
Justin G."
Amazon EC2	"Elb Pricing Question - Multiple Subnets
Hello!

When an elb is configured across multiple subnets, is the hourly price multiplied by the number of subnets?

Example: Today the cost in us-east is $0.025 per Elastic Load Balancer-hour.  If I have an ELB assigned to three separate subnets; is it 0.025/hr or 3 * 0.025/hr?

Thanks in advance!"
Amazon EC2	"Re: Elb Pricing Question - Multiple Subnets
Hello, 

As of now we don't include the number of subnets as a factor. So the price is 0.025/hr per ELB regardless of the number of subnets it uses. 

Regards,
Nick"
Amazon EC2	"Re: Elb Pricing Question - Multiple Subnets
Thanks NickL!"
Amazon EC2	"Sudden ELB health check failure
This morning at around 6.40am (UTC) our ELB at epetitions-production-1021193938.eu-west-1.elb.amazonaws.com terminated all of the instances in the autoscaling group because they failed a health check but we can't see any trace of this in the logs from the instances - all /ping requests returned a 200 status up until the instances were terminated.

Have done a search on the forums here and the only thing that seems similar is someone who's ELB was running on a host that had underlying problems and had to be restarted causing connection errors. We were wondering whether something similar had happened in this case as well. There's also a second ELB at moderate-production-1930290273.eu-west-1.elb.amazonaws.com which points to the same ASG as we need to terminate SSL for two different domains to the same application so this may have terminated the instances instead.

We probably wouldn't have noticed but unfortunately the AMI we were using was no longer available so the website failed over to the maintenance page - good to know that it works I guess."
Amazon EC2	"Error occurred while purchasing reserved instances
I encountered this error while trying to purchase and reserved instance-
""An error occurred fetching Reserved Instances data""
When I click on purchase reserved instances (type Linux/Unix), I select instance type as m3.medium and click on search. 

A red label appears on top that says (Region AP singapore) 
""At this time, Reserved Instances are not available to purchase for customers contracting with Amazon Internet Services Private Limited (AISPL). We will notify you by email when they become available later this year.""

I tried changing the region but it still says the same thing.

what could be reason. has amazon stopped selling reserved instances and works only on spot and on demand?

Edited by: sjerry4u on Jul 21, 2015 8:23 PM"
Amazon EC2	"Re: Error occurred while purchasing reserved instances
Hi,

I have created an outbound billing support case to address your query regarding the error in purchasing Reserved Instances on your account, on case 1449943111. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"Re: Error occurred while purchasing reserved instances
I'm sorry but I dont see this as an billing issue. But as a basic functionality (provisioning reserved instances) not available to some users."
Amazon EC2	"Add certificate to EC2 client with Java
I'm working with the latest version of AWS Java SDK. In order to connect to the AWS account with an AmazonEC2Client object, I have to add a certificate (.crt file) to my local Java keystore file (cacerts) with the keytool command, and when the code runs locally it works well.
The problem is I need the code to run on a server in which I have no access to the cacerts file, so I'm trying to add the certifications programatically. I uploaded my cacerts file to the server, the program reads it as a KeyStore object, and creates an SSLSocketFactory instance:

SSLSocketFactory socketFactory = new SSLSocketFactory(keyStore, ""<password>"");
ClientConfiguration clientConfig = new ClientConfiguration();
clientConfig.getApacheHttpClientConfig().setSslSocketFactory(socketFactory);
AWSCredentials credentialsProvider = new BasicAWSCredentials(""<key>"", ""<private key>"");
AmazonEC2 ec2 = new AmazonEC2Client(credentialsProvider, clientConfig);

But it still produces the ""HTTP Status 500 - Unable to execute HTTP request: peer not authenticated"" error.
I have checked that the added certificate alias can be read successfully, with the keystore's getCertificate() method.
The ""<password>"" sent to the SSLSocketFactory constructor is the keystore's password.
Is that the correct way to add a certificate to EC2?"
Amazon EC2	"MySql Connector C# Visual studio
Dear all,

Could someone please help me with the following string connection? I have a running EC2 service (Linux Ubuntu), but I can't open a mysql connection (it can connect locally, so there are no problems with the code...)

String strConn= ""server=ec2-52-26-76-97.us-west-2.compute.amazonaws.com;"" + ""uid=root;"" + ""pwd=XXXXXXX;"" + ""database=phpmyadmin;"";

Could someone tell me if the string is OK? I tried replacing uid=""root"" for uid=""ubuntu"" but it doesnt work... I don't know exactly what to do for connecting.

Thank you."
Amazon EC2	"Re: MySql Connector C# Visual studio
Hello, 

From my own EC2 instance I ran a port scan of your instance and it shows that it's only replying on TCP ports 22 and 80. Security groups show port 3306 is open, so it looks like it's more of a service/OS issue. Can you verify what port MySQL is set to listen to and that the service is running? 

Regards,
Nick"
Amazon EC2	"Re: MySql Connector C# Visual studio
Hello Nick

Thank you for replying.

I am a beginner, so I am not sure what you meant...

I checked my.cnf:


* Basic Settings

#
user		= mysql
pid-file	= /var/run/mysqld/mysqld.pid
socket		= /var/run/mysqld/mysqld.sock
port		= 3306

so it seems the port is listening 3306. And also, I commented the line #bind-address = 127.0.0.1 (Because people said it needed to be commented to be accessed remotely)

About the status, it is working perfectly since I can create tables and edit data using MySql workbench, I only cannot use MySql connector so that I can insert data via code.

Do you think the connection string is correct (as shown in my first question)?

Thank you. Sorry for bothering..."
Amazon EC2	"Unable to Connect to EC2 Instance (Previous Launches OK)
Started work on a new Cloud Formation template and find that I can no longer connect to images even if launched with the old template.  Last launched from old template successfully on May 16 2015.

Now when I launch an image (even using the original cloud formation template) I get ""Connection refused"" when attempting to connect with SSH.  System log seems to be stalled part way through yum updates.

Example of failed launch is i-fe2bf120 on ap-southeast-2b.  Example of working instance is i-8b75e157 also in ap-southeast-2b.

I have changed AWS keys recently but all my other activities (including launching other instances) works fine.

THANKS
Peter Hancox"
Amazon EC2	"Re: Unable to Connect to EC2 Instance (Previous Launches OK)
After waiting some time, this appears to have completed and the instance is now accessible with SSH.

I have made many attempts at launching this machine last night and today and gave each what I though was a reasonable time to start.  Not sure what is happening but will do some more work today and close this if it just appears to be a very slow startup."
Amazon EC2	"EC2 Stuck in stopping state
i-fb10af80

Please help. We need to get this instance going."
Amazon EC2	"Re: EC2 Stuck in stopping state
Hello,

Thank you for supplying the instance ID - I have checked this and it appears to be up and running now.

Can you please confirm if you are experiencing any issues?"
Amazon EC2	"Can't Connect to EC2 After Restart
I cannot connect to 2 of my ec2 instances after restart. The error message is same even after re-entering the key for authentication and re-confirming the username.

Error Message: No supported authentication methods available (server sent public key)

ID of Instances are: i-90e7c73a and i-f0405b16"
Amazon EC2	"Re: Can't Connect to EC2 After Restart
Hi  jtumah,

The reason you received this error could be one or more of the following cases:

1.) Permission change on the authorized_keys file
2.) Permission change on the public key
3.) Incorrect public key
4.) Incorrect format of the public key

It would be helpful if you could provide the verbose output of the connection attempt.

I'd also think about what changes were made to the instance before the restart. A couple of follow-up questions would be:

1.) Were any changes made to users or the sshd config file?
2.) Were any network applications installed or enabled?

If you have no other means to connect to your instance then you'll need to stop the instance and detach the root volume. Then attach said root volume as a secondary device to another working instance. Once the volume is mounted you'll be able to investigate why the connections are being refused. A caveat to this is if you are using instance store storage (ephemeral storage), issuing a stop or terminate on the instance will cause any data on the instance store to be deleted.

If you are unable to stop the instance and don't have ssh access then the next course of action would be to restore from a previous backup before the instance restart occurred.

Additionally, the following article may prove helpful - Example of Linux Instance Recovery

Regards,

Rodney

Edited by: RodneyM@AWS on Jul 12, 2015 5:26 PM"
Amazon EC2	"Re: Can't Connect to EC2 After Restart
I have followed instructions for recovering the volume but the system is presenting the following error message at the point of mounting the volume:

ubuntu@ip-172-31-26-143:/$ sudo mount /dev/xvdf /bad
mount: block device /dev/xvdf is write-protected, mounting read-only
mount: you must specify the filesystem type"
Amazon EC2	"Re: Can't Connect to EC2 After Restart
Hello jtumah,

Can you please try supplying the filesystem with the '-t' flag with your 'mount' command, rather than auto?

If you are not sure what filesystem this disk is formatted to, you can find out from running 'sudo blkid /dev/xvdf'

For example, if the disk is formatted with the ext4 filesystem you should run:

sudo mount /dev/xvdf /vol -t ext4"
Amazon EC2	"Windows 2008 R2 Base 64-bit server AWS instance doesn't start
I am trying to launch an instance through Web console. 

AMI ID: Windows_Server-2008-R2_SP1-English-64Bit-Base-2015.06.10 (ami-5fe81d34) (standard from the default list)

After it launches, the following is in its syslog:

2015/07/18 00:41:35Z: EC2ConfigMonitorState: 0
2015/07/18 00:41:35Z: Windows sysprep configuration complete.
2015/07/18 00:41:37Z: AMI Origin Version: 2015.06.10
2015/07/18 00:41:37Z: AMI Origin Name: Windows_Server-2008-R2_SP1-English-64Bit-Base
2015/07/18 00:41:37Z: OS: Microsoft Windows NT 6.1.7601
2015/07/18 00:41:37Z: OsVersion: 6.1
2015/07/18 00:41:37Z: OsProductName: Windows Server 2008 R2 Datacenter
2015/07/18 00:41:37Z: OsBuildLabEx: 7601.23072.amd64fre.win7sp1_ldr.150525-0604
2015/07/18 00:41:37Z: Language: en-US
2015/07/18 00:41:37Z: EC2 Agent: Ec2Config service v3.6.269
2015/07/18 00:41:38Z: Message: Waiting for meta-data accessibility...
2015/07/18 00:41:38Z: Message: Meta-data is now available.
2015/07/18 00:41:38Z: AMI-ID: ami-5fe81d34
2015/07/18 00:41:38Z: Instance-ID: i-41c047a8
2015/07/18 00:41:41Z: Driver: Citrix PV Ethernet Adapter v5.9.960.49119
2015/07/18 00:41:41Z: Driver: Citrix PV SCSI Host Adapter v6.0.2.56921
2015/07/18 00:41:58Z: Ec2SetPassword: Enabled
2015/07/18 00:41:58Z: RDPCERTIFICATE-SUBJECTNAME: WIN-6A8J5LTGDEQ
2015/07/18 00:41:58Z: RDPCERTIFICATE-THUMBPRINT: C1FE348592836C4DF597CACA2889BC0EFA2BEDB4
2015/07/18 00:41:58Z: Username: Administrator
2015/07/18 00:41:59Z: Password: <Password>
LJiUL6e0eteEKsmwe6S6DKdnDAOu7R7qFiQH7b+dMqa9z9AfT12xoo38DFH3/qzRPqswllo7/f+z9dvwuGQ8SqQAn9dsBeuB+I7Kx8l1FE9Rp65H6IP6L20tnoeN6ATno2PVG2aKbxXQDXoNd4dLLi/2cqIt1EIH0WXp/hro5/O8Ayf48gh/1Mh/hCSQQ0fkJ3o1jxNXLCsVmckV3AdZarRmY/fdKPCkrN0qZFnNGbRLvoCBWxGB35/QnSQBlzCJLN3rHFrR36tZGY6niZd2QflXLtQWlQfCYGKUdkt3z36ltRnUbcukrPgqW7zHSKorT0KXK/Y2mKTQLpwSUzIM7Q==
</Password>
2015/07/18 00:42:01Z: Message: Windows is Ready to use
2015/07/18 00:42:04Z: Info EC2Config configuration: status:3; region:us-east-1; iam:0; authz:0


For all I know, the last line above indicates a problem. Instance passes checks, is marked as active but can never be connected through remote desktop.

Security group allows RDP connections. It's not the first time I encounter such a problem with avrious Windows types.

How am I supposed to handle that? Destroying and re-creating the instance doesn't help.

Edited by: Konstantin Boyandin on Jul 18, 2015 5:56 AM

Edited by: Konstantin Boyandin on Jul 18, 2015 5:58 AM"
Amazon EC2	"Re: Windows 2008 R2 Base 64-bit server AWS instance doesn't start
Re-created instance using IAM user instead of root access user.

The same result - running instance in broken state:

2015/07/18 01:36:33Z: EC2ConfigMonitorState: 0
2015/07/18 01:36:33Z: Windows sysprep configuration complete.
2015/07/18 01:36:35Z: AMI Origin Version: 2015.06.10
2015/07/18 01:36:35Z: AMI Origin Name: Windows_Server-2008-R2_SP1-English-64Bit-Base
2015/07/18 01:36:35Z: OS: Microsoft Windows NT 6.1.7601
2015/07/18 01:36:35Z: OsVersion: 6.1
2015/07/18 01:36:35Z: OsProductName: Windows Server 2008 R2 Datacenter
2015/07/18 01:36:35Z: OsBuildLabEx: 7601.23072.amd64fre.win7sp1_ldr.150525-0604
2015/07/18 01:36:35Z: Language: en-US
2015/07/18 01:36:35Z: EC2 Agent: Ec2Config service v3.6.269
2015/07/18 01:36:36Z: Message: Waiting for meta-data accessibility...
2015/07/18 01:36:36Z: Message: Meta-data is now available.
2015/07/18 01:36:37Z: AMI-ID: ami-5fe81d34
2015/07/18 01:36:37Z: Instance-ID: i-32d453db
2015/07/18 01:36:40Z: Driver: Citrix PV Ethernet Adapter v5.9.960.49119
2015/07/18 01:36:40Z: Driver: Citrix PV SCSI Host Adapter v6.0.2.56921
2015/07/18 01:36:57Z: Ec2SetPassword: Enabled
2015/07/18 01:36:57Z: RDPCERTIFICATE-SUBJECTNAME: WIN-U5RS28CMFD9
2015/07/18 01:36:57Z: RDPCERTIFICATE-THUMBPRINT: 286660EBAA293155D124F7B7661918FDD8A37453
2015/07/18 01:36:58Z: Username: Administrator
2015/07/18 01:36:58Z: Password: <Password>
Qf+0WXSoIku7FNgWcxzpdWPsf6aMMq/F9fXYkL52e/BpD85SzyYM2EluzdcWSFUWgUsXZ3ohpJ9rLshZPnIerVTqx1QJA65v9hGGi1zAKmEzZ9jsZrtkhpYtVQoXe9ufOVqc/w9uSaqDQ31C5juEzj0eRYtF+aN7YdfO0T29JIcU1Tah3TtKfOUYz9Gn3sz23gB6cKp2tTi0qkhl8idi4v579qPL2hQqmPGzd9G3BN58Uvwm33+QAHXN0XS7thjjL2hTcCKQR+2cPjKYJsODQbMHhmx6S/BNEbHWaqPt77eggVxpt3KsXiY8T9wtBsPdMrQHy4uDbDYxz+XSsWQHNg==
</Password>
2015/07/18 01:37:01Z: Message: Windows is Ready to use
2015/07/18 01:37:04Z: Info EC2Config configuration: status:3; region:us-east-1; iam:0; authz:0


What's wrong with AWS EC2?

Edited by: Konstantin Boyandin on Jul 18, 2015 6:45 AM"
Amazon EC2	"Re: Windows 2008 R2 Base 64-bit server AWS instance doesn't start
That's funny.

I can't use Windows-powered instacnes due to unknown reasons, and none of AWS supprot staff does care?

What happened in the procedure of creating Windows instances that it doesn't work any more? Are there additional undocumented steps to take?

I follow the steps basically explained here:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/EC2Win_GetStarted.html

but can't connect to the instance."
Amazon EC2	"Re: Windows 2008 R2 Base 64-bit server AWS instance doesn't start
The problem still persists.

Am I right that AWS Staff does not care about this particular problem at all?"
Amazon EC2	"Re: Windows 2008 R2 Base 64-bit server AWS instance doesn't start
Reason was:

EC2-VPC Verify that the route table for the subnet has a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC. For more information, see Creating a Custom Route Table (Internet Gateways) in the Amazon VPC User Guide.

This routing is NOT created by default, not it is mentioned as mandatory step in ""Getting started..."" docs."
Amazon EC2	"Can't connect to Windows 2012 (Small instance)
I have trouble trying to connect to Windows 2012 Server powered instances, running on Small instance type.

All steps performed as outlined in tutorials, Log shows ""Windows is ready"", Administrator passwords is decrypted normally, incoming RDP (TCP/3389) is added to security group, yet attempt to connect via remote desktop times out, regardless of what OS/rdesktop client I try to use.

How shall I handle this?"
Amazon EC2	"Re: Can't connect to Windows 2012 (Small instance)
Hi  Konstantin,

I'd be happy to take a look at the instance. Could you provide the instance id and region?

I look forward to hearing back from you.

Rodney"
Amazon EC2	"Re: Can't connect to Windows 2012 (Small instance)
Hello Rodney,

The problem was, as I see it, that in VPC settings for new instance there was no internal route to private networks from external.

This step IS mandatory for new VPC-based instances, but in this manual

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/EC2Win_GetStarted.html

it is NOT even mentioned. By default, routing is not including access from beyond private networks and that gives strange results like refused access to instance without any clues in Console.

My recommendation is to include that notice into ""Getting started..."" part. The only place when this is mentioned is

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html

citing: ""EC2-VPC Verify that the route table for the subnet has a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC. For more information, see Creating a Custom Route Table (Internet Gateways) in the Amazon VPC User Guide."""
Amazon EC2	"PDFTK issue: Error: EACCES, open 'data.fdf'
This is my first time using EC2 as well as deploying a MEAN.io app.

I'm using the pdffiller package in my app, which requires the the PDFTK install. 

It all works fantastically on my local box, however, when it is installed on my Ubuntu EC2 instance and I run my app, I get the following error when it comes time to make the PDF:

../node_modules/pdffiller/index.js:26
            if ( err ) throw err;
                             ^
Error: EACCES, open 'data.fdf'
    at Error (native)

I was hoping someone might see something that'd stick out and say, ""Oh, you missed doing x"""
Amazon EC2	"nested security groups
After allot of testing I can only concluded that using nested security group does not work.

Simply testing shows that putting a rule for ssh access directly in the main secuirty works fine but when the same rule is put in another security group and then included in the main group it fails.

Seem to be alot of google hits about nested SG's but who has the truth. Do they work or not?"
Amazon EC2	"Re: nested security groups
Hello, 

There is not a way to ""Nest"" security groups. By that I mean there is no way to include a security group in another security group. When you refer to another security group within a security group, you're referring to other instances or resources that are using that security group. You can read more on security groups here: 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html#SecurityGroupRules

Regards,
Nick"
Amazon EC2	"Is there such thing as an ""official"" AMI?
I'm currently grabbing lists of AMIs via the SDK - it's really hard to find the ""Ubuntu"" image that's listed on the ""Create Instance"" screen in the console without hardcoding the AMI.

How do I get AMIs from ""official"" sources - rather than companies that have taken Ubuntu or Amazon Linux and modified it?

Is there such thing as an official AMI?"
Amazon EC2	"PHP SDK - Determine region I am running in through SDK call
I have a need to determine at run time which region (or availability zone) my PHP app is running in so that I can direct my users to one of my resources running in that region (or availability zone). Have not as of yet been able to find the right API magic to do this. Any thoughts?

Glenn"
Amazon EC2	"Re: PHP SDK - Determine region I am running in through SDK call
Hello, 

To do this entirely programmatically, you'll need to run ""DescribeInstances"" to find which subnet the instance belongs to:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html

Then run ""DescribeSubnets"" to find which subnet is in which AZ:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeSubnets.html

Regards,
Nick"
Amazon EC2	"why would my user-data go away on reboot?
whenever i reboot (not a start/stop) my user-data gets removed and only has ""user-data: 10.3.0.0/16"".  It shows up in the console still when i look at ""view/change user data"" but running:

running - curl http://169.254.169.254/latest/user-data 
returns this after reboot:
10.3.0.0/16

before rebooting its got my full script in there:

#cloud-config
output: {all: '| tee -a /var/log/cloud-init-output.log'}
runcmd:
 - 
 - 
disable_root: false
repo_update: true
repo_upgrade: all"
Amazon EC2	"Re: why would my user-data go away on reboot?
Hello, 

As stated here, user data scripts are only executed on instance start:
Important
User data scripts and cloud-init directives only run during the first boot cycle when an instance is launched.

Found here: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html#user-data-shell-scripts

If you're looking to add a script to occur every time on boot, you might look at adding your script to ""/etc/init.d/"". 

Regards,
Nick"
Amazon EC2	"Unexpected instance reboot
Hello!

My instance i-3a3cc417 was unexpectedly rebooted at 23:00 EDT, Aug 3. Not sure why it happened. It seems it was rebooted automatically by the cloud.

Is it possible to know somehow why it happened?

Thanks,
Egor."
Amazon EC2	"Re: Unexpected instance reboot
Hi Egor,

It appears the reboot in which you had experienced on your EC2 instance i-3a3cc417 was due to the underlying-host. I apologize for any inconvenience this may have caused you. I am able to see your EC2 instance and underlying-host both appear in good health. Please let us know if you have any additional questions or concerns.

Regards,
Mohsin"
Amazon EC2	"Re: Unexpected instance reboot
We also experienced the same with instance: i-12e5b8ee

It unexpectedly rebooted at 11:42 EDT today (Aug 4th, 2015). 

Any reason why this happened?"
Amazon EC2	"Re: Unexpected instance reboot
Hello Hacker Youthlete,

Upon reviewing your EC2 instance i-12e5b8ee, I am able to see the unexpected reboot was caused by the underlying-host where the EC2 resides. I apologize for this unexpected reboot. I also am able to see that your EC2 instance and underlying-host both appear in good health.

Regards,
Mohsin"
Amazon EC2	"problem connecting to aws services. ec2 instance was working before
im having two issues at the moment, first i recently created an sql server and i am not able to connect to it at all remotely, my request keep getting denied. i configured the security groups every which way from all traffic inbound and outbound to specifically just my ip no luck. i am attempting to connect through mysql workbench. if you can maybe forward me a tutorial or something that lets me know what im doing wrong and what are the proper steps because i tried everything out there 

secondly i originally set up a connection to my ec2 instance on my lap top through netbeans. everything worked perfectly and i was able to upload my files. so i decided to duplicate the setup on my computer as well. same pem and pkk keys. and it shows that the connection is good and when i upload files , its shows them uploaded. but they are not uploading. when i access the files i created. for example a new web page, or a modification of an old one. the new one does not show up and its says that the page does not exist, when i upload the old on and synchronize,  when i go to the source on the page that pulls up, its the old code and not the new one even though the synchronize tool is telling me that the new code got uploaded

UPDATE: i deleted the first instance and made a brand new one, different pem and pkk keys, same problem when i upload a file, it says successfully uploaded , but when i pulls it up , it says file does not exist. i also used file zilla to manually upload files. but when i run the url same thing.

also im not sure how relavent it is but on my laptop i dont have xampp installed, and on my computer i do and i have it set to run on local host, can that be interfering with it trying to pull up pages from a remote server. for a while i changed the lan setting in google chrome to prefer local connection over remote. i unchecked that later but same problem?

i can still upload files on my laptop though, that is when i had the old instance, havent tried the new one

Edited by: Omar Razzaq on Aug 4, 2015 9:56 AM

Edited by: Omar Razzaq on Aug 4, 2015 10:02 AM"
Amazon EC2	"Slow UPLOAD to EC2
Hello, 
I'm experiencing a trouble when upload files to server, is too slow and upload stop around 16% (5Mb size).

All work right, Dropbox and Gdrive have full speed, on Amazon i can't upload.

Any advice or test to understand better why this happen?

TKS

Edited by: criscalleo on Aug 4, 2015 9:48 AM"
Amazon EC2	"Instance (i-e1a5ed10) not stopping
Hi,

I tried to shut down my instance (i-e1a5ed10), but it's stuck in ""stopping"" mode.
Can someone please help me stopping my instance?

Never mind, was able to force stop it myself

Edited by: floodtags on Aug 4, 2015 9:18 AM

Edited by: floodtags on Aug 4, 2015 9:18 AM"
Amazon EC2	"Re: Instance (i-e1a5ed10) not stopping
Hello,

I apologize for the issue you had encountered with your instance i-e1a5ed10 becoming stuck. I am able to confirm your EC2 instance was able to stop, and I see that you have restarted the EC2 instance. Currently, I see the EC2 instance is healthy, and the underlying-host also appears in good health.

If you require any further assistance, please do let us know.

Regards,
Mohsin"
Amazon EC2	"Static IP for web server
I have an EC2 account, how can I have a static IP for web server so the IP does not change when I restart the instance. the Instance is on DHCP, can I set a non changing public IP? is that what Elastic IP is? also, what is the difference between Elastic IP on instance vs on VPC?"
Amazon EC2	"Re: Static IP for web server
Elastic IP is exactly what you need. Elastic IP is a public IP which is assigned to your account. You can remap it to other instances, configure reverse DNS and the Elastic IP does not change unless you release the Elastic IP address and allocate a new one.

However, there are charges when assigning Elastic IP to a stopped instance or assigning additional Elastic IP to an instance or not assigning Elastic IP to any instances.

Edited by: evantkh on Aug 4, 2015 8:48 AM"
Amazon EC2	"System Outages.
Hi,

Today we lost connectivity between our RDS box and EC2 instance on two different occasions. We can't find any reason for this happening. Any possible explanation as to why this may be happening would be appreciated.

Thanks."
Amazon EC2	"My instance is gone
Hi,
my m3 instance is gone and doesn't even show up in my console any more.
What's going on?"
Amazon EC2	"Re: My instance is gone
Hello,
thank you for contacting us. I noticed you had i-d9dc8a9b instance running. Reviewing its details, I found it was a Spot instance: this kind of instances run until you terminate them or the Spot service must terminate them. [1]

Also, when using this Spot instances, you must be prepared for interruptions. The Spot service can interrupt your Spot Instance when the Spot Price rises above your bid price, when the demand for Spot Instances rises, or when the supply of Spot Instances decreases: in this specific example, instance has been terminated on 30/07/2015 at about 09:55 GMT

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-spot-instances-work.html

Please let us know if you need any further information.
Regards,
Alessandro"
Amazon EC2	"Reduce monthly costs of EC2 server what options?
Hi it's been a month since I started with aws ec2 server with ebs drive

The bill for ondemand aws service is quite high for month of July 

Is there any way I can pay upfront to reduce my effective monthly cost?

What options do I have in this case after a month? Kindly assist thanks!"
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Yes, you can get a better rate if you buy a reservation. As this is kind of a commitment, you should more or less know that this is the instance type you will be needing during the 1 or 3 year term. The instance type and its location will be fixed. Things like disk space is outside of the reservation and can be modified more freely, though. When you buy a reservation, you select the options that match what you have up and running. Your existing instance doesn't need to be modified in any way as this is just a billing thing.

Please see the Amazon EC2 Reserved Instances page."
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Hi I've already used the instance for one month.. How do I get started then? Kindly assist Thanks"
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Ok so I purchased the reserved instance that matches my production server's instance, zone, size etc.

Now what should I monitor to know that pricing has been reduced? Thanks again!"
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Actually I've bought the reserved instance and now want to know how to confirm that the prices have been reduced and after how long should I check? Thanks!"
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Hi,

I have created an outbound billing support case to address your query regarding the Reserved Instance you purchased. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1459099621

Regards,

Luke H."
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Thanks Luke for your detailed reply. I have another question related to this one... my billing stats are not showing dates beyond August 1, 2015. How long does it take for stats to appear for the current day (today ie)? Thanks"
Amazon EC2	"Re: Reduce monthly costs of EC2 server what options?
Hello,
thank you for getting back to us. Regarding your question, there is no fixed time, but billing statistics are usually updated not before 12h.

I hope this helps, but should you have any further doubts or concerns, please get back to us.
Regards,
Alessandro"
Amazon EC2	"Web requests running cached code?
Hi all, hoping someone has run into this.

My site is a standard LAMP setup. My PHP scripts were running well for a couple of weeks. Then I noticed a problem, ran it through staging, and then pushed the fixed code to production.

The fix didn't appear to be there. Curious, I hand-edited the file. No change. I purposefully modified the file so it should have crashed with a syntax error. Still, no change.

Since then I have:
 - renamed the file so it should not have been there for my JS to call at all
 - restarted Apache
 - rebooted the server
 - curl'd to a dummy opcache_reset()

Nothing makes my change visible. It appears that the code being run is somewhere else besides on my server.

I've attempted to look up cache rules or settings or anything but have found nothing. All I have is a standard EC2 instance, no other services or modifications.

Where is the code that's being executed, and how can I get rid of it so I can actually bugfix?

Edited by: grondhammar on Aug 4, 2015 5:54 AM"
Amazon EC2	"EC2 ls, java -version, apto-get  Command not found
I have an instance free t2.micro few months ago. Always accessed normally with basic Linux commands: ls, java -version, apt-get. But a few days ago, I can not run any of these basic commands.
I had installed some tools in it: mongodb, glassfish, redmine, maven? It may have been some of these guys?

Can anyone help me?"
Amazon EC2	"Re: EC2 ls, java -version, apto-get  Command not found
Hello,

It seems like your PATH variable was altered. Might be due to one of the applications that was installed.

You can have a look at the content of /home/ec2-user/.bash_profile it should more or less look like the following:

PATH=$PATH:$HOME/bin
export PATH


If changes was made to .bash_profile, go ahead by doing the following and retry:
$ source /home/ec2-user/.bash_profile


If you have any questions or further assistance needed, please do not hesitate to let us know."
Amazon EC2	"AWS NAT Instance state stuck in 'shutting-down'
I was told you could complete the shut down /w the instance ID:  i-79a952d0

This was a NAT instance whose AMI was retired. I tried to terminate it, and it hasn't moved from 'shutting down' in 4 days.

Thank you,"
Amazon EC2	"Re: AWS NAT Instance state stuck in 'shutting-down'
Good day 

It appears our automated systems shut down the instance at 2015-08-04 00:01 UTC. Please confirm if the instance s reflecting as terminated.

Regards
Imthian"
Amazon EC2	"Status dashboard history
Hi,

I'm not sure this is the appropriate venue for this question, but as there's nowhere else immediately obvious, here goes.

I'm attempting to perform an audit of technical issues on our AWS deployment over the last 12 months. As part of this, I need to correlate my existing list of error time frames with a historical list of AWS Service events. It would be extremely time consuming to manually traverse all services in the status page for the three regions we are deployed in for all of the services we use.

Is there a way to automate retrieval of historical AWS events for the last 12 months from the status page? Perhaps there's some form of API access? It appears that the RSS feeds will only serve current and new information when I subscribe to them.

Thanks,
Al."
Amazon EC2	"Re: Status dashboard history
Any thoughts on this? I'm still no closer. As my question was very conspicuously skipped over by AWS people, I'm beginning to suspect that Amazon intentionally make it difficult to obtain this data. For all their talk about customer obsession, they seem remarkably happy to ignore what is a simple question.

Edited by: alanoceallaigh on Jul 23, 2015 1:52 AM"
Amazon EC2	"Re: Status dashboard history
Still no nearer to an answer on this, as it has been ignored by AWS."
Amazon EC2	"Re: Status dashboard history
The lower section on the status page has history going back for 12 months."
Amazon EC2	"internal dns not being resolved on ANY instances within the VPC
Hi we have a number of VPC's spread over a couple of accounts but for some reason some of the VPC's do not allow the resolution of internal dns names.  For instance with one of our vpc's we shh in through a tunnel.  As the destination address (where to go after connecting to the tunnel) we can specify the internal dns of the instance in the private subnet and connect to it without any issue.  On a seperate VPC on the same account, set up in the same way as the first VPC we cannot connect using the internal dns names but instead have to use the internal ips of the intances suggesting it is a problem with the DNS server in the VPC.  I tried to recreate another VPC as a test and this vpc also could not resolve any internal dns names.

Thanks,

MattFromWorld"
Amazon EC2	"Instance remains in state ""stopping""
I've initiated the shutdown of instance i-a59a8975 but even after a long while (more than 20 minutes) the instance remains in state ""stopping"". Thanks for any help or suggestions."
Amazon EC2	"Re: Instance remains in state ""stopping""
resolved"
Amazon EC2	"Connecting to Internet from windows server that is in a private subnet
Hi guys, I am facing an issue and not sure what to do so any pointers, advice, or complete solution lol would be much appreciated.

I have a windows server that sits in a private subnet.  RDP access is provided through a windows gateway server (bastion) that sits in a public subnet.  While I can rdp onto the machine fine I cannot access the internet from the machine.  Do I need to configure the gateway server to act as a web proxy also?  How do I do this? 

Are there any steps i need to configure on the client machine (apart from the proxy settings in internet options) 

Thanks

Matt"
Amazon EC2	"Re: Connecting to Internet from windows server that is in a private subnet
Hi,

You need to set up a NAT instance to do exactly what you are after.

See details here:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_NAT_Instance.html

Cheers,

Stooby..."
Amazon EC2	"Re: Connecting to Internet from windows server that is in a private subnet
Does this work for windows servers too, as the route is attached to the private windows server directs all traffic to the windows remote desktop gateway server (which is also running windows).  I found what I needed in the end was to install an internet proxy on the windows server allowing traffic to flow out from the gateway as well as RDP connections into the gateway.  We already use NAT's for linux subnets.

Thanks,

MattfromWorld"
Amazon EC2	"How to install Lampp/Xmapp package
Hi,

Please help for installing Lampp/Xampp in Amazon EC2. i had tried but some for packages are missing 
like php-mcrypt,php-GD"
Amazon EC2	"Re: How to install Lampp/Xmapp package
Hello,
thank you for contacting us. If you are using Amazon Linux or Redhat, you can simply install php-mcrypt and php-gd packages, by running following command after you SSH'ed to your instance:
""sudo yum -y install php-gd php-mcrypt""

You should then be able to install Lampp/Xampp on your instance.
Regards,
Alessandro"
Amazon EC2	"502 Proxy Error - Facebook authentication
We have implemented facebook authentication for my application.We have deployed the code in AWS (Micro instance). 

But trying to login, we get the following error;

Proxy Error

The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request GET /index.cfm.

Reason: Error reading from remote server

Apache/2.4.7 (Ubuntu) Server at www.bitsrec.com Port 80

In Local testing environment(localhost), it works as a charm..

Can someone please suggest what is going wrong here?"
Amazon EC2	"Elastic IP Doesnot Resolve
I would like to host my blog in AWS. I have registered for the domain naveenieus.com and naveenieus.in.

Also, I have created a Elastic IP: 54.213.83.59 and mapped that in my GoDaddy console.

But the website is still not up and running. When trying to ping, there is a request time out.

Can anyone please help?

Naveen"
Amazon EC2	"Re: Elastic IP Doesnot Resolve
Your DNS configuration looks fine. However, there is no response from your server. Each EC2 instance is associated with at least one security group, which basically acts as a firewall. Everything is blocked by default, and you will need to add rules to open up for certain traffic. If you browse to the EC2 section of the Management Console, you'll find ""Security Groups"" (under ""Network & Security"") in the menu on the left hand side. Select the security group used by this instance and switch to the ""Inbound"" tab. If you don't see an entry for HTTP (port 80), simply add a new rule by selecting HTTP from the dropdown list. Hit ""Add Rule"", followed by ""Apply Rule Changes""."
Amazon EC2	"Re: Elastic IP Doesnot Resolve
D. Svanlund , Thank you for the response, but I see that there is an entry for the HTTTP (PORT 80) with the source to another group. Should I create another one with a source 80/default?"
Amazon EC2	"Re: Elastic IP Doesnot Resolve
Yes, create an additional entry for HTTP, this time with the source set to 0.0.0.0/0, which is the default and opens up for the entire Internet."
Amazon EC2	"Re: Elastic IP Doesnot Resolve
Thank you again, but still in vain, the request just times out. I have removed the existing entry as well and added only the default Inbound rule. I had waited for about 30 minutes, Should I wait a while more for the changes to take effect? Not very sure where I am going wrong."
Amazon EC2	"Re: Elastic IP Doesnot Resolve
Changes to a security group will take effect almost right away. The good news is that it kind of works from here now  Looks like you managed to fix this problem - perhaps after you last posted? In any case, I do get through to the web server, but a ""Forbidden"" error is returned. You might want to have a look at the web server logs and see if you can find anything there."
Amazon EC2	"Re: Elastic IP Doesnot Resolve
D. Svanlund, Thank you for the timely help.. You are rite.. The website works, I will have to map it to the default page. I am on it now.

Thank You Again.

Naveen"
Amazon EC2	"Re: Elastic IP Doesnot Resolve
Naveen Krishnamurthy wrote:
Thank you again, but still in vain, the request just times out. I have removed the existing entry as well and added only the default Inbound rule. I had waited for about 30 minutes, Should I wait a while more for the changes to take effect? Not very sure where I am going wrong.
Naveen Krishnamurthy wrote:
Thank you again, but still in vain, the request just times out. I have removed the existing entry as well and added only the default Inbound rule. I had waited for about 30 minutes, Should I wait a while more for the changes to take effect? Not very sure where I am going wrong.
I have implemented facebook authentication for my application.I get the following error when I try to deploy the code in Production for Facebook authentication.

In Local testing environment, it works as a charm..

But I get the following error when I try to login to the application;

Proxy Error

The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request GET /index.cfm.

Reason: Error reading from remote server

Apache/2.4.7 (Ubuntu) Server at www.bitsrec.com Port 80

Any suggestions are most welcome."
Amazon EC2	"Support Center Question
I have created a case with an ID 1459102601 in the support center and I am waiting for a reply. How long may it take as I am using a Basic Support Plan for them to reply. Can I post my problem here and is there someone here who can resolve it , if noone replies there  anytime soon ?

Edited by: nedstrike on Aug 3, 2015 7:32 AM"
Amazon EC2	"Re: Support Center Question
I think my problem got fixed in 24 hours ... for anyone wondering."
Amazon EC2	"Unauthorized Account charge after buying No Upfront Reserved instance...
Hi I signed up for a No upfront reserved instance on my account just a day back. 

Just today I found that the reserved instance has been charged $ 262.92 for 691.900 Hrs. 

I have just started this reserved instance yesterday. 

How come AWS charged me $262.92 already that too for 691.9 hours? 

Kindly assist. Thanks!

Edited by: Froddo7 on Aug 3, 2015 5:13 PM"
Amazon EC2	"Re: Unauthorized Account charge after buying No Upfront Reserved instance...
I guess this is how reserved instances work? The charge is made in the beginning of each month?

Kindly confirm thanks!"
Amazon EC2	"Re: Unauthorized Account charge after buying No Upfront Reserved instance...
Hello,

Let me first apologize for the concern caused by the unexpectedly large charges on your bill for Reserved Instances.

Reserved Instances that are Heavy Utilization, All Upfront, Partial Upfront or No Upfront will show the entire month's total of hours and charges in the Billing Console starting at the beginning of the month. However, these RI line items will not increase during the month.

You will see a separate line item on your bill which will count the actual hours used for the matching instance type, but at a zero-dollar rate.

I hope this helps. Please let me know if you have any questions or concerns."
Amazon EC2	"Re: Unauthorized Account charge after buying No Upfront Reserved instance...
Thanks for the reply. What's more confusing is that the forecast for August shows about 900 dollars

Why this bug? Kindly assist thanks!"
Amazon EC2	"Import Debian OVF Failed - ServerError
I'm trying to import a Debian Squeeze vmdk OVF exported from VMware.  I've tried twice with no success.  VMware Tools are not installed.  VM complies with all the import requirements.

The conversion process stops around 18% and then I get:
ServerError: an internal error has occurred during conversion.

Any help would be appreciated!

Two import TaskIDs:
import-i-fgrw8eaz
import-i-ffftcql4

TaskType        IMPORTINSTANCE  TaskId  import-i-fgrw8eaz       ExpirationTime  2015-08-11T03:23:02Z    Status  active
StatusMessage   ServerError: an internal error has occurred during conversion.  InstanceID      i-a5df3069
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   818266624       VolumeId        vol-9fb81377    VolumeSize
80      AvailabilityZone        ap-southeast-1a ApproximateBytesConverted       818264240       Status  completed"
Amazon EC2	"AMI Instance terminating when CPU hits 100%
We have multiple instances of ami-e12ff38a that terminate if CPU is at 100%. We set up a load balancing group that is failing to start new instances when CPU hits 75% (a different problem that I don't want to get into here). More importantly is that our instances are being automatically terminated. Is this some policy that I set somewhere or is it the intended affect of amazon? We lost a lot of code that was unfortunately not backed up when this instance terminated itself. Its happened to us multiple times. Any info would be appreciated on what we can do to prevent this."
Amazon EC2	"Re: AMI Instance terminating when CPU hits 100%
Hello,

It looks like instances of that AMI are being managed by the ""Clip Generator Scaling Group"" Auto Scaling Group.  Looking over the recent events, the instance may have started failing ELB health checks, at which point the Auto Scaling Group terminated the instance in order to replace it.

As a best practice, instances being managed by Auto Scaling should not be seeing active code development because, as you have experienced, any instance could be terminated based on the scaling decisions of the Group.  It would be best to move any code development to a separate development environment that is not being managed by Auto Scaling to prevent this from happening again in the future.

Best regards,
Justin G."
Amazon EC2	"Re: AMI Instance terminating when CPU hits 100%
Thank you for the Quick reply! It's one of the reasons we're using Amazon. Can you lead us in the right direction on answering why new instances aren't being created when CPU usage is high?"
Amazon EC2	"Mysql 5.6 packages for Amazon Linux?
Hi,

we migrated to Mysql 5.6 in RDS in production but we're finding ourselves in a situation where our dev servers (which run mysql locally for autobuilds, etc) are stuck back in mysql 5.5 because the amazon linux yum repos don't have a 5.6 version available.

Is this planned and is there an ETA? Hopefully with 2014.09 (maybe before?)...

Thanks
Dali@Ifeelgoods"
Amazon EC2	"Re: Mysql 5.6 packages for Amazon Linux?
bump"
Amazon EC2	"Re: Mysql 5.6 packages for Amazon Linux?
bump"
Amazon EC2	"Q
Hi,

We are aware of this feature request, and working to make MySQL 5.6 available in the Amazon Linux AMI repositories.  When it is available, we will return to this thread to let you know.  Thank you for your patience, and for using the Amazon Linux AMI."
Amazon EC2	"Re: Q
Hi,

Any update on this, doesn't seem to be mentioned in the announcement RE 2015.03 but I've not had a chance to spin an instance up with the RC to check."
Amazon EC2	"Re: Q
Any idea when amzn will finally push 5.6 to its yum repo?

Kinda lame for it to be taking this long. Makes me rethink this Amazon Linux thing."
Amazon EC2	"Re: Q
Any update Max, it's been GA for 2 years now..

At this point it seems AMZN Linux isn't any better than the likes of CentOS etc for speed of updates other than if you want newer kernels."
Amazon EC2	"Re: Q
Max, any chance of it being included in 2015.09 - the performance benefits over 5.5 are important for us, yes I can use the official MySQL community release but being shipped as part of the OS is hugely benefitial and what drew us to AMZN Linux in the first place."
Amazon EC2	"Re: Q
Hi,

We expect that MySQL 5.6 packages will be available in the first 2015.09 release candidates, and in the final 2015.09 release.  That initial release candidate will be announced on the EC2 forums, as usual.

We apologize that it's taken us so long to get this package out, and we hope that you'll test it for us in the RC and give us some feedback so that we can make any changes needed before 2015.09 final.

Thank you for using the Amazon Linux AMI and for your patience regarding MySQL 5.6."
Amazon EC2	"Instances stuck on stopping even after forced stop
Hi,

We have two instances i-c5729aa2 and i-0a00fc6b that are on stopping state forever, even after forced stop.
Any ideas?"
Amazon EC2	"Re: Instances stuck on stopping even after forced stop
Hello,

I have moved these instances along in their processes and they should now be reporting as stopped.  Apologies for the inconvenience!

Best regards,
Justin G."
Amazon EC2	"instance i-38425bd5 is stuck shuting down
I've tried to shutdown, force-shutdown, and terminate this instance, but it's stuck. Can someone at AWS please kill this? The lack of auto migration and lack of be able to actually force a shutdown is a pretty large deficiency these days. I shouldn't have to recreate a whole instance just because your underlying host is having issues. Why can't you guys just live migrate it like Google?????"
Amazon EC2	"Re: instance i-38425bd5 is stuck shuting down
Hello,

I have moved this instance along in its process and it should now be reporting as terminated.  Apologies for the inconvenience!

Best regards,
Justin G."
Amazon EC2	"Public IP Range
Hello, we have the following Problem:

We have a lot of Instances with public and private IP's (of cause).
So now we need to conntect our Service installed on the Instances to a Interface of a special Softwareprovider over Internet. To Connect to the Provider they need our Public Ip's to unlock us in their firewall. And thats the Problem. As i know the public IPs of our AWS Instances can change. 
The Process of unlock our Ip's takes a lot of time becase of the formalism. So the can not always change the Firewallrules wenn our incances changes their public IP's.

I know that there is a list with all possible public Subnets. But the Provider will not unlock all of these Subnets becase of securityreasons.

I tought elastic ips should solve the Problem but there is the limitation of 5 and we definitly need more. Ist there any other solution?

THX

Edited by: Cybertronix on Aug 3, 2015 2:38 AM

Edited by: Cybertronix on Aug 3, 2015 2:39 AM"
Amazon EC2	"Re: Public IP Range
Depending on how many are required, you can request more IP addresses."
Amazon EC2	"Re: Public IP Range
Thank you. Ist there any other solution?"
Amazon EC2	"Re: Public IP Range
Without knowing your software or your 3rd party provider (which I dont) then I cannot answer this question.

As before, you can request additional EIP, so why not do this?

Thanks"
Amazon EC2	"Re: Public IP Range
Hello,

You are limited to five Elastic IPs initially but it is no problem to request more.  You can either create a case to customer service through the Support Center in the AWS Management Console or reply here with the amount needed and in which region and we are happy to get this done for you.

Best regards,
Justin G."
Amazon EC2	"Which instance will terminate when I reduce 'DesiredCapacity' in AutoScale?
I understand that autoscale policy means that if I reduce the desired capacity of my AS group, it'll check for an inbalance in Availability Zones, and act upon the zone with the most instances within it following a specified policy (oldestFirst, etc.).

I wish to run some actions on an instance prior to terminating it via changing the AutoScale group capacity.

My question is, is there a simple way to know which instance would be terminated if I reduced the capacity of my autoscale group? I'd hate to de-resister an instance from our environment, then terminate a totally different box."
Amazon EC2	"Re: Which instance will terminate when I reduce 'DesiredCapacity' in AutoScale?
Hello,

Auto Scaling Service choose the instance which needs to be terminated during a scale down event depends on the termination policy set. You can find more information about the autoscaling termination policies here.

Regards
Shiroy"
Amazon EC2	"Re: Which instance will terminate when I reduce 'DesiredCapacity' in AutoScale?
Hi Shiroy,

Thanks for your response.
I understand the steps the AS service will go through when I reduce my desired capacity and have already studied the supplied link prior to posting here.

However your reply doesn't suggest a method I can use to determine which instance would be selected for termination before I issue a 'scaling in' request.

I wish to perform some actions on the machine before I remove it from the group.

Thanks,"
Amazon EC2	"EC2 windows machine start up time is more than 5 minutes and 30 seconds
We are having issues on long machine start up time. EC2 windows machine start up time is more than 5 minutes and 30 seconds. We are able to remote login after 5 minutes and 30 seconds only. This is creating a problem when we auto scale up the machines using AMIs. Our services has to wait for more than 5 minutes and 30 seconds to use new instances. Do you have any solution to reduce this start up time?"
Amazon EC2	"Re: EC2 windows machine start up time is more than 5 minutes and 30 seconds
Hi,

What is the size/type of your instance? you could perhaps increase the instance to a better spec giving you more Compute power for a quicker boot.

You could also look at reducing the threshold on your Autoscaling Group as to when it starts a new instance just slightly so the instance starts sooner giving you that extra time for it to boot preventing you having issues on demand when you need it.

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 windows machine start up time is more than 5 minutes and 30 seconds
Let me explain the problem to you -

Consider two scenarios here :

1) an EC2 instance is started from stopped state and
2) another EC2 instance is created from AMI image

In scenario 1, remote desktop (3389) and http (80) access is available in about 1.5-2 mins while in scenario 2, the same takes around 5-6 mins.

And since auto-scaling always creates new instances on every scale up event it takes 6 mins for us to actually start using the new machine for performing the extra work.

The time AWS takes to create a new instance from AMI image is too large for practical usage.  Please guide us to reduce this time as much as possible."
Amazon EC2	"Re: EC2 windows machine start up time is more than 5 minutes and 30 seconds
Hi,

Currently Autoscaling does not allow you to start/stop existing EC2 instances, it always launches new ones.  

Did you try either of the methods I listed in my previous post to see if it alleviated the problem?

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 windows machine start up time is more than 5 minutes and 30 seconds
Thanks for your reply.

Yes, we tried changing the instance type to the highest specs EC2 instance (i.e. 36 core compute optimized), still the time to start the machine completely is 5 mins, it just reduced by 30 secs.

Reducing threshold is a workaround for this problem which we can definitely implement at any point of time.

Now since, it is getting clear that AWS EC2 windows instances require around 5 mins for creation, we will consider reducing threshold values for our AutoScaling group.

Thanks,
Sagar"
Amazon EC2	"Re: EC2 windows machine start up time is more than 5 minutes and 30 seconds
I think this maybe your best solution in this case.

If you found any of my comments helpful, I would appreciate it if you could mark them as such.

Many thanks,

Stooby..."
Amazon EC2	"tomcat clustering on two ec2 instances with ELB configured with SSL
Hi,
Just a question to forum
I am trying to setup tomcat cluster with two ec2 instance(each haviing one tomcat instance ). I have hosted one simple jersey-jaxrs application on two instances of ec2 and when I run the test client with jersey jaxrs against single ec2 instances separately the application works.
when I setup Elastic load balancer (ELB ) with ssl configured  and I am able to acccess tomcat manager thru https://<ELB_DNS_Name>:8443 url and browse all sample tomcat applications.
  but when I run test client of jaxrs against ELB url it says gateway timeout exception and request is not reaching till neither of tomcats access logs.
I have configured the ELB listeners to be 
do I need to setup apache httpd as loadbalancer for this webservice setup to work?
if apache httpd is required where should I host that ?
what should be the session replication strategy as multicast is not supported by AWS.

Edited by: sankarca on Aug 3, 2015 2:45 AM"
Amazon EC2	"Instance stuck, CPU 100%, can't reboot
Id: i-68bb202b
Can't ssh in or anything.
Trying to reboot does nothing.
Please help."
Amazon EC2	"Re: Instance stuck, CPU 100%, can't reboot
rebooted finally"
Amazon EC2	"Account Suspended after payment made
I Paid my account in full 3 days ago and today my account was still suspended.

I have a support ticket (Case ID#1459052621) that is still unassigned over 4 hours later.

Can I please get some help on this?"
Amazon EC2	"TCP connection issue on AWS machine.
I have been having a problem creating a simple netcat connection from my laptop (here, nc client) to ec2 server(here, nc server). The client is stuck on SYN_SENT state.

These are the commands I use--

on the nc server:
sudo nc  -l 6666

on the nc client:
nc ec2-xx-xx-xx-xx.ap-southeast-1.compute.amazonaws.com 6666

Here's what I get on doing a netstat on the nc-client:

$ sudo netstat -pant | grep nc
tcp        0      1 192.168.99.52:45185     xx.xx.xx.xx:6666 SYN_SENT    4596/nc

Here's what I get on doing a netstat on the nc-server:

$ sudo netstat -pant |grep nc
tcp        0      0 0.0.0.0:6666 0.0.0.0:*                   LISTEN      8427/nc

I have added a security-group rule to allow all packets coming on port 6666. And all outbound are also allowed.

Why is this connection still stuck in the SYN_SENT state? Am I missing something? I tried this on a non-AWS server, and it worked as expected."
Amazon EC2	"Re: TCP connection issue on AWS machine.
Turned out to be a simple firewall issue. Never mind."
Amazon EC2	"Internal IP reassignment delay
Hello,
I have 2 instances in the same VPC with their respective addresses - 172.31.0.200 and 172.31.0.201. I have an EIP pointed to a third internal IP - 172.31.0.100. Using the aws cli tools I can dynamically reassign the 172.31.0.100 from one instance to another, and doing so gives access to the respective instance via the EIP. However, when I move the internal IP, there is a period of about 15-20 seconds during which the EIP points to 'nowhere'. Is there a way to make this period shorter?"
Amazon EC2	"Bandwidth (or QoS) of single connection
Hi ,

We are using m4.4xlarge as App server.
We found out the server to internet connection's bandwidth has been limited at 50KB/s.
But we need more than that (arround 300KB/s)
Is there any way to remove this restriction?"
Amazon EC2	"Add new  FTP  user And give him specific folder permission only
Hello on ec2 my one instance is running moodle. 

Our client has to much heavy courses  , he want' to upload on server directly using ftp.

Now my problem is i can not give him root user login which i have.

I want's to add new user and give him specific folder permission only where he can upload files using ftp.

He should not access other folders.

Can anybody help me how to add new user ?"
Amazon EC2	"Re: Add new  FTP  user And give him specific folder permission only
Following is an instruction to setup a new user group sftpusers and create such users . Please remove ""-s /sbin/nologin"" to allow ssh access for new user

sudo -i
groupadd sftp
useradd -g sftpusers -s /sbin/nologin <username>
passwd <username>

Give appropriate rw access to required directories , please note that user might have read access to public directories
like /etc .You can take care of that by ""chroot""

---ssh-keygen -f <username> -t rsa
---copy your public key to /.ssh/authorized_keys
cat <username>.pub >> /home/<username>/.ssh/authorized_keys
---download private key to local machine test with winscp/ssh and give it to other users
you will need to convert private key into ppk format for putty

Edit
vi /etc/ssh/sshd_config
PasswordAuthentication no
AllowUsers ec2-user <username>"
Amazon EC2	"Re: Add new  FTP  user And give him specific folder permission only
Hi,

I have followed the process and able to login to server through filezilla.
But i am able to access /var/www/html, /etc/ and all directories. 
I only want to give directory access for ""/var/www/html/downloads/<username>/<files>"" and do not allow any directory other than this through ftp. (I want to give access to only a directory to customer so that he can download his files and do not allow access to any other files/directories)

so what is the process and changes to do for this username.
Please help.

Edited by: Sandeep Agrawal on Jun 14, 2015 9:34 AM"
Amazon EC2	"Re: Add new  FTP  user And give him specific folder permission only
Hello,

I'm trying to follow these instructions but I'm failing somewhere. When I try to connect with the new user I get the error ""Permission denied (publickey).""

What am I doing wrong? I have transfered the file from my regular user to the local computer and when I try to ssh the server (using ""ssh -i username.pub username@server"") I get this message.

Please help if you can!"
Amazon EC2	"Stuck because I can't connect to my server on SSH (port 22).
I've been running in AWS for 4 years and never had this issue before.  I.E. it was working and stopped.

I am a paying customer for AWS services.  This particular issue is related to a tiny EC2 instance that I run several websites on.  I am really only running port 80 and use ssh/rsync over ssh to update files.

As you can see here, I can reach 80, 443 is open but I'm not running anything and 22 and 3000 (for testing) are filtered.  Obviously, that means I can't update the content.

meditation:.ssh mk$ nmap -p 22,80,443,3000 ec2-54-235-249-235.compute-1.amazonaws.com
Starting Nmap 6.47 ( http://nmap.org ) at 2015-07-25 19:36 CDT
Nmap scan report for ec2-54-235-249-235.compute-1.amazonaws.com (54.235.249.235)
Host is up (0.045s latency).
PORT     STATE    SERVICE
22/tcp   filtered ssh
80/tcp   open     http
443/tcp  closed   https
3000/tcp filtered ppp
Nmap done: 1 IP address (1 host up) scanned in 1.35 seconds

Here, you can see my security group which allows 22, 80, 443 and 3000.
meditation:pipeline mk$ ec2-describe-group default
GROUP	sg-db8a24b3	394669115745	default	default group
PERMISSION	394669115745	default	ALLOWS	tcp	22	22	FROM	CIDR	0.0.0.0/0	ingress
PERMISSION	394669115745	default	ALLOWS	tcp	80	80	FROM	CIDR	0.0.0.0/0	ingress
PERMISSION	394669115745	default	ALLOWS	tcp	443	443	FROM	CIDR	0.0.0.0/0	ingress
PERMISSION	394669115745	default	ALLOWS	tcp	3000	3000	FROM	CIDR	0.0.0.0/0	ingress

Here you can see the instance status.
meditation:pipeline mk$ ec2-describe-instance-status i-a5a121d8
INSTANCE	i-a5a121d8	us-east-1a	running	16	ok	ok	active
SYSTEMSTATUS	reachability	passed
INSTANCESTATUS	reachability	passed

Here you can see other details about it running.
meditation:pipeline mk$ ec2-describe-instances i-a5a121d8
RESERVATION	r-7ab75b1c	394669115745	default
INSTANCE	i-a5a121d8	ami-ad2595c4	ec2-54-235-249-235.compute-1.amazonaws.com	ip-10-185-230-157.ec2.internal	running	jemurai-redsky	0		t1.micro	2015-07-25T22:31:53+0000	us-east-1a	aki-805ea7e9			monitoring-disabled	54.235.249.235	10.185.230.157			ebs				paravirtual	xen		sg-db8a24b3	default	false
BLOCKDEVICE	/dev/sda1	vol-5ef78a24	2012-10-03T13:14:16.000Z	true
TAG	instance	i-a5a121d8	Name	Website
TAG	instance	i-a5a121d8	website	true"
Amazon EC2	"Re: Stuck because I can't connect to my server on SSH (port 22).
Someone asked for console output.

meditation:pipeline mk$ ec2-get-console-output i-a5a121d8
i-a5a121d8
2015-07-25T22:35:12+0000
Xen Minimal OS!
  start_info: 0xa01000(VA)
    nr_pages: 0x26700
  shared_inf: 0x7e011000(MA)
     pt_base: 0xa04000(VA)
nr_pt_frames: 0x9
    mfn_list: 0x967000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x946780-0x966780
MM: Init
      _text: 0x0(VA)
     _etext: 0x61e65(VA)
   _erodata: 0x76000(VA)
     _edata: 0x7b6d4(VA)
stack start: 0x946780(VA)
       _end: 0x966d34(VA)
  start_pfn: a10
    max_pfn: 26700
Mapping memory range 0xc00000 - 0x26700000
setting 0x0-0x76000 readonly
skipped 0x1000
MM: Initialise page allocator for b3e000(b3e000)-0(26700000)
MM: done
Demand map pfns at 26701000-36701000.
Heap resides at 36702000-76702000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0x26701000.
Initialising scheduler
Thread ""Idle"": pointer: 0x36702008, stack: 0xbf0000
Initialising xenbus
Thread ""xenstore"": pointer: 0x36702478, stack: 0x26600000
Dummy main: start_info=0x966880
Thread ""main"": pointer: 0x367028e8, stack: 0x26610000
""main"" ""root=/dev/sda1"" ""ro"" ""4""
vbd 2049 is hd0





































BLKFRONT for device/vbd/2049 **********






































backend at /local/domain/0/backend/vbd/10798/2049
Failed to read /local/domain/0/backend/vbd/10798/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/10798/2049/feature-flush-cache.
16777216 sectors of 0 bytes
**************************
[H[J  Booting 'Ubuntu 12.04.1 LTS, kernel 3.2.0-30-virtual'

root  (hd0)
 Filesystem type is ext2fs, using whole disk
kernel  /boot/vmlinuz-3.2.0-30-virtual root=LABEL=cloudimg-rootfs ro console=hv
c0
initrd  /boot/initrd.img-3.2.0-30-virtual

close blk: backend at /local/domain/0/backend/vbd/10798/2049
http://    0.000000 Reserving virtual address space above 0xf5800000
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Linux version 3.2.0-30-virtual (buildd@aatxe) (gcc version 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) ) #48-Ubuntu SMP Fri Aug 24 17:34:24 UTC 2012 (Ubuntu 3.2.0-30.48-virtual 3.2.27)
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   NSC Geode by NSC
http://    0.000000   Cyrix CyrixInstead
http://    0.000000   Centaur CentaurHauls
http://    0.000000   Transmeta GenuineTMx86
http://    0.000000   Transmeta TransmetaCPU
http://    0.000000   UMC UMC UMC UMC
http://    0.000000 ACPI in unprivileged domain disabled
http://    0.000000 Released 0 pages of unused memory
http://    0.000000 Set 0 page(s) to 1-1 mapping
http://    0.000000 BIOS-provided physical RAM map:
http://    0.000000  Xen: 0000000000000000 - 00000000000a0000 (usable)
http://    0.000000  Xen: 00000000000a0000 - 0000000000100000 (reserved)
http://    0.000000  Xen: 0000000000100000 - 0000000026f00000 (usable)
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 DMI not present or invalid.
http://    0.000000 last_pfn = 0x26f00 max_arch_pfn = 0x1000000
http://    0.000000 init_memory_mapping: 0000000000000000-0000000026f00000
http://    0.000000 RAMDISK: 00d88000 - 01774000
http://    0.000000 0MB HIGHMEM available.
http://    0.000000 623MB LOWMEM available.
http://    0.000000   mapped low ram: 0 - 26f00000
http://    0.000000   low ram: 0 - 26f00000
http://    0.000000 Zone PFN ranges:
http://    0.000000   DMA      0x00000010 -> 0x00001000
http://    0.000000   Normal   0x00001000 -> 0x00026f00
http://    0.000000   HighMem  empty
http://    0.000000 Movable zone start PFN for each node
http://    0.000000 early_node_map[2] active PFN ranges
http://    0.000000     0: 0x00000010 -> 0x000000a0
http://    0.000000     0: 0x00000100 -> 0x00026f00
http://    0.000000 Using APIC driver default
http://    0.000000 SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
http://    0.000000 SMP: Allowing 1 CPUs, 0 hotplug CPUs
http://    0.000000 Local APIC disabled by BIOS -- you can enable it with ""lapic""
http://    0.000000 APIC: disable apic facility
http://    0.000000 APIC: switched to apic NOOP
http://    0.000000 PM: Registered nosave memory: 00000000000a0000 - 0000000000100000
http://    0.000000 Allocating PCI resources starting at 26f00000 (gap: 26f00000:d9100000)
http://    0.000000 Booting paravirtualized kernel on Xen
http://    0.000000 Xen version: 3.4.3.amazon (preserve-AD)
http://    0.000000 setup_percpu: NR_CPUS:8 nr_cpumask_bits:8 nr_cpu_ids:1 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 14 pages/cpu @e620b000 s34240 r0 d23104 u57344
http://6009128.918087 Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 158130
http://6009128.918092 Kernel command line: root=LABEL=cloudimg-rootfs ro console=hvc0
http://6009128.918630 PID hash table entries: 4096 (order: 2, 16384 bytes)
http://6009128.918731 Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
http://6009128.918999 Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
http://6009128.919280 Initializing CPU#0
http://6009128.920185 allocated 2551552 bytes of page_cgroup
http://6009128.920187 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://6009128.944023 Initializing HighMem for node 0 (00000000:00000000)
http://6009128.944033 Memory: 598556k/637952k available (5816k kernel code, 38948k reserved, 2845k data, 740k init, 0k highmem)
http://6009128.944040 virtual kernel memory layout:
http://6009128.944041     fixmap  : 0xf5716000 - 0xf57ff000   ( 932 kB)
http://6009128.944042     pkmap   : 0xf5400000 - 0xf5600000   (2048 kB)
http://6009128.944044     vmalloc : 0xe7700000 - 0xf53fe000   ( 220 MB)
http://6009128.944045     lowmem  : 0xc0000000 - 0xe6f00000   ( 623 MB)
http://6009128.944047       .init : 0xc0976000 - 0xc0a2f000   ( 740 kB)
http://6009128.944048       .data : 0xc06ae23c - 0xc09759c0   (2845 kB)
http://6009128.944049       .text : 0xc0100000 - 0xc06ae23c   (5816 kB)
http://6009128.944113 SLUB: Genslabs=15, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
http://6009128.944147 Hierarchical RCU implementation.
http://6009128.944149 	RCU dyntick-idle grace-period acceleration is enabled.
http://6009128.944157 NR_IRQS:2304 nr_irqs:256 16
http://6009128.944233 Console: colour dummy device 80x25
http://6009128.944410 console tty0 enabled
http://6009128.944749 console hvc0 enabled
http://6009128.944806 installing Xen timer for CPU 0
http://6009128.944862 Detected 1799.999 MHz processor.
http://6009128.944873 Calibrating delay loop (skipped), value calculated using timer frequency.. 3599.99 BogoMIPS (lpj=7199996)
http://6009128.944889 pid_max: default: 32768 minimum: 301
http://6009128.944918 Security Framework initialized
http://6009128.944938 AppArmor: AppArmor initialized
http://6009128.944945 Yama: becoming mindful.
http://6009128.945008 Mount-cache hash table entries: 512
http://6009128.945149 Initializing cgroup subsys cpuacct
http://6009128.945163 Initializing cgroup subsys memory
http://6009128.945176 Initializing cgroup subsys devices
http://6009128.945184 Initializing cgroup subsys freezer
http://6009128.945191 Initializing cgroup subsys blkio
http://6009128.945204 Initializing cgroup subsys perf_event
http://6009128.945284 CPU: Physical Processor ID: 0
http://6009128.945290 CPU: Processor Core ID: 0
http://6009128.945678 SMP alternatives: switching to UP code
http://6009129.075478 Freeing SMP alternatives: 24k freed
http://6009129.075510 ftrace: allocating 26547 entries in 52 pages
http://6009129.087750 cpu 0 spinlock event irq 17
http://6009129.087778 Performance Events: unsupported p6 CPU model 45 no PMU driver, software events only.
http://6009129.087956 NMI watchdog disabled (cpu0): hardware events not enabled
http://6009129.087985 Brought up 1 CPUs
http://6009129.088164 devtmpfs: initialized
http://6009129.088262 EVM: security.selinux
http://6009129.088269 EVM: security.SMACK64
http://6009129.088275 EVM: security.capability
http://6009129.089460 Grant table initialized
http://6009129.089536 print_constraints: dummy:
http://6009129.109415 RTC time: 165:165:165, date: 165/165/65
http://6009129.109477 NET: Registered protocol family 16
http://6009129.109676 EISA bus registered
http://6009129.110606 PCI: setting up Xen PCI frontend stub
http://6009129.111845 bio: create slab <bio-0> at 0
http://6009129.111942 ACPI: Interpreter disabled.
http://6009129.112157 xen/balloon: Initialising balloon driver.
http://6009129.113050 xen-balloon: Initialising balloon driver.
http://6009129.113224 vgaarb: loaded
http://6009129.113345 i2c-core: driver aat2870 using legacy suspend method
http://6009129.113353 i2c-core: driver aat2870 using legacy resume method
http://6009129.113441 SCSI subsystem initialized
http://6009129.113542 usbcore: registered new interface driver usbfs
http://6009129.113560 usbcore: registered new interface driver hub
http://6009129.113595 usbcore: registered new device driver usb
http://6009129.113694 PCI: System does not support PCI
http://6009129.113701 PCI: System does not support PCI
http://6009129.113808 NetLabel: Initializing
http://6009129.113815 NetLabel:  domain hash size = 128
http://6009129.113821 NetLabel:  protocols = UNLABELED CIPSOv4
http://6009129.113837 NetLabel:  unlabeled traffic allowed by default
http://6009129.113896 Switching to clocksource xen
http://6009129.124643 AppArmor: AppArmor Filesystem Enabled
http://6009129.124668 pnp: PnP ACPI: disabled
http://6009129.124674 PnPBIOS: Disabled
http://6009129.126863 NET: Registered protocol family 2
http://6009129.126937 IP route cache hash table entries: 32768 (order: 5, 131072 bytes)
http://6009129.127177 TCP established hash table entries: 131072 (order: 8, 1048576 bytes)
http://6009129.127459 TCP bind hash table entries: 65536 (order: 7, 524288 bytes)
http://6009129.127597 TCP: Hash tables configured (established 131072 bind 65536)
http://6009129.127607 TCP reno registered
http://6009129.127613 UDP hash table entries: 512 (order: 2, 16384 bytes)
http://6009129.127625 UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
http://6009129.127697 NET: Registered protocol family 1
http://6009129.127786 platform rtc_cmos: registered platform RTC device (no PNP device found)
http://6009129.128041 audit: initializing netlink socket (disabled)
http://6009129.128057 type=2000 audit(1437863533.244:1): initialized
http://6009129.156697 Trying to unpack rootfs image as initramfs...
http://6009129.168183 Freeing initrd memory: 10160k freed
http://6009129.170494 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://6009129.172398 VFS: Disk quotas dquot_6.5.2
http://6009129.172474 Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
http://6009129.173094 fuse init (API version 7.17)
http://6009129.173220 msgmni has been set to 1188
http://6009129.173611 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 253)
http://6009129.173656 io scheduler noop registered
http://6009129.173662 io scheduler deadline registered
http://6009129.173676 io scheduler cfq registered (default)
http://6009129.173771 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://6009129.173805 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://6009129.173979 isapnp: Scanning for PnP cards...
http://6009129.179738 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://6009129.181100 Linux agpgart interface v0.103
http://6009129.182718 brd: module loaded
http://6009129.183543 loop: module loaded
http://6009129.531480 isapnp: No Plug & Play device found
http://6009129.533873 blkfront device/vbd/2049 num-ring-pages 1 nr_ents 32.
http://6009129.534564 Fixed MDIO Bus: probed
http://6009129.534594 tun: Universal TUN/TAP device driver, 1.6
http://6009129.534602 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://6009129.534704 PPP generic driver version 2.4.2
http://6009129.534760 Initialising Xen virtual ethernet driver.
http://6009129.537053 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://6009129.537084 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://6009129.537101 uhci_hcd: USB Universal Host Controller Interface driver
http://6009129.537151 usbcore: registered new interface driver libusual
http://6009129.537185 i8042: PNP: No PS/2 controller found. Probing ports directly.
http://6009129.538021 i8042: No controller found
http://6009129.538101 mousedev: PS/2 mouse device common for all mice
http://6009129.578134 rtc_cmos rtc_cmos: rtc core: registered rtc_cmos as rtc0
http://6009129.578213 rtc_cmos: probe of rtc_cmos failed with error -38
http://6009129.578316 device-mapper: uevent: version 1.0.3
http://6009129.578423 device-mapper: ioctl: 4.22.0-ioctl (2011-10-19) initialised: dm-devel@redhat.com
http://6009129.578477 EISA: Probing bus 0 at eisa.0
http://6009129.578502 EISA: Detected 0 cards.
http://6009129.578515 cpufreq-nforce2: No nForce2 chipset.
http://6009129.578523 EFI Variables Facility v0.08 2004-May-17
http://6009129.578839 TCP cubic registered
http://6009129.578987 NET: Registered protocol family 10
http://6009129.579858 NET: Registered protocol family 17
http://6009129.579871 Registering the dns_resolver key type
http://6009129.579906 Using IPI No-Shortcut mode
http://6009129.580045 registered taskstats version 1
http://6009129.584143 blkfront: xvda1: barrier or flush: disabled
http://6009129.689985 XENBUS: Device with no driver: device/console/0
http://6009129.690025   Magic number: 1:252:3141
http://6009129.690070 /build/buildd/linux-3.2.0/drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
http://6009129.690085 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://6009129.690093 EDD information not available.
http://6009129.690599 Freeing unused kernel memory: 740k freed
http://6009129.692755 Write protecting the kernel text: 5820k
http://6009129.693553 Write protecting the kernel read-only data: 2376k
http://6009129.693562 NX-protecting the kernel data: 5444k
Loading, please wait...
http://6009129.739888 udevd82: starting version 175
Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
http://6009130.103868 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
cloud-init start-local running: Sat, 25 Jul 2015 22:32:18 +0000. up 5.48 seconds
no instance data found in start-local
ci-info: lo    : 1 127.0.0.1       255.0.0.0       .
ci-info: eth0  : 1 10.185.230.157  255.255.255.192 22:00:0a:b9:e6:9d
ci-info: route-0: 0.0.0.0         10.185.230.129  0.0.0.0         eth0   UG
ci-info: route-1: 10.185.230.128  0.0.0.0         255.255.255.192 eth0   U
cloud-init start running: Sat, 25 Jul 2015 22:32:19 +0000. up 6.15 seconds
found data source: DataSourceEc2
2015-07-25 22:32:19,491 - __init__.pyWARNING: Unhandled non-multipart userdata ''
Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
[74G OK g AppArmor profiles       [80G
 * Stopping System V initialisation compatibility[74G OK 
 * Stopping Handle applying cloud-config[74G OK 
 * Starting System V runlevel compatibility[74G OK 
 * Starting automatic crash report generation[74G OK 
 * Starting ACPI daemon[74G OK 
 * Starting save kernel messages[74G OK 
 * Starting regular background program processing daemon[74G OK 
 * Starting deferred execution scheduler[74G OK 
 * Stopping save kernel messages[74G OK 
 * Stopping CPU interrupts balancing daemon[74G OK 
 * Starting crash report submission daemon[74G OK 
[74G OK g PostgreSQL 9.1 database server       [80G
landscape-client is not configured, please run landscape-config.
[74G OK g web server apache2       [80G
 * Stopping System V runlevel compatibility[74G OK 
 * Starting execute cloud user/final scripts[74G OK 
cloud-init boot finished at Sat, 25 Jul 2015 22:32:29 +0000. Up 16.58 seconds"
Amazon EC2	"Re: Stuck because I can't connect to my server on SSH (port 22).
I have the same issue.
i-334547fd

It's connecting fine from another brand new instance I just created within the same subnet.

Also, blocked 1701 port I used.

Also, this thing happened from nowhere. I configured VPN and for some moment instance became inaccessible.

Solved.
Strange, but after changing EIP on this instance everything became normal.

Edited by: vanch on Jul 27, 2015 2:45 AM"
Amazon EC2	"Re: Stuck because I can't connect to my server on SSH (port 22).
Hello Mkonda,

I did check your instance i-a5a121d8 and was able to connect to TCP port 22 & 80 using netcat.
However, connect requests to TCP ports 3000 and 443 was refused by your instance which indicates that there are no services running on your instance listening on those TCP ports.
You can verify this by running the following command in your instance:
$ sudo netstat -tlpn

Following are the results of the netcat tests which I ran against your instance:
$ nc -zv xx.xx.xx.xx 3000
nc: connect to xx.xx.xx.xx port 3000 (tcp) failed: Connection refused
$ nc -zv xx.xx.xx.xx 443
nc: connect to xx.xx.xx.xx port 443 (tcp) failed: Connection refused
$ nc -zv xx.xx.xx.xx 80
Connection to xx.xx.xx.xx 80 port [tcp/http] succeeded!
$ nc -zv xx.xx.xx.xx 22
Connection to xx.xx.xx.xx 22 port [tcp/ssh] succeeded!

Since TCP connection on port 22 is succeeding, you should be able to SSH/SCP to your instance. If you are still facing issues, can you ssh to your instance with -v option and share the output? You can run the  following command to ssh to your instance:
$ ssh ec2-user@xx.xx.xx.xx -i /path/to/PrivateKey.pem

Note: Replace xx.xx.xx.xx with the public IP of your instance
Regards
Shiroy"
Amazon EC2	"Re: Stuck because I can't connect to my server on SSH (port 22).
Thank you.

Sigh.  Turned out someone had changed router security settings that blocked 22.  I didn't realize anything had changed on my end.

Thanks for your help.

Matt"
Amazon EC2	"Migration of an elastic IP address to VPC fails (InvalidState)
Hello. We have one elastic IP address that we would like to migrate and re-use in VPC environment. 

We first disassociated the address and then tried to run the following command, as described in the document.
aws ec2 move-address-to-vpc --public-ip 175.41.XXX.XXX

http://docs.aws.amazon.com/cli/latest/reference/ec2/move-address-to-vpc.html

However, we encountered an error saying:
A client error (InvalidState) occurred when calling the MoveAddressToVpc operation: Address 175.41.XXX.XXX cannot be moved. Please refer to documentation.

We tried associating and disassociating the address a few times but with no luck. Can anyone help me with this? I found this thread and am thinking it might be the case for us too."
Amazon EC2	"Re: Migration of an elastic IP address to VPC fails (InvalidState)
Hello 

If you have Elastic IP addresses that are associated with reverse DNS records, you cannot migrate them to the EC2-VPC platform yourself, or restore them to the EC2-Classic platform yourself: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#Using_Elastic_Addressing_Reverse_DNS

I see that you have an EIP 175.41.XXX.XXX which has a rDNS configured. I can delete this rDNS record for you and you will be able to migrate your EIP.
You need to complete this form to remove reverse DNS as we need to do some security checks first.
https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request
Please put the word 'remove' in the Reverse DNS Record for EIP 1 and 2 boxes and we will aciton this for you.
Regards
Fawzi H."
Amazon EC2	"error conecting to EC2 instance using Putty - server refused our key
Hi,

I'm trying to connect to the ec2 instance using PuTTy however I get a connection error:

Server refused our key
No supported authentication method available (serv: sent public key)

I have regenerated a pkk key from the pem format private key. I did generate a private key (made sure of that again just now, still getting the error). I've tried 'root' 'admin' and ec2-user'. I keep getting this error. I've made sure the security group for the webserver is allowing a ssh connection from my IP address, port 22 (though i do seem to have to put /32 behind my IP).

What am I doing wrong here? Hope someone can help out.
Thanks,
BR,Peter"
Amazon EC2	"Re: error conecting to EC2 instance using Putty - server refused our key
Hi,

I've solved the problem so just as a record for anyone searching for this problem. Apparently the instance that was created did not have an AMI. Don't know why - probably because I forgto some settings when creating the instance. 

So looking at the EC2 dashboard under AMIs there should be an image. There wasn't in my case. So I terminated the instance that was created and just create a new instance and now an AMI was created. Now it works.

Peter."
Amazon EC2	"Does software stop working when I disconnect?
I just started using AWS. I am brand new to using the virtual servers so please understand if I am being thick.

I run a screenshot capture software through AWS that takes an interval capture of a stock price movement chart. I was under the impression that even when I log off the softwares will carry on running.

But when I log back on to see if the capture software has been working every 60 seconds I see it has stopped while I wasn't connected. But when I am logged on it starts working again.

Please help how I can fix this.

Thank you."
Amazon EC2	"Re: Does software stop working when I disconnect?
.

Edited by: H. Shin on Aug 2, 2015 1:37 PM"
Amazon EC2	"Suddenly ec2 free tier too slow and lots of 503 errors
Everything was working before.  but suddenly not.  I checked logs but mostly timed out errors from php5-fpm  (ubuntu, nginx, php5-fpm)  

does amazon slow down performance on free tier after certain usage? 
is it possible to upgrade to different type then go back to free tier? 

any advice on how to go about debugging this problem?  I only have a wordpress site but with large database.

instance id: i-5241b0a0"
Amazon EC2	"Re: Suddenly ec2 free tier too slow and lots of 503 errors
I'll answer what I can...

thehelloworldprogramhimself wrote:
does amazon slow down performance on free tier after certain usage?

The instance type included in the free tier offers burstable performance (see Amazon EC2 Instances). However, it is not artificially limited in any way. You get the same thing on the free tier as you would if you paid for it.

is it possible to upgrade to different type then go back to free tier? 

Yes, you can use anything that AWS has to offer and ""go back"" to the free stuff at any time. You will simply be charged for anything that isn't covered by the free tier. You don't lose any benefits by evaluating other options on the platform."
Amazon EC2	"Unable to access instance
Dear AWS Support,

   Unable to access instance id i-24d4ca4b.  Connection keeps getting refused when trying to SSH in.  Have had a problem before where support needed to provide assistance as IPTABLES started up even though it is set to off.  IP address is in Security Group, so have confirmed that the server itself is denying the connection.

Would appreciate any assistance in this matter.

Regards,
Alex"
Amazon EC2	"Re: Unable to access instance
Ended up just mapping the primary volume as a secondary and bypassing config files.  This is resolved."
Amazon EC2	"Authentication failed because your account has been suspended
Case ID: 1458206601
Amazon Web Services Sign In
Authentication failed because your account has been suspended. Please contact AWS customer support.

Please can someone look into this for me.

Thanks."
Amazon EC2	"Re: Authentication failed because your account has been suspended
Hello, 

I have forwarded your inquiry to our customer service team and someone will get back to you shortly.

Regards
Fawzi H."
Amazon EC2	"Re: Authentication failed because your account has been suspended
Hello,

Our team has reached updated you via the support center case 1458206601, If you still have issues with this, please update the thread and I will follow up with you.

Regards,
Baseer."
Amazon EC2	"can't remote desktop into instance
Hi,

I can't remote desktop into one of my instance, this just happened today, and I have since tried to reboot the machine using the AWS EC2 dashboard and didn't help,  I'm still able to ftp into the system and the machine seems to be running fine, I just couldn't remote desktop into it.

Any tips/help?"
Amazon EC2	"Re: can't remote desktop into instance
the instance id is i-d8b738b0"
Amazon EC2	"Re: can't remote desktop into instance
Your instance responds to ARP (which indicates that portion of the network stack is OK) and the host passes our health checks. However I can't connect to either the ftp or rdp ports.Please could you:0) review your security group settings to ensure they are sane and that nothing has changed.1) review the console output for any hints as to what may be amiss.I realize you rebooted on 2010-02-03 but perhaps another one might help...althoughÂ  that does smack of magic & superstition to me"
Amazon EC2	"Re: can't remote desktop into instance
I just rebooted the machine and I still can't remote into it.I have also checked the security group, and I don't see anything wrong with it, since I never modified anything, and recently I started a new instance using the same security group and I'm able to connect to the new instance. Can you please look into this?"
Amazon EC2	"Re: can't remote desktop into instance
any help?"
Amazon EC2	"Re: can't remote desktop into instance
hi there,i have the same very problem. it happened on several instances. i wrote it here also , and didnt got any response...<span style=""font-family: Calibri; color: #800080; font-size: small"">http://developer.amazonwebservices.com/connect/thread.jspa?threadID=43434&tstart=90</span>it keep happening from time to time, which is the worse thing: u cannot predict it, and u know MerphiÂ  - it happens at the most critical points did u get any help?thanksohad"
Amazon EC2	"Re: can't remote desktop into instance
No i didn't get any help, I finally terminated the instance because even after several reboot, I still cannot remote into the isntance, and I notice the performance of the instance has degraded severely so I just create a new one."
Amazon EC2	"Re: can't remote desktop into instance
Did RDP work with the new instances? Did you create the instance from the same AMI?Are any other instances / AMIs affected? If so, please tell us instance ID / AMI ID. Thanks."
Amazon EC2	"Re: can't remote desktop into instance
I can remote into the new instance created using the same AMI and security group and all other settings"
Amazon EC2	"Re: can't remote desktop into instance
as far as i see, u encountered very similar behaviour: it is not reproducalbe, u have a new instance and u can connect, but then, after some time it is running ok, u might lose the connection for a period of time or lose the connection with it forever.it is very problematic situation since it might catch u in very unpleasant moments, like it happened ot meÂ :-("
Amazon EC2	"Re: can't remote desktop into instance
Folks, If you still have instances alive which have experienced this issue, could you answer the following questions?1.Â  Would you mind posting (or PM'ing me) the output of the Ec2Config Log?Â  It can be located at:C:\Program Files\Amazon\Ec2ConfigSetup\Ec2ConfigLog.txt (for S3-backed instances)-or-C:\Program Files\Amazon\Ec2ConfigService\Logs\Ec2ConfigLog.txt (for EBS-backed instances)2.Â  Do you have any service logs which may indicate what the network conditions seemed like inside your instances?3.Â  If you're instance is currently running, does a 'netstat -an' command indicate a lot of sockets in TIME_WAIT state?In particular, I'm looking for evidence as to whether the entire network interface crashed, or whether you are experiencing a process-specific issue.Â  For example, the Ec2Config log might indicate that the network interface is down b/c it may have errors indicating inability to access the Meta-Data IPs, etc.If your issue only affected RDP and not other services on the host, that's a different type of problem which requires deeper forensics on the instance itself and also evaluation of the network path between your location and the instance itself."
Amazon EC2	"Re: can't remote desktop into instance
Hi Ryan,I've experienced similar problems with total loss of network connectivity with my Windows instances. I just checked my current instance (i-82f154f5, eu-west) that is working fine now and it has lots of:""Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/instance-action with exception Unable to connect to the remote server""in Ec2ConfigLog.txt. There is no timestamps in that file but those lines might coincide with the lost network connectivity I have experienced with that instance. 

Message was edited by: klon1"
Amazon EC2	"Re: can't remote desktop into instance
Thanks. We're looking into scenarios which might cause the network interface to go unresponsive.When this happens, can you tell whether your instance has crashed/frozen, or whether the services are still running while the network is inaccessible? For example, are there events in the Windows Eventlog (or any other in-instance service logging) during the time which it was inaccessible that might indicate whether the system is actually running versus, say, being completely hung?"
Amazon EC2	"Re: can't remote desktop into instance
It seems the instance is running but the network is hung. I think there is a correlation between down times and heavy EBS IO use by our application.Also we see a lot of warnings in the eventlog like these:Event Type:Â Â Â  WarningEvent Source:Â Â Â  rhelscsiEvent Category:Â Â Â  NoneEvent ID:Â Â Â  129Date:Â Â Â  Â Â Â  2010-03-10Time:Â Â Â  Â Â Â  20:17:34User:Â Â Â  Â Â Â  N/AComputer:Â Â Â  IP-0AE473CFDescription:The description for Event ID ( 129 ) in Source ( rhelscsi ) cannot be found. The local computer may not have the necessary registry information or message DLL files to display messages from a remote computer. You may be able to use the /AUXSOURCE= flag to retrieve this description; see Help and Support for details. The following information is part of the event: \Device\RaidPort0.But we see these regardless of whether the network is down or not."
Amazon EC2	"Re: can't remote desktop into instance
Damn it, I created a new instance like a month ago, and it happen to me again, I cannot connect to the server anymore, the ami is ami-c3c225aa. what the heck is going on."
Amazon EC2	"Re: can't remote desktop into instance
I can only get system log (which doesn't say there was any error), and I tried restarting the instnace and it doesn't help either"
Amazon EC2	"Re: can't remote desktop into instance
it's a db machine, and this is the error I'm getting

A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) (Microsoft SQL Server, Error: 53)"
Amazon EC2	"Re: can't remote desktop into instance
I'm having the exact same problem.

I can't remote desktop into the EC2 instance I just created a few hours ago. I've tried rebooting, but nothing seems to work:

EC2 Instance: i-11627c54. Any help would be greatly appreciated..."
Amazon EC2	"Re: can't remote desktop into instance
I'm having the same issue right now.Â  I've tried a couple new instances.Â  Did you get yours working yet?"
Amazon EC2	"Re: can't remote desktop into instance
adzila:Are you still having problems with instance i-11627c54? Telnet to the the rdp portÂ  works so the you should be able to remote desktop to the instance.Regards."
Amazon EC2	"IP address, image, instances
Hello:We had 1 IP address. We uploaded application. My programmer did necessary configuration to make our application work. We just added another IP. As soon as we did that our application sopped working. Also, we lost RDConnection.I do not understand the words used >>> images, instances. I am looking for cost effective way to talk to somebody on phone 1 on 1.If somebody could help (can afford some compensation for the time spent, for problem resolution), please call me on my cell number 414-737-8518.Thank you.Ramesh Kamath, Milwaukee, WI"
Amazon EC2	"Re: IP address, image, instances
Hi, now i have the same problem the second time.I can not remote the windows instance i-584df32f although the ping is alright.The db-port is open and it seem to work. But not the RDP Port. What is going on there? The last time, i had the problem, it was resolved during the day, but i did not know why...!?Can anybody help me?It is not a pleasure to work for hours on a machine and install several things and then see, that the instance can not be connected.

Message was edited by: sven200"
Amazon EC2	"Re: can't remote desktop into instance
I am having the exact same problem. I have a WIN2008 instance and I was able to connect to it once, in the afternoon. Since then I am getting errors connecting to the instance using remote desktop. I have tried rebooting but with no luck. Please help!!"
Amazon EC2	"Re: can't remote desktop into instance
Is anyone from Amazon even hearing this? This problem looks very frequent and annoying."
Amazon EC2	"Re: can't remote desktop into instance
Happened to me again now. Instance had been running fine for two months since last troubles. Now it just went unreachable by network, had to terminate and launch a new instance. Instance ID was i-82f154f5 (eu-west-1b).Out site suffered down time... customers unhappy."
Amazon EC2	"If amazon made some constraints for ec2?
I have applied for a free ec2 instance (centos6.5) in Oregon, and I am in china.
I have set Security Groups to allow all traffic.
There are two program run on the ec2 instance, the one use port 7733, the another use port 7734.
I can connect to the program using port 7734 on the local computer. But if I try to connect to program 7733, it will crash, and give me error info ""remote_endpoint: Transport endpoint is not connected"".
The two program can run on the other cloud server in china correctly, so I guess it maybe caused by the unstable network.
If amazon made some constraints such as port, bandwidth, connections for free ec2?"
Amazon EC2	"Re: If amazon made some constraints for ec2?
Hi  v_francis,

I had a look at the instance and can it and the underlying host are passing all health checks. I don't see any network errors which may have prevented or interrupted your program connection.

I see your security group rules for the instance are adequate for your current use case. With that said you should look to lock down the administrative ports to a single IP or at a minimum a specific range of IPs.

The free tier program is simply a billing adjustment. The resources utilized under the free tier program operate under the same performance as hourly on-demand resources.

I'd suggest taking a look at your application/system logs to try to determine why the connection failed and/or was interrupted.

When the connection crashes are you still logged in via ssh? If your ssh connection was not interrupted during the event then you should be able to rule out site-to-site network issues.

Regards,

Rodney"
Amazon EC2	"Amazon instance is not accessible
Once again Amazon instance is not accessible, it is really bad....
Please can you help?
Also attaching detail in the email below:


http://tools.pingdom.com/ping/?target=50.19.218.25&o=2&id=8346424


C:\Users\keshav>ping 50.19.218.25

Pinging 50.19.218.25 with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 50.19.218.25:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),


C:\Users\keshav>tracert 50.19.218.25

Tracing route to ec2-50-19-218-25.compute-1.amazonaws.com http://50.19.218.25
over a maximum of 30 hops:

  1     2 ms     2 ms     2 ms  192.168.0.1
  2     4 ms     5 ms     4 ms  172.29.1.1
  3     4 ms     5 ms     5 ms  103.226.224.1
  4     6 ms     6 ms     6 ms  115.249.64.122
  5     *        *        *     Request timed out.
  6    33 ms    30 ms    30 ms  62.216.147.101
  7   158 ms   160 ms   158 ms  xe-2-3-0.0-cjr02.prs001.flagtel.com [85.95.26.15
4]
  8   224 ms   222 ms   223 ms  xe-8-0-2.0.pjr02.nyc005.flagtel.com [85.95.25.15
7]
  9   225 ms   225 ms   225 ms  equinix01-iad2.amazon.com http://206.126.236.68
 10     *        *        *     Request timed out.
 11     *        *        *     Request timed out.
 12   225 ms   229 ms   227 ms  205.251.245.65
 13     *        *        *     Request timed out.
 14     *        *        *     Request timed out.
 15     *        *        *     Request timed out.
 16   244 ms   225 ms   246 ms  216.182.224.87
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22     *        *        *     Request timed out.
 23     *        *        *     Request timed out.
 24     *        *        *     Request timed out.
 25     *        *        *     Request timed out.
 26     *        *        *     Request timed out.
 27     *        *        *     Request timed out.
 28     *        *        *     Request timed out.
 29     *        *        *     Request timed out.
 30     *        *        *     Request timed out.

Trace complete.


Edited by: keshavdogra on Jul 30, 2015 11:11 AM"
Amazon EC2	"Re: Amazon instance is not accessible
Hi keshavdogra,

I see the instance is currently in a running state and passing all health checks.

Looking at the security groups I don't see ingress rules for ICMP therefore the pings and traceroutes will timeout. More info on that can be found here - http://aws.amazon.com/articles/1145#18

Can you confirm if you are still experiencing issues with the instance?

Regards,

Rodney"
Amazon EC2	"Brand new instance - Answers RDP, but won't authenticate
Hi,
I just got started with EC2 tonight and I'm off to a rough start.  My Instance ID is: Instance ID i-3695929e 

When I try to connect with Remote Desktop, I get to the point where it asks for the Administrator Password. I have the .pem file set up and working to generate passwords, but when I paste the password into the login dialog, I get: ""Your Credentials Did Not Work"".... ""Try again?""

Any ideas?

sgj"
Amazon EC2	"Re: Brand new instance - Answers RDP, but won't authenticate
Hi sgj,

For a windows instance it can take up to 45 minutes to an hour before the password is accepted after it reaches a running state.

Can you confirm if you are still having issues?

Regards,

Rodney"
Amazon EC2	"Free tier eligible Windows_Server-2008-R2_SP1-English-64Bit-Base Help pls
Hello!
Help please advice that in such cases make I created for that would run the program
and here such in general history.
I am in the July of this year 2015 got a free VPS server for 1 year from amazon, not so long ago, the sake of interest went to Billing, and I saw that I have any charge for the the use of something there.
Why should I pay for the use of the free period?
Tacked screenshots"
Amazon EC2	"Re: Free tier eligible Windows_Server-2008-R2_SP1-English-64Bit-Base Help pls
Hi protey,

I'm going to send you a PM shortly.

Regards,

Rodney"
Amazon EC2	"accidentally deleted vpc
Hi,
I accidentally deleted my default vpc in eu-west-1 region.
How can i restore it?"
Amazon EC2	"Re: accidentally deleted vpc
Hi Mike,

This has been completed for you.

Regards,

Rodney"
Amazon EC2	"Putty : Network Error : Connection Timed Out!!
Hi Guys, I'm facing problem in connecting to my server....To isolate the problem, i created an Instance ID i-ea50f123..This is a temporary instance which i created to test the connectivity when my original one had problem. Even with temporary also unable to connect...putty gives ""network connection timed out"". As far as the security group, enabled port 22 for all IPs. also telnet to the IP with 22 is failed. Tracert is dropping after amazon.com ip, not sure is this the real cause.


C:\Windows\system32>tracert 52.10.168.70

Tracing route to ec2-52-10-168-70.us-west-2.compute.amazonaws.com http://52.10.168.70

over a maximum of 30 hops:

1 1 ms 1 ms 1 ms 192.168.0.1
2 2 ms 2 ms 2 ms 103.16.70.153
3 34 ms 2 ms 2 ms 103.16.70.1
4 10 ms 4 ms 5 ms 220.227.125.118
5 * 9 ms 8 ms 115.255.252.225
6 8 ms 8 ms 8 ms 62.216.147.249
7 239 ms 239 ms 239 ms ge-5-0-0.0.ejr03.sin001.flagtel.com [62.216.128.
158]
8 242 ms 240 ms 240 ms so-0-3-0.0.pjr01.hkg005.flagtel.com [62.216.128.
118]
9 * 140 ms 121 ms ge-2-2-0.0.pjr02.wad001.flagtel.com [85.95.26.20
6]
10 249 ms 239 ms 238 ms so-3-0-0.0.ejr02.pao001.flagtel.com [62.216.128.
1]
11 233 ms 265 ms 232 ms paix01-sfo4.amazon.com http://198.32.176.36
12 * * * Request timed out.
13 * * * Request timed out.
14 257 ms 256 ms 256 ms 205.251.232.116
15 257 ms 348 ms 272 ms 205.251.232.143
16 258 ms 286 ms 255 ms 54.239.48.179
17 * * * Request timed out.
18 * * * Request timed out.
19 * * * Request timed out.
20 * * * Request timed out.
21 * * * Request timed out.
22 * * * Request timed out.
23 * ^C

could you pls help

Regards....Iyy

Edited by: iyyappanmr on Aug 1, 2015 9:00 AM"
Amazon EC2	"Re: Putty : Network Error : Connection Timed Out!!
Hi,

I replied to your message here

Regards,

Rodney"
Amazon EC2	"Your service sign up is almost complete!
Hello, I completed the registration and this message appears.

Thanks for signing up with Amazon Web Services. Your services may take up to 24 hours to fully activate. If youâ€™re unable to access AWS services after that time, here are a few things you can do to expedite the process:
Make sure you provided all necessary information during signup. Complete your AWS registration.
Check your email to see if you have received any requests for additional information. If you have, please respond to those emails with the information requested.
Verify your credit card information is correct. Also, check your credit card activity to see if thereâ€™s a $1 authorization (this is not a charge). You may need to contact your card issuer to approve the authorization.
If the problem persists, please contact Support.

I checked the history card and was made two charges of $1 and already checked and email application as above but my account is not released. PLEASE I NEED HELP."
Amazon EC2	"Re: Your service sign up is almost complete!
Hello  pedrogoncalvesalmeida,

I have seen that you opened also a case with us on this, we will answer through the case correspondence as soon as possible.

Regards,
Giorgio"
Amazon EC2	"No pem key to Windows instance and need to access the server
My instance (i-f811509f, t1.micro) was set up by a former employee, and now I need to connect to this instance. I do not have access to the pem key that was originally created.  I've read several posts about creating a new instance and new key pair, but they all seem to be for Linux instances.  

Does anyone have steps / instructions for recovering / recreating a key pair for Windows?

Thanks

Edited by: internetprojects on Jul 30, 2015 2:19 PM"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
You'll find the following information in our documentation:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-passwords.html#ResettingAdminPassword

I hope this helps.

Julie"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
Hi Julie,

Thanks for the link. The process seems straight-forward, however in one of the last steps it says to use the .pem file to dycrypt the password which I do not have.  Is there a procedure or way to generate a new .pem file?

Thanks

Dan"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
From what I can see, step 4 refers to launching a new instance, so I would say you need the ""new PEM"", although looks a little tricky.  Good luck"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
Thanks, but steps 9 and 10 outline detaching the volume from the temp instance and reattaching it to the original instance, so I think that would put me right back at square 1 since the original .pem file is lost :/"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
My apologies. You are correct, you still need the original .pem file to decrypt the new password. This is the solution for a different scenario.

Looking at the documentation for the EC2Config service, it sounds like you can set your own password (in clear text) for sysprep. Note that I haven't tried this yet, so I don't have the step-by-step directions, but I'll work on this and add it to the documentation.

Julie"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
Thanks Julie,

This is what I'm going to try today: I'm going to create an image of the instance, launch a new instance from that AMI with a new key pair, then once everything looks good I'll associate my elastic IP to the new instance.

Would you happen to know how I can check to see which Windows OS version the original instance is? It's either 2008 R2 or 2012.

Thanks

Dan"
Amazon EC2	"Re: No pem key to Windows instance and need to access the server
I was able to figure out how to recover my Windows instance, here were my steps:

1.	Stop the Windows instance that you do not have the key file for.
2.	Right click and create an image from the stopped instance.
3.	Go to the ami you just created and launch an instance from it, create a new Key Pair for the instance, shut down the instance once it's finished verification (you cannot log into it yet).
4.	Create a new windows instance (call it Recovery or something meaningful) in the same availability zone, use the newly created Key Pair for it.
5.	Once it's running use the new Key Pair to get the temp Windows admin pw.
6.	From the Left menu, go into EBS Volumes, select the volume of the instance created from the AMI in Step 3 and dismount the volume. Mount the volume to the new Recovery instance (you can use the default mount point that is already in the field).
7.	Once mounted RDP to the recovery server and follow the directions for Step# 7 on editing the config.xml file: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-passwords.html?console_help=true#ResettingAdminPassword
8.	Shut down the Recovery server, dismount the volume and mount it back to your instance from Step 3. I had to specify the mount point as /dev/sda1 because the server did not boot if I didn't (all my Windows instances have /dev/sda1 as the root device).
9.	Start up the instance from Step 3, right click on it and select 'Get Windows password'. Use the new .pem file to get the temporary password.
10.	RDP to your newly recovered Windows instance.

Edited by: internetprojects on Jul 31, 2015 4:30 PM

Edited by: internetprojects on Aug 1, 2015 6:30 AM"
Amazon EC2	"EBS backed instance struck in ""stopping"" state.
I am experiencing some problem in stopping my instance. It has been stuck in ""Stopping"" state for more than 2 hours now. I would like to stop the instance so i can start it again. 
I even tried force stop. Please help me resolve this issue.
Instance ID: i-b9e89692"
Amazon EC2	"Re: EBS backed instance struck in ""stopping"" state.
Hello,

Your instance is now in stopped state.  Please go ahead and start it. 

Best Regards,
-Chandra P."
Amazon EC2	"Re: EBS backed instance struck in ""stopping"" state.
Thank you so much"
Amazon EC2	"AWS-initiated retirement of reserved instance
We have received a retirement notification from AWS for an m1.small reserved instance (id: i-7d177d47).  
However, m1.small instances appear to be no longer available.  
It appears that our reservation will effectively be orphaned with 44+ weeks to run.  
Is there a path to migrate the reservation to an equivalent instance e.g. t2.small ?

Edited by: yabbadabba on Jul 30, 2015 5:45 PM

Edited by: yabbadabba on Jul 30, 2015 8:31 PM"
Amazon EC2	"Re: AWS-initiated retirement of reserved instance
Hi,

You can still launch m1.small instances. Are you launching instances using the console? By default, you'll only see the current generation instance types. To view previous generation instance types, like m1.small, select ""All generations"" from the filter list.

For more information about current and previous generation instance types, see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#AvailableInstanceTypes. 

Julie"
Amazon EC2	"Re: AWS-initiated retirement of reserved instance
Thanks Julie, that did the trick!"
Amazon EC2	"PowerShell public IP
Is there a way to get the public IP for a certain instance in PowerShell?"
Amazon EC2	"Re: PowerShell public IP
Hello,

Yes this is entirely possible, the command you need to use is ec2-describe-instances, for further information regarding this please see the following documentation:

http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeInstances.html

Best Regards,

Davin G."
Amazon EC2	"Re: PowerShell public IP
You can use the AWS Tools for Windows PowerShell and get the Instance details.
For Public IP, you can run the following command

http://aws.amazon.com/powershell/

Get-EC2Instance -InstanceID <instanceid> -Region <region> | Select -ExpandProperty Instances | Select PublicIPAddress

For example,

Get-EC2Instance  -InstanceID i-axxxxxxxx -Region ap-southeast-2 | Select -ExpandProperty Instances | Select PublicIPAddress"
Amazon EC2	"Help configuring domain name
Hello members,

I have bought a domain name from godaddy. Now i want to use it with my EC2. I have tried to edit DNS Zone File to EIP, it redirect the domain to the public dns  i.e ec2-xx-xx-xx-xxx.us-west-2.compute.amazonaws.com. I wanted to use it like ""www.example.com"". like we normally do in hosting services of hostgator where we change the name server and it gets pointed automatically.

Looking forward for your valuable guidance.

Thank You,"
Amazon EC2	"Re: Help configuring domain name
Solved it.

edited DNS Zone File -> A (Host) to Public IP (EIP) assigned to instance

then run the code in command line

sudo /opt/bitnami/apps/magento/bnconfig --appurl / --machine_hostname www.example.com"
Amazon EC2	"Ec2  Instance ""stopping"" forever
Hello, my  instance i-ab3447f1 hanged in ""stopping"" state, 
multiply ""forced stop"" didnt resolve the problem.

Can somebody stop that instance for me, please, so I can reboot it?"
Amazon EC2	"Re: Ec2  Instance ""stopping"" forever
Hi, 
Same issue here 
Tried to force-stop it a few times but nothing happens...
Instance: i-1613f9c0"
Amazon EC2	"request to increase ELB idle timeout
Please increase the idle timeout for the following ELB in the Ireland region to 17 minutes.

tir-rip-elb-advantage-eu-west-1-446012875.eu-west-1.elb.amazonaws.com

Also, is there a way to check that the idle timeout for these two ELBs is still 17 minutes? Are there circumstances under which this configuration can get reset?

tir-rip-elb-eu-west-1-1334893334.eu-west-1.elb.amazonaws.com

tir-rip-elb-thomson-eu-west-1-1457696076.eu-west-1.elb.amazonaws.com

Thanks!"
Amazon EC2	"Re: request to increase ELB idle timeout
Hello,

Thank you for posting to the AWS Forums.

I have increased the idle timeout for ELB:

 tir-rip-elb-advantage-eu-west-1-446012875.eu-west-1.elb.amazonaws.com

This was increased to 17 minutes as requested. I can also confirm that the other two (2) requested ELBs are currently configured to a 17 minute ELB idle timeout.

Best regards,

Chris G."
Amazon EC2	"Re: request to increase ELB idle timeout
This was completed in a timely fashion at the time.  Just trying to mark this as answered."
Amazon EC2	"Instance is not shutting down
It's getting stuck in ""shutting-down"" state for quite awhile. Could you please investigate to see what's going on with this instance?

Instance ID: i-0cb2f54c

Thanks!"
Amazon EC2	"Re: Instance is not shutting down
Hi mcashaws,

I'm investigating this now. Seems an underlying issue with the host is preventing your instance from entering a stopped state.

I'll update you once I have more info.

It may prove faster to launch a replacement instance and restore using previous backups.

Regards,

Rodney"
Amazon EC2	"Re: Instance is not shutting down
Amazon successfully terminated the instance and our data was available on the freed EBS volume."
Amazon EC2	"two EC2 servers having trouble communicating over http
We are making some HTTP requests from our EC2 server to our vendor's EC2 server.  Our server is Instance ID i-9eb375d1(ip address: 54.246.186.165).  Their IP address is 54.171.95.50.  The odd behavior is that we can make HTTP requests from 54.246.186.165 to their server and if it results in a HTTP response code of 404 it all works fine.  If the result is going to be ""larger"", the HTTP request is made, they see the request in their logs, but we never see a single byte of the HTTP response.  This was tested using curl.  If I test it from another machine in our VPC, it works fine.  

Just to avoid a red herring, we can also make a request for a very small resource and we get a HTTP 200 response and the full body as expected.  So it isn't just the response code, the claim seems to be the size of the response is what triggers the behavior.

Are you aware of anything in the EC2 network configuration that might cause this type of behavior?

Thanks for any insight you might have.

Here is the message from the vendor:

""Weâ€™ve double checked our rules in our firewall and there are not any entries that would block the IP 54.246.186.165 from accessing our server. 

Weâ€™ve checked our error and access logs and the only items we can see from this ip address are the 404 foo failures, so it looks like the header responses can be obtained by your server but when any large data packets are requested this is when it fails so we believe its failing on amazons network and not the amazon server itself. 

We have come across this before when we have been load testing amazon servers using the ab command from our non amazon servers to amazon servers, they get blocked when the IP is causing suspicious activity (i.e. their software accessing multiple different sites in quick succession on port 80). 

Please can you get your engineers to contact Amazon support and ask them why their ip 54.246.186.165 cannot access the EC2 server: 54.171.95.50, we have tested the same curl command on multiple non amazon servers and it works fine so it must be something on their network blocking your server."""
Amazon EC2	"Shellshock Exploit and Instance Reboots
One of our developers discovered the following in regards to Shellshock and (not sure if entirely related) the mass reboot of instances AWS is performing. 

First the Shellshock Exploit
http://www.troyhunt.com/2014/09/everything-you-need-to-know-about.html

Mass AWS Reboot
http://www.rightscale.com/blog/rightscale-news/aws-reboot-substantial-number-ec2-instances

The thing is, I wasn't notified by AWS, and I have instance types that aren't included on the whitelist.

Secondly, when performing the simple Shellshock test:
env X=""() { :;} ; echo busted"" /bin/sh -c ""echo stuff""

On my local machine only ""stuff"" is returned. On my instances I get both ""busted"" and ""stuff"" back. Screenshot attached. I realize my Linux version is Amazon Linux 2013.09, but why wasn't I notified?

Other question. Is the patch for reboot related to the Shellshock and if not, what do they plan to do about it?"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Regarding ""shellshock"" and the Amazon Linux AMI:

A fix for CVE-2014-6271 has been pushed to the Amazon Linux AMI repositories, with a severity rating of Critical.

Our security bulletin for this issue is here -- https://alas.aws.amazon.com/ALAS-2014-418.html

By default, the Amazon Linux AMI installs all Critical and Important security updates that are available on initial launch. If you have not changed your configuration away from our default, your new Amazon Linux AMI launches will install this update.

Additionally, any version of the Amazon Linux AMI with ""releasever=latest"" in /etc/yum.conf will be able to pick that up by running ""sudo yum update bash"".

For more information, please see https://aws.amazon.com/amazon-linux-ami/faqs/#auto_update

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Same problem here. I have some instances created by ElasticBeanStalk that run 2013.09 version and it still vulnerable. Even after I applied the Yum updates by hand when I connect to instances and run:

env x='() { :;}; echo vulnerable' bash -c ""echo this is a test""

I got the vulnerable message."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
I ran the test on my amazon linux servers:

env x='() { :;}; echo vulnerable' bash -c ""echo this is a test"" env x='() { :;}; echo vulnerable' bash -c ""echo this is a test""

and I got ""vulnerable""

tried to update the package

sudo yum upgrade bash
Loaded plugins: fastestmirror, security
Loading mirror speeds from cached hostfile
amzn                                                     | 2.1 kB     00:00
Skipping security plugin, no data
Setting up Upgrade Process
No Packages marked for Update

added releasever=latest to yum.conf, no change

bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)

sudo yum info bash
...
Installed Packages
..
Arch       : x86_64
Version    : 4.1.2
Release    : 2.6.amzn1
...
From repo  : amzn"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
For AWS Elastic Beanstalk Customers Only

v1.0.6 of all Elastic Beanstalk application containers include the updated version of bash. To manually update EC2 instances managed by Elastic Beanstalk, you can run the following command:

For Amazon Linux 2013.09
sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm


For Amazon Linux 2014.03
sudo yum install -y http://packages.us-east-1.amazonaws.com/2014.03/updates/e10f5b547e18/x86_64/Packages/bash-4.1.2-15.19.amzn1.x86_64.rpm"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
I'm not using beanstalk, just regular instances. Should I still use these?"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
For ""vanilla"" Amazon Linux AMI instances:

A fix for CVE-2014-6271 has been pushed to the Amazon Linux AMI repositories, with a severity rating of Critical.

Our security bulletin for this issue is here -- https://alas.aws.amazon.com/ALAS-2014-418.html

By default, the Amazon Linux AMI installs all Critical and Important security updates that are available on initial launch. If you have not changed your configuration away from our default, your new Amazon Linux AMI launches will install this update.

Additionally, any version of the Amazon Linux AMI with ""releasever=latest"" in /etc/yum.conf will be able to pick that up by running ""sudo yum update bash"".

For more information, please see https://aws.amazon.com/amazon-linux-ami/faqs/#auto_update

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
that did not work for me though, see above"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Hi there,

As mentioned above, any version of the Amazon Linux AMI with ""releasever=latest"" in /etc/yum.conf will be able to pick that up by running ""sudo yum update bash"", so if you're not using Beanstalk, this is the method that you need to follow.

https://alas.aws.amazon.com/ALAS-2014-418.html

Cheers!"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
I added releasever=latest to /etc/yum.conf, and ran sudo yum clean all, sudo yum update bash, and no package was updated, and the instance still fails the test"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
valanb,

Please post the output of:

cat /etc/image-id

cat /etc/yum.conf

and your instance ID.

And we can debug.

Thanks!"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Will Amazon be adding the patch to Beanstalk containers prior to 1.0.6?

Rebuilding the environment and swapping urls is not a practical solution for us as we have hundreds of domains pointing to the loadbalancer using Route 53 Aliases, and from my experience ... swapping urls changes the loadbalancer address.

In the mean time i have manually patched the running instances - however when the loadbalancer replaces / fires up new instances ... they are vunerable.

Edited by: modjula on Sep 25, 2014 6:05 PM"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
i-d475d1be

cat /etc/image-id
image_name=""amzn-ami""
image_version=""0.9.9-beta""
image_arch=""x86_64""
image_file=""amzn-ami-0.9.9-beta.x86_64.ext3""
image_stamp=""8251-d798""
image_date=""20101022231742""
recipe_name=""amzn ami""
recipe_id=""7b8ceb26-4178-40b4-9915-3ee78e68f833""

cat /etc/yum.conf
main
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=3
releasever=latest


This is the default, if you make this bigger yum won't see if the metadata
is newer on the remote and so you'll ""gain"" the bandwidth of not having to
download the new metadata and ""pay"" for it by yum not having correct
information.
It is esp. important, to have correct metadata, for distributions like
Fedora which don't keep old packages around. If you don't like this checking
interupting your command line usage, it's much better to have something
manually check the metadata once an hour (yum-updatesd will do this).
metadata_expire=90m



PUT YOUR REPOS HERE OR IN separate files named file.repo
in /etc/yum.repos.d


i-38384e5a

cat /etc/image-id
image_name=""amzn-ami""
image_version=""0.9.9-beta""
image_arch=""x86_64""
image_file=""amzn-ami-0.9.9-beta.x86_64.ext3""
image_stamp=""8251-d798""
image_date=""20101022231742""
recipe_name=""amzn ami""
recipe_id=""7b8ceb26-4178-40b4-9915-3ee78e68f833""

cat /etc/yum.conf
main
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=3
releasever=latest


This is the default, if you make this bigger yum won't see if the metadata
is newer on the remote and so you'll ""gain"" the bandwidth of not having to
download the new metadata and ""pay"" for it by yum not having correct
information.
It is esp. important, to have correct metadata, for distributions like
Fedora which don't keep old packages around. If you don't like this checking
interupting your command line usage, it's much better to have something
manually check the metadata once an hour (yum-updatesd will do this).
metadata_expire=90m



PUT YOUR REPOS HERE OR IN separate files named file.repo
in /etc/yum.repos.d"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Hi valanb,

Looking at your output, here's what jumps out:

image_version=""0.9.9-beta""
image_arch=""x86_64""
image_file=""amzn-ami-0.9.9-beta.x86_64.ext3""


You are using a version of the Amazon Linux AMI that is about 4 years old and that was a very early beta AMI.

Upgrading from that old of a version to the current packages is not supported.

I recommend that you move to the latest version of the Amazon Linux AMI as soon as possible, if that is an option for you.

We released the 2014.09 Amazon Linux AMI on Tuesday (2 days ago) and if you launch a new instance of that, it will automatically update bash to the fixed version that is in our repos.

References:

AMI IDs here -- https://aws.amazon.com/amazon-linux-ami/

Auto-update discussion here -- https://aws.amazon.com/amazon-linux-ami/faqs/#auto_update

I hope this helps. Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
What about earlier versions of the containers?  We are running 64bit Amazon Linux 2013.09 v1.0.1  Doing a forced upgrade now to the latest container is a bit problematic for us."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
I'm confused by the directions given in this thread.
What is this yum you speak off?

My EC2 instance runs Ubuntu.
And I do not have a /etc/image-id file.

My EC2 t1.micro instance has the vulnerability, and apt-get update, apt-get dist-upgade will not pull in a new bash.

How can I fix an EC2 host that is running Ubuntu 13.10 ?

Thanks,

  Bram

Edited by: A. T. Stolk on Sep 26, 2014 2:11 PM"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
even with the update applied on Amazon Linux 2014.03 it is still vulnerable to Exploit 4(CVE-2014-7186)

bash -c 'true <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF <<EOF' ||
echo ""CVE-2014-7186 vulnerable, redir_stack""

https://shellshocker.net/"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
We (along with other Linux providers) are working on additional patches, and we will update https://alas.aws.amazon.com/ as needed.  Thank you for your patience as we all continue to work through this ""shellshock"" issue."
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
After updating bash with the command provided above in the comment left by AbhishekS@AWS on Sep 25, 2014 2:30 PM, where he states that you should run ""sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm"" to update the package on Amazon Linux 2013.09 my server is still vulnerable for CVE-2014-7169. See the output for command below:

env X='() { (shellshocker.net)=>\' bash -c ""echo date""; cat echo ; rm -f echo
bash: X: line 1: syntax error near unexpected token `='
bash: X: line 1: `'
bash: error importing function definition for `X'
Tue Oct 7 09:26:55 UTC 2014

It shows the date which make its still vulnerable. What can be done to fix this?"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Please refer to updated instruction at https://forums.aws.amazon.com/message.jspa?messageID=572397#572397 for links to the updated bash package that fixes this issue.

Thanks,
AbhishekS"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
AbhishekS@AWS wrote:
Please refer to updated instruction at https://forums.aws.amazon.com/message.jspa?messageID=572397#572397 for links to the updated bash package that fixes this issue.

Thanks,
AbhishekS
OP Here. For 2013.09 none of the suggested fixes either in this thread or the previous response's link to the other thread are working. I've copied the shell results here, but basic flow I followed: 
1. Follow instructions from https://alas.aws.amazon.com/ALAS-2014-419.html, which is sudo yum clean all && sudo yum update bash
2. Run patch from sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm Biggest concern here is, why am I installing a package that points to bash 4.1.2? Shellshock affects all bash version through 4.3 at the very least
3. Reboot EC2 Instance then load shell again No change
4. Stop EC2 Instance Since I'm on ElasticBeanstalk, a new EC2 instance was started automatically, again with Bash v4.1.2 loaded
5. Ran cat /etc/image-id && cat /etc/yum.conf For your review
6. Ran ""updated"" patch sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/cad3d01bf38e/x86_64/Packages/bash-4.1.2-15.18.22.amzn1.x86_64.rpm No change

ec2-user@ip-10-1**-***-**1 ~$ bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
ec2-user@ip-10-1**-***-**1 ~$ yum clean all
Loaded plugins: priorities, update-motd, upgrade-helper
Cleaning repos: amzn-main amzn-updates
Cleaning up everything
ec2-user@ip-10-1**-***-**1 ~$ yum update bash
Loaded plugins: priorities, update-motd, upgrade-helper
You need to be root to perform this command.
ec2-user@ip-**-***-***-*** ~$ sudo yum clean all
Loaded plugins: priorities, update-motd, upgrade-helper
Cleaning repos: amzn-main amzn-updates
Cleaning up everything

ec2-user@ip-10-1**-***-**1 ~$ sudo yum update bash
Loaded plugins: priorities, update-motd, upgrade-helper
amzn-main/2013.09                                                                                                        | 2.1 kB     00:00     
amzn-updates/2013.09                                                                                                     | 2.3 kB     00:00     
No packages marked for update
ec2-user@ip-10-1**-***-**1 ~$ sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm
Loaded plugins: priorities, update-motd, upgrade-helper
bash-4.1.2-15.18.20.amzn1.x86_64.rpm                                                                                     | 1.3 MB     00:00     
Examining /var/tmp/yum-root-NKM3Y2/bash-4.1.2-15.18.20.amzn1.x86_64.rpm: bash-4.1.2-15.18.20.amzn1.x86_64
Marking /var/tmp/yum-root-NKM3Y2/bash-4.1.2-15.18.20.amzn1.x86_64.rpm as an update to bash-4.1.2-15.17.amzn1.x86_64
Resolving Dependencies
--> Running transaction check
---> Package bash.x86_64 0:4.1.2-15.17.amzn1 will be updated
---> Package bash.x86_64 0:4.1.2-15.18.20.amzn1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================================================================================
 Package               Arch                    Version                                 Repository                                          Size
================================================================================================================================================
Updating:
 bash                  x86_64                  4.1.2-15.18.20.amzn1                    /bash-4.1.2-15.18.20.amzn1.x86_64                  3.0 M

Transaction Summary
================================================================================================================================================
Upgrade  1 Package

Total size: 3.0 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : bash-4.1.2-15.18.20.amzn1.x86_64                                                                                             1/2 
  Cleanup    : bash-4.1.2-15.17.amzn1.x86_64                                                                                                2/2 
  Verifying  : bash-4.1.2-15.18.20.amzn1.x86_64                                                                                             1/2 
  Verifying  : bash-4.1.2-15.17.amzn1.x86_64                                                                                                2/2 

Updated:
  bash.x86_64 0:4.1.2-15.18.20.amzn1                                                                                                            

Complete!
ec2-user@ip-10-1**-***-**1 ~$ bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
ec2-user@ip-10-1**-***-**1 ~$ exit
logout
Connection to ec2-54-***-***-***.compute-1.amazonaws.com closed.
uhrohraggy@eblinux:~/Documents/visitdays$ ssh -i vdkpstage.pem ec2-user@ec2-54-***-***-***.compute-1.amazonaws.com
Last login: Thu Oct 16 17:19:29 2014 from c-69-249-149-168.hsd1.pa.comcast.net

       __|  _|  )
       _|  (     /   Amazon Linux AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-ami/2013.09-release-notes/
Amazon Linux version 2014.09 is available.
ec2-user@ip-10-1**-***-**1 ~$ bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
ec2-user@ip-10-1**-***-**1 ~$ exit
logout
Connection to ec2-54-***-***-***.compute-1.amazonaws.com closed.
uhrohraggy@eblinux:~/Documents/visitdays$ ssh -i vdkpstage.pem ec2-user@ec2-54-***-***-***.compute-1.amazonaws.com
^[^C
uhrohraggy@eblinux:~/Documents/visitdays$ ^C
uhrohraggy@eblinux:~/Documents/visitdays$ ^C
uhrohraggy@eblinux:~/Documents/visitdays$ ssh -i vdkpstage.pem ec2-user@ec2-**-***-**-*.compute-1.amazonaws.com
The authenticity of host 'ec2-**-***-**-***.compute-1.amazonaws.com (**.***.**.***)' can't be established.
RSA key fingerprint is 7a:ba:33:56:ac:2d:bf:7d:cc:04:34:97:0f:15:1d:8d.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'ec2-**-***-**-***.compute-1.amazonaws.com,**.***.**.***' (RSA) to the list of known hosts.

       __|  _|  )
       _|  (     /   Amazon Linux AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-ami/2013.09-release-notes/
ec2-user@ip-**-***-***-*** ~$ bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
ec2-user@ip-**-***-***-*** ~$ cat /etc/image-id
image_name=""amzn-ami-pv""
image_version=""2013.09""
image_arch=""x86_64""
image_file=""amzn-ami-pv-2013.09.0.x86_64.ext4""
image_stamp=""3373-c521""
image_date=""20130925011245""
recipe_name=""amzn ami""
recipe_id=""55ae74f2-622a-de5d-2288-c450-6402-3ea3-a8b3b196""
ec2-user@ip-**-***-***-*** ~$ 
ec2-user@ip-**-***-***-*** ~$ cat /etc/yum.conf
main
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=3
deltarpm=0


by default the yum configuration will point to the latest release
of Amazon Linux AMI. If you prefer not to automatically move to
new releases, comment out this line.

releasever=2013.09


This is the default, if you make this bigger yum won't see if the metadata
is newer on the remote and so you'll ""gain"" the bandwidth of not having to
download the new metadata and ""pay"" for it by yum not having correct
information.
It is esp. important, to have correct metadata, for distributions like
Fedora which don't keep old packages around. If you don't like this checking
interupting your command line usage, it's much better to have something
manually check the metadata once an hour (yum-updatesd will do this).
metadata_expire=90m



PUT YOUR REPOS HERE OR IN separate files named file.repo
in /etc/yum.repos.d

ec2-user@ip-**-***-***-*** ~$ yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/cad3d01bf38e/x86_64/Packages/bash-4.1.2-15.18.22.amzn1.x86_64.rpm
Loaded plugins: priorities, update-motd, upgrade-helper
You need to be root to perform this command.
ec2-user@ip-**-***-***-*** ~$ sudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/cad3d01bf38e/x86_64/Packages/bash-4.1.2-15.18.22.amzn1.x86_64.rpm
Loaded plugins: priorities, update-motd, upgrade-helper
bash-4.1.2-15.18.22.amzn1.x86_64.rpm                                                                                     | 1.3 MB     00:00     
Examining /var/tmp/yum-root-Phie3_/bash-4.1.2-15.18.22.amzn1.x86_64.rpm: bash-4.1.2-15.18.22.amzn1.x86_64
Marking /var/tmp/yum-root-Phie3_/bash-4.1.2-15.18.22.amzn1.x86_64.rpm as an update to bash-4.1.2-15.17.amzn1.x86_64
Resolving Dependencies
--> Running transaction check
---> Package bash.x86_64 0:4.1.2-15.17.amzn1 will be updated
---> Package bash.x86_64 0:4.1.2-15.18.22.amzn1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================================================================================
 Package               Arch                    Version                                 Repository                                          Size
================================================================================================================================================
Updating:
 bash                  x86_64                  4.1.2-15.18.22.amzn1                    /bash-4.1.2-15.18.22.amzn1.x86_64                  3.0 M

Transaction Summary
================================================================================================================================================
Upgrade  1 Package

Total size: 3.0 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : bash-4.1.2-15.18.22.amzn1.x86_64                                                                                             1/2 
  Cleanup    : bash-4.1.2-15.17.amzn1.x86_64                                                                                                2/2 
  Verifying  : bash-4.1.2-15.18.22.amzn1.x86_64                                                                                             1/2 
  Verifying  : bash-4.1.2-15.17.amzn1.x86_64                                                                                                2/2 

Updated:
  bash.x86_64 0:4.1.2-15.18.22.amzn1                                                                                                            

Complete!
ec2-user@ip-**-***-***-*** ~$ bash --version
GNU bash, version 4.1.2(1)-release (x86_64-redhat-linux-gnu)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Edited by: uhrohraggy on Oct 16, 2014 10:54 AM

Edited by: uhrohraggy on Oct 16, 2014 10:55 AM"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
Amazon, 

In case you'd seen my earlier message, I am editing it now because this is now fixed. I think what would help users is specifying the fact that Even though this affects version of Bash through v4.2, and v4.3 is out, you've actually included the CVEs patched for version 4.1.2. This was the biggest source of confusion.

Edited by: uhrohraggy on Oct 21, 2014 2:49 PM

Edited by: uhrohraggy on Feb 3, 2015 11:34 AM"
Amazon EC2	"Re: Shellshock Exploit and Instance Reboots
is there a 2015 version of this? Im still vulnarable even though i am using the latest version..."
Amazon EC2	"EC2 fails to start after replacing boot drive
I'm attempting to increase the size of the boot drive on my EC2 instance, so I followed the directions listed here...http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html. I went through all the steps: stopped the instance, created a snapshot, created a new volume from the snapshot, detach the old volume, attach the new volume with device name /dev/sda1. When I start the instance with the new volume, the console tells me the instance is running, but it fails the status checks and I can't connect to it. Detaching the new volume and reattaching the old one with device name /dev/sda1 makes it work again. 

Any thoughts on how to fix this? Let me know if you need any more information.
Thanks."
Amazon EC2	"Re: EC2 fails to start after replacing boot drive
Hi,

Would you please share the instance ID so we can investigate for you.

Regards,

Souza S"
Amazon EC2	"Re: EC2 fails to start after replacing boot drive
The instance ID is i-b6e092bb."
Amazon EC2	"Re: EC2 fails to start after replacing boot drive
Got it working.

I decided to try the same process again one more time today, and this time it worked. Not sure what changed."
Amazon EC2	"Increasing SQS 500 errors
Hi Amazon,
   We are experiencing increasing SQS webservice errors (500):

Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: aws-sqs://clusterJobQueuePROD?amazonSQSClient=%23sqsClientBean&attributeNames=%23SqsMessageAttributeNames&deleteIfFiltered=false&extendMessageVisibility=true&visibilityTimeout=60 due to: We encountered an internal error. Please try again. (Service: AmazonSQS; Status Code: 500; Error Code: InternalError; Request ID: 7997b698-879b-5ec7-bc26-f8ad89ceea1c)

    Is it something related to the errors shown in AWS health status page (http://status.aws.amazon.com/)? 

Elevated API faults and latencies in US-EAST-1
10:51 PM PDT We are investigating increased faults and latencies for CloudWatch APIs and metrics in the US-EAST-1 Region. CloudWatch alarms may transition into ""INSUFFICIENT_DATA"" state if set on delayed metrics.

   Can someone provide ETA on recovery the SQS service in normal state? Appreciate your help and feedback.  Thank you!

Kelvin Li
DATAPOP, Inc.

Edited by: datapop2 on Jul 30, 2015 11:13 PM"
Amazon EC2	"Re: Increasing SQS 500 errors
Hi Kelvin,

Are you still experiencing this issue?

Between 10:11 PM on 7/30 and 12:14 AM PDT on 7/31 we experienced significantly elevated error rates for Send and Receive API calls in the US-EAST-1 Region. The issue has been resolved and the service is operating normally.

Apologies for the inconvenience and frustration that this issue may have caused!

Kind regards,
Chris"
Amazon EC2	"Re: Increasing SQS 500 errors
Hi Chris,
   The issue went away for SQS. I believe you guys have fixed it on your end.

    Thanks.

Kelvin"
Amazon EC2	"Re: Increasing SQS 500 errors
Hello,

Thanks for letting us know. The issue has been resolved and the service is operating normally.

Best Regards,
Chandra P."
Amazon EC2	"Connection Timeout for outbound HTTP
Having connectivity issues to outbound HTTP (see below 3 examples). ec2 instanceid is i-478f32ae. I have VPC setup and internet gateway attached. Also all outbound is allowed under NACL. I would suspect something within VPC setup but unable to find what could be missing. Any help appreciated. Thanks!

ec2-user@ip-172-30-5-131 ~$ ping google.com
PING google.com (173.194.121.14) 56(84) bytes of data.
^C





google.com ping statistics ---





19 packets transmitted, 0 received, 100% packet loss, time 18190ms

ec2-user@ip-172-30-5-131 ~$ sudo yum update -y
Loaded plugins: priorities, update-motd, upgrade-helper
Could not retrieve mirrorlist http://repo.us-east-1.amazonaws.com/latest/main/mirror.list error was
12: Timeout on http://repo.us-east-1.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10000 milliseconds')

ec2-user@ip-172-30-5-131 ~$ wget http://repo.us-west-2.amazonaws.com/latest/main/mirror.list
--2015-07-30 20:15:25--  http://repo.us-west-2.amazonaws.com/latest/main/mirror.list
Resolving repo.us-west-2.amazonaws.com (repo.us-west-2.amazonaws.com)... 54.231.176.1
Connecting to repo.us-west-2.amazonaws.com (repo.us-west-2.amazonaws.com)|54.231.176.1|:80..."
Amazon EC2	"Re: Connection Timeout for outbound HTTP
Hello,

Thank you for the post.

I took a look at your instance: i-478f32ae and found that you have restrictions on the inbound rules. In order to allow inbound return traffic from requests originating in the subnet, you will need to add an inbound rule for ephemeral port range in the network ACL. We use the ephemeral port range 49152-65535.

You can find more information about 'Recommended Network ACL Rules for Your VPC', please refer to this documentation: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Appendix_NACLs.html

Also, more information about 'Ephemeral Ports' can be found on this link: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_ACLs.html#VPC_ACLs_Ephemeral_Ports

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Connection Timeout for outbound HTTP
I have followed instructions to setup ephemeral port range 49152-65535 (outbound on ACL is to allow all ports/ip now). I have also applied ephemeral port rule setup on security group too. Still unable to download or ping internet. Any other suggestions here? 

Thank you,
Jonas"
Amazon EC2	"Re: Connection Timeout for outbound HTTP
Follow up:

.. still not working:
ec2-user@ip-172-30-5-131 ~$ sudo yum update
Loaded plugins: priorities, update-motd, upgrade-helper
Could not retrieve mirrorlist http://repo.us-east-1.amazonaws.com/latest/main/mirror.list error was
12: Timeout on http://repo.us-east-1.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10000 milliseconds')

but these are working:
ping
curl -O  http://repo.us-east-1.amazonaws.com/latest/main/mirror.list
wget http://repo.us-west-2.amazonaws.com/latest/main/mirror.list

I am now trying to figure if this something incorrectly setup in routing table and internet gateway... but Im over my head here and any follow up from aws would be very appreciated. Thx"
Amazon EC2	"How to run user scripts at termination of windows ec2 instance
I want to send an email at termination of a windows instance with some userdata using SNS.
is there any chance to run some scripts to send SNS message once i give the command for termination?
In Linux, I read some where there is some option to put the script. Similarly is there a way to do the same in Windows instances.
I tried CloudTrail feature, but I can't get userdata as it was not displayed.
Is there any other good option?"
Amazon EC2	"Lost connectivity to AWS Instance.
We recently lost RDP connectivity to one of our clients EC2 Windows 2008R2 instances. It seemed impossible to connect, so I made the decision to reboot the instance without investigating any further. 

Unfortunately the machine would not even shut down and remained in the 'stopping' state for a number of hours. We had snapshots of the machine, so we had to resort to creating a new instance from a snapshot and then reconfigure DNS at the clients end so that they could reconnect to the server.

I did manage to stop the original instance in the end, but only by terminating, so I wasn't able to do any sort of post mortem.

Does anyone have any suggestions as to why we lost connectivity to the instance and why we couldn't stop and restart it? Also are there any ways anyone can suggest to try and diagnose and resolve such an issue without resorting to a reboot?

Many thanks,

Jon"
Amazon EC2	"Suspended Account reactivation
I had some trouble with my payments method, and the account has been suspended. I paid the invoices, but is almost 24 hours since i open a ticket for reactivation, and i have no return. 

I have my customers waiting for the support team.

How can I do to reactivate the account?"
Amazon EC2	"Re: Suspended Account reactivation
+1

Same issue here.  My customers sites are down, and my support tickets haven't even been assigned to anyone.  Cases 1456898431 and 1456706351.

Is there something that we should be doing to get our account turned back on?"
Amazon EC2	"ELB with Tomcat
Hello ,We are planning to setup a high availabilityÂ  setupÂ  for our App withÂ  ELB +Â  Apache (web server )Â  +Â  Tomcat ( app server )Â  + MySQL We are planning to setupÂ  multiple instances for both Apache and Tomcat . We have some questionsÂ  regarding this setup 1 ) How to setupÂ  persistent sessionÂ  with multiple Tomcat instances ( separate servers )Â  when there are multiple apache instancesÂ  under ELB Â Â Â Â Â  e.g . when aÂ  request comes to the ELB , it goes to APACHE1 ->TOMCAT1->DATABASE . Suppose that a session is created in that requestÂ  . For the subsequent request does ELB send the request to the same webserver APACHE1 or will it go to APACHE2 ? Does the session stickiness with ELB send the request to the same webserver APACHE1 ? or how do weÂ  setup a persistent session forÂ  these kind of setups ? Please assist ThanksShankar"
Amazon EC2	"Re: ELB with Tomcat
ELB with session stickiness will send the same session to the same instance that is registered in the ELB. In your case that instance is running apache.

There are various techniques for setting up session stickiness between apache and Tomcat, which mostly depend on the version of Tomcat and the connector you're using. Google for ""tomcat session stickiness"" and you'll find more about this."
Amazon EC2	"Re: ELB with Tomcat
Just a question to forum
I am trying to setup tomcat cluster with two ec2 instance. I have hosted one simple jerseyjaxrs application on two instances of ec2 and when I run the test client with jersey jaxrs against single ec2 instances separately the application works.
when I setup Elastic load balancer (elb ) with ssl configured  and I am able to acccess tomcat manager thru ELB :8443/ url  but when I run test client of jaxrs against elb url it says gateway timeout exceptino and request is not reaching till tomcat access logs.
do I need to setup apache httpd as loadbalancer for this webservice setup to work?"
Amazon EC2	"Joining VPCs Together
Greetings All,

We where advised when we started, to use separate accounts for each one of our customers (which works well for billing purposes and security). Right or wrong - this is where we are now and don't have  the ability to u-turn.

What we are trying to achieve is a central hub (hub spoke setup) using one account / VPC as the central hub. Central hub contains master servers - need to transfer data to them

We also utilise the model where we have ""back"" servers with no public IP and a NAT gateway as their outbound.

We can't use VPC peering (not possible across region), can't use the AWS VPN (AWS VPN to AWS VPN not possible) - so it's build your own.

There seems to be three ways to make a redundant NAT Gateway & VPN instance


Self monitoring hosts - we are getting split brain
Single instance autoscaling group - sort of works but autoscaling only monitors the state of the machine, not running services and was not particularly reliable
Using BGP and VyOS  https://seshupasam.wordpress.com/tag/aws-ec2-vpc-vpn-vyos/


I am finding information from 2011-2014 in google searches, but nobody seems to have come up with a new approach and none of them are really scalable or easy to manage.

So:-

1) Do any insiders know if there is a fix to this problem on the AWS roadmaps anywhere. VPC peering, cross region, would solve the whole thing
2) Any inspired ideas - any other approaches...? I have a vague thought about using small VPCs in the central account, but there is a limit to the number of VPCs - so that kills that

Number of spokes is around 14 at the moment - growing at the rate of one every couple of months.

Many thanks for you time and consideration

Edited by: BenTyson_AS on Jul 31, 2015 4:39 AM

Edited by: BenTyson_AS on Jul 31, 2015 4:45 AM"
Amazon EC2	"Unable to connect from web server to db server (ec2 to ec2)
Hi guys,
I have a web server (IIS 7.0) and a DB server(SQL Server 2008 R2). I set up both and both are working fine. But when I try to access the DB server from the web server through Management Studio using the public IP, I get a the following error 
""A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 28 - Server doesn't support requested protocol) (.Net SqlClient Data Provider)""
I looked it up and 
Turned on the TCP/IP in SQL Server Configuration Manager.
Added Inbound & Outbound rules for ports 1433(TCP), 1434(UDP).
Added the same ports to the security group.
Turned of the firewall completely in both servers.
The instance ids' are i-7c3209be (Web Server), i-7d3209bf (DB Server)
I'm totally stuck and not sure if there is anything left to do. Appreciate any help I can get. Thanks in advance.

Edited by: coolprasanth on Jul 29, 2015 1:07 AM"
Amazon EC2	"Re: Unable to connect from web server to db server (ec2 to ec2)
Hi,

Can you give more information on this please.

Are the instances in different subnets? 
Do you have NACLs set up? 

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to connect from web server to db server (ec2 to ec2)
Hey,
Everything about the two instances are identical, I literally launched two instances with the same config and settings. Please let me know if you have any other questions.

Thanks
Prasanth

Edited by: coolprasanth on Jul 31, 2015 2:47 AM"
Amazon EC2	"Re: Unable to connect from web server to db server (ec2 to ec2)
Hi,

If they are in the same subnet, then why are you trying to connect using the Public IP??? Connect to the instance using the internal IP.

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to connect from web server to db server (ec2 to ec2)
:P Rookie mistake, should have thought of that myself, I kept saying they were similar but kept approaching the problem thinking of them as two different instances. Thanks Stooby, will check if it solves the problem and mark the answer.

Edited by: coolprasanth on Jul 31, 2015 3:10 AM"
Amazon EC2	"Re: Unable to connect from web server to db server (ec2 to ec2)
Stooby.....Thanks a lot, it worked. Though I wonder why the same wasn't possible using public IP."
Amazon EC2	"ebs based private AMI
hi,

when I'm de-registering private AMI which was created based on EBS instance, will the corresponding  snapshots be deleted automatically?"
Amazon EC2	"Re: ebs based private AMI
No, it won't.
You need to delete the snapshot manually once you have removed all the AMIs that reference it."
Amazon EC2	"i-21ec36cc not stopping
I have an instance that has been stopping for a few hours now: i-21ec36cc"
Amazon EC2	"Re: i-21ec36cc not stopping
Hello, 

I show your instance is stopped now. Let us know if you have any additional questions or concerns. 

Regards,
Nick"
Amazon EC2	"Re: i-21ec36cc not stopping
thanks for your support! it still shows stopping, I cant force stop it. its volumes also cannot be detached: vol-6a962f21

is there anything that can be done to recover the data?"
Amazon EC2	"Re: i-21ec36cc not stopping
Hello, 

My apologies about this, we are currently investigating this instance and will get back to you shortly. 

Best Regards,
Jillian L."
Amazon EC2	"Re: i-21ec36cc not stopping
Hello again,

Sorry for the delay here. Instance i-21ec36cc has terminated successfully. Please do let us know if you experience any additional issues.

Kind regards,
Chris"
Amazon EC2	"Unable to start m4.large instance - no sufficient capacity
Hi,

I am unable to start m4.large instance in eu-west-1b zone with the following error:

Error starting instances
We currently do not have sufficient m4.large capacity in the Availability Zone you requested (eu-west-1b). Our system will be working on provisioning additional capacity. You can currently get m4.large capacity by not specifying an Availability Zone in your request or choosing eu-west-1a, eu-west-1c.

What should I do in this case?

Dmitry"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
You can currently get m4.large capacity by not specifying an Availability Zone in your request or choosing eu-west-1a, eu-west-1c"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
Is there a way not to specify an Availability Zone for an existing instance?"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
You can currently get m4.large capacity by not specifying an Availability Zone"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
I understand. But my instance is already created and it is located in eu-west-1b availability zone. Do you suggest to terminate the instance and create it again outside of that AZ?"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
Sounds like that might work"
Amazon EC2	"Re: Unable to start m4.large instance - no sufficient capacity
Hello,

recently we faced the same problem, but in our case we can not move from the availability zone (us-east-1b) because of many EBS volumes in production. Currently we are running a cluster of m3.xlarge nodes and we would like to migrate to m4.xlarge but we got the error on the second node we tried to start.

Is there a way to know if there is currently sufficient capacity so that we can buy some reserved m4 instances ?"
Amazon EC2	"EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Hi,

Sometimes EC2 instances are launched into my autoscaling group that can't access Redis running on ElastiCache. The majority of the EC2 instances launched have no problem accessing ElastiCache but occasionally an instance will be launched that is unable to connect to Redis. The instance just has the connection timeout to Redis and the only solution is for the instance to be terminated and re-launched. On one of the affected instances I attempted to also telnet to the Redis instance but I just got:

telnet: Unable to connect to remote host: Connection timed out

Why is this happening? I've configured my autoscaling group to use ELB health checks so the instance is terminated (ELB health check fails if instance can't connect to Redis amongst other things) but I'd like to figure out why this is happening in the first place.

Example instance id:  i-c8df8e2d (was terminated due to ELB health check, logs show it was unable to connect to Redis)

Thanks."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Any ideas? Just had some more instances launch that were unable to access Redis."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Hi,

I was interested to see your forum posting, as we are experiencing the exact same intermittent symptoms; autoscaled servers with correctly configured Security Groups simply cannot connect to a single ElastiCache Redis node. 

The problem seems more prevalent when the launched instance is in the same AZ as the Redis node, but this does not guarantee failure as sometimes they do work properly. I have a support case open already with AWS, and have received some suggestions relating to stale ARP cache entries, but the proposed solutions haven't fixed the issue for me. I still have one server that I have kept back for investigation which steadfastly refuses to connect. There is nothing coming back, not even an ACK, from the Redis node when I try and connect.

You may have some luck with the answer I was given:
""The problem appears to be due to incorrect ARP caching by the Linux kernel. The problem can be seen in Ubuntu 14.04 as my colleague pointed out but it also exists in Amazon Linux with kernel version > 3.10.

The newer version of the Linux kernel caches ARP entries more aggressively which can lead to this behavior if the same private IP is reused for multiple instances since they have different MAC addresses on the network interface.

To disable the new caching behavior, use the following sysctl: sudo sysctl -w net.ipv4.neigh.default.gc_thresh1=0
Alternatively you may want to use a separate VPC subnets.""

I don't know if this will help in your case. I am still waiting for AWS to investigate our issue further and if I get any more suggestions from them I can post them up here too.

I'll watch this thread with interest now...

Clive"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Thanks for the reply, glad to know I'm not the only one experiencing this problem.

The reply from AWS seems odd, if the instance has just been created from an AMI how could the ARP cache entry for the Redis node already be stale?"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
To further investigate possible ARP issues I attached a second ENI and EIP to the instance that was having problems connecting, and ""flipped"" it over to use that interface instead. I was then able to connect to the ElastiCache node using this new private IP address.

Overnight the AWS support guys flushed the ARP cache on the ElastiCache node, and since that time I am able to connect using the original interface again. So the root cause appears to be stale ARP entries on the ElastiCache node rather than the EC2 clients trying to connect.

I am waiting to hear what the permanent fix might be from AWS. I imagine they might have to make similar adjustments to the ElastiCache ARP settings. I'll let you know what I hear back..."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Thanks for the info. We are having the same issue and will be trying to execute the sysctl. Please keep us posted!"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
I have had no luck with these suggestions. Is there perhaps an update from the AWS support regarding your case? Please share."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Has there been any progress / solutions on this?  I'm experiencing it now."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
This has been a thorn in my side for a while now, it used to happen every once in a while, but the last 5 times I have spun up an autoscale instance, the arp cache is invalid and it does not work.

So, I end up terminating the instance directly, and letting autoscale spin up a new one which has always worked.

I have tried to delete the arp entry on the client:

ubuntu@ip-10-0-0-40:~$ ping mongo-s
PING mongo-s (10.0.0.159) 56(84) bytes of data.
^C
--- mongo-s ping statistics ---
4 packets transmitted, 0 received, 100% packet loss, time 3922ms
ubuntu@ip-10-0-0-40:~$ arp -va
mongo-s (10.0.0.159) at 0a:a1:04:3d:9d:1d [ether] on eth0
/* other entries here */
Â 
ubuntu@ip-10-0-0-40:~$ sudo arp -i eth0 -d mongo-s
ubuntu@ip-10-0-0-40:~$ ping mongo-s
PING mongo-s (10.0.0.159) 56(84) bytes of data.
^C
--- mongo-s ping statistics ---
3 packets transmitted, 0 received, 100% packet loss, time 2014ms


I am hoping someone from AWS team can suggest an answer for this.  This problem has gotten considerably worse lately.

Has anyone figured out a solution aside from killing the instance and spinning up a new one?"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Relevant: https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1331150

So it seems the arp cache entry needs to be deleted on the other host (the host that can't be reached by the freshly spun up instance).

There's also a sysctl tweak mentioned there that proposes to resolve the issue.

Has anyone tried it?"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
So this is my /etc/sysctl.conf
 on the server which cannot be reached intermittently by newly spun up autoscale instances.  It is running amazon linux (i.e. centos)

It does not appear to have the setting to control arp cache mentioned previously.

[ec2-user@ip-10-0-0-159 log]$ cat /etc/sysctl.conf 
# Kernel sysctl configuration file for Red Hat Linux
#
# For binary values, 0 is disabled, 1 is enabled.â€‚ See sysctl(8) and
# sysctl.conf(5) for more details.
Â 
# Controls IP packet forwarding
net.ipv4.ip_forward = 0
Â 
# Controls source route verification
net.ipv4.conf.default.rp_filter = 1
Â 
# Do not accept source routing
net.ipv4.conf.default.accept_source_route = 0
Â 
# Controls the System Request debugging functionality of the kernel
kernel.sysrq = 0
Â 
# Controls whether core dumps will append the PID to the core filename.
# Useful for debugging multi-threaded applications.
kernel.core_uses_pid = 1
Â 
# Controls the use of TCP syncookies
net.ipv4.tcp_syncookies = 1
Â 
# Disable netfilter on bridges.
net.bridge.bridge-nf-call-ip6tables = 0
net.bridge.bridge-nf-call-iptables = 0
net.bridge.bridge-nf-call-arptables = 0
Â 
# Controls the default maxmimum size of a mesage queue
kernel.msgmnb = 65536
Â 
# Controls the maximum size of a message, in bytes
kernel.msgmax = 65536
Â 
# Controls the maximum shared segment size, in bytes
kernel.shmmax = 68719476736
Â 
# Controls the maximum number of shared memory segments, in pages
kernel.shmall = 4294967296
Â 
# Maximize console logging level for kernel printk messages
kernel.printk = 8 4 1 7
kernel.printk_ratelimit_burst = 10
kernel.printk_ratelimit = 5
net.ipv4.tcp_keepalive_time = 300"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
I have tried grep'ing all logs for any of the messages indicated here: http://yurisk.info/2009/12/15/arp-table-overflow-in-checkpoint-nad-linux-in-general/

e.g. kernel: Neighbour table overflow


I've recursively grepped for any of these strings in the entire /var/log/* on both the server that is unreachable as well as the newer instance launched by autoscale, and I do not have any log lines that match this issue."
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Last post -- hoping someone from Amazon can investigate this.

The client that is autoscaled is currently running Ubuntu 14.04, AMI instance id i-50e0de80.  Just to clarify, this instance is now running and working properly.  The problem is when I create a new image, and spin it up, it always fails the first time to be able to reach the respective server, so I have to terminate and autoscale a second time. 

ubuntu@ip-10-0-0-163:/var/log$ uname -a
Linux ip-10-0-0-163 3.13.0-29-generic #53-Ubuntu SMP Wed Jun 4 21:00:20 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux


And the relevant net settings are:

ubuntu@ip-10-0-0-163:/var/log$ cat /proc/sys/net/ipv4/neigh/default/gc_interval 
30
ubuntu@ip-10-0-0-163:/var/log$ cat /proc/sys/net/ipv4/neigh/default/gc_stale_time 
60
ubuntu@ip-10-0-0-163:/var/log$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh1 
128
ubuntu@ip-10-0-0-163:/var/log$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh2
512
ubuntu@ip-10-0-0-163:/var/log$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh3
1024


The server that the autoscale instances try to reach is running AMI Linux https://aws.amazon.com/amazon-linux-ami/2014.09-release-notes/, AMI instance id = i-7d9d5656

[ec2-user@ip-10-0-0-159 ~]$ uname -a
Linux ip-10-0-0-159 3.10.42-52.145.amzn1.x86_64 #1 SMP Tue Jun 10 23:46:43 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux


The relevant net settings

[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/anycast_delay 
100
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/app_solicit 
0
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/base_reachable_time
30
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/base_reachable_time_ms 
30000
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/delay_first_probe_time 
5
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/gc_interval 
30
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/gc_stale_time 
60
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh1 
128
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh2
512
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/gc_thresh3
1024
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/locktime 
100
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/mcast_solicit 
3
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/proxy_delay 
80
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/proxy_qlen 
64
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/retrans_time
100
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/retrans_time_ms 
1000
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/ucast_solicit 
3
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/unres_qlen
31
[ec2-user@ip-10-0-0-159 ~]$ cat /proc/sys/net/ipv4/neigh/default/unres_qlen_bytes 
65536"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
Hi,

Thank you for the post. 

We are sorry for the inconvenience experienced. 

We are investigating the issue. We have opened a outbound case to your account to gather more details. You should be able to access the case from the Support center in the AWS management console. 
Please respond to the case via the ticket. 

Thank you,
Varun"
Amazon EC2	"Re: EC2 Autoscaling Instances sometimes can't access ElastiCache nodes
We had a similar issue and it was resolved and this was the reply from Support.

The fix is to disable the aggressive caching on newer Linux kernels on your Elasticache nodes which can lead to this behavior if the same private IP is reused for multiple instances since they have different MAC addresses on the network interfaces.

I have seen this with instances that are constantly launched and terminated by auto scaling in the same subnet which leads to re-use of the IP's

You can also use a different VPC subnet in the same AZ to workaround this but for now with the arp caching you should be ok going forward."
Amazon EC2	"My instance wont stop
Please help my instance i-c463be0d  won't stop."
Amazon EC2	"Re: My instance wont stop
Hello,

Instance i-c463be0d is now in the stopped state.

Kind regards,
Chris"
Amazon EC2	"Re: My instance wont stop
It still says stopping, hasn't stopped yet."
Amazon EC2	"Re: My instance wont stop
One of the deploy command is still running trying to stop yet it wont. Is there anything I can do to stop it so that i can test my changes?"
Amazon EC2	"Instance won't stop
My Linux Micro instance: i-56219a31 won't stop."
Amazon EC2	"Re: Instance won't stop
My instance is now working properly"
Amazon EC2	"Re: Instance won't stop
Hi , 

Could you post what you did? 
I am having the same issue."
Amazon EC2	"EBS volume is suddenly unmounted in amazon ec2!
Yesterday, one of my volumes with id 'vol-a81a02a7' was suddenly unmounted from my Ec2 Instance with id 'i-a76b908f' with no reason. I tried to find out the reason for this but got nothing, no command 'unmount', no error event, ... I remount this volume and everything is ok for now but i still have no ideal for this accident. This morning, i see the warning: 'Retiring: This instance is scheduled for retirement after August 14, 2015 at 7:00:00 AM UTC+7'. Are there any relations between this warning and the accident"
Amazon EC2	"ELB Logs are missing some fields
I just enabled logging for one of my Elastic Load Balancers in hopes of gathering data about the ciphers and protocols actually negotiated when our clients connect. This document says the info should be there, but my log lines leave off after the request field.

Is this because those last three fields (user_agent, ssl_cipher, and ssl_protocol) were added recently, after my ELB was created?"
Amazon EC2	"Re: ELB Logs are missing some fields
We are in the process of rolling out these new access log fields to existing Elastic Load Balancers. Any newly created Elastic Load Balancers will have these fields present."
Amazon EC2	"My HEAVY UTILIZATION reserved instance has suddenly become UNRESPONSIVE
Recently (a few weeks ago) our reserved instance of heavy utilization has plummeted in responsiveness.
This has nothing to do with internet speed.
I runs a script, it used to take about 45 seconds.

Now it takes over 5 minutes (!!!).  All the script is doing is compiling some code.

When using remote desktop, I try to right click on the desktop to get a context menu, I typically give up after about 90 seconds.

All these activities used to be acceptably responsive until recently.

And apparently, to try to get them to help me with whatever THEY did that ruined my performance, I have to PAY for support.

If I am lucky, I can get acceptable performance in the very early morning.  But that dies as the day moves on.

I can understand if this was a tiny, free instance.  but it's not. It's paid for.

I am VERY dissatisfied with what they did a few months after I paid for a year."
Amazon EC2	"Re: My HEAVY UTILIZATION reserved instance has suddenly become UNRESPONSIVE
I'm assuming you have tried rebooting the instance already.

Is the EBS volume for this instance a standard SSD volume? How large is it?
Sounds to me like you may have run out of EBS IO credits. Check cloudwatch graphs for the volume over the past few days, check I/O and see if it spiked then suddenly plummeted to almost nothing.

Edited by: michaelnixonjp on Jul 31, 2015 8:25 AM"
Amazon EC2	"EC2 On Demand Instance Request Best Practices
We recently requested an instance capacity increase in the us-west-2 region, which was granted yesterday - CASE ID: 1455189741.  

The next working day we observed that the limit increase was reflected in our console.

However, when trying to request 6 d2.8xlarge instances, we are consistently getting the following error.

Service.InsufficientInstanceCapacity: Insufficient capacity. 
( 
  Service: AmazonEC2; 
  Status Code: 500; 
  Error Code: InsufficientInstanceCapacity; 
  Request ID: 509045d0-aa91-4d4c-9cf2-b797f35edef0
)


So my question is as follows:
     a) Is there any way for me to know if the error results from a limitation on my account or a lack of capacity in the AWS region?
     b) What is the suggested method for working around this behavior?  Should I write a script that periodically resubmits my request until it is granted, or can I submit the request in a way that adds the request to a queue that I then can wait on until the request is granted?  Later when we are finished with R&D we will invest in reserved instances, but at this point I want to know the best way work with On-Demand requests."
Amazon EC2	"Re: EC2 On Demand Instance Request Best Practices
Hello,

Thank you for the post.

Looking at the error you are receiving: 'InsufficientInstanceCapacity', this error means that AWS does not currently have enough available capacity to service your request. 

In order to work around this, you an try the followings:

Wait a few minutes and then submit your request again; capacity can shift frequently.
Submit a new request with a reduced number of instances. For example, if you're making a single request to launch 15 instances, try making 3 requests for 5 instances, or 15 requests for 1 instance instead.
Submit a new request without specifying an Availability Zone.
Submit a new request using a different instance type (which you can resize at a later stage).


When you try to launch an instance and you have reached your concurrent running instance limit, then you will receive an error: 'InstanceLimitExceeded'. In this case, you will need to submit the 'Request to Increase Amazon EC2 Instance Limit' form to increase the limit for EC2 instances.

For more information about 'Troubleshooting Instance Capacity', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-capacity.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"can someone help a newbie with ebs volumes and spot instances?
So here is what I have going, and I can't figure out how to make it do what I want to do:

I have a regular(on demand, I think?) instance that I created from someone else's Ubuntu instance.  I was planning on going with the g2.2xlarge for cost purposes.  It had a ebs volume as the root volume, which I though would retain persistence of data for the spot instances I would create from the image.  I went on to install the software I wanted and config it to spawn the software in the command line in a tmux window at boot.

Once the spot instances are up I modify the config files on both and they are running, writing progress to a file in the same directory on their assigned ebs volumes.  Everything is good until Amazon shuts the spot instances down due to price too low or over capacity or something.  When they come back up all progress is lost and they lose all changes and have new volumes assigned to them.  This goes against my (limited) understanding of ebs volumes.

I've read something about attaching an additional ebs volume, but I am not sure how to reference it in a hard coded startup script for the tmux command.

So, basically, I need a persistent directory I can store my software and it's two config and progress files, and have that referenced in a startup script.  I need to be able to modify it in a running spot instance and then reboot.

Thanks for any help offered."
Amazon EC2	"Question about importing OS
Good afternoon, just need some clarification

We are wanting to import an OS by sending amazon a hard drive with our images to upload due to bandwidth constraints.  When they are copied over, I assume they arent automatically converted so that we can use them as instances correct?

I just want to make sure im reading the documentation correct here
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingVirtualMachinesinAmazonEC2.html

Going off this guide
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ImportingYourVM.html

Once AWS has uploaded our virtual machine images into S3, all we need to do is run the ec2-import-instance command along with the variables correct?  How do I go about specificing that the images are already in S3 to start the process?  

Thanks for your help"
Amazon EC2	"SSL configuration on listener of load balancer is throwing error
I am trying to configure the ssl in load balancer of EC2 with two ec2 instances configured.
On EC2 console, at loadbalancer listener configuration, after entering the private key and public certificate which is obtained from .pem file , I selected the cipher to be applied from list of available options.
Its giving error (attached screenshot ec2error). Again I tried selecting different encryption cypher in ec2 options but none worked and its not able to recognize the private key.
I have copy pasted  the private key public certificate from .pem file which I generated on ec2 instance from keystore (say servernew.jks) (contains certificates PKCS #1 SHA-256 With RSA Encryption).
 the default elbsecuritypolicy-2015-05 option in list of options does not help.
could any one suggest me which cipher option to select to overcome this error.

Edited by: sankarca on Jul 29, 2015 6:14 AM"
Amazon EC2	"Re: SSL configuration on listener of load balancer is throwing error
Hello,

Thank you for the post.

Looking at the screenshots you provided, it seems that you are using incorrect format for the Private Key i.e., it starts with '-----BEGIN ENCRYPTED PRIVATE KEY-----' and ends with '-----END ENCRYPTED PRIVATE KEY-----'. 

The correct format for the Private Key should look like the following example:
-----BEGIN RSA PRIVATE KEY-----
MIICiTCCAfICCQD6m7oRw0uXOjANBgkqhkiG9w0BAQUFADCBiDELMAkGA1UEBhMC
VVMxCzAJBgNVBAgTAldBMRAwDgYDVQQHEwdTZWF0dGxlMQ8wDQYDVQQKEwZBbWF6
b24xFDASBgNVBAsTC0lBTSBDb25zb2xlMRIwEAYDVQQDEwlUZXN0Q2lsYWMxHzAd
BgkqhkiG9w0BCQEWEG5vb25lQGFtYXpvbi5jb20wHhcNMTEwNDI1MjA0NTIxWhcN
MTIwNDI0MjA0NTIxWjCBiDELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAldBMRAwDgYD
VQQHEwdTZWF0dGxlMQ8wDQYDVQQKEwZBbWF6b24xFDASBgNVBAsTC0lBTSBDb25z
b2xlMRIwEAYDVQQDEwlUZXN0Q2lsYWMxHzAdBgkqhkiG9w0BCQEWEG5vb25lQGFt
YXpvbi5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMaK0dn+a4GmWIWJ
21uUSfwfEvySWtC2XADZ4nB+BLYgVIk60CpiwsZ3G93vUEIO3IyNoH/f0wYK8m9T
rDHudUZg3qX4waLG5M43q7Wgc/MbQITxOUSQv7c7ugFFDzQGBzZswY6786m86gpE
Ibb3OhjZnzcvQAaRHhdlQWIMm2nrAgMBAAEwDQYJKoZIhvcNAQEFBQADgYEAtCu4
nUhVVxYUntneD9+h8Mg9q6q+auNKyExzyLwaxlAoo7TJHidbtS4J5iNmZgXL0Fkb
FFBjvSfpJIlJ00zbhNYS5f6GuoEDmFJl0ZxBHjJnyp378OD8uTs7fLvjx79LjSTb
NYiytVbZPQUQ5Yaxu2jXnimvw3rrszlaEXAMPLE=
-----END RSA PRIVATE KEY-----

For more information about 'SSL Certificates for Elastic Load Balancing', please refer to this documentation: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Outbound SMTP being blocked (was previously allowed)
Hi,

I have 2 Elastic IPs which Amazon granted permission to send outgoing mail (through here: https://aws.amazon.com/forms/ec2-email-limit-rdns-request).  Yesterday, we had to reassign the EIP to another instance / ENI for the first time.  After this we can no longer connect to external SMTP servers on port 25 to deliver mail from the new instance.  I thought the special allowance was tied to the EIP.

Is there something tied to the instance that needs to be unblocked?  We also have a second EIP that has this permission also, and it is still working (instance hasn't changed yet).

Not working Instance ID: i-3a9072e8
Working Instance ID: i-eb4f3b88

What do I need to do to get this working on the instance ID?

Thanks."
Amazon EC2	"Re: Outbound SMTP being blocked (was previously allowed)
Nevermind... looks like all outbound traffic is failing.  I'll check security groups / routing / etc."
Amazon EC2	"EC2 repositories problems with SLES 11p3
Dear all,

I'm running a cc2.8xlarge spot instance with AMI suse-sles-11-sp3-hvm-bld485-v1.0.0.x86_64_ssd (ami-0e857b66) on us-east-1d.

It was working fine up to a couple of hours ago. After it was launched I was able to run YaST2 and update the system, install some packages, etc. Now I'm trying to install some other packages, but it seems the SSL cert of the EC2 repository has become invalid. This is the error that I get:

~ # zypper up
Refreshing service 'susecloud'.
Problem retrieving the repository index file for service 'susecloud':
Download (curl) error for 'http://default-ec2-update.susecloud.net/repo/repoindex.xml?cookies=0':
Error code: Unrecognized error
Error message: SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
Â 
Check if the URI is valid and accessible.
Retrieving repository 'SLE11-SDK-SP3-Pool' metadata [\]
Download (curl) error for 'http://default-ec2-update.susecloud.net/repo/update/SLE11-SDK-SP3-Pool/sle-11-x86_64/repodata/repomd.xml':
Error code: Unrecognized error
Error message: SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
Â 
Abort, retry, ignore? [a/r/i/? shows all options] (a): 
^C
~ #


Retrying is to no avail. To help me understand a bit better what is happening, I typed:

~ # openssl s_client -connect default-ec2-update.susecloud.net:443
depth=3 /C=US/O=Entrust.net/OU=www.entrust.net/CPS incorp. by ref. (limits liab.)/OU=(c) 1999 Entrust.net Limited/CN=Entrust.net Secure Server Certification Authority
verify return:1
depth=2 /C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA
verify error:num=10:certificate has expired
notAfter=Jul 26 18:15:15 2014 GMT
verify return:0
---
Certificate chain
 0 s:/C=US/ST=Utah/L=Provo/O=Novell, Inc./CN=*.susecloud.net
   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance CA-3
 1 s:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance CA-3
   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA
 2 s:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA
   i:/C=US/O=Entrust.net/OU=www.entrust.net/CPS incorp. by ref. (limits liab.)/OU=(c) 1999 Entrust.net Limited/CN=Entrust.net Secure Server Certification Authority
---
Server certificate
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
subject=/C=US/ST=Utah/L=Provo/O=Novell, Inc./CN=*.susecloud.net
issuer=/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance CA-3
---
No client certificate CA names sent
---
SSL handshake has read 5131 bytes and written 385 bytes
---
New, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA
Server public key is 2048 bit
Secure Renegotiation IS supported
Compression: NONE
Expansion: NONE
SSL-Session:
    Protocol  : TLSv1
    Cipher    : DHE-RSA-AES256-SHA
    Session-ID: 9DC3673BAD1CF630918321B0F45E5BFF8C84983EBF08BBBEA33BFF6800ED8885
    Session-ID-ctx: 
    Master-Key: 303A4627DA7D4B63255AD9F0D71C0897C844E5C55BE6FAC446E7C713E8B27A9FEFB1709059093DA1C4F9270E2E1BC09D
    Key-Arg   : None
    Start Time: 1406400975
    Timeout   : 300 (sec)
    Verify return code: 10 (certificate has expired)
---
read:errno=0


As you can see, the certificate has expired. I tried running suse-ec2-configure, but the problem persists. I tried running sces-activate before running YaST2, but it had no effect. I rebooted a couple of times, but it didn't fix.

Any suggestions on what I should do? Any help is appreciated. I would like to avoid recreating the instance or launching a new instance, if possible."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Original poster here.

I created a new spot instance using the same AMI (SLES 11p3 HVM). After it started running, the first command I issued was zypper ref. The problem persists:

~ # zypper ref
Retrieving repository 'nVidia-Driver-SLE11-SP3' metadata [\]
Â 
New repository or package signing key received:
Key ID: F5113243C66B6EAE
Key Name: NVIDIA Corporation <linux-bugs@nvidia.com>
Key Fingerprint: 9B763D49D8A5C892FC178BACF5113243C66B6EAE
Key Created: Thu 15 Jun 2006 04:13:18 PM UTC
Key Expires: (does not expire)
Repository: nVidia-Driver-SLE11-SP3
Â 
Do you want to reject the key, trust temporarily, or trust always? [r/t/a/? shows all options] (r): a
Retrieving repository 'nVidia-Driver-SLE11-SP3' metadata [done]
Building repository 'nVidia-Driver-SLE11-SP3' cache [done]
Retrieving repository 'SLE11-SDK-SP3-Pool' metadata [/]
Download (curl) error for 'http://default-ec2-update.susecloud.net/repo/update/SLE11-SDK-SP3-Pool/sle-11-x86_64/repodata/repomd.xml':
Error code: Unrecognized error
Error message: SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
Â 
Abort, retry, ignore? [a/r/i/? shows all options] (a): r
Download (curl) error for 'http://default-ec2-update.susecloud.net/repo/update/SLE11-SDK-SP3-Pool/sle-11-x86_64/repodata/repomd.xml':
Error code: Unrecognized error
Error message: SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
Â 
Abort, retry, ignore? [a/r/i/? shows all options] (a): 
...


The repositories are still not working.

Any word, AWS guys?

Thanks."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hi,

I have asked our EC2 team to investigate on this issue.

Will update on this as soon as they have identified the solution for this issue.

Will appreciate your patience in meantime.

Mohammed - AWS"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
I believe this is related to the SSL cert chain. Apparently the DigiCert High Assurance EV Root CA cert has expired this afternoon. (see attached screenshot)

Found this thread research connectivity issues to GitHub, possibly related?

*notAfter*=Jul 26 18:15:15 2014 GMT"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
I am having the same problem as the original poster.

I know very little about CA issues. What can I do to fix this problem?"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
I'm having the same issue. I've opened an urgent support ticket under my support contract and I'd encourage everyone to do the same. This is just basic blocking and tackling, and we're paying a premium for the EC2 time for SLES precisely so this kind of ""software maintenance"" is taken care of. 

It's ridiculous. Completely preventable problem that you expect when you're not paying for it, but this isn't free software, and this isn't a 2nd tier provider.

Renew your SSL certs SuSE/AWS, not hard. 

In the mean time, considering alias'ing out curl with the right ""ignore CA issues"" command line options so when it's called this issue goes away (not a huge fan of defeating security mechanisms, but for this short window to work around this, it's worth it). First searching docs for a flag that will disable it directly in zypper/yast - anyone have any other ideas?

EDIT: Tried aliasing out curl with curl -k and curl --insecure and didn't do anything, I figure this is an invocation that avoids the shell or is a call to libcurl avoiding the actual curl command altogether...didn't think it'd work but was worth a try...

EDIT II:

Looking at the source code of zypper it appears that perhaps appending ""?ssl_verify=no"" to the end of all repo URLs might be a temporary workaround to avoid ssl cert issues. Will try this and report back. 

EDIT III:

Initial attempts at using ?ssl_verify=no do not work. Replaced all repos in /etc/zypp/repos.d using find . -type f | xargs sed -i 's/11-x86_64/11-x86_64?ssl_verify=no/g' and verified that the ssl_verify=no portions were there in the files and in the failure message it also occurs, think it's becuase there is some kind of redirect from these urls to a secure URL (they are http URLs, so there MUST be some kind of redirect/URL rewrite going on to get an SSL error on a regular http url...). Ideas? Maybe try changing everything to https to avoid this redirect/rewrite? 

AWS support has been more than useless on this, on an urgent ticket they haven't even responded 4 hours later (1 hour SLA).

EDIT IV:

Changing things to https results in: 

Retrieving repository 'SLE11-SDK-SP3-Pool' metadata [/]
Permission to access 'https://default-ec2-update.susecloud.net/repo/update/SLE11-SDK-SP3-Pool/sle-11-x86_64/repodata/repomd.xml?ssl_verify=no' denied.

Hmmm...interesting. Anyone have any details on why http:// works/is allowed and https fails/403s directly? How/why is http getting ssl'ed that causes the initial error. Since AWS is useless on this topic, I'd like to get a workaround because who knows if they'll actually fix it/figure it out in good time - they can't even respond to a ticket in their SLA on this....

Edited by: trideultra on Jul 27, 2014 11:44 PM"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
I too have gotten these access failures for my SLES11 on EC2, though running free Tier usage I guess I'm stuck at it... :P
But it does not encourage me to go on paying for it 
I fail both at Zypper and YaST, so it is clearly related to some security setup as suggested in the thread?

An earlier similar problem was discussed (t)here .

Suggestions for re-activating seemed to be

sces-activate
zypper ref -s -f


I assume it will go away - but currently I cannot even logon to the host, let alone remedy the situation nor test the suggested solution"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Well AWS was over 8 hours late on the 1hr SLA to my ticket and they just essentially punted it to SuSE and said they couldn't help. Pretty useless. 

SuSE is AWS's partner. The AMI page says AWS provides support. AWS should be on SuSE to fix this, especially since this is just a matter of a 5minute new SSL cert issue - problem fixed. No reason we should have this problem still. 

Ridiculous. Especially when we're paying a pretty premium for SLES images. That don't work and support is helpless to support.

Edited by: trideultra on Jul 28, 2014 1:51 PM"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hi,
I'm in the same situation. Adding my name to the thread to follow it. Repos were there Friday, today they aren't. Started a new instance thinking it was maybe due to some IP config issues and established SSL auths but no go. Still not responding.
P"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
There's no reason for this to have occurred at all, much less letting it linger for days. Please resolve as soon as possible. I'm losing time on an already contracted project timeframe."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
What takes for the support to pay attention to this matter? As other said this should be simple to fix but it is greatly hindering our productivity, I always thought the amazon web services in general were great but this makes me think about it twice..."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hello,

Please accept our apologies for the inconvenience and lack of communication in regards to this issue.

AWS is engaged with SUSE to resolve the underlying issue which ultimately comes down to an expired certificate that is being denied access to the SUSE repositories for EC2 instances.

We will keep you updated when we have further information available.

Regards,

Davin G."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
I'm also having the same issue, please fix this! My app is broken! :\"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Davin,

Thanks for the conciliatory words. I know you, personally, are not at fault, and, really, neither is any AWS employee because SuSE dropped a ball here. 

But, it is pretty worrisome to me that as AWS' partner in providing the value-added service for which we are ostensibly paying, Amazon either lacks the leverage to effect any meaningful fix in a meaningful timeframe (we all know this takes 5 minutes to fix, technically, so we've now had something like 72 hours of bureaucracy around getting that done, and it's still not done? Wow.) or simply doesn't care. Someone at SuSE just needs to buy a new cert from the CA and install it. Really, I could have driven to Provo and done this myself and driven back home in less time - what gives? 

I'm not really interested in patronizing words saying AWS is sorry, because that, actually, despite sounding nice and conciliatory, doesn't actually fix any problems (clearly!), is actually a bit on the patronizing side, and ignores the fact that there is a broader CONFIDENCE issue at play here - that if AWS can't both respond to this small an issue in a timely manner (both in forums and in urgent tickets with 1 hour SLAs that were absolutely destroyed by almost an order of magnitude), let alone actually effect a fix to a VERY easy problem to solve that should ACTUALLY NEVER HAVE OCCURRED IN THE FIRST PLACE (e.g. yes SuSE should be on this, but it should ALSO be on AWS' checklist/calendar to manage these things so this does not happen, because, ultimately, AWS says they are supporting this image and we're paying for that - so, ultimately, passing the hot potato to SuSE actually doesn't work). 

So, yes, we all know AWS is very sorry. But, really, be straight with us: WHY?

1) Why did this happen? As I elucidated above, two balls got dropped (at the very least) - WHY? What's changing to make sure this does not happen again? 

2) Why was AWS stupidly silent for so long on this? Again, what's going to be different next time other than ""trust us""? 

3) Why is a 5 minute fix taking 3 days and counting? Again, what's changing? AWS surely has the leverage to tell SuSE shape-up-or-ship-out, right?"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
We also have the same problem. Is there any workaround currently proposed by AWS?"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hear, hear.
Think I'm gonna go Ubuntu instead... :P"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Looks like the problem is fixed now.

http://www.sslshopper.com/ssl-checker.html#hostname=us-east-1-ec2-update.susecloud.net

shows the certificate is ok."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
It's up as of 6am PST.

Damn, SUSE, rookie move (although GIT had the exact same issue happen too, apparently a bunch of certs expired July 26th).

:-/"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Not for my EU West instance, it ain't
Need I reboot for it to kick in? The SSL-checker comes out without a certificate for my instance

Meanwhile, Ubuntu runs... :P"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
http://www.sslshopper.com/ssl-checker.html#hostname=eu-west-1-ec2-update.susecloud.net

shows the certificate is ok?

My instances in us-east-1 can run ""zypper list-updates"" without problem now.

BTW, *.susecloud.net certificate will expire in 57 days, hopefully we won't see this happen again in two months."
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hello,

Thank you for using the AWS forums. I am sorry that you had this issue. I have spoken to SUSE and the problem appears to be fixed now. There was an issue with an expired CA, but that has since been resolved. Please test and verify that it is working as intended, let us know if you have any other issues with the service. 

Thanks,

-AdamC"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hi, Thanks for the information. Now we don't have any other repository on our SuSE other than nVidia-Driver-SLE11-SP3:

zypper lr

| Alias                   | Nazwa                   | WÅ‚Ä…czono | OdÅ›wieÅ¼

--+-------------------------+-------------------------+----------+--------
1 | nVidia-Driver-SLE11-SP3 | nVidia-Driver-SLE11-SP3 | Tak      | Tak   

when we try to add the repository we had before (us-east-1-ec2-update.susecloud.net) it says that access is denied when trying to open:

Access to 'http://us-east-1-ec2-update.susecloud.net/repo/update/SLE11-SDK-SP3-Pool/sle-11-x86_64/repodata/repomd.xml' denied.

what is wrong? should I provide some credentials to repo or restart?

Thanks"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Same thing here, all my repos are gone. I usually solve this by starting a new instance and copying over the /etc/repo.d area and merging it in because there are like 30+ default zypper repos in there. I'm fairly certain there's has to be an easier way to do this... would you please report back if you figure it out? I'll do the same. (I tried searching for ""restore default zypper repos sles"" and found hundreds of hits but the handful of replies I sampled had no useful info.)

EDIT: If I had read a few more hits I would have found this solution:

% sces-activate
% suse-ec2-configure

Which then replaced about 10 repos, and the first ""search"" I issued added back the rest.

Edited by: P. Torelli on Jul 29, 2014 12:28 PM"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
That's great, man! Thanks. These 2 commands fix the repos.

Cheers!"
Amazon EC2	"Re: EC2 repositories problems with SLES 11p3
Hello,

We can confirm the certificate issue has been addressed with our development team having worked with SUSE to resolve this.

To update your EC2 instances running SLES 11P3 you need to run the command ""zypper up"", this should bring your system up to date in all regions without any issues.

If you do encounter any problems please let us know and include a copy of the log files and we will investigate further.

Regards,

Davin G."
Amazon EC2	"Tomcat APR + ELB Secure HTTP not working.
I have an Apache Tomcat instance, running on Ubuntu 12.04 with the APR (libtcnative-1) installed. Whilst plain HTTP is accessible from the load balancer, if I try to use HTTPS I get an empty response. The load balancer also can't see HTTPS on the servers either to perform health checks. This all works if I use Tomcat without the APR installed, using the same certificates. I have verified that the APR configuration is correct as I can successfully connect to the server directly.

Any ideas as to whats going on here?"
Amazon EC2	"Re: Tomcat APR + ELB Secure HTTP not working.
I am seeing the same issue with Tomcat APR SSL and ELB HTTPS->HTTPS listener.  I can hit the instance directly on the healthcheck page we have setup, but I can't hit it through the load balancer.  The same basic setup and wild certificate work fine on another elastic load balancer pointed to an apache box.

The real pain here is that I don't have access to any logs on the elb side and have still found no way to output debug logging of the ssl connections to tomcat APR.

Did you ever find anything?

Edited by: jbowers-cel on Dec 13, 2012 1:42 PM"
Amazon EC2	"Re: Tomcat APR + ELB Secure HTTP not working.
I just wanted to know from this forum that
Is apache httpd required for tomcat clustering to work on EC2 behind ELB?
I configured ELB listeners ports to  http 8080(elb ) to --> http 8080(instance ) and https 8443(elb ) to -->https 8443(instance) -- two ec2 tomcat instances are configured to use ssl 8443 port
I can see tomcat manager coming up when I hit the ELB DNS address with 8443 port  but when I give ELB -DNS -URL:8443/<ApplicationPath>  it returns blank page and my app on tomcats is a simple Jersey REST service.
I have checked the app working by using ipaddress of EC2 tomcat instances.
am I missing any configuration of ELB . (elb health check is working fine and showing INSERVICE)
Do I need to configure tomcats to recognize each other as tomcat cluster?
Also please suggest which connector to use in case of apache Httpd use ?? mod_jk etc.?"
Amazon EC2	"Creating tomcat cluster with apache loadbalance
Hi Friends,This is Atanu Panda. I have planned to configure tomcat cluster in the amazon ec2 server. I have read several documentation.Such as http://onjava.com/pub/a/onjava/2004/03/31/clustering.htmlhttp://onjava.com/pub/a/onjava/2004/04/14/clustering.htmlhttp://archive.gria.org/docs/5.0/user-guide/installation/services/two-JVMs.htmlhttp://www.kandysoftwareinc.com/tech-articles/apache-tomcat-cluster-load-balancing-using-mod_jkAlso definitely, http://tomcat.apache.org/tomcat-5.5-doc/cluster-howto.htmlhttp://wiki.apache.org/tomcat/FAQ/Clustering#Q9I am able to create this cluster configuration in my windows computer. I know that it should be doable in linux too. But while doing in ""Amazon ec2"", i found that multicasting is not supported in ""Amazon ec2"". But the Tomcat documentation is mentioning about the multicast service only. I am trying a lot but HTTP session replication between Tomcat node is not working.Please kindly help me out.Â  Please tell me how we can achieve it though TCP proceess? or is there any other way out..Thanks a lot for reading such a long post.ThanksAtanu Pandawww.kaavo.com"
Amazon EC2	"Re: Creating tomcat cluster with apache loadbalance
It depends on how your application works, but you could rely on sticky sessions using Elastic Load Balancer or your own load balancer to ensure that client requests are routed to the same frontend. Or you could store your sessions in Terracotta, which is a bit more complicated but more robust and allows scaling up/down easily."
Amazon EC2	"Re: Creating tomcat cluster with apache loadbalance
I am using apache as load balancer. Load balanceÂ  is working properly. Requests are forwarded to the running Tomcat server, but the HTTP session management is not working (which I want to achieve first for this Tomcat cluster configuration, though there are more feature required in case of perfect clustering)Find below the codeworkers.tomcat_home=/tomcatAworkers.java_home=$JAVA_HOMEps=/worker.list=tomcatA,tomcatB,tomcatC,loadbalancer worker.tomcatA.port=8009worker.tomcatA.host=ip-tomcatAworker.tomcatA.type=ajp13worker.tomcatA.lbfactor=1 worker.tomcatA.cachesize=10worker.tomcatA.cache_timeout=600worker.tomcatA.socket_keepalive=1worker.tomcatA.socket_timeout=300worker.tomcatB.port=8009worker.tomcatB.host=ip-tomcatBworker.tomcatB.type=ajp13worker.tomcatB.lbfactor=1worker.tomcatB.cachesize=10worker.tomcatB.cache_timeout=600worker.tomcatB.socket_keepalive=1worker.tomcatB.socket_timeout=300worker.tomcatC.port=8009worker.tomcatC.host=ip-tomcatBworker.tomcatC.type=ajp13worker.tomcatC.lbfactor=1worker.tomcatC.cachesize=10worker.tomcatC.cache_timeout=600worker.tomcatC.socket_keepalive=1worker.tomcatC.socket_timeout=300worker.loadbalancer.type=lbworker.loadbalancer.balanced_workers=tomcatA,tomcatB,tomcatCworker.loadbalancer.sticky_session=1Please let me know if you need more information from my end.Please help me out.Thanks againAtanu Pandawww.kaavo.com"
Amazon EC2	"Re: Creating tomcat cluster with apache loadbalance
Well sounds like you're on the right track but you might have more luck on an apache or tomcat mailing list."
Amazon EC2	"Re: Creating tomcat cluster with apache loadbalance
I just wanted to know from this forum that
Is apache httpd required for tomcat clustering to work on EC2 behind ELB?
I configured ELB listeners ports to  http 8080(elb ) to --> http 8080(instance ) and https 8443(elb ) to -->https 8443(instance) -- two ec2 tomcat instances are configured to use ssl 8443 port
I can see tomcat manager coming up when I hit the ELB DNS address with 8443 port  but when I give ELB -DNS -URL:8443/<ApplicationPath>  it returns blank page, not working and my app on tomcats is a simple Jersey REST service.
I have checked the app working by using ipaddress of EC2 tomcat instances.
am I missing any configuration of ELB .
Do I need to configure tomcats to recognize each other as tomcat cluster?
where to look for ELB logs?
Also please suggest which connector to use in case of apache Httpd use ?? mod_jk etc.?

Edited by: sankarca on Jul 30, 2015 7:05 AM"
Amazon EC2	"Advice on finding server config help
Hi everyone,

Total AWS noob here. I was able to setup an instance using the Amazon Linux AMI but ran into a file ownership problem due to the lack of suphp. I understand Amazon tech support can't help with server config tasks so I was wondering if there are any reputable sources where I can find someone who can? Sort of like Amazon partners or a provider directory or something?  I really have no idea where to start. 

Many thanks, and apologies if this is a really stupid question."
Amazon EC2	"performing penetration test
hi, reading about security policy i know that port scanning violate Amazon EC2 Acceptable Use Policy. In next weeks our clinet, on behalf we have deployed some production application into aws, need to perform a penetration test. Those tests will be performed by third part over real instances deployed inside amazon.Anyone had experiences of this topic in the past? Is it necessary ask to aws administrator if we are allowed to do this tests?thanks in advance,Luca"
Amazon EC2	"Re: performing penetration test
Hi, Did you get a reply from Amazon on this and did you run the tests?"
Amazon EC2	"Re: performing penetration test
You can port scan your own stuff from outside the cloud.Â  There's no way Amazon would know if it's you scanning your own boxes, and since they don't hold people responsible for getting scanned (that would be insane), then I say go ahead.I think the spirit of their policy is they don't want you hacking and cracking other people's boxes.-- Don"
Amazon EC2	"Re: performing penetration test
Hi lucamarrocco,You are correct that unauthorized port scanning, vulnerability scanning, and penetration testing does violate the Amazon EC2 Acceptable Use Policy.Â  However, we do recognize that our customers often wish to use appropriately controlled scanning and pen testing as one of the many tools in their security program, and do permit scanning where the owner of the instance(s) consents, notice is given to AWS, and that we issue formal permission to the owner for the tests.Unauthorized scanning from any location is inappropriate and violates our AUP.If any Amazon EC2 customer wishes to conduct port/vulnerability scanning or penetration testing, please email us at aws-security@amazon.com and we'll work with you to ensure your testing is conducted promptly and appropriately.thanks,Steve"
Amazon EC2	"Re: performing penetration test
Hi Steve,

On this page http://aws.amazon.com/security/penetration-testing/ is stated that the permission is required only for tests originated from AWS though ...

Is it possible to update to make it clear for everyone?

Thanks & Regards,
Constantin"
Amazon EC2	"How to price a reservation instance with no upfront fee?
Since Amazon EC2 has changed the offering types of reserved instances into All Upfront, Partial Upfront and No Upfront, I have a question that if an No Upfront reserved instance is to be sold in reserved instance marketplace, how should the seller to announce the payment? Or that he/she just charges the buyer nothing but pass on the responsibility  of remaining hourly fee? If so, How does EC2 charges the commission fee for this transaction?"
Amazon EC2	"Re: How to price a reservation instance with no upfront fee?
I would also like an answer to this question. 

We have some m2.4xlarge instances which might go away in about 6 months, but they run 24/7 otherwise. We'd like to get them running as ""no upfront"" reserved instances. 

But this brings up the question about selling them. Since they are ""no upfront"" do we just sell them for free, or are we stuck paying the RI price for the entire term?

To AWS rep, it would be good to hear an answer to this question."
Amazon EC2	"Re: How to price a reservation instance with no upfront fee?
Hello, 

If you purchase a No Upfront Reserved Instance and then wish to sell it, you can do so via the Reserved Instance Marketplace. What you'd need to do is list the No Upfront Reserved Instance as $0.00 and if it's sold, the buyer it takes over the hourly payments for the remaining duration of the reservation. While the Reserved Instance is listed on the Marketplace it still belongs to you, and you can still use it. When selling a No Upfront Reserved Instance for $0.00, Amazon will not charge a transaction fee for its purchase. 

If you haven't sold Reserved Instances before, it's a good idea to read http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ri-market-selling-guide.html, as it covers all the steps you need to follow. 

Regards,

Justine

Edited by: Justine@AWS on Jul 30, 2015 4:33 AM"
Amazon EC2	"Instance Rebooted, Scheduled Maintenance Event Persists
Greetings,

My instance i-3f856302 in ap-southeast-2 is scheduled for maintenance.  I rebooted it via the console 32 hours ago, but maintenance is still listed as an event.

Any idea why it's still listed?

Thanks much,
Mark"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Hi,

Thanks for your post.  In looking at the instance and the maintenance notification, it appears the maintenance has completed as part of the reboot you performed.  Your connection will not be interrupted at the scheduled maintenance window.  Please let me know if there is anything else I can do to help.

Kind regards,
John G."
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Thanks much, John.

Just so I can avoid the ulcer, can I expect the maintenance event listing to eventually disappear from my account?"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Hi mark_ruwt , 

Yes, it should be cleared in advance. I am double checking with our engineering team to get more information on when this will disappear for your instance and will update as soon as I get more information to share with you. 

Kind regards,
Morgan"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Hi mark_ruwt,

Sorry for the late reply, you may have notice that the maintenance activity already disappeared from your account, but for clarity, I wanted to let you know the following: 

The network maintenance previously scheduled for July 10th 2013 for your instances has been cancelled and will be rescheduled soon.  If you have already rebooted your instances then the maintenance activity is complete and you will not receive an additional maintenance event.

Hopefully this helps, 
Morgan"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Thanks for the update, Morgan.  Unfortunately, I'm having the same issue with i-3f856302, as it was rebooted as well, but the entry is persisting.  Could you have a look at that maintenance entry?

Thanks,
Mark"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
This event is now gone from my console.  Thanks for all the help."
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Just to follow up, my machine was still brought down tonight and it took my site down for an hour and a half."
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Hello,

I have checked your instance, i-3f856302. Unfortunately this instance was impacted by an issue with the underlying host. I see you have since stopped and started the instance and it is now responding to HTTP requests. 

This outage was not related to the maintenance window you were previously notified of. I apologize for the unexpected outage. 

If you are after more information on building fault-tolerant web applications, I recommend you take a look at the following white paper. It has a good overview of some techniques you can employ to protect your web infrastructure against individual failures:

http://media.amazonwebservices.com/AWS_Web_Hosting_Best_Practices.pdf"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
After yesterday AWS maintenance event, the three ec2 instances are non functional.  They are in ""stopping"" state and cannot stop.  Please stop these 

base2.dev4
instance
i-64098404
us-east-1c
system-reboot
 Canceled
scheduled reboot
July 22, 2015 at 4:00:00 AM UTC-7
nat.dev4
instance
i-5262d932
us-east-1c
system-reboot
 Canceled
scheduled reboot
July 22, 2015 at 6:00:00 AM UTC-7
xmpp2.dev4
instance
i-b00e83d0
us-east-1c
system-reboot
 Canceled
scheduled reboot
July 22, 2015 at 6:00:00 AM UTC-7"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
Hello FM00000,

I am extremely sorry for the inconvenience this may have caused you.
I have opened an internal ticket with our internal team to investigate on your issue. We will update you via this forum thread with updates.

Regards
Shiroy"
Amazon EC2	"Re: Instance Rebooted, Scheduled Maintenance Event Persists
While unfortunately it's not something I can fix personally, I do know of a workaround.
Since your instances are EBS-backed, you can create an AMI and replace the instances.
For detailed steps, please see

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

You may want to consider using a current generation instance type, which is slightly cheaper than the M1 instances you are currently using.

Since one of the instances appears to be a VPC NAT, you may want to consider HA NAT:

http://aws.amazon.com/articles/2781451301784570

There are example AWS CloudFormation templates that automate the steps.
We have contacted you by the official support channel to better assist you with the three instances you mentioned."
Amazon EC2	"Cannot access IBM Domino server running in Windows Server 2012 instance
Yesterday I have created my first Windows Server 2012 instance (i-39422df8, t2.micro, free tier eligible), so I'm an AWS newbie.

I have installed IIS and could successfully access the server via its public IP address (from outside) in order to get displayed the IIS homepage (via port 80).

After that I have removed IIS and have copied a pre-installed version of IBM Domino Server (Release 9) and have started the Domino server including HTTP task. But I can only access the Domino server and display the Domino homepage via LOCAL browser using http://localhost/ or the private IP address.

PROBLEM: Unfortunately I cannot access the Domino server neither via HTTP (port 80) nor via a Notes client (port 1352) from OUTSIDE using the public IP address. 

In the security groups I have allowed ""all"":
 - Type: All traffic
 - Protocol: All
 - Port range: All
 - Source: 0.0.0.0/0

Has someone any idea what's the problem ?

Tx in advance | Bernd"
Amazon EC2	"How to prevent linux configs modifications during EC2 instance cloning?
Hi,
I noticed that during EC2 cloning process (create image / launch from image) some Linux  configs are not as on my original instance. To be precise, at least one file is modified - after cloning EC2 new instance always has 

PasswordAuthentication no

into /etc/ssh/sshd_config.

Is there a way to prevent this and receive  exactly clone of my instance?

TIA,
Vitaly"
Amazon EC2	"Re: How to prevent linux configs modifications during EC2 instance cloning?
Hello Vitaly,

When you launch a new instance from one of the latest Amazon AMIs and enable password authentication for ec2-user or other users, and then you create an image from it you might no longer be able to log in to your server using password authentication method.  Your sshd_config file will be overwritten and the PasswordAuthentication line will be reverted back to PasswordAuthentication no. In order to prevent this from happening you need to modify the ""defaults.cfg"" file  on the original instance before you create an AMI from it:

There is a file that needs to be edited:

file name: defaults.cfg
path: /etc/cloud/cloud.cfg.d/defaults.cfg


 Change the following lines:
lock_passwd: true to  lock_passwd: false
ssh_pwauth:   false to ssh_pwauth:   true

Save the defaults.cfg file

Create an image from that ec2 instance. Now, once you launch an instance from it you should be able to connect using your custom password.

Best Regards,
RonnieN"
Amazon EC2	"EC2 Instance becomes unavailability during high load
Hi, 
I have a reserved instance (r3.2xlarge) IÂ´m currently facing an issue with the instance during high load. 
When the instance get a high load the instance becomes unavailable and iÂ´m not longer available to connect to it with rdp or access associated web services threw http. 
If i look in the web console(console.aws.amazon.com) some of the status checks fails. 
The only possible solution i come up with so far is to reboot the instance. 

IÂ´m currently using EBS for storage."
Amazon EC2	"Re: EC2 Instance becomes unavailability during high load
Hello David,

for further investigate your issue can you please post here your instance-id?

Regards,
Giorgio"
Amazon EC2	"Re: EC2 Instance becomes unavailability during high load
Hi, 
The ID is: i-8adeafca"
Amazon EC2	"Re: EC2 Instance becomes unavailability during high load
if the load overuses available memory, the OS can get horribly slow as it thrashes everything in and out of swap space.  it can take minutes to work a connection and you probably conclude it is unavailable before then.  a reboot is often faster than waiting 4 minutes to get in and 3 more minutes to check on it.  maybe a temporary larger instance can help you figure out the overload.

Edited by: skaperen257 on Jul 7, 2015 5:29 AM fix typo"
Amazon EC2	"Re: EC2 Instance becomes unavailability during high load
Hi,
Thank you for your response. 
Some of the times i had this issue i waited up to 30minutes whitout any change. 
The application iÂ´m using is very memory intense and is built to basically consume the available memory. 
If this would be the issue do you know any workaround?  

Thanks."
Amazon EC2	"Re: EC2 Instance becomes unavailability during high load
Hello,

I have taken a look at your instance and Cloudwatch metrics show that CPU utilization is spiking close to 100% resulting in your instance being unreachable and slow. Please consider changing your instance type to a larger instance type that would be able to handle the load of your application.

Best Regards,
RonnieN"
Amazon EC2	"Server does not start
I am not able to open my website neither I can login using putty. When I checked error log in dashboard it says: 
6678562.687148] Out of memory: Kill process 2658 (pip) score 90 or sacrifice child [6678562.690077] Killed process 2658 (pip) total-vm:363724kB, anon-rss:90504kB, file-rss:1484kB [7770104.039058] end_request: I/O error, dev xvda, sector 13606672 [7770104.043051] end_request: I/O error, dev xvda, sector 13606688 [7770104.043051] end_request: I/O error, dev xvda, sector 13606704 [7770104.043051] end_request: I/O error, dev xvda, sector 12995424 [7770104.043051] end_request: I/O error, dev xvda, sector 13604536 [7770104.043051] end_request: I/O error, dev xvda, sector 13604608 [7770104.043051] end_request: I/O error, dev xvda, sector 13604648 [7770104.043051] end_request: I/O error, dev xvda, sector 13604664 [7770104.043051] end_request: I/O error, dev xvda, sector 13604688 [7770104.043051] end_request: I/O error, dev xvda, sector 13604784 [7770104.043051] Setting capacity to 0 [7770104.043051] xvda: detected capacity change from 8589934592 to 0 

What is the cause for this? Can you please help me to get rid of this issue asap?"
Amazon EC2	"Re: Server does not start
Hello,

The memory exhaustion (Out Of Memory) problem stems from the fact that there are services/applications running within your instance that are consuming more memory than the memory that is present on your instance type.

You can resolve the issue by changing your instance type to a larger instance offering more memory.

Best Regards,
RonnieN"
Amazon EC2	"Account Blocked
Hello!
My EC2 instance is down because the account was blocked due to a payment issue, but now I paid what was owed. 

How long until the account will come back up?

Account Number 128264206495

I need help, thanks!!"
Amazon EC2	"Re: Account Blocked
Hello,

Your account has been reinstated.

Best Regards,
RonnieN"
Amazon EC2	"EC2 - Instance reachability check failed error
Hi All,
I have created multiple instances in AWS and I am not new to AWS but past 3 days, I am trying to create a new instance of Win2012 and once the server is ready, I am seeing the system status check 1/2 completed an instance reachavility check failed error. The server is not letting me login. I looked into the system log and it does not say any error as such. Can you please help.

Thanks Much,
Sachin."
Amazon EC2	"Re: EC2 - Instance reachability check failed error
Hello,

Could you please provide your instance ID for us to investigate.

Best Regards,
RonnieN"
Amazon EC2	"EC2 to EBS  is the duo good enough or is there a better approach?
I am contracted to design a web portal that will allow my customer (amazon user) the ability to move data akin to client side encryption to EC2. The constraints are as follows: 1. It has to has to be cost effective GB/Month. 2. S3 is not a solution since it cost more but seem faster.  2. Must be accessed from anywhere in the world like S3. 

What they want to accomplish:

1. Move and store encrypted data within amazon region that is the most cost effective and fast for EBS--US East is preferred in this case.
2. All backup or snapshots will be sent to a different region of EBS bucket instead of S3 like say US West. Just the redundancy needed for BCP and DRP.
3. They want manage their master keys for encryption.

What I think:

I think the solution is more like cost effective in all. I am not sure if S3 could be a better idea in this case. 

My assumptions:
I think that amazon will charge for encrypted data volume since that will increase the file size especially using AES which involved IV for very large files. This company is moving large files on a regularly.

If my assumption is wrong how will amazon deal with server-side encryption where I have 10GB of data to encrypt and after the encryption I now have 14GB. Will I only pay for the 10 GB? In this case can you see that client-side encryption could win the data depending on how they will deal with both. 

Conclusion:
What do you guys think about this approach? Let me know if there is something missing. Why is EBS a good choice here? Why not S3? 

Thanks.

Edited by: Josiah Umezurike on Jul 29, 2015 8:47 PM"
Amazon EC2	"AMI image creation pending for 30+ minutes
Just one 30G C drive and snapshot is ready for 20+ minutes. It seems it just can't register the AMI. Similar VM image created few minutes ago in under 5 mins. How long am I supposed to wait? Never happened before. AMI id is ami-cfc663a4

Thanks

UPDATE - just finished, took 37 minutes.

Edited by: api on Jul 29, 2015 3:25 PM"
Amazon EC2	"Abuse Report -  Blocked all ports except 22 / 3389
Hello, we received an email from abuse report, an alleged attack on an instance, therefore all ports blocked except 22 / 3389. The strange thing is that the instance is low traffic. I need all Security Group ports are active again. 

The security measures we have are:


Access via SSH key
Close unnecessary ports
Update the instance


It is urgent to re-entry by port 80/443.
Instance Id: i-e02af0eb
Case number: 14217238152-1

Best Regards

Edited by: luisriquelme on Jul 24, 2015 7:15 AM

Edited by: luisriquelme on Jul 24, 2015 7:36 AM"
Amazon EC2	"Re: Abuse Report -  Blocked all ports except 22 / 3389
Hello,

Thanks for posting. Unfortunately you'll have to respond to the email that was sent to you and provide the information you have outlined here. Only the Abuse Team can restore your service. I do apologize for any inconvenience this has caused.

Regards,
Brandon"
Amazon EC2	"Can't RDC my EC2 server after Windows update
Hello AWS,

I just did a window update about an hour ago and had to restart the instance. For some reasons, I'm no longer able to connect back to the server via RDC. The instance id is Instance-ID: i-8653a9ab.

2014/08/15 04:27:31Z: Instance-ID: i-8653a9ab
2014/08/15 04:27:35Z: Message: Windows is Ready to use
2015/07/25 23:05:16Z: AMI Origin Version: 2014.07.10
2015/07/25 23:05:17Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-SQL_2014_RTM_Express
2015/07/25 23:05:17Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/25 23:05:17Z: Language: en-US
2015/07/25 23:05:17Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/07/25 23:05:17Z: Difficulty detecting PV driver details for Console Output
2015/07/25 23:05:18Z: Message: Waiting for meta-data accessibility...
2015/07/25 23:07:04Z: AMI Origin Version: 2014.07.10
2015/07/25 23:07:04Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-SQL_2014_RTM_Express
2015/07/25 23:07:04Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/25 23:07:04Z: Language: en-US
2015/07/25 23:07:04Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/07/25 23:07:05Z: Difficulty detecting PV driver details for Console Output
2015/07/25 23:07:40Z: Message: Waiting for meta-data accessibility...
2015/07/25 23:09:21Z: Still waiting for meta-data accessibility...
2015/07/25 23:11:12Z: Still waiting for meta-data accessibility...
2015/07/25 23:13:02Z: Still waiting for meta-data accessibility...
2015/07/25 23:14:52Z: Still waiting for meta-data accessibility...
2015/07/25 23:16:42Z: Still waiting for meta-data accessibility...
2015/07/25 23:18:33Z: Still waiting for meta-data accessibility...
2015/07/25 23:20:23Z: Still waiting for meta-data accessibility...
2015/07/25 23:22:13Z: Still waiting for meta-data accessibility...
2015/07/25 23:24:03Z: Still waiting for meta-data accessibility...
2015/07/25 23:25:54Z: Still waiting for meta-data accessibility...
2015/07/25 23:27:44Z: Still waiting for meta-data accessibility...
2015/07/25 23:29:34Z: Still waiting for meta-data accessibility...
2015/07/25 23:31:24Z: Still waiting for meta-data accessibility...
2015/07/25 23:33:15Z: Still waiting for meta-data accessibility...
2015/07/25 23:35:05Z: Still waiting for meta-data accessibility...
2015/07/25 23:36:55Z: Still waiting for meta-data accessibility...
2015/07/25 23:38:46Z: Still waiting for meta-data accessibility...

Thanks

Ben

Edited by: benl2013 on Jul 25, 2015 5:34 PM

Edited by: benl2013 on Jul 25, 2015 5:36 PM"
Amazon EC2	"Re: Can't RDC my EC2 server after Windows update
Hello,

Thanks for posting. Looking at the provided output I believe you've encountered a network driver issues. Please see the following links:

http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/
https://forums.aws.amazon.com/thread.jspa?messageID=609101

Regards,
Brandon"
Amazon EC2	"Still waiting for meta-data accessibility - Can't Connect to Instance
Hello!

We had an instance (i-2e69b36d) recently reboot; however, we are now unable to connect vid RDP... even after several reboots. 

This is the error message in the System Logs.

2014/06/16 18:04:10Z: Message: Windows is Ready to use
2015/07/26 00:44:20Z: AMI Origin Version: 2014.05.16
2015/07/26 00:44:20Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-SQL_2014_RTM_Web
2015/07/26 00:44:20Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/26 00:44:20Z: Language: en-US
2015/07/26 00:44:20Z: EC2 Agent: Ec2Config service v2.2.3.0
2015/07/26 00:44:22Z: Difficulty detecting PV driver details for Console Output
2015/07/26 00:44:59Z: Message: Waiting for meta-data accessibility...
2015/07/26 00:46:39Z: Still waiting for meta-data accessibility...
2015/07/26 00:48:30Z: Still waiting for meta-data accessibility...
2015/07/26 00:50:20Z: Still waiting for meta-data accessibility...
2015/07/26 00:53:56Z: AMI Origin Version: 2014.05.16
2015/07/26 00:53:56Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-SQL_2014_RTM_Web
2015/07/26 00:53:56Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/26 00:53:56Z: Language: en-US
2015/07/26 00:53:56Z: EC2 Agent: Ec2Config service v2.2.3.0
2015/07/26 00:53:58Z: Difficulty detecting PV driver details for Console Output
2015/07/26 00:54:35Z: Message: Waiting for meta-data accessibility...
2015/07/26 00:56:15Z: Still waiting for meta-data accessibility...
2015/07/26 00:58:05Z: Still waiting for meta-data accessibility...
2015/07/26 00:59:56Z: Still waiting for meta-data accessibility...
2015/07/26 01:01:46Z: Still waiting for meta-data accessibility...
2015/07/26 01:03:36Z: Still waiting for meta-data accessibility..."
Amazon EC2	"Re: Still waiting for meta-data accessibility - Can't Connect to Instance
Hello,

Looking at the output it appears that you may have encountered an issue with the network drivers. Please see the following links:

http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/
https://forums.aws.amazon.com/thread.jspa?messageID=609101

Regards,
Brandon"
Amazon EC2	"ssh_exchange_identification: read: Connection reset by peer
I am facing ""ssh_exchange_identification: read: Connection reset by peer"" error.
I am not able to ssh my instance.
My instance id is i-82a4048f

Any help is highly appreciated. Thank you.

Below is the debug information

ssh -i ""aws/githubapi.pem"" ubuntu@52.26.94.220 -vv
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.26.94.220 http://52.26.94.220 port 22.
debug1: Connection established.
debug1: identity file aws/githubapi.pem type -1
debug1: identity file aws/githubapi.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
ssh_exchange_identification: read: Connection reset by peer"
Amazon EC2	"Re: ssh_exchange_identification: read: Connection reset by peer
Hello,

Thanks for posting. Looking at your instance  i-82a4048f I see that it is marked healthy and from my tests I can connect to port 22. It appears that SSHD is responding correctly as I'm receiving ""Permission denied (publickey)"" .

Are you still having issues with this? If so could you please provide the timestamps in which you encountered this so that we can look closer at our metrics and see if we can identify anything on our end?

Regards,
Brandon"
Amazon EC2	"MySQL with t2.medium crashing
Hello,

I've a big problem, I use MySQL, but it crash periodically and I see no error that I understand. I've to restart the service, and I don't know what to do to avoid this !

This is the last lines of log I have :

150728 16:40:44 mysqld_safe Number of processes running now: 0
150728 16:40:44 mysqld_safe mysqld restarted
150728 16:40:46 [Warning] Using unique option prefix myisam-recover instead of myisam-recover-options is deprecated and will be removed in a future release. Please use the full name instead.
150728 16:40:46 [Note] Plugin 'FEDERATED' is disabled.
150728 16:40:46 InnoDB: The InnoDB memory heap is disabled
150728 16:40:46 InnoDB: Mutexes and rw_locks use GCC atomic builtins
150728 16:40:46 InnoDB: Compressed tables use zlib 1.2.7
150728 16:40:46 InnoDB: Using Linux native AIO
150728 16:40:46 InnoDB: Initializing buffer pool, size = 700.0M
InnoDB: mmap(751206400 bytes) failed; errno 12
150728 16:40:46 InnoDB: Completed initialization of buffer pool
150728 16:40:46 InnoDB: Fatal error: cannot allocate memory for the buffer pool
150728 16:40:46 [ERROR] Plugin 'InnoDB' init function returned error.
150728 16:40:46 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.
150728 16:40:46 [ERROR] Unknown/unsupported storage engine: InnoDB
150728 16:40:46 [ERROR] Aborting
Â 
150728 16:40:46 [Note] /usr/libexec/mysqld: Shutdown complete
Â 
150728 16:40:47 mysqld_safe mysqld from pid file /var/run/mysqld/mysqld.pid ended"
Amazon EC2	"Re: MySQL with t2.medium crashing
Hello,

Thanks for posting. Looking under your account I see two instances running one t2.small and one t2.medium. From the console output it appears there is a MySQL database on the t2.medium (i-05d09daf) and I do see the instance is having some issues with the MySQL process:

[1227242.430356] INFO: task mysqld:11073 blocked for more than 120 seconds.


Assuming this is the correct instance, the error message your provided is indicating that your system is low on memory. Unfortunately I do not have access to them Memory metrics on your instance. Have you verified Memory usage with `top` or `free -m`? If you have installed the sysstat package you can use sar to gather this information or review the following link as to how to push this data to CloudWatch:

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts-perl.html

Have some idea what the Memory Utilization is prior to the crash would be very helpful.

Regards,
Brandon"
Amazon EC2	"AWS Connector - ""Unable to forward the request to your Identity Provider..""
Hello.

I just loaded the AWS Connector 2.4 on vCenter 6.0, and when I click on the AWS Management Portal, I am given the error:  Unable to foward the request to your Identity Provider for authentication.

First:  Is the connector supported on vCenter 6?  I searched the thread for this error without success.  This was done via the fat client, as it does not show on the web client (unfortunate).  Any ideas?

Thanks"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Hi there,

I'm having the same problem, so if someone has a solution or explanation, that would be great!"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Hello,

Thanks for bringing this to our attention.  Our team is looking into this and we will soon provide a clarification on this. 

Best Regards,
-Chandra"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Hello, 

I think I may have found something that could explain why its not working. We are using vSphere v6 which is not listed in the supported versions on the VM Import/Export Prerequesits. If you look under Image formats -> Exporting image formats from Amazon EC2, the third point says it only supports v4 and v5 of vSphere. Could this be part of the problem?

Heres a link to the site:   http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html 

Thanks"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Thanks for digging.  That refers to the VMDK image format, which is also compatible with vCenter 6.  Hopefully we will find a solution, or an upcoming release will solve this for us."
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Thank you Chandra.  Any success or update from the team?"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Updated on 07/29/2015.  Now AWS Connector supports vCenter 6.0.

Currently, AWS Connector doesnâ€™t support vCenter 6.0.  Please contact us at aws-amp-vcenter@amazon.com for additional details.  

Thank you.
Anbu

Edited by: anbu@AWS on Jul 29, 2015 1:37 PM"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Thank you.  Please let us know when it supports vCenter 6.0"
Amazon EC2	"Re: AWS Connector - ""Unable to forward the request to your Identity Provider..""
Hello,

We just released a new version (2.5.x) of AWS Connector that support vCenter6. You can upgrade your AWS Connector to this version 2.5.x through auto/manual upgrade option. You can also install a fresh version using the OVA file at https://s3.amazonaws.com/aws-connector/AWS-Connector.ova. Please let us know if you run into any issues. 

Thanks,
Anbu"
Amazon EC2	"Unable to find localhost in python to connect with mysql database
Hi,

I am trying to connect python to database, but in the connection I need to give localhost. I have tried giving public IP, private IP, Public DNS but none of those worked. Following is the error:

 mysql_exceptions.OperationalError: (2005, ""Unknown MySQL server host '172-31-10                                                                                        -178' (0)"")

Plz help me to get the correct localhost."
Amazon EC2	"Curl request to EC2 Instance  from Godady server refusing conection
Hello Sir
When I am sending curl request from godady's server to EC2 instance then every time I getting conection refused error. But when I try the same from anoter server or from localhost its working fine.

Edited by: codebigner on Jul 27, 2015 11:56 PM"
Amazon EC2	"Re: Curl request to EC2 Instance  from Godady server refusing conection
Hello,
can you please give us instance id so we can perform further investigation on it?

Thank you!
Regards,
Alessandro"
Amazon EC2	"Re: Curl request to EC2 Instance  from Godady server refusing conection
This is my instance id i-7cfe2a8b

Here the code I am executing on godady's server which gives every time connection refused.

$url = ""http://52.11.185.159:1337/tree?user_id=1"";
$ch = curl_init();
//curl_setopt($ch, CURLOPT_PROXY,$proxy_IP);
curl_setopt($ch, CURLOPT_URL,$url);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, ""GET"");
curl_setopt($ch, CURLOPT_RETURNTRANSFER,true);
curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
$output=curl_exec($ch);
if(curl_errno($ch))
{
	echo 'Curl error: ' . curl_error($ch);
}

curl_close($ch);
echo '<pre>';print_r($output);"
Amazon EC2	"Re: Curl request to EC2 Instance  from Godady server refusing conection
Hello,

Thanks for posting. I've tested your code from my instance and I have no issues connecting. Do you have issues connecting to any other port on this instance from this end point? You can use Netcat to listen on another port and use cURL or Netcat on the other end to send a request to that port. Be sure the port is allowed in your Security Groups. The basic syntax is as follows:

server:
nc -l PORT
Â 
client:
curl SERVER-IP-HERE:PORT
nc SERVER-IP-HERE PORT


Here is how it looks when I test on my instance:

server:
nc -l 5201
Â 
client:
curl MY-IP:5201
or 
nc MY-IP 5201


In the above example when curl connects you should see the GET request on the server or if you test with netcat anything you type in should be displayed on the server terminal if you are able to establish a connection.

Is there a local firewall running on this instance that could be blocking this connection? Verify by using the following:

sudo iptables -nvL


Regards,
Brandon"
Amazon EC2	"subnets and sec groups with ec2-run-instances and ec2-request-spot-instance
I'm building automation around ec2-request-spot-instances and ec2-run-instances in the java ec2-tools. I'm using 1.7.5.0 2015-04-15, which is the latest at the time of this writing.

When I'm using ec2-run-instances to create an instance in a vpc subnet, it throws an error complaining about using sec group names because for reasons I don't understand, sec groups have to be defined by ID rather than name when the instance is in a vpc subnet. OK, switched to using IDs, and now all is well in that world.

However, if I try to create a spot instance request using the same group syntax and ID's when using ec2-request-spot-instances (as the documention would suggest I should do since it matches the docs for ec2-run-instances) it errors out with the same error I was getting before.

This suggests to me that the ec2-request-spot-instances command is doing something different internally. Not sure if this would be a functional bug or a documentation bug, but it seems like it must be one or the other. In the meantime, is changing my security-group selections via the --network-attachment option a viable workaround? It seems that using that forces a lot of things to be manually decided that I'm currently getting automagically, so I'm reluctant to spend time restructuring and adding logic to make those decisions if it's ultimately not going to work either.

Thanks in advance for any input and/or experiences.

Edited by: qhartmanus on Jul 27, 2015 12:26 PM"
Amazon EC2	"Re: subnets and sec groups with ec2-run-instances and ec2-request-spot-instance
Hi,

I have confirmed that you can't specify both a subnet and a security group in the launch specification for a Spot Instance. You can specify a subnet and security group using a network attachment in the launch specification:

ec2-request-spot-instances ami-xxxxxxxx -p 0.05 --key my-key-pair -a "":0:subnet-xxxxxxxx:::sg-xxxxxxxx"" 

I will update the documentation.

Julie"
Amazon EC2	"Cannot receive income connections from 91.227.208.117
Hi,

we do not receive connections from the network 91.227.208.117 to our Ec2 instances. Is it possible that IPs in the range 91.227.208.0/24 are blocked by AWS?

When I try to ping 91.227.208.117 from inside a Ec2 instance, I get:


ping -c 5 8.8.8.8

PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_req=1 ttl=56 time=0.954 ms
64 bytes from 8.8.8.8: icmp_req=2 ttl=56 time=0.964 ms
64 bytes from 8.8.8.8: icmp_req=3 ttl=56 time=0.966 ms
64 bytes from 8.8.8.8: icmp_req=4 ttl=56 time=0.981 ms
64 bytes from 8.8.8.8: icmp_req=5 ttl=56 time=0.957 ms






8.8.8.8 ping statistics ---





5 packets transmitted, 5 received, 0% packet loss, time 4025ms
rtt min/avg/max/mdev = 0.954/0.964/0.981/0.029 ms


ping -c 5 91.227.208.117

PING 91.227.208.117 (91.227.208.117) 56(84) bytes of data.






91.227.208.117 ping statistics ---





5 packets transmitted, 0 received, 100% packet loss, time 4030ms

When I do the same from my home, everything seems to work good:

luca@cucciolo:~$ ping -c 5 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_req=1 ttl=55 time=16.3 ms
64 bytes from 8.8.8.8: icmp_req=2 ttl=55 time=17.5 ms
64 bytes from 8.8.8.8: icmp_req=3 ttl=55 time=25.1 ms
64 bytes from 8.8.8.8: icmp_req=4 ttl=55 time=16.8 ms
64 bytes from 8.8.8.8: icmp_req=5 ttl=55 time=15.4 ms






8.8.8.8 ping statistics ---





5 packets transmitted, 5 received, 0% packet loss, time 4005ms
rtt min/avg/max/mdev = 15.459/18.284/25.176/3.516 ms
luca@cucciolo:~$ ping -c 5 91.227.208.117
PING 91.227.208.117 (91.227.208.117) 56(84) bytes of data.
64 bytes from 91.227.208.117: icmp_req=1 ttl=110 time=157 ms
64 bytes from 91.227.208.117: icmp_req=2 ttl=110 time=146 ms
64 bytes from 91.227.208.117: icmp_req=3 ttl=110 time=150 ms
64 bytes from 91.227.208.117: icmp_req=4 ttl=110 time=151 ms
64 bytes from 91.227.208.117: icmp_req=5 ttl=110 time=147 ms






91.227.208.117 ping statistics ---





5 packets transmitted, 5 received, 0% packet loss, time 4005ms
rtt min/avg/max/mdev = 146.141/150.613/157.217/3.904 ms

Where is the problem? Is ASW blocking some networks?"
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
i tried to do a traceroute to 91.227.208.117 and it never reached a destination.  can you try a traceroute to your instance to see where it stops for you?

 4  ae1---0.car01.mrbg.wv.frontiernet.net (74.40.70.197)  34.234 ms  35.421 ms  36.641 ms
 5  ae5---0.cbr01.asbn.cor02.asbn.va.frontiernet.net (74.40.1.237)  37.820 ms  39.033 ms  39.284 ms
 6  ae1---0.cbr01.asbn.va.frontiernet.net (74.40.2.178)  40.479 ms  34.827 ms  35.453 ms
 7  * * *
 8  ae-2.r23.asbnva02.us.bb.gin.ntt.net (129.250.5.190)  39.474 ms  36.318 ms  36.926 ms
 9  ae-6.r23.amstnl02.nl.bb.gin.ntt.net (129.250.6.177)  129.697 ms *  130.023 ms
10  ae-0.r22.amstnl02.nl.bb.gin.ntt.net (129.250.4.125)  129.681 ms  129.958 ms  130.371 ms
11  ae-5.r23.londen03.uk.bb.gin.ntt.net (129.250.5.197)  129.956 ms  129.946 ms  158.517 ms
12  ae-2.r02.londen03.uk.bb.gin.ntt.net (129.250.5.41)  137.529 ms  138.500 ms  129.846 ms
13  83.217.238.62 (83.217.238.62)  118.225 ms  124.858 ms  126.130 ms
14  edge7-coreb.lon3.rackspace.net (164.177.137.120)  119.466 ms edge7-corea.lon3.rackspace.net (164.177.137.118)  121.044 ms  121.431 ms
15  coreb-core3.lon3.rackspace.net (164.177.137.19)  132.178 ms  134.067 ms corea-core3.lon3.rackspace.net (164.177.137.7)  124.826 ms
16  core3-aggr331a-1.lon3.rackspace.net (31.222.133.141)  120.592 ms  118.076 ms  115.735 ms
17  * * *
18  * * *
19  * * *
20  * * *"
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hello,

91.227.208.117 is outside AWS, behind a firewall, then traceroute does not work with them. You tried to traceroute the external server that is trying to reach us.

The server 91.227.208.117 cannot make incoming connections to our ec2 instance. 91.227.208.117 is outside AWS. Everyone else can make incoming connections on port 25. Is there a black list, a firewall or something that is blocking port 25? How can we check?

Thanks"
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hello, 

Are you still having this issue? 

If so can you provide:
1. A traceroute from 91.227.208.117 to your EC2 instance to see how far it gets?
2. A traceroute from your EC2 instance to 91.227.208.117?  
3. The instance ID you're attempting to ping. 

I was able to ping 91.227.208.117 from an EC2 instance, although unlike the previous poster a traceroute fails at 31.222.133.141. 

Regards,
Nick"
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hello,

1. I cannot have a traceroute because the server is not managed by us. Can be useful to know that the server can reach our instance thru port 80, but not port 25. This means that there is a connection between 91.227.208.117 and our instance, but there is no connection on port 25.

2. # traceroute 91.227.208.117
traceroute to 91.227.208.117 (91.227.208.117), 30 hops max, 60 byte packets
 1  ec2-79-125-1-200.eu-west-1.compute.amazonaws.com (79.125.1.200)  1.821 ms  1.839 ms  1.799 ms
 2  100.64.2.181 (100.64.2.181)  1.442 ms  1.451 ms 100.64.2.189 (100.64.2.189)  1.233 ms
 3  100.64.0.104 (100.64.0.104)  1.564 ms 100.64.0.192 (100.64.0.192)  1.236 ms 100.64.0.94 (100.64.0.94)  1.491 ms
 4  100.64.16.83 (100.64.16.83)  1.085 ms 100.64.16.151 (100.64.16.151)  1.052 ms 100.64.16.145 (100.64.16.145)  1.007 ms
 5  178.236.0.108 (178.236.0.108)  0.944 ms 178.236.0.88 (178.236.0.88)  0.897 ms  0.893 ms
 6  178.236.0.133 (178.236.0.133)  0.831 ms 178.236.0.137 (178.236.0.137)  0.800 ms  0.792 ms
 7  195.16.170.101 (195.16.170.101)  1.367 ms  1.549 ms 213.242.106.85 (213.242.106.85)  0.971 ms
 8  ae-12-vl-3201.edge3.London2.Level3.net (4.69.202.178)  13.188 ms  12.812 ms  12.816 ms
 9  195.50.125.70 (195.50.125.70)  14.055 ms  14.089 ms  13.616 ms
10  edge5-corea.lon3.rackspace.net (164.177.137.38)  13.311 ms edge5-coreb.lon3.rackspace.net (164.177.137.40)  12.786 ms edge5-corea.lon3.rackspace.net (164.177.137.38)  13.288 ms
11  coreb-core3.lon3.rackspace.net (164.177.137.19)  13.186 ms  13.258 ms  13.303 ms
12  core3-aggr331a-1.lon3.rackspace.net (31.222.133.141)  13.346 ms  13.231 ms  12.605 ms
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

3. i-2ff8da60

The 91.227.208.117 can ping the instance. The instance cannot ping 91.227.208.117 (this is maybe due to a firewall). The problem is that 91.227.208.117 can telnet port 80 of the instance, but not port 25 of the instance. So the problem is about incoming connections on port 25."
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hello,

I apologize for the issues you've encountered. I am also able to ping this IP address from my instance as well as other servers not located within AWS' network. It is interesting to know that a successful connection can be made from 91.227.208.117 on port 80 but not on port 25. As this confirms that a connection can be established to the instance. I reviewed the instance and the Security Groups and they are defined correctly. There are no Network ACLs or Egress rules that would be blocking this connection. For the sake of being complete have you verified there is nothing running locally on the instance that would be blocking connections to this IP, iptables for example?

I tested my ability to connect to port 25 on your instance and found that I am able to establish a connect.

nc -vz X.X.X.X8 25
Connection to X.X.X.X8 25 port [tcp/smtp] succeeded!


Since this host is not under your control it will make troubleshooting difficult unless you can work with them to run some further testing. If you can coordinate with them I would perform a packet capture on the instance while they attempt to connect to port 25 and port 80, it would also be helpful if they could also do a packet capture during the same time. By having a packet capture from both ends we'll have a much better idea of what is going on at the network level on both sides.

If there are no packets arriving at your instance on port 25 from their endpoint, I would request that they run a TCP based traceroute to port 25 on your instance as this should help identify how far the packets are making it.

Examples:

sudo tcpdump -w i-2ff8da60.pcap
sudo traceroute -T -p 25 YOUR-IP-HERE
telnet YOUR-IP-HERE 25


Regards,
Brandon"
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hi Brandon,

they say that they cannot do a traceroute -T because they are on a Windows machine. They say that there are two different IP addresses on the machine and they can telnet the port 25 of our instance only using one of the IP addresses and not using the other.

The IP addresses from which there is no connection to port 25 are: 91.227.208.96 and 91.227.208.117

The IP address that works properly is: 78.136.35.165

Is there any firewall on AWS side blocking connections from network 91.227.208.x?

Thanks."
Amazon EC2	"Re: Cannot receive income connections from 91.227.208.117
Hello,

Thank you for providing that information. For some versions of Windows there is tracetcp found at the following link:

http://simulatedsimian.github.io/tracetcp.html

tracetcp PUBLIC-IP-HERE:25


If they can use tracetcp please run the trace and gather the packet captures for review.

Regards,
Brandon"
Amazon EC2	"Not able to connect to Windows vm via RDP - Instance reachability failed
Hi Guys,

i'm not able to connect to my VM via RDP. The VM suddenly stopped working. Reboot did not help.
I've got this error message:
Instance reachability check failed at July 22, 2015 at 11:24:00 AM UTC+2 (59 minutes ago)

In the system log i can not see any issues:
2015/07/22 09:57:18Z: EC2 Agent: Ec2Config service v3.6.269
2015/07/22 09:57:20Z: Message: Waiting for meta-data accessibility...
2015/07/22 09:59:00Z: Still waiting for meta-data accessibility...

Is there a way to restore it? I had my data stored on the Z drive. Is there maybe a way to create a new VM and then to attached the Z drive to this VM?

Instance id: i-50698399

Thanks,

Edited by: wojtek1234 on Jul 22, 2015 3:27 AM

Edited by: wojtek1234 on Jul 22, 2015 5:26 AM"
Amazon EC2	"Re: Not able to connect to Windows vm via RDP - Instance reachability failed
is there any way to access the Z drive outside the VM? this is the Instance storage..."
Amazon EC2	"Re: Not able to connect to Windows vm via RDP - Instance reachability failed
any help?"
Amazon EC2	"Re: Not able to connect to Windows vm via RDP - Instance reachability failed
There are some troubleshooting suggestions in the following documentation. However, some procedures require that you stop your instance, and you will lose the contents of your instance store volumes when you stop the instance. 

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#metadata-unavailable

Julie"
Amazon EC2	"m3.medium CPU Usage Spikes at 100% and slows down
Hi,

I have an m3.medium instance running for nearly a year now, recently I have noticed that when the CPU Utilization spikes at 100%, it slows done. It spikes at 100% at a specific time every day and slows down during that time.

This instance is monitored on a daily basis and nothing out of the ordinary is happening. Coincidentally when CPU Utilization is 100% on CloudWatch so is the server. 

Why is that? Was working perfectly fine before. Please help....this is urgent."
Amazon EC2	"Re: m3.medium CPU Usage Spikes at 100% and slows down
Hi there,

CloudWatch measures the CPUUtilization as the percentage of allocated EC2 compute units that are currently in use on the instance. This metric identifies the processing power required to run an application upon a selected instance. So when your server CPU Utilization is high, CloudWatch metrics should also show them high.  Refer - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html 

Now, since we don't have the instance Id details, I am unable to find out the jobs that might be running on the server which is causing the utilization to go high during that time. If you could PM the Instance ID, I will be able to look into it and provide you some more insights.

Thanks,
Sarath"
Amazon EC2	"Re: m3.medium CPU Usage Spikes at 100% and slows down
I have the same problem here.

Some days in specific hours instance CPU utilization is placed in more than 90%. This causes slow server and also rejects the attempt to connect me via ssh.

My instance ID is i-96a31c69.

Edited by: nmendez_aprv on Jul 28, 2015 7:24 AM"
Amazon EC2	"Re: m3.medium CPU Usage Spikes at 100% and slows down
Sara 

Right now I'm having problems with my instance. I had to stop my web server to lower memory consumption. 

Do you have any answer to this case?

My instance ID is i-96a31c69."
Amazon EC2	"Instance Stuck in ""Stopping"" State
I have an instance that is stuck in the stopping state, please take a peek on your end and force stop, if possible:

i-6879e045"
Amazon EC2	"Re: Instance Stuck in ""Stopping"" State
Hi there, 

Sorry about that; the instance should now be stopped. 

Best Regards,
Jillian L."
Amazon EC2	"ec2 instance stuck in stopping state
Our instance i-3b5c78c4 is unresponsive and stuck in the 'stopping' state.  Please reboot this, ASAP.

Thanks!"
Amazon EC2	"Re: ec2 instance stuck in stopping state
Hi,

Unfortunately the underlying host to your instance had become degraded. However, the instance has stopped and I can see you have started it again successfully.  In future, under such situations, force stopping the instance may help stop the instance faster.

Regards,

Tonderai."
Amazon EC2	"Re: ec2 instance stuck in stopping state
I tried force stopping it, as well, but there was no indication that anything had changed, it still remained stuck at 'stopping' until eventually getting to 'stopped' 15 or 30 minutes later.

In any case, thanks for the follow up."
Amazon EC2	"Server refused our key - unable to connect....
Hi There, hoping you can help.

I have created a cluster using the same AMI (ami-c59c93f5), a RedHat Linux 6.5 AWS distribution. I was successfully connecting to all of them with Putty after creating the PPK key as instructed.
This morning I am no longer able to connect to just ONE of the instances. I can still successfully connect to others though so my PPK in putty and the other instances working fine.

I did change the root password on this one instance that I am trying to connect to but was connecting yesterday no problem.
I have attempted to login with the root@xxxxxxxx1.us-west-2.compute.amazonaws.com but not able, get the prompt to use ec2-user etc. Then generates the ""Server refused our key""

Any assistance much appreciated, dead in the water at the moment and need this instance back.

Thx, Digby."
Amazon EC2	"Re: Server refused our key - unable to connect....
Quick update:

I have connected via Putty to one of the working instances and then attempted to SSH from there over to the one instance that I am unable to connect via putty and same issue.

ec2-user@ip-xx7 ~$ ssh ec2-user@ipxxxxxxx.us-west-2.compute.internal -p 22
Permission denied (publickey,gssapi-keyex,gssapi-with-mic)."
Amazon EC2	"EC2 SQL Replication
Is anyone aware of how SQL Replication can be configured within the Amazon EC2 SQL instance?  When attempting to setup the Distribution database I receive the following error:

""SQL Server is unable to connect to server 'xxxxxx'.""

The error then refers to requiring the actual server name rather than an alias.  I am not connected to the SQL instance via an alias but rather then machine name assigned when the AMI was started.

Thanks for any answers in advance."
Amazon EC2	"Re: EC2 SQL Replication
Sounds like the same problem we are having. I look forward to hearing a solution!"
Amazon EC2	"Re: EC2 SQL Replication
I have not done this, so I am only guessing at a possible solution...See if this helps:http://support.microsoft.com/default.aspx?scid=kb;en-us;818334"
Amazon EC2	"Re: EC2 SQL Replication
I was finally able to solve the replication issue.Â  I used this SQL statement to adjust the servername value (referenced from http://www.ureader.com/message/1262443.aspx):Use MastergoSp_DropServer 'OldName'GOUse MastergoSp_Addserver 'NewName', 'local'GOOnce that was complete I was able to setup replication.Â  The NewName value had to be the NetBIOS name of the server for this to work."
Amazon EC2	"Re: EC2 SQL Replication
Make sure you restart SQL Server for changes to take affect"
Amazon EC2	"Re: EC2 SQL Replication
You need to authorize your SQL port...ec2-authorize default -p 3306You also need to make sure you GRANT REPLICATION ON....Use the internal instance address (not IP) in the grant.Should help..."
Amazon EC2	"Re: EC2 SQL Replication
just to add, the post from llewh worked for me.thank you for posting that answer!"
Amazon EC2	"Re: EC2 SQL Replication
I see a different Instance name and select @@servername gives me a different name. I connect from my desktop using the Public DNS name. Which server name should I be adding here?

If I cant add the AWS ec2 instance as subscriber, it would not work for us."
Amazon EC2	"Re: EC2 SQL Replication
Are you using MS SQL?"
Amazon EC2	"Re: EC2 SQL Replication
hello , you could help me on the issue of bank replication on Amazon with my site here ? what should I do?"
Amazon EC2	"CPU System Interrupts
Hi

I created an AMI of a Server 2012 with WEB SQL that has been running for around 2 years with no issues, I have created an upgraded instance with this image and all web applications run fine.

The issue I have is that ""System interrupts"" is using 98.9% of CPU constantly.  There are no errors or issues in the event logs.

I have researched the issue and have come back with 2 possible causes one is a hardware issue the other is a Xen issue.

If anyone has any ideas on how I can resolve this issue it would be greatly appreciated.

Thanks
Rhys"
Amazon EC2	"Packet loss on eu-west
I'm seeing significant packet loss connecting to our instances in eu-west-1c. Please see mtr output below:

$ sudo /usr/local/sbin/mtr --no-dns vpn.modelogiq.com -c 50 -r -o 'LDRS NBAW VG JMXI'
Start: Wed Jul 29 10:09:03 2015
HOST: Pauls-MacBook-Pro.local     Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1.|-- 10.68.224.1                0.0%    0    50    50   10.1   8.9  11.1  15.6    1.6  11.0   0.8  1.9  6.0 29.4
  2.|-- 81.97.255.81               0.0%    0    50    50   10.7   9.2  11.0  19.0    1.6  10.9   0.1  1.7  9.3 29.4
  3.|-- 81.96.16.205               0.0%    0    50    50   15.6  10.2  15.3  34.7    5.9  14.5   5.3  7.3 23.5 123.9
  4.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  5.|-- 212.250.14.110             0.0%    0    50    50   10.5   9.2  12.4  32.6    4.3  12.0   1.3  3.4 22.1 76.1
  6.|-- 213.104.85.86              0.0%    0    50    50   14.0   9.4  12.0  18.8    2.3  11.8   4.6  2.6  7.9 43.5
  7.|-- 176.32.106.0              22.0%   11    39    50   29.2  29.2  31.7  36.3    1.8  31.7   3.6  1.8  6.3 25.6
  8.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  9.|-- 176.32.106.14              0.0%    0    50    50   29.8  26.2  31.0  42.8    2.9  30.8   1.8  2.2 13.6 28.5
 10.|-- 178.236.0.79               0.0%    0    50    50   27.3  21.4  27.0  53.8    5.1  26.7   5.9  4.1 27.7 62.3
 11.|-- 178.236.0.126             78.0%   39    11    50   26.6  21.4  24.7  34.6    3.6  24.5   5.1  3.4 13.2 32.3
 12.|-- 178.236.1.19              80.0%   40    10    50   29.1  21.0  27.1  31.9    3.5  26.9   2.8  3.0  7.1 21.4
 13.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0


Please can someone take a look at this?"
Amazon EC2	"SELinux on Amazon Linux AMI
I recently enabled SELinux on Amazon Linux 2015.03 (kernel 3.14.48-33.39.amzn1.x86_64). All went well, except for some SELinux AVC's logging in audit.log, pertaining to dmesg, nrpe, syslog, /dev/urandom, and shutdown.

nrpe
type=AVC msg=audit(1438096501.569:11): avc:  denied  { dac_override } for  pid=2135 comm=""nrpe"" capability=1  scontext=system_u:system_r:nrpe_t:s0 tcontext=system_u:system_r:nrpe_t:s0 tclass=capability


I resolved this using a custom policy, but should be incorporated into the distro policy I guess:
require {
        type nrpe_t;
        class capability dac_override;
}
Â 
#============= nrpe_t ==============
allow nrpe_t self:capability dac_override;


dmesg
[    2.688701] audit: type=1400 audit(1438096489.753:3): avc:  denied  { getattr } for  pid=1393 comm=""restorecon"" name=""/"" dev=""devtmpfs"" ino=3 scontext=system_u:system_r:setfiles_t:s0 tcontext=system_u:object_r:device_t:s0 tclass=filesystem
[    5.861161] audit: type=1400 audit(1438096492.925:4): avc:  denied  { getattr } for  pid=1658 comm=""restorecon"" name=""/"" dev=""devpts"" ino=1 scontext=system_u:system_r:setfiles_t:s0 tcontext=system_u:object_r:devpts_t:s0 tclass=filesystem
[    6.002397] audit: type=1400 audit(1438096493.065:5): avc:  denied  { getattr } for  pid=1677 comm=""restorecon"" name=""/"" dev=""proc"" ino=1 scontext=system_u:system_r:setfiles_t:s0 tcontext=system_u:object_r:proc_t:s0 tclass=filesystem
[    6.012609] audit: type=1400 audit(1438096493.077:6): avc:  denied  { getattr } for  pid=1677 comm=""restorecon"" name=""/"" dev=""proc"" ino=1 scontext=system_u:system_r:setfiles_t:s0 tcontext=system_u:object_r:proc_t:s0 tclass=filesystem
[    6.156562] audit: type=1400 audit(1438096493.221:7): avc:  denied  { read } for  pid=1716 comm=""dmesg"" name=""kmsg"" dev=""devtmpfs"" ino=5428 scontext=system_u:system_r:dmesg_t:s0 tcontext=system_u:object_r:kmsg_device_t:s0 tclass=chr_file


Custom policy to fix this:
require {
        type devpts_t;
        type kmsg_device_t;
        type proc_t;
        type dmesg_t;
        type device_t;
        type setfiles_t;
        class chr_file read;
        class filesystem getattr;
}
Â 
#============= dmesg_t ==============
allow dmesg_t kmsg_device_t:chr_file read;
Â 
#============= setfiles_t ==============
allow setfiles_t device_t:filesystem getattr;
allow setfiles_t devpts_t:filesystem getattr;
allow setfiles_t proc_t:filesystem getattr;


syslog
type=AVC msg=audit(1438096496.421:10): avc:  denied  { search } for  pid=1954 comm=72733A6D61696E20513A526567 name=""vm"" dev=""proc"" ino=9334 scontext=system_u:system_r:syslogd_t:s0 tcontext=system_u:object_r:sysctl_vm_t:s0 tclass=dir


This one is again easily resolved using a custom policy:
require {
        type syslogd_t;
        type sysctl_vm_t;
        class dir search;
}
Â 
#============= syslogd_t ==============
allow syslogd_t sysctl_vm_t:dir search;


/dev/urandom
Resolved by allowing global access:
# Make sure that /dev/urandom can be read by all domains
setsebool -P global_ssp on


shutdown
A whole bunch of devices can't be getattr'ed by the shutdown binary. Resolved by:
require {
        type loop_control_device_t;
        type vhost_device_t;
        type fuse_device_t;
        type xserver_misc_device_t;
        type devlog_t;
        type ptmx_t;
        type proc_kcore_t;
        type mouse_device_t;
        type clock_device_t;
        type shutdown_t;
        type device_t;
        type ppp_device_t;
        type fixed_disk_device_t;
        type autofs_device_t;
        type memory_device_t;
        type lvm_control_t;
        type random_device_t;
        type kmsg_device_t;
        type netcontrol_device_t;
        class sock_file getattr;
        class blk_file getattr;
        class file getattr;
        class chr_file getattr;
}
Â 
#============= shutdown_t ==============
allow shutdown_t autofs_device_t:chr_file getattr;
allow shutdown_t clock_device_t:chr_file getattr;
allow shutdown_t device_t:chr_file getattr;
allow shutdown_t devlog_t:sock_file getattr;
allow shutdown_t fixed_disk_device_t:blk_file getattr;
allow shutdown_t fuse_device_t:chr_file getattr;
allow shutdown_t kmsg_device_t:chr_file getattr;
allow shutdown_t loop_control_device_t:chr_file getattr;
allow shutdown_t lvm_control_t:chr_file getattr;
allow shutdown_t memory_device_t:chr_file getattr;
allow shutdown_t mouse_device_t:chr_file getattr;
allow shutdown_t netcontrol_device_t:chr_file getattr;
allow shutdown_t ppp_device_t:chr_file getattr;
allow shutdown_t proc_kcore_t:file getattr;
allow shutdown_t ptmx_t:chr_file getattr;
allow shutdown_t random_device_t:chr_file getattr;
allow shutdown_t vhost_device_t:chr_file getattr;
allow shutdown_t xserver_misc_device_t:chr_file getattr;


Conclusion
I am not a SELinux expert, nor do I know if (some of the) abovementioned AVC's are a result of the hypervisor virtualization architecture used, but I just wanted you to know. Maybe you can incorporate some of the (alleged :-D) fixes into the distro.

If you need more info, please let me know!

Edited by: linux_marc on Jul 29, 2015 1:16 AM"
Amazon EC2	"Jenkins - get AWS user
Hi,

I have a Jenkins job that has AWS credentials.

I want to find out from a Jenkins called script what that user & account it is.

I did this:
aws iam get-user
A client error (AccessDenied) occurred when calling the GetUser operation....

Please:
1. Is this the correct command to get user id?
2. If so, how do I fix this problem?"
Amazon EC2	"10 minutes gap on metrics in both Frankfurt and Ireland
Hello

Could you please explain the gap on ALL metrics graphs 28 Jul 17:50-18:10 in Europe.

I observed the gap at the same time in both Ireland and Frankfurt

Screenshot from Frankfurt attached"
Amazon EC2	"Three wordpress sites running on  a m1.small instance one is non responsive
I'm stuck I have three wordpress sites running on a m1.small instance, the sites don't get a lot of traffic. Since last week one of the websites is running really slow and it takes over a minute for pages to load. the other two sites are fine.  I tried everything and cant get it back to normal. I replaced the .htaccess file and still not working properly.  The pages load but it takes over a minute, when it used to take 10 seconds to load. 

Is there any best practices in trouble shooting this issue ?"
Amazon EC2	"Re: Three wordpress sites running on  a m1.small instance one is non responsive
Hi  swelldesigns

Regarding your wordpress hosting, my suggestion would be to have a look first at the apache access logs. Usually this is stored in /var/log/apache2/access.log.
The access logs should tell you which URL(s) is the most called.

A common issue that can be diagnosed using the method above is when robots are calling the ""xmlrpc.php"". Such script which is used for (mostly) inter-site communication can consume a lot of CPU.

A possible solution is to prevent access to this specific files. My suggestion would be to implement a .htaccess rule to prevent the access, or to remove permissions on the file itself.

In addition to the above, you may also want to check the CPU load using ""top"".
This will tell you which process is consuming most of the CPU. It may be possible that other processes may be consuming CPU.

Hope this helps."
Amazon EC2	"Re: Three wordpress sites running on  a m1.small instance one is non responsive
Thanks  Aurelien

I should have mentioned that total server resource is never higher than 20%, and I do have files locked down via the htaccess file. 

I'm seeing that the apache access log is littered with this line

GET / HTTP/1.1"" 200 9716 ""-"" ""Amazon Route 53 Health Check Service; ref:fbb6bf9e-adf6-4980-b738-ae77873f68be; report http://amzn.to/1vsZADi""

I filled out the form to Stop unwanted Amazon Route 53 health checks. Do you know what this is? it's coming from different addresses."
Amazon EC2	"CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Using MXToolbox, a lookup for our load balancer LB2-206376517.us-east-1.elb.amazonaws.com returns 2 A records:

174.129.27.32
184.73.206.114

184.73.206.114 is the correct IP for our load balancer. 174.129.27.32 is someone elses server or load balancer at Amazon, and is not a server under our control.

This is an urgent issue because we have no control over the AWS DNS servers and thus, cannot fix the issue. Google is incorrectly indexing our content under the domain of the other website. We'd normally just create a new load balancer but the SSL certs installed on the LB make this extremely complicated. We've temporarily pointed our A record to 184.73.206.114 until the issue can be corrected on your end.

Please let me know as soon as possible on this.  Thank you.

Kevin"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Can someone please take a look at this request? We're now into the third day with this configuration issue that we cannot correct on our own and no response from Amazon. Some acknowledgement that someone is or will be looking into the issue as soon as possible would be very helpful and appreciated."
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Hello,

Your ELB has 2 IP addresses because you have 2 subnets defined.  Both IPs are your ELB, but one of them has no instances behind it.  If you go into the AWS Console->EC2->Load Balancers, then right-click the load balancer and select ""Edit Subnets"".  You then need to remove the subnet that you're not using from the list and hit Save.

Regards,

Matt W."
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
I appreciate the response. I'm not aware of any other subnets being setup on the load balancer though. When I right-click the load balancer, my only options are Delete, Edit Health Check, Edit Availability zones, Edit Instances, and Edit Listeners (screenshot attached). I don't see anything allowing me to edit a subnet. I also checked each of the items in the menu to see if any had an option about a subnet and didn't see that either. Should I be looking somewhere else?"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
We are still waiting for help on this request. The menu option that was suggested we use to resolve the issue on the load balancer doesn't exist. Please see my previous message for the screenshot. Please help us get this issue resolved. We are now on day 4 waiting for help on this from Amazon and are no further along than we were last Friday. Thank you."
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
The screen shot is for a load balancer for EC2-Classic, so you can change the Availability Zones rather than the subnets. The ""Add and Remove Availability Zones"" dialog box shows you which of your Availability Zones have instances and which are selected for the load balancer. 

Julie"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
All this does is allow us to change zones for our instances, which is not the problem. Both of our instances are running only one zone us-east-1a. Again, the problem is that the actual load balancer itself named LB2-206376517.us-east-1.elb.amazonaws.com resolves to 2 A records from Amazon's DNS server which is wrong:

174.129.27.32
184.73.206.114

174.129.27.32 is not an instance and not in our subnet. 184.73.206.114 is the IP of our load balancer

Please see the screenshot."
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
DAY 5 OF OUR UNRESOLVED ISSUE

I'm asking that this issue be escalated to someone who has a few minutes to actually read what the problem is we are having and fix, or help us fix, the issue.  The two responses we've received so far from Amazon support have not helped get us any closer to a resolution to our problem."
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Coming at it from a different direction -- what about your SSL configuration prevents you from switching to a different ELB?

Additionally, I get a 'partstat' website from both of those IPs.  It certainly looks like they are pointed to the same place. Both IPs have 'X-AspNet-Version: 4.0.30319' running behind it and return a 23472 byte response.

Edited by: Jason H. Martin on Jul 28, 2015 7:42 AM"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Hi Jason - 

I appreciate the time you took to respond to this thread.

The server residing at 174.xxx.xxx.xxx is owned by someone else and hosted at Amazon. We have no control over that server and it does not match an IP address we've ever had at Amazon. Yet somehow, Amazon's DNS lists this as a second IP address for our load balancer for reasons unknown to us and we see no means of removing it short of setting up a new load balancer. Installing SSL certs on the load balancer has been problematic for us for a myriad of reasons, so we were trying to avoid having to redo that if at all possible, although that likely would solve the issue. We just had no idea we'd be on day 5 of this problem with no resolution. Hindsight I suppose.

Adding to the mystery is the fact that on the foreign server, the www CNAME record correctly resolves to their website (looks like a clothing website of some sort). Yet entering the canonical name of the site displays our website via some sort of URL cloaking.  We've confirmed the website shown when entering their URL is our live site, and not a copy of it, which is what you saw as well with your test.

As I mentioned, we have temporarily mitigated part of the issue by pointing our A record to the 184.xxx.xxx.xxx IP address of the load balancer to ensure the correct IP is used for DNS resolution. That of course will break if Amazon switches our load balancer to a different IP address which say they can do at any time without warning.

The bottom line is we are pretty certain something went bump in the night at Amazon and only Amazon is going to be able to fix the issue. It's been very frustrating that of the two responses we've received from Amazon in the past 5 days that neither addresses the problem.

Kevin"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Hello Kevin,

I sincerely apologize for our delay in response, and frustration this issue has caused you. To better assist you, I engaged the team to investigate this issue in which you are experiencing. The team pushed out a fix and replaced the ELB node 174.129.27.32 to a new ELB node.  I understand you have temporarily pointed your A record to 184.73.206.114. Kindly point this record back to the ELB DNS name. 

If you encounter any further issues, please do let us know at your earliest convenience. We would be glad to assist you.

Regards,
Mohsin"
Amazon EC2	"Re: CRITICAL - LB2-206376517 resolves to 2 different IP addresses
Thank you for escalating the matter and getting the A record for 174.129.27.32 unassigned from our LB. I'll ask the person that handles our DNS to point our A record back to the LB CNAME. Am I to assume that the new IP of 107.20.253.7 that's been assigned to our LB is simply a failover LB and has no chance of being associated with someone else's LB or server? Right now, typing that new IP into a browser brings up our website as it should. I just want to make sure we have no chance of the issue we ran into happening again. I'd also like to better understand what caused this issue to occur in the first place to see if we can avoid it happening ever again.

Now to the consequence of this issue for us. 174.129.27.32 is the resolved IP when navigating to fellipekrein.com.br. This is not our domain and we have no knowledge of it or who owns it. Yet navigating to that domain brings up our website, Partstat. For some reason Google has assigned 6-7 million of our pages to this other domain, which makes addressing the underlying cause very important for us. This morning I put a global 301 redirect in place to try to get Google to move these pages back under our Partstat domain. Prior to the redirect change, typing fellipekrein.com.br into a browser would show our live website while showing their URL in the address bar (URL cloaking?). We've reached out to the website owner per WHOIS but have not received a response. We don't believe this is something intentional on their part, but instead, yet another issue with the configuration of the load balancers and/or servers. Are you able to do something to ensure that their load balancer at Amazon for their domain is NOT pointing to our Partstat instances?

Thank you,

Kevin"
Amazon EC2	"Instance isn't stopping after Force Stop...
Instance i-827e94fa has been stopping for over half an hour, with multiple Force Stops issued. Can someone take a look at this for us?

Thanks,
M."
Amazon EC2	"Re: Instance isn't stopping after Force Stop...
Instance finally stopped, after about an hour."
Amazon EC2	"Performance penalty if using 2 availably zones?
We have us-gov-west-1a and us-gov-west-1b available for use.

I would assume that we do not want to spread servers across these 2 
availably zones as that would increase network latencies when pushing
data between them?   IE:  All primary servers will have faster access times
when pushing data amongst servers residing on the same availably zone.

I would further suppose that all primary servers want to be on one
availably zone exclusively (say us-gov-west-1a) and only place ""fail-over"" 
nodes on the other availably zone (say us-gov-west-1b)."
Amazon EC2	"Re: Performance penalty if using 2 availably zones?
Hello, 

Latency between AZs is designed to be as slight as possible. With that being said you will likely get better response times within the same AZ. My own testing with pinging between some T2.micro instances shows that:

Instances in the same AZ get 0.4 - 0.6ms response times
Instances in different AZ get 1.2 - 1.3ms response times

You can read more on Availability Zone concepts here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-regions-availability-zones

Regards,
Nick"
Amazon EC2	"""Server refused our key"" popping up one day after successful connection
Hi,

I set up several micro instances and use the same key pair for all of them. Each time I set up a new instance I can connect to it successfully with Putty. I generated a .ppk key with Puttygen as suggested and I use ec2-xx-xx-xx-xx.compute-1.amazonaws.com as a hostname and ubuntu as a username. 

I can always connect without any problems after generating a new instance. The problem is that if I try to connect to the same instance a day later or any time after that, I get ""Server refused our key"" and ""Disconnected: No supported authentication methods available (server sent: publickey)"".

Each time, I don't change any of the settings that got me successfully connected the day before, except for updating the host name to the current ec2-xx-xx-xx-xx.compute-1.amazonaws.com. If I create a new instance with the same key pair at that moment I can connect to it right away but the new instance will also stop working about a day later and so on.

The same is true for the Java client offered through the AWS dashboard. I can connect via the Java client after creating a new instance but not any more after a day or so. 

Thanks a lot for any advice on how to make this work!"
Amazon EC2	"Re: ""Server refused our key"" popping up one day after successful connection
Hello,

Please verify that you are connecting to the EC2 instance with the appropriate user name for your AMI.

I have taken a look at the account and it appears that you are using AMI ""ami-bc5877d4"" -
Ready to run RStudio server for statistical computation (www.louisaslett.com).

The username and password for this AMI is:

Username: rstudio
Password: rstudio

More information can be found here:

http://thecloudmarket.com/image/ami-bc5877d4--rstudio-0-98-1103-r-3-1-3-ubuntu-14-04-lts-64bit
http://www.louisaslett.com/RStudio_AMI/

Best Regards, 

Ahmed H."
Amazon EC2	"Re: ""Server refused our key"" popping up one day after successful connection
Thank you very much, Ahmed, for your quick response. 

Yes, this is the AMI I'm using. I get exactly the same response though if I use the username rstudio instead of ubuntu. 

Also, I was able to successfully and repeatedly connect with the username ubuntu right after creating the instance. It's really only on the next day that I can't connect anymore with the same settings/configuration (and with neither rstudio nor ubuntu username). 

I can connect to the instance via port 80 and a browser at any time, it's just that I want to upload files and connect via SSH which doesn't work. 

I've looked at the two links that you provided but I didn't find any hints on what could cause my problem. 

Any other ideas? Thanks.

Edited by: Amazon Customer on Apr 9, 2015 1:22 PM"
Amazon EC2	"Re: ""Server refused our key"" popping up one day after successful connection
I have this exact same problem - I get everything set up and running, and then I can't connect to the server. In Putty it's ""Server refused our key"". In Cyberduck it's ""Exhausted available authentication methods"". This seems to be an AWS issue ..."
Amazon EC2	"Required policy rules to get the password for an instance
Hi,

I have a user and I assign the following policy to him.
{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Effect"": ""Allow"",
            ""Action"": [
                ""ec2:*""
            ],
            ""Resource"": [
                ""arn:aws:ec2:*:*:instance/i-abc12345""
            ]
        },
        {
            ""Effect"": ""Allow"",
            ""Action"": ""ec2:Describe*"",
            ""Resource"": ""*""
        },
        {
            ""Effect"": ""Allow"",
            ""Action"": [
                ""cloudwatch:ListMetrics"",
                ""cloudwatch:GetMetricStatistics"",
                ""cloudwatch:Describe*""
            ],
            ""Resource"": ""*""
        }
    ]
}


Whenever he wants to get the windows instance password, he gets an error message indicating
Password not available yet.
Please wait at least 4 minutes after launching an instance before trying to retrieve the auto-generated password.
The screenshot of the error message is attached.

I wonder what's the required policy for enabling a user to get instance password? 

Users in administrator group with full access to account can get the password for the same instance without any problem.


Thanks."
Amazon EC2	"Re: Required policy rules to get the password for an instance
Hello, 

Thank you for posting to the AWS Forums. 

""GetPasswordData"" is the API Call/Action you're looking for:
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_GetPasswordData.html

Regards,
Nick"
Amazon EC2	"IIS website bindings to public IP does not work
I have an EC2 instance with Windows Server 2008 R2, IIS. I have deployed a website on IIS. If I edit bindings on the website and mention my public IP address and when I try to browse using the public ip address it returns bad request, does any body know the reason?

If I bind the same website to private IP everything works fine.

I appreciate your time."
Amazon EC2	"Re: IIS website bindings to public IP does not work
Hello, 

If you look through your OS settings you'll notice no mention of the EIP or public IP.  The OS itself is generally not aware of the public IP in use, and handles all outbound/inbound connectivity through it's private IP. You can read more on public IP use here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses

Regards,
Nick"
Amazon EC2	"instance won't force stop
my instance will not stop, even when i try to do a ""force"" stop."
Amazon EC2	"Re: instance won't force stop
Hi,

I apologize for the issue you are currently experiencing. To better assist you, can you kindly provide the instance-ID in question?

Look forward to your reply,
Mohsin"
Amazon EC2	"Announcing: Kaldi/TEDLIUM Automatic Speech Recognition, Offline Transcriber
Please feel free to try our (Speech Recognition Virtual Kitchen) AMI that contains:
 * a full installation of the Kaldi Automatic Speech Recognition toolkit ( http://kaldi.sourceforge.net/ )
 * the full TED-LIUM training data set ( http://www-lium.univ-lemans.fr/en/content/ted-lium-corpus )
 * fully trained acoustic and language models
 * the ALUMAE Kaldi Offline Transcriber ( https://github.com/alumae/kaldi-offline-transcriber )
 * Tutorial / Instructions ( http://speechkitchen.org/kaldi-tedlium-offline-transcriber-cloud-instance/ )

AMI IDs:
https://console.aws.amazon.com/ec2/v2/home?region=us-west-2#LaunchInstanceWizard:ami=ami-c5595cf5
https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#LaunchInstanceWizard:ami=ami-69a85102

Please visit the  Speech Recognition Virtual Kitchen for more information.
-enjoy!

Edited by: E. Riebling on Jul 28, 2015 10:16 AM"
Amazon EC2	"Dumping all instance information and creating a wiki page for each instance
Hello,

I was wondering how to grab all the information associated with an instance, Hostname, IP, ect. and dump all this information into a wiki. We have several instances already up and would like to create wiki pages for all of them. What would be a good way to automate this task for all the instances? 

Thank You."
Amazon EC2	"Novice Question about MS Office on EC2
I do almost all my work on a Linux platform, except that I need MS Word for document compatibility with the rest of the world. The Office alternatives that run on Linux (Openoffice, LibreOffice) don't produce .doc or .docx files that are completely compatible with MS Office. I would be happy to buy MS Office for Linux if it were available, but it isn't.

A solution that has occurred to me is to create an EC2 instance of WIndows, install MS Office on it, and run this instance ONLY when I need Word.

So here is my question: Is this feasible? When I searched the EC2 forum for ""MS Office"" I saw problems--about licensing and installation. But that's natural: people are going to post about problems, but aren't going to post when they encounter no problems.

What I would like to do is this:

1) Set up a single (small) EC2 instance of WIndows that I run only when I need MS Word.
2) Install MS Office on that instance, and not have to re-install it or run into any licensing or other problems whenever I run that instance again to use Word.
3) Access that Windows instance with some type of terminal from my Linux platform, that allows me to view its Desktop, open Word and edit documents, and save the documents either by copying them to S3 or back to my own Linux machine.

Is the above a feasible scenario or can I expect issues?

If it's feasible, it would be great if someone were to point me to the necessary documentation and/or threads about how to accomplish the above steps, but my main question is whether I should pursue this at all--I would rather not if I'm just going to be pulling my hair out because of problems.

Thanks very much."
Amazon EC2	"Re: Novice Question about MS Office on EC2
1. Go to launch instance, classiss wizard, select Windows Ami, select request spot instances. 
1.1 Check historical pricing for instances and enter your bid at about +10% for typical current prices. In setup process create key pairs you would need them later and in security group open port for Remote Desktop access.

1.2 Click on instance and select get win password. Login to your instance (# apt-get install rdesktop, rdesktop ...(insert amazon instance public dns address found at the top of the instance info bottom screen) and install MS Office. 

1.3 Go to EC2 control panel  click on instance and select instant actions  -create AMI. Then on next screen click yes. Enter a memorable AMI description. That AMI is your Windows Server + Office launcher. Once its ready, go to  step 1. this time select newly created AMI. Access server as per step 1.2. If Office is there and working great. 

1.4 Go to instances and terminate both of them, delete assosiated EBS volumes."
Amazon EC2	"Re: Novice Question about MS Office on EC2
Thank you, alexft. I will give this a try.

richa7

Edited by: richa7 on Sep 8, 2012 11:35 AM"
Amazon EC2	"Re: Novice Question about MS Office on EC2
Hey Richa7,

How did this work out for you?  I'm trying to do something similar, only with Excel.

Jimmy"
Amazon EC2	"Connectivity Still Down
My test instance in us-east-1e was totally unreachable, even via SSH remotely or AWS console until about 15 minutes ago - that's working now, but the site itself is still ""Connection Reset"" if you try to connect to it's public IP address - I hope you guys are working on this."
Amazon EC2	"Re: Connectivity Still Down
I had to start httpd again after the console became available - all good now."
Amazon EC2	"Please recreate default VPC
Hello,

Will someone please recreate my default VPC in region Ireland. Account ID: 868592549717, subnet 172.16.0.0/16.

Many thanks,
Gary"
Amazon EC2	"Re: Please recreate default VPC
Hello,
thank you for contacting us, I'd like to confirm that I recreated a new default VPC for your account in the eu-west-1 and us-east-1 regions. Their ids are
eu-west-1 vpc-addc54c8
us-east-1 vpc-04a84c60

Please let us know if you need any further information.
Regards,
Alessandro"
Amazon EC2	"Re: Please recreate default VPC
Thank you.

Gary"
Amazon EC2	"Connectivity issue on US WEST (N. California)
Hello.

I have 2 EC2 instances on N. California, a c4.xlarge (i-56f3579d) and a t2.medium (i-8f1bc644). This morning the c4.xlarge instance fired an ""Instance Status Checks"" warning, and we lost access to sites and emails. I rebooted the instance through the console, the warning was solved, but I am still experiencing connectivity problems in this particular instance (I can connect to the other normally in the same region).

While I can connect to SSH in this EC2 instance, it is very very slow, I can't open any site nor the control panel. 
I'm trying to connect from Brazil, but I have a VPS on Digital Ocean that can't reach the instance either. Ping and traceroute seems ok, compared to the results I have with the t2.medium instance.

Anyone experiencing the same behavior? 
Heres is my ping an traceroute from Digital Ocean (firewall on both sides are off):

PING x.x.x.x (x.x.x.x) 56(84) bytes of data.
64 bytes from x.x.x.x: icmp_seq=1 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=2 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=3 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=4 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=5 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=6 ttl=49 time=73.8 ms
64 bytes from x.x.x.x: icmp_seq=7 ttl=49 time=73.9 ms
64 bytes from x.x.x.x: icmp_seq=8 ttl=49 time=73.8 ms
64 bytes from x.x.x.x: icmp_seq=10 ttl=49 time=73.8 ms






x.x.x.x ping statistics ---





10 packets transmitted, 9 received, 10% packet loss, time 10008ms
rtt min/avg/max/mdev = 73.834/73.914/73.984/0.187 ms



 1  107.170.36.254 (107.170.36.254)  4.397 ms  4.357 ms  4.314 ms
 2  192.241.164.237 (192.241.164.237)  0.618 ms  1.288 ms 192.241.164.233 (192.241.164.233)  0.261 ms
 3  xe-0-3-0-21.r05.nycmny01.us.bb.gin.ntt.net (129.250.203.85)  0.808 ms xe-0-4-0-10.r06.nycmny01.us.bb.gin.ntt.net (129.250.204.105)  0.674 ms xe-0-3-0-21.r05.nycmny01.us.bb.gin.ntt.net (129.250.203.85)  0.722 ms
 4  * ae-2.r23.nycmny01.us.bb.gin.ntt.net (129.250.4.148)  0.613 ms  0.579 ms
 5  * ae-9.r22.asbnva02.us.bb.gin.ntt.net (129.250.2.149)  6.487 ms *
 6  ae-0.r20.sttlwa01.us.bb.gin.ntt.net (129.250.2.53)  124.001 ms ae-0.r23.asbnva02.us.bb.gin.ntt.net (129.250.3.85)  7.239 ms  7.226 ms
 7  ae-10.r22.snjsca04.us.bb.gin.ntt.net (129.250.6.237)  68.984 ms ae-3.r23.snjsca04.us.bb.gin.ntt.net (129.250.3.124)  89.147 ms ae-10.r22.snjsca04.us.bb.gin.ntt.net (129.250.6.237)  74.672 ms
 8  ae-41.r01.snjsca04.us.bb.gin.ntt.net (129.250.4.24)  82.703 ms ae-36.r02.snjsca04.us.bb.gin.ntt.net (129.250.5.242)  82.362 ms ae-23.r01.snjsca04.us.bb.gin.ntt.net (129.250.4.4)  73.605 ms
 9  ae-4.r05.plalca01.us.bb.gin.ntt.net (129.250.5.32)  88.901 ms  90.120 ms ae-4.r06.plalca01.us.bb.gin.ntt.net (129.250.4.118)  84.130 ms
10  ae-1.amazon.plalca01.us.bb.gin.ntt.net (140.174.21.182)  84.797 ms ae-0.amazon.plalca01.us.bb.gin.ntt.net (129.250.194.122)  88.495 ms  81.433 ms
11  * * 205.251.229.8 (205.251.229.8)  89.939 ms
12  72.21.222.220 (72.21.222.220)  83.481 ms 205.251.230.120 (205.251.230.120)  77.666 ms *
13  72.21.222.220 (72.21.222.220)  79.958 ms 205.251.230.120 (205.251.230.120)  77.954 ms  87.183 ms
14  * * *
15  * * *
16  myhostname (x.x.x.x)  73.784 ms  84.589 ms *"
Amazon EC2	"Re: Connectivity issue on US WEST (N. California)
Additional information.
I did not test it before, but my t2.medium instance (i-8f1bc644) in the same region can't access the c4.xlarge instance (i-56f3579d) too.
The download between the machines is limited to 1KB/s or less, and hangs after the first kbytes. I am unable to download a single index file of 42KB size"
Amazon EC2	"instances under  load balancer is showing status as ""Out of service""
Hi ,
I am  trying to configure a load balancer with two EC2 instances (RHEL )
After configuring the under load balancer, the two instances status is shown as out of service.
just for note : We didn't associate any elastic ip address to  ec2 instances
the DnS name of load balancer is  AERP-LoadBalancer-1553125940.us-east-1.elb.amazonaws.com
the public ips of two instances are 52.2.208.84 and 54.152.103.232

Plan : I am planning to run tomcat on both the instances and use loadbalancer of EC2
I am unable to do that because of the above issue.(screenshot attached)
Please help me on this issue"
Amazon EC2	"Re: instances under  load balancer is showing status as ""Out of service""
Hi,

Take a look at this link which may help you troubleshoot the problem you are having:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-healthcheck.html

Cheers,

Stooby..."
Amazon EC2	"Official AMI changes and updates
I have a cloudformation recipe that spins up an instance. The AMI used is a public Amazon one:

ami-b92a4ace

The problem is, new AMIs are released every couple of months, and the old AMI is retired, so that my Cloudformation recipes will eventually be unable to find that AMI and stop working.

What is the best way to handle this changing of the AMI? Is there a process where Amazon can notify of AMI updates? Is there a reliable way to send a query containing the old ami ID, and get the updated AMI ID back?"
Amazon EC2	"Re: Official AMI changes and updates
Hi,

Although not a direct answer to your question, but you could use the Public AWS AMI and then immediately create your own AMI from that image.  That way your cloudformation template will never fail as you will not be changing your own AMI ID of your new image? 

This doesnt however resolve the question of you wanting to use the latest ones automatically.

Cheers,

Stooby..."
Amazon EC2	"Re: Official AMI changes and updates
Hi,

I think what you are asking for is covered within the  Windows AMI Version History page .

There we keep a list of all the different versions as well as how to be notified when AMIs are added or deprecated.

Regards,"
Amazon EC2	"Re: Official AMI changes and updates
Hi Jonathan,

Many thanks for this. That's helpful and will make it a little easier to keep track of the AMI updates. I've got a couple of further questions! Hope that's okay:


It sounds like this is quite a manual process. Is there any way to use this in Cloudformation, short of manually redoing the recipes with the new AMI ID each time we get a notification of an update? For example, can I somehow specify the family name of the AMI (WINDOWS_2012R2_BASE) rather than an AMI ID which will become obsolete? 


I guess if that's not possible, the best approach will be to parameterise the AMI name and write scripts to launch Cloudformation after determining the new AMI ID programatically.    Big problem with this is that the Get-Ec2ImageByName call seems to be powershell-only, and we launch our CloudFormation instances from Linux or Mac workstations... Is there a cross-platform way of doing this?


Maybe I'm missing something - but this command doesn't seem to return the Core versions of these operating system versions! Most of our Cloudformation recipes reference the core versions of the AMIs. How can we work out what the AMI IDs for these are when they change? Maybe I've overlooked something with this command, but surely it must have to return all Windows server AMIs, not just the full graphical environment ones?


Thanks in advanced,

Tom"
Amazon EC2	"Re: Official AMI changes and updates
Hi Tom,

What about incorporating AWS Lambda with your CFN Template for the AMI lookup?

See the below link for a sample walkthrough of how to do this.
http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/walkthrough-custom-resources-lambda-lookup-amiids.html

Regards,"
Amazon EC2	"Re: Official AMI changes and updates
Hi Jonathan,

Many thanks --- that's a great idea. I have already been using Lambda a lot for other functions, but hadn't realised it would be possible to do this for AMI lookups. I'll have a play with this...

Tom"
Amazon EC2	"Re: Official AMI changes and updates
I'm just confirming that I've integrated this Lambda function and it works perfectly. The tutorial is based on getting the AMI for Amazon Linux, so I've changed the name pattern it's looking for to the following:

Windows_Server-2012-R2_RTM-English-64Bit-Base-*

And made a few other tweaks. This works very well. Thanks for the help!

Tom"
Amazon EC2	"Communication between ec2 instances (N. virginia) and S3 suddenly very slow
Hi, for the last hour we are getting too many timeouts while reading/writing objects to S3. Is everything working normally ?"
Amazon EC2	"node very slow recently
Hi aws support,

We have a micro nodes i-35076bf6 which becomes very slow sometime recently. Sometimes page may take forever to load, including the login page. But there is nothing reported on management console. Is the node running all right?

Best Regards
-JunC"
Amazon EC2	"Re: node very slow recently
Hi there, 

Looking at the instance in Cloudwatch, I can see that you are spiking up and hitting 100% CPU usage at times. This would definitely affect your performance of the instance. 

Take a look at the CloudWatch CPU metrics of this instance from your AWS console, and see if the times that you have experienced these issues, matches with the CPU spikes that are showing on the CloudWatch graphs. 

The underlying host of the instance is confirmed healthy, and not experiencing any issues. 

I would also recommend that you take a look at your windows Event Viewer logs, for any errors or warnings that could be related to the CPU spikes. 

Kind regards, 
Belynda"
Amazon EC2	"Re: node very slow recently
The slow response happens when I am sure there is no one else is using it and it takes  long time for login page to show up."
Amazon EC2	"Re: node very slow recently
Please see attached for the error when opening windows event viewer. The server was restarted to clear up and it is very slow. I am the only user on the server right now. We used to have a very consistent response time (fairly responsive) but now we are experiencing difficulty to even make a connection. If there is no problem with the server, is it a network issue?"
Amazon EC2	"Re: node very slow recently
here is a snap shot of CPU utilization of last 12 hours. It is constantly at around 12% which is odd. Our app is a web application and there should be no CPU utilization if there is no traffic. There are only 3 users for this app and there is no reason for the server CPU utilization stays at 12%. Please look into this. Thanks."
Amazon EC2	"Re: node very slow recently
Here is another error when opening event viewer."
Amazon EC2	"Re: node very slow recently
Hello,
thank you for getting back to us.

I reviewed your i-35076bf6 instance details and noticed it is a t2.micro one.
Please let my clarify that t2 instance types use a CPU credit model [1]

When a T2 instance uses fewer CPU resources than its base performance level allows (such as when it is idle), the unused CPU credits (or the difference between what was earned and what was spent) are stored in the credit balance for up to 24 hours, building CPU credits for bursting. When your T2 instance requires more CPU resources than its base performance level allows, it uses credits from the CPU credit balance to burst up to 100% utilization. The more credits your T2 instance has for CPU resources, the more time it can burst beyond its base performance level when more performance is needed.

Having a look at this Cloudwatch metric, it seems that your instance exhausted its CPU Credit balance and therefore performances dropped to baseline ones, even if there are no logged in users or much activity on it.
https://console.aws.amazon.com/cloudwatch/home?region=us-west-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUCreditBalance~2015-07-14T12%3A25%3A10Z~2015-07-28T12%3A25%3A10Z~Average~900~InstanceId~i-35076bf6

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits

Please let us know if you have any further issues.
Regards,
Alessandro"
Amazon EC2	"EC2 Kernel Error - instance not connected to IP address
Instance = i-d03befa0 

four times within the last 2 weeks all our sites on a server have gone down. It appears that there might be some kernel error on the AWS end rather than something in our specific ec2."
Amazon EC2	"Re: EC2 Kernel Error - instance not connected to IP address
This is a bug in the kernel running within your instance, not a problem with AWS. It looks like the same problem reported here: https://bugzilla.redhat.com/show_bug.cgi?id=249093

You're running a version of the Linux kernel that was built more than seven years ago. There have been literally hundreds of thousands of patches and bugfixes since then. Try upgrading to a more recent kernel."
Amazon EC2	"Re: EC2 Kernel Error - instance not connected to IP address
Hello,
thank you for your contacting us.

Sorry to hear that you experiencing a kernel panic shown on Log_File_Instance_i-d03befa0.txt log file and it seems that issue is within your instance itself.

Also, it seems to be the same error reported here, as previously mentioned 
https://bugzilla.redhat.com/show_bug.cgi?id=249093

As a first step, I'd recommend you to perform a full system upgrade (including kernel), reboot your instance and check if issue still persists.

Regards,
Alessandro"
Amazon EC2	"SMTP/Port 25 unreachable
having issues with SMTP/mail ports not being reachable from remote requests. i've submitted the remove the limits on smtp and it was granted. standard port 25 will not respond to inbound request. i've modified my security group to allow traffic for those ports:

 SMTPS TCP 465 0.0.0.0/0
 SSH TCP 22 0.0.0.0/0
 HTTP TCP 80 sg-0.... (default_elb_....)
 HTTPS TCP 443 0.0.0.0/0
 SMTP TCP 25 0.0.0.0/0

$ sudo  lsof -i tcp:25
COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
master  3236 root   12u  IPv4  16220      0t0  TCP *:smtp (LISTEN)
master  3236 root   13u  IPv6  16221      0t0  TCP *:smtp (LISTEN)

from the machine/instance itself i'm able to connect to the smtp server using ""localhost"", however i'm unable to use the domain name to connect to the smtp server from the machine. 

instance id: i-d943260e

thank you for your help

Edited by: lunchenko on Apr 8, 2015 3:53 AM"
Amazon EC2	"Re: SMTP/Port 25 unreachable
Hello,

I can confirm that email restrictions are not active on your account so the issue you're having isn't coming from our side.

Can you double-check the IP you're using to connect externally? My tools indicate that it should be 52.x.x.6.

Richard"
Amazon EC2	"Re: SMTP/Port 25 unreachable
Ok, now I can reach 25th port with telnet using server ip address, but beanstalk URL new<...>project.elasticbeanstalk.com can't be reached. Can you help with that?

Thank You!"
Amazon EC2	"Re: SMTP/Port 25 unreachable
Hi,

Your Elastic Beanstalk environment has a Load Balancer in it and port 25 is not configured as a listener port in that load balancer. You will need to edit the listener configuration of your load balancer and have it listen to TCP port 25.

You can learn more about ELB listener port configuration here: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-listener-config.html

Please let us know if this resolves the issue.

Thanks,
Faisal"
Amazon EC2	"Re: SMTP/Port 25 unreachable
Hi, we are having a similar problem.

SMTP - Outbound Limited: We have a lot of connection timout's under our mail system recently migrated under AWS , we need to disable the output filter under port 25 for : 

Instance ID's : 

i-227ef4ea
i-82aa8174

Logs 
root@ip-172-31-9-3 ~# telnet yahoo.com 25
Trying 98.139.183.24...
telnet: connect to address 98.139.183.24: Connection timed out
Trying 206.190.36.45...
telnet: connect to address 206.190.36.45: Connection timed out
Trying 98.138.253.109...
telnet: connect to address 98.138.253.109: Connection timed out
Trying 2001:4998:58:c02::a9...
telnet: connect to address 2001:4998:58:c02::a9: Network is unreachable
Trying 2001:4998:c:a06::2:4008...
telnet: connect to address 2001:4998:c:a06::2:4008: Network is unreachable
Trying 2001:4998:44:204::a7...
telnet: connect to address 2001:4998:44:204::a7: Network is unreachable

We completed the request to not filter the outbound traffic via 25

Thanks in advance"
Amazon EC2	"Issue with EC2 - Auto Scaling Policy not executed
Hello, 

I am looking to use EC2 Auto Scaling feature to spin up an EC2 instance when there is 1 or more messages in an SQS queue. 

To achieve this, I have 2 Cloud Watch alarms. One for when there are messages to process and one when there are not.  Both alarms fire as expected. However, only the spinning up works. 

Where I set the threshold on ApproximateNumberOfMessagesVisible, the options are for <, <=, >, >=.  I was getting the following error message when this was set to <= 0 and the no messages alarm fired. 

{
  ""actionState"": ""Failed"",
  ""notificationResource"": ""..."",
  ""error"": ""Auto Scaling Policy not executed because it does not specify any action for a metric value of: 0.0"",
  ""stateUpdateTimestamp"": ""...""
}


In order to achieve triggering the action of terminating an instance on empty queue was to set this to < 1. This resolved my issue. 

Does this appear to be a bug or user error?! Any thoughts on the approach?

Many thanks"
Amazon EC2	"Unable to Receive Emails (port 25 filtered)
Instance ID i-ecff7ee0
(us-west-2b)

Port 25 is open in the security group, and it used to work, but for some reason is no longer open, and I am no longer able to receive emails.

Nmap results:
PORT   STATE    SERVICE VERSION
25/tcp filtered smtp

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 0.63 seconds

What is going on?"
Amazon EC2	"Re: Unable to Receive Emails (port 25 filtered)
Hello,
thank you for your contacting us.

Sorry to hear that you experienced issues 25/tcp port on your i-ecff7ee0 instance. reviewing its details:
 - No underlying host issues affecting it
 - There was no general connectivity issues reported in AWS health dashboard (http://status.aws.amazon.com/)
 - Instance metrics (CPU, Network traffic) seems correct around issue period (24/07/2015), only a status check failed, because of instance reboot
 - No other errors shown on instance console [1]

Based on this information, I suspect the issue could be related with the instances. Could you please tell us:
 - Did you notice anything unusual in instance logs? (usually located inside /var/log directory)
 - Any error registered by network interfaces? You can check this using next commands:
  netstat -i
  ifconfig -a
 - Were you able to access other services on that instance around issue period?

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

I hope this information was useful. If you have more questions or need further assistance, don't hesitate to contact with us again. We'll be happy to assist you.
Thank you"
Amazon EC2	"System Status Check failure
Hi

I've received ""system check failed"" error messages on i-eaaa3040 (today), and (on the 8th) i-1348d6b9. The most recent failure is visible in the CloudWatch graph for i-eaaa3040 today at around 19:00 GMT on the StatusCheckFailed_System metric.

Both of these failures are part of the same auto-scaling-group - and were replaced successfully automatically. However, I'm wondering what the root cause is - and whether I need to change something to stop it happening in the future.

The system sends the system logs to cloudwatch logs via the awslogs tool. There were no problematic logs that I could see indicating any problem. Additionally, there was no real CPU, disk, or network activity before the disappearance.

Thanks for your time,

Oskar"
Amazon EC2	"Re: System Status Check failure
Hi,

It could be that there were issues with the underlying physical host rendering the host unreachable, so nothing that you have done or were doing, but perhaps just a hardware issue.  AWS may be able to confirm this.

Cheers,

Stooby..."
Amazon EC2	"Re: System Status Check failure
Hello,
thank you for your contacting us.

Sorry to hear that you experienced issues with your i-eaaa3040 and i-1348d6b9 instances on the StatusCheckFailed_System [1] metric.

Reviewing details, I found that they both experienced issues with underlying host on specified period. The following are examples of problems that can cause system status checks to fail:
  * Loss of network connectivity
  * Loss of system power
  * Software issues on the physical host
  *  Hardware issues on the physical host 

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html#types-of-instance-status-checks

I hope this information is useful, but should you have any further doubts or concerns, please get back to us.
Regards,
Alessandro"
Amazon EC2	"Issues restarting
I am having issues restarting i-4603fd68.  I see that there is an instance-stop event scheduled for the instance, but it won't allow me to stop/start the instance.

Any assistance would be greatly appreciated."
Amazon EC2	"Re: Issues restarting
Hello,
thank you for your contacting us.

Sorry to hear that you experienced issues stopping your i-4603fd68 instance: unfortunately we experienced issues with underlying host where instance was running. Issue was solve on 26/07/2015 at about 15:30 UTC and I see that you have been able to stop-start it.

Please let us know if you have any further questions.
Regards,
Alessandro"
Amazon EC2	"Impact of restarting Instance
Hi,

Could anyone please tell me what is the impact if I restart the instance ?

1. Will I loose the current configuration ?
2. Will the IP assigned to it will change( Private VPC used) ?"
Amazon EC2	"Re: Impact of restarting Instance
Hello,
thank you for your contacting us.

Regarding your questions, if your instance is EBS-backed [1], you will not lose any data or configuration either across an instance reboot or a stop/start as they are storage volumes that persist independently from the life of the instance, while if you are using instance store [2], data in the instance store is lost under the following circumstances:
 - The underlying disk drive fails
 - The instance stops
 -  The instance terminates

Regarding ip addresses [3], when you launch an instance, we allocate a private IP address for the instance using DHCP. Each instance is also given an internal DNS hostname that resolves to the private IP address of the instance; for example, ip-10-251-50-12.ec2.internal.

For instances launched in a VPC, a private IP address remains associated with the network interface when the instance is stopped and restarted, and is released when the instance is terminated.

If your instances also have a public ip, we release it when it's stopped or terminated, but not when it's rebooted. As you might it need to perform instance stop/start, we recommend you to consider using Elastic IPs [4] as public ip as they are persistent across stop-starts.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html
[2] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html
[3] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html
[4] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

Regards,
Alessandro"
Amazon EC2	"Unable to connect to a new instance
Hello AWS support team

I just created a new instance i-811be677 and I'm trying to get connected but no luck, I followed all indications to use Putty on my computer, but I'm getting this error message:

Unable to open connection to 
ec2-52-25-64-255.us-west-2.compute.amazonaws.com
Host does not exist

Could you please help me out here,? I would like to know if you are able to get connected to my instance without problems, if so,, can you please give some guide on what could be the problem?

Thnx, 
Miguel"
Amazon EC2	"Re: Unable to connect to a new instance
Hi,

When trying to resolve connectivity issues to your instances follow the steps below:

1 - Confirm you have an Internet Gateway attached to your VPC
2 - Confirm you have a route in the subnet that your instance resides in pointing to 0.0.0.0/0 via IGW
3 - Confirm the Security Group that your instance is associated with has SSH open from the source you are trying to connect from
4 - Confirm that you are using the right public IP address when connecting
6 - Confirm the Network ACL for the subnet that your instance resides in allows SSH to pass through from your source location you are trying to connect from

Cheers,

Stooby..."
Amazon EC2	"I dont have a US bank account and I am outside US , how do i sell my RIs
I added couple of RI's in singapore and now i am not able to get rid of them. at first i thought that since the tenure should 1-12 months i will be able delete them after a month and i am still not able to do so. I cant sell them as i am outside US and dont have US bank account"
Amazon EC2	"Re: I dont have a US bank account and I am outside US , how do i sell my RIs
Hi,

I have created an outbound billing support case to address your query regarding the selling of your Reserved Instances, case 1454530051. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"Firewall is blocking connections
I've selected ""Block all incoming connections"" in Firewall (Server 2008 R2), so i cant connect to my server now. Please help, how to fix issue."
Amazon EC2	"Please terminate: i-dd9fe93e
Instance : i-dd9fe93e is "" scheduled for retirement "", so I am trying to terminate it so that I can get back its nic and launch a new one.
Unfortunately it does not terminate.
Could someone please xm destroy / terminate the instance. It is not a big issue if the EBS associated is lost.
Thank you for your help"
Amazon EC2	"Re: Please terminate: i-dd9fe93e
thank you"
Amazon EC2	"Restrict access to IAM User to Open the security group rules to Public
Hi,

I am trying to restrict the access to an IAM user to Open Security group Ingress rules to Public (0.0.0.0/0) for SSH Protocol. I created a Policy as mentioned below:

{
    ""Statement"": [
        {
            ""Sid"": ""StmtXXXXXX"",
            ""Effect"": ""Deny"",
            ""Action"": [
                ""ec2:AuthorizeSecurityGroupIngress""
            ],
            ""Condition"": {
                ""IpAddress"": {
                    ""aws:SourceIp"": ""0.0.0.0""
                }
            },
            ""Resource"": [
                ""*""
            ]
        }
    ]
}

But this is restricting IAM user to Ingress the rules to Security groups. 
What will be the better condition to be used for this policy.

Thanks in advance."
Amazon EC2	"EC2 Instance i-d5a970e9 'Frozen'  in 'Stopping' State
Hi there,

My AWS EC2 Server appears to have stopped working at around 4am this morning. I have attempted to reboot it and then stop it, but it has been in the 'stopping' state for some time now.

Anything I can do?

R's,
Jason"
Amazon EC2	"Re: EC2 Instance i-d5a970e9 'Frozen'  in 'Stopping' State
Forced Stop 2x and eventually worked"
Amazon EC2	"Can't delete EBS volume, not even with the force option
Hi Amazon Web Services In Charge,

EBS volume vol-8976d8bf appears as ""in-use"" in my account and I cannot delete it(greyed/disabled), not even with the force option(mentioned that volume is in ""Available"" state). No instance is attached to it currently.

Please advice. Thanks."
Amazon EC2	"Re: Can't delete EBS volume, not even with the force option
Hello,

Thanks for posting. I apologize for the issues you've encountered. I've brought this to the attention of the EBS Team for further investigation. Once we have feedback from them we'll update this thread.

Regards,
Brandon"
Amazon EC2	"Re: Can't delete EBS volume, not even with the force option
Thanks! Awaiting for your reply!"
Amazon EC2	"Re: Can't delete EBS volume, not even with the force option
Hi Brandon
Any feedback on the issue?
Will the tech team contact me directly?"
Amazon EC2	"Re: Can't delete EBS volume, not even with the force option
Hi,

We are still investigating your issue. You will be notified once it is resolved.

Regards,

Tonderai."
Amazon EC2	"Re: Can't delete EBS volume, not even with the force option
Hi Shing,

Just to let you know that the team came back to us not a long time ago.
Your volume vol-8976d8bf should now show as available and you shouldn't have any issues in attaching/detaching it.

Best regards."
Amazon EC2	"Ensuring that Perforce server is using an EBS volume as its depot root
Hi, apologies in advance for what will likely be a newbie question...

I am in the process of setting up a Perforce server on an EC2 that is associated with a 3GB EBS volume, and I am not completely clear on the relationship between the file structure on the Linux instance and the location of the EBS Volume.

Would anything stored in the 'home/ec2-user' directory automatically be a part of that 30GB EBS Volume?"
Amazon EC2	"please help - add user User Data to spot instance
I have a linux instance that I created after adding some drivers and software, as well as adding a couple of my files that I want to crunch, to someone elses AMI.  So now I have my own AMI ready to go.  I can't afford to do anything other than a spot instance at this point as it will take a few months to accomplish what I am trying to do.

I want to start my program on boot in a screen session so I can log in a check progress.  I looked at .sh scripts but couldn't get it working.  So I have a basic screen command that will work.  All I want to do it add it to the user data like Amazon recommends.  Should be simple, right?  ALl my googling points to this.

Unfortunately, you have to stop the instance to add the text, and you can't do that on a spot instance.  I even tried creating a regular instance from my AMI, adding the text, and creating a new AMI from that.  The text did not follow with it.

I have no idea how to get this to work and I would appreciate any help.  That you."
Amazon EC2	"TCP port 25 not accessible from outside of my vpc
Hi I'm setting up a spam filter for email. I can access port 25 from within my vpc to my instance that has the spam filtering, but not from the outside. I have a security group on it that is allowing port 25 traffic from anywhere. And the box is listening on that port. I have checked netstat. Also the box can send emails on port 25 but not receive which is odd."
Amazon EC2	"Re: TCP port 25 not accessible from outside of my vpc
Hello,

As I understand you would like to connect to port TCP/25 on one of your instances that resides in a VPC, from outside your VPC?

Would the spam filter be the same instance as your NAT Instance? If your spam filter would be behind your NAT Instance, you should be able to rectify this, by adding a port forward rule on your NAT Instance.

The rule should look like this:
iptables -t nat -I PREROUTING -p tcp --dport 25 -j DNAT --to-destination spam-filter-ip:25

Also make sure IP Forwarding is enabled:
cat /proc/sys/net/ipv4/ip_forward (should resolve to ""1"" )

If otherwise, please provide us with additional information and we would be more than happy to assist further."
Amazon EC2	"Re: TCP port 25 not accessible from outside of my vpc
Hi Raun thanks for your response. I have a instance in a vpc, but I have assigned it a elastic ip. I cannot access port 25 from outside of my vpc. Even though I can ssh directly to the server using the same elastic ip that is assigned to this instance. In the security group for the instance I have port 25 open and I can confirm that the server is listening on port 25. In. My testing I am able send emails from that instance on port 25, but I cannot connect to that instance on its elastic ip from outside of my vpc. I can from another instance in my vpc using the privat vpc IP address can connect over port 25 but I need to able to from anywhere in order for it to receive email. 

Scenarios:

Internet -> EIP -> instance on port TCP 25 I cannot connect.

Instance -> internet on port TCP 25 I can send emails.

Internal VPC Instance -> private ip of mail filter instance-> I can connect to port TCP 25.

Hope this clears up what I'm trying to do.

Thanks for your help."
Amazon EC2	"Re: TCP port 25 not accessible from outside of my vpc
Hello, 

Are you still experiencing this issue? If so, could you please provide us with the instance ID you are not able to reach port 25 on - we will be happy to take a look. 

Best Regards,
Jillian L."
Amazon EC2	"Failed/Slow t2.micro launches in US-East-1, all AZs
For the past 24 hours or so, I've had really slow launches of t2.micros w/Amazon Linux in any AZ in US-East-1. In quite a few cases, the ""Instance Status Check"" fails, no matter how long I wait. I've tried both specifying an AZ, and not specifying an AZ. Same results."
Amazon EC2	"Re: Failed/Slow t2.micro launches in US-East-1, all AZs
Hello,
Are you still affected with this issue?
If yes, could you please share us with an instance id which encountered this issue, so that we can take a look.
Also, do share us with any error messages/screen shots you have which are related to this issue.

Regards
Shiroy"
Amazon EC2	"Instance unreachable - Route info failed!
Hi,

While trying to clone an instance by creating a base image, I cannot seem to access an instance that's created from that image.

Connecting via SSH throws a ""Connection Refused"". Apparently, the Instance Log shows:

gw-01 login: cloud-init[677]: Cloud-init v. 0.7.5 running 'init-local' at Wed, 08 Jul 2015 07:54:56 +0000. Up 31.77 seconds.
Â 
cloud-init[1283]: Cloud-init v. 0.7.5 running 'init' at Wed, 08 Jul 2015 07:55:00 +0000. Up 35.49 seconds.
Â 
cloud-init[1283]: ci-info: +++++++++++++++++++++++Net device info+++++++++++++++++++++++
Â 
cloud-init[1283]: ci-info: +--------+------+-----------+-----------+-------------------+
Â 
cloud-init[1283]: ci-info: | Device |  Up  |  Address  |    Mask   |     Hw-Address    |
Â 
cloud-init[1283]: ci-info: +--------+------+-----------+-----------+-------------------+
Â 
cloud-init[1283]: ci-info: |  lo:   | True | 127.0.0.1 | 255.0.0.0 |         .         |
Â 
cloud-init[1283]: ci-info: | eth0:  | True |     .     |     .     | 0a:d3:e2:89:e5:6b |
Â 
cloud-init[1283]: ci-info: +--------+------+-----------+-----------+-------------------+
Â 
cloud-init[1283]: ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


As you can see, no IP is set, while having this in /etc/sysconfig/network-scripts/ifcfg-eth0:
# Automatically generated by the vm import process
DEVICE=eth0
ONBOOT=yes
BOOTPROTO=dhcp
TYPE=Ethernet
USERCTL=yes
PEERDNS=yes
IPV6INIT=no


I suspect something is wrong with the distribution, but unfortunately, changing this is not an option.

Any help would be appreciated.
Thanks,

Toon"
Amazon EC2	"Re: Instance unreachable - Route info failed!
Hello,

Could you please provide us with the id of the instance you are having issues with?

Regards
Shiroy"
Amazon EC2	"windows instance at 100% CPU in aws console but not in windows inaccessible
We have a t2.medium instance (i-12e90d50) running windows server 2008, IIS7 and SQL Server2008

It is frequently (but randomly) showing 100% CPU utilisation in the aws console at which point it becomes inaccessible externally.

We run new relic and this reports that the instance is still running and that the server load is the same as it was before the AWS monitoring registered 100%. Perfmon running locally on the windows box registers the same result as new relic.  (please see attached file showing aws console synced to new relic)

We have tried imaging the box and creating a new instance, but this one appears to be even less stable. 

There are no log entries in the aws console other than the reboots we have to perform once CPU is at 100%

What can be causing the instance to show 100% CPU? And how can we diagnose this further?

Thanks, Nick

Edited by: proctorsit on Jul 27, 2015 7:56 AM"
Amazon EC2	"User Event log history of my console ?
How to check the user's list of history events done inside my aws console. For ex: deletion of ebs, creation of new ec2 instance, etc.,"
Amazon EC2	"Re: User Event log history of my console ?
Hello,

unfortunately we don't offer these kind of event logs for the AWS console. 

Can you please elaborate on your use case, and how would you use such a feature so we can consider this as a feature request?

Thank you"
Amazon EC2	"Re: User Event log history of my console ?
We are team of 5members.
 Every one using the same web aws console login and do required activity.
 We didnt know the time of event like ec2 instance created , destroyed and so on.,"
Amazon EC2	"Re: User Event log history of my console ?
Hello,

We do not currently expose this information to our users, if you have a specific request for something like this in an emergency we can provide you that information. We ask that you open an AWS Support case: http://aws.amazon.com/premiumsupport/

In the mean time we can submit this as a feature request if you would like.

Regards,

Matt J"
Amazon EC2	"Re: User Event log history of my console ?
Why even this basic secured functionality feature not available in aws, while rackspace , hetzner, etc., others have.
whenever any instance created or dropped or stopped, we will get email alert for the activity other than AWS Cloud service providers."
Amazon EC2	"Re: User Event log history of my console ?
We are always improving the functionality of our services. To keep up to date on the latest feature announcements on improvements to our service, I would suggest monitoring the AWS Blog for more information. 

Kind regards,
Morgan"
Amazon EC2	"Re: User Event log history of my console ?
What is current status of the topic?

It would be nice to have a backlog of the actions, 
AND
some ""frozen state"" of the environment.

I did recently detach and delete a volume, and I was not sure if I did remove it from the right instance! (there is lack of information of the attachment (like: attached to i-xxxx (SomeName)) in the last confirmation step)
I did not find a way to verify the volume ID (luckily I've found it in the history of browser URL), but event having that, I couldn't find a info where it was attached 5 minutes ago...

There should be some history containing environment ""connections"", instanceID, VolumeID etc."
Amazon EC2	"Re: User Event log history of my console ?
Hello,

If you have cloud trail enabled, you will be able to view the details of API calls made. I hope this is the kind of information you are looking for. For more information about CloudTrail, please click here.

Regards
Shiroy"
Amazon EC2	"ec2 Failover NAT causes 504 Gateway Errors
I have setup an HA ec2 NAT pair, so that my back end servers can access external web services.

I setup the pair using:
http://aws.amazon.com/articles/2781451301784570

The script works as advertised.  If I shutdown a nat server, it switches the gateway for the backend subnet, and the script starts up the shutdown nat server.

I can test that the backend servers can still access the outside internet by using ping.

However, our web application no longer works.  We have a load balancer => 2 Web Servers running Apache in DMZ => internal Load Balancer => 2 Backend servers running puma

When I try to access our web site, we get some response, but a lot of the ajax calls fail with 
504 GATEWAY_TIMEOUT errors.

When the shutdown NAT server comes back up, everything returns to normal.

Has anyone seen anything like this?, or have some ideas with how to deal with this?  I'm willing to use a different HA NAT solution if available.

thanks.
myles"
Amazon EC2	"Re: ec2 Failover NAT causes 504 Gateway Errors
Hello, 

Are you still facing this issue? 

It'd help us troubleshoot if we knew exactly what AJAX calls were being made (To which instance). We'd probably want to take a look at that particular instance's route table and configuration and verify if it's using the new NAT instance and troubleshoot it's own connectivity when in a down state. 

Offhand I think we'd want to know: 
1. Can it reach the internet? 
2. Does it's route table have the correct NAT instance as it's default gateway? 
3. Provide a traceroute to verify traffic is traversing the 'correct' NAT instance. 

Let us know and we can further assist. 

Regards,
Nick"
Amazon EC2	"Re: ec2 Failover NAT causes 504 Gateway Errors
I ended up fixing the issue in a slightly different way.

If the nat goes down, everything in that AZ is taken down.

On reboot it takes a look at what is working, and what isn't and update the load balancers to bring everything up.  A bit of a brute force sort of item.

1. Can it reach the internet?
 -- Yes it can 

2. Does it's route table have the correct NAT instance as it's default gateway?
 -- The VPNs route table does have the correct gateway

3. Provide a traceroute to verify traffic is traversing the 'correct' NAT instance. 



I will set this up now to verify"
Amazon EC2	"spelling inconsisteny in ec2 web console (or API response)
i don't know if this in the _web console code or if it is in an API response strin. in the spot request page i canceled a spot request and see two different spellings.  under ""State"" i see ""cancelled"" and under ""Status"" i see ""canceled-before-fulfillment""  one L is the American spelling and two Ls is the British spelling for canceled and traveled.   is AWS using American or British spelling?

Edited by: skaperen257 on Jul 27, 2015 4:27 AM"
Amazon EC2	"Re: spelling inconsisteny in ec2 web console (or API response)
Hello,

Thank you for reporting this to us. I have passed on your feedback to our internal teams.

Regards
Shiroy"
Amazon EC2	"Reserved Instances
Hi!

I am looking at the possibility of reserving c4.xlarge instances and was using AWS Calculator to determine the cost.

Two questions:

1. We currently use CentOS 6.4 (our own AMI) - do I select Linux/Unix or Red Hat Enterprise when I purchase reserved instances?
2. Apparently there is no 3 year upfront option for c4.xlarge instances in US Standard zone if I select Linux/Unix but there is for Red Hat Enterprise. I am confused by that since AWS Calculator shows me the prices for 3 year upfront for Linux/Unix. Does AWS have some kind of limit on how many instances they sell in each region? 

Thanks!

Andrew"
Amazon EC2	"Re: Reserved Instances
Hi Andrew,

I have created an outbound billing support case to address your query regarding Reserved Instance Purchases. 

Case ID: 1453565541

Should you have any additional questions please respond to that case for further information and assistance.

Regards,

Luke H."
Amazon EC2	"reboot inacessible ec2 doesn't work. stop/start resolves. ??
Ive had a few incidents more recently where my ec2 instance became inaccessible. Happened again overnight. Rebooting this morning didn't resolve the problem. But stopping and restarting the instance did. My understanding is that a stop/start will likely result in a change in hardware that the instance runs on. Is the inaccessible problem due to AWS hardware problems or a problem with my Ubuntu instance?"
Amazon EC2	"Re: reboot inacessible ec2 doesn't work. stop/start resolves. ??
Hi,

Its difficult to know exactly where the problem lies without additional information from your instance.  Is your instance peaking its CPU or any other metrics without CloudWatch? 

You are right in thinking that a stop/start will likely spin up the instance on another piece of hardware, so on this occassion it could have been an underlying host issue if a restart didnt work.  Were you getting status check failures? 

I would monitor your CloudWatch metrics to see if issues are arising as time goes on.  

Cheers,

Stooby..."
Amazon EC2	"Issue : EBS
Why amazon is charging me? I am not using any EC2  and  other services from AWS. But i m still charged for EBS.  What i have to do to stop that charges?

They are charging me for ""$0.10 per GB-month of General Purpose (SSD) provisioned storage"" everyday."
Amazon EC2	"Re: Issue : EBS
Hi,

Even though you are not using EC2 does not mean you have no EBS Storage.  Log in to your AWS Console.  Select 'EC2', select 'volunmes' under 'Elastic Block Store' to see if you have any volumes. If so then this is why you are being charged.  

If no volumes appear then check other regions as the Dashboard will only show the EBS for the currently selected Region.

You can change region by selecting the Region dropdown list in the top right hand corner.

Cheers,

Stooby..."
Amazon EC2	"Newbie Question:  How to use large numbers of instances at one time
This is probably too simple a question, but how does one create many instances (in the low hundreds).

Our process can require up to ten instance/task and we can need to run up to a dozen instances.

However, the upper limit of instances we can run/account is 10-20.

Up untill now, we have gone around this with multiple AWS accounts, which is creaky to say the least.

Is there a way of upping the limit programmatically, or does one have to make a special AWS request?

Thanks."
Amazon EC2	"Re: Newbie Question:  How to use large numbers of instances at one time
Hi,

You need to make a request to AWS to increase your instance limit - More information and a link on where to do this can be found here:  http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html

Hope this helps!

Cheers,

Stooby..."
Amazon EC2	"Re: Newbie Question:  How to use large numbers of instances at one time
Also,

If you are not already using it then CloudFormation could be of use to you if you are launching large numbers of instances.  Take a look at it here:

http://aws.amazon.com/cloudformation/

Cheers,

Stooby..."
Amazon EC2	"PIN VERIFICATION FAIL
Hello!

I'm from Rosario, Argentina. I'm having problems with the telephone identity verification. I receive the call, enter the 4 digits PIN and after a few seconds I receive the message:

""the customer you are calling is not responding, please try again later""

I really want to try EC2 but since yesterday I have this problem. I also created this ticket (1451171691) when I couldnt even get the phone call in the first place.

Thanks!"
Amazon EC2	"Re: PIN VERIFICATION FAIL
Hi,

I see that your services are now active. Should there be anything else that you require feel free to respond on the Support Case that you created.

Case ID: 1451171691

Regards,

Luke H."
Amazon EC2	"How do I acquire the service for transferring data within amazon storage?
I have lots of data from multiple EC2 elastic block storage to be transferred to one S3 bucket into a specific folder.
However, s3cmd speed is too slow to do it.

Is there any service which amazon could provide to transfer them?
May I also know the costing for each transfer?

Thanks."
Amazon EC2	"How do I upgrade from FREE TIER t2.micro to t2.medium Paid instance
Helllo,
I am not able to find any link on AWS Console or Outside to upgrade from Free Tier to Paid Tier.
My initial testing / RND on how to configure AWS instance up & running is done.
But now when i actually planning to move from 1 GB micro to production 8 GB i am not allowed to do so in Free Tier.
How do i upgrade from Free Tier to Paid so that i can launch  t2.medium Paid instance.

Regards
Raj"
Amazon EC2	"Re: How do I upgrade from FREE TIER t2.micro to t2.medium Paid instance
Hi,

You don't need to do anything special to move to the paid tier. Just resize your instance or create another instance of the size you require. Any usage that falls outside of the free tier allowance is automatically billed.

Kind regards
Michael"
Amazon EC2	"Unable to launch an instance: account blocked?
Hello,

I'm on free tier, and I have added a payment method (credit card), verified the account, etc., but when I try to launch an EC2 instance, I get this:

""This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.""

I have created a support case, I have emailed to the address above but haven't gotten any reply. I created a case with the phone call option, but the call I received had a recording that didn't make much sense to me (it said something about ""This call was transferred to an extension .... ""). 

Any help? Any ideas? 

Thanks.

Edited by: Ilkka Huotari on Jul 26, 2015 3:44 PM

Edited by: Ilkka Huotari on Jul 26, 2015 3:45 PM

Edited by: Ilkka Huotari on Jul 26, 2015 3:45 PM"
Amazon EC2	"Re: Unable to launch an instance: account blocked?
I figured it out. EU-West-1 (Ireland) doesn't seem to work. I tried the same in US-East-1 and it works.

Wonder why AWS support didn't respond at all. Waited for 36 hours or so."
Amazon EC2	"Windows EC2 Instance Won't Start -- Get System Log is Blank
Today one of our Windows EC2 instances went down.  Restarting it doesn't help.  The instance is in the US East Region and the Instance ID is i-19061af6.  It is a Windows 2008 R2 instance.

The Get System Log is blank and the Instance reachability check is failing.

How do I fix?

Edited by: Rob-stewart1 on Jul 24, 2015 4:46 PM"
Amazon EC2	"Re: Windows EC2 Instance Won't Start -- Get System Log is Blank
I got it working again."
Amazon EC2	"Instance i-a8a194c3 not stopping
Hi,

Instance i-a8a194c3 got stuck for last one hour. Tried force stopping too, didn't worked. Could you please stop it.

--Venkat"
Amazon EC2	"Re: Instance i-a8a194c3 not stopping
Good day Venkat

I had a look at your instance, I see it has already been stopped by our automated systems (2015-07-26 02:44 UTC) and restarted. I confirm the instance is now in a healthy state,

Regards
Imthian."
Amazon EC2	"Can not configure auto-recovery on an eligible instance
Hi, 

The instance is a t2.micro in a VPC, in us-west-2, EBS only and with shared tenancy. However when I attempt to enable recover with StatusCheckFailed_System alarm it says ""The EC2 'Recover' Action is not valid for the associated instance. Please remove or change to a different EC2 action."" Instance id is i-3db40930."
Amazon EC2	"Re: Can not configure auto-recovery on an eligible instance
Hi,

According to this AWS blog, EC2 autorecovery is only available in the US-EAST region:

https://aws.amazon.com/blogs/aws/new-auto-recovery-for-amazon-ec2/

Cheers,

Stooby...."
Amazon EC2	"Re: Can not configure auto-recovery on an eligible instance
Ignore that, it now supports US-WEST as well looking at the latest documentation: 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html

Cheers,

Stooby..."
Amazon EC2	"Re: Can not configure auto-recovery on an eligible instance
Hello,

Thank you for posting on AWS Forum.

I'm reviewing your error, will update through this forum thread as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: Can not configure auto-recovery on an eligible instance
Hi mehmetdemir

Thank you for your patience.

You are getting this message is because when you first launched your EC2 instance i-3db40930, you have (or via the AMI settings) left the Instance store device mapping.
It's also worth noting that such settings cannot be altered once the instance has launched.

In order for you to use the recovery option, please follow the steps below:

  1 - Log in to the EC2 management console
  2 - Stop your EC2 instance i-3db40930 (double check it's all fine to stop this instance)
  3 - Take an Amazon Machine Image (AMI)(1) of your EC2 instance.
  4 - Then, launch a new EC2 instance using the EC2 management console and ensure there's no extra extra block device mapping when setting your instance storage.
    or alternatively, use the CLI
  4'- aws ec2 run-instances --key-name $KEY --image-id $AMI --instance-type $TYPE --query 'Instances[*].InstanceId' --output text --block-device-mappings '[{""DeviceName"":""/dev/NAME"",""NoDevice"":""""},{""DeviceName"":""/dev/NAME"",""NoDevice"":""""}]' --debug

  5 - Once the instance has launched, enable the instance recovery feature for that new EC2 instance in CloudWatch.


Best regards.

Resources:
1. Amazon Machine Images (AMI): http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html"
Amazon EC2	"very frustrated, every reboot hangs
This is my first foray into cloud computing.  I am using this image: ami-4fad7426

I am doing some heavy GPU stuff on Unbuntu.  I need to upgrade the linux version so I can use the latest graphics drivers.  Every time the instance reboots as part of the upgrade, it hangs somewhere and I have to delete it.

I have tried everything.  I finally got the first upgrade to work today, but it hung on the second.

The first hang showed this line in the system logs:

*3.128703] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4

I got past that by disabling the mouse driver.  On my new instance, here is where I am stuck:

* Stopping mouse interface server gpm       [80G 
[74G OK 
* Asking all remaining processes to terminate...       [80G 
[74G OK 
* All processes ended within 1 seconds...       [80G 
[74G OK 
* Deactivating swap...       [80G 
[74G OK 
* Unmounting local filesystems...       [80G 
[74G OK 
mount: / is busy
* Will now restart
http:// 1054.854154 Restarting system.

I don't know what to do.  If anyone know a good linux/GPU image that allows spot pricing I would be willing to try it, but I would rather get this working.  Any idea what I am doing wrong?"
Amazon EC2	"Problems Activating Windows 2008, Now Won't Allow Logon!
This EC2 Win2008 system has been prompting for Activation due to hardware change (in a balloon above the clock) for about a week.  (This image is originated from an Amazon base AMI, not imported or 3rd party.) Activation fails with, ""The Key Management Service (KMS) is not enabled.""

So this weekend I've been following directions in this forum to try to get the Activation to work, such as:
Windows Activation on CMC Server
The trick is to:
1) set your network card primary DNS server to 172.16.0.23 (EC2 internal)
2) then stop the local DNS server
3) adjust the Ec2Config config XML Windows activation to Enabled
4) net stop ec2config 
5) net start ec2config

NOW I CAN'T EVEN LOG IN! Remote Desktops tells me, ""Your credentials did not work""!

I made a new image just prior to this, so I've spun that image up, and although I can login, I still have the same problem.  I need to be able to reboot my instance, and Windows is going to lock me out again if I can't successfully Activate it.  

I've also tried this:
1) slmgr.vbs /skms 10.126.94.253
2) slmgr.vbs /ato
But the response I get is:
Error: 0xC004F039 The computer could not be activated. The Key Management Service could not be reached

When I look at Ec2ConfigLog.txt, I find many repeated lines of:
""Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
Initialize: Meta-data unavailable: Unable to connect to the remote server
""
So reading this forum, I follow this procedure:
To Re-enable Ec2 Activation plugin:
-Edit ""C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml""
-Change the ""Ec2WindowsActivate"" plugin state to ""Enabled"" (case sensitive)
-Save the file
-Stop the Ec2Config service via the Service Control Manager
-Start it again

After this, the Ec2ConfigLog.txt shows:
7/25/2015 7:45:56 PM : Starting Ec2Config service v1.2.1.0
Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
Opening COM port handle to write to the console
Waiting for meta-data accessibility...
Failed to fetch instance metadata http://169.254.169.254/latest/meta-data with exception Unable to connect to the remote server
Initialize: Meta-data unavailable: Unable to connect to the remote server

Retrying Activation, and of course it still fails with the same error message, ""The Key Management Service (KMS) is not enabled""

Thank you in advance for any assistance you may offer."
Amazon EC2	"Re: Problems Activating Windows 2008, Now Won't Allow Logon!
I've now updated EC2Config.exe to version 3.7.308.  I get the same error when trying to Activate.  The Ec2ConfigLog.txt reports:

2015-07-25 16:53:58: EC2Config service starting...
2015-07-25 16:53:58: Legacy configurator starting...
2015-07-25 16:53:58: Legacy configurator started.
2015-07-25 16:53:59: Finding resources
2015-07-25 16:53:59: Done Finding resources
2015-07-25 16:53:59: Updating config files...
2015-07-25 16:53:59: Update config files completed.
2015-07-25 16:53:59: EC2ConfigMonitorState: 0
2015-07-25 16:54:01: Opening COM port handle to write to the console
2015-07-25 16:54:01: Checking Configuration State of Windows before continuing
2015-07-25 16:54:01: Windows sysprep configuration complete.
2015-07-25 16:54:04: Warning: Unable to Publish to WMI. | System.Management.Instrumentation.WmiProviderInstallationException: Exception of type 'System.Management.Instrumentation.WMIInfraException' was thrown.
at System.Management.Instrumentation.InstrumentationManager.Publish(Object value)
at Ec2Config.LegacyConfiguration.LegacyConfigurator.PublishWmiInstance()
2015-07-25 16:54:04: Checking for Sysprep
2015-07-25 16:54:13: Difficulty detecting PV driver details for Console Output
2015-07-25 16:54:13: There was an exception writing driver information to console: System.Exception: Difficulty detecting PV driver details for Console Output
at Ec2Config.LegacyConfiguration.LegacyConfigurator.GetDrivers()
2015-07-25 16:54:57: OS: Microsoft Windows NT 6.0.6002
2015-07-25 16:54:57: OsVersion: 6.0
2015-07-25 16:54:57: OsProductName: Windows Server (R) 2008 Datacenter
2015-07-25 16:54:57: OsBuildLabEx: 6002.18881.x86fre.vistasp2_gdr.130707-1535
2015-07-25 16:54:57: Language: en-US
2015-07-25 16:54:57: EC2 Agent: Ec2Config service v3.7.308
2015-07-25 16:56:45: Message: Please enable RealTimeIsUniversal registry key
2015-07-25 16:56:45: Reading C:\Program Files\Amazon\Ec2ConfigService\Settings\config.xml
2015-07-25 16:56:48: Error: Failed when adding route. The value for column 'ShouldAddRoutes' in table 'GlobalSettings' is DBNull.
2015-07-25 16:56:48: Message: Waiting for meta-data accessibility...
2015-07-25 16:57:10: Failed to fetch instance metadata http://169.254.169.254/latest/meta-data/ with exception Unable to connect to the remote server
2015-07-25 16:57:10: Initialize: Meta-data unavailable: Unable to connect to the remote server
The above two lines repeat about 20 times.

I'd be grateful for any assistance."
Amazon EC2	"Re: Problems Activating Windows 2008, Now Won't Allow Logon!
I saw that somehow the Ec2Config config.XML got its  Ec2SetPassword parameter set to Enabled (even prior to my update of the Ec2Config program update).  So in the new instance, instead of assuming that was Microsoft's lack of Activation causing the credentials to be rejected, I found a new password waiting for me to decrypt in the EC2 web console.  After that, I found the instance was Activated!"
Amazon EC2	"EC2 instance stuck in ""stopping"" state
Hi support,

I received mail in the morning which said one of my Amazon EC2 instances in the ap-northeast-1 region is scheduled for retirement, and sugguested me to stop, and restart instance for migration.

I click the ""stop"", and it always in ""stopping"" status, I clicked ""stop"" to Force stop, but it still in ""stopping"" status. It lasted for 6 hours till now.

My instance id is: i-589ca231

Thanks"
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello arnpro,

I've checked your instance and noticed that was stuck stopping because the underlying hardware your instance was running on experienced an failure that would have render your instance uncontactable.

I can confirm that now is running on a different and healthy underlying host.

Regards,
Giorgio"
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
Hello support,

I'm experiencing the exact same issue, at instance ID i-bfbccd5c in AZ  sa-east-1a.

Many thanks in advance."
Amazon EC2	"Load Balancer and iptables - getting real client IPs for game server
Hello,

I run a minecraft game server, under Elastic Load Balancer. I know AWS have proxy protocol and people can get client's real IP addresses via HaProxy and apache. However, there's no solutions for game server.

It is very important for me to setup iptables to drop malicious requests and protect my servers, and for game server I need players IPs to block abusers. Is there any way for an EC2 to get real IP address right away?

As far as I can tell, AWS ELB should improve this for EC2 to get clients IPs by default. Google Cloud Load Balancer does a very good job with this specific feature, and with their autoscaling without prewarming."
Amazon EC2	"Instance Rebooted Automatically
My instance rebooted on July, 23rd 2015 twice.  At 4:56 EST and 5:37 EST.  These were not graceful shutdown / restarts.  Is this type of behavior to be expected?  Why was there zero notification or alert from Amazon?  I don't fault aws for having to reboot instances.  I am taken aback that there was zero communication.  I wasn't aware until I went through my logs.

Thanks in advance for any info provided."
Amazon EC2	"Re: Instance Rebooted Automatically
Hello,

I have just sent to you a private message.

Regards,
Giorgio"
Amazon EC2	"Reserved instance . Does one pay the hourly fee when it it not running.
Hi Group.

I am not really sure how reserved instance payment work.

At first I thougt that you payed the upfront fee, and then the hourly fee for the time it was actually running.

But then the reserved instance version with no upfront fee, makes no sense - because it would just be the same as a demand instance but cheaper.

Does one always pay the hourly fee for a reserved instance, no matter if it is running, stopped, or terminated?

Best regards.

Anders

Edited by: andersboth on Jul 22, 2015 9:35 AM"
Amazon EC2	"Re: Reserved instance . Does one pay the hourly fee when it it not running.
The answer to your question is buried in the middle of the EC2 FAQ: http://aws.amazon.com/ec2/faqs/
*Q: How do the payment options impact my bill?*

When you purchase an RI under the All Upfront payment option, you pay for the entire term of the RI in one upfront payment. You can choose to pay nothing upfront by choosing the No Upfront option. The entire value of the No Upfront RI is spread across every hour in the term and you will be billed for every hour in the term, regardless of usage. The Partial Upfront payment option is a hybrid of the All Upfront and No Upfront options. You make a small upfront payment, and you are billed a low hourly rate for every hour in the term regardless of usage.
The key words are ""regardless of usage"". 

Reserved instances only make sense when you plan to have an instance running for a large fraction of the time anyway. (Note that it doesn't have to be a single instance continuously running; the reservation will apply to whichever instances happen to be running at any particular point in time.)"
Amazon EC2	"Re: Reserved instance . Does one pay the hourly fee when it it not running.
ok - thx.

But then it makes no sense to buy anything else than the ""All Upfront reserved instance"".

(unless you want to borrow the money from Amazon)

I hope I get it now ."
Amazon EC2	"Re: Reserved instance . Does one pay the hourly fee when it it not running.
In this video from EC2 a 02:12.
https://www.youtube.com/watch?v=SUnjmoc7h70

The speaker says ""for Light Utilization and Medium Utilization you pay just for the hours you use""

I wrote billing support to ask, and will get back here when the answer.

Thx again."
Amazon EC2	"Re: Reserved instance . Does one pay the hourly fee when it it not running.
One always pay the hourly fee, but this has changes, a year ago it was different."
Amazon EC2	"Made a spot request sir-02ema42. 32 minutes later still pending-evaluation
is this normal?"
Amazon EC2	"Re: Made a spot request sir-02ema42. 32 minutes later still pending-evaluation
I canceled it 40 minutes in, still pending. Perhaps that was because I requested t2.micro which is probably not on the market."
Amazon EC2	"Re: Made a spot request sir-02ema42. 32 minutes later still pending-evaluation
Yes - you guessed it right. t2.micro is not supported on Spot."
Amazon EC2	"Re: Made a spot request sir-02ema42. 32 minutes later still pending-evaluation
Thanks. It would be nice for request evaluation to produce an error (as it does if other parameters are wrong) instead of waiting indefinitely."
Amazon EC2	"Can't Access Any EC2 Instances
The AWS account that I am using was accidentally disabled recently but it is back up and running.
However, ever since then I cannot access any of my instances.

The security groups for the instances have not changed and the status checks have all passed. I even restarted one of my stopped instances and tried accessing it once it was running and that didn't even work.

The running instances that I cannot access have the following ids: 
i-d6ee923b, i-2bdef826, i-9121379c

And the stopped instances are as follows:
i-051b6ee8, i-311f6adc"
Amazon EC2	"Re: Can't Access Any EC2 Instances
Hello,

I've seen that your account has been correctly reactivated, I reviewed your instances and they seems pretty well configured and responsive.

I have just perform some network connectivity check (ssh and http) and I was able to establish a tcp connection.

Are you still experiencing this issue? 
I am sending a private message with additional information.

Regards,
Giorgio"
Amazon EC2	"Instance unavailable - status checks
Hi.

I tried shutting down instance; i-926f0041 - then forcefully and it still isn't off.

The machine is unreachable and cannot be used. Please advise."
Amazon EC2	"Re: Instance unavailable - status checks
Hi voarsh,

I've seen that you were able to stop your instance and now is healthy and in a running state. 
Are you still experiencing any issue?

Regards,
Giorgio"
Amazon EC2	"Unable to start instance due to quota
I'm trying to start a m4.xlarge instance but get a message that I don't have any quota available. I curretnly don't have any m4.xlarge instances currently running on my account. I had my quota increased but I'm still unable to start the instance."
Amazon EC2	"Re: Unable to start instance due to quota
Hello mattbt,

I have just sent a private message to you.

Regards,
Giorgio"
Amazon EC2	"Preview CPU credit usage from an t2.large instance not update
Hello!

Recently i launched an t2.large Ec2 instance but at this moment the preview of CPU credit usage is not updating on CloudWatch.

Someone with the same problem?

Thanks!"
Amazon EC2	"Re: Preview CPU credit usage from an t2.large instance not update
Hello,

Thank you for your for posting on AWS Forum, I'll investigate this issue and will update through the forum correspondence.

Regards,
Giorgio"
Amazon EC2	"Re: Preview CPU credit usage from an t2.large instance not update
Hello Giorgio,

thank you for your help, 

I do not know what you refer to when you say Forum Correspondence, do you mean you will reply to this thread or are you referring to another area in the forums.  Sorry if this seems a silly question.

thanks
Mark"
Amazon EC2	"Re: Preview CPU credit usage from an t2.large instance not update
Hello Mark,

no problem, we will update this forum thread as soon as we get news on this.

Regards,
Giorgio"
Amazon EC2	"Re: Preview CPU credit usage from an t2.large instance not update
Hello lucianosantos,

Our EC2 Team is looking into this, in the meantime can you share you impacted resources?

Regards,
Giorgio"
Amazon EC2	"User initiated shutdown
Hi,
One of my ec2 instances is showing status ""running"" but the state transition reason is showing ""Client.UserInitiatedShutdown"". The website hosted there is running, but I cannot login to the instance itself. Does anybody know how to solve it?
Thanks,
Maria"
Amazon EC2	"Re: User initiated shutdown
Hello,

Could you please provide your instance ID for us to have a look.

Best regards,
RonnieN"
Amazon EC2	"Re: User initiated shutdown
Hi Ronnie,
After rebooting the instance I am able to login. But the state transition reason in details is still showing User Initiated Shutdown. The instance id: i-2ad5804f

Thank you,
Maria"
Amazon EC2	"Re: User initiated shutdown
Hi Maria,

I am showing your EC2 instance i-2ad5804f is in a running state. The EC2 instance and underlying-host both appear in good health. Can you try reloading the AWS Console to see if this message clears?

Regards,
Mohsin"
Amazon EC2	"Re: User initiated shutdown
Hi Mohsin,
Thank you for checking. The instance is running. It seems everything is working fine, but the message is still there.

Regards,
Maria"
Amazon EC2	"Re: User initiated shutdown
Hi Maria,

can you please attach a screenshot of your console that show the message? I will then engage our ec2 service team to have a look at this issue.

Regards,
Giorgio"
Amazon EC2	"Cannot log into ec2 via ssh even if i create new instance.
I Suddenly Cant Login to Instance via ssh putty , i have created 3 new instance and also tried to use new key file ? What might have suddenly happened ?
Also I tried 3 different os ununtu , amazon linux and centOs ?"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello,

Thank you for the post.

I took a look at your account ending in: 0342 and found that there is only one instance:  i-XXXXXX71 in running state. 

I performed a netcat command on the Elastic IP of this instance and I was able to connect successfully on port 22 (SSH). Please see the command below:
 nc -v 54.X.X.X 22
Connection to 54.X.X.X 22 port tcp/ssh succeeded!
SSH-2.0-OpenSSH_5.8p1 Debian-7ubuntu1

From the above output, it seems that the instance is listening on port 22 (SSH) and accepting connections on it.

Can you please check if you are using the correct SSH keypair? Are you receiving any errors while trying to SSH via PuTTY?

You can refer to this documentation for more information about 'Troubleshooting Connecting to Your Instance': http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello Nikhil , 
I Can Connect to The i-xxxxx71 Instance , that is not the issue , The issue is that I cannot Connect to any NEW INSTANCE I Create , I Tried Using New Key Pair also Old. I have Tried 3 Different IP Address also. I am Able to Connect to Old Instance That is Already On , But I Cannot Connect to New Instance."
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello,

Thanks for posting. Looking at the image you've attached as well as the instance that are running under your account I believe you are attempting to connect to instance i-26e7def5, if this is the case and you wish to connect over the public network, you'll need to configure an IGW in the VPC/Route Table. Currently I only see a local route:

Route Table: rtb-fb00fd9f
Destination 	Gateway 	Status
172.30.0.0/16 	local 	active


http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

Regards,
Brandon"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello ,

Thanks For the reply , i have seen previously i used all default settings and have continued  to do so , and had no problems in that. However As per my mistake you pointed out , I added the rule 0.0.0.0/32 in the route table with default IGW option that was available. You Can see in the screenshot , also inbound rule in security group is default which allows it ssh to be connected from any place.

Screenshot is Attached.

Also I created A new vpc , a new subnet and allowed rule 0.0.0.0/32 and used default 10.0.0.0/16 as local ips everywhere , and launched new instance into it , it does not show any private nor public ip in ec2 instance Details ?
Screenshot Attached

Edited by: kushvyas on Jul 23, 2015 1:17 AM"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello,

Looking at the screenshot I do see a private IP of 10.0.121.94. When you created the new VPC/subnet did you enable Auto-assign Public IP?

Auto-assign IP

I would also change your default route for the IGW to 0.0.0.0/0. Please see the following link:

Default Route

Regards,
Brandon"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hello ,

I have Enable The Auto Ip and Also Every Route table and igw has 0.0.0.0/32 enabled , still same i am not able to connect i terminated the old instance and created a new instance.

Kindly Help regrading this.

-Kush Vyas"
Amazon EC2	"Re: Cannot log into ec2 via ssh even if i create new instance.
Hi Kush,

for the route table rtb-6851970c can you please modify the value of your Destination CIDR
 from 
0.0.0.0/32
 to 0.0.0.0/0
 ?

Regards,
Giorgio"
Amazon EC2	"Issue: Instance networking unavailable
Hi,

I have serious issue with my instances - they can't reach dns resolver, other instances and can't connect to the instances from external network.

Can someone help me with it?"
Amazon EC2	"Re: Issue: Instance networking unavailable
Networking issues resolved"
Amazon EC2	"spot request with a specific VPC IP address
i can launch an instance with a specific VPC IP address.  is there a way to do this with a spot request?"
Amazon EC2	"Re: spot request with a specific VPC IP address
Hi,

Take a look at this regarding launching spot requests into a VPC.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-spot-instances-work.html#concepts-spot-instances-vpcs

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: spot request with a specific VPC IP address
this refers to subnets ... i am looking for a way to do a specific IP address.  the way to do it for a normal instance launch is not there for a spot request."
Amazon EC2	"Re: spot request with a specific VPC IP address
Hi,

You can add a network interface to the launch specification for your Spot Instances. This enables you to specify both primary and secondary private IP addresses.

I hope this helps. 

Julie"
Amazon EC2	"Instance Stuck in Stopping State i-6567ac19
Please force this instance down. We cannot seem to force it down via the console or CLI. Instance currently inaccessible."
Amazon EC2	"Elastic ip setup wont resolve the domain name
so i created a new server and was having the ec2 server name.
Created elastic ip and assigned the instance to the ip created.
after assigning i can no long access the web site using the dns name of the server.
went into godaddy and assigned the dns to the ip of the elastic ip .
took time to resolve but still cant open up the site what am i missing ?"
Amazon EC2	"Urgent: Please help - Amazon Linux instance will not boot successfully
We rebooted our main mail server in order to resize some disk partitions, and now it won't come up.

Status light shows green in the console, but we cannot access it via ping / SSH, even on the private IP address from another instance on the same VPC subnet.

Instance ID is i-97fa6b41

Here is the section in the system log that I suspect is the problem:


http://    1.192984 udevd789: starting version 173
udevd1211: failed to execute '/lib/udev/input_id' 'input_id /devices/platform/i8042/serio0/input/input0': No such file or directory

udevd1306: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory

growroot: NOCHANGE: disk=/dev/xvda partition=1: size=16773086, it cannot be grown
http://    1.412190 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.432447 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    1.440439 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.447785 dracut: Mounted root filesystem /dev/xvda1
http://    1.468376 dracut: Switching root
http://    1.528194 random: init urandom read with 116 bits of entropy available
http://    1.860121 tsc: Refined TSC clocksource calibration: 2499.998 MHz
http://    2.616619 random: nonblocking pool is initialized
		Welcome to Amazon Linux AMI
Starting udev: http://    2.706761 udevd1497: starting version 173
  OK  

http://    2.754087 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input2
http://    2.760257 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
http://    2.793179 ACPI: Power Button PWRF
http://    2.795381 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input3
http://    2.798793 ACPI: Sleep Button SLPF
http://    2.803140 evbug: Connected device: input0 (AT Translated Set 2 keyboard at isa0060/serio0/input0)
http://    2.808236 evbug: Connected device: input2 (Power Button at LNXPWRBN/button/input0)
http://    2.811651 evbug: Connected device: input3 (Sleep Button at LNXSLPBN/button/input0)
Setting hostname localhost.localdomain:    OK  

Setting up Logical Volume Management:   No volume groups found
  OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 99499/524288 files, 1514067/2096635 blocks
  OK  

Remounting root filesystem in read-write mode:  http://    2.972870 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:    OK  

Enabling /etc/fstab swaps:    OK  

Entering non-interactive startup
http://    3.163743 NET: Registered protocol family 10
Bringing up loopback interface:    OK  

Bringing up interface eth0:  
Determining IP information for eth0... failed.
FAILED

Starting auditd: http://    3.339682 audit: type=1305 audit(1437676466.511:2): audit_pid=1919 old=0 auid=4294967295 ses=4294967295 res=1
  OK  

Starting portreserve:   OK  

Starting system logger:   OK  

Starting irqbalance:   OK  

Starting system message bus:   OK  

Mounting filesystems:    OK  

Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  

Starting slapd:   OK  

Starting cloud-init: http://    3.864696 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
http://    3.873632 evbug: Connected device: input4 (ImExPS/2 Generic Explorer Mouse at isa0060/serio1/input0)
Cloud-init v. 0.7.6 running 'init-local' at Thu, 23 Jul 2015 18:34:27 +0000. Up 4.20 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Thu, 23 Jul 2015 18:34:27 +0000. Up 4.41 seconds.
Jul 23 18:34:27 cloud-init2073: util.pyWARNING: Route info failed: Unexpected error while running command.
Command: 
Exit code: 1
Reason: -
Stdout: 'Kernel IP routing table\nDestination     Gateway         Genmask         Flags   MSS Window  irtt Iface\n'
Stderr: ''
ci-info: ++++++++++++++++++++Net device info+++++++++++++++++++++
ci-info:  Device    Up    Address      Mask        Hw-Address    
ci-info:    lo     True  127.0.0.1  255.0.0.0          .         
ci-info:   eth0   False      .          .      12:6d:a4:a5:02:c1 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Jul 23 18:34:27 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:28 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:29 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:30 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:31 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:32 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:34 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:36 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:38 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:40 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:42 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:45 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:48 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:51 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:54 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:34:57 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:01 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:05 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 38/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:09 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 42/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:13 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 46/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:17 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 50/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:22 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 55/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:27 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 60/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:32 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 65/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:37 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 70/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:42 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 75/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:48 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 81/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:35:54 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 87/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:00 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 93/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:06 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 99/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:12 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 105/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:19 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 112/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:26 cloud-init2073: url_helper.pyWARNING: Calling 'http://169.254.169.254/latest/meta-data/instance-id' failed 119/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /latest/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)
Jul 23 18:36:33 cloud-init2073: DataSourceEc2.pyCRITICAL: Giving up on md from  after 126 seconds
Jul 23 18:36:34 cloud-init2073: cc_migrator.pyWARNING: Migrated semaphore consume_userdata.always to consume-data with frequency always
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Thu, 23 Jul 2015 18:36:34 +0000. Up 131.06 seconds.
Starting sshd:   OK  

ntpdate: Synchronizing with time server: FAILED

Starting ntpd:   OK"
Amazon EC2	"Re: Urgent: Please help - Amazon Linux instance will not boot successfully
I never received a reply so I rebuilt and reconfigured from scratch."
Amazon EC2	"Daily cost of EC2 server setup into S3 bucket
Hi, I set the billing preferences for my EC2 server to write daily billling reports into my configured S3 bucket.

However in the bucket I don't see daily pdf reports being written regularly. What is wrong here? Kindly assist. Thanks!"
Amazon EC2	"Re: Daily cost of EC2 server setup into S3 bucket
Ok I went to billing preferences and found the following :

You can also configure the granularity of these reports to display your AWS usage. In the table below, select whether you want the reports to display data by the the month, day, or hour. Your reports can also display usage by custom tags that you create, or by AWS resource.

How do I select data by the day? The options are cryptic."
Amazon EC2	"Access keys and access to different services (EC2 and S3)
Hi, I have ec2 server and using s3 (bucket) service as well.

There are some Apple IOS apps that can get access to s3 services and read the files in it (billing info).

However these IOS apps ask for access key and secret key. But the same keys give access to my ec2 server/instance as well.

Is there a way I can create access keys which give access to only a particular service (in this case only s3) ?

Kindly assist. Thanks!"
Amazon EC2	"Possible routing problem
Hi,

from several days ago we are experiencing problems connecting from any EC2 instance (we have tested instances at Ireland, Frankfurt and Oregon) to some servers that are reachable without any problems from other servers outside the AWS network.

Until now we have verified problems with these two servers hl100.dinaserver.com and hl135.dinaserver.com.

If you try to connect to these servers which are responding at least for ports 25 and 80, they are reachable from any other server we have tested except our EC2 instances.

Regards,

Ramiro"
Amazon EC2	"Re: Possible routing problem
We contacted also the target newtork owner and there was a problem on their end that they have solved and now is working again."
Amazon EC2	"ELB just won't accept SSL cert - really, it just won't
I am trying to add a Comodo wildcard SSL certificate in the Console. I have done this before without too much problem (once I found decent documentation on the correct way to put the cert chain in...). Now I get:

Error creating certificate
Unable to parse certificate. Please ensure the certificate is in PEM format.

I opened the certificate just fine in openssl, DigiCert's Certificate Utility, SSL Shopper's Tools, and in Windows. I used openssl to convert it to DER and back to PEM format just to make sure it was PEM format. I have triple checked there are no extra spaces or empty lines. I've tried submitting it to the ELB with and without the cert chain in the correct order as in the ELB SSL docs (and with and without the Root CA at the bottom of that chain).

I have followed these instructions and many others which say pretty much the same things about converting the private key and chaining the intermediate certificates: http://gc-taylor.com/blog/2013/03/29/namecheap-essentialssl-cert-chain-aws-elb/

Please, can someone suggest something new? Or try to get this cert to work?

The certificate is below as the forum won't let me upload.

-----BEGIN CERTIFICATE-----
MIIFTjCCBDagAwIBAgIRANEdaA01BdxhdFMMGb/pEOIwDQYJKoZIhvcNAQELBQAw
gZAxCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAO
BgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMTYwNAYD
VQQDEy1DT01PRE8gUlNBIERvbWFpbiBWYWxpZGF0aW9uIFNlY3VyZSBTZXJ2ZXIg
Q0EwHhcNMTQwNDIzMDAwMDAwWhcNMTUwNDIzMjM1OTU5WjBaMSEwHwYDVQQLExhE
b21haW4gQ29udHJvbCBWYWxpZGF0ZWQxHjAcBgNVBAsTFUVzc2VudGlhbFNTTCBX
aWxkY2FyZDEVMBMGA1UEAxQMKi5oYXdraXAuY29tMIIBIjANBgkqhkiG9w0BAQEF
AAOCAQ8AMIIBCgKCAQEA0tlJS7KxUyKU8prZx7JGY4st/mUzM8EqRk534epq0B81
5xV4W6SDvU+MvwXSQ+bFKfjshf7xlb+a1DHUWw7nz5tm45+3SukO5eWtGhnx95iG
dEUaFniwRFwbtn+EvPiiTeUsp4HYh+DZhWDUdNAKvB+ZfM8lNKqUDFGigjoutSUf
tMS9eIc+1G3rSA+mi7j4/N04ZiWh26MdSN6FyMf+9pvaDsOA0HWH6jvpjU20qs05
cnPTxcib2CsqI9CUmEZUq5aFdS1VeuxU3V+NuENsxQ3KYm17W+d6ChBQT1KUHFn3
t+5cRGftj920vBN/XySTfDuU4A3t0+hX4nhpcAwF2wIDAQABo4IB1jCCAdIwHwYD
VR0jBBgwFoAUkK9qOpRaC9iQ6hJWc99DtDoo2ucwHQYDVR0OBBYEFFnPKey8hrkE
UvVrjDSDhWrKxP/YMA4GA1UdDwEB/wQEAwIFoDAMBgNVHRMBAf8EAjAAMB0GA1Ud
JQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjBQBgNVHSAESTBHMDsGDCsGAQQBsjEB
AgEDBDArMCkGCCsGAQUFBwIBFh1odHRwczovL3NlY3VyZS5jb21vZG8ubmV0L0NQ
UzAIBgZngQwBAgEwVAYDVR0fBE0wSzBJoEegRYZDaHR0cDovL2NybC5jb21vZG9j
YS5jb20vQ09NT0RPUlNBRG9tYWluVmFsaWRhdGlvblNlY3VyZVNlcnZlckNBLmNy
bDCBhQYIKwYBBQUHAQEEeTB3ME8GCCsGAQUFBzAChkNodHRwOi8vY3J0LmNvbW9k
b2NhLmNvbS9DT01PRE9SU0FEb21haW5WYWxpZGF0aW9uU2VjdXJlU2VydmVyQ0Eu
Y3J0MCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5jb21vZG9jYS5jb20wIwYDVR0R
BBwwGoIMKi5oYXdraXAuY29tggpoYXdraXAuY29tMA0GCSqGSIb3DQEBCwUAA4IB
AQBXtu2Fb/01fNNc4d52dKWcPSIPK2dUx15FnhNT3B0Zyc9jNtKIbt6lxu+Ypkpe
HQBNzqi/IK1bPY1J5djawVw9Dvx5YrDMqnXPSNe6WsAdooB3oZW5+2DXmuKh5X6I
G/Ns7boKDcYOBuQasuKkvBZBLb9rZ1IYHr8KiVcDcMWwcJz8dxegxvsxd9T3YETS
Td1pwMrQrtKExDu0G9PIpN3r9aN4wwoP0/ECv9Pid99CIWMoWSW0NMTACP/RdgT6
DShXcD+00Sz27RRn5D2vhImBII183b4VtB3AuJ+6BEKLRo3HDfMXGTKXLAQfrsFY
qhnFBMp0zS8fdGN9U7yDKKVW
-----END CERTIFICATE-----"
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
Hello,

Can you provide the exact syntax you are using? It amy be that you are not specifying the file correctly.

For example when running this command

aws iam upload-server-certificate --server-certificate-name certApr2014 --certificate-body <cert_file> --private-key <key_file> --certificate-chain <chain_file>

there is difference in specifying <cert_file> or file://<cert_file> the first option will treat <cert_file> as the body of the certificate (which will result in an invalid certificate error, while file://<cert_file> will use the content of the file as a certificate.

I hope this helps."
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
Thank you for the response, however, as I said I'm using the Console, so no command line. For clarity, this is the ELB section of the EC2 Console. I'm unable to find a place to upload SSL Certs in the IAM Console, is there one?

Thank you."
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
I have errors using the command line too:
$ aws iam upload-server-certificate --server-certificate-name star.hawkip.com.Comodo.2014.04 --certificate-body file://star.hawkip.com.public.crt --private-key file://star.hawkip.com.key.crt
Â 
A client error (MalformedCertificate) occurred when calling the UploadServerCertificate operation: Unable to parse certificate. Please ensure the certificate is in PEM format.


The does not appear to be anything wrong with the certificate according to OpenSSL:

$ openssl x509 -in star.hawkip.com.public.crt -text -noout -inform PEM
Â 
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            d1:1d:68:0d:35:05:dc:61:74:53:0c:19:bf:e9:10:e2
        Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=GB, ST=Greater Manchester, L=Salford, O=COMODO CA Limited, CN=COMODO RSA Domain Validation Secure Server CA
        Validity
            Not Before: Apr 23 00:00:00 2014 GMT
            Not After : Apr 23 23:59:59 2015 GMT
        Subject: OU=Domain Control Validated, OU=EssentialSSL Wildcard, CN=*.hawkip.com
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:d2:d9:49:4b:b2:b1:53:22:94:f2:9a:d9:c7:b2:
                    46:63:8b:2d:fe:65:33:33:c1:2a:46:4e:77:e1:ea:


etc.

If it helps I can PM the private key (I can always revoke it afterwards)."
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
Can anybody help with this please? As far as I can see it is a fault with the ELB."
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
I experienced a similar issue which turned out to be due to my private key not being in PEM format (not the certificate itself).

The private key file should start with:
-----BEGIN RSA PRIVATE KEY-----

If it starts with:
-----BEGIN PRIVATE KEY-----

... it needs converting to pem format with:
openssl rsa -in yourdomain.key -outform PEM -out yourdomain_pem.key"
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
Thank you! I am pretty sure I did that conversion before and it hadn't fixed the issue.

However, Comodo sent me this link which I believe is a bit different from the instructions for Apache OpenSSL that they give during the issuing process:

http://docs.aws.amazon.com/IAM/latest/UserGuide/InstallCert.html

In these instructions it generates a PEM key in one step, and the CSR in a second step.

Anyway, whether that was it or not, this time it worked, and I've made detailed notes for next year!

Thank you again."
Amazon EC2	"Re: ELB just won't accept SSL cert - really, it just won't
Been banging my head against a brick wall with this for the last two hours, thanks for the info about the ""file://"" trick, that sorted it!"
Amazon EC2	"EC2 instance won't connect even after reboot
My EC2 was unreachable this morning, so I restarted it, and the log visible in the console says :

cloud-init v. 0.7.6 finished at Fri, 17 Jul 2015 14:35:18 +0000. Datasource DataSourceEc2.  Up 48.53 second
Amazon Linux AMI release 2015.03
Kernel 3.14.44-32.39.amzn1.x86_64 on an x86_64
cloud login: http://575628.907165 Setting capacity to 0
http://575628.908826 xvda: detected capacity change from 8589934592 to 0
http://575628.911481 end_request: I/O error, dev xvda, sector 13367552
http://575628.924624 end_request: I/O error, dev xvda, sector 12910552

It was also unreachable over SSH for a time, but is now back.

Had the EBS crashed ?!? Isn't this meant to be basically impossible ?

Edited by: Bob on Jul 23, 2015 11:53 PM"
Amazon EC2	"Re: EC2 instance won't connect even after reboot
Hi,

There might have been an underlying hardware host issues causing the instance to be unreachable.  When restarting your instance it will just restart on the same host.  However, if you stop and restart your instance there is a chance that it would spin up on a different physical host and therefore boot correctly.

Even in the cloud, hardware fails and software becomes unresponsive.  To prevent failures such as this you need to architect such a design.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"How to move to another zone?
I've been slogging through piles of documentation, but my head is spinning and I'm afraid I don't know where to even begin. I've been chasing my tail for at least an hour and I'm more confused than when I started.

My setup is pretty simpleâ€”a Server 2012 instance with a 50GB EBS volume, connecting to a single SQL Express RDS instance.

First I'd like to learn what zones are availableâ€”I'm in US-West currently, not comfortable thereâ€”then if someone could point me in the right direction with a high-level overview and references to the various documentation I'm going to need for the task I'd really appreciate it.

Thanks,
Jeff Bowman
Fairbanks, Alaska

Edited by: intexx on Jul 24, 2015 12:16 AM"
Amazon EC2	"Re: How to move to another zone?
Hi,

To find what availability zones exists in each region you can follow the steps here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#using-regions-availability-zones-describe

To move your EC2 instances to another region then you can use this documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#migrating-instance-availability-zone

One option in moving your RDS to another AZ you could perhaps set up Multi AZ
http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"How to make a local backup of an instance?
I want to have a local, offline copy of ubuntu instance. I tried exporting an instance but it doesn't seem to be possible with non-windows or non-imported instances. I also was going to try the bundle-vol way but my CLI doesn't seem to have such command, there's bundle-instance command but it seems to be restricted to Windows instances only too.
Is there actually a way to achieve what I want?"
Amazon EC2	"2014.03 fsck checks fail at boot
Since the 2014.03 update, most systems with LVM volumes are not able to be checked at boot by fsck.ext4, and thus systems fail to boot (press CTRL+D ...)

I'm able to work around this with the 'nofail' option in /etc/fstab, but just wondering if there is anyway to fix this in the Amazon Linux 2014.03 update?

Previously this was working just fine without the 'nofail' option; LVM volumes were checked properly at boot without issues.  Now all of the LVM volumes (LVs) show as ""nonexistent"" to fsck.ext4 (see below).

The output below is from a machine that had ""nofail"" in the /etc/fstab entries for LVM devices, and thus the system boots fine (and mounts these volumes just fine).  However, I was blindsided when several machines were updated via configuration management and all failed to boot due to this issue. Shame on me for not testing the update on one system first, luckily these were all development systems.


Checking filesystems
/dev/data/var: skipping nonexistent device
/dev/data/opt: skipping nonexistent device
/dev/data/www: skipping nonexistent device
Checking all file systems.
/sbin/fsck.ext4 (1) -- / fsck.ext4 -a /dev/xvda1 
/: clean, 68762/983040 files, 842010/3932160 blocks
  OK

Attaching full text ouptut that did not paste very well.

Edited by: Nicholas Webb on Apr 1, 2014 4:41 PM"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Thank you for reporting this issue.

Unfortunately, I haven't been able to recreate the problem either by starting from 2014.03 AMIs, or by upgrading 2013.09 AMIs to the new package set.

Most likely I haven't hit on the specific setup that's falling over in your case. Would you mind sharing your /etc/fstab and details of your LVM configuration? You can send them as a private message if you prefer."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Thanks BenC,

We are in the midst of monthly patching/maintenance, and I had a cluster of 5 systems have this issue, but other systems are not.  I think it may have something to do with ""-"" in the vg/lv names.  However, on one system with ""-"" in the VG name, I renamed it to have a ""_"" with vgrename, and the problem still persists.  With yet another instance with a similarly named VG with a ""-"", it doesn't seem to be a problem.

I'm sure there is some specific combo that's a problem, but I haven't been able to narrow it down just yet.

Here is an fstab from a system with the issue.

#
LABEL=/     /                ext4    defaults,noatime  1   1
/dev/dev-data/var     /var       ext4    defaults,noatime,nofail  1   2
/dev/dev-data/www     /var/www   ext4    defaults,noatime,nofail  1   2
tmpfs       /dev/shm         tmpfs   defaults        0   0
devpts      /dev/pts         devpts  gid=5,mode=620  0   0
sysfs       /sys             sysfs   defaults        0   0
proc        /proc            proc    defaults        0   0
/dev/sdc	/media/ephemeral0	auto	defaults,comment=cloudconfig	0	2
/dev/sda3	none	swap	sw,comment=cloudconfig	0	0

Also, it seems that /dev/sdc was added to fstab as part of the upgrade?  I don't recall seeing that there before..."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Here is another sample.  BTW, did I meet you at the Amazon Linux event in Seattle a few weeks back?

Setting up Logical Volume Management: http://37509418.463125 bio: create slab <bio-1> at 1
  1 logical volume(s) in volume group ""vg_www_files"" now active
  OK  

Checking filesystems
/dev/vg_www_files/www: nonexistent device (""nofail"" fstab option may be used to skip this device)
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 71760/3276800 files, 1028755/13107200 blocks
[/sbin/fsck.ext4 (1) -- /var/www] fsck.ext4 -a /dev/vg_www_files/www 
fsck.ext4: No such file or directory while trying to open /dev/vg_www_files/www
Possibly non-existent device?
FAILED






An error occurred during the file system check.
Dropping you to a shell; the system will reboot
when you leave the shell.





/dev/fd/9: line 2: plymouth: command not found
Give root password for maintenance
(or type Control-D to continue):"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
I missed the Seattle event, though several of my colleagues were there. Maybe next time! 

I've traced the LVM problem to the new util-linux package, which now uses /run for the mount and blkid caches. Unfortunately the resulting boot failure is intermittent and the regression slipped past our tests.

We'll release an updated util-linux soon that reverts to the old cache locations."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
I'm having this problem and my server won't boot. Is there a fix?"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Because it's an intermittent failure, you may be able to work around the failure by issuing reboot commands to the instance through the API or using the web console.

If the instance is using EBS for the root volume, you can stop it, detach the volume, attach it to another host, mount the filesystem, and edit /etc/fstab to add the ""nofail"" option to the LVM filesystems. Then reverse the process to attach the volume back to the original instance.

If the instance is using an S3-backed AMI with the root volume stored locally, you should not stop the instance as that will cause the data on the root filesystem to be lost.

I am very sorry that you were affected by this bug."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Hi Support , 

Same issue here ! I think most of the Amazon customers was affected by this bug.  

Please update to all , when the thing are going to be fixed ?

Thanks
Victor Woon 

http://16766580.340856 alg: No test for __gcm-aes-aesni (__driver-gcm-aes-aesni)
udevd570: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory

http://16766580.583398 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://16766580.592513 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://16766580.599694 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://16766580.603915 dracut: Mounted root filesystem /dev/xvda1
http://16766580.651919 dracut: Switching root
switch_root: failed to mount moving /run to /sysroot/run: No such file or directory
switch_root: forcing unmount of /run
		Welcome to Amazon Linux AMI
Starting udev: http://16766582.230533 udevd743: starting version 173
  OK  

udevd752: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv platform:pcspkr': No such file or directory

udevd753: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv platform:rtc_cmos': No such file or directory

udevd759: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv x86cpu:vendor:0000:family:0006:model:002D:feature:,0000,0002,0004,0005,0006,0008,000B,000F,0010,0013,0017,0018,0019,001A,001B,001C,002B,0034,003D,0068,006F,0070,0072,0074,0078,0080,0081,0089,008D,0091,0093,0094,0097,0098,0099,009F,00C0,00E1,00E3,00E4,00E5,00E6,00E7
': No such file or directory

udevd761: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv x86cpu:vendor:0000:family:0006:model:002D:feature:,0000,0002,0004,0005,0006,0008,000B,000F,0010,0013,0017,0018,0019,001A,001B,001C,002B,0034,003D,0068,006F,0070,0072,0074,0078,0080,0081,0089,008D,0091,0093,0094,0097,0098,0099,009F,00C0,00E1,00E3,00E4,00E5,00E6,00E7
': No such file or directory

Setting hostname ec2-g2g:    OK  

Setting up Logical Volume Management: http://16766582.473195 bio: create slab <bio-1> at 1
  4 logical volume(s) in volume group ""vg00"" now active
  2 logical volume(s) in volume group ""vg01"" now active
  OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
fsck.ext4: error while loading shared libraries: libext2fs.so.2: cannot open shared object file: No such file or directory
FAILED"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Hi Victor -

Your issue seems different from the one earlier in this thread: your root filesystem may be corrupt, leading to the errors running modprobe and loading the libext2fs.so.2 shared library.

You can try detaching the root volume as outlined earlier, then run fsck on that volume from a different instance. If the repair is successful, you should be able to mount the filesystem and verify that the contents are intact.

I'd also recommend rebuilding the initramfs on that filesystem to rule out possible corruption there.
chroot /mnt/<dir> /bin/bash
initrd=$(grubby --info=DEFAULT|grep '^initrd='|cut -d= -f2-)
kernel=$(grubby --info=DEFAULT|grep '^kernel=.*/vmlinuz-'|cut -d- -f2-)
dracut -f ${initrd} ${kernel}
exit


Those steps are a bit involved but should work even if the instance you're using to repair the volume is running a different kernel.

Alternatively you could edit /boot/grub.conf to set an older kernel as default.

Then you can unmount the volume and reattach it to the original instance and try the boot again."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Hi Support , 

It hasn't worked . Even I attach the root volume to other hosts and run the command as follows. FYI , we're using LVM (/usr , /tmp, /home, /var ,/var/www/html , /data) on the other volumes.

Please assist 

Solution provided by Amazon
chroot /mnt/<dir> /bin/bash
initrd=$(grubby --info=DEFAULT|grep '^initrd='|cut -d= -f2-)
kernel=$(grubby --info=DEFAULT|grep '^kernel=.*/vmlinuz-'|cut -d- -f2-)
dracut -f
exit

Error
initrd=$(grubby --info=DEFAULT|grep '^initrd='|cut -d= -f2-)
grubby: error while loading shared libraries: libglib-2.0.so.0: cannot open shared object file: No such file or directory

Edited by: VictorWoon521 on Apr 14, 2014 9:42 PM

Edited by: VictorWoon521 on Apr 14, 2014 9:47 PM"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Hi there,

We are trying to clean up some of these old posts and saw that we have missed responding to this issue, so I apologize for that.

Were you able to see this through? Based on your last response, it appears that initramfs didn't work. Did fsck work? It may be best to update the OS before running the fsck in case there have updates on it to address the issue."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
hi,

seen like i also been having the same problem after i update. I need to change the /etc/fstab to 
LABEL=/     /           ext4    defaults,noatime  1   0  
then only i can start my server

here is the error log i get

		Welcome to Amazon Linux AMI

Starting udev: http://    3.786191 udevd640: starting version 173

udevd660: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv platform:pcspkr': No such file or directory

udevd659: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv platform:rtc_cmos': No such file or directory

udevd693: failed to execute '/sbin/modprobe' '/sbin/modprobe -bv x86cpu:vendor:0000:family:0006:model:0017:feature:,0000,0002,0004,0005,0006,0008,000B,000F,0010,0013,0017,0018,0019,001A,001B,001C,002B,0034,003D,0068,006F,0070,0072,0074,0080,0089,008D,0093,009F,00C0': No such file or directory
  OK  

Setting hostname amazon64.offgamers:    OK  
Setting up Logical Volume Management: http://    5.084369 bio: create slab <bio-1> at 1
  4 logical volume(s) in volume group ""vg00"" now active
  2 logical volume(s) in volume group ""vg01"" now active
  OK  

Checking filesystems
Checking all file systems.
  OK  

Remounting root filesystem in read-write mode:  http://    5.716354 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:  http://    5.765723 EXT4-fs (dm-2): mounted filesystem with ordered data mode. Opts: (null)
http://    5.786985 EXT4-fs (dm-0): mounted filesystem with ordered data mode. Opts: (null)
http://    5.801793 EXT4-fs (dm-3): mounted filesystem with ordered data mode. Opts: (null)
http://    5.844821 EXT4-fs (dm-1): mounted filesystem with ordered data mode. Opts: (null)
http://    5.874619 EXT4-fs (dm-4): mounted filesystem with ordered data mode. Opts: (null)
http://    5.914949 EXT4-fs (dm-5): mounted filesystem with ordered data mode. Opts: (null)
  OK  

Enabling /etc/fstab swaps:    OK"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
VictorWoon521 wrote:
It hasn't worked . Even I attach the root volume to other hosts and run the command as follows. FYI , we're using LVM (/usr , /tmp, /home, /var ,/var/www/html , /data) on the other volumes.
...
grubby: error while loading shared libraries: libglib-2.0.so.0: cannot open shared object file: No such file or directory

I apologize that I missed your followup response in this thread, and haven't gotten back to you before now.

If I understand correctly, you were using LVM for /usr on the original instance. Libraries such as libglib-2.0.so.0 which live in /usr/lib would be missing if only the root volume was attached to a second instance. This would explain the grubby error.

It would also explain the fsck error - an update to e2fsprogs in the 2014.03 release caused the libraries to move from /lib to /usr/lib. The contents of a separate /usr filesystem would not yet be online when fsck is run on the root filesystem, leading to boot failure.

If you're still attempting to recover this instance, please send me a private message and I can help troubleshoot."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
glam85 - can you provide more details on your setup?

Do you have /usr on a separate filesystem as well? That could explain why disabling fsck for the root filesystem allows your instance to start."
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
I had this issue as well on a 2014.03 system without LVM. It took a lot of reboots, but fortunately the 'nonexistent devices' finally came back. Unfortunately, this was not a development system...

I hope this get fixed soon. I'm scared to reboot my instance now...

Edited by: sss-ec2 on Jul 13, 2014 6:07 AM"
Amazon EC2	"Re: 2014.03 fsck checks fail at boot
Hi, 

We encountered this issue also. We somehow turned of auto mount as workaround, which seems to be very poor solution. 

Could you please summarize any other solutions or better workarounds.

Thanks,
Kong"
Amazon EC2	"TCP connection after instance stopped
I have a process that will create a TCP connection to my EC2 instance.
But after I stop this instance, my process could still create a TCP connection to this instance.
I can't send any thing to this instance. This makes my process get stuck.
Could you give me any advice to avoid this situation?

thank you"
Amazon EC2	"Cannot remove Elastic IP
I'm trying to remove an Elastic IP and getting the following error:

52.0.239.134: The address with allocation id eipalloc-a8d2afcd cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 0f563f60-e131-4c54-a223-a9ac0f172e57)

There is a reverse DNS entry associated with this IP that I wish to be removed. Both the IP and the reverse DNS entry can be removed.

I tried to find the reverse DNS form but it's now pointing to a form about increasing the email sending limits."
Amazon EC2	"Re: Cannot remove Elastic IP
Hello,

Thank you for the post.

I took a look at your account ending in: 6359 and I couldn't find the Elastic IP address: 52.0.239.134 under this account.

Also, I tried to remove the reverse DNS entry for this EIP and found that this EIP is not owned by your account ending in: 6359.

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"AutoScaling start instances and terminate repeatedly.
Hi, all,

I am trying the AutoScaling in my EC2 environment recently.
But I encounter below strange issues.

First case, I successfully created the AutoScaling group  and the initial instance number is 1.
Then it create an instance (without public IP/Elastic IP) but with VPC.
But my php file_get_contents from S3 bucket can't work in this instance.
==>I got the answer by myself, pass the information for reference:
https://aws.amazon.com/blogs/aws/new-vpc-endpoint-for-amazon-s3/
but I got another issue is: in this instance, I also use php to do the authentication with facebook API, but it will failed.

Second case, I drop the first launch configuration and group, then create another configuration/group to create instance  with ""IP Address Type
Only assign a public IP address to instances launched in the default VPC and subnet. (default)"" option.
But the strange thing happen, the AutoScaling continue to start the instance and terminate repeatedly as attach screenshot.

I am not sure what's the problem with my configuration.

my account is:segabaha

Thanks for your help.
Ethan

Edited by: EthanTseng on Jul 23, 2015 4:10 PM

Edited by: EthanTseng on Jul 23, 2015 4:12 PM"
Amazon EC2	"Unable to login to our EBS r12 running on EC2
Hi, we have a EC2 instance running Oracle Enterprise Business Suite r12. And for several months we have been experiencing something weird where access we can't login to our EBS r12 using Firefox, so then we use Chrome and it works fine for a couple months but then stops letting us login and so on the same result with Safari, IE, Opera etc...now we can't login at all.

We have cleared our systems cache and cookies as well have changed local IP's and dnsflush but nothing works.

Has anyone had this issue before?"
Amazon EC2	"Fail to connect server using ssh (Permission denied (publickey).
Is anyone help me??

Follow is the connect information...

I had set the .ssh and it's child files correct permission....

Hs-MacBook-Pro:~ liangrongze$ sudo ssh -i /Users/liangrongze/Documents/aws/mimoshow-toyota.pem ec2-user@54.65.30.137 -vvv
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 54.65.30.137 http://54.65.30.137 port 22.
debug1: Connection established.
debug1: permanently_set_uid: 0/0
debug3: Incorrect RSA1 identifier
debug3: Could not load ""/Users/liangrongze/Documents/aws/mimoshow-toyota.pem"" as a RSA1 public key
debug1: identity file /Users/liangrongze/Documents/aws/mimoshow-toyota.pem type -1
debug1: identity file /Users/liangrongze/Documents/aws/mimoshow-toyota.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.2
debug1: match: OpenSSH_6.2 pat OpenSSH*
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host ""54.65.30.137"" from file ""/var/root/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /var/root/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa,ssh-dss-cert-v01@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug2: mac_setup: found hmac-md5-etm@openssh.com
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 126/256
debug2: bits set: 510/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA e4:9c:ba:98:ab:2f:6b:44:1f:b2:23:a4:70:25:a1:9b
debug3: load_hostkeys: loading entries for host ""54.65.30.137"" from file ""/var/root/.ssh/known_hosts""
debug3: load_hostkeys: found key type RSA in file /var/root/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug1: Host '54.65.30.137' is known and matches the RSA host key.
debug1: Found key in /var/root/.ssh/known_hosts:1
debug2: bits set: 543/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /Users/liangrongze/Documents/aws/mimoshow-toyota.pem (0x0), explicit
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /Users/liangrongze/Documents/aws/mimoshow-toyota.pem
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey: RSA 1f:fb:f2:c3:0e:a9:7d:77:e1:7f:47:31:ea:98:3d:c1
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug2: we did not send a packet, disable method
debug1: No more authentication methods to try.
Permission denied (publickey)."
Amazon EC2	"Re: Fail to connect server using ssh (Permission denied (publickey).
Hello,

Thank you for the post.

I took a look at your instance: i-XXXX38bd and everything seems to be operating normally at the infrastructure level. Also, I tried to check the connection to port 22 (SSH) and I was able to connect successfully from our end. Please see below the command I performed to check this:
nc -v 54.X.X.X 22
Connection to 54.X.X.X 22 port tcp/ssh succeeded!
SSH-2.0-OpenSSH_6.2

From the above output, it seems that the instance is accepting connections on port 22 (SSH). Also, looking at the debug output of the SSH command, this seems to be a permission issue.

You can check the following information in order to troubleshoot this issue further:

Check if the permissions are set up correctly for 'authorized_keys' file under '.ssh' folder and '.ssh' folder under 'ec2-user' home folder and also check if they have the correct owner
Verify that you are connecting with the appropriate user name for your AMI and SSH key pair
You can also check the SSH logs under /var/log/auth.log or /var/log/secure directory to get more information about login failure


Also, for more information about 'Troubleshooting Connecting to Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Can't stop my instance. It is stuck in the process.
Trying to stop the EC2 instance. It has been stuck for a while. Instance ID: i-7eda543d. 
Also, I'm unable to see my Public DNS and Public IP of my new instance with this ID: i-2673908b.

Can someone help me?"
Amazon EC2	"Re: Can't stop my instance. It is stuck in the process.
Hello,

Thank you for the post.

I took a look at your instance: i-7eda543d and found that this instance is in 'stopped' state at this point in time. If you continue working on this instance, you can perform a start operation which will migrate the instance to a new underlying hardware.

For more information about 'Troubleshooting Stopping Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Furthermore, looking at the instance: i-2673908b, I see that this instance is launched in a default VPC. Instances that you launch into a default subnet receive both a public IP address and a private IP address. Instances in a default subnet also receive both public and private DNS hostnames. However, if you change your subnet's default public IP addressing behavior, then your instance may not receive a public IP address and public DNS hostname.

More information about 'Default VPC Public IP address' can be found on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html#differences-ec2-classic-vpc

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Spot instance request bouncing between pending-eval and pending-fulfillment
Hello,

I have tried to submit some spot instance requests for g2.x2large instances and I noticed that the status kept bouncing between pending-evaluation and pending-fulfillment. I have read on the forum that it might be a problem with my account. Could someone please check it?

The spot request id's are: 

sir-05f43qw5
sir-05f6jaa8"
Amazon EC2	"Re: Spot instance request bouncing between pending-eval and pending-fulfillment
Tried again after 12hrs and everything seems to work. Thanks."
Amazon EC2	"Please kill i-b9e94672 (us-west-1)
I received a retirement notice, and I tried to ""terminate"" the instance, but it stuck in ""shutting down"".

Please terminate i-b9e94672, us-west-1."
Amazon EC2	"Re: Please kill i-b9e94672 (us-west-1)
Hello,

Thank you for the post.

I took a look at the instance: i-b9e94672 and found that this instance is terminated at this point in time. Furthermore, it seems that there was an issue with the underlying hardware when you performed a 'terminate' operation, therefore, the instance stuck in 'shutting down' state.

For more information about 'Troubleshooting Terminating (Shutting Down) Your Instance', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesShuttingDown.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Server becomes unreachable - change root device?
I'm new to AWS so this might be a simple fix - I'm not sure.

I have an EBS-Backed Linux AMI, which starts fine, then sometime later, becomes unreachable. The instance ID is: i-8d9f62c8 and is the volume ID is: vol-4a612856

I've stopped and started the instance and read through the console log (attached), and it sounds like I need to change the root device in the kernel command line but I'm not sure if I can do that while the instance is running.

The log reads: ""You might have to change the root device from /dev/hda-d to /dev/xvda-d in your root= kernel command line option"".

The grub.conf file currently reads:
# created by imagebuilder
default=0
timeout=1
hiddenmenu
Â 
title Amazon Linux 2014.09 (3.14.27-25.47.amzn1.x86_64)
root (hd0,0)
kernel /boot/vmlinuz-3.14.27-25.47.amzn1.x86_64 root=LABEL=/ console=ttyS0 LANG$
initrd /boot/initramfs-3.14.27-25.47.amzn1.x86_64.img
Â 
title Amazon Linux 2014.09 (3.14.26-24.46.amzn1.x86_64)
root (hd0,0)
kernel /boot/vmlinuz-3.14.26-24.46.amzn1.x86_64 root=LABEL=/ console=ttyS0 LANG$
initrd /boot/initramfs-3.14.26-24.46.amzn1.x86_64.img
Â 
title Amazon Linux 2014.09 (3.14.20-20.44.amzn1.x86_64)
root (hd0,0)
kernel /boot/vmlinuz-3.14.20-20.44.amzn1.x86_64 root=LABEL=/ console=ttyS0
initrd /boot/initramfs-3.14.20-20.44.amzn1.x86_64.img

Should I change the root device in the command line or attach the EBS volume to a different root device, and what should that be?

Here is the latest console log from 25th January after the server became unreachable again:
[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 3.14.27-25.47.amzn1.x86_64 (mockbuild@gobi-build-60001) (gcc version 4.8.2 20140120 (Red Hat 4.8.2-16) (GCC) ) #1 SMP Wed Dec 17 18:36:15 UTC 2014
[    0.000000] Command line: root=LABEL=/ console=ttyS0 LANG=en_US.UTF-8 KEYTABLE=us
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000003fffffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.4 present.
[    0.000000] Hypervisor detected: Xen HVM
[    0.000000] Xen version 4.2.
[    0.000000] Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
[    0.000000] Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
[    0.000000] You might have to change the root device
[    0.000000] from /dev/hd[a-d] to /dev/xvd[a-d]
[    0.000000] in your root= kernel command line option
[    0.000000] No AGP bridge found
[    0.000000] e820: last_pfn = 0x40000 max_arch_pfn = 0x400000000
[    0.000000] x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
[    0.000000] found SMP MP-table at [mem 0x000fbba0-0x000fbbaf] mapped at [ffff8800000fbba0]
[    0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff]
[    0.000000] init_memory_mapping: [mem 0x3fe00000-0x3fffffff]
[    0.000000] init_memory_mapping: [mem 0x3c000000-0x3fdfffff]
[    0.000000] init_memory_mapping: [mem 0x00100000-0x3bffffff]
[    0.000000] RAMDISK: [mem 0x3745e000-0x37feffff]
[    0.000000] ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
[    0.000000] ACPI: XSDT 00000000fc00f710 00005C (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] ACPI: FACS 00000000fc0035a0 000040
[    0.000000] ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: SRAT 00000000fc00f4b0 000170 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: HPET 00000000fc00f620 000038 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: WAET 00000000fc00f660 000028 (v01    Xen      HVM 00000000 HVML 00000000)
[    0.000000] ACPI: SSDT 00000000fc00f690 000031 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] ACPI: SSDT 00000000fc00f6d0 000031 (v02    Xen      HVM 00000000 INTL 20090123)
[    0.000000] SRAT: PXM 0 -> APIC 0x00 -> Node 0
[    0.000000] SRAT: Node 0 PXM 0 [mem 0x00000000-0x3fffffff]
[    0.000000] NUMA: Warning: invalid memblk node 0 [mem 0x100000000-0xbfffffff]
[    0.000000] SRAT: Node 0 PXM 0 [mem 0x100000000-0xbfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x3fffffff]
[    0.000000]   NODE_DATA [mem 0x3ffd9000-0x3fffffff]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x00001000-0x00ffffff]
[    0.000000]   DMA32    [mem 0x01000000-0xffffffff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00001000-0x0009dfff]
[    0.000000]   node   0: [mem 0x00100000-0x3fffffff]
[    0.000000] ACPI: PM-Timer IO Port: 0xb008
[    0.000000] ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x01] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x02] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x03] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x04] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x05] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x06] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x07] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x08] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x09] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0a] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0b] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0c] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0d] lapic_id[0x00] disabled)
[    0.000000] ACPI: LAPIC (acpi_id[0x0e] lapic_id[0x00] disabled)
[    0.000000] ACPI: IOAPIC (id[0x01] address[0xfec00000] gsi_base[0])
[    0.000000] IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 15 CPUs, 14 hotplug CPUs
[    0.000000] e820: [mem 0x40000000-0xfbffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on Xen HVM
[    0.000000] setup_percpu: NR_CPUS:64 nr_cpumask_bits:64 nr_cpu_ids:15 nr_node_ids:1
[    0.000000] PERCPU: Embedded 27 pages/cpu @ffff88003fc00000 s80000 r8192 d22400 u131072
[    0.000000] Built 1 zonelists in Node order, mobility grouping on.  Total pages: 257928
[    0.000000] Policy zone: DMA32
[    0.000000] Kernel command line: root=LABEL=/ console=ttyS0 LANG=en_US.UTF-8 KEYTABLE=us
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] xsave: enabled xstate_bv 0x7, cntxt size 0x340
[    0.000000] Checking aperture...
[    0.000000] No AGP bridge found
[    0.000000] Memory: 1003904K/1048180K available (4709K kernel code, 843K rwdata, 2164K rodata, 1088K init, 1704K bss, 44276K reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] 	Additional per-CPU info printed with stalls.
[    0.000000] 	RCU restricting CPUs from NR_CPUS=64 to nr_cpu_ids=15.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=15
[    0.000000] NR_IRQS:4352 nr_irqs:1208 16
[    0.000000] xen:events: Using 2-level ABI
[    0.000000] xen:events: Xen HVM callback vector for event delivery is enabled
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] console [ttyS0] enabled
[    0.000000] allocated 4194304 bytes of page_cgroup
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
[    0.000000] tsc: Detected 2500.040 MHz processor
[    0.008000] Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.08 BogoMIPS (lpj=10000160)
[    0.008005] pid_max: default: 32768 minimum: 301
[    0.009586] ACPI: Core revision 20131218
[    0.015426] ACPI: All ACPI Tables successfully acquired
[    0.017275] Security Framework initialized
[    0.019045] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
[    0.020221] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
[    0.024103] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)
[    0.026499] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes)
[    0.028168] Initializing cgroup subsys memory
[    0.029740] Initializing cgroup subsys devices
[    0.032003] Initializing cgroup subsys freezer
[    0.033551] Initializing cgroup subsys net_cls
[    0.036005] Initializing cgroup subsys blkio
[    0.037459] Initializing cgroup subsys perf_event
[    0.039211] Initializing cgroup subsys hugetlb
[    0.040059] CPU: Physical Processor ID: 0
[    0.042285] mce: CPU supports 2 MCE banks
[    0.044025] Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
[    0.044025] Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
[    0.044025] tlb_flushall_shift: 6
[    0.061555] ftrace: allocating 18759 entries in 74 pages
[    0.080117] Switched APIC routing to physical flat.
[    0.084322] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
[    0.127672] smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
[    0.130582] installing Xen timer for CPU 0
[    0.132078] cpu 0 spinlock event irq 69
[    0.136971] Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
[    0.140812] x86: Booted up 1 node, 1 CPUs
[    0.143279] smpboot: Total of 1 processors activated (5000.08 BogoMIPS)
[    0.144482] devtmpfs: initialized
[    0.148515] NET: Registered protocol family 16
[    0.150582] cpuidle: using governor ladder
[    0.152007] cpuidle: using governor menu
[    0.153590] ACPI: bus type PCI registered
[    0.155248] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.156297] PCI: Using configuration type 1 for base access
[    0.160312] bio: create slab <bio-0> at 0
[    0.162048] ACPI: Added _OSI(Module Device)
[    0.163725] ACPI: Added _OSI(Processor Device)
[    0.164013] ACPI: Added _OSI(3.0 _SCP Extensions)
[    0.165862] ACPI: Added _OSI(Processor Aggregator Device)
[    0.171086] ACPI: Interpreter enabled
[    0.172011] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20131218/hwxface-580)
[    0.176012] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20131218/hwxface-580)
[    0.179720] ACPI: (supports S0 S3 S5)
[    0.180009] ACPI: Using IOAPIC for interrupt routing
[    0.182149] PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
[    0.249112] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    0.251716] acpi PNP0A03:00: _OSC: OS supports [Segments MSI]
[    0.252015] acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
[    0.255122] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
[    0.256723] acpiphp: Slot [0] registered
[    0.258963] acpiphp: Slot [3] registered
[    0.260351] acpiphp: Slot [4] registered
[    0.262183] acpiphp: Slot [5] registered
[    0.263947] acpiphp: Slot [6] registered
[    0.264328] acpiphp: Slot [7] registered
[    0.266177] acpiphp: Slot [8] registered
[    0.267982] acpiphp: Slot [9] registered
[    0.268373] acpiphp: Slot [10] registered
[    0.270271] acpiphp: Slot [11] registered
[    0.272077] acpiphp: Slot [12] registered
[    0.274116] acpiphp: Slot [13] registered
[    0.275945] acpiphp: Slot [14] registered
[    0.276285] acpiphp: Slot [15] registered
[    0.278354] acpiphp: Slot [16] registered
[    0.280164] acpiphp: Slot [17] registered
[    0.282058] acpiphp: Slot [18] registered
[    0.284000] acpiphp: Slot [19] registered
[    0.284257] acpiphp: Slot [20] registered
[    0.286252] acpiphp: Slot [21] registered
[    0.288311] acpiphp: Slot [22] registered
[    0.290134] acpiphp: Slot [23] registered
[    0.292000] acpiphp: Slot [24] registered
[    0.292299] acpiphp: Slot [25] registered
[    0.294234] acpiphp: Slot [26] registered
[    0.296073] acpiphp: Slot [27] registered
[    0.298026] acpiphp: Slot [28] registered
[    0.299795] acpiphp: Slot [29] registered
[    0.300269] acpiphp: Slot [30] registered
[    0.302240] acpiphp: Slot [31] registered
[    0.303997] PCI host bridge to bus 0000:00
[    0.304009] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.306199] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7]
[    0.308006] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff]
[    0.310506] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff]
[    0.312004] pci_bus 0000:00: root bus resource [mem 0xf0000000-0xfbffffff]
[    0.320093] * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
[    0.320093] * this clock source is slow. Consider trying other clock sources
[    0.325048] pci 0000:00:01.3: quirk: [io  0xb000-0xb03f] claimed by PIIX4 ACPI
[    0.333279] ACPI: PCI Interrupt Link [LNKA] (IRQs *5 10 11)
[    0.336000] ACPI: PCI Interrupt Link [LNKB] (IRQs 5 *10 11)
[    0.336875] ACPI: PCI Interrupt Link [LNKC] (IRQs 5 10 *11)
[    0.339631] ACPI: PCI Interrupt Link [LNKD] (IRQs *5 10 11)
[    0.356791] ACPI: Enabled 2 GPEs in block 00 to 0F
[    0.358936] xen:balloon: Initialising balloon driver
[    0.364142] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
[    0.368008] vgaarb: loaded
[    0.369158] vgaarb: bridge control possible 0000:00:02.0
[    0.371335] PCI: Using ACPI for IRQ routing
[    0.372460] NetLabel: Initializing
[    0.373884] NetLabel:  domain hash size = 128
[    0.376010] NetLabel:  protocols = UNLABELED CIPSOv4
[    0.378419] NetLabel:  unlabeled traffic allowed by default
[    0.380029] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
[    0.382915] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    0.384550] hpet0: 3 comparators, 64-bit 62.500000 MHz counter
[    0.388026] Switched to clocksource xen
[    0.394412] pnp: PnP ACPI init
[    0.395765] ACPI: bus type PNP registered
[    0.397635] system 00:00: [mem 0x00000000-0x0009ffff] could not be reserved
[    0.400613] system 00:02: [io  0x08a0-0x08a3] has been reserved
[    0.403012] system 00:02: [io  0x0cc0-0x0ccf] has been reserved
[    0.405457] system 00:02: [io  0x04d0-0x04d1] has been reserved
[    0.408100] system 00:0a: [io  0x10c0-0x1141] has been reserved
[    0.410934] system 00:0a: [io  0xb044-0xb047] has been reserved
[    0.429167] pnp: PnP ACPI: found 11 devices
[    0.430825] ACPI: bus type PNP unregistered
[    0.439186] NET: Registered protocol family 2
[    0.441153] TCP established hash table entries: 8192 (order: 4, 65536 bytes)
[    0.444515] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
[    0.448030] TCP: Hash tables configured (established 8192 bind 8192)
[    0.451250] TCP: reno registered
[    0.452795] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.455795] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.459218] NET: Registered protocol family 1
[    0.461606] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    0.464636] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    0.466953] pci 0000:00:01.0: Activating ISA DMA hang workarounds
[    0.469761] Unpacking initramfs...
[    0.635521] Freeing initrd memory: 11848K (ffff88003745e000 - ffff880037ff0000)
[    0.639553] futex hash table entries: 4096 (order: 6, 262144 bytes)
[    0.642300] audit: initializing netlink subsys (disabled)
[    0.644576] audit: type=2000 audit(1421896166.276:1): initialized
[    0.662161] bounce pool size: 64 pages
[    0.663688] HugeTLB registered 2 MB page size, pre-allocated 0 pages
[    0.668218] zbud: loaded
[    0.669425] VFS: Disk quotas dquot_6.5.2
[    0.670970] Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    0.673679] msgmni has been set to 1983
[    0.675631] alg: No test for stdrng (krng)
[    0.677384] Key type asymmetric registered
[    0.679147] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[    0.682121] io scheduler noop registered (default)
[    0.684081] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[    0.686691] xen:grant_table: Grant tables using version 1 layout
[    0.689132] Grant table initialized
[    0.690743] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
[    0.719075] 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    0.730344] xen_netfront: Initialising Xen virtual ethernet driver
[    0.749981] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
[    0.754682] serio: i8042 KBD port at 0x60,0x64 irq 1
[    0.756690] serio: i8042 AUX port at 0x60,0x64 irq 12
[    0.758865] mousedev: PS/2 mouse device common for all mice
[    0.761752] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
[    0.765548] hidraw: raw HID events driver (C) Jiri Kosina
[    0.767795] TCP: cubic registered
[    0.769141] NET: Registered protocol family 17
[    0.771161] registered taskstats version 1
[    0.784991] blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
[    0.794316]  xvda: xvda1
[    0.872074] xenbus_probe_frontend: Device with no driver: device/vfb/0
[    0.875957] Freeing unused kernel memory: 1088K (ffffffff81ad4000 - ffffffff81be4000)
[    0.879058] Write protecting the kernel read-only data: 10240k
[    0.884266] Freeing unused kernel memory: 1424K (ffff88000149c000 - ffff880001600000)
[    0.891546] Freeing unused kernel memory: 1932K (ffff88000181d000 - ffff880001a00000)
[    0.907594] device-mapper: uevent: version 1.0.3
[    0.909581] device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
[    0.916513] udevd[779]: starting version 173
udevd[1137]: failed to execute '/lib/udev/input_id' 'input_id /devices/platform/i8042/serio0/input/input0': No such file or directory
udevd[1207]: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory
growroot: NOCHANGE: disk=/dev/xvda partition=1: size=16773086, it cannot be grown
[    1.148922] EXT4-fs (xvda1): INFO: recovery required on readonly filesystem
[    1.151835] EXT4-fs (xvda1): write access will be enabled during recovery
[    1.636084] tsc: Refined TSC clocksource calibration: 2499.998 MHz
[    3.148195] random: nonblocking pool is initialized
[    3.406818] EXT4-fs (xvda1): orphan cleanup on readonly fs
[    3.416121] EXT4-fs (xvda1): 5 orphan inodes deleted
[    3.418043] EXT4-fs (xvda1): recovery complete
[    3.424029] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
[    3.431639] dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
[    3.438716] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
[    3.445840] dracut: Mounted root filesystem /dev/xvda1
[    3.467417] dracut: Switching root
image_name=""amzn-ami-hvm""
image_version=""2014.09""
image_arch=""x86_64""
image_file=""amzn-ami-hvm-2014.09.1.x86_64.ext4.gpt""
image_stamp=""107a-992d""
image_date=""20141008012542""
recipe_name=""amzn ami""
recipe_id=""4e7dd91c-27e7-61e3-82fc-4134-e2a6-6a2a-44a18793""
Â 
Welcome to Amazon Linux AMI
Starting udev: [    4.748310] udevd[1398]: starting version 173
[    4.836290] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input2
[    4.840451] ACPI: Power Button [PWRF]
[    4.843890] input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input3
[    4.846758] ACPI: Sleep Button [SLPF]
[    4.853474] piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
[    5.915150] input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4 [  OK  ]
Setting hostname localhost.localdomain:  [  OK  ]
Setting up Logical Volume Management:   No volume groups found [  OK  ]
Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 46802/524288 files, 437234/2096635 blocks [  OK  ]
Remounting root filesystem in read-write mode:  [    8.118137] EXT4-fs (xvda1): re-mounted. Opts: (null) [  OK  ]
Mounting local filesystems:  [  OK  ]
Enabling /etc/fstab swaps:  [  OK  ]
Entering non-interactive startup
[    8.328351] NET: Registered protocol family 10
Bringing up loopback interface:  [  OK  ]
Bringing up interface eth0:  
Determining IP information for eth0... done. [  OK  ]
Starting auditd: [   12.560572] audit: type=1305 audit(1421896178.192:2): audit_pid=1952 old=0 auid=4294967295 ses=4294967295 res=1 [  OK  ]
Starting system logger: [  OK  ]
Starting irqbalance: [  OK  ]
Starting rngd: [  OK  ]
Starting system message bus: [  OK  ]
Mounting filesystems:  [  OK  ]
Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release. [  OK  ]
Starting cloud-init: Cloud-init v. 0.7.2 running 'init-local' at Thu, 22 Jan 2015 03:09:38 +0000. Up 13.35 seconds.
Starting cloud-init: Cloud-init v. 0.7.2 running 'init' at Thu, 22 Jan 2015 03:09:39 +0000. Up 13.62 seconds.
ci-info: ++++++++++++++++++++++Net device info+++++++++++++++++++++++
ci-info:  Device   Up    Address         Mask          Hw-Address    
ci-info:    lo    True  127.0.0.1     255.0.0.0            .         
ci-info:   eth0   True  172.31.5.1  255.255.240.0  0a:ab:3b:70:c5:d1 
ci-info: ++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination     Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.0.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254   0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2       172.31.0.0     0.0.0.0     255.255.240.0      eth0      U   
Starting cloud-init: Cloud-init v. 0.7.2 running 'modules:config' at Thu, 22 Jan 2015 03:09:40 +0000. Up 14.46 seconds.
Starting sshd: [  OK  ]
ntpdate: Synchronizing with time server: [  OK  ]
Starting ntpd: [  OK  ]
Starting mysqld:  [  OK  ]
Starting sendmail: [  OK  ]
Starting sm-client: [  OK  ]
Starting httpd: [  OK  ]
Starting crond: [  OK  ]
Starting atd: [  OK  ]
Starting cloud-init: Cloud-init v. 0.7.2 running 'modules:final' at Thu, 22 Jan 2015 03:10:24 +0000. Up 57.95 seconds.
Cloud-init v. 0.7.2 finished at Thu, 22 Jan 2015 03:10:24 +0000. Datasource DataSourceEc2.  Up 58.77 seconds
Amazon Linux AMI release 2014.09
Kernel 3.14.27-25.47.amzn1.x86_64 on an x86_64

Can anyone point me in the right direction with this please?

Edited by: wptechcentre on Jan 25, 2015 9:24 PM"
Amazon EC2	"Re: Server becomes unreachable - change root device?
Bump* i have the same problem.
Edit:  i-1122a6c2 

Instance becomes randomly unresponsive; nothing can be reached. I can reboot it, and it works for awhile. The server is virtually unused and Cloud Metrics show it (max 25% cpu spike. hardly any IO, http installed but only available to me as a private server). Centos 7, updated. 

:S

Edited by: omgnotagain on Jul 3, 2015 12:12 PM"
Amazon EC2	"Re: Server becomes unreachable - change root device?
My instance just randomly stopped communicating with my RDS instance today, and the logs I'm seeing are almost identical. Any updates on this?"
Amazon EC2	"Re: Server becomes unreachable - change root device?
I'm not sure which steps fixed the issue, but I did the following:

1. I stopped the instance (didn't just restart it) to keep it from constantly throwing alerts.
2. I started the instance to check a few things
3. Upon login, I saw the following:
130 packages can be updated.
64 updates are security updates.

4. I ran the following to update:
sudo apt-get update
sudo apt-get upgrade

5. I restarted the instance.

Everything is now moving quickly, and my processes ran without issue. I hope this helps."
Amazon EC2	"Attempt to Mount Produces ""wrong fs type""
I have an EBS volume that I have used as a root volume (and am currently using as that). I am attempting to mount it as a secondary volume on another running instance of the same type (Amazon Linux). The volume attaches as /dev/sdj in the AWS interface without a problem, but when I attempt to mount it on the new volume (mount /dev/sdj /mnt     or   mount /dev/sdj /mnt -t ext4) is says it is not an ext4 volume!  But it IS because I can boot off of it as a root Linux partition!

How can I get this volume to mount?

I need to mount it to change some access rules because it currently won't allow me to access it via SSH when booted as a root volume."
Amazon EC2	"Re: Attempt to Mount Produces ""wrong fs type""
In case anyone else runs into this I'll post what I learned:

When attaching as a secondary volume I used to name /dev/sdf

When mounting the secondary volume (using /mnt as the mount point):

mount /dev/sdf1 /mnt -t ext4

(The 1 specifies which partition of the volume to be mounted.)"
Amazon EC2	"High outbound traffic, growing every month
Hello!

We have five instances and the communication between then are through private IP, same AZ. Another instance from another account was recently configured to communicate with peer connection, so traffic is billed as between AZs and not as external.

The ammount of output data reaches 50-100 GB per day. This is not the actual throuput of our application.

We installed Bandwithd but something is not logged.

Our instances:
i-5289ca46, i-768fcc62, i-c309a4d6, i-ca93d0de, i-fd95f0e9.
Instance from other account:
i-082b611c

$0.250 per GB - up to 10 TB / month data transfer out
Jan/2015: 539.326 GB
Feb/2015: 531.087 GB
Mar/2015: 1,014.162 GB
Apr/2015: 1,467.970 GB
May/2015: 1,718.428 GB
Jun/2015: 1,983.477 GB
Jul/2015: 1,750.387 GB

Until February, the output data was always the same. After that, we looked some new functionality on our application that should justify the double+ output data, but there is nothing.

We would appreciate any help to discover what is going on, because this ammount of output data is growing up every month and we are not happy with the bill 

Thank you!"
Amazon EC2	"Not getting any CPU Credits
What reasons might there be for having a t2.medium instance not accruing any CPU credits for a week-and-a-half despite the maximum CPU usage charts for the last week not going above 10% ?

The credit usage chart shows a total of 61 credits used on the 12th July - but the chart just stops thereafter. The Credit Balance chart shows an average of around 570 from the 10th to the 13th - and then just stops. Neither chart shows anything after those dates - doesn't drop to zero, the line just stops dead.

Thanks in advance."
Amazon EC2	"Boot Failure with no apparent error.
Recently I had to make some configuration changes to my instance and perform a restart, only changed some email settings and ran an update of services but on reboot my system will not come online.  Status Checks are 1/2 and I am unable to access through SSH or Webmin.  Below is my System Log:

Xen Minimal OS!
  start_info: 0xa01000(VA)
    nr_pages: 0x26700
  shared_inf: 0x7e124000(MA)
     pt_base: 0xa04000(VA)
nr_pt_frames: 0x9
    mfn_list: 0x967000(VA)
   mod_start: 0x0(VA)
     mod_len: 0
       flags: 0x0
    cmd_line: root=/dev/sda1 ro 4
  stack:      0x946780-0x966780
MM: Init
      _text: 0x0(VA)
     _etext: 0x61e05(VA)
   _erodata: 0x76000(VA)
     _edata: 0x7b6b4(VA)
stack start: 0x946780(VA)
       _end: 0x966d34(VA)
  start_pfn: a10
    max_pfn: 26700
Mapping memory range 0xc00000 - 0x26700000
setting 0x0-0x76000 readonly
skipped 0x1000
MM: Initialise page allocator for b3e000(b3e000)-0(26700000)
MM: done
Demand map pfns at 26701000-36701000.
Heap resides at 36702000-76702000.
Initialising timer interface
Initialising console ... done.
gnttab_table mapped at 0x26701000.
Initialising scheduler
Thread ""Idle"": pointer: 0x36702008, stack: 0xbf0000
Initialising xenbus
Thread ""xenstore"": pointer: 0x36702478, stack: 0x26600000
Dummy main: start_info=0x966880
Thread ""main"": pointer: 0x367028e8, stack: 0x26610000
""main"" ""root=/dev/sda1"" ""ro"" ""4"" 
vbd 2049 is hd0
******************* BLKFRONT for device/vbd/2049 **********
Â 
Â 
backend at /local/domain/0/backend/vbd/26157/2049
Failed to read /local/domain/0/backend/vbd/26157/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/26157/2049/feature-flush-cache.
31457280 sectors of 0 bytes
**************************
Â 
Press `ESC' to enter the menu... 2   
Press `ESC' to enter the menu... 1   
Press `ESC' to enter the menu... 0   [H[J  Booting 'Amazon Linux 2015.03 (3.14.44-32.39.amzn1.i686)'
Â 
Â 
Â 
root (hd0)
Â 
 Filesystem type is ext2fs, using whole disk
Â 
kernel /boot/vmlinuz-3.14.44-32.39.amzn1.i686 root=LABEL=/ console=hvc0 LANG=en
Â 
_US.UTF-8 KEYTABLE=us
Â 
initrd /boot/initramfs-3.14.44-32.39.amzn1.i686.img
Â 
Â 
Â 
close blk: backend at /local/domain/0/backend/vbd/26157/2049
[    0.000000] Reserving virtual address space above 0xf5800000
[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 3.14.44-32.39.amzn1.i686 (mockbuild@gobi-build-64010) (gcc version 4.8.2 20140120 (Red Hat 4.8.2-16) (GCC) ) #1 SMP Thu Jun 11 20:33:47 UTC 2015
[    0.000000] ACPI in unprivileged domain disabled
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] Xen: [mem 0x0000000000000000-0x000000000009ffff] usable
[    0.000000] Xen: [mem 0x00000000000a0000-0x00000000000fffff] reserved
[    0.000000] Xen: [mem 0x0000000000100000-0x0000000026efffff] usable
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] DMI not present or invalid.
[    0.000000] e820: last_pfn = 0x26f00 max_arch_pfn = 0x1000000
[    0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff]
[    0.000000] init_memory_mapping: [mem 0x26400000-0x265fffff]
[    0.000000] init_memory_mapping: [mem 0x24000000-0x263fffff]
[    0.000000] init_memory_mapping: [mem 0x00100000-0x23ffffff]
[    0.000000] init_memory_mapping: [mem 0x26600000-0x26efffff]
[    0.000000] RAMDISK: [mem 0x01a23000-0x03972fff]
[    0.000000] 0MB HIGHMEM available.
[    0.000000] 623MB LOWMEM available.
[    0.000000]   mapped low ram: 0 - 26f00000
[    0.000000]   low ram: 0 - 26f00000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x00001000-0x00ffffff]
[    0.000000]   Normal   [mem 0x01000000-0x26efffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00001000-0x0009ffff]
[    0.000000]   node   0: [mem 0x00100000-0x26efffff]
[    0.000000] Using APIC driver default
[    0.000000] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
[    0.000000] Found and enabled local APIC!
[    0.000000] e820: [mem 0x26f00000-0xffffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on Xen
[    0.000000] Xen version: 3.4.3.amazon (preserve-AD)
[    0.000000] setup_percpu: NR_CPUS:8 nr_cpumask_bits:8 nr_cpu_ids:1 nr_node_ids:1
[    0.000000] PERCPU: Embedded 14 pages/cpu @e66e9000 s34176 r0 d23168 u57344
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 158145
[    0.000000] Kernel command line: root=LABEL=/ console=hvc0 LANG=en_US.UTF-8 KEYTABLE=us
[    0.000000] PID hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Initializing CPU#0
[    0.000000] allocated 1275896 bytes of page_cgroup
[    0.000000] please try 'cgroup_disable=memory' option if you don't want memory cgroups
[    0.000000] Initializing HighMem for node 0 (00000000:00000000)
[    0.000000] Memory: 580248K/637564K available (4127K kernel code, 458K rwdata, 1740K rodata, 604K init, 976K bss, 57316K reserved, 0K highmem)
[    0.000000] virtual kernel memory layout:
[    0.000000]     fixmap  : 0xf5715000 - 0xf57ff000   ( 936 kB)
[    0.000000]     pkmap   : 0xf5000000 - 0xf5200000   (2048 kB)
[    0.000000]     vmalloc : 0xe7700000 - 0xf4ffe000   ( 216 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xe6f00000   ( 623 MB)
[    0.000000]       .init : 0xc1630000 - 0xc16c7000   ( 604 kB)
[    0.000000]       .data : 0xc1408155 - 0xc162f840   (2205 kB)
[    0.000000]       .text : 0xc1000000 - 0xc1408155   (4128 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] 	Additional per-CPU info printed with stalls.
[    0.000000] 	RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1
[    0.000000] NR_IRQS:2304 nr_irqs:256 16
[    0.000000] xen:events: Using 2-level ABI
[    0.000000] Console: colour dummy device 80x25
[    0.000000] console [tty0] enabled
[    0.000000] console [hvc0] enabled
[    0.000000] installing Xen timer for CPU 0
[    0.000000] tsc: Detected 1800.000 MHz processor
[7337918.311934] Calibrating delay loop (skipped), value calculated using timer frequency.. 3600.00 BogoMIPS (lpj=7200000)
[7337918.311951] pid_max: default: 32768 minimum: 301
[7337918.311984] Security Framework initialized
[7337918.312039] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[7337918.312048] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[7337918.312294] Initializing cgroup subsys memory
[7337918.312308] Initializing cgroup subsys devices
[7337918.312316] Initializing cgroup subsys freezer
[7337918.312322] Initializing cgroup subsys net_cls
[7337918.312329] Initializing cgroup subsys blkio
[7337918.312336] Initializing cgroup subsys perf_event
[7337918.312343] Initializing cgroup subsys hugetlb
[7337918.312423] CPU: Physical Processor ID: 1
[7337918.312431] CPU: Processor Core ID: 1
[7337918.312446] Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
[7337918.312446] Last level dTLB entries: 4KB 512, 2MB 32, 4MB 32, 1GB 0
[7337918.312446] tlb_flushall_shift: 6
[7337918.425443] Freeing SMP alternatives memory: 20K (c16c7000 - c16cc000)
[7337918.426754] ftrace: allocating 18229 entries in 36 pages
[7337918.438542] cpu 0 spinlock event irq 17
[7337918.455036] Performance Events: unsupported p6 CPU model 45 no PMU driver, software events only.
[7337918.456279] x86: Booted up 1 node, 1 CPUs
[7337918.456438] devtmpfs: initialized
[7337918.457792] NET: Registered protocol family 16
[7337918.457810] xen:grant_table: Grant tables using version 1 layout
[7337918.457848] Grant table initialized
[7337918.459145] PCI: setting up Xen PCI frontend stub
[7337918.461995] bio: create slab <bio-0> at 0
[7337918.462114] ACPI: Interpreter disabled.
[7337918.462161] xen:balloon: Initialising balloon driver
[7337918.465789] vgaarb: loaded
[7337918.465932] PCI: System does not support PCI
[7337918.465942] PCI: System does not support PCI
[7337918.466156] NetLabel: Initializing
[7337918.466164] NetLabel:  domain hash size = 128
[7337918.466169] NetLabel:  protocols = UNLABELED CIPSOv4
[7337918.466189] NetLabel:  unlabeled traffic allowed by default
[7337918.466232] Switched to clocksource xen
[7337918.473310] pnp: PnP ACPI: disabled
[7337918.476835] NET: Registered protocol family 2
[7337918.477051] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[7337918.477072] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[7337918.477097] TCP: Hash tables configured (established 8192 bind 8192)
[7337918.477126] TCP: reno registered
[7337918.477133] UDP hash table entries: 512 (order: 2, 16384 bytes)
[7337918.477144] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[7337918.477201] NET: Registered protocol family 1
[7337918.477262] Unpacking initramfs...
[7337918.514413] Freeing initrd memory: 32064K (c1a23000 - c3973000)
[7337918.514675] platform rtc_cmos: registered platform RTC device (no PNP device found)
[7337918.515320] futex hash table entries: 256 (order: 2, 16384 bytes)
[7337918.515377] audit: initializing netlink subsys (disabled)
[7337918.515402] audit: type=2000 audit(1437672523.049:1): initialized
[7337918.534813] HugeTLB registered 2 MB page size, pre-allocated 0 pages
[7337918.538537] zbud: loaded
[7337918.538676] VFS: Disk quotas dquot_6.5.2
[7337918.538777] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[7337918.538934] msgmni has been set to 1195
[7337918.539473] alg: No test for stdrng (krng)
[7337918.539491] Key type asymmetric registered
[7337918.539597] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[7337918.539633] io scheduler noop registered (default)
[7337918.539695] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[7337918.540329] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
[7337918.545248] xen_netfront: Initialising Xen virtual ethernet driver
[7337918.548074] i8042: PNP: No PS/2 controller found. Probing ports directly.
[7337919.553776] mousedev: PS/2 mouse device common for all mice
[7337919.553951] hidraw: raw HID events driver (C) Jiri Kosina
[7337919.554135] TCP: cubic registered
[7337919.554146] NET: Registered protocol family 17
[7337919.554203] Using IPI No-Shortcut mode
[7337919.554438] registered taskstats version 1
[7337919.554990] blkfront: xvda1: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: disabled;
[7337919.654800] Freeing unused kernel memory: 604K (c1630000 - c16c7000)
[7337919.656161] Write protecting the kernel text: 4132k
[7337919.656746] Write protecting the kernel read-only data: 1744k
[7337919.656755] NX-protecting the kernel data: 4060k
[7337919.696854] device-mapper: uevent: version 1.0.3
[7337919.697010] device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
[7337919.708380] udevd[404]: starting version 173
udevd[448]: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory
Â 
Â 
[7337919.886224] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
[7337919.896034] dracut: Remounting /dev/disk/by-label/\x2f with -o grpquota,usrquota,noatime,ro
[7337919.902704] EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: grpquota,usrquota
[7337919.906797] dracut: Mounted root filesystem /dev/xvda1
[7337919.988306] dracut: /sbin/load_policy: Can't load policy: No such device
[7337920.004134] dracut: Switching root
[7337920.131144] random: init urandom read with 41 bits of entropy available
[7338049.550279] random: nonblocking pool is initialized
Â 


I am able to mount the root filesystem on a debug instance as described in the ""How to Recover an Unreachable Linux Instance"" but do not know where I should check fr issues.  I see no errors in logs that I know of.  Any ideas from anyone?"
Amazon EC2	"Public to Private NAT
Hello,

I have a Windows 2012 RC2 Server instance set up with a server running and a mobile application that connects to this server in order to communicate. Does the public to private NAT happen ""automatically"" if I have an elastic IP tied to my instance or is there some magic that I need to do to make this happen? My mobile client is unable to connect to the server, ""Proxy Unreachable"" error.

Thanks,
Bill"
Amazon EC2	"Re: Public to Private NAT
Figured this out."
Amazon EC2	"Fail2Ban request for next Amazon Linux AMI
The actual fail2ban 0.8.10 is from 2013/06/12 and there is a newer version 0.9.1 from 2014/10/28. It would be very useful for this to be updated."
Amazon EC2	"Re: Fail2Ban request for next Amazon Linux AMI
Hi,

We will look into this for a future repository update.  Thank you for the request, and for using the Amazon Linux AMI."
Amazon EC2	"Asian font support
Everyone,
I am trying to install Japanese language support on my 32 bit Amazon Linux AMI and it is proving far more difficult than I imagined.  Has anyone done this yet?"
Amazon EC2	"Re: Asian font support
One clue is that the AWS Linux repo doesn't have any Japanese fonts, but the CentOS repo does. (do --enablerepo=centos on yum installs.)

vlgothic-fonts.noarch : Japanese TrueType font
vlgothic-fonts-common.noarch : Common files for VLGothic Japanese TrueType fonts
vlgothic-p-fonts.noarch : Proportional Japanese TrueType font

I'm sure if that fixes the whole problem though."
Amazon EC2	"Re: Asian font support
We are aware of this issue and are working to resolve it as quickly as possible. We will be sure to post on the forums when Asian font support is available in the Amazon Linux AMI.

Thanks for using the Amazon Linux AMI!"
Amazon EC2	"Re: Asian font support
Hi,

Is AMI support for Japanese fonts is available? if so please let me know how to install or configure in EC2 AMI Linux.

Regards,
Iyappan P"
Amazon EC2	"Re: Asian font support
Hello,

What follows should be a pretty comprehensive list of all the fonts that are in the Amazon Linux AMI repositories, and available for installation on a Amazon Linux AMI 2012.03 instance.

In particular, one of the things we added to the Amazon Linux AMI 2012.03 was Japanese font support with ipa-gothic-fonts, ipa-mincho-fonts, and vlgothic-fonts.

Is there a particular font package that you need which is not on the list?

# yum list available *font* | grep noarch | sed -e ""s/noarch.*$/noarch/"" | sort
dejavu-lgc-sans-fonts.noarch
dejavu-lgc-sans-mono-fonts.noarch
dejavu-lgc-serif-fonts.noarch
dejavu-sans-mono-fonts.noarch
fontpackages-devel.noarch
fontpackages-tools.noarch
fonts-arabic.noarch
fonts-bengali.noarch
fonts-chinese.noarch
fonts-gujarati.noarch
fonts-hindi.noarch
fonts-kannada.noarch
fonts-korean.noarch
fonts-malayalam.noarch
fonts-oriya.noarch
fonts-punjabi.noarch
fonts-tamil.noarch
fonts-telugu.noarch
ghostscript-fonts.noarch
ipa-gothic-fonts.noarch
ipa-mincho-fonts.noarch
liberation-fonts-common.noarch
liberation-mono-fonts.noarch
liberation-sans-fonts.noarch
liberation-serif-fonts.noarch
perl-Font-AFM.noarch
perl-Font-TTF.noarch
texlive-texmf-errata-fonts.noarch
texlive-texmf-fonts.noarch
urw-fonts.noarch
vlgothic-fonts.noarch
vlgothic-fonts-common.noarch
vlgothic-p-fonts.noarch
xorg-x11-fonts-100dpi.noarch
xorg-x11-fonts-75dpi.noarch
xorg-x11-fonts-ISO8859-1-100dpi.noarch
xorg-x11-fonts-ISO8859-1-75dpi.noarch
xorg-x11-fonts-ISO8859-14-100dpi.noarch
xorg-x11-fonts-ISO8859-14-75dpi.noarch
xorg-x11-fonts-ISO8859-15-100dpi.noarch
xorg-x11-fonts-ISO8859-15-75dpi.noarch
xorg-x11-fonts-ISO8859-2-100dpi.noarch
xorg-x11-fonts-ISO8859-2-75dpi.noarch
xorg-x11-fonts-ISO8859-9-100dpi.noarch
xorg-x11-fonts-ISO8859-9-75dpi.noarch
xorg-x11-fonts-Type1.noarch
xorg-x11-fonts-cyrillic.noarch
xorg-x11-fonts-ethiopic.noarch
xorg-x11-fonts-misc.noarch"
Amazon EC2	"Re: Asian font support
Hi just trying to install korean fonts on my AMI (using ami-1624987f amzn-ami-pv-2012.09.0.x86_64-ebs)

and it appears some asian fonts are no longer available?

 *yum list available font | grep noarch | sed -e ""s/noarch.$/noarch/"" | sort
dejavu-lgc-sans-fonts.noarch
dejavu-lgc-sans-mono-fonts.noarch
dejavu-lgc-serif-fonts.noarch
dejavu-sans-mono-fonts.noarch
fontpackages-devel.noarch
fontpackages-tools.noarch
fonts-bengali.noarch
fonts-gujarati.noarch
fonts-hindi.noarch
fonts-kannada.noarch
fonts-malayalam.noarch
fonts-oriya.noarch
fonts-punjabi.noarch
fonts-tamil.noarch
fonts-telugu.noarch
ipa-gothic-fonts.noarch
ipa-mincho-fonts.noarch
liberation-fonts-common.noarch
liberation-mono-fonts.noarch
liberation-sans-fonts.noarch
liberation-serif-fonts.noarch
perl-Font-AFM.noarch
perl-Font-TTF.noarch
texlive-texmf-errata-fonts.noarch
texlive-texmf-fonts.noarch
vlgothic-fonts-common.noarch
vlgothic-fonts.noarch
vlgothic-p-fonts.noarch
xorg-x11-fonts-100dpi.noarch
xorg-x11-fonts-75dpi.noarch
xorg-x11-fonts-cyrillic.noarch
xorg-x11-fonts-ethiopic.noarch
xorg-x11-fonts-ISO8859-1-100dpi.noarch
xorg-x11-fonts-ISO8859-14-100dpi.noarch
xorg-x11-fonts-ISO8859-14-75dpi.noarch
xorg-x11-fonts-ISO8859-15-100dpi.noarch
xorg-x11-fonts-ISO8859-15-75dpi.noarch
xorg-x11-fonts-ISO8859-1-75dpi.noarch
xorg-x11-fonts-ISO8859-2-100dpi.noarch
xorg-x11-fonts-ISO8859-2-75dpi.noarch
xorg-x11-fonts-ISO8859-9-100dpi.noarch
xorg-x11-fonts-ISO8859-9-75dpi.noarch
xorg-x11-fonts-misc.noarch
xorg-x11-fonts-Type1.noarch

Is there a workaround? 
Thanks, Garry"
Amazon EC2	"Re: Asian font support
Hi Max,

We tried to installed as many fonts for pdf generation. However the following fonts are missing from the system.

fonts-chinese.noarch 
fonts-korean.noarch

Please suggest how we can fix this. Thanks!"
Amazon EC2	"Re: Asian font support
This is the list that I'm getting. I need chinese fonts installed. Is there any way to install it?
Thanks.

#yum list available font | grep noarch | sed -e ""s/noarch.*$/noarch/"" | sort
cjkuni-fonts-common.noarch
cjkuni-fonts-ghostscript.noarch
cjkuni-ukai-fonts.noarch
cjkuni-uming-fonts.noarch
dejavu-lgc-sans-fonts.noarch
dejavu-lgc-sans-mono-fonts.noarch
dejavu-lgc-serif-fonts.noarch
dejavu-sans-mono-fonts.noarch
fontpackages-devel.noarch
fontpackages-tools.noarch
ghostscript-fonts.noarch
ipa-gothic-fonts.noarch
ipa-mincho-fonts.noarch
liberation-fonts-common.noarch
liberation-mono-fonts.noarch
liberation-sans-fonts.noarch
liberation-serif-fonts.noarch
overpass-fonts.noarch
perl-Font-AFM.noarch
perl-Font-TTF.noarch
texlive-amsfonts-doc.noarch
texlive-amsfonts.noarch
texlive-collection-fontsrecommended.noarch
texlive-fontbook-doc.noarch
texlive-fontbook.noarch
texlive-fontspec-doc.noarch
texlive-fontspec.noarch
texlive-fontware.noarch
texlive-fontwrap-doc.noarch
texlive-fontwrap.noarch
texlive-latex-fonts-doc.noarch
texlive-latex-fonts.noarch
texlive-metafont.noarch
texlive-pxfonts-doc.noarch
texlive-pxfonts.noarch
texlive-txfonts-doc.noarch
texlive-txfonts.noarch
texlive-xetexfontinfo-doc.noarch
texlive-xetexfontinfo.noarch
urw-fonts.noarch
vlgothic-fonts-common.noarch
vlgothic-fonts.noarch
vlgothic-p-fonts.noarch
wqy-zenhei-fonts-common.noarch
wqy-zenhei-fonts.noarch
xorg-x11-fonts-100dpi.noarch
xorg-x11-fonts-75dpi.noarch
xorg-x11-fonts-ISO8859-1-100dpi.noarch
xorg-x11-fonts-ISO8859-1-75dpi.noarch
xorg-x11-fonts-ISO8859-14-100dpi.noarch
xorg-x11-fonts-ISO8859-14-75dpi.noarch
xorg-x11-fonts-ISO8859-15-100dpi.noarch
xorg-x11-fonts-ISO8859-15-75dpi.noarch
xorg-x11-fonts-ISO8859-2-100dpi.noarch
xorg-x11-fonts-ISO8859-2-75dpi.noarch
xorg-x11-fonts-ISO8859-9-100dpi.noarch
xorg-x11-fonts-ISO8859-9-75dpi.noarch
xorg-x11-fonts-cyrillic.noarch
xorg-x11-fonts-ethiopic.noarch
xorg-x11-fonts-misc.noarch"
Amazon EC2	"Re: Asian font support
Hello, 
The chinese and korean  fonts should be already installed changing in the .bashrc or /etc/environment the following variable : 

export LANG=zh_CN.utf8
export LC_ALL=zh_CN.utf8

and issue for test the command : 
 yum --version (should return Chinese output)

for a list of locale you can execute ""locale -a""

Regards,
Stefano"
Amazon EC2	"Re: Asian font support
Hi Stefano, the fonts are still not working and I looked all over for the korean fonts package for hours but AWS does not seem to provide it. Could you please help me out on how to install Korean fonts on ec2 instance?"
Amazon EC2	"Re: Asian font support
Nevermind - the file was corrupted - it works now!"
Amazon EC2	"Re: Asian font support
Is there a particular font package that you need which is not on the list?

The list lacks thai fonts, like


thai-scalable-tlwgmono-fonts
thai-scalable-tlwgtypewriter-fonts
thai-scalable-tlwgtypist-fonts"
Amazon EC2	"Re: Asian font support
Same problem as @michipili I cannot find any thai font. What can we do ?"
Amazon EC2	"Best practices for moving a program to the cloud
My company has just started to investigate the best method for moving our software to the cloud without a complete rewrite.  The program is a WinForms program developed in Visual Studio 2010 using the dot Net 4.0 framework with a MySQL database.

We have experimented with several different EC2 setups including RDP and using an OpenVPN server, both approaches have there positives and negatives.  Is there a different approach using what is available through Amazon Web Services that might be a better setup for this type of program?

Beside Cost is there anything to be gained by using Reserved Instances over On-Demand(better performance)?

Any feedback on this kind of setup is greatly appreciated."
Amazon EC2	"Re: Best practices for moving a program to the cloud
Hello,

I think you'll get the most value by trying to go as native as possible, meaning using RDS for the MySQL database and if possible using Elastic Beanstalk for the .Net components.  Granted, that may require some level of rewriting and I don't know if there is any tolerance for doing so.  It wouldn't be complete but could be non-trivial if the application isn't tiered already.

Another option would be something like Amazon Workspaces to which you could deploy the WinForms components.  The simplest, which you've identified, is to deploy Windows servers on EC2 instances.  That has the advantage of getting things into the cloud but, in my mind, I would want to make sure there's a compelling reason for doing so (lack of internal expertise for server admin, cost of internal maintenance, etc).

Though it's not entirely clear from your post, a VPC connection with a hardware VPN is probably necessary if the WinForms are accessed only from your internal network.

Another consideration is the amount of bandwidth needed if internal users will be using the WinForms in the cloud.  That may change lag/latency for the end users.

Finally, keep backups in mind.  Make sure data is copied off of AWS regularly and securely.

If you're intent on moving to the cloud, then I would try for the goal of using as many native services as possible.  RDS is a logical and typically easy first step that shouldn't require much rewriting.  If possible to use Elastic Beanstalk then doing so enables better scaling.

Hope this helps.

Steve
AWS Certified Developer"
Amazon EC2	"Connectivity issues with GitHub from AWS EC2 Europe
Hi,

I'm getting regular failures trying to connect from EC2 to GitHub to clone, pull, fetch, etc repos.

I've spoken to GitHub support who have confirmed they are seeing intermittent issues with connections Europe from AWS. To quote: ""Is that an AWS instance in the EU region? We've seen some other connectivity issues specifically from that environment just now.""

I do not have a high enough support level to raise this, but this is the trace I've observed:

Fetching origin
debug1: Connecting to github.com [192.30.252.128] port 22.
debug1: connect to address 192.30.252.128 port 22: Connection timed out
ssh: connect to host github.com port 22: Connection timed out
fatal: Could not read from remote repository.
Â 
Please make sure you have the correct access rights
and the repository exists.
error: Could not fetch origin


Kind Regards,
Ed"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Hi Ed,

We are having identical problems with both GitHub and Bitbucket. It seems the connections are made randomly, if a connection is succesful the download is fast. 
This seems to be a networking issue withing AWS Europe. 

Regards,
Gerrit"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Also seeing this issue.

AWS status seems to show everything is green, but our experience is exactly as described on this thread. 

Can someone from AWS team comment please?"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Github support are insistent that this is an AWS problem, but with AWS support's help I've narrowed it down to a problem with Github's presumed internet provider.

$ date -u; sudo mtr --no-dns api.github.com -c 50 -r -o 'LDRS NBAW VG JMXI'
Thu Jul 23 10:20:19 UTC 2015
Start: Thu Jul 23 10:20:19 2015
HOST: ip-10-197-46-25             Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1.|-- 10.197.46.1                0.0%    0    50    50    0.3   0.3   0.4   0.7    0.0   0.4   0.1  0.1  0.4  1.1
  2.|-- 100.84.137.12              0.0%    0    50    50    0.4   0.4   0.5   3.2    0.4   0.5   0.0  0.2  2.8  5.7
  3.|-- 100.84.137.25              0.0%    0    50    50    0.5   0.4   0.6   1.5    0.0   0.5   0.1  0.1  1.0  2.1
  4.|-- 100.66.51.0                0.0%    0    50    50    0.3   0.3   0.4   0.9    0.0   0.4   0.0  0.1  0.6  0.8
  5.|-- 100.66.2.25                0.0%    0    50    50    9.8   0.9   3.4  16.5    4.0   2.1   4.7  3.5 15.4 60.9
  6.|-- 100.64.34.123              0.0%    0    50    50    1.3   0.8   3.4  15.1    3.8   2.0   0.1  3.4 14.3 52.9
  7.|-- 100.64.32.186              0.0%    0    50    50    1.3   0.7   4.4  17.5    5.0   2.4   0.2  4.7 15.8 48.9
  8.|-- 100.64.20.32               0.0%    0    50    50    0.4   0.3   0.4   0.6    0.0   0.4   0.0  0.0  0.2  0.4
  9.|-- 10.1.92.15                 0.0%    0    50    50    1.0   0.9   1.8  13.9    2.3   1.4   0.2  1.4 12.7  8.9
 10.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 11.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 12.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 13.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 14.|-- 178.236.0.59               0.0%    0    50    50    0.4   0.4   1.5  27.7    4.3   0.6   0.0  1.6 27.3 18.4
 15.|-- 178.236.0.113              0.0%    0    50    50    0.4   0.4   1.6  54.4    7.6   0.5   0.0  2.5 53.9 16.6
 16.|-- 212.73.251.101             0.0%    0    50    50    0.6   0.6   1.8  50.3    7.0   0.8   0.0  2.5 49.6 54.0
 17.|-- 4.69.149.146              12.0%    6    44    50   95.6  95.6  95.6  96.1    0.0  95.6   0.0  0.0  0.5  0.9
 18.|-- 4.69.149.146               2.0%    1    49    50   95.6  95.6  95.6  96.8    0.1  95.6   0.0  0.1  1.2  0.8
 19.|-- 4.53.116.102               0.0%    0    50    50   96.7  96.6  96.7  97.8    0.0  96.7   0.1  0.1  1.1  1.3
 20.|-- 192.30.252.207             0.0%    0    50    50   95.8  95.7  95.8  96.0    0.0  95.8   0.0  0.0  0.2  0.7
 21.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0


The server dropping packets belongs to Level3."
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
We're experiencing similar issues on instances running in eu-west-1. However I'm also able to reproduce the issue locally as well (from 87.92.0.0/14AS16086).
$ dig +noall +answer github.com && git clone https://github.com/github/hub /tmp/hub-http ; rm -rf /tmp/hub-http
github.com.		103	IN	A	192.30.252.128
Cloning into '/tmp/hub-http'...
fatal: unable to access 'https://github.com/github/hub/': Failed to connect to github.com port 443: Operation timed out

Some mtr runs from different hosts:
https://gist.github.com/GeriYatola/b5c1216b7ab20b248755

GitHub points their finger at Amazon, but seems that's not the entire truth.

Best,
 Jari

Edited by: GeriYatola on Jul 23, 2015 2:15 PM
Added link to mtr run results from two different (non-AWS) hosts."
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Running this on my current location:
HOST: Work-HP                     Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1.|-- 172.29.255.10              0.0%    0    50    50    0.6   0.5   4.7  48.0   10.1   1.3   0.1  5.9 47.3 90.5
  2.|-- 94.142.210.225             0.0%    0    50    50    3.3   1.6  12.8  83.1   19.7   4.8   1.5 10.8 57.9 143.9
  3.|-- 46.226.56.115              0.0%    0    50    50    1.9   1.9   9.5  62.7   14.9   4.3   0.0  7.7 57.7 97.9
  4.|-- 46.226.56.42               0.0%    0    50    50    4.7   2.6  10.0  41.9   11.1   6.3   2.5  8.2 39.2 140.9
  5.|-- 87.233.219.129             0.0%    0    50    50   10.5   2.7  13.3  64.0   16.4   6.9   7.8 15.1 54.3 212.9
  6.|-- 87.233.132.154             0.0%    0    50    50    2.9   2.7  13.2  86.3   17.9   6.7   0.2 13.9 65.5 207.7
  7.|-- 212.72.41.201              0.0%    0    50    50    4.1   3.1  10.8  55.5   14.8   6.1  51.4 11.5 52.3 218.3
  8.|-- 4.69.149.146               4.0%    2    48    50   91.2  91.1  95.8 148.8   10.7  95.3   0.1  7.4 57.3 111.1
  9.|-- 4.69.149.146              14.0%    7    43    50   91.3  91.0  98.3 158.6   14.7  97.5   7.1  9.7 66.4 136.7
 10.|-- 4.53.116.102               0.0%    0    50    50  114.7  91.5 100.9 165.2   16.3  99.9  23.1 11.8 69.7 177.5
 11.|-- 192.30.252.207             0.0%    0    50    50  122.5  91.0 101.6 172.8   20.9 100.0  31.5 15.0 81.7 242.9
 12.|-- 192.30.252.136             2.0%    1    49    50   91.1  90.7  99.6 176.8   19.5  98.2   0.3 12.3 85.2 190.5


Running it on AWS:
HOST: ip-xxx              Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  2. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  3. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  4. 100.64.16.205                 0.0%    0    50    50    0.5   0.4   0.5   1.4    0.1   0.5   0.0  0.1  1.0  1.2
  5. 178.236.0.88                  0.0%    0    50    50    0.9   0.8   1.5  28.6    3.9   1.0   0.0  1.2 27.7 19.0
  6. 178.236.0.135                 0.0%    0    50    50    0.9   0.8   1.1   7.3    1.3   1.0   0.0  0.6  6.4 18.2
  7. 212.73.251.101                0.0%    0    50    50    1.0   0.9   2.3  44.6    6.8   1.1   0.0  2.6 43.6 76.5
  8. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  9. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 10. 4.53.116.102                  0.0%    0    50    50   97.3  97.2  97.4  98.4    0.3  97.4   0.1  0.2  1.1  2.8
 11. 192.30.252.207                0.0%    0    50    50   97.7  97.6  97.6  97.8    0.0  97.6   0.0  0.0  0.2  0.8
 12. 192.30.252.136                2.0%    1    49    50  103.3 103.3 103.3 103.5    0.1 103.3   0.0  0.1  0.2  0.9


Honestly I think there are issues between the routing of AWS and Github.

That does not change the fact that I am having the same error on Bitbucket:

From my node:
HOST: Work-HP                     Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1.|-- 172.29.255.10              0.0%    0    50    50    0.7   0.5   7.4  49.8   10.8   2.3   0.0  9.3 49.2 125.3
  2.|-- 94.142.210.225             0.0%    0    50    50    6.5   1.6  12.0  65.1   17.9   4.8   4.7 16.4 60.4 258.8
  3.|-- 46.226.56.115              0.0%    0    50    50    7.8   1.9  10.2  73.0   17.1   4.3   5.9 13.8 67.7 214.7
  4.|-- 46.226.56.42               0.0%    0    50    50    2.7   2.6   9.4  73.3   15.0   5.1   0.0 10.5 70.6 160.5
  5.|-- 78.152.56.37               0.0%    0    50    50    2.6   2.6  10.2 103.2   19.6   4.6   0.2 11.3 100. 140.8
  6.|-- 81.20.67.177               0.0%    0    50    50    3.0   2.9   7.1  62.3   11.1   4.4  30.8  6.2 59.0 106.2
  7.|-- 129.250.2.146              6.0%    3    47    50    7.9   2.9  11.3  59.5   14.1   6.8   4.7 11.4 49.5 150.8
  8.|-- 129.250.6.176              0.0%    0    50    50   84.6  83.2  89.8 150.3   14.7  88.9   1.1  9.8 65.5 141.4
  9.|-- 129.250.6.11               0.0%    0    50    50   89.2  89.1 103.9 169.9   21.4 102.0   0.1 20.8 75.6 270.1
 10.|-- 129.250.203.90             0.0%    0    50    50   90.8  90.6 110.1 187.9   26.4 107.5   0.2 27.1 80.1 379.0
 11.|-- ???                       100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 12.|-- 131.103.20.168             2.0%    1    49    50   90.9  90.5 102.7 159.6   17.0 101.5   0.5 14.6 69.1 223.4


From an EC2 node:
HOST: ip-xxx              Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1. 79.125.0.240                  0.0%    0    50    50   16.9  11.8 175.2 1157.  315.0  41.9   2.6 306. 1135 4159.4
  2. 100.64.0.142                  0.0%    0    50    50   20.2  10.7  21.4  95.2   16.0  18.8   1.4  9.0 79.9 73.9
  3. 100.64.0.133                  0.0%    0    50    50   11.7  11.7 124.8 802.8  217.7  37.5   2.5 215. 785. 3026.9
  4. 100.64.17.85                  0.0%    0    50    50    2.7   0.6   3.6  10.0    2.6   2.6   2.9  2.4  6.9 40.9
  5. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  6. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
  7. 178.236.1.146                 0.0%    0    50    50    1.4   0.9   1.4   3.0    0.4   1.3   0.0  0.4  2.0  6.2
  8. 176.32.106.37                 0.0%    0    50    50   10.6  10.4  10.9  19.2    1.2  10.8   0.1  0.6  8.7  5.3
  9. 54.239.100.76                 0.0%    0    50    50   23.6  10.9  24.0  32.4    6.0  23.1   6.0  6.9 18.8 106.3
 10. 54.239.100.71                 0.0%    0    50    50   10.7  10.5  11.8  30.0    3.6  11.5   0.1  2.1 19.4 40.7
 11. 82.112.115.189                0.0%    0    50    50   11.1  10.7  10.9  12.0    0.2  10.9   0.3  0.1  1.2  3.4
 12. 129.250.6.230                 0.0%    0    50    50  100.1 100.0 100.2 101.7    0.3 100.2   0.1  0.2  1.7  2.1
 13. 129.250.6.25                  0.0%    0    50    50   97.1  97.0  97.1  97.7    0.1  97.1   0.1  0.1  0.7  1.9
 14. 129.250.2.146                 0.0%    0    50    50   19.8  16.8  17.5  22.4    1.3  17.4   2.9  0.9  5.5 16.3
 15. 129.250.6.176                 0.0%    0    50    50  100.4 100.1 102.6 133.8    6.6 102.4   0.7  4.0 32.7 44.9
 16. 129.250.5.191                 0.0%    0    50    50  100.0  99.9 100.0 101.3    0.2 100.0   0.0  0.1  1.2  1.5
 17. 129.250.203.54                0.0%    0    50    50   99.6  99.4 100.0 107.1    1.5  99.9   0.1  0.6  5.6  5.1
 18. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 19. 131.103.20.168                2.0%    1    49    50   99.2  99.2  99.5 102.4    0.6  99.5   0.0  0.3  3.3  6.6"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
I can confirm I'm seeing similar issues:

$ date -u; sudo mtr --no-dns api.github.com -c 50 -r -o 'LDRS NBAW VG JMXI'
Thu 23 Jul 11:08:50 UTC 2015
HOST: ip-10-89-149-139            Loss% Drop   Rcv   Snt   Last  Best   Avg  Wrst  StDev Gmean  Jttr Javg Jmax Jint
  1. 10.112.227.193                0.0%    0    50    50    0.7   0.6   1.6  13.5    2.9   0.9   0.0  1.4 12.9 15.4
  2. 100.69.169.19                 0.0%    0    50    50    0.4   0.3   0.5   2.7    0.4   0.5   2.3  0.3  2.3  6.2
  3. 100.69.169.31                 0.0%    0    50    50    0.4   0.3   0.4   0.7    0.1   0.4   0.0  0.1  0.2  1.1
  4. 10.177.126.4                  0.0%    0    50    50    0.5   0.3   0.5   2.6    0.3   0.5   0.1  0.2  2.2  3.9
  5. 10.177.31.190                 0.0%    0    50    50    0.9   0.9   4.3  17.6    4.5   2.6   2.3  4.6 16.4 65.8
  6. 100.64.163.207                0.0%    0    50    50    1.0   0.8   3.4  15.1    3.9   2.0   8.1  3.8 14.1 58.7
  7. 100.64.161.78                 0.0%    0    50    50    4.4   0.8   3.0  16.5    3.9   1.8   3.0  3.1 15.4 68.9
  8. 100.64.130.82                 0.0%    0    50    50    0.3   0.3   0.3   0.4    0.0   0.3   0.0  0.0  0.1  0.3
  9. 100.64.13.54                  0.0%    0    50    50  547.0   0.7  31.5 547.0  111.8   2.7  37.9 14.1 237. 526.6
 10. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 11. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 12. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 13. 100.64.16.129                 0.0%    0    50    50    0.4   0.3   0.6   6.5    1.2   0.4   0.0  0.4  5.9  2.5
 14. 178.236.0.88                  0.0%    0    50    50    0.7   0.7   1.1  17.1    2.3   0.8   0.0  0.7 16.3  6.6
 15. 178.236.0.137                 0.0%    0    50    50    0.8   0.7   0.7   0.8    0.0   0.7   0.0  0.0  0.1  0.2
 16. 213.242.106.85                0.0%    0    50    50   43.2   0.8   5.3 122.0   18.2   1.3  42.4  7.7 121. 79.6
 17. 4.69.149.82                  30.0%   15    35    50   96.4  96.4  96.6 100.0    0.6  96.6   0.0  0.3  3.6  5.6
 18. 4.69.149.82                  24.0%   12    38    50   96.4  96.3  96.8 108.8    2.1  96.8   0.0  0.9 12.4 16.5
 19. ???                          100.0   50     0    50    0.0   0.0   0.0   0.0    0.0   0.0   0.0  0.0  0.0  0.0
 20. 192.30.252.203                2.0%    1    49    50   96.6  96.2  96.4 100.8    0.7  96.4   0.4  0.3  4.5  3.3
 21. 192.30.252.137                2.0%    1    48    49   96.2  96.1  96.3  98.3    0.3  96.3   0.0  0.2  2.1  2.3"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
GitHub have confirmed that they are investigating with their service provider."
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Seems that Github think this has now been fixed (from https://status.github.com/messages)

github:status
Status Messages
July 23, 2015

13:13 BSTWe've routed around the problem and are monitoring the situation.
12:46 BSTWe're investigating reports of connectivity issues from Europe

Appears to be working now for me"
Amazon EC2	"Re: Connectivity issues with GitHub from AWS EC2 Europe
Hi everyone,

Thanks for all the MTR and other debug output - always useful when troubleshooting situations like this.

As noted by user edhgoose, GitHub confirm they've routed around a networking issue.

If anyone is still having issues, please reply here with a TCP-based traceroute.

Thanks,
Paul"
Amazon EC2	"Google Apps unable to verify domain ownership
I added the mx records to route 53, however, for some reason, google apps is unable to verify the domain ownership. 

The error I get is 'Unable to verify domain ownership'. Please advise. 

 i-d4c0347d.

Edited by: aaronthev on Jul 21, 2015 10:55 AM"
Amazon EC2	"Re: Google Apps unable to verify domain ownership
You cannot verify domain ownershop via mx records, but via txt or cname record. Or via a html file.

So maybe thats why.

info here: https://support.google.com/a/answer/60216?hl=en

Best regards.

Anders

Edited by: andersboth on Jul 22, 2015 10:42 AM"
Amazon EC2	"Re: Google Apps unable to verify domain ownership
Thanks for your help.

Issue has been resolved. It was in the set up of the mx records."
Amazon EC2	"Packets loss on eu-west-1
Hello,
we detect today a lot of packets lost.
We run a MTR and it lost on the ip 178.236.0.126
I paste the MTR test:

|------------------------------------------------------------------------------------------|
|                                      WinMTR statistics                                   |
|                       Host              -   %  | Sent | Recv | Best | Avrg | Wrst | Last |
|------------------------------------------------|------|------|------|------|------|------|
|                            192.168.10.1 -    0 |  199 |  199 |    0 |    0 |    8 |    0 |
|                             10.204.32.1 -    0 |  199 |  199 |    5 |    8 |   17 |   10 |
|                           10.127.49.193 -    0 |  199 |  199 |    7 |   13 |  157 |    8 |
|                          213.242.114.57 -    0 |  199 |  199 |    7 |   26 |   87 |   43 |
|                          212.73.251.102 -    0 |  199 |  199 |   42 |   47 |   86 |   46 |
|                          212.73.251.102 -    0 |  199 |  199 |   42 |   47 |   97 |   44 |
|                           178.236.0.126 -   55 |   64 |   29 |   43 |   45 |   49 |   45 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|ec2-79-125-0-239.eu-west-1.compute.amazonaws.com -   60 |   60 |   24 |    0 |   47 |   59 |   51 |
|ec2-79-125-0-239.eu-west-1.compute.amazonaws.com -   52 |   66 |   32 |   45 |   47 |   54 |   45 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|                   No response from host -  100 |   40 |    0 |    0 |    0 |    0 |    0 |
|________________________________________________|______|______|______|______|______|______|
   WinMTR v0.92 GPL V2 by Appnor MSP - Fully Managed Hosting & Cloud Provider

Can anyone help us?

Thanks!"
Amazon EC2	"Can ping but not ssh into instance
I keep getting a network timeout error. 

My security group settings have SSH (port 22) open to everyone. 

The instance is up and running (I can ping both the IP and Name)

The instance id is: i-3170f0d8"
Amazon EC2	"Re: Can ping but not ssh into instance
Hello, 

I took a look at your instance and everything appears to be configured correctly. To test, I tried to telnet to port 22 of the instance and I was able to successfully connect. Can you ensure there is nothing on your local network blocking the connection?

Best Regards,
Jillian L."
Amazon EC2	"Re: Can ping but not ssh into instance
That seems like a likely issue. I am at the office but later I will try from my house. 

If it works there, I will then (safely) assume it is some sort of security measure in place here at the office. 

Thank you for at least verifying that the system 'should' be available and I had not configured it incorrectly on the AWS side."
Amazon EC2	"Re: Can ping but not ssh into instance
So, I checked it last night - it worked brilliantly.  No problems at all. 

Thank you so much!"
Amazon EC2	"Launching new EC2 Instance when instance load increases to 70
Hi All

Need a solution for following problem

We have an application running on Amazon Server with ELB in place. We already have policy for ELB for Network In and Network Out traffic to increase or decrease EC2 instances.  Now looking to make a policy  whenever the CPU load in a particular instance reached 70 or more launch a new instance. 

We have the problem sometimes network in and out traffic is not too much but some how load on individual instances increases to 200-300 suddenly. At that time new instances never launched because ELB still shows that network in and out traffic is within range.  I need a solution so that incase load on EC-2 increases should launch a new instance

Anybody if know any solution for this problem please let me know"
Amazon EC2	"Re: Launching new EC2 Instance when instance load increases to 70
Hi,

Yes, AWS Autoscaling.  This is very easy to set up and more information and an overview of it can be found here: http://aws.amazon.com/autoscaling/

For details on how to set this up please take a look at the following link:
http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/GettingStartedTutorial.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Launching new EC2 Instance when instance load increases to 70
Wants to create CLI script to run at EC2 Instance. I used following command but getting error

as-put-scaling-policy --auto-scaling-group Your Group -K aws-credential-file.txt --name scale-up --adjustment 1 --type ChangeInCapacity --cooldown 300
getting following error

as-put-scaling-policy:  Malformed input-Only one of EC2_CERT and EC2_PRIVATE_KEY is configured

though set environment variable for access key and secret Key in a file  
Please help resolving the issue"
Amazon EC2	"Can not ping Public IP or Public DNS
After starting my EC2 instance today, I can't ping its Public IP  nor the Public DNS.  I have already open the these POP3,IMAP,IMAPS,HTTPS,All ICMP,POP3S,RDP,SSH,SMTPS,HTTP,LDAP,DNS (UDP),SMTP,DNS (TCP) to 0.0.0.0/0.But I still can not ping my Instance's Public IP nor the Public DNS,Anybody have an idea of what is going wrong? Thanks in advance."
Amazon EC2	"Re: Can not ping Public IP or Public DNS
Hello,
thank you for contacting us. Reviewing i-526f1999 instance details, I found that sg-3535bf50 security group looks ok and that instance has an Elastic IP associated, but rtb-71953814 routing table lacks of an Internet Gateway as default one. To create a new one, please go to your AWS console [1], click ""Create Internet Gateway"", pick a name for it and click ""Yes, Create"", now click on ""Attach to VPC"" and select ""vpc-fb4f979e"" VPC from drop-down menu.

Finally, from routing table menu [2], please be sure that rtb-71953814 Routing Table has an entry to 0.0.0.0/0 with previously created IGW.

[1] https://eu-west-1.console.aws.amazon.com/vpc/home?region=eu-west-1#igws:
[2] https://eu-west-1.console.aws.amazon.com/vpc/home?region=eu-west-1#routetables:

Please let us know if you need any further assistance.
Regards,
Alessandro"
Amazon EC2	"Re: Can not ping Public IP or Public DNS
Hi,alessandros@AWS. I did what you suggested and the problem still exists. Can you help me to check my configurations ? Thanks."
Amazon EC2	"Re: Can not ping Public IP or Public DNS
help,pls."
Amazon EC2	"Import Windows Server 2003 Web Edition
I am trying to import a Windows 2003 Server, Web Edition into EC2.

The conversion fails (Thank you for telling me after a 24 hour upload to S3).

I than tried to upgrade the VM (in my local Virtual Box) to Windows 2003 Server Standard Edition, Evaluation Version. This failed when done from the running OS (because the Web Edition could not be upgrade).

I than did the upgrade by booting from CD. This time the installation succeeds (somehow), but the login complains about the evaluation period being over (with an immediate reboot).

What is the correct procedure to continue?

Buy a Windows 2003 Server Standard Edition (to complete the installation), create a .OVA, upload it to S3, convert the image, and pay again for the Windows license every hour? (So we have paide now 3 times for the same Windows instance)?"
Amazon EC2	"Correct way to use security group rules.
Hello guys. I'd like my instance to be able to communicate only with my local computer (via RDP) and one site (via HTTPs). I want all other ports to be closed so noone can access my instance and steal my data. Aws doesn't allow to choose option to forbid certain protocols and ports so i should allow all inbound traffic (all ports, all protocols) for my local computer's ip. Then i should allow HTTPS for site's ip. Like so... 

Type      Protocol   Port Range  Source
All traffic    All             All         xx.xx.xx.xx/32 (my ip)
HTTPS      TCP           443         xx.xx.xx.xx/32

Is that correct? Will it protect my instance from hackers and data stealing?"
Amazon EC2	"Re: Correct way to use security group rules.
1st rule will block all inbound traffic exept traffic from xx.xx.xx.xx/32 (my ip).
2nd rule will be addition to 1st rule and allow HTTPs traffic from  xx.xx.xx.xx/32 (site's ip).

Am i correct?"
Amazon EC2	"Re: Correct way to use security group rules.
Hi,

Yes this is correct!

You could also do the same on your Network ACL's as well for additiona security.  NACLS block traffic at the Network level, Security Groups block access at the Instance level.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Correct way to use security group rules.
Thanks man, thanks a lot!"
Amazon EC2	"Re: Correct way to use security group rules.
No worries at all! - Glad to have helped... 

Note: - You might want to mark the question as answered to close it down

Cheers,

Stooby..."
Amazon EC2	"Is a reserved instance, really ""reserved"" og is it just cheaper.
Hi Forum.

I wonder in the very rare case that EC2 have unexpected problems, and it is not posible to start new instances due to overload and failure of ec2-hardware, will one then be better of if you have a reserved instance?

I other words: Does it has a higher priority for AWS to start reserved instances than new instances (for existing customers).

Or is a reserved instance only about the price.

Best regards.

Anders Both
Denmark."
Amazon EC2	"Re: Is a reserved instance, really ""reserved"" og is it just cheaper.
Hi andersboth,

No, its not just about the price, they instances are actually reserved.  

""Reserved Instances provide a capacity reservation so that you can have confidence in your ability to launch the number of instances you have reserved when you need them.""

Source - http://aws.amazon.com/ec2/purchasing-options/reserved-instances/

This element forms a part of the 'reliable' aspect of Reserved Instances.

Hope this helps,

Cheers

Stooby..."
Amazon EC2	"Re: Is a reserved instance, really ""reserved"" og is it just cheaper.
thx ..."
Amazon EC2	"Re: Is a reserved instance, really ""reserved"" og is it just cheaper.
Hi andersboth,

No problem!  If you feel my comment was useful to you in any way, I would appreciate it if you could mark the comment as such.

Thank you! 

Stooby..."
Amazon EC2	"vm import - ServerError: an internal error has occurred during conversion
Hi,

I tried to import an ova image file. Its an ubuntu based exported from vmware. The conversion is failing with the following error.

{
            ""Status"": ""active"", 
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""3rdman-vm-images"", 
                        ""S3Key"": ""purity-scratch.ova""
                    }, 
                    ""DiskImageSize"": 0.0
                }
            ], 
            ""Description"": ""Basic Purity OVA"", 
            ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."", 
            ""ImportTaskId"": ""import-ami-fh0ndmji""
        },

Can you let me know the cause for the error?

Thanks,
Ashok"
Amazon EC2	"Re: vm import - ServerError: an internal error has occurred during conversion
Hello Ashok,

Thank you for posting on AWS Forum.

I am currently investigating your issue, will reply back as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: vm import - ServerError: an internal error has occurred during conversion
Hello Ashok,

the import task import-ami-fh0ndmji  seems now completed successfully, are you still experiencing issues?

Regards,
Giorgio"
Amazon EC2	"Re: vm import - ServerError: an internal error has occurred during conversion
I tried importing my OVA to EC2 and face same error. Can you pl provide me the reason so that I can correct it : 

{
    ""ImportImageTasks"": [
        {
            ""Status"": ""active"", 
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""cumulus-vx"", 
                        ""S3Key"": ""CumulusVX-LSI.ova""
                    }, 
                    ""DiskImageSize"": 534455296.0, 
                    ""Format"": ""VMDK""
                }
            ], 
            ""Description"": ""Cumulus VX OVA"", 
            ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."", 
            ""ImportTaskId"": ""import-ami-fgf3q38v""
        }
    ]
}

Thanks"
Amazon EC2	"How can I know why requests are queued into SurgeQueue?
Hi folks,

According to https://aws.amazon.com/premiumsupport/knowledge-center/elb-capacity-troubleshooting/,  some of the reasons that a load balancer can have a high max statistic for the SurgeQueueLength metric include:
Overloaded back-end instance(s) â€“ Back-end instance resourcesâ€”CPU, memory, and networkâ€”might be overloaded and unable to adequately process incoming requests.
Application dependency issues â€“ Modern web applications can have multiple depencencies on external resources such as databases, S3 buckets, or other applications. If there are performance issues with an application's external dependencies, the application's performance is affected. For example, if an application is dependent on a database table that is not properly indexed, database performance can hinder the application's performance.
Max connections reached â€“ Back-end web servers might have reached their maximum allowable connection limit and be unable to process new requests.

What I am wondering is how to identify which reason among Overloaded back-end instance(s), Application dependency issues and Max connections reached  causes it happen actually? When request is queued in SurgeQueue."
Amazon EC2	"cannot SSH to EC2, website slow
My EC2 instances are running as indicated on console. But, I can ssh to any. for example, i-1276ba38.
error message:
ssh: connect to host x.ihealthd.com port 22: Connection timed out

The websites on these instance are also very very slow now. anything happening on EC2 network?

Edited by: Anjun Chen on Jul 22, 2015 7:12 PM"
Amazon EC2	"Re: cannot SSH to EC2, website slow
There are differences in establishing SSH connections from different agents (Linux, Mac, Windows). 

First suggestion: Review  AWS docs  for troubleshooting connections to your instances.

Second suggestion: Review this  AWS blog post  on establishing SSH connection for the various agents. This describes steps for instances within a VPC but the setup for each agent is helpful."
Amazon EC2	"Re: cannot SSH to EC2, website slow
I SSH to my EC2 daily. But, earlier today, it is exceptionally slow, resulted in time-out. Now, it behaves normal. Thanks."
Amazon EC2	"AWS AMI Linux missing Beanstalkd package.
Beanstalk is a simple and fast work queue that integrates easily with Laravel and Supervisord. It would be nice if AWS AMI added this package to its repo and made available via yum install beanstalkd.I'm sure there are others who feel the same. If so please comment!"
Amazon EC2	"Unix Instance clock time reverts to UTC time on reboot
Found that there is a Citrix fix for this symptom for Windows instance. I wonder if there might be a workaround for Unix platform as well. We currently have multiple instances with the same behavior. Is this a known bug on recent EC2 instance deployment? 


The system does keep the time zone and NTP information
The system time reverts to UTC after rebooting (+7 Hours)


Thank you."
Amazon EC2	"Re: Unix Instance clock time reverts to UTC time on reboot
Hello,

Thanks for posting. Can you please give further details regarding how you've configured your instance? For example the following link provides further information on configuring your timezone in Linux have you followed this?

Time Zone

Regards,
Brandon"
Amazon EC2	"Re: Unix Instance clock time reverts to UTC time on reboot
That was correct Brandon. This was the exact link and the settings I used, with the timezone parameter configured, ntpd, ntpstat, ntpq -p.  But then, right after rebooting, the system time was reverted back to UTC. The timezone information stayed as configured (ZONE=""America/Los_Angeles"") Thank you.

Edited by: redarmor on Jul 22, 2015 4:39 PM

Edited by: redarmor on Jul 22, 2015 4:40 PM"
Amazon EC2	"Instance unreachable via ssh, can ping
One of several instances that has been running for months and months, i-0623ad64, is unreachable now by any of my other servers (mongodb, rabbitmq, ssh).  I can't ssh to it at all.  Have stopped it, restarted, reconnected elastic ip, but still can't shell.   Restarted it, same thing.  Can ping, but nothing else can talk to it.  Any insights into what's going on with this machine are appreciated."
Amazon EC2	"Re: Instance unreachable via ssh, can ping
Hello,

I apologize for the issues you've encountered. Looking at instance  i-0623ad64 I see that it is currently stopped which reduces my visibility into the instance's configuration.

Are you still experiencing this issue? If so could you please leave the instance running so that we can look further into this from our end?

Regards,
Brandon"
Amazon EC2	"instance cant be stoped and scheduled for termination
I got a email asking me to take care of i-befd3117 because it will be terminated due to some hardware issue.

I am however unable to force stop it. Could you please stop it and let me know?

Thanks"
Amazon EC2	"Re: instance cant be stoped and scheduled for termination
Hello,

Thanks for posting. Your instance should be available to start if you wish to do so. Unfortunately the underlying host in which your instance was running on encountered issues and was unable to process your requests.

Regards,
Brandon"
Amazon EC2	"Unable to stop EC2 instance
Hello,

Between July 11th and 13th, there was an issue with one of our EC2 instance. The Instance ID is: i-5a8695a8

Here are the details of the issue:
1. Unable to connect to the terminal
2. The reboot command did not work
3. Unable to stop the instance (waited for 5 minutes)
4. Unable to connect to the game servers
5. 2015-07-12 System log does not exist
Please see the screenshot attached for more details.

Could you please let me know the reason for this issue and how to fix it?

Thank you"
Amazon EC2	"Re: Unable to stop EC2 instance
Hello,

Thanks for posting. I see the instance is now stopped. Looking at the underlying host in which this instance was on during that time I can see the underlying host had become unhealthy. I do not have specific information as to why it became unhealthy. Unfortunately when an underlying host becomes unresponsive your instance will more than likely also become unresponsive.

If you desire high availability I would consider using an ELB or similar (HAProxy for example) so that your traffic can be distributed between multiple backend instances. The following link demonstrates this:

High Availability Architeture

Regards,
Brandon"
Amazon EC2	"setting an alarm for multiple instances
Hi,

I'm configuring an alarm for an instance from the management console. for example, to trigger a notification when the cpu is idle for 15mins. I want to know if there is a method by which this alarm can be applied for all the active instances?

Thanks."
Amazon EC2	"Re: setting an alarm for multiple instances
Hello,

Thank you for the post.

You can create a CloudWatch Alarm for all of your instances via the CloudWatch Console. You can follow the steps below:

Open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/
Select 'Alarms' from the navigation pane and click 'Create Alarm'
On 'Create Alarm' page, in step '1. Select Metric', select 'Across All Instances' from the 'EC2 Metrics' option
Then, select 'CPUUtilization' and select 'Average' from the 'Statistic' drop-down list.
Select a period from the 'Period' drop-down list, for example: 5 minutes.
Click 'Next', and then under 'Alarm Threshold', in the 'Name' field, enter a unique name for the alarm, for example: myHighCpuAlarm.
In the 'Description' field, enter a description of the alarm, for example: CPU usage exceeds 70 percent.
In the 'is' drop-down list, select '>='.
In the box next to the 'is' drop-down list, enter 0 and in the 'for' field, enter 1.

A graphical representation of the threshold is shown under 'Alarm Preview'.

Under 'Actions', in the 'Whenever this alarm' drop-down list, select 'State is ALARM'.
In the 'Send notification to' drop-down list, select an existing Amazon SNS topic or create a new one.
To create a new Amazon SNS topic, select 'New list'.

In the 'Send notification' to field, enter a name for the new Amazon SNS topic for example: myHighCpuAlarm, and in the 'Email list' field, enter a comma-separated list of email addresses to be notified when the alarm changes to the ALARM state.

Click 'Create Alarm' to complete the alarm creation process.


More information about 'Send Email Based on CPU Usage Alarm' can be found on this link: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/US_AlarmAtThresholdEC2.html

For more information about 'Aggregating Statistics Across Instances', please refer to this documentation: http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/GetSingleMetricAllDimensions.html

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Re: setting an alarm for multiple instances
Thank you Nikhil. I'd seen cloudwatch but i'm not able to find the option to select all instances. I just get per instance metrics. 

Thanks again.

Best regards,
rwran

Edited by: rwran on Jul 16, 2015 7:16 PM"
Amazon EC2	"Re: setting an alarm for multiple instances
I'm still unable to find the ""across all instances option"" in cloudwatch"
Amazon EC2	"Re: setting an alarm for multiple instances
Hi,

Where can I find ""across all instances"" in cloudwatch? Please guide me."
Amazon EC2	"Re: setting an alarm for multiple instances
Hello,

Thanks for posting. In order to select 'Across All Instances' you'll want to make sure you have detailed monitoring enabled:

Aggregate statistics are available for the instances that have detailed monitoring enabled. Instances that use basic monitoring are not included in the aggregates. In addition, Amazon CloudWatch does not aggregate data across Regions. Therefore, metrics are completely separate between Regions. Before you can get statistics aggregated across instances, you must enable detailed monitoring (at an additional charge), which provides data in 1-minute periods.


Please see the following Detailed Monitoring.

Regards,
Brandon"
Amazon EC2	"Cannot connect to EC2 Instance via Remote Desktop Connection
Hello everybody,

I have created an Instance of SAP Business Warehouse 7.4 incl. SAP Business Objects BI 4.1 SP2 on SAP HANA 1.0 SP in the SAP Cloud Application Library.
After activation it shows green in CAL (status is active). In the AWS Account in EC2 it is also showing the instance as active.

But when I try connecting to it using the Remote Desktop Connection it is not working.

I get an error message: ""Remote desktop cannot connect to the remote computer for one of these reasons: 1)Remote access to server is not eabled 2)The remote computer is turned off 3) The remote computer is not available on the network.

Neither did it work by using the the provided RDP from SAP nor by entering the IP manually.
I tried it from my home network, via vpn (company network) and UMTS. 

Results were all the same...

RDP is activated in the security Group in AWS and when I try to reach the Port 3389 by portquiz.net:3389 it's working fine.
I also tried Telnet IP:3389 in the cmd and got the following message:
A Connection with the host couldn't be established, on Port 23: Connection Error.

Another Person also tried to Telnet the instance but also got an error. But he is definitely able to Telnet other AWS instances with this port from the same Network.
At the Moment the instance is stopped as I can't connect to it anyway but i can activate it anytime if needed.
It's just frustrating when it causes costs and can't be used 
I also started the same thread in the SAP Community Network but they told me it could be best to ask for Support here  

Do you have any idea what the cause could be? 

Thanks for your help in advance.

BR,

Sebastian

Edited by: sebmai on Feb 27, 2015 5:35 AM"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hello sebmai,

thank your for posting on AWS Forum.

Unfortunately I was not able to locate your resources. In order to help you troubleshoot your issue can you please give us the instance-id and start back your instance?

Regards,
Giorgio"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hi Giorgio,

thanks for your reply.
The instance-id for the frontend Server I'm trying to connect to via Remote Desktop Connection is i-5df502ad.
I've just started it back. 
The instance is now available.

Thanks for your help.
BR,
Sebastian"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hello,

Thank you for providing the instance id. I've reviewed the instance and it's current configuration and one item that is missing is a default route in the route table. Currently I see the following:

10.0.0.0/16 	local 


The only route in the route table rtb-7b0d5a1e  is to the local network.

In order to connect to this instance directly, you'll need to assign an IGW with the destination set to 0.0.0.0/0.

For example:

0.0.0.0/0  igw-XXXXX 


The following link goes into detail.
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

If you still are unable to connect please let us know and we'll take another look at the configuration.

Regards,
Brandon"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hi Brandon,

thanks for your reply.
I've deleted my old instances and generated new ones to see if anything changes - with no luck.
I also tried your Suggestion. Please check if I did it correctly.
Please note that I now have two instances but I only want to Access the following with RDP:

Instance Name:  i-f7b86e07 
VPC-ID: vpc-1d592378
Subnet: subnet-79eb3152
I also can see a public IP here. 
When I now check the mentioned VPC-ID in VPC-Services it says root table rtb-7b0d5a1e is used for it.
In this root table as you already said there were only an entry for 
10.0.0.0/16 	local
So I added the entry 
0.0.0.0/0  igw-a5d959c0 which describes my Internet Gateway.
On top of that i added the Subnet subnet-79eb3152 to the root table rtb-7b0d5a1e.

Unfortunately, it is still not accessible with Remote Desktop Connection.

Do you have any idea?

Thanks and best regards,

Sebastian

Edited by: sebmai on Mar 2, 2015 4:05 AM"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hi There

Could you help me please?

I have an instance that i can SSH through putty but i can not RDP to it. Security group i have for it all set For All IPs. i have took screenshot attached. Could you please, take a look and let me know where I am doing wrong.

Appreciated, 
Sav"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hello everybody,

does anybody have an idea what to do?

Thanks and best regards,

Sebastian"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hello,

i-f7b86e07 is currently in a stopped state, if you could please start it again I can review the configuration and see what it currently looks like.

Regards,
Brandon"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hi,
I have an instance running but suddenly cannot remote desktop to it no matter how many times i rebooted. I terminate it and created new one but run into same issue again, any clue what could be wrong? it seems the instance is running but I can't connect to the network interface, security group was already set correctly.

instance#i-c08a0929,N.virginia,NIC#eni-e7169ada"
Amazon EC2	"Re: Cannot connect to EC2 Instance via Remote Desktop Connection
Hello,

Thanks for posting. Unfortunately instance i-c08a0929 is stopped and I will not be able to gather the necessary information to help. Please start the instance again and post back so we can look at this further.

Regards,
Brandon"
Amazon EC2	"Does AWS Ec2 free tier have routers that support uPnP or NAT-PMP auto-conf?
I am trying to install Plex media server on a Ubuntu-Server-13.10 VM, using the most basic of free tiers.
I have followed all steps and configured almost everything ... there is only one last detail missing: I cannot connect my machine to Plex servers. 

All I get is a never ending - connec to server message, as in the image attached. 

By reading the Plex help sections, they said that my routers should  support uPnP or NAT-PMP auto-configuration for an automatic config:
https://plexapp.zendesk.com/hc/en-us/articles/200931138

So I have to know if AWS EC2 free tier has this feature, and if not, how can I add it?"
Amazon EC2	"Re: Does AWS Ec2 free tier have routers that support uPnP or NAT-PMP auto-conf?
Hi there,

The one thing that you want to make sure is that your Security Group associated with that instance is set up to receive traffic on a specific port that Plex Media Server needs to function. Presently, I only see SSH port explicitly specified in your security group.

Looking at Plex's troubleshooting page, what you can do is set a static port number and make sure that you've allowed that port number in your AWS EC2 security group from the source IP of the client machine. Then from your machine, you can run a quick test to make sure that the port is indeed open and ready to serve traffic by running the following (let's pretend your instance IP is 1.2.3.4 with port 32400):

$ telnet 1.2.3.4 32400
Trying 1.2.3.4...
Connected to 1.2.3.4.
Â 
telnet> 


If you see something like this, then you'll know that traffic is servable at that port. I hope this helps!"
Amazon EC2	"Re: Does AWS Ec2 free tier have routers that support uPnP or NAT-PMP auto-conf?
Thanks for the help! 
I am allowing all connections to the local machine, so I dont understand why I have this problem, but I already fixed following your suggestion."
Amazon EC2	"Re: Does AWS Ec2 free tier have routers that support uPnP or NAT-PMP auto-conf?
Hi I'm hoping you can help, I'm trying t set up Plex on Ubuntu similar to you. Once i try to access the PMS though the localhost:32400 i get a plex logon screen with no access to the server. Do you have details on how you installed using AWS and what your setup is?

Cheers"
Amazon EC2	"Upgrading httpd and php without uninstalling
Hi All,
I am running on Amazon Linux AMI release 2015.03 and I have httpd 2.2 and php 5.3.  I would like to upgrade them to httpd 2.4 and php 5.6 without uninstalling the current versions.  Is there a way to do this with yum?
sudo yum install -y httpd24 php56
...
Error: php56-xml conflicts with php-xml-5.3.29-1.8.amzn1.x86_64
Error: php56-common conflicts with php-common-5.3.29-1.8.amzn1.x86_64
Error: httpd24 conflicts with httpd-2.2.29-1.5.amzn1.x86_64
Error: php56 conflicts with php-5.3.29-1.8.amzn1.x86_64
Error: php56-process conflicts with php-process-5.3.29-1.8.amzn1.x86_64
Error: httpd24-tools conflicts with httpd-tools-2.2.29-1.5.amzn1.x86_64
Error: php56-cli conflicts with php-cli-5.3.29-1.8.amzn1.x86_64


Regards,
Brian"
Amazon EC2	"Re: Upgrading httpd and php without uninstalling
Brian,
The way that httpd22, httpd24, php, and php56 are packaged in Amazon Linux does not allow them to be installed on an instance at the same time. This is why they are marked as conflicts. We did change the packaging in php55 and php56 that allows them to be installed on the system at the same time, but this work has not been done on older version of php (php and php54).  What you are trying to accomplish cannot be done with Yum or RPM using the packages provided in the Amazon Linux AMI repositories. 

One way to solve this is to use docker and containers to be able to run both of these versions in their own container on the same instance. 

-Heath"
Amazon EC2	"Re: Upgrading httpd and php without uninstalling
Thank you for the information.

Regards,
Brian"
Amazon EC2	"Re: Upgrading httpd and php without uninstalling
I'd like to replace the standard Amazon installed version of LAMP stack (in particular PHP) Is it possible to replace the Amazon version somehow?  I've tried but end up with same errors:

Error: php55-cli conflicts with php-cli-5.3.29-1.8.amzn1.x86_64
Error: php55-common conflicts with php-common-5.3.29-1.8.amzn1.x86_64
Error: php55-xml conflicts with php-xml-5.3.29-1.8.amzn1.x86_64

I can't remove these using yum.

Adam"
Amazon EC2	"Re: Upgrading httpd and php without uninstalling
There is a short way, and long way to upgrade. The short way is to just launch a new instance, install the php version you want on it, and move you data over. The long way requires that you remove all php packages, and install a newer version (except if you are moving from php55 to php56). 

To upgrade, you'll need to completely uninstall all php packages, and any packages that depend on the core php packages. There is no solution for doing in-place PHP upgrades using yum when going to php54, php55, or php56 from the default php packages. How I typically do it is this:
1. I get a list of all php packages installed. For example: 
 rpm -qa | grep php 

2. From that I build a list of packages to install, replacing any core, and php binary module packages with the equivalent php55 package. Any php-module package (such as php-mbstring) will need to be changed to php55-module name. Also, any pecl package will need to match the version of php being installed. 
3. The command:
 sudo yum remove php-common 

will remove almost all php packages. There might be some clean up needed.
4. Once the packages are uninstalled, install the new, later version php packages. 

As mentioned above, your exact method might be different depending on your operational procedures and application requirements."
Amazon EC2	"Running Adobe Lightroom on EC2
Question: Should the latest Adobe Lightroom program work on a Windows machine on EC2?

I'm often traveling to different countries to make photos. I don't want to carry an expensive notebook with me. So my ideas is to travel with a cheap netbook only and the do some photo editing work in the hotel on an EC2 windows machine.

For a test I installed the latest Adobe Lightroom on a T2 Windows EC2 server machine with 2 GB RAM.
Installation was successfull but the program does not start. There's no error messages. It just happens nothing. I tried to set the compatibility for the program to ""Windows 7"" and ""Run as Administrator"".
With this setting the splash screen of Lightroom did appear once....  but from then on nothing happend again.

Can anyone confirm that he successfully runs Lightroom on EC2?  Special settings? Any suggestions?

I look in this forum and asked google... but without any luck so far...

Thanks a lot,

Werner"
Amazon EC2	"Re: Running Adobe Lightroom on EC2
Hi Wernizh

were you able to solve this? I have the same intentions to install an instance of lightroom on a EC2

Thanks

Jorge"
Amazon EC2	"443 closed, 80 fine, exhausted all options after 6 hrs of debugging
I'm really hoping someone out there can help. I'm an SSL newbie, and have spent about six hours over two days trying to understand why port 443 is not open.

nmap reports 443 closed, and https requests show ""connection refused"". Port 80 works just fine.

Instance: Ubuntu 14.04 running Apache

What I have done:
  1) Enabled mod_ssl and confirmed it's active
  2) Configured default-ssl.conf with my certificate info and SSLEngine on
  3) Configured default-ssl.conf with the correct VirtualHost directive (example.com:443)
  4) Added an allow from all HTTPS rule to my security group
  5) Used iptables to (theoretically) open port 443
  6) Enabled the default-ssl site via a2ensite
  7) Restarted apache many times during this process, rebooted the machine a couple as well just for good measure

Apache starts without error, and reports that OpenSSL/1.0.1f is resuming normal operations.

I am hoping someone notices a glaring newbie missed-step error with the above list. If needed I'll post all the config files.

Thank you.

Edited by: grondhammar on Jul 22, 2015 8:37 AM"
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
Does your configuration include the 
Listen 43 

configuration anywhere? 

You can use the netstat -an command to see what ports are in the listen state. If it's not listed in there, then the OS will refuse the connection automatically."
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
Yes, I've got ""Listen 443"" in my ports.conf file (This is Ubuntu 14.04, so much of my confusion may be stemming from the fact that the conf files don't behave like many other distros).

Additionally, if I attempt to put Listen 443 directly in the apache2.conf file, I have the same result (i.e. a closed 443 port).

netstat -an in fact does not list 443, despite all my efforts. 80, 22 and 3306 (mysql) are there and working fine. I'm completely at a loss how to get 443 on that netstat list under a LISTEN state.

Thanks for answering."
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
One change: I remembered putting ""Listen 443"" in my ports.conf file but apparently during my many forum trawls I had changed that to ""Listen 80 443"". I separated the ""Listen 80"" and ""Listen 443"" into two separate lines, and now netstat -an reports a LISTEN listing for :443.  nmap -p 443 localhost (executed from server I'm configuring) reports that 443 is open.

However, nmap -p 443 from another machine reports it still closed, and a regular https request via browser also still returns ""connection refused""."
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
OK, what does the line in netstat -an look like? If it's 0.0.0.0:443, then that is listening on all IP ports, but if its the locahost 127.0.0.1, then it'll only work within the machine.

You have mentioned iptables. Use uptables -L -vn to check the state of the INPUT table. Is it ACCEPTing by default? Do you have rule in there to ACCEPT TCP/443 tracffic?"
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
The netstat -an listing line looks like this:
tcp6     0     0 :::443        :::*      LISTEN

(just in case that doesn't make sense in this format, Local Address is :::443, and Foreign Address is :::*)  From your question, it looks like something is wrong there...?

The iptables listing looks like:
   5   280 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            state NEW tcp dpt:443"
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
No, that looks fine. It's just ip6 formatting.

There may be a problem with your iptables configuration. While that rule allows new traffic, there needs to be rules that allow existing connections to keep working.  Check what the default action is on the INPUT table. It's the policy given in the title of the table.

I don't use iptables to control traffic, I use the AWS VPC configuration to control what protocols and ports are open. I find its easier."
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
Ah... didn't know there was an alternative. I'll check out VPC. Thanks!"
Amazon EC2	"Re: 443 closed, 80 fine, exhausted all options after 6 hrs of debugging
Edit: the issue turned out to be, as with most such baffling cases, shockingly dumb. I had somewhere in the last 11 hrs of work gotten my IPs crossed.  I had two ssh sessions open... one was for text editing, one was for command-line listings and commands.  Unfortunately I was writing files on one server and running config commands on a totally different server.

All the configuration I had done is working fine now that I'm working on one server at a time.

Brilliant...

Edited by: grondhammar on Jul 22, 2015 12:02 PM"
Amazon EC2	"question about creating Windows Server 2008 virtual machines in AWS EC2....
I'm planning to use the AWS free tier for training in Active Directory exercises on Win 2008 server, whereby my training will on rare occasion require up to four Server 2K8 virtual machines running simultaneously. 

When creating virtual machines in AWS EC2's free trial version, would I have to first sign up for the
Win Server 2008 trial version license separately with Microsoft, or does your service allow such a server OS to be loaded from your site, without first arranging a separate license?    

Jeff"
Amazon EC2	"Creating a Network
I am relatively new to amazon's ec2 service. I am trying to make the network traffic of 5 instances all go through one central location so it can be recorded and later analyzed. I have done a little research and it looks like I might need to create an Elastic Network Interface. Will this accomplish that goal, and if so, is there a way to connect pre-existing instances with the new network interface or will I have to recreate the 5 instances?"
Amazon EC2	"Re: Creating a Network
Hello, 

EC2 instances come with an ENI, but if you need additional ENI's you can provision them as needed. To do what you describe, you can route traffic to a particular ENI/EC2 instance with your VPC's route table. You can read more on Route Tables here: 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html

A scenario with a NAT instance sounds very similar to what you're trying to setup. You can review our documentation on how to route traffic through a NAT instance here:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_NAT_Instance.html

Regards,
Nick"
Amazon EC2	"Re: Creating a Network
Thanks for the response.

I think using a route table will partially accomplish what I need. It looks like with the first entry of the route table (Destination:10.0.0.0/16 Target:local), all traffic between two instances within the subnet will not be routed to the particular instance that will be recording the packets. Is that correct? If so, is there a way to get around that?

Edit: After giving more thought to my goal, I have figured out that it is not important if the internal traffic is not routed to the instance.

After the traffic has been routed to the instance (Destination:0.0.0.0/0 Target:<instance_id>), how is it then forwarded to the internet gateway?

Edited by: ChrisW on Jul 22, 2015 10:13 AM"
Amazon EC2	"Best practice for large php applications
Hi guys,

We are trying to move our application to a Autoscaling cluster but we're having one very annoying issue. 

The app we're trying to move is pretty big, the S3 bucket is about 400 mb of code. When I copy this from S3 onto a EC2 server ourselves it takes about 5 minutes max. But if I run this as a User-data script in Auto-scaling it takes an eternity. All our script does is:

sudo mkdir -p /var/www
sudo aws s3 cp s3://<bucket-name>/code/latest/ /var/www/ --recursive
sudo chown -R www-data.www-data /var/www/Â 
sudo service apache2 graceful


An t2.medium instance created by auto-scaling that runs this script runs at 100% cpu for at least 20 minutes.

Top shows tee and aws fighting for cpu time. 

 Right now the grace period for autoscaling stands at 1200 seconds and still the images are killed for not being ready in time which creates an infinite loop of images being created and destroyed. 

I have tested the script on a clean image from the same AMI as the Autoscaling group uses and that works fine. 

Does anyone know a way to reduce the time it takes to start the instances quicker?

Regards,

Hugo"
Amazon EC2	"Can't connect to instances created in Oregon
I'm unable to connect to instances created in Oregon, no matter what the security group says. The instance log says they're running too. I've created various kinds of instances over the last couple of days and am still having issues. I am connecting from Shaw cable in Canada but I'm not the account holder so I can't troubleshoot from that end.

Instances in other locations are fine.

Edit: Have also tried connecting from another machine located in San Francisco - no luck.

Edited by: Adam Baxter on Jul 21, 2015 10:41 AM"
Amazon EC2	"Re: Can't connect to instances created in Oregon
Hi,

In order to better assist you with connecting to the EC2 instances in Oregon, can you kindly provide us an instance-ID in which you are connecting to?

Regards,
Mohsin"
Amazon EC2	"Re: Can't connect to instances created in Oregon
I'll leave i-5ad21993 up for the next 8 hours or so. Just noticed the same problem for me in N. California but let's sort this one out first.

Interesting lines from the system log:

Cannot find a valid baseurl for repo: amzn-main/latest
Could not retrieve mirrorlist http://repo.us-west-2.amazonaws.com/latest/main/mirror.list error was
12: Timeout on http://repo.us-west-2.amazonaws.com/latest/main/mirror.list: (28, 'Connection timed out after 10001 milliseconds')
Jul 21 21:09:37 cloud-init2053: util.pyWARNING: Package update failed{/code}

Edited by: Adam Baxter on Jul 21, 2015 2:16 PM

Edited by: Adam Baxter on Jul 21, 2015 2:17 PM"
Amazon EC2	"Re: Can't connect to instances created in Oregon
Hello Adam, 

I took a look at the instance and I see that there is no Route to an IGW in the Route Table. This instance is currently using Route Table rtb-e32c4286 which only has the default route to the local network. Please add a route to an IGW for all traffic (0.0.0.0/0) in order to access this instance from your local machine. 

For more information, please see our documentation on Internet Gateways:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

Best Regards,
Jillian L."
Amazon EC2	"Re: Can't connect to instances created in Oregon
Thanks, adding a route to an IGW fixed it. I never changed the settings for this VPC - any idea why the IGW wasn't added by default?"
Amazon EC2	"EC2 instance was unexpectedly shutdown
Hi there, 

My windows EC2 instance was shutdown unexpectedly on 12:38PM 6/19/2015,  here is the log:

The process C:\Program Files\Amazon\XenTools\LiteAgent.exe (WIN-IM3PLA8QIVV) has initiated the shutdown of computer WIN-IM3PLA8QIVV on behalf of user NT AUTHORITY\SYSTEM for the following reason: No title for this reason could be found
 Reason Code: 0x8000000c
 Shutdown Type: shutdown
 Comment: 

Would you please help me figure out the reason?

Thank you very much.
J.

Edited by: jlotest3 on Jul 20, 2015 11:48 AM"
Amazon EC2	"Re: EC2 instance was unexpectedly shutdown
Hello,

Can you post the ID for the instance in question so that we may be able to look into this further?

Best regards,
Justin G."
Amazon EC2	"Re: EC2 instance was unexpectedly shutdown
The instance is is i-0f32f703

Thanks
J."
Amazon EC2	"Re: EC2 instance was unexpectedly shutdown
Hello, 

It looks like this instance was shut down due to a scheduled retirement. 

Best Regards,
Jillian L."
Amazon EC2	"Cannot SSH into new instance
I have created a new Redhat instance using a security group whose only rule is that the SSH port is open to everyone.  I have attached a screen shot of the security group rules.

For the key, I generated a keypair in the console.  

I however cannot connect.  I don't believe I ever even get to the key exchange:

telnet 52.4.82.235 22
Trying 52.4.82.235...
telnet: connect to address 52.4.82.235: Connection timed out

I get a similar result with my ssh client.

Ideas?"
Amazon EC2	"Re: Cannot SSH into new instance
Well..  No answer so I terminated the instance.  Maybe I need to look elsewhere.."
Amazon EC2	"Re: Cannot SSH into new instance
Hi,

When troubleshooting connectivity to your instances check the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Cannot SSH into new instance
Would this have anything to do with it?  I can't seem to get rid of the inbound rule on the NACL that has the asterisk next to it?  (see image)"
Amazon EC2	"Re: Cannot SSH into new instance
Hi,

No, that is just an explicit DENY at the end of the rule table.  The rules are read from the lowest number first.  At the end of every NACL there is an explicit DENY, which is what the * is denoted by.  

You can also deleted Rule 200 from the inbound connection as that is a duplicate of rule 100.

Cheers,

Stooby..."
Amazon EC2	"Re: Cannot SSH into new instance
How do I ""Ensure you have an Internet Gateway associated with your VPC"" ?"
Amazon EC2	"Re: Cannot SSH into new instance
From within the AWS Console select the ""VPC"" Service.  Down the left hand side you will see 'Internet Gateways'.  Click on that and you can see if you have one set up.

Do you know if you have set up your own VPC for your instance of if you are using the Default VPC?"
Amazon EC2	"Re: Cannot SSH into new instance
I have attached two images about my VPC and instance.  I believe they answer your question.  I am still not able to connect though.."
Amazon EC2	"Re: Cannot SSH into new instance
Do you have a route in your routing table pointing to the Internet Gateway looking something like: 0.0.0.0/0 via IGW?

Check the route table of the instance that you are having troubles with.

Cheers,

Stooby..."
Amazon EC2	"Re: Cannot SSH into new instance
Yeah, that was not there.  Well, now I am able to at least make a connection, now I have to figure out why my key is being rejected lol.  Thanks, I will reply if I get stuck again.

Thanks again!"
Amazon EC2	"Re: Cannot SSH into new instance
No problem at all - if you found any of my comments 'helpful', please mark them as so it would be much appreciated.

Thank you!"
Amazon EC2	"AMI with SQL Server 2014
Hi
   We have created Instance with SQL Server 2014. I have questions regarding it
1) If I want to change SQL server collation , how is it possible?
2) If I want multiple Instance of SQL server , how can I do it?

Thanks"
Amazon EC2	"How to create a highly available VPC-NAT instance across two AZ's
We are using VPC in US-WEST-1 and high availability for all services in two availability zones. When we set it up, AWS automatically provisioned a VPC-NAT instance.

The problem is that AWS only created a single VPC-NAT instance in one availability zone. This is a single point of failure right?

If I create an AMI of our current VPC-NAT instance, and deploy it in the other availability zone in US-WEST-1, what changes do I need to make in the VPC networking settings? Do I have to setup any sort of health checks or anything else?"
Amazon EC2	"Re: How to create a highly available VPC-NAT instance across two AZ's
Hi,

This article should help you to complete what you are trying to achieve:

http://aws.amazon.com/articles/2781451301784570

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"T2.medium not increase the CPU credits
The Instance ID is  i-af1d8866, which uses AMI linux.
This t2.medium instance keep idle (I stop almost all services and the cpu credit usage and utilization also indicate that)  for more than 1 week. However, when the CPU credit balance increase to about 429, it would not increase anymore. Accounting to the documents, it is supposed to accumulate to 576 eventually. 

Two instances with AMI Linux have this issue. Another instance which uses Centos 6.5 does not have this problem.

Edited by: neandeny on Jul 22, 2015 6:52 AM

Edited by: neandeny on Jul 22, 2015 6:58 AM"
Amazon EC2	"Failed to remote desktop to my instance in EC2, even new instance
Hi,
I have one instance running fine suddenly cannot remote desktop to it. I terminated it and created a new instance but run into same issue, have tried to remote desktop from multiple computers all failed. The security group already allow all inbound connections but still cannot connect. Instance was showing running fine in dashboard. Any clue and next step i can troubleshoot?
instance#i-c08a0929,N.virginia,NIC#eni-e7169ada"
Amazon EC2	"Re: Failed to remote desktop to my instance in EC2, even new instance
Hi,

When troubleshooting connectivity to your instances check the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Cannot reach EC2 instance via public IP on SSH and cannot ping it
Solved: Eventually found out the internet gateway is not added automatically, neither does it tell you this anywhere. Found the answer here: https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html by adding route to 0.0.0.0 on my gateway.

I have just set up a new EC2 t2.medium instance with Centos 7. I set up an elastic IP and associated it with the instance.

I've associated security groups to allow port 22, 80 and all ICMP.

I have the public IP but cannot ssh or ping it at all.

I tried to delete the instance and recreate it but have the same issue. What am I doing wrong?

Instance id is i-9e6b534d.

TIA

Edited by: drjohnzoidberg on Jul 22, 2015 5:55 AM"
Amazon EC2	"Can connect to NAT instance, but not MongoDB (errno:111 Connection refused)
I have followed AWS' instructions ( link ) for installing MongoDB on AWS, and things seem to work until I try to connect to it.

When I run mongo, I get this connection error:
2015-07-21T23:07:01.188+0000 warning: Failed to connect to 127.0.0.1:27017, reason: errno:111 Connection refused
2015-07-21T23:07:01.188+0000 Error: couldn't connect to server 127.0.0.1:27017 (127.0.0.1), connection attempt failed at src/mongo/shell/mongo.js:146

And that happens even if I comment out the bind_ip setting in the mongod.conf file (a common suggestion on forums). Mongo did install, as I can run mongo --nodb successfully. Can someone help with my connection problems?

Thanks in advance!"
Amazon EC2	"some question about aws ebs costs
i am free tierï¼Œbut I received the bill last month,notice I need to pay $0.01 .
I checked the bill detailsï¼Œand found this as belowã€‚
I want to know how these costs ?
thank you 

EBS
$0.00 per GB-month of General Purpose (SSD) provisioned storage under monthly free tier	30 GB-Mo	$0.00
$0.12 per GB-month of General Purpose (SSD) provisioned storage - Asia Pacific (Tokyo)	0.042 GB-Mo	$0.01"
Amazon EC2	"Re: some question about aws ebs costs
ccc2014 wrote:
EBS
$0.00 per GB-month of General Purpose (SSD) provisioned storage under monthly free tier	30 GB-Mo	$0.00
$0.12 per GB-month of General Purpose (SSD) provisioned storage - Asia Pacific (Tokyo)	0.042 GB-Mo	$0.01

The free tier offers 30 GB of storage, which has been exceeded according to this information. Any usage outside of the free tier limits will be charged. The 30 GB limit means that you can keep a single 30 GB EBS volume for a full month. A larger volume would consume the 30 GB limit in less time. If you have mutiple volumes, it's the total provisioned size that matters."
Amazon EC2	"Re: some question about aws ebs costs
Hi,

I have created an outbound billing support case to address your query regarding the EBS charges on your account, case 1449937781. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"sale without account
hello, I would like to do a sale of my reserved instance, but I don't have account in the United States, what should I do?

please help-me"
Amazon EC2	"Re: sale without account
Hi,

I have created an outbound billing support case to address your query regarding the sale of your Reserved Instance, case 1449934331. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"AWS Marketplace instance
Hello,

I'm trying to publish an instance to the Marketplace though not sure if there is any action I need to take in order to make sure it reaches the Marketplace. I've followed this guide : 
https://aws.amazon.com/marketplace/help/200940360/

(I've shared our instance with xxxx-xxxx-xx41 though not sure if there is anything I need to do).

Anyone can help?

Edited by: RodneyM@AWS on Jun 29, 2015 2:19 PM"
Amazon EC2	"Re: AWS Marketplace instance
Hi  giany007,

Have you tried searching for your AMI on the marketplace? Does it show up? If not, could you provide the AMI which you attempted to share and I'll take a look.

Regards,

Rodney"
Amazon EC2	"Re: AWS Marketplace instance
Thanks for reply. I cannot find it on Marketplace.
Its either AMI ID : ami-87621bf0 in Ireland or ami-a17483ca in North Virginia.

Thanks."
Amazon EC2	"Re: AWS Marketplace instance
Hello,

I've searched for both AMI's and I have access to launch both:

ami-a17483ca Public available
ami-87621bf0 Public available

From the EC2 console select AMI on the left and then set the Filter to ""Public Images"". Be sure to verify that you are searching the correct region.

Regards,
Brandon"
Amazon EC2	"Re: AWS Marketplace instance
Thanks for your reply.

Currently when I try to launch an AMI I have in the left Quick start, My AMIs, AWS Marketplace, Community AMIs. I'm aware the AMIs are public but I'd like them to be found  in the AWS Marketplace tab. 

Anything special I need to do in order to add it there?"
Amazon EC2	"Re: AWS Marketplace instance
Any update on this one?

Thank you."
Amazon EC2	"Re: AWS Marketplace instance
Hello, 

If you're wanting to sell on the AWS Marketplace, you'll need to become an AWS Partner. You can read more and get started with this here:
https://aws.amazon.com/marketplace/management/tour/

Regards,
Nick"
Amazon EC2	"Re: AWS Marketplace instance
I've missed all this partner stuff, will take care of it.

Thanks,"
Amazon EC2	"CORS (Access-Control-Allow-Origin) question with EC2 Lamp servers
Hello,

I have 2 EC2 servers setup, both managed by a Load Balancer configured with SSL.  One EC2 server is acting as a web page ('www.example.com'), and the other is acting as a PHP API server ('api.example.com').  I'm serving my web page as a Facebook Canvas page and attempting to send requests to my PHP API server, but I'm getting issues with my CORS configurations:
XMLHttpRequest cannot load https://api.example.com/. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://www.example.com' is therefore not allowed access.

I have an .htaccess file on each of my EC2 servers with the following information to attempt to force the Access-Control-Allow-Origin, but it doesn't seem to be working based on the error above:
# Always set these headers.
Header always set Access-Control-Allow-Origin ""*""
Header always set Access-Control-Allow-Methods ""POST, GET, OPTIONS, DELETE, PUT""
Header always set Access-Control-Max-Age ""1000""
Header always set Access-Control-Allow-Headers ""x-requested-with, content-type, origin, authorization, accept, client-security-token, X-Olaround-Debug-Mode, access-control-allow-headers, access-control-allow-methods, access-control-allow-origin, X-Frame-Options""
 
# Added a rewrite to respond with a 200 SUCCESS on every OPTIONS request.
RewriteEngine On
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ $1 [R=200,L]

Are there any other configurations I should check for this CORS issue?  For reference on how my EC2 servers are setup, I setup my LAMP configuration based on the documentation here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html.

Thanks"
Amazon EC2	"Auto Scaling Launch Configuration with c4 instance as a Spot Instance
I'm trying to create new Launch Configuration in Auto Scaling section with c4.large instance as instance type. Then I mark the Request Spot Instances checkbox, but get There is no Spot capacity for instance type c4.large error. However, if I create a Spot Request manually with the same instance, it works well. Is it intended than c4 instances are not available in Auto Scaling system?

Edited by: artch on May 2, 2015 12:24 AM"
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
Hello,

Thank you for posting on AWS Forum.

I was able to replicate your scenario an launch a and autoscaled c4.large spot instance. I performed my test in the us-east-1 region.
Can you please confirm in which region are you trying to create your Launch Configuration / AutoScaling group?

Regards,
Giorgio"
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
Giorgio, thank you for answering. Yes, I'm using the same region us-east-1."
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
What is the status here? I am still unable to create any Launch Configuration using c4 instance family."
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
I am also interested in the status of this, as I'm having the same issue, but in the us-west-2 region.  It looks like none of the c4 class instances can be bid on for spot prices during launch configuration creation as it keeps erring out with the following message:  There is no Spot capacity for instance type.   A single instance can be created as a spot and correctly launches."
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
I have been having this same issue for a while in us-east-1. Any updates?"
Amazon EC2	"Re: Auto Scaling Launch Configuration with c4 instance as a Spot Instance
After a bit of playing around with Chrome's JS debugger, it appears the issue is only with accounts/regions that have access to both VPC and Classic.  When an account has both VPC and Classic in a region, the launch configuration JavaScript will attempt to display the Classic spot prices; however, there aren't any for the latest instance type classes, such as c4.  AWS reps are normally unable to reproduce this because they test using VPC-only accounts/regions by default, in which cause the launch configuration screen will correctly display the VPC spot prices.

I've contacted AWS support, and they're looking into the issue.  In the meantime, you can work around the problem by creating your launch configurations using the CLI toolkit.  You can also use your browser's developer tools (i.e., ""Inspect Element"") to change the ""Not available"" spot status text to anything else, which will bypass the broken JavaScript check."
Amazon EC2	"Instance refuses to terminate
One of our instances had a disk failure so we replaced it. We have tried to terminate the bad instance since yesterday but it refuses to die. We opened a case but have not received a reply. Can someone on AWS EC2 kill it (i-6ceea13f)? 

Thanks

Rafael H. Saavedra"
Amazon EC2	"Re: Instance refuses to terminate
Hello Rafael,

I'm investigating your issue, will reply as soon as the instance will be terminated.

Regards,
Giorgio"
Amazon EC2	"Re: Instance refuses to terminate
Hi AWS,

Any luck terminating the instance? 

Thanks

rafael"
Amazon EC2	"Re: Instance refuses to terminate
Any progress in being able to terminate the instance? It is r3.2xlarge with EBS using IOPS, so the cost mounts everyday. 

Thanks

Rafael H. Saavedra"
Amazon EC2	"Re: Instance refuses to terminate
Someone from AWS already responded saying that the instance was terminated and that the problem is that it is shown as shutting-down.

Thanks

rafael"
Amazon EC2	"Re: Instance refuses to terminate
Hi Rafael, 

As mentioned in the case you had opened with us, I can assure you that this instance has already been terminated as of July 16 2015 but the account is keeping it in shutting down state, this error we will get sorted. Charges for this instance stopped from the time the terminate button was hit. 

The team is currently working to resolve the issue in which you are experiencing. We will provide an update once more information becomes available.

Regards,
Mohsin"
Amazon EC2	"Re: Instance refuses to terminate
Hello, 

We're now showing in all of our systems that this instance is terminated. Could you please verify you see the same? 

Regards,
Nick"
Amazon EC2	"Sudden ""You are not authorized to perform this operation."" in AWS-CLI
Hi,

I am using the AWS-CLI and all of a sudden, the command aws autoscaling create-launch-configuration
 started to fail with:

A client error (ValidationError) occurred when calling the CreateLaunchConfiguration operation: You are not authorized to perform this operation.


I have admin rights in IAM and the command was working up until 1 minute before I got the error. In fact, I can create Launch Configurations using the web interface.

I have been creating and destroying quite a few Launch Configurations in the past hours, while debugging a script I am writing and all of a sudden it stopped working.

Any clues on what could be wrong?"
Amazon EC2	"Re: Sudden ""You are not authorized to perform this operation."" in AWS-CLI
Switching regions doesn't seem to help."
Amazon EC2	"Re: Sudden ""You are not authorized to perform this operation."" in AWS-CLI
Hello, 

The issue presented is a permissions issue. I'd recommend rerunning ""aws configure"" and select your proper access and secret keys again. 

If you have issues past that, I'd recommend verifying your CLI Tools version with ""aws --version"".  If not the most recent I'd recommend updating to the most recent version. 

Regards,
Nick"
Amazon EC2	"Elastic IP suddenly disassociated from instance
The strangest thing happened this morning - an elastic IP that I had associated with an instance for the past couple months suddenly disassociated itself. It didn't become released, thank goodness, so I could still add it back to my instance, but the disassociation obviously took the server offline.

I'm very confident that I did not manually disassociate it myself, as I haven't been in the EC2 dashboard for a couple days. I WAS playing with OpsWorks, but this should not have impacted this IP because it wasn't a VPC IP.

I know that weird things occasionally happen, but this one scared me a bit. In the past 4 years I've never seen this happen. Is there a way to check and see what caused the disassociation? Some sort of audit to show if it was a user or some automated process? The IP in question is the one currently attached to i-72b4989c.

Thanks"
Amazon EC2	"Re: Elastic IP suddenly disassociated from instance
Hello, 

You can enable your own logging of AWS actions by enabling CloudTrail in that region. After enabling CloudTrail, it will record all API calls being made for all actions within AWS, including EIP disassociation. You can read more on CloudTrail here: 
http://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html

Regards,
Nick"
Amazon EC2	"unable to establish cloud tunnel from vrealize appliance
I am trying to setup cloud tunnel from my vrealize appliance to ec2

but keep getting this error 

test-cloud-tunnel --name asquareaws
Cloud tunnel 'asquareaws' is enabled and connected but appears non-functional: nc: connect to 10.10.10.4 port 8443 (tcp) failed: Connection refused

can you please check my vpc/instance and see if thers something misconfigured on the acl?

thanks

vpc-4674ac23

i-5bc79e99"
Amazon EC2	"Re: unable to establish cloud tunnel from vrealize appliance
Hello, 

I took a quick look at vRealize required ports and found the following:
http://pubs.vmware.com/vrealizeoperationsmanager-6/index.jsp?topic=%2Fcom.vmware.vcom.core.doc%2FGUID-8CEB26FB-9EAF-45D7-A6A5-232A3CED3D6E.html

Your instance's security group is allowing all traffic. Network ACLs are allowing ingress on TCP 0 - 65535 but no UDP, and egress on all ports. 

I ran a port scan with nmap on your instance and found that only TCP port 22 (SSH) responds. It sounds like vRealize is expecting port 8443 to be responding on this instance but it's not. You'll want to take a look and verify that the proper applications and services are running on your EC2 instance for this to work. 

Regards,
Nick"
Amazon EC2	"HTTP/1.1 500 Internal Server Error when trying to create a new instance
Hello,

I'm trying to create a new instance through the API and I keep getting HTTP/1.1 500 Internal Server Error. I've tried with different combinations of settings and I always get the same.

Anyone with the same problem? Trying to create on eu-west-1b"
Amazon EC2	"Re: HTTP/1.1 500 Internal Server Error when trying to create a new instance
This has been acknowledge by Amazon and it appears to be working fine now."
Amazon EC2	"ec2 instance rebooted unexpectedly
instance id: i-3eaf1500, i-115dafdf
Region: sydney
Time: 2015.07.09 11:40 (Timezone: Sydney)

These servers were rebooted unexpectedly and I want to know why.

Thank you.

Edited by: aws-blade on Jul 12, 2015 10:04 PM"
Amazon EC2	"Re: ec2 instance rebooted unexpectedly
Hello, 

The EC2 instances themselves have been running for over 100 days. You can verify this by looking at ""Launch Time"" under under your EC2 instance's description from the management console. 

This tells you how long the instance has been up and running, but is completely unaware of the OS's restarts. You can generally gather some information form the system console logs by right clicking on your instance, clicking ""Instance Settings"", and clicking ""Get System Log"". However in Windows by default not much information is recorded here, it does however look like it captured that the restart happened. 

To further investigate you'll want to take a look at your OS's system logs and event viewer to verify why these systems restarted. 

Regards,
Nick"
Amazon EC2	"ssh: connect to host ... port 22: Operation timed out
Hi, I seem to have dug myself into a hole and am having issues logging into all of my instances now. 

While attempting to correct the fstab file on a reserved instance, I would reboot to make sure the drive attached correctly. A couple of times, the instance would reboot without the drive and I would receive a 'Permission denied (publickey)' error. After rebooting through the control panel I was able to connect again and 'fixed' the settings in fstab. Now when I log into the instance, I receive a port 22: Connection refused message. 

No problem, I try to spin up another instance, attach the volume and fix fstab. Except now, I can't ssh into newly created instances (i-45643787). I receive: port 22: Operation timed out. 

I know the keypair and security groups are good. In the control panel, the new instance is not given a Public DNS, it passes both status checks, and in the logs all I can find is: 

* Stopping Mount network filesystems[74G[ OK ]
cloud-init-nonet[10.18]: static networking is now up
 * Starting configure network device[74G[ OK ]
Cloud-init v. 0.7.5 running 'init' at Wed, 08 Jul 2015 20:44:20 +0000. Up 10.51 seconds.
ci-info: ++++++++++++++++++++++++++Net device info++++++++++++++++++++++++++
ci-info: +--------+------+-------------+---------------+-------------------+
ci-info: | Device |  Up  |   Address   |      Mask     |     Hw-Address    |
ci-info: +--------+------+-------------+---------------+-------------------+
ci-info: |   lo   | True |  127.0.0.1  |   255.0.0.0   |         .         |
ci-info: |  eth0  | True | [IP address] | 255.255.255.0 | [IP address] |
ci-info: +--------+------+-------------+---------------+-------------------+
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info: +-------+-------------+------------+---------------+-----------+-------+
ci-info: | Route | Destination |  Gateway   |    Genmask    | Interface | Flags |
ci-info: +-------+-------------+------------+---------------+-----------+-------+
ci-info: |   0   |   0.0.0.0   | 172.30.2.1 |    0.0.0.0    |    eth0   |   UG  |
ci-info: |   1   |  [IP address] |  0.0.0.0   | 255.255.255.0 |    eth0   |   U   |
ci-info: +-------+-------------+------------+---------------+-----------+-------+
 * Stopping cold plug devices[74G[ OK ]
 * Stopping log initial device creation[74G[ OK ]
 * Starting enable remaining boot-time encrypted block devices[74G[ OK ]
Jul  8 20:44:25 ubuntu pollinate[765]: ERROR: Network communication failed [7]\n20:44:23.924968 * Hostname was NOT found in DNS cache
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     020:44:23.937566 *   
Trying 91.189.94.50...
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     
020:44:25.431615 * After 1494ms connect time, move on!
20:44:25.431687 * connect to 91.189.94.50 port 443 failed: Connection timed out
20:44:25.431719 *   Trying 91.189.94.53...
20:44:26.178658 * After 746ms connect time, move on!
20:44:26.178699 * connect to 91.189.94.53 port 443 failed: Connection timed out
20:44:26.178730 * Failed to connect to entropy.ubuntu.com port 443: Connection timed out
20:44:26.178752 * Closing connection 0
curl: (7) Failed to connect to entropy.ubuntu.com port 443: Connection timed out
2015-07-08 20:44:25,583 - util.py[WARNING]: Running seed_random (<module 'cloudinit.config.cc_seed_random' from '/usr/lib/python2.7/dist-packages/cloudinit/config/cc_seed_random.pyc'>) failed
Generating public/private rsa key pair.


Any ideas on whats going on?"
Amazon EC2	"Re: ssh: connect to host ... port 22: Operation timed out
Hello, 

Where you able to resolve this issue? 

A few things you'd want to verify:
1. The route table in use has a default route pointing towards your IGW and that an IGW is attached to your VPC. 
2. Network ACLs on the subnet your instance is launched into aren't blocking the traffic. 
3. That you launched the instance with a public IP. 

I see that presently the instance is terminated, and I'm not able to historically verify this information for you. 

If you need further assistance please let us know. 

Regards,
Nick"
Amazon EC2	"All EC2 tags are gone
At the moment, none of my EC2 objects (instances, volumes, etc.) has any tags anymore. On the tags tab of any object ""Could not fetch tags: An internal error has occurred"" is displayed.
Region: Ireland

Edited by: sebastiantoet on Jul 21, 2015 10:57 PM"
Amazon EC2	"Re: All EC2 tags are gone
I'm getting the same issue and I'm unable to create new EC2 instanced. Keep getting HTTP/1.1 500 Internal Server Error when contacting the API"
Amazon EC2	"Re: All EC2 tags are gone
They updated their service health dashboard indicating a problem.
http://status.aws.amazon.com/"
Amazon EC2	"Facing network latency issue from Singapore region !!
Hi,

we are facing latency issues in servers deployed in Singapore Cloud.

When investigated, latency is observed at ISP side of Amazon between two IP addresses:
129.250.3.146 â€“ Latency is 2.5 to 3.5ms â€“ This belongs to Japan-NTT America Inc.
129.250.3.48 â€“ Latency shot up to 186ms â€“ This belongs to California-US â€“ Ntt America Inc

These two are consecutive hope in trace route when traced any Africa Server or other.

Your support will be appreciated.

Regards
Anurag"
Amazon EC2	"Re: Facing network latency issue from Singapore region !!
Hello,

Thank you for posting to the AWS Forums. 

Are you still experiencing these issues? If so could you please provide us with the full traceroutes between these IPs and where you're seeing this latency?

Regards,
Nick"
Amazon EC2	"lost connection to instance
Last night we lost contact with instance id# i-ca925121. We created a new instance id# i-030537d0. The new instance is failing status check 1/2. Log says 'waiting for meta-data accessibility'. Found a knowledge base article on that but the resolutions have not helped. Any suggestions?"
Amazon EC2	"Re: lost connection to instance
deleted the original instance ID and tried to create a new one with basic setting id#i-df8cb10c, still unable to connect."
Amazon EC2	"ssh timeout on new instance
I have just attempted to create a new instance (i-c0f07d6c) but have been unable to connect to it (via IP--there is no public DNS listed yet). I have verified that port 22 is open for incoming for my IP. The connection is timing out; the last message in verbose ssh is the message about connecting to the IP.

Anything I can try to see if the instance created correctly, and if it didn't what to do different next time?"
Amazon EC2	"Re: ssh timeout on new instance
Hi,

Upon reviewing your EC2 instance i-c0f07d6c, I am able to see it is healthy, and the underlying-host also appears in good health. It appears you are unable to connect to your EC2 instance due to a misconfiguration in your route tables. I do not see an Internet Gateway route in your route table. Please see our AWS documentation on Internet Gateways.

Regards,
Mohsin"
Amazon EC2	"Cannot release Elastic IP
Could someone follow up my ticket 1448922481?

Thanks."
Amazon EC2	"Re: Cannot release Elastic IP
Hi,

I still see the Elastic IP address 52.74.30.8 associated with your EC2 instance i-789ce7b5. Can you attempt to first disassociate this Elastic IP address from the EC2 instance in question. When it has disassociated, then you should be able to release the Elastic IP address from your AWS account. If you run into any issues, please provide the error message you are receiving. 

Regards,
Mohsin"
Amazon EC2	"Beginner Question about Deleting Snapshots
I wanted to be 100% sure about this before I deleted any snapshots.
To create a snapshot I go to my AWS Console and click ""Create Snapshot"", pick a volume, name the snapshot, and it runs just fine.  I plan to setup an automated snapshot, but that's a different topic.  I now want to go and delete unnecessary snapshots but wanted to make sure that would not alter any of the data on the volume the snapshot is based on.
So, deleting a snapshot does not remove any data from a volume or affect and instance in any way, correct?"
Amazon EC2	"Re: Beginner Question about Deleting Snapshots
Hello,

When you delete a snapshot, only the data exclusive to that snapshot is removed. Deleting previous snapshots of a volume do not affect your ability to restore volumes from later snapshots of that volume.

If you make periodic snapshots of a volume, the snapshots are incremental so that only the blocks on the device that have changed since your last snapshot are saved in the new snapshot. Even though snapshots are saved incrementally, the snapshot deletion process is designed so that you need to retain only the most recent snapshot in order to restore the volume.

Note that you can't delete a snapshot of the root device of an EBS volume used by a registered AMI. You must first deregister the AMI before you can delete the snapshot.

I hope this information is helpful to you.

Regards,
Mohsin"
Amazon EC2	"Just lost instance access
Out of the blue I just lost access to my running instance i-82e5652e. Anybody from Amazon can check?

Thank you"
Amazon EC2	"Re: Just lost instance access
it is up after reboot. Windows crashed."
Amazon EC2	"Re: Just lost instance access
Hello,

Upon reviewing your EC2 instance i-82e5652e, I am able to see it appears healthy, and the underlying-host also appears in good health. It appears your EC2 instance became unresponsive because the EC2 instance spiked to 100% CPU Utilization. I would recommend to review your AWS CloudWatch CPU Utilization graph, and review the processes running around the time of the high utilization.

I hope this information is helpful to you.

Regards,
Mohsin"
Amazon EC2	"Instance stuck ""stopping""
i-88a09ba2 failed reachability checks. When I tried to stop it, got stuck stopping. Please stop."
Amazon EC2	"Re: Instance stuck ""stopping""
Hello,
thank you for contacting us. Reviewing i-88a09ba2 instance details, I noticed it has been manually stopped and started 16:30 hours ago: unfortunately, we experienced issues on previous underlying hardware hosting it, this is why it failed reachability checks, but now it is correctly running on a new host.

Please let us know if you need any further assistance.
Regards,
Alessandro"
Amazon EC2	"Move Production t2 Instance from one AWS account to another AWS account
Dear All, I am looking for some help. Thus it would be great if I can get advice on completing below task.  

My website's production instance http://t2.medium is in Singapore Region and at present, third party is managing my account. As they are managing many other customers as well, I get restricted view of AWS. As we are growing, we are finding it bit difficult to approach support team for each and every task whcih can be easily maintained by us. 

Thus, we decided to purchase our own AWS account and Transfer existing production instance to new aws.

However, as I am fairly new , I would like to understand how effectively one can do it by own. Is there any checklist or step by step instructions?  As I am not bit clear on certain aspect, I am bit hesitant to start. Few questions which are bothering me are 

What will happen to public ip  / private ip / elastic ip?  
Do I need to reset and re-configure security group/access? 
Will my shell access keys needs to be updated?

I hope I will get someone view and help on above.

Regards"
Amazon EC2	"Re: Move Production t2 Instance from one AWS account to another AWS account
Hello,
thank you for contacting us. I'd like to inform you that, while you can transfer EC2 instances from an account to another with AMIs, as described here [1], you will not be able to migrate an Elastic IPs and public/private ip (you will have new ones), security groups and you might not be able to maintain current SSH access keys.

[1] https://aws.amazon.com/premiumsupport/knowledge-center/account-transfer-ec2-instance/

Please let us know if you need any further assistance.
Regards,
Alessandro"
Amazon EC2	"Direct transit line/peering to China
Does AWS have direct transit line/peering to China? The performance is sometimes fast and stable and sometimes slow and unstable/lag."
Amazon EC2	"Re: Direct transit line/peering to China
Hi there evantkh,

It depends on the details for your question.

There is an AWS Region in China


https://www.amazonaws.cn/en/


As well as a Direct Connect location


https://www.amazonaws.cn/en/directconnect/


If you are talking about an outside connection into China then there are many variables involved. If you would like this investigated further we would need more information about a specific incident.

Quim."
Amazon EC2	"Re: Direct transit line/peering to China
Mobile Suit Gundam Online(China) is unresponsive when connecting through an EC2 instance.

The remote IP is 124.202.147.178 and also some other addresses under the same subnet."
Amazon EC2	"nmap port state filtered. Please help.
Hello everybody,

Well I need the port 20207 to be open on my Amazon EC2 Instance (c4.8xlarge with Fedora 22 Cloud HVM) for running rendering jobs sent from my local workstation...

My security group has TCP and UDP port 20207 opened and the EC2 instance has an Elastic IP assigned.
For the moment, from my local workstation, I can ping on the Elastic IP address but not on the Private IP (obviously).

But when I run on the EC2 instance:

""nmap -p 20207 <private ip>"", the port 20207 state is open
""nmap -p 20207 <elastic ip>"", the port 20207 state is filtered


I thing this is why no jobs are received on my EC2 instance...

Is it Amazon who is filtering/blocking this port or Fedora and it's Firewall (but I think that Firewall is not running on Fedora, as I get error trying to run it)?

So if you guys have any idea, it would be just great to have your help!
Thanks in advance.

Regards.
Jonathan"
Amazon EC2	"Re: nmap port state filtered. Please help.
Just one idea :


Is it possible that location region of EC2 instance could filtered/block ports?


As we are in France and our EC2 Instance is located in US East (North Virginia)..."
Amazon EC2	"Re: nmap port state filtered. Please help.
Hello,
thank you for contacting us: I reviewed your sg-c344eba6 security group in the us-east region and it is correctly configured both 20207/tcp and 20207/udp ports are correctly open. Also, please let me clarify that AWS firewalls do not block/filter ports unless specified in security groups or network acls.

To further assist you, can you please tell us:
 - output of ""sudo iptables -L -n"" on your instance?
 - is your company's firewall blocking outbound connections to 20207 port?

Thank you.
Regards,
Alessandro"
Amazon EC2	"Nginx HTTP 499 caused by ELBs issue, any ideas?
Hi,

for the past few days we've been encountering weird behaviour from two of our Load Balancers:

alchemy-1914954519.eu-central-1.elb.amazonaws.com
alchemy-tracking-lb-25465845.eu-central-1.elb.amazonaws.com

For what is now the second time in 4 days both ELBs have started misbehaving without any apparent reason. In diagnosing the issue we noted multiple things:


The latency goes to the 60s limit, with the EC2 instances reporting no load and being reachable and apparently working fine (reported as InService).
We are running Nginx as our backend server, and when the issue starts Nginx begins to reply in HTTP 499 only. We are not running anything heavy and the typical response should take no longer than a 100ms or so. 


I am not entirely sure how these symptoms are related, but we are being left without any option as we have fully ruled out an issue on our back end code, and the investigation we have lead only gave us clues and no answer. Apart from the fact that issue is most likely on the ELBs, which we can't properly diagnose.

Has someone encountered similar issues? Can someone at Amazon take a look at these ELB instances to check if everything is in order?

Regards"
Amazon EC2	"Re: Nginx HTTP 499 caused by ELBs issue, any ideas?
Update: 

For the second time now the issue seems to have resolved itself after a few hours. However we are still without any ideas as to what happened and how to prevent it from happening in the future.We are extremely worried at the behaviour of these ELB and the overall black box that they are prevents us from doing diagnosis on any occurring issue, specially a critical one such as this.

Not sure how often supports comes here, but given the nature of the issue, should we not hear from AWS on this we'll just take our servers to Linode, as this is the second time in less than a week ELBs have cause significant interruption of service for our clients.

Edited by: MichelVenatus on Jul 21, 2015 5:14 AM"
Amazon EC2	"days old system reboots
instance i-9af085fa and i-9ef085fe had a ""system-reboot"" scheduled start time of July 9 and July 10. They are both ""In Progress"". Neither of them of has been rebooted. Any update on what's going on?"
Amazon EC2	"Re: days old system reboots
The events are no longer in the console, and neither instance was rebooted."
Amazon EC2	"Re: days old system reboots
Hello,
thank you for contacting us: I reviewed provided instance details and found there are issues with underlying hardware hosting them. I'd recommend to perform a stop-start of both at a convenient time so they will be migrated to a new hardware.

Please let us know if this solves your issue, but should you have any further doubts or concerns, please get back to us.
Regards,
Alessandro"
Amazon EC2	"Single elastic ip that points to multiple EC2 instances
We have two instances running nginx each in a different availability zone in US-WEST-1. We serve our customers domains, they simply just create an A record at their DNS provider pointing to our IP. We cannot use native AWS elastic load balancers because each domain is SSLd and we have thousands of domains.

1.) Is it possible to create a single elastic ip, that points to both nginx instances and health checks them?

2.) I'd love to just expose a hostname (ha.ourdomain.com) which is a Route53 failover record, but setting a domain APEX using a CNAME I don't think is possible.

What is the recommend solution?"
Amazon EC2	"Re: Single elastic ip that points to multiple EC2 instances
Hello,
thank you for your request, I understand your use case: I'm sorry to hear that AWS Elastic Load Balancer don't fit your needs.
Regarding your questions:
 1) Unfortunately it is not possible to associate a single Elastic Ip address to both instances, you can just associate it to only one of them. [1]
 2) No, as described in RFC 1033 [2], it's not possible to create a CNAME at zone apex: however, as you might already know, Route53 has ""Alias"" support for specific use cases (ex. Cloudfront distributions, ELBs, S3 buckets or other Amazon Route 53 resource record set. [3]

If you have a huge number of domains requiring SSL, we would recommend you to consider using SSL Server Name Indication (SNI) and buying multi-domain certificates to avoid running (and managing several certificates) on multiple instances.

[1] http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html
[2] http://tools.ietf.org/html/rfc1033
[3] http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html

Please let us know if you have any further questions.
Thank you"
Amazon EC2	"EC2 - load balancer
Hi, I have a question regarding the LB:

i have at the moment 
2 LBs and 2 WEBSERVERS.
each of the LBs use the 2 webservers (to the same application on it)

now, 
once the user browse through a LB, 
on the app (on the websrvr), 
i need to detect which LB was sending the data.

before amazon, my old cloud hosting,
gave me the option to set custom header for each of the LB to forward to the server.
so LB was sending custom header: LB:LB1
and the 2nd was sending LB:LB2

and then on the app (of each server), 
i can easily check which LB it was.

Any suggestions \???

Thanks in advance!!!"
Amazon EC2	"Account blocked
Hello AWS-Team,

I just signed up the day before and tried to launch an instance of a VM today.

When I try to launch a new instance, it says that my account is blocked and not recognized as a valid account.

All my entered data and my credit card information are valid. I also was successfully verified on the phone when I signed up.

Please tell me why this error occurs.

Thanks"
Amazon EC2	"Re: Account blocked
Hi,

I see that you have a support case opened regarding the Account Issue. I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1447645611

Regards,

Luke H."
Amazon EC2	"Re: Account blocked
Thanks for your reply!

Could you please look into my case again? I sent the required documentation but my account is still unusable 

Thank you!"
Amazon EC2	"Re: Account blocked
Hi bora121,

I have replied to your support case ID 1447645611 directly.

If you have any further questions please reply to the case.

Thank You
C.Manuel"
Amazon EC2	"EBS based instance got stuck in ""stopping"" state
hi, 

our instance i-9fb5d563 got stuck in stopping state, can you help on that?

thanks"
Amazon EC2	"Re: EBS based instance got stuck in ""stopping"" state
now it's ok, thx"
Amazon EC2	"Cannot load details for ami-100bf278. You may not be permitted to view it.
This instance (i-27fab60d) was running under r3.xlarge. After restarting the server, we are not able to connect with the server and we found the issue in instance state checks was not passed. 

I got this post when I googled this issue.
Ref: https://sandramilhais.wordpress.com/2014/08/25/amazon-ec2-we-got-a-problem-instance-reachability-check-failed-after-windows-update/

After following the steps mentioned in the post, still the issue persists. Check this Log (Taken after instance moved to c3.xlarge)

2015/07/20 16:46:54Z: AMI Origin Version: 2014.06.12
2015/07/20 16:46:54Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/07/20 16:46:54Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/20 16:46:54Z: Language: en-US
2015/07/20 16:46:54Z: EC2 Agent: Ec2Config service v2.2.4.0
2015/07/20 16:46:55Z: Difficulty detecting PV driver details for Console Output
2015/07/20 16:47:26Z: Message: Waiting for meta-data accessibility...

Still not sure what is the problem? Please help me to resolve this"
Amazon EC2	"Re: Cannot load details for ami-100bf278. You may not be permitted to view it.
Hi there vigneshgurusamy,

From the information that you have provided it does seem that you are affected by an issue with Windows Server 2012 R2 that displays the same symptoms. The link that you provided also seems to be addressing the same issue, but is rather sparse in information compared to the below


http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/


If you are still unable to resolve this issue with the information, steps and tools in the above link you are entitled to a complimentary support case for this issue, as well as any other issue that results in failed instance health checks. You do not need a support subscription for these support cases.

More information in the below


https://aws.amazon.com/premiumsupport/faqs/#sfhc20


Quim"
Amazon EC2	"Re: Cannot load details for ami-100bf278. You may not be permitted to view it.
Hi,

Thanks for the info. As you mentioned, I was trying to submit the complementary support case from my instance status check section. But I don't see contact support option even after 30 mins of failed check as mentioned in the support FAQ.

I'm in basic support plan, Is there any other way I can create support ticket for this issue?"
Amazon EC2	"ec2 instance failed reachabiulity test and won't stop/force stop
I am having difficulty stopping instance i-02c27b29. It has failed the reachability check for about 3 days. About 2 hours ago I tried to stop it. Since it still displayed 'stopping' I decided to force stop the instance. The ec2 instance still displays 'stopping' however.

Can I get some help determining the original cause of the unreachability and why it won't stop now?"
Amazon EC2	"Re: ec2 instance failed reachabiulity test and won't stop/force stop
It turns out that my instance did actually stop, it just wasn't registering in the console. When I logged out and back in the instance was correctly displayed as stopped. Talking to others on my team this doesn't seem to be an isolated case."
Amazon EC2	"Distinct EC2 instances very slow in the last hour.
I have two distinct EC2 instances, t2.medium and m4.xlarge, both are very slow in the last 1 hour.
They were rebooted but the result is the same, even a simple JSON is returned in 20+ seconds.

All logs seems fine.

Please, any advise?"
Amazon EC2	"Re: Distinct EC2 instances very slow in the last hour.
Hi there qviky,

I have looked at your m4 instance metrics and service status from around that time and I cannot see any issues. I could not determine which t2 instance that you were talking about so I checked them all with the same result. I did notice that none of the t2 instances have been stopped and started, unlike your m4. For instances to be migrated to different underlying infrastructure they must be stopped, not restarted. 

If you would like this investigated further then please provide more details of the specific incident. Available data is reduced after 2 weeks, so if you would like this investigated please ensure that you provide the details before then.

Quim."
Amazon EC2	"Cannot successfully launch new instance based on snapshot
One of our servers is being terminated and so I created a snapshot in which to create an AMI as our previous AMI is from April 2014. When trying to launch a new instance based on the new AMI, the ""Instance Status Checks"" fails.

For any AWS support, the instance ID is: i-eee15546

The system log has produced this error. 
Freeing unused kernel memory: 144k freed
Â 
libudev: udev_monitor_new_from_netlink: error getting socket: Invalid argument
mountall:mountall.c:3204: Assertion failed in main: udev_monitor = udev_monitor_new_from_netlink (udev, ""udev"")
init: mountall main process (597) killed by ABRT signal
Â 
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
modprobe: FATAL: Could not load /lib/modules/2.6.16-xenU/modules.dep: No such file or directory
Â 
Unable to handle kernel paging request at virtual address e116f000
 printing eip:
c01123c4
0047a000 -> *pde = 0000000e:4d21c027
Â 
Unable to handle kernel paging request at virtual address 15555840
 printing eip:
c0112ffc
0047a000 -> *pde = 00000000:00000000
Oops: 0000 [#1]
Â 
SMP 
Modules linked in:
CPU:    0
EIP:    0061:[<c0112ffc>]    Not tainted VLI
EFLAGS: 00010202   (2.6.16-xenU #1) 
EIP is at do_page_fault+0x54c/0x931
eax: 00000840   ebx: 15555840   ecx: f578d000   edx: 55555000
esi: c047a018   edi: c0112ab0   ebp: e11efea4   esp: e11efe44
ds: 007b   es: 007b   ss: 0069
Â 
Process loadkeys (pid: 600, threadinfo=e11ee000 task=e6525030)
Stack: <0>c0307ef8 0047a000 0000000e 4d21c027 e11efeac c0149468 e6525030 c0159849 
       e116f000 ffffffff e11efe7c ffffff01 c0558e40 e11efe94 c0181e98 00000003 
       e11efeac c03080f4 00000003 0000000e 0000000b 00000000 e116f000 c0112ab0 
Â 
Call Trace:
 [<c01058bd>] show_stack_log_lvl+0xcd/0x120
 [<c0105abb>] show_registers+0x1ab/0x240
 [<c0105dc1>] die+0x111/0x240
 [<c01130a7>] do_page_fault+0x5f7/0x931
 [<c01052ab>] error_code+0x2b/0x30
 [<c01052ab>] error_code+0x2b/0x30
 [<c011bd9b>] __mmdrop+0x1b/0x50
 [<c011be50>] mmput+0x80/0xa0
 [<c011fdd0>] exit_mm+0x80/0x100
 [<c0120bc3>] do_exit+0xf3/0x8f0
 [<c01213fb>] do_group_exit+0x3b/0xd0
 [<c01214a5>] sys_exit_group+0x15/0x20
 [<c0105119>] syscall_call+0x7/0xb
Â 
Code: 07 c1 e0 14 09 c2 80 3d 82 4d 38 c0 00 75 07 8b 14 95 00 00 80 f5 8b 45 c0 c1 e2 0c c1 e8 12 25 f8 0f 00 00 8d 9c 02 00 00 00 c0 <8b> 03 89 44 24 0c 8b 43 04 89 54 24 04 c7 04 24 18 7f 30 c0 89 
Â 
 <1>Fixing recursive fault but reboot is needed!


I've tried rebooting several times with no avail. This is a t1.micro, root devis is EBS, and is paravirtual.

Edited by: thedevworms on Jul 13, 2015 10:16 AM

Edited by: thedevworms on Jul 13, 2015 10:28 AM"
Amazon EC2	"Re: Cannot successfully launch new instance based on snapshot
Hi there thedevworms,

In this situation I would recommend creating a support case to enable more fluid communication. When your instance in this state you are entitled to create support cases without a support subscription, as detailed below


https://aws.amazon.com/premiumsupport/faqs/#sfhc20


Quim."
Amazon EC2	"Cannot RDP into a new m4.large instance
First of all, I've been using an M1.small instance for the last few years. I am able to RDP into that instance from my machine (a windows 8.1 laptop), with no problem.

However, when I create a new M4.large instance, which is intended to replace my old instance, I can never RDP into it. I get the message:

""Remote Desktop can't connect to the remote computer for one of these reasons:

1) Remove access to the service s not enabled
2) The remote computer is turned off
3) The remote computer is not available on the network

Make sure the remote computer is turned on and connected to the network, and that remote access is enabled.""

The instance ID is ""i-0ff3dbcd""

I have tried launching about a dozen instances so far. I have experimented with the security groups, ensuring that RDP access is enabled to the world (0.0.0.0/0) or to myself alone. I have opened all traffic wide open. Nothing works

I have experimented with the VPC settings as well, trying to open everything as wide open as possible. Nothing has worked.

I have turned off my own firewall, despite the fact that I can connect to any other instance with no problem. Nothing worked.

I have tried to access the instance from a different computer -- this time a Mac. Same problem.

I have asked two other people to try to RDP into the instance from their machines -- no luck.

I have had someone go through the same basic steps as me on their machine and from their Amazon account -- and they get the exact same problem.

I have googled about and read all the suggestions on the AWS website and on stackoverflow. Nothing has worked. 

I have now invested over 24 hours in trying to get beyond this roadblock and nothing whatsoever works. I am in the Amazon showroom, looking to try out a new instance -- and it won't let me in.

Please tell me how I can get beyond this issue -- or am I expected to pay support to get the secret that will allow me to continue to use AWS?"
Amazon EC2	"Re: Cannot RDP into a new m4.large instance
Hi there GCV,

I have looked at that instance configuration and I can confirm that I am able to telnet to the public IP of that instance over 3389. I have also attempted an RDP session and I am getting a password prompt.

Looking at the route table for this instance I see that you have set 10.0.0.0/8 set to local despite this address range not being present in your VPC or subnets. I would recommend removing this route table entry and then testing again.

For your future convenience please be aware that you can create support cases without a support subscription if your instance is failing health checks. For more information please see the below link


https://aws.amazon.com/premiumsupport/faqs/#sfhc20


Quim"
Amazon EC2	"AuthFailure: AWS was not able to validate the provided access credentials
Hi,
I am newbie to AWS and using signature version 4 method to generate signature and using REST API requests.
Somewhere , I made mistake because AWS always returns AuthFailure error,
please tell me how to find whether it is due to invalid signature or due to missing headers.

My question is if signature is wrong then it should return SignatureDoesNotMatch but it is returning AuthFailure, does this mean signature is Correct if not how to find problem?.

I used to follow steps given by AWS documentation to create signature (Task 1 2 3) and double checked my code but still i am missing something.

Please let me is there any way to find is signature calculated is wrong or i am not authorized for this operation. By the way I am free service user and not purchased any service till now. 

here is response,

REST RESPONSE
Method: GET
URI: https://ec2.amazonaws.com/?Action=DescribeInstances&Version=2015-04-15
&X-Amz-Algorithm=AWS4-HMAC-SHA256
&X-Amz-Credential=AKIA_MY_ACCESS_KEY%2F20150715%2Fus-east-1%2Fec2%2Faws4_request
&X-Amz-Date=20150715T172336Z
&X-Amz-SignedHeaders=host;x-amz-date
&X-Amz-Signature=6098ef4e7d95c12b9ac7ebdc0c7976c125cb0ea810c4870d044e293e14b384a6
Expected HTTP Status: 200
Marshalling Class: RegionGetAllResponseRep
Is Response Error: true
HTTP Status: 401
Content Type: null
Payload:
AuthFailure

AWS was not able to validate the provided access credentials
c2061ac5-277a-44a7-82dd-6f7d56cac8ef

Please help as soon as possible.

Thank You.

Edited by: amol23 on Jul 15, 2015 5:15 AM

Edited by: amol23 on Jul 15, 2015 10:27 PM

Edited by: amol23 on Jul 16, 2015 5:34 AM"
Amazon EC2	"Re: AuthFailure: AWS was not able to validate the provided access credentials
Hi there amol23,

From what I can see on my end it seems that your time is out. Fixing this should resolve the issue. For more information please see the below link


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-time.html#configure_ntp


Quim."
Amazon EC2	"Apache: ""[mpm_prefork:error] server reached MaxRequestWorkers""
We are running a news website which has large volumes of spikey traffic at unpredictable times. And most of the times, whenever concurrent traffic goes high, our EC2 apache error_log says: ""mpm_prefork:error server reached MaxRequestWorkers"" and fails to process further visitor requests - it hangs. The only way to come out of that state is to SSH login to the EC2 instance and do a 'sudo service httpd restart' every time this happens and only then the server starts processing normally again. Sometime later, for another volume of spikey traffic we will again see it happen the same way which would require us solving it the same way again.

The default MaxRequestWorkers setting given by apache is 256. Then we raised it to:
512 - still facing same problem after a larger concurrent traffic
1024 - still facing same problem after an even larger concurrent traffic
2048 - still facing same problem after an even even larger concurrent traffic
It can't keep going on like this.

I want to know, why can ""mpm_prefork:error server reached MaxRequestWorkers"" happen? What do I need to work on to ensure we don't hit these limits for spikey traffic?"
Amazon EC2	"Re: Apache: ""[mpm_prefork:error] server reached MaxRequestWorkers""
Hi there syedrakibalhasan,

I am unable to find any EC2 instances associated with your account. If you would like to continue investigating this issue please provide the relevant resource IDs.

Moving on to generic information. Looking at the issue that you are having and the information around for it, it seems that if you are going to be increasing the MaxRequestWorkers you also need to increase ServerLimit, as documented in the below


https://httpd.apache.org/docs/2.4/mod/mpm_common.html#maxrequestworkers\


Once we have the resource IDs we can look at the details of your use case and make architectural recommendations as required to implement things like Auto Scaling Groups, Elastic Load Balancers and Cloudfront, depending on the scale required.

Until then the below might be able to give you some ideas


http://aws.amazon.com/architecture/#AWS_Reference_Architectures


Quim"
Amazon EC2	"Apache/EC2 returning ERR_TUNNEL_CONNECTION_FAILED
Hi,
I've setup a Apache running on an EC2 instance, which seems to work. I can access my website from my home and all looks fine.

When I try to access via work (and behind a corporate proxy/firewall), I get this message: ""ERR_TUNNEL_CONNECTION_FAILED"" 

Does anyone know why this may be the case? (I have valid SSL certificate from Thwate) Is there anything I can do on the EC2 Apache config to avoid this error? Or is it simply the way the corporate proxy/firewall is handling things and unavoidable?"
Amazon EC2	"Re: Apache/EC2 returning ERR_TUNNEL_CONNECTION_FAILED
Hi there Michael,

From the description of the issue that you have mentioned it sounds most likely that your network infrastructure at work is not allowing this connection.

The first thing that I would recommend is to check with your network administrator first to see if there is a reason for this. I would not recommend trying to circumvent your network infrastructure control systems at work.

Quim."
Amazon EC2	"Amazon instance does not receive any public dns
During these weeks we have tried to create instances at least 20 times!

Something is wrong. During the setup of the instance, the instance doesn't get any public DNS.

We have followed the instruction for VPC setting too in order to make the instance to get a public DNS. If the instance not get any public DNS, we select VPC, which is connected to our EC2 and edit Summary ---> Change DNS hostnames: to YES. And the instance actually receive a public DNS.

But the problem is that if the instance get it's public DNS after that VPC setting been set to Yes as above, we can not connect to the instance using the putty or any other way.

The only time that we can connect to the instance via putty or your Java application is when the public DNS is been generated automatically during the installation/setup of the instance. During the installation process of the instance the Auto-assign Public IP in set to Enable.

If the instance don't have gotten any public DNS during the installation/setup of the instance it's impossible to connect to it.

Please help."
Amazon EC2	"Re: Amazon instance does not receive any public dns
Hi there farree,

I am sorry to hear that you have been having so much trouble with the EC2 DNS on your instances. I have checked your account and I can see that you now have no instances or VPCs. 

If you are still wanting to look into this issue please replicate the problem and then PM me the details and I will look into it straight away.

If you would prefer to contact support directly you have the option if your instance if failing health checks for over 20 minutes. You can do this without a support subscription. More details below


https://aws.amazon.com/premiumsupport/faqs/#sfhc20


Quim."
Amazon EC2	"Instance ID i-1ff5ec32 CloudWatch metrics:  Basic monitorinCPU at 80%- 100%
Hi 

There is currently some unexpected heavenly load on my CPU  80%- 100% for Instance ID i-1ff5ec32 shown by CloudWatch metrics:  Basic monitoring

Apache Server Status 
Current Time: Monday, 20-Jul-2015 18:36:50 AST
   Restart Time: Monday, 20-Jul-2015 18:28:01 AST
   Parent Server Generation: 0
   Server uptime: 8 minutes 49 seconds
   Total accesses: 712 - Total Traffic: 145 kB
   CPU Usage: u2.34 s.49 cu0 cs0 - .535% CPU load
   1.35 requests/sec - 280 B/second - 208 B/request
   3 requests currently being processed, 47 idle workers

How can this be solved?"
Amazon EC2	"""connection refused"" after reboot
Hi,

I was doing some configuration on one of my instances running Linux (OpenSUSE) and after a reboot I was suddenly unable to ssh into the server. I noticed the ip-address had changed, so I attempted connecting with $ ssh -i ""key.pem"" ec2-user@52.28.4.102, and it subsequently asked for a password. After a password failure, I simply get ""connection refused"".

Here are the verbose contents when I attempt to login:

ssh -vvv -i key.pem ec2-user@52.28.4.102
OpenSSH_6.7p1 Ubuntu-5ubuntu1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.28.4.102 http://52.28.4.102 port 22.
debug1: connect to address 52.28.4.102 port 22: Connection refused
ssh: connect to host 52.28.4.102 port 22: Connection refused

I am unsure where to go from here. Any help would be appreciated."
Amazon EC2	"Re: ""connection refused"" after reboot
I ended up fixing my problem. For others who might be having the same issue, here's what I did:

1. Create new instance with the same OS as your broken instance.
2. Stop instance that is not allowing connections.
3. Detach root volume from broken instance and attach it to the new instance.
4. Login to the new instance and mount the attached volume.
5. Navigate to the ""authorized_keys"" file on the attached volume from the broken instance, and chmod the ""authorized_keys"" file with 755 permissions (this should only be temporary).
6. Stop the newly created instance, detach the volume that you detached from the broken instance, and re-attach the volume to its original instance.
7. Start the instance, and now you should be able to login. Remember to chmod the ""authorized_keys"" file to your desired settings."
Amazon EC2	"High IO wait times
Over the last couple of days I've been seeing higher than normal io wait times on one of my instances. Yet looking at my disk stats for the last 3 weeks, nothing has really changed from a usage perspective. I have a normal daily spike when backups are being run, but then that settles down prior to the server's peak operation times.

The AWS status page is not reporting any issues, yet I can't see anything out of the ordinary on the server to indicate why this is happening.

The instance is in the ap-southeast-2a zone and I am seeing the wait value sit between 30-60% fairly consistently. Server load, which normally operates at about 1-2 during peak times has been fluctuating between 4-12 most of this time. All other usage values seem to be within the norm, but IO Wait is still high.

Any ideas on what might be causing this? Any issues that have not made their way to the status page yet?"
Amazon EC2	"Re: High IO wait times
What type of volume and what type of instance? 

Ephemeral drives are local to your host machine, and you compete with other users for that host computer's bus for access to the drive controllers.  Getting a new neighbor with different usage patterns could impact your performance, although we try really hard to limit that.

EBS drives are remote, so you compete for network resources, but we offer some optimizations that control a lot of that variability.  

A large-scale problem that impacts a significant number of customers would be posted to the status page, but day-to-day variability, and issues on a single host machine will not be."
Amazon EC2	"Re: High IO wait times
Thanks for the response Michael, the instance is an M3.Large and the volume is an EBS.

Funnily enough though, about 20 minutes ago the IO Wait times dropped right back down to what they normally sit at, which is generally no more than about 5%. However, nothing is different from a usage perspective and iotop is showing the same disk usage patterns, so I can only think that another user's instance or a platform issue was causing problems.

UPDATE - scratch that, after about 30 minutes of normal low wait values, it's all of a sudden back hovering between 35-85%, but again usage stats from the server have not changed. CPU is low, disk read/writes are only a few MB/s but IO Wait is really high and causing massive load surges. There is nothing reported on the status, but there must be something causing this.

My instances are in Availability Zone ap-southeast-2a.

Edited by: matt_rw on Jul 16, 2015 7:33 PM"
Amazon EC2	"Re: High IO wait times
You haven't told me which instance is yours, so we're unable to check on the host. 

If you stop and start your instance, you will jump to a different host with different neighbors."
Amazon EC2	"Re: High IO wait times
OK, Thanks for that Michael, it's settled back down again now.

I had simply tried rebooting the instance using the standard OS commands. However based on your comment I'm assuming that this keeps it on the current host as it's not being fully stopped and started again. Am I correct in thinking that?"
Amazon EC2	"Re: High IO wait times
Yes, exactly.  When you reboot your instance, it stays on the same host.  You have to shut down your instance to get it to jump hosts.

If you think of the virtual hosts like real hosts, then rebooting is just hitting the reset button and your machine doesn't move.  However, when you power-off a machine, we unplug it, pull it out of the rack, and put it in storage.  When you launch it again, we pull it out of storage, put in in a different rack, hook back up all the cables, and hit the power button."
Amazon EC2	"Suddenly my website raise the error ERR_CONNECTION_REFUSED
I had restarted EC2 instance this morning and it suddenly raised the error ERR_CONNECTION_REFUSED right after restart. I am not sure whether it is a problem with EC2 instance or security group. I did not make any change on EC2 instance or security group. Currently all websites hosted in the same server are down.

Would anyone please give me some advises where I should start looking at to solve the problem? 

Instance ID: i-9701ab5b
Websites: www.ka-pok.com, dev.ka-pok.com, blog.ka-pok.com
IP address: 54.169.170.57

Thank you in advance.
Best regards,
Mong"
Amazon EC2	"Re: Suddenly my website raise the error ERR_CONNECTION_REFUSED
Hello Mong,

I did check your instance i-9701ab5b and it is passing 2/2 status checks.
Also, I did run a netcat session against port 22 and 80 of your instance and it returned me the following.
$ nc -zv 54.xxx.xxx.57 22
Connection to 54.xxx.xxx.57 22 port [tcp/ssh] succeeded!
$ nc -zv 54.xxx.xxx.57 80
nc: connect to 54.xxx.xxx.57 port 80 (tcp) failed: Connection refused


This indicates that SSH service is running properly on your instance and you should be able to connect to your instance using SSH. However, your instance was refusing connections made to HTTP port (TCP Port 80). This indicates that there is no service listening on TCP port 80. This could be because the web service on your instance is not started or is failing to start. I would recommend you to login to your instance and check this. If the web service is failing to start, you will have to take a look at the logs to see why it is failing.

Regards
Shiroy"
Amazon EC2	"Re: Suddenly my website raise the error ERR_CONNECTION_REFUSED
Hi Shiroy

Thank you very much for your advice. After checking status and logs, I found that Varnish caused the problem. The issue was solved after Varnish had been disabled."
Amazon EC2	"Cannot access to my linux instance
Hi, 

I posted this on another forum and it seems I posted it at the wrong forum. Please allow me to re-post it here. 

How do I make my newly created instance public accessible? 

It seems the procedures of creating a new instance has changed. I created a new AWS-linux instance and it only allowed me to attached it to one of the VPCs. After that, I was unable to ssh to that instance. 

I even changed that instance's VPC settings so that instance could have a public DNS (	
 ec2-52-69-112-29.ap-northeast-1.compute.amazonaws.com). Even so, I am still unable to login to that linux via ssh using its .pem key file. 

I am unable to assign an elastic IP to that linux instance either. 

Please see the attached image file that is one of the procedures to create a new instance. 

Is there any way to create a public accessible AWS-linux? 

Thanks a lot,

Edited by: russellhung on Jul 20, 2015 7:48 AM"
Amazon EC2	"Re: Cannot access to my linux instance
It magically worked after I restarted this instance."
Amazon EC2	"Re: Cannot access to my linux instance
No, I accidentally connected to another existing accessible server that we created a year ago.

The error message is still:

ssh: connect to host 52.69.112.29 port 22: Operation timed out

Edited by: russellhung on Jul 20, 2015 7:55 AM"
Amazon EC2	"Re: Cannot access to my linux instance
Hello,

I am assuming that you are referring to your instance  i-8b5dfc79.
This instance VPC route table rtb-6a1bb10f do not have an IGW associated. Can you add a default route to this route table pointing to an IGW and give it a try?

Regards
Shiroy"
Amazon EC2	"Re: Cannot access to my linux instance
Hi, 

Thanks for your response. 

Please refer to my attached images. That is my VPC route tables & igw setting. I have no idea how to do that. 

Thanks a lot.

Edited by: russellhung on Jul 20, 2015 8:22 AM"
Amazon EC2	"Re: Cannot access to my linux instance
Hello,

You need to add a default route pointing to an IGW. It should looking something like this.
0.0.0.0/0 (Destination) -> igw-xxxxx (Target).

If you do not have an IGW associated with your VPC, you can create one and associate first. Then you can create a default route in the route table.

For more information on IGW, please click this link.

Regards
Shiroy"
Amazon EC2	"Re: Cannot access to my linux instance
Hi, 

    Really appreciate your help, it works. The problem is solved. Please see my attached image for the procedure by adding the ""0.0.0.0/0"" to my routing table and I could ssh to my server.

    However, just my comments on this kind of problem. I have no idea what's going on. Compared with the procedures of creating instances earlier, it is now harder and more confused. It used to be hassle free to create instances before. We just created instances and attached public IP to them. Then it just worked. It was as simple as that. But now, it's a little bit different."
Amazon EC2	"Spamhaus PBL listing
I have an EIP (107.21.38.110, and 107.23.32.99) which was previously submitted and approved via this form: https://aws.amazon.com/forms/ec2-email-limit-rdns-request

It has been working for a long time.  All of the sudden today, it is showing up on Spamhaus PBL list, and our email is being rejected from several email servers that are configured to use this list.

I saw this Forum post from a few years ago: https://forums.aws.amazon.com/message.jspa?messageID=277376

Might this be happening again?  Can I get this IP resolved ASAP so my mail will continue to flow normally?"
Amazon EC2	"Re: Spamhaus PBL listing
Hi  Kristofer,

Thanks for the information. I'm truly sorry for the concern and inconvenience this has caused. I'm having our team investigate this now. I'll get you an update once I have further information.

Regards,

Rodney"
Amazon EC2	"Re: Spamhaus PBL listing
Is there any update to this?  This is still continuing to cause a huge disruption to something that was working flawlessly for quite some time."
Amazon EC2	"Re: Spamhaus PBL listing
I'm still looking for an update.  I am already losing customers because they're getting bounce backs to emails which they were able to legitimately send before."
Amazon EC2	"Re: Spamhaus PBL listing
Hello,

To de-list your '107.21.38.110' EIP from Spamhaus's blacklist, you'll need to request the removal via their removal request form linked below. 

https://www.spamhaus.org/pbl/query/PBL1522087

Since AWS does not control the content you send via the EIP, we are unable to request the de-listing on your behalf."
Amazon EC2	"Re: Spamhaus PBL listing
I tried that a week ago, but it did not go through. I will attempt it again.

I thought that since AWS owned the networks, and registered that as such with Spamhaus, that AWS had to submit their own exception list to Spamhaus.  Has this changed?"
Amazon EC2	"EC2 not working after re sizing
Hi,

I have resized a EC2 from micro to m3.medium. When through all the steps, have the new public dns but I can't ssh to the machine any more or event access rstudio browser. 

The machine seems to be running (according to the status checks) but I can't access it. 

Did anyone experience this? 

Thank you for your help,
Eliano"
Amazon EC2	"Re: EC2 not working after re sizing
Hello Eliano,

I did check your account and assume that you are referring to instance i-e26041a0.

On instance i-e26041a0's console and could see that it is stuck with the following message:
The disk drive for /dev/xvdf is not ready yet or not present.
keys:Continue to wait, or Press S to skip mounting or M for manual recovery

It seems that you detached a volume from your instance and it's reference is still in the instnace's /etc/fstab file. You can either attach back that volume and reboot the instance or attach your instance's root volume to any other running instance as a data volume and modify the contents of it's fstab file and remove the reference for disk /dev/xvdf.

I hope this helps.

Regards
Shiroy"
Amazon EC2	"ec2 instance stopped suddenly
Our instance (running a wordpress website) suddenly stopped working. We restarted the instance after a few hours and our analysis of the logs, swap space left gives us no clue as to why it may have happened.

Attached is the snippets of the messages just before and  after the stoppage.

Can some one help us determine what could have been the reason?

Thanks & Regards,"
Amazon EC2	"Re: ec2 instance stopped suddenly
Hello,

We have not received any response. Do we need to provide any extra information? Let us know.

Thanks & Regards,"
Amazon EC2	"Re: ec2 instance stopped suddenly
Hello,

Could you please provide your instance ID for us to investigate.

Best regards,
RonnieN"
Amazon EC2	"Re: ec2 instance stopped suddenly
Hello RonnieN,

Our instance Id : i-346a8fc3

Regards,"
Amazon EC2	"Re: ec2 instance stopped suddenly
Hello Ignitur,

I did check your instance and could identify that your instance i-346a8fc3 was stopped due to degradation of the underlying hardware hosting your instance. This was a scheduled activity and a communication email was already sent to your registered email address on June 27, 2015 9:02 PM (PDT) with subject: ""
Retirement Notification Amazon EC2 Instance scheduled for retirement AWS Account: xxxxxxxxxxxxx "" with regard to this.

I hope this helps.

Regards
Shiroy"
Amazon EC2	"g2.2xlarge type instance does not show a NVIDIA display adapter
Hi,

I have created an EC2 instance of type g2.2xlarge.

But in the device manager of the system I see only Microsoft display adapters.

Please let  me know where to check NVIDIA GPU in g2.2xlarge  type instance.

Thanks,
Avik"
Amazon EC2	"Re: g2.2xlarge type instance does not show a NVIDIA display adapter
Hello,
From what you said, I assume that you are running a windows based EC2 instance.
May I know if you used the default Windows Server 2012 AMI or an AMI with NVIDIA GRID Drivers installed.  For a list of AMIs with the NVIDIA driver, see AWS Marketplace (NVIDIA GRID).

If you want to install NVIDIA driver on your windows instance, please refer to the documentation section here.

Regards
Shiroy"
Amazon EC2	"Re: g2.2xlarge type instance does not show a NVIDIA display adapter
Thanks Shiroy,

It helped. The problem is resolved after installing a compatible NVIDIA graphics driver.

Thanks,
Avik"
Amazon EC2	"Re: g2.2xlarge type instance does not show a NVIDIA display adapter
Hello Avik,

Thank you for letting us know.
Have a great day.

Regards
Shiroy"
Amazon EC2	"Putty connection Error
Hi
I am trying to connect to my Ubuntu instance with putty. I am using ubuntu@public IP address and my security groups are set for 22 inbound. My instance name is i-42a08891

I still get a Connection Error."
Amazon EC2	"Re: Putty connection Error
Hi,

Take a look at this artilce I wrote here that addreses the most common connection problems and how to resolve them when using Ports 22 over Putty/SSH.

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Cheers

Stooby..."
Amazon EC2	"Re: Putty connection Error
Hello,

I did take a look at your instance i-42a08891 and it is launched in a private subnet. So, there is not IGW associated with your instance's VPC route table rtb-b00fcad4. You will have to edit the route table rtb-b00fcad4 and add a default route pointing to an IGW associated with your VPC.

I hope this helps.

Regards
Shiroy"
Amazon EC2	"Manually terminating server that is scheduled to be auto-terminated by AWS
I received a notification that one of our servers will be terminated within a few days due to degradation detected in the underlying hardware.

We need the IP address assigned to this server, and would therefore like to terminate it earlier. When we try to do this, the server shows as stopping, and has been in this state for a couple of hours. 

How can we get rid of this server, or better still, is there a way to assign its IP address to another new server (and we deal with terminating it later)?

Thank you"
Amazon EC2	"Re: Manually terminating server that is scheduled to be auto-terminated by AWS
Seems that the instance terminated after i posted my query.  Marking this as solved"
Amazon EC2	"How to create copy of EC2 server for developing purpose
Hi,

We are running an EC2 server with storage device attached to it (ebs).

How do I create another copy of this server for development purposes (temporary)? I want the exact server but pointing to beta.example.com (another ip address).

Kindly assist. Thanks!"
Amazon EC2	"Re: How to create copy of EC2 server for developing purpose
Hi, 

You can create an AMI of your running instance and then create another instance from that AMI.  Information on AMI's and how to do this can be found here.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html

Also, not you can create a snapshot of your EBS volumes and then create new volumes from these snapshot too and attach to another instance.  Information on how to do this can be found here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-snapshot.html

Cheers,

Stooby..."
Amazon EC2	"Missing Required parameter items
Let me know if my request having any error.

Requested URI:
http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=&ltAccess Key Removed>&AssociateTag=signityauthor-20&Item_1_ASIN=B000062TU1&Item_1_Quantity=1&Items=&Operation=CartCreate&Service=AWSECommerceService&Timestamp=2015-07-20T09%3A04%3A23Z&Version=2011-08-01&Signature=HEBfnM6%2Bcc92QxUYGxk7tnpj1hK3KfFANHvvHvNp1FM%3D

Response:
<CartCreateResponse><OperationRequest><HTTPHeaders><Header Name=""UserAgent"" Value=""Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0""/></HTTPHeaders><RequestId>&ltAccess Key Removed></RequestId><Arguments><Argument Name=""Service"" Value=""AWSECommerceService""/><Argument Name=""Item_1_Quantity"" Value=""1""/><Argument Name=""Operation"" Value=""CartCreate""/><Argument Name=""Items""/><Argument Name=""Timestamp"" Value=""2015-07-20T09:04:23Z""/><Argument Name=""Version"" Value=""2011-08-01""/><Argument Name=""AssociateTag"" Value=""signityauthor-20""/><Argument Name=""Signature"" Value=""HEBfnM6+cc92QxUYGxk7tnpj1hK3KfFANHvvHvNp1FM=""/><Argument Name=""Item_1_ASIN"" Value=""B000062TU1""/><Argument Name=""AWSAccessKeyId"" Value=""&ltAccess Key Removed>""/></Arguments><RequestProcessingTime>0.00388097763061523</RequestProcessingTime></OperationRequest><Cart><Request><IsValid>False</IsValid><Errors><Error><Code>AWS.MissingParameters</Code><Message>Your request is missing required parameters. Required parameters include Item.</Message></Error></Errors></Request></Cart></CartCreateResponse>"
Amazon EC2	"cart create is not valid for this end point
Request URL:
http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=&ltAccess Key Removed>&AssociateTag=signityauthor-20&Item_1_ASIN=B000062TU1_____&Item_1_Quantity=1_____&Operation=CartCreate_____&Service=AWSECommerceService&Timestamp=2015-07-20T08%3A49%3A42Z&Version=2011-08-01&Signature=UbuBHrTH6xnlaEzJvSVW1u%2FexC%2BLz0%2BshHX43SX20CM%3D

Response: 
<CartCreate_____ErrorResponse>
<Error>
<Code>InvalidAction</Code>
<Message>The action CartCreate_____ is not valid for this endpoint.</Message>
</Error>
<RequestId>c6df2194-0ee6-4fe0-9161-cb968916644f</RequestId>
</CartCreate_____ErrorResponse>"
Amazon EC2	"Unable to start a instance
Hi, there.

I stopped my ec2 instance and dettached its volume. Then I have attached new ebs volume, but the instance has not been started.

I've got follwing errors:

Error starting instances
Invalid value 'i-6e8da568' for instanceId. Instance does not have a volume attached at root (/dev/sda1)

How can I start the instance again?

Regards,
David"
Amazon EC2	"Re: Unable to start a instance
Sorry, It's my mistake. EBS volume attachment setting was wrong."
Amazon EC2	"Regular reachability issues on c4.large instances
For the past few weeks we've been seeing random and intermittent reachability issues on a number of our c4.large instances (we have 9 in eu-west-1a and 1c). If we're logged in to the machine (ssh) when this is happening, the connection freezes. We're not sure what could be triggering this.

The latest one to be unreachable (and fail its instance reachability check for a short while) is i-fcdf7818. Any ideas what could be causing this?"
Amazon EC2	"Re: Regular reachability issues on c4.large instances
Hello Michiel,

I did take a look at your instance i-fcdf7818 and could identify that you are running Ubuntu 14.04 in it. Could you please confirm if you are experiencing issues with C4.large instances running Ubuntu 14.04? If that is the case, the issues could be because of an incompatible driver.

C4 instance types support enhanced network support, and the recommended driver version to be installed is ixgbevf-2.14.2. This is documented in our following documentation page: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html

You can try updating your Ubuntu version to the latest available and install atleast ixgbevf driver version 2.14.2 or above on a test instance and check if you are encountering such issues.

Regards
Shiroy"
Amazon EC2	"Re: Regular reachability issues on c4.large instances
Hi Shiroy,

We are indeed running Ubuntu 14.04 on c4.large instances (also on c4.xlarge, but we haven't seen the issue there).
Thanks for the pointers, we'll find some time to spin up a test machine and update the driver.

regards,

Michiel"
Amazon EC2	"Re: Regular reachability issues on c4.large instances
It looks like updating the ixgbevf driver (we updated to 2.16.1) solved the connectivity/reachability issues we were having, we upgraded all our enhanced networking instances.

I also found this thread: https://bugs.launchpad.net/ubuntu-on-ec2/+bug/1254930
It would seem that the default Ubuntu AMI still ships with a broken ixgbevf driver (version 2.11.3-k), nasty.

Edited by: Michiel on Jul 20, 2015 12:32 AM"
Amazon EC2	"is matlab no longer supported on ec2?
I was planning to use matlab on ec2 3.4 and 3.8 large instances, but i could not find matlab on aws marketplace. 
Eventhough all the documentations and guides about using matlab on ec2 still exists on both amazon.com and mathworks.com it's seems not possible to set up a computing server for matlab. 

Are all the documentation on both sites outdated? Is matlab no longer supported on ec2?"
Amazon EC2	"Accidentally deleted root device volume
Hi

I accidentally deleted root device volume, I think. When I try to start EC2 instance, it says
   Invalid value 'i-9701ab5b' for instanceId.
   Instance does not have a volume attached at root (/dev/sda1)

Is there any way I could recover it?

Thank you in advance.
Best regards,
Mong"
Amazon EC2	"Re: Accidentally deleted root device volume
Turned out that it was a different volume. Currently no issue."
Amazon EC2	"Autoscaling Cost Question
I am curious how EC2 Resources are billed in the following scenario; I am assuming a full hour is charged for each build but want to confirm.

Scenario: Create an AutoScalingGroup with 1 instance with default policies.  Health check is set to grace period of 5 minutes and 1 check for unhealthy/healthy, no cooldown.  Instance is not configured properly (Userdata, SG, etc) to cause health check to continuously fail.  AutoScalingGroup will keep terminating and re-creating new EC2 instance.

Ignoring time to terminate and recreate a new instance, we would have 12 iterations in one hour. What is my cost from an EC2 hours perspective?

Assumption: 1 hour = 12 iterations of scenario above = 12 hours billed?"
Amazon EC2	"Re: Autoscaling Cost Question
Hi,

You are correct in your assumption.  Amazon EC2 and Amazon CloudWatch service fees apply. Therefore, partial hours are billed as full hours.

http://aws.amazon.com/autoscaling/pricing/

Regards,

Luke H."
Amazon EC2	"Unable to Connect to Remote PC - Mac MRD
Hi, I have setup a windows server 2008 instance and can not connect to it via MRD. The console log of the windows server states it is available. I have tried connecting using the public IP and the public DNS. Please help.
Thanks, Kurt"
Amazon EC2	"Re: Unable to Connect to Remote PC - Mac MRD
Hi there Kurt,

I have looked at your instances and I am getting a reply on TCP 3389 for RDP on all of the instances besides one, so I will assume this is the instance that you are having issues with, instance ID i-4b810a98.

Looking at the route table that this instance is using I can see that there is only the local route. For traffic to leave the VPC you will need to create another route for 0.0.0.0 that points to the Internet Gateway for the VPC, in this case igw-b281c1d7.

For more information please see the below linked documentation


http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html


Quim."
Amazon EC2	"Creating new AMI
Hi ,

This is ramesh. i am new for AWS. please guide me how to create the manifast file in New AMI creation"
Amazon EC2	"Re: Creating new AMI
Hi there Ramesh,

To be able to give you useful information to help you along please provide more detail about what you are trying to do, how you are going about doing it and the issues that you are getting when you do it.

Please also provide any error messages that you are seeing and resource IDs for the items involved (instance ID, AMI ID etc.)

Quim."
Amazon EC2	"Fixed IP Address of  IP Address of instances?
I launch a new EC2 instance from an existing AMI (with centos, WHM/cPanel) but it kept the original ip of the AMI.  Once the new instace is launched, when I add a new account through WHM, the new account gets bound to the old ip instead of the new ip.  As a result, when I view the website in my browser, I get redirected to a default cPanel page. How can I update the IP of the new instance."
Amazon EC2	"Re: Fixed IP Address of  IP Address of instances?
Hi there Victor Valdez,

Can you please provide more information about the issue that you are experiencing.

Please provide the instance and AMI ID that you are having issues with as well as detailing if the IP address issue is related to the instance that is being launched or the software that you are running on the instance."
Amazon EC2	"Email from my EC2 server is marked as spam by Yahoo
Hi, I just opened a server in EC2. Things are working fine so far. We basically have a form feed for our visitors to send us messages. The form forwards the message to a Yahoo email account. We get about 5 emails every day.

So all of this works. However, I notice that all the emails Yahoo email account gets is marked as spam. 

How do I fix this issue of emails being marked as spam? Kindly assist. Thanks!"
Amazon EC2	"Re: Email from my EC2 server is marked as spam by Yahoo
Have you taken measures to authenticate your emails?

Namely:



do you have your instance' IP mentioned in your sender's domain' SPF record?
are your outgoing emails signed using DKIM and whether corresponding DNS entry is present for sender's domain?
is DMARC DNS record present?




The absence of any of the above may result in your messages being marked as spam.

Edited by: Konstantin Boyandin on Jul 20, 2015 5:39 AM"
Amazon EC2	"Cannot delete EBS snapshots
We have encountered an issue where the console shows EC2 snapshots in our account which we are unable to delete (just errors out without a code). Our snapshot tool would tag the snapshots accordingly and we now have a number of untagged snapshots which cannot be deleted. Attempting to tag the snapshots would return an InvalidSnapshot error.

This seems to be interfering with the retention of snapshots which we do automatically. The affected snapshots are:

snap-a29d9084
snap-08088331
snap-09ff0530

These snapshots aren't tied to any AMIs, so it isn't related to it being a dependency."
Amazon EC2	"Re: Cannot delete EBS snapshots
Hello,

I did check the snapshots that you mentioned and it appears to be in deleted state now. Are you still facing any issues with regard to this?

Regards
Shiroy"
Amazon EC2	"Re: Cannot delete EBS snapshots
2 of them are gone now, but one of them is still there, with another 2 more being in the unable to delete state again:

snap-09ff0530
snap-29ccf60d
snap-b754c78f"
Amazon EC2	"Re: Cannot delete EBS snapshots
And today there are:

snap-712af555
snap-c99c0df1"
Amazon EC2	"Re: Cannot delete EBS snapshots
Hello,

Thanks for posting. I've looked at the 5 snapshots you mentioned in the last two posts and according to my tools all 5 are deleted. 

snap-09ff0530
snap-29ccf60d
snap-b754c78f
snap-712af555
snap-c99c0df1

Can you confirm this on your end?

Regards,
Brandon"
Amazon EC2	"Re: Cannot delete EBS snapshots
Hi Brandon,

They all still show up in the AWS console interface for some reason. However, calling the API directly via boto returns a does not exist error which correlates to the snapshots being deleted. Sounds like a bug somewhere?"
Amazon EC2	"Re: Cannot delete EBS snapshots
Hi,

I can confirm that from my side those snapshot are deleted. 
I will further investigate this, in the meantime can you please provide a screenshot of your console?

Regards,
Giorgio"
Amazon EC2	"Re: Cannot delete EBS snapshots
Hi Giorgio,

2 of them are gone now, but 3 are left as in the provided screenshot."
Amazon EC2	"Re: Cannot delete EBS snapshots
Hi,

I can't find the listed snapshots on your account. Can you confirm if  they were deleted.

Regards,

Souza S"
Amazon EC2	"Re: Cannot delete EBS snapshots
Hi Souza,

Yes, it's all deleted now. Thanks."
Amazon EC2	"IPsec VPN Tunnel site to site from AWS to our Office
Hi,

Please some one help that How to configure the VPN Tunnel from AWS to our Office.
We are using Cisco ASA 5520 and want to configure IPsec VPN Tunnel site to site .

Thanks,
itivp"
Amazon EC2	"Re: IPsec VPN Tunnel site to site from AWS to our Office
Hello, 

We have some great documentation on how to set up a VPN connection to your VPC. We also include example configurations for you to compare to your own Cisco ASA. The six steps you will need to complete are:

1. Create a Customer Gateway
2. Create a Virtual Private Gateway
3. Enable Route Propagation in Your Route Table
4. Update Your Security Group to Enable Inbound SSH, RDP and ICMP Access
5. Create a VPN Connection and Configure the Customer Gateway
6. Launch an Instance Into Your Subnet and Test

Here is a link to get started: 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_VPN.html

Best Regards,
Jillian L."
Amazon EC2	"Re: IPsec VPN Tunnel site to site from AWS to our Office
Hi Jillian,

Thanks for document, As per document we have configured the VPN and after finished the  Step 5: Create a VPN Connection and Configure the Customer Gateway, 

we are getting the alert which mentioned below, so please let us know why this alert is getting...

Your VPN has been (VPN-2dxxxxxx) created, but we were unable to add static routes to your VPN Configuration. Find out how to add static routes to your VPN.

Please let us know why vpn connections status showing down in screen shot.

I have attached the screen shot also. about the VPN Connections Dashboard.

Thanks,
itivp

Edited by: itivp on Feb 5, 2015 6:15 AM"
Amazon EC2	"Re: IPsec VPN Tunnel site to site from AWS to our Office
Has anyone ever figured this out, we are having the same issue."
Amazon EC2	"NewbieUsing Autoscaling as dispatcher
I have been given the business logic of 

a) A customer makes a request for services through 
    a third party gateway GUI to an EC2 instance
b) Processing for some time (15hr)
c) Data retrieval

Currently this is implemented by statically giving each user an EC2 instance to use to handle their requests.  (This instance actually creates some sub instances to parallel process the data).

What should happen is that for each request, an EC2 instance be fired off automatically.

In the long term, I was thinking that this should be done using SWF (given the use of sub processes), however, I wondered if as a quick and dirty solution, using Autoscaling with the correct settings is worthwhile pursuing.

Any thoughts?"
Amazon EC2	"Are Spot instances auto-starting and persistent?
I'm looking at using the Amazon Spot instances to run a small (properly licensed) game server for me and a few friends. I wanted the spot instance because I do not mind being interrupted, and I'll only want to run it when it is cheap to do so.

1. Do these spot instances auto-start? Is there a way I can prevent a spot instance from jumping into the pool immediately when the market price is favorable?

2. Are the spot instances stored after termination? Do they save their state, or are they destroyed upon termination? I would like my game world state to be saved between play sessions, and I don't want to restore from backup every time I play.

Thanks a ton!"
Amazon EC2	"Re: Are Spot instances auto-starting and persistent?
Hi,

Yes, your Spot Instance request is fulfilled when there is available capacity and your bid price is greater than the current Spot price. If you create a one-time request, we won't automatically launch another Spot Instance when the Spot price decreases; you can submit another request when you would like another Spot Instance.

You will need a persistent data store for your session state, such as an Amazon S3 bucket or an Amazon EBS volume. If you store your data on an Amazon EBS volume, you can ensure that it persists after the instance is terminated when you create it. The EBS volume is automatically detached from a Spot Instance when it terminates, and you can ensure that it is attached to your new Spot Instance when you submit your request.

Julie"
Amazon EC2	"Changing Key Pairs
I created an instance a while ago, and I created a key pair.  I can still get into the instance with key authentication.  However, I might like to start over with a new key pair at some point.  Is there any way to start over from scratch with the key pair on an already existing instance?

Thank you!"
Amazon EC2	"Re: Changing Key Pairs
Hi,

The documentation describes how to add a user and a key for the user to your Linux instance:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/managing-users.html

You can also modify the key for an existing user, like ec2-user. Note that Amazon EC2 is not aware of this update and the instance metadata will continue to report the original key pair even if you remove it.

Julie"
Amazon EC2	"URGENT: Production server stuck in ""shutting-down"" state, need to terminate
Hello,

We need support to manually terminate the following instance id ASAP:
i-7b77337d

One of our production servers was scheduled for a retirement event in about 2 weeks, but decide to just go haywire now.

I've tried to terminate it so I can launch a replacement, but it's stuck in ""shutting-down"" state. We need it terminated, so the networking interface gets freed and we can use it on the replacement (exactly private IP address is important to the service).

We are dead in the water while this problem persists."
Amazon EC2	"Rename network device name from eth0 to publiceth0 in RHEL6
Hi All,

I am using RHEL 6 EC2 instance and want to rename ethernet device eth0 to publiceth0.
I am able to change eth1 to publiceth1 by adding/modifing entry in ""/etc/udev/rules.d/70-persistent-net.rules"" and by creating ifcfg-publiceth1 file in /etc/sysconfig/network-script/.
But I am unable to rename eth0 to publiceth0 with same procedure. 
Can someone please help?

Edited by: nalinin on Jul 19, 2015 2:46 AM"
Amazon EC2	"pricing for EBS io for zimbra mail server
I'm trying to find out how much it would cost for I/O requests on EBS using zimbra mail server with about 20000 emails coming in per day.So basically, I'm trying to figure out on average how many requests would a mail server with this much traffic get per second or day or month."
Amazon EC2	"Re: pricing for EBS io for zimbra mail server
I am looking for this calculation as well."
Amazon EC2	"Re: pricing for EBS io for zimbra mail server
Hi,

Please refer to this link for EBS storage and I/O pricing: http://aws.amazon.com/ebs/pricing/

Regards,
Souza S"
Amazon EC2	"How to properly configure firewall and other network protection settings?
Hello guys, i want to know how properly configure firewall and other network settings to forbid all network activity except two IP addresses (first is my local desktop IP address, which i will use to remote control my ec2 windows server 2012, second is site's IP wich my program will use to communicate with this site). Will be great to hear some advices!"
Amazon EC2	"All traffic open but cant ping or ssh
I'm sure this is ultimately a case of ignorance about some configuration mechanics somewhere or other, but... I've spun up a t2.micro ubuntu instance in us-east-1a. I'm basically trying to do Hello World at this point.

I cannot SSH to my instance; I get Connection timed out

This fails when running using my own ssh client and also occurs when using the aws console ssh client

Pinging the ip also just gets Request timed out.

The security group has 1 inbound rule:
ALL Traffic / ALL Protocols / ALL Ports / Source 0.0.0.0/0

The ACL for the subnet has 1 inbound rule:
ALL Traffic / ALL Protocols / ALL Ports / Source 0.0.0.0/0 / ALLOW

But still no dice. What else can I possibly be missing?"
Amazon EC2	"Re: All traffic open but cant ping or ssh
After digging through the forums enough, I found another who apparently had the same inappropriate configuration...

My route table had an issue. I added a rule for 0.0.0.0/0 to target the gateway and now we're cool. Everything works."
Amazon EC2	"Peer-to-Peer (P2P) access from GPU to GPU
Hi all,

I am trying to train a deep neural network on two GPUs and need peer-to-peer access between the two GPUs so that they can communicate with each other. However, it seems that g2.8xlarge instance on AWS will not allow such peer-to-peer access because of virtualization layer. Do you know any solution to this problem? It would be great if we can train a deep net on multiple GPUs since otherwise the training will take a very long time.

Sincerely,

Tan Nguyen"
Amazon EC2	"EC2 T2 instance no longer responding, reboot does not help
A Windows 2012 server is no longer responding to anything (no RDP no IIS).

2015/07/13 17:37:29Z: EC2 Agent: Ec2Config service v3.0.54
2015/07/13 17:37:34Z: Driver: AWS PV Network Device v7.2.4.1
2015/07/13 17:37:34Z: Driver: AWS PV Storage Host Adapter v7.2.4.1
2015/07/13 17:37:39Z: Message: Waiting for meta-data accessibility...
2015/07/13 17:37:39Z: Message: Meta-data is now available.
2015/07/13 17:37:39Z: AMI-ID: ami-c77151f7
2015/07/13 17:37:39Z: Instance-ID: i-8c9ea47a
2015/07/13 17:37:39Z: Ec2SetPassword: Disabled

The above is what is happening at the moment after restart, please advise.

Tom"
Amazon EC2	"Re: EC2 T2 instance no longer responding, reboot does not help
After rebooting 4-5 times, Windows seems to have started up again.

Any ideas what happened?

Tom"
Amazon EC2	"Re: EC2 T2 instance no longer responding, reboot does not help
Can someone maybe provide some information on what happened?

Thanks,

Tom"
Amazon EC2	"Re: EC2 T2 instance no longer responding, reboot does not help
Hi Tom,

Could you provide an approximate date/time/timezone of when this issue occurred? This will help me identity if the issue was with the underlying host or the instance OS itself.

I look forward to hearing back from you!

Rodney"
Amazon EC2	"Instance not reachable
I've an instance which is blocked, my websites are down and I cannont connet to it with SSH.

I've already tried to reboot it, but it doesn't worked.

What can I do ?"
Amazon EC2	"Re: Instance not reachable
Hello,

Thank you for the post.

Looking at your account ending in: 8632, I see that you have two instances (i-XXXXXXaf and i-XXXXXXe3) running under this account. 

Looking at these instances, everything seems to be operating normally at the infrastructure level at this point in time. Also, both the instances are responding on ports 80 (HTTP) and 22 (SSH) and serving the web content correctly. Please see the commands I performed to check this: 
$nc -v 54.X.X.X 22
Connection to 54.X.X.X 22 port tcp/ssh succeeded!

$nc -v 54.X.X.X 80
Connection to 54.X.X.X 80 port tcp/http succeeded!

$curl -Ik 54.X.X.X
HTTP/1.1 200 OK
Date: Thu, 16 Jul 2015 23:01:01 GMT
Server: Apache/2.4.12 (Amazon) PHP/5.4.41
Last-Modified: Wed, 03 Oct 2012 07:48:51 GMT
ETag: ""2231-4cb22de9cfec0""
Accept-Ranges: bytes
Content-Length: 8753
Vary: Accept-Encoding,User-Agent
Access-Control-Allow-Origin: *
Content-Type: text/html; charset=UTF-8

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Re: Instance not reachable
Yes, my machine has finally rebooted and allowed me to access it. But this morning, the same problem appears again and I'm unable to connect to it with SSH."
Amazon EC2	"Re: Instance not reachable
Hi  awkddr,

Could you provide the instance id and the date/time/timezone of when you weren't able to access it via SSH. Could you also provide the error message you received? This information will help me determine if the issue is within the instance OS level or the underlying host.

Regards,

Rodney"
Amazon EC2	"Re: Putty connection refused problem.
I am new to the AWS Web Services. I just signed up and started amazon ec2 micro free instance and got as far as trying to use Putty to login to my EC2 instance. I saved the private key and use it with putty. I get connection refused, no log data. I added a rule to inbound with the Public IP for SSH access. Was it supposed to be my windows client IP? I'm using windows 7 with putty to try to log in."
Amazon EC2	"Re: Putty connection refused problem.
Hi ejjeamore,

I replied to your message here

Regards,

Rodney"
Amazon EC2	"Your Amazon EC2 Abuse Report [12834920818-6] !!
Greetings,

Today we have received an Abuse Report 12834920818-6 from a claimed domain that we don't have contact with. Yet our server -as per our audit- didn't attempt to connect with or attack (as claimed ).. However this kind of message could put our business at risk and would like to know how to handle this or assure that the reporter is contactable party (so far we couldn't reach the reporter and the domain for us looks not a real party.

Kindly advice on how to act and what should be the next to secure our business with AWS without the risk or losing our data..

the following are a quick brief of the message/report we have received.

Thanks in advance.

We've received a report that your instance(s):

Instance Id: i-xxxxxxxx
IP Address: ---HiddenIP---


has been making illegal intrusion attempts against remote hosts on the Internet; check the information provided below by the abuse reporter.

Host Intrusion is specifically forbidden in our User Agreement: http://aws.amazon.com/agreement/

Please immediately restrict the flow of traffic from your instances(s) to cease disruption to other networks and reply this email to send your reply of action to the original abuse reporter. This will activate a flag in our ticketing system, letting us know that you have acknowledged receipt of this email.

It's possible that your environment has been compromised by an external attacker. It remains your responsibility to ensure that your instances and all applications are secured. The link http://developer.amazonwebservices.com/connect/entry.jspa?externalID=1233
provides some suggestions for securing your instances.

Case number: 12834920818-6

Additional abuse report information provided by original abuse reporter:

Destination IPs: 
Destination Ports: 
Destination URLs: 
Abuse Time: Wed Jul 15 10:28:00 UTC 2015
Log Extract: 

<<<
The IP ---HiddenIP--- has just been banned by Fail2Ban after
6 attempts against apache-attack.


Comments: 

<<<
Hi, We have detected a network attack from an IP ( ---HiddenIP--- ) from your network, a computer connected to it is probably infected and being part of a botnet. Please check it and fix it up as soon as possible. Thank you.

/ 

Saludos, Hemos detectado un ataque desde una ip ( ---HiddenIP--- ) de su red, probablemente el equipo este infectado y este dentro de una botnet. Porfavor revisenlo y solucionenlo en la mayor brevedad posible. Muchas gracias. 
 

Edited by: RodneyM@AWS on Jul 18, 2015 1:24 PM"
Amazon EC2	"Re: Your Amazon EC2 Abuse Report [12834920818-6] !!
Hello,

Thanks for posting. I apologize for the issues you've encountered. The very first thing I would do is to implement an iptables rule on this instance and log any attempts to connect to the IP mentioned. This way you can review your logs and and verify that there are no actual attempts trying to connect to this IP. Please see the following example, replace <IP-HERE> with the IP in question and that if you reboot or stop/start the instance you'll have to add them again (alternatively you could add them to rc.local so they would be executed at boot time):

sudo iptables -A OUTPUT -d <IP-HERE> -j LOG --log-prefix 'EC2 ABUSE: '
sudo iptables -A OUTPUT -d <IP-HERE> -j DROP


You mentioned that your investigation has not appeared to turn up anything on this so I'm assuming you've done the basics like verifying software/applications are up to date and that you've thoroughly reviewed your logs for indications of intrusion or issues with the software that is currently running within your instance. The above is outlined in the article that was also included in the email.

Once you've completed that please continue to monitor the logs and if you do find that there are attempts to connect to this IP or if you find other indications that your instance has been compromised or an application is not behaving properly you will have to look into this further. 

Regards,
Brandon"
Amazon EC2	"Re: Your Amazon EC2 Abuse Report [12834920818-6] !!
Many Thanks for your prompt response.

Does this kind of reports puts our server on risk of sudden termination/suspension or there will be alerts/notifications before you do so? Sorry for confusion but we are worrying since we heard stories of sudden accounts terminations without prior notice. Of course from our side we will do our best to follow and respect the AWS's terms of user..

Thanks you again."
Amazon EC2	"Re: Your Amazon EC2 Abuse Report [12834920818-6] !!
Hi platformfx,

platformfx wrote:
Does this kind of reports puts our server on risk of sudden termination/suspension or there will be alerts/notifications before you do so?

From my personal experience as long as you are responsive to the notifications and show an effort to fix the issues then you should be fine. So it's important to make sure the abuse notifications you receive aren't being filtered to an unmonitored account/folder.

Regards,

Rodney"
Amazon EC2	"ssh connection refused
Hi,

I have set up two instances: i-906b8b59 and i-906b8b59. But when I ssh to them, it says:

OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.27.123.215 http://52.27.123.215 port 22.
debug1: connect to address 52.27.123.215 port 22: Connection refused
ssh: connect to host 52.27.123.215 port 22: Connection refused

And I don't find useful info in instance system logs. Does anybody have any ideas? Thank you!"
Amazon EC2	"Re: ssh connection refused
Are the instances in a Subnet which has a proper route to your client? Do your security groups allow access inbound on port 22 from your clients IP?"
Amazon EC2	"Re: ssh connection refused
Hello,

The message connection refused indicates that there are no service listening on the associated port. This means that sshd service is not running on port 22. Could be that it failed to start due to some reason or you have a custom sshd configuration which runs on a different port instead of TCP port 22.

I would recommend you to verify your sshd configuration and also check the logs if there is something indicating the failure of ssh service during instance start up. Or may be you could have disabled the sshd to start automatically during boot.

Regards
Shiroy"
Amazon EC2	"Re: ssh connection refused
I am new to the AWS Web Services. I just signed up and started amazon ec2 micro free instance and got as far as trying to use Putty to login to my EC2 instance. I saved the private key and use it with putty. I get connection refused, no log data. I added a rule to inbound with the Public IP for SSH access. Was it supposed to be my windows client IP? I'm using windows 7 with putty to try to log in."
Amazon EC2	"Re: ssh connection refused
Hi,

Yes you would want to add your client IP to the security group for ingress SSH traffic.

Connecting to Your Linux Instance from Windows Using PuTTY - Hopefully this helps.

Regards,

Rodney"
Amazon EC2	"SSHâ€”cannot SSH into instance
Hi,
I'm not able to login to a particular host using ssh.
Instance ID: i-ad7f665a, US West 2a

I don't want to lose any of the data from this machine.

Any help/assistance would be really appreciated for this issue.

Below are the error logs:

$ ssh -i keyfile.pem ec2-user@my-instance-ip
ssh: connect to host my-instance-ip port 22: Connection refused

Thanks
Nikk Wong"
Amazon EC2	"Re: SSHâ€”cannot SSH into instance
Hi Nikk,

Could you try giving a verbose output from the ssh connection, example ssh -vv -i key ec2-user@

That said, a couple of things to check:

1.) Ensure your key.pem file permissions are 400
2.) Try deleting the key.pem from the known_hosts file

I see the instance and host are passing all health checks and I was able to test the connection myself with netcat, so at this time sshd service is running

]$ nc -v x.x.x.197 22
Connection to x.x.x.197 22 port tcp/ssh succeeded!

Regards,

Rodney"
Amazon EC2	"Re: SSHâ€”cannot SSH into instance
Sure!

OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/nikkwong/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 102: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.24.211.197 http://52.24.211.197 port 22.
debug1: connect to address 52.24.211.197 port 22: Connection refused
ssh: connect to host 52.24.211.197 port 22: Connection refused

Cleared the authorized hosts file. Also chmod 400'd the key file. Still not letting me in. Is there anything else I can check? Thanks a bunch."
Amazon EC2	"Re: SSHâ€”cannot SSH into instance
nikk_wong wrote:
debug1: Connecting to 52.24.211.197 http://52.24.211.197 port 22.
debug1: connect to address 52.24.211.197 port 22: Connection refused
ssh: connect to host 52.24.211.197 port 22: Connection refused

You'll usually see this response when the service isnâ€™t running or a firewall is rejecting the connection.

I see your security groups are allowing tcp 22 connections at this time. I'd check to make sure there isn't a software firewall or other application blocking the connection. I'd also check to makes sure the sshd service is running.

If you don't have another way to log into the instance then you'll need to do an offline recovery.
This means you'll need to stop the instance, detach the root volume, and attach it as a secondary device on another working instance.

When you stop a running instance, the following happens:

â€¢ The instance performs a normal shutdown and stops running (the status goes to stopping and then stopped)
â€¢ The instance retains its instance ID
â€¢ Any Amazon EBS volumes remain attached and the data persists
â€¢ Any instance store volumes don't persist
â€¢ The instance won't keep its public and private IP addresses. The exception is that instances launched in a VPC keep the same IP address when stopped and restarted.
â€¢ Any Elastic IP address mapped to the instance is unmapped. For Amazon VPC instances, the Elastic IP address remains associated with the stopped instance. When you restart the instance, the Elastic IP address is active. While the Elastic IP address is associated with the stopped instance, you're charged for the Elastic IP address.

Additional docs which may prove helpful or insightful:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html
https://aws.amazon.com/articles/5213606968661598

Regards,

Rodney"
Amazon EC2	"Re: SSHâ€”cannot SSH into instance
Also wanted to add an additional article which should prove helpful: Testing Network Services

Hope this helps as well!

Rodney"
Amazon EC2	"Cannot terminate (ECS Instance - EC2ContainerService-default) instance
Hello, I cannot terminate two ecs instances, if I terminate it it would again start by itself.
i-0f52d2c7: ec2-54-68-229-244.us-west-2.compute.amazonaws.com
i-b753d37f: ec2-54-69-32-24.us-west-2.compute.amazonaws.com"
Amazon EC2	"Re: Cannot terminate (ECS Instance - EC2ContainerService-default) instance
Hi nfvcu,

I see both instances are now terminated. Can you confirm if you are still having troubles?

Regards,

Rodney"
Amazon EC2	"Re: Cannot terminate (ECS Instance - EC2ContainerService-default) instance
Yes, deleted the AWS cloudformation stack"
Amazon EC2	"Instance startup for some instances in ASG get cancelled
Hi,

I am having issues with one of my autoscaling groups.

Recently this morning I increased the desired instance number to 8 from 6, and instance 7 and 8, get continuously getting cancelled with the following error:

the autoscaling group name is: mesos-slave-dev-06-26-2015-21-mesos-slave5034ee868fbfc92f896fc91a2ded4a88093fb2e5

Launching a new EC2 instance: i-e28a321c. Status Reason: Instance became unhealthy while waiting for instance to be in InService state. Termination Reason: Server.InternalError


I am trying to figure out how to resolve this"
Amazon EC2	"Re: Instance startup for some instances in ASG get cancelled
Hello,

I have taken a look at your terminated instance and I the error was related to ebs storage limit reached. I've seen that you opened a case requesting a magnetic ebs limit increase and the request was successfully fulfilled.

Regards,
Giorgio"
Amazon EC2	"ec2-import-instance error -ServerError: an internal  error has occurred dur
I am trying to import a .vmdk file, using ec2-import-instance, running  CentOS 6.6. File is uploaded sucessfully to S3. However I see the following error during conversion process: ServerError: an internal error has occurred during conversion.

TaskType        IMPORTINSTANCE  TaskId  import-i-ffs4865v       ExpirationTime
2015-07-17T16:36:02Z    Status  active  StatusMessage   ServerError: an internal
 error has occurred during conversion.  InstanceID      i-b3c8c07e
DISKIMAGE       DiskImageFormat VMDK    DiskImageSize   4551102976      VolumeId
        vol-eb9b4b03    VolumeSize      100     AvailabilityZone        ap-south
east-1a ApproximateBytesConverted       4551084672      Status  completed

Any Help ?"
Amazon EC2	"Re: ec2-import-instance error -ServerError: an internal  error has occurred dur
Hello,

I've engaged our Service Team, we will update you as soon as possible on this forum post.

Regards,
Giorgio"
Amazon EC2	"Re: ec2-import-instance error -ServerError: an internal  error has occurred dur
Hello,

seems that system files are missing, vmimport was unable to find an etc directory with both default & fstab.
Can you please verify and try again ?

Regards,
Giorgio"
Amazon EC2	"aws cli filter matching when it shouldn't (gotcha)
Just prior to posting I figured this out, but thought it worth posting in case is helps someone else out, perhaps a clarification in the official docs?

Be very careful with quotes and commas - and pass each filter option as a separate argument (don't put them in a single argument even if you do separate each pair with whitespace as per the guide at 
http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html.

This is just wrong (all the options are seen as valid values of the ""tag:Stage: name:
aws ec2 describe-images --filter Name=tag:Stage,Values=deploy,Name=tag:Env,Values=test --query 'Images[].[ImageId,Tags[?Key=='\''Stage'\''].Value|[0]]'


This is better but - it matches ""test"" instead of deploy?!
$ aws ec2 describe-images --filter ""Name=tag:Stage,Values=deploy Name=tag:Env,Values=test"" --query 'Images[].[ImageId,Tags[?Key=='\''Stage'\''].Value|[0]]'
ami-0d28e066	test
ami-3f2ae254	test


This is correct - you must pass in the filter list as separate arguments, the docs are unclear here as it says ""space"" so as a good sysadmin I carefully had the space in quotes in the version above.
$ aws ec2 describe-images --filter Name=tag:Env,Values=test Name=tag:Stage,Values=deploy --query 'Images[].[ImageId,Tags[?Key=='\''Stage'\''].Value|[0]]'
ami-4128e02a	deploy
ami-8d12dbe6	deploy
ami-b312dad8	deploy
ami-e916de82	deploy


You can of course also put each argument in quotes (normal shell protection):
$ aws ec2 describe-images --filter ""Name=tag:Env,Values=test"" ""Name=tag:Stage,Values=deploy"" --query 'Images[].[ImageId,Tags[?Key=='\''Stage'\''].Value|[0]]'
ami-4128e02a	deploy
ami-8d12dbe6	deploy
ami-b312dad8	deploy
ami-e916de82	deploy"
Amazon EC2	"Re: aws cli filter matching when it shouldn't (gotcha)
Hello adrianbridgett_os,

Thank you for pointing this out on the AWS Community forum !

Regards,
Giorgio"
Amazon EC2	"Problem with export
Hi 

I try to create export task by run this command: 
ec2-create-instance-export-task.cmd -O AKIAIXXXXXXXXX -W 8ZXXXXXXXXXXXXXXXXXXXXXXXXXXXX --region us-east-1 i-2b612557 -e Microsoft -f VHD -b forexport-vnik

and result is:
Client.InvalidInstanceID.NotFound: The instance ID 'i-2b612557' does not exist (Service: AmazonEC2; Status Code: 400; Error Code: InvalidInstanceID.NotFound; Request ID: c011dd01-f9bb-4b0a-b2d0-3089c05bf655)

But this virtual machine is located on us-east-1a

Please help me. What am I doing wrong?"
Amazon EC2	"Re: Problem with export
i entered credentials from other account  

But now i get new error: 
Client.NotExportable: Only imported instances can be exported. (Service: AmazonEC2; Status Code: 400; Error Code: NotExportable; Request ID: 9c71669f-37d2-4e3a-bc2a-33d2c6c2a680)

How i can export my machine?"
Amazon EC2	"Re: Problem with export
Hello,

you can export only a previous imported instance from ec2.

"" 
If you have previously imported an instance into Amazon EC2, you can use the command line tools to export that instance to Citrix Xen, Microsoft Hyper-V, or VMware vSphere. 
""

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExportingEC2Instances.html

Regards,
Giorgio"
Amazon EC2	"Reverse DNS - how long does it take?
I submitted a request to have a PTR record added to my elastic IP days ago and still nothing has happened. I'm moving my mail server to Amazon and this is an absolute requirement. 

How long does it take for such a basic requests? Most other hosts have it done in hours."
Amazon EC2	"Re: Reverse DNS - how long does it take?
Hi chiefbodge,

I sent you a PM.

Rodney"
Amazon EC2	"Can't connect to instance by ssh
Hello. Yesterday I lost the ability to connect to the my instance (i-47e34b04) by ssh. Stop and start don't help. I think, ssh-server are off, but why?
Command
ssh -i ""ubuntu.pem"" ec2-user@54.76.229.81 -vvv
Output
OpenSSH_5.5p1 Debian-6+squeeze4, OpenSSL 0.9.8o 01 Jun 2010
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 54.76.229.81 http://54.76.229.81 port 22.
debug1: connect to address 54.76.229.81 port 22: Connection timed out
ssh: connect to host 54.76.229.81 port 22: Connection timed out

Please help."
Amazon EC2	"Re: Can't connect to instance by ssh
maybe related:
When I make a new test instance, just since yesterday, can't ssh to it once up. Ports blocked. (ssh hangs, telnet publicip 22 hangs).

make instance ,it makes vpc (and route, subnets, inet gw) because classic ec2 not available anymore.
it makes security group.
(let wizard do everything).
once up, 2/2 checks passed, but cannot pass traffic on port 22 to it from the Net."
Amazon EC2	"Re: Can't connect to instance by ssh
Thank's for try to help. But, I do not change any network settings and check anything associated with network. All settings looks alike before."
Amazon EC2	"Re: Can't connect to instance by ssh
Hi sanchezef,

I had a look at your instance and underlying host. Both are healthy and I don't see any network errors at this time.

Netcat shows the following result:

$ nc -v x.x.x.81 22
nc: connect to x.x.x.81 port 22 (tcp) failed: Connection refused

You'll usually see this response when the service isnâ€™t running or a firewall is rejecting the connection.

I see your security groups are allowing tcp 22 connections at this time. I'd check to make sure there isn't a software firewall or other application blocking the connection. I'd also check to makes sure the sshd service is running.

If you don't have another way to log into the instance then you'll need to do an offline recovery.
This means you'll need to stop the instance, detach the root volume, and attach it as a secondary device on another working instance.

When you stop a running instance, the following happens:

â€¢ The instance performs a normal shutdown and stops running (the status goes to stopping and then stopped)
â€¢ The instance retains its instance ID
â€¢ Any Amazon EBS volumes remain attached and the data persists
â€¢ Any instance store volumes don't persist
â€¢ The instance won't keep its public and private IP addresses. The exception is that instances launched in a VPC keep the same IP address when stopped and restarted.
â€¢ Any Elastic IP address mapped to the instance is unmapped. For Amazon VPC instances, the Elastic IP address remains associated with the stopped instance. When you restart the instance, the Elastic IP address is active. While the Elastic IP address is associated with the stopped instance, you're charged for the Elastic IP address.

Additional docs which may prove helpful or insightful:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html
https://aws.amazon.com/articles/5213606968661598

Regards,

Rodney"
Amazon EC2	"Missing EC2 Instance
I have a E2 instance which I can't view in my console.

I can still access it through the public IP address but I'm not sure why it has dissipated from the console.

Public IP is 52.8.208.74

I checked around in other regions to see if maybe I created it wrong region but no that's not the case either.

Edited by: Andrew Paul on Jul 17, 2015 10:10 AM"
Amazon EC2	"Re: Missing EC2 Instance
Hi Andrew,

I'm going to send you a PM.

Regards,

Rodney"
Amazon EC2	"Connection issue
Having trouble reaching my site today
Tracing route to bftwaterfestival.com http://54.191.178.192
over a maximum of 30 hops:

  1    <1 ms     1 ms     1 ms  192.168.2.1
  2     *        *        *     Request timed out.
  3    10 ms    13 ms     9 ms  user-69-73-5-61.knology.net http://69.73.5.61
  4     9 ms    11 ms    17 ms  user-24-96-198-158.knology.net http://24.96.198.158
  5    24 ms    24 ms    25 ms  user-24-96-153-9.knology.net http://24.96.153.9
  6    24 ms    25 ms    25 ms  user-24-96-35-33.knology.net http://24.96.35.33
  7    36 ms    35 ms    34 ms  user-24-96-110-161.knology.net http://24.96.110.161
  8    33 ms    33 ms    33 ms  atl-bb1-link.telia.net http://80.239.193.61
  9    56 ms    52 ms    53 ms  chi-b21-link.telia.net http://62.115.143.62
 10   100 ms   105 ms    99 ms  sea-b1-link.telia.net http://213.155.134.209
 11   107 ms   108 ms   107 ms  amazon-ic-302508-sea-b1.c.telia.net [62.115.34.1
02]
 12   115 ms   116 ms   116 ms  205.251.225.182
 13   114 ms   114 ms   114 ms  205.251.232.77
 14   116 ms   115 ms   122 ms  205.251.232.211
 15   117 ms   116 ms   117 ms  54.239.48.187
 16     *        *        *     Request timed out.
 17     *        *        *     Request timed out.
 18     *        *        *     Request timed out.
 19     *        *        *     Request timed out.
 20     *        *        *     Request timed out.
 21     *        *        *     Request timed out.
 22     *        *        *     Request timed out.
 23     *        *        *     Request timed out.
 24     *        *        *     Request timed out.
 25     *        *        *     Request timed out.
 26     *        *        *     Request timed out.
 27     *        *        *     Request timed out.
 28     *        *        *     Request timed out.
 29     *        *        *     Request timed out.
 30     *        *        *     Request timed out.

Trace complete.

54.239.48.187 
Source: whois.arin.netIP Address: 54.239.48.187 (United States)Name: AMAZON-3ZHandle: NET-54-239-0-0-1Registration Date: 7/30/12Range: 54.239.0.0-54.239.127.255Org: Amazon.com, Inc.Org Handle: AMAZON-4Address: 1918 8th Ave
City: SEATTLEState/Province: WAPostal Code: 98101-1244Country: UNITED STATES

Is anyone else having issues?"
Amazon EC2	"Instance stuck in Stopping State
We have a production instance (i-187f6576) that is stuck in a stopping state.  This is on hardware that has failed and we received email notice of this failure.  I'm concerned about ensuring the integrity of this volume since there is data that has not been backed up.

Steps I've taken:
1)  Tried stopping this instance.  When I began the stopping process, the console said it couldn't communicate with this instance.
2)  Taken a snapshot of the volume as the instance has been in this stopping state.

Not being that familiar with AWS, unsure of my next steps.  Should I a) force detach the volume and start a new instance from the AMI? or b) create a new volume from the snapshot and re-assign our elastic IP to this new instance?  or c) Should someone from Amazon stop this instance and I can create a new instance based on the AMI with the current volume.

Thank you for any help."
Amazon EC2	"Re: Instance stuck in Stopping State
Hello,

The instance should now be stopped. 

Rodney"
Amazon EC2	"Instance i-6e4d9cbd Stuck in Stopping State
Instance i-6e4d9cbd in N.Virginia failed both reachability checks suddenly 2 days ago.  Was recommended to stop and start the instance, which is now stuck stopping.

Can somebody please take a look into this?

Thanks,

Matt"
Amazon EC2	"Re: Instance i-6e4d9cbd Stuck in Stopping State
Hi Matt,

Your EC2 instance has successfully stopped. Your EC2 instance was residing on a underlying-host that was experiencing an issue. You may start your instance back up again so it can migrate over to a new healthy underlying-host.

Regards,
Mohsin"
Amazon EC2	"Re: Instance i-6e4d9cbd Stuck in Stopping State
Thanks!!!"
Amazon EC2	"Re: Instance i-6e4d9cbd Stuck in Stopping State
You're most welcome!

Rodney"
Amazon EC2	"Access Instance SSH - Permission denied (publickey)
Hello! I am unable to access my instance via ssh. I'm using the correct user (ec2-user), but the debug ssh get the message ""Permission denied (publickey) follows data.:

Instance: i-2a61c5e2
Detailed log: 


ssh -i KEY.pem -vvv ec2-user@ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.1e-fips 11 Feb 2013
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 56: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com [XX.XX.XXX.XXX] port 22.
debug1: Connection established.
debug1: permanently_set_uid: 0/0
debug3: Incorrect RSA1 identifier
debug3: Could not load ""KEY.pem"" as a RSA1 public key
debug1: identity file KEY.pem type -1
debug1: identity file KEY.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.2
debug1: match: OpenSSH_6.2 pat OpenSSH* compat 0x04000000
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host ""ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com"" from file ""/root/.ssh/known_hosts""
debug3: load_hostkeys: found key type ECDSA in file /root/.ssh/known_hosts:3
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-ed25519,ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: kex_parse_kexinit: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: mac_setup: setup hmac-md5-etm@openssh.com
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug2: mac_setup: setup hmac-md5-etm@openssh.com
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: kex: ecdh-sha2-nistp256 need=16 dh_need=16
debug1: kex: ecdh-sha2-nistp256 need=16 dh_need=16
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA 64:99:dc:cf:26:46:fe:fe:73:18:e4:76:14:af:d2:48
debug3: load_hostkeys: loading entries for host ""ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com"" from file ""/root/.ssh/known_hosts""
debug3: load_hostkeys: found key type ECDSA in file /root/.ssh/known_hosts:3
debug3: load_hostkeys: loaded 1 keys
debug3: load_hostkeys: loading entries for host ""XX.XX.XXX.XXX"" from file ""/root/.ssh/known_hosts""
debug3: load_hostkeys: found key type ECDSA in file /root/.ssh/known_hosts:3
debug3: load_hostkeys: loaded 1 keys
debug1: Host 'ec2-XX-XX-XXX-XXX.us-west-2.compute.amazonaws.com' is known and matches the ECDSA host key.
debug1: Found key in /root/.ssh/known_hosts:3
debug1: ssh_ecdsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: root@host (0x7f41294e51f0),
debug2: key: KEY.pem ((nil)), explicit
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: root@host
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug1: Trying private key: KEY.pem
debug1: key_parse_private2: missing begin marker
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey: RSA 6e:13:86:44:c6:36:af:e2:be:ce:76:f8:51:8c:90:0f
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug2: we did not send a packet, disable method
debug1: No more authentication methods to try.
Permission denied (publickey).
Â 


Can anyone help me?"
Amazon EC2	"Re: Access Instance SSH - Permission denied (publickey)
Hi  tempotelecom,

A couple of things you could try.

1.) Confirm the permissions on the KEY.pem file are 400
2.) Looks like it's attempting to load a key from a known_hosts file, you could attempt to delete the key from the known_hosts file and try again.

Regards,

Rodney"
Amazon EC2	"Re: Access Instance SSH - Permission denied (publickey)
Hi Rodney;

Thanks for the replies. I realized both items and the problem persists. Do you have any more suggestions?"
Amazon EC2	"Re: Access Instance SSH - Permission denied (publickey)
Hi  tempotelecom,

I would double check the permissions on /home/ec2-user/.ssh and also the authorized_keys file, make sure they are readable by the user attempting to log in. 

If you don't have another way to log into the instance you'll need to stop said instance and detach the root volume and attach it as a secondary device to another working instance.

When you stop a running instance, the following happens:

â€¢ The instance performs a normal shutdown and stops running (the status goes to stopping and then stopped)
â€¢ The instance retains its instance ID
â€¢ Any Amazon EBS volumes remain attached and the data persists
â€¢ Any instance store volumes don't persist
â€¢ The instance won't keep its public and private IP addresses. The exception is that instances launched in a VPC keep the same IP address when stopped and restarted.
â€¢ Any Elastic IP address mapped to the instance is unmapped. For Amazon VPC instances, the Elastic IP address remains associated with the stopped instance. When you restart the instance, the Elastic IP address is active. While the Elastic IP address is associated with the stopped instance, you're charged for the Elastic IP address.

Additional doc which may prove helpful or insightful:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html

https://aws.amazon.com/articles/5213606968661598

Hope the above helps.

Rodney"
Amazon EC2	"What I need to do for my MsSQL Instance to have replication?
I created an instance with SQL. I need replication running how do I do?
thanks

V."
Amazon EC2	"Error Configuring Mongo DB - command on AWS guide doesn't work
Hey guys,
I'm running the commands on this guide:
http://s3.amazonaws.com/info-mongodb-com/AWS_NoSQL_MongoDB.pdf

but this command doesn't work:
sh â€“c â€œecho â€˜/dev/sdf /data/db auto noatime,noexec,nodiratime 0 0â€™ >>
/etc/fstabâ€œ

The prompt returns: syntax error near unexpected token `newline'

If tha's not how this command should be runned, i'm sorry, i don't underst a lot about linux cmd and franquily i just hate having to do this.
And the AWS guide should be more clear then, because thats exactly how the command line is described there

If anyone has the answer i appreciate it, thanks"
Amazon EC2	"Re: Error Configuring Mongo DB - command on AWS guide doesn't work
I was able to run it by removing single quotes

This should be the right command 
sh â€“c ""echo /dev/sdf /data/db auto noatime,noexec,nodiratime 0 0 >>
/etc/fstab"""
Amazon EC2	"Troubleshooting CPU Spikes / Non-Responsive T2.Small Instance
I have a T2.Small instance hosting a client web site utilizing SQL Server Express on the same instance. 
Our site usually has around 30-40 unique users login daily so it is not super high traffic. 

About once or twice a day we see a CPU spike to 100% for a few minutes and the site/SQL becomes completely unresponsive.  The main side effect we see are SQL Timeouts with clients attempting to Login or perform various tasks on the web site. 

At this point I am trying to understand what is occurring with the site. I am running a SQL Trace today to try and identify if there are specific SQL queries/procs etc that is bogging down or locking a table in SQL but I am not convinced SQL is the issue. 

We were running a T2.Micro instance and saw the same behavior so I upgraded the T2.Small when we saw the CPU Spikes in CloudWatch. With T2.Small, we are seeing the same behavior. 

Does a T2.Small instance ""throttle"" CPU if too many CPU Units are used up in a given period?   Could there be other factors hitting my instance I am not considering? Any advice would be appreciated. 

The instance having problems is the single instance in the N. Virginia region.

Edited by: MHH311 on Feb 18, 2015 6:13 AM"
Amazon EC2	"Re: Troubleshooting CPU Spikes / Non-Responsive T2.Small Instance
Also wanted to add... during these spikes, the CPUCreditUsage in CloudWatch shows a peak spike at around 5.  (which doesnt seem that high since I should be accruing 12 Credits / Hour with T2.Small)

During the spike, The CPUCreditBalance dropped from 215 to 10 (yes ten) over a few minute period. 

I am not entirely sure how to credit that CPUCreditBalance chart.... but that seems like a HUGE dip. Nothing, at this point, I can account for with my web site."
Amazon EC2	"Re: Troubleshooting CPU Spikes / Non-Responsive T2.Small Instance
I have the same issue with my M3.Medium instance. Did you find the root cause on the CPU Spikes?"
Amazon EC2	"(solved) 1/2 checks Ubuntu trusty 14.04 LTE (ami-3d50120d)
Running Ubuntu 14.04 (ami-3d50120d), after upgrading packages which include the kernel, issued a shutdown -r now command and unable to reconnect back to the instance through ssh or web

I look through system log and it was saying about network unreachable, I have disassociate elastic ip, reassociate, reboot, stop and even disattaching the volume and it all fails

Server is on us-west-2c. Can somebody help me how to get this working again?

Instance id is i-b8f6c4b7

Below is the system log
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-52-generic (buildd@comet) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #86-Ubuntu SMP Mon May 4 04:32:59 UTC 2015 (Ubuntu 3.13.0-52.86-generic 3.13.11-ckt18)
http://    0.000000 Command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-52-generic root=UUID=d36a9e2f-dae9-477f-8aea-29f1bdd1c04e ro console=tty1 console=ttyS0
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x000000007fffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x80000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x7fe00000-0x7fffffff
http://    0.000000 init_memory_mapping: mem 0x7c000000-0x7fdfffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x7bffffff
http://    0.000000 RAMDISK: mem 0x3712e000-0x3788efff
http://    0.000000 ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f710 00005C (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 000040
http://    0.000000 ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SRAT 00000000fc00f4b0 000170 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f620 000038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f660 000028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f690 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f6d0 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 SRAT: PXM 0 -> APIC 0x00 -> Node 0
http://    0.000000 SRAT: Node 0 PXM 0 mem 0x00000000-0x7fffffff
http://    0.000000 NUMA: Warning: invalid memblk node 0 mem 0x100000000-0x7fffffff
http://    0.000000 SRAT: Node 0 PXM 0 mem 0x100000000-0x7fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x7fffffff
http://    0.000000   NODE_DATA mem 0x7fffb000-0x7fffffff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   empty
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0x7fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 14 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x0009e000-0x0009ffff
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000dffff
http://    0.000000 PM: Registered nosave memory: mem 0x000e0000-0x000fffff
http://    0.000000 e820: mem 0x80000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff88007fc00000 s81536 r8192 d20864 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 515976
http://    0.000000 Policy zone: DMA32
http://    0.000000 Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-52-generic root=UUID=d36a9e2f-dae9-477f-8aea-29f1bdd1c04e ro console=tty1 console=ttyS0
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 Checking aperture...
http://    0.000000 No AGP bridge found
http://    0.000000 Memory: 2038168K/2096756K available (7389K kernel code, 1145K rwdata, 3408K rodata, 1336K init, 1444K bss, 58588K reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	RCU dyntick-idle grace-period acceleration is enabled.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
http://    0.000000 	Offload RCU callbacks from all CPUs
http://    0.000000 	Offload RCU callbacks from CPUs: 0-14.
http://    0.000000 NR_IRQS:16640 nr_irqs:1208 16
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console tty1 enabled
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 8388608 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2500.064 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 5000.12 BogoMIPS (lpj=10000256)
http://    0.012005 pid_max: default: 32768 minimum: 301
http://    0.014602 Security Framework initialized
http://    0.016024 AppArmor: AppArmor initialized
http://    0.018405 Yama: becoming mindful.
http://    0.020158 Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes)
http://    0.024439 Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes)
http://    0.028206 Mount-cache hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.032009 Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.036179 Initializing cgroup subsys memory
http://    0.040010 Initializing cgroup subsys devices
http://    0.042458 Initializing cgroup subsys freezer
http://    0.044006 Initializing cgroup subsys blkio
http://    0.046445 Initializing cgroup subsys perf_event
http://    0.048005 Initializing cgroup subsys hugetlb
http://    0.052062 CPU: Physical Processor ID: 0
http://    0.056233 mce: CPU supports 2 MCE banks
http://    0.058602 Last level iTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.058602 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0
http://    0.058602 tlb_flushall_shift: 6
http://    0.083521 ACPI: Core revision 20131115
http://    0.088843 ACPI: All ACPI Tables successfully acquired
http://    0.092005 ftrace: allocating 28576 entries in 112 pages
http://    0.125329 Switched APIC routing to physical flat.
http://    0.130224 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.174330 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.180022 installing Xen timer for CPU 0
http://    0.182670 cpu 0 spinlock event irq 69
http://    0.187714 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.193422 x86: Booted up 1 node, 1 CPUs
http://    0.195802 smpboot: Total of 1 processors activated (5000.12 BogoMIPS)
http://    0.196400 NMI watchdog: disabled (cpu0): hardware events not enabled
http://    0.200098 devtmpfs: initialized
http://    0.204089 EVM: security.selinux
http://    0.206212 EVM: security.SMACK64
http://    0.208004 EVM: security.ima
http://    0.209974 EVM: security.capability
http://    0.212710 pinctrl core: initialized pinctrl subsystem
http://    0.215707 regulator-dummy: no parameters
http://    0.216044 RTC time:  8:46:19, date: 05/07/15
http://    0.218849 NET: Registered protocol family 16
http://    0.220146 cpuidle: using governor ladder
http://    0.222710 cpuidle: using governor menu
http://    0.224036 ACPI: bus type PCI registered
http://    0.226496 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.228245 PCI: Using configuration type 1 for base access
http://    0.231871 bio: create slab <bio-0> at 0
http://    0.232145 ACPI: Added _OSI(Module Device)
http://    0.234576 ACPI: Added _OSI(Processor Device)
http://    0.236007 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.239051 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.243112 ACPI: Interpreter enabled
http://    0.244008 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20131115/hwxface-580)
http://    0.249576 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20131115/hwxface-580)
http://    0.253646 ACPI: (supports S0 S3 S4 S5)
http://    0.256004 ACPI: Using IOAPIC for interrupt routing
http://    0.258808 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.277662 ACPI: No dock devices found.
http://    0.314205 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.316010 acpi PNP0A03:00: _OSC: OS supports ASPM ClockPM Segments MSI
http://    0.319855 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.320075 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.324680 acpiphp: Slot [0] registered
http://    0.327956 acpiphp: Slot [3] registered
http://    0.328287 acpiphp: Slot [4] registered
http://    0.331253 acpiphp: Slot [5] registered
http://    0.332281 acpiphp: Slot [6] registered
http://    0.335155 acpiphp: Slot [7] registered
http://    0.336271 acpiphp: Slot [8] registered
http://    0.338831 acpiphp: Slot [9] registered
http://    0.340264 acpiphp: Slot 10 registered
http://    0.342920 acpiphp: Slot 11 registered
http://    0.344258 acpiphp: Slot 12 registered
http://    0.346875 acpiphp: Slot 13 registered
http://    0.348250 acpiphp: Slot 14 registered
http://    0.350914 acpiphp: Slot 15 registered
http://    0.352252 acpiphp: Slot 16 registered
http://    0.354888 acpiphp: Slot 17 registered
http://    0.356258 acpiphp: Slot 18 registered
http://    0.359014 acpiphp: Slot 19 registered
http://    0.360252 acpiphp: Slot 20 registered
http://    0.362939 acpiphp: Slot 21 registered
http://    0.364260 acpiphp: Slot 22 registered
http://    0.366995 acpiphp: Slot 23 registered
http://    0.368244 acpiphp: Slot 24 registered
http://    0.370933 acpiphp: Slot 25 registered
http://    0.372257 acpiphp: Slot 26 registered
http://    0.374894 acpiphp: Slot 27 registered
http://    0.376247 acpiphp: Slot 28 registered
http://    0.378907 acpiphp: Slot 29 registered
http://    0.380246 acpiphp: Slot 30 registered
http://    0.382869 acpiphp: Slot 31 registered
http://    0.384259 PCI host bridge to bus 0000:00
http://    0.386842 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.388006 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.391528 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.392007 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.395994 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.401102 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.401102 * this clock source is slow. Consider trying other clock sources
http://    0.404995 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.413240 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.417783 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.422335 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.426780 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.446308 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.448099 xen:balloon: Initialising balloon driver
http://    0.452039 xen_balloon: Initialising balloon driver
http://    0.456102 init_memory_mapping: mem 0x80000000-0x87ffffff
http://    0.460086 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.463381 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.464004 vgaarb: loaded
http://    0.465774 vgaarb: bridge control possible 0000:00:02.0
http://    0.468169 SCSI subsystem initialized
http://    0.470474 ACPI: bus type USB registered
http://    0.472024 usbcore: registered new interface driver usbfs
http://    0.474981 usbcore: registered new interface driver hub
http://    0.476024 usbcore: registered new device driver usb
http://    0.478999 PCI: Using ACPI for IRQ routing
http://    0.480403 NetLabel: Initializing
http://    0.482547 NetLabel:  domain hash size = 128
http://    0.484004 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.486807 NetLabel:  unlabeled traffic allowed by default
http://    0.488059 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.491889 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.494304 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.499090 Switched to clocksource xen
http://    0.501926 AppArmor: AppArmor Filesystem Enabled
http://    0.504758 pnp: PnP ACPI init
http://    0.506802 ACPI: bus type PNP registered
http://    0.509372 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.513138 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.516299 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.519559 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.523214 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.526486 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.545337 pnp: PnP ACPI: found 11 devices
http://    0.547782 ACPI: bus type PNP unregistered
http://    0.555632 NET: Registered protocol family 2
http://    0.558605 TCP established hash table entries: 16384 (order: 5, 131072 bytes)
http://    0.562961 TCP bind hash table entries: 16384 (order: 6, 262144 bytes)
http://    0.566502 TCP: Hash tables configured (established 16384 bind 16384)
http://    0.570074 TCP: reno registered
http://    0.572212 UDP hash table entries: 1024 (order: 3, 32768 bytes)
http://    0.575485 UDP-Lite hash table entries: 1024 (order: 3, 32768 bytes)
http://    0.579027 NET: Registered protocol family 1
http://    0.581558 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.584712 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.588114 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.591678 Trying to unpack rootfs image as initramfs...
http://    0.700436 Freeing initrd memory: 7556K (ffff88003712e000 - ffff88003788f000)
http://    0.704859 microcode: CPU0 sig=0x306e4, pf=0x1, revision=0x417
http://    0.708233 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://    0.713088 Scanning for low memory corruption every 60 seconds
http://    0.716687 Initialise system trusted keyring
http://    0.719477 audit: initializing netlink socket (disabled)
http://    0.722543 type=2000 audit(1430988379.859:1): initialized
http://    0.747385 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.751600 zbud: loaded
http://    0.753516 VFS: Disk quotas dquot_6.5.2
http://    0.755868 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.759706 fuse init (API version 7.22)
http://    0.762133 msgmni has been set to 3995
http://    0.764625 Key type big_key registered
http://    0.767301 Key type asymmetric registered
http://    0.769792 Asymmetric key parser 'x509' registered
http://    0.772672 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://    0.777028 io scheduler noop registered
http://    0.779431 io scheduler deadline registered (default)
http://    0.782371 io scheduler cfq registered
http://    0.784851 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.787955 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://    0.791574 ipmi message handler version 39.2
http://    0.794243 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
http://    0.798591 ACPI: Power Button PWRF
http://    0.800921 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
http://    0.805355 ACPI: Sleep Button SLPF
http://    0.807970 GHES: HEST is not enabled!
http://    0.810597 xen:grant_table: Grant tables using version 1 layout
http://    0.813961 Grant table initialized
http://    0.816507 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://    0.847059 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.852164 Linux agpgart interface v0.103
http://    0.855408 brd: module loaded
http://    0.857870 loop: module loaded
http://    0.866201 scsi0 : ata_piix
http://    0.868192 scsi1 : ata_piix
http://    0.870115 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    0.873835 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    0.879029 libphy: Fixed MDIO Bus: probed
http://    0.882043 tun: Universal TUN/TAP device driver, 1.6
http://    0.885458 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://    0.889776 PPP generic driver version 2.4.2
http://    0.892504 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.896725 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    0.902934 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://    0.906486 ehci-pci: EHCI PCI platform driver
http://    0.909906 ehci-platform: EHCI generic platform driver
http://    0.912930 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://    0.916477 ohci-pci: OHCI PCI platform driver
http://    0.919016 ohci-platform: OHCI generic platform driver
http://    0.922663 uhci_hcd: USB Universal Host Controller Interface driver
http://    0.926082  xvda: xvda1
http://    0.928160 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    0.934620 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    0.937956 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    0.942210 mousedev: PS/2 mouse device common for all mice
http://    0.947012 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
http://    0.952466 rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
http://    0.957701 rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
http://    0.962850 device-mapper: uevent: version 1.0.3
http://    0.966982 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://    0.973226 ledtrig-cpu: registered to indicate activity on CPUs
http://    0.978277 TCP: cubic registered
http://    0.982138 NET: Registered protocol family 10
http://    0.985128 NET: Registered protocol family 17
http://    0.988614 Key type dns_resolver registered
http://    0.991374 Loading compiled-in X.509 certificates
http://    0.994867 Loaded X.509 cert 'Magrathea: Glacier signing key: 1981bc916ffc00599231ec5630e666e0256fd6f1'
http://    1.000608 registered taskstats version 1
http://    1.004689 Key type trusted registered
http://    1.009166 Key type encrypted registered
http://    1.011617 AppArmor: AppArmor sha1 policy hashing enabled
http://    1.014648 IMA: No TPM chip found, activating TPM-bypass!
http://    1.017959 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.021451 regulator-dummy: disabling
http://    1.023744   Magic number: 15:600:775
http://    1.026007 misc psaux: hash matches
http://    1.028307 misc fuse: hash matches
http://    1.030554 rtc_cmos 00:04: setting system clock to 2015-05-07 08:46:20 UTC (1430988380)
http://    1.036004 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://    1.040068 EDD information not available.
http://    1.044670 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://    1.050052 Write protecting the kernel read-only data: 12288k
http://    1.055744 Freeing unused kernel memory: 792K (ffff88000173a000 - ffff880001800000)
http://    1.062346 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://    1.080192 systemd-udevd127: starting version 204
http://    1.117803 FDC 0 is a S82078B
http://    1.704163 tsc: Refined TSC clocksource calibration: 2500.001 MHz
http://    2.147829 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
Begin: Loading essential drivers ... done.

Begin: Running /scripts/init-premount ... done.

Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.

Begin: Running /scripts/local-premount ... done.

http://    2.621496 EXT4-fs (xvda1): INFO: recovery required on readonly filesystem
http://    2.626234 EXT4-fs (xvda1): write access will be enabled during recovery
http://    2.902025 EXT4-fs (xvda1): recovery complete
http://    2.905744 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.

done.

Begin: Running /scripts/init-bottom ... done.

http://    3.042958 random: init urandom read with 65 bits of entropy available
 * Starting Mount filesystems on boot[74G OK 

 * Starting Populate /dev filesystem[74G OK 

 * Starting Populate and link to /run filesystem[74G OK 

 * Stopping Populate /dev filesystem[74G OK 
http://    3.284360 EXT4-fs (xvda1): warning: checktime reached, running e2fsck is recommended

 * Stopping Populate and link to /run filesystem[74G OK 

 * Stopping Track if upstart is running in a container[74G OK 

http://    3.307586 EXT4-fs (xvda1): re-mounted. Opts: discard
 * Starting Signal sysvinit that the rootfs is mounted[74G OK 

 * Starting Clean /tmp directory[74G OK 

 * Stopping Clean /tmp directory[74G OK 

Cloud-init v. 0.7.5 running 'init-local' at Thu, 07 May 2015 08:46:23 +0000. Up 3.80 seconds.

cloud-init-nonethttp://4.04: waiting 10 seconds for network device

 * Starting Initialize or finalize resolvconf[74G OK 

 * Starting set console keymap[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 

 * Starting Bridge udev events into upstart[74G OK 

 * Starting Signal sysvinit that remote filesystems are mounted[74G OK 

 * Starting device node and kernel event manager[74G OK 

 * Starting load modules from /etc/modules[74G OK 

 * Starting cold plug devices[74G OK 

 * Starting log initial device creation[74G OK 

 * Stopping load modules from /etc/modules[74G OK 

 * Stopping set console keymap[74G OK 

 * Starting configure network device security[74G OK 

 * Starting Uncomplicated firewall[74G OK 

 * Starting configure network device[74G[[31mfail39;49m

 * Stopping configure network device security[74G OK 

 * Starting configure network device security[74G OK 

 * Starting configure network device[74G[[31mfail39;49m

 * Starting Mount network filesystems[74G OK 

 * Stopping configure network device security[74G OK 

 * Stopping Mount network filesystems[74G OK 

 * Starting Bridge socket events into upstart[74G OK 

 * Stopping cold plug devices[74G OK 

 * Stopping log initial device creation[74G OK 

 * Starting enable remaining boot-time encrypted block devices[74G OK 

cloud-init-nonethttp://14.05: waiting 120 seconds for network device

cloud-init-nonethttp://134.05: gave up waiting for a network device.

Cloud-init v. 0.7.5 running 'init' at Thu, 07 May 2015 08:48:33 +0000. Up 134.20 seconds.

ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 0a:dc:df:18:ec:61 |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2015-05-07 08:48:33,852 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:34,877 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:35,880 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:36,882 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:37,885 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:38,888 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:40,906 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:42,910 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:44,914 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:46,918 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:48,922 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:51,926 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:54,931 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:48:57,936 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:49:00,941 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:49:03,945 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-05-07 08:49:07,951 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Edited by: andre tanoto on May 7, 2015 2:15 AM

Edited by: andre tanoto on May 7, 2015 9:41 AM"
Amazon EC2	"Re: (solved) 1/2 checks Ubuntu trusty 14.04 LTE (ami-3d50120d)
Hello,

I have taken a look at instance ""i-b8f6c4b7"" and it seems to be running in a healthy state. Are you still seeing issues on your end?

Best Regards, 

Ahmed H."
Amazon EC2	"Re: (solved) 1/2 checks Ubuntu trusty 14.04 LTE (ami-3d50120d)
What solved this issue? Having the same issue right now"
Amazon EC2	"EC2 and php sdk /.aws/credentials open_basedir restriction warning
On our EC2 I installed the php sdk 3.2 using composer. I then created the credentials /.aws/credentials in my home directory. When I run ONLY this code to create a client I get the Warning below. I have even placed the /home/ directory in the open_basedir function, and I still get this. When I run other code to do something with the client, this message is not displayed or surrpressed and everything functions correctly. I am not understanding why this keeps displaying. Any help is greatly appreciated.

require 'vendor/autoload.php';

use Aws\S3\S3Client;
use Aws\S3\Exception\S3Exception;

$client = new Aws\S3\S3Client([
    		'version' => 'latest',
    		'region'  => 'us-east-1'
			]);


Warning: is_readable(): open_basedir restriction in effect. File(/.aws/credentials) is not within the allowed path(s): (/var/www/vhost/www.myexample.com/:/home/:/tmp/) in /var/www/vhost/www.myexample.com/httpdocs/vendor/aws/aws-sdk-php/src/Credentials/CredentialProvider.php on line 212"
Amazon EC2	"Re: EC2 and php sdk /.aws/credentials open_basedir restriction warning
On a linux ec2 using the php sdk the CredentialProvider.php file is looking for getenv('HOME'). I set and env variable in apache using SetEnv HOME /home/myusername"
Amazon EC2	"Website performing poorly, getting errors in system log
I'm seeing all of these errors in our instance log. It doesn't seem good. What's going on? Reboots don't seem to help.

Failed to read device/vfb/0/backend-id.
Failed to read device/vkbd/0/backend-id.
Error ENOENT when reading the backend path device/vkbd/0/backend
Thread ""kbdfront"" exited.
Error ENOENT when reading the backend path device/vfb/0/backend

Press `ESC' to enter the menu... 4   
Press `ESC' to enter the menu... 3   
Press `ESC' to enter the menu... 2   
Press `ESC' to enter the menu... 1   
Press `ESC' to enter the menu... 0   [H[J  Booting 'CentOS (2.6.32-431.29.2.el6.x86_64)'


root (hd0,0)

 Filesystem type is ext2fs, partition type 0x83

kernel /boot/vmlinuz-2.6.32-431.29.2.el6.x86_64 ro root=UUID=c012ab27-66e9-4466

-b29c-af62b8b786cf rd_NO_LUKS rd_NO_LVM LANG=en_US.UTF-8 rd_NO_MD quiet SYSFONT

=latarcyrheb-sun16 rhgb crashkernel=auto  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM

initrd /boot/initramfs-2.6.32-431.29.2.el6.x86_64.img


close blk: backend at /local/domain/0/backend/vbd/5895/2048
close blk: backend at /local/domain/0/backend/vbd/5895/2128
PCI: Fatal: No config space access function found
ipmi_si: Could not set up I/O space
ipmi_si: Could not set up I/O space
ipmi_si: Could not set up I/O space

CentOS release 6.5 (Final)
Kernel 2.6.32-431.29.2.el6.x86_64 on an x86_64

ip-10-145-179-6.ec2.internal login:"
Amazon EC2	"How to down load the ppk in AWS EC2
I have downloaded keypair.pem file from Launch Instance here there is no option for download the .ppk file. keypair.pem its not working from Putty. please assist to me how to download the keypair.ppk."
Amazon EC2	"Re: How to down load the ppk in AWS EC2
Puttygen is your friend."
Amazon EC2	"Amazon EC2 got crazy in creating new instance in every regions!
Hey,

Starting from last night, AWS or my account got hacked! Each regions, there are many new instance got created, when I was trying to terminate them, some instances are even enabled termination protection, and in some regions, even I removed the instance, there will be some new instance got created automatically! I have submitted a ticket to AWS, but this is just too crazy!"
Amazon EC2	"Re: Amazon EC2 got crazy in creating new instance in every regions!
(1) Get a ticket raised as a billing / hack issue

(2) Change your password and get MFA enabled

(3) Get deleting."
Amazon EC2	"Elastic IPs unreachable via UDP (from some hosts)
Hello

I have a few EC2 instances which are DNS servers. Some of them have been unable to receive UDP traffic since at least yesterday when it comes from our recursive DNS servers. Here's an example:

$ host  destaqpao.com.br nsb1.k8.com.br
;; connection timed out; no servers could be reached

With TCP, it works:

$ host -T destaqpao.com.br nsb1.k8.com.br
Using domain server:
Name: nsb1.k8.com.br
Address: 177.71.180.90#53
Aliases: 

destaqpao.com.br has address 54.232.113.81
destaqpao.com.br has address 46.137.243.60
destaqpao.com.br has address 177.71.180.68
destaqpao.com.br has address 54.241.33.223
destaqpao.com.br has address 54.83.41.193
destaqpao.com.br has address 54.228.191.94
destaqpao.com.br mail is handled by 10 smtptin1.f1.k8.com.br.

Other DNS servers on EC2 also work:

$ host destaqpao.com.br nsb2.k8.com.br
Using domain server:
Name: nsb2.k8.com.br
Address: 184.72.54.83#53
Aliases: 

destaqpao.com.br has address 54.228.191.94
destaqpao.com.br has address 54.232.113.81
destaqpao.com.br has address 54.241.33.223
destaqpao.com.br has address 177.71.180.68
destaqpao.com.br has address 46.137.243.60
destaqpao.com.br has address 54.83.41.193
destaqpao.com.br mail is handled by 10 smtptin1.f1.k8.com.br.

All DNS servers are on security groups that allow port 53 inbound via UDP and TCP.

Can you please check if there's any UDP block in place for the following elastic IPs?

177.71.180.90 (i-c7d2ff24)
184.73.203.216 (i-940a39ec)
184.73.232.169 (i-70716d9c)
204.236.219.59 (i-bf485553)

There are the IPs we're unable to reach via UDP. All but the first are in us-east-1. The first instance is in sa-east-1.

Here's a traceroute showing that blocking occurs inside amazon:

$  traceroute --udp --port=53 nsb1.k8.com.br
traceroute to nsb1.k8.com.br (177.71.180.90), 30 hops max, 60 byte packets
 1  * * *
 2  201.77.242.66 (201.77.242.66)  0.623 ms  0.694 ms  0.923 ms
 3  200-147-28-129.static.uol.com.br (200.147.28.129)  0.573 ms  0.572 ms  0.564 ms
 4  200-147-28-162.static.uol.com.br (200.147.28.162)  0.884 ms 200-147-29-145.static.uol.com.br (200.147.29.145)  1.350 ms  1.348 ms
 5  200-147-26-115.static.uol.com.br (200.147.26.115)  1.343 ms  1.330 ms  1.066 ms
 6  46.252.40.189.isp.timbrasil.com.br (189.40.252.46)  5.347 ms  4.879 ms  4.807 ms
 7  149.3.181.17 (149.3.181.17)  2.671 ms  2.654 ms  2.384 ms
 8  149.3.181.81 (149.3.181.81)  1.932 ms xe5-2-0-10G.ar4.GRU1.gblx.net (208.51.134.117)  2.122 ms  1.821 ms
 9  amazon-com.xe-5-2-1.ar4.gru1.gblx.net (64.214.62.142)  2.337 ms  2.737 ms  2.326 ms
10  177.72.240.181 (177.72.240.181)  4.697 ms  4.978 ms  4.847 ms
11  177.72.240.193 (177.72.240.193)  6.055 ms  6.183 ms  5.962 ms
12  * * *
13  * * *
14  * * *

Edited by: michelmachado on Jul 16, 2015 6:41 AM

Edited by: michelmachado on Jul 16, 2015 6:54 AM"
Amazon EC2	"Re: Elastic IPs unreachable via UDP (from some hosts)
Bump"
Amazon EC2	"Transfer rate decreasing
I am transferring data from a New York datacenter to AWS-Oregon (instanceid: i-e4a69512).
At one point, the transfer rate was 2MB/s from NY to Oregon, but this rate has dropped to 1.5MB/s to 1MB/s and sometimes 100-200KB/s range.

The servers involved are windows server 2012 (NY) and Windows 2012 R2 (AWS). 
cygwin is used in transferring the data over ssh.

Speed test from NY to Oregon shows upload speed of 25.47Mbps (3MB/s). Is there a reason that I am not getting the fill bandwidth? Also, I observed that the ""connection was reset by peer"" message which killed the transfer.

Also, here is a trace route from NY to AWS-Oregon:

Tracing route to ec2-52-25-198-39.us-west-2.compute.amazonaws.com http://52.25.198.39
over a maximum of 30 hops:

  1    <1 ms    <1 ms    <1 ms  FS01.PRD.DOM http://172.16.20.20 
  2     2 ms     2 ms     1 ms  199-223-255-35.static.as40244.net http://199.223.255.35 
  3    <1 ms    <1 ms     1 ms  xe-0-0-0.edge1.ny01.as40244.net http://66.206.33.2 
  4     1 ms     1 ms     1 ms  te0-4-0-3.ccr22.alb02.atlas.cogentco.com http://38.104.52.89 
  5     5 ms     4 ms     4 ms  be2107.ccr42.jfk02.atlas.cogentco.com http://154.54.3.93 
  6     4 ms     4 ms     4 ms  be2325.ccr21.jfk04.atlas.cogentco.com http://154.54.47.30 
  7     4 ms     5 ms     4 ms  qwest.jfk04.atlas.cogentco.com http://154.54.10.50 
  8     *        *        *     Request timed out.
  9    88 ms    87 ms    87 ms  65-122-235-178.dia.static.qwest.net http://65.122.235.178 
 10    87 ms    84 ms    97 ms  52.95.54.148 
 11    80 ms    80 ms    85 ms  52.95.54.165 
 12    78 ms    79 ms    78 ms  205.251.232.107 
 13    80 ms    80 ms    79 ms  205.251.232.217 
 14    80 ms    80 ms    80 ms  54.239.48.185 
 15     *        *        *     Request timed out.
16     *        *        *     Request timed out.
17     *        *        *     Request timed out.
18    83 ms    84 ms    84 ms  ec2-52-25-198-39.us-west-2.compute.amazonaws.com http://52.25.198.39 

Another trace route from AWS-Oregon to Latham, NY:

Tracing route to 199-223-255-38.static.as40244.net http://199.223.255.38
over a maximum of 30 hops:

  1     *        *        *     Request timed out.
  2     *        *        *     Request timed out.
  3     *        *        *     Request timed out.
  4    <1 ms    <1 ms    <1 ms  100.64.16.21 
  5    <1 ms    <1 ms    <1 ms  205.251.232.223 
  6    <1 ms    <1 ms    <1 ms  205.251.232.216 
  7     5 ms    10 ms     9 ms  205.251.232.78 
  8     6 ms     6 ms     6 ms  205.251.225.167 
  9    25 ms    25 ms    24 ms  v202.core1.sea1.he.net http://216.218.230.133 
 10    92 ms    46 ms    38 ms  100ge10-2.core1.msp1.he.net http://184.105.223.194 
 11    47 ms    47 ms    47 ms  100ge7-1.core1.chi1.he.net http://184.105.223.177 
 12    63 ms    70 ms    63 ms  100ge5-2.core1.nyc4.he.net http://184.105.223.162 
 13    70 ms    70 ms    70 ms  tvc-albany-inc.10gigabitethernet5-4.core1.nyc4.he.net http://216.66.41.218 
 14    68 ms    68 ms    68 ms  66-109-52-33.tvc-ip.com http://66.109.52.33 
 15   190 ms    76 ms    76 ms  66-109-52-166.tvc-ip.com http://66.109.52.166 
 16    76 ms    76 ms    76 ms  xe-2-3-0.edge2.ny01.as40244.net http://72.0.130.18 
 17    78 ms    78 ms    78 ms  te-1-0-1.coreb.ny01.as40244.net http://66.206.33.12 
 18    78 ms    78 ms    78 ms  199-223-255-38.static.as40244.net http://199.223.255.38 

Is there something that I can do to get the full bandwidth? Our hosting datacenter does not throttle bandwidth.

Any help or suggestions is appreciated, as a we are on a deadline to move 460GB to AWS for a customer.

Thanks,
Alalla

Edited by: ValenBB on Jul 17, 2015 3:55 AM"
Amazon EC2	"install visual studio express 2013 on windows server 2008 R2 sp1 x64
hello, I have a virtual stance g2.8xlarge with windows server 2008 r2 sp1 x64. How do I install visual studio express 2013?
I downloaded from the site, but nothing works.  I do not know how to do. Any suggestions?"
Amazon EC2	"Re: install visual studio express 2013 on windows server 2008 R2 sp1 x64
Up!"
Amazon EC2	"how to change the reserved instance from t2.small to m3.medium?
Hi, 

We just purchased a t2.small reserved instance today but found out that we can not use it when we tried to change our current m3.medium instance to t2.small. We received a warning error (not supported configuration) when launching the t2.small instance. Also we found that we can not change the reserved instance type from t2.small to m3.medium either. It seems that we are stuck. Our question is that how can we change the reserved instance from t2.small to m3.medium so we can apply it to our current running instance?"
Amazon EC2	"Re: how to change the reserved instance from t2.small to m3.medium?
Billing/account support should be able to help. You can reach them through https://aws.amazon.com/contact-us/"
Amazon EC2	"Re: how to change the reserved instance from t2.small to m3.medium?
Hi Incloud,

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 1446054461 for further information and assistance.

Should you have any billing or account related queries in future, you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Best regards,

Kuda"
Amazon EC2	"Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Step 2: Choose an Instance Type = ""Free tier eligible"" but
Step 7: Review Instance Launch = ""Your instance configuration is not eligible for the free usage tier""

PLEASE HELP?"
Amazon EC2	"Re: Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Hi,

Your instance type maybe Free tier eligible, but your AMI that you have selected may not be? Where has the AMI come from?

Cheers,

Stooby..."
Amazon EC2	"Re: Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Hi Stooby... and all,

I have added two attachments that show the AMI that I am trying to use. It is from a friend's company. He expressed to me that the AMI was free for me to use.

I am guessing that when I LAUNCH the AMI... that the correct selections for the AMI are launched. Maybe the AMI will not launch on a T2.Micro?  But that seem weird.  Shouldn't it be AMI + EC2 = Free tier... Or can't Amazon calculate that?

Thanks"
Amazon EC2	"Re: Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Hi,

I have noticed you are using EBS as storage.  How big is the EBS Volume? If its larger than 30GB SSD or Magnetic volume then this will cost you as this breaches the 'free tier' limits.

Cheers,

Stooby..."
Amazon EC2	"Re: Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Stooby and all,

Thanks to Stooby, 

Yes... you are right the amount of storage requested by the AMI is over the free tier limit. Amazon AWS does no checking to tell where and overage might occur. In this case, the AMI is requesting (see attached) Root of 30 gp2 and the free tier limit is, ""Free tier eligible customers can get up to 30 GB of EBS General Purpose (SSD) or Magnetic storage."" 

I know this for sure because when I got the combination of EBS and Magnetic under 30 (I tried 15  and 15), then I did not get the ""Costs More Than Free Tier Message.""

Of course then I got another error, the AMI requires EBS of 40GiB... different problem, but now I get it! I can buy the extra storage and run the AMI or not run the AMI. Easy decision."
Amazon EC2	"Re: Step 2: Choose an Instance Type = ""Free tier eligible"" but Step 7: Review I
Hi,

No problem at all, I am glad it is finally resolved and you are able to deploy your instances! 

If you found any of my comments 'helpful' I would appreciate it if you could mark them as so.

Cheers,

Stooby..."
Amazon EC2	"Powershell Volumes script,send-mailmessage returns Amazon.EC2.Model.Volume
Hello,

Using AWS Powershell, When I run script manually I get the valid output with available volumes. 
When I include send-mailmessage I get Amazon.EC2.Model.Volume as the output within the email.

Any ideas ?

Set-AWSCredentials -StoredCredentials mycredentials
Set-DefaultAWSRegion us-west-2
Â 
Import-Module AWSPowerShell
Â 
$fromEmail = ""TestAccount@test.com""
$Recipients  = ""me@test.com""
$mailserver = ""mail.test.com""
Â 
#create filter to limit search on volumes only
$filter = New-Object amazon.EC2.Model.Filter
$filter.Name = ""resource-type""
$filter.Value = ""volume""
Â 
#create filter based on tag=RunningSchedule
$filterType = New-Object amazon.EC2.Model.Filter
$filterType.Name = ""status""
$filterType.Value = ""available""
Â 
#join the two filters together
$filter = @($filter,$filterType)
Â 
#retrieve the volumes based on the filter parameters
$volumes = Get-EC2Volume -Filter $filter
Â 
$body = ""The following Volumes are Availabe""
Â 
$body = $body + ""$volumes""
Â 
$subject = ""AWS-Available-Volumes""
Â 
send-mailmessage -from $fromEmail -to $Recipients -Subject $subject -body $body -smtpserver $mailserver"
Amazon EC2	"Re: Powershell Volumes script,send-mailmessage returns Amazon.EC2.Model.Volume
Ok I have made some progress, the only thing left is this returns only 1 Volume , the last volume counted. How can this be stored and complete list sent ? 

for ($i=0; $i -lt $myAvailableVolumes.Count; $i++){
  
  $output = $myAvailableVolumes[$i].VolumeId | out-string
  #Remove-EC2Volume $myAvailableVolumes[$i].VolumeId
  $counter++
 
  $body = ""The following Volumes are Available  ""
  $body = $body + $output"
Amazon EC2	"Re: Powershell Volumes script,send-mailmessage returns Amazon.EC2.Model.Volume
Got it"
Amazon EC2	"Volume Availability
I have an instance and volume in the same availability zone and the volume says it is attached to the instance within AWS Management Console.  However when I connect to the instance the volumes are not there.  Please help!"
Amazon EC2	"Re: Volume Availability
Hello,

Thank you for the post.

If you are attaching a newly created EBS volume, after you attach it to your instance, it is exposed as a block device. You can format the volume with any file system and then mount it. After you make the EBS volume available for use, you can access it in the same ways that you access any other volume. Any data written to this file system is written to the EBS volume and is transparent to applications using the device.

For more information about 'Making an Amazon EBS Volume Available for Use', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html#using-ebs-volume-windows

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"How to improve startup time instance?
Hi people!

I've several weeks, trying to find any solution for improve the startup time for each instance that I need to launch.

First; I tried to know the time trought bootchart, but I believe that not is real time. I tried fter see it with bootchart with VNC server and webmin. (Of course webmin, I believe not is the correct tool). And bootchart just gives us only the proccess of instance not extra packages.

Second; I thought, in to delete unnecessary packages, but reading several forums; this is a hard task; and means compilate again the kernel (pckages like bluetooth comes with the kernel); but knows the correct list to know which packages, is hard.

Third; when I tried to install VNC server/service, I can't used it fine. Someone could install it good?

Fourth; with xcfe4 I could to use sudo but with ubuntu-desktop no. Any idea?

Fifth: Is possible to do this? http://lwn.net/Articles/299483/

Thanks so much in advance.

Really I need help!"
Amazon EC2	"Re: How to improve startup time instance?
There's some overhead time that you, unfortunately, can't do much about.  Sort of like how your home PC sits around counting memory and doing BIOS things before finally hitting GRUB, there's a little bit of overhead while we're creating your machine, connecting all the devices to it and configuring it.  However, if you use EBS-backed AMIs, they will launch faster because we don't have to copy them anywhere, first.

Once the virtual machine starts, you're in the realm of the kernel.  A recompiled kernel that skips useless drivers can cut the launch time quite a bit.  If you don't want to recompile, you still might be able to disable a number of drivers using the command line arguments in grub.conf.

After that, there's the user processes.  Making boot processes run in parallel, and skipping useless ones can save you enormous amounts of time.  Turning off unused services helps.  

Unfortunately, since you can't watch the boot messages scrolling by, it is sort of difficult to see what is taking the time during boot and what is providing the most benefit.  If you have timestamps in the output of 'dmesg', that will help, although they're usually in 'seconds-since-boot' in the early phases, and unix-time for later.  

Some of our community AMIs have been doing a lot of work on minimizing boot times.  In particular, take a look at the Arch Linux AMI.  They've got a minimal system that boots really quickly."
Amazon EC2	"How to install keychain on Amazon Linux server?
I would like to install keychain on my ec2 Amazon Linux server, but I am uncertain about how to go about setting it up.  When I run ""yum install keychain"" from the command line, I get a message saying ""No package keychain available"".  I have read that on CentOS systems there is an RPMforge repository that might need to be added, but I don't know if this will also work for an Amazon Linux server.  Any help is greatly appreciated thank you!"
Amazon EC2	"To Slow to start
Good afternoon,

Of about three days here, my server is very slow to start.

I do change it instance type, to anyone, and send it to start. 
but he is taking longer than 5 minutes to start.

Before he did not take even one minute.

I am afraid of having future problems.

Could give please checked?

Tank you, instance ID: i-957d1380"
Amazon EC2	"network not responding on t2 medium instance
We have a domain name hosted at ec2 t2 medium instance which is an e commerce site.But its giving network out issues since morning because of which site pages are taking too long to load.

Can we have any valueable reason for this issue from your side.It will be great help.

Thanks"
Amazon EC2	"Re: network not responding on t2 medium instance
Hi,

Have you checked your CloudWatch metrics to see if these shed any light on your problem?

Cheers,

Stooby..."
Amazon EC2	"Re: network not responding on t2 medium instance
Hello,

Thank you for the post.

Looking at the t2.medium instance:  i-XXXXXX00, everything seems to be operating normally at the infrastructure level at this point in time. 

I also checked the response time for your website hosted on this instance using the following command and it seems to be responding quickly:
$curl -o /dev/null -s -w %{time_connect}:%{time_starttransfer}:%{time_total}n <your website>
0.189:0.351:0.351

From the above output, it seems that it only took 0.351 seconds for the website to respond. 
Could you please provide more information about the 'network out' issues to troubleshoot this further?

I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"Configuring Squirrel mail.
Hello All,

I have configured squirrel mail on my Amazon windows 2012 server. I able to send mails out to any Email IDs but I do not get Emails from external IDs (like gmail, yahoo etc.,). I have deployed the Squirrelmail in the WAMP server. Can someone help why I'm not getting Emails from external IDs and how do I fix it?


Thank you,
SP"
Amazon EC2	"Re: Configuring Squirrel mail.
An external mail server would look up your domain name in DNS for an MX record, then connect to the indicated server on port 25.  You will need to ensure that your public MX record is correct and that port 25 is allowed to reach your instance. Then, your instance will need to have a Mail Transfer Agent running that will accept those connections.  

I'm pretty sure Squirrel doesn't provide MTA functionality.

Their document about it explains the problem better than I can."
Amazon EC2	"Windows Server 2008 R2 License problems
Hi,

I activated an AMI with Amazon that has Windows Server R2 Datacenter and the problem is that after sometime it seems that the license expire but when I activated it, it charges me for the software included can you please help me with this problem. How can I get my license back.

Thanks,"
Amazon EC2	"AWS IAM SSL certificate -upload limit and Cost
hi ,
how much SSL certificates can be uploaded to the IAM? i came to konw that 10 SSL certificates only can be uploaded. What is the cost for Uploading more SSL certificates ?"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
please help on the above question."
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
looks like nobody answering !"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
The default limit is 20. You can request an increase in this limit. See the IAM documentation:

http://docs.aws.amazon.com/IAM/latest/UserGuide/limits.html"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
thanks man . Any cost to the SSL certificates if we need to upload more than 20 ?

Edited by: RajVTG on Jun 22, 2015 2:48 PM"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
Hi there RajVTG,

There are no extra costs to upload more certificates to IAM."
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
thanks for the info"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
how can i ask AWS to increase the IAM SSL certificates upload limit to 50 SSL certificates from the default limit ?"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
Hi ,
i have sent a request to increase the SSL certificate limit using the AWS Contact form .
refer:
http://docs.aws.amazon.com/IAM/latest/UserGuide/limits.html"
Amazon EC2	"Re: AWS IAM SSL certificate -upload limit and Cost
Anyone know how to identify unused IAM SSL Server Certificates to delete them to free up the space for new SSL certificates ?"
Amazon EC2	"Windows Server instance stops seeing Secondary IP's
I have a Windows Server 2012 instance in a failover cluster that has been running with 1 primary and 2 secondary IP addresses for several months. All of the sudden, the instance has stopped seeing these secondary IP's causing the cluster to fail. Has anyone else seen these issues? I have tried removing and re-adding them and defining them in the OS but neither has worked."
Amazon EC2	"Re: Windows Server instance stops seeing Secondary IP's
It seems the secondary IP visibility was not the issue, and the cluster was still working. The problem was that the EBS volume that was the destination mirror somehow had its reported size changed in Windows, causing the mirror to break. Recreated the volume and the cluster is back up and running."
Amazon EC2	"Unable to detach network interface. Permission denied error
I am trying to detach a network interface, eni-8b02daef via aws ec2 web console. However, when I try to do it, it says: You do not have permission to access the specified resource.

I don't have any users in IAM. Still it gives me permission denied error. What's the mistake I am doing?"
Amazon EC2	"Re: Unable to detach network interface. Permission denied error
Hello,

Thank you for posting.

I took a look at your account ending in: 8463 and I couldn't find the ENI: eni-8b02daef under this account.   

In general, you must first detach an elastic network interface from an instance before you can delete it. Deleting an elastic network interface releases all attributes associated with the interface and releases any private IP addresses or Elastic IP addresses to be used by another instance. Also, you cannot detach a primary network interface from an instance. Therefore, you cannot delete the primary network interface without terminating an instance. 

For more information about 'Deleting an Elastic Network Interface', please refer to this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#delete_eni

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Update ELB Access Log Format?
Is there a way to add data to the ELB access log?  It would greatly simplify our web analytics process by using ELB logs, however it lacks crucial data such as HTTP Referer and User-Agent."
Amazon EC2	"Re: Update ELB Access Log Format?
Hi,

Unfortunately is not possible to add custom data to the ELB Log. 
In order to submit a feature request, can you please specify all the fields that in your opinion would be great to have?

Regards,
Giorgio"
Amazon EC2	"Re: Update ELB Access Log Format?
According to this, those fields should be available.

https://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/access-log-collection.html?console_help=true"
Amazon EC2	"Re: Update ELB Access Log Format?
User-Agent is available, however HTTP Referrer is not.  

Is it possible to get HTTP Referrer in there as a feature request?"
Amazon EC2	"MongoDB QuickStart on AWS - Admin privileges
Hi,
I've used the template provided in the quickstart guide here and created a stack
Link: https://s3.amazonaws.com/quickstart-reference/mongodb/latest/doc/MongoDB_on_the_AWS_Cloud.pdf
I am able to ssh to the instance and get into mongo but how do I create new users since I don't have root permissions.
Is there a root account for the mongo process that is started on the stack?
Here's what I get when I try to create a user
> db.createUser({ user: ""myadmin"", pwd: ""1234"", roles: [""userAdminAnyDatabase""] })
2015-07-16T19:11:45.906+0000 E QUERY    Error: couldn't add user: not master
    at Error (<anonymous>)
    at DB.createUser (src/mongo/shell/db.js:1096:11)
    at (shell):1:4 at src/mongo/shell/db.js:1096"
Amazon EC2	"Chnaged Host name and can no longer acces my Public DNS - Pid file
Hey guys,
I'm a complete noob when it comes to configuring serves, i don't know much about it and i also just hate doing it, but since we don't have anyone to do it for us, i'm trying to figure it out -> close to giving up .-.

LINUX-AMI

So i wanted to change my public dns, instead of accessing by:
http://ec2-52-27-45-168.us-west-2.compute.amazonaws.com/

I wanted it to be accessed by something like this:
http://bonicoengine.com

I've realised after i changed the host name, that it wasn't what i was supposed to do to make that change (Not that i'm already sure of what i should have done, i accept tips)
But now i can't access my public DNS, and when i try to start the httpd service i get this:

AH00058: Error retrieving pid file /var/run/httpd/httpd.pid
AH00059: Remove it before continuing if it is corrupted.

But when i access  /var/run/httpd/httpd.pid there is no httpd.pi file there.
What's going on?

I've tried restoring my host name, not sure if is correct though:
(i've changed it using this guide: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-hostname.html)

My files:

/etc/hosts:
127.0.0.1 localdomain localhost localhost.localdomain

/etc/sysconfig/network:
NETWORKING=yes
HOSTNAME=localhost.localdomain
NOZEROCONF=yes
NETWORKING_IPV6=no
IPV6INIT=no
IPV6_ROUTER=no
IPV6_AUTOCONF=no
IPV6FORWARDING=no
IPV6TO4INIT=no
IPV6_CONTROL_RADVD=no

I accept any suggestions,
Also if someone knows how do i change my public DNS to work in the way i want i'll be very thankfull

Edited by: michellebionico on Jul 16, 2015 12:01 PM

Edited by: michellebionico on Jul 16, 2015 12:06 PM"
Amazon EC2	"Re: Chnaged Host name and can no longer acces my Public DNS - Pid file
Its working now"
Amazon EC2	"How to associate current EIP to a newly created t2.small instance?
When we are trying to associate an existing EIP address to a newly created t2.small instance, there is nothing under Instance window to choose. How to associate an existing EIP to a newly created t2.small instance (i-433ae2b1)?"
Amazon EC2	"Re: How to associate current EIP to a newly created t2.small instance?
Hi,

See these instructions on how to associate your EIP to your instance.

http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/EIP.html

Hope this helps,

Cheers,

Stooby.."
Amazon EC2	"Re: How to associate current EIP to a newly created t2.small instance?
The problem is that we want to use the EIP already in our possession instead of creating a new one.

Edited by: incloud on Jul 16, 2015 9:56 AM"
Amazon EC2	"Re: How to associate current EIP to a newly created t2.small instance?
Hi,

If your EIP is already in use on another EC2 instance you will need to detach it from that instance first before applying it to another instance.

To associate an Elastic IP address with an instance using the console

    Open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.

    Choose Elastic IPs in the navigation pane.

    Select an EIP and choose Associate Address.

    In the Associate Address dialog box, select the instance from the Instance field and choose Associate. 

Cheers,

Stooby..."
Amazon EC2	"Re: How to associate current EIP to a newly created t2.small instance?
T2 instances are VPC-only. Is the EIP for EC2-Classic or a VPC? 

If you created the EIP for EC2-Classic, you can't use it with a instance in a VPC, but you can migrate it to the VPC. See http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#migrating-eip. 

EIPs for EC2-VPC are specific to a particular VPC. You must launch the T2 instance in that VPC in order to use the EIP.

I hope this helps.
Julie"
Amazon EC2	"EC2 Instance Will Not Stop
Instance with ID  i-c421f017 will not stop. We have tried to force stop a few times with no luck. Please help!

Edited by: Plaudit on Jul 14, 2015 5:11 AM"
Amazon EC2	"Re: EC2 Instance Will Not Stop
Hello,

I have engaged our EC2 operations team to take a look at the issue that you are facing.
We will update you via this forum post, as soon as we hear back from them.

Regards
Shiroy"
Amazon EC2	"Re: EC2 Instance Will Not Stop
We have created a new instance based on the one not responding. We got the new one up and running. The broken one (i-c421f017) please stop it but don't start it back up at this time.

Also let me know why it wouldn't stop and how we could have stopped it on our own so if this happens again we don't have to go through the processes of recreating it.

Last, why did it all of the sudden stop working? It suddenly this morning around 6:20AM CST it just stopped responding.

Thanks"
Amazon EC2	"Re: EC2 Instance Will Not Stop
Hello,
Your instance is now stopped. You encountered this issue due to an issue with the underlying host. We are extremely sorry for any inconvenience this may have caused you.
During such situations, you can try to perform a force stop using AWS CLI. If this does not work, you will have to reach out to AWS support via a support case or Forums.

Troubleshooting process for instances which are stuck in stopping state is documented here.
Regards
Shiroy"
Amazon EC2	"Re: EC2 Instance Will Not Stop
Does using the AWS CLI to force do anything different than when the stopping the instance for a second time through the AWS web interface? (Second time you try to stop it says it will force stop it and the confirm button says something like ""Yes, force stop"")

If it is the same, then yes I tried that.

What was the issue with the underlying host?

Thanks,
David"
Amazon EC2	"Re: EC2 Instance Will Not Stop
Hi David,

Using the AWS CLI  to force stop an EC2 instance is the same as if you are using the AWS console to perform a force stop. I do apologize for the issue you had encountered with your EC2 instance. Unfortunately, we are unable to provide additional information about the issue that occurred on the underlying-host. 

Currently I see your EC2 instance is in a stopped state. You may re-start your instance back up again so it can migrate over to a new healthy underlying-host.

If you have any additional questions or concerns, please do let us know. We would be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Re: EC2 Instance Will Not Stop
How often does this type of issue arise? I see a few threads with this same type of request. Waiting 20 or 30 minutes for it to be stopped on Amazon's end is far to long for us to wait. What can we do to avoid that?

Edited by: Plaudit on Jul 14, 2015 1:01 PM"
Amazon EC2	"Re: EC2 Instance Will Not Stop
When you have a minute, please respond to my last question:

How often does this type of issue arise? I see a few threads with this same type of request. Waiting 20 or 30 minutes for it to be stopped on Amazon's end is far to long for us to wait. What can we do to avoid that?

... We are working on plans to take this type of issue into account, but I would appreciate your input on what you would recommend to avoid waiting 30 minutes to get an instance shutdown, and how common for an instance to have an issue due to underlying hardware issues. I need to know so we can plan accordingly."
Amazon EC2	"Re: EC2 Instance Will Not Stop
Hello,

In response to your questions,

How often does this type of issue arise?
Underlying hardware issues are unpredictable and not all results in an instance being stuck stopping. It is therefore difficult to quantify how often this issue occurs.

What can we do to avoid that?
It may be helpful to design for failure by having your instances behind a load balancer, or in an auto-scaling group that can automatically compensate for the failed instance. Additionally, tools such as EC2 Auto-Recovery can be a great help in mitigating failure of instances:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingAlarmActions.html

Please refer to the following white paper for building fault tolerant applications:
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Best regards,
RonnieN"
Amazon EC2	"Re: EC2 Instance Will Not Stop
Thank you for the details. I appreciate it. I will share this information with the my lead system admin to ensure he is looking at these options."
Amazon EC2	"EC2 change
Support has asked me the change the menu.lst file, but I do not know where that is or how to change it.  The instance is actually a windows instance and not a Linux instance

Could you please disable LVM configuration at menu.lst file for the kernel entry with option: rd_NO_LVMCONF

Can somebody tell me where and how to change this file?

Thank you"
Amazon EC2	"Root drive restored - DNS does not pick up changes?
Here is what I'm doing:

Shut down instance A.
Detach root volume from instance A.
Create new root volume from snapshot
Attache new volume to instance A as /dev/sda1

The instance starts fine.  If I try to access it via hostname, I get this message about DNS cache may need to be flushed.  I've tried ipconfig /flushdns and that hasn't worked.
I can successfully access it using the IP address.  When the instance comes up, it has the proper instance name...domain, etc.  I tried running ipconfig /registerdns and that didn't seem to work either.

Am I just not waiting long enough?
Any suggestions?  Seems that the the instance should just come up and work.

Thanks in advance."
Amazon EC2	"Using D2 instances for permanent storage
Hello, we are currently using M3 instances to run a Riak cluster which we then use to store customer documents.  Our store ends up growing pretty rapidly so we find ourselves adding EBS volumes to the cluster a bit more often than we'd like.  

One thing we were looking at was the use of D2 instances in place of the M3s since they offer so much local storage.  We have concerns around this though since all instances will be located within the Ireland region (albeit in different AZs) and if I am reading correctly, a region wide power outage could cause us to lose all data stored in the cluster permanently as it goes away any time an instance is stopped.  Although we have 3 replicas of any document across the cluster, if we lose all of them, that doesn't do us a lot of good.  If that is the case, it seems that this would not be the ideal instance type for store of customer documents, is that correct?  Any thoughts or insight on the matter would be greatly appreciated."
Amazon EC2	"Re: Using D2 instances for permanent storage
Hi,

If you are storing customer data that isnt easily reproducable, using local (ephemeral) storage is generally a bad idea as like you say, if you lose power or experience any other hardware fault with the instance that causes it to stop, then all data on that instance is lost.  I would highly recommend using EBS Volumes as these provide persistant storage and by default utomatically replicate your data within the same AZ should that volume experience a problem.

Ensure you have your instances spread between the different availability Zones for maximum resiliency.

I would also ensure you are taking regular snapshots of your data which is then backed up to S3 which has a durability of 99.999999999% against data losss.

Also, its hugely unlikely that the whole Region will fail, however with regular snapshot backups and ensuring you have an up to date AMI ready to use then migrating your data to another region will not be an issue.

Also take a look at this Whitepaper about running Riak on AWS, it may help:

https://media.amazonwebservices.com/AWS_NoSQL_Riak.pdf

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Using D2 instances for permanent storage
Thanks Stooby, we also send the documents to S3 but now with tens of millions of them, rebuilding Riak out of that would be hugely time consuming and access to the documents would be dirt slow in the interim.

Are there any stats on the potential for an entire region to go dark?  The likelihood of this would be the largest factor in deciding if it is worth the risk or not."
Amazon EC2	"Re: Using D2 instances for permanent storage
Hi,

I am not aware of any published stats specific to Regions, however their EC2 SLA is here: http://aws.amazon.com/ec2/sla/

Cheers,

Stooby..."
Amazon EC2	"Where did my instance storage go?
Hi, I'm new to AWS so pardon my ignorance.

I just started my website with a m3.2xlarge instance type. It said that there would be 2 80gb SSDs as instance storage.

Well I attached an EBS to it and things are working fine. What's puzzling is where did my instance storage disappear? I was planning to make them swap space. 

fdisk -l does not show anything besides the EBS.

Kindly assist. Thanks in advance!"
Amazon EC2	"Re: Where did my instance storage go?
Hello,

I have taken a look at your instance and it doesn't appear that you have added the instance store when launching the instance. 

Unfortunately after you launch the instance you cannot add ephemeral devices (2 X 80 GB SSD). Ephemeral storage can only be configured when an instance is launched. To overcome this issue, you could do the following:

Create a new AMI from this instance and specify the storage device ""instance store volumes"" that you want to be attached to the configuration:

1- Right click on the running EC2 instance.
2- Select Create Image.
3- On the button ""Add New Volume"" select the 2 devices you want to be added and continue with all the other configuration.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html#create-ami-bdm

More details on how ephemeral storage works: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

In addition, EBS volumes are persistent across start/stops while ephemeral devices are not.

More information can be found at: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Where did my instance storage go?
Dear Ahmed thanks for the reply. Since I'm new to AWS can you please list the steps one by one in detail? Thanks a lot!"
Amazon EC2	"Re: Where did my instance storage go?
The documentation contains step-by-step directions:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/add-instance-store-volumes.html

Julie"
Amazon EC2	"Re: Where did my instance storage go?
Actually my other related question is, how to create a copy of my server (with ebs) for test purposes.. kindly assist. Thanks"
Amazon EC2	"Swedish characters on ubuntu server 14.04
Runing an instance of Ubuntu 14.04, but banging my head against the wall trying to get swedish characters working. 
Tried about everything at:
https://help.ubuntu.com/community/Locale
Thanks

Edited by: nickenock on Jul 14, 2015 12:09 AM"
Amazon EC2	"Re: Swedish characters on ubuntu server 14.04
hÃ¤lsningar ... (does that work right in the forum?)

did you try copy and paste to see if that works?  i am guessing you want to set the locale so it uses svenska output.  are you running ubuntu 14.04 on your client to compare with?   compare the environment variables.

what do you get from this command on both machines?

env|fgrep LC|sort

Edited by: skaperen257 on Jul 14, 2015 3:41 AM"
Amazon EC2	"Re: Swedish characters on ubuntu server 14.04
Thanks,  no problem on local machine (ubuntu desk 15.04). Only when I ssh into remote. Copy and paste ignores Ã¥Ã¤Ã¶, or says ""(arg: 6)"". Output from env|fgrep LC|sort:

Remote Ubuntu server 14.04:
LC_ADDRESS=sv_SE.UTF-8
LC_ALL=POSIX
LC_IDENTIFICATION=sv_SE.UTF-8
LC_MEASUREMENT=sv_SE.UTF-8
LC_MONETARY=sv_SE.UTF-8
LC_NAME=sv_SE.UTF-8
LC_NUMERIC=sv_SE.UTF-8
LC_PAPER=sv_SE.UTF-8
LC_TELEPHONE=sv_SE.UTF-8
LC_TIME=sv_SE.UTF-8

Local machine Ubuntu desktop 15.04:
LC_ADDRESS=sv_SE.UTF-8
LC_IDENTIFICATION=sv_SE.UTF-8
LC_MEASUREMENT=sv_SE.UTF-8
LC_MONETARY=sv_SE.UTF-8
LC_NAME=sv_SE.UTF-8
LC_NUMERIC=sv_SE.UTF-8
LC_PAPER=sv_SE.UTF-8
LC_TELEPHONE=sv_SE.UTF-8
LC_TIME=sv_SE.UTF-8"
Amazon EC2	"Re: Swedish characters on ubuntu server 14.04
So I LC_ALL=""sv_SE.utf8"", but no change so far. Guess I have to restart the instance. But then all disappears, right? Got some stuff and settings I'd rather not loose..? Plus the setting is lost aswell, correct?
(Yes me noob)"
Amazon EC2	"Permission to edit instance tag
Hi there,

What policy permission do I need to grant to allow users to edit an instance's tags.

Thanks,

Regis"
Amazon EC2	"Re: Permission to edit instance tag
Hi,

You can use these entires: 

ec2:CreateTags
ec2:DeleteTags

Take a look at http://blogs.aws.amazon.com/security/post/Tx29HCT3ABL7LP3/Resource-level-Permissions-for-EC2-Controlling-Management-Access-on-Specific-Ins (Step 3)

Cheers,

Stooby..."
Amazon EC2	"Price to use a community AMI
I'm very confused on the pricing of the community AMI's. I'm already being charged $2 and I was told the community AMI would cost two cents an hour to run."
Amazon EC2	"Re: Price to use a community AMI
Hi,

Could this cost be down to the size of the instance you are using? or the Storage? AMI price is one thing, instance/storage price is another!

Cheers,

Stooby..."
Amazon EC2	"EC2 instances dissapearing
Hi,

From what I understand, if I want to set up application using LAMP stack, the correct way would be to instantiate EC2 server for HTTP operations and use RDS for MySQL db.

But as I was reading about EC2 I stumbled upon some posts about missing instances that suddenly disappeared. Can you explain to what that means? Do I have to check every day if my server is expiring and setup new instances? Can my EC2 instance just disappear?"
Amazon EC2	"Re: EC2 instances dissapearing
Hello,

In response to your questions,

I was reading about EC2 I stumbled upon some posts about missing instances that suddenly disappeared. Can you explain to what that means?
When you launch your instances, they will persist until you manually terminate them. There are however AWS services such as Elastic Beanstalk that are stateless and automatically replaces unhealthy instances. If you take some time to fully understand the service you will be deploying and you deploy your applications following AWS best practice, you will not lose any instances or data. Please refer to the following URL for best practice on Amazon ec2: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-best-practices.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-recover.html

Do I have to check every day if my server is expiring and setup new instances?
No. Your instances do not expire and there is no need to check them everyday.

Can my EC2 instance just disappear?
No, your instances will persist until you terminate them.

Please refer to the following white paper for building fault tolerant applications:
http://media.amazonwebservices.com/AWS_Building_Fault_Tolerant_Applications.pdf

Best regards,
RonnieN"
Amazon EC2	"Re: EC2 instances dissapearing
Thank you very much for your response.

I have one more question: Is there no way to use AWS like a classic hosting service? I mean: just setting up a website with a database and not having to take care of backups, instances, IP addressing and such.

Is there an alternative to EC2? Is this the only way to deploy a PHP/MySQL website on AWS?"
Amazon EC2	"Setting up the spot fleet config
Hi

I've created the IAM Role for spot fleet using the management console, but would like to know where can I set the config parameters if I have to use the spot fleet while launching the instances.

Thanks,"
Amazon EC2	"Who started the instance?
Hi there,

We are using some EC2 instances for testing and development. We are a group of users with permissions to start/stop instances and do not want to keep them running at all times.
How can a user know who started the instance? Who stopped it last?

Thanks

Regis"
Amazon EC2	"Re: Who started the instance?
Hello Regis,

I recommend you use AWS CloudTrail. CloudTrail provides visibility into user activity by recording API calls made on your account. Please refer to the CLoudTrail faq: http://aws.amazon.com/cloudtrail/faqs/

Best regards,
RonnieN"
Amazon EC2	"Default VPC
Please create my default VPC in Singapore. Thanks."
Amazon EC2	"Re: Default VPC
Hello,

Your default VPC has been created.

Best regards,
RonnieN"
Amazon EC2	"please remove
please remove

Edited by: phuture2k on Jul 12, 2015 11:13 AM"
Amazon EC2	"Re: please remove
Hi phuture2k,

Can you please clarify the assistance you require.

We will be more than happy to assist. Should this be a  billing or account related query you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/ 

Thank you

C.Manuel"
Amazon EC2	"AWS Signature Version 4 Test Suite Issue
Hi,

I'm currently implementing an application that uses the signature version 4. The provided test suite puzzles me a little, though.
More specifically, my question concerns the format of the 'Date' or 'X-Amz-Date' HTTP header field.

In the documentation, the following is stated: 
""The date header looks for a time stamp and the credential scope looks for an eight-digit string representing the year (YYYY), month (MM), and day (DD) of the request. Requests are rejected if the two dates do not match. For example, if the date header contains the value 20111015T080000Z and the date component of the credential scope is 20111015, AWS allows the authentication process to proceed.""

From live tests I can confirm that Amazon only accepts signed requests with a Date header in that format. Using another format (e.g. RFC 2616) doesn't work.

In the test suite, however, all test cases contain the following Date header:
DATE:Mon, 09 Sep 2011 23:36:00 GMT

So to make the test suite run, I'd need to write code that also accepts this kind of Date header, which in turn is not desirable when actually running the code and generating live AWS signed HTTP requests.

I'd be thankful for some clarification on that matter"
Amazon EC2	"Re: AWS Signature Version 4 Test Suite Issue
Hi 
I am newbie to AWS and trying get all regions using signature version 4 method and REST to make requests.
But getting error response AuthFailure does this mean I've calculated signature correctly and 
may be i am not authorized to perform this operation.

Please help..

I am sorry, i posted this question in reply because no one answered my question and i am stuck from last 
16 hrs.

Thanks

Edited by: amol23 on Jul 15, 2015 10:48 PM"
Amazon EC2	"Can't connect, ports closed
Hi, 

I modified some config file relating to ports, in order to open them. I am on Ubuntu server, and I saw I maybe had to reboot to make my changes working fine. I started the SSH connection (from linux, with the same command as usual) and i saw ""port 22:connection timed out"". I wanted to check if port 22 was still opened with : http://www.yougetsignal.com/tools/open-ports/
but it shows me that it is not. How could i access again my webservice please ? 

Thanks for your help."
Amazon EC2	"Re: Can't connect, ports closed
Hello,

To undo the changes you made:
   1. launch a temporary instance
   2. stop your broken instance and detach the root volume
   3. backup your instance by taking a snapshot of the root volume
   4. attach the root volume to the temporary instance 
   5. mount the root volume and undo the changes you made relating to the ports
   6. unmount the volume, detach it from the temporary instance, attach it to its original instance and start

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair

Best regards,
RonnieN"
Amazon EC2	"Unable to launch the EC2 instance.
I have enabled enhanced networking for two of our production instances with the command - ec2-modify-instance-attribute. Now when i launch the instance, it struck at instance status check. Please advice. 

i-99711655
i-9a711656"
Amazon EC2	"Re: Unable to launch the EC2 instance.
Hello,

System Logs  of your instances do not show any issues during boot. Could you please start your instances so that we can have a look.

Best regards,
RonnieN"
Amazon EC2	"Windows 2008 R2 Server loose the network outside connection after 30min
We have a particular project going and we need to put the server date in the past. We did that perfectly on the Linux instance. When we need to do that on the Windows Server, the server works of about 30min to 1h and then you cannot access the server anymore from RDP neither from the regular M$ SQL Server port. We create a similar instance at Rackspace and there we don't have any problem. We have a long story with amazon and we need a help to solve that. Somebody have a guess ?"
Amazon EC2	"Cannot SSH to linux server after reboot
Dear AWS Team Support,

I have a SLES server in Virginia Region, which has been running for more than 3 months.

Instance ID: i-e8e99f12

Everything was fine until yesterday, after restarted. The application is installed on the server is still running but when I SSH to the server with PuTTy, after enter ec2-user to login-as, the following error message appears:

""Server refused our key - Disconnected: No supported authentication methods available (Server sent: publickey)""

Before that, everything was fine and I don't know why?

Please help! This server is very important for our company, and we can not terminate it.

---
Thanks so much,
Kiet"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Good day Kiet

Bad to hear you're experiencing issues trying to login to i-e8e99f12 instance. I've reviewed console output and underlying hardware where your instance is hosted and there is nothing unusual. I've launched a test instance using same AMI (ami-c08fcba8) and I was able to login using 'ec2-user' username. Is this issue also present when logging on as root?

According to our information, associated keypair is named 'ESS_ECC_BPC'. Please, review keypair is correct as this error message you received can be generated by many factors, such as a typo, wrong .pem permissions etc

Is it possible if you launch the ssh command again adding the -vvv option to it and provide the output? Please remove any sensitive data when posting on the forum.

Regards
Imthian R"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Dear Imthian,

I can make sure that the associated keypair is correct, I have done it many times before.

I have tried to add -vvv option. the output show ""Permission denied (publickey)"" details in the attached file.

Now, I find no way to access the server, this server is very important with our company.

Please help me with your suggestions

---
Kiet"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Hi there,

It looks like this instance is running SUSE.
By default, Older SUSE images used the user ""root"" rather than ""ec2-user"".
This has been fixed in recent SUSE Images, and the root user has been disabled.

Are you able to log in with the ""root"" user, rather than ""ec2-user""?"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
hi DavidKat,

I tried both ""root"" and ""ec2-user"". I still got the same error.

There is any other way can help me access the server?

Please help

---
Kiet"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Hello,

Looking at the output of the SSH connection it appears to me that the key you are sending is ""Trying private key: ECCl"" which does not match what I see instance i-e8e99f12 was launched with. This does not mean that this key is invalid as it could have been renamed or the public key for this private key could have been added after the instance was launched.

As Imthian stated the key that this instance was launched with is ESS_ECC_BPC.

If you believe you've tried a valid key and the correct username then there are a couple of ways to deal with this situation.

Option 1:
Create an AMI of this instance and then launch an instance from the AMI. At launch time specify the key you wish to use. Once the instance has fully booted you should be able to SSH to this instance using the key. If you cannot, then I suspect there is some change within the instance that is blocking access and you'll need to try Option 2.

Option 2:
Stop this instance, which it appears the instance has been stopped, detach the root volume taking note of how the volume is currently attached to the instance (/dev/sda). Attach the volume to an instance you can access (it must be in the same availability zone as this volume), mount the volume and review the logs in /YOUR-MOUNT-POINT/var/log/ for information as to why SSHD is not accepting your login. Typically SSHD will log to secure or auth.log. If you can identify the issue, make the necessary changes. You could also add a new public key to the authorized_keys file that resides in the user's home directory under the .ssh directory. Then revert the steps above, unmount the volume, detach, attach and start the instance.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

You may also find this article useful:

https://aws.amazon.com/articles/5213606968661598

Regards,
Brandon"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Hi Brandon,

I tried both solutions: Create AMI, change public key in ec2-user/.ssh/authorized_keys. But it not work.

What can i do next? I just want to access the server.

Is there any way help me SSH to server without private key? I will make some backup and terminate the server after that.

---
Kiet"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
Hello,

If you are still unable to access this instance I would recommend launching a replacement instance and then detach the root volume from the 'bad' instance and attach it to the new instance, Option 2 from my previous post. Once attached you can mount the filesystem to the replacement instance and copy any necessary data off of the old volume into the new instance. This of course is not ideal, but you'll have access to all the data that is on the 'bad' instance.

I apologize, but there is no way to access the instance from our end, nor is there any way to SSH to the server without the private key unless you've configured the system to do so. Going forward I would highly recommend that you create frequent Images or Snapshots of your environment and test those. That way if something like this happens and you cannot identify the root cause you can always launch a replacement instance. I typically create a Image before making any configuration changes this way I always have an Image before my edits.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html

Regards,
Brandon"
Amazon EC2	"Re: Cannot SSH to linux server after reboot
hi Brandon,

I guest I must move data and launch new instance.

Thanks so much. Close my thread here

--
Kiet"
Amazon EC2	"How to convert m3.medium to t2.small?
We are currently running a m3.medium (i-40c2e046) instance and would like to convert it to a t2.small instance. How can we do that? Aws does not provide an easy migration for the change and give out a error warning when converting.  We just stopped there. Here is the error when launching t2.small:

Error starting instances
The requested configuration is currently not supported. Please check the documentation for supported configurations.

Edited by: incloud on Jul 15, 2015 8:47 PM"
Amazon EC2	"Re: How to convert m3.medium to t2.small?
Launch a new instance with the image."
Amazon EC2	"Simple EBS charge question
Hello, i have a doubt about the Elastic Block Storage (EBS) charges.

If i allocate a 30GB volume, and i'm in the free tier, i'll get no charges, right?
And if in the same month i allocate another 40GB volume, i'll be charged for those 40GB?

The EBS charges for what you've allocated in that month, or he charges for all your allocated volumes (even the ones that was allocated a month before)?

Thanks"
Amazon EC2	"Re: Simple EBS charge question
Hi there giulianomedina,

To clarify, in the free tier you have access to 30GB total. Month to month if you have a 30GB volume you will not be charged for this volume during your free tier period. 

In summary you are charged for all your volumes. If you require further clarification or would like to speak to someone from our accounts and billing team about your individual situation feel free to create a support case and we can provide the required information. You do not need a support subscription to create a support case for accounts and billing issues. 

To create the case follow the below links.


https://aws.amazon.com/contact-us/"
Amazon EC2	"[Retirement Notification] Amazon EC2 Instance scheduled for retirement
Hello,  we received a "" Retirement Notification Amazon EC2 Instance scheduled for retirement "" notice. The instance id is   i-467eee6a

We are unable to reach the instance. Can you please let us know what are our options ?

Thanks"
Amazon EC2	"Re: [Retirement Notification] Amazon EC2 Instance scheduled for retirement
Hi,

Thank you for creating this forum post. 

I had a look at your instance and it appears the underlying host failed before the scheduled retirement. The instance was stopped and you can start it any time and connect to it.

We sincerely apologize for any inconvenience caused by this issue.

Please let us know if you need any further assistance.

Regards,
Isaac"
Amazon EC2	"Re: [Retirement Notification] Amazon EC2 Instance scheduled for retirement
Hi IsaacNK,

I'm in a similar situation, having received a retirement notification just yesterday. I did a complete shutdown and then started my EBS-backed instance, at which point the degraded hardware notice was removed from the ""Scheduled Tasks"" area of my EC2 Management Console. Everything seems good with the server and with the AWS management console.

The reason I'm writing is, I have an automated script that runs a ""ec2-describe-instance-status"" command to check the state of the virtual server, and it's still saying the server is ""Completed The instance is running on degraded hardware"" and is due for ""instance-stop"" on 2015-07-28.

I get the same result when I run the ""aws ec2 describe-instance-status"" command as well.

So, it seems like the CLI interfaces are saying my instance is still due for an ""instance-stop"" event on the 28th, even though the AWS console doesn't show that message anymore? Do you know what could explain the disconnect in the 2 methods (web vs. CLI)? Is there one source that should be trusted as more accurate over the other? I'd prefer not to rebuild my server on a new instance if I don't have to.

Thanks,

ocamler"
Amazon EC2	"Re: [Retirement Notification] Amazon EC2 Instance scheduled for retirement
Ah, I've since learned that the ""[Completed]"" marker at the beginning of the message means the migration is complete. It'd be less confusing if AWS simply updated the entire message to something more affirming, but at least I understand what's going on now.

ocamler"
Amazon EC2	"New CentOS instances not reflecting the new IP address
I launch a new EC2 instance from an existing AMI (with centos, WHM/cPanel) but it kept the original ip of the AMI. Once the new instace is launched, when I add a new account through WHM, the new account gets bound to the old ip instead of the new ip. As a result, when I view the website in my browser, I get redirected to a default cPanel page. 

How can I update the IP of the new instance?"
Amazon EC2	"EC2 was rolled back
Hi,

So we experienced this really weird issue yesterday. Our revenue suddenly stopped moving and upon closer investigation our cron on ec2 seemed to stop running. Digging deeper... the crontab was wiped out, the connection to db was erased and the files was returned to files around a year ago. Seemed like the server was rolled back to Aug 2014.

What can we do to retrieve the instance before the issue happen?

TIA"
Amazon EC2	"Re: EC2 was rolled back
Hello,

Thanks for posting. I'm sorry to hear about the issues you've encountered. Unfortunately I could not locate your AWS account via your username. Could you please provide the instance id and to the best of your knowledge the time frame in which this happened?

If you've not already done so I would review the system logs for clues. I will mention that I've seen instances that had a secondary volume mounted to the instance that was actually root volume from a prior time. When these instances rebooted the kernel found the first device that was labeled correctly which happened to be the older root volume that was attached as a secondary device prior to the reboot, but was now being attached as the root device.

Regards,
Brandon"
Amazon EC2	"Re: EC2 was rolled back
Instance id is: i-80898329

We noticed the issue morning of July 1... but we suspect the this happen June 30 around 10pm onwards"
Amazon EC2	"Re: EC2 was rolled back
Instance id is: i-80898329

We noticed the issue morning of July 1... but we suspect the this happen June 30 around 10pm onwards"
Amazon EC2	"Re: EC2 was rolled back
Hello,

I've taken a look at instance  i-80898329 and I see only one volume attached to the instance vol-24589fce. From what I can see this instance was launched on June 30th at 03:02 UTC and has not been stopped since that time. I reviewed the volume timeline and I see the initial creation of the volume at the launch time mentioned above. The next volume event was noted on 07-08-2015 at 01:57:07 UTC.

I cannot see anything in my tools indicating a change to that volume at the time you provided. Have you been able to uncover anything or find any clues that may help further this investigation? Reviewing system logs and if there were any users logged in at that time may assist. I do apologize, but I cannot see anything on our end that would indicate the volume was reverted to a prior state.

Regards,
Brandon"
Amazon EC2	"What Plan I Should Choose
Hi guys,

I am really confused by so many choices on AWS product. Now I am lunching the EC2 free tier instance for VPN service. I tested the the traffic over this server is very slow, even browse webpage has 2s to 5s delay, not mention the video or audio streaming.

So now my question is, which plan I should select for the VPN server to satisfy the usage:
1. this server will be accessed outside of U.S.
2. only me to use it
3. no need always running, but it's better to have it accessible whenever I want
4. webpage browsing should be fast, better to be able to watch video or listen to music
5. no storage needed

I think  this most import part for the server is bandwidth, can you guys please help advise how should I make the decision? Thank you!"
Amazon EC2	"Re: What Plan I Should Choose
That is a good question. EC2 is the right choice when you simply need a server where you can install and tinker with some software. The specifications of said server does matter, but the first thing you should consider is the distance between you and the machine. EC2 is available in a number of locations around the world. Your choice of region determines where it will be running. See Global Infrastructure. In the AWS Management Console, you'll find the region selector in the upper right corner. Select your preferred region before launching the instance. But if you want to set up a VPN in the US specifically and happen to be far away, all you can do is select a region on the right coast. Keep in mind that access from EC2 IP ranges may be restricted in some cases. 

Regarding the specifications of the server, the t2.micro may be a good starting point. Use the available metrics to determine if something bigger is needed. As you pay by the hour (for anything outside of the free tier), you can try different instance types without getting a scary bill. In many cases, you can simply stop the instance, change the type, and then start it back up with all data still there."
Amazon EC2	"MoveAddressToVpc error, PTR records.
As part of planning the move of our in house infrastructure to EC2, and seeing new accounts only support EC2-VPC, we want to migrate to VPC.  We tested moving an EIP address from classic EC2 to a new VPC we created. We got the error ""A client error (InvalidState) occurred when calling the MoveAddressToVpc operation: Address 54.83.62.224 cannot be moved"". Searching the forums for it we hit several threads which mentioned a PTR record. We have one, but it is only the automatic one created by AWS:

$ dig -x 54.83.25.134

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.30.rc1.36.amzn1 <<>> -x 54.83.25.134
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 55893
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;134.25.83.54.in-addr.arpa.	IN	PTR

;; ANSWER SECTION:
134.25.83.54.in-addr.arpa. 300	IN	PTR	ec2-54-83-25-134.compute-1.amazonaws.com.

;; Query time: 9 msec
;; SERVER: 172.16.0.23#53(172.16.0.23)
;; WHEN: Tue Jun 23 07:08:24 2015
;; MSG SIZE  rcvd: 97

Is this the one which we should worry about? It does not seem to be, from the messages I thought the problem was for the Reverse DNS records cited in the manual under ""Using reverse DNS for email applicacions"", which we do not use.

Also, it seems migrations have not been too successful from the messages I've read. As MoveAddressToVpc seems to be fairly new I would like to know if there is some worke in progress in this area and I should test again in some weeks/months/...  We can afford some hours downtime for this migrations, and we can work around it for a while using ClassicLink, but we need to have a defined plan for migration if we are going to do it.
Francisco Olarte.


( Note, the IP address shown is the one we'll want to migrate, the test where done with an extra one, was associated to a amchine, an then disassociated and tried to move to simulate the process, results were similar )"
Amazon EC2	"Re: MoveAddressToVpc error, PTR records.
Hello,
yes, the PTR record leads the MoveAddressToVpc to fail.

You can ask the removal of the reverse DNS entry compiling the form available on the AWS site.

Also I would remember that in order to complete the migration the Elastic IP must be free from any instance. 
Regards."
Amazon EC2	"Re: MoveAddressToVpc error, PTR records.
The provided link leads me to a ""Request to Remove Email Sending Limitations"" which lets me ask to have PTR records ASSIGNED, not removed from my machines. 

Also, the ptr record seems to be part of the aws infrastructure, in fact it resolves to a magic name which then resolves back to the address from outside but to the private address from inside:

OUTSIDE aws:
folarte@paqueton:~$ dig -x 54.83.25.134
134.25.83.54.in-addr.arpa. 300	IN	PTR	ec2-54-83-25-134.compute-1.amazonaws.com.
folarte@paqueton:~$ dig ec2-54-83-25-134.compute-1.amazonaws.com.
ec2-54-83-25-134.compute-1.amazonaws.com. 604800 IN A 54.83.25.134

INSIDE aws:
folarte@acusa ~$ dig -x 54.83.25.134
134.25.83.54.in-addr.arpa. 300	IN	PTR	ec2-54-83-25-134.compute-1.amazonaws.com.
folarte@acusa ~$ dig ec2-54-83-25-134.compute-1.amazonaws.com.
ec2-54-83-25-134.compute-1.amazonaws.com. 60 IN	A 10.99.2.135
folarte@acusa ~$ dig -x 10.99.2.135
135.2.99.10.in-addr.arpa. 900	IN	PTR	ip-10-99-2-135.ec2.internal.
folarte@acusa ~$ dig ip-10-99-2-135.ec2.internal.
ip-10-99-2-135.ec2.internal. 900 IN	A	10.99.2.135

It does not seem those PTR records are the ones I can control, they seem to be part of aws inner workings.

I will search for more info, and try to make another test, but the previous one was done with a temporary machine for which no record had ever been requested. And even though we waitd an hour, in case it was something which automatically dissapeared, it was theer with the IP dissasociated and the machine stopped.

Also, do you have any idea how long does it take for an IP to move? we can shutdown for hours if needed, but need to know how to schedule it.

Francisco Olarte."
Amazon EC2	"Re: MoveAddressToVpc error, PTR records.
We are approaching the point of no return of taking a harder way for our migration, so we made another test.

We allocated an elastic IP address, and without using it for anything tried to migrate it. We got the following result:
    aws ec2 move-address-to-vpc --public-ip 107.20.246.241
   A client error (InvalidState) occurred when calling the MoveAddressToVpc operation: Address 107.20.246.241 cannot be moved. 


We do not have any reverse DNS allocated, Elastic IP was brand new, we just did allocate-move. It has a ptr record on the internet, like ALL the AWS ip address we've ever tested, but I suspect this is not the problem, because if this one is the culprit the manual should mention it, as it would affect everyone:

$ dig -x 107.20.246.241
Â 
; <<>> DiG 9.9.5-9-Ubuntu <<>> -x 107.20.246.241
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 51075
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 5, ADDITIONAL: 2
Â 
;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;241.246.20.107.in-addr.arpa.	IN	PTR
Â 
;; ANSWER SECTION:
241.246.20.107.in-addr.arpa. 300 IN	PTR	ec2-107-20-246-241.compute-1.amazonaws.com.
Â 
;; AUTHORITY SECTION:
246.20.107.in-addr.arpa. 3600	IN	NS	pdns1.ultradns.net.
246.20.107.in-addr.arpa. 3600	IN	NS	x1.amazonaws.com.
246.20.107.in-addr.arpa. 3600	IN	NS	x2.amazonaws.com.
246.20.107.in-addr.arpa. 3600	IN	NS	x4.amazonaws.org.
246.20.107.in-addr.arpa. 3600	IN	NS	x3.amazonaws.org.
Â 
;; ADDITIONAL SECTION:
pdns1.ultradns.net.	1766	IN	A	204.74.108.1
Â 
;; Query time: 7 msec
;; SERVER: 62.22.27.249#53(62.22.27.249)
;; WHEN: Tue Jul 07 17:58:45 CEST 2015
;; MSG SIZE  rcvd: 241


Is there anything we can do to move the IP address ?

Francisco Olarte."
Amazon EC2	"Re: MoveAddressToVpc error, PTR records.
Hello,

I apologize for the issues you've encountered. How long was this EIP allocated to your account? Unfortunately you cannot migrate an EIP from Classic to VPC if it's been less than 24 hours.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#migrating-eip

Unfortunately I did not have an EIP in Classic to test with. I've now allocated the EIP and will test this after the 24 hour period has arrived. Currently I also receive ""A client error (InvalidState) ....""

Regards,
Brandon"
Amazon EC2	"multi-level sub/linked-accounts?
Is it possible to have billing consolidate multiple levels?

i.e.  Master -> {groupA,groupB, groupC}

groupA-> {prod, subgroup1-dev, subgroup2-dev, subgroup3-dev,...}

the idea is that all of groupA's subgroups will consolidate billing into groupA and groupA (and B and C) will then consolidate into the master.

is this possible?"
Amazon EC2	"PortFowarding Help
Hi,
I need help to Port Foward '43594'
So far I created a New Security Group that allows me to open port 43594 Both UPD and TCP. 
I Then went to my Window Firewall created a new rule to allow inbound port ' 43594 ' aswell as Outbound.
I went to Canyouseeme.org to check if my Port ' 43594 ' was opened but it appeared to be closed .
Please help,  Im trying to create a game server.
Thanks, 
AnimeRSPS"
Amazon EC2	"Instance crashes after a few minutes (every time!)
For some reason every time I set up an instance it crashes after a few minutes...

I do the same thing every time:

1. Create an SSH security group.
2. Create an instance (tried with t2.micro and t2.small ), Amazon Linux. and attach the security group to the instance.
3. Create a key pair and convert it using putty key generator.
4. Connect to the instance using Putty.

And EVERY TIME I do this (even when I bring the instance down and bring it up again and even if I never connect to it), it crashes after a few minutes (2 -3 minutes) and I cant connect to it anymore.

Why does this happen? I only do what I described.

TO MAKE THINGS CLEAR: I do connect to it at first and its working fine but then it crashes. (So its probably not a problem with the SSH security group, the key or something like that).

Edited by: viewz on Jun 18, 2015 11:13 AM"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
Hello,

Could you please provide the instance ID for us to have a look?

Best Regards,
RonnieN"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
i-9f11f256

Thanks!"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
Hi,

The instance looks healthy but there seems to be issues connecting on port 22 -- have you edited any SSH configuration settings? Do you do anything between the time you spin up the instance and SSH in and when the issues start occurring?

Also, could you clarify what you mean by the instance crashes? Do you just mean you are no longer able to SSH in?

Regards,

Scott"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
1. Yes, I added a SSH security group.
2. No, I do nothing after I run the instance (same thing happened when I was doing things and when I was not).
3. Yes, I refer to not being able to connect to it via SSH.

Thanks!"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
Hi viewz,

Is there an error which is generated during/after the disconnect?

When attempting to reconnect what error do you receive?

Rodney"
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
Well I am using Putty and the terminal simply freezes and after a few seconds I get the message: ""Network error: Connection timed out"""
Amazon EC2	"Re: Instance crashes after a few minutes (every time!)
Hello,

I've taken a look at instance i-9f11f256 and I can confirm I see that it is marked healthy and has not failed any health checks recently. When I try to traceroute from my instance to yours or try to establish a connection on port 22, which your Security Groups and Network ACL's allow, I cannot establish a connection.

~> sudo traceroute -T -p 22 X.X.X.190
traceroute to X.X.X.190 (X.X.X.190), 30 hops max, 60 byte packets
 1  * * *
 2  * * *
 3  * * *
 4  * * *
 5  72.21.222.223 (72.21.222.223)  22.190 ms  20.741 ms 72.21.222.221 (72.21.222.221)  20.513 ms
 6  205.251.229.216 (205.251.229.216)  20.309 ms 205.251.229.73 (205.251.229.73)  18.597 ms 205.251.229.59 (205.251.229.59)  19.438 ms
 7  54.240.243.75 (54.240.243.75)  18.670 ms  18.551 ms *
...snip...
29  * * *
30  * * *


~> nc -vz X.X.X.190 22
nc: connect to X.X.X.190 port 22 (tcp) failed: Connection timed out


Would it be possible for you to launch another instance in the same subnet and try to SSH to this instance on the private IP address? Alternatively use netcat or a TCP based traceroute to port 22? This way we can at least start narrowing down where to look for this issue. If you can SSH to this instance over the private IP, a packet capture when you are trying to connect over the public IP would be extremely helpful as this will clearly indicate if the packets are arriving at the instance. 

sudo tcpdump -w i-9f11f256.pcap


Regards,
Brandon"
Amazon EC2	"Portfowarding EC2 Window 2012 R2 Instance
Hi,
I need help port forwarding,  I created a security group that allows me to Open Port '43594' for both UPD and TCP.
I then went to my Window firewall created a new rule to allow inbound port '43594'. I pretty done everything,  but then I went to Canyouseeme.org to check if my Port '43594' was opened but it appeared to be closed. 
Please help, I need to port foward so I can allow other connection to join my Game Server.
Thanks,
AnimeRSPS

Edited by: animersps on Jul 15, 2015 12:55 PM"
Amazon EC2	"Instance stuck in stopping state [ i-006f7250 ]
Hi folks,

My instance i-006f7250 is retired (email mentioned there was a hardware failure) .. and now it has been stuck in stopping state for many hours! Thanks for the help"
Amazon EC2	"Re: Instance stuck in stopping state [ i-006f7250 ]
Hello, 

Instance i-006f7250 should now be in the stopped state. My apologies for any inconvenience or frustration this may have caused you. 

Best Regards,
Jillian L."
Amazon EC2	"Account Suspended
Hi, my account is suspended - case 1442077421 logged Monday but still unassigned. What is the quickest way to enable my account so I can start working?

Thanks"
Amazon EC2	"Re: Account Suspended
Hello, 

I have reached out to Customer Support, a representative should be reaching out to you through case 1442077421 soon. 

Thank you for your patience.

Best Regards,
Jillian L."
Amazon EC2	"Disable TLS1.0 at the system/network level rather than an indiv application
Hello,

I am running a Tomcat7 web server on an Amazon EC2 t2.micro Linux instance.  My Tomcat7 web server is explicitly set up to only accept TLSv1.1 and TLSv1.2 connections.

My payment processor (Authorize.net) is unable to send me responses after transactions are approved on their end.  They have asked me to find out if there is a possibility that TLS1.0 is still enabled on the sever.

Since I do not wish to support TLSv1.0, I wonder if perhaps there is a way to disable it at the networking level to ensure that no TLSv1.0 connections are attempted.  Is there a way to do this?

Also, are there any networking logging tools available on EC2 Linux to track handshake attempts from outside servers?"
Amazon EC2	"Unable to connect to new instance - VPC error during instance wizard
Hello All,

First time trying to deploy an instance to a new AWS region (EU Ireland).  I already have several instances deployed in US East (both classic and VPC) without any hassle.  While creating a c4.2xlarge in eu-west-1a, it displays a VPC error that asks you to retry.  After several retries it eventually progresses and lets me finish building my instance.  After everything is said and done, I'm unable to SSH into this instance via its elastic IP...connection attempts just time out.  Made sure the security group has a valid inbound ssh rule.  The VPC/subnets I ended up from the wizard seems like they are not externally accessible and I'm not sure how to resolve.  Anybody know how I can resolve this?  

Attached is a screenshot of the error


Thanks in advance

Edited by: GarretICS on Jul 15, 2015 9:40 AM"
Amazon EC2	"Re: Unable to connect to new instance - VPC error during instance wizard
Hello, 

It looks like the instance was terminated so I wasn't able to take a look at the network settings. 

I do not see any existing VPCs in the EU-West region - could you try creating a new one with a public subnet and try launching another instance in the new VPC?

We have documentation to walk you through the Wizard here:
http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/Wizard.html

Best Regards,
Jillian L."
Amazon EC2	"Re: Unable to connect to new instance - VPC error during instance wizard
Hi Jillian,

Thank you for the quick reply.

I did terminate the instance and deleted all the VPC in that region... turns out the wizard created a new VPC for each time I clicked retry on the error message, even though the error did not go away.  I was able to repeat that symptom a few times after purging the new objects built.

While the document you linked no longer mirrors the UI or currently available wizard options, it did have enough detail that I was able to build from scratch a new VPC with public subnet, add the gateway, then add the second route manually (the document implies the wizard identified would automate some of those steps).  From there creating and accessing the new instance worked as expected.

Thanks for getting me on the right track!"
Amazon EC2	"Problem Going Through Setting Up
Hi all, 
I am having trouble running command ec2-describe-regions, which gives me 
Error: Could not find or load main class com.amazon.aes.webservices.client.cmd.DescribeRegions

Here is my configuration:
$ echo $JAVA_HOME
C:\Progra~2\Java\jre1.8.0_51

$ java -version
java version ""1.8.0_51""
Java(TM) SE Runtime Environment (build 1.8.0_51-b16)
Java HotSpot(TM) Client VM (build 25.51-b03, mixed mode)

$ echo $EC2_HOME
C:\ec2-api-tools-1.7.5.0

C:\Users\I848705>dir %EC2_HOME%
 Volume in drive C is OSDisk
 Volume Serial Number is 22DC-3602
 Directory of C:\ec2-api-tools-1.7.5.0
07/14/2015  05:07 PM    <DIR>          .
07/14/2015  05:07 PM    <DIR>          ..
07/14/2015  05:07 PM    <DIR>          bin
07/14/2015  05:07 PM    <DIR>          lib
07/14/2015  05:06 PM             4,852 license.txt
07/14/2015  05:06 PM               539 notice.txt
07/14/2015  05:06 PM            46,468 THIRDPARTYLICENSE.TXT
               3 File(s)         51,859 bytes
               4 Dir(s)  275,353,767,936 bytes free

$ echo $CLASSPATH
C:\Program Files (x86)\QuickTime\QTSystem\QTJava.zip;C:\ec2-api-tools-1.7.5.0\lib

Does anyone have idea what is going on?"
Amazon EC2	"Network is not working
I've created new VPC and EC2 instance, in loading process the instance is not able to work with network. NTP is not available, cfn-init has got timeout error, repos is unavailable. But when I log in via ssh network is working. 

Region us-west-2, have tried 2 different accounts, 2 different AMI. 

What a reason of the behaviour? 

P.S. Internet gateway is configured

Thank you.

Edited by: lowl4tency on Jul 15, 2015 9:33 AM"
Amazon EC2	"Re: Network is not working
Upd: with attached EIP internet connection works. W/o doesn't work."
Amazon EC2	"Re: Network is not working
From the doc about Internet Gateway

To enable access to or from the Internet for instances in a VPC subnet, you must do the following:
Attach an Internet gateway to your VPC.
Ensure that your subnet's route table points to the Internet gateway.
Ensure that instances in your subnet have public IP addresses or Elastic IP addresses.
Ensure that your network access control and security group rules allow the relevant traffic to flow to and from your instance."
Amazon EC2	"Re: Network is not working
Okay, if you wanna internet connection you need public or elastic IP on EACH instance"
Amazon EC2	"Sever refused our key: ""no supported authentication method available""
Hi Team,
I am Unable to login to AWS instance, same key which I used before to login through Putty & FileZilla. Now I am unable to login and getting following error message ""Disconnected: No supported authentication methods available"" in a pop up window and in the Linux box 'Server refused our key'. 

Please let me know how to over come this? I have followed the procedures properly by giving the proper host name, Port number and generated putty gen PPK file in the SSH->Auth. Until yesterday it was working fine, but all of a sudden we are having this issue. 

Thanks."
Amazon EC2	"Re: Sever refused our key: ""no supported authentication method available""
Hi Team,
We are looking for this issue solution, so please treat this as a high priority and let us know if you have any updates/idea on this. 

Thanks."
Amazon EC2	"Re: Sever refused our key: ""no supported authentication method available""
the same happened to me this morning, after having uploaded a webpage yesterday, worked fine, and then scheduled a email campaign for early this morning.   The first thing that hit me today was an email from a client telling me he could not submit a web form at our site.  I tried to access the instance, but got the same error message you talked about near a year ago. Appearantly nothing has been done so far, and don't know what went wrong."
Amazon EC2	"Re: Sever refused our key: ""no supported authentication method available""
I'm having this same problem.  I used the private key to connect to our site via Putty and Filezilla, but then without any changes to the instance, Putty started failing login with a ""server refused our key"" message.  Filezilla returns: No supported authentication methods available.

I tried rebuilding the instance on my EC2 using an image and a new private key as suggested in other forum topics, but it seems whatever the issue is was carried over the in the image."
Amazon EC2	"Open Cart FTP Issue
I have the following VM OpenCart powered by Bitnami -HVM--2-0-3-1-0 on Ubuntu 14-04-1-AutogenByAWSMP-. 

I have followed the instructions as given on Bitnami and AWS instructsion to SSH in to activate or allow for FTP conections to the website. 

I have used the Genortor and Putty to install the pem and the ppk nd neither work. 

I am blocked from download modules to build the website. 

Please Help

Steve"
Amazon EC2	"Re: Open Cart FTP Issue
Hello, 

Do you have a link for the instructions you are following? 

Are you able to SSH to the instance? If not, what is the exact error you're receiving? The following are instructions for connecting with Putty:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html

If you're having issues with that, can you try connecting with MindTerm:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/mindterm.html

Regards,
Nick"
Amazon EC2	"Re: Open Cart FTP Issue
I did get in to the SSH, but now my issue is still the extensions will not upload due to a permission error.  

I really like to stay with open cart, but I need to be able to use a product out of the box. I am too far behind on my website build."
Amazon EC2	"Supported Platforms: EC2-Classic is missing
Hello,

We have several AWS accounts that uses the AP (Sydney) region with the supported platforms: EC2-Classic, EC2-VPC.
But, with one AWS account we do not have the platform: EC2-Classic. the account is PreSale-AP-Amazon@xmpie.com.
can you please check why is that and if it's possible to add this platform it would be great.

Thanks!"
Amazon EC2	"Re: Supported Platforms: EC2-Classic is missing
please see this post about the roll out:

http://aws.typepad.com/aws/2013/03/amazon-ec2-update-virtual-private-clouds-for-everyone.html

is there an issue you are encountering because of this?"
Amazon EC2	"Re: Supported Platforms: EC2-Classic is missing
No, there is no issue but i didn't understand why i can't have both the EC2-Classic and the EC2-VPC.
anyway, if it's by design then i'll live with it. but, if it's possible to add the EC2-Classic feature to that account it would be great.

also, is it possible to re-create the default VPC? I don't have a support plan so there is no other way for me to ask that.

thanks in advance,

Arik"
Amazon EC2	"Re: Supported Platforms: EC2-Classic is missing
Hello, 

Looks like we already communicated on the previous thread for recreating the default VPC. Do you have any other concerns that you would want me to address.

Thanks
Aarthi"
Amazon EC2	"Re: Supported Platforms: EC2-Classic is missing
There is no reference, link, nor any way to navigate to that mythical  ""previous thread"" which supposedly contains the incantation to get EC2 Classic instances back again - you know the ones that just worked out of the box."
Amazon EC2	"Re: Supported Platforms: EC2-Classic is missing
Hello Walter, 

I took a look at your account, you still have three regions that have both EC2 Classic and VPC - Us-East-1, US-West-1 and US-West-2. All other regions are VPC by Default.

It's not clear to which previous forum post you are referring to. There is no way to transition a region which is VPC by Default to EC2 Classic and VPC. Please let us know your specific issue and we would be happy to help!

Best Regards,
Jillian L."
Amazon EC2	"m3.xlarge instance has only 8 GiB storage?
We're running an m3.xlarge instance in production. When we created the instance, we requested 128 GiB of storage. The AWS Console reports that the attached root storage device is 128 GiB in size.

However, we ran out of storage last night. Using the linux 'df -h' command, we discovered that the root device was only 8 GiB in size.

$df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvde1      7.8G  7.5G     0 100% /
tmpfs           7.4G     0  7.4G   0% /dev/shm

Is this a bug? Did someone at AWS make a mistake when configuring this device?

We've been able to clear some space on the server but are puzzled as to how this could have happened. None of our other instances have this problem.

Has anyone else seen this problem before? Is there a way to correct it?

Edited by: spkThx on Jul 2, 2015 9:02 AM

Edited by: spkThx on Jul 2, 2015 9:02 AM"
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
What AMI are you running? What is the output of ""lsblk"" or ""fdisk -l /dev/xvde""?

When you create a new instance, Amazon takes an EBS snapshot of the root filesystem and clones it onto a new EBS volume of the size you requested. However, the snapshot is taken at a block level. So even if you have a 128GB disk, it contains a partition table and a filesystem that are sized to 8GB.

When you run a standard AMI like Amazon Linux or Ubuntu, one of the things that happens the first time an instance boots is that it detects the size of its disk, and resizes its root partition to use all of the available space. Normally, this is handled by the preinstalled ""cloud-init"" tools. (There's no ""someone at AWS"" involved; it's an entirely automatic process.) 

It sounds like either your AMI isn't properly configured to run cloud-init, or it somehow failed to resize its root partition. Check the logs from when your instance was first started. If you're feeling brave and have good backups, it's possible to manually resize the root partition while the instance is running."
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
Hi David,

Thanks for your reply. This is very helpful.

We're running CentOS 6.6, which is a free AMI available in the AWS Marketplace. That may explain why cloud-init did not run properly.

https://aws.amazon.com/marketplace/pp/B00A6KUVBW

Here's the output of lsblk and fdisk. It seems like we do indeed have 128 GiB of capacity, but only an 8 GiB partition is available, as you mentioned. 

$ lsblk
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
xvde    202:64   0  128G  0 disk 
â””â”€xvde1 202:65   0    8G  0 part /

$ fdisk -l /dev/xvde

Disk /dev/xvde: 137.4 GB, 137438953472 bytes
255 heads, 63 sectors/track, 16709 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00098461

    Device Boot      Start         End      Blocks   Id  System
/dev/xvde1   *           1        1045     8387584   83  Linux"
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
Hello,

The disk image on your instance is partitioned. cloud-init is unable to resize the filesystem without the partition being resized first. On systems where this works as you expected, it's done by some scripts in the ramdisk. It looks like CentOS 6 ships with cloud-init, but without the scripts to resize the root partition. Resizing the root partition can be tricky and dangerous to do manually, so we don't recommend it. You might supply extra space to your instance by attaching a separate volume and formatting and mounting that instead. Or you might try one of the other operating systems available on EC2.

I hope this explanation is helpful to you.

Best Regards,
Andrew"
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
Hello,

Taking Andrew's points into consideration, if you would still like to resize the partition, you can follow our documentation found here:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html

Be sure to take a snapshot beforehand, just in case.

Best regards,
Justin G."
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
Thanks, AndrewJ and JustinG for your responses.

As I understand it, even though CentOS has the cloud-init scripts installed, it was unable to resize the root partition due to some missing scripts on the RAMdisk. That seems to explain the issue, but it doesn't explain why our other CentOS based instances don't have this problem. 

We're going to work on a solution and will report back once we have it solved. In the meantime, when I brought up another instance based on a snapshot of this CentOS instance, it also had only an 8 GiB root partition, so it seems like the partition issue is ""baked in"" to the snapshot."
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
FYI, this is apparently a known issue with some of the CentOS AMIs available in the AWS Marketplace. I see that other users have had this problem in the past, although they seem to be using a different AMI than mine.

https://forums.aws.amazon.com/thread.jspa?messageID=539484
https://aws.amazon.com/marketplace/review/product-reviews/ref=dtl_prp_reviews_read_more?ie=UTF8&asin=B00NQAYLWO#_3IT27QBVDKK1X"
Amazon EC2	"Re: m3.xlarge instance has only 8 GiB storage?
Thanks for the feedback. We ended up taking the following steps:


Cloned the server
Resized the drive on the cloned server
Put the cloned server into production
Removed the original production server from rotation
Resized the drive on the original production server
Put the production server back into rotation
Make a snapshot of the new resized server."
Amazon EC2	"2015.03 yum upgrade error
I tried to upgrade my 2011.02 AMI instance to the latest (2015.03) and got this error:

$ sudo yum upgrade
...
...
Is this ok [y/N]: y
Downloading Packages:
Running rpm_check_debug
ERROR with rpm_check_debug vs depsolve:
dbus-python(python27) is needed by yum-updatesd-1:0.9-13.15.amzn1.noarch
Please report this error in https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%206&component=yum
 You could try running: rpm -Va --nofiles --nodigest
$

My python version is 2.6.6. I tried to update python 2.6, install python 2.7, update yum but to no avail - the error persists.

Three weeks ago I upgraded another 2011.02 AMI instance (to 2014.09 as it was the latest then) and there was no problem.

What do you think of that?"
Amazon EC2	"Re: 2015.03 yum upgrade error
Hi,

We strongly urge you to move to a newer AMI image.  The 2011.02 AMI is from the Amazon Linux AMI's ""public beta"" period, and it is not supported.

Are you able to update your processes and launch the 2015.03 AMI specifically?  It will mean that you're not trying to consume 4 years worth of updates via yum and make your operational life significantly easier.

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Re: 2015.03 yum upgrade error
Hi,
I had a very similar, if not exactly the same, problem.  Old instance that I wanted to bring up to date all at once.  Yum update failed with same error.  Digging around, I found a suggestion that dbus-python27 is essentially missing.  So I installed it: sudo yum install dbus-python27
It installed without error.  The overall update then completed successfully.  Took awhile to ""Complete!"""
Amazon EC2	"Re: 2015.03 yum upgrade error
Thanks, Michael.  I wanted confirmation that it worked for someone else, and your advice was spot on."
Amazon EC2	"Port 5223 - Connection Refused
I've installed Tigase on an EC2 instance and I'm getting the message 'connection refused' when I try to connect to it using an xmpp client (tried multiple). I've added rules to the security group to allow the traffic to those ports (even set it to allow any traffic from any source, same result). SSH (port 22) works fine, as does allowing HTTP.

Is there any specific configuration needed for port 5223?"
Amazon EC2	"Re: Port 5223 - Connection Refused
Hi there,

In general, a connection refused message comes directly from the Operating System not accepting the TCP connection, and instead sends a TCP RST packet back to the requesting, signalling that the connection is closed.

Typically this can happen if your operating system does not have any application running and listening on that specific port.

The first thing I would check is that your application is listening on Port 5223:

sudo netstat -tunlp | grep 5223

If nothing is returned, you application is not listening on that port."
Amazon EC2	"Instance Status Checks failed, 1h later, ok again!
Hi, I have an instance running Amazon Linux image (i-18d1b46b) that usually gives me no headaches but it failed on the ""instance status check"" for at least an hour. I tried to reboot, stop-wait-start and checked out the logs (attached). With no reason it came up online again, everything is fine but I didnÂ´t do nothing... 

The log file freaked me out...

can anyone say what happened?

thank you guys!"
Amazon EC2	"Re: Instance Status Checks failed, 1h later, ok again!
Hi,

Your instance experienced a series of CPU spikes. Please check with your CloudWatch graphs and see if these spikes correlate  with the time you experienced this issue.

Regards,

Tonderai."
Amazon EC2	"Re: Instance Status Checks failed, 1h later, ok again!
I saw that... I thought it was some exhausted resource like no disk space but again, I saw no evidence for such behavior on the cpu in syslog and httpd logs...
btw, thank you!"
Amazon EC2	"Regarding instance starting issue
When i am trying to start one of my instance then I am getting status 1/2 checks passed and instance status is showing as running. Still machine is not accessible to us.

Please suggest how we can resolve this issue."
Amazon EC2	"Security Group configuration for coreOS EC2 inter-communication
Hey Guys, 

Have an issue with defining the security group for an instance 'A' running CoreOS with service running inside a docker container exposing ports 9092 and 2181. 

These ports will be accessed via its public static IP by services running in its own containers on another CoreOS EC2 instance 'B'. These instances are NOT within the same VPC and are deployed under the EC2 classic mode. 

If we enable access to 'A' for everyone then things work fine for services in instance 'B'. However when we try to restrict access to specific IP ranges for the traffic that originates from B we loose access to 'A'. 

Can provide more info on the specific AWS resources upon further request. Any help would be appreciated here. 

Thanks, 
km"
Amazon EC2	"Re: Security Group configuration for coreOS EC2 inter-communication
Hi,

You could introduce ClassicLink - Information here:  https://aws.amazon.com/blogs/aws/classiclink-private-communication-between-classic-ec2-instances-vpc-resources/

It enables you to put your Classic instances into your VPC security groups allowing tighter security between your VPC and Classic environment and hopefully should resolve your problem.

Cheers,

Stooby...."
Amazon EC2	"Possible to assign a Name tag for Elastic IPs ?
Hi,

I use quite heavily the tags (especially Name)  for the various AWS objects that I use.

I am about to allocate a few elastic IPs that I would like to be able to distinguish easily from each other on the AWS console. I would like to use the Name tag to do so.

So, is there a way to define the Name tag for elastic IPs and make it visible on the console ?

Didn't find it yet....

regards

didier"
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
Thumbs up for this. It would be very beneficial to be able to tag the elastic IPs (also the security groups)"
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
I will log this as a feature request with our engineering team."
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
+1 on this feature 

Could see this morning the feature is available for security groups. Which is great. Thanks"
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
+1 on this one or +1 to tagging Elastic IPs. Either would work.

Tagging for Elastic IPs:
https://forums.aws.amazon.com/thread.jspa?messageID=351772"
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
I'm also missing this feature!

+1"
Amazon EC2	"Re: Possible to assign a Name tag for Elastic IPs ?
+1

tags for EVERYTHING (all object types) would be nice to have."
Amazon EC2	"Questions about the General Purpose (SSD) cost
I check my bill in June ,and found this:
EBS
$0.00 per GB-month of General Purpose (SSD) provisioned storage under monthly free tier	30 GB-Mo	$0.00
$0.12 per GB-month of General Purpose (SSD) provisioned storage - Asia Pacific (Tokyo)	0.042 GB-Mo	$0.01
i want to know the detail and why"
Amazon EC2	"Re: Questions about the General Purpose (SSD) cost
Hi ccavbb,

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 1443953571 for further information and assistance.

Should you have any billing or account related queries in future, you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Have a good day!

C.Manuel"
Amazon EC2	"This account is currently blocked and not recognized as a valid account.
Hi,

I am unable to launch a new EC2 instance on a relatively new account, due to a verification error on both an IAM account AND the primary root account.

Attempting to launch an Ubuntu t2.micro EC2 instance and receiving this error:

â€œThis account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.â€

Please advise.
Thanks in advance."
Amazon EC2	"Re: This account is currently blocked and not recognized as a valid account.
Hi  tjam1234,

I have replied to your recent support case # 1443310631.

If you have any further questions or concerns please reply to the case directly.

Have a good day!
C.Manuel"
Amazon EC2	"Extremely slow performance of EBS volumes in us-west-2 region
From over an hour all my instances are suffering from extremely slow performance of the EBS volumes.
I have different instances types, so it's not instance type related.
Does anyone have same issues or information about the problem?
The AWS status page reports that all services are running fine."
Amazon EC2	"Ubuntu apt-get install extremely slow download in EU Ireland region
Normally building a Ubuntu server it's very quick.  I'm either using the micro or small instance.  However, all of Tuesday/Thursday this week (regardless of how many instances I try to spin up) the install process with apt-get is shockingly slow.

Example:
sudo apt-get update (this bit is fine)
sudo apt-get install build-essential (this is taking hours!)

I can download random large files ok, so I don't think it's a general bandwith issue, but specific issue with the Ubuntu apt-get mirror.  This seems to be proven if I spin up a EU(Ireland) Ubuntu instance but use another region's /etc/apt/sources.list then download is fast.  But switching back to the local /etc/apt/sources.list and it's painful slow again.

Were there any issues with the mirror sites used by EU(Ireland) this week?  A bit worrying.

Thanks."
Amazon EC2	"Re: Ubuntu apt-get install extremely slow download in EU Ireland region
AWS support have confirmed there were a number of reports regarding this, but as the repo is managed by Canonical, it's out of their hands.

As a workaround they suggest using the public mirrors as per the following command:

sudo sed -i 's;eu-west-1.ec2.archive.ubuntu.com;eu.archive.ubuntu.com;' /etc/apt/sources.list"
Amazon EC2	"Volume stuck in attaching status
Hi,

Our server i-e1166912 attached two new volumes vol-31592ecd & vol-2bd3a6d7 the volumes is keeping in attaching status.
Can you fix it without rebooting the server?

Thanks!!

Gary"
Amazon EC2	"Re: Volume stuck in attaching status
Hello Gary,

Is it possible for you to detach those volumes and attach it using a different device names?

Regards
Shiroy"
Amazon EC2	"Re: Volume stuck in attaching status
Hi Shiroy,

Actually I created a volume first(/dev/xvdg), but it status was attaching.
2 hour later, I created another volume(/dev/xvdh). Both of volume status are attaching.

Gary"
Amazon EC2	"Re: Volume stuck in attaching status
Hello,
Thank you for the confirmation.
I have engaged our EC2 operations team to take a look at your instance.
We will keep you updated via this forum post as we hear back from them.
Regards
Shiroy"
Amazon EC2	"Re: Volume stuck in attaching status
Hi there pf_server,

I just checked and it seems that this issue is now resolved as of a couple of minutes ago. If you are still having issues please detail in thread or PM me if more appropriate."
Amazon EC2	"Re: Volume stuck in attaching status
Hi ,

I reboot the instance i-e1166912, then fixed this problem.

Thanks everybody.

Gary"
Amazon EC2	"Mail server not sending emails
I have built a mail server using mailenable and can successfully receive emails. Unfortunately, I cannot seem to send e-mails... my test app says the email has been sent but they do not seem to go anywhere. I am assuming I will receive mail undelivered messages soon.

-I have created the relevant security groups to allow inbound/outbound access for port 25
-I've created the relevant rules in Windows Firewall as well.
-I have sent the Amazon form asking for permission to send emails which they have granted.

One thing I haven't done is provide Amazon with the reverse DNS records - do I need to do this? What do I need to provide?

Other than that I am pretty stuck with this. I have another dedicated server with another hosting company and it works fine with pretty much the same setup, I'm thinking it's something to do with Amazon's firewall/servers?

Any help is appreciated.

Edit: I've just recieved the following email:

MailEnable: Message delivery has been delayed.

Message is waiting at xxxxxx.com for delivery to xxxxx.com.

The message will be retried for another 30 hours.

Reason: Mail server for xxxxxx.com could not be contacted at this time. MailEnable will keep trying to deliver this message and will notify you of any progress.

Cheers!

Edited by: MJ Levis on Mar 25, 2015 8:09 AM"
Amazon EC2	"Re: Mail server not sending emails
Yes, you need to provide reverse DNS for the EIP addresses as specified in the application form to remove these restrictions.
The Reverse DNS name should be identical to the DNS name as advertised in the mailserver when it sends out the EHLO/HELO command.
So if your mailservers advertises mail.mydomain.com then you should have them create a Reverse DNS mail.mydomein.com for the EIP address of your instance."
Amazon EC2	"Re: Mail server not sending emails
Hello MJ,

You definitely should set up reverse DNS records with your Elastic IP address for the instance you're trying to send emails from. You can find the form for getting reverse DNS records set up here: https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

All the information you'll need is documented on that form. You'll need to provide a use case for your request, the Elastic IPs you're setting up the records for, and the reverse DNS record for each EIP."
Amazon EC2	"Re: Mail server not sending emails
Perfect, cheers guys.
I have sent the form, hopefully this sorts the issue - I will let you know!"
Amazon EC2	"Re: Mail server not sending emails
OK, so I have had the confirmation from Amazon that they have configured the reverse DNS and I still have the same issue....I'm stuck!

I have done all NSLOOKUP's that the I can find on Google, all return successful. The following is the most important it seems:

nslookup IP of DNS Nameservers - this is where my domain is
set type=MX
mydomain

I get the ""non-authoritative answer"" back confirming my MX settings, which I assum is all good.

Edited by: MJ Levis on Apr 7, 2015 7:54 AM"
Amazon EC2	"Re: Mail server not sending emails
For me it seems that email sending limitations formerly removed are active again, at least partially. Therefore I've opened a thread."
Amazon EC2	"Re: Mail server not sending emails
OK thanks"
Amazon EC2	"Re: Mail server not sending emails
I've still not got this working yet...

I am going to re-send the application form with the reverse DNS settings again - perhaps I gave them the wrong information last time.

According to the request form I am to give them my elastic IP address and it's associated reverse IP record - this happens to be mail.myapplication.com

Does anyone else have any other suggestions or ideas?

Cheers"
Amazon EC2	"Re: Mail server not sending emails
Gone to Amazon support direct."
Amazon EC2	"Re: Mail server not sending emails
Did you ever solve this issue? I am having the same problem and can't find a solution other than to leave aws which is not my ideal choice but I need the ability to send mail. SES won't work for me.

Edited by: cyrid on Jul 14, 2015 6:38 PM"
Amazon EC2	"Re: Mail server not sending emails
Yes, I did.

Amazon support did not help the issue - luckily they refunded me the charge as the problem was not resolved.

In the end MailEnable support solved it for me:

""The DNS addresses you have specified within the SMTP properties DNS addresses field are not resolving external domains. Check your NIC DNS address settings and use those. You also need to specify IP addresses and not host names. For the local domain name field you need to use ""compnayABC.com"" and for the default mail domain use ""mail.companyABC.com (MX record).""

""To get to your NIC DNS settings, open a Windows command prompt and type: ipconfig /all. Use the DNS addresses listed for your network card in the SMTP DNS Addresses field for MailEnable.""

Hope this helps!"
Amazon EC2	"GovCloud c2-import-instance error on S3
When importing a VMDK using steps provided below I encounter the error listed below. Similar steps work fine with public AWS (us-west-2).

Steps used:
1. GovCloud import docs: http://docs.aws.amazon.com/govcloud-us/latest/UserGuide/migrate-amis.html
2. http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ImportingYourVM.html
3. Created a vmimport role with the relevant policies and created an S3 bucket <myawsbucket> in govcloud EC2 console

Command used:
ec2-import-instance centos.vmdk -f vmdk -t c3.xlarge -a x86_64 -b myawsbucket -o &ltAccess Key Removed> â€“w <SecretAccessKey> -p Linux

ERROR: Unable to create signed manifest URL. Could not verify the region for bucket <myawsbucket> ; received error: com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: A163033334C0D1C5), S3 Extended Request ID: EE6AxTYml+nnDCr2hwLx5s+zWnlQjkBBxqhwxOAYavHbEv+ZDBjCrknGbvpU+oBM

Edited by: jigarshah2014 on Jul 14, 2015 11:02 PM"
Amazon EC2	"URGENT : Billing for reserved instance
Hi,
By paying ""All upfront"" fees for reserved instance I found that no more monthly charges I need to pay. Is that true?

It is stated in this website, that ""With the All Upfront option, you pay for the entire Reserved Instance with ONE UPFRONT payment. This option provides you with the largest discount compared to On-Demand Instance pricing.""
http://aws.amazon.com/ec2/pricing/

So, for example, as my understanding, let say I choose, t2.small instance for 1 year. I just have to pay $257 for whole year without monthly charges. Am I right?

Please guide me. My company would like to purchase few reserved instance, and the pricing page confuses us."
Amazon EC2	"Re: URGENT : Billing for reserved instance
Hi there ethanblack,

You are correct that if you choose a reserved instance with the All upfront option that you will not incur instance hours fees for the duration of the term.

The caveat here is that this does not include data transfer and storage. These two items can incur charges also.

You can experiment with the below calculator to get more accurate predictions


http://aws.amazon.com/calculator


If you require further information feel free to contact our accounts and billing team using the below link


https://aws.amazon.com/contact-us/?nc1=f_m


Please note that you do not need a support subscription for billing and account related inquiries."
Amazon EC2	"Can I load test my website?
Hi,
I want to launch a ec2 instance to load test my LEMPs website. If I use something like siege this will generate a lot of traffic, which I am willing to pay for. But I'm wondering, will this violate any terms of service?

Edited by: impactjournals on Jul 14, 2015 9:09 PM"
Amazon EC2	"Move Address to VPC
Hello,

I have a long-running Elastic IP I need to move to VPC. After hours of fiddling with this, I'm getting nowhere. Not sure why it's not in the interface.

Here is the output I get when I try to move the IP on the command line with aws-cli/1.7.28:

$ aws ec2 move-address-to-vpc --public-ip 79.125.19.198
Â 
A client error (InvalidState) occurred when calling the MoveAddressToVpc operation: Address 79.125.19.198 cannot be moved. Please refer to documentation.


It's not associated with anything at the moment. Any ideas? Thanks."
Amazon EC2	"Re: Move Address to VPC
Hello,

The reason this EIP migration is failing is because you have a reverse DNS pointer record set up for this IP. In order to migrate the EIP the PTR record must be cleared first. Please let me know if you'd like to continue with that and I will go ahead and clear the record for you. You must then request the PTR record be recreated once the EIP has been migrated to VPC using the EC2 rDNS request form here: https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request"
Amazon EC2	"Re: Move Address to VPC
Yes, please proceed with removing the reverse DNS entry on this.

I have three other IPs I'd like to migrate, I will send those over a PM to do the same to them.

Thanks!"
Amazon EC2	"Re: Move Address to VPC
Hello,

I have gone ahead and removed the reverse DNS entry for Elastic IP: 79.125.19.198

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Move Address to VPC
Hi Ahmed,

I'm still getting the InvalidState error in the move-address-to-vpc command.

Is there some kind of propagation delay expected? Is there anything else preventing migrating the IP?"
Amazon EC2	"Re: Move Address to VPC
Hello,

It can take up to 48 hours before the DNS propagates. Please try again in 48 hours! 

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Move Address to VPC
48 hours seems a little long. Yes, it is possible, but unlikely long, considering the DNS record has propagated to hosts I have access to all over.

You're certain it isn't something else? At this rate, moving my four IPs over will take a week.

Thanks."
Amazon EC2	"Re: Move Address to VPC
Hello,

Thanks for your patience. I can confirm that you will be able to move the EIP within the next 24 hours. Moreover, you should know that we are working on a way to seamlessly move EIPs which have an rDNS pointer set to them, so as to improve the experience down the road. This feature will be available in the coming weeks.

Best Regards,

Anthony B."
Amazon EC2	"Re: Move Address to VPC
Thanks for the help. It took a while, but everything is resolved now."
Amazon EC2	"Re: Move Address to VPC
I have similar problem (I need to move an IP to EC2-VPC). I can't afford more than a couple of hours of downtime and from what I read in this thread there appears to be a potential window of 48 hours. 

Is this likely to improve soon? I can afford to wait a bit, but I need a clear timeplan for performing the migration with the least interruption to our client."
Amazon EC2	"Re: Move Address to VPC
We are also having the same issue trying to move our elastic ip address to our vpc. Can you remove our ptr record so we can move the ip address? Elastic Ip 54.225.72.128"
Amazon EC2	"BSOD on Server 2012 R2 -- xenvbd+16df9
Out of nowhere, I started getting crashes with one of my Windows Server 2012 R2 instances.  It would give me a BSOD about 3 times a day.  I looked at the minidumps, and most fo them had:

ExceptionAddress: fffff800d496cdf9 (xenvbd+0x0000000000016df9)
ExceptionCode: c0000409 (Security check failure or stack buffer overrun)

I finally stopped and restarted the instance, and now it hasn't crashed in about 4 days.  I would like to think that doing this fixed it -- maybe it was an underlying hardware problem, and now it's on a new physical host, but I would like to know for sure.

Has anyone experienced this exact problem? -- Thanks"
Amazon EC2	"Re: BSOD on Server 2012 R2 -- xenvbd+16df9
Hi there fbs88,

I have not seen that particular problem and I cannot find others that have had the same issue. If you provide your instance ID I can check to see if there was anything happened on the underlying infrastructure as you mentioned.

The only other suggestion that I would have would be to check your drivers as per the below

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Upgrading_PV_drivers.html#aws-pv-upgrade"
Amazon EC2	"FAILURE TRY TO CREATE EMR / SENTIMENTAL TWITTER MODEL
Hello, I am following this tutorial:
http://docs.aws.amazon.com/gettingstarted/latest/emr/awsgsg-emr.pdf

I have managed to get to Page 14 Step5 - Final sub-Step 9 and when trying to create cluster, keep getting a failure, and instance terminate.

JAR location: /home/hadoop/contrib/streaming/hadoop-streaming.jar
Main class: None
Arguments: -files s3://anuncio.some.bucket/mapper/sentiment.py -mapper sentiment.py -reducer aggregate -input s3://anuncio.some.bucket/input/ -output s3://anuncio.some.bucket/output/ -cacheFile s3://awsdocs/gettingstarted/latest/sentiment/classifier.p#classifier.p
Action on failure: Continue

Hardware seems to provision instance ok, and fails before getting to the next Bootstrap step 
s3://awsdocs/gettingstarted/latest/sentiment/config-nltk.sh"
Amazon EC2	"Re: FAILURE TRY TO CREATE EMR / SENTIMENTAL TWITTER MODEL
Hi: 
Can you give the jobflow/cluster ID for the failing cluster?

Thanks!"
Amazon EC2	"EBS snapshot stuck at 99%
I'm trying to take a snapshot from my volume vol-6cdb6270 . But it has been a while since it is stuck at 99%. Before taking the snapshot I have disassociated it from my instance.

How can I know if there is anything wrong with my volume or snapshot creation?"
Amazon EC2	"Re: EBS snapshot stuck at 99%
It was only taking too long. After a few more minutes the snapshot creation ended successfully."
Amazon EC2	"Severe Packet Loss to Oregon Regions
Hello, 

About a week or more ago, we started experiencing random slowdowns (5-15 second load times) on all of our EC2 backed sites. As shown in the attached screenshot (screen shot 1)... an MTR  shows that there is a consistent 50% packet loss between my test machine and the Elastic IP that is hosting a site for us.  I also see this on another one of my sites, though it is much less (screen shot 2)... I have already verified that these problems are not due to an overloaded server (the RDS and EC2 instance are damn near sleeping during the slowdown events)

It appears that there is one group of routers in the 10th hop that is causing the major issue (205.251.232.77,205.251.232.72, 205.251.232.94, and 205.251.232.79) and a 

I understand that you de-prioritize ICMP traffic on the Amazon network, so I have attached a tcptraceroute for both sites (see below)

[fgray@iris:~]
[12:34:21]> sudo tcptraceroute 54.69.12.103 443
Selected device en9, address 192.168.101.20, port 64846 for outgoing packets
Tracing the path to 54.69.12.103 on TCP port 443 (https), 30 hops max
 1  192.168.101.1  16.405 ms  1.073 ms  0.470 ms
 2  172.17.5.3  0.329 ms  0.163 ms  0.242 ms
 3  50-206-79-65-static.hfc.comcastbusiness.net (50.206.79.65)  1.094 ms  1.458 ms  1.614 ms
 4  ge-9-0-2-3290-sur01.eugene.or.bverton.comcast.net (50.206.79.1)  1.381 ms  3.926 ms  0.684 ms
 5  xe-8-1-1-0-ar03.troutdale.or.bverton.comcast.net (68.85.146.113)  3.521 ms  3.728 ms  3.883 ms
 6  he-0-4-0-0-11-cr02.seattle.wa.ibone.comcast.net (68.86.93.25)  8.761 ms  9.841 ms  8.000 ms
 7  he-0-13-0-0-pe05.seattle.wa.ibone.comcast.net (68.86.84.138)  9.190 ms  7.472 ms  9.325 ms
 8  as16509-1-c.seattle.wa.ibone.comcast.net (50.242.148.90)  7.354 ms  7.309 ms  7.247 ms
 9  205.251.226.189  12.489 ms  16.559 ms  13.237 ms
10  205.251.232.90  15.806 ms  14.907 ms  14.804 ms
11  205.251.232.149  14.476 ms  14.003 ms  14.757 ms
12  205.251.232.167  14.342 ms  15.571 ms  18.521 ms
13  * * *
14  * * *
15  * * *
16  ec2-54-69-12-103.us-west-2.compute.amazonaws.com (54.69.12.103) [open]  18.720 ms  20.123 ms  14.186 ms
Â 
[fgray@iris:~]
[12:34:54]> sudo tcptraceroute 54.69.12.103 443
Selected device en9, address 192.168.101.20, port 64957 for outgoing packets
Tracing the path to 54.69.12.103 on TCP port 443 (https), 30 hops max
 1  192.168.101.1  0.598 ms  0.535 ms  0.495 ms
 2  172.17.5.3  0.215 ms  0.187 ms  0.193 ms
 3  50-206-79-65-static.hfc.comcastbusiness.net (50.206.79.65)  1.165 ms  1.115 ms  0.984 ms
 4  ge-9-0-2-3290-sur01.eugene.or.bverton.comcast.net (50.206.79.1)  0.726 ms  0.718 ms  0.729 ms
 5  xe-8-1-1-0-ar03.troutdale.or.bverton.comcast.net (68.85.146.113)  3.489 ms  3.517 ms  3.482 ms
 6  he-0-4-0-2-10-cr02.seattle.wa.ibone.comcast.net (68.86.95.97)  9.145 ms  9.703 ms  8.715 ms
 7  he-0-13-0-0-pe05.seattle.wa.ibone.comcast.net (68.86.84.138)  8.606 ms  7.571 ms  7.698 ms
 8  as16509-2-c.seattle.wa.ibone.comcast.net (50.242.148.94)  7.349 ms  7.365 ms  7.490 ms
 9  205.251.226.181  14.505 ms  17.721 ms  14.085 ms
10  205.251.232.74  12.974 ms  12.962 ms  12.986 ms
11  205.251.232.205  13.369 ms  13.434 ms  13.338 ms
12  205.251.232.222  12.919 ms  14.447 ms  14.501 ms
13  * * *
14  * * *
15  * * *
16  ec2-54-69-12-103.us-west-2.compute.amazonaws.com (54.69.12.103) [open]  14.524 ms  18.850 ms  14.193 ms


[fgray@iris:~]
[12:34:31]> sudo tcptraceroute 54.191.225.113 443
Selected device en9, address 192.168.101.20, port 64850 for outgoing packets
Tracing the path to 54.191.225.113 on TCP port 443 (https), 30 hops max
 1  192.168.101.1  0.598 ms  0.789 ms  0.507 ms
 2  172.17.5.3  0.334 ms  0.165 ms  0.239 ms
 3  50-206-79-65-static.hfc.comcastbusiness.net (50.206.79.65)  1.113 ms  1.082 ms  1.002 ms
 4  ge-9-0-2-3290-sur01.eugene.or.bverton.comcast.net (50.206.79.1)  0.956 ms  0.650 ms  0.696 ms
 5  xe-8-1-1-0-ar03.troutdale.or.bverton.comcast.net (68.85.146.113)  3.454 ms  3.506 ms  3.500 ms
 6  he-0-4-0-6-10-cr02.seattle.wa.ibone.comcast.net (68.86.93.81)  8.085 ms  9.758 ms  8.284 ms
 7  he-0-13-0-0-pe05.seattle.wa.ibone.comcast.net (68.86.84.138)  7.630 ms  7.612 ms  7.490 ms
 8  as16509-1-c.seattle.wa.ibone.comcast.net (50.242.148.90)  7.300 ms  7.431 ms  7.318 ms
 9  205.251.226.187  12.905 ms  15.254 ms  14.820 ms
10  205.251.232.72  12.898 ms  12.452 ms  12.730 ms
11  205.251.232.199  12.954 ms  13.036 ms  13.095 ms
12  54.239.48.187  14.080 ms  12.596 ms  12.701 ms
13  * * *
14  * * *
15  * * *
16  ec2-54-191-225-113.us-west-2.compute.amazonaws.com (54.191.225.113) [open]  14.226 ms  15.557 ms  13.069 ms
Â 
[fgray@iris:~]
[12:35:06]> sudo tcptraceroute 54.191.225.113 443
Selected device en9, address 192.168.101.20, port 64960 for outgoing packets
Tracing the path to 54.191.225.113 on TCP port 443 (https), 30 hops max
 1  192.168.101.1  0.595 ms  0.640 ms  0.504 ms
 2  172.17.5.3  0.179 ms  0.205 ms  0.238 ms
 3  50-206-79-65-static.hfc.comcastbusiness.net (50.206.79.65)  1.053 ms  1.020 ms  1.120 ms
 4  ge-9-0-2-3290-sur01.eugene.or.bverton.comcast.net (50.206.79.1)  0.727 ms  0.760 ms  0.743 ms
 5  xe-8-1-1-0-ar03.troutdale.or.bverton.comcast.net (68.85.146.113)  3.487 ms  3.486 ms  3.442 ms
 6  he-0-4-0-2-11-cr02.seattle.wa.ibone.comcast.net (68.86.90.213)  9.078 ms  9.185 ms  8.611 ms
 7  he-0-13-0-0-pe05.seattle.wa.ibone.comcast.net (68.86.84.138)  8.062 ms  7.598 ms  7.649 ms
 8  as16509-1-c.seattle.wa.ibone.comcast.net (50.242.148.90)  7.457 ms  9.147 ms  8.152 ms
 9  205.251.226.189  16.297 ms  14.100 ms  17.221 ms
10  205.251.232.90  14.769 ms  14.781 ms  14.864 ms
11  205.251.232.149  15.888 ms  15.742 ms  15.385 ms
12  54.239.48.179  14.201 ms  14.449 ms  13.904 ms
13  * * *
14  * * *
15  * * *
16  ec2-54-191-225-113.us-west-2.compute.amazonaws.com (54.191.225.113) [open]  14.664 ms  12.637 ms  12.832 ms


I can also provide a tcp packet capture that shows a number of TCP retransmits during an SSL conversatation.

Any help would be greatly appreciated... I have clients who are complaining about the performance and I need some resolution.

Edited by: concentricsky on Jul 1, 2015 12:38 PM"
Amazon EC2	"Re: Severe Packet Loss to Oregon Regions
Hello, 

Are you still experiencing this issue? 

A few things I noticed on your MTR:
1. Your MTR is to two different IPs. 
2. Neither of them show any packet loss to the target node (54.69.12.103 or 54.191.225.113), only some packet loss at the intermediary hop which as you stated earlier, is due to ICMP deprioritization. 
3. 15ms is very healthy, and shouldn't lead to 5-15 second load times. 

If you're still having reports of issues, it may be worthwhile to leave a ping or MTR up for a significant period of time to verify if any packet loss is seen. Packet loss to a single hop in the middle is not indicative of a problem. Packet loss to a single node in the middle indicates that node is deprioritizing replying to ICMP, and you'll notice every hop past that doesn't show any packet loss at all. 

Regards,
Nick"
Amazon EC2	"AWS DNS not functioning in US-EAST-1E
It seems that the DNS server for multiple servers in the US-EAST1e AZ is not responding. We can hit Google DNS just fine, but the default AWS DNS appears to be toggling between slow and down. Please advise."
Amazon EC2	"Re: AWS DNS not functioning in US-EAST-1E
Hello, 

I see it's been awhile since you've posted this, are you still able to reproduce this issue? 

If so, could your provide us with:

1. How exactly are you testing this? 
2. What instance IDs do you have that you're able to reproduce this with? 
3. What your configured DNS servers are?

Regards,
Nick"
Amazon EC2	"Update on Abuse case 57809761016
It has been 6 days since I sent in this report, an abusive report should be responded to worst case scenario within 48 hours. I do not understand what is expected of someone who is attacked by over 150 EC2 IPs to do outside of block all EC2 netblocks when they receive no response at all from AWS abuse."
Amazon EC2	"Re: Update on Abuse case 57809761016
Hello,

I sincerely apologize for the delay with getting a response from the AWS Abuse team. I am able to confirm the AWS abuse team has responded to both of your open cases. If you have any additional questions or concerns, please do let us know.

Again, I do apologize for the delay in response.

Regards,
Mohsin"
Amazon EC2	"Re: Update on Abuse case 57809761016
Mohsin,

They sent an automated response regarding additional IPs I added to the list 6 days ago. As it  has been 6 days can you have them send over what they have found such as a mistake by a customer whom is resolving it or etc?

Thanks"
Amazon EC2	"Questionable AWS Reliability
To my horror, I received an email communication for my AWS Account 629716523433 that my C4 Large instance i-6996c899 is unreachable and it will be stopped or terminated by 28-July. It was horrific because when I received the email, I had only 2 hours before an important business meeting on which revenue of around $20,000 was riding. Not a small amount of money for an Indian start-up like ours. Important meeting because it included L&D Head of one of Big 3 Indian IT companies.

Thankfully, I was not in a flight and my techie was also available and we could start a new instance in flat 22 minutes. But thats what made me thinking about reliability of AWS. I have been having a good time since shifting from GoDaddy since end of March 2015, since AWS machine is really more powerful. But in my 2 years of stay with GoDaddy, I didnt had such an unreliable moment.

What would have happened if I missed the message or was not around to take it? What if my techie was not available? While AWS is good in promptly sending the message and even better in having a system wherein a new instance can be setup in ligthening quick time. May I know if this all that AWS can do on the reliability front? While I understand that physical infrastructure can be unreliable, why cannot AWS do the following to prevent instances of mental torture for the customers-

(a) Enable sending of instance failure email & sms to several email addresses / mobile and not just the owner.

(b) Enable a system wherein a similar instance is automatically created for the damaged instance and EBS and elastic ip (if any) gets automatically attached to new instance. I required this much; others may require more options

I would like to add that mine is a global-audience start-up, which means it is frequented 24*7*365 and because it is a start-up, we cannot have a 24*7*365 techie watchman. Perhaps, being at AWS may increase our cost as it is forcing us to have one.

And this is not an isolated incident. My friend in another start-up faced the very same issue 6 days back! He didnt raise it with you since it was his testing server. But I have implored him to raise it with you, so that AWS, a supposedly customer-centric company, improves its reliability quotient; it is definitely lacking currently."
Amazon EC2	"Re: Questionable AWS Reliability
First of all, you are in the ECS forum which is for the EC2 Container Service, a specific service that is unrelated to your issue.

What you're describing is a natural consequence of cloud computing. You need to architect for failure. EC2 is not to be treated as a standard colocation provider, otherwise you're in for some pain. Typically the standard way to handle such a scenario is to create an Auto-Scaling Group of minimum size 1 and maximum size 1, and set up the group to spin up a new instance if the old one fails. You would use the corresponding launch configuration to automatically configure the machine upon instantiation. Here is the getting started documentation for auto-scaling:

http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/GettingStartedTutorial.html"
Amazon EC2	"Redirect HTTP traffic to HTTPS
I'm having issues forcing HTTPS with a site that I'm deploying through AWS Elastic Beanstalk.

It's a frontend application using EmberJS. I've been going around in circles for many days trying to figure out how to redirect http traffic to https. I'm using Amazon Linux AMI on my EC2 machine.

I've come to the conclusion (still not sure if this is right) that it is not within EBS that I force HTTPS. I'm allowing both HTTP and HTTPS through my EBS Load Balancer, and am attempting to redirect on the server. I have tried variations of this, such as only allowing HTTPS traffic through EBS, but that does not redirect.

This is where I'm running into problems. I'm finding many answers about rewrite rules without mod_rewrite which are based around the X-Forwarded-Proto Header, but that file does not exist on my EC2 machine according to a find search.

I'm using EB CLI and I've also tried creating a config file within the .ebextensions directory, but that did not work either.

The main thing I am trying to do is have users directed to https when the try to hit the http address. Any pointers or suggestions are much appreciated, thanks!"
Amazon EC2	"Importing OVA file fails with ""ServerError: an internal error has occurred""
Hi everyone.

I'm trying to upload my second server to EC2 (already working with 40 deployed in EC2). The first one was simple, with only 1 disk, but now I'm trying to upload a OVA file with 2 disks.

The OS is W2003 x86. I've generated the ova and uploaded to S3 following the guidelines in http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingImportImage.html

When I launch the ""import-image"" command, the process begins but in a minute or so it fails:

C:\Users\Administrador>aws ec2 describe-import-image-tasks
IMPORTIMAGETASKS        AAAAAAAAAAAAAA  import-ami-fgvowo1z     active  ServerError: an internal error has occurred during conversion.
SNAPSHOTDETAILS 0.0
USERBUCKET      vmware-XXXX    BBBBBBBBB.ova

Â¿Any ideas on how to begin to debug this problem?"
Amazon EC2	"Extremely slow snapshot in us-east-1
Snapshot snap-7e2c7cef of a 250 GB SSD volume has been running for over 2 hours.  After about an hour, I started the source instance back up since we couldn't afford that kind of downtime."
Amazon EC2	"Re: Extremely slow snapshot in us-east-1
Hello,

Upon reviewing your EBS snapshot snap-7e2c7cef, I can see the current progress is at 68%. Please allow a few more hours for completion. 

The time to create an EBS snapshot is based on the number of changed blocks since the last snapshot. A few small changes would result in a very quick snapshot creation, many changes would require more time to capture on a snapshot. It would take a longer time if this is the first EBS snapshot of the EBS volume you are snapshotting.

If you have any additional questions or concerns, please do let us know. 

Regards,
Mohsin"
Amazon EC2	"AutoScaling suspend-processes allows enter standby, but not exit standby
I use CodeDeploy with an AutoScalingGroup.
In preparation to the deployment the CI server launches a new Instance and deploy one after another. With that mechanism the group size matches the desired.
To avoid launching, terminating (because of AZ balance) the CI server suspends processes of the AutoScalingGroup.
With that I can call EnterStandby on one node to deploy to it, but after the deployment I can't call ExitStandby giving following error message:

A client error (ValidationError) occurred when calling the ExitStandby operation: Cannot move instances out of Standby for AutoScalingGroup web-portal while the Launch process is suspended

That behaviour is totally inconsistent and requires a lot of hacking to dont lent the deployment crash. The CI server should have the control of the deployment and autoscalinggroup manipulation, not the nodes.

Has anyone antoher solution?"
Amazon EC2	"Unable to SSH in newly created instance
Hello Team,
After digging thru lot of forums, online tutorial and seemingly similar issues; i am at loss and hence the question. I created a new EC2 Instance, downloaded the PEM file, set the permissions correctly on the pem file, and the inbound rule on the host are also fairly less restrictive. However SSH times out and can't connect to the host. I also opened up ""echo"" on icmp protocol; ping worked only for a couple of times, and continued to time out. 

Here is -vvv output of my ssh command.  I have changed the ip/and name of the key for privacy.

==
$ ssh -vvv -i ""XXX-large.pem"" ec2-user@nn.nn.nn.165 
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to nn.nn.nn..165 http://nn.nn.nn..165 port 22.
debug1: connect to address nn.nn.nn..165 port 22: Operation timed out
ssh: connect to host nn.nn.nn.165 port 22: Operation timed out
==

here are the instance IDs: 
==
i-b3c77d7b
i-0de65cc5
i-ebca7023
==

Btw - I don't see public dns hostname, but i have a public IP address.
TIA

Edited by: Prasanna on Jul 14, 2015 12:35 AM"
Amazon EC2	"Re: Unable to SSH in newly created instance
did you select a security group for these instances to run with that permits your client ip address to connect on tcp port 22 ?

Edited by: skaperen257 on Jul 14, 2015 3:26 AM"
Amazon EC2	"Re: Unable to SSH in newly created instance
Hello,

I did take a look at your instances and it seems to be in stopped state.
Could you please start atleast one instance so that we can verify the security groups, network ACLs and VPC route table your instance is using?

Regards
Shiroy"
Amazon EC2	"EC2 with Multipul EIP's
Hi, im having problems with adding a second Elastic IP to a server.

I created the second network interface and assigned a second elastic ip to the server and added it to the server.

even created a second subnet.

but i can only get the server use / connect on 1 at a time either eth0 or eth1  not both?

im i missing something?

Kevin"
Amazon EC2	"Re: EC2 with Multipul EIP's
Hello,

The reason why you are not able to connect to one Elastic IP is due to the assymetric routing issues. You will have to do some manual configuration in your instance level to make it work. This is documented here.

Other option is to add an additional IP to your existing ENI (eth0) and attach an additional Elastic IP to the same interface. The number of supported IP addresses varies by instance type. Consult the Elastic Network Interfaces documentation to see how many addresses are supported by the instance types that you use. Depending on your use case, you may also need to configure your EC2 network interfaces to avoid asymetric routing. In Amazon Linux, the package ec2-net-utils will this issue.

Regards
Shiroy"
Amazon EC2	"Cannot create a volume from a fresh snapshot on east-1b
Hello,

Before doing an update on my EC2 instance, I created a snapshot of my root volume. My update ran into some problems and I would like to return to my snapshot state.

However, when  I try to create a volume from my snapshot, I get:

General Purpose (SSD) volumes are not available in the selected availability zone: us-east-1b.

When I change the volume type to IOPS, I get:

The specified zone does not support io1 volume type.

What are my options to create a volume on east-1b that would run with my instance also on east-1b ?

Thanks

Gilbert"
Amazon EC2	"Re: Cannot create a volume from a fresh snapshot on east-1b
did you use a Marketplace AMI?"
Amazon EC2	"how to make a read-only volume?
i tried to mount an attached volume and got this:

mount: /dev/xvdf1 is write-protected, mounting read-only

i could not find any read-only flag on the volume.  how do i set a volume to be read-only?"
Amazon EC2	"EC2 scheduled reboot without notification
Hi,

Yesterday, on 12th of July 2015, two of our instances were rebooted. For both auto scaling history shows this was a scheduled reboot but we haven't received any notification.

Description: Terminating EC2 instance: i-b5d66177
Cause: At 2015-07-12T06:01:56Z an instance was taken out of service in response to a EC2 scheduled reboot.


Description: Terminating EC2 instance: i-1bd463d9
Cause: At 2015-07-12T04:03:18Z an instance was taken out of service in response to a EC2 scheduled reboot.


Could we please receive any information why has this happened and why haven't received any notifications before the actual reboot.

Many thanks,
Luka"
Amazon EC2	"Re: EC2 scheduled reboot without notification
Hello Luka,

Notification was sent June 25th for both of these instances to the primary email registered with account 437295427456 at that time.  I can see that this email was recently updated, however, to a new address which was confirmed by us today.

Do you still have access to the old email account to verify receipt?

Best regards,
Justin G."
Amazon EC2	"Re: EC2 scheduled reboot without notification
Hi Justin,

Owner or the old email went through the messages and found it.
Sorry for the mistake and thank you for your help.

Cheers,
Luka"
Amazon EC2	"AWS CLI Sync problem
Hi
It seems that aws cli sync have problem with syncing files with names containing non ascii characters like Ã¥Ã¤Ã¶. I my case the sync stops without any messaging. Could this be confirmed?

Edit;
It might be that this problem i related to filenames with control characters. I have files like this that seems to cause the to sync abort.

Some_-blÃ¥-510x510-114x114.jpg
Some_-bl?-510x510Â§-114x114.jpg

Edited by: jontase on Jul 9, 2014 4:33 PM"
Amazon EC2	"Re: AWS CLI Sync problem
Bump"
Amazon EC2	"Re: AWS CLI Sync problem
Also having trouble with swedish characters running ubuntu on ec2. Cant seem to get the right settings on ubuntu server 14.04?"
Amazon EC2	"Re: AWS CLI Sync problem
If you want to sync files to S3 go for s3cmd, that worked for me.

/J"
Amazon EC2	"Cannot release Elastic IP from the account
I cannot release the Elastic IP from my account, and no one respond to my case opened in the support center.

It already keep producing some charges in my account, but I cannot release it, anyone may help here please?"
Amazon EC2	"Re: Cannot release Elastic IP from the account
Hello,

Looks like the Elastic IP had a PTR record set up for it:$ host 54.179.140.240
240.140.179.54.in-addr.arpa domain name pointer mail.zoolight.com.
This has been removed and you should be able to release the EIP.

You should no longer be accruing charges once released and our Billing department should be able to work with you on getting any refunds/credits issued via the case you have open.

Best regards,
Justin G."
Amazon EC2	"Re: Cannot release Elastic IP from the account
Thanks Justin.

Hopefully I could get some reply from your billing team..."
Amazon EC2	"EC2 Instance Just... Stopped
Hi,

I have an EC2 instance that doesn't want to do anything (serve web pages, SSH, stop or start). However, if I create a snapshot, then AMI, then copy from that instance, the copied instance seems to work fine. Any suggestions what might be happening?

Details as follows.

Just had a problem with an EC2 instance that I don't understand.

The first we knew of the problem was when our EC2 instance (i-df23ba10) stopped serving web pages.

So, I tried to login to the instance via SSH terminal, but the the system didn't respond.

Then, I tried rebooting instance via Amazon Console. Nothing happened.

So, I tried to stop the instance. The state turned to stopping but seemed to hang there, it didn't actually stop.

Since the instance serves a dozen production sites I didn't want the server down for an extended period. So, I created an AMI and then copy of the instance from our daily backups and switched the Elastic IP to that.

Once the crisis was over, I created a snapshot, an AMI, then a Test instance from the original (i-df23ba10) hung instance. That test instance seemed to run fine although, I had trouble stopping it too.

Then, I discovered I could right click on the original instance in Amazon console and ""Forcefully Stop"". That worked. However, when I tried to start the original instance (i-df23ba10), it just hung.

I've had a look at some of the OS logs, but don't see any red flags there.

Any suggestions on why or how to fix or how to stop happening again?

Thanks

Regards

Brett"
Amazon EC2	"Performance hit of accessing one EBS volumes from many EC2 instances.
I was wondering how EBS would perform if several EC2 instances would be accessing one EBS through NFS (read only). 
Use case would be for heavy IO file processing jobs (e.g. Spark standalone cluster). Will EBS use some kind of caching and still perform well or this is just a bad idea?"
Amazon EC2	"Re: Performance hit of accessing one EBS volumes from many EC2 instances.
As far as I know, EBS does not do any local caching, as that is up to your OS to deal with.

You would want an EBS-optimized instance, and to understand how EBS performance works both from IOPS and throughput, and your limitations on both.

On another note, Elastic File System will be generally available at some point in the future for a shared NFS volume."
Amazon EC2	"Instance stopped responding
AWS Admins:
After being listed as ""impaired"", one of our instances (i-e7388487) has stopped responding to SSH and other connections.  I issued a ""stop"" from the web console, but the instance is now stuck in ""stopping"" state.  Can you please resolve this?  Thanks."
Amazon EC2	"Re: Instance stopped responding
This is resolved.  Thanks."
Amazon EC2	"EC2 Instance Status Check Failed - No logs available to know why
Hi, 

This morning one of our production EC2 instances(i-8f0d7862) was unreachable. When I logged into AWS it showed that it had failed both system status and instance status check. I have attached a screenshot for reference.
I had to stop (the stop action took some time which was unusual) and start the server through AWS. The server did come back up online after that. I went into the Server logs but there is no logs out there indicating why the server was unreachable. 
Am i missing something here? Is there any way to identify what went wrong? Please let me know, any support would be appreciated. 

Thanks,
Jai"
Amazon EC2	"Re: EC2 Instance Status Check Failed - No logs available to know why
Hi there Jai,

I have looked at the history of this instance and I can advise that the issue that you are talking about occurred while the underlying infrastructure that the instance was running on was having an issue.

When you have these issues the first step of stopping and starting the instance will move it to healthy underlying infrastructure. When it takes some time for the instance to stop as it did in your case that is usually an indication that there might be an issue with the infrastructure that the instance is running on.

For the future you can create a support case if your instance in failing these health checks for longer than 20 minutes with the below information

https://aws.amazon.com/premiumsupport/faqs/#sfhc20

If it suits your use case you can also create an alarm to perform an action for you

http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/UsingAlarmActions.html"
Amazon EC2	"Can't connect to Ubuntu EC2 instance after running out of memory
I am running an EC2 Ubuntu instance on AWS and have been able to SSH into it perfectly ever since it was launched in early June. 

About a half hour ago, a process running caused the server to run out of memory (A person in my group was working on the server and notified me of this. I was unable to ssh into it after they told me about it). I rebooted the server and am still unable to ping or ssh into the server. Whenever I try one of these, the connection times out. The instance ID of this server is i-f94e6429.

I know it isn't anything with the security groups since myself and my friend in my group has been able to ssh into it many times before and even earlier today. I feel like it's just stuck or something because of the memory running out but I don't know how to solve this issue.

Any help on this would be greatly appreciated.

Thanks,
Erik

Edited by: pinacoladaburg on Jul 13, 2015 12:01 PM"
Amazon EC2	"Re: Can't connect to Ubuntu EC2 instance after running out of memory
The IP address changed without me knowing and that was the cause of the issues. I just wasn't thinking properly."
Amazon EC2	"Unable to connect via other networks
Hi,

I have been attempting to allow others to connect via RDP to my EC2 instances, but I can't seem to allow access. From my network where I work I am able to ping, RDP, etc. As a troubleshooting step I tried allowing ICMP from anywhere in my security groups, but I still cannot even ping my instances from other networks. I am a bit confused, as I do not see my network at work defined anywhere, and the VPC rules are allowing traffic from 0.0.0.0/0.

I have not ruled out the possibility of firewalls being the cause of my issues, but I have no way to verify that currently. I would like to be sure I have done everything on my end before reaching out to others.

Thanks in advance."
Amazon EC2	"Re: Unable to connect via other networks
Hello,

I took a look at your account and could see that you have both Windows and Linux instances.
As per the security group assigned to all your EC2 instances, it accept ICMP ping from all source (0.0.0.0/0). I did try to ping to your instances and was able able to get a reply back.  Opening your instances publicly especially for ICMP is not a recommended approach. So, I would recommend you to close this down once your testing is over.

Also, I noticed that none of the windows instance's security group are allowing ingress connection on RDP port 3389. You will have to allow ingress connection on TCP port 3389 from your trusted sources to get connected via RDP. Similarly, for Linux instances, you may have to enable ingress port 22 for SSH access.

Regards
Shiroy"
Amazon EC2	"Re: Unable to connect via other networks
Thank you for the reply.

I made a hasty assumption when I was working on this last week, as a colleague could not connect via RDP and neither could I from a different network. It turned out that the network I was attempting to connect from had some apparent firewall policies blocking my access (and I'm guessing my colleague also was being blocked by a firewall). I created a security rule allowing access from my phone's 4g address and I was able to connect. That at least confirmed that I was performing the correct steps to allow access.

I'm a bit confused by the second half of your reply. Not only does it appear to me that ingress connections on port 3389 are allowed, but I have been connecting to those instances without an issue from my work's network. Alas, I seem to have discovered my problem is not my EC2 settings."
Amazon EC2	"Re: Unable to connect via other networks
Issue did not appear to be EC2 related."
Amazon EC2	"Instance stuck and unresponsive for ~17+ hours after AWS maintenance
Hello,

One of our instances was down for a scheduled AWS maintenance window yesterday, and has not come back. It's been in the ""stopping"" state for ~4 hours since we attempted to stop and force stop the instance. Before then, the instance was sitting unresponsive for ~13 hours, according to the AWS console.

The instance ID is i-57549a3a.

Any help is greatly appreciated!"
Amazon EC2	"Re: Instance stuck and unresponsive for ~17+ hours after AWS maintenance
Hello,

Your instance should now be stopped. Can you please start back and confirm that everything is running fine? We are extremely sorry for any inconvenience this may have caused.

Regards
Shiroy"
Amazon EC2	"Re: Instance stuck and unresponsive for ~17+ hours after AWS maintenance
Hi Shiroy,

Thank you so much for your quick response! I was able to successfully start the instance.

I have one other question - because the instance was unresponsive for long enough, we received an automated email saying that the instance was marked for retirement. Since the instance is properly running again, is it possible to unmark it for retirement? Or should we still migrate it to a different instance?"
Amazon EC2	"Re: Instance stuck and unresponsive for ~17+ hours after AWS maintenance
Hello,

The stop and start you did initially has cleared the retirement event for this instance.

Best regards,
Justin G."
Amazon EC2	"Permission denied (publickey). Again.
Hello!
I know, that on this forum or in the Net a lot of topics with same problem and many solutions. But I guess, my case is strange.
For all actions I used Putty. My local os is Windows and on the server - Amazon Linux.

I've been using ec2 since April under ec2-user. In last Saturday I created two users for developers without permissions for sudo, it's important. Now they are working well. After that I logged out of ec2-user.
Sunday morning, I tried to log in as ec2-user and had an error: 
Permission denied (publickey).

Okay, I tried to use ssh command from MinGW. I had same error.
I thought, maybe when I was creating new users, I accidentally killed a ec2-user's authorized_keys file.
I decided to regain access to this user to use manual. I launched new instance with current key pair (because I know old private key), mounted a volume from old instance and copied authorized_keys (with old public key) to /mnt/tempvol/home/ec2-user/.ssh/authorized_keys etc.
I tried to connect to my old instance and I had error again. But few minutes ago I used these private and public keys for connection with new instance.
After that I used manual again and created (by ssh-keygen) new public and private keys for ec2-user. This time I temporarily set  777 permissions to .ssh/authorized_keys and now I can change keys without replace instances. It didn't work too.
 
$ ssh -v -i ec2-user.pem ec2-user@52.28.166.111
OpenSSH_6.6.1, OpenSSL 1.0.1i 6 Aug 2014
debug1: Connecting to 52.28.166.111 [52.28.166.111] port 22.
debug1: Connection established.
debug1: identity file ec2-user.pem type -1
debug1: identity file ec2-user.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.2
debug1: match: OpenSSH_6.2 pat OpenSSH* compat 0x04000000
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5-etm@openssh.com none
debug1: kex: client->server aes128-ctr hmac-md5-etm@openssh.com none
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA 5b:e0:0b:a6:c0:71:65:c0:86:b5:4c:d3:c2:a7:91:26
debug1: Host '52.28.166.111' is known and matches the ECDSA host key.
debug1: Found key in /c/Users/bilde_000/.ssh/known_hosts:3
debug1: ssh_ecdsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Trying private key: ec2-user.pem
debug1: key_parse_private2: missing begin marker
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

So, after this procedure, I don't know how to regain access to ec2-user. I hope you can help me.

Thanks.

Edited by: bildeyko on Jul 13, 2015 5:55 AM

Edited by: bildeyko on Jul 13, 2015 8:08 AM"
Amazon EC2	"Re: Permission denied (publickey). Again.
I did it.
I set all permissions for other user on ec2-user home directory. It was the main reason of trouble. sshd(8) doesn't like it.

From sshd(8) man page:
~/.ssh/authorized_keys
Lists the public keys (DSA, ECDSA, Ed25519, RSA) that can be used for logging in as this user. The format of this file is described above. The content of the file is not highly sensitive, but the recommended permissions are read/write for the user, and not accessible by others.
Â 
If this file, the ~/.ssh directory, or the user's home directory are writable by other users, then the file could be modified or replaced by unauthorized users. In this case, sshd will not allow it to be used unless the StrictModes option has been set to â€œnoâ€."
Amazon EC2	"Need to force delete security group
I have an EC2 classic security group that is being referenced by a third-party AWS account.  Due to this dependency, I cannot delete this security group, and I have no way of accessing the third-party account to remove the reference.

AWS support, can you please help me to force delete it?"
Amazon EC2	"Re: Need to force delete security group
Hello Chao L.,

I'd be happy to look into this for you.  Can you please supply the Security Group ID (sg-a1b2c3d4) and and Instance ID (i-a1b2c3d4) used by the security group for me investigate this issue further.

Thank you,
Anthony H."
Amazon EC2	"Re: Need to force delete security group
Anthony, appreciate the prompt reply.  Thank you.

The security group ID is sg-3ff51056 in us-east-1.  It is not in use by any instance within my AWS account."
Amazon EC2	"Re: Need to force delete security group
Anthony, may I know if this has been taken care of?

I am still not able to delete the security group myself."
Amazon EC2	"Re: Need to force delete security group
Hi,

I have escalated this issue to the EC2 service team. I will come back to you once I have feedback.

Regards,

Souza S"
Amazon EC2	"Re: Need to force delete security group
Hello,

Can you please provide a screenshot of the error you are seeing when trying to delete this Security Group?  This will be helpful to us if you are still seeing issue.

Best regards,
Justin G."
Amazon EC2	"Article - Overview of the common storage solutions provided by AWS
Hello,

For those new to AWS and who want to understand the different storage services available, I have written an article providing an overview of the most common Storage services and the differences between them.  

Hopefully this information will enable you to have a greater understanding of these services offered by AWS allowing you to make a decision on the best storage service that suits your needs

The article can be found here:

http://www.experts-exchange.com/articles/18583/Selecting-the-right-AWS-Amazon-Web-Services-Storage-for-your-needs.html

Many thanks,

Stooby..."
Amazon EC2	"EC2 instance running and able to RDP but not visible in AWS console
Hi,

I have a micro instance created and running in Asia Pacific (Singapore) region.
Its up & running and I can RDP to the machine but its not visible in the AWS console.

I'm sure its running in the singapore region and I have also checked all other regions but no where to be found!

I have attached the screenshot of the AWS console.

Any help would be appreciated.

Thanks,
Avinash"
Amazon EC2	"Re: EC2 instance running and able to RDP but not visible in AWS console
Hi,

Try runing the ec2-describe-regions from the AWS CLI to provide more information on the instance and where it resides.

Reference to this can be found here: http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-DescribeInstances.html

Cheers,

Stooby..."
Amazon EC2	"Re: EC2 instance running and able to RDP but not visible in AWS console
Hello Avinash,

I did check your associated account and could see and instance with id i-9253755e running.
Could you please clear up your browser cache and give it a try? Also can you try the same with other browsers as well?

If the issue persists, can you please provide us the browser type, version and the operating system release that you are using, so that I can open an internal ticket with our EC2 console development team.

Regards
Shiroy"
Amazon EC2	"Image creation taking forever
Hi There,

I tried to create an image of one of my instances (i-1a6d8463) before rebooting it.  It has been more than an hour and AMI is still in ""Pending"" status.  Moreover I can't ssh to the instance.  Could you please have a look?

Thanks."
Amazon EC2	"Re: Image creation taking forever
Can I abort this image creation?"
Amazon EC2	"Re: Image creation taking forever
Hello,

I see that the instance is in running state and the image status is showing as completed.  Please Let us know if you still have issues. 

Best Regards,
-Chandra P."
Amazon EC2	"Re: Image creation taking forever
Thanks for your response, Chandra.  It completed with status ""failed"", so I just deregistered it.  Went back to instance and looks like instance says ""0/2 checks passed"".  I tried to reboot it with no luck.  Can you try rebooting it and creating an image from it?  Or let me know what's wrong with it.  Thanks."
Amazon EC2	"Re: Image creation taking forever
Wait, looks like it's back.  But it has been going out of service every now and then.  I would still appreciate if you can check everything is good in terms of health of this instance."
Amazon EC2	"Re: Image creation taking forever
You can look at the cpu utilization graph for this instance, which shows a broken line every now and then including almost no line for today.  Thanks for your help!"
Amazon EC2	"Re: Image creation taking forever
Hello,

I noticed a series of transient issues on the underlying host your instance is running on, I'm engaging our EC2 Service Team for further investigate this.

Regards,
Giorgio"
Amazon EC2	"Re: Image creation taking forever
Hi vikram_joshi,

Looks like the underlying host encountered some issues during the image creation. I would recommend issuing a stop/start  on the instance which will allow it to be brought up on a new health host. From there you could then retry creating the image.

Regards,

Rodney"
Amazon EC2	"Re: Image creation taking forever
Thanks Giorgio and Rodney,

I had an image of the same instance created earlier last week.  I used that to launch a new instance.  New instance worked like a charm.  Luckily, I didn't have any time-sensitive or data-saving software running on this instance, which means I could use the old image.

Anyway, just to be on safer side, I just created another image from this instance (it was working fine now) and then stopped it.

Thanks for your help guys."
Amazon EC2	"Booting EC2 instance with EBS volume which is exact copy of physical HD
I have a working physical Windows machine. And I made a EBS volume which is exact copy of hard drive of this machine. And I would like to boot EC2 instance with that EBS volume. 
I tried to attach that volume to already created Windows EC2 instance, but it didn't boot. I tried to create a snapshot from that volume and then AMI from that snapshot and then launch instance but had no luck and empty System log.
What fixups should I perform to make that EBS volume suitable to boot EC2 instance? How the volume should be partitioned? What is the details of Amazon import image process?
Thanks in advance."
Amazon EC2	"ssh problem with new VPC
failing to ssh into instance(s) in an new vpc in ap-southeast-1. I have run through this process twice:

create new key via AWS console, download my new key, chown root:root mynewkey, chmod 400 mynewkey
launch new instance (ami-f20333a0), security group with port 22 (all TCP actually) open to my IP address
confirm that I am able to ping the new instance


running the ssh command in a Linux terminal with the username 'centos' (as specified by the ami's owner):
ssh -i mynewkey.pem centos@my.new.instance.ip
i get to see the ECDSA key fingerprint and end up with 'Permission denied (publickey)'.

Any ideas?"
Amazon EC2	"Re: ssh problem with new VPC
Hello,

Could you please try connecting using the username ec2-user ?

Regards
Shiroy"
Amazon EC2	"Re: ssh problem with new VPC
thanks for this, i also tried with ""ec2-user"" and ""root"" - no luck
running the same with -v gives me this clue:
""debug1: key_parse_private2: missing begin marker"""
Amazon EC2	"Re: ssh problem with new VPC
Hello,

I tried launching an instance using ami-f20333a0 and was able to successfully login as root user.
I assume that you are referring to your instance i-e192a62d. I did check it's Network ACLs, Security Group etc and they all look fine. Can you try stopping and starting your instance and see if you are login as root user. If the issue still exists, I would think that some of the start up configuration which is supposed to run while launching a new instance would have failed. For example tasks like setting up the public key in the authorized_keys file and setting correct permissions etc. You can a new replacement instance if this instance is a fresh instance and do not have any of your data. If this data has some data, then you can consider creating an AMI of your existing instance and launch a new instance using that newly created ami.

Regards
Shiroy"
Amazon EC2	"Re: ssh problem with new VPC
Thank you, Shiroy !
It appears that the instructions given by the AMI's owner  (to log in as 'centos') are incorrect - you are right, i managed to login as 'root'. In addition, I had strange filesystem permission issues with the key file, but now it all works.
Again, thank you."
Amazon EC2	"Reboot?
Hello, my instance i-568bb39c seems to have rebooted itself in the last 6 hours. I can see nothing in the server logs that indicate that someone restarted it, and no errors to report of either. 

This is the first time that it's happened and led to a bit of a panic in my office. Don't we usually get some kind of warning that our servers need to have corrective action taken?"
Amazon EC2	"Re: Reboot?
Hello,

I did check your instance i-568bb39c and confirm that this instance was rebooted as part of a maintenance activity scheduled on the underlying host.

From our records, I could see that a communication email was send out to your email address associated with your aws account on Thursday, June 25, 2015 1:35 PM (PDT) with subject ""Amazon EC2 Maintenance - Maintenance AWS Account: xxxxxxxxxxxxxxxx"". I hope this clarifies your query.

Regards
Shiroy"
Amazon EC2	"Mulitple instances stuck in Stopping status
I have multiple instances on dedicated hosting stuck in 'Stopping' status.  This is the second time in 2 months and I have my users going crazy.  How do I stop and start all of these again?  And why is this repeatedly ocurring only on dedicated tenancy?  The instance ID's are:
i-57fe3ea7
i-ceb24618
i-8f896e7f
i-66054b97
i-d801c128"
Amazon EC2	"Re: Mulitple instances stuck in Stopping status
The instances finally stopped after 3 hours roughly.  I would still like an answer as to why this happens with dedicated tenancy, but not with shared tenancy.  Thanks."
Amazon EC2	"Re: Mulitple instances stuck in Stopping status
Hi there, 

With dedicated as well as shared tenancy there is a small chance that the instances will be stuck in the stopping state, if the host is experiencing difficulties and you are attempting to move to a new healthy underlying host. 

Looking a the underlying host of the instances, I can confirm that it was experiencing difficulties which impacted the instances in the stopping state. You can attempt a force stop by attempting the ""Stop"" action again, however if that does not successfully stop the instances you will need to contact AWS support by creating a case, or through the forums here and we can then take a look at the Underlying host for you. 

Apologies for the inconvenience this issue caused. 

Kind regards, 
Belynda"
Amazon EC2	"Can I secure with SSL my EC2 instance if it is accessed using CNAME record?
Hi

I have a site hosted elsewhere, with a domain I own (let's say it is example.com)
I want to make a subdomain a.example.com to actually go to my EC2 instance.
I think about adding a CNAME record to point a.example.com to my instance's DNS name.
I also plan to put an SSL certificate on my EC2 instance, to certify it as 'a.example.com'. But I wonder if it would work? Or users would get warnings like ""You are trying to reach 'a.example.com' but get ec2-blablabla.compute.amazonaws.com""? Am I missing something else?

Thanks!"
Amazon EC2	"Using reserved instances with SQL Server Enterprise AMIs
Hi,

We are looking to use a SQL Server 2014 Enterprise AMI (specifically, ami-67324b10). Is it possible to get reserved instance pricing on these AMIs?

It looks as though you can do this with SQL Server Std and Web editions, but I can't see an option to do this with SQL Server Enterprise editions.

Thanks in advance!"
Amazon EC2	"Re: Using reserved instances with SQL Server Enterprise AMIs
Hello,

I have had a look into this for you and checked the AWS EC2 Pricing Web Page for Reserved Instances Pricing.

I see that it does have the option to select ""Windows with SQL Enterprise"" to view the pricing although it is only available for 3 regions: (N. Virginia, Oregon and Ireland).

Please have a look at the pricing on the following link: http://aws.amazon.com/ec2/pricing/#reserved-instances

Thanks."
Amazon EC2	"unexpected high data transfer
Hi!
I'm running t2.micro instance in Frankfurt region und it surprised me unexpected high data transfer
for this first month
 month data transfer out beyond the global free tier	1,347.448 GB
regional data transfer - in/out/between EC2 AZs or using elastic IPs or ELB	2.368 GB
$0.000 per GB - data transfer out under the monthly global free tier	14.978 GB	

When I run similar instance t1.micro in Ireland region 100 times less data transfer!

So I stopped it and go back to Ireland region.

Kind regards

Boris"
Amazon EC2	"Re: unexpected high data transfer
Hi,

I do see that you have a billing support case opened regarding the unexpected high data transfer. We have responded to that case with further details and action we require from your end.

Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1436672981

Regards,

Luke H."
Amazon EC2	"Instance not terminating
I created multiple t2 micro instances, and then i terminated all of them by console, all the instances got terminated except one with instance id ""i-cd14901e"". It has been showing ""shutting down"" in its instance state , but its not terminating. it has been a day since i terminated it. I have tried to terminate it again but it is still stuck , what should i do ?"
Amazon EC2	"Re: Instance not terminating
Hi there, 

We are investigating your instance, and as soon as we have an update will share this back with you. 

Kind regards, 
Belynda"
Amazon EC2	"Re: Instance not terminating
Hello,

This quick update only to confirm that your instance is now correctly terminated.

Regards,
Giorgio"
Amazon EC2	"Re: Instance not terminating
Thanks alot."
Amazon EC2	"IP blocked
Hi,

We have two (out of thousands) clients that cannot reach the EC2 instance  (Web server) 80/443.
Can it be that you are blocking certain ranges?

KR,
Jonas"
Amazon EC2	"Re: IP blocked
Hello,
in order to make some checks, please provide us the instance-id of the unreachable instance.
Thanks!"
Amazon EC2	"Re: IP blocked
Hi,

I have sent you a PM last week."
Amazon EC2	"Snapshot restore: ""1/2 status checks passed"" and ""Insufficient Date""
Restoring Snapshots and I receive error messages in the ""Status Checks"" column ""1/2 status checks passed"" and ""Insufficient Data"". This is for instances 

i-cc3b8204
i-4d378e85
i-0652ebce

Any help is appreciated!"
Amazon EC2	"This account is currently blocked and not recognized as a valid account.
I am getting the above error message when I try and create a new EC2 instance on Ireland. My account number is:

(deleted)

Edited by: RodneyM@AWS on Jul 12, 2015 6:46 PM"
Amazon EC2	"Re: This account is currently blocked and not recognized as a valid account.
Hello,

I just sent to you a private message.

Regards,
Giorgio"
Amazon EC2	"Connection Refused
Hi,

We are having an issue with our instance. I've checked on this forums and tried the solutions but we are still experiencing connection refused. I checked on this /etc/ssh/sshd_config and /etc/rc.local file. I followed the procedures to uncomment and delete the garbage since it is a bug from RHEL. I can ssh for a while then suddenly it will again refuse me to connect via ssh.Can you help to check?the instance id is i-8122254c. As of this writing the ssh is working. 
Thanks!"
Amazon EC2	"Re: Connection Refused
Hi,

Testing from my end, I am able to telnet successfully to port 22. 

$ telnet xxx.xxx.xxx.xxx 22
Trying xxx.xxx.xxx.xxx...
Connected to xxx.xxx.xxx.xxx.
====================

$ nc -vz xxx.xxx.xxx.xxx 22
Connection to xxx.xxx.xxx.xxx 22 port tcp/ssh succeeded!

====================

If this issue is still ongoing, provide the verbose output of the connection attempt.

On a side note, please lock down your management ports to your known IPs and shut down any unused ports. Your security group rules pose a security threat.

Regards,

Tonderai.

Edited by: anthonyh@AWS on Jul 2, 2015 8:06 PM"
Amazon EC2	"Re: Connection Refused
Hi,

How about this instance ID:  i-c4383f09? Can you check if you can ssh through it. I am doing this because I want to know if it is instance problem or our developers are messing with the config. It is a new instance that is working fine until this morning I wasn't able to access again. Thanks!"
Amazon EC2	"Re: Connection Refused
Hello yonduaws,

I've had a look at your instance i-c4383f09 as requested and I can see it is refusing connections$ nc -zv xxx.xxx.xxx.xxx 22
nc: connect to xxx.xxx.xxx.xxx port 22 (tcp) failed: Connection refused

Port 80, on the other hand, is accepting connections as expected so this is almost certainly a problem introduced by modifying the configuration settings.$ nc -zv xxx.xxx.xxx.xxx 80
Connection to xxx.xxx.xxx.xxx 80 port [tcp/http] succeeded!

If you need further assistance please let me know and I will be more than happy to help.

Kind Regards,
Anthony H."
Amazon EC2	"Re: Connection Refused
Yeah.Suddenly we can't access via ssh.I've checked the security groups.Still we can't connect."
Amazon EC2	"Re: Connection Refused
We had this happen once. The linux OOM killer (Out Of Memory Killer) had triggered due to several runaway processes exhausting memory on the box. For some reason, sshd was among the processes nominated to be killed.

If this has happened to you, restarting your instance will fix it."
Amazon EC2	"Re: Connection Refused
We have restarted several times but still can't access the instance."
Amazon EC2	"Re: Connection Refused
Hi,

I took a look at the instance. I see now it is giving a ""Connection refused"" error when testing it on SSH, HTTP, HTTPS and other ports. 

There should be something wrong with the instance at OS level but from our end we do not have visibility of the instance OS operations. You mentioned that you restarted several times but this didnt help. Did you try doing a stop/start?

You might need to try these:

1) Create an AMI of the instance and launch a new one to see if it has the same problem
2) Stop the instance, detach the root volume, attach it to a working instance (and mount it in the OS). Then check the OS / SSH log files on the volume in an effort to determine if there are any problems with SSH. This will also allow you to check your SSH configuration files and other application logs files.

Note: Before performing any changes to your instance, we would recommend backing up your EBS volume(s). You can do this using EBS snapshots: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html

Also, please keep in mind that the second troubleshooting option will require you to stop the instance, which can have various effects. Please see the following documentation for full information: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html

Regards,

Souza S"
Amazon EC2	"Re: Connection Refused
Hi,

I will mark this as answered. What I do is I just create a new instance and used a different OS.Migrate all the files then as of this writing we are not having any issues.

Thanks!"
Amazon EC2	"How can I run script/s after EC2 Windows machine deployment
Hello, I'd like to run some powershell script, when I create new ec2 windows instance.
I know, that I can use user data, but I am looking for other possibility. I need to run this script just once, after starting new instance. Any suggestions?
thx daniel"
Amazon EC2	"Re: How can I run script/s after EC2 Windows machine deployment
Hi there danpxx,

User data is the AWS mechanism for this task. If you are looking for another method to use outside of that could be creating a key in RunOnce to execute your script there. Details in the below link

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html#UsingConfig_Install

See the steps listed in ""To update EC2Config on an Amazon EBS-backed Windows instance that you can't connect to"" for an example. This same documentation page would have useful info on what you can do with ec2config service.

If you can provide more information about your use case and why user data does not address the issue we could provide a more comprehensive answer."
Amazon EC2	"1045?!!
I put a bunch of php files into my AWS which was working fine on my own localhost server. I'm getting 1045 and blank page. Anyone have a clue what 1045 mean?

this is my website : http://ec2-52-64-91-85.ap-southeast-2.compute.amazonaws.com/

Thank you."
Amazon EC2	"PTR Removal Request
Hello,

I'm being charged for an EIP that's not associated with any instance (54.186.239.125). However, I can't remove it because it's ""locked to my account."" I assume this is because of the PTR record. I'd like the PTR record to be destroyed so I can release the EIP.

As a further note for AWS feedback, I appreciate the ease of opening a ticket to request a PTR record, and would really like to see the same process available for removal of the record."
Amazon EC2	"Re: PTR Removal Request
Hi Joe,

I've successfully reset rDNS for 54.186.239.125. Could you attempt to release the EIP and report back your results?

Joe wrote:
As a further note for AWS feedback, I appreciate the ease of opening a ticket to request a PTR record, and would really like to see the same process available for removal of the record.

I believe you can use the same ticket process to request an rDNS removal. Was an option not available for that?

Regards,

Rodney"
Amazon EC2	"ec2 instance won't terminate
i've tried to terminate it for more than 24 hours now and it's still just sitting there in ""shutting-down"" state. the instance id is i-72531885."
Amazon EC2	"Re: ec2 instance won't terminate
Hi defmtg,

The instance should now be in a stopped state. Truly sorry for any inconvenience or concern this caused.

Regards,

Rodney"
Amazon EC2	"EC2 ssh issue
It has been working perfectly until today. 
The message shows""Network Error: Software caused connection abort "" 
Any advice is appreciated"
Amazon EC2	"Re: EC2 ssh issue
Hello,

for further troubleshooting can you please provide you instance id?

Regards,
Giorgio"
Amazon EC2	"Re: EC2 ssh issue
My bad, I did not include it in the first post. It's i-b577de43

I accidentally used the old public DNS, and it showed ""server refused our key"" Pls see attached screen shot

After I corrected it, the network error came back again. It seems the issue is on the instance side, not my putty side. Thanks

Edited by: Ming L. on Jul 4, 2015 8:45 AM

Edited by: Ming L. on Jul 4, 2015 9:08 AM"
Amazon EC2	"Re: EC2 ssh issue
Hi Ming L.,

It sounds like KeepAlives for PuTTY isn't configured. As such the network connecting is closing after a period of inactivity.

An example for setting up KeepAlives within PuTTY:

1.) Open the PuTTy application and navigate to the Options panel.
2.) Select Connection
3.) In the field Sending null packets to keep session active change the default value from 0 to
60
5.) Check the Enable TCP keepalives (SO_KEEPALIVE option) check box.
6.) Note: This option may not be available in older versions of the PuTTY client.
7.) Select Session from the left hand menu.
8.) Save the session changes

Any new sessions will now use these modified connection options.

Cheers,

Rodney"
Amazon EC2	"Re: EC2 ssh issue
I did already, still the same."
Amazon EC2	"Re: EC2 ssh issue
Upgraded from version 0.60 to 0.64. Now I get different error message. Please see the attached screenshot"
Amazon EC2	"Re: EC2 ssh issue
bump to top"
Amazon EC2	"Re: EC2 ssh issue
Hi Ming,

Thanks for providing the screen-shots. ""Network Error: Software caused connection abort"" is a generic error produced by the Windows network code when it kills an established connection for some reason.

I've taken a look at your instance and the underlying host. Both are passing all health checks and I'm not seeing any recent network errors on the host which would be causing this issue.

The folks over at superusers have a pretty good in depth article which talks about this generic error as well as a couple of troubleshooting tips Network Error: Software caused connection abort

I hope you find the above information useful.

Regards,

Rodney"
Amazon EC2	"Open vSwitch bridge not working in ec2 VPC instance
Hi,

I am trying to set a bridge using Open vSwitch for one of the interfaces in an instance.
But after I set it up, there is no network connection. I will not be able to communicate from that interface.
I have reset the default gateway with the new bridge interface information, but no luck.
(as soon as I assign a port to the bridge, the network is down)

When trying out in a VirtualBox VM in local machine, it works without any problem.
Are there any tips on how to make this work?

Here are the exact commands that I tried out:
(This is on Ubuntu 12.04)


install Open vSwitch

apt-get install openvswitch-switch openvswitch-datapath-dkms


create bridge and assign to eth0

ovs-vsctl add-br br0
ovs-vsctl add-port br0 eth0


set ips for the bridge

ifconfig eth0 0
ifconfig br0 10.0.0.111 netmask 255.255.255.0


set default gateway

route add default gw 10.0.0.1 br0"
Amazon EC2	"Re: Open vSwitch bridge not working in ec2 VPC instance
hi, have you solved this problem?

Thanks."
Amazon EC2	"Messages taking to long to be delivered
Hello all,

I am having a problem sending emails from my application hostes in EC2. It takes about 50 minutos from the moment the system sends an email to the moment that email arrives at google servers, which is the service I use to send emails.

All my DNS records are managed by route53, including the MX's pointing to google.

I asked Google's support and they came up with the following response:
""Analyzing the message header, there is a 67 minutes delay from the Amazon servers  (ip-172-31-24-96.sa-east-1.compute.internal) to deliver the message to google servers. You have to contact Amazon and ask them to explain that delay and solve the issue""

Any help?

Thank you."
Amazon EC2	"Re: Messages taking to long to be delivered
Hi there taylor_lojinha,

I have looked at your account and found the instance that you were talking about. The instance looks healthy but I can see that you still have the outbound email limitation on your account.

Please fill in the details in the below link. When this limitation has been removed from your account then your experience should improve.

https://aws.amazon.com/forms/ec2-email-limit-rdns-request"
Amazon EC2	"Unable To Enable Hardware Acceleration on Windows Server 2012 g2 Instances
I'm having a problem. I deployed a g2 server to run some tests. I used Windows Server 2012 Standard. I installed the desktop experience package in the server manager. I also noticed in the device manager that there was nothing listed for nvidia grid. I then used Snappy Driver Installer which detected it and installed an nvidia grid driver for me. It was then listed in the device manager and it also showed up in Passmark's GPU benchmarking program and I was able to run some tests there.

The problem is, my code makes use of in-browser GPU acceleration. I needed to turn on hardware acceleration in Internet Explorer to accomplish this (My software uses an embedded browser control) but the option was grayed out. This doesn't make sense to me because I had the GPU working fine from what I could tell. Why wouldn't IE allow me to enable hardware acceleration? Using hardware acceleration with a GPU, IE CPU usage when displaying graphically intensive content is usually cut in half. Reference: https://helgeklein.com/blog/2014/12/impact-gpu-acceleration-browser-cpu-usage/

Any help is greatly appreciated,
Thanks

Edited by: vexellon on Jun 19, 2015 4:31 PM

Edited by: vexellon on Jun 19, 2015 4:33 PM"
Amazon EC2	"Re: Unable To Enable Hardware Acceleration on Windows Server 2012 g2 Instances
Hi there vexellon,

Most of the issues that I come across where the hardware GPU functions are not available comes down to the client that you are using to connect to the instance. The most common being the regular Windows RDP client. When connections are made to the instance using this client it uses a software display driver making the GPU inaccessible.

What I would recommend is to change the way that you are connecting to the instance using something that does support hardware acceleration, such examples are VNC and TeamViewer.

Once you are connected to the instance using a hardware accelerated client then you should be able to use the full hardware GPU capabilities."
Amazon EC2	"configure openvswitch in EC2
I have a VM in EC2 with RHEL7, and a NIC called eth0 attached to it.
I have installed openvswitch 2.3.1 in it.
I want to create a bridge called OVS-SWITCH and attach eth0 to the bridge. AS t2.micro using DHCP to get private ip, so first I use the follwing script to configure the openvswitch.

ifcfg-OVS-SWITCH:
DEVICE=OVS-SWITCH
ONBOOT=yes
DEVICETYPE=ovs
TYPE=OVSBridge
OVSBOOTPROTO=""dhcp""
OVSDHCPINTERFACES=""eth0""
HOTPLUG=no

ifcfg-eth0:
DEVICE=eth0
ONBOOT=yes
DEVICETYPE=ovs
TYPE=OVSPort
OVS_BRIDGE=OVS-SWITCH
BOOTPROTO=none
HOTPLUG=no

but as soon as I service network restart, I lose connection with my VM

second, I have tried the following commands:
ovs-vsctl add-br OVS-SWITCH
ovs-vsctl add-port OVS-SWITCH eth0
ifconfig eth0 0
ifconfig OVS-SWITCH 172.31.30.157 netmask 255.255.240.0
route add default gw 172.31.16.1 dev OVS-SWITCH

I lose connection with my VM, too

So I have no idea why I lose my connection, for all these commands works fine in my local PC.

Does any one have experience in configuring openvswitch in EC2?

Many Thanks for your suggestions! Thank you!"
Amazon EC2	"lost connection with my EC2 VM
I lose ssh connection with my EC2 VM.

So I wonder if there is another way for me to connect to my VM except restart?

and I thinks the reason for lost connection is misconfiguring route tables.

I want to view route tables to see what actually happens!

Thanks!"
Amazon EC2	"Cannot reach new EC2 VPC instance after creation
I'm evaluating EC2 for potential corporate work as well as private use.

I've created a new EC2 instance in a VPC, but I still cannot reach it on any port, or ping it.

I tried using the default subnets, and I did set up the default route (0.0.0.0/0) to the gateway.

I've torn it ALL down and started over. Created my own VPC, subnet, gateway...set up the default route for that, explicitly associated the subnet to the route table:

10.151.0.0/16 local Active No
0.0.0.0/0 igw-e00e4185 Active No

subnet-bb7b1790 (10.151.1.0/24) | OINC Private	10.151.1.0/24

I've tried using an explicit security group and the default. I'm using the default network ACLs.

The system log shows the system is fully booted (CentOS 6 with updates/HVM).

Any attempts to connect to port 22 just time out.

What am I missing?"
Amazon EC2	"Re: Cannot reach new EC2 VPC instance after creation
Never mind...I changed the security group again and it started working. Sigh..."
Amazon EC2	"i-1835b678 instance still on stopping state
Hi ,

my instance i-1835b678 was unreachable so I try to stop/start it , but still stucking on stopping  state , can you help please ? 

thanks"
Amazon EC2	"Re: i-1835b678 instance still on stopping state
thanks"
Amazon EC2	"ec2-import-instance multple vmdk disks
I need to import a VM that has 3 VMDK disks

VMDK1
VMDK2
VMDK3

ec2-import-instance d:\IP_Test-disk1.vmdk -f VMDK ?????

Can anybody help with this?  Thank you"
Amazon EC2	"Migrate Elastic IPs that are part of a Reverse DNS record
We are moving our current solution from EC2-Classic to EC2-VPC as recommended.
But we have run into a snag with the elastic IP of our web server (which is also our SMTP server). 

According to documentation, we cannot migrate the Elastic IP ourselves but have to contact the AWS support to do that for us.
--
""If you have Elastic IP addresses that are associated with reverse DNS records, you cannot migrate them to the EC2-VPC platform yourself, or restore them to the EC2-Classic platform yourself. If you want to migrate these Elastic IP addresses, contact AWS Support.""
--

Here is the Elastic IP we want to migrate to vpc: 54.XXX.xxx.xx

This is a business critical issue for us since without this, our clients are not able to connect to our application. 

Don't understand why this needs to be posted in a public forum, it is something AWS needs to do for us. But there is no support option available when you try to contact support, except to sign up for paid support!?"
Amazon EC2	"Re: Migrate Elastic IPs that are part of a Reverse DNS record
Hi realvoice,

I sent you a private message.

Regards,

Rodney"
Amazon EC2	"OpenGL hardware acceleration on a G2 instance?
I have a rendering application, written in C++/OpenGL, that I'm trying to launch on a g2.2xlarge instance, but with every approach that I've tried, the only available display device uses software emulation of OpenGL 1.1.  Unless specified below, these tests were run on Windows Server 2012.  Here's a summary of my dead ends:

Remote Desktop: The only available display device (RDPUDD Chained DD) uses software emulation of OpenGL 1.1.  In Windows Server 2008 R2, there are 3 equally useless display devices (RDPDD Chained DD, RDP Encoder Mirror Driver, RDP Reflector Display Driver).

RemoteFX: Enabled this feature (which is supposed to allow GPU access via Remote Desktop) on a Windows Server 2008 RC2 instance.  It had no effect on the available display devices.  According to the documentation for RemoteFX for Windows Server 2012, support for VMX -- hardware-assisted virtualization -- is required.  Unfortunately, coreinfo.exe reports that this hardware feature is unavailable.

VNC Server installed via Remote Desktop: Same as above and only accessible with the VNC Viewer when  the Remote Desktop is also running.

SSH with Cygwin: No display devices available at all.

Auto launch on reboot from startup folder: This offered a different display device (Microsoft Basic Display Adapter), but it still appears to use software emulation and doesn't support OpenGL 4.

Windows PowerShell: I tested this by creating a localhost session on the server (Enter-PSSession -ComputerName localhost).  No display devices available at all.

Are there other ways of connecting that I haven't considered?  Could it really be possible that you can't run a hardware-accelerated OpenGL applications on these instances?  Isn't that the entire point?

(Edited to add new items to the list.)"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
When launching a G2 instance with Windows Server, you will notice in the device manager two display adapters.  Have you tried disabling the Microsoft Basic Display Adapter, leaving only the NVIDIA GRID K520 enabled?  If this does not help, we will look for steps to reproduce the issue as we work towards a solution."
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Is there an official solution for this problem? I have launched a g2 instance, and when connecting using remote desktop, I do see opengl v1.1 even after disabling Microsoft basic display adapter. I am trying to run an application that needs opengl version > 2.0.

I even tried updating the graphics driver based on : http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cluster_computing.html

UPDATE: 
I installed TeamViewer and connected to the machine using TeamViewer after closing remote desktop connection. Now I am able to see OpenGL 4.3.

Edited by: vammov on Nov 19, 2013 3:57 PM"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
RDP instantiates a software emulated display driver which hides the provided NVIDIA GPU.  We have used the following steps to get access to the GPU:

1. Launched the Win Server 2012 AMI (Windows_Server-2012-RTM-English-64Bit-Base-2013.09.11 (ami-60dc4350) in PDX) 
2. Downloaded and installed 320.59 for the GRID K520 (from NVIDIA.com: http://www.nvidia.com/download/driverResults.aspx/64595/en-us ) 
3. In the installation, chose to do a custom installation, and used the clean install option 
4. Rebooted after the install was successful 
5. Install TightVNC 
6. Disabled the Firewall (for VNC) 
7. Connected via VNC 
8. Went to Device Manager 
9. Disabled the Microsoft Basic Adapter 
10. Uninstalled the Microsoft Basic Adapter"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Hi there

I've just attempted to do the same thing. I've got the NVIDIA drivers installed, can connect with Teamviewer 9, and can see the display adapter devices listed (MS basic and NVIDIA K2 GRID). I've disabled and uninstalled the Microsoft Basic Display Adapter, but this simply comes back on reboot, and continues to be used by the ""generic nonPnP monitor"" device during the session.

Can you say any more about how to force the display for the Teamviewer session to use the NVIDIA driver?

Thank, Francis"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Hi Francis,

I've come across the following potential fix in our system which might help. Given that it involves deleting a file I would strongly suggest that you take a snapshot of your volume before making this change - just in case.

The problem was that, even when logged in as admin, due to weird permissions, the basic
display driver was never actually getting uninstalled. The solution was to manually delete
this file:

C:\Windows\System32\Drivers\BasicDisplay.sys

To do this, I had to modify its permissions by following the steps here:

http://helpdeskgeek.com/windows-7/windows-7-how-to-delete-files-protected-by-trustedinstaller/

I hope this helps!

Richard"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Hi,

I've been working on the same problem.. you might find this useful:

https://github.com/rncry/gpu-desktop"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Hello,

I tried everything, still cant make the GPU to show as the display adapter.
And cuda process cannot be perform.

The problem is clearly related to Remote Desktop...

But when I try to use Team Viewer it only works when Remote Desktop is open, if I closed, due to fast user switching it close down Team Viewer.

Same with ULTRAVCN and REALVCN.

Already did everything is this post and doesnÂ´t work...

Any suggestion ?

Using windows server 2012 r2 with NVIDIA GRID
Thanks"
Amazon EC2	"Re: OpenGL hardware acceleration on a G2 instance?
Dear Richard@AWS, I really have to thank you because the solution you provided (deleting the system file) actually works.

Now I can access the g2 instance using TeamViewer only but I have the hardware acceleration enabled!

Thanks again."
Amazon EC2	"Migrating elastic IP from EC2-classic to EC2-VPC with AWS client tools
I am trying to migrate an elastic IP from EC2-classic to EC2-VPC as described here: http://docs.aws.amazon.com/cli/latest/reference/ec2/move-address-to-vpc.html.

However, in response to aws ec2 move-address-to-vpc --public-ip (ip), I get:
aws: error: argument operation: Invalid choice, valid choices are: etc.

Some other commands do not work either, but aws ec2 describe-instances works correctly.

aws --version returns:
aws-cli/1.7.0 Python/3.4.3 Linux/3.19.0-22-generic

What can be the reason for that? Should I install more packages to enable ec2 move-address-to-vpc?

Is there a saner way to migrate an elastic IP from EC2-classic to EC2-VPC, somewhere in the web interface?

Edited by: golosptic on Jul 11, 2015 10:57 AM"
Amazon EC2	"Re: Migrating elastic IP from EC2-classic to EC2-VPC with AWS client tools
You need at least version 1.7.33 of AWS client tools."
Amazon EC2	"Cannot connect to newly created instances
I've created a few new windows instances and configured the security group to allow all inbound and outbound traffic. However, none of them can be contacted on the public IP. I've tried an RDP client, using netcat to see if port 3389 is open, and pinging. Nothing. Instance numbers are i-ea548a42, i-68c71ec0 and i-1cfd24b4. This is in region us-east-1, and just a few hours ago I've connected to a similar instance in us-west-2 with no trouble. What could possible have gone wrong?"
Amazon EC2	"Re: Cannot connect to newly created instances
Hello,

I have reviewed your instances and I have noticed that the subnets in which your instances were launched doesn't have a route configured for an Internet Gateway ( for example instance i-ea548a42 in the subnet subnet-de97faf5)

In order to add an route for an Internet Gateway to your route table you can follow this quick step by step guide on AWS Documentation:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Routing

Regards,
Giorgio"
Amazon EC2	"Re: Cannot connect to newly created instances
OK, that makes sense. How did I end up with different defaults depending on region? In Oregon instances are configured by default to accept internet connections."
Amazon EC2	"cannot connect with SSH
I have been able to connect to EC2 instances via SSH on my mac in the past. But it's been a while since I've used AWS, a few things seem different and I'm struggling to get connected again. Here are my steps...

1) create a new instance, amazon AMI (the first one in the list)
2) default everything in the instance
3) inbound security, ssh... port 22, 0.0.0.0/0
3) It creates the instance fine, says it's running
4) associate elastic IP to this instance
5) in the ec2 instances page I click on the instance and choose connect
6) it gives me; ssh -i zenmanaws.pem ec2-user@52.2.80.50
7) I go into my MAC terminal, go to: cd ~/.ssh the zenmanaws.pem file is there, i set the permissions to chmod 400. a ls -al shows it has read only permissions
8) I paste the ssh command from line 6 and it stalls doing nothing
9 adding a -v argument. it gives me this:

Steves-MBP:.ssh stevenelson$ ssh -i zenmanaws.pem ec2-user@52.2.80.50 -v
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /Users/stevenelson/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: Connecting to 52.2.80.50 http://52.2.80.50 port 22.

Any idea what I'm doing wrong? My thought is maybe it's the ec2-user. Is it possible that user doesn't exist? I never set that user up."
Amazon EC2	"Re: cannot connect with SSH
Hi,

It sounds as though you have a couple of steps that you might need to check.  Take a look at the below steps when troubleshooting connectivity to your instances:

1. Ensure the correct ports in the Security Group are open that is associated with your instance (which you have already done!)
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway set up
4. Ensure your IGW (Internet Gateway) is associated with your VPC
5. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
6. Ensure you have a public IP address associated to your instance

I have also written an article on connection issues and how to troubleshoot and resolve these which can be found here:

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: cannot connect with SSH
Thank you Stooby, I will look through these this morning and let you know how it went."
Amazon EC2	"Re: cannot connect with SSH
Dang it.

1) I checked my router's firewall, nothing is blocking port 22 or any port that I can tell

2) I have a gateway. 
D:igw-d4ade1b1 | zenman gateway
Attached VPC ID:vpc-2948584c (10.0.0.0/16) | zenman vpc
State:attached
Attachment state:available

3) I have a route to the outside world:
Destination  Target             Status   Propagated
10.0.0.0/16  local               Active   No
0.0.0.0/0     igw-d4ade1b1	Active    No

4) I'm pretty sure I have the right security group

Type
Protocol
Port Range
Source
SSH (22)
TCP (6)
22
sg-032aea64
ALL Traffic
ALL
ALL
sg-032aea64

5) I added port 22 to both incoming and outgoing in the NACL
1
SSH (22)
TCP (6)
22
0.0.0.0/0
ALLOW
100
ALL Traffic
ALL
ALL
0.0.0.0/0
ALLOW
*

ALL Traffic
ALL
ALL
0.0.0.0/0
DENY

6) The instance has an elastic IP address

Instance ID
i-a637894f
Public DNS
ec2-52-2-11-148.compute-1.amazonaws.com
Instance state
running
Public IP
52.2.11.148
Instance type
t2.micro
Elastic IP
52.2.11.148

7) i'm not sure why it would be peaking. I just created a brand new instance. (this is my 10th attempt)

8) The instance has passed its status check


Instance Status Checks 
These checks monitor the AWS systems required to use this instance and ensure they are functioning properly.
System reachability check passed	
These checks monitor your software and network configuration for this instance.
Instance reachability check passed

So.....

Now what?"
Amazon EC2	"Re: cannot connect with SSH
I was able to get it to work finally. I switched from the amazon ami to the ubuntu ami and also created a new key pair. That's all I can tell that is different. But I'm finally able to login. Thanks for the help Stuart."
Amazon EC2	"Failing Hardware Trumps Maintenance?
Hi Folks:

On 23 June I got an email from Amazon that said, in part:
""One or more of your Amazon EC2 instances is scheduled for maintenance on 2015-07-12 for 2 hours starting at 07:00 UTC. During this time, the following instances in the us-east-1 region will be unavailable and then rebooted:""

Looking at the email and the instance name, it did, indeed, have something to do with my instance.

On 8 July I got an email from Amazon that said, in part:
""EC2 has detected degradation of the underlying hardware hosting one or more of your Amazon EC2 instances in the us-east-1 region. Due to this degradation, your instance(s) could already be unreachable. Running instances will be stopped or terminated after 12:00AM UTC on 2015-07-24.""

Both messages say:
""You can see more information on your instances that are scheduled for retirement in the AWS Management Console (https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Events)""

When I go to this link it says that my instance is scheduled to stop NOT on 12 July, but on 24 July.

Does this mean they are no longer doing the maint. on 12 July and the maint. on 24 July has overridden it?

Thanks!
---
Doc Kinne"
Amazon EC2	"Re: Failing Hardware Trumps Maintenance?
Hello Doc Kinne,

thank you for posting on AWS Forum.

I can confirm that the maintenance on your instance i-bed9a9ed is now scheduled on Fri Jul 24 2015 and no more on Sun Jul 12.

Regards,
Giorgio"
Amazon EC2	"Degraded Instance
I received a degraded instance notice for one of my Windows instances (i-89778e7e). This instance was working up to last night. Today it became unreachable.

I have attempted to create an AMI to launch a replacement, however this AMI is stuck in creation.

I also attempted to stop the instance, and subsequently force stop it, and that is also stuck (instance is in ""stopping"" state).

Finally, I went to try to detach the EBS volume (with the goal of attaching it to a fresh instance), however there is a notice saying ""Volume stuck in attaching since 63 days, 2 hours and 38 minutes ago ago"".

What are my options?"
Amazon EC2	"Re: Degraded Instance
Hello andre_fs,

I have seen that you instance was stooped and now is up & running on a different underlying host, are you still experiencing any kind of issue?

Regards,
Giorgio"
Amazon EC2	"failure to connect AWSCLI  Frankfurt region
Hello 
I have installed Ubuntu 14.04 on my machine.I have installed on aws-cli. 
I have connected with Singapore southeast-1 region.I  am able to create instance and  use all the instance . I want to set the new region Frank Furt EU Central -1 
 I have put my AWS_ACCESS_KEY and AWS_SECRET_KEY  and region for Frankfurt.
 # export AWS_ACCESS_KEY=XXXXX
 #  export AWS_SECRET_KEY=XXXXX
 # export EC2_URL=https://ec2.eu-central-1.amazonaws.com
But when i am trying to connect this region , got a error message
Client.AuthFailure: AWS was not able to validate the provided access credentials
While i am to connect other region like Oregon Region,California region with this process .I got connect and got access successfully.

Please suggest the solution  for this issue . Response will be appreciated 
Thanks"
Amazon EC2	"Re: failure to connect AWSCLI  Frankfurt region
Hello,

can you please provide the aws cli version with the following command

 aws --version 


Frankfurt region supports only Signature Version 4. If you have built applications with the AWS SDKs or the AWS Command Line Interface (CLI) and your API calls are being rejected, you should update to the newest SDK and CLI

[1] https://aws.amazon.com/blogs/aws/aws-region-germany/

Regards,
Giorgio"
Amazon EC2	"Using EC2 as Email Server
Hello,

We are in progress of adding a production mail server instance in our AWS account. Apart from the email limit increase, what more service limit increase should I take in consideration so that we don't face problems in future ?

Recently, We had applied for email limit increase. From their reply, I am unsure whether the limit is increased for all instances in my account or for a particular account. Please clarify.

Reply:
Hello, We have configured the reverse DNS record you requested. Your request was mapped for mailserver.domain.com as rDNS for 54.x.y.z . Please note that propagation of this update to DNSBL services that Amazon works with may take up to a week.

If you also requested removal of the email sending limitations on your account, these have also been removed for any IPs and instances under your account."
Amazon EC2	"Re: Using EC2 as Email Server
Hello,

Thank you for posting on AWS Forum.

The EC2 sending limit was removed for any IP/instances at account level.

Regards,
Giorgio"
Amazon EC2	"Instance i-c593dd6c stopped suddenly, failed status checks and won't stop
Our instance suddenly failed (status check failed), and would fail as soon as I restarted it. I decided to stop it and then had to quickly build a new instance from scratch and switch the IP address. Is there any way you can help us with this problem and let us know why the instance failed? Or can you point us in the right direction? We are worried there is an issue on our end. Thanks.

Edit: It finally stopped. We would really like to know if it was an issue with the instance or if our application is flawed. Looks like CPU usage was about 0.6% at the time so I'm pretty sure that's not it. Any help appreciated. Thanks again.

Edited by: geoguide123 on Jul 7, 2015 8:23 PM"
Amazon EC2	"Re: Instance i-c593dd6c stopped suddenly, failed status checks and won't stop
Hello,

I've just sent to you a private message.

Regards,
Giorgio"
Amazon EC2	"EC2-IMPORT-INSTANCE:ServerError: an internal error has occurred during conv
Hi i tried to migrate from vcenter using AWS Plugin a virtual machine and the system say: ServerError: an internal error has occurred during conversion. my import task id is import-i-fgk87iqw

at this moment appears active but with the error described.

And i tried uploading the OVF file to s3 and using the CMD i created the task but when i checked the status i got the same error:

{
    ""ImportImageTasks"": [
        {
            ""Status"": ""active"",
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""mybucket"",
                        ""S3Key"": ""mymachine.ova""
                    },
                    ""DiskImageSize"": 44552426496.0,
                    ""Format"": ""VMDK""
                }
            ],
            ""Description"": ""mymachine OVA"",
            ""StatusMessage"": ""ServerError: an internal error has occurred during conversion."",
            ""ImportTaskId"": ""import-ami-fgpke80g""
        }
    ]
}

Can somebody help me with these errors?

-regards.

Edited by: shakesnet on Jun 22, 2015 1:31 PM

My machine:

linux 2.6.18-92.1.22.el5 #1 SMP Tue Dec 16 11:57:43 EST 2008 x86_64 x86_64 x86_64 GNU/Linux
CentOS release 5.2 (Final)

Edited by: shakesnet on Jun 22, 2015 1:33 PM"
Amazon EC2	"Re: EC2-IMPORT-INSTANCE:ServerError: an internal error has occurred during conv
Hello,

Thank you for posing on AWS Forum.

We are currently investigating your issue, will reply back as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: EC2-IMPORT-INSTANCE:ServerError: an internal error has occurred during conv
Hello,

Thank you for your patience.

Our service team noticed that your import failed because your virtual machine has VMWare tools installed that are interfering with the boot process.

Hope this helps,
Giorgio"
Amazon EC2	"Volume stuck in in-use and available at same time
I have 4 volumes in one of my accounts that are seemingly stuck. In the web console the volumes show up as green and in-use. If I click the detail on any of these volumes the attachment information is empty.

In boto:

for vol in c.get_all_volumes():
    print vol.id, vol.size, vol.status, vol.attach_data, vol.attachment_state()

vol-949e2dcd 20 in-use AttachmentSet:None None
vol-1b9d2e42 20 in-use AttachmentSet:None None
vol-ff190da6 20 in-use AttachmentSet:None None
vol-821a0edb 20 in-use AttachmentSet:None None

I want to delete these volumes (I have zero instances running in any region on this account, there's no way these volumes are in use).

If I attempt to delete the volume in boto (the web console has both delete and detach options grayed out):

<Response><Errors><Error><Code>IncorrectState</Code><Message>The volume 'vol-949e2dcd' is 'in-use'.</Message></Error></Errors><RequestID>b0c8029b-e7a9-4cea-877a-df29eec1bc53</RequestID></Response>

And if I attempt to detach the volume:

<Response><Errors><Error><Code>IncorrectState</Code><Message>Volume 'vol-949e2dcd'is in the 'available' state.</Message></Error></Errors><RequestID>14b6850d-12a2-4d6c-973a-aebece0960f7</RequestID></Response>

I get the impression that I'm out of options here. Can AWS support just nuke these volumes? I know that I'm posting from an account that's not the owner of those volumes. However, if you follow the consolidated billing chain of the owner of those volumes you'll see they match."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hello,

We apologize for the inconvenience this is causing.  Our EBS team would like to track down the source of this problem.  Would it be possible for you to take a screenshot of the error and provide additional information about the API requests that are being made via boto?

Best Regards,

Matt R."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Can you be more specific? I thought I provided all of the information I could about what I was doing.

Can't the EBS folks just look at those volume ids and replicate this information themselves?"
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hello,

Perhaps the EBS team missed something in the original request.  I have checked back with them and requested that they be more specific about what they want.

Best Regards,

Matt R."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hello,

Thank you for your patience while we looked into this issue.  The EBS engineering team has responded stating that they have moved the volumes into a state where they can be deleted.  Please let us know if you are still unable to delete these volumes.

Best Regards,

Matt R."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Successfully deleted. Thank you."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
We too have a volume that is stuck in both the 'in-use' as well as 'available' state.
Can an Amazonian please move the volume vol-ce6069b3 into a state in which I may then delete it?"
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hi ChrisGilmoreAtRiL,

Apologies for the trouble you're experiencing with vol-ce6069b3. I have asked Engineering to have a look. We'll update this thread when we have more information.

Kind regards,
Chris"
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hi ChrisGilmoreAtRiL,

You should be able to delete volume vol-ce6069b3 now.

Best Regards,
Jillian L."
Amazon EC2	"Re: Volume stuck in in-use and available at same time
I have the same issue.
When I search for State : In Use and Attachment Status : Detached
https://eu-west-1.console.aws.amazon.com/ec2/v2/home?region=eu-west-1#Volumes:state=in-use;attachmentStatus=detached
I get these stuck volumes:
vol-6e32c507
vol-a420d6cd
vol-9e20d6f7
vol-9e20d6f7
vol-6c8e7e04
vol-6e8e7e06"
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hello,

Apologies for the trouble you're experiencing with the EBS volumes you mentioned. I have asked our operations team to take a look in to this issue. We will update you as soon as we have some updates for you.

Regards
Shiroy"
Amazon EC2	"Re: Volume stuck in in-use and available at same time
Hello  RunePhilosof,

This quick update only to confirm that your volumes are now available.

Regards,
Giorgio"
Amazon EC2	"Billing by Instance
Has anyone found away to view their bill so that they can see costs broken down by instance (including any associated EBS storage and data transfer)?"
Amazon EC2	"Re: Billing by Instance
The Amazon EC2 does not include instance level usage reporting.  I'm sorry we couldn't be of more assistance."
Amazon EC2	"Re: Billing by Instance
Are there plans to offer this granularity?
It's not obvious currently if stopped (but not terminated) instances keep the ""meter running"".

Edited by: iketingos on Apr 11, 2011 6:28 AM"
Amazon EC2	"Re: Billing by Instance
When an instance is ""stopped"" you only pay for the EBS storage used by the instance.  Once you start the instance, charges continue until it is stopped again."
Amazon EC2	"Re: Billing by Instance
I also see this as a very important feature. I know there is consolidated billing - but separate accounts adds complexity where you want multiple users to be able to manage multiple instances.

Usage reports from an account that uses IAM users should have breakdown by instance / volumes etc to facilitate correct onward charging.

Is this in the pipeline ?"
Amazon EC2	"Re: Billing by Instance
I am just getting started, but I am also planning to set up an instance for each of my customers.  

Do you happen to know if each customer is billed separately for their instance? I ready somewhere that they are. I just want to be sure and it sounds like your situation is similar to mine.

I would be a user on each of their instances, providing them an IT related service, so I hope that I will be able to set myself up as a user on each instance.

Then I'm hoping that each of the Customer's employees can be set up as users and access the results of the service that I will be providing."
Amazon EC2	"server refused our key
I a newbie here.  Been trying to use FileZilla, PuTTy, and PuTTygen to open my t2.small instance in EC2.  I continue to get the ""server refused our key"" error with every try.

Is it possible I made a major bo bo when I deleted the key pairs I had at one point, then created another one?

I have tried all of the Linux user names.  I have tried everything in this forum that has been suggested.

Looks like my instance is running fine.  I just can't access it to do anything.

Here is what the Putty logfile shows after the last attempt:

=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2015.07.10 14:40:14 =~=~=~=~=~=~=~=~=~=~=~=
Using username ""ec2-user"".
Server refused our key

Please help ASAP.

Thank you."
Amazon EC2	"Re: server refused our key
Daniel D. Johnson wrote:
Is it possible I made a major bo bo when I deleted the key pairs I had at one point, then created another one?

Hi Dan,

This is most likely your problem. You'll need to stop your instance and detach the root volume and mount it to another instance. From here you can generate new keys and replace them as needed.

https://aws.amazon.com/articles/5213606968661598

Regards,

Rodney"
Amazon EC2	"Re: server refused our key
That's what I thought too Rodney.  Will the ""stop and detach"" process mess up anything already installed on the existing instance?

Thank you!"
Amazon EC2	"Re: server refused our key
Hi Dan,

The only caveat is that stopping an instance which is using instance store will cause all data on that instance store to be lost. However, if you aren't running instance store storage then you should be fine.

Instance Store - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html

Regards,

Rodney"
Amazon EC2	"Re: server refused our key
When I go to mount the DEBUG drive as per the instructions provided in the article you referenced, I get the following error:

mount: wrong fs type, bad option, bad superblock on /dev/sdb,
       missing codepage or helper program, or other error
       In some cases useful info is found in syslog - try
       dmesg | tail  or so

I used:

$ cd /
 $ sudo mkdir bad
 $ sudo mount /dev/xvdf /bad 

EDIT I just tried $ sudo mount /dev/xvdf1 /bad
...and it did not kick out an error???

Any idea what's going on?

Thank you.

Edited by: Daniel D. Johnson on Jul 10, 2015 3:28 PM

Edited by: Daniel D. Johnson on Jul 10, 2015 3:48 PM"
Amazon EC2	"Re: server refused our key
Hi Dan,

If it didn't kick out an error then generally this means the command completed successfully.

If you are still having troubles could you provide the instance id along with more details on the error you are receiving?

Rodney"
Amazon EC2	"Re: server refused our key
/dev/xvdf is the (virtual) drive, while /dev/xvdf1 is the first partition on that drive. Usually a file system doesn't reside on an entire drive but rather a partition, even if there's just one. You were trying to mount the entire drive which began with a partition table rather than a file system, hence the error."
Amazon EC2	"Re: server refused our key
OK, after assuming (since there was no error), I finished the process in the referrenced article, but get the following error when I go to ""Start"" the ""Sacrificial"" server again.  Here is the error:

Error starting instances
Invalid value 'i-74c7c583' for instanceId. Instance does not have a volume attached at root (/dev/xvda)

Here is a transcript from the SSH session with the DEBUG server:

Using username ""ec2-user"".
Authenticating with public key ""imported-openssh-key""

       __|  _|  )
       _|  (     /   Amazon Linux AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-ami/2015.03-release-notes/
24 package(s) needed for security, out of 53 available
Run ""sudo yum update"" to apply all updates.
ec2-user@ip-172-31-47-127 ~$ cd /
ec2-user@ip-172-31-47-127 /$ sudo mkdir bad
ec2-user@ip-172-31-47-127 /$ sudo mount /dev/xvdf /bad
mount: /dev/xvdf is write-protected, mounting read-only
mount: wrong fs type, bad option, bad superblock on /dev/xvdf,
       missing codepage or helper program, or other error

       In some cases useful info is found in syslog - try
       dmesg | tail or so.
ec2-user@ip-172-31-47-127 /$ cd /bad
ec2-user@ip-172-31-47-127 bad$ ls
ec2-user@ip-172-31-47-127 bad$
ec2-user@ip-172-31-47-127 bad$ sudo mount /dev/xvdf1 /bad
ec2-user@ip-172-31-47-127 bad$ cd /bad
ec2-user@ip-172-31-47-127 bad$ ls
bin   dev  home  lib64  lost+found  mnt  proc  run   selinux  sys  usr
boot  etc  lib   local  media       opt  root  sbin  srv      tmp  var
ec2-user@ip-172-31-47-127 bad$ cd /
ec2-user@ip-172-31-47-127 /$ sudo umount /bad
ec2-user@ip-172-31-47-127 /$

Let me know if you need anything else.

Thanks!"
Amazon EC2	"Re: server refused our key
Hi Dan,

The reason for that error is because the original root volume for the ""sacrificial"" is still detached. You'll need to re-attach the root volume using /dev/xvda as the device id when it asks for it. For reference the volume id should be vol-df591a2a, as this is the original root volume for ""sacrificial"".

Can you confirm if you took the necessary steps to generate a new key and replace said public key in your ~/ec2-user/.ssh/authorized_keys on vol-df591a2a while also downloading the new private key to work in conjunction with your new public key?

The process for said task can be found here - Generate new EC2 Keys

I hope the above helps.

Rodney"
Amazon EC2	"Re: server refused our key
I did reattach, as per the instructions in the article you sent.  Can't remember if it was the specific vol ID you refer to, but it was the only option provided when I went to reattach.  I am recalling that they showed ""/dev/sda"" in the Device field when I went to reattach, not the ""/dev/xvda"" you refer to.

I can't reattach anything in the Volumes view now.  Which makes sense to me, since, I already reattached??

Also, to answer your question, I did create a new key pair before doing all of this.

Thanks Rodney.

Edited by: Daniel D. Johnson on Jul 10, 2015 4:56 PM"
Amazon EC2	"Re: server refused our key
Hi Dan,

vol-df591a2a was the original root device for instance  i-74c7c583 (Sacrificial). 

You should be able to right click on this volume and click attach. 

/dev/sda1 or /dev/xvda should work, per http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html

I see the volume is in an available state and not currently attached to any instance. Can you confirm if you are able to right click on the volume and attach it to i-74c7c583 (Sacrificial)?

Rodney"
Amazon EC2	"Re: server refused our key
Attach is greyed out."
Amazon EC2	"Re: server refused our key
When I look at the info at the bottom of the Volumes screen,  it shows i-74c7c583 (Sacrificial):/dev/sdf (attached) as ""Attachment Info"" for the volume."
Amazon EC2	"Re: server refused our key
Hi Dan,

I'm going to send you a PM with additional instructions.

Rodney"
Amazon EC2	"Re: server refused our key
OK, TY."
Amazon EC2	"502 Bad Gateway (nginx/1.0.10)
Really need your helps!!!

My Instance is: m2.xlarge
My RDS is: db.m2.2xlarge

This few day my website often get down and display error message ""502 Bad Gateway (nginx/1.0.10)"".
What is wrong with the server?
(Please see it in the attachment file.)

Thank you so much.
Best Regards,
ChanHan

Edited by: hychanhan on Jul 10, 2015 5:01 PM

Edited by: hychanhan on Jul 10, 2015 5:12 PM"
Amazon EC2	"Re: 502 Bad Gateway (nginx/1.0.10)
Hello ChanHan,

I have had a look at your instance and performed some basic connectivity tests and I can see your AWS infrastructure is working as expected.  The problem you are experiencing is related to periods of excessively high CPU utilization leading to the instance becoming unresponsive.  If you look at the CloudWatch CPU metrics for your instance you will see this is the case: https://console.aws.amazon.com/cloudwatch/home?region=ap-southeast-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~CPUUtilization~2015-07-10T00%3A23%3A06Z~2015-07-11T00%3A23%3A06Z~Maximum~60~InstanceId~i-d5e7f780

I strongly suggest you look into using Auto-Scaling to handle the increases in load during these busy periods.  More information on Auto Scaling can be found here: http://aws.amazon.com/autoscaling/

If you have any further problems please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"Server hangs and volume stuck
Hi, 

Our server i-dca8e29e is locked. The volume cannot be detached and the server can't be restarted or even shutted down. 

Can you fix this? The server can be terminated, but we'd like to keep/make a snapshot of the volume attached.. 

Thanks!
Marcel
Peecho"
Amazon EC2	"Re: Server hangs and volume stuck
Hello,

I see that the volume is now in detached state and the instance terminated.  

Best Regards,
Chandra P."
Amazon EC2	"AWS Sohpos UTM increase volume size during launch
I have launched a Sohpos UTM instance into my VPC. During the Sophos UTM launch in, the default EBS root volume size is 30 GB standard (magnetic) volume. I changed it to a general purpose SSD and I increased it to 120 GB, but when I  login to Sophos, it only shows a 29.4 GB volume. I confirmed that the EBS volume that was created is 120 GB in the AWS Management Console under EBS volumes.

When I log into Sophos on the dashboard->Resource usage:

Log Disk - 10% of 29.4 GB
Data Disk 10% of 29.4 GB

I have also tried launching a Sohpos UTM instance using a standard (magnetic) 120 GB root volume  and the same results happened.

Why isn't the Sohpos disk expanded to use the full 120 GB (or close to it) of the EBS volume?  I am testing this for production use and a 30 GB volume is not near enough."
Amazon EC2	"Re: AWS Sohpos UTM increase volume size during launch
Hi,

Depending on if this is Linux or Windows, use the corresponding links to extend your file system size so its recognises the correct volume size

Linux
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html#recognize-expanded-volume-linux

Windows
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-expand-volume.html#recognize-expanded-volume-windows

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: AWS Sohpos UTM increase volume size during launch
Worked like a charm.  It is a Linux instance and the info at the link you provided did the trick.  Thank you!"
Amazon EC2	"Volume is attached to AMI, but can't be found in the device manager
System is Windows Server 2012 R2 Standart
Volume vol-f8fc74ff
AMI: ami-cadc7cbd
After reboot D: disk drive has disappeared. Tried to detach and attach the drive again, but it didn't help.

What should I do next?"
Amazon EC2	"Re: Volume is attached to AMI, but can't be found in the device manager
Hello,

Have you tried bringing the disk/volume online from the Disk Management utility?

More information can be found here: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html

Best Regards, 

Ahmed H."
Amazon EC2	"Re: Volume is attached to AMI, but can't be found in the device manager
Of course I tried, but there's no such option. See attached picture.

Edited by: intersecting on Jul 9, 2015 8:18 PM"
Amazon EC2	"Re: Volume is attached to AMI, but can't be found in the device manager
tried to make a copy of AMI, made new instance, connected the hard drive - no luck. What should I do next?"
Amazon EC2	"opencpu installation
Hi,

I'm trying to install opencpu on a EMR cluster to take advantage of sparkR and opencpu. I'm trying to install opencpu using the code from github provided below but there is some errors due to conflicts between httpd24 and httpd.

Github code to install opencpu:
https://github.com/jeroenooms/opencpu-server/blob/master/rpm/buildscript.sh

The code detail below:

Update system

sudo yum update -y
sudo yum upgrade -y


rpm dependencies

sudo yum install -y rpm-build make wget tar httpd-devel libapreq2-devel R-devel libcurl-devel protobuf-devel openssl-devel libxml2-devel libicu-devel libssh2-devel






Make sure to do building as non-root user!




setup dirs

mkdir -p ~/rpmbuild/SOURCES
mkdir -p ~/rpmbuild/SPECS


Get the rapache sources

wget https://github.com/jeffreyhorner/rapache/archive/v1.2.7.tar.gz -O rapache-1.2.7.tar.gz
tar xzvf rapache-1.2.7.tar.gz rapache-1.2.7/rpm/rapache.spec --strip-components 2
mv -f rapache-1.2.7.tar.gz ~/rpmbuild/SOURCES/
mv -f rapache.spec ~/rpmbuild/SPECS/


Build rApache

rpmbuild -ba ~/rpmbuild/SPECS/rapache.spec


Get opencpu sources

wget https://github.com/jeroenooms/opencpu-server/archive/v1.5.0.tar.gz -O opencpu-server-1.5.0.tar.gz
tar xzvf opencpu-server-1.5.0.tar.gz opencpu-server-1.5.0/rpm/opencpu.spec --strip-components 2
mv -f opencpu-server-1.5.0.tar.gz ~/rpmbuild/SOURCES/
mv -f opencpu.spec ~/rpmbuild/SPECS/


Build OpenCPU

rpmbuild -ba ~/rpmbuild/SPECS/opencpu.spec


Install OpenCPU

sudo yum install MTA mod_ssl /usr/sbin/semanage
cd ~/rpmbuild/RPMS/x86_64/
sudo rpm -i rapache-*.rpm
sudo rpm -i opencpu-lib-*.rpm
sudo rpm -i opencpu-server-*.rpm #takes a while!

When I run the sudo yum install -y rpm-build make wget tar httpd-devel libapreq2-devel R-devel libcurl-devel protobuf-devel openssl-devel libxml2-devel libicu-devel libssh2-devel I get the following error:

Error: httpd24 conflicts with httpd-2.2.29-1.5.amzn1.x86_64
Error: httpd24-devel conflicts with httpd-devel-2.2.29-1.5.amzn1.x86_64
Error: httpd24-tools conflicts with httpd-tools-2.2.29-1.5.amzn1.x86_64

I install package by package and the error is because of the following installations:

httpd-devel - which i can easily overcome by installing httpd24-devel ; and
libapreq2-devel - which I can't manage to install

Is there an alternative way to install the above packages so that opencpu would work on a emr cluster?

Thanks,
Eliano"
Amazon EC2	"How to view all instances in multiple regions at once
Right now, I have to click into the different regions to view EC2 instances.
We have a network of instances using using a few of the regions; Virginia, California, Sao Paulo, Frankfurt...

Is there a way to look at all of our instances in one view? Ideally, I want to see our instances statuses in one view. A view that shows all instance traffic globally would be even better."
Amazon EC2	"Remote Desktop unable to connect
Hello,
I'm trying to connect to an instance that has worked fine in the past, but remote desktop now ""can't connect to the remote computer.""  Even when I try with a new Windows 2012 R2 Base I get the same error.

My current instance ID: i-4d27d684

Any help would be GREATLY appreciated.  

Thanks!"
Amazon EC2	"Re: Remote Desktop unable to connect
Hello,

Thank you for the post.

I took a look at your instance: i-4d27d684 and found that this instance is terminated. 

In general, if you are receiving an error: 'Remote Desktop can't connect to the remote computer', while trying to connect to the Windows instance, you can try the solutions provided on this documentation to resolve issues related to connecting to your instance: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#rdp-issues

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Remote Desktop unable to connect
Hi Thanks for looking at that. 

I must have closed the instance, this new instance illustrates the same problem - ID:i-925d5465

I've gone through the help guide but I can't seem to get it working.  Would you mind looking at that new instance???

Thank you!!"
Amazon EC2	"Re: Remote Desktop unable to connect
Hello,

I have taken look at the instance.  Please make sure that the route table for the subnet has a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC. 

For more information, please refer to the link below. 
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Routing

Best Regards,
-Chandra"
Amazon EC2	"WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
So, I added rsa keys to allow easy ssh access without passwords. 

But, now I am receiving this message: 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that the RSA host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
97:86:17:61:18:4d:13:47:96:8d:12:b8:eb:9f:b2:5e.
Please contact your system administrator.
Add correct host key in /home/barells/.ssh/known_hosts to get rid of this message.
Offending key in /home/barells/.ssh/known_hosts:96
RSA host key for ec2-23-22-60-20.compute-1.amazonaws.com has changed and you have requested strict checking.
Host key verification failed.

I know that I just need to edit the .ssh/known_hosts file, but I haven't figured out how to ssh into the server. Because it is effecting both root wand my other username access. 

What do I need to do here?"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
Hello,

You will need to remove the offending key from ""Offending key in /home/barells/.ssh/known_hosts:96"" like it says in the error. Then you should be able to connect again.

Best,

Matt J"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
I realized this was on my local machine and not the remote ec2 host. 

However, I am still wondering how I avoid this issue in the future.
Any thoughts?"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
EDIT: Sorry. Turns out that I was trying to access an old ec2 instance that we no longer have running (from my bash history). It must have been re-used and it's only natural that the host key has changed 

Matt, sorry to bug you to come and look at this  Ignore the below (though I'll leave it there for reference).

Cheers,
   Svend.

I'm not so worried about it happening again, but curious to why it happened in the first place.
Has there been some maintenance or update recently that might have caused the public key on the host to have changed*. I guess the IP can't have changed as it's part of the host name...

*) This is not the key you put on there. That was your own public key to tell the server to allow you access.

Edited by: svend_h on Jul 26, 2012 6:17 AM"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
Hi Matt,

I encountered the same question here, which happened when I was trying to scp a file to my ec2 host, e.g. ""scp -i hellocheney.pem testfile ec2-user@54.213.42.29:""

Then I deleted line 69 of file /Users/qili/.ssh/known_hosts 
(as it was: Offending key in /Users/qili/.ssh/known_hosts:69)

After that, I retried ssh, it's asking me password as below:
ssh -i hellocheney.pem ec2-user@54.213.42.29
ec2-user@54.213.42.29's password:

No idea how to proceed, could you help me out?"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
Hello,

This usually happens that you use the same Elastic IP address when you stop/start an instance because the actual host the instance on has actually changed.

Regards,

Matt J"
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
so how do you fix this? I just rebooted my instance and got that same error.."
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
Hello,

When you receive a message such as this you need to edit your ~home/.ssh/known_hosts file and remove the offending entry, that is the only way to prevent this from occurring.

Regards,

Davin G."
Amazon EC2	"Re: WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
I ran into similar issue on 7/9/2015 between 19:00 and 20:00 UTC.
The instance had been in unreachable status for minutes, when it's back, I got the warning message. Contacted AWS Support Case 1439865201, I was told my instance had been reboot and the underneath host was still in failed status.

It is not related to IP address change (both internal IP and EIP have been used for more than 6 months without change). I am wondering how could the host identification changed?

(I relocated the instance after discuss with AWS support)"
Amazon EC2	"ec2's dying please help
I have a problem with ec2's,
i am trying to launch a few ec2 machines (tried different instance types, same result).
i created a fully open security group (for tests).
i tried linux (amazon and ubuntu) and windows machines. 
i even tried using elasticbeanstalk with the sample app (nodejs)
all result in the following problem:
the instance launch's successfully, i have a working ping to it.. i connect to it with putty and starting to work on it. but after a minute or two it dies. (connection timeout, ping stops responding).
in the management console it appears ok, passed health checks and looks running. but i cant connect to it.. and not even ping it.
if i stop the machine then start it again, then it comes back again for a minute or two.. then dies again. 
i left 1 machine in us-east-1b instanceid:  i-27825d8f running its in the dead state. 
can someone take a look and help me?"
Amazon EC2	"Phone call from AWS Luxemburg. Was it legit?
Hi,

We are a small Spanish AWS customer that make use of some few services. I've just received a phone call from an allegedly AWS Luxemburg customer support agent that offered us to be our Amazon contact person. He asked me my account id, which I did give him, to see which AWS services we are using. A couple of minutes later I've received an email, which I asked for during the call, confirming the contact.

Is it legit? Now I'm a bit worried. The email headers don't seem fake except from the fact that the first hop server is na3.salesforce.com, the second another one from salesforce, third is from amazon.com and then to our MX. I imagine that Amazon has a contract with Salesforce for CRM services (I hope so!)

Is this a normal thing?

Regards,
HernÃ¡n."
Amazon EC2	"Re: Phone call from AWS Luxemburg. Was it legit?
Hi HernÃ¡n,

I can confirm that this was a contact from our sales team. We'll follow up with you directly.

Thanks for checking up 

Richard"
Amazon EC2	"Re: Phone call from AWS Luxemburg. Was it legit?
Thanks!"
Amazon EC2	"Add certificate chain for ELB HTTPS (Digicert)
Hi

I will tried add the chain certificate in ELB but no success.
I received the follow error:

Error creating certificate
Unable to validate certificate chain. The certificate chain must start with the immediate signing certificate, followed by any intermediaries in order. The index within the chain of the invalid certificate is: 5


what does that mean?

Regards
RM"
Amazon EC2	"Re: Add certificate chain for ELB HTTPS (Digicert)
Hello,

Thank you for the post.

Looking at the error, it seems that the certificate chain you are using is not in the correct format. The correct format for the certificate chain is as below:
-----BEGIN CERTIFICATE-----
Intermediate certificate 2
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Intermediate certificate 1
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Optional: Root certificate
-----END CERTIFICATE-----

You can find more information about 'SSL Certificates for Elastic Load Balancing' on this documentation: http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Re: Add certificate chain for ELB HTTPS (Digicert)
Tks !

The error was in the Public Key. He had a root certificate and after removed works like a charm.

att"
Amazon EC2	"VM Import Limit Client.ResourceLimitExceeded
Hi,

today I tried to import a VM with 10 disks but received the following error.

""errorCode"": ""Client.ResourceLimitExceeded"",
""errorMessage"": ""Task failed to initialize - conversion task limit (5) exceeded.""

Is there a way to increase this specfic Limit? May I'm just blind, but to me it seems not covered with a regular ""Service Limit Increase""

Thank you,
Stephan"
Amazon EC2	"Re: VM Import Limit Client.ResourceLimitExceeded
Hello Stephan,

The default limit is 5 simultaneous conversions. I have submitted a request to have the limit increased. Once we have more information we will let you know.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: VM Import Limit Client.ResourceLimitExceeded
Thanks Ahmed!"
Amazon EC2	"Re: VM Import Limit Client.ResourceLimitExceeded
Hello Stephan,

Per your request, we have increased the number of simultaneous conversions available to your account to 10.

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Instance Status Checks failed
good morning,
i have an instance with id i-79086773 and this afternoon the check called instance status checks fails. my server cannot accepts trafic and i don't know how to solve. i tried to configure an alert to recover the machine but nothing changed. 
surely is my fault, today i tried some scripts with putty but i hope u'll be able to recover the machine because change the server means a lot of work. 

Thanks for your help and sorry for my english

i attach the system log after a reboot

Manuel Bova

Edited by: Manuel Bova on Jul 9, 2015 4:55 PM"
Amazon EC2	"Re: Instance Status Checks failed
Hello Manuel, 

Looking at the System Log you have attached I can see towards the bottom a Kernel Panic just under the line 'Begin: Running /scripts/init-bottom ... done'

To edit and debug this script it is possible to detach the root volume of this instance and attach it to another fresh instance under a different mount point.  This will allow you to inspect or disable the scripts that you have mentioned, as well as having access to any additional logging to help debug your code.

The high level steps to achieve this are: 
1. Launch a Debug Linux Instance under the same region and Availability Zone 
1a. Be sure to note down the instance-id's and volume-id's of your instances 
2. Stop (do not terminate) your broken instance 
3. Detach the root volume of the broken instance 
4. Attach this volume to your Debug Instance under /dev/sdf 
5. Mount the volume under a mount point of your choosing on the Debug Instance (sudo mount /dev/xvdf /mnt/oldDrive) 

Once these steps are done, you will have access to all your files and can edit/tweak them as necessary. You can then reattach this volume back to the original instance.

I have included some documentation that goes into greater detail:  https://aws.amazon.com/articles/5213606968661598 (reading from 'Start a Debug Linux Instance')

I hope this helps, if you have any other questions please let me know!

Kind Regards,
Anthony H."
Amazon EC2	"Re: Instance Status Checks failed
thanks for your reply, today i'll try to follow your instructions

Manuel"
Amazon EC2	"Re: Instance Status Checks failed
i followed your instructions, everything good until this instruction

sudo mount /dev/xvdf /bad 

i receive this message 
mount: block device /dev/xvdf is write-protected, mounting read only
mount: you must specify the filesystem type

i tried the instruction you wrote with oldDrive but i don't know what to write instead of ""oldDrive"". i'm sorry, this is not my world but i'm trying to learn, any help is appreciated

Manuel"
Amazon EC2	"Re: Instance Status Checks failed
update

 $ cd /bad/etc/sysconfig/network-scripts
        $ sudo vi ifcfg-eth0

the folder sysconfig does not exists in the etc folder, can you help me?"
Amazon EC2	"ELB 504 ERRORS
Hello,

Is there any  dependence between ELB and number of instances ?
When we have only 3 nodes added to ELB we don't get any errors but after increasing the number upto 25 we got several 504 errors in ELB access log. But this error was only on ELB side not on server one.

ELB access log example:
2015-07-10T09:23:01.939305Z newprodelb 52.27.91.160:8804 - -1 -1 -1 504 0 0 0 ""GET http://www.siteurl.com:80/designers/blue-life-fit.html HTTP/1.1""

Thanks

Edited by: rsalekseev on Jul 10, 2015 5:25 AM"
Amazon EC2	"Re: ELB 504 ERRORS
Hi,

The ELB service is designed to autoscale by itself as demand increases, ELB will provision itself to handle new loads and to communicate with additional EC2 instances behind it.  

However note:
When you create an elastic load balancer, a default level of capacity is allocated and configured. As Elastic Load Balancing sees changes in the traffic profile, it will scale up or down. The time required for Elastic Load Balancing to scale can range from 1 to 7 minutes, depending on the changes in the traffic profile. When Elastic Load Balancing scales, it updates the DNS record with the new list of IP addresses. To ensure that clients are taking advantage of the increased capacity, Elastic Load Balancing uses a TTL setting on the DNS record of 60 seconds. It is critical that you factor this changing DNS record into your tests. If you do not ensure that DNS is re-resolved or use multiple test clients to simulate increased load, the test may continue to hit a single IP address when Elastic Load Balancing has actually allocated many more IP addresses. Because your end users will not all be resolving to that single IP address, your test will not be a realistic sampling of real-world behavior.

Source of this where you can find more information on how ELB manages scale etc is found here:
http://aws.amazon.com/articles/1636185810492479

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"s3 images access problem after applying Elastic Load Balancer to ec2
Hello,

I am using Auto Scaling with Elastic Load Balancer(ELB) for one of my ubuntu ec2 instance(bellofox.com). The instance uses S3 service for storing and accessing images. And now company people are saying that they have problem in accessing S3 images after when I have applied Auto Scaling with ELB to the instance. So I want to know if someone else has faced this problem. If yes then what is the solution.

Thanks,
Hem Singh"
Amazon EC2	"Servers initiating
The account ID is 584629324139, and servers m1.medium are spinned very frequently on Europe, is this a bug from AWS? or someone access the account?"
Amazon EC2	"Re: Servers initiating
Hi,

If you are experiencing instances spinning up unexpectedly you may want to check your autoscaling groups? They may be spinning up instances in relations to your AS groups you have.

Cheers,

Stooby..."
Amazon EC2	"can't remote access to i-8c288f72, pls help
Remote Desktop can't connect to the remote computer

Edited by: thomashck on Jul 9, 2015 10:31 PM"
Amazon EC2	"Re: can't remote access to i-8c288f72, pls help
NO ONE CAN HELP??? where is the service people??"
Amazon EC2	"Re: can't remote access to i-8c288f72, pls help
Are you able to provide some further details on your problem?

What are you trying to connect to and from where? How are you trying to connect?"
Amazon EC2	"Re: can't remote access to i-8c288f72, pls help
Hi,

As a general rule of thumb, when troubleshooting connectivity to your instances check the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway set up
4. Ensure your IGW (Internet Gateway) is associated with your VPC
5. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
6. Ensure you have a public IP address associated to your instance

I have also written an article on connection issues and how to troubleshoot and resolve these which can be found here:

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Hope this helps,

Cheers,

Stooby...."
Amazon EC2	"Cannot access EC2 instances using SSH.
Hi,

I am running 2 EC2 instances:
1. i-49a25180 (Linux)
2. i-c9ba4900 (Amazon)

I have been only able to connect to both of them once using SSH. On subsequent tries I get:
Operation timed out.

Please help."
Amazon EC2	"Re: Cannot access EC2 instances using SSH.
Hi,

When troubleshooting connectivity to your instances check the following:

1. Ensure the correct ports in the Security Group are open that is associated with your instance
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway set up
4. Ensure your IGW (Internet Gateway) is associated with your VPC
5. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
6. Ensure you have a public IP address associated to your instance

I have also written an article on connection issues and how to troubleshoot and resolve these which can be found here:

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Hope this helps,

Cheers,"
Amazon EC2	"Cannot access new EC2 usage reports
Hi,

I wanted to view the new EC2 usage reports.  I went to Billing/Reports and got a message ""You are not authorized to perform this operation.""  I was logged in with my IAM admin account.  I can view other billing related info such as the ""Bills"" subtab. Why can this account not view the Reports?

I confirmed this user is a member of a IAM group with permissions

{
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""Action"": ""*"",
      ""Resource"": ""*""
    }
  ]
}

WILL"
Amazon EC2	"Re: Cannot access new EC2 usage reports
Hi Will

Can you try it again, this issue should be resolved.

Alan"
Amazon EC2	"Re: Cannot access new EC2 usage reports
tks for the update.  I've been having exactly the same problem since yesterday and have been wondering what I've been doing wrong.  It is working for me now and looks good."
Amazon EC2	"Re: Cannot access new EC2 usage reports
I am having the same issue. When i click on billing reports. I get the error  ""You are not authorized to perform this operation.
You are currently signed in as an IAM user that does not have permissions to the requested page.""

I have system administrator permissions on IAm and i specifically also added the billing reports policy. How can i fix this?"
Amazon EC2	"Re: Cannot access new EC2 usage reports
I am experiencing the exact same access denial.  What is the solution?  Please let me know."
Amazon EC2	"Re: Cannot access new EC2 usage reports
I'm running into the same error too.  
My user's policy is:

{
  ""Version"": ""2012-10-17"",
  ""Statement"": [
    {
      ""Effect"": ""Allow"",
      ""Action"": ""*"",
      ""Resource"": ""*""
    }
  ]
}"
Amazon EC2	"Re: Cannot access new EC2 usage reports
Same problem here.

I have also AWS full access and explicitly allowed the aws-portal billing permissions."
Amazon EC2	"Re: Cannot access new EC2 usage reports
I had to activate the IAM User access for Billing and Usage Console. Followed the steps in this article:

http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/control-access-billing.html"
Amazon EC2	"Re: Cannot access new EC2 usage reports
hi!

Suddenly started experiencing this issues without changing any of the policies.

Logged in as IAM user,
I could see the ""detail bills"" before. But started giving 'IAM access denied' today for no reason.
Everything else in billing works.

Under Account Settings,
IAM user access to billing information is activated.

The IAM user is also part of the admin group

Any clues ?

Regds."
Amazon EC2	"Re: Cannot access new EC2 usage reports
And the issue resolved it self after 1/2 hour of wondering why.

Could be a temporary thing."
Amazon EC2	"Re: Cannot access new EC2 usage reports
I too have this exact same issue. I have all permissions,
{    ""Statement"": [
        {""Effect"": ""Allow"",
            ""Action"": ""*"",
            ""Resource"": ""*""

I need to access services on https://console.aws.amazon.com/billing/home , but I keep getting perm error, ""You are not authorized to perform this operation.""

How to fix? Wait for support rep to see this post and tweak a knob?"
Amazon EC2	"Re: Cannot access new EC2 usage reports
I have the same problem. Please help. I don't know how to check my permissions, though. I was able to do this in the past and did not change any setting.

Edited by: CrazyRemi on Jun 5, 2015 5:26 AM"
Amazon EC2	"Re: Cannot access new EC2 usage reports
Granting Access to Your Billing Information and Tools - AWS Billing and Cost Management <http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/grantaccess.html>"
Amazon EC2	"Amazon ec2 connection refused after init 6
Hello,

I did a sudo init 6 and after that I am unable to ssh to my host. I tried rebooting my host from the AWS workbench but that doesnt work either.

I had to change the mount point of /home some time back, and had lost my key pair in the process. So, I had created a new key pair and was using it ever since then.

ssh -vvv gives:-

ssh -vvv ubuntu@ec2-XX-X-XXX-XX.compute-1.amazonaws.com
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to ec2-XX-X-XXX-XX.compute-1.amazonaws.com http://xx.x.xxx.xx port 22.
debug1: connect to address xx.x.xxx.xx port 22: Connection refused
ssh: connect to host ec2-XX-X-XXX-XX.compute-1.amazonaws.com port 22: Connection refused

Please help me, we have a very important event tomorrow.

Edited by: anthonyh@AWS on Jul 9, 2015 6:56 PM"
Amazon EC2	"Re: Amazon ec2 connection refused after init 6
Hello aakash_psu,

I'm very sorry for the delay in getting back to you.

I have tested the connection to your instance i-a3ae0f5e and it appears to be working as expected.$ nc -zv XX.X.XXX.XX 22
Connection to XX.X.XXX.XX 22 port [tcp/ssh] succeeded!
Are you still experiencing this problem?

If you need any further assistance please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"Problems configuring vcenter / aws-connector
Hi!

I am at step 5 at ""AWS Credientials"", and when I hit next , I get this error message.

Failed to authenticate user: 1 validation error detected: Value 'vcenter.ingenuity.net.au:9443' at 'roleSessionName' failed to satisfy constraint: Member must satisfy regular expression pattern: \w+=,.@-* (Service: AWSSecurityTokenService; Status Code: 400; Error Code: ValidationError; Request ID: fcdb67f2-25d4-11e5-b32f-21485c1016f5)

Ive tried different legitimate vcenter users and this happens to each of them, any ideas what this might be ?

Thanks!!

Glen"
Amazon EC2	"Re: Problems configuring vcenter / aws-connector
Hello Glen,
Would you generate the log bundle, download and send it to us at the email address: aws-amp-vcenter@amazon.com. The log bundle can be generated by clicking on the â€œDownload log bundleâ€ link on the connector management console.

Once we receive the logs, we will investigate and get back to you with steps to resolve the error.

Thanks,
Anbu"
Amazon EC2	"can't ssh to ec2 instance
instance id: i-fb418a53
Private DNS: ip-172-31-xx-xxx.ec2.internal
Private IPs: 172.31.xx.xx
Public DNS: ec2-xx-x-xx-xxx.compute-1.amazonaws.com
Public IP: 1.1.1.1
Security Group allows all inbound/outbound traffic

Error Message:
ssh -i key.pem -v -v ubuntu@x.x.x.x
OpenSSH_4.6p1, OpenSSL 0.9.8e 23 Feb 2007
debug1: Reading configuration data /c/Users/Reggie/.ssh/config
debug2: ssh_connect: needpriv 0
debug1: Connecting to 1.1.1.1 port 22.
debug1: connect to address 1.1.1.1 port 22: Attempt to connect timed out without establishing a connection
ssh: connect to host 1.1.1.1 port 22: Bad file number

Please help me on this.

Edited by: DilipS@AWS on Jul 9, 2015 5:23 PM"
Amazon EC2	"Re: can't ssh to ec2 instance
Hi Reggie,

Hope you are doing well, I just checked your instance and see that the Security Group Attached to the VPC does not have the required Inbound Rule to allow SSH connections. Please allow SSH Protocol for your specific network range or individual IP's and you should be able to connect, we do not recommend opening SSH connections to 0.0.0.0/0 for obvious security reasons.

You can find more details on creating a Inbound Rule here: http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/SecurityGroup.html

I hope this resolves your issue.

Regards,
Dilip Sant

Edited by: DilipS@AWS on Jul 9, 2015 5:29 PM"
Amazon EC2	"Re: can't ssh to ec2 instance
Thanks for helping me on this.
the root cause is that the default security group allows all traffic, but in this VPC only.
I changed the source to 0.0.0.0/0, it worked."
Amazon EC2	"Re: can't ssh to ec2 instance
Hi Reggie,

Thanks for confirming that you were able to resolve the issue by editing the Security Group. However it is highly recommended that you do no use the 0.0.0.0/0 for ALL protocol, also for security reasons I have edited your first port which had the Public IP's.

It is highly recommended that you harden your instance and only allow ports required and restrict access to limited IP's. Please find our whitepaper which has describes the best practices for securing your instance.
http://aws.amazon.com/whitepapers/aws-security-best-practices/"
Amazon EC2	"Multi old snapshots show empty status, and can't be deleted
Hi, I have multiple snapshots (us-west-1c) that show no status (empty), and these cannot be deleted via either the commandline or web interface. Error message is just ""Error deleting snapshot"" (no other info). Some of these snapshots were created up to 5 days ago.

Sometimes I can see these in the web interface, and then sometimes I can't - as I refresh the snapshots page/list they seem to come and go.

This is an example of one I can see that has no status and I cannot delete: snap-10d31132

Hope someone can help..."
Amazon EC2	"Re: Multi old snapshots show empty status, and can't be deleted
The snapshots that have no status and I cannot delete are:
snap-ce644beb
snap-10d31132
snap-f4cd8fd6
snap-413b2363
snap-a055fc85
snap-fecd22da
snap-cc5127ea
snap-483a8b71
snap-502a0e69

I confirm that YES I want all the above snapshots deleted (if someone from AWS can do so?)."
Amazon EC2	"Re: Multi old snapshots show empty status, and can't be deleted
Now seeing other snapshot IDs too, with same problem (see image). Hope someone from AWS can help here..."
Amazon EC2	"Re: Multi old snapshots show empty status, and can't be deleted
Hello Seba Illingworth,

I'm sorry to see you're having problems with your snapshots in the EC2 Console.

I suspect you're experiencing a console issue where it's not update correctly or caching old data.  I would like you to run the following command with the AWS CLI to double check the results you're seeing on the console: aws ec2 describe-snapshots --query 'Snapshots[*].{ID:SnapshotId,Status:State}' --output table
 This command will display in an easily readable format the snapshots and their current state.

More information about the AWS CLI can be found here: http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html
More information about the describe-snapshots command can be found here: http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-snapshots.html

If you have any problems with the above please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"Elastic IP Not working
Hi

I have 2 elastic IPs working on my EC2 Instance. 54.210.63.86 & 54.84.234.73
These 2 Elastic IPs are working fine. I had a requirement where I need another IP Associated to the same instance. So I created new Elastic IP and associated with the same instance: created 2 new elastic IPs 54.209.149.37 & 52.6.220.161 , but none of these 2 are working.

Please help."
Amazon EC2	"Re: Elastic IP Not working
Hello,

Thank you for posting.

I took a look at your instance: i-23fXXXXX and found that it is launched from a Ubuntu 14.04 AMI.

Ubuntu, by default, doesn't detect multiple IP addresses associated with a single network interface. In order to have multiple IP addresses assigned to the network interface, you can add the following lines to the 'interfaces' file under /etc/network/ directory on your Ubuntu instance:
auto eth0
iface eth0 inet static
address 172.X.X.X
netmask 255.255.240.0
gateway 172.X.X.1

auto eth0:0
iface eth0:0 inet static
address 172.X.X.X
netmask 255.255.240.0
gateway 172.X.X.X

auto eth0:1
iface eth0:1 inet static
address 172.X.X.X
netmask 255.255.240.0
gateway 172.X.X.1

auto eth0:2
iface eth0:2 inet static
address 172.X.X.X
netmask 255.255.240.0
gateway 172.X.X.1

The above lines will create sub-interfaces for multiple IP addresses. You can then restart your instance and you should be able to connect on the other two IP addresses.

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Account was hacked, multiple instances created
Hi,

My account was hacked. Somebody created 17 instances. 
I usually pay around 10 US dollars a month and now I have more  of 5,000.
obviously i will not to pay that cost.

I deleted the instances. (17)

Case type Account: 1437511471 or 1436951371
who can help me ??

Johvany Ochoa 
Best Regards.

Edited by: johvany ochoa on Jul 7, 2015 3:28 PM"
Amazon EC2	"Re: Account was hacked, multiple instances created
Hello Johvany, 

I can see that an email regarding this was sent to your email address on Saturday, July 4, 2015 10:54 PM (US/Pacific). 
Please follow the steps in that email to secure your account. 
I also suggest that you secure access to your AWS account using MFA. Please see this blog post for more information: http://blogs.aws.amazon.com/security/post/Tx1KJ4H6H5R80UD/Securing-access-to-AWS-using-MFA-Part-1

Also please read through the AWS security best practices to better secure your account: http://aws.amazon.com/whitepapers/aws-security-best-practices/

As for the charges, one of my colleagues will follow up on your support case. 
Regards
Fawzi H."
Amazon EC2	"Re: Account was hacked, multiple instances created
Hi johvany ochoa,

I have updated your support case 1436951371 . 

Please reply to the support case directly as I will be more than happy to further assist.

Thanks
C.Manuel"
Amazon EC2	"Re: Account was hacked, multiple instances created
thank you very much for their recommendations, 
will review and will implement .

Best regards."
Amazon EC2	"sporadic network errors in EC2 instance (localhost <--> localhost)
Background:

I run trading simulations inside AWS EC2-classic instances.

On each AWS instance, I start 2 separate Java programs--call them A and B--that communicate with each other using ordinary TCP sockets.

Since both these programs are on the same (AWS virtual) machine, the sockets always use localhost for the IP address host name.  Program A creates a server socket at localhost on port number 12300, and waits for program B to create a client socket connection to localhost:12300.  After an initial connection on that port, some information is exchanged between A and B, and further localhost socket connections between them will be made on a few subsequent port numbers (e.g. 12301, 12302, etc).

~~~~~~~~~~~~~~~~~~~~

Problem:

Sometimes my simulations work perfectly, other times they soon fail due to networking errors.

The most common networking error that I see is with that initial socket connection.  From my logs, I know that A successfully created a server socket on localhost:12300, and that B repeatedly tried to establish a client socket with it, but that B's attempts all failed.  The fundamental networking error seen by B is
	java.net.ConnectException: Connection refused
		at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.7.0_67]
		at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) ~[na:1.7.0_67]
		at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) ~[na:1.7.0_67]
		at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) ~[na:1.7.0_67]
		at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.7.0_67]
		at java.net.Socket.connect(Socket.java:579) ~[na:1.7.0_67]
		at java.net.Socket.connect(Socket.java:528) ~[na:1.7.0_67]
		at java.net.Socket.<init>(Socket.java:425) ~[na:1.7.0_67]
		at java.net.Socket.<init>(Socket.java:208) ~[na:1.7.0_67]
		...

Sometimes, that initial localhost:12300 connection succeeds, but then one of the subsequent socket connections fails.  Last night, I saw a connection to port 12302 fail with that same
	java.net.ConnectException: Connection refused

Also, even before programs A and B attempt to communicate, B first downloads some configuration data from a MySQL database.  Last night, for the first time ever, I saw one of my simulations fail because of this networking error:
	Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
	Last packet sent to the server was 21 ms ago.
		at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.7.0_67]
		at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:1.7.0_67]
		at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.7.0_67]
		at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:1.7.0_67]
		at com.mysql.jdbc.Util.handleNewInstance(Util.java:406) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1074) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2873) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2763) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3299) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:894) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3808) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1256) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2032) ~[mysql-connector-java-5.1.5-bin.jar:na]
		... 24 common frames omitted
	Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
		at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2332) ~[mysql-connector-java-5.1.5-bin.jar:na]
		at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2774) ~[mysql-connector-java-5.1.5-bin.jar:na]
		... 30 common frames omitted

~~~~~~~~~~~~~~~~~~~~

Some more information:

1) whether or not a given simulation fails is somewhat random

2) that said, certain times of day (evenings, Friday evenings especially) seem to be especially hazardous
	--anyone know if AWS is particularly busy with jobs at that time?
	--does AWS do system maintenance on Friday evenings?

3) if a simulation attempt failed, I can often get it to work simply by retrying it one or more times
	--I re-execute the exact same command that previously failed
	--the fact that it subsequently works indicates that there is nothing wrong with my code, but is an AWS issue
	--further proof that AWS is to blame: I have never seen any networking errors when I run my simulations on my personal workstation

4) I run each simulation on a newly created AWS instance (more details below)

~~~~~~~~~~~~~~~~~~~~

Security Group (probably not the cause):

I initially created a new security group using the AWS CLI, and added these ingress rules:
aws ec2 authorize-security-group-ingress --group-name <MySecurityGroupName>
 --protocol tcp --port 22 --cidr <CompanyPublicIp#1>32
Â 
aws ec2 authorize-security-group-ingress --group-name <MySecurityGroupName> --protocol tcp --port 22 --cidr <CompanyPublicIp#2>/32
Â 
aws ec2 authorize-security-group-ingress --group-name <MySecurityGroupName> --protocol tcp --port 3306 --cidr <CompanyPublicIp#1>/32
Â 
aws ec2 authorize-security-group-ingress --group-name <MySecurityGroupName> --protocol tcp --port 3306 --cidr <CompanyPublicIp#2>/32

The egress rules are the default (allow all outbound connections).

I have a hard time believing that my security group could cause the network problems described above, because it should always cause a problem, instead of cause sporadic problems, right?

That said, I tried adding this ingress rule to allow every inbound connection to localhost (127.0.0.1):
aws ec2 authorize-security-group-ingress --group-name FxSimSecurityGroup --protocol all --port -1 --cidr 127.0.0.1/32

(An analogous egress rule for VPC security groups is described at the end of this link)

This new localhost ingress rule had no effect, as expected.

~~~~~~~~~~~~~~~~~~~~

AWS instance initialization (probably not the cause):

I mentioned above that each simulation runs in a newly created EC2-classic instance.

You might be thinking that maybe I am running my simulations too soon after instance creation, and therefore that certain stuff like networking on the virtual machine is not fully ready.

While this may turn out to be the explanation, note that before I start running a simulation, I first do these checks (in the order listed) to try to establish that the instance is ready:

1) I poll until I can confirm that instanceId has propagated thru the AWS system
	--I do this with the AWS CLI by calling ""aws ec2 describe-instances  --instance-ids $instanceId"" until the exit code is 0

2) I confirm Monitoring.State is enabled
	--I do this with the AWS CLI by calling ""aws ec2 monitor-instances  --instance-ids $instanceId"" with a query that gets me the Monitoring.State value
	--I wait till it has the value ""enabled""

3) I confirm SystemStatus.Status is ok
	--I do this with the AWS CLI by calling ""aws ec2 describe-instance-status  --instance-ids $instanceId"" with a query that gets me the SystemStatus.Status value
	--I wait till it has the value ""ok""

4) I confirm InstanceStatus.Status is ok
	--I do this with the AWS CLI by calling ""aws ec2 describe-instance-status  --instance-ids $instanceId"" with a query that gets me the InstanceStatus.Status value
	--I wait till it has the value ""ok""

Note that 4) is especially relevant to this current issue: my understanding from this link is that once I see the instance status check pass, then it
	""confirms that we AWS are able to deliver network packets to the operating system hosted on your instance.""

Is there any further check that I should do to confirm that my instance is ready?

To aid diagnosis, I am attaching a file to this message which contains the output of running ""aws ec2 describe-instances  --instance-ids $instanceId"" after all the checks above have passed.

~~~~~~~~~~~~~~~~~~~~

So what is the cause of these networking errors?

Sporadic failures like this are extremely frustrating to deal with!"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
How many times does the client (B) retry the connection if it fails, and how long does it wait in between each retry? If it works sometimes but not others it sounds like it could be caused by a race condition where the client (B) starts and retries even before the server (A) has set up the socket, whereas, other times A properly starts before B and the connection succeeds.

Are both A and B started automatically, or manually by you? If you can start them manually then I'd try starting A, waiting a few seconds (or more, depending on how long it takes for it to set up the socket), then starting B. Do this a few times to make sure it connects consistently. If that works consistently then the issue above is likely the cause. In that case, modifying your retry settings would help so that it 1) waits longer in between each retry, 2) retries more times, 3) Waits a specified amount of time before trying to connect to A, etc.

Also, how many connections are you making? Could you be exhausting the connection limit or max open files?"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
theartoflogic: thanks for your response.

How many times does the client (B) retry the connection if it fails, and how long does it wait in between each retry?

Client B tries to connect with A.  If the socket connection fails, then it sleeps for 1 second before a retry.  If more than 100 seconds have elapsed without success, then it assumes that the situation is hopeless, and throws an Exception (that is what crashes my simulation).

If it works sometimes but not others

Let me be more detailed here.

For a given AWS instance, sometimes the first time that I try a simulation it immediately works, and sometimes that simulation fails.

If a simulation fails (for the most common cause described in my initial post), it only fails after ~100 socket connection attempts within that original process all failed, as explained above.

Now if a simulation failed, I can then re-execute the command that I last used to run the simulation, and often this time the simulation immediately works. It looks like B is immediately able to connect with A this time.

it sounds like it could be caused by a race condition where the client (B) starts and retries even before the server (A) has set up the socket,

From log file time stamps, A seems to always have its server socket created before B's first attempt.  (I expect this.)

But even if the first attempt by B happened before A had set up the server socket, I am sure that by 100 seconds later A has.  So, this cannot be the explanation.

Are both A and B started automatically

A bash script starts A first, then immediately starts B.

The connection retry logic and long (100 s) time allowed mean that there should be no need to do things like start A, wait a few seconds, and then start B.  (I used to do that, and hated it as a hack.)

Also, how many connections are you making? Could you be exhausting the connection limit or max open files?

The total number of sockets opened between A and B in a successful simulation is about 11.  Please, there are some other processes going on that use sockets (e.g. MySQL).

I highly doubt that I am hitting any kind of connection number limit, but by all means please educate me.  Maybe AWS imposes some very tight constraints?

But, like security group rules, I have a hard time believing that connection limits are an issue, because they should not cause sporadic problems like this, but either always work or always fail.

I want to update the time of day effect that I mentioned in my original post.  When I tried doing test simulations this morning to investigate the network failures, I was not seeing them all morning!  Then, the last attempt that I did this afternoon had 1 out of 10 simulations fail.  I bet that I see more as the afternoon goes by..."
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
Thanks for the additional info. Hmm, that's definitely an interesting problem. Your retry logic sounds fine, and 100 seconds should be plenty of time to wait for A to start.

In your initial post you say:

From my logs, I know that A successfully created a server socket on localhost:12300, and that B repeatedly tried to establish a client socket with it, but that B's attempts all failed.


Have you tried verifying manually (besides looking at your logs) that A really is listening on the IP/port that B is trying to connect to in those times when it fails (do a `netstat -an | grep 12300` or something)? Maybe A is crashing sometimes, making it so B can't connect, whereas, other times it doesn't crash."
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
Have you tried verifying manually (besides looking at your logs) that A really is listening on the IP/port that B is trying to connect to in those times when it fails (do a `netstat -an | grep 12300` or something)? Maybe A is crashing sometimes, making it so B can't connect, whereas, other times it doesn't crash.

Funny that you asked.

I had come across this aws forum posting yesterday.  I have been meaning to implement its suggestion and call stuff like netstat to see what ports really are being used.

I am sure that the networking bug is something particular to AWS, since I never see it in simulations run on non-AWS machines.

My guess is that either the new AWS instance is not fully initialized, in spite of all the checks that I test for, or else sometimes the network interface that gets used is different.  In particular, maybe A's server socket is not created on localhost but on some other IP address.  (AWS instances seem to have a bunch of different IP addresses, like public and private)

Stay tuned..."
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
I can't tell you the results of running ifconfig, netstat -l, and traceroute localhost because as of about an hour ago, every time that I try to create AWS instances, they all almost immediately die.

For example, just now, I ran a bash script on my local machine that started 10 AWS instances.  With the first one, it passed the first check that I described in my initial post (poll until I can confirm that instanceId has propagated thru the AWS system).  When my local bash script attempted to proceed to the second check (confirm Monitoring.State is enabled), every call to ""aws ec2 monitor-instances --instance-ids $instanceId"" had this error message print out:

""A client error (InvalidState) occurred when calling the MonitorInstances operation: Instance i-9e9b454d not in a monitorable state.""

When I looked about 30-60 seconds later in the AWS web GUI (EC2, Instances), I saw that all 10 of my AWS instances were terminated.

How the heck did this happen?  Certainly not by me!

Is this the dreaded ""Friday evening AWS goes all to hell"" phenomena that I noted in my initial post?

Anyone from AWS support listening?"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
For the benefit of anyone following this issue: the instances all immediately dying problem that I last reported turned out to be due to a different bug that suddenly kicked in last Friday.  I was unaware that the AMI that I was handed was configured to NOT delete an instance's associated Volume upon instance termination.  That led to a huge pileup of Volumes that eventually triggered a SDD quota error, which forbid me from creating new instances.  I have solved that issue now.

The original networking being flaky on startup bug described above remains...

Edited by: CaptBadLuck on Jun 29, 2015 3:25 PM"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
This is bizarre indeed, thank you for the very detailed write up as this is interesting to me.

I feel that maybe the networking stack is getting reset for some reason(?) by an AWS process after your listener creates the listening socket. This would cause the listening socket to become invalid/unbound - meaning that your client can never connect to it. That shouldn't happen with localhost but we never know...

Could you add some debugging on the listener side? Try shutting down and recreating the listening socket every 10 seconds and see if that fixes things."
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
michaelnixonjp: thanks for your response.

I am sure that the issue is related to some bizarre way that AWS initializes their virtual machines.  I intend today to start adding some network debugging to try and get more information.

Unlike running on real native bare metal, it seems as if my AWS VMs do not get the full resources that they should (e.g. CPU and/or SSD) at start up.  Reason: not only do I see the networking failures detailed above, but even if my simulation starts, I initially see really slow performance in all kinds of computations.  It is as if AWS needs to warm up, and get an idea of what resources your code needs, before it actually gives you your final resources.

Note: I am using normal On-Demand Instances (not spot, dedicated, or reserved).   To be precise, r3.xlarge instances.

Do you know of a good link that explains in detail how the AWS virtualization works?  In particular, of what kind of performance guarantees AWS makes to your instances?

Edited by: CaptBadLuck on Jul 1, 2015 8:57 AM"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
I have made progress diagnosing this issue by carefully examining time stamps in my log files.

It turns out that the failed networking was a symptom, not the cause.  Networking is actually working fine on my AWS instances.

Instead, the cause has been narrowed down to abysmal MySQL performance on AWS.

I mentioned in my initial post that ""B first downloads some configuration data from a MySQL database.""

On my local box, that operation takes ~100 ms.  I had naively assumed that it would be roughly the same on AWS.  But no: on AWS, I now see that it can take many minutes or fail completely.

With my original code, if that MySQL call took > ~3 minutes, a timeout happened in process A which caused it to shut down (which is why when process B finally tried to connect with it, it got that Connection refused error).  Other times, as reported in my initial post, that MySQL call itself dies.

I have adjusted my code so that process A has a much bigger timeout, so it is now more robust.  But this change is no help if the initial MySQL call in process B fails.  Sure, I could also make process B retry the MySQL call in case of failure, but I have decided not to, because if an operation that should take ~100 ms is actually taking 100X longer, than I have all kinds of other problems.

So, why does MySQL perform so abysmally on AWS?  My guess is bad AWS I/O performance.

I am currently interacting with AWS support on this, so hopefully I will nail this down soon, but I just learned some related stuff from them that I want to pass on.

The big surprise to me is learning what I/O hardware my on demand AWS instances are actually using.

I mentioned in my last post that I am using r3.xlarge instances.  From this link you can see that this instance type has ""1 x 80...SSD Storage (GB)"".

I thought that this meant that when I start up a new on demand AWS instance from a stored AMI, that my instance will run on an SSD that is directly attached to whatever physical CPU my virtual machine is being run on.

Nope.  That is not what happens.

Instead, what happens is that my AWS instance is actually created with its Root volume on a 75 GB General Purpose SSD that actually resides on EBS.  So, I am running it from a network drive, not a local drive.  In particular,  the 75 GB General Purpose SSD turns out to have crap baseline I/O performance (e.g. it guarantees only 225 IOPS).  See this link on EBS volume types.

Oh, that ""1 x 80...SSD Storage (GB)"" mentioned above: that IS a direct attached to the CPU SSD (i.e. local instead of network), but to use it, you have to specially mount it as a new volume, and copy whatever data you want over to it.  That is awful, since it makes it really inconvenient to use.  (If not impossible: my operating system, for example, will always be run from the slow EBS root volume, I think?)

What I really want is for my new instance to have its root volume be automatically created on the direct drive from the start.  Anyone know if that is possible?

Edited by: CaptBadLuck on Jul 9, 2015 9:46 AM"
Amazon EC2	"Re: sporadic network errors in EC2 instance (localhost <--> localhost)
Hi,

It is possible to have your instance start automatically from the instance storage (when deploying from an AMI) however you need to be careful because all data on instance storage is LOST PERMANENTLY if any of the following happens:


Instance stopped and then started (moved to new hardware)
Sudden hardware failure
Instance retirement (this means Amazon detected imminent hardware failure), you will be sent an email in this case and given up to 2 weeks to move your instance to new hardware.


Make sure you create regular snapshots. There is an easier option that I recommend instead but requires a little effort on your side to write a couple of scripts. Have a script in your AMI that runs at boot time when your instance is brand new. This script checks if the instance store has been setup - if not, it partitions it and sets up a swapfile there and also redirects /tmp there. Thsi should give you a significant speedup. Be very careful before putting production data there because of the risk of loss but in some situations it is a very good thing to do.

For example, if you are running an ElasticSearch cluster you can have several machines mirroring shards between each other, and have them all store data on the very fast instance store. If you lose a single instance it does not matter because you can create another and mirror the data back. In addition, you would want to backup to S3.

On your MySQL performance worries, are you using RDS? If you are note there are sometimes DNS resolution problems (just try again in a few seconds to get around it).

Kind regards
Michael"
Amazon EC2	"How to get computer name without remote log in
I have a domain control and a HPC headnode on AWS.  
I wanna to add a new instance into cluster programmatically.  All my application is running on headnode.
First, I initiated a new instance by using AWS .net api. 
Then, I wanna add the new instance to the HPC cluster. I didn't found HPC web api has those functions. So I run some powershell script 
$a = Get-HpcNode -Name $ComputerName -HealthState Unapproved | Assign-HpcNodeTemplate -Name $TemplateName â€“Confirm:$false
Set-HpcNodeState -Name $ComputerName -State Online â€“Confirm:$false

Is there a way to get the $ComputerName without establish a remote session to the new instance?

Thanks in advance."
Amazon EC2	"POST attack to my server
For over 3 days now I am getting 212 POST request per second at IP. 54.83.40.86
My apache rules ignore these requests but it's a logging mess, I guess I will get charged at my ELB for this unwanted traffic, and it uses CPU I would rather spend in other stuff. I already submitted an abuse request but no response so far. 
As you can see all requests are coming from multiple machines INSIDE the AWS network, isn't there anything I can do to stop this?

Any help would be much appreciated.

Thanks!

Here's a sample.
54.172.104.38 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.173.142.70 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.152.92.179 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.172.8.133 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.175.164.182 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
52.7.89.126 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
52.1.6.140 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
52.4.91.130 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.77.223.74 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.173.142.70 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
52.4.91.130 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.175.213.59 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.173.154.73 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.174.137.9 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.152.40.71 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.175.46.227 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.210.14.107 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)""
54.172.212.227 - - 09/Jul/2015:13:38:40 +0000 ""POST /bidreq/smaato HTTP/1.1"" 301 352 ""Apache-HttpClient/4.4.1 (Java/1.7.0_72)"""
Amazon EC2	"Re: POST attack to my server
I see this type of thing from time to time. Somebody probably hardcoded an IP address, or didn't update a DNS record on their platform and are sending traffic to you because you now have their old IP. When I see it happening, I change the IP address of my instance to stop it."
Amazon EC2	"Instance will not stop/force stop
Our instance i-00f2bdfb in us-east-1b can't stop/force stop.

Could you please stop it for us?"
Amazon EC2	"Re: Instance will not stop/force stop
It did stop after a while. nothing needed as of now."
Amazon EC2	"can not connect with the remote server instance
Hi experts, 

I got a ""1/2 checks passed"" for an instance I have(Instance ID:i-eb5044e3), ""instance status checks"" says ""Instance reachability check failed at July 9, 2015 at 11:05:00 AM UTC-7 (43 minutes ago)"". 

I checked the system log. It said ""difficulty detecting PV driver details for console output"", I was not sure what that means. 

So I tried to stop it and started it again, but I could not start it and got the same ""1/2 checks passed"" message each time. I tried to reboot it, but it did not work. Can anyone give me a hand on this? I have a demo to show on this server. It worked great before.   Thanks!!"
Amazon EC2	"Re: can not connect with the remote server instance
Hello,

Thank you for posting.

I took a look at your instance: i-eb5044e3 and found that the instance was launched from the AMI: Windows_Server-2012-R2_RTM-English-64Bit-Base-2014.06.12 and it is failing instance reachability checks. 

Also, on the system logs, I could see the error: 'difficulty detecting PV driver details for console output'. This error is due to a feature in Windows Server 2012 R2 (Plug and Play Cleanup) that scans for and disables inactive system devices every 30 days. Windows is identifying the EC2 network device as inactive and removing it from the system. If this happens, the instance will lose network connectivity after any subsequent reboot. 

For more information about 'Windows Server 2012 R2 (Plug and Play Cleanup) feature', please refer to this link: http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

In order to remediate this issue, please follow the steps below:

Stop the instance
Create a backup (Right click the instance in the AWS Management Console, Select Image, Create Image)
Change the instance type to C3 (any c3)
Start the instance
RDP into the instance
Download the AWS PV upgrader from this link: ec2-downloads-windows.s3.amazonaws.com/Drivers/AWSPVDriverSetup7.2.5.zip
Unzip and run AWSPVDriverSetup7.2.5.msi
The OS will reboot automatically after running the upgrader, and install the driver. During this time the instance will be unavailable (5-15 minutes). Once complete, the instance will again be accessible.
Verify driver has been installed by checking device manager and under storage controllers look for AWS PV Storage Host Adapter and check the driver properties and make sure the version is 7.2.5.1
Stop the instance
Change instance type back to the original instance type
Start the instance, login, and use as needed


I hope the above information helps. 

Thank you,
Nikhil"
Amazon EC2	"i-a4834d77 in us-east-1 continuously in 'stopping' stage
I have an instance ( i-a4834d77) in us-east-1 under 828893403405 userID.

I tried to stop the instance, and start it later - but it is stuck in 'stopping' state.

What can I do to fix that?"
Amazon EC2	"Re: i-a4834d77 in us-east-1 continuously in 'stopping' stage
Seems like it was stopped. It took a while"
Amazon EC2	"Why don't the ELBs include user agent or referrer in access logs?
Curious as to why the ELBs don't include HTTP fields (e.g. user agent) while they do include the method request (e.g. GET / HTTP 1.1)? It seems to be using an HTTP connection, because if it was just a TCP connection, we wouldn't be able to see the request path + method.

I ask because I've been building a log analysis server for the ELB logs, and it seems strange not to have these fields.

Thanks!"
Amazon EC2	"Re: Why don't the ELBs include user agent or referrer in access logs?
Hi,

 Could you please provide the ELB FQDN so we can have a look at this?

 You may have ELB Listener set to TCP instead of HTTP, otherwise you should be able to see the entire HTTP Headers including X-Forwarded-for.

 Thank you"
Amazon EC2	"Re: Why don't the ELBs include user agent or referrer in access logs?
I checked the listener, and it appears to be set to HTTP (along with HTTPS for SSL).

http://awseb-e-2-awsebloa-h7occkt2zwwk-288119983.us-east-1.elb.amazonaws.com/

Just to clarify, this is for ELB access logs and not IIS access logs from the instances themselves. 

Examples of ELB access log:

2014-09-06T23:55:03.621809Z awseb-e-2-AWSEBLoa-H7OCCKT2ZWWK 66.249.64.152:52422 10.8.1.161:80 0.000128 1.515785 0.000259 200 200 0 21131 ""GET http://www.example.com:80/find/page/a HTTP/1.1""

2014-09-06T23:55:05.064717Z awseb-e-2-AWSEBLoa-H7OCCKT2ZWWK 66.249.64.156:56700 10.8.1.142:80 0.000064 0.210537 0.000325 200 200 0 15943 ""GET http://www.example.com:80/find/page/b HTTP/1.1""

Thanks!"
Amazon EC2	"Re: Why don't the ELBs include user agent or referrer in access logs?
Based on the documentation, it does not appear to provide these fields, so I don't think anything is ""wrong"" per se, aside from my expectation.

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/access-log-collection.html

I guess there simply isn't a way to get these headers at this level."
Amazon EC2	"Re: Why don't the ELBs include user agent or referrer in access logs?
I am a bit confused.   To me it clearly says that with an http/https listener that user_agent should be logged.

user_agent
HTTP/HTTPS listener A User-Agent string that identifies the client that originated the request. The string consists of one or more product identifiers, product[/version]. If the string is longer than 8 KB, it is truncated.

I don't see the user_agent field in any of my logs.

Edited by: wdtmatt15 on Jul 9, 2015 12:56 PM"
Amazon EC2	"Server is running but not accessible
Hello,

I don't understand why my instance is running but not accessible.
Instance ID : i-975598b4

Please see the screen capture in attached files.

Could you help me ?"
Amazon EC2	"Re: Server is running but not accessible
Hello,

Thank you for the post.

I took a look at your instance: i-975598b4 and everything seems to be configured correctly. Also, I checked the connection on port 22 (SSH) and I was able to connect successfully. Please see the command below:
nc -v 54.X.X.X 22
Connection to 54.X.X.X 22 port tcp/ssh succeeded!
SSH-2.0-OpenSSH_6.2

In order to investigate this further, can you provide more information about how are you trying to access the instance? Are you trying to connect on port 22 (SSH) or any other ports? Are you receiving any errors while trying to connect to the instance?

Also, if you wish, you can reach me via a private message.

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"sudo ""could not resolve host"" errors
I started getting ""could not resolve host"" errors on my EC2 instance. I tried to shut it down and it is stuck. Can someone look into it? US West (Oregon).

I see other people have had the same issue in the past:

https://forums.aws.amazon.com/thread.jspa?threadID=135311"
Amazon EC2	"Re: sudo ""could not resolve host"" errors
Hello,

The instance is now in terminated state.

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Connection reset by peer
For some reason I can't access my machine using
ssh -i myPemFile.pem ec2-user@52.24.243.201

I am receiving the following error:
ssh_exchange_identification: read: Connection reset by peer

Using command line on mac

instance ID: i-fb69d00c"
Amazon EC2	"Re: Connection reset by peer
My mistake, my IP address was wrong in the inbound security group"
Amazon EC2	"ssh 6.9p1 upgrade failure
Hi all,

I'm trying to upgrade ssh on default Amazon Ubuntu t2 micro instances, which use ssh 6.6.1p1. In order to pass PCI compliance, ssh needs to report v6.7 or higher, otherwise Trustwave scans fail PCI compliance.

This is what I tried:

launched default t2 instance.
first did a sudo apt-get update, upgrade-dist to make sure everything is up do date. Rebooted instance, ssh still works ok.
then downloaded ssh 6.9p1 and installed it, per this blog:

https://kenkoehlerca.wordpress.com/2015/01/07/upgrading-to-openssh-6-7p1-on-ubuntu/

All good, no errors, sshd is confirmed running, but when I try to ssh, the authentication fails and the key, which was generated by the AWS console and used successfully to login until now, no longer works. The ssh -vvv debug always ends with:

<snippet..I can provide full log>
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey
debug2: we did not send a packet, disable method
debug1: No more authentication methods to try.
Permission denied (publickey).

After some digging, I found another article stating that Amazon authentication relies on PAM.
So then I redid the whole thing on a new instance including the --with-PAM option in the ssh .configure script. But still I couldn't login.

I compared the upgraded instance ssh debug with another default instance ssh debug and I cannot tell the difference, except for some of the ciphers (weak ones disabled after upgrade). I also tried detaching the upgraded, volume, attaching to a good instance and comparing directory permissions, ssh config files, authorizedkeys, etc and found no differences (doesn't mean there aren't, but I couldn't find them). The only relevant change I noticed is the upgraded instance had a couple extra keys generated by default in the /etc/ssh, but I don't see why that would be relevant. The authorizedkeys was the same, so I expected I'd be able to login with ""ubuntu"" as before.

In short, my one and simple question is: does anyone know the steps to successfully upgrade to ssh 6.7 or later on a default Ubuntu EC2 ?
Thank you!"
Amazon EC2	"EC2 instance sporadic behavior
My instance i-b8d79b45 on us-east-1d appeared to go down last night and acted sporadically overnight. I can occasionally ssh to it and it will serve data but not as fast as it used to. I tried rebooting, stop/start, and upgrading from t2.micro to t2.small but the behavior has been the same.

The status checks seem to pass, but the monitoring does reflect gaps in operation.

Are there any steps I'm missing in debugging this? The system log for the restarted instance doesn't show anything."
Amazon EC2	"ec2-descibe-regions permission error
when I run this command in the US west region it works, however when I run it in the US east region it tells me I do not have permission.

Unable to connect to host: 'https://ec2.us-east-1.amazonaws.com'
Connection to https://ec2.us-east-1.amazonaws.com refused

Does anybody know how I can fix this?"
Amazon EC2	"Unexplained Unhealthy hosts
Hello,

Over the last few months we haven't had any issues with our servers, but within the last 2 weeks there has been 4 reported unhealthy hosts. After checking cloudwatch I couldn't identify any CPU spikes on the server or the DB that would explain the failed health checks. Due to the ELB killing the unhealthy host I cannot further investigate any of the logs directly on the server but I can check the ELB access logs which don't show any attempts of an attack.

The EC2 hosts also seem to have never failed a health check. Could there be some underlying hardware failure or connection issue between the EC2 and the ELB? Are there any logs I should attempt to capture?

EC2 setup:

nGinx with some php file static caching
php-fpm


i-101100e6 was terminated June 30th 6:50PM CST
i-8db1ab7b was terminated July 4th 10:15PM CST
i-b21cf07b was terminated July 8th 8:39PM CST
i-158c7adc was terminated July 8th 8:46PM CST

Edited by: steven10172 on Jul 9, 2015 10:04 AM"
Amazon EC2	"Eu-West-1 Canonical Mirror Issues
Hi,

the mirrors in EU-West-1 seem to be having issues right now. They are downloading packages at 12kB/s. If i change my sources.list to point to http://archive.ubuntu.com, then I get a much greater speed

Currently, it is taking about 45 mins to install openjdk-7

I cannot find a status page that shows any issues with these

Paul

Edited by: stack72 on Jul 7, 2015 6:43 AM"
Amazon EC2	"Re: Eu-West-1 Canonical Mirror Issues
Hi stack72,

I am not sure if you have looked at this when searching, but this is a link to AWS Service status page:

http://status.aws.amazon.com/

Cheers,

Stooby..."
Amazon EC2	"Re: Eu-West-1 Canonical Mirror Issues
Hello Paul,

I am unaware of any service wide issues which may be the cause of this issue.  I have tried to reproduce your problem in eu-west-1 using Ubuntu Server 14.04 LTS (ami-47a23a30) on a t2-medium instance and the install of openjdk-7 took less than 2 minutes.  Can you please give me the Instance ID (e.g. i-a1b2c3d4) of the troublesome instance and I will look further into this issue for you.

If you have any further problems please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"Re: Eu-West-1 Canonical Mirror Issues
Hi Antony,
we have a number of Ubuntu 14.04 instances which are showing exactly the same symptoms described by stack72.
Examples are:
i-35c1c29f
i-31c6c59b
i-139640be
i-9553373f
and
i-d4d0b47e in another VPC

using the following AMI:
ubuntu-trusty-14.04-amd64-server-20150123 (ami-234ecc54)

We have been seeing this at least since yesterday. Any help would be greatly appreciated.

best regards,
Chris

Edited by: chrisPatTP on Jul 9, 2015 8:17 AM"
Amazon EC2	"Re: Eu-West-1 Canonical Mirror Issues
Hello,

I can verify that several customers are reporting slowness or timeouts with eu-west-1.ec2.archive.ubuntu.com.

Unfortunately, this repository is completely managed by Canonical who provide the Ubuntu AMIs, so we do not have the ability to fix the issue ourselves.

We have contacted them regarding the slowness and timeouts and will push them to resolve the issue.

In the meantime, I would suggest adjusting your apt settings to utilize the public mirrors, instead of the AWS specific mirrors with the following command:
sudo sed -i 's;eu-west-1.ec2.archive.ubuntu.com;eu.archive.ubuntu.com;' /etc/apt/sources.list

Please let me know if you need any additional information or assistance and I would be glad to help.

Best Regards, 

Ahmed H."
Amazon EC2	"Instance unreachable
Hi,

One of our instance (i-06d18bc8) is unreachable. I've already tried to forcibly stop it several times, but it still in stopping status.

How can we do?

Many thanks"
Amazon EC2	"Re: Instance unreachable
Hello,

I have taken a look at instance ""i-06d18bc8"" and it appears to be running in a healthy state now.

I apologize for any inconvenience that may have caused you and please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Instance stuck shutting down
Trying to terminate an instance but its been stuck in shutting-down for almost an hour now. Could anyone from support please help? The instance ID is i-016f43a8. Thanks."
Amazon EC2	"Re: Instance stuck shutting down
Thanks!"
Amazon EC2	"Charged Credit card for Reserved Instance when 900$ + credits are available
Hello,

I raised a support ticket 24 hours back. Till now I did not get any response.
I have 900 $ + credits. I registered a reserved instance which is less than 200$.
I was charged on credit card despite having credits.  

My account should be deducted from credits and not credit card. 
Please help.

Thanks."
Amazon EC2	"Re: Charged Credit card for Reserved Instance when 900$ + credits are available
Why am I not getting any response from Amazon team?"
Amazon EC2	"Re: Charged Credit card for Reserved Instance when 900$ + credits are available
Hi Dexter6,

Taking a look I see that my colleague replied to your Support Case ID 1437565161.

Should you have any further queries or concerns please reply to the Support case directly and we will be glad to further assist.

Have a good day!

Thanks
C.Manuel"
Amazon EC2	"Re: Charged Credit card for Reserved Instance when 900$ + credits are available
Thank you."
Amazon EC2	"EC2 Instance - intermittent connection problems
Instance ID: i-dfcfb828

I'm relatively new to EC2. Setup a Wordpress site that's been working great over the last few weeks. Within the last week I've been experiencing intermittent problems connecting to my website and not being able to connect via SSH/Putty. I always resort to either rebooting my instance or in some cases stopping/starting.

Once it's back up and running it'll be fine. I'll be working on the site the next day and it'll stop connecting all of a sudden. I notice it's getting more frequent. I have an active website being hosted on it so this is getting frustrating. Management Console always shows the instance is running fine.

I've read through a lot of the troubleshooting guides I'm pretty sure it's not a security group issue. Any guidance would be much appreciated."
Amazon EC2	"Re: EC2 Instance - intermittent connection problems
Hi,

What do your cloudwatch logs say? What is the CPU Utilisation when you are having these connectivity issues? - What size instance do you have? 

Cheers,

Stooby..."
Amazon EC2	"Article addressing common issues when trying to connect to EC2 via SSH/RDP
Hi all,

I see a lot of people on here struggle when trying to connect to EC2 instances via SSH/RDP.  I recently wrote an article on the most common causes and how to troubleshoot these connectivity issues you may be having.  

The article can be found here if of any use to you:

http://www.experts-exchange.com/articles/18564/Resolving-connectivity-problems-to-Amazon-Web-Services-AWS-EC2-instances-via-SSH-RDP.html

Many thanks,

Stooby..."
Amazon EC2	"VZ-FIOS-US-EAST
Hi Everyone, 

I have been experiencing this issue since 1/1/2014, There Here is my history on the matter thought i would share(so we can all benefit from and maybe reach a solution together): 

After much research and Testing, I Found out that any AWS Customers who have Verizon FIOS in the North EAST region of the United States will experience an increased latency and packet loss and bandwidth degradation to AWS Region in Virginia US EAST, between 12 PM EST -12AM EST time, this has been happening for the past 1 months with no clear answer from Verizon why this happens. (It is Clear that the route to AWS Networks in VA US-EAST-1 Region using Verizon FIOS this will always happen). I have tried this from 3 different sites: Pittsburgh(~666 miles away from Philadelphia), Philadelphia, and Surrounding Philadelphia.

FIOS is available in NY, NJ, Delaware, and all over the Northeast Quarter of USA. Now thatâ€™s a huge Gap. This issue happens to any Verizon FIOS customers. FIOS has the highest internet speeds and greatest bandwidth at the lowest price that is symmetrical that you can buy for a business or home. 300/300 Mbits 150/150 Mbits etc. From what seems to me is the whole Northeast Quarter of the USA this happens too (I only have data from 3 different sites).

Comcast Customers here in the NE Quarter of US do not experience any of these issues. But Comcast speeds here in the NE Quarter at its highest speeds 150/20 UP/Down.

Now were talking about public internet providers ISPâ€™s. Which impacts everyday people, and small to medium size businesses who rely on a reliable consist connection to the internet at the speeds we signup for. Who cannot afford over $500-$1500 private internet connection. We shouldnâ€™t accept speed and bandwidth to change if I want to visit a certain site or make a connection with specific provider. Itâ€™s VZ and the other Major providers responsibility to route internet traffic fairly, consistently, and without degradation to any resource over the internet). Itâ€™s their responsibility to maintain Net-Neutrality, but from this evidence itâ€™s simply NOT. This impacts application performance over the internet, any hosted application on AWS US-EAST, VZ FIOS customers will always have a degradation between 12 pm and 12 am est. This affects all AWS Resources in US-EAST. 

We have been having bandwidth/latency Issues to AWS (Amazon Networks in Virginia) from WEST Conshohocken , Pennsylvania (PA) , Valley Forge, PA and Pittsburg, PA . Between the hours of 12 am â€“to 12 pm EST we are at normal/best performance but from 12 pm(noon) - 12 am (midnight) there is a significant drop in bandwidth and latency. About a 3x-4x drop in both. We have found that the problem lies with VZ public routing to AS209 which is routing the packets incorrectly (strong statement). I have attached all the required trace routes (LFT) and an alternative AS number to be routed to. Packets should leave the AS701 to be routed to AS7922( I have performed test on this AS and it is routing properly to Virginia with the least amount of latency compared to the AS209 which seems to be the troublesome AS).

I have zipped attached folder with all the data gathered for best and worst (Results tested from the Verizon FIOS Boxes, from different sites)
Please Review!!!. 

My results from LFT tell me there is an Issue with AS701 that it should not be passing traffic to Qwest AS209 and a better Route Would be AS7922 (Comcast) to get to Virginia (AS16509)(Amazon).

I have reached out with this information to VZ more than once and long times on the phoneâ€¦â€¦ and they believe itâ€™s an acceptable degradation in service, and they do not have control over a big public route like the one traffic is taking from the VZ-FIOS customers to AWS. While I did reach out to the other provider Qwest AS209, They to said that they cannot change the route for VZ â€“FIOS customers to AWS, that a bigger Internet power controlled the route, they cannot assist any further.

So my only conclusion after a year of fighting this, is for:

AWS to provide a workaround to this public routing issue for VZ-FIOS Customers ( this the one possible solution I have thus far):

AWS allows its VZ FIOS Customers to route their traffic to Virtual Private Gateways and Public Gateways that are on different networks ASâ€™s ( a colocation for example CoreSite NY1 & NY2, Equinix DC1 - DC6 & DC10) , that take a different Route to AWS EAST-1-Region so it bypasses the normal route traffic and not get degraded. Basically an entry point for VPN traffic and Public Traffic to AWS EAST-1. AWS customers can changes configuration in their router for certain AWS IP-Blocks to always be routed to this Virtual Private Gateway or Public Gateway. So somehow traffic needs to be routed around bad ASâ€™s. or AWS puts the pressure on the ISPâ€™s to fix these issue. 

If AWS does not provide a viable option:
Possible solutions? Please add more here? Want to know what can possibly be done so you get the best connection for VZ-FIOS customers to AWS EAST-1

-An organization can make Virtual Router or Physical Router that is in one of AWS colocations or anywhere on the internet that has a reliable consistent connection to AWS-EAST-1 (obviously test the route make sure you getting the best performance out of each route and make sure the route doesnâ€™t change for a period of time , test latency and bandwidth using tools like mtr and iperf). And Route all AWS traffic to that router for routing to AWS P for Public and Private traffic.
Do not forget to look at the Attachments
Here:
######################################
http://vz-fios-aws.s3.amazonaws.com/GENERAL.zip
http://vz-fios-aws.s3.amazonaws.com/Newest.zip
http://vz-fios-aws.s3.amazonaws.com/Older.zip
#############################################

Supporting Links:
http://bgr.com/2014/02/05/verizon-throttling-netflix-amazon-aws/
http://www.davesblog.com/blog/2014/02/05/verizon-using-recent-net-neutrality-victory-to-wage-war-against-netflix/
http://whatthegeek.net/2014/02/11/just-how-hard-is-verizon-throttling-aws-spoiler-youre-the-shoe/
http://arstechnica.com/information-technology/2014/02/verizon-could-be-throttling-netflix-and-amazon-but-theres-no-actual-evidence-of-it/

-Aki"
Amazon EC2	"Re: VZ-FIOS-US-EAST
Many thanks for your post.  I unfortunately do not have a solution, but want to let you know that others and I have the same issue per the thread at:

https://forums.aws.amazon.com/thread.jspa?messageID=604888

My TimeWarner connection from New York City works great, however. 

Best, Heiko"
Amazon EC2	"Re: VZ-FIOS-US-EAST
I've noticed the same with both a FiOS residential and FiOS business account (w/ static IP). Have you gotten any response or further resolution on this?"
Amazon EC2	"Re: VZ-FIOS-US-EAST
I can also confirm this issue.  I have two FiOS connections, one commercial in ZIP 20191 and on residential in 20147.  If ZIP code 20147 looks familiar, it may be because it's Ashburn, VA.  I literally live less than 2 miles from the AWS EC2 us-east-1 datacenters and my connection drops packets at a rate of about 30% between about 8:00pm EST and 12:00am EST almost every night.  I have been logging this loss for at least 6 months.  The bad peering (or whatever is causing it) makes the connection grind to a halt.  Downloading anything from S3 in us-east-1 is going at a rate of about 1Kbps right now on my 150Mbps connection.  Interestingly, when I connect from some of my servers in EC2 back to my servers on FiOS, there is no problem (although I can see it going out a different route).

Here's WinMTR on my residential connection showing the usual suspect, dca2-edge-01.inet.qwest.net dropping packets like an 1980's hub:

|----------------------------------------------------------------------------------|
|                                   WinMTR statistics                              |
|                       Host              -   %  | Sent |Best | Avrg | Wrst | Last |
|------------------------------------------------|------|-----|------|------|------|
|   FIOS_Quantum_Gateway.fios-router.home -    0 |   96 |   0 |    1 |    9 |    0 |
|lo0-100.CLPPVA-VFTTP-305.verizon-gni.net -    0 |   96 |   5 |   10 |   74 |    6 |
|  T0-6-0-3.CLPPVA-LCR-21.verizon-gni.net -    0 |   96 |   7 |   13 |   78 |    7 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|                0.ae5.BR2.IAD8.ALTER.NET -    0 |   96 |   9 |   14 |   75 |    9 |
|              dcp-brdr-03.inet.qwest.net -    0 |   96 |   7 |   12 |   75 |    8 |
|             dca2-edge-01.inet.qwest.net -   30 |   44 |   8 |   21 |   75 |    8 |
|                          67.133.224.206 -    0 |   96 |   9 |   15 |   78 |   12 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|                           72.21.222.147 -   20 |   52 |  12 |   24 |   48 |   35 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|                   No response from host -  100 |   19 |   0 |    0 |    0 |    0 |
|ec2-54-172-231-63.compute-1.amazonaws.com-   15 |   60 |   9 |   22 |   80 |   20 |
|________________________________________________|______|_____|______|______|______|
   WinMTR v0.92 GPL V2 by Appnor MSP - Fully Managed Hosting & Cloud Provider


I have over $10k per month of service charges with AWS, so hopefully someone will take this seriously and at least attempt to look at this problem."
Amazon EC2	"Re: VZ-FIOS-US-EAST
""when I connect from some of my servers in EC2 back to my servers on FiOS, there is no problem""
so set up a tunnel along that path."
Amazon EC2	"AMI list across regions
i manually gathered AMI info on the console instance start page at each region then processed it with a quick Python script.  i did this as to build an AMI list some scripts to be written can use to start new instances.  i would like to check for updates (new AMIs) daily but avoid the time-consuming manual steps. is there a downloadable source of this info that is kept up to date?

here is my result for today processed to JSON format:

{""us-west-2/amzn/hvm"": ""ami-e7527ed7"", ""ap-northeast-1/amzn/pv"": ""ami-27f90e27"", ""us-west-1/amzn/hvm"": ""ami-d114f295"", ""eu-central-1/amzn/hvm"": ""ami-a8221fb5"", ""ap-southeast-2/ubuntu/hvm"": ""ami-69631053"", ""us-west-2/ubuntu/hvm"": ""ami-5189a661"", ""eu-central-1/amzn/pv"": ""ami-ac221fb1"", ""ap-southeast-1/ubuntu/pv"": ""ami-e8f1c1ba"", ""us-west-2/amzn/pv"": ""ami-ff527ecf"", ""ap-northeast-1/ubuntu/pv"": ""ami-8d6d9d8d"", ""ap-southeast-1/amzn/pv"": ""ami-acd9e8fe"", ""sa-east-1/ubuntu/pv"": ""ami-55883348"", ""ap-southeast-1/amzn/hvm"": ""ami-68d8e93a"", ""eu-central-1/ubuntu/hvm"": ""ami-accff2b1"", ""sa-east-1/amzn/pv"": ""ami-bb2890a6"", ""ap-northeast-1/amzn/hvm"": ""ami-cbf90ecb"", ""ap-southeast-1/ubuntu/hvm"": ""ami-96f1c1c4"", ""sa-east-1/ubuntu/hvm"": ""ami-4d883350"", ""eu-west-1/ubuntu/hvm"": ""ami-47a23a30"", ""us-east-1/ubuntu/pv"": ""ami-d85e75b0"", ""us-west-1/ubuntu/hvm"": ""ami-df6a8b9b"", ""ap-southeast-2/amzn/pv"": ""ami-ff9cecc5"", ""us-east-1/amzn/hvm"": ""ami-1ecae776"", ""eu-west-1/amzn/pv"": ""ami-bf0897c8"", ""sa-east-1/amzn/hvm"": ""ami-b52890a8"", ""us-east-1/amzn/pv"": ""ami-1ccae774"", ""ap-southeast-2/amzn/hvm"": ""ami-fd9cecc7"", ""us-west-2/ubuntu/pv"": ""ami-6989a659"", ""ap-northeast-1/ubuntu/hvm"": ""ami-936d9d93"", ""ap-southeast-2/ubuntu/pv"": ""ami-7163104b"", ""eu-west-1/ubuntu/pv"": ""ami-5da23a2a"", ""us-west-1/ubuntu/pv"": ""ami-d16a8b95"", ""eu-central-1/ubuntu/pv"": ""ami-b6cff2ab"", ""us-west-1/amzn/pv"": ""ami-d514f291"", ""us-east-1/ubuntu/hvm"": ""ami-d05e75b8"", ""eu-west-1/amzn/hvm"": ""ami-a10897d6""}

Edited by: skaperen257 on Jul 9, 2015 3:15 AM"
Amazon EC2	"Can't purchase reserved instances
Hi not sure why but when I try to purchase reserved instances it tells me that I have exceeded the limit. I checked the limit and by default it says I'm allowed 20 per availability zone. I don't even have one reserved instance purchased. Can someone help me with this? I created a support case yesterday but it's still unassigned and no one has answered me.

Thanks!"
Amazon EC2	"Re: Can't purchase reserved instances
Hi  ciegate,

Taking a look I see that my colleague has replied to your support case ID 1436755261.

If you have any further questions or concerns please reply to the open case directly and we will gladly further assist.

Have a good day!

Thanks
C.Manuel"
Amazon EC2	"Can stop instance  i-536b2503
The instance has lost reachability and I had tried to stop it.
Now is in stopping state. Can anyone help me?

Thanks."
Amazon EC2	"Re: Can stop instance  i-536b2503
Hello,

I have investigated your instance, and it seems that there was some issues with the underlying host which your instance is running on, the time frame was about an hour and 30 minutes.

At this moment I was able to confirm that your instance is in a healthy condition. If at any time you would like to migrate to a new underlying host, you should be able to do a 'stop' and 'start', if your instance appears to be stuck, you should be able to do a 'force stop'.

For more information on this, please see:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Please see the CloudWatch graph regards to the underlying host issues:
https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EC2~StatusCheckFailed_System~2015-07-08T09%3A21%3A09Z~2015-07-09T09%3A21%3A09Z~Average~300~InstanceId~i-536b2503

If you are experiencing any further difficulties regards to your instance, please do no hesitate to reach out to us."
Amazon EC2	"Not understand ElastiCache charging this month !
Hi Amazon team 

We just got report for ElastiCache service for this month from beginning to current date. It costs some money, the amount of money is not big. But I don't understand the reason of this. I didn't config anything related to ElastiCache. And when I go to ElasticCache management page, I don't see anything too. 

Could you please help me to understand this. 

Thank you very much !"
Amazon EC2	"Re: Not understand ElastiCache charging this month !
Hi  twindragongame,

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case ID 1439428661 directly for further information and assistance.

Should you have any billing or account related queries in future, you can open a case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Thanks
C.Manuel"
Amazon EC2	"how to launch my AMI to EC2?
I have a VPC with a number of instances and each instance is backed up as an AMI.
I am trying to launch one of by backup AMI to EC2 (outside of my VPC) but the option to launch the AMI to EC2 is greyed out and I only have the option to launch it to VPC.

Are there any reasons why I cannot launch an AMI that was created from an instance in VPC?

Thanks
Nicolas"
Amazon EC2	"Re: how to launch my AMI to EC2?
actually, I tried to create a new instance on EC2 classic from AWS AMI (Microsoft Windows Server 2012 R2 Base - ami-c1740ab6) and also, the option to launch on EC2-classic is greyed out.
Anyon knows why?

Thanks"
Amazon EC2	"Re: how to launch my AMI to EC2?
Anyone on this?
Has EC2-classic been removed from AWS?"
Amazon EC2	"Re: how to launch my AMI to EC2?
Some AWS accounts are VPC only, and some can use EC2-Classic.

What type of instance are you launching? Some instances require a VPC. For more information, see http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#instance-networking-storage. 

Julie"
Amazon EC2	"Re: how to launch my AMI to EC2?
Hi Julie

Thanks for the reply. I just tried again after going through every t2 type, the EC2-classic was available for M3 type.
This is a feature/limitation I wasn't aware off.

Thanks
Nicolas"
Amazon EC2	"Port 25 blocked
Hello,

I have an instance where I have a mail server running. I submitted the form to lift any email restrictions from our elastic IP. The restriction were lifted already.
I still cannot telnet into port 25 on our elastic IP. The security group has port 25 open.
Instance ID is ec2-107-20-248-253.compute-1.amazonaws.com
Not sure what else to do?"
Amazon EC2	"Re: Port 25 blocked
Hi 
I have had look at this instance and I can see that you have rebooted this instance 16 hours ago. I have tried a Telnet connection to port 25 and the server is refusing my connection. This looks like there is some internal configuration issue preventing connections on this port. I would suggest that you review the logs on this instance to see if you can determine the cause for your mail server not responding on this port.

Your instance is answering to queries on ssh so It looks like the rest of this instance is healthy.

Regards
JasonM"
Amazon EC2	"Re: Port 25 blocked
Hi,

If your SecurityGroup is open port 25, you could check that your mail server is listening on all interface (and not only on the loopback) using the following command: netstat -l
.

In order to easily check that your port are publicly opened, I suggest using Public Ports Checker.

Hope it could help
Fred

Edited by: fdonnat on Jul 18, 2011 10:55 AM"
Amazon EC2	"Re: Port 25 blocked
I'm having a similar problem, I can telnet to port 25 locally but not remotely"
Amazon EC2	"Re: Port 25 blocked
When using an Elastic IP, you need to request additional SMTP traffic for that IP in This Form. It's pretty annoying because you have to have your A record pointing to this IP whilst AWS decides if your request is satisfactory and in the meantime you don't get any mail.

The way to do it is to use the standard external IP for the host for the time being as your MX record with a different A record. Then, set up another A record to point to your EIP, make the request, and await the email from them saying they allowed SMTP traffic. At that point, then you can bind the EIP to your instance and change your MX records accordingly. Frustrating, but that's how they do it."
Amazon EC2	"Cannot Purchase Reserved Instances
Hi

Trying to purchase a 1-year no-upfront m3.medium reserved EC2 instance, and got the following error:
Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: 774e19a2-0012-4d20-a708-14bd9bce12c8)

Note that my reserved instance limit is 20 and I have not purchased any yet.

Please advise."
Amazon EC2	"Re: Cannot Purchase Reserved Instances
HA!

Same problem here and I keep getting the run around from AWS support. They just mark the ticket pending customer action but don't say anything in the support thread.

Some customer support - what a joke.

Same error, I can't purchase available reserved instances even though my limit is the initial 20 and I only have one reserved instance purchased. What a crock of it.

Its been over a week now. 

Items that Failed to Purchase Upfront Price Hourly Price Quantity No Upfront Linux/UNIX c4.large in us-east-1d for 12 months Payment Terms:Upfront + Every Hour (Regardless of usage) Sold By:Amazon $0.00 $0.082 Error : Your current quota does not allow you to purchase the required number of reserved instances (Service: AmazonEC2; Status Code: 400; Error Code: ReservedInstancesLimitExceeded; Request ID: dda7a508-46d5-4bb5-a5cc-453a7266d670)"
Amazon EC2	"Re: Cannot Purchase Reserved Instances
Hello,

I'm going to send each of you a PM shortly.

Cheers,

Rodney"
Amazon EC2	"Re: Cannot Purchase Reserved Instances
Hello Rodney,

I have not received a way to resolve the issue.

Thanks"
Amazon EC2	"Re: Cannot Purchase Reserved Instances
Hi  tariapp-team,

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 1438504441 for further information and assistance.

Should you have any billing or account related queries in future, you can rely to the case or open a new case through the AWS Support Center:

https://console.aws.amazon.com/support/home/

Thanks C.Manuel"
Amazon EC2	"Re: Cannot Purchase Reserved Instances
Hi expresspotato,

I am sorry for the time it has taken to reply to the thread.

I have created an outbound billing support case to address your query. Should you have any additional questions please respond via support case 	1436069321 for further information and assistance.

If you have any further questions please reply to the case directly.

Thanks
C.Manuel"
Amazon EC2	"Re: Cannot Purchase Reserved Instances
FYI, I have been having the same issue.  I just went and opened a ticket for it (1438899661).  I am posting here too in case my situation is related to the same cause as these other two."
Amazon EC2	"Re: Cannot Purchase Reserved Instances
Hi cleverguys,

I have replied directly to your Support case ID 1438899661.

Please reply to the support case directly if you have any additional questions or concerns.

Thanks
C.Manuel"
Amazon EC2	"EC2 suddenly stops responding. Cannot reboot
My EC2 instance has suddenly stopped responding. I cant login and have noticed the private IP has changed randomly...

Please help! I have my test site with active users on it."
Amazon EC2	"Re: EC2 suddenly stops responding. Cannot reboot
Instance is i-16ae0e1a

I havent done anything neither logged into the server for a while"
Amazon EC2	"Re: EC2 suddenly stops responding. Cannot reboot
randomly back again. with a new IP. uncool"
Amazon EC2	"I cannot release EIP address.
Hello, AWS Support

I cannot release my elastic ip (54.169.240.101).

Would you unlock and release the ip address?

My Account Id: 123412341234
The EIP is associated in Singapore region.

Below is error message that I was faced on.
â€¢54.169.240.101: The address with allocation id eipalloc-7b243f19 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: c87c0cd6-652a-4bd7-bdf1-8d7e40689a59)

Many Thanks,
Jeonguk

Edited by: anthonyh@AWS on Jul 8, 2015 6:23 PM"
Amazon EC2	"Re: I cannot release EIP address.
is it possibly associated with an instance OR a network interface (even if the interface is not attached) ?"
Amazon EC2	"Re: I cannot release EIP address.
Hello,
please be aware that the IP cannot be released because there is a reverse DNS record associated with.

host 54.232.242.192
192.242.232.54.in-addr.arpa domain name pointer ec2-54-232-242-192.sa-east-1.compute.amazonaws.com.

If you don't need the IP and the record can be deleted please let us know and we will proceed with the removal request.

Thanks!"
Amazon EC2	"Re: I cannot release EIP address.
Hi, adolfoaws 

I do not need the ip address.
Please un-register rDNS entry and release EIP.

Many Thanks,
JeongUk"
Amazon EC2	"Re: I cannot release EIP address.
Hello JeongUk,

Can you please private message me the account number related to that EIP.

Thank You,
Anthony H."
Amazon EC2	"Re: I cannot release EIP address.
I just have sent a private message to you."
Amazon EC2	"Re: I cannot release EIP address.
Hello JeongUk,

I have removed the restriction stopping you from releasing that EIP.  Please let me know if you continue to have problems.

Regards,
Anthony H."
Amazon EC2	"AWS AutoScaling Default Termination Behavior
Does anyone know or does anyone have recommendations on how best to handle instances that fail in Autoscaling Groups?  Is it possible to simply remove the instance from the ASG and place it aside for postmortem as opposed to simply terminating it?  Or is it a better idea to have some central facility that stores all the data from the instance up to and including its terminating event for debugging later.

Any input would be appreciated."
Amazon EC2	"Re: AWS AutoScaling Default Termination Behavior
Hi! Once an instance has been marked for termination by Auto Scaling, either because the instance failed health checking or if there is a scale-in activity, it will be terminated. However, if you want to debug the instance you can add a lifecycle hook to  your Auto Scaling group for instance termination. You will have a maximum of 48h to complete your debugging activities. During this time you will need to heartbeat Auto Scaling to let us know you are still working and have not completed the hook. Hope this helps."
Amazon EC2	"trying to connect to linux
Hi i am new to ec2.
My instance ID i-9242607c
Use a mac os X. downloaded OpenNX. followed instructions, imported key. logged in with ubuntu user and password as per manual. then get a popup with a box to enter 'passphrase for key 'users/mui/.nx/temp/387/keylog'

if i try opening that location, contents are same key file that i downloaded from aws website.

nothing that i type in this box works, after 3 errors, i get 
""OpenNX Error
authentication failed
OK""

Edited by: mui on Oct 16, 2014 7:26 PM"
Amazon EC2	"Re: trying to connect to linux
also when i launch OpenNX, i get a warning
OpenNX warning
Found a CUPS daemon bninary in /usr/sbin/cupsd, however its not executable
In order to use CUPS printing, you need to fix its permissions.

when i goto that file, i edit its permissions to read and write for me. that did not help

Edited by: mui on Oct 16, 2014 7:37 PM"
Amazon EC2	"Re: trying to connect to linux
Hi mui,

Mac OS X by default comes with an SSH client on terminal.

Please follow the instructions in the link below under ""Connecting to Your Linux Instance"".  The same instructions apply to Mac OS.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html

Regards,
Isaac K."
Amazon EC2	"Re: trying to connect to linux
Hello

I have the same problem when trying to connect using openNX, 

openNX window shows ""enter passphrase for key ..."" 

I could't find related description from following document
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html

Thanks"
Amazon EC2	"Security group seemingly ignored
Hi,

I'm using Atlassian bamboo elastic cloud which creates dynamic EC2 instances as build workers. The process that spawns the instance assigns two security groups. One provides basic inbound access to some ports and outbound is open all protocols to 0.0.0.0/0. The other group is empty with the same outbound rules. The instance that is created cannot connect to the internet at all. 

I have another group which is identical (same VPC etc) apart from the name, if I apply that group to my instance then it can access the internet immediately. I've tried taking a copy of this group and applying the name supplied by bamboo but this also doesn't work.

I've been tearing my hair out for hours but just cannot figure out what the problem is. I cannot assign the working group to the instance as bamboo shuts down each instance after 40 minutes. Am I going to have to add the instance to the group using the API when it boots? Sounds hacky to me but I can think of no other option.

Surely I'm missing something super simple.

This is a CentOS 6.6 AMI.

Thanks Chris"
Amazon EC2	"Re: Security group seemingly ignored
Figured this out for myself, basically the security group was on a private subnet, I needed to add a rule to a security group in my public subnet to allow traffic from that group."
Amazon EC2	"EC2 instance keeps crashing after small traffic spike
My instance keeps crashing after a small (50 concurrent users) traffic spike and have to stop and start instance again.  The instance ids that I have been using are i-decbc00e and i-857e7155.

Can anyone help with what is going on?

Thanks"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Hi there,

I guess the first thing you'll want to investigate, is how you define crash?
Does the system kernel panic or does it just become unresponsive (Something like what would occur if the CPU had become saturated and overutilized)?

Are the users logging in via SSH, or are they merely HTTP requests?
Are there any indication of errors in the log files for the application that the users are logging into (Usually found in the /var/log directory)?"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
A crash meaning that the system becomes unresponsive and requires a full stop and start.  I think this is possibly because of a CPU overutilization although it will become unresponsive sometimes around 40% CPU utilization according to CloudWatch.  They are all HTTP requests."
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
As an example, the system became unresponsive on i-857e7155 around 12:09 UTC on 6/17 (last night) after a spike to 26% CPU utilization."
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Hello,

Thanks for the information. I've reviewed the instance and looking at the console output I can see there is the following information:

[3253897.193708] ------------[ cut here ]------------
[3253897.193732] kernel BUG at /build/buildd/linux-2.6.38/mm/swapfile.c:2552!
[3253897.193744] invalid opcode: 0000 [#1] SMP 


There is also a bug report for this at the following link:

https://bugs.launchpad.net/ubuntu/+source/linux/+bug/854050

And another forum thread here:

https://forums.aws.amazon.com/message.jspa?messageID=260724

If you are able to update your kernel via aptitude or apt-get I would. You could also look at migrating to a newer Ubuntu version as well.

Regards,
Brandon"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Thank you, I updated my kernel and the problem is still happening, including occurring a lot today.  The instance ID I am using is i-e83a3738.

Thanks,

Steven"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Hello,

I just reviewed the console output of the instance you mentioned, I'm not seeing the any indication of the output of the prior issue. It does appear the kernel in use is 2.6.38-8 and the bug report states 'This bug was fixed in the package linux - 2.6.38-13.52'.

I would try to bring the kernel version up to this point or newer and see if that helps. I did notice that this is an older version of Ubuntu, another path would be migrating to a newer AMI which would give you access newer kernels/packages.

Looking at the CPU/Network metrics of this instance I can't see anything abnormal, but you didn't provide any times to focus on.

Regards,
Brandon"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Please take a look at the CPU/network metrics for the two instances below from 7/3 - 7/5.  The crashes was occurring on both instances throughout that time period.

i-65d068b6
i-e83a3738"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
I migrated to a new AMI running Ubuntu 14.04.  However, the system is still crashing constantly.  Can you help with what is wrong?  Is it something else?  The id is i-42e61cea"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
I tried launching another instance, this one is id : i-d5ee2a7d

I am getting the following errors in the system log:






































BLKFRONT for device/vbd/2049 **********





































backend at /local/domain/0/backend/vbd/15498/2049
Failed to read /local/domain/0/backend/vbd/15498/2049/feature-barrier.
Failed to read /local/domain/0/backend/vbd/15498/2049/feature-flush-cache.
20971520 sectors of 512 bytes
**************************

============= Init TPM Front ================
Tpmfront:Error Unable to read device/vtpm/0/backend-id during tpmfront initialization! error = ENOENT
Tpmfront:Info Shutting down tpmfront
close blk: backend=/local/domain/0/backend/vbd/15498/2049 node=device/vbd/2049"
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
When I start the instance everything works initially including access to the Wordpress site but then after a few minutes, the Wordpress site is no longer accessible (but I can still SSH into the server).  Please help.  I don't understand why the site would work fine at first but then stop."
Amazon EC2	"Re: EC2 instance keeps crashing after small traffic spike
Hello,

I'm sorry that you are still encountering issues with this. I did look at instances i-65d068b6 (currently running) and i-e83a3738 (currently stopped). For instance i-65d068b6 the CPU does spike into the low 90's at times, but i-e83a3738 was stuck at 100% CPU for hours. As far as networking or the EBS volumes attached to the above two instances I see no issues with those metrics. 

My understanding of this issue is that the instance is accessible over SSH during this time, but the web server is not.

Have you looked at the web servers logs for clues as to what is happening?

When you attempt to access the website do you receive an error code or error message?

Is the web server running, but not responding to requests or has the web server failed completely and is no longer running?

Since you mentioned WordPress, can you login to the database during this time?

Regards,
Brandon"
Amazon EC2	"Error in installing AWS Management Portal for VMware vCenter
While Installing AWS Management Portal for VMware vcenter 2.4.0.7 in our VMware environment we are getting error message as 

Error connecting to vCenter at ""https://vcbserver3.cloud.lab/sdk/vim"": java.net.SocketException: Operation timed out

We have VMware vCenter 5.5 version, ESXi 5.5, while checking in VMware site it says please us the Portal till https://vcbserver3.cloud.lab/sdk as the URL for accessing vcenter server. However we can't do this customization in the installation configuration as there is no field for it. Can someone help us in getting this issue resolved and provide steps for installing and integrating my AWS Management Portal in VMware vcenter server."
Amazon EC2	"Re: Error in installing AWS Management Portal for VMware vCenter
AWS Management Portal for vCenter version 2.4.0.7 fully supports vCenter 5.5. We suspect the issue is that the vCenter(vcbserver3.cloud.lab) is not reachable from the connector appliance. Would you check the firewall rules to ensure vcbserver3.cloud.lab is reachable from the AWS connector appliance? 

Please retry the setup after adding necessary firewalls to ensure connectivity. The setup instructions are at https://docs.aws.amazon.com/amp/latest/userguide/introduction.html. Let us know if you still experience issues with the setup."
Amazon EC2	"Multi AZ Autoscaling - How does the balancing work?
Hello,

We are planning to use a multi-az autoscaling group to have a more resilient infrastructure. However we are dealing with a small amount of instances in the scaling group, so we're worried about how does the balancing between AZ:s work. Instance count can range around 2-10.

I'm under the impression that if an AZ goes dark, autoscaling will start creating instances on the another (working) AZ, until there are the minimum limit of instances running again. However how aggressively does it balance instances when both AZ:s are working?

Lets say everything is working properly, and az-a has 1 instance and az-b has 2 instances. Now the load decreases and we would scale down by one instance. Would it in this case always terminate the instance that's found in az-b, so both availability zones would have an equal instance count?

Also if the case was that our ASG had a preferred size of 2 instances, and two instances currently reside in one AZ only. Would ASG then actively rebalance the instances by terminating one instance and recreating it in the empty AZ?

I know AZ:s don't go dark every day, but this would help us understand better how the ASG:s work under the hood."
Amazon EC2	"Re: Multi AZ Autoscaling - How does the balancing work?
Hi! Auto Scaling does actively rebalance across all of your AZs for you. In your first example, if az-a has 1 instance and az-b has 2 instances, and you need to scale-in by 1 instance, Auto Scaling will terminate the instance from az-b. 

In your second example, if you have specified two AZs (az-a and az-b) in your Auto Scaling group, and you have a desired capacity of 2 instances but they are all in az-a, Auto Scaling will first launch an instance in az-b, and then terminate an instance from az-a.

Hope that answers your questions!"
Amazon EC2	"Windows 2008 R2 /etc/hosts file changes have no effect
Does anyone know what is special about the way a Windows 2008 R2 server resolves IP addresses in AWS?  I've used the hosts file for years to either block access from certain domains or, in the instance I want to do now, specify a specific IP address I want a domain name to resolve to.

At first I thought it was a Windows 2008 issue, as I've always done this on my personal machines and never really had the need to do it on a production server.  However I have a standalone physical server running Windows 2008 and it functions exactly as it always has on my personal machines.  I add an entry and immediately if I ping the domain - I will get the IP that I have specified in the hosts file.

But when I do this on my AWS Windows 2008 R2 server - nada.  Nothing.  Nothing at all.  It ignores that I have even made any changes whatsoever to the hosts file.  I've flushed the DNS for good measure - still nothing.

Does anybody know what the reason is that changing the hosts files has absolutely no effect on how the domain IP is resolved on this server?  Any help is greatly appreciated!!  Thanks!"
Amazon EC2	"EC2 powershell - getec2image not returning image seen inside the browser
Hi,

I'm just starting out on AWS powershell cmdlets.

I have this image ami-73c... which I can see in browser under EC2->IMAGES->AMIs (Private images)

However when I run getec2image it returns lots of images but not this image.

Prior to this call I have:
Set-ExecutionPolicy RemoteSigned
import-module ""C:\Program Files (x86)\AWS Tools\PowerShell\AWSPowerShell\AWSPowerShell.psd1""
Set-AWSCredentials -AccessKey ....
set-defaultAWSRegion ap-southeast-1
and get-awsregion runs OK

In the browser I have set ""Asia Pacific (Sydney)""

Questions
======
1. Can someone please explain why I don't see an image I can see in the gui but not from getec2image?
2. Can someone tell me where I can find the logs from the creation of my instance when I run:
new-ec2instance ?

Thanks for any help."
Amazon EC2	"Re: EC2 powershell - getec2image not returning image seen inside the browser
Hi, 

The Asia Pacific (Sydney) region is ap-southeast-2:

http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region

Julie"
Amazon EC2	"ELB saying ""Instance is stopped"" but its running
To reduce costs, I terminate some redundant servers at night.  I will eventually move to auto-scaling, but basically I have an ELB with 2 machines.  At night, using the CLI EC2 tools, I do an aws ec2 stop-instances and the ID.  It stops nicely and in the morning I start it.

The issue is the ELB doesn't re-insert it.  When you hover over the i with the circle it shows instance is in the stopped state.  If I remove, add, it shows the same.  The only way I can have it re-add is to  remove it, wait over a minute, then re-add it.

That seems like a bug to me as it's telling me it's stopped when it's not.  Now I can read and figure out how to add / remove via the tools, but has anyone else seen this or have a better workaround?

Thanks"
Amazon EC2	"Re: ELB saying ""Instance is stopped"" but its running
Hello, 

Thanks for your post. 

This is expected behavior from the ELB. If an instance is stopped while assigned to the ELB, then restarted it takes a very long time for the ELB to recognize it again. We recommend de-registering the instance before stopping it and registering back when it is up and running again. 

Since you are already using the CLI to stop the instance, you can add the de-register command to take it off the ELB. 

Here is a link to the documentation to de-register the instance from the ELB via the CLI:
http://docs.aws.amazon.com/cli/latest/reference/elb/deregister-instances-from-load-balancer.html

And here is a link to the documentation to register the instance to the ELB via the CLI in case you are interested in scripting that as well:
http://docs.aws.amazon.com/cli/latest/reference/elb/register-instances-with-load-balancer.html

I hope this helps!

Best Regards,
Jillian L."
Amazon EC2	"Re: ELB saying ""Instance is stopped"" but its running
Thanks, that was my next thought to test."
Amazon EC2	"My importing EC2 cannot connect.
Hello 

I'm still newbie to AWS, and it's my first post since I cannot figure out why although I did look for any answers from this forum or documentation.

I successfully imported the my CentOS65 VM (vmdk). But the first issue I noticed was no Public IP and no public DNS were given.  I cannot figure it out why.  
Auto-Assign Public IP is enabled for its network. 

Secondly, when I connect to it, it gave an error ""Instance is not associated with a pair key -This instance is not associated with a key pair. Without a key pair you will need to log into this instance using a valid username and password combination."" 
I followed the instruction to upload my VM so not sure what I' missing. 

Sorry for posting 2 issues here but I thought it might be correlated... 

The EC2 in question is i-60fe54a8 :
INSTANCE   i-60fe54a8   ami-31808101   ip-172-31-1-221.us-west-2.compute.internal  running
0    t2.micro        2015-07-07T01:20:01+0000        us-west-2c     monitoring-disabled
172.31.1.221    vpc-1431a071    subnet-7e3b9827 ebs       hvm     xen     sg-56cf3732

Thanks"
Amazon EC2	"Cannot access to instance running ubuntu (ami-5189a661)
Hi.  I am sorry for asking this same question again.  
I really appreciate your help accessing my VPC instance remotely via ssh.
I am new to EC2 and just setup a free tier account yesterday.  I have an instance, instance id: i-3de1e7ca, running shortly after setting up the account.  Despite having tried some suggested solutions in the forum, i.e gateway and route table checks, create new instances with different AMIs, I have been unable to connect to the Ubuntu server via ssh.  Below is the debug message,
$ ssh -vvvv -i myID-ec2-uswest-keypair.pem ubuntu@52.25.149.248
OpenSSH_6.7p1 Debian-5, OpenSSL 1.0.1k 8 Jan 2015
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for star
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.25.149.248 http://52.25.149.248 port 22.
debug1: connect to address 52.25.149.248 port 22: Connection timed out
ssh: connect to host 52.25.149.248 port 22: Connection timed out
Again thanks for your help."
Amazon EC2	"Re: Cannot access to instance running ubuntu (ami-5189a661)
Hi,

Check these common issues when having connectivity problems:

1. Ensure the correct ports in the Security Group are open that is associated with your instance (22 in your instance)
2. Ensure the NACL associated with your subnet that the instance resided in have the relevant ports open
3. Ensure you have an Internet Gateway associated with your VPC
4. Ensure there is a route associated to the subnet that your instances resided in that points out to the public internet, for example.... 0.0.0.0/0 via IGW
5. Ensure you have a public IP address associated to your instance

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Cannot access to instance running ubuntu (ami-5189a661)
Thanks, Stooby33 for a quick reply.  
I did check all that.  I set Security group and NACL accept ALL traffic.  Gateway and route table are also checked; but still no go!

It' the security group setting that did not accept external sources.

Thanks.

Edited by: Minh Le on Jul 8, 2015 9:22 AM"
Amazon EC2	"How to approach my EC2 backup plan?
I have a EC2 instance with all the softwares running on it like - Apache, MySQL, etc. I want to take backup of EBS volume and DB separately. Also, automate the process of creation and deletion of backups.

I am looking for EC2 backup solutions, even paid solutions would work. I am new to AWS environment, please point me in the right direction."
Amazon EC2	"Re: How to approach my EC2 backup plan?
Hello Akshay,

Regarding of automation please take a look at  Elastic Cloud Gate -EC2 Automation . You might ask them what is good strategy for backups"
Amazon EC2	"Re: How to approach my EC2 backup plan?
setup the aws cli and cron some snapshots everynight.  free!"
Amazon EC2	"Re: How to approach my EC2 backup plan?
Hi Akshay,

For an EC2 backup & recovery solution, you may try out Cloud Protection Manager available on the AWS Marketplace."
Amazon EC2	"Re: How to approach my EC2 backup plan?
Try  Elastic Cloud Gate - EC2 Automation . You should be able to schedule backups and maintenance of snapshots"
Amazon EC2	"WinSCP 'permission denied' upon file transfer attempt
Hi all --

I'm trying to transfer files to my webserver, getting an ""Error code: 3"" and ""Permission denied"" after I've successfully connected to my instance via WinSCP. 

I know I have my security group allow me to connect via SSH on my IP address. 

What do I need to do to get file transfer working? 

Thanks. Will upvote any answer that gets this working."
Amazon EC2	"Re: WinSCP 'permission denied' upon file transfer attempt
Try Doing a chmon. It worked for me

sudo chown -R -v ec2-user /var/www/"
Amazon EC2	"Can't get new virtual site to work
Hi-
I have 3 different virtual sites working. I just added a 4th and can't get the DNS to resolve to the 4th site.  I can browse to site with my elastic ip address and directory name. Is it possible I have too many urls associated with my elastic ip?

I have Route 53 setup with a hosted zone with an A record pointing to the elastic IP for each domain name.

My hosts file looks like this:

5*.***.***.191  thefirstsite.com
5*.***.***.191  the2nd.com
5*.***.***.191  the3rd.com
5*.***.***.191  the4th.com

Your  help is appreciated.

Edited by: texasmoondog on Jul 8, 2015 5:41 AM"
Amazon EC2	"how to know when a new volume is ready
i am running code tests during development and getting confusing states:

s[0].volume_status.status:  u'ok'

<Response><Errors><Error><Code>IncorrectState</Code><Message>The volume 'vol-7cfb499b' is 'creating'</Message></Error></Errors><RequestID>f4c070e1-a3c7-4256-b162-d4cdfebc0a8b</RequestID></Response>

this happens after i get an 'ok' status from the volume so maybe this is not what the status means.
how can i determine when the volume can be used?  i have run this test many times and the same thing happens but if i make the code sleep for 22 seconds, instead, it works ok.

i am using: python27-boto-2.38.0-1.7.amzn1.noarch

the volume vol-7cfb499b has been deleted since running the test"
Amazon EC2	"Re: how to know when a new volume is ready
Hello,

You are looking at the correct directive to understand the status of your EBS volume.
http://boto.readthedocs.org/en/latest/ref/ec2.html#module-boto.ec2.volume

The reason you are seeing a discrepancy for a some time just after you creating the volume would be due to eventual consistency.  All distributed systems are eventually consistent. The same applies with Amazon EC2 APIs. This is described in the following documentation URL: 
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/query-api-troubleshooting.html#eventual-consistency

Regards
Shiroy"
Amazon EC2	"Re: how to know when a new volume is ready
the documention you refer to says:

Confirm the state of the resource before you run a command to modify it. Run the appropriate Describe command using an exponential backoff algorithm to ensure that you allow enough time for the previous command to propagate through the system.

is it safe to repeat trying the failing command until it succeeds or a maximum time is reached? so far it seems to work.  now, i start with a 1 second delay to the next try, doubling it each time, and give up when it passes 64 (i may extend that to 128).

i have now switched to the Fibonacci sequence maxed at 144.

Edited by: skaperen257 on Jul 8, 2015 4:17 AM new info"
Amazon EC2	"How to reference multiple IPs in security groups
Hi,

I'm new to AWS, and have spent about 4 hours reading articles and searching the web but can't find the answer to this one. 

Scenario: I have multiple ext IP addresses which I need to allow access to about 8 different ports on an EC2 instance.

It looks like I can't add multiple IP addresses against a single port rule in AWS security groups (which seems unnecessarily awkward and illogical to me, but whatever) I see you can reference other security groups, but I've tried creating a new security group (lets call it ""ext IP group""), adding all my IPs to that, and then referencing it against the port rule which is assigned to the AWS instance, but it didn't work.

Under the ""ext IP group"" what I didn't understand was, what are you supposed to use for the protocol types and ports etc? I want to use the same IP against several different protocols and ports so I don't want to restrict it. I even tried using ""all traffic"" (which seems like a security risk) but even that didn't work.

When I referenced it in the security group which is linked to my EC2 server, it auto-completed it form a list as I started typing ""sg..."" so I know I've referenced it correctly.

I must be doing something very stupid, or missing something very simple here. Can anyone help me please?"
Amazon EC2	"Re: How to reference multiple IPs in security groups
the reference to another security group is a reference to the INTERNAL AWS addresses using that group. it allows all those instances to match that rule.  it is not a means to include a rule.  a rule can have just ONE external address and either one port or a range of ports. so if you need to allow access to 3 separate ports from 5 external IPs exactly, that means 15 rules!

what i usually do is open a CIDR block and/or port range in SG rules and refine it in the instance OS by an appropriate means there."
Amazon EC2	"Re: How to reference multiple IPs in security groups
Thank you for your reply and explanation.

It seems crazy to me that you can't add a list of IPs somewhere, and then apply them all to a rule. Unfortunately I can't use a CIDR block as the external IPs aren't in a block! Creating a rule for every single IP is really inefficient, and I think I read that you can only add 50 rules per SG.. so I'm going to run out really quickly.

This is ridiculous, is there really no other way to do this?"
Amazon EC2	"Re: How to reference multiple IPs in security groups
Sorry to bump after only 1 day but there are so many topics it will disappear in no time!

Can anyone else help.. I find it really hard to believe there's no other way to do this."
Amazon EC2	"Issue with elastic ip
Hi, by mistake while terminating an instance, we release one elastic ip. Is there a way to retrieve back? It was associated with production system, please let me know.

52.74.21.211"
Amazon EC2	"Re: Issue with elastic ip
We used new elastic ip, you can ignore this query."
Amazon EC2	"ec2config.exe memory leaks with cloudwatch logs
Weâ€™ve been using cloudwatch logs since they were announced on both linux and windows machines.

We have identified high memory usage for the ec2config.exe service on windows instances. Memory usage is in direct correlation to uptime indicating a memory leak of sorts.
Ec2config.exe will continue to consume memory until all memory is exhausted.

After disabling cloudwatch logs (and restarting the service) we donâ€™t see memory usage creeping up.

Weâ€™ve seen the issue across multiple versions, see the table below. The release notes for the slightly newer version donâ€™t mention a memory leak fix, though we are testing that version in our test environment.

Ec2config.exe memory usage
Uptime	RAM	Version
45 days	3.3g	2.2.9.181
66 days	1.1g	2.2.9.181
69 days	4.2g	2.2.9.181
12 days	980mb	2.2.7
9 days	700mb	2.2.10.22
46 days	3.5g	2.2.10.22
11 days	930mb	2.2.10.22
5 days	460mb	2.2.10.22
8 days	650mb	2.2.10.22
26 days	2g	2.2.10.22
26 days	1.1g	2.2.10.22
26 days	3g	2.2.8

An example of our ec2config configuration files are attached

andrew"
Amazon EC2	"Re: ec2config.exe memory leaks with cloudwatch logs
Hello,

Please download and install the latest version of Amazon Windows EC2Config Service, which is currently 2.3.313, from the below link.

http://aws.amazon.com/developertools/5562082477397515 

In this 2.3.313 version we fixed an issue with large memory consumption in some cases when the CloudWatch Logs feature is enabled."
Amazon EC2	"Re: ec2config.exe memory leaks with cloudwatch logs
I just upgraded to the latest version 3.6.269 and have immediately seen memory usage creep up from ~50% to 80% and growing. Do you know if this version has memory leak issues?

Restarting the process doesn't seem to make any difference either.

I'm running Windows Server 2008 on a t2.medium"
Amazon EC2	"Unable to access EC2 after key pair replacement
Hi, We are unable to access the instance i-505b1c9c, please advice.

We have followed the instruction in below URL with one additional change to generate new UUID while mounting to temporary instance to overcome the issue we encountered which says duplicate UUID.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair"
Amazon EC2	"ELB with HTTPS to HTTP not allowing different ports
I am seeing some strange behavior with a fairly simple setup for my load balancer where I can only get it to work when the ports are the set to the same number.

Scenario where it fails and nmap is showing status closed on the port(or not show port at all):
============================
Instance port(with nginx): 8080, http

load balancer protocol, elb port, instance protocol, instance port
HTTPS, 5601, HTTP, 8080
============================

Scenario where everything works:
============================
Instance port(with nginx): 8080, http

load balancer protocol, elb port, instance protocol, instance port
HTTPS, 8080, HTTP, 8080
============================

Accessing port 8080 via the public IP of the EC2 instance works in both cases without a hitch.

I guess my question is: Is this an issue with the ELB or a configuration issue with nginx?

Edited by: Carl-Einar I Thorner on Jul 2, 2015 8:50 PM"
Amazon EC2	"Re: ELB with HTTPS to HTTP not allowing different ports
Hello,
Can you please reconfigure the elb to the settings that do not work so we can look into it and help you troubleshoot it ?
Please make sure that the elb listeners ports are allowed on the elb security groups.
Regards,
Baseer."
Amazon EC2	"Re: ELB with HTTPS to HTTP not allowing different ports
Ok, I just changed it back. I verified that it worked before I changed it and the only thing I have changed was the incoming port from 9100 to 9200."
Amazon EC2	"Re: ELB with HTTPS to HTTP not allowing different ports
Never mind, got it working by fixing security group settings."
Amazon EC2	"EC2 instance terminated by Cloudwatch Alarm. Need immediate help recovering
I have an EC2 Instance that got terminated due to an Alarm that I had set. I had set it to Stop, but instead it terminated the instance.  
I need some help recovering this instance and any help would be appreciated.
Thanks!"
Amazon EC2	"Re: EC2 instance terminated by Cloudwatch Alarm. Need immediate help recovering
I was able to create a new instance and save all my data and applications within an hour or so. Here're the steps I took:

The moment I noticed 'Terminated' next to my instance, I didn't waste much time as I had a feeling the instance as well as the Volumes attached to it would disappear soon. If you have Delete on Termination flag true during the launch of the instance, chances are you will lose your volumes in a few hours after the instance is terminated. 

1. I clicked on the Volumes tab, and created snapshots of the two volumes that were used by my terminated instance (root volume and an additional 20GB EBS volume). 
2. I created a new instance in the same Availability Zone and launched it. I then stopped that instance, detached the root volume of this new instance, attached my root volume of the terminated instance at /dev/sda1, and attached my second volume as xvdf.
3. I attached my previous Elastic IP from the old instance to this new one, started the new instance and it tested fine.
5. Enabled Termination Protection for this new instance

Hope this helps."
Amazon EC2	"EC2 instance became unreachable and does not stop
One of our EC2 instances i-fc7725b8 (in us-west-1b) became unreachable today, and now it does not stop.

But what we're more interested about is why this has happened?  This has happened twice now in about a month.  What's the reason for this??

Thanks!"
Amazon EC2	"Re: EC2 instance became unreachable and does not stop
Hello,

We have stopped your instance for you.

The cause in this case was a technical issue on the underlying host. This type of problem is expected on occasion in the AWS environment, as our service is built upon commodity hardware and can thus only provide the reliability/stability of that same hardware.

I apologize for the inconvenience.

Richard"
Amazon EC2	"Re: EC2 instance became unreachable and does not stop
Hello Rechard,

Thanks for stopping the instance!  And thanks also for explaining the cause of the issue!"
Amazon EC2	"Re: EC2 instance became unreachable and does not stop
We have the same problem and the instance does not stop. We have tried to force stop but still says stopping after 1.5 hours.

ID- i-f51fe926"
Amazon EC2	"Re: EC2 instance became unreachable and does not stop
Hello hamed,

I do see that your EC2 instance was able to stop successfully, and that your EC2 instance is now in a running state and appears healthy.

Regards,
Mohsin"
Amazon EC2	"EC2 instance won't stop
An EC2 instance (i-a1005646) I had running stopped responding a while ago and has been in a ""stopping"" state for several minutes now. Even after doing several forced stop requests, it remains in the stopping state. What can I do to fix it/get help? 

Thanks,
Meenal"
Amazon EC2	"Re: EC2 instance won't stop
It actually stopped about 20 minutes after I had stopped it. Tips/documentation on avoiding such a situation much appreciated! (The instance had been running for about 28 hours at the time it died)."
Amazon EC2	"Re: EC2 instance won't stop
Hello,

Upon reviewing your EC2 instance i-a1005646, the underlying-host where your EC2 instance previously resided experienced an issue which caused your EC2 instance to become unresponsive, and appear to be stuck when you attempted to perform a 'stop' action. I apologize for any inconvenience caused. Currently, I do see that your EC2 instance and the underlying-host both appear in good health. 

If you have any additional questions or concerns, please do let us know. We'll be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Scheduled event notifications
Is there a way that we can specify additional info from the ec2 instance like its name/availability zone to be in the notification email as well?

Right now it's just the instance-id and instead of logging in to find out what instance it maps to, it'd be so much faster to just state it in the notification."
Amazon EC2	"Re: Scheduled event notifications
Hello,

Thank you for your feedback regarding our services. We're always looking to improve AWS services, making them easier to use and more fit to our customers' needs. Unfortunately, at this time it is not possible to specify additional information when receiving Scheduled Event notifications.  I've submitted your request as a formal feature request to our development team.

Please keep your eyes on the AWS blog, and our website for announcements and releases:

http://aws.amazon.com/blogs/aws/ 
http://aws.amazon.com/about-aws/whats-new/ 

Regards,
Mohsin"
Amazon EC2	"TCP Retransmission Errors
We have an application that makes around 40 web requests per second to another server in EC2.  The application hits a ELB as shown below:

Server A > ELB > Server B

We have a couple times an hour that a batch of web requests will take around 20 seconds to all finish.  I have run tcpdump on the server and when this occurs Server A has to retransmit the TCP packet multiple times before receiving an ACK from Server B.

Sample Request with sample timestamps
Server A > Server B SYN  0.000
Server A > Server B TCP Retransmission  3.003233 seconds
Server A > Server B TCP Retransmission  6.007996 seconds
Server A > Server B TCP Retransmission  12.032007 seconds
Server B > Server A SYN, ACK 

So this particular request took over 21 seconds before it was finally acknowledged and then everything went smoothly after that.

I am wondering how to proceed from here in debugging this and finding out if the issue lies within the EC2 Network Layer?"
Amazon EC2	"Re: TCP Retransmission Errors
Is it possible to have this investigated without being on Paid Support?  I can provide instance ids and load balancer id.

I have changed my application to kill the request and retry it if the socket doesn't receive the first ACK within 750 milliseconds.  This has drastically reduced the times between getting a successful response.  This leads me to believe that there is something that is not working right in Amazon's networking layer that causes these packets to not receive a response sporadically."
Amazon EC2	"Re: TCP Retransmission Errors (Packet Loss)
Ok, I guess I'll try one more time.  I've been running ping tests between the 2 servers and watching for when a batch of requests occurs that takes a long time to complete.  I had a batch of requests that all took 12 seconds to complete and I happened to just start running a ping test, and ping told me that I had 8% packet loss during this short time.

108 packets transmitted, 99 received, 8% packet loss, time 107273ms

I'm curious, is this just something that we are expected to live with in EC2 environment?  If so, I'll start to look into moving my stuff somewhere else.  We pay a few thousand a month in hosting costs (more if you annualize reserved instances), so we aren't a massive customer but still a decent size."
Amazon EC2	"Re: TCP Retransmission Errors
Hello,

David Campano wrote:
Is it possible to have this investigated without being on Paid Support?  I can provide instance ids and load balancer id.

If you post those I'll take a look for you.

Richard"
Amazon EC2	"Re: TCP Retransmission Errors
Thank you Richard for your reply.

Instance sending requests is i-c32ff8f4.
Load balancer name is bingo.  The instances behind it are i-961d9ea4 and i-be1b988c.

I don't believe it has anything to do with the load balancer, because when the ping test showed packet loss I was hitting the external IP directly.

I'm not sure if it can help giving past data but our logs show it occurred this morning (Nov 16th) at 02:35:44 (Central Time) for approximately 9 seconds, and also at 03:49:00 for about 12 seconds.  Once the request actually reaches our web server, the web server gives a response in about 15-20 milliseconds."
Amazon EC2	"Re: TCP Retransmission Errors
Hi,

While the problem is happening please run mtr/winmtr against the backend instances for several minutes. This may help indicate where the packet loss is occurring.

You may also want to test from different locations if possible as it would also help determine if its an EC2 or Internet/ISP issue."
Amazon EC2	"Re: TCP Retransmission Errors
I'm still working on debugging this problem and I noticed this CloudWatch graph for my ELB:

http://imgur.com/ulGgVi1

Could you please help me to understand if this is the latency between the ELB and the backend servers?  If so, these maximum amounts seem crazy.  The average latency is somewhere around 20-40 milliseconds, but it seems like the issue would be with these max latencies."
Amazon EC2	"Re: TCP Retransmission Errors
As another data point, I have set up 3 different instances that are running the web request processes.  2 of them are going through the ELB and 1 of them is going direct to the backend web servers.  When the requests stall, the 2 going through the ELB are both stalling at the same time, but the 1 that is bypassing the ELB is having it's requests serviced without stalling.

I did run mtr directly to the backend instances and did not experience packet loss even when the web requests were stalling.  I'm not sure if there is any way to run mtr through the ELB, please advise if there is a way."
Amazon EC2	"Re: TCP Retransmission Errors
Alan/Richard,

Could you guys provide any insight into the posts above?"
Amazon EC2	"Re: TCP Retransmission Errors
Hello,

I have escalated this issue to the ELB Team, we will update you as soon as we receive a response.

Did this issue occur only at your mentioned times or also later if so can you please provide us with the timestamps.

Regards,
Peter"
Amazon EC2	"Re: TCP Retransmission Errors
PeterV,

We were experiencing these issues many times per day, sometimes several per hour.  On Nov 21st, we removed the ELB and pointed directly to our backend web servers.  We have not destroyed the ELB yet, but there is no traffic currently going through it.  Here are some of the times from Nov 20th where the web requests were slow.

20 Nov 00:43:52 - Requests were slow until 00:44:13
20 Nov 01:39:37 - Slow until 20 Nov 01:39:46
20 Nov 05:51:16 - Slow until 20 Nov 05:51:28
20 Nov 09:22:25 - Slow until 20 Nov 09:22:29

Times are in Central Standard Time

These are just a few of the times.  Please let me know what you are able to find in regards to this.  Thanks!"
Amazon EC2	"Re: TCP Retransmission Errors
Hi David,

We have had the ELB Service team review this one for you and they have come back with the following:
The keep alive timeout appears to be about 45-50s. The customer will need to increase the keepalive timeout to at least 60s, along with any other timeouts that are lower than this. This would cause the backend to close connections on the ELB, and the ELB to timeout requests when this happens.

I hope this information assists you here. Please post back if you have any additional questions around this.

Best regards,
Phil P"
Amazon EC2	"Re: TCP Retransmission Errors
Hi Phil P,

I bumped up the keepalive timeout from 50 seconds to 75 seconds, but it is still not having any impact on the issues I'm seeing.  I also tried creating a new load balancer and used that for a few hours just to be sure it's not something messing up with the load balancer that has been running for a long time.  Even the new load balancer (id bingo2) also experienced the same issues.  Let me know if you have any other suggestions.  I'd be happy to grab a tcpdump and provide it through a private message if you think that would be any help.  Thanks

Davy"
Amazon EC2	"Re: TCP Retransmission Errors
Hello,

I have forwarded on your information to our ELB experts. I will let you know what I hear back.

Regards,

Matt J"
Amazon EC2	"Re: TCP Retransmission Errors
Hi there Davy,

Firstly - Apologies on the extended delay in getting back to you on this one. We have had our ELB experts take a look at this issue for you and they have noticed that you have now deleted all of your ELB's.

If you require further assistance, could we get you to create a new ELB so that we can investigate further from our side if you still are seeing the same issues.

In addition, can you give a sample test URL as well as the addresses of the test instance not exhibiting the problem and we can also examine the output of a tcpdump from your back end instances (perhaps upload the file to a publicly accessible site and send me PM a link to download the file).

From there we can assist you further on this one.

Best regards,
Phil P"
Amazon EC2	"Re: TCP Retransmission Errors
Wow, I'm experiencing issues almost identical to what's described in this thread:

latency is typically very low (under a second), but for ~5% of requests, the latency is 30-90seconds+
when I bypass the ELB, and connect directly to the backend, I have no high-latency requests whatsoever (even when doing it simultaneously with the other latent requests)
tcpdump on the backend server indicates that retransmissions are happening exactly for the cases when the latency spikes.


This only happens when there is a reasonable load -- I'm sending about 500-1000 requests per second, and each request is about 100KB request + reply.  Judging from the ELB logs, it seems like there is only 1 ip address assigned to the ELB (which I take to to mean there is only 1 instance working on behalf of the ELB).

Any ideas on what I can do to further investigate?  I'm happy to point you to the ELB logs offline.

Here is a sample of the log (some details redacted):

2015-06-23T16:09:39.630434Z elb-name 23.20.33.:52955 10.168.213.:80 0.000026 40.841461 0.000026 200 200 37703 4722 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:08:29.977871Z elb-name 54.197.165.:38270 10.159.143.:80 0.000026 110.513155 0.000054 200 200 41972 28635 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:09:22.393427Z elb-name 54.144.14.:37952 10.11.184.:80 0.000026 0.163984 0.000018 200 200 39340 25287 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:10:20.442922Z elb-name 54.161.141.:38768 10.145.45.:80 0.000059 0.054622 0.000048 200 200 38305 5892 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:10:20.313031Z elb-name 54.197.154.:52833 10.145.45.:80 0.000036 0.196309 0.000059 200 200 38339 27320 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:10:20.411466Z elb-name 54.211.127.:60252 10.157.175.:80 0.000032 0.108998 0.000035 200 200 41268 27515 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:10:20.440687Z elb-name 54.211.165.:52853 10.170.148.:80 0.000043 0.088397 0.000035 200 200 41838 25666 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:08:50.378168Z elb-name 54.211.29.:54297 10.45.24.:80 0.000026 90.151773 0.000027 200 200 37595 5615 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -
2015-06-23T16:10:20.492368Z elb-name 54.211.29.:45940 10.171.102.:80 0.000051 0.049533 0.000034 200 200 37595 5615 ""POST http://elb-name.domain.com:80/path HTTP/1.1"" ""libwww-perl/6.13"" - -

Edited by: DustinBoswell on Jun 23, 2015 10:04 AM"
Amazon EC2	"Re: TCP Retransmission Errors
I think we narrowed down the problem.  The ELB was configured for cross-az load balancing, and had all 5 AZ's enabled (us-east-1a through us-east-1e).  Only a couple of the AZ's actually had instances in them at the time.  When we ""unchecked"" those unused AZ's in the AWS console, the problem went away.

The only theory I have at this point is that there is non-trivial packet loss between 2 of the AZ's (not sure which ones). And that when traffic flows to an ELB instance in one AZ, but then hits backends in another AZ (to which is has packet loss), high latency ensues.

I'm still playing around with the ELB to see if I can pinpoint which pair of AZ's are to blame.

Hope this helps other people out there."
Amazon EC2	"How to max out 1st year free options best
Hi All, New to the forums here.

I am the founder of www.anuncio.media which allows users to upload videos and profiles.
We are a 1st year start-up, bootstrapping development and test, and about to move into full release and production.
My question is:
How best to max out our free tier usage and credits as you move into 'Production'/Release phase.
(we are not lucky enough, yet, to get into an incubator) 

We are a web application with DB back-end.
We have T1 + T2 EC2 Micro instances for Dev and Test, located in EU.
Under free tier, am I able to implement 3 micro instances in EU, US, Sth America, with Load Balancing and use Auto Scaling.   What is likely impact on billing?

I would also like to set up second S3 bucket for Prod data.  Most of our data volume will be video uploaded /viewed and users pics and audio samples.
What compression tools or best solutions are possible to reduce disk storage/costs?
Any other performance tips/suggestions please? - We have a paid basic support account, but cant find an expert on how to best use free tier, and reduce our costs while we find product/market fit, and growing users from 3.

Any help most appreciated.  Stephen"
Amazon EC2	"Scheduled event and other notifications
Hi,

In our AWS account, only the root account user is getting the email notifications. How can we set other user to get important email notifications like Scheduled Events??

Is it related to IAM access issue or what permissions need to be granted to get these notifications? When I click on ""My Account"" and any link under it, It shows the message - ""IAM Access Denied."" In the user policy, all resources, all actions are allowed for the user.

Please help, it is important, we are missing all important notifications without this."
Amazon EC2	"Re: Scheduled event and other notifications
Hello,

I understand that you would like to be able to receive scheduled event notifications about specific topics in addition to the account's main email address.

Based on my understanding with account settings, all email notifications for account changes are sent to the root account email address, but it is definitely possible to set-up Billing, Operations, and Security Alternate Contacts. These can be configured to include email lists and changes can be done via the ""My Account"" page-

1. Navigate to the ""Account Settings"" page of your Billing Console here:
https://console.aws.amazon.com/billing/home?#/account

2. Click ""Edit"" next to ""Alternate Contacts"".

3. Fill in the information for your alternate contact, and click ""Update"".

The email address of your Billing contact will be sent a copy of your monthly PDF invoice
The email address of your Operations contact will be sent account maintenance notifications
The email address of your Security contact will receive security related event notifications


For more information about changing this and other information for your account, check out our documentation here:
http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/manage-account-payment.html#account-contacts

I hope this helps, but please let me know if you have any other questions or concerns!

Regards,
Mohsin"
Amazon EC2	"Instance Stuck in ""Stopping"" State
My EC2 instance i-4b6f922b has been non-responding for a while. Trying to stop it using the GUI and not stopping at all.  I also tried the command line tool using --force, but it is still just spinning.

Please any suggestions?

Thanks
Dustin"
Amazon EC2	"Re: Instance Stuck in ""Stopping"" State
Hello Dustin,

Your EC2 instance i-4b6f922b has successfully stopped. It appears there was an issue on the underlying-host where the EC2 instance resided. You may restart your EC2 instance back up again so it migrates over to a new healthy underlying-host. If you have any additional questions or concerns, please do let us know. We'll be glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Re: Instance Stuck in ""Stopping"" State
Thanks!"
Amazon EC2	"EBS volume locked on umount / sync - unable to detach from instance
Volume ID: vol-277bd063

XFS filesystem attached to Ubuntu instance, but now it locks up certain operations that cannot be killed (attempted to umount the device which created a locked/unkillable process - another session attempted a sync command which has also hung). Forced detached was unsuccessful as well. It simply won't go away.

Found this message in /var/log/syslog - may be related?
Jul  1 01:10:42 ip-10-80-171-93 kernel: [135225237.050134] vbd vbd-16697: >16 Device in use; refusing to close

Also, maybe useful/maybe not ...
$ ps ax|fgrep xvdt9
 4758 ?        S<     0:00 [xfs-data/xvdt9]
 4759 ?        S<     0:00 [xfs-conv/xvdt9]
 4760 ?        S<     0:00 [xfs-cil/xvdt9]
 4761 ?        S      0:00 [xfsaild/xvdt9]
26393 pts/4    D      0:00 umount /dev/xvdt9
29248 pts/4    S+     0:00 fgrep xvdt9

I've removed the device from /etc/fstab so it shouldn't attempt to mount on a reboot, but I'd prefer to avoid a reboot if possible.

Any suggestions on killing these processes / detaching this volume?

Any help appreciated.

Edited by: tgn-fl on Jun 30, 2015 10:19 PM - added 'ps' ouotput"
Amazon EC2	"Re: EBS volume locked on umount / sync - unable to detach from instance
EC2 Management Console now reports the problem EBS volume as ""available"" (no longer attached), however the instance doesn't think so:
$ ls -l /dev/xvdt9
brw-rw---- 1 root disk 202, 313 Nov 18  2014 /dev/xvdt9
Â 
$ ps ax|fgrep xvdt9
 4758 ?        S<     0:00 [xfs-data/xvdt9]
 4759 ?        S<     0:00 [xfs-conv/xvdt9]
 4760 ?        S<     0:00 [xfs-cil/xvdt9]
 4761 ?        S      0:00 [xfsaild/xvdt9]
26393 pts/4    D      0:00 umount /dev/xvdt9"
Amazon EC2	"Re: EBS volume locked on umount / sync - unable to detach from instance
Hi,

If it is an option you can have, try rebooting the instance.

Regards,

Tonderai."
Amazon EC2	"Re: EBS volume locked on umount / sync - unable to detach from instance
Since sync is hung, apparently for ALL volumes, doesn't that mean some information will be lost, potentially on every volume?

Edited by: tgn-fl on Jun 30, 2015 11:29 PM"
Amazon EC2	"Re: EBS volume locked on umount / sync - unable to detach from instance
Attempts to reboot or shutdown from inside the instance was unsuccessful - server would continue to run and respond. Attempt to reboot from EC2 Management Console also unsuccessful, but stop from EC2 MC did eventually stop the running instance, and on restart things appear to have recovered and the problem EBS volume was no longer attached."
Amazon EC2	"EC2 i-25cb60ed password non available
Good morning, I can not connect via RDP and I can not get the password for the instance i-25cb60ed istance type g2.8xlarge.  (Password not available yet, retreive default windows administrator password)

can you solve? thanks"
Amazon EC2	"Re: EC2 i-25cb60ed password non available
up!"
Amazon EC2	"EC2 instance stuck in ""stopping"" state
Hi,

One of our customer's instance is stuck at the stopping state.

No force stop works, and I can't detach the EBS volume either.

Can you please help us with this? The instance ID is i-6f70f523

Thanks in advance"
Amazon EC2	"Re: EC2 instance stuck in ""stopping"" state
The instance stopped shortly after my post.

Thanks anyway."
Amazon EC2	"EC2 Instance stuck
Would like to terminate an instance but it seems its stuck in shutting-down and it won't terminate. Could anyone help? The instance ID is i-42ee260f"
Amazon EC2	"Re: EC2 Instance stuck
Issue solved. Thanks to whoever intervened."
Amazon EC2	"Machine unavailable
Hi,

My Amazon server (i-ed3f1a0a) is sudently unavailable.

I've tried a reboot. A stop and the start and still cannot connect. It's a Linux image and I've made no changes that could lead to this.

The option ""Get System Log"", for this instance show only a black page without any information.

The status check says:  1/2 checks passed, and the one that is failing is the Instance Status Check.

Any clue of how to solve this?

Thank you"
Amazon EC2	"Re: Machine unavailable
I've attached the volume to another virtual machine and I have free space, and i haven't found anything on the log files that might suggest a critical error. The most strange to me is that I have no logs on the console. Any help would be really appreciated."
Amazon EC2	"Re: Machine unavailable
The machine is suddenly working and it was down for a couple of days.

Without a proper justification I cannot gain confidence on Amazon Services and move my servers. Can someone from Amazon explain what went wrong, and how can I solve this situation more quickly?

I've searched the logs and found nothing out of the ordinary.

Thank you"
Amazon EC2	"Re: Machine unavailable
Hello  M. Rodrigues,

I did take a look at your instance and could identify the following things which could possibly making your instance to fail the status checks.

Kindly note that your instance was failing System Instance Status Checks. This check verifies that your instance's operating system is accepting traffic. These checks monitor your software and network configuration for this instance.

I could see that your instance was hitting 100% CPU utilization at certain periods. This could result in the instance to not respond to the health checks.

Also, I could see that your instance is using a 10GB General Purpose EBS volume. Though general purpose volumes can burst upto 3000 IOPs, once there are no IO credits left, they will be providing an IOPs rate of 3 IOPs per GB which means your volume gets limited to 30 IOPs till it gain IO credits. If you try to push more IO to the volume during this period, it will result in having high IO wait on your instance level and you could see processes going to D state in ps command output and also the load average might increase due to this.

So, considering the load you are putting, I would recommend you to choose an instance which is atleast bigger than a t2.micro and have bigger EBS volume which will provide your volume a better base IOPs rate, more IO credits and shorter IO credit refill period.

Regards
Shiroy"
Amazon EC2	"Re: Machine unavailable
Thank you for the answer. Yes, indeed I have CPU USAGE and bandwith also, so considering your answer i've moved to a larger instance and I had no problems since.

Is there any (free) option to send an e-mail to my account stating that the machine is using more resources, and that probably it won't fulfill my needs?

BEcause th only thing we noticed is a no output in the log, and the failed system check, but that can fit in a lot of scenarios.

Tks!"
Amazon EC2	"Please help , I can not afford this cost as a result of my negligence
Hello, 

I'm an entrepreneur from China.

My Account ID: 170648954009
Account name: Stranger

In early June, I opened an AWS service after I click an AD about FREE AWS:

http://aws.amazon.com/free/

I have been buying a variety of books through Amazon , and have long known AWS, have been hoping to use what AWS services , so although not very specific needs , I immediately entered the page.

My English is not good, and it is the first time I use AWS services, so I use the Chinese language interface. When I use the admin UI in AWS. I think it just launched a free service ( because of the AD ), I don't know there is such a cost. So I built a AWS as Amazon Elastic Compute Cloud running Linux/UNIX.

After that, I did not used this server, you can check my account operational records. And, because it is the first time, I do not know how to query the cost, what happens in case I did not know, until yesterday received from the bank sent a debit message, say my credit card was charged $ 723.49.

I can not afford this high cost. I am an ordinary Chinese entrepreneurs, my hole year host cost is $230 for my website.

Please help me, see if you can reduce this cost out. Thank you very much.

James Song


â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
å› ä¸ºè‹±è¯­ä¸å¥½ï¼Œæˆ‘ä½¿ç”¨äº†ç¿»è¯‘è½¯ä»¶æ¥å®Œæˆä¸Šé¢çš„è‹±æ–‡å†…å®¹ï¼Œä¸‹é¢æ˜¯æˆ‘ç”¨ä¸­æ–‡å†™çš„åŽŸæ–‡ã€‚
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

æ±‚åŠ©ï¼Œæˆ‘æ— æ³•æ‰¿æ‹…è¿™ç¬”å› ä¸ºæˆ‘çš„ç–å¿½è€Œå¯¼è‡´çš„è´¹ç”¨

ä½ å¥½ï¼Œæˆ‘æ˜¯ä¸€ä½æ¥è‡ªä¸­å›½çš„åˆ›ä¸šè€…ã€‚

æˆ‘çš„è´¦æˆ·ID: 170648954009 
è´¦æˆ·åç§°: Stranger 

6æœˆåˆï¼Œæˆ‘å¼€é€šäº†ä¸€ä¸ªAWSæœåŠ¡ã€‚å› ä¸ºæˆ‘çœ‹åˆ°äº†ä¸€ä¸ªå…³äºŽå…è´¹ä½¿ç”¨AWSçš„ç½‘é¡µï¼š
http://aws.amazon.com/free/

æˆ‘ä¸€ç›´é€šè¿‡äºšé©¬é€Šè´­ä¹°å„ç§å›¾ä¹¦ï¼Œæ‰€ä»¥å¾ˆæ—©å°±çŸ¥é“AWSï¼Œä¹Ÿä¸€ç›´ç‰¹åˆ«å¸Œæœ›èƒ½å¤Ÿä½¿ç”¨ä¸€ä¸‹AWSçš„æœåŠ¡ï¼Œæ‰€ä»¥è™½ç„¶æ²¡æœ‰ç‰¹åˆ«å…·ä½“çš„éœ€è¦ï¼Œæˆ‘ä¹Ÿæ¯«ä¸çŠ¹è±«æ»´ç™»å½•äº†é¡µé¢ã€‚

æˆ‘çš„è‹±æ–‡ä¸å¥½ï¼Œè€Œä¸”æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨AWSæœåŠ¡ï¼Œæ‰€ä»¥å½“æ—¶æˆ‘ä½¿ç”¨çš„æ˜¯ä¸­æ–‡ç•Œé¢ï¼Œæˆ‘è®¤ä¸ºåªæ˜¯å¼€é€šäº†ä¸€ä¸ªå…è´¹çš„æœåŠ¡ï¼Œå¹¶ä¸æ¸…æ¥šä¼šæœ‰è¿™ä¹ˆé«˜çš„è´¹ç”¨ï¼Œä¹Ÿå°±æ†ç»‘äº†ä¿¡ç”¨å¡ï¼ˆé€šå¸¸éƒ½ä¼šæ†ç»‘ï¼‰ã€‚

å¼€é€šåŽï¼Œæˆ‘å®Œå…¨æ²¡æœ‰ä½¿ç”¨è¿‡è¿™å°æœåŠ¡å™¨ï¼Œå¯ä»¥æŸ¥è¯¢æˆ‘çš„è´¦å·æ“ä½œè®°å½•ã€‚è€Œä¸”ï¼Œç”±äºŽæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæˆ‘å¹¶ä¸çŸ¥é“æ€Žæ ·æŸ¥è¯¢å‘ç”Ÿçš„è´¹ç”¨æƒ…å†µï¼Œåœ¨æˆ‘å¹¶ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œæˆ‘çš„AWSä¸€ç›´åœ¨äº§ç”Ÿè´¹ç”¨ï¼Œç›´åˆ°ä»Šå¤©æ”¶åˆ°é“¶è¡Œå‘æ¥çš„æ‰£æ¬¾çŸ­ä¿¡ï¼Œè¯´æ˜¯æˆ‘çš„ä¿¡ç”¨å¡è¢«æ‰£æ¬¾723.49ç¾Žå…ƒã€‚

å¤©å“ªï¼Œæˆ‘çœŸçš„æ‰¿æ‹…ä¸èµ·è¿™ä¹ˆé«˜çš„è´¹ç”¨ã€‚æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½çš„æ™®é€šåˆ›ä¸šè€…ï¼Œæˆ‘çš„ç½‘ç«™å…¨å¹´åªæœ‰230ç¾Žå…ƒçš„æœåŠ¡å™¨è´¹ç”¨ã€‚çŽ°åœ¨æˆ‘éžå¸¸æ‡Šæ‚”ï¼Œç‰¹åˆ«æ¥è¿™é‡Œå‘äºšé©¬é€Šçš„å·¥ä½œäººå‘˜æ±‚åŠ©ï¼Œçœ‹èƒ½å¦å‡å…æŽ‰è¿™ç¬”è´¹ç”¨ã€‚

James Song"
Amazon EC2	"Re: Please help , I can not afford this cost as a result of my negligence
Hi,

I hope that this finds you well.

I do see that you have a billing support case opened regarding your issue with the charges on your account, case 1435378801. I can confirm that my colleague has responded and assisted you on the case.

Should you have any additional questions please respond to that case for further information and assistance.

Regards,

Yannick M."
Amazon EC2	"Why am I still being charged for an EBS I deleted a week ago?
Hi,

so I deleted all volumes and instances running on EC2 (US West Oregon) more than a week ago and I still see charges going up on my billing account? I am being charged for ""provisioned storage"".

Help?"
Amazon EC2	"Re: Why am I still being charged for an EBS I deleted a week ago?
Hi,

I have created an outbound billing support case to address your query regarding the charges for EBS volumes on case 1437536631. Should you have any additional questions please respond to that case for further information and assistance.

In future should you have any billing or charge related queries, you can create a support case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Yannick M."
Amazon EC2	"ELB ip not working
I have an public facing ELB with ip addresses. One of them doesn't seem to work while the other one works. Please help in resolving it.

Thanks,
Ganesh"
Amazon EC2	"Re: ELB ip not working
Hello Ganesh,

It looks like the subnet chosen for us-west-2b (""subnet-7124a406"") is a private subnet.  For public accessibility, these subnets need to be public (have a route in the subnet route table for 0.0.0.0/0 to a VPC Internet Gateway).  You can change the subnet by following the below guidance:

http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elb-manage-subnets.html

Alternatively, you can change the route within the route table (""rtb-3f57365a"") itself to point to the IGW.

Best regards,
Justin G."
Amazon EC2	"Re: ELB ip not working
Thanks. It solved the issue"
Amazon EC2	"Instance stuck on shutting-down
My instance has been stuck on 'shutting-down' for hours now.

InstanceID: i-b4009367"
Amazon EC2	"Re: Instance stuck on shutting-down
Hi there,

It appears that the underlying hardware that the instance had been running on had encountered an issue which negatively affected the reachability of your instance, and causing it to take longer that needed to stop.

This can happen.
Please go ahead and start your instance again. It will start on a new hardware. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html

I apologize for the inconvenience caused.

Fawzi H."
Amazon EC2	"EC2 Instance reachability failed - Waiting for meta-data accessibility..
Urgent - My ec2 instance has been working perfectly but 17 hours ago it failed a reachability check.  I have since, restarted, stopped and started, and even launched 2 previous old AMI's and they all are failing the same check and reading the logs they all have the same error.  What is wrong?

Here is the most recent ec2 instance log from this instance i-3c696611
2015/07/07 00:50:52Z: AMI Origin Version: 2014.07.10
2015/07/07 00:50:52Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/07/07 00:50:52Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/07 00:50:52Z: Language: en-US
2015/07/07 00:50:52Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/07/07 00:50:53Z: Difficulty detecting PV driver details for Console Output
2015/07/07 00:52:00Z: Message: Waiting for meta-data accessibility...

Here is the ec2 instance log from the the previously running instance i-a577104a that failed 17 hours ago
2015/07/06 22:43:52Z: AMI Origin Version: 2014.07.10
2015/07/06 22:43:52Z: AMI Origin Name: Windows_Server-2012-R2_RTM-English-64Bit-Base
2015/07/06 22:43:52Z: OS: Microsoft Windows NT 6.2.9200.0
2015/07/06 22:43:52Z: Language: en-US
2015/07/06 22:43:52Z: EC2 Agent: Ec2Config service v2.2.5.0
2015/07/06 22:43:53Z: Difficulty detecting PV driver details for Console Output
2015/07/06 22:43:59Z: Message: Waiting for meta-data accessibility...
2015/07/06 22:45:39Z: Still waiting for meta-data accessibility...
2015/07/06 22:47:30Z: Still waiting for meta-data accessibility...
2015/07/06 22:49:20Z: Still waiting for meta-data accessibility...
2015/07/06 22:51:10Z: Still waiting for meta-data accessibility...
2015/07/06 22:53:01Z: Still waiting for meta-data accessibility...
2015/07/06 22:54:51Z: Still waiting for meta-data accessibility...
2015/07/06 22:56:42Z: Still waiting for meta-data accessibility...
2015/07/06 22:58:32Z: Still waiting for meta-data accessibility...
2015/07/06 23:00:22Z: Still waiting for meta-data accessibility...
2015/07/06 23:02:12Z: Still waiting for meta-data accessibility...
2015/07/06 23:04:03Z: Still waiting for meta-data accessibility...
2015/07/06 23:05:53Z: Still waiting for meta-data accessibility...
2015/07/06 23:07:44Z: Still waiting for meta-data accessibility...
2015/07/06 23:09:34Z: Still waiting for meta-data accessibility...
2015/07/06 23:11:24Z: Still waiting for meta-data accessibility...
2015/07/06 23:13:15Z: Still waiting for meta-data accessibility...
2015/07/06 23:15:05Z: Still waiting for meta-data accessibility...
2015/07/06 23:16:55Z: Still waiting for meta-data accessibility...
2015/07/06 23:18:46Z: Still waiting for meta-data accessibility...
2015/07/06 23:20:36Z: Still waiting for meta-data accessibility...
2015/07/06 23:22:26Z: Still waiting for meta-data accessibility...
2015/07/06 23:24:17Z: Still waiting for meta-data accessibility...
2015/07/06 23:26:07Z: Still waiting for meta-data accessibility...
2015/07/06 23:27:57Z: Still waiting for meta-data accessibility...
2015/07/06 23:29:47Z: Still waiting for meta-data accessibility...
2015/07/06 23:31:38Z: Still waiting for meta-data accessibility...
2015/07/06 23:33:28Z: Still waiting for meta-data accessibility...
2015/07/06 23:35:18Z: Still waiting for meta-data accessibility...
2015/07/06 23:37:09Z: Still waiting for meta-data accessibility...
2015/07/06 23:38:59Z: Still waiting for meta-data accessibility...
2015/07/06 23:40:49Z: Still waiting for meta-data accessibility..."
Amazon EC2	"Re: EC2 Instance reachability failed - Waiting for meta-data accessibility..
Hello, 

It may be possible that your instance is having the issue described here: http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

Try changing the instance type to c3 (any c3) and start it again and see if you can connect. 
the steps to fix this issue are on the same link: http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

Regards
Fawzi H."
Amazon EC2	"Intermittent connection problem with RDS Postgresql DB from ec2 instance
Hi,

I have a django web application that uses a Postgresql RDS instance. Time to time the connection to DB is failing and throwing me this error (most of the times it works fine though),

OperationalError: could not translate host name ""xxxx.xxxx.us-east-1.rds.amazonaws.com"" to address: Name or service not known
.

This started happening from 3rd July, 2015. The ec2 instances(Ubuntu) and the rds runs in a vpc. Can someone help me through this problem?

I believe my issue is similar to the issue mentioned in this thread (Link: https://forums.aws.amazon.com/thread.jspa?threadID=171364), but no solution is given there.

Edited by: dheeru_agiliq on Jul 6, 2015 9:09 PM"
Amazon EC2	"ec2 instance can't stop.
EC2 instance (i-9509758c) can't stop. it is in stopping state for over 30 minutes. Please help me!

Thanks,
vividy"
Amazon EC2	"Re: ec2 instance can't stop.
resolved"
Amazon EC2	"Re: ec2 instance can't stop.
I've been noticing lately that the console running status does not reflect the status ""Terminating"", ""Shutting Down"", ""Restarting"", and so on after invoking these actions but it seems that the action is in effect.  Its hard to say exactly what I'm seeing, I just know that many times I will click ""Restart"" and the console does not update at all.

Karl.."
Amazon EC2	"Creating an image of EC2 instance continues in ""Pending"" status
I created an image of one of my instances to create a complete backup. The EC2 instance was first shut down. The status of the image continues as ""Pending"" after several hours. The AMI ID is ami-cf04c8a4. Is the image corrupt, perhaps? Should I start a new one? Thanks for any help.

Edited by: jpraymond67 on Jul 6, 2015 3:52 PM"
Amazon EC2	"Re: Creating an image of EC2 instance continues in ""Pending"" status
It did take several hours to finally change from Pending to Available, but it's now good to go."
Amazon EC2	"Creating new AMI from running PV instance store instance
Hi,

I'm trying to create a new AMI from a running paravirtual instance-store instance (Ubuntu 12.04 LTS x86_64), to no avail.

I've tried following the documentation both at 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-instance-store.html

and 

http://blog.tcs.de/create-instance-store-ec2-ami-from-running-instance/

but, while I can succeed in creating an AMI bundle and registering it, when I try to create a new instance from the new AMI, the AWS console shows it as booted, but I can never reach it. Additionally, the AWS instance status checks never pass, and the console output is always blank.

$ aws ec2 get-console-output --instance-id i-ebc53c43                                                                                                                 
Â 
'Output'


I've kept the above instance  i-ebc53c43 up and running (though utterly nonfunctional) in case any AWS staffers see this.

FWIW, I have no reason not to convert to HVM, but the existing instance, whose general configuration state I'm aiming to store (it's a long, sad configuration-management story) happens to be PV and instance store. The first link above (AWS doc) says early on ""HVM instances only"" but the context of that constraint is not entirely clear.

Thanks!"
Amazon EC2	"""ClientError: Unsupported kernel version""
Hi I'm trying to import a vm with ubuntu 14.04 on it and it says unsupported kernel version. Can you let me know the cause for this?

""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""3rdman-vm-images"", 
                        ""S3Key"": ""purity-fresh-415-disk1.vmdk""
                    }, 
                    ""DiskImageSize"": 4809587200.0, 
                    ""Description"": ""First CLI task"", 
                    ""Format"": ""VMDK""
                }
            ], 
            ""Description"": ""Purity 415"", 
            ""StatusMessage"": ""ClientError: Unsupported kernel version"", 
            ""ImportTaskId"": ""import-ami-fhd95ir4"""
Amazon EC2	"Re: ""ClientError: Unsupported kernel version""
And I sometimes getting this. I have been trying this for a while and never able to import a vm successfully. Please help.

""Status"": ""deleted"", 
            ""SnapshotDetails"": [
                {
                    ""UserBucket"": {
                        ""S3Bucket"": ""3rdman-vm-images"", 
                        ""S3Key"": ""Purity_45x-disk1.vmdk""
                    }, 
                    ""DiskImageSize"": 4334661120.0, 
                    ""Format"": ""VMDK""
                }
            ], 
            ""Description"": ""Purity_45x"", 
            ""StatusMessage"": ""ClientError: Unsupported Linux distribution"", 
            ""ImportTaskId"": ""import-ami-ffisac6z"""
Amazon EC2	"Re: ""ClientError: Unsupported kernel version""
Can someone respond to this? If you can tell me what is missing in the kernel, i'll try to rectify it."
Amazon EC2	"Re: ""ClientError: Unsupported kernel version""
Hello,

I apologize for the delay in my answer.

We  are investigating your issue, will reply back as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Re: ""ClientError: Unsupported kernel version""
Hi Giorgio,

Thanks for replying. We understood that our kernel does not have xen supporting modules and we think that this is causing the failure.

So what I'm looking for is information on the xen related modules that are required by AWS. I built the kernel with the config options mentioned in this page http://wiki.xenproject.org/wiki/Mainline_Linux_Kernel_Configs and then tried to import it into AWS. But it still failed. Can you let me know what additional config options that we need to enable?

Thanks,
Ashok"
Amazon EC2	"Can not ssh into instance located in ap-southeast-1b
I have setup and configured launch configurations and Autoscaling group in Asia(Singapore) region. 

I can connect(ssh) to my instance in ap-southeast-1a but I can't connect to ap-southeast-1b instances. 

I have terminated all instances and every instances that is restarted in ap-southeast-1b will not allow a connection.

Has anyone seen this problem before."
Amazon EC2	"Re: Can not ssh into instance located in ap-southeast-1b
Hello,

Taking a look, it appears the subnet chosen for that AZ (""subnet-c074d1b7"") has a path for 0.0.0.0/0 in the route table to a NAT instance.  For public accessibility, it will need to mirror your ap-southeast-1a subnet (""subnet-1fd0557a"") and have that path point to a VPC Internet Gateway.

Best regards,
Justin G."
Amazon EC2	"Re: Can not ssh into instance located in ap-southeast-1b
Thanks for your quick response. That worked."
Amazon EC2	"ENI fails to pass traffic for VPC NAT/route table
I have a VPC (172.x.0.0/16) with dual NAT instances, and I am starting to migrate instances into the private subnets from EC2 Classic. The NAT instances are configured to attach a permanent ENI (with an EIP associated) after boot as eth1. This had previously seemed to be working, but after extensive testing, one of the ENIs seems to be failing to pass traffic properly. 

The route tables (one for each AZ) are similarly configured, and the flow logs indicate that test traffic is not being rejected. VPC security groups are not the problem, as I can create 2 instances in the same security group, and ping/curl fail to the internet from one AZ but not the other. When I switch the VPC route table to the ""good"" AZ, traffic flows normally.

The issue is preventing EC2/Opsworks instances from completing their initial build, as they are unable to curl/download necessary files.

Has anyone run into a similar issue, or have thoughts on how to troubleshoot the traffic to this ENI?"
Amazon EC2	"Re: ENI fails to pass traffic for VPC NAT/route table
Hello,

Can you please provide the nat instance id ?
Regards,
Baseer."
Amazon EC2	"Re: ENI fails to pass traffic for VPC NAT/route table
Instance ids are:

i-a8958b78
i-c0e2dc3f"
Amazon EC2	"Re: ENI fails to pass traffic for VPC NAT/route table
Closing this after talking with AWS experts at a conference. Short version is that NAT instances are overly complex for this use case, and removing them in favor of having another look at outbound traffic via security groups."
Amazon EC2	"Can't locate running instance on EC2
It looks like I have m3.large running but it doesn't appear in my console (US-EAST-1).
I would like to find it and stop it.

Can anyone help?"
Amazon EC2	"Re: Can't locate running instance on EC2
Hello,

It looks like there were two m3.large instances running on your account up until 2015-07-06 00:52 UTC, so you will be charged for that period of use in July.  I can confirm, however, that you do not have any additional instances running in the us-east-1 region at this time.

Best regards,
Justin G."
Amazon EC2	"EC2 Instance (Ubuntu 14.04) Not Accessible After Reboot
I have an instance (ID: i-55c1c7b8).  I am able to successfully create a volume from a backup snapshot and attach it my instance.  Also, I am able to log into the instance (PuTTY) as long as I do not stop/start or reboot the instance.  The minute I stop/start or reboot the instance, I am no longer able to connect (PuTTY message: ""Network error: Connection timed out"").  Any insight on how to resolve this issue will be greatly appreciated."
Amazon EC2	"Re: EC2 Instance (Ubuntu 14.04) Not Accessible After Reboot
Hello,

You may wish to check your networking configuration which is located here: /etc/sysconfig/network-scripts

The file you will want to look into will look similar to this: ifcfg-eth0

The contents of the file should look like this:

DEVICE=eth0
BOOTPROTO=dhcp
ONBOOT=yes
TYPE=Ethernet
USERCTL=yes
PEERDNS=yes
IPV6INIT=no
PERSISTENT_DHCLIENT=yes

If you find that none of these fixes the issues, then take a look at the following logs from the time you performed the last reboot to now:

/var/log/secure
/var/log/dmesg
/var/log/cloud-init.log
/var/log/boot.log
/var/log/messages
Including any related application logs. It's possible that these logs may provide some insight into why your instance is receiving status check errors.

I'd also confirm that sshd is starting successfully during boot. Also, if you issue a stop/start and your instance is not within a VPC then the instance IP will change. So I just would check to make sure you are connecting to the correct IP after a stop/start and reboot.

We also got a pretty detailed guide here on troubleshooting instance status checks - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html#InitialSteps"
Amazon EC2	"Re: EC2 Instance (Ubuntu 14.04) Not Accessible After Reboot
Thanks for the input.  However, it was not very helpful.  The network-scripts in Ubuntu cannot be found in /etc/sysconfig/network-scripts since the path does not exist.  Additionally, many of the listed logs recommended to analyze, also do not exist.... Those that do, provided not insight as to what is causing the problem.

My solution was to start a new instance from scratch.  I had a recent snapshot available so I was able to recover most of my data.

Thanks for trying to help.  While I was not able to capitalize on your input, I hope that someone else will."
Amazon EC2	"Re: EC2 Instance (Ubuntu 14.04) Not Accessible After Reboot
Hi there, 

Thank you for the feedback. 

I'm glad to see that you were able to recover by creating a new instance and using your most recent backups. 

Please do let us know if there is anything further we can assist with. 

Kind regards, 
Belynda"
Amazon EC2	"Re: EC2 Instance (Ubuntu 14.04) Not Accessible After Reboot
This issue still needs addressed. I am having the same problem and the logs show that my two ENI's are not being brought up after reboot. After sorting through various logs from the down instance I saw odd issues with DHCP but this doesn't seem like the issue since the interfaces aren't up at all.

I have lost two instances in the last 3 days from this now. My reproduction of this is probably fairly easy.

I create a new instance from the Ubuntu 14.04 LTS (non-HVM) AMI, I login and setup UFW with some additional rules (fully verified, very simple port exceptions), and after a reboot there all is good,. Then I installed the following packages:

mysql-server
postfix
postfix-mysql
postfix-cluebringer
postfix-cluebringer-mysql
postfixadmin

After the installation of these services I reboot and then the interfaces don't come up."
Amazon EC2	"Unable to create a new EC2 instance without a VPC
If I do not have a VPC created already and I try to launch a new EC2 instance I get an error that says ""unable to create a VPC at this time."" and then there is a button that says try again. If you click the button you just keep getting the same error. Meanwhile for every time you click the button a new VPC is created. The only way out of this loop is to hit your back button in your browser. Has anyone else seen this? Im wondering if I did something that caused this in my account.
Also once I do get a EC2 instance started I can not ssh to it even though it has a public facing IP address and its subnet is attached to the main route table.

Edited by: seth j floyd on Jul 6, 2015 5:45 AM"
Amazon EC2	"Re: Unable to create a new EC2 instance without a VPC
Hello,
Could you please try creating a VPC from the AWS VPC console and give it a try?

You can follow the below mentioned documentation to create a new VPC:
http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/Wizard.html

Regards
Shiroy"
Amazon EC2	"Re: Unable to create a new EC2 instance without a VPC
Yes if I pre-create the VPC I can spin up a EC2 just fine...still cant connect to it though. Ive double checked the route table, the gateway, the subnet, and the security group and all are what they should be."
Amazon EC2	"Re: Unable to create a new EC2 instance without a VPC
Hello,

Could you please confirm the id of your newly launched instance?
Is it  i-527d81fa? I did take a look at the instance  i-527d81fa and could identify that it's route table do not have a default route to go outside. 

You need to create a default route pointing to an IGW (Internet Gateway) to access this instance.
To do, you first need to create an IGW and associate it with your VPC. Once done, in VPC route table rtb-afe310cb, add a default route pointing to your IGW.
0.0.0.0/0 -> igw-xxxxxxx

Regards
Shiroy"
Amazon EC2	"Re: Unable to create a new EC2 instance without a VPC
OK That fixed my issue of being able to connect but doesnt help with the original issue.
I terminated that instance that I had and deleted the VPC and all resources tied to it. I then tried to create a new instance and I get the error again...""There was an error creating the VPC. An unknown error occurred.""
So there was no VPC and when the EC2 instance tries to start up it tries to create a new VPC to be in but it errors out. 
Is this because there is no VPC already created? Previously I did not have to have a VPC already created and I could spin up an instance without one."
Amazon EC2	"SAP HANA Quick Start deployment error sqs:CreateQueue denied
Hi,

we're using the Scripts provided with the  SAP HANA Quick Start Guide to deploy new SAP HANA systems. 
We already set up our AWS VPC about half a year ago and we have installed several HANA Servers with the SAP_HANA_Deploy Script without any errors.

Now it seems that Amazon has updated their Scripts, so I manually downloaded the following scripts and put them on the RDP Instance in folder C:\Users\Administrator\SAP:
SAP_HANA_Deploy.ps1 
SAP_AWS_Helper.ps1 

Afterwards we started the deployment via SAP_HANA_Deploy PowerShell Script as usual.

In the Cloud Formation Management Console the stack fails with:
CREATE_FAILED	AWS::SQS::Queue	DeploymentInterruptQ	API: sqs:CreateQueue Access to the resource https://sqs.eu-central-1.amazonaws.com/ is denied.

In the IAM Management Console we have attached the policy AmazonSQSFullAccess to my user, but it still fails.

Does anyone have an idea?

Thanks and best regards
Jule"
Amazon EC2	"EC2 Instance Stuck - Can't be stopped
Hi,

EC2 instance i-886ca3c1 is stuck and I cannot stop it. I have tried force stop. Can it be restarted?

Thanks."
Amazon EC2	"Re: EC2 Instance Stuck - Can't be stopped
Hello,

We are sorry for the inconvenience this may have caused. Your instance should now be in stopped state. You can try starting it back and check if it got booted successfully.

Regards
Shiroy"
Amazon EC2	"EC2 stopping state (frozen)
Hi,

Our EC2 instance (i-dec84397) can't be stopped. I have tried a forced stop more than once and this has not helped.

Please can you stop this manually? 

Thanks"
Amazon EC2	"Re: EC2 stopping state (frozen)
Hi there, 

I have moved your instance to the stopped state.  

Kind regards, 
Belynda"
Amazon EC2	"EC2 Instance Stuck and wont Stop
Instance ID: i-42e4770f is stuck and will not stop, tried to forcefully stop multiple times but to no avail. Can someone please take a look. Thanks."
Amazon EC2	"Re: EC2 Instance Stuck and wont Stop
Hi there, 

I've taken a look at your instance and see it is now in the running state and passing all health checks. 

Please let me know if there is anything further I can assist with. 

Kind regards, 
Belynda"
Amazon EC2	"cfn-init error in private subnet which does not have any internet gateway
Hi,

While cloud formation I am getting the following cfn-init error if the EC2 I am trying to instantiate resides in a private subnet which does not have any internet gateway attached>
The error from cfn-init.log file is as follows:

2015-07-03 15:40:56,312 ERROR ConnectionError
Traceback (most recent call last):
  File ""cfnbootstrap\util.pyc"", line 159, in _retry
  File ""cfnbootstrap\util.pyc"", line 231, in _timeout
ConnectionError: ('Connection aborted.', error(10060, 'A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond'))

While the EC2ConfigLog.txt has the the following error:

2015-07-03 15:42:30: Ec2HandleUserData: Message: The errors from user scripts: ('Connection aborted.', error(10060, 'A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond'))

While I use the same AMI ( which I am using in the above failed cases ) to instantiate a EC2 in a public subnet having internet gateway attached the it works properly.

Is it required to attache the subnet in which you are instantiating an EC2 ( with cfn-int ) with internet gateway?

Thanks,
Avik"
Amazon EC2	"DNS resolving stopped working
Hello
DNS server in our instance stopped working. It cannot resolve any public ip at all.

""ping"" doesn't work either , yum update also gives DNS resolving error.

My situation is very similar to this : https://forums.aws.amazon.com/thread.jspa?threadID=122840

Our DNS server ip is the same (172.16.0.23)

Anyway, here is /etc/resolv.conf content :

; generated by /sbin/dhclient-script
search ec2.internal compute-1.amazonaws.com
nameserver 172.16.0.23


The result of  route -n :
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.67.177.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0
169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 eth0
0.0.0.0         10.67.177.1     0.0.0.0         UG    0      0        0 eth0


result of  ""nslookup google.com 172.16.0.23"" :
;; connection timed out; trying next origin
;; connection timed out; trying next origin
;; connection timed out; no servers could be reached


I tried to use a public DNS in resolv.conf  (8.8.8.8) but it didn't solve the problem.

My Instance ID is :  i-7d880453

Any help would be appreciated.
Thanks.

Edited by: exdeus on Jul 6, 2015 1:25 AM"
Amazon EC2	"DNS resolving stopped working
Any help please?

It seems to be a common problem according to my searches : https://www.google.com/search?q=172.16.0.23

Apparently many people had experienced same problem (With Amazon 172.16.0.23 DNS Server) there is nothing i can do about it in my side.

Anybody?"
Amazon EC2	"SLD Agent is not getting added to SAP B1 CCC
Hello Experts,

I am trying to setup SAP B1 on AWS cloud. I have created 3 systems,
1. Database server

2. Application Server

3. Cloud Control Center
But only Database Server SLD Agent is getting added to the Cloud Control Center Server. Other two application and itself cloud control center SLD Agent is not getting listed in SLD Agent tab of CCC.

Any one having idea what is wrong i am doing. Since 5 days i am struggling with this.

Thanks in advance.
Regards,
Ashwin"
Amazon EC2	"A box became not reachable
I was working on an ec2 instance, and 1 night I stop and restarted it, and now the instance fails the network system test.

I tried creating an image and launching the image, and it is the same issue. 

instance id is i-dbf9c572"
Amazon EC2	"Re: A box became not reachable
Note my system log

shows the following

Starting cloud-init: Cloud-init v. 0.7.4 running 'init-local' at Thu, 02 Jul 2015 15:24:12 +0000. Up 13.13 seconds.

Starting cloud-init: Cloud-init v. 0.7.4 running 'init' at Thu, 02 Jul 2015 15:24:13 +0000. Up 13.89 seconds.

ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth3  | False |     .     |     .     | 22:00:0b:d7:41:85 |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Jul 02 15:24:13 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:14 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:15 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:16 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:17 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 4/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:18 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 5/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:20 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 7/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:22 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 9/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:24 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 11/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:26 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 13/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:28 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 15/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:31 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 18/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:34 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 21/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:37 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 24/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:40 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 27/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:43 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 30/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:47 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:51 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 38/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:55 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 42/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:24:59 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 46/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:03 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 50/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:08 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 55/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:13 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 60/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:18 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 65/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:23 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 70/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:28 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 75/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:34 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 81/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:40 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 87/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:46 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 93/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:52 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 99/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:25:58 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 105/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:26:05 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 112/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:26:12 cloud-init1754: url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 119/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

Jul 02 15:26:19 cloud-init1754: DataSourceEc2.pyCRITICAL: Giving up on md from  after 126 seconds

Starting cloud-init: Cloud-init v. 0.7.4 running 'modules:config' at Thu, 02 Jul 2015 15:26:20 +0000. Up 141.42 seconds.

Jul 02 15:26:21 cloud-init1806: stages.pyWARNING: Could not find module named cc_yum_configure

Starting cloud-init: Cloud-init v. 0.7.4 running 'modules:final' at Thu, 02 Jul 2015 15:26:21 +0000. Up 142.22 seconds.

Cloud-init v. 0.7.4 finished at Thu, 02 Jul 2015 15:26:21 +0000. Datasource DataSourceNone.  Up 142.42 seconds

Jul 02 15:26:21 cloud-init1820: cc_final_message.pyWARNING: Used fallback datasource

Starting sshd:   OK  

ntpdate: Synchronizing with time server:"
Amazon EC2	"Re: A box became not reachable
Hi cvpbsc,

""Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed""

Cloud init needs to call 169.254.169.254 to pull meta-data for a successful boot.
A couple of common reasons why it might be failing:

1. IPTables may have somehow become enabled and enforced to block a range which includes 169.x.x.x
2. SELinux or other firewall application may have been enabled and set to enforcing which is blocking the connection
3.) Network misconfiguration

If this is an IPTables issue, you will want to check the /etc/sysconfig/iptables file to examine your chains. To do this, you will need to detach and attach the Volume of the Instance to another Instance. Here is some documentation to assist you with that.

Detach Volume: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
Attach Volume: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

If you find the rules are correct, you may wish to check your networking configuration which is located here: /etc/sysconfig/network-scripts

The file you will want to look into will look similar to this: ifcfg-eth0

The contents of the file should look like this:

DEVICE=eth0
BOOTPROTO=dhcp
ONBOOT=yes
TYPE=Ethernet
USERCTL=yes
PEERDNS=yes
IPV6INIT=no
PERSISTENT_DHCLIENT=yes

Additional:
Check the /etc/sysconfig/network-scripts/ifcfg-eth0 file and see if you have a MAC in there, if so disable it.
Check to see if you have a udev rule for the NIC in /etc/udev/rules.d/  if you have a rule try disabling it.

If you find that none of these fixes the issues, then take a look at the following logs from the time you performed the last reboot to now:

/var/log/secure
/var/log/dmesg
/var/log/cloud-init.log
/var/log/boot.log
/var/log/messages

Additional information which may prove useful in your diagnostics:

Status check errors and what they mean - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstances.html

Recover an unreachable Linux instance - https://aws.amazon.com/articles/5213606968661598

If the above doesn't help to resolve the issue then it would be best to restore your instance to state before you started making changes.

Regards,

Rodney"
Amazon EC2	"Instance stuck in stopping state
Hi, 

The following instance is stuck in stopping state i-1ad3735a, can someone take a look and please stop it and restart if possible?"
Amazon EC2	"Re: Instance stuck in stopping state
Hi totallyfl,

I see the instance is currently in a running state.

Feel free to reach out if you have further questions; I'm happy to assist where possible.

Rodney"
Amazon EC2	"SYN Flood Protection?
I am trying to get a good solid proof protection on my EC2 instance.
There must be an easy way to combat SYN_RECV flood.

Here is how many there are:
http://gyazo.com/91ce2635fd58cf22f85ece7d43befa32
(Just a few, there are more off-screen)

After looking at the logs:
http://gyazo.com/d64a049777c256aea11719015055e6bb
(I have included the only one about SYN flood)

I am using the local balancer, but it appears to just route them through to my EC2 platform which gives up and the web interface goes offline.

What would be an easy way to protect from this?

It appears that SYN Cookies are already on, and you can see them in the log.

But it shoved my EC2 instance offline and I could not even connect to it for a while.

Thank you."
Amazon EC2	"Re: SYN Flood Protection?
Just slip in some iptables rules.  These work fairly well.

Try this:

#drop bogus packets

iptables -A INPUT   -m state --state INVALID -j DROP
iptables -A FORWARD -m state --state INVALID -j DROP
iptables -A OUTPUT  -m state --state INVALID -j DROP

iptables -A INPUT -p tcp --tcp-flags SYN,FIN SYN,FIN -j DROP
iptables -A INPUT -p tcp --tcp-flags SYN,RST SYN,RST -j DROP
iptables -A INPUT -p tcp --tcp-flags SYN,FIN,PSH SYN,FIN,PSH -j DROP
iptables -A INPUT -p tcp --tcp-flags SYN,FIN,RST SYN,FIN,RST -j DROP
iptables -A INPUT -p tcp --tcp-flags SYN,FIN,RST,PSH SYN,FIN,RST,PSH -j DROP
iptables -A INPUT -p tcp --tcp-flags FIN FIN -j DROP
iptables -A INPUT -p tcp --tcp-flags ALL NONE -j DROP
iptables -A INPUT -p tcp --tcp-flags ALL ALL -j DROP
iptables -A INPUT -p tcp --tcp-flags ALL FIN,URG,PSH -j DROP
iptables -A INPUT -p tcp --tcp-flags ALL SYN,RST,ACK,FIN,URG -j DROP

#Drop syn

iptables -N syn_flood
iptables -A INPUT -p tcp --syn -j syn_flood
iptables -A syn_flood -m limit --limit 90/s --limit-burst 150 -j RETURN
iptables -A syn_flood -j DROP"
Amazon EC2	"Re: SYN Flood Protection?
Thanks, after applying those rules, it is has reduced the effect.
However I still get a ton of SYN_RECV packets and the server still went offline.
There must be another solution."
Amazon EC2	"Re: SYN Flood Protection?
Is there anything I can do to secure my instance?"
Amazon EC2	"Re: SYN Flood Protection?
Hi. When you say your local load balancer, what do you mean? If you are referring to ELB, it does not look like those connections are coming through that but rather that they are coming directly to the instance. An ELB should not put through the SYN packets in HTTP/HTTPS mode. 

If you are indeed using an ELB (and it looks like you are), you can follow this documentation in order to only allow connections from your ELB and hence you should not receive the SYN flood anymore:
http://docs.amazonwebservices.com/ElasticLoadBalancing/latest/DeveloperGuide/using-elb-security-groups.html

Hope this helps. If the procedure for allowing only your load balancers to connect doesn't work for you or you have questions, let us know.

Best regards
Dag"
Amazon EC2	"Re: SYN Flood Protection?
My application does application level load distribution, so I do not need elastic load balancing.  But, I am concerned about SYN Flood and other DOS attacks, and would like to insure TCP handshake completes before packet is forwarded to my server.  Is the ELB the best solution for this?

If I also control the software running on legitimate clients, are there other techniques like SYN-cookie that would work just as well?"
Amazon EC2	"Re: import-image request (apparently) succeeds, but fails silently
Greetings,

Turned out that the cli interface tools were not returning the promised results:

pat@pat-VirtualBox:~$ aws ec2 describe-conversion-tasks 
pat@pat-VirtualBox:~$ aws ec2 describe-conversion-tasks --region us-west-2
pat@pat-VirtualBox:~$ 

... but the image was being imported behind the scenes.  More reliable:  check Instances .. Launch Instances .. My AMIs to see if it's completed.  Still not sure how to get status.

Edited by: pdx_pat on Jul 5, 2015 7:52 AM"
Amazon EC2	"AWS instances unreachable
I've had 3 instances become unreachable within the last week or so and I can't figure out what's going on.

The first time was close to a week ago and it happened to an established server that I'd had for a couple months for testing purposes.  I only had very limited time to look into it, but when I tried I was unable to connect to it at all, which is the first I've had a problem like that.  I figured I'd have to mount the volume on a recovery instance to get it reachable again so I destroyed the original instance, retaining the volume.

This morning I finally had time to try to look into it.  I created instance i-817c4776 and loaded the standard AWS Linux image onto it, confirmed I could log into the instance, turned it off, attached my old volume to it, was able to log in and make some changes that I thought would make the old instance accessible again.  I then turned off the instance, detached both volumes and attached my original volume as the root volume to see if I could boot it and access it now.  I couldn't, so I detached the volume and re-attached the original testing volume back to the instance so I could boot back into it and do some more checking.  This instance was never reachable again.  I tried several reboots and using my original Elastic IP and not using it.  I made sure to use the new IP address after each reboot when I wasn't using the Elastic IP, since those change.  Never did get back into it.

I terminated that instance and created i-c9665d3e, once again with the standard Amazon Linux image.  This instance has never been reachable for me.  I've even removed my more restrictive Security Groups from the instances and applied one that doesn't restrict traffic at all.  

I can see from the System Log that the network interface came up and in fact Yum updated 4 packages for security fixes upon boot, so I know that it has a working network connection. I've also tried connecting to these from two different locations using different ISPs so it's not something to do with my outgoing connection.

I don't know what's going on here but it would be great if someone could look into it and let me know, please.

Thank you!"
Amazon EC2	"Release Elastic IP
Please release/remove from our account the Elastic IP 52.28.77.215 (Allocation ID: eipalloc-e7e9078e) on Frankfurt region.

Thank you"
Amazon EC2	"Re: Release Elastic IP
Hello, 

This IP address had a PTR record associated with it and pointing to eve-srv01.gardosnetwork.com.

I just removed the PTR record and you should be able to delete the EIP from your account. 

Regards
Fawzi H."
Amazon EC2	"Re: Release Elastic IP
Now I was able to remove the EIP.

Thank you!"
Amazon EC2	"instance i-a1cb7ecd in stopping state and won't stop
also tried forcefully stopping instance. no luck.
what else can i do?

thanks"
Amazon EC2	"Re: instance i-a1cb7ecd in stopping state and won't stop
ok, finally it stopped."
Amazon EC2	"Can Not Get password after creating an instance
Just created the following instance and waited for 10 to 15 minutes but no password was available:

i-69a76fba

This is the message I keep getting when I try to get the password:

Password not available yet.
Please wait at least 4 minutes after launching an instance before trying to retrieve the auto-generated password.

Note: Only Amazon Windows AMIs or custom AMIs with the Ec2SetPassword setting enabled in the Config.xml file will generate a password. Instances launched from a custom AMI without this setting use the username and password of the AMI's parent instance. See the EC2Config Service documentation for information about EC2SetPassword.

Try again.

Long Tong"
Amazon EC2	"Re: Can Not Get password after creating an instance
Hi there, 

I've tried to take a look at your instance, however I see it has already been retired. 

Should you be experiencing this issue on any other instance, please provide us with the instance ID and we can further troubleshoot this with you. 

Kind regards, 
Belynda"
Amazon EC2	"Re: Can Not Get password after creating an instance
Belynda,

Just created a new instance so that you can help me with the problem:

i-c0f94e29

Getting the same message as before

This is the message I keep getting when I try to get the password (Attached Picutre):

Password not available yet.
Please wait at least 4 minutes after launching an instance before trying to retrieve the auto-generated password.

Note: Only Amazon Windows AMIs or custom AMIs with the Ec2SetPassword setting enabled in the Config.xml file will generate a password. Instances launched from a custom AMI without this setting use the username and password of the AMI's parent instance. See the EC2Config Service documentation for information about EC2SetPassword.

Try again.

Long Tong"
Amazon EC2	"Re: Can Not Get password after creating an instance
Hello, 

I'm getting the same error with this AMI. Did you create this AMI? It looks like the AMI is not properly set to let AWS set the password. As the error indicates, this can be enabled or disabled with the EC2Config service. You can read more on that here:
https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html

Regards,
Nick"
Amazon EC2	"Re: Can Not Get password after creating an instance
Nick,

I did not create the ami.  It was in the community AMI.  I tried doing what the tutorial stated but was not able to enable the password.  Is there any way you can turn it on for me?

LT"
Amazon EC2	"Re: Can Not Get password after creating an instance
Hi Philip,

We can not ""turn on"" the password for you, and the AMI owner will need to update it fix the issue. 
However, as can be seen by the link here that AMI is almost 2 years old. You may want to consider using a fresher AMI. 

Kind regards,
Ridwaan M."
Amazon EC2	"Convert public ip assigned to instance and make elastic (sticky on reboots)
I have around 10 instances I created, and I did not assign elastic ips to them (though they have a public ip). I'd like to change this and take the current public ip assigned to each instance, and make it elastic (sticky across reboots). Is this possible? How?"
Amazon EC2	"Re: Convert public ip assigned to instance and make elastic (sticky on reboots)
Hello,

Unfortunately, converting a public IP to an EIP is not supported at the moment. 
You will need to allocate new elastic IPs and then associate them with your instances. 

By default, there is a limit of 5 EIPs per region for each AWS account which can be increased upon request: http://aws.amazon.com/contact-us/eip_limit_request/

When associating an EIP with an instance, the currently associated public IP will be released and cannot be recovered:
""We release the public IP address for your instance when you associate an Elastic IP address with your instance, or when you associate an Elastic IP address with the primary network interface (eth0) of your instance in a VPC. When you disassociate the Elastic IP address from your instance, it receives a new public IP address. ""(http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html)

Regards
Fawzi H."
Amazon EC2	"Not able to connect using RDP to a Windows server
Dear experts,

We are migrating our servers to AWS and we are not able to access to one Windows Server. Our instance id is: ""i-3598b49f"".


We have deactivated the Windows firewall on the source system before to import AWS instance.
RDP services are in ""automatic"", so RDP services must be running on the target server.
Security group is correctly configured, as I'm using the same that is specified in other Windows servers.
Get System Log, is not showing any warnings, just: ""Message: Windows is Ready to use"".


Any other ideas to solve the issue? I'm not able to connect to RDP even using ""mRemoteNG"" program or any.

Thanks in advance for your help,

Daniel LeÃ³n"
Amazon EC2	"Re: Not able to connect using RDP to a Windows server
Is the instance in a subnet with a proper route to your RDP client, and does the Security Group that your instance is a member of take this into account?

For instance, if you are connecting to the instance via the Internet then the instance MUST have a public IP address (unless you are using port forwarding via a NAT Proxy). Your security group must allow inbound traffic on port 3389 from your Client. The software package you use shouldn't really make much difference, it's the basic network setup you will need to look at.

If you are using an RDP Gateway then there are many other elements to investigate..."
Amazon EC2	"Re: Not able to connect using RDP to a Windows server
Hi AWS_bcn,

I see the instance is currently in a stopped state. When the instance is in this state I'm not able to troubleshoot any networking configuration issues. Feel free to reach out when the instance is in a running state and I'd be happy to take look if you are still encountering issues.

Couple of guides which may prove helpful:

http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html

Cheers,

Rodney"
Amazon EC2	"How to Report Violations
I am not an EC2 account holder.  We have some other services through AWS, such as CloudFront, but not EC2.

However, a server in the Amazon EC2 network has been hammering our servers, specifically password-protected pages w/ query parameters meant to inject data and cause harm.

We have traced the ongoing attack to an IP address on Amazon EC2 out of Ashburn, VA.  How do I report this to Amazon?

I could not find a way to contact the AWS EC2 IT team without an EC2 account, which is not helpful when you're attempting to report something lile this."
Amazon EC2	"Re: How to Report Violations
Hi,

You can use this form here which will report abuse to the EC2 Abuse Team.

https://aws.amazon.com/forms/report-abuse

Cheers,

Rodney"
Amazon EC2	"Instance stuck on ntpdate
Hello, i've created an instance based on Centos6 with Apache+Tomcat+Mysql that is working without any problem. I've created a snapshot of this instance for future faster development but when i try to create a new instance with this image, the instance is stuck at ""ntpdate"" command (that i've used to synch the time with an nntp server)

Starting sshd:   OK  
ntpdate: Synchronizing with time server: <--- Stuck here

It seems that the ssh daemon is started but i cannot log in.The ping is not answering (and it is enabled in my policy group) so this means that the network is not started yet.

How can i access them and try to recover it?

Andrea PalmatÃ¨"
Amazon EC2	"Re: Instance stuck on ntpdate
i can also add this log piece:

Starting cloud-init: Cloud-init v. 0.7.4 running 'init-local' at Fri, 03 Jul 2015 17:53:39 +0000. Up 10.64 seconds.
Â 
Starting cloud-init: Cloud-init v. 0.7.4 running 'init' at Fri, 03 Jul 2015 17:53:40 +0000. Up 11.91 seconds.
Â 
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |
Â 
ci-info: |  eth1  | False |     .     |     .     | 06:7e:b0:17:af:d3 |
Â 
ci-info: +--------+-------+-----------+-----------+-------------------+
Â 
ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Â 
Jul 03 17:53:41 cloud-init[1842]: url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [0/120s]: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: [Errno 101] Network is unreachable)]
Â 
Jul 03 17:53:42 cloud-init[1842]: url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [1/120s]: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: [Errno 101] Network is unreachable)]
Â 
Jul 03 17:53:43 cloud-init[1842]: url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [2/120s]: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: [Errno 101] Network is unreachable)]"
Amazon EC2	"Re: Instance stuck on ntpdate
Well, i've found the solution and this maybe can help someone with Centos installation.
I had a previous problem like this. basically if you create a VM with a centos image the network won't work.
So since the only way to access the remote machine you have to do this:

1) Follow the guide to detach and reattach a disk to a working machine here

2) When you are able to access the disk from the new instance follow this instructions Here. Basically you have to do this:


cd /etc/udev/rules.d
cp 70-persistent-net.rules /root/
rm 70-persistent-net.rules


Watch out! This must be done in the mounted volume and not in the ""real"" /etc. So if you have used the link above to mount the disk you have /bad/etc..

Hope this help."
Amazon EC2	"How to access one EC2 instance from different account
I am new to AWS and I thought of just playing with it. I created two account on AWS and now I am not able to access one instance from the other account. Can someone please suggest some methods to make this work."
Amazon EC2	"Re: How to access one EC2 instance from different account
Hi ankur91,

I'd suggest taking a look at AWS IAM (Identity Access Management), this service could possibility provide the solutions you are looking for with regards to delegating access.

http://aws.amazon.com/iam/

Regards,

Rodney"
Amazon EC2	"Wordpress folder gets deleted regularly from server
Recently, I migrated WordPress site to Amazon AWS. I am getting this weird problem where wp-amdin folder gets deleted regularly like in once a week. I recover this folder using my backup and the site is live again.
I have done couple of things after I migrated to Amazon AWS.
1. updated WordPress version to 4.2.2
2. turned on https for the site

I am not sure how this wp-admin folder gets deleted frequently. Is there any ways to monitor folder deletion activity?"
Amazon EC2	"instance i-3150823b unreachable and won't stop
instance all of a sudden failed its status checks, is unreachable and no last available monitoring showed anything out of the ordinary. won't stop. won't force-ably stop.
thanks!"
Amazon EC2	"Re: instance i-3150823b unreachable and won't stop
finally stopped after about 45m"
Amazon EC2	"Re: instance i-3150823b unreachable and won't stop
Hello,

I did check your instance and the physical host on which your instance was running previously. Unfortunately, the physical host on which your instance was running previously encountered an error due to which your instance got stuck in stopping state.

I did also check the current state of your instance and it look healthy.

Regards
Shiroy"
Amazon EC2	"Re: instance i-3150823b unreachable and won't stop
Yeah, looked good after it finally stopped. Thanks."
Amazon EC2	"i-5d31a39c  Status Reason: Instance became unhealthy while waiting
Hi,

A couple of days ago, while autoscaling is creating new instances, we started to experience the following situation [1] . 

Since some forum posts suggest that hitting some AWS limits may cause this problem, we tried to increase the desired instance number as high as 10 (normally our setup only ranges from 1 to 3) but we couldn't reproduce the same situation.

edit:
The interesting part is, almost always a successful scale up operation follows the ""Cancelled"" one. For example;


autoscaling decides to add 2 more instances, (going from 1 to 3)
it fires up two events to create new instances
one event creates 1 instance successfully
then the next one gets cancelled with the error message below [1]
after that another event creates 2nd instance successfully


Is there a way to get more information on this event and determine the true cause of this behavior?

Thank you.

[1]
    {
            ""Description"": ""Launching a new EC2 instance: i-5d31a39c.  Status Reason: Instance became unhealthy while waiting for instance to be in InService state. Termination Reason: Server.InternalError"",
            ""AutoScalingGroupName"": ""XXXXX-web-auto-scale-2015.03.16-1955"",
            ""ActivityId"": ""77d145cd-67bc-432c-938b-0623eaffa153"",
            ""Details"": ""{\""InvokingAlarms\"":[{\""Region\"":\""EU-Central-1\"",\""OldStateValue\"":\""INSUFFICIENT_DATA\"",\""AWSAccountId\"":\""XXX\"",\""AlarmName\"":\""awsec2-XXXXX-web-auto-scale-2015-03-16-1955-CPU-Utilization\"",\""AlarmDescription\"":null,
\""StateChangeTime\"":1435313735507,\""NewStateReason\"":\""Threshold Crossed: 1 datapoint (30.43) was greater than or equal to the threshold (25.0).\"",\""NewStateValue\"":\""ALARM\"",\""Trigger\"":{\""Period\"":60,\""Statistic\"":\""AVERAGE\"",\""MetricName\"":\""CPUUtilization\"",
\""Threshold\"":25,\""EvaluationPeriods\"":2,\""Dimensions\"":,
\""Availability Zone\"":\""eu-central-1b\"",\""Subnet ID\"":\""subnet-e21ff699\""}"",
            ""StartTime"": ""2015-06-26T10:15:58.111Z"",
            ""Progress"": 100,
            ""EndTime"": ""2015-06-26T10:21:00Z"",
            ""Cause"": ""At 2015-06-26T10:15:35Z a monitor alarm awsec2-XXXXX-web-auto-scale-2015-03-16-1955-CPU-Utilization in state ALARM triggered policy Increase Group Size changing the desired capacity from 1 to 3.  At 2015-06-26T10:15:56Z an instance
was started in response to a difference between desired and actual capacity, increasing the capacity from 1 to 3."",
            ""StatusMessage"": ""Instance became unhealthy while waiting for instance to be in InService state. Termination Reason: Server.InternalError"",
            ""StatusCode"": ""Cancelled""
    },

Edited by: vy_admin on Jul 2, 2015 5:11 AM

Edited by: vy_admin on Jul 3, 2015 5:56 AM"
Amazon EC2	"Re: i-5d31a39c  Status Reason: Instance became unhealthy while waiting
Hello,

Thank you for posing on AWS Forum,

I have just sent a private message to your account.

Regards,
Giorgio"
Amazon EC2	"Inability to start instances
Hello,

We're doing automated tests which could spin many instances at once. While this is permitted by our current limits, this doesn't always work as expected - more often than not, an instance (or more than one) refuses to start with ""Server.InternalError: Internal error on launch"". These instances might be of differing instance types, but they're all HVM instances booting off GP EBS volumes, in random eu-central-1 AZs. Any ideas why? Thanks in advance.

PS: Some instance IDs:

i-f6811237
i-ca881b0b
i-ce881b0f
i-d0881b11

Edited by: ciangelov on Jun 24, 2015 12:07 PM"
Amazon EC2	"Re: Inability to start instances
Hello ciangelov,

thank you for posting on AWS Forum.

We are investigating your issue, will update you as soon as possible.

Regards,
Giorgio"
Amazon EC2	"Instance reachability check failed on ec2
Hi Everyone,

I have upgraded my ec2 instance to m1.small yesterday. After restarting the server, I can't connect it any more and it shows 'Instance reachability check failed' and '1/2 checks passed in status. My instance is window server 2008 R2 and we use it as development server. How can I solve this problem? My ec2 InstanceID is ""i-dc0feb88"". Thanks for your help and I really appreciate it.

Thanks.

Best Regards,
Htike

Edited by: PoeHarp on Jun 4, 2013 9:11 PM

Edited by: PoeHarp on Jun 4, 2013 9:34 PM"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi,

My name is Allan

Unfortunately, I cannot look at what would be causing the issue while the instance is stopped.

Could you please start the instance, and let me know as soon as it is running, so that I can look into it?

Thanks and Regards,
Allan S"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Allan,

Thanks for your help. I have started the instance and it is running now. Hope to hear from you soon.

Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Htike, 

It looks like the instance is having issues with network connectivity. Is it possible that a static IP address was set on the interface by any chance, or some other network related change? 

(From the console output: 6/5/2013 5:39:12 PM: Waiting for meta-data accessibility...)

Kind regards,
Morgan"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Morgan,

We are using one elastic ip as static ip. Do we need to create another one and set it to the server? Our web application and web services are hosted in that server and all are bind with that ip. We really need to get it back. Thanks for your advice and we really appreciate it.

Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Morgan,

Finally, I know what happened to the instance. After we upgrade and reboot the server, the local private ip is changed and one of my colleague set old ip address in ipv4 setting. That is why the instance can't load properly. Is there any way to fix it? And, how can we get the fix private ip like elastic public ip because our database and some services are tied to local private ip. 

Thanks.

Best Regards,
Htike

Edited by: PoeHarp on Jun 5, 2013 6:46 PM"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hello,

You can detach the volume and attach it to another Windows 2k3 environment as the secondary volume. I say Win2k3 as anything newer will corrupt the boot partition. 

Then you can load the offline registry hive and make the changes to the registry key.

http://www.windowsreference.com/networking/dhcp-static-ip-settings-in-windows-registry/

Regards,

Matt J"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Matt,

Thanks for your advice. I am newbie to aws and please make it right if I am doing wrong.

(1)Launch the new 2k3 instance.
(2)Detach the crash volume from 2008 instance.
(3)Attach it as secondary to 2k3 instance.
(4)Start the 2k3 instance.
(5)Stop and detach the volume from 2k3.
(6)Attach back to 2008 instance.

Those are the all steps I need to do? Could you able tell me how can I attach the crash volume as secondary volume in 2k3 instance? 

Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Matt,

I created a new 2k3 instance and attach the crash volume as secondary and I launch the instance. The server is running fine and I shut down the instance and detach the volume. After that, I attach back to original 2k8 instance. But still have same problem when I launch it. How can I fix it? Any help would be appreciate.

Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Matt,

I created a new 2k3 instance and attach the crash volume as secondary and I launch the instance. The server is running fine and I shut down the instance and detach the volume. After that, I attach back to original 2k8 instance. But still have same problem when I launch it. How can I fix it? Any help would be appreciate.
Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hello Amazon, 

Please, can I have any update. It is really urgent for us. Any help would be appreciated.

Thanks.

Best Regards,
Htike"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi Htike, 

Sorry for the delay here. 

I think you may have missed one of the steps from my colleagues process: 
When you attach the root volume from the instance that is having issues to the new temporary instance, you will need to mount the registry from the defective instance. You may wish to consider taking a snapshot of the corrupted root volume in case anything happens during the steps below with the problem volume. 

More precise steps are listed below: 
1. Stop the problem instance. Detach the root volume and attach it to another working instance at xvdf.
2. Login to the other instance; Open up Disk Management (snap-in) and bring the disk online. The disk will now become accessible in Windows Explorer.
3. Launch REGEDIT.EXE, select HKEY_LOCAL_MACHINE.
4. Go to File menu, select Load Hiveâ€¦
5. Browse to this path: D:\Windows\System32\config (assuming the second disk has drive letter D)
6. Select the file SYSTEM (no file extension)
7. When prompted, enter a name (it doesnâ€™t matter what you call it): TEST
8. Go to this location in the registry: [HKEY_LOCAL_MACHINE\TEST\ControlSet001\Services\Tcpip\Parameters\Interfaces\
9. At this location, each network interface will be exposed as a GUID. Select the correct NIC. Usually this will have multiple registry keys including the key Enable DHCP
10. If DHCP was disabled and a static IP was assigned, the REG_DWORD registry key â€œEnableDHCPâ€ should be set to 0. Change its value to 1 to enable DHCP.
11. Click HKEY_LOCAL_MACHINE. Go to File, choose Unload Hiveâ€¦
12. Detach the drive, attach to the original instance and start that instance.

Hopefully this gets you back online. If you still have issues, feel free to post again. 

Kind regards, 
Morgan"
Amazon EC2	"Re: Instance reachability check failed on ec2
Hi ,

I have did the same procedure but still facing the same issue. Its windows server 2008 R2, when i restarted , status checks showing as instance rechability failed . I followed the same procudure still have the same issue."
Amazon EC2	"Re: Instance reachability check failed on ec2
Hello  logicmatter,

can you please post here your problematic instance-id ?

Regards,
Giorgio"
Amazon EC2	"Detach and cannot attach back on the same instance
I detached a EBS volume.  I tried to attached back but couldn't.  I get this message when I try attach back as same volume path.  The instance was stopped before I detached it.

Error attaching volume: Invalid value '/dev/sda1' for unixDevice. Attachment point /dev/sda1 is already in use

Other exception I get when I try to attach with different path

Error attaching volume: 'vol-44cbd24a' with Marketplace codes may not be attached as a secondary device.

Can any help me on this?

Edited by: retni on Apr 13, 2014 10:45 PM"
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hi retni,

I have located the EBS volume in our system and can see it is currently in an Available state, ready for attachment. 

In checking your account, I cannot identify any currently stopped instances you may have been attempting to attach the volume to. Could you please let me know the instance-id of the instance you were receiving this error from when attempting to attach the volume? 

Regards,

Alastair"
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hello, i have the same problem, you can check for me?

Instance: i-e365d49f
Volume: vol-eefd9d93

Error: ""Invalid value '/dev/sda1' for unixDevice. Attachment point /dev/sda1 is already in use."""
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hi,

It looks like that the instance was not in a stopped completely when you were trying to attach the volume.

Now, i can see that instance is in Stopped state.

The volume is also in Available state ready for attaching 
Would you be able to try attaching it now.

Please let us know if you still see the same error."
Amazon EC2	"Re: Detach and cannot attach back on the same instance
I tried to attach the disc again, but the same message appears. Is this normal?

Message: "" Error: ""Invalid value '/dev/sda1' for unixDevice.....""

Tks"
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hello,

I am sorry for the trouble you are experiencing.  I've reached out to our EC2 team to take a closer look at this instance and volume.  We will have an update as soon as possible.

Regards,

Matt R."
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hello,

Could you please try attaching the drive as ""/dev/sda""?

Regards,
Maxim S."
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Same issue here on a CentOS 6.5 x86_64 instance:

Try to re-attach the ORIGINAL root volume for an instance and receive this error:
'Error attaching volume: Invalid value '/dev/sda1' for unixDevice. Attachment point /dev/sda1 is already in use'

Attempt to re-attach the original volume using another mount point and receive this error upon launch:
'Instance does not have a volume attached at root (/dev/sda1)'"
Amazon EC2	"Re: Detach and cannot attach back on the same instance
Hello  acochenour,

Can you please post your instance-id and volume-id ?

Regards,
Giorgio"
Amazon EC2	"Error running instance from the api  invalid security group
I am using the aws api to run an instance and i have in my account only one default vpc for each region and there is a security group that clearly belong to that VPC

when i run the instance from the API  i get that the security id doesnt not exist in the default VPC.  the console clearly shows that it is is part of the VPC

this is the line of the security group as it pasted from the console

informate_security
sg-fff0e79a
orpix
vpc-b941c0dc
Orpix detection platform security group

But i get an error saying 

The security group 'sg-fff0e79a' does not exist in default VPC 'vpc-b941c0dc'

when i request a spot instance the same way it works well

any idea what we are doing wrong


fff0e79a&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2015-06-21T01%3A26%3A19Z&Version=2012-08-15 Signature: jYHaSXE2fMEKhpwCmdX69QZO2Dq1AX6JomnurIMP9s0=
2015-06-20 18:26:20,309 -  boto - DEBUG - <?xml version=""1.0"" encoding=""UTF-8""?>
<Response><Errors><Error><Code>InvalidGroup.NotFound</Code><Message>The security group 'sg-fff0e79a' does not exist in default VPC 'vpc-b941c0dc'</Message></Error></Errors><RequestID>3cc4afd5-d0e7-48ed-a065-023549d3f808</RequestID></Response>
2015-06-20 18:26:20,309 -  boto - ERROR - 400 Bad Request
2015-06-20 18:26:20,309 -  boto - ERROR - <?xml version=""1.0"" encoding=""UTF-8""?>
<Response><Errors><Error><Code>InvalidGroup.NotFound</Code><Message>The security group 'sg-fff0e79a' does not exist in default VPC 'vpc-b941c0dc'</Message></Error></Errors><RequestID>3cc4afd5-d0e7-48ed-a065-023549d3f808</RequestID></Response>
2015-06-20 18:26:20,325 -  root - INFO - orpix_scheduler.py:165 complete:Successful launch"
Amazon EC2	"Re: Error running instance from the api  invalid security group
Hello,

Can you specify how are you making the API Call ? Can you please post also the request-id?
Can you also please specify if you are using a SecurityGroupId.N or SecurityGroup.N parameters[1]?

[1] http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html

Regards,
Giorgio"
Amazon EC2	"Connecting Problems Wordpress on EC2
Hey,
http://52.28.14.62/wordpress/ loads fine on my desktop, but if i click on ""hello world post"" there are connection problems. On my Ipad and Iphone http://52.28.14.62/wordpress/ isnt loading. Whats happen here?

And here http://52.28.14.62/shop/ the server showing me the index of/ but it should show me the installation screen of my new shop (http://community.shopware.com/_detail_1351.html)

Anyone can help me? I am pretty new in root servers 

BG from Hamburg (Germany)"
Amazon EC2	"My server is unreachable after a reboot
Why is my server unreachable?

Mark"
Amazon EC2	"Re: My server is unreachable after a reboot
Hi Mark,

I can see my colleague Danny J. is helping you via Support Case 1435730811.  I will set this thread to resolved in the mean time.

Thank you for using AWS Support.

Kind Regards,
Anthony H."
Amazon EC2	"EC2 Instance Won't Reboot
AWS Support:

Our instance (i-f9984395) has gone away and we're unable to reboot it for some reason.  Have tried multiple times from the AWS console, but it doesn't seem to respond to reboot requests.  Is there anything you can do to force a reboot from your end?

Let me know if you need any other information.  Thank you.

MantisSeer"
Amazon EC2	"Re: EC2 Instance Won't Reboot
AWS Support:

Looks like it responded earlier to the reboot request, so please do not reboot.  Checking on things right now.

Thanks.

MantisSeer"
Amazon EC2	"Very poor EBS-Optimized performance of a 750GB SSD volume
I just ran a few crude benchmarks of an EC2 r3.xlarge instance with EBS-Optimized turned on and a 750GB SSD volume and got very poor performance. Are there any tricks either inside of the instance (running Ubuntu), or options with AWS to improve i/o performance without enabling provisioned iops on the volume?

The first benchmark was a simple:

    hdparm -tT /dev/xvdf

Only got around 50 MB/sec on average (5 runs).

I ran the benchmark on a Google compute instance with a 500GB volume and averaged 250 MB/sec.

I also ran the benchmark on a 16GB droplet on DigitalOcean and averaged 350 MB/sec.

Edited by: Justin Keller on Jul 2, 2015 11:42 PM"
Amazon EC2	"Re: Very poor EBS-Optimized performance of a 750GB SSD volume
I run a bunch of servers in a traditional hosting center where I use gigabit switches. 

Now in Amazon the network is much more capable, yet your assigned bandwidth is defined by which instance type you decided for. Here even a modest instance type gets 50% of gigabit speed, which I think is really nice. Your 50MB per second roughly translates to 500 mbps.
See also  http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html

Yes I would like better speeds as well, and my option is to select a bigger instance for that. 
Hope this helps."
Amazon EC2	"Re: Very poor EBS-Optimized performance of a 750GB SSD volume
Wow, that is crazy. I've never see that table before. Honestly, a 50MB/s cap is quite poor, seeing as Google instances get 5x performance and DigitalOcean is even faster than GCE.

It's not like this is a micro or small instance either (r3.xlarge)."
Amazon EC2	"Support request: Unwanted respawn of i-9759a549 / Can't terminate
Hi,

When I terminate (current instance ID) i-9759a549 it immediately respawns / restarts /  creates new instance.

I have also been charged for this, if that could be rolled back?

Thanks mate,

Edited by: msimonc on Jul 3, 2015 4:52 PM"
Amazon EC2	"Re: Support request: Unwanted respawn of i-9759a549 / Can't terminate
Hello msimonc,

I can see this instance has been created by the Amazon EC2 Container Service (ECS).  Please go to the ECS page in the console and remove the ""default"" container there and this should terminate the instance(s).

When you have successfully stopped the instance you can create an ""Account and Billing"" support case at the following link to have case for a refund reviewed: https://console.aws.amazon.com/support/. 

Please let me know if there's anything further I can do to assist.

Kind Regards,
Anthony H."
Amazon EC2	"Unable to ssh into newly created instance
Hello,

I am unable to ssh into my newly created Ubuntu 15.04 instance. I am sure the security group and key file are set up correctly. The other vm with different image but same security group and key file works fine. What could be wrong?

$ ssh -i ~/.ssh/Keypair.pem ubuntu@52.25.30.241 -vvv
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.25.30.241 http://52.25.30.241 port 22.
debug1: connect to address 52.25.30.241 port 22: Connection refused
ssh: connect to host 52.25.30.241 port 22: Connection refused

instance id is i-4211f18b. Thanks."
Amazon EC2	"Re: Unable to ssh into newly created instance
Silly question, the instance is in a subnet with a proper route to the Internet? Can you connect to it via its internal IP from another instance in VPC/EC2?"
Amazon EC2	"Re: Unable to ssh into newly created instance
Hello,

The message Connection refused indicates that there is no service listening on the port you are trying to connect to. This could be because, the ssh service is stopped on your instance or failed to start due to some issues. Did you make any modifications to your instance's ssh configuration or related files? I would recommend you to check your instance's logs to see if you are able to identify any errors related to ssh in your instance's log files.

Regards
Shiroy"
Amazon EC2	"Re: Unable to ssh into newly created instance
Your answer to my silly question isn't that smart either. As I said, I have another instance on the same security group. It is also on the same subnet and its ssh works perfectly fine. Thanks for your suggestions, but please treat people with respect."
Amazon EC2	"Re: Unable to ssh into newly created instance
Hi Shiroy,

I didn't change any configuration. The instance didn't work right after I created it from an AMI. Thanks for your hint. It turns out that the image has /etc/ssh/sshd_not_to_be_run, which disables sshd. After deleting that file, it works fine now. It is strange that an AMI would have sshd disabled from the outset. Hopefully this will help somebody else. Cheers."
Amazon EC2	"Re: Unable to ssh into newly created instance
Looks like you misunderstood... It's a turn of phrase which means: ""I presume you've checked x, y and z, so it would be silly of me to ask... But since you haven't declared anything that points to you checking x, y or z I will now ask the silly question..."""
Amazon EC2	"Re: Unable to ssh into newly created instance
I see. I did misunderstand you. I apologize."
Amazon EC2	"Unable to RDP - new instance (once succeeded)
Hi

I just started a new Windows Server 2008 R2 server yesterday. I was able to do RDP when I first set it up but now I am unable to do RDP any more

My instance ID is i-8c1fda72

I have checked my security settings and Inbound has ANYWHERE for RDP port 3389

What am I missing now? Could anyone please help?

Best regards
Amod"
Amazon EC2	"Re: Unable to RDP - new instance (once succeeded)
Hello,

I did check your instance i-8c1fda72, it's associated security group, network ACLs etc and they look fine for me.

Did you enable windows firewall on your instance or make any modifications to it? If so, can you please disable the windows firewall and give it a try. You can follow the steps mentioned in the following documentation to do this: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#rdp-issues

Regards
Shiroy"
Amazon EC2	"Re: Unable to RDP - new instance (once succeeded)
Bingo! This helps - thanks much !"
Amazon EC2	"cant access instance
So I have built a new instance and I can not log in our ping the resource ... there is a public IP and the only security group attached permits all tcp,all udp, all icmp .  I cannot access from inside or outside of firewall or online source there is NO public dns showing just public ip 

Ideas ?"
Amazon EC2	"Re: cant access instance
this is still an issue ... looks like the security group is okay ... I need this accessible"
Amazon EC2	"Re: cant access instance
Hello,

Thanks for posting. I see there are 3 instances under your account but only one is running. Would it be possible for you to provide the instance id of the instance you are having issues with? Also if the instance is in a stopped state this will greatly reduce the information we have access to, if possible please start the instance again.

Regards,
Brandon"
Amazon EC2	"Re: cant access instance
Hello... the instance is i-f6626409 (ticknor) I just fired it up again"
Amazon EC2	"Re: cant access instance
Hi,

I see that your instance's route table does not have an IGW -- please follow these directions to set one up: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway

Regards,

Scott"
Amazon EC2	"Kernel EXT4-fs error
Hi,

I have the follow errors frequently. How could I solve this?

Thanks

Best regards

Ricardo

Jun 23 09:09:02 ip-10-252-19-194 kernel: http://47696827.415701 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27677
Jun 23 09:09:02 ip-10-252-19-194 kernel: http://47696828.096292 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27661
Jun 23 09:09:02 ip-10-252-19-194 kernel: http://47696828.150945 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27658
Jun 23 09:09:02 ip-10-252-19-194 kernel: http://47696828.232429 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27667
Jun 23 09:09:02 ip-10-252-19-194 kernel: http://47696828.313891 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27741
Jun 23 09:09:05 ip-10-252-19-194 kernel: http://47696830.817801 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27672
Jun 23 09:09:05 ip-10-252-19-194 kernel: http://47696830.953350 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27663
Jun 23 09:09:05 ip-10-252-19-194 kernel: http://47696831.115361 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27675
Jun 23 09:09:05 ip-10-252-19-194 kernel: http://47696831.196743 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27752
Jun 23 09:09:05 ip-10-252-19-194 kernel: http://47696831.305164 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27664
Jun 23 09:09:06 ip-10-252-19-194 kernel: http://47696831.440308 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27665
Jun 23 09:09:06 ip-10-252-19-194 kernel: http://47696831.548870 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27754
Jun 23 09:09:06 ip-10-252-19-194 kernel: http://47696831.549729 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27666
Jun 23 09:09:06 ip-10-252-19-194 kernel: http://47696831.604641 EXT4-fs error (device xvda1): ext4_lookup:1047: inode #29866: comm find: deleted inode referenced: 27747"
Amazon EC2	"Re: Kernel EXT4-fs error
Hi,

This post addresses that issue: http://invalidlogic.com/2012/04/28/ubuntu-precise-on-xenserver-disk-errors/

Regards,

Scott"
Amazon EC2	"Unable to connect SSH to EC2 RHEL instance
Hi,

   I created two RHEL EC2 instance and tried to connect SSH from putty. It is throwing timeout error. I followed the steps in the below link.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html 

Below are the EC2 instance details:

Instances ID : i-26f484d9, i-db3d4c24
Availbility Zone : us-east-1a
Launch Time : June 3, 2015 at 2:07:46 PM UTC+5:30 (22 hours)   (Instance ID : i-db3d4c24)
                       June 4, 2015 at 11:55:17 AM UTC+5:30 (less than one hour) (Instance ID : i-26f484d9,)

Please reply asap. Please find attached .pem and .ppk files.

Edited by: Richard@AWS on Jun 5, 2015 3:48 PM
(REMOVED PRIVATE KEY ""AERP"")"
Amazon EC2	"Re: Unable to connect SSH to EC2 RHEL instance
Hi,

Firstly I would remove your attachments from this thread, you dont want people having access to the keys for this instance.

Secondly, can you answer the following questions:
1 - Are your instances in the default or your own VPC?
If in your own VPC:
2 - Confirm you have an Internet Gateway attached to your VPC
3 - Can you confirm you have a route in the subnet that your instance resides in pointing to 0.0.0.0/0 via IGW
4 - Can you confirm the Security Group that your instance is associated with has SSH open from the source you are trying to connect from
5 - Can you confirm you a public IP address of the instance and that you are using the right public IP address to try and connect
6 - Can you confirm the Network ACL for the subnet that your instance resides in allows SSH to pass through from your source location you are trying to connect from

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to connect SSH to EC2 RHEL instance
Hello,
Can you please start the instances so we can investigate this issue for you ?
Regards,
Baseer."
Amazon EC2	"Re: Unable to connect SSH to EC2 RHEL instance
Hi Baseer/Stooby,

I have recreated a new instance with following details but still no luck, even we tried from outside our company network , still throws Connection Time out Error from putty SSH.

Instance Name : AERPYuvi
Instance Id: i-309d45d9

The Instance is currently running...
Configuration Details:

1.  My  instance uses default VPC :  vpc-38f1ce5d 
2.  Internet Gateway attached to your VPC : igw-21addb44
3.  I have a route in the subnet that your instance resides in pointing to 0.0.0.0/0 via IGW
4.  I have security Group (ID:sg-61342205) that my instance is associated with has SSH open from   
     the source you are trying to connect from
5.  Public IP address of the instance  : 52.1.231.115
6.  Network ACL : acl-18c1fd7d"
Amazon EC2	"Re: Unable to connect SSH to EC2 RHEL instance
Hi,

I apologize for the delayed response on this. I see that the instance is stopped. Can you start it and let us know when it is ready? You can also include the output from adding the flag -vvv to your SSH command, so for instance: ssh -i your.pem user@host -vvv

Regards,

Scott"
Amazon EC2	"Snapshot of volume stuck at 99%
I've been trying to take a snapshot of vol-f209471c for a few days now and each time I try it, it gets stuck at 99%.
Here is the current pending snapshot stuck at 99%:
snap-9ef235d1

Why does this happen?"
Amazon EC2	"Re: Snapshot of volume stuck at 99%
After 2 days of waiting, snapshot still at 99%."
Amazon EC2	"Re: Snapshot of volume stuck at 99%
I'm still waiting to hear from an Amazonian about this.

Same snapshot still stuck at 99% after 6 days."
Amazon EC2	"Re: Snapshot of volume stuck at 99%
Hello,

I have engaged our EBS operations team to take a look into the issue that you reported.
We will update you as soon as we hear back from them.

Regards
Shiroy"
Amazon EC2	"Can't find the account related to our website
Hello,

We are having a technical problem with our Wordpress website www.thiswayglobal.com . We need to connect the hosting server via FTP to fix it, as soon as possible. 

The problem is : we can't find the account related to our website. On the phone, AWS has not been able to tell us which account it was linked to. We now have 2 AWS accounts, but none of them have instances running on it.

The website is pointing on 54.76.45.154  (EC2), we are sure it is hosted on AWS . 

Do you have any idea to solve the problem ? 

Thank you in advance!"
Amazon EC2	"Re: Can't find the account related to our website
Hello,

I have send you a private message. Please check that.

Regards
Shiroy"
Amazon EC2	"Blocking outbound port 138 UDP?
Hi!I have a Samba server doing domain authentication with winbind and ldap for windows hosts and when I send packets to port 138 to do a login via NetBIOS I can see traffic go into the server, but it never makes it back. Does Amazon block port 138 or other Netbios related ports? I am sure this port is open in my Amazon firewall. Any ideas? Thanks!Shaun"
Amazon EC2	"Re: Blocking outbound port 138 UDP?
I'm seeing the same issue.Â  I was writing up a long post about all the troubleshooting I've done to investigate this, but I lost it Anyway, I started up a new Windows m1.small instance yesterday and was not able to join it to a Samba 4 domain.Â  After lots of investigation I discovered that 68 UDP ports outbound were being blocked.Â  i.e. I could not send UDP traffic from the instance to various UDP ports on a machine on the Internet.Â  These ports include:6988135136389445686143314341812181320833799amongst others (some in the 9000-9100 range, 35300-35305, and some in the 38700-38800 range).The instance had NO software installed except for Wireshark and Python which I was using for troubleshooting this problem.Â  The Windows Firewall was not enabled and the Security Groups were set to allow all incoming traffic, but the problem was the outgoing UDP traffic.I then tried a similar test from an m1.large Windows+authentication instance that's been running for a while (i-9b2820f2) and that was able to send out UDP traffic on all UDP ports except for the following:691351361433143459254I can sort of understand port 69 (DHCP), and maybe ports 1433 and 1434 are blocked because of Slammer.Â  Port 135 might be because of one of the other Windows worms, But what about 136 and 59254?Â  Is this documented anywhere?Â  I haven't been able to find it if so.I then started up another m1.small instance (i-1cee0474) to test this problem.Â  This one could also not send UDP traffic on ports 88, 389, 1433 etc., but could on 87, 89, 388, 390, 1432 etc.I've just created a new m1.large Windows instance (i-6eff1506) and this one can also not send traffic on UDP ports 88 and 389 but can on other ports I've tried.I now have a theory that these ports are blocked for Windows non-auth instances and will test that theory later.If anyone else can point me to where this is documented or explain where I'm going wrong, I would appreciate it."
Amazon EC2	"Re: Blocking outbound port 138 UDP?
from http://developer.amazonwebservices.com/connect/entry.jspa?externalID=1764<h2>Usage Restrictions for Windows Instances</h2>The default Windows instances are not allowed to use Authentication Services such as LDAP or Kerberos.Â  These usage-restrictions are enforced via egress filtering (blocking) of outbound authentication requests.Â  The egress filter will have no impact upon normal and compliant use.Â  If you need Authentication services, we also provide Windows with Authentication Services.Â  Most customers will likely just need the default Windows instances."
Amazon EC2	"Re: Blocking outbound port 138 UDP?
Ah, thanks for the info.That's unfortunate.Â  What if you want to use LDAP for something other than authentication?"
Amazon EC2	"Re: Blocking outbound port 138 UDP?
You could run it on a different port, tunnel it over a VPN, or run an instance with authentication services.Â  Those are your only option since the blocking of those ports is dictated by Microsoft and they are not going to change their policy for you."
Amazon EC2	"Re: Blocking outbound port 138 UDP?
<span class=""jive-quoteheader"">allen03 wrote:</span><div class=""jive-quote"">[...] the blocking of those ports is dictated by Microsoft and they are not going to change their policy for you.</div>:)Â  I wasn't suggesting or expecting them to change any policy for me.Thanks again for your answer."
Amazon EC2	"Re: Blocking outbound port 138 UDP?
Hi ,
My program(Novell eDirectory) on linux binds and listens on 389, but this bind is failing on AWS suse virtual machine with error ""port 389 out of range"" . Can I know 389 is out of range ?"
Amazon EC2	"CouchDB installation | Problem with dependency 'autoconf-archive'
Hi, 

i am desperately trying to install CouchDB on my Amazon EC2 instance.
Right now i am struggeling installing the 'autoconf-archive' via EPEL.
EPEL is activated by setting enabled=1 like many resources suggest.
'yum repolist all' shows me the following active repos:

epel/x86_64


When i install 'autoconf-archive' via 'sudo yum install autoconf-archive'
i always get the message that the package is not available.

What exatcly am i doing wrong here?
Anybody an idea?"
Amazon EC2	"Re: CouchDB installation | Problem with dependency 'autoconf-archive'
Hello,

I was able to see 'autoconf-archive' when enabling epel and epel-source on epel-release-6-8.9.amzn1. 

If this still does not allow you to install 'autoconf-archive' I was able to install couchdb by using the steps below:

Installing Packages:
sudo yum -y update
sudo yum -y groupinstall ""Development Tools""
sudo yum -y install libicu-devel curl-devel ncurses-devel libtool libxslt fop java-1.6.0-openjdk java-1.6.0-openjdk-devel unixODBC unixODBC-devel openssl-devel

Erlang:
wget http://www.erlang.org/download/otp_src_R16B02.tar.gz
tar -xvf otp_src_R16B02.tar.gz
cd otp_src_R16B02
./configure
make
sudo make install

SM JS Engine:
wget http://ftp.mozilla.org/pub/mozilla.org/js/js185-1.0.0.tar.gz
tar -xvf js185-1.0.0.tar.gz
cd js-1.8.5/js/src/
./configure
make
sudo make install

CouchDB:
wget http://apache.osuosl.org/couchdb/source/1.6.1/apache-couchdb-1.6.1.tar.gz
tar -xvf apache-couchdb-1.6.1.tar.gz
cd apache-couchdb-1.6.1

sudo find / -name erl_driver.h
./configure --with-erlang=/usr/lib64/erlang/usr/include/
make
sudo make install

sudo adduser --no-create-home couchdb
sudo chown -R couchdb:couchdb /usr/local/var/lib/couchdb /usr/local/var/log/couchdb /usr/local/var/run/couchdb
sudo ln -sf /usr/local/etc/rc.d/couchdb /etc/init.d/couchdb
chkconfig --add couchdb

--> If you would like to change the listening address:
sudo vi /usr/local/etc/couchdb/local.ini

httpd
port = 5984
bind_address = 0.0.0.0

sudo service couchdb restart

Test:
curl http://127.0.0.1:5984

Please let us know if you have any questions."
Amazon EC2	"R-3.2 package request for AWS AMI
Hi, I'm trying to provision an Apache Spark cluster with the most recent version of R (3.2, not 3.1). The standard version that is given won't allow for recent versions of ggplot2, reshape2 (and other packages that are nice to have in RStudio). I am having trouble installing it, even through other rpms. Is it possible to have the new version be available in your packaging index? 

Here is a stackoverflow with more details: 
http://stackoverflow.com/questions/31180061/r-3-2-on-aws-ami

And the JIRA for apache spark, which would also like to see this feature:
https://issues.apache.org/jira/browse/SPARK-8684?jql=text%20~%20%22Rstudio%22"
Amazon EC2	"How to protect my ec2 instance?
I have some ec2 instances under our partner's aws account. they don't have ssh permission to these instances. Now we need to save some security data in these ec2 instances, and we don't want our partner to access these data files. But you know, maybe they can do it like this: create AMI from these ec2 instances, and launch new ec2 instance from this AMI with a new key, then they have ssh permission on this instance and can access everything. So, the question is : How can I protect my ec2 instance from this? Is it possible?

Thx!
Nicolas"
Amazon EC2	"Re: How to protect my ec2 instance?
Try it.

If you have created an image of an instance and then launched it with a new key, it likely won't work because the instance was created using a different key. 

I don't play around too much with Linux instances, being a Windows kinda guy, but it uses the keypair to create the secure key for you to ssh to it using a cert when you launch it from the Amazon AMI. When you image that instance it is a straight copy, so it does not try to generate the secure key or certificate as it already exists.

So try to launch a copy of one of your Linux instances using a different key. You will likely see that it will not allow you to log on using the ""new"" key cert, but you can log on using the ""old"" cert. But like I say, not a Linux guy so there is a (slight) chance it will go horribly wrong"
Amazon EC2	"Malware on Windows 2008 R2 + Unable to update Windows
Hi

I have an instance i-8c1fda72 which I think is corrupted with some coupons malware. 

I am unable to remove this malware. Is there any software which I can use for Windows Server 2008 to detect and clean the files from virus/malware?

Secondly when I start to update the windows, svchost.exe starts to chew up both CPU and memory. and the update remains in ""Checking for updates"" and never moves forward?

I am not sure what to do besides thinking about terminating this instance.

Please help 

Thanks and regards
Amod"
Amazon EC2	"Instance i-0309b6d0 Unreachable
We cannot access instance i-0309b6d0. We had everything running a few hours ago, stopped it to make a snapshot, and tried to restart it. It passes the 2/2 health checks and the last lines of the log say:

Serious errors were found while checking the disk drive for /<drive_name>.
keys:Press I to ignore, S to skip mounting, or M for manual recovery

Yesterday, we had tried updating Ubuntu on a different instance and it was unreachable afterward. Thinking it was an issue with the update, we created this new instance. Are these problems related?

Thanks for the help!"
Amazon EC2	"Re: Instance i-0309b6d0 Unreachable
Hello mlp-lab,

I'm sorry to see you're having problems with your instance.

The only way around this issue is to...
1. stop the instance, 
2. detach the root volume,
3. attach it to a working instance,
4. mount the volume,
5. edit the etc/fstab to remove all secondary volumes,
6. unmount the volume,
7. detach and return the volume to the original instance, and
8. start the instance.

You can then mount the filesystems manually and perform filesystem checks where necessary.

If you need further assistance please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"instance won't stop
My instance - i-db8e82a7 won't stop. Any suggestions? 
Thanks,"
Amazon EC2	"Re: instance won't stop
Hello barells,

From what I can see your instance was recently stopped and successfully started again.  Please let me know if that's not the case and I will look into it further for you.

Kind Regards,
Anthony H."
Amazon EC2	"Stuck Instance
I have an instance i-e5271412 which is stuck in stopping status. I have tried stop multiple time and terminate and have waited a good period of time.

Please terminate i-e5271412"
Amazon EC2	"Re: Stuck Instance
Hello,

Thank you for the post.

I took a look at the instance: i-e5271412 and I can see that the instance is terminated. 

For further reference, you can find more information about ""Troubleshooting Stopping Your Instances"" on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

If you have any further questions please let us know.

Thank you,
Nikhil"
Amazon EC2	"Dependency issue with php while trying to install php-mbstring
Hi, I am trying to install yii2 on my Amazon Linux AMI instance, it requires php-mbstring extension to work. When I tried to run sudo yum install php-mbstring it returned this error:

Loaded plugins: priorities, update-motd, upgrade-helper
amzn-main/latest                                         | 2.1 kB     00:00
amzn-updates/latest                                      | 2.3 kB     00:00
2494 packages excluded due to repository priority protections
Resolving Dependencies
--> Running transaction check
---> Package php-mbstring.x86_64 0:5.3.29-1.8.amzn1 will be installed
--> Processing Dependency: php-common(x86-64) = 5.3.29-1.8.amzn1 for package: php-mbstring-5.3.29-1.8.amzn1.x86_64
--> Running transaction check
---> Package php-common.x86_64 0:5.3.29-1.8.amzn1 will be installed
--> Processing Conflict: php56-common-5.6.9-1.112.amzn1.x86_64 conflicts php-common < 5.5.22-1.98
--> Finished Dependency Resolution
Error: php56-common conflicts with php-common-5.3.29-1.8.amzn1.x86_64
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest


Thanks for your time in advance"
Amazon EC2	"Re: Dependency issue with php while trying to install php-mbstring
In the Amazon Linux AMI, when installing php binary extensions, the version of that extension package has to match the version of php installed. In your case it appears you have php56 installed. To install the matching mbstring extension package for php56 run:

sudo yum  install php56-mbstring


If you have further questions about php packages on Amazon Linux please let know, and thanks for using the Amazon Linux AMI.
-Heath"
Amazon EC2	"Restoring lost Elastic IP
It seems like a recent outage caused a loss of Elastic IP.  Now, we have this IP associated with root servers with our domain name.  Is it possible for AWS to restore back the elastic IP to our account ?

Thanks!
Mohan"
Amazon EC2	"Re: Restoring lost Elastic IP
Hello,

Thank you for the post.

If the Elastic IP address was ""released"" from your AWS account, unfortunately, we can't restore it back. However, if the Elastic IP address was ""disassociated"" from an EC2 instance running under your account, then you can find it on ""Elastic IPs"" page under ""Network & Security"" in the navigation pane from the AWS Management Console.

More information about ""Working with Elastic IP addresses"" can be found on this documentation: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#working-with-eips

I hope the above information helps.

Thank you,
Nikhil"
Amazon EC2	"Amazon EC2 m3.large slow
Hi,

My instance id is i-e48e1dda and suddenly from 7/1 00:00, the CPU utilization has gone very high.

It was less than 15% before that and there is no spike in the traffic so not sure what is causing it. It seems like some of the resource has been taken off but not sure.

top - 16:41:10 up 43 days, 23:05,  1 user,  load average: 0.94, 0.97, 0.73
Tasks: 160 total,   2 running, 158 sleeping,   0 stopped,   0 zombie
Cpu(s): 11.8%us,  4.5%sy,  0.0%ni, 83.5%id,  0.1%wa,  0.0%hi,  0.0%si,  0.1%st
Mem:   7646264k total,  7269616k used,   376648k free,   746660k buffers
Swap:        0k total,        0k used,        0k free,  5313744k cached

Can you plz help me find the problems?

Regards,

Don.

Edited by: donnyc6 on Jul 1, 2015 10:07 PM"
Amazon EC2	"Re: Amazon EC2 m3.large slow
Hello,

Cloudwatch metrics show that your instance CPU utilization is occasionally spiking to 100%. Determine which processes are consuming the most CPU to find the root cause.

Regards,
RonnieN"
Amazon EC2	"Re: Amazon EC2 m3.large slow
I've restarted the webserver and now it seems normal."
Amazon EC2	"Newly launched instances sometimes, inconsistently unreachable
I have a VPC with a bunch of running instances in it. As of a couple days ago, when I launch new instances, they are sometimes unreachable.

I have one instance currently suffering this that I have left running: i-5a7d9af2  it was launched at the same time as and configured nearly identically to another instance that is working fine: i-297d9a81

So here are the facts:
0. Instance says ""1/2 checks passed"" and the logs show failure to connect to its private interface on 169.254.169.254
1. The subnet I am launching into has currently running instances that have no problem.
2. When I launch either a stock Ubuntu 14.04 HVM ami (ami-d05e75b8) OR a freshly-created image of one of my other running instances, and it will sometimes work, and sometimes not.
3. I can launch three identically-provisioned instances using Ansible, and sometimes one or two out of the three will be unreachable, while the others are OK.
4. I have tried switching to a completely permissive security group, doesn't matter.
5. My Ansible playbooks were working fine, and then one day this started happening.

I am really at a loss here as to what's going on. 

Here is the system log from one of the failing instances (please note near the bottom it fails to connect to itself on its private interface):

http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.13.0-48-generic (buildd@orlo) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015 (Ubuntu 3.13.0-48.80-generic 3.13.11-ckt16)
http://    0.000000 Command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=d4f2aafc-946a-4514-930d-4c45e676f198 ro console=tty1 console=ttyS0
http://    0.000000 KERNEL supported cpus:
http://    0.000000   Intel GenuineIntel
http://    0.000000   AMD AuthenticAMD
http://    0.000000   Centaur CentaurHauls
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x00000000efffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000100000000-0x000000020fffffff usable
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x210000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 e820: last_pfn = 0xf0000 max_arch_pfn = 0x400000000
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 Scanning 1 areas for low memory corruption
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x20fe00000-0x20fffffff
http://    0.000000 init_memory_mapping: mem 0x20c000000-0x20fdfffff
http://    0.000000 init_memory_mapping: mem 0x200000000-0x20bffffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0xefffffff
http://    0.000000 init_memory_mapping: mem 0x100000000-0x1ffffffff
http://    0.000000 RAMDISK: mem 0x37214000-0x37901fff
http://    0.000000 ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f5a0 000054 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 000040
http://    0.000000 ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f4b0 000038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f4f0 000028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f520 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f560 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000020fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x20fffffff
http://    0.000000   NODE_DATA mem 0x20fff6000-0x20fffafff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   mem 0x100000000-0x20fffffff
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0xefffffff
http://    0.000000   node   0: mem 0x100000000-0x20fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x01 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 13 hotplug CPUs
http://    0.000000 PM: Registered nosave memory: mem 0x0009e000-0x0009ffff
http://    0.000000 PM: Registered nosave memory: mem 0x000a0000-0x000dffff
http://    0.000000 PM: Registered nosave memory: mem 0x000e0000-0x000fffff
http://    0.000000 PM: Registered nosave memory: mem 0xf0000000-0xfbffffff
http://    0.000000 PM: Registered nosave memory: mem 0xfc000000-0xffffffff
http://    0.000000 e820: mem 0xf0000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 28 pages/cpu @ffff88020fc00000 s82368 r8192 d24128 u131072
http://    0.000000 Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 2064264
http://    0.000000 Policy zone: Normal
http://    0.000000 Kernel command line: BOOT_IMAGE=/boot/vmlinuz-3.13.0-48-generic root=UUID=d4f2aafc-946a-4514-930d-4c45e676f198 ro console=tty1 console=ttyS0
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 Checking aperture...
http://    0.000000 No AGP bridge found
http://    0.000000 Memory: 8165652K/8388212K available (7385K kernel code, 1145K rwdata, 3408K rodata, 1336K init, 1444K bss, 222560K reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000  RCU dyntick-idle grace-period acceleration is enabled.
http://    0.000000  RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=15.
http://    0.000000  Offload RCU callbacks from all CPUs
http://    0.000000  Offload RCU callbacks from CPUs: 0-14.
http://    0.000000 NR_IRQS:16640 nr_irqs:1208 16
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console tty1 enabled
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 33554432 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2394.522 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 4789.04 BogoMIPS (lpj=9578088)
http://    0.009877 pid_max: default: 32768 minimum: 301
http://    0.012033 Security Framework initialized
http://    0.016021 AppArmor: AppArmor initialized
http://    0.018476 Yama: becoming mindful.
http://    0.020480 Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes)
http://    0.025332 Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes)
http://    0.028566 Mount-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://    0.032010 Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes)
http://    0.036199 Initializing cgroup subsys memory
http://    0.040007 Initializing cgroup subsys devices
http://    0.044002 Initializing cgroup subsys freezer
http://    0.048002 Initializing cgroup subsys blkio
http://    0.050656 Initializing cgroup subsys perf_event
http://    0.052003 Initializing cgroup subsys hugetlb
http://    0.056048 CPU: Physical Processor ID: 0
http://    0.060171 mce: CPU supports 2 MCE banks
http://    0.063095 Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
http://    0.063095 Last level dTLB entries: 4KB 64, 2MB 0, 4MB 0
http://    0.063095 tlb_flushall_shift: 6
http://    0.072219 Freeing SMP alternatives memory: 32K (ffffffff81e6e000 - ffffffff81e76000)
http://    0.080312 ACPI: Core revision 20131115
http://    0.086570 ACPI: All ACPI Tables successfully acquired
http://    0.091125 ftrace: allocating 28562 entries in 112 pages
http://    0.117318 Switched APIC routing to physical flat.
http://    0.124319 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.169172 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz (fam: 06, model: 3f, stepping: 02)
http://    0.174802 installing Xen timer for CPU 0
http://    0.176060 cpu 0 spinlock event irq 69
http://    0.182892 Performance Events: unsupported p6 CPU model 63 no PMU driver, software events only.
http://    0.189361 NMI watchdog: disabled (cpu0): hardware events not enabled
http://    0.192055 installing Xen timer for CPU 1
http://    0.194750 x86: Booting SMP configuration:
http://    0.196005 .... node  #0, CPUs:        #1cpu 1 spinlock event irq 75
http://    0.213884 x86: Booted up 1 node, 2 CPUs
http://    0.216005 smpboot: Total of 2 processors activated (9578.08 BogoMIPS)
http://    0.220122 devtmpfs: initialized
http://    0.221620 EVM: security.selinux
http://    0.223797 EVM: security.SMACK64
http://    0.228004 EVM: security.ima
http://    0.229993 EVM: security.capability
http://    0.232624 pinctrl core: initialized pinctrl subsystem
http://    0.235757 regulator-dummy: no parameters
http://    0.240028 RTC time: 18:18:41, date: 07/02/15
http://    0.242798 NET: Registered protocol family 16
http://    0.244082 cpuidle: using governor ladder
http://    0.246607 cpuidle: using governor menu
http://    0.248032 ACPI: bus type PCI registered
http://    0.250482 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.256261 PCI: Using configuration type 1 for base access
http://    0.260084 bio: create slab <bio-0> at 0
http://    0.262522 ACPI: Added _OSI(Module Device)
http://    0.264004 ACPI: Added _OSI(Processor Device)
http://    0.266707 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.268004 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.275629 ACPI: Interpreter enabled
http://    0.280007 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20131115/hwxface-580)
http://    0.285728 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20131115/hwxface-580)
http://    0.293686 ACPI: (supports S0 S3 S4 S5)
http://    0.296003 ACPI: Using IOAPIC for interrupt routing
http://    0.298958 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.320378 ACPI: No dock devices found.
http://    0.360024 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.363456 acpi PNP0A03:00: _OSC: OS supports ASPM ClockPM Segments MSI
http://    0.364010 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.367789 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.368746 acpiphp: Slot [0] registered
http://    0.371942 acpiphp: Slot [3] registered
http://    0.372267 acpiphp: Slot [4] registered
http://    0.374899 acpiphp: Slot [5] registered
http://    0.376265 acpiphp: Slot [6] registered
http://    0.378950 acpiphp: Slot [7] registered
http://    0.380251 acpiphp: Slot [8] registered
http://    0.382953 acpiphp: Slot [9] registered
http://    0.384261 acpiphp: Slot 10 registered
http://    0.386969 acpiphp: Slot 11 registered
http://    0.388271 acpiphp: Slot 12 registered
http://    0.391045 acpiphp: Slot 13 registered
http://    0.392247 acpiphp: Slot 14 registered
http://    0.394913 acpiphp: Slot 15 registered
http://    0.396264 acpiphp: Slot 16 registered
http://    0.399051 acpiphp: Slot 17 registered
http://    0.400264 acpiphp: Slot 18 registered
http://    0.403015 acpiphp: Slot 19 registered
http://    0.404263 acpiphp: Slot 20 registered
http://    0.406983 acpiphp: Slot 21 registered
http://    0.408249 acpiphp: Slot 22 registered
http://    0.410966 acpiphp: Slot 23 registered
http://    0.412281 acpiphp: Slot 24 registered
http://    0.414989 acpiphp: Slot 25 registered
http://    0.416270 acpiphp: Slot 26 registered
http://    0.418957 acpiphp: Slot 27 registered
http://    0.420253 acpiphp: Slot 28 registered
http://    0.422957 acpiphp: Slot 29 registered
http://    0.424255 acpiphp: Slot 30 registered
http://    0.426954 acpiphp: Slot 31 registered
http://    0.428248 PCI host bridge to bus 0000:00
http://    0.430752 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.432005 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.435487 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.436004 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.439731 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.445456 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.445456 * this clock source is slow. Consider trying other clock sources
http://    0.449074 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.460744 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.465763 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.470774 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.474733 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.493156 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.496127 xen:balloon: Initialising balloon driver
http://    0.500029 xen_balloon: Initialising balloon driver
http://    0.504091 vgaarb: setting as boot device: PCI:0000:00:02.0
http://    0.507337 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.512006 vgaarb: loaded
http://    0.513879 vgaarb: bridge control possible 0000:00:02.0
http://    0.516156 SCSI subsystem initialized
http://    0.520005 init_memory_mapping: mem 0x210000000-0x217ffffff
http://    0.524005 ACPI: bus type USB registered
http://    0.524005 usbcore: registered new interface driver usbfs
http://    0.528011 usbcore: registered new interface driver hub
http://    0.532017 usbcore: registered new device driver usb
http://    0.536029 PCI: Using ACPI for IRQ routing
http://    0.539028 NetLabel: Initializing
http://    0.540005 NetLabel:  domain hash size = 128
http://    0.542599 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.544014 NetLabel:  unlabeled traffic allowed by default
http://    0.547152 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.548016 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.552004 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.557026 Switched to clocksource xen
http://    0.562596 AppArmor: AppArmor Filesystem Enabled
http://    0.565380 pnp: PnP ACPI init
http://    0.567426 ACPI: bus type PNP registered
http://    0.569951 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.573796 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.577134 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.580467 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.583998 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.587362 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.604754 pnp: PnP ACPI: found 11 devices
http://    0.607345 ACPI: bus type PNP unregistered
http://    0.617158 NET: Registered protocol family 2
http://    0.619937 TCP established hash table entries: 65536 (order: 7, 524288 bytes)
http://    0.624255 TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
http://    0.627985 TCP: Hash tables configured (established 65536 bind 65536)
http://    0.631577 TCP: reno registered
http://    0.633684 UDP hash table entries: 4096 (order: 5, 131072 bytes)
http://    0.637140 UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes)
http://    0.640849 NET: Registered protocol family 1
http://    0.643489 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.646863 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.650447 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.654501 Trying to unpack rootfs image as initramfs...
http://    0.758349 Freeing initrd memory: 7096K (ffff880037214000 - ffff880037902000)
http://    0.762855 PCI-DMA: Using software bounce buffering for IO (SWIOTLB)
http://    0.766490 software IO TLB mem 0xec000000-0xf0000000 (64MB) mapped at ffff8800ec000000-ffff8800efffffff
http://    0.772571 microcode: CPU0 sig=0x306f2, pf=0x1, revision=0x25
http://    0.776263 microcode: CPU1 sig=0x306f2, pf=0x1, revision=0x25
http://    0.779703 microcode: Microcode Update Driver: v2.00 <tigran@aivazian.fsnet.co.uk>, Peter Oruba
http://    0.784754 Scanning for low memory corruption every 60 seconds
http://    0.788486 Initialise system trusted keyring
http://    0.792638 audit: initializing netlink socket (disabled)
http://    0.797969 type=2000 audit(1435861121.578:1): initialized
http://    0.824872 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.830229 zbud: loaded
http://    0.832560 VFS: Disk quotas dquot_6.5.2
http://    0.835485 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.840180 fuse init (API version 7.22)
http://    0.843249 msgmni has been set to 15962
http://    0.846189 Key type big_key registered
http://    0.849668 Key type asymmetric registered
http://    0.852756 Asymmetric key parser 'x509' registered
http://    0.856456 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
http://    0.861747 io scheduler noop registered
http://    0.864712 io scheduler deadline registered (default)
http://    0.868323 io scheduler cfq registered
http://    0.871268 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.875207 pciehp: PCI Express Hot Plug Controller Driver version: 0.4
http://    0.879778 ipmi message handler version 39.2
http://    0.883079 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
http://    0.888340 ACPI: Power Button PWRF
http://    0.891141 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input1
http://    0.896349 ACPI: Sleep Button SLPF
http://    0.899342 GHES: HEST is not enabled!
http://    0.902658 xen:grant_table: Grant tables using version 1 layout
http://    0.906889 Grant table initialized
http://    0.910025 Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
http://    0.942023 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.959141 Linux agpgart interface v0.103
http://    0.963000 brd: module loaded
http://    0.965800 loop: module loaded
http://    0.972893 scsi0 : ata_piix
http://    0.975822 scsi1 : ata_piix
http://    0.978646 ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc100 irq 14
http://    0.981436 blkfront: xvda: barrier or flush: disabled; persistent grants: enabled; indirect descriptors: enabled;
http://    0.989746 ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc108 irq 15
http://    0.990026  xvda: xvda1
http://    0.996424 libphy: Fixed MDIO Bus: probed
http://    0.999215 tun: Universal TUN/TAP device driver, 1.6
http://    1.002334 tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
http://    1.005852 PPP generic driver version 2.4.2
http://    1.008461 xen_netfront: Initialising Xen virtual ethernet driver
http://    1.011914 ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
http://    1.015581 ehci-pci: EHCI PCI platform driver
http://    1.018307 ehci-platform: EHCI generic platform driver
http://    1.021333 ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
http://    1.024869 ohci-pci: OHCI PCI platform driver
http://    1.027501 ohci-platform: OHCI generic platform driver
http://    1.030561 uhci_hcd: USB Universal Host Controller Interface driver
http://    1.034167 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    1.040352 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    1.043217 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    1.046350 mousedev: PS/2 mouse device common for all mice
http://    1.050172 rtc_cmos 00:04: rtc core: registered rtc_cmos as rtc0
http://    1.053717 rtc_cmos 00:04: alarms up to one day, 114 bytes nvram, hpet irqs
http://    1.057767 device-mapper: uevent: version 1.0.3
http://    1.057778 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input2
http://    1.065604 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://    1.070622 ledtrig-cpu: registered to indicate activity on CPUs
http://    1.074156 TCP: cubic registered
http://    1.076402 NET: Registered protocol family 10
http://    1.080019 NET: Registered protocol family 17
http://    1.082719 Key type dns_resolver registered
http://    1.085615 Loading compiled-in X.509 certificates
http://    1.089130 Loaded X.509 cert 'Magrathea: Glacier signing key: 4eb2de249917cbf39cb85692e54cebade594d680'
http://    1.094480 registered taskstats version 1
http://    1.098695 Key type trusted registered
http://    1.103637 Key type encrypted registered
http://    1.106198 AppArmor: AppArmor sha1 policy hashing enabled
http://    1.109393 IMA: No TPM chip found, activating TPM-bypass!
http://    1.112840 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    1.116512 xenbus_probe_frontend: Device with no driver: device/pci/0
http://    1.120200 regulator-dummy: disabling
http://    1.122641   Magic number: 7:336:341
http://    1.125026 rtc_cmos 00:04: setting system clock to 2015-07-02 18:18:41 UTC (1435861121)
http://    1.129812 BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
http://    1.133262 EDD information not available.
http://    1.153944 Freeing unused kernel memory: 1336K (ffffffff81d20000 - ffffffff81e6e000)
http://    1.158547 Write protecting the kernel read-only data: 12288k
http://    1.163572 Freeing unused kernel memory: 796K (ffff880001739000 - ffff880001800000)
http://    1.169444 Freeing unused kernel memory: 688K (ffff880001b54000 - ffff880001c00000)
Loading, please wait...
http://    1.185181 systemd-udevd133: starting version 204
http://    1.202500 ixgbevf: Intel(R) 10 Gigabit PCI Express Virtual Function Network Driver - version 2.11.3-k
http://    1.209840 ixgbevf: Copyright (c) 2009 - 2012 Intel Corporation.
http://    1.241897 FDC 0 is a S82078B
http://    1.772085 tsc: Refined TSC clocksource calibration: 2394.453 MHz
http://    2.255593 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
Begin: Loading essential drivers ... done.
Begin: Running /scripts/init-premount ... done.
Begin: Mounting root file system ... Begin: Running /scripts/local-top ... done.
Begin: Running /scripts/local-premount ... done.
http://    2.724526 EXT4-fs (xvda1): INFO: recovery required on readonly filesystem
http://    2.728737 EXT4-fs (xvda1): write access will be enabled during recovery
http://    2.940125 EXT4-fs (xvda1): recovery complete
http://    2.944703 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
Begin: Running /scripts/local-bottom ... done.
done.
Begin: Running /scripts/init-bottom ... done.
http://    3.095755 random: init urandom read with 92 bits of entropy available
 * Stopping Send an event to indicate plymouth is up[74G OK 
 * Starting Mount filesystems on boot[74G OK 
 * Starting Populate and link to /run filesystem[74G OK 
 * Stopping Populate and link to /run filesystem[74G OK 
http://    3.243756 EXT4-fs (xvda1): re-mounted. Opts: discard
 * Starting Initialize or finalize resolvconf[74G OK 
 * Stopping Track if upstart is running in a container[74G OK 
 * Starting Signal sysvinit that the rootfs is mounted[74G OK 
 * Starting Clean /tmp directory[74G OK 
 * Stopping Clean /tmp directory[74G OK 
http://    3.442787 random: nonblocking pool is initialized
Cloud-init v. 0.7.5 running 'init-local' at Thu, 02 Jul 2015 18:18:44 +0000. Up 3.66 seconds.
cloud-init-nonethttp://3.83: waiting 10 seconds for network device
 * Starting set console keymap[74G OK 
 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 
 * Starting Signal sysvinit that virtual filesystems are mounted[74G OK 
 * Starting Bridge udev events into upstart[74G OK 
 * Stopping set console keymap[74G OK 
 * Starting Signal sysvinit that remote filesystems are mounted[74G OK 
 * Starting device node and kernel event manager[74G OK 
 * Starting load modules from /etc/modules[74G OK 
 * Starting cold plug devices[74G OK 
 * Starting log initial device creation[74G OK 
 * Stopping load modules from /etc/modules[74G OK 
 * Starting Uncomplicated firewall[74G OK 
 * Starting configure network device security[74G OK 
 * Starting configure network device security[74G OK 
 * Starting Mount network filesystems[74G OK 
 * Stopping Mount network filesystems[74G OK 
cloud-init-nonethttp://5.06: static networking is now up
 * Starting configure network device[74G OK 
 * Starting set sysctls from /etc/sysctl.conf[74G OK 
 * Starting configure network device[74G OK 
 * Stopping set sysctls from /etc/sysctl.conf[74G OK 
 * Starting Bridge socket events into upstart[74G OK 
Cloud-init v. 0.7.5 running 'init' at Thu, 02 Jul 2015 18:18:45 +0000. Up 5.35 seconds.
ci-info: +++++++++++++++++++++++++++Net device info++++++++++++++++++++++++++++
ci-info: +--------+------+--------------+-----------------+-------------------+
ci-info: | Device |  Up  |   Address    |       Mask      |     Hw-Address    |
ci-info: +--------+------+--------------+-----------------+-------------------+
ci-info: |   lo   | True |  127.0.0.1   |    255.0.0.0    |         .         |
ci-info: |  eth0  | True | 10.140.1.123 | 255.255.255.128 | 12:57:a4:a6:92:af |
ci-info: +--------+------+--------------+-----------------+-------------------+
ci-info: ++++++++++++++++++++++++++++++++Route info++++++++++++++++++++++++++++++++
ci-info: +-------+-------------+------------+-----------------+-----------+-------+
ci-info: | Route | Destination |  Gateway   |     Genmask     | Interface | Flags |
ci-info: +-------+-------------+------------+-----------------+-----------+-------+
ci-info: |   0   |   0.0.0.0   | 10.140.1.1 |     0.0.0.0     |    eth0   |   UG  |
ci-info: |   1   |  10.140.1.0 |  0.0.0.0   | 255.255.255.128 |    eth0   |   U   |
ci-info: +-------+-------------+------------+-----------------+-----------+-------+
 * Stopping cold plug devices[74G OK 
 * Stopping log initial device creation[74G OK 
 * Starting enable remaining boot-time encrypted block devices[74G OK 
2015-07-02 18:19:36,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 34/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:40,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 38/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:43,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 41/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:46,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 44/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:49,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 47/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:52,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 50/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:19:55,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 53/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:20:00,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 58/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:20:03,459 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 61/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
2015-07-02 18:20:08,463 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 66/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 113] No route to host)
 * Starting Signal sysvinit that local filesystems are mounted[74G OK 
 * Starting configure network device security[74G OK 
 * Stopping Mount filesystems on boot[74G OK 
 * Starting flush early job output to logs[74G OK 
 * Stopping Failsafe Boot Delay[74G OK 
 * Starting D-Bus system message bus[74G OK 
 * Starting System V initialisation compatibility[74G OK 
 * Stopping flush early job output to logs[74G OK 
 * Starting configure virtual network devices[74G OK 
 * Starting SystemD login management service[74G OK 
 * Starting early crypto disks...        * Starting Seed the pseudo random number generator on first boot[74G OK 
[80G 
[74G OK 
 * Starting system logging daemon[74G OK 
 * Starting Handle applying cloud-config[74G OK 
 * Starting Bridge file events into upstart[74G OK 
Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
 * Starting AppArmor profiles       [80G 
[74G OK 
 * Stopping System V initialisation compatibility[74G OK 
 * Starting System V runlevel compatibility[74G OK 
 * Starting save kernel messages[74G OK 
 * Starting regular background program processing daemon[74G OK 
 * Starting deferred execution scheduler[74G OK 
 * Starting OpenSSH server[74G OK 
 * Starting ACPI daemon[74G OK 
 * Starting CPU interrupts balancing daemon[74G OK 
 * Stopping save kernel messages[74G OK 
open-vm-tools: not starting as this is not a VMware VM
landscape-client is not configured, please run landscape-config.
 * Starting automatic crash report generation[74G OK 
 * Restoring resolver state...       [80G 
[74G OK 
 * Stopping System V runlevel compatibility[74G OK 
Cloud-init v. 0.7.5 running 'modules:config' at Thu, 02 Jul 2015 18:20:11 +0000. Up 91.42 seconds.
Cloud-init v. 0.7.5 running 'modules:final' at Thu, 02 Jul 2015 18:20:12 +0000. Up 91.73 seconds.
Cloud-init v. 0.7.5 finished at Thu, 02 Jul 2015 18:20:12 +0000. Datasource DataSourceEc2.  Up 91.78 seconds

Ubuntu 14.04.2 LTS ip-10-140-1-123 ttyS0
ip-10-140-1-123 login:"
Amazon EC2	"Re: Newly launched instances sometimes, inconsistently unreachable
The box became accessible if I waited long enough, it looks like. Probably over an hour. But now I can stop and start it and it seems to be ok. I am trying to launch more instances to make it happen again, because it was happening pretty consistently before."
Amazon EC2	"how to control IP ranges on a large cluster
hello
So I want to bring up 1000+ instances of windows server, but I need the IP address of each box to be consecutive .. to form a range.... (because i have a script that needs to make REST calls to each machine .. so easiest way to do that programmatically is if they are in a nice easy to manage range)

what's the best way to do this?

TIA"
Amazon EC2	"installed chef on ubuntu 14 on aws
Hi i followed the below blog to install chef and installing apache thru chef, but when to test, i am not able to open default apache web page in aws instance.

http://gettingstartedwithchef.com/first-steps-with-chef.html

can anyone tell me how to access aws ubuntu instance thru browser, i meant if we install apache or php, how to access them.

thanks."
Amazon EC2	"Seems to be something wrong with Amazon network or firewall
This morning around 5:44AM EDT, we started getting spammed by alerts. The monitoring machine we have running in US East is failing to communicate with the servers in our non-Amazon colo. The alerts keep coming, and going, and coming, and going, which means, the network connection is intermittent or experiencing packet loss.

I found, by running two continuous pings on two different machines, on the same non-amazon network, having different externally facing IP addresses, one of them could reach the amazon servers, while the other one couldn't reach it. This suggests the problem is not a down network segment in between Amazon and our colo. It suggests the problem is either at Amazon's end, or at our end.

So I rebooted everything at our end, and problem didn't change.

I looked at firewall rules on amazon, and I saw, we permit Echo Request from our colo network a.b.c.d/e, which should allow both of the aforementioned machines to ping. 

On a hunch, I changed the amazon firewall rule to permit Echo Request from 0.0.0.0/0, and suddenly both machines started getting responses. This conclusively confirms that the problem is not at our end - indeed packets were getting out of our network, and if they had any response, the responses would be received.

So then I removed 0.0.0.0/0 from amazon firewall, and I absolutely confirmed that both of the machines at our colo are in the range a.b.c.d/e, so I absolutely confirmed this should work. But it doesn't.

Additional evidence: This problem started this morning while everyone was asleep. Nothing changed anywhere.

Simply, it seems, there's a weird problem happening on amazon's network and/or firewall.

Instance i-0cf17e6f

Right now, I have amazon configured to allow Echo Request from 0.0.0.0/0, and I have a continuous ping running from two different IP addresses at our colo. One of them is getting responses; the other one is getting no response.

Edited by: Tom Ryden on Jul 2, 2015 6:15 AM"
Amazon EC2	"Re: Seems to be something wrong with Amazon network or firewall
Problem mysteriously went away, around 9:30. No idea what went wrong, so it would be nice to have an explanation, but no longer an issue."
Amazon EC2	"Several systems locked up and rebooted at 7/1 midnight
Hello,

Several of our instances seemed to lock up and then proceed to reboot exactly at 7/1/2015 12:00:00AM UTC. In the monitoring, you can see the CPU jump to 100% and all Disk metrics spike as well. Two of the instances were attached to an ELB and the other was not. Two were in us-east-1e and one was in us-east-1b. All are m3.large. We also have a t2.small instance which did not seem to have any issues.

I checked our RDS instance and that was fine.

The fact that the issues took place right at midnight UTC on the first of the month makes me think there was maybe a job or some AWS process that kicked off? Can someone take a quick look to see if there is an explanation? Our entire application had a few minutes of downtime and I would like to know what caused the instances to reboot.

Let me know if you would like the instance IDs.

Thanks!

Shaun"
Amazon EC2	"Re: Several systems locked up and rebooted at 7/1 midnight
Maybe it had something to do with the leap second at midnight?

https://forums.aws.amazon.com/ann.jspa?annID=3064

None of our EC2 instances were affected, but maybe something in yours didn't like it."
Amazon EC2	"Re: Several systems locked up and rebooted at 7/1 midnight
Almost certainly the leap second.
Older linux kernels had a bug that would cause the system to lock-up."
Amazon EC2	"Re: Several systems locked up and rebooted at 7/1 midnight
Hello shaunlas,

Rebooting your instances via the console or CLI should resolve this issue.  When you reboot an instance in this way, it remains on the same physical host, so your instance keeps its public DNS name, private IP address, and any data on its instance store volumes.  More information on this topic can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-reboot.html

For further information on the leap second issue you experienced see: https://access.redhat.com/articles/15145.

Please let me know if you need any further assistance.

Kind regards,
Anthony H."
Amazon EC2	"Re: Several systems locked up and rebooted at 7/1 midnight
That's what I figured.  Our instances are a mix of the latest CentOS and some custom AMIs based on SUSE -- none of them freaked out, but I know some OSs will."
Amazon EC2	"No RDP access to new t2:medium Windows instance
Brand new created Instance i-7aa036d0

Not a credentials issue as not even getting a connection.

We have another (EC2-Classic) instance that is accessible without any problem.

Checked:-
Security group (auto created by Launch wizard)
Tried allocating to Elastic IP
Tried rebooting
Tried stopping and then starting
Tried terminating previous instance and creating new one

Please help!"
Amazon EC2	"Re: No RDP access to new t2:medium Windows instance
Hi,
Your route table is missing a route to an Internet Gateway:

rtb-f828b79d
Route Table: rtb-f828b79d
Destination 	Gateway 	Status
172.30.0.0/16 	local 	active

Therefore, you can only access this instance within the same VPC.
Have you tried to RDP from another instance located in the same VPC?

Please find here how to create and use an Internet Gateway:

http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

I hope this helps!"
Amazon EC2	"Re: No RDP access to new t2:medium Windows instance
Route to internet added.  Access all OK now, thanks!!

To answer your questions:-

Have you tried to RDP from another instance located in the same VPC?

No, this is the first VPC based instance I've tried to create.  The entries for subnets, internet gateways, and route tables were all auto-created, attached etc by the EC2 instance launch wizard.  Never even visited VPC part of AWS Console before.  My guess is that the EC2 launch wizard has created all these VPC entries (I certainly didn't!) but omitted to add the route to the internet.  Maybe for your first VPC instance, it could at least ask?

Anyway, problem solved."
Amazon EC2	"I Can't ssh login to running instance
Hello, 
After about a year running an instance in production, suddenly I can't login using the same key file.

After i run the ssh command: ssh -v -i http://.pem ec2-user@ip.com  the result is:

OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug1: Connecting to dns ip port 22.
debug1: Connection established.
debug1: identity file stratebi_prosegur.pem type -1
debug1: identity file stratebi_prosegur.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.3
debug1: match: OpenSSH_5.3 pat OpenSSH_5* compat 0x0c000000
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<3072<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA 1f:cd:28:30:26:04:f0:57:37:91:16:38:8d:98:2e:fx
debug1: Host 'ip' is known and matches the RSA host key.
debug1: Found key in /home/hadoop/.ssh/known_hosts:2
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic
debug1: Next authentication method: gssapi-keyex
debug1: No valid Key exchange context
debug1: Next authentication method: gssapi-with-mic
debug1: Unspecified GSS failure.  Minor code may provide more information
No Kerberos credentials available

debug1: Unspecified GSS failure.  Minor code may provide more information
No Kerberos credentials available

debug1: Unspecified GSS failure.  Minor code may provide more information

debug1: Unspecified GSS failure.  Minor code may provide more information
No Kerberos credentials available

debug1: Next authentication method: publickey
debug1: Trying private key: stratebi_prosegur.pem
debug1: key_parse_private2: missing begin marker
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic
debug1: No more authentication methods to try.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic).

The instance Id is: i-7c56992e and is working good.

Thanks"
Amazon EC2	"m4.x - Hyperthreaded
hi,

http://aws.amazon.com/ec2/instance-types/
""Each vCPU is a hyperthread of an Intel Xeon core for M3, C4, C3, R3, HS1, G2, I2, and D2.""

Quick testing of M4 seems to indicate it too is a hyperthread. If true the instance types needs updating asap to avoid confusion. thanks.

Edited by: Dave Smith on Jun 19, 2015 5:53 AM"
Amazon EC2	"Re: m4.x - Hyperthreaded
Hello Dave,

Thank you for your feedback,

I have take a look at our documentation and it seems updated:
 Each vCPU is a hyperthread of an Intel Xeon core for M4, M3, C4, C3, R3, HS1, G2, I2, and D2. 

Source http://aws.amazon.com/ec2/instance-types/

Regards,
Giorgio"
Amazon EC2	"Re: m4.x - Hyperthreaded
aws docs were corrected."
Amazon EC2	"AGAIN! Unexpected promblem with Amazon EC2 DNS 172.16.0.23 2015.07.02
Hello! Again we have a problem with Amazon EC2 DNS 172.16.0.23 (starting 2015.07.02 02:20 PDT). This problems touches our account . We can not use prepaid Amazon services fully. So, 2015.07.02 we have unexpected problem with Amazon EC2 DNS 172.16.0.23. We use this DNS for all our EC2 nodes. Starting 2015.07.02 02:20 PDT it started to resolve DNS names *.appery.io from zone appery.io with errors. As a result, we had a huge down time for our Production nodes (42 nodes). Our customers couldn't use any of our services. It is really big and unpleasant problem for us. We investigated this problem on our side (because we send information about this zone from our DNS), but at that time we didn't make any changes with records and zone appery.io is visible for world DNS servers. Besides, we didn't see this problem on other world DNS servers (for example, on Google Public DNS 8.8.8.8). You can check it. 

1) Amazon EC2 DNS (Error!) 
nslookup appery.io 172.16.0.23 
Server: 172.16.0.23 Address: 172.16.0.23#53 ** server can't find appery.io: NXDOMAIN 

2) Our main DNS for appery.io zone (Good) 
nslookup appery.io 174.129.195.17 
Server: 174.129.195.17
Address: 174.129.195.17#53 
Name: appery.io Address: 107.22.249.220 

3) Our secondary DNS for appery.io zone (Good) 
nslookup appery.io 206.169.37.129 
Server: 206.169.37.129 
Address: 206.169.37.129#53 
Name: appery.io Address: 107.22.249.220 

4) And Google public DNS (Good) 
nslookup appery.io 8.8.8.8 
Server: 8.8.8.8 
Address: 8.8.8.8#53 Non-authoritative answer: 
Name: appery.io Address: 107.22.249.220 

Screenshots in attachments. So, what's the problem with your DNS again? If it is some kind of server maintenance, could you send us a letter about maintenance and possible problems? And now, could you give your explanations about this problem? Thanks in advance."
Amazon EC2	"Instance i-cc48a69d stuck after upgrading from Ubuntu 12.04 to 12.10
Hello,

Can you please check on your end if there is something wrong with the instance i-cc48a69d .

I've ran the upgrade script to upgrade from Ubuntu 12.04 to 12.10 but now it stucks at booting and I can't figure out what is wrong from the System Log.

Thank you,"
Amazon EC2	"Re: Instance i-cc48a69d stuck after upgrading from Ubuntu 12.04 to 12.10
Re-did the instance, no help needed."
Amazon EC2	"Data gone after rebooting EC2 instance
Hi there,

After the  connectivity issue, I rebooted my instances as suggested by Amazon due to the Linux time issue, after rebooted the server, some LV is gone, and my files inside the LV are gone as well, I am not sure why this happened, it took us a while to rebuilding our site, anyone have the same issue?

and our / folder only 6GB, and it is always full, is there a way to resize it?"
Amazon EC2	"Re: Data gone after rebooting EC2 instance
Hello,

Take snapshot of your EBS volume before you attempt to expand it.

If the total size of your EBS volume is 6GB, you can expand your storage space by following the steps in the following url: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

Else if your root partition is 6GB and the total size of your EBS volume is more, you can resize your root partition to cover the unused disk space. Refer to the following url: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html

Regards,
RonnieN"
Amazon EC2	"EC2 instance's tags ""disappear""
Hi
I had an instance (i-cf547c1f) with 5 different tags.
After a while it seems that all the tags removed from my instance.
Why can it happen? (no one removed them)

I will add that the instance is up from pipeline (used as a worker resource).
The pipeline itself don't use any tags (which AFAIK is a new feature for pipeline), 
and the pipeline is activated since 2015-05-19, it is scheduled to work every 15 minutes and worked well since, until today (2015-06-09), did something changed?

Thanks,
Noam"
Amazon EC2	"Re: EC2 instance's tags ""disappear""
Looks like the new feature of pipeline tags just OVERRIDE my instance tags (and I didn't have any tags of the pipeline), does it? 
(question mostly for AWS guys)"
Amazon EC2	"Re: EC2 instance's tags ""disappear""
Hi Noamgal,

I sincerely apologize for any inconvenience caused by this issue. Please reply to the support case, ID: 1434422711, for any further assistance on this issue.

Regards,

Nolen M."
Amazon EC2	"RDPing to an EC2 instance with more than one user
Hi, I've downloaded the RDP file and can connect to the EC2 server without any issues. It uses the ""Administrator"" user name.

Can I set up other user names and allow multiple users to access the same VM? At the moment if some else logs into to the EC2 box it throws the other person out.

Regards
James"
Amazon EC2	"Track how many times a community AMI is launched
Hello,

is it possible to track how many times a community AMI is launched by users?
It could be useful to know which AMI is more requested/needed/preferred by AWS users.

thank you
--
antonio"
Amazon EC2	"EC2 G2 instance CL_DEVICE_IMAGE2D_SUPPORT and max dimensions (OpenCL)
Hello,

I have scoured the tech details pages for the G2 instances, these forums, and the internet for info on whether the G2 NVIDIA cards have support for the 2D and 3D image features of OpenCL 1.1. My apologies if I didn't look in the proper place and this has been answered elsewhere. That said, can someone confirm for me:

 - Does the device info param CL_DEVICE_IMAGE_SUPPORT on the G2 equal CL_TRUE? (I would assume so given how on the product page AWS advertises that G2 can be used for video and image processing)
 - If so, what are the values of the device info params CL_DEVICE_IMAGE2D_MAX_WIDTH, CL_DEVICE_IMAGE2D_MAX_HEIGHT, CL_DEVICE_IMAGE3D_MAX_WIDTH, CL_DEVICE_IMAGE3D_MAX_HEIGHT, and CL_DEVICE_IMAGE3D_MAX_DEPTH?

I presume that these values will be different for the g2.2xlarge and the g2.8xlarge, so if someone has access to either and can answer these questions, I would really appreciate it. I recognize that it might be possible that these params might not be the same on all instances, and if this is the case, does anyone know the minimum values that we can except these params to be? Do these values fluctuate with the choice of host OS?

Thanks So Much!
Bailey"
Amazon EC2	"Problem accessing the EC2 Instance
Good afternoon my friends.

I am unable to access the server.
I use the command:
ssh -i cloud4project.pem ubuntu@54.94.184.149 -v

And I get the following response:

OpenSSH_5.2p1, OpenSSL 0.9.8r 8 Feb 2011
debug1: Reading configuration data /Users/otavio/.ssh/config
debug1: Reading configuration data /etc/ssh_config
debug1: Connecting to 54.94.184.149 http://54.94.184.149 port 22.
debug1: Connection established.
debug1: identity file cloud4project.pem type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6
debug1: match: OpenSSH_6.6 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.2
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Host '54.94.184.149' is known and matches the RSA host key.
debug1: Found key in /Users/otavio/.ssh/known_hosts:10
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering public key: cloud4project.pem
debug1: Authentications that can continue: publickey
debug1: Offering public key: newkey.pem
debug1: Authentications that can continue: publickey
debug1: Trying private key: cloud4project.pem
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).

The problem started with nothing not begotten any other key and did not change any password, anyone can say what I can do to fix it ?

thank you.

Edited by: edilbertoc4p on Jul 1, 2015 1:18 PM"
Amazon EC2	"Re: Problem accessing the EC2 Instance
Hello,

Could you please verify the permissions on the /home/ubuntu/.ssh directory and files contained in it on this instance?

To verify the permissions, you can stop the instance and detach the root volume (make note of the device that it's attached to). Then attach the volume to another instance on an available device. Create a mount point, such as /fixroot, if needed and mount the device to this mount point. Once mounted, cd to /fixroot/home/ubuntu and check the directory and file permissions. The .ssh directory should allow rwx for the user (owner) and the files should be readable only by the user.

Another thing to check while you are there is that the known_hosts file doesn't have duplicate entries for the client you are attempting to connect from.

Once you have done this, you can unmount the volume and detach it from the instance. Then attach it back to the original instance to the device that you noted in the first step and start the instance.

Let us know if this works for you.

Regards,
RonnieN"
Amazon EC2	"HELP! can't connect instance:i-758297dc
can't remote access to i-758297dc
error message: Remote Desktop can't connect to the remote computer

Edited by: thomashck on Jul 1, 2015 6:43 PM"
Amazon EC2	"Re: HELP! can't connect instance:i-758297dc
Hello thomashck,

Your instance i-758297dc is an EC2 Classic instance with a Public IP address.  When instance of this kind are stopped/started they get a new Public IP address.  Please ensure you are using the correct Public IP address via the EC2 console.

More information on this topic can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses

You may also want to look into using Elastic IP addresses to prevent this issue from occurring in the future: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html

Please let me know if you continue to have problems with your instance.

Kind Regards,
Anthony H."
Amazon EC2	"Re: HELP! can't connect instance:i-758297dc
Yes, I know it will renew the public IP. I dowmloaded a new remote client and I see it's ""ec2-54-204-245-37.compute-1.amazonaws.com"", I also see the same IP in ec2 console. even that, I still can't connect to my instance, could you help to check it...

I have an other instance: i-cfebb6b6 normal connected, so I am sure there is no problem with my network to AWS.

Edited by: thomashck on Jul 1, 2015 10:00 PM"
Amazon EC2	"Re: HELP! can't connect instance:i-758297dc
Hello thomashck,

As far as I can see the instance is responding normally.  One thing I have noticed is that the the security groups are very restrictive - you may want to double check the source address and try connecting again.

Please let me know if you continue to have problems.

Kind Regards,
Anthony H."
Amazon EC2	"Re: HELP! can't connect instance:i-758297dc
I think that's the key point to make me connect failed. The source IP means only this IP can connect to the instance? that is not my intention, pls advise me how to fix it."
Amazon EC2	"Re: HELP! can't connect instance:i-758297dc
I found the way, I renew MyIP."
Amazon EC2	"SSH doesn't yield consolse access
SSH appears to be hanging.
It worked earlier, I logged in several times.
Previously I got this error: ""ssh_exchange_identification: read: Connection reset by peer"".
I added a different elastic IP and it worked after. Not sure if coincidence. 

$ ssh -v -i happy.pem ubuntu@54.83.205.11
OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug1: Connecting to 54.83.205.11 http://54.83.205.11 port 22.
debug1: Connection established.
debug1: identity file happy.pem type -1
debug1: identity file happy.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2

Additionally, CPU usage appears to be flat or very low.

Edited by: Luke Stanley on Jun 17, 2015 3:01 PM

Edited by: Luke Stanley on Jun 17, 2015 3:08 PM"
Amazon EC2	"Re: SSH doesn't yield consolse access
Hello,

Could you please provide your instance ID for us to have look.

Best Regards,
RonnieN"
Amazon EC2	"Can't launch new instances - stuck on initializing
At this time I can't launch any instances or reboot successfully any of the exsiting instances, this is us-east ... I need assistance here... site is down"
Amazon EC2	"Re: Can't launch new instances - stuck on initializing
Hello mpagnucco,

I'm sorry to see you're having problems launching instances.

I'd like to be able to help bu as you forums account is not linked to your AWS account I cannot see any of your resources.  If you could please let me know the instance ID (e.g. i-a1b2c3d4) of one of your troublesome instance I will be able to view all of your resources and help you with this issue.

Thank you,
Anthony H."
Amazon EC2	"Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
Has anyone else seen this the last few days.  Today I'm getting download speeds ~ 100 - 120Kbs from my instance at on our VPS in N Virgina 1-d AZ. 

Verizon says it is Amazon's issue but trace route is not really pointing to a problem:

traceroute to 54.84.40.157 (54.84.40.157), 64 hops max, 52 byte packets
 1  wireless_broadband_router (192.168.1.1)  0.619 ms  0.582 ms  0.415 ms
 2  173.63.208.1 (173.63.208.1)  5.785 ms  4.719 ms  4.896 ms
 3  g1-2-2-6.nwrknj-lcr-21.verizon-gni.net (130.81.169.180)  6.230 ms  7.529 ms  8.425 ms
 4  130.81.162.64 (130.81.162.64)  8.008 ms  8.229 ms  7.765 ms
 5  0.xe-8-0-0.br1.nyc1.alter.net (152.63.16.65)  8.107 ms  8.234 ms  8.108 ms
 6  * 63-235-40-53.dia.static.qwest.net (63.235.40.53)  15.617 ms  15.079 ms
 7  dca2-edge-01.inet.qwest.net (67.14.36.10)  18.025 ms  17.037 ms  17.184 ms
 8  65.120.78.82 (65.120.78.82)  14.772 ms  16.144 ms
    72.165.86.74 (72.165.86.74)  16.306 ms
 9  72.21.220.159 (72.21.220.159)  15.224 ms  16.182 ms
    72.21.220.127 (72.21.220.127)  17.135 ms
10  205.251.245.53 (205.251.245.53)  17.281 ms
    72.21.222.87 (72.21.222.87)  13.994 ms
    205.251.245.53 (205.251.245.53)  18.025 ms
11  * * *
12  * * *
13  * * *

But traceroute also never finishes it slows down and stops in the 205.x.x.x second without ever resolving to the final address at http://54.84.40.157/

There is a test file at http://54.84.40.157/backup/test.download which is 100 MB junk file. 

Http and scp / ssh have the same issue."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I'm having network issues as well. I see: 

 3. G1-7-4-6.WASHDC-LCR-22.verizon-gni.net                                                                                                        0.0%    77   13.9  11.3   6.9  22.3   2.7
 4. so-3-1-0-0.RES-BB-RTR2.verizon-gni.net                                                                                                        0.0%    77   13.8  19.7   7.0  85.6  19.5
 5. 0.xe-4-2-0.BR1.IAD8.ALTER.NET                                                                                                                 0.0%    77    8.1  12.6   6.9  79.2  11.1
 6. dcp-brdr-03.inet.qwest.net                                                                                                                   94.7%    77   11.6  11.4  10.6  11.9   0.6
 7. dca2-edge-01.inet.qwest.net                                                                                                                  98.7%    77   11.3  11.3  11.3  11.3   0.0
 8. 65.120.78.82                                                                                                                                  0.0%    77   11.0  12.2   8.9  37.6   3.5
 9. 72.21.220.151                                                                                                                                14.5%    77   13.5  13.0   9.2  27.9   2.8
10. 72.21.222.87                                                                                                                                 11.7%    77   10.9  12.3   9.1  19.1   2.1
11. ???
12. ???
13. ???

And connecting via ssh etc. is taking up to 30s"
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I am getting around 3MB/s from the link you posted. However I am having throughput issues from time to time between my AWS servers and my location here in nyc via verizon fios. 

Its been going on for me for at least a couple of months now.

I am wondering if it has anything to do with verizon trying to squeeze netflix to pay them for data transfer."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I'm seeing exactly the same thing. Verizon claims it's not them.

At home I have internet from Time Warner. Connections to AWS are fast."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
Seeing this also from Verizon FiOS as well as their gigabit service feeding our company.
Have  reported on NANOG  and will be reaching out to Verizon and AWS tomorrow.
Are all of you still seeing this performance hit?"
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
Adding to the queue here. I'm seeing unstable and unreasonably slow connections between my local network (Verizon FIOS) and remote hosts on all N. Virginia regions. Outbound and inbound traffic to/from other networks (Linode, Digital Ocean, et al.) are running fine. Traceroute output attached. I've opened an issue with AWS support and will refer them to this thread."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
Seems to be a Verizon/NTT thing.  We were able to work with Amazon's Peering Team to route certain traffic a different way and things vastly improved.  This was for our Gig circuit, however.  Consumer Verizon FiOS circuits still seem to be passing through the ""bad"" path and as a result are slow.

Not sure how this gets resolved except to have the peering providers figure something out.  We certainly are anticipating that the issues for our Gig circuit could return at any time even via the new path we're on."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
We've been seeing the same exact problem too, Verizon FiOS to Amazon AWS:  the connection just completely stops working for several seconds at a time.  Then picks back up again, but then drops again for several seconds, over and over.  We've been seeing this problem for a couple of months now.

I'm hoping that someone at AWS or Verizon can take a look at this issue."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
After suffering with this problem for months and months, just now it seems to have cleared up.  Are the other posters seeing the problem cleared up too?

I can only hope this fix is for good.   Shew..."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I created an S3 bucket in the N. Virginia region last month.  D/L times to my Verizon FIOS home acct are horribleâ€¦ 40-100KB/sec.  If I bring up a VPN (to practically anywhere), I can d/l at full speed.  Traceroute times look fineâ€¦  RTT looks actually worse over VPN, as would be expected -- but maxes out my bandwidth regardless.  Verizon says it's not their problem.

I'm sure this is more corporate slap-fight, a la the Verizon v. Netflix disputes.  However, it's got me rethinking using S3, since the content I was going to store in it is primarily serving users in Verizon territory..."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I am wondering whether anyone has found a solution to the slow connection speed via FiOS to EC2 servers in the us-east region.

I am a business start-up, connecting to EC2 from New York City via two residential internet providers, TimeWarner and Verizon FiOS.  I have a second ISPs as back-up.

My FiOS connection should work much faster and indeed does for most places on the web, but not to the EC2 server I am using.

For instance, when I download data via my RDP connection to my local client, FiOS gives me currently a download speed of 60 kbytes/sec while TimeWarner yields about 7000 kbytes/sec.

Using speedtest.net, however, I get for FiOS a ping rate of 6ms, download speed of 84 Mbytes/sec and upload speed of 92 Mbytes/sec.  The TimeWarner results are: ping rate of 16ms, download speed 122 Mbytes/sec, upload speed of 14 Mbytes/sec (so the FiOS ping and upload results are much better, but the download result is slightly worse).

Thanks in advance.

Best, Heiko

Edited by: heikoebens on Feb 28, 2015 9:23 PM

Edited by: heikoebens on Feb 28, 2015 9:33 PM"
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
This has been an ongoing issue for me, too. Using a VPN which sometimes gets 8 MB/sec, which is fine. Most times over our 75/75 Mb FiOS connection though, I am getting 200-400 KB/sec. 
FiOS business package, just west of Phila. proper. Elsewhere on the web or via FTP, 4 to 12 MB/sec.

-Jeff B."
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
I've had this issue for a little over a year now.
I've been after VZ for quite some time to resolve this issue.
I kept complaining to them until they sent a network technician to my home. After I've showed him all the evidence i've gathered we ran a few tests (to prove that i wasn't bsing him).  He made a phone call back to VZ, and I was basically told that this is a ""corporate politics issue"". He suggested that the more people complain the more they'll be willing to ""fix"" it. I'm so frustrated by this issue. We have app servers deployed on the AWS cloud that are heavily affected by this.

Observations:
-garbage download speeds (5k to 70Kb/s download speed during normal business hours) 
-upload speeds seem unaffected
-region US-NORTH EAST
-routing traffic through VPN connection seems to fix the download speed issue.

****TIP: call VZ and insist on a level 2 or ""network"" technician to come to your place and test AWS connection speeds. Do this even if you know they won't resolve the problem. The goal is to open a ticket with them. They wont be able to close the ticket until YOU are satisfied with the answer. The more open tickets relating to this issue, the more noise we'll create. We pay VZ enough money on a monthly basis, we really don't need to be wasting our time on internet bandwidth speeds, we're not in 90's anymore!"
Amazon EC2	"Re: Network performance via Verizon FIOS has 100Kb/sec from EC2 N. Virginia 1D
While I lay blame with Verizon based on my attempts to raise the issue with them, I am curious to hear if Amazon is actively working to try and resolve the issue through its partners. I recall seeing a post from an Amazon rep on the same issue from a year or two ago in which they did adjust the peering to provide some relief. Unfortunately, this persistent issue is soon forcing me to migrate away from AWS to another provider simply as a practical matter in order to achieve a resolution."
Amazon EC2	"Volume stuck in attaching
I am getting 'Volume stuck in attaching' for vol-cb5f1125, tried detaching it and force stopping the instance that it's attached to (i-15ec11c6) with no luck.

Edited by: mattfair on Jun 29, 2015 10:55 PM"
Amazon EC2	"Re: Volume stuck in attaching
Good day

Thank you for bringing this to our attention. I am reaching out to our EC2 Operation Team to investigate as can see there is an issue with the underlying host that your instance is running on.

We will get back to you shortly  once we have successfully stopped the instance and resolved the issue.

Best Regards
Imthian R"
Amazon EC2	"Re: Volume stuck in attaching
Hello,

Instance i-15ec11c6 is now in a stopped state and volume vol-cb5f1125 is available. Can you please confirm this on your end and attempt to proceed with your actions? If you run into further issues please let us know and we'll look into this further.

Regards,
Brandon"
Amazon EC2	"Re: Volume stuck in attaching
Great, everything works as it is suppose to, thank you!
Matt"
Amazon EC2	"Help with disk space/partitions
This may be a simple question, but this is my first attempt at setting up an amazon linux instance. 

When I set up my instance I set the EBS to 40 gigs. I am trying to extract a file that is around 10 gigs and I am getting an error that my drive is out of space. Here are some of the commands I have been looking at to try to figure this out. Any input would be appreciated.

[ec2-user@ip-10-112-50-226 html]$ df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/xvda1            8.0G  8.0G     0 100% /Â 
tmpfs                 301M     0  301M   0% /dev/shm
 

It shows here I have 8G at 100%

[ec2-user@ip-10-112-50-226 html]$ sudo fdisk -l
Â 
Disk /dev/xvda1: 42.9 GB, 42949672960 bytes
255 heads, 63 sectors/track, 5221 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
Â 
Disk /dev/xvda1 doesn't contain a valid partition table


But here it shows 43G  for the same drive? Can someone also explain why I am seeing ""Disk /dev/xvda1 doesn't contain a valid partition table"""
Amazon EC2	"Re: Help with disk space/partitions
Hello,

Try running sudo resize2fs /dev/xvda1 and let me know if that works for you.

Best, 

Matt J"
Amazon EC2	"Re: Help with disk space/partitions
worked like a charm. 

Thanks"
Amazon EC2	"Re: Help with disk space/partitions
I have a similar problem, with various out-of-space messages. The root volume show 100% in use:

$ df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/xvda1            7.9G  7.8G     0 100% /

$ fdisk -l 

Disk /dev/xvda1: 8589 MB, 8589934592 bytes
255 heads, 63 sectors/track, 1044 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Disk /dev/xvda1 doesn't contain a valid partition table

So I ran resize2fs /dev/xvda1    ........... but nothing changes. It sees I need to increase the size of the 8GB volume (??) but how?"
Amazon EC2	"Re: Help with disk space/partitions
I too faced the same problem, and resize2fs did the trick.

I am curious to know why that happened, i attached a 20 GB ebs volume to root (/) and it showed up just 1 GB.

Any help would be greatly appreciated.

Thanks"
Amazon EC2	"Re: Help with disk space/partitions
Hello, 

If an EBS volume is greater in size then the existing disk label created in the OS
then you will see a discrepancy in the available space. The EBS volume size
can be considered an ""external"" size with the disk  label made by the
OS as an ""internal"" size that the OS will perceive.  The 'resize2fs'
grows the filesystem to match the available space.

Regards, 

Mike P."
Amazon EC2	"Re: Help with disk space/partitions
I've tried to run a c3.4xlarge instance 4 times now, and the first SSD (xvdb) have this problem, and I can't use it. mkfs.ext3 can't create a volume in the xvdb1 (fdisk creates the partition, but when I write the changes it shows an error message). 

mkfs.ext3 says the disk is apparently in use by the system."
Amazon EC2	"CLI gives blank response for stopped instances with ec2-describe-instances
Hi,

When running ""aws ec2-describe-instances ids=<id>, the CLI/API returns an indeterminate response for a stopped instance. I would think the response would describe the instance's state as ""stopped"" and the correct code . The result I get from querying a stopped instance is the following:
{
    ""InstanceStatuses"": []
}


We really need to be able to find stopped instances with the CLI ... is there some other method of doing this, without resorting to writing our own program?"
Amazon EC2	"Re: CLI gives blank response for stopped instances with ec2-describe-instances
I can confirm that I see the same thing. When I call describe-instance-status with the ID of an instance that's stopped, InstanceStatuses is empty:

aws ec2 describe-instance-status --instance-id i-xxxxxxxx
{
    ""InstanceStatuses"": []
}

I'll investigate whether the instance must be a running instance to get instance status.

You can get the instance state of a stopped instance using describe-instances as follows:

aws ec2 describe-instances --instance-ids i-xxxxxxxx

Here's the relevant section of the output:

        ""State"": {
            ""Code"": 80,
            ""Name"": ""stopped""
        },"
Amazon EC2	"Re: CLI gives blank response for stopped instances with ec2-describe-instances
Hello,

Thanks for posting. If you are looking to find only stopped instances the following AWS CLI command will do just that, replace the region with the region of choice and change the --output if needed:

aws ec2 describe-instances  --region us-west-1 --filters Name=instance-state-code,Values=80 --output text


The above filters on the instance-state-code looking for value of 80 (stopped). Please see the following link for further information:

http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html

Regards,
Brandon"
Amazon EC2	"Re: CLI gives blank response for stopped instances with ec2-describe-instances
I stand corrected - I was indeed using describe-instance-status as that seemed to be the right command to use. Thanks!"
Amazon EC2	"Can Amazon IT staff see EC2 data?
I have a small customer that I'm proposing moving their infrastructure to Amazon's VPC VM's.  However they do store sensitive data and are asking questions about whether Amazon's IT staff can access data within the EC2 instances/volumes.  I can't seem to find any information on any policies that Amazon has regarding the security/privacy of data stored on EC2 instances.  Does anyone have any information on this that I can share with my client?  Thanks for the help!  
Dave"
Amazon EC2	"Re: Can Amazon IT staff see EC2 data?
Give this a read:

http://media.amazonwebservices.com/pdf/AWS_Security_Whitepaper.pdf

Basically, no, their staff does not have access to the data inside the EBS, S3 or other storage per policy and per internal security controls.  You can encrypt the volumes, etc. if you desire as well.  I think the only time they ever (maybe) get inside a volume is if they have to recover data for a customer due to a massive failure in EBS ... which I recall they've only had once during a major outage in Ireland.  And... they may have not even had that level of access when that happened, they might have been doing all their recovery at the block level (actually that is likely the case).  It's akin to placing your servers in a SSAE16 certified datacenter; there are certainly people with physical access, but it's closely monitored, etc.

If the data is really sensitive, I'd opt to encrypt the volumes, and make very sure that you follow all best practices security the AWS access (root and IAM accounts) to the console --- I recommend that you look at the MFA features of IAM (and perhaps get a token for the root account) to make sure no one gains unauthorized access to your AWS infrastructure.

Edited by: BrucekConvergent on Jun 30, 2015 11:13 AM"
Amazon EC2	"Re: Can Amazon IT staff see EC2 data?
Thanks so much for getting back to me, Bruce.  After briefly reviewing the linked document I didn't see anything which talked about Amazon staff not accessing the data in EC2 or EBS volumes.  Did I miss it?  (Very sorry if I did).  I recognize that there are a lot of good suggestions for increasing the security from attackers - but what I am specifically looking for is determining what access the Amazon staff has to the data stored within the EC2 instances.   Do you (or anyone else) have any specific information on this?
Dave"
Amazon EC2	"Re: Can Amazon IT staff see EC2 data?
You are right it doesn't specifically address that scenario--it is implied that these security controls apply to everyone.  If you encrypt the volumes, it won't matter either way.  I have noted many times on this forum that users ask for Amazonians to success the internals of their EC2 instances and volumes and AWS Support flatly replies that they don't have access to that."
Amazon EC2	"Re: Can Amazon IT staff see EC2 data?
ok - thanks for your help!"
Amazon EC2	"instance stuck in stopping state
instance id i-65142698. Issue several forced stop commands without luck. Please advise.

-luis"
Amazon EC2	"Re: instance stuck in stopping state
instance was able to stop after a long time. Machine is now back online."
Amazon EC2	"Yet another EC2 instance stuck shutting down
Yet another one: i-0e0faac6. Was created by a CF template and got stuck during a stack update.

Please terminate it as it prevents deletion of the CF stack. Thanks.

Edited by: micxerPM on Jul 1, 2015 11:06 AM"
Amazon EC2	"Re: Yet another EC2 instance stuck shutting down
Hello, 

The instance should now be terminated. My apologies for any inconvenience this may have cause you. 

Best Regards,
Jillian L."
Amazon EC2	"Re: Yet another EC2 instance stuck shutting down
Thanks a lot."
Amazon EC2	"Free Tier : Windows Instance or Linux Instance or Both?
i want to know in the free tier if i can run an instance of windows and an instance of Linux or is it limited to only one of them with 750 hrs a month?

However, the Free Tier description states i can run a
750hr/month Linux Micro Instance
750hr/Month Win Micro Instance  

and do not state or so does this mean i am eligible to run both?"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
I get that, i can run a micro instance of windows or linux at any given point of time as well.

So, if i run a Windows and Linux instance at the same time the second instance to start will be getting charged.

However the Free tier description of the above is not clear. 
Looking at the description below, 750 hrs of LMInst OR WMInst (one running instance at a time) rather than it looks like an AND given 750 hrs of ELB is right after it.



750 hours of Amazon EC2 Linux Micro Instance usage (613 MB of memory and 32-bit and 64-bit platform support) â€“ enough hours to run continuously each month*
750 hours of Amazon EC2 Microsoft Windows Server Micro Instance usage (613 MB of memory and 32-bit and 64-bit platform support) â€“ enough hours to run continuously each month*
750 hours of an Elastic Load Balancer plus 15 GB data processing*"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
Maybe I misunderstand you, but do you mean that the sum of Microsoft Windows Server Micro Instance usage AND Linux Micro Instance usage altogether not may exceed 750 hours?

My interpretation of the Free Tier is that the Windows and Linux offers are independent of each other. (But it's not possible to run both simultaneously one month for free anyway since only 30 GB EBS is included)"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
pawan_gonnakuti,

I'm sorry our previous response didn't answer your question.

The 750 hours of free t1.micro instance usage are metered separately for Windows and Linux instances. This gives you enough hours to run one t1.micro of each for the entire month without fear of going over.

You can review the full offering of the Free Usage Tier on our help pages:

http://aws.amazon.com/free/"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
Sorry, running the second micro instance in my case a Linux Micro Instance has been getting charged at 0.085/hr. also to note i'm running these instances from Singapore region.

Is this how it is supposed to be?


Asia Pacific (Singapore) Region

 	Amazon EC2 running Windows

 	 	 $0.00 per Windows Micro (t1.micro) instance-hour (or partial hour) under monthly free tier	 50 Hrs	 0.00

 	Amazon EC2 EBS

 	 	 $0.00 per GB-month of provisioned storage under monthly free tier	 2.121 GB-Mo	 0.00

 	 	 $0.00 per 1 million I/O requests under monthly free tier	 112,988 IOs	 0.00


	Amazon EC2 running Red Hat Enterprise Linux

 	 	 $0.085 per Micro RHEL Instance (t1.micro) instance-hour (or partial hour)	 3 Hrs	 0.26

 	 	 	 	 0.26"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
Neither the Red Hat Enterprise Linux nor the SUSE Linux Enterprise Server are included in the Free Tier, likely because Amazon has to pay license fees for those. If you launch your instances using the Classic Wizard you will see a yellow star at the free ones."
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
Hello,

I want to clarify which types of EC2 instance usage is covered under the AWS Free Tier promotion.

The AWS Free Usage Tier promotion provides up to 750 hours per month of Micro instances running specified versions of Windows and another 750 hours of Micro instances running non-commercially licensed versions of Linux on EC2. 

For example, if two t1micro Linux instances are run for 400 hours each in a single month, the user will accumulate 800 instance hours of Linux Micro instance usage, of which 750 hours will be free, and the remaining 50 hours will be billed at the standard EC2 price.

The Free Usage tier will not apply to instances launched with commercially licensed versions of Linux, including Red Hat Enterprise Linux, Oracle Enterprise Linux, and SUSE Linux Enterprise. Instances running non-free versions of Linux will be billed at the advertised rates, found from this page: http://aws.amazon.com/ec2/#os

Note that EBS usage above the Free Tier allocation of 30 GB-Mo will be billed at the standard EBS storage rates. 

I hope this helps to answer your questions. If you need further clarification around Free Tier pricing and eligibility, please reach out to AWS Account and Billing support:

https://aws.amazon.com/contact-us/

Regards,

Darryll W."
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
A simplified understanding of what i've learnt


1. You can run 750 hrs of Windows 2008 Server or Windows 2008 Server with SQL Server 2008 Express (Avoid Windows Server 2008 with SQL Server)

AND

2. You can run 750 hrs of Amazon Linux or any non-commercial linux (Avoid RHEL and SUSE) 

also could be used for running Elastic Beanstalk (this uses Linux) 

without incurring any charges

Note: that i've use AND i.e. you can in total run 1500 hrs per month equally divided between t1.micro instances of Windows and Non-Commercial Linux.

Regards
Pawan"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
You are getting charged cuz both instances are going to use more that 30 GBs

Free linux AMI = 8GB
Free Windows AMI =30 GB

38 GB it means u getting charged for 8 gbs per hour on EBS

Check the description  Here 

""30 GB of Amazon Elastic Block Storage, plus 2 million I/Os and 1 GB of snapshot storage*""

At $0.10 per allocated GB is $0.8 montly, charges are applied tild u release the GB's (delet ur EBS)

Edited by: gsunset on Feb 29, 2012 11:07 PM"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
just to confirm, this AIM should be under free tier?

Windows_Server-2008-R2_SP1-English-64Bit-SQL_2008_Express-2012.02.24 (ami-fa1fcd93)

Thanks."
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
Darryll,

If we create one linux instance, with 8 gigs of storage and then delete it to create another Windows instance with 30 gigs of storage.

Will that be counted as 30+8 = 38 gigs or only 30 gigs of EBS since the other instance has been deleted and at any point of time, the total EBS held by all of the instances is not more than 30 Gigs.

Please clarify.

Thank you.

Edited by: kahuja83 on Mar 11, 2012 11:25 PM"
Amazon EC2	"Re: Free Tier : Windows Instance or Linux Instance or Both?
That is iknda funny right?  You get 30gig free but actually windows itself already takes the 30gig away so there is no free windows instance at all!

Ive installed one image and i have less than 1 gig free, i cant host a single website in it..."
Amazon EC2	"Getting ELB Network Interfaces via SDK / CLI interface
Is there a way to get the Network Interface associated with an ELB via the SDK - or command line? I want to be able to:

OpsWorks: describe ELB's associated with this stack
    ELB: describe Network Interfaces belonging to this ELB

I can list the ELB using ""opsworks.describeInstances()"" but there is no ""elb.describeNetworkInterfaces()"" method.

Thanks!

John"
Amazon EC2	"Re: Getting ELB Network Interfaces via SDK / CLI interface
Just a followup. I think I made some progress. The ELB gives a DNS name, so I tried:

aws --region us-east-1 ec2 describe-network-interfaces --filters Name=association.public-dns-name,Values=something-#######.us-east-1.elb.amazonaws.com
{
    ""NetworkInterfaces"": []
}


However, our VPC setup is.. complicated and the DNS name in the list all operation:

aws --region us-east-1 ec2 describe-network-interfaces


is named after the IP:

ec2-##-###-###-###.compute-1.amazonaws.com


however, the DNS name the ELB reports is a string:

something-#######.us-east-1.elb.amazonaws.com


so searching with something-#######.us-east-1.elb.amazonaws.com doesn't work.

Thoughts?"
Amazon EC2	"Re: Getting ELB Network Interfaces via SDK / CLI interface
I'm posting my solution here, though I think this solution is sort of a 'hack' since I'm assuming Amazon will not change the naming convention. When the ELB creates new network interfaces, the interface is given a description that fits the pattern:

ELB <elb name>

params = {
	Filters: [
		{
			Name: 'description',
			Values: [
				'ELB ' + balancerName
			]
		}
	]
};
Â 
ec2.describeNetworkInterfaces(params, function(err, data) {"
Amazon EC2	"instance was rebooted, logs not showing why
On Jul 1 16:37:19 UTC my instance i-fed2be3c was rebooted for unknown reasons.  

Can you confirm if there was a underlying host issue please?"
Amazon EC2	"Re: instance was rebooted, logs not showing why
Hello, 

I took a look at instance i-fed2be3c, and there was an issue with the underlying hardware for this instance which has since resolved itself. My apologies about any inconvenience this may have caused you. 

Please let us know if you have any additional questions or concerns. 

Best Regards,
Jillian L."
Amazon EC2	"Re: instance was rebooted, logs not showing why
Hi,

Thanks for the update.  

It's just a little discouraging that we've had 3 instances reboot due to underlying host issues in the past 2 weeks."
Amazon EC2	"Intermittent issues resolving a route53 host from vpc instances
Over the past week I've had three different ec2 instances fail to resolve a route53 hosted wildcard dns domain for an extended period of time (hours). The record in question looks like this:

*.something.example.io A 60 1.2.3.4


When we experience the failure it only occurs for one value in the wildcard position. For example:

$ nslookup prod0.something.example.io
Server:         10.7.0.2
Address:        10.7.0.2#53
Â 
** server can't find prod0.something.example.io: NXDOMAIN


$ nslookup test.something.example.io
Server:         10.7.0.2
Address:        10.7.0.2#53
Â 
Non-authoritative answer:
Name:   test.something.example.io
Address: 1.2.3.4


We see something unusual from tcpdumps of the dns queries. For a working record (test.something.example.io) we get the authoritative server of:

Name: example.io
Primary name server: ns-1765.awsdns-28.co.uk.


With our failing record the authoritative server response says:

Name: io
Primary name server: ns1.communitydns.net


Eventually we start getting the correct record again from the dns server.

We've been running this code with these dns records for quite a while and have only started hitting this problem in the past week.

It seems like we are running into a bug with the ec2 dns servers. Has anyone else run into this problem? Can anyone from the aws team comment?"
Amazon EC2	"Why is ELB not removing unhealthy ""OutOfService"" instances???
We have a loadbalanced Elastic Beanstalk environment that has 2 instances under an ELB. One of the instances is unhealthy. The health fails. The instance never correctly deployed. It's as useless as can be. The ELB recognizes that it's unhealthy and marks it as ""OutOfService"", yet it does NOT remove it nor replace it with a new instance... Why?! 

See attached screenshots..."
Amazon EC2	"Re: Why is ELB not removing unhealthy ""OutOfService"" instances???
Hello, 

Thanks for your post!

I can see two ELBs which were launched by Elastic Beanstalk in your account. There is one with two instances assigned, but both are showing as healthy. Are you still experiencing this issue? If so could you please provide us with the ELB name so we can take a look. 

Best Regards,
Jillian L."
Amazon EC2	"Default VPC
Hi,

I apologize if this is the wrong channel or forum.

I need to have the Default VPC re-created for account 2177-4879-1200 as it seems CloudFormer will not deploy without a Default VPC.

Can someone help me with this?"
Amazon EC2	"Re: Default VPC
Hello, 

Thanks for your post!

We've recreated your Default VPC in eu-central-1. 

Best Regards,
Jillian L."
Amazon EC2	"Unable to ssh into ec2 inatance after associating and disassociating e-IP
Hi,

I got into this interesting problem where I am not able to ssh into an ec2 instance (i-06f5b8f1) after associating and disassociating an elastic IP address. I have tried several options, checking the routing table and security config (all traffic/all ports are open) but it dodn't help and I need the content from this host before I can spawn a new one. 

Wonder if anyone can help.

Thanks a lot,
SP

Edited by: Philosophically Yours on Jun 27, 2015 6:16 PM"
Amazon EC2	"Re: Unable to ssh into ec2 inatance after associating and disassociating e-IP
I can delete the instance if there is no way (sad) to get access to the host."
Amazon EC2	"Re: Unable to ssh into ec2 inatance after associating and disassociating e-IP
Hi  SP,

I had a look at the instance as well as the Security Group attached to the instance (sg-e32cc787).

Currently there is no ingress rule to allow SSH traffic from outside the SG. Currently you have it set to allow ALL traffic that only originates from the source of SG sg-e32cc787, i.e any traffic that is originating from an instance which also as the SG sg-e32cc787. If you are attempting to make a connection from your home/office network outside of AWS it won't work.

I'd start with adding a rule to allow SSH traffic from your location and see if you are able to connect. More info on SG rules can be found here - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html#SecurityGroupRules

Regards,

Rodney"
Amazon EC2	"Re: Unable to ssh into ec2 inatance after associating and disassociating e-IP
Thank you so much Rodney. I rectified the security group rule and added all source IP addresses to the list (thanks for the pointer) but I am still not able to ssh into it. I am trying the following command - 

ssh -i keypair.pem ec2-user@ec2-xx-xx-xx-x.us-west-2.compute.amazonaws.com
ssh: connect to host ec2-x-x-x-x.us-west-2.compute.amazonaws.com port 22: Operation timed out

Please suggest.

~SP"
Amazon EC2	"Re: Unable to ssh into ec2 inatance after associating and disassociating e-IP
Hello, 

Taking a look at your instance's system logs I see the following:
Starting sshd: /var/empty/sshd must be owned by root and not group or world-writable.
[FAILED]

To view your system logs, you can right click on your instance, click ""Instance Settings"", and click ""Get System Log"". 

To gain access to this root volume of this instance to work on getting SSHD running again, you can detach your root volume, and attach it to another running instance so you can make the proper permission changes. The following article details how to do this: 
https://aws.amazon.com/articles/5213606968661598

Regards,
Nick"
Amazon EC2	"Re: Unable to ssh into ec2 inatance after associating and disassociating e-IP
Thanks Nick. That was really helpful and I could restore the data I wanted. really appreciate your help."
Amazon EC2	"SMTP ERROR: Failed to connect to server from EC2 instance using SES
We are getting the following error when we try to send an email from a EC2 instance using SES configured in Moodle 2.9.

Using port 587
Connection: opening to email-smtp.us-east-1.amazonaws.com:587, t=10, opt=array ()
SMTP ERROR: Failed to connect to server: Permission denied (13)
SMTP connect() failed.

and port 25
Connection: opening to email-smtp.us-east-1.amazonaws.com:25, t=10, opt=array (
SMTP ERROR: Failed to connect to server: Permission denied (13)
SMTP connect() failed.

Amazon Account Number: 863124694198

EC2 information:
Instance ID: i-a92bfc7a 
Elastic IP: 52.7.38.191

SES information:
SMTP Server: email-smtp.us-east-1.amazonaws.com

Everything works fine when we test our Moodle installation in the t2.micro instance id: i-037972f8 but now that we have an instance m3.2xlarge id: i-a92bfc7a is not working."
Amazon EC2	"Re: SMTP ERROR: Failed to connect to server from EC2 instance using SES
Hi there,

Permission denied (13) is an error coming from the OS - it appears that your OS is not allowing your application to open a socket.

If you have SELinux enabled on your OS and it's currently set to Enforcing, make sure that you have a rule that allows your application to open this connections.
Alternatively, you can try disabling SELinux, see if the connections work - and then adding the necessary rules before enabling SELinux again."
Amazon EC2	"Re: SMTP ERROR: Failed to connect to server from EC2 instance using SES
Thanks for your prompt response!

I solved the problem with your hint and applying the following command in my RHEL server:

setsebool -P httpd_can_network_connect=1
setsebool -P httpd_can_sendmail=1

Have a good day!!"
Amazon EC2	"Instance frozen, can't connect and can't reboot
Hello,

My instance i-a3fcbac2 is frozen. Monitoring is showing it is with 100% processing. I can't connect and Ican't reboot using the console. Can somebody please help me to restart this instance so I can restart the service?"
Amazon EC2	"Re: Instance frozen, can't connect and can't reboot
The instance just restarted."
Amazon EC2	"Xero API access slow
Hi everyone!

We're trying to access Xero API (https://api.xero.com) from instances in ap-southeast-2 region. Generally, the requests take about 16 seconds to complete, even though about 10% complete in a second. After trying curl -v https://api.xero.com/api.xro/2.0/Invoices
 I noticed that 15 seconds pass even before getting the initial *   Trying 198.61.252.39...
 message. This problem only manifests itself in ap-southeast-2, independent of the AMI we use.

Xero says the problem is not on their side since our requests complete in less than 200 milliseconds. Any ideas about how to debug this are appreciated! Thanks!"
Amazon EC2	"Re: Xero API access slow
I have same problem.

Xero has mis-configured their DNS servers, and is takes a long time to respond to requests for AAAA records.
They should be responding back instantly but dont.
Amazon Linux (correctly) asks for both a A and AAAA record by default.

You could workaround this by using something like 'curl -4 ...' which will force curl to tell the OS not to ask for AAAA records.

Xero needs to fix this."
Amazon EC2	"Re: Xero API access slow
You can tell the problem because:

dig AAAA api.xero.com 
takes about 10seconds
whereas 
dig A api.xero.com 
is <1 second.

The OS will do both together as in:

time host api.xero.com
api.xero.com is an alias for wip.api.xero.com.
wip.api.xero.com has address 198.61.252.39
;; connection timed out; trying next origin
Host wip.api.xero.com not found: 3(NXDOMAIN)
;; connection timed out; trying next origin
Host wip.api.xero.com not found: 3(NXDOMAIN)

real	0m20.012s
user 0m0.000s
sys	0m0.008s"
Amazon EC2	"Re: Xero API access slow
Well, it's working well after using Google DNS as our DNS server and disabling IPv6 didn't have any effect."
Amazon EC2	"Account Blocked
I noticed yesterday that my server had stopped running. So I tried to log into the AWS console, but when I do it says that my account has been blocked.
I went to the billing section and noticed that we had an expired credit card, so I put in new credit card details and paid the bills that were overdue. However it has now been 12 hours since then and the server still is not running and the account is still blocked.
What do I need to do to get the account unblocked? I filed a support ticket but haven't received any response. My customers are starting to get angry."
Amazon EC2	"Re: Account Blocked
Can someone please help me?

My server has been down for a long time now and I really need to get it running again.

It's frustrating not having a phone number to call or someone to talk to about this problem."
Amazon EC2	"Re: Account Blocked
Hi,

Your account has been reinstated. Please let us know should you still require some more assistance.

Regards,

Tonderai."
Amazon EC2	"Re: Account Blocked
Thanks, it's working again now.

The 20 hours of downtime we had while you guys fixed this problem is a bit disappointing though."
Amazon EC2	"EC2 instance rebooted without any notification
Hi,
 My ec2-instance got rebooted on ""2015-05-30 20:01 EDT "" without any notification. Also there is no trace in the logs. Messages file attached herewith.

Can someone guide on what to do and how to stop/monitor this kind of activity.

Attachment removed. 
Edited by: Belynda@AWS on Jun 1, 2015 2:28 AM"
Amazon EC2	"Re: EC2 instance rebooted without any notification
Hi there, 

I have removed the attachment that you have provided to us from your post here, could you please check your private messages for further details. I have also opened a support case on your behalf, which you will be able to see in your support center on the AWS console. The support case ID is: 1411331711

Kind regards, 
Belynda"
Amazon EC2	"Re: EC2 instance rebooted without any notification
Hi there, 

I have taken a look at your instance that you provided to me via Private Message, and can confirm the issue you are seeing was due to a issue on the underlying host. 

Currently the host has recovered, but I would highly recommend that you perform a stop start (as your instance is EBS backed) and move to a healthy underlying host. 

You will also need to re-attach your Elastic IP once you move. 

Apologies for the inconvenience the issue on the underlying host has caused, and if there is anything further I can do to assist, please don't hesitate to respond back here. 

Kind regards,
Belynda"
Amazon EC2	"Re: EC2 instance rebooted without any notification
We followed the process mentioned in the support ticket, and observation is still on."
Amazon EC2	"AWS CLI | How to find what load balancers an instance is part of
Given an EC2 instance ID, how do I find out which elastic load balancers the EC2 instance is part of by using the AWS CLI? 

Thanks."
Amazon EC2	"Re: AWS CLI | How to find what load balancers an instance is part of
Hi,

You can do this in reverse, just describe your ELBs as per this doc

http://docs.aws.amazon.com/cli/latest/reference/elb/describe-load-balancers.html

You could then grep for the ELB name and ""id-"" to get a list of ELBS and their instances.

Regards,
Julian H."
Amazon EC2	"Re: AWS CLI | How to find what load balancers an instance is part of
This is what I can do:

aws --region ap-southeast-2 elb describe-load-balancers --output text | grep -B10 $instance_id | grep LOADBALANCERDESCRIPTIONS | awk '{ print $2 }' | cut -d. -f1

I just wanted something more elegant, using the JMESPATH QL"
Amazon EC2	"Re: AWS CLI | How to find what load balancers an instance is part of
Hello,

You may find the following document helpful in controlling AWS CLI output:

http://docs.aws.amazon.com/cli/latest/userguide/controlling-output.html

Kind regards,
Chris"
Amazon EC2	"Re: AWS CLI | How to find what load balancers an instance is part of
Thanks @ChrisP

This worked, much nicer than using grep, aws and cut:

aws elb describe-load-balancers --output text --query 'LoadBalancerDescriptions[?Instances[?InstanceId==`i-b521d46b`]].[LoadBalancerName]' 


Edited by: GripMaster on Jun 30, 2015 8:04 PM"
Amazon EC2	"This instance has been unreachable since 49 minutes ago. Retiring??
Got this message on my main firewall instance today.

This instance has been unreachable since 49 minutes ago. Support case has been created. View Case
Retiring: This instance is scheduled for retirement after July 14, 2015 at 5:00:00 PM UTC-7. 

What is happening and how do i stop this? Help!"
Amazon EC2	"Re: This instance has been unreachable since 49 minutes ago. Retiring??
Any way to get SSH or GUI access to this box so I can backup and save all my configs? Woe is me."
Amazon EC2	"Re: This instance has been unreachable since 49 minutes ago. Retiring??
Hello, 

It looks like a support case was created automatically for you already, so please use that discuss this issue and work with AWS Support. 

At this point it looks like the underlying hardware failed, so a stop/start will be required to fail away from the underlying hardware. Otherwise it looks like you're using an EBS volume, so any static data like configurations should be saved between stop/starts.

Regards,
Nick"
Amazon EC2	"Re: This instance has been unreachable since 49 minutes ago. Retiring??
I was sitting here doing a reboot with no results.. Did the Stop Instance.. twiddle thumb.. Start Instance and all is good now. Boy oh boy. 

Too bad while waiting for this post and support to respond, i recovered the long way. Created an AMI image with the existing Instance, spun up the new instance, recreated all the interfaces and called the vendor to re-register the new box. Live and learn."
Amazon EC2	"Issues when releasing Elastic IPs
I have two elastic IPs for which I had requested some PTR records. For some administration issues, I had to change my domain name and I want to remove those PTR records in order to can release those Elastic IPs. The IPs are these:

52.4.231.52
52.5.68.181"
Amazon EC2	"Re: Issues when releasing Elastic IPs
Hello Daniel, 

As requested I've reset the PTR records for these EIPs. The change can take up to 24 hours to complete. 

Regards,
Nick"
Amazon EC2	"Instance has different root volume than expected
Hi,

Instance Id i-45b59cb9 has root volume mounted as /dev/xvda1 but when we try to create AMI from this running running instance /dev/sda1 is used and the result is not a copy of the instance's root volume.  

Running curl http://169.254.169.254/latest/meta-data/block-device-mapping/       outputs:
ami
ebs469
ebs470
root

fdisk -l output (the xvda... mounts are from aminator):

Disk /dev/xvda1: 21.5 GB, 21474836480 bytes
255 heads, 63 sectors/track, 2610 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

WARNING: GPT (GUID Partition Table) detected on '/dev/xvdf2'! The util fdisk doesn't support GPT. Use GNU Parted.

Disk /dev/xvdf2: 8589 MB, 8589934592 bytes
256 heads, 63 sectors/track, 1040 cylinders
Units = cylinders of 16128 * 512 = 8257536 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Device Boot      Start         End      Blocks   Id  System
/dev/xvdf2p1               1        1041     8388607  ee  GPT+

WARNING: GPT (GUID Partition Table) detected on '/dev/xvdf1'! The util fdisk doesn't support GPT. Use GNU Parted.

Disk /dev/xvdf1: 8589 MB, 8589934592 bytes
256 heads, 63 sectors/track, 1040 cylinders
Units = cylinders of 16128 * 512 = 8257536 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Device Boot      Start         End      Blocks   Id  System
/dev/xvdf1p1               1        1041     8388607  ee  GPT+

Disk /dev/xvda3: 939 MB, 939524096 bytes
255 heads, 63 sectors/track, 114 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Disk /dev/xvdf3: 64.4 GB, 64424509440 bytes
255 heads, 63 sectors/track, 7832 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

Disk /dev/xvdf4: 64.4 GB, 64424509440 bytes
255 heads, 63 sectors/track, 7832 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

I need some help determining how to get the AMI created with the correct root volume, and perhaps what ebs469 and 470 represent.  It is possible that the root volume was mounted from a snapshot previously.  Please help determine the best way to create an AMI with the correct root volume (/dev/xvda1).

Thanks!"
Amazon EC2	"Re: Instance has different root volume than expected
Hello, 

As documented here, root volumes should typically be /dev/sda1 or xvda:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/RootDeviceStorage.html

I'd recommend setting your root volume as /dev/sda1 and then try creating an AMI off of it to get this properly working. 

Regards,
Nick"
Amazon EC2	"Server Error:  an internal error has occurred during conversion
Is there a way to see the logs or get more verbose information to troubleshoot why I can't import my image...

I just get the generic Server error above with this detail...

Server Error:  an internal error has occurred during conversion
ImportTaskID: import-ami-ffqm32bx"
Amazon EC2	"Re: Server Error:  an internal error has occurred during conversion
Hello, 

After doing a little digging, it looks like the Linux distribution you're trying to import(Solace VMR) is an unsupported OS. The operating systems we support at this time are listed in our documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-operating-systems

Regards,
Nick"
Amazon EC2	"Load balancer seeing restarted instances as stopped
Hello,

I have a load balancer behind which sit two EC2 instances with auto-assigned IPs. I run a python/boto script every evening and morning to shut off and start up the instances, respectively, to save some money. In the script, after the instances are shut off, they are deregistered from the load balancer, and after they are started again, they are registered to the load balancer again. However, when the instances are registered again, the load balancer only recognizes them as stopped. Any thoughts as to why this might be?

The two instances are:
i-06d230fa
i-662adc99

Thanks

Edited by: Pierce_G on Jun 24, 2015 7:38 AM"
Amazon EC2	"Re: Load balancer seeing restarted instances as stopped
Hello, 

You'll need to de-register and register these EC2 instances after starting them back up as a part of your script. Please see the following documentation regarding this:
http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ts-elb-healthcheck.html#ts-elb-healthcheck-stopstart-fail

Regards,
Nick"
Amazon EC2	"Secondary Public IP Not Responding
Selecting the instance and then Manage Private IP Addresses, I have added a secondary private IP and then associated a public address with it but it is not reachable via SSH or in a browser. Do you need to run a cmd on the machine itself to make it active? Or is all config in the AWS dashboard?

thanks

eth0: eni-611xxxxx - 172.31.xx.0/20
Private IP	Public IP		
172.31.xx.xxx	52.1.xx.xxx		
172.31.xx.xx
52.7.xx.xx
Unassign	
Assign new IP"
Amazon EC2	"Re: Secondary Public IP Not Responding
Anyone can offer advice here?"
Amazon EC2	"Re: Secondary Public IP Not Responding
Hello, 

Yes your OS will have to be configured to recognize the secondary IP provisioned. This varies by OS, and is covered further in our documentation here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html#StepTwoConfigOS

Regards,
Nick"
Amazon EC2	"AWS DNS not working in my subnet
I am unable to resolve DNS in one of my subnets(subnet-2593020e) of a vpc.  I get the same result from multiple instances.

Example Instance: i-4fb1f6e6
$ nslookup
:>server 10.241.23.2
Default server: 10.241.23.2
Address: 10.241.23.2#53
:> google.com
;; connection timed out; no servers could be reached"
Amazon EC2	"Re: AWS DNS not working in my subnet
Hello, 

As mentioned here the DNS server is the base of your VPC network range plus two:
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_DHCP_Options.html#AmazonDNS

In your case, your Amazon provided DNS service would be 10.241.16.2, not the 10.241.23.2 that you're setting.

Regards,
Nick"
Amazon EC2	"PowerShell Backup Script Help
The script below does not start any snapshots, however it does create the Backup tags on the Volumes.  When I run it, it just ends without any errors, can somebody tell me why it does not create any snapshots?


function Add-EC2Tag 
{

Param (
Â Â Â Â Â  stringParameter(Mandatory=$True)$key,
Â Â Â Â Â  stringParameter(Mandatory=$True)$value,
Â Â Â Â Â  stringParameter(Mandatory=$True)$resourceId
Â Â Â Â Â  )

Â Â Â  $Tag = New-Object amazon.EC2.Model.Tag
Â Â Â  $Tag.Key = $Key
Â Â Â  $Tag.Value = $value

Â Â Â  New-EC2Tag -ResourceId $resourceId -Tag $Tag | Out-Null
}

function Get-EC2VolumeTag
{

Param (
Â Â Â Â Â  stringParameter(Mandatory=$True)$Tag,
Â Â Â Â Â  stringParameter(Mandatory=$True)$Value
Â Â Â Â Â  )

Get-EC2Volume | Where-Object {$_.Tag.Key -eq $tag -and $_.Tag.Value -eq $value}

}

#Find the instance the volume is connected to
Get-VolumeInfo {
Param (
Â Â Â Â Â Â  Parameter(Mandatory=$True)$volume
Â Â Â Â Â Â  )
Â Â Â Â Â Â  $instanceId = $vol.attachment[0].instanceid 
Â Â Â Â Â Â  $reservation = Get-EC2Instance -Instance $instanceId
Â Â Â Â Â Â  $instance = $reservation.RunningInstance
Â Â Â Â Â Â  $Name = ($instance.Tag | Where-Object {$_.Key -eq 'Name'}).Value
Â Â Â Â  
Â Â Â Â Â Â  return $NameÂ 

}

#Tag each volume to ensure it gets backed up
Get-EC2Volume | ForEach-Object {
Â Â Â Â Â Â  $backupKey = $false
Â Â Â Â Â Â  $_.Tag | ForEach-Object { if ($_.Key -eq 'BackupEnabled') {$backupKey = $true} }
Â Â Â Â Â Â  If ($backupKey -eq $false)
Â Â Â Â Â Â  {
Â Â Â Â Â Â Â Â Â  $volumeId = $_.VolumeId
Â Â Â Â Â Â Â Â Â  Write-Output ""Enabling backup for $volumeId""
Â Â Â Â Â Â Â Â Â  Add-EC2Tag -key 'BackupEnabled' -value 'True' -resourceId $volumeId
Â Â Â Â Â Â  }
}

$backupDate = Get-Date -f 'yyyy-MM-dd'

#Retrieve all volumes that should be backed up
$backupVolumes = Get-EC2VolumeTag -Tag 'BackupEnabled' -Value 'True'

#Backup each volume and apply tag information to the volume and snapshot
Foreach ($backupVolume in $backupVolumes)
{
Â  if ($volume.attachment)
Â  {
Â Â Â  
Â Â Â  $Name = Get-VolumeInfo -volume $backupVolume
Â Â Â  $snapshot = New-Ec2snapshot -VolumeId $volumeId -Description ""Backup for $Name - $backupDate""

Â Â Â  Add-EC2Tag -key 'BackupDate' -value $backupDate -resourceId $backupVolume.volumeID
Â Â Â  Add-EC2Tag -key 'BackupEnabled' -value 'True' -resourceId $snapshot.SnapshotId 
Â Â Â  Add-EC2Tag -key 'BackupDate' -value $backupDate -resourceId $snapshot.SnapshotId 
Â  }
}

#Remove old backups 
$RetetentionDays = 14

$Filter = (New-Object Amazon.EC2.Model.Filter).WithName('tag:BackupEnabled').WithValue('True')
$Snapshots = Get-EC2Snapshot -Filter $Filter

foreach ($Snapshot in $Snapshots)
Â Â Â  { 
Â Â Â  $Retention = (DateTime::Now).AddDays(-$RetentionDays)
Â Â Â  if (DateTime::Compare($Retention, $Snapshot.StartTime) -gt 0)
Â Â Â Â Â Â Â  { 
Â Â Â Â Â Â Â  Remove-EC2Snapshot -SnapshotId $snapshot.SnapshotId -Force 
Â Â Â Â Â Â Â  } 
Â Â Â  }"
Amazon EC2	"Re: PowerShell Backup Script Help
Can anybody help with this?  Is this posted to the correct Forum?"
Amazon EC2	"Help terminating i-050fe220
Per the documentation found here...
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesShuttingDown.html
Please help terminate i-050fe220. This resource was created via cloudformation which failed to delete. Attempted to terminate manually with no success. The instance state has been ""shutting down"" for several hours."
Amazon EC2	"Re: Help terminating i-050fe220
Hello,

I can confirm that your EC2 instance i-050fe220 is now terminated. If you have any additional questions or concerns, please do let us know. We'll be glad to assist.

Regards,
Mohsin"
Amazon EC2	"SSH port 22: Connection refused
Hello,

I am able to connect to my current instance with my key but any new instance that I launch I am having trouble connecting with SSH.

I have launched a Linux AMI instance (i-b38bca71) and I am having trouble connecting to my server using SSH on port 22.  I've opened port 22 on the security group. This happens to any linux instance that I launch.

ssh -vvv -i myKey.pem ec2-user@52.x.x.x
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 102: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 52.x.x.x http://52.x.x.x port 22.
debug1: connect to address 52.8.8.253 port 22: Connection refused
ssh: connect to host 52.x.x.x port 22: Connection refused

telnet 52.x.x.x
Trying 52.x.x.x
telnet: connect to address 52.x.x.x: Connection refused
telnet: Unable to connect to remote host

Please help.

Thanks

Edited by: AudioVerse on Jun 30, 2015 8:04 AM"
Amazon EC2	"Re: SSH port 22: Connection refused
There are a few possible issues that could be happening here.  The first is to make sure that your security group is correct, make sure that if you are using your local IP address that it has not changed.  You can verify your public IP address using a number of websites such as ""whatismyip.com"", if you are behind a corporate network, this can change from time to time.

You noted that you could SSH into a different instance, so as long as both instances have the same security group this should be fine.  If you are using any boot strap scripts, they may not have fully completed and I've seen that stall an instance from coming immediately online as well."
Amazon EC2	"no-ip nameservers inaccessible from us-east-1e
I can't resolve some of the hostnames I've dynamically updated through No-IP, because parts of EC2 (us-east-1e) cannot connect to the no-ip name servers.

traceroute to ns1.no-ip.com, ns2.no-ip.com, ns3.no-ip.com, ns4.no-ip.com, ns5.no-ip.com fails from instance i-27e3758e and instance i-956e8443 in zone us-east-1e.

Traceroute works and my updated hosts can be resolved correctly from zone us-east-1b.

Update: 20 minutes later, the hosts started resolving somehow from us-east-1e (perhaps propagated somehow), but traceroute to no-ip nameservers still fails."
Amazon EC2	"Re: no-ip nameservers inaccessible from us-east-1e
The traceroute problem was my fault, due to an overly restrictive network ACL.  I wasn't allowing most UDP ports out of my VPC subnet.  No-ip nameservers were properly up, running, and reachable.

I'm still puzzled as to why a host update with a 60 second TTL wasn't propagated through the Amazon-provided DNS server for 20 minutes."
Amazon EC2	"Improve Route
Hi Amazon,

I would like to ask if its possible to somehow improve route hops by adjusting your preferences on either TATA or Tiscali . If its possible to use TATA in which my backend server have them on their network.

Instance ID: i-1d00f4e0
attached herewith is our traceroute from AWS to our backend server.

Edited by: acelino18 on Jun 30, 2015 9:07 AM

Edited by: acelino18 on Jun 30, 2015 9:18 AM"
Amazon EC2	"URGENT: i-ccdc0931 stuck during scheduled server maintenance
Our instance i-ccdc0931 had scheduled maintenance (system-reboot) and it seems to be stuck here. I see the message ""One or more volumes attached to this instance is impaired. Please review the state of your volumes"" on the instance but when I goto the two ebs shares that are on this instance seem to be ok. Thought they give the below message, I can't detach them as it gives the below message.

""Volume stuck in attaching since 38 days, 23 hours and 35 minutes ago ago. ""
Error detaching volume vol-883be666 (xxx): Unable to detach volume 'vol-883be666' from instance 'i-ccdc0931'. The instance is not in a state in which volumes can be detached.

Can you look into this ASAP? Thanks"
Amazon EC2	"Re: URGENT: i-ccdc0931 stuck during scheduled server maintenance
Resolved. Thanks"
Amazon EC2	"windows kernal power event 41
My instance (i-3ecbd8c3) shut down unexpectedly and without warning, with event ID 41, at 5/28/2015 9:03:16 PM.  I'm wondering what might have caused this to happen.  

Thanks,
Yug"
Amazon EC2	"Re: windows kernal power event 41
Hi Yug,

I've checked this and can confirm that this reboot took place due to a fault on the underlying physical host. I apologize for the inconvenience caused.

Richard"
Amazon EC2	"Re: windows kernal power event 41
My instance (i-3ecbd8c3) has once again shut down unexpectedly with the same critical error identified below.  Could you please look into why this has occurred (again). 
41	Critical	Microsoft-Windows-Kernel-Power	System	6/30/2015 8:12:34 AM"
Amazon EC2	"Re: windows kernal power event 41
You may want to stop (NOT TERMINATE) the instance (not reboot) via the AWS console, then Start it back up.   Typically if there's a host fault that AWS has detected, this will move your instance to another working host."
Amazon EC2	"Apparent network problem between instance and load balancer
We witnessed what appears to be a network problem on one of our production instances today. We suspect that large network packets coming from one of our load balancers were being blocked (by a router?) before they reached our instance.

The VPC ID is vpc-ee9f1a8b

Actors in this exchange are:

Instance: i-2480b48e with IP 10.0.2.4 (sadly this instance was terminated post investigation)
Load Balancer: internal-Prod25-TrafficLoad-1R731QT20NOQ with IP 10.0.1.186


The load balancer directs HTTP requests to other instances (this was working fine).
On the instance we send a request to the load balancer like this:
$ wget 'http://10.0.1.186:8080/traffic'

This connects to the load balancer and then just sits there.

Snooping the network on the Worker shows there is a network problem:
01: 13:30:00.189581 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [S], seq 142350987, win 26883, options [mss 8961,sackOK,TS val 14352211 ecr 0,nop,wscale 7], length 0
02: 13:30:00.190351 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [S.], seq 2296533050, ack 142350988, win 17898, options [mss 8961,sackOK,TS val 236351278 ecr 14352211,nop,wscale 8], length 0
03: 13:30:00.190380 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [.], ack 1, win 211, options [nop,nop,TS val 14352211 ecr 236351278], length 0
04: 13:30:00.190405 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [P.], seq 1:121, ack 1, win 211, options [nop,nop,TS val 14352211 ecr 236351278], length 120
05: 13:30:00.191123 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [.], ack 121, win 70, options [nop,nop,TS val 236351278 ecr 14352211], length 0
06: 13:30:00.194752 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [P.], seq 8950:8976, ack 121, win 70, options [nop,nop,TS val 236351279 ecr 14352211], length 26
07: 13:30:00.194765 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [.], ack 1, win 211, options [nop,nop,TS val 14352212 ecr 236351278,nop,nop,sack 1 {8950:8976}], length 0
08: 13:30:00.194825 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [P.], seq 17925:17933, ack 121, win 70, options [nop,nop,TS val 236351279 ecr 14352211], length 8
09: 13:30:00.194836 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [.], ack 1, win 211, options [nop,nop,TS val 14352212 ecr 236351278,nop,nop,sack 2 {17925:17933}{8950:8976}], length 0
10: 13:30:00.195570 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [P.], seq 26882:26890, ack 121, win 70, options [nop,nop,TS val 236351279 ecr 14352211], length 8
11: 13:30:00.195582 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [.], ack 1, win 211, options [nop,nop,TS val 14352212 ecr 236351278,nop,nop,sack 3 {26882:26890}{17925:17933}{8950:8976}], length 0
12: 13:30:04.852593 IP 10.0.2.4.43152 > 10.0.1.186.8080: Flags [F.], seq 121, ack 1, win 211, options [nop,nop,TS val 14353376 ecr 236351278,nop,nop,sack 3 {26882:26890}{17925:17933}{8950:8976}], length 0
13: 13:30:04.889937 IP 10.0.1.186.8080 > 10.0.2.4.43152: Flags [.], ack 122, win 70, options [nop,nop,TS val 236352453 ecr 14353376], length 0


Packets 01 to 05 are all normal.
Packet 06 is problematic. The START sequence number of the data sent from load balancer to instance jumps from 1 to 8950. This means the load balancer sent data that never made it to the instance. In wireshark this is reported as ""TCP Previous segment lost"".
It appears that one or more network packets sent from load balancer to instance are getting lost. As the MTU in the network is 9001 it is probably a single packet.

We have another (identical) instance on the same IP range. This second instance has no problems communicating with the load balancer.

Based on the above dump my guess is that there is a misconfigured network device between load balancer and instance (close to the instance) which is blocking large packets.

How do we deal with this?"
Amazon EC2	"auto recover and cloufomation
I have setup an auto-recover instance in cloudformation.

From time to to time I want to update the instance via cloud formation, eg adding additional data in userdata etc.

What I am finding though is that when I update the stack, the instance shuts down, then starts up again and nothing has changed and my instance is not getting updated. Which is rather pointless activity. 

Am I do something wrong?"
Amazon EC2	"Instance stuck in stopping state
We have an instance that will not get out of the stopping state, even after having tried to force stop it multiple times.

i-12a5463e"
Amazon EC2	"Re: Instance stuck in stopping state
Good day

I confirm our automated systems have stopped the instance at 2015-06-30 02:00 UTC. I also confirm that you have restarted the instance. The instance is now running on a new underlying host and is responding well. 

Regards
Imthian R"
Amazon EC2	"Can not connect remotely to ec2 instance created using ec2-import-instance
Hi,

I am not able to connect to ec2 instance which I have created using ec2-import-instance.

While exporting the virtual machine into OVF I have followed all the guidelines mentioned in 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingVirtualMachinesinAmazonEC2.html

Import and conversion task are also successful. System log also does not show any irregularity.

I have also ensured that the security group associated with that instance has RDP access.

Tried multiple times with different vms but no luck.


Thanks,
Avik"
Amazon EC2	"Re: Can not connect remotely to ec2 instance created using ec2-import-instance
Hello,

Thanks for posting. Unfortunately I cannot locate your AWS account via your username and you didn't provide an instance id. Without being able to look at the instance configuration from our end it is difficult to say what the issue is.

I suggest launching another instance and updating this forum post with the instance id so that we can look closer at the configuration and provide further suggestions.

Regards,
Brandon"
Amazon EC2	"Re: Can not connect remotely to ec2 instance created using ec2-import-instance
Hi Brandon,

My AWS account alias is : awspdproject25

First instance id : i-9d8dd451 
The above instance in imported using ec2-import-instance command  and the vmdk file imported has been created from a VmWare vSphere client.

First instance id : i-81267d4d 
The above instance in imported using ec2-import-instance command  and the vmdk file imported has been created from a VmWare WorkStation.

Before creating the instance it is been taken care that the host machine does not have any pending windows update, remote desktop connection is enabled for that host, Antivirus system is also disabled.

Please let me know if you need any other information.

Thnaks,
Avik

Edited by: avikPune on Jun 25, 2015 9:16 AM"
Amazon EC2	"Re: Can not connect remotely to ec2 instance created using ec2-import-instance
Hi Avik,

Your instances look healthy, but the security group is only open to instances in sg-a5e969c0. So instances in sg-a5e969c0 can talk to your new instances, but you won't have access from the internet. If you are able to add an inbound rule for port 3389 from 0.0.0.0/0 for testing we can at least telnet to the instance for you and check the port is open. Maybe your Windows firewall is blocking?

Or you can try the telnet yourself and post the results here.

$ telnet public_ip 3389

Also please double check that you meet all the import prerequisites - eg a single volume and a single NIC etc.

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

Regards,
Julian H."
Amazon EC2	"Re: Can not connect remotely to ec2 instance created using ec2-import-instance
Hi Julian,

Thanks for the assistance.

Here the issue was the default security group being attached with the instance created by ec2-import-instance opens up all traffic from the same security group itself.

Once that is configured to be used from outside the instance is accessible.

But I have  once question here, the command we use for importing instance to amazon cloud does not asks for any security groups, so is there any way to do a pre-configuration of security groups during import operation?

One more observation I have, the instance I have imported as ec2 can be connected successfully using RDP only when the vmdk file used to import, is created from VMWare Workstation.

If it is created by VMWare vSphere Client or VMWare Player then the instance created after successful import is not accessible remotely(although the security groups are configured properly). 

Please verify my observation, it will be  easier for us to create VM images later on.

Thanks,
Avik"
Amazon EC2	"Re: Can not connect remotely to ec2 instance created using ec2-import-instance
Hi there,

You can import a VM as an AMI image or as an EC2 instance. If you import as an EC2 instance we need to assign at least one security group, so we apply the default group. You can change the security groups in the AWS console or via API before you start the instance. 

EC2 import start instance
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/LaunchingYourVM.html

EC2 default SG
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html#default-security-group

With an AMI import, when you use the launch wizard to create an instance and start it, you can manually chose the security groups. Or you can use the API / CLI to launch an instance from the AMI and specify the SGs. 

AMI launch
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/LaunchVMImportImage.html

CLI run instance
http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html

As for VMWare Workstation, VMWare vSphere Client or VMWare Player, according to our documentation prerequisites page only VMWare vSphere Client is supported. If VMWare Workstation images are working that is good, your mileage may vary, and as i understand VMWare player is unlikely to work at all. 

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html

AWS supports the following image formats for importing both disks and VMs into Amazon EC2:

RAW format for importing disks and VMs.
Dynamic Virtual Hard Disk (VHD) image formats, which are compatible with Microsoft Hyper-V and Citrix Xen virtualization products. VHDX images are not currently supported.

Stream-optimized ESX Virtual Machine Disk (VMDK) image format, which is compatible with VMware - ESX and VMware vSphere virtualization products.

I hope this helps.
Regards,
Julian H."
Amazon EC2	"instance stuck ""stopping""
trying to follow the instructions for retiring an instance, the instance is stuck ""stopping"". Tried to force stop twice. The OS is still up in a read-only state and the dashboard still says ""stopping"".

instance id: i-acb4b1f5

we just needed to stop and start the instance..."
Amazon EC2	"Re: instance stuck ""stopping""
it finally stopped, not sure why it took so long."
Amazon EC2	"Error starting instances
I receive this error in my EC2

Error starting instances
This account is currently blocked and not recognized as a valid account. Please contact aws-verification@amazon.com if you have questions.

My instance is out for over 30 hours.
No one answered my email or my case ID 1431474481.

Edited by: RodneyM@AWS on Jun 29, 2015 2:10 PM"
Amazon EC2	"Re: Error starting instances
Hi kleberspinto,

I'm going to send you PM shortly with more details.

Regards,

Rodney"
Amazon EC2	"Suddenly can't ssh to instance
I created few ec2 instances from private AMI. For all of them I used the same public-private key. Up until an hour ago I was able to ssh normally to all instances. 

Now, I'm not sure what happened but for one instance I'm currently unable to ssh (using putty). I keep getting ""Server refused our key"". The thing is that I was able to ssh to this instance before. Furthermore, I created another image from this instance using which I launched a new instance (specifying the same key I'm using to usefully ssh to other instances) and still, same error.

Any idea?"
Amazon EC2	"Re: Suddenly can't ssh to instance
Hi yosi-kal,

It's hard to say at this point what caused the issue. The only for certain is that the server is refusing your key which could be a multitude of reasons.

If you don't have another way to access instance the instance you'll need to stop said instance and detach the root volume, then attach the volume as a secondary device to another instance you have access to. From here you can poke around and ensure the permissions are correct and the keys match up. If not, this will give you a chance to rotate keys, and if you have audit logging enabled on your server figure out how/why the key was changed to begin with.

Hope this helps.

Rodney"
Amazon EC2	"RHEL 7.1 ssh fingerprint missing from console output
Hi,

It seems that the instances started from RHEL 7.1 AMIs  https://aws.amazon.com/marketplace/pp/B00VIMU19E does not write the SSH fingerprint into the system log, therefore I can't use the 'Get System Log' menu on AWS UI or the command line tool to figure out the ssh fingerprint of the launched server.
Is there a way to forcing cloud-init 0.7.6 that comes with the stock RHEL 7.1 to write SSH fingerprints into the console log? On Centos 7 https://aws.amazon.com/marketplace/pp/B00O7WM7QW it works by default.

Thanks,
Attila"
Amazon EC2	"Instance  i-4c4f0daf stucks on shutdown
Hello,

Since last Friday, I am trying to terminante an instance but it keeps as ""shutting-down"" and does not terminate it at all.

Can you check what is going on?

Instance Id: i-4c4f0daf
Region: sa-east-1

Best,
Guilherme."
Amazon EC2	"Re: Instance  i-4c4f0daf stucks on shutdown
Hi Guilherme,

I'm taking a look at this now. Should hopefully get this stopped for you shortly.

Regards,

Rodney"
Amazon EC2	"Possible Instance Failures on Dedicated Hardware
Is there any way to see if instances are on the same hardware?  We had three instances experience network connectivity issues at the same time.  We have instances in two AZs.  One AZ experienced no issues while the other had these three problem instances.  Simply disconnecting them from the LB and starting new instances in the good AZ seemed to work.

This makes me think the three failures are on the same hardware.  I'd like to verify before I put this down as the root cause."
Amazon EC2	"Re: Possible Instance Failures on Dedicated Hardware
Hi there,

Can you please update this post with the instance ID's, and I can gladly further look into this for you. 

Kind regards, 
Belynda"
Amazon EC2	"Re: Possible Instance Failures on Dedicated Hardware
I have disposed of these instances, so I had too look them up in cloud trail.  I had one in two different AZs, but the one in my us-east-1a AZ is the one that failed.

The ids were i-e7fb8f37, i-6e2beec7, i-e521484c

I have three because I stared one in my us-east-1a AZ, but my theory is that it ended up on the same dedicated hardware and had the same issue, because the symptoms were the same, and my us-east-1e kept working."
Amazon EC2	"Phantom Snapshot
I am creating snapshots using a python script, copy them to another region, and then deleting old ones.  However, today I am getting an error that one of the snapshots returned for deletion does not exist.  I tried deleting it through the console and I receive a generic error message.  When I try it through the script it says it does not exist.  Any assistance is appreciated."
Amazon EC2	"Amazon is charging me even all of my instances are stopped
Last night when i stopped all of my instances my bill was 4.16. This morning when i check my bill status it was 4.37. Why is Amazon charging me when all of my instances are stopped?"
Amazon EC2	"Re: Amazon is charging me even all of my instances are stopped
Hi,

I have created an outbound billing support case to address your query regarding the EC2 charges. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1431700031

Regards,

Luke H."
Amazon EC2	"Re: Amazon is charging me even all of my instances are stopped
How can i close my AWS account? Will i be charged additionally if i close it?"
Amazon EC2	"Re: Amazon is charging me even all of my instances are stopped
Hello,

Please raise your concerns on the case that was opened for you.

Regards,

Matt W."
Amazon EC2	"Re: Amazon is charging me even all of my instances are stopped
Well, if you have EBS volumes defined (even though not in use) and/or Elastic IPs allocated that are not attached to a running instance, you will be charged.  You may want to review how pricing works under AWS -- I bet there's no technical issue in play.  https://aws.amazon.com/ec2/pricing/  -- scroll down toward the bottom..."
Amazon EC2	"Instance i-b0dd17cb stuck in stopping state
Hi,

    My instance has been in stopping state for more than 20 mins. Please help to make it stop. Thanks.

us-east-1
i-b0dd17cb

James"
Amazon EC2	"Re: Instance i-b0dd17cb stuck in stopping state
Hello James,

Apologies for the troubles you are seeing with this instance.  It should now be reporting as stopped.

Best regards,
Justin G."
Amazon EC2	"Re: Instance i-b0dd17cb stuck in stopping state
Thank you for the quick response."
Amazon EC2	"Bug Report: Amazon Linux AMI has EDITOR envvar set to emacs
Hi,

I've noticed this for a few months now and thought it's time to raise a bug report for it.

In the Amazon Linux AMI the EDITOR environment variable is set to 'emacs' but emacs is not installed by default.

So when using 'ctrl-x ctrl-e' to open the current bash line in the default editor you are met with the error:
-bash: emacs: command not found


There is a very simple workaround:
$ export EDITOR=vim


The workaround is a very simple fix but it seems like the sort of thing that should work by default.
Please either set the EDITOR envvar to vim by default or at least install some form of emacs by default in the instance.

Cheers,
Aaron."
Amazon EC2	"Re: Bug Report: Amazon Linux AMI has EDITOR envvar set to emacs
Hi Aaron,

Thanks for pointing this out! I agree that the EDITOR should be configured correctly by default. We'll take a look at getting this corrected in an upcoming updates push, and post here again when that's done.

Thanks for the suggestion, and thanks for using the Amazon Linux AMI!

Ethan"
Amazon EC2	"Please help! mysqld shuts down unexpectedly... does anyone know why?
Hello,

I'm running an t2.micro Amazon Linux instance. I have been experiencing a few unexpected mysqld shut-downs ever since I have installed LAMP and Wordpress on the instance. And every time mysqld shuts down, the file permissions I've set were gone, and it's annoying to re-apply the file permissions again every time.  

I just started working with these server setup stuffs, I'm still a newbie... 
Could someone help me and tell me what to do to prevent future mysqld self shut-downs and how do I configure it so that I don't have to re-apply file permissions after a shut-down? 

Here is a part of the mysqld log:
150627 18:02:22 InnoDB: Mutexes and rw_locks use GCC atomic builtins
150627 18:02:22 InnoDB: Compressed tables use zlib 1.2.7
150627 18:02:22 InnoDB: Using Linux native AIO
150627 18:02:22 InnoDB: Initializing buffer pool, size = 128.0M
150627 18:02:22 InnoDB: Completed initialization of buffer pool
150627 18:02:22 InnoDB: highest supported file format is Barracuda.
InnoDB: Log scan progressed past the checkpoint lsn 10566571
150627 18:02:22  InnoDB: Database was not shut down normally!
InnoDB: Starting crash recovery.
InnoDB: Reading tablespace information from the .ibd files...
InnoDB: Restoring possible half-written data pages from the doublewrite
InnoDB: buffer...
InnoDB: Doing recovery: scanned up to log sequence number 10566581
150627 18:02:22  InnoDB: Waiting for the background threads to start
150627 18:02:23 InnoDB: 5.5.42 started; log sequence number 10566581
150627 18:02:23 Note Server hostname (bind-address): '0.0.0.0'; port: 3306
150627 18:02:23 Note   - '0.0.0.0' resolves to '0.0.0.0';
150627 18:02:23 Note Server socket created on IP: '0.0.0.0'.
150627 18:02:23 Note Event Scheduler: Loaded 0 events
150627 18:02:23 Note Server socket created on IP: '0.0.0.0'.
150627 18:02:23 Note Event Scheduler: Loaded 0 events
150627 18:02:23 Note /usr/libexec/mysqld: ready for connections.
Version: '5.5.42'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Commu$
 mysqld_safe Number of processes running now:
150628 18:18:29 mysqld_safe mysqld restarted
/usr/bin/mysqld_safe: line 165: /usr/bin/nohup: Cannot allocate memory
150628 18:22:53 mysqld_safe Starting mysqld daemon with databases from /var/lib$
150628 18:22:53 Note Plugin 'FEDERATED' is disabled.
150628 18:22:53 InnoDB: The InnoDB memory heap is disabled
150628 18:22:53 InnoDB: Mutexes and rw_locks use GCC atomic builtins
150628 18:22:53 InnoDB: Compressed tables use zlib 1.2.7
150628 18:22:53 InnoDB: Using Linux native AIO
150628 18:22:53 InnoDB: Initializing buffer pool, size = 128.0M
150628 18:22:53 InnoDB: Completed initialization of buffer pool
150628 18:22:53 InnoDB: highest supported file format is Barracuda.
InnoDB: The log sequence number in ibdata files does not match
InnoDB: the log sequence number in the ib_logfiles!
150628 18:22:53  InnoDB: Database was not shut down normally!
InnoDB: the log sequence number in the ib_logfiles!
150628 18:22:53  InnoDB: Database was not shut down normally!
InnoDB: Starting crash recovery.
InnoDB: Reading tablespace information from the .ibd files...
InnoDB: Restoring possible half-written data pages from the doublewrite
InnoDB: buffer...
150628 18:22:54  InnoDB: Waiting for the background threads to start
150628 18:22:55 InnoDB: 5.5.42 started; log sequence number 11269379
150628 18:22:55 Note Server hostname (bind-address): '0.0.0.0'; port: 3306
150628 18:22:55 Note   - '0.0.0.0' resolves to '0.0.0.0';
150628 18:22:55 Note Server socket created on IP: '0.0.0.0'.
150628 18:22:55 Note Event Scheduler: Loaded 0 events
150628 18:22:55 Note /usr/libexec/mysqld: ready for connections.
Version: '5.5.42'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Commu$
150628 18:28:10 mysqld_safe Number of processes running now: 0
150628 18:28:13 mysqld_safe mysqld restarted
/usr/libexec/mysqld: error while loading shared libraries: libkrb5.so.3: failed$

Edited by: leotse89 on Jun 28, 2015 2:12 PM"
Amazon EC2	"Re: Please help! mysqld shuts down unexpectedly... does anyone know why?
Hi,

Looking at the log file you posted, I see
/usr/bin/mysqld_safe: line 165: /usr/bin/nohup: Cannot allocate memory


This suggests to me that mysql-server or another process is trying to use more memory than you have available on your t2.micro instance. It would also explain why it is being shut down (e.g. by the oom killer).

I would suggest using top or a similar program to figure out what processes are using up memory on your instance. If it is mysql, you can configure the database engine to make it more memory-friendly. Some of the results here might be helpful: https://www.google.com/search?q=mysql+memory+limit

You might also try a larger instance size (e.g. one with more memory).

Ethan"
Amazon EC2	"How do I access my EC2 instance through http?
Hello everyone,

I have searched the web all over and found some answers but I still don't understand.

I have set up a EC2 instance (Red Hat Server) and I have changed the security group of that instance to accept http access from anywhere.

When I type the IP address of the instance or the public DNS on my browser, I get nowhere. How do I access my EC2 instance through http?"
Amazon EC2	"Re: How do I access my EC2 instance through http?
Unfortunately you haven't really provided enough information to track down the problem.

What does ""I get nowhere"" mean? What exactly happens when you navigate to http://<instance-ip-address>/ in a browser?

What HTTP server are you running, and are you sure it's actually listening on port 80?

What happens if you run 'curl http://localhost/' from your instance?"
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hi,

Is this set up in a non default VPC? If so, then you must ensure you have an Internet Gateway associated with your VPC and that your routing table is updated.

The route table associated with the subnet that your instance resides in must have a route out to the public internet, for example: 0.0.0.0/0 via your Internet Gateway.

Can you confirm you have an IGW and that your route to the public domain exists?

Also, check your NACLs to ensure you dont have port 80 blocked at a network level.

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hello David,

Thank you for your answer.

I opened Terminal and ssh into my instance.

$ ssh -i Downloads/ServerRedHat.pem ec2-user@ec2-52-27-69-147.us-west-2.compute.amazonaws.com
Last login: Wed Jun 24 05:59:09 2015 from i19-lef02-th2-###-###-7-233.ft.lns.abo.bbox.fr
ec2-user@ip-###-##-##-### ~$ curl http://localhost/
curl: (7) Failed connect to localhost:80; Connexion refusÃ©e
ec2-user@ip-###-##-##-### ~$ 

It says ""Connection not allowed to localhost:80"".
So does that mean that the 80 port is closed?
How do I open it?
I am new to this 

Additionally, I am trying to access my instance using my browser. I type as the URL: http://ec2-52-27-69-147.us-west-2.compute.amazonaws.com
I have a message : ""Safari can't connect to this server.""

Edited by: Emilie Chary on Jun 25, 2015 3:07 AM"
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hello Stooby33,

Thank you for your answer.

I have not set up VPC with my EC2 instance. I understood it wasn't mandatory. Is it?"
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hi,

No its not madatory as your instance would just be in the Default VPC.  The default VPC has certain components already configured, such as the IGW and public IP addresses.

It sounds as though your Security Group for the instance is blocking port 80 from your source address, but your first comment indicates otherwise.....are you able to double check the security group? 

Cheers,

Stooby..."
Amazon EC2	"Re: How do I access my EC2 instance through http?
I have checked the security group.

Here is what I see (attachments)
I am trying to access the first instance listed: ec2-52-27-69-147.us-west-2.compute.amazonaws.com

Could it come from the firewall? I've read multiple posts regarding the issue but couldn't find any command to deactivate the firewall that worked. It says command not found.
I am running a Red Hat Server.

Edited by: Emilie Chary on Jun 25, 2015 8:01 AM"
Amazon EC2	"Re: How do I access my EC2 instance through http?
If connecting to localhost from the instance itself doesn't work, then your main problem has nothing to do with VPCs or security groups. Those affect how traffic is routed from the outside network to your instance, but it's your instance itself that isn't accepting connections.

What do you expect to see when you connect to your instance over HTTP? If you want it to serve web pages, you'll need to install and run an HTTP server such as Apache. Try ""yum install httpd""."
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hello Emilie,

I have taken a look at the instance and the configuration looks correct.

You can check if iptables is running on the instance by using the following command:
sudo service iptables status

To check if there are any rules in iptables, you can use the following command: 
sudo iptables -L -n

I have tried to telnet on both ports 80 and 443 and seeing connection refused below. This is typically means that you Web server is not listening/running on the instance.

telnet 52.27.69.147 80
Trying 52.27.69.147...
telnet: connect to address 52.27.69.147: Connection refused

telnet 52.27.69.147 443
Trying 52.27.69.147...
telnet: connect to address 52.27.69.147: Connection refused

You can check if your Web server is listening by using the following command: 
sudo netstat -tnap

Please feel free to contact us again if you need any further assistance.

Best Regards, 

Ahmed H."
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hello AhmedH,

Thank you for your reply.

I ran the command and iptables is running, and web server is listening, as far as I can tell:

ec2-user@ip-172-31-38-234 ~$ sudo iptables -L -n
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination         

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination         
ec2-user@ip-172-31-38-234 ~$ sudo netstat -tnap
Connexions Internet actives (serveurs et Ã©tablies)
Proto Recv-Q Send-Q Adresse locale          Adresse distante        Etat        PID/Program name    
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      3741/sshd           
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1218/master         
tcp        0     36 172.31.38.234:22        212.195.7.233:55046     ESTABLISHED 31121/sshd: ec2-use 
tcp6       0      0 :::3306                 :::*                    LISTEN      22411/mysqld        
tcp6       0      0 :::22                   :::*                    LISTEN      3741/sshd           
tcp6       0      0 ::1:25                  :::*                    LISTEN      1218/master         
ec2-user@ip-172-31-38-234 ~$ 

So any idea?"
Amazon EC2	"Re: How do I access my EC2 instance through http?
Hello David,

I expect to have my index.php to load (Wordpress installation). However, it should give me an error as I haven't imported my database yet (Error establishing a database connection). 

I have ran your command and I have already installed httpd.

ec2-user@ip-172-31-38-234 ~$ sudo yum install httpd
Modules complÃ©mentaires chargÃ©sÂ : amazon-id, rhui-lb
epel/x86_64/metalink                                     |  11 kB     00:00     
mysql-connectors-community                               | 2.5 kB     00:00     
mysql-tools-community                                    | 2.5 kB     00:00     
mysql56-community                                        | 2.5 kB     00:00     
rhui-REGION-client-config-server-7                       | 2.9 kB     00:00     
rhui-REGION-rhel-server-releases                         | 3.7 kB     00:00     
rhui-REGION-rhel-server-rh-common                        | 1.9 kB     00:00     
rhui-REGION-rhel-server-releases/7Server/x86_64/primary_db |  13 MB   00:00     
rhui-REGION-rhel-server-releases/7Server/x86_64/updateinfo | 579 kB   00:00     
Le paquet httpd-2.4.6-31.el7.x86_64 est dÃ©jÃ  installÃ© dans sa derniÃ¨re version
Rien Ã  faire

In fact, I have installed Apache, MySql and phpMyAdmin. I was getting to the point I need to access phpMyAdmin to import my database and that's why I needed to go to http. (and then of course, I need http access to go on my website). I am using EC2 as a staging server. I also have Git installed."
Amazon EC2	"Re: How do I access my EC2 instance through http?
Anyone has any idea to try out?"
Amazon EC2	"Re: How do I access my EC2 instance through http?
I found the answer to my problem. After reading countless of forums, it happened that httpd wasn't started.

From the command line, I ran:
sudo service httpd start

And I can now access my instance Amazon EC2 from my browser 
So happy!!!!"
Amazon EC2	"Amazon Linux i-83064f8e is rooted with Linux.BackDoor.Gates. How do I clean
Hi,

My Amazon Linux i-83064f8e is rooted with Linux.BackDoor.Gates. How do I clean it ?

I have managed to disable and shut down the user processes and disable the DbSecuritySpt and rc.* scripts that were loading the user processes.

However I think the kernel still has a rogue LKM loaded.

LINUX.BACKDOOR.GATES.5

Kaspersky	BACKDOOR.LINUX.GANIW.A
Sophos		LINUX/DDOS-BD
Avast		ELF:ELKNOT-Z
DrWeb		LINUX.BACKDOOR.GATES.5

Thanks!"
Amazon EC2	"Re: Amazon Linux i-83064f8e is rooted with Linux.BackDoor.Gates. How do I clean
Hi,

I would recommend launching a new instance based on an AMI that is known to be clean (e.g. a fresh copy of the latest Amazon Linux AMI, 2015.03) and configuring your application there. Otherwise you may inadvertently miss something. We frequently publish security updates for the Amazon Linux AMI (you can see a list here: https://alas.aws.amazon.com/), so be sure to regularly run yum update to be sure that these are installed and your instance is not vulnerable.

Ethan"
Amazon EC2	"Can't Connect To MYSQL Database
Hi,

First, sorry for what maybe be the noobie questions. I'm totally self taught as of 1 week ago in all things EC2.

I managed to setup a linux micro instance.
Moved my website files over to it and setup an elastic ip.
Pointed my website and boom. It worked.
I managed to MYSQL workbench to connect to my instance and I imported my MYSQL database.

Now i'm stuck 
My program, Sendy, cannot connect to my database.

Any ideas?

My config file has the following:

	$dbHost = 'localhost'; //localhost
	$dbUser = 'user'; //user
	$dbPass = 'password'; //MySQL Password
	$dbName = 'nameofdatabase'; //MySQL Database Name

$charset = 'utf8';

	/*  Set this if you use a non standard MySQL port.  */
	$dbPort = 3306;"
Amazon EC2	"Re: Can't Connect To MYSQL Database
I solved my own problem. Just had to make edits to the httpd.conf"
Amazon EC2	"Problems controlling a network interface in an Ubuntu Linux instance
Hi,

    I need to test some code that I've been working on that uses the output of ec2-describe-instance-status
 to determine whether an instance needs to be rebooted. My plan for testing the code was to use a script running on a test instance that brought the network interface down for a set period of time and then brought it back up. Here is the short python script;

import sys
import time
import subprocess
Â 
nohup = 'nohup '
ifDownCmd = '/sbin/ifconfig eth0 down'
ifUpCmd = '/sbin/ifconfig eth0 up'
Â 
runIfDownCmd = subprocess.Popen(nohup + ifDownCmd + ' &',stdout=subprocess.PIPE,shell=True)
Â 
(output, err) = runIfDownCmd.communicate()
print(output + 'cmd1' )
Â 
time.sleep(10) # time is shortened for testing
Â 
runIfUpCmd = subprocess.Popen(nohup + ifUpCmd + ' &',stdout=subprocess.PIPE,shell=True)
Â 
(output, err) = runIfUpCmd.communicate()
print(output + 'cmd2')
Â 
exit()


I only post the code so you can see what it is doing. I've tested this script on an ubuntu VM running on my own machine by sshing into the machine from my host OS and running the script and it functions as expected. What happens on the EC2 instance is, however, unexpected. It would seem that the interface is brought down and the instance becomes unreachable, but I'm never able to connect to the instance again. I have dumped the output of the script to a text file on my EC2 instance and it would appear that the script finishes execution and neither ifconfig command returns an error. I have also noticed varied behaviour from the ec2-describe-instance-status
 command as well as the EC2 web console. Most of the time, after running the script and confirming that I cannot reach the instance the instance status shows that both the system and instance reachability status is ""passed."" That said, I have seen on two occasions that it showed the expected instance reachability status of ""failed."" I've tried running the script using several methods; in screens, using cron, just from the shell... they have not had any impact on the behaviour described above. Does anyone have any insight, suggestions or sage advice on this issue? If so I'd be appreciative if you could share it. 

Thanks,
Skip

Edited by: Michael J Mills on Jun 29, 2015 8:19 AM"
Amazon EC2	"For AWS support: It takes a long time to login the instance via ssh
Hi AWS support,
My instance is i-072c6f7f. It takes a long time  to login the instance via ssh. Can you please take a look at it why the instance is so slow?

Thanks."
Amazon EC2	"Re: For AWS support: It takes a long time to login the instance via ssh
Hello,

I've taken a look at your instance and everything looks healthy from our side.  CPU usage, disk IO and network utilisation all look fine.

Unfortunately this is all we can check as we have no access to your instance to be able to diagnose any further - you'll need to get in touch with your sysadmin team to diagnose this instance.

Regards,

Matt W."
Amazon EC2	"Account still suspended after paying the due invoices, case id: 1431726261
Hi 
we had unpaid services for 2 months due to expired credit card, which we forgot to update. Now the invoices are paid but we still can't access our EC2 account and our server is still down and inaccessible. Please advise ASAP! Thanks!"
Amazon EC2	"Re: Account still suspended after paying the due invoices, case id: 1431726261
Please advise ASAP! The server has been down for 5 hours now."
Amazon EC2	"Re: Account still suspended after paying the due invoices, case id: 1431726261
Hi,

I see that you have a support case opened regarding the Account Suspension. I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Case ID: 1431726261

Regards,

Luke H."
Amazon EC2	"Reserved instances billing and canceling support subscription
Hi, I have few reserved instances running and now I think I dont need some of them, I want to terminate not needed instance permanently but cant understand billing, if I terminate some instance then still Amazon will bill me for terminated instance?

How can I cancel my support subscription?"
Amazon EC2	"Re: Reserved instances billing and canceling support subscription
Hi,

I have created an outbound billing support case to address your query regarding canceling your support plan and Reserved Instances. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1431746751

Regards,

Luke H."
Amazon EC2	"instance was rebooted, logs not showing why
On 6/29/2015 00:19 UTC my instance ""i-288187eb"" was rebooted for unknown reasons.

Was there a host issue at the time?"
Amazon EC2	"Re: instance was rebooted, logs not showing why
Hi there, 

I've taken a look at your instance and can confirm that there was a issue on the underlying host, which resulted in the reboot your instance experienced around 6/29/2015 00:19 UTC.

The underlying host has since recovered however, and is currently healthy. 

Kind regards,
Belynda"
Amazon EC2	"Please remove rDNS config for these IPs. So I can release from the pool.
Dear Support,
Please remove rDNS for 54.169.28.75 &  54.169.17.189 
Then I can release these IPs. Thank you in advance."
Amazon EC2	"Re: Please remove rDNS config for these IPs. So I can release from the pool.
Hi there, 

I've removed the rDNS for the two EIP's. 

Please attempt to release them.

Kind regards, 
Belynda"
Amazon EC2	"Help! Please restore terminated instance i-61b34c13
Please restore accidentally terminated instance i-61b34c13. We don't have snapshots. We don't even know the volume id. Please help! Thanks."
Amazon EC2	"Re: Help! Please restore terminated instance i-61b34c13
Hi there, 

Once a instance has been terminated it cannot be restored. AWS do not keep backups of our customers instances or volumes. 

I've taken a look at the instance that has been terminated accidentally, and while I do see that the root volume has also been terminated, you did have a secondary EBS volume attached to the instance. This volume still shows as available, and the ID is vol-e0e9fcba. You will need to recreate your instance in the same availability zone as your volume, and attach your volume to the instance, and mount the volume to access the data. 

The following documentation will assist with attaching the volume on your new instance: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

Kind regards, 
Belynda"
Amazon EC2	"Unable to ssh to instance
I just create an new instance.  Ubuntu 14.04 with ssh and http in security group.  I create pem file and changed permissions as instructed.  When I try to ssh to instance it times out.  Also, I am unable to allocate an elastic ip to the instance.  The status says it is running and checks 2/2.  What else do I need to check.  When I set it up I used all the default setting.  The id is : i-ad167366.

Can anyone help with this?  I have set up instances in the past without any problems.

Thanks Randy"
Amazon EC2	"Re: Unable to ssh to instance
Hello,
The instance is up and running and is passing the health checks but the route table is missing the default route, can you please add the default route and then try accessing the instance.
More info about this :http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html
Regards,
Baseer."
Amazon EC2	"Re: Unable to ssh to instance
Thanks for your response.
I created a new instance id: i-e989ed22 and added subnet and route table.  I was also able to allocate an elastic ip. 

I am still not able to ssh to the server.
What else can I look for?

Thanks Randy"
Amazon EC2	"Re: Unable to ssh to instance
Hi there, 

Looking at your instance, the route table looks fine now and the instance appears to be healthy. 

Can you provide the verbose output you get when attempting to SSH to your instance please? 

We do have some steps here that may help, http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html , however we need to know what error you are getting in order to provide further guidance. 

Kind regards,
Belynda"
Amazon EC2	"M3.Large instance running very slow
Hi, 
I have a relatively new m3.large instance that is running very very slow. 
The load average is very high, but there is only one or two running processes, a lot of idle/waiting time. However, the server is running very slow, very unresponsive to terminal commands. 

How do i investigate further?

top - 21:49:25 up 9 days, 19:32,  2 users,  load average: 5.10, 5.05, 5.17
Tasks: 100 total,   1 running,  99 sleeping,   0 stopped,   0 zombie
Cpu(s):  0.0%us,  0.0%sy,  0.0%ni, 50.0%id, 50.0%wa,  0.0%hi,  0.0%si,  0.0%st"
Amazon EC2	"Re: M3.Large instance running very slow
Hello Ravi,

I did check your account and could find the following m3.large instance in your account -  i-467d34b9. So, I assume that you are talking about this instance.

Did you notice processes appearing in an Uninterruptible Sleep (D) State in the top or ps -ef command outputs? A quick look on your instance's could watch metric indicates that your instance root volume is running out of IO credits. Since your instance root volume is only of 8 GB size, it will get restricted to a base performance of 24 IOPs (3 IOPS per GB x 8 GB) and your instance is trying to push more IO operations to the disk which could create this issue. You can verify this by looking at the QueueLength of your instance's root volume in the CloudWatch Metrics console.

You can either use a root volume of bigger size which will effectively increase the base IOPS rate for the volume and also will have longer burst periods and shorter IO credit accumulation period.

Regards
Shiroy"
Amazon EC2	"Re: M3.Large instance running very slow
Thanks for investigating and informing me. How do i increase the size of root partition? do i have to create a new instance ? can i copy this instance to a new one?"
Amazon EC2	"Re: M3.Large instance running very slow
Hi there, 

You can follow the procedure on this documentation to increase your root device: 
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

I would highly recommend that you take a snapshot or AMI of your instance before you make any changes, just in the small chance that you do run into an issue and can recover quickly. 

Kind regards, 
Belynda"
Amazon EC2	"Billing - is EC2 usage rounding totaled at the end of the month?
Does the usage rounding total at the end of the month, or when an instance is stopped?

I plan to start a machine and use it for 10-15 minutes then stop it fairly often. I want to know if I'm charged for the full hour when I stop it, or if I have 500 minutes total in a month then it becomes 9 hours (might be 50 start/stops of 10 minutes each)?"
Amazon EC2	"Re: Billing - is EC2 usage rounding totaled at the end of the month?
Hi,

I have created an outbound billing support case to address your query regarding the EC2 Instance Pricing. Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1431684911

Regards,

Luke H."
Amazon EC2	"Lots of users in Saudi Arabia cannot connect to our ELB and EC2 instances
Hi,

At June 26, 2015 4:56 AM UTC, a drop occured as seens in Sum Requests of our ELB (named rtn). The users in Saudi Arabia constantly complained that they could not connect to our server frequently.

I then created a new ELB named ""rou"" and sent the address to serveral users by email. Part of them said it still not worked. 

Then I sent them the IP of an instance (i-d932f4c0) which was running our test service, still not worked. The point is, no one knows the IP before except us because it is only used for test by ourselves. So it is definitely not because of domain/IP banned. Is it turned out that AWS services were having some issues in SA, or the mobile operator had some issues?

BTW, according to the feedback from users, sometimes they could connect to the server successfully while sometimes could not."
Amazon EC2	"Re: Lots of users in Saudi Arabia cannot connect to our ELB and EC2 instances
It is confirmed that out domain was banned."
Amazon EC2	"How to start 2 AMIs together in a group?
Hi
I have 2 EC2 EBS Windows AMIs that need to be started together. They need to have no external internet access except rdp. One instance is client tools and the other is server. both machines need to able to see each other with no restrictions. The server instance must not be able to access the internet.
Currently I have to start both separately and the log into each and adjust hosts files so that each see each other's private ec2 ip address. I then log into the common security group allow traffic for all udp tcp and icmp.
This is a pain.
Surely there must be a more convenient method?
Any suggestions for a more robust solution?

TIA

T."
Amazon EC2	"Internet use and downloading prevented on EC2 instance
Microsoft Windows Server 2008 R2 SP1 Datacenter 64-bit Locale English
i-c9203436
t2.micro
us-east-1a
Private IP: 172.16.0.229
Public/Elastic IP: 54.165.181.141
Network Interface: eni-fafa94a0
VPC ID: vpc-2cf65349
Subnet: subnet-fa7490a3
Route Table: rtb-c805dead
Network ACL: acl-31f22d54
Internet Gateway: igw-614a3004
Virtual Private Gateway: vgw-2237da4b

I am unable to use IE to access websites. Not even the desktop link welcoming me to Amazon EC2 will work. Any use of IE results in ""This Page Cannot Be Displayed."" Downloading is currently not possible.

I believe I have everything configured correctly or at least without restrictions. My inbound/outbound security settings for the instance are basically open. (0.0.0.0/0) I have seen similar problems in forum posts and whenever possible have followed any instructions or answers, but nothing has worked.

I have even turned off the firewall entirely and removed Enhanced Security Configuration for IE as set out here: http://www.visualwin.com/IE-Enhanced-Security-2008/

Am I missing something? Is there something I failed to setup? 

If this is a DNS issue, are there any directions I should follow?"
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Hi,

Do you have a route in your rtb-c805dead route table pointing to the outside world.

You will need a route pointing to 0.0.0.0/0 via you Internet Gateway

Cheers

Stooby..."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Yeah, I believe that is configured correctly.

Destination: 0.0.0.0/0
Target: igw-614a3004 (as above)
Status: Active
Propagated: No

None of the routes in the route trouble have Yes under propagated. Is that an issue?

Under Subnet Associations it connects to the Subnet. Under the Route Propagation tab, my Virtual Private Gateway is entered and there is a Yes under Propagate."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
From your Instance>

Ping 8.8.8.8
If Fail you have a Network\Routing issue. VPC, Firewall, Routes, IP, Subnet, VPN, Proxy etc;.

Else
Ping google.com
If Fail you have a DNS issue

Else
Check make sure your Browser IE does not have any Proxy settings configured.
If Does may be the issue

Else
Try a different browser installed or a different AMI in same VPC.
If Does than maybe an OS or IE issue."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Thanks for the testing flow!

Ping 8.8.8.8 failed.

Any ideas how to triage the Networking\Routing issue? 

Firewall is completely off. I've followed as much of the advice on setting up, checking, and updating those.

Except for proxy. I haven't set anything like that up."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Can you please confirm that the routing table is in fact associated with subnet-fa7490a3?  In other words, just because the routing table is setup correctly doesn't mean it will work if the subnet is associated with a different routing table.

If you found this information helpful, please mark as such."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Hi reactivestudios,

Can you confirm if you are still having issues connecting to the web from within your instance?

I had a look at your SG and ACLs and for the most part they look okay. You could do with cleaning up some of the rules. As an example I see a rule which locks down 3389 to a single address but then another rule for 3389 for 0.0.0.0/0 which leaves it wide open. 

If you continue to experience issues I would suggest opening up your ACLs and SG to 0.0.0.0/0 and then test for web connectivity. After you confirmed web connection you can then go through and harden your SG/ACLs

Regards,

Rodney"
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Hi GMan, confirmed that the subnet is associated with that route table.

I do appreciate all the response. Every sanity check I can get is valuable."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Confirmed that I'm still having issues connecting to the web from within my instance. I cleaned up as you suggested. (That was left from when I had some trouble connecting to the instance from my own IP in the first place.)

I have opened up my ACLs and SG to 0.0.0.0/0, with the exception of the default group sg-a5176dce which has no outbound rules tab. I'm still unable to connect to the web from the instance.

Jon

Edited by: reactivestudios on Jun 26, 2015 10:08 AM"
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
I've deleted everything. It was taking too long so I'm looking into alternative solutions. I did take a snapshot first, so I may try with a new instance at some point."
Amazon EC2	"Re: Internet use and downloading prevented on EC2 instance
Hello,
Can you please start the instance so we can troubleshoot the issue for you ?
Regards,
Baseer."
Amazon EC2	"Restricting Delete Snapshot/AMI ability
Hi

I am not sure this is possible - but here goes. 

I want to be able to restrict who can Delete EC2 AMI's and snapshots. I want them to be able to do ""everything"" else - just not delete all the hard work in terms AMI images, by accident.

I have had a look at the IAM permissions - but there does not seem to be a Delete AMI permission? Am I missing it?

Thanks in advance."
Amazon EC2	"Re: Restricting Delete Snapshot/AMI ability
Hello,

The API call for deleting an AMI is DeregisterImage. Please refer to the following URL for more information on ec2 API Reference (API Version 2015-04-15):
http://docs.aws.amazon.com/AWSEC2/latest/APIReference/OperationList-query.html

To restrict who can Delete EC2 AMI's and snapshots, do not include DeregisterImage and DeleteSnapshot under ""Action"" allowed.

Best Regards,
RonnieN"
Amazon EC2	"Formerly working key now refused
Hi there, 
I have an instance we haven't logged into in a while.
I have my ppk file in putty, that I had successfully used to login in the past.
Now when trying to connect via ssh, I get message
""Server Refused Our Key""

I think this might actually have started when we tried to do an sftp using filezilla, which had 6-7 keyfiles stored in it.  

I suspect filezilla sent the keyfiles in filename order, and reached the maximum attempts of logging as Ubuntu before reaching the correct keyfile for the instance.
I suspect user ubuntu is now locked for security reasons.  Please advise."
Amazon EC2	"Re: Formerly working key now refused
Hello,

You can assign new key pair to your instance by following the steps in the URL: ""Connecting to Your Linux Instance if You Lose Your Private Key""
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#replacing-lost-key-pair

Best Regards,
RonnieN"
Amazon EC2	"EC2 Instance - ssh_exchange_identification: read: Connection reset
Hi,
     I have an instance with id i-90274340  since morning I couldn't SSH to this instance, I get this error   ""ssh_exchange_identification: read: Connection reset by peer""

The machine is running at quite low CPU, I am quite clueless as to what might have happened."
Amazon EC2	"Re: EC2 Instance - ssh_exchange_identification: read: Connection reset
Hi, 
I am also getting this error for past 1 hour, everything was fine and all of a sudden this is happening
is there a issue? EC2 instance is running properly but I cannot do a ssh or access public IP via browser. I get general failure error."
Amazon EC2	"Re: EC2 Instance - ssh_exchange_identification: read: Connection reset
Hello,

The error message you are getting suggests that sshd is not running as expected on your instance operating system. Could you please do stop/start of your instance and test if you are able to login.  Before performing the stop/start, please backup data on your instance store volumes if you have any attached. 

Best Regards,
RonnieN"
Amazon EC2	"Amazon EC2 Maintenance - Maintenance Notice
Just received the Amazon EC2 Maintenance - Maintenance Notice. 

Can I reboot the server before the maintenance window to clear the event?

Here is the email notice shown below:

Dear Amazon EC2 Customer,

One or more of your Amazon EC2 instances is scheduled for maintenance on 2015-06-29 for 2 hours starting at 15:00 UTC. During this time, the following instances in the us-east-1 region will be unavailable and then rebooted:

  i-a474efdd

Your instances will return to normal operations after maintenance is complete and all of your configuration settings will be retained. To continue normal operation and avoid any unavailability or reboots during this time, you can migrate the instances listed above to replacement instances. Replacement instances will not be affected by this scheduled maintenance. Otherwise, no action is generally required on your part (certain underlying system components may change at reboot time, and your operating system may prompt you to install additional software/drivers post-reboot as a result). If your instance is part of an auto-scaling group, then it will automatically be terminated and replaced by a newly launched instance during the maintenance window.

You can see more information on this maintenance in the AWS Management Console at https://console.aws.amazon.com/ec2/home?region=us-east-1#s=Events.

Additional information about maintenance events, including how to migrate to replacement instances, can be found at http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/monitoring-instances-status-check_sched.html.

We perform maintenance regularly to ensure that the EC2 service continues uninterrupted for our customers. In most cases, maintenance can be performed without service interruption. When maintenance cannot be performed without service interruption, we work hard to keep any impact as brief as possible.

If you have any questions or concerns, you can contact the AWS Support Team on the community forums and via AWS Premium Support at: http://aws.amazon.com/support.

Sincerely,
Amazon Web Services

This message was produced and distributed by Amazon Web Services LLC, 410 Terry Avenue North, Seattle, Washington 98109-5210.

Reference: e70d682f-e3d0-453a-8291-7e5058f3e059"
Amazon EC2	"Re: Amazon EC2 Maintenance - Maintenance Notice
Hello,

The recommended action to clear the scheduled event is to migrate your instance to replacement instance. Please refer to the following URL:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Best Regards,
RonnieN"
Amazon EC2	"Disconnected : No supported authentication methods available
I have created the instances and trying to connect. I am getting the error as ""Disconnected : No supported authentication methods available (server sent :publickey)"".

I have got the keypair from EC2 Management console and have used putty gen to generate private key file(PPK).

Kindly assist to resolve."
Amazon EC2	"Re: Disconnected : No supported authentication methods available
Hello,

The error you are getting is normally as a result of wrong permissions on ssh config files. Please attach the root volume of your failed instance to a temporary working instance and check the  permissions of you ssh config files.  Check the ssh logs for cause of the error.
on Ubuntu Linux
    $ sudo cat /var/log/auth.log

on Amazon/Red Hat/Centos Linux
    $ sudo cat /var/log/audit/audit.log

Links:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/managing-users.html
https://aws.amazon.com/articles/5213606968661598

Best Regards,
RonnieN"
Amazon EC2	"EBS max throughput per instance or per volume? RAID to the rescue?
I have a r3.xlarge instance with a 200GB 1200 PIOPS disk. The volume monitoring shows my bandwidth topping out at about 60 MB/s.
The data at http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-ec2-config.html
suggests that that's the max BW i can do for my instance (62.5MB/s specifically). But it's not clear whether that's the total limit for the instance or the limit for a volume.
Because it's vaguely suggested that RAIDing multiple volumes will allow me to go over that limit.
""However, it is still possible to provision EBS volumes that exceed the available bandwidth for certain instance types, especially when multiple volumes are striped in a RAID configuration""

So my question is, can I RAID and get better BW performance overall for my instance?
Will doing a RAID0 with 2 volumes get me 125MB/s total?
Or will it split the total of 62.5MB/s and i'll get 31.25MB/s per volume?

Thanks,

-Tony"
Amazon EC2	"Can no longer connect to an instance
Hi,

We've had no trouble with our instances. All of a sudden since yesterday, we can no longer connect to one of our instances.

We've tried rebooting it, stopping and starting, changing its type, to no avail.

If we connect via SSH there is just no response, likewise the apps on it no longer respond either. We've not changed any configuration over the past day.

The instance id is : i-6f3585a1

Anything helpful to get us to connect again would be great!"
Amazon EC2	"Re: Can no longer connect to an instance
Hello,

thank you for posting on AWS forum.

I have taken a look at your instance i-6f3585a1 and I noticed that you have stop/start it a couple of our ago.
I have tested ssh connectivity and I was able to establish a tcp connection on port 22.

Are you still experiencing this issue?

Regards,
Giorgio"
Amazon EC2	"Re: Can no longer connect to an instance
Thanks it works now"
Amazon EC2	"Urgent: EC2 instances (in production) not contactable for the last 4 hours
Hi

My EC2 (m3.medium, ubuntu) instance which is used for production on my website is not contactable for the last 4 hours. I have tried rebooting. It has no effect. It has been saying 1/2 status checks have failed and I am unable to connect to the instance either via SSH or to the mysql tables on it. Is there a solution to this problem? I would need access to the instance asap. I have tried creating an image for the instance too and it has been pending forever. Any help would be appreciated

Update: I am able to connect to the instance now. I believe the reboot helped. It took a while (about 30 mins) for the reboot to take effect though. It would be awesome if I could be pointed in the right direction for handling such a scenario in the future in a better (and faster) way

Thanks

Edited by: katrixda on Jun 25, 2015 6:20 AM"
Amazon EC2	"Re: Urgent: EC2 instances (in production) not contactable for the last 4 hours
Hello  katrixda,

in order to troubleshoot your issue can you please post the affected instance-id ?

Thanks,
Giorgio"
Amazon EC2	"EC2 Instance httpd failed to start
My instance ID is i-f1b1c83d, and I used to be able to restart it without any issue.

However, from a httpd status check, httpd has currently stopped, and I can't seem to start it. 

Closing and re-opening the SSH shell does not do anything. 

Can someone tell me the issue here? Thanks.

Edited by: PuzzledMan on Jun 22, 2015 12:51 AM"
Amazon EC2	"Re: EC2 Instance httpd failed to start
Hello PuzzledMan,

Thanks for posting on AWS Forum.

Are you still experiencing this issue? I have tested your instance and it correctly answer tcp request on port 80.

Regarding your issue if you found your httpd daemon stopped after a reboot I advice to check if is configured to autostart at boot time with the command:
chkconfig --list |grep httpd
 
In order to set it to autostart at boot you can use the following command:
sudo chkconfig httpd on 
 

Regards,
Giorgio"
Amazon EC2	"Load balancer times out?
I have setup ELB against 1 instance in 1 availability zone. I can access the single instance directly at its elastic IP and health checks are succeeding. Health checks and listener method/port configurations match.

Accessing the ELB URL, however, times out. Any ideas?"
Amazon EC2	"Re: Load balancer times out?
Hello,

I have checked your resources but I haven't found any ELB/EC2 instances.
Can you please specify here or with a private message your ELB/EC2 id ?

Regards,
Giorgio"
Amazon EC2	"No eu-west-1b c3.8xlarge capacity
Hi,

When trying to launch one of our instances I have been getting the following error for the last 24 hours:

""We currently do not have sufficient c3.8xlarge capacity in the Availability Zone you requested (eu-west-1b). Our system will be working on provisioning additional capacity.""

Does anyone have any information about this? Clearly there's a capacity bottleneck, but could anyone predict an ETA, do we know if this will cause additional resources to be relocated to eu-west-1b? How common should we expect this sort of thing to be? 

Currently we're looking to workaround by moving to 1a/c, but this is not ideal."
Amazon EC2	"Re: No eu-west-1b c3.8xlarge capacity
Hi jquinl,

I am sorry that you experienced capacity issue, I have just sent a private message.

Regards,
Giorgio"
Amazon EC2	"Instance Deadlocked, will not stop
Support,

We have lost our instance, and it would not respond to stop calls from the CLI, API, or the Web Interface. In addition, the console has not been updated to any dmesg values.

The instance ID is i-cfde60be.

Thanks,"
Amazon EC2	"Re: Instance Deadlocked, will not stop
Hello lvawsm,

I have raised this issue with the EC2 engineering team and I will get back to you with an update as soon as I can.

Kind Regards,
Anthony H."
Amazon EC2	"Re: Instance Deadlocked, will not stop
Good Day, 

Thank you for your patience as we investigated the instance. 

The problem was primarily because of unresponsive underlying host. We have since rectified the problem and your instance is now residing on a new, healthy host. 

I trust you find this information helpful. Should you require any further assistance with the above, please do not hesitate to contact me.

Regards
Tawanda"
Amazon EC2	"EC2 Maintenance - relaunch or stop/start?
We received a notification that one of our instances (  i-acb4b1f5 ) is being shut down soon due to a hardware issue. The alert in the Events page says ""Retiring: This instance is scheduled for retirement after July 10, 2015 at 5:00:00 PM UTC-7.""

It is an EBS instance

The email states:
If your instance's root device is an EBS volume, you can replace the instance by creating an AMI of your instance, and launching a new instance from the AMI. For more information please see Amazon Machine Images (http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html) in the EC2 User Guide.  

The link from the Events page says:
You can wait for the instance to stop as scheduled. Alternatively, you can stop and start the instance yourself, which migrates it to a new host computer. 

----
So, can we resolve this by just stopping the instance and starting it again? or do we need to launch a new instance from a snapshot?"
Amazon EC2	"Re: EC2 Maintenance - relaunch or stop/start?
Hello metaflows,

That's correct, any EBS back instances need only be stopped/started to force them to transition to new hardware.  Please be aware though that there is an Instance Store (ephemeral storage) volume attached to the instance on device /dev/sdb; if this volume is mounted and in use any data stored on this volume will NOT be transferred during the stop/start.

I hope this answers your question.

Kind Regards,
Anthony H."
Amazon EC2	"T2-micro instance periodically losing connectivity
Hi,

I am losing connectivity to my T2-micro instance few times per day. I cannot ssh, nor connect to the web server. After some time, the connectivity comes back. 

Looking in /var/log/syslog I see that the periods when the connections are impossible correlates with the repeated message from dhclient, for instance:

Jun 19 22:49:24 ip-172-31-25-108 dhclient: DHCPREQUEST of 172.31.25.108 on eth0 to 172.31.16.1 port 67 (xid=0xdf4ed16)
Jun 19 23:13:16 ip-172-31-25-108 dhclient: message repeated 101 times: http:// DHCPREQUEST of 172.31.25.108 on eth0 to 172.31.16.1 port 67 (xid=0xdf4ed16)
Jun 19 23:13:34 ip-172-31-25-108 dhclient: DHCPREQUEST of 172.31.25.108 on eth0 to 255.255.255.255 port 67 (xid=0xdf4ed16)

My istance number is i-6dcc93a5.

Any suggestions what is going wrong?

Thanks!"
Amazon EC2	"Re: T2-micro instance periodically losing connectivity
Hello Jakub Kaminski,

I've had a look at the performance metrics for your instance and I can see the CPU regularly topping out at 100% utilized.  I suggest you change the instance type to a more powerful instance.  More information on changing instance types and instance capabilities can be found below...
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html

Please let me know if there's anything else that I can do for you.

Kind Regards,
Anthony H."
Amazon EC2	"Why is my instance stuck in ""Pending"" w/ status checks==Initializing?
Instance ID: i-b696bb1f"
Amazon EC2	"Re: Why is my instance stuck in ""Pending"" w/ status checks==Initializing?
Hello Saqib987,

Sorry for the delay in getting to your request for assistance.

With you instance in a stopped state I cannot see why the instance was stuck in an initializing state.  Please start the instance again and update this thread and I will look into this for you.

Kind Regards,
Anthony H."
Amazon EC2	"EC2 Instance running, but cannot RDP
I have an instance which had been working fine. Suddenly, I have been unable to remote desktop into the server. When I ping the server, it responds fine. I have not changed anything. The RDP port 3389 is open. It says that the Status Checks ""2/2 checks passed"", but I am not able to RDP into the server. This problem started around 24 hours ago, and I've tried everything possible since then. Please advise if anyone knows what I can try."
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
Hello,

What is the error message that you are getting/seeing when you try to RDP to the instance? I have taken a look at the instance and it seems to be running in a healthy state and RDP is responding on port 3389.

Best Regards, 
Ahmed H."
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
Hi Ahmed,

Thanks for your reply. 
When I try to RDP using CoRD, it tries to connect for 10 seconds and then just comes back to the same initial stage without connecting. With Microsoft's RDP client, it keeps stating ""Initiating remote connection"" (even without my username being entered) and then says ""Remote desktop can't connect to the remote computer...Remote access to the server is not enabled OR remote computer is turned off"". This problem just started yesterday. Before that, everything was working fine and I could remote in. I did not change anything. After it stopped working, I tried changing the ports in Security group, to see if it'll work, but still no signs of working. Like I said, I can ping to the server, but cannot remote in."
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
And I have two servers - one is working fine. It's the one ending with IP 107 that's not working."
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
Hello,

I hope you are referring to instance  i-4d43b685. Was this instance working initially and then started to fail connecting via RDP? Did you make any modifications to your instance's firewall rules?

I did try to telnet to port 3389 of your instance and it is getting timed out. I did check the route table associated with your instance and the security group rules and they both look OK. Other reason would be because of a firewall in the instance level blocking the RDP connection.
I hope the following documentation page will be helpful for you: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html

Regards
Shiroy"
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
Hi,

I tried as you suggested, and disabled the Windows Firewall as per the document, but still have the same issue. I'm still unable to remote desktop into the server.
Thanks for all your help so far. Is there anything else I can try?"
Amazon EC2	"Re: EC2 Instance running, but cannot RDP
Hi,

I take that back. I'm now able to connect via Microsoft RDP client, but not via CoRD. So I will test and see how to fix this. Meanwhile, here's what I did to make this work:

I followed the instructions for ""Remote Desktop can't connect to the remote computer"" at the following link:
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-windows-instances.html#rdp-issues"
Amazon EC2	"AWS CLI requests timing out
Instance IDs: i-5b7a0399, i-d021bf1b

I am trying to make requests using the AWS CLI from within an EC2 instance and it keeps timing out. I've tried requests to `ec2` endpoints (e.g. `aws ec2 describe-instances`)  and `elb` endpoints (e.g. `aws elb describe-instance-health`) and they all fail.

Below is the output when I execute it with the `--debug` flag. I've tried this on a couple different EC2 instances and it times out on all of them. As you can see in the output below, it gets to:

2015-06-26 17:51:32,774 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (3): elasticloadbalancing.us-west-1.amazonaws.com


...and then times out after 60 seconds. It then goes on to retry multiple times (In the example below it's on retry #5).

UPDATE: The same requests work from my laptop. It seems like it's just not working from within the EC2 instances themselves.

Request:

aws elb describe-instance-health --load-balancer-name dev-api --debug


Response:
2015-06-26 17:42:38,495 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64, botocore version: 1.0.0rc1
2015-06-26 17:42:38,495 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['elb', 'describe-instance-health', '--load-balancer-name', 'dev-api', '--debug']
2015-06-26 17:42:38,495 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x1dc6320>
2015-06-26 17:42:38,495 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x1d4c050>
2015-06-26 17:42:38,511 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.elb: calling handler <function register_retries_for_service at 0x1913b90>
2015-06-26 17:42:38,512 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: elb
2015-06-26 17:42:38,513 - MainThread - botocore.hooks - DEBUG - Event building-command-table.elb: calling handler <function add_waiters at 0x1d4cde8>
2015-06-26 17:42:38,515 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'load-balancer-name', <awscli.arguments.CLIArgument object at 0x22c5c50>), (u'instances', <awscli.arguments.ListArgument object at 0x22c5c90>)])
2015-06-26 17:42:38,515 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.elb.describe-instance-health: calling handler <function add_streaming_output_arg at 0x1b8baa0>
2015-06-26 17:42:38,515 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.elb.describe-instance-health: calling handler <function add_cli_input_json at 0x1d40320>
2015-06-26 17:42:38,515 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.elb.describe-instance-health: calling handler <function unify_paging_params at 0x1b94a28>
2015-06-26 17:42:38,516 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.elb.describe-instance-health: calling handler <function add_generate_skeleton at 0x1d406e0>
2015-06-26 17:42:38,516 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.elb.describe-instance-health: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x22c5bd0>>
2015-06-26 17:42:38,516 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.elb.describe-instance-health: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x22bf290>>
2015-06-26 17:42:38,517 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.elasticloadbalancing.describe-instance-health.load-balancer-name: calling handler <function uri_param at 0x1b73500>
2015-06-26 17:42:38,517 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.elasticloadbalancing.describe-instance-health: calling handler <awscli.argprocess.ParamShorthand object at 0x1dcb510>
2015-06-26 17:42:38,517 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar
2015-06-26 17:42:38,517 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'dev-api' for parameter ""load_balancer_name"": u'dev-api'
2015-06-26 17:42:38,518 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.elasticloadbalancing.describe-instance-health.instances: calling handler <function uri_param at 0x1b73500>
2015-06-26 17:42:38,518 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.elasticloadbalancing.describe-instance-health.cli-input-json: calling handler <function uri_param at 0x1b73500>
2015-06-26 17:42:38,518 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.elasticloadbalancing.describe-instance-health.generate-cli-skeleton: calling handler <function uri_param at 0x1b73500>
2015-06-26 17:42:38,518 - MainThread - botocore.hooks - DEBUG - Event calling-command.elb.describe-instance-health: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x22bf290>>
2015-06-26 17:42:38,518 - MainThread - botocore.hooks - DEBUG - Event calling-command.elb.describe-instance-health: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x22c5bd0>>
2015-06-26 17:42:38,518 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env
2015-06-26 17:42:38,518 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role
2015-06-26 17:42:38,518 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file
2015-06-26 17:42:38,518 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file
2015-06-26 17:42:38,519 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: ec2-credentials-file
2015-06-26 17:42:38,519 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: boto-config
2015-06-26 17:42:38,519 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: iam-role
2015-06-26 17:42:38,526 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTP connection (1): 169.254.169.254
2015-06-26 17:42:38,527 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - ""GET /latest/meta-data/iam/security-credentials/ HTTP/1.1"" 200 9
2015-06-26 17:42:38,529 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTP connection (1): 169.254.169.254
2015-06-26 17:42:38,530 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - ""GET /latest/meta-data/iam/security-credentials/LegacyEC2 HTTP/1.1"" 200 918
2015-06-26 17:42:38,530 - MainThread - botocore.credentials - INFO - Found credentials from IAM Role: LegacyEC2
2015-06-26 17:42:38,532 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: elb
2015-06-26 17:42:38,533 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.elb: calling handler <function add_generate_presigned_url at 0x188e398>
2015-06-26 17:42:38,538 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x2345a10> (verify_ssl=True) with params: {'body': {'Action': u'DescribeInstanceHealth', 'Version': u'2012-06-01', u'LoadBalancerName': u'dev-api'}, 'url': u'https://elasticloadbalancing.us-west-1.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64'}, 'query_string': '', 'url_path': '/', 'method': u'POST'}
2015-06-26 17:42:38,538 - MainThread - botocore.hooks - DEBUG - Event request-created.elasticloadbalancing.DescribeInstanceHealth: calling handler <bound method elb._sign_request of <botocore.client.elb object at 0x2345350>>
2015-06-26 17:42:38,539 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2015-06-26 17:42:38,539 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
POST
/Â 
Â 
host:elasticloadbalancing.us-west-1.amazonaws.com
user-agent:aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64
x-amz-date:20150626T174238Z
x-amz-security-token:***
Â 
host;user-agent;x-amz-date;x-amz-security-token
***
2015-06-26 17:42:38,539 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20150626T174238Z
20150626/us-west-1/elasticloadbalancing/aws4_request
fcefedb276da53976db0e561e091123927c96c45a0030ab43ed72d0b67980aa9
2015-06-26 17:42:38,539 - MainThread - botocore.auth - DEBUG - Signature:
b1568a7429bff71d80a947c3be1290e6e0f2725b640aa2d614d2c4268b665e66
2015-06-26 17:42:38,540 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>
2015-06-26 17:42:38,540 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): elasticloadbalancing.us-west-1.amazonaws.com
2015-06-26 17:43:38,679 - MainThread - botocore.hooks - DEBUG - Event needs-retry.elasticloadbalancing.DescribeInstanceHealth: calling handler <botocore.retryhandler.RetryHandler object at 0x22bf210>
2015-06-26 17:43:38,679 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2345d50>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 265, in _should_retry
    return self._checker(attempt_number, response, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 313, in __call__
    caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 222, in __call__
    return self._check_caught_exception(attempt_number, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 355, in _check_caught_exception
    raise caught_exception
ConnectTimeout: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2345d50>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
2015-06-26 17:43:38,679 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 0.0800879189528
2015-06-26 17:43:38,679 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.0800879189528 seconds
2015-06-26 17:43:38,760 - MainThread - botocore.hooks - DEBUG - Event request-created.elasticloadbalancing.DescribeInstanceHealth: calling handler <bound method elb._sign_request of <botocore.client.elb object at 0x2345350>>
2015-06-26 17:43:38,761 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2015-06-26 17:43:38,761 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
POST
/Â 
Â 
host:elasticloadbalancing.us-west-1.amazonaws.com
user-agent:aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64
x-amz-date:20150626T174338Z
x-amz-security-token:***
Â 
host;user-agent;x-amz-date;x-amz-security-token
***
2015-06-26 17:43:38,761 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20150626T174338Z
20150626/us-west-1/elasticloadbalancing/aws4_request
0ece8a1d3b64108aa028e074207ecd98dd1a2bc8f9909b45af96f22399cee38b
2015-06-26 17:43:38,761 - MainThread - botocore.auth - DEBUG - Signature:
8eb9b1ec92e71740a1ce5fa95cb1f9c7f2e9a61aa1096382d720a00117eaef52
2015-06-26 17:43:38,762 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>
2015-06-26 17:43:38,762 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (2): elasticloadbalancing.us-west-1.amazonaws.com
2015-06-26 17:44:38,846 - MainThread - botocore.hooks - DEBUG - Event needs-retry.elasticloadbalancing.DescribeInstanceHealth: calling handler <botocore.retryhandler.RetryHandler object at 0x22bf210>
2015-06-26 17:44:38,846 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2361410>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 265, in _should_retry
    return self._checker(attempt_number, response, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 313, in __call__
    caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 222, in __call__
    return self._check_caught_exception(attempt_number, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 355, in _check_caught_exception
    raise caught_exception
ConnectTimeout: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2361410>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
2015-06-26 17:44:38,846 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.54425668513
2015-06-26 17:44:38,846 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.54425668513 seconds
2015-06-26 17:44:40,393 - MainThread - botocore.hooks - DEBUG - Event request-created.elasticloadbalancing.DescribeInstanceHealth: calling handler <bound method elb._sign_request of <botocore.client.elb object at 0x2345350>>
2015-06-26 17:44:40,393 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2015-06-26 17:44:40,393 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
POST
/Â 
Â 
host:elasticloadbalancing.us-west-1.amazonaws.com
user-agent:aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64
x-amz-date:20150626T174440Z
x-amz-security-token:***
Â 
host;user-agent;x-amz-date;x-amz-security-token
***
2015-06-26 17:44:40,394 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20150626T174440Z
20150626/us-west-1/elasticloadbalancing/aws4_request
952f149098a94ad148822220c72c6357caa61932ec3b15e300af1e2d1b89d7f6
2015-06-26 17:44:40,394 - MainThread - botocore.auth - DEBUG - Signature:
332269cbbfd2db607c18c84d8f8bf07471eb4f29bc407f1ed1692c69f4678ba6
2015-06-26 17:44:40,394 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>
2015-06-26 17:44:40,395 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (3): elasticloadbalancing.us-west-1.amazonaws.com
2015-06-26 17:45:40,457 - MainThread - botocore.hooks - DEBUG - Event needs-retry.elasticloadbalancing.DescribeInstanceHealth: calling handler <botocore.retryhandler.RetryHandler object at 0x22bf210>
2015-06-26 17:45:40,457 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x23615d0>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 265, in _should_retry
    return self._checker(attempt_number, response, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 313, in __call__
    caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 222, in __call__
    return self._check_caught_exception(attempt_number, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 355, in _check_caught_exception
    raise caught_exception
ConnectTimeout: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x23615d0>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
2015-06-26 17:45:40,457 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 2.9622998713
2015-06-26 17:45:40,457 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 2.9622998713 seconds
2015-06-26 17:45:43,423 - MainThread - botocore.hooks - DEBUG - Event request-created.elasticloadbalancing.DescribeInstanceHealth: calling handler <bound method elb._sign_request of <botocore.client.elb object at 0x2345350>>
2015-06-26 17:45:43,424 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2015-06-26 17:45:43,424 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
POST
/Â 
Â 
host:elasticloadbalancing.us-west-1.amazonaws.com
user-agent:aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64
x-amz-date:20150626T174543Z
x-amz-security-token:***
Â 
host;user-agent;x-amz-date;x-amz-security-token
***
2015-06-26 17:45:43,424 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20150626T174543Z
20150626/us-west-1/elasticloadbalancing/aws4_request
5338897395e70aa98b0a29979193585b87c0b5bed5b50a39641c3b1a6d2c3d2d
2015-06-26 17:45:43,424 - MainThread - botocore.auth - DEBUG - Signature:
77892b549c197f2c14d42a8b96d03e181bf8d083229f6fcdb8638cb7190f8531
2015-06-26 17:45:43,425 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>
2015-06-26 17:45:43,425 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (4): elasticloadbalancing.us-west-1.amazonaws.com
2015-06-26 17:46:43,457 - MainThread - botocore.hooks - DEBUG - Event needs-retry.elasticloadbalancing.DescribeInstanceHealth: calling handler <botocore.retryhandler.RetryHandler object at 0x22bf210>
2015-06-26 17:46:43,457 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2361790>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 265, in _should_retry
    return self._checker(attempt_number, response, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 313, in __call__
    caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 222, in __call__
    return self._check_caught_exception(attempt_number, caught_exception)
  File ""/usr/lib/python2.7/site-packages/botocore/retryhandler.py"", line 355, in _check_caught_exception
    raise caught_exception
ConnectTimeout: HTTPSConnectionPool(host='elasticloadbalancing.us-west-1.amazonaws.com', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<botocore.awsrequest.AWSHTTPSConnection object at 0x2361790>, 'Connection to elasticloadbalancing.us-west-1.amazonaws.com timed out. (connect timeout=60)'))
2015-06-26 17:46:43,457 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 5.7743960775
2015-06-26 17:46:43,457 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 5.7743960775 seconds
2015-06-26 17:46:49,238 - MainThread - botocore.hooks - DEBUG - Event request-created.elasticloadbalancing.DescribeInstanceHealth: calling handler <bound method elb._sign_request of <botocore.client.elb object at 0x2345350>>
2015-06-26 17:46:49,239 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2015-06-26 17:46:49,239 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
POST
/Â 
Â 
host:elasticloadbalancing.us-west-1.amazonaws.com
user-agent:aws-cli/1.7.35 Python/2.7.5 Linux/3.10.0-229.7.2.el7.x86_64
x-amz-date:20150626T174649Z
x-amz-security-token:***
Â 
host;user-agent;x-amz-date;x-amz-security-token
***
2015-06-26 17:46:49,239 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20150626T174649Z
20150626/us-west-1/elasticloadbalancing/aws4_request
f132552e9fefd21868d6dc6848c8214e075e439b7ecd96458cc1051979ee1002
2015-06-26 17:46:49,239 - MainThread - botocore.auth - DEBUG - Signature:
ff74748066ae497a370c09aa1f0b8bdfe5e2204fc1fde8348dde29f817ee34c1
2015-06-26 17:46:49,239 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>
2015-06-26 17:46:49,240 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (5): elasticloadbalancing.us-west-1.amazonaws.com


Edited by: theartoflogic on Jun 26, 2015 10:56 AM

I added info indicating that I tried the requests from my laptop and they work properly."
Amazon EC2	"Re: AWS CLI requests timing out
I found out the issue. I'm using a setup where I have a gateway server attached to a public subnet that all other servers (attached to a private subnet) use to route external traffic. I had modified the Security Group for the gateway server in a way that disallowed the outbound HTTP traffic from the internal servers from reaching the gateway server and making their way out to the internet.

I updated the Security Group to allow that traffic and it's working now."
Amazon EC2	"Cannot access EC2 instance with Public IP
I'm trying to understand the VPC complexity. I am following the instructions in Amazon's ""VPC Getting Started Guide"". But at the end, I don't have connectivity to my machine. I need help.

I used the VPC wizard to create a default VPC. I verified the VPC has the internet gateway configured in the secondary route table. 

I then spun up a new Windows instance (i-a2dfcf54). The instance uses my shiny new VPC. I created an elastic IP and associated it with the instance. Now there is a public IP address for the instance. The security group for the VPC is using the default settings which are wide open.

The machine is up and running. It has a public IP address. Is using the new VPC and subnet. The subnet says its using the route table with the internet gateway (i.e. 0.0.0.0/0). But I cannot connect using RDC or even ping the machine. (It is not a problem with my laptop's firewall or local router as somehow I was accessing a machine yesterday. I decided to start from scratch today).

Can someone help me connect to my machine?"
Amazon EC2	"Re: Cannot access EC2 instance with Public IP
Bah- Isn't it always the case. As soon as I email my question, I end up solving it.

The problem I had was with the Security Group for the VPC. It was not full access as I thought. I had to add RDC for 0.0.0.0/0 to get it to work."
Amazon EC2	"Not able to ping my instace
Instance ID: i-3d64a936

While trying to access MySQL instance from my local machine I figured out that instance is not getting pinged. I have updated Custom ICMP Rule in security group too. 
I think i wont be able to access my database instance till i am atleast able to ping. However I am able to connect to the instance via putty.

Its ubuntu machine. 

Any help would be highly appreciated."
Amazon EC2	"Re: Not able to ping my instace
Hello,

Could you please check if you have any iptables/firewall rules in your instance level which is blocking the requests?

Regards
Shiroy"
Amazon EC2	"EC2 scheduled for retirement
Hello.

My instance (i-e717b416) is scheduled for a restart because the underlying host is degrading.

I have STOPPED the instance but it is not completing. Can anyone assist?"
Amazon EC2	"Re: EC2 scheduled for retirement
Hello,

I checked your instance and it seems your instance was later stopped and started back. Your instance is currently passing 2/2 health checks. Do you need any further support here?

Regards
Shiroy"
Amazon EC2	"copy EBS snapshot
How can I copy an EBS snapshot of my instance to my S3 bucket, I want to be able to backup to my bucket to create a son-father-grandfather backup of snapshots in my S3 bucket.  Is there any way of doing this?

Thank you"
Amazon EC2	"Re: copy EBS snapshot
Hello,

The EBS snapshots that you create is stored into an S3 bucket, however you will not be able to directly access the bucket and copy/move those snapshots to your S3 bucket. You can only access those snapshots via console or API calls to create a new volume or to copy to another region.

Regards
Shiroy"
Amazon EC2	"Re: copy EBS snapshot
Hello Shiroy,

Then how can I create backups of my volumes/instance for my son-father-grandfather backups?  Is there a script or something I can use for this?"
Amazon EC2	"Unable to access new instance (SG port 22 ok)
I created a new VPC and spun up a new instance (ami-7c2d1261), added the correct SG inbound rules (22, 80, 443), Assigned EIP and everything seems correct.

But when I try to access the instance, it won't work. I have tried to reboot the instance.
IP: 52.28.170.26

Edited by: Evanion on Jun 26, 2015 4:47 AM"
Amazon EC2	"Re: Unable to access new instance (SG port 22 ok)
Hello,

I did check your account and could identify that the route table associated with your instance do not have a default route pointing to an IGW (Internet Gateway).

Please add a default route (0.0.0.0/0 -> IGW) pointing to an IGW in the route table rtb-966bb2ff and try connecting.

Regards
Shiroy"
Amazon EC2	"Join an EC2 Windows Instance to AWS Simple Directory
Hi, 

I have an AWS directory service created and with some AWS WorkSpaces/Users. 

I want to set up an EC2 instance and join this instance into the Directory. 

I followed this guide: 
http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-join-aws-domain.html#join-domain-console

However, I don't have ""Domain join directory"" list to choose, this option is not showing in my instance Launch wizard, even though I have IAM role created. 

Please can anyone share a light?

Thanks

Edited by: starchx on Jun 17, 2015 6:35 AM"
Amazon EC2	"Re: Join an EC2 Windows Instance to AWS Simple Directory
Since Sydney region is not available to add instance to directory via Launch Instance, manually add is the way to go for today: 
http://docs.aws.amazon.com/directoryservice/latest/adminguide/join_windows_instance.html"
Amazon EC2	"VM_Gen_Counter (Generation ID)
Hi,

Does Amazon plan to support the ""VM Generation ID"" standard that Microsoft published for Windows 8/Server 2012 (and, backported down to XP SP2 when using Hyper-V Tools)?

VMWare ESX 5.1 and Workstation 9.0 support this as well, as does Xen, based on patches between February-April 2013, but I don't see the appropriate ACPI VM_Gen_Counter information in the namespace (so the driver doesn't load). It is critical for correct cryptography an AD behavior on virtualized instances, in order to deal with rollbacks/snapshots, so I am hoping that this is just a case of AWS not yet having picked up the most recent Xen upstream changes...

--
Best regards,
Alex Ionescu"
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
Hello,

We have submitted this as a feature request on your behalf.

Regards,

Matt J"
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
Has this feature been enabled I can not find anything on it."
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
Thank you for submitting your feature request to AWS. We are aware of the issue and have added it to our roadmap. AWS develop new features based on what our customer need and we truly appreciate the feedback you have provided. 

As with all feature requests, we aim to iterate and add new features as quickly as possible, but due to the amount of programming, testing and UAT for each feature, we do not have or publish ETAs. All our features are released on our 'What's New' page, in our News Letter and in our blogs.

As soon as this new feature is ready we will publish it on those pages. Ongoing updates will not be posted to the forum.

Thank you again for taking the time to submit this request, we are working on it!

http://aws.amazon.com/new/
http://aws.amazon.com/blogs/aws/
http://aws.amazon.com/partners/newsletter/

Regards,
Julian H."
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
Hello,

Please advise if this is now available. 

Thanks,

Adnan"
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
I would also like to know if this is now available in EC2."
Amazon EC2	"Re: VM_Gen_Counter (Generation ID)
Hi AWS,

I would also be very interested to hear if this is going to be implemented and when.

This is pretty important to SysAdmins.

Thanks.

Kareem."
Amazon EC2	"VPNC connection makes my outgoing Security Group Rules not to work
Hello,

I have an EBS instance which works great and connects to an RDS instance with a security group rule.
RDS security group allows any MYSQL connection from SG-XXXXXXX.
And my instance belongs to that security group SG-XXXXXXX, and everything works just fine until I start a vpnc connection with a customer VPN.

Once I connect with vpnc:

I can nslookup on rds DNS name.
I can ping any web.
The instance keeps its public IP address / (and apparently private IP address)
I can't connect to RDS due to Firewall rules (I added a custom IP rule with the public IP address of my instance, and it did the trick)

In theory the tunnel only affects to the outgoing traffic to 2 local IP addresses (172.30.5.67 and 172.30.5.80)
This is the ifconfig when the tunnel whas open (eth0 and loopback didn't change)

eth0      Link encap:Ethernet  HWaddr 02:EF:67:46:32:61
          inet addr:172.31.25.31  Bcast:172.31.31.255  Mask:255.255.240.0
          inet6 addr: fe80::ef:67ff:fe46:3261/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:9001  Metric:1
          RX packets:149509 errors:0 dropped:0 overruns:0 frame:0
          TX packets:25405 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:215496551 (205.5 MiB)  TX bytes:2049766 (1.9 MiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)

tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          inet addr:172.31.51.180  P-t-P:172.31.51.180  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:8913  Metric:1
          RX packets:187 errors:0 dropped:0 overruns:0 frame:0
          TX packets:192 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:500
          RX bytes:21253 (20.7 KiB)  TX bytes:14281 (13.9 KiB)

Anyone would know what am I doing wrong or how to fix this issue ?

Thanks,
Juan

Edited by: juan_opinator on Jun 26, 2015 12:36 AM

Edited by: juan_opinator on Jun 26, 2015 12:37 AM"
Amazon EC2	"cant connect to ec2 instance
I can't connect to my ec2 instance. I've rebooted, I've disassociated the IP, and re-associated it. I can't ping the IP, or SSH in, or any other port. This has happened before, but never known why, but usually it goes away after a few minutes. This has been down since all those outages a week or two ago. My ec2 instance isn't complicated, its a simple lamp stack, and sits idle often. Nothing has changed on this instance in many months.

Please help.

Also,
I can't seem to get the right java plugin to 'connect' to my ec2 instance on FF or chrome using the java plugin provided by the AWS managemetn console. Can someone point me to a place to get the right plugin?"
Amazon EC2	"Re: cant connect to ec2 instance
Hello,

Could you please provide me with your instance ID?

Regards,

Matt J"
Amazon EC2	"Re: cant connect to ec2 instance
i-6fd37301"
Amazon EC2	"Re: cant connect to ec2 instance
Hello,

At first glance I do not see a reason why you should not be able to connect, SSH is not responding. Did you make any configuration changes since last reboot? You may need to detach the root volume and analyze the logs on another instance to see what could have gone wrong. At this point I do not see anything going wrong on our side.

Regards,

Matt J"
Amazon EC2	"Re: cant connect to ec2 instance
No changes have been made. I believe its been down since that outage a week or two ago.

When I try to detach my volume, it says 'Unable to detach volume'.

Please help"
Amazon EC2	"Re: cant connect to ec2 instance
I'm also having the same problem. Console says instances are up but I cannot connect the machines via ssh.

Instance IDs are: i-736ff434 and i-16ced152

Thank you"
Amazon EC2	"Re: cant connect to ec2 instance
I still can't connect or even ping. I stopped the instance, and detatched the volume, and reattached the volume, it didnt help. I do notice that occasionally now my elastic IP will randomly disassociate itself with my instance. I've rebooted, stopped/started, is there more I can do?

I was able to install java, and get the 'connect' feature to function, however, even with my key file, it says I don't have access to log in.

Please help"
Amazon EC2	"Re: cant connect to ec2 instance
I 'solved' the issue. Something is wrong with the instance, it was 'running' (by that I mean billing me) but nothing was responsive. No idea what it is. 

Below is the steps I took to resolve the issue. I hope this helps someone else, if they get into the same problem. I've looked in logs and can't find any reason as to why there was an issue. 

I will be leaving AWS as soon as I can.

Steps I took to get things running again:
1. Create a new instance, and stop it
2. Stop instance that is unresponsive
3. Disconnect the volume from the problem instance
4. Disconnect the volume from the new instance
5. Connect the original volume to your new instance
6. Start your new instance, with the original volume
7. Scratch your head as to why this fixed it"
Amazon EC2	"Re: cant connect to ec2 instance
Thanks this worked for me as well...  also scratching my head."
Amazon EC2	"Re: cant connect to ec2 instance
We cant connect to ec2 instance using putyy, we have the ppk file and connected with this yesterday but    
 now we have troubles to connect. Our instance id is i-3ae32bc5"
Amazon EC2	"How many load balancers can be attached to an autoscaling group ?
I see we now have the ability to change the load balancers attached to an autoscaling group after creation. Is there a limit to how many load balancers can be associated with a single autoscaling group ?"
Amazon EC2	"Re: How many load balancers can be attached to an autoscaling group ?
Hi. Yes, there is a limit of 50 load balancers per group. You can attach or detach 10 load balancers at a time. I've updated the documentation with this information: 

http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/as-account-limits.html

Julie"
Amazon EC2	"Instance stuck in stopping
My instance i-8e5adaed is stuck in stopping. Would someone please be able to help out with this?

Thanks!

Tom"
Amazon EC2	"Re: Instance stuck in stopping
Hello,

It looks like it finally did stop by itself.

Regards,
Julian H."
Amazon EC2	"Importing a Windows Server VM hosted in a vhdx file...
We are using Hyper-V locally for our VMs, and have recently been creating our VMs in .vhdx files rather than the ""older"" .vhd files.

Is it possible to import VMs in .vhdx files into EC2 using the same process?"
Amazon EC2	"Re: Importing a Windows Server VM hosted in a vhdx file...
Hi,

At the moment AWS currently supports VMDK, VHD or RAW as per:
http://aws.amazon.com/ec2/vmimport/

We plan to support import for additional operating systems, versions and virtualization infrastructure products in the future."
Amazon EC2	"Re: Importing a Windows Server VM hosted in a vhdx file...
Is it possible now to import a VHDX?"
Amazon EC2	"Re: Importing a Windows Server VM hosted in a vhdx file...
Yes, is there any update on this ability?  It is crazy that is has been almost 2 years and still no support."
Amazon EC2	"Instance not stopping
Hi,

The instance i-69be028a is not stopping. After I ask to stop this instance the console keeps showing ""stopping"" in the status field.

How can I stop this machine?

Thanks in advance."
Amazon EC2	"Re: Instance not stopping
Hello,

Thank you for the post. 

I have stopped the instance ""i-69be028a"". You can start the instance if you wish to continue working on it. 

Here is a document that may be useful - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Hope this helps.

Thank you,
Varun"
Amazon EC2	"Re: Instance not stopping
Thanks!"
Amazon EC2	"How to enable EPEL repo
Hi,

I think I need a package in the EPEL repo, I've tried running 
yum --enablerepo=epel install ...

But that doesn't work, it looks like the repo definition is missing from my machine, e.g. :

sh-4.1# uname -a
Linux www.kahui.io 3.14.44-32.39.amzn1.x86_64 #1 SMP Thu Jun 11 20:33:38 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
sh-4.1# ls
amzn-main.repo	amzn-nosrc.repo  amzn-preview.repo  amzn-updates.repo

Does anyone know how I import the definition so that I can install extra packages?

Thanks,
Mike"
Amazon EC2	"Re: How to enable EPEL repo
Hi,

Can you please give us more information about where your AMI came from?  It looks like it's a custom AMI that may have once started life as the ""vanilla"" Amazon Linux AMI but has since been modified.

Thanks!"
Amazon EC2	"Re: How to enable EPEL repo
Hello,

In addition to Max's response can you also try to to install the epel-release with yum.
epel-release.noarch : Extra Packages for Enterprise Linux repository configuration

Tested from my side:
$ yum --enablerepo=epel install
Error getting repository data for epel, repository not found

$ yum install -y epel-release

$ yum --enablerepo=epel repolist
repo id                                                         repo name                                                                                  status
!amzn-main/latest                                               
...
epel/x86_64                                                     Extra Packages for Enterprise Linux 6 -"
Amazon EC2	"Re: How to enable EPEL repo
Thanks for both the replies, I started up a micro instance and realised that I had somehow removed,  epel.repo and epel-testing.repo from my main instance in /etc/yum.repos.d, so copied across, I think this has solved my issue."
Amazon EC2	"Single ELB with many domains and SSL certificates
We host many domains and wish to use an elastic load balancer with SSL. Is it possible to have a single ELB, that has hundreds or thousands of different domains and SSL certificates?

If not, what is a solution to this problem?

Edited by: justinksf on Jun 24, 2015 5:44 PM"
Amazon EC2	"Re: Single ELB with many domains and SSL certificates
Hello,

Thank you for the post. Unfortunately, the ELB doesn't support this currently. You may have to use  wildcard certs or use single ELB for single domain and run the domains on the same backends behind the ELBs.

Thank you,
Varun"
Amazon EC2	"Strange architecture results with rpm spec file
For some reason the following condition:

%ifarch ppc %{power64} s390 s390x

in spec files sometimes evaluates to TRUE with an Amazon Linux machine...I can't find any reason for this happening, it is completely random and happens about 1/3 of the time; it's only that specific condition though, its separate parts always correctly evaluate FALSE.

Has anyone else come across this?"
Amazon EC2	"RDC cannot connect
I just created i-5c2c0dab. I have a security group that allows all traffic. However when I try to connect with Remote desktop, it says it cannot connect.

I've configured my router to pass through port 3389 (I think I validated it using http://portquiz.net:3389). I have also disabled Windows 8 firewall on my computer so I don't think it should be blocking.

I have no idea anymore why I can't connect to this new instance? Please advise."
Amazon EC2	"Re: RDC cannot connect
I tried wiping it out and starting from scratch. Same issue. New instance is i-e572a52d"
Amazon EC2	"Re: RDC cannot connect
I finally got in. EC2 used to be a pleasure to work with. Can't say that any more. The problem was the default VPCs created did not have an Internet gateway or route table to that gateway configured. I followed Jillian's steps here: https://forums.aws.amazon.com/thread.jspa?threadID=159957&start=50&tstart=25

What a PITA. Why can't this just work out of the box like it used to?"
Amazon EC2	"Launch EC2 instance with 30 GB of EBS storage
I am wanting to try out EC2 while remaining within the AWS free tier.

I chose a Windows Server 2012 instance. When launching this instance, AWS says

""Volume of size 30GB is smaller than snapshot 'snap-bfeb823b', expect size >= 35GB""

If I increase my storage to 35 GB then I fall outside the free tier. How can I launch EC2 while staying inside the free tier?"
Amazon EC2	"Re: Launch EC2 instance with 30 GB of EBS storage
Hello,

The snapshot size is 35GB. If you would like to stay within your free tier, make sure you launch an instance with a snapshot that is 30GB or smaller. You can also launch an instance from a fresh volume with the desired space from the Add Storage page.

More information can be found here: http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/launching-instance.html

Best Regards, 

Ahmed H."
Amazon EC2	"Change reserved instance region
HÄ°,

I have created a reserved instance in wrong region.. 
And currently reserved instance is in pending-payment state..

how can I change region before payment done?

Edited by: ygkrmk on Jun 25, 2015 8:56 AM"
Amazon EC2	"Re: Change reserved instance region
Hello,

Please contact our Account / Billing team for Billing or Account inquiries: 

https://aws.amazon.com/contact-us/

Best Regards,
Ahmed H."
Amazon EC2	"AWS Console redirect?
I'd like to direct my internal users to a specific location in the AWS Console. Unfortunately we have multiple accounts. Is there a way to send a user to the appropriate IAM login URL while providing a redirect URL on successful login? It would save us a lot of time. Thanks."
Amazon EC2	"Re: AWS Console redirect?
If you'd like to send your IAM user directly to a specific console such as RDS as an example, your users can access the login page with /rds or any other service in the URL. For example:

https://<account number>.signin.aws.amazon.com/console/rds

If you meant to have a central login portal and based on user authentication, the user will be redirected to the right account, then it is not possible as every account has its own IAM login URL that your users can use to sign in. You can create aliases for the account numbers to make it easy for them to remember. You can click on Customize link in IAM dashboard to create an alias for the sign in URL."
Amazon EC2	"Re: AWS Console redirect?
For the RDS case it works fine but I can't get:
https://xxx.signin.aws.amazon.com/console/route53

to work. I am trying to redirect it directly to a specific record set, like:

https://xxx.signin.aws.amazon.com/console/route53#resource-record-sets:XXX9OXXX1VXXX

is this possible at all?"
Amazon EC2	"Microsoft Windows Server 2008 R2 with SQL Server Express 2012; Free Tier?
Sorry, I am entirely new at this. There is an AMI in the marketplace, ""Microsoft Windows Server 2008 R2 with SQL Server Express 2012 & IIS"" that says it is Free Tier Eligible.  When I attempt to launch the AMI in my micro instance I get ""Volume of size 30GB is smaller than snapshot 'snap-e2d6063f', expect size >= 35GB"", but when I increase the Root size to 35 GB on the Add Storage configuration tab, I get the error ""Your instance configuration is not eligible for the free usage tier""

??? ???"
Amazon EC2	"Re: Microsoft Windows Server 2008 R2 with SQL Server Express 2012; Free Tier?
Hello,

I've asked engineering to comment on this. I'll post back when I hear from them.

Richard"
Amazon EC2	"Re: Microsoft Windows Server 2008 R2 with SQL Server Express 2012; Free Tier?
Hello,

We apologize for the confusion here. It had taken place due to the way marketplace checks the eligibility for free-tier, which is initially just based on the instance type. However, later when you hit the higher space requirement it threw the error. The engineering team has replied to us with the following confirming the above, 
""For now the free tier eligible badge is only accounting for free tier eligible instance types. we have plans to expand the badge to account for other dimensions, such as EBS volume sizes.""

Hope this explains, let us know if this raises any other questions,

Best regards,
Amo"
Amazon EC2	"Re: Microsoft Windows Server 2008 R2 with SQL Server Express 2012; Free Tier?
Thanks.  Microsoft Azure solved my problem."
Amazon EC2	"Re: Microsoft Windows Server 2008 R2 with SQL Server Express 2012; Free Tier?
I have the same problem. This does not solve my problem.

I cannot launch my EC2 instance without increasing the storage space to 35 GB, which means I cannot launch my EC2 instance without going outside the free tier.

How can free tier customers launch EC2 instances running windows servers?"
Amazon EC2	"Instance i-142073fb unavailable for 2 days
I have been unable to connect to my windows instance i-142073fb for 2 days.  I have stopped/restarted.

The ip changed but still no connection either via remote connect or direct web addressing.

This had been a working site and no changes were made.

Please Advise"
Amazon EC2	"Re: Instance i-142073fb unavailable for 2 days
Hi,
From the system logs I read the following:

2015/06/24 20:21:53Z: Difficulty detecting PV driver details for Console Output

This means you are facing the well known 2012 R2 issue:

http://aws.amazon.com/windows/products/ec2/server2012r2/network-drivers/

In order to recover the instance, please first stop it and change the instance type to either a C3, R2 or I2 instance type first.
Then please:
1. Create an AMI as a backup of your instance
2. Start the instance again
3. RDP to the instance
4. Run the provided script to remediate the issue:

http://ec2-downloads-windows.s3.amazonaws.com/Scripts/RemediateDriverIssue.zip

5. Stop the instance and change the instance type back to the original one
6. Start the instance again

The instance should then be accessible again.
Let us know if you need further assistance here!

Edited by: AlessandroM@AWS on Jun 25, 2015 5:15 AM"
Amazon EC2	"Re: Instance i-142073fb unavailable for 2 days
Thank you very much, I was able to restart the instance and retrieve the data."
Amazon EC2	"Remote Desktop Server Virtual IP
Has anyone tried using the virtual IP addressing available in Remote Desktop Services?  It allows each RDS session to have a unique IP for legacy application compatibility.  I have tried configuring it, but am not seeing the expected results.  Here is a brief article explaining what I am trying to do.
http://social.technet.microsoft.com/wiki/contents/articles/15230.rds-ip-virtualization-in-windows-server-2012.aspx"
Amazon EC2	"perpetually attaching
i tried to attach 2 volumes in conflict.  my bad. but the 2nd one did not give me an error.  instead, it stayed in the attaching state.  i was using the console and intended to attach (to an amazon linux instance) as /dev/sdh1 and /dev/sdh2 but typed sdh instead of sdh1 and the attach for sdh2 got stuck.  i did not notice my error for several minutes.  any idea why it kept on trying and did not give an error popup?  a force detach cleared it. i repeated it the same bad way and it got stuck again.  can someone try and reproduce this?

Edited by: skaperen257 on Jun 25, 2015 5:00 AM to add more"
Amazon EC2	"I can not connect to my instance EC2 windows server 2003.
I can no longer access after restart. Could help me please, I have a copy of the windows registry with a date prior to the problem, thank you very much,

Luiz H Franco."
Amazon EC2	"Re: I can not connect to my instance EC2 windows server 2003.
Hi Luiz,
I see the instance is stopped, so I can't do a live troubleshooting.
By checking the old logs I have, I see the instance was failing the instance health check, and the network layer didn't initialize.
This could be caused by many reasons, and I can't understand which one if the instance is stopped.

If you can't leave the instance running my advice would be to create a new instance and then migrate the data.

EBS volumes can be moved from an instance to another as long as they are in the same availability zone.

I hope this helps!"
Amazon EC2	"Remote Desktop Licensing 120 Grace Period Expired - How do I reconnect?
I needed to install the session host role on my windows server to install some software.  Apparently, after 120 days of not doing anything, the lack of configuring remote desktop licensing has made it impossible to remote desktop into my instance.  Any ideas on how to gain access again?

Any help is appreciated.  Thanks."
Amazon EC2	"Re: Remote Desktop Licensing 120 Grace Period Expired - How do I reconnect?
Hi,
You should be able to connect by using the admin session:

mstsc /admin /v IPADDRESS

You can then uninstall the role or apply the license.
I hope this helps!"
Amazon EC2	"How do you import an ESX Windows Server 2012R2 image into EC2 using BYOL?
I previously posted this thread with some questions about importing VMs.  I have since solved all problems except BYOL.  I thought a more specific question (now that I only have one) with more detail would be more productive.

I have followed the AWS instructions for UsingImportImage to import an ESX exported image of Windows Server 2012R2 -- using the BYOL flag.  I followed the VMImportPrerequisites setup instructions (necessary but not obviously linked to from ""UsingImportImage"").  I uploaded the image to an S3 bucket, and created an import-image task with a command like this one:

aws ec2 import-image --cli-input-json ""{ \""Description\"": \""Windows 2012R2 OVA\"", \""DiskContainers\"": [ { \""Description\"": \""Win2012R2 Import Task\"", \""UserBucket\"": { \""S3Bucket\"": \""my-bucket-name\"", \""S3Key\"" : \""Path/To/2012R2Image.vmdk\"" } } ], \""LicenseType\"": \""BYOL\"", \""Architecture\"": \""x86_64\"", \""Platform\"": \""Windows\"" }""


The command completed successfully.  I used ""aws ec2 describe-import-image-tasks ..."" to follow the status until it completed.  I then found and named my new AMI (no obvious sign anywhere whether or not BYOL was enabled).  At this point, I launched a new instance from this AMI with dedicated tenancy, as is required for BYOL.  (I verified that the instance got dedicated tenancy.  It did.)  I logged into the instance and checked the license key with ""slmgr -dli"" and compared to the output from another EC2 instance that was a Windows Instance selected from the ""Quick Start"" tab in ""Launch Instance"" and to the output from the original instance in VMWare.  It's pretty clear that my attempt to use BYOL failed.

At no point was there any indication of failure.  No complaint, no warning, no failure.  Is there a hidden or undocumented step one must do to get BYOL working?  Do you need to reach out to AWS support and get a feature enabled?  (I tried and it doesn't seem like that is the case.)  Any suggestions?  If I did something incorrectly, how do I figure out which step?  Again, at no point was there any complaint."
Amazon EC2	"Re: How do you import an ESX Windows Server 2012R2 image into EC2 using BYOL?
Hi EddieWK,
Microsoft license mobility does not include the Microsoft Windows Client operating system, Desktop application products (e.g. Microsoft Office), and Microsoft Windows Server operating system. AWS customers will need to continue to run their applications through Windows-based instances on Amazon EC2).

More information here:

http://aws.amazon.com/windows/resources/licensemobility/

I hope this helps!"
Amazon EC2	"EC2 instance unreachable/unrebootable while Status check OK
Hello there,
I'm experiencing trouble with an EC2 instance (i-e856a1ad) that gets unreachable by SSH and un-rebootable from EC2 console while both System Status Checks and Instance Status Checks are green.
It already happened before and the only way to get it up again was stopping it then launching it again. 
The instance runs celery workers with supervisord and when the instance gets unreachable, I can see that the workers stop consuming tasks, along with CPU usage diminution to a value very close to 0  (see attachement).
Do you have any clues where it comes from and why the 'Stop' action works and not the 'Reboot' action ?"
Amazon EC2	"Re: EC2 instance unreachable/unrebootable while Status check OK
Hi kunteng,
A reboot is equivalent to a software reboot. It could be that due to the instance conditions (CPU, memory utilization), the OS can't actually reboot.
The stop action can be enforced (if you try to stop twice for example you can force the stop), and that may solve some temporary issue due to resource consumption or OS deadlocks.

You can check the System logs to see additional information about the OS state:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html

Additionally, you can check Cloudwatch metrics, to see for example if CPU utilization is high.
At the moment, I don't see any particular issue with the instance.

I would keep an eye on your root device as I see some I/O errors in the System logs:

http://676884.164628 end_request: I/O error, dev xvda, sector 1595737
http://676884.168618 end_request: I/O error, dev xvda, sector 1616393
http://676884.168618 end_request: I/O error, dev xvda, sector 15994049
http://676884.168618 end_request: I/O error, dev xvda, sector 1595945
http://676884.168618 end_request: I/O error, dev xvda, sector 13069553
http://676884.168618 end_request: I/O error, dev xvda, sector 5439449
http://676884.168618 end_request: I/O error, dev xvda, sector 1614097
http://676884.168618 end_request: I/O error, dev xvda, sector 1615393
http://676884.168618 end_request: I/O error, dev xvda, sector 16059561
http://676884.168618 end_request: I/O error, dev xvda, sector 1612081

I hope this helps!"
Amazon EC2	"Can't launch new instance - 1/2 checks passed
I have problem with instance i-77a86ea4. The status checks show ""1/2 checks passed"".  I reboot several times but the problem still exists. Could you please help!

Thanks."
Amazon EC2	"Re: Can't launch new instance - 1/2 checks passed
Hi nt1905,
I have checked the instance but I see it has been terminated.
Please let us know if you are facing a similar issue with another instance."
Amazon EC2	"Cannot connect to EC2 instance using the created key
I am using `aws ec2 create-key-pair --key-name linux` to create a new key. I am using the same key to run a new instance like this: `aws ec2 run-instances --image-id ami-3bc5880b --instance-type t1.micro --key-name linux--security-groups linux-security-group`. However, when I try to connect to the new instance using `ssh -i linux.pem root@52.26.81.138`, I get a message saying ""The authenticity of host '52.26.81.138 (52.26.81.138)' can't be established.
RSA key fingerprint is 3e:a2:de:4d:0f:9f:5e:90:85:a7:40:0d:e4:95:2a:39."". The problem is that the fingerprint that comes up is not the same as the one I get while creating the key using `aws ec2 create-key-pair --key-name linux`. As a result, I am not able to connect to the instance. Please tell me what am I doing wrong here and how do I correct it."
Amazon EC2	"Outgoing mail isn't working from time to time
Hello.

I have intance with Ubuntu 14.04. From time to time I'm getting an error about delivering mail to mail servers:
-Queue ID- Size ----Arrival Time---- -Sender/Recipient-------
3D85982C9C      648 Tue Jun 16 09:56:16  info@revuptics.com
            (connect to mx.yandex.ruhttp://213.180.204.89:25: Connection timed out)
                                         xxx@yandex.ru
           (connect to mx1.hotmail.comhttp://65.55.37.104:25: Connection timed out)
                                         xxx@outlook.com



0 Kbytes in 1 Request.




I tried to check connectivity by telnet and it failed to connect.
telnet 65.55.37.104 25
Trying 65.55.37.104...
However after 4-5 minutes I did same and telnet has successfully connected to 25 port on Hotmail.
I don't have any firewall rules, so I believe it's not an instance's issue.
Does Amazon have any restrictions about number of outgoing SMTP connections? or maybe number SMT connections during time frame?

Thanks."
Amazon EC2	"Re: Outgoing mail isn't working from time to time
Hello,

Amazon Elastic Compute Cloud (Amazon EC2) throttles email traffic over port 25 by default. To avoid timeouts when sending email through the SMTP endpoint from EC2, use a different port (587 or 2587) or complete a request to remove the throttle, that can be found here:

https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

If you have any questions, please do not hesitate to reach out to us."
Amazon EC2	"SSH Identity File Not Accessible
Hello, I am having a trouble with my EC2 Instance and I got stuck no matter how much I tried to Google..I will describe my whole situation to better understand the context of my actions.

I am trying to get back the ownership of etc/sudoers which I ""accidentally"" gave to the ec2-user when I set the ownership to the whole folder. So now I cannot use basic commands such as sudo yum update.

I searched for solution and it seems to be as follows: create another instance -> mount the locked-out-of-device to it as a non-root device -> claim back your ownership. That's what I am trying to achieve. I created another instance with the same settings as the previous one I had, unmounted the device from the original instance and mounted it as /sdf to the freshly created one.

Now I am in my console, logged in as ec2-user. The solution I found here:https://community.bitnami.com/t/recovering-sudo-recovering-root-ownership-error-etc-sudoers-is-owned-by-uid-1000-should-be-0/30162/5 says

Then navigate back to the Instance and START the New-Instance and login into the server via SSH and enter the following commands: ssh -i /pathtologin-key/key.pem bitnami@ip-of-New-Instance

And here I got stuck. I cannot figure out the path to my login. I assume the key name will be lmenus-key-pair-ireland.pem as that's what I use and have stored locally to access the ftp or this console ? But I could not figure out the path, I tried C:/Users/Lubos/Downloads/lmenus-key-pair-ireland.pem, C:\Users\Lubos\Downloads\lmenus-key-pair-ireland.pem, /home/ec2-user/.ssh/id-dsa/lmenus-key-pair-ireland.pem, and many others but I do not understand how should I find that path. 

Please help this issue is driving me crazy, thank you!

Edited by: lmenus on Jun 25, 2015 1:15 AM"
Amazon EC2	"Remote Desktop Gateway on the AWS Cloud
Hi there, I'm currently trying to deploy remote desktop gateway on the AWS Cloud by following the guide. However, I'm getting errors trying to connect to my DC1 as it says my server is unavailable. Any ideas on how to fix this?
Instance:  i-191f2bef (RDGW1) 
Instance:  i-421622b4 (DC1)

Edited by: marscriv on Jun 25, 2015 1:05 AM"
Amazon EC2	"I canÂ´t to connect to my instance EC2 windows.
My system log is    i-e467da4e    ,        VPC ID:  VPC-9fe950fa
grateful.

Edited by: tecfranco on Jun 23, 2015 11:01 PM"
Amazon EC2	"Re: I canÂ´t to connect to my instance EC2 windows.
Hello,

At the moment I can see that your instance is in a stopped state, you can start your instance then you should be able to connect to it via the IP Address given.

This can be done via the console:
1. Go to https://console.aws.amazon.com/ec2 
2. Select Instances
3. Select Actions, Instance State, Start.

You should then be able to connect to your instance."
Amazon EC2	"Instance won't stop (ID i-bcd9b66a)
Hi,

My instance ID will not stop (or Force Stop).  EBS shows ""attaching"" state; would prefer not to have to force detach and move to another instance.  

We received the ""hardware degraded"" notification and I'm trying to spin down this instance so it can be re-launched on new hardware.

Please note I'm also not able to make an AMI either; I've requested the snapshot but it's been in a ""spinning wheel"" state for quite some time as well."
Amazon EC2	"Re: Instance won't stop (ID i-bcd9b66a)
Hi,

Your instance would not stop due to a hardware issue. We have intervened and brought the instance to a stop for you. The hardware is now in maintenance. If you start your instance again it will launch on healthy hardware.

Apologies for the disruption to your service.

Regards,
Julian H."
Amazon EC2	"Re: Instance won't stop (ID i-bcd9b66a)
Hello,

Thank you for bringing this to our attention,
from my side I can see that the instance is now in a stopped state.

Would you be able to try again and please let us know if you still having any problems regards to previously mentioned."
Amazon EC2	"Network interface with the Public IP
Im running Windows server 2012 and one of the programs im running requires me to select the network adapter which has the public IP address.

I have added 2 network interfaces. But when i look in ipconfig i can only see the private 172 addresses of each. Is there any way of adding a network interface which refers to the public IP address assigned to my server?

Thank you in advance for any assistance."
Amazon EC2	"Re: Network interface with the Public IP
Hi,

The network card that the instance launches with will always be the first NIC on the instance. In your EC2 console, your NICs are listed as eth0 then eth1 etc and you can see the EIP attached.

I hope this helps,
Julian H."
Amazon EC2	"Remove Reverse DNS configuration for IP
I need release IP, but this not possible.
I have configured a DNS Reverse for IP. You can remove configuration, for that I can release the IP?

The IP is: 54.207.50.80
The Reverse DNS is: mx01.grupoabra.com

Thanks"
Amazon EC2	"Re: Remove Reverse DNS configuration for IP
Hi,

You need to complete this form to remove reverse DNS as we need to do some security checks first. 

https://portal.aws.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request

Please put the word 'remove' in the Reverse DNS Record for EIP 1 and 2 boxes and we will aciton this for you.

Regards,
Julian H."
Amazon EC2	"Can;t able to resize Partition
Hello,

I have created instance t2.micro and added 40GB General purpose SSD space. and pick the ""Right scale centos 6.5 64bit"" image. instance successfully launch.

after login to SSH i checked its disk size it shows total size of 10GB of /dev/xvda1. but the storage space is 40GB. i run fdisk /dev/xvda and deleted the partition and save the changes. again i run fdisk /dev/xvda and created the new partition and save the changes. i also marked the partition boot flag and after saving it shows that the effect and change will be made after reboot.

and once i reboot it won't back online.

i have done it 4 times and same result. i have also done many efforts like partprobe /dev/xvda1 and resize2fs /dev/xvda1  and  e2fsck -f /dev/xvda1 but no luck and nothing worked.

can you please help me to sort this matter.

Many thanks"
Amazon EC2	"Re: Can;t able to resize Partition
Hi paul-ec2,

Sorry to see you are having issues expanding the root volume for your instances.

I was able to reproduce the problems that you are seeing using the community AMI.  I also tested this with an Amazon AMI image and the partition resizes to the defined size automatically.

I was able to find a work around to get you the extra disk space that you need on the community AMI.
Quick instruction:
1.	Deploy the instance, without adjusting the disk size.
2.	â€œSTOPâ€ the instance once you have verified you can login to it.
3.	Detach the volume ( *Note that it is attached as /dev/sda1 )
4.	Take a snapshot of the volume
5.	Create a new volume from the snapshot with the desired size. ( In this case 40G )
6.	Attach the new volume to another linux EC2 instance in the same AZ.
7.	Use GNU tools to resize the partition. ( I used parted, see below )[ec2-user@ip-172-31-37-1 ~]$ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0   8G  0 disk 
â””â”€xvda1 202:1    0   8G  0 part /Â 
xvdf    202:80   0  40G  0 disk 
â””â”€xvdf1 202:81   0  10G  0 part 
[ec2-user@ip-172-31-37-1 ~]$ parted /dev/xvd
xvda   xvda1  xvdf   xvdf1  
[ec2-user@ip-172-31-37-1 ~]$ parted /dev/xvdf
WARNING: You are not superuser.  Watch out for permissions.
Error: Error opening /dev/xvdf: Permission denied                         
Retry/Cancel? cancel                                                      
[ec2-user@ip-172-31-37-1 ~]$ sudo parted /dev/xvdf                                                                                                                     
GNU Parted 2.1
Using /dev/xvdf
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) unit s                                                           
(parted) p                                                                
Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdf: 83886080s
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Â 
Number  Start  End        Size       Type     File system  Flags
 1      2000s  20971519s  20969520s  primary  ext3         boot
Â 
(parted) rm 1                                                             
(parted) mkpart                                                           
Partition type?  primary/extended? primary                                
File system type?  [ext2]? ext3                                           
Start? 2000s                                                              
End? 100%                                                                 
Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel? ignore                                                     
(parted) print
Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdf: 83886080s
Sector size (logical/physical): 512B/512B
Partition Table: msdos
  9. Detach the volume and re-attach it tom the original EC2 Instance as /dev/sda1.
  10. Start the instance and run resize2fs /deb/xvda1
[root@ip-172-31-37-126 ~]# resize2fs /dev/xvda1
resize2fs 1.41.12 (17-May-2010)
Filesystem at /dev/xvda1 is mounted on /; on-line resizing required
old desc_blocks = 1, new_desc_blocks = 3
Performing an on-line resize of /dev/xvda1 to 10485510 (4k) blocks.
The filesystem on /dev/xvda1 is now 10485510 blocks long.
Â 
[root@ip-172-31-37-126 ~]# lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  40G  0 disk 
â””â”€xvda1 202:1    0  40G  0 part /Â 
[root@ip-172-31-37-126 ~]# 
For more verbose detail on how to do this please have a look at this link http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/storage_expand_partition.html.

Kind Regards,
Anthony H"
Amazon EC2	"How can i set up Joomla on EC-2? Please, help!
Hi!
My name is Igor, I woold like to install joomla on Amazon EC-2 Ubuntu server free tier, but I could not do this.
After a week of probe and tests I deside to write you. This letter I send to Amazon and Ubuntu help. 

All settings are from official ubuntu site.

What did I do:

1. Set up right settings for Shh port (If not to do this, connection will be first and last time)
   Link on instruction - https://help.ubuntu.com/lts/serverguide/openssh-server.html

sudo apt-get install openssh-client

sudo apt-get install openssh-server

chmod 600 .ssh/authorized_keys

2. Programs packages installing before joomla install
   Link on instruction - https://help.ubuntu.com/community/Joomla

sudo apt-get update

sudo apt-get upgrade



sudo apt-get install apache2 php5-mysql libapache2-mod-php5 mysql-server php5-json phpmyadmin php5-curl unzip

// New password for the MySQL ""root"" user // PASS_1

// Password of the database's administrative user // PASS_1

// MySQL application password for phpmyadmin // PASS_2

Failure, writes that:

Processing triggers for libc-bin (2.19-0ubuntu6.6) ...
W: Operation was interrupted before it could finish



So I deside to reinstall packages one by one.

Delete all packages:

sudo apt-get purge apache2 php5-mysql libapache2-mod-php5 mysql-server php5-json phpmyadmin php5-curl unzip

Install all packages one by one:

sudo apt-get install apache2

sudo apt-get install php5-mysql

sudo apt-get install libapache2-mod-php5

sudo apt-get install mysql-server

sudo apt-get install php5-json

sudo apt-get install phpmyadmin

// Password of the database's administrative user // PASS_1

// MySQL application password for phpmyadmin // PASS_2

sudo apt-get install php5-curl

sudo apt-get install unzip

Failure, that was before doesn't repeat. 
So I go further.

3. Joomla install
   Link on instruction - https://help.ubuntu.com/community/Joomla

SOURCEPKG=Joomla_3.1.5-Stable-Full_Package.zip
SOURCEWWW=http://joomlacode.org/gf/download/frsrelease/18622/83487/Joomla_3.1.5-Stable-Full_Package.zip

mkdir joomla
cd joomla
wget $SOURCEWWW
unzip $SOURCEPKG
rm -f $SOURCEPKG

cd ..
sudo mv joomla /var/www/
cd /var/www/joomla
sudo chown -R www-data:www-data .

cd /var/www/joomla/
sudo find . -type f -exec chmod 644 {} \;
sudo find . -type d -exec chmod 755 {} \;

mysqladmin -u root -p create USER_1

// Password of the database's administrative user // PASS_1

mysql -u root -p

// Password of the database's administrative user // PASS_1

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON USER_1.* TO USER_2@IGOR_HOST IDENTIFIED BY 'password';

\q

Successes, go further.

4. Change joomla files. 
   Link on instruction - https://help.ubuntu.com/community/Joomla



sudo nano libraries/joomla/filter/input.php

Failure.
Nano opens file, but it's empty.
There is no text, only black background and commands in bottom part.

So I go another way.



I change text in file through Filezilla.

I download file /joomla/filter/input.php
Find:

$source = preg_replace('/&#(\d+);/me', ""utf8_encode(chr(1))"", $source); // decimal notation
$source = preg_replace('/&#x(a-f0-9+);/mei', ""utf8_encode(chr(0x1))"", $source); // hex notation

Chfnge on:

$source = preg_replace_callback('/&#x(\d+);/mi', function($m){return utf8_encode(chr('0x'.$m[1]));}, $source); // decimal notation
$source = preg_replace_callback('/&#x(a-f0-9+);/mi', function($m){return utf8_encode(chr('0x'.$m[1]));}, $source); // hex notation

Allso I change folder rights for joomla folder to make downloads on server.

sudo find /var/www/joomla -type f -exec chmod 777 {} \;
sudo find /var/www/joomla -type d -exec chmod 777 {} \;

Download new file on server. 
After that do everything as in insrtuction:

sudo service apache2 restart

Unfortunately after all this steps I do not see joomla site on this link
http://ec2-52-7-84-123.compute-1.amazonaws.com/joomla/installation/index.php

It writes:

Not Found
The requested URL /joomla/installation/index.php was not found on this server.
Apache/2.4.7 (Ubuntu) Server at 52.7.84.123 Port 80


I allso try:

sudo apt-get update

sudo apt-get upgrade

cd /var/www/joomla/
sudo find . -type f -exec chmod 644 {} \;
sudo find . -type d -exec chmod 755 {} \;

Does not help. 

Please, help me to solve this problem with EC-2 Ubuntu Server 14.04 LTS (HVM), SSD Volume Type - ami-d05e75b8
As you can see I did everything as written on Ubuntu official site, but I have no result I hope to. 
Wait for new suggestions from you. 
Thanks."
Amazon EC2	"Snapshot Pending - What's Up?
I've tried twice since 5 PM EDT to create a snapshot of a 400G volume.

I canceled the first one after pending for 20 minutes.

This one: snap-05dbee9a  has been pending for another 20 minutes at least."
Amazon EC2	"Re: Snapshot Pending - What's Up?
Been waiting over an hour now and 0%.  I tried launching a 2nd snapshot.  It is also at 0%."
Amazon EC2	"Someone's hacked my account and bought massive ec2
Hi, yesterday i have a massive bought of amazon instances, spot instances and all, my account rises the US$ $11.000, I NEED A REALLY URGENT HELP, How can i do to solve this, now i remove all instances that has been created and the account be stable, but im going crazy wht that numbers, i receive a threat of being fired if i dont resolve this problem urgent.

Thanks a lot

JORGE SANCHEZ
Telesentinel ltda
mail: rsanchez@telesentinel.com"
Amazon EC2	"Re: Someone's hacked my account and bought massive ec2
Hello,

Thanks for posting. I apologize for the issues you've encountered. You'll need to open a case with the Billing Team in order to get your bill squared away. If you've not done so please use the following link:

https://console.aws.amazon.com/support/home#/case/create?issueType=customer-service

Have you identified how this happened and taken the necessary steps (change passwords, rotate keys, setup MFA) to stop it from happening again?

You may also want to review the following WhitePaper as well:

http://aws.amazon.com/whitepapers/aws-security-best-practices/

Regards,
Brandon"
Amazon EC2	"SSD based instance storage 1Mb/s read performance
Hi,

We have an m3.2xlarge instance running redis. It had a lot of data written onto disk. When I restarted the process, it was loading it from disk to memory, but it was really slow. iostat -dmx showed 1Mb/s read performance while usage was 100%, which seems much slower than what I would expect from an SSD based storage. The instance ID is i-92e42a6d, can you look into what is happening there?

Thank you,
 Andras"
Amazon EC2	"Re: SSD based instance storage 1Mb/s read performance
Hello,

Thanks for posting. Looking at the instance and volume vol-85584fc2 I can see that starting at 03:39 UTC on 06/24 the volume was being throttled. Currently the volume is starting to accumulate burst credits.

The reason your credits had become exhausted was due to writes issued to the volume starting at 21:37 UTC on 06/23/2015. This peaked at 03:43 UTC on 06/24/2015 at which time throttling began.

https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metrics:graph=!NS0!MN1!ST2!ET3!SS4!PD5!D06!E07!VAAWS/EBS~VolumeWriteOps~2015-06-22T21%3A32%3A01Z~2015-06-24T21%3A32%3A05Z~Average~300~VolumeId~vol-85584fc2

If you are not familiar with burst credits on gp2 volumes please see the following link:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_gp2

You can increase the volume size which would increase your baseline IOPs.

Regards,
Brandon"
Amazon EC2	"How is the fingerprint of EC2 key pair calculated?
When `import key' in PuTTY Key Generator utility, I found that the finger print doesn't match with the one shown in the AWS Console. 

In AWS Console:
a6:ef:a5:12:c0:f2:ef:e6:e1:23:69:56:e2:02:aa:ba:38:9a:b5:08

In PuTTYGen:  
ssh-rsa 2048 c5:de:21:ed:99:76:2f:64:75:92:f6:b5:a6:da:7b:97

This really confuse.

Any idea?"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
Mine does not match either. More, if I use ssh-keygen -l -f <public_key>, where public key is taken from instance meta-data it matches with puttygen.

So probably question is how EC2 key-pair fingerprint is calculated on EC2 KeyPairs UI?"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
Use this command from the ec2 API tools.

ec2-fingerprint-key"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
ec2-fingerprint-key doesn't work for me:
$ ssh-keygen -f a.rsa
import a.rsa.pub to amazon key-pairs
=> aws fingerprint:  ec:3a:12:7b:d6:7a:3e:c1:d0:04:df:b6:a2:0f:08:22

$ ec2-fingerprint-key a.rsa
50:e9:1a:9f:72:5e:ae:c8:9a:c5:7e:c9:03:aa:b0:15:35:c8:d7:46

$ ssh-keygen -m PKCS8 -e -f a.rsa > a.pem
$ ec2-fingerprint-key a.pem
Unexpected error:
java.lang.ClassCastException: org.bouncycastle.jce.provider.JCERSAPublicKey cannot be cast to java.security.KeyPair
	at com.amazon.aes.webservices.client.cmd.FingerprintKey.loadPrivateKeyByName(FingerprintKey.java:110)
	at com.amazon.aes.webservices.client.cmd.FingerprintKey.invokeOffline(FingerprintKey.java:68)
	at com.amazon.aes.webservices.client.cmd.BaseCmd.invoke(BaseCmd.java:865)
	at com.amazon.aes.webservices.client.cmd.FingerprintKey.main(FingerprintKey.java:137)

$ ec2-fingerprint-key -v
Setting User-Agent to http://ec2-api-tools 1.4.3.0"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
This is a confusing topic for the best of us.  Amazon could really do a lot more to make this easier for us all.

I have now edited much my original posting as it didn't fully solve the problem. Other posts to thread in the past year have not fully solved the problem either.

The best I have yet is:

Install ec2-api-tools

then

ec2-fingerprint-key .ssh/key.pem  (path to your private key / key name) ,

this will show you the fingerprint of your desktop private key which you can then compare to the public one shown in the web-based management console, under key pairs. They should match but it is not very convincing as a solution. 

The reassurance that this match is in use has to come from being told this fact at the point of instance launch. When you initially log on to your new instance the fingerprints will remain consistently different to those reported elsewhere ...

'ec2-get-console-output'  which some people have suggested, may be used prior to to initial accecptance of fingerprint authenticity and will show output in other than ECDSA.  I haven't been able to get this to match the ec2-fingerprint however.

@Daniel  'openssl pkcs8 -in ~/.ssh/ec2/primary.pem -nocrypt -topk8 -outform DER | openssl sha1 -c'  explains the mechanisn that aws appears to use but produces exactly the same results as the much simpler 'ec2-fingerprint-key'

Edited by: TuxVinyards on Feb 2, 2013 10:11 AM"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
There really must be a load of people out there just crossing their fingers and clicking 'yes' ....

As in: The authenticity of host ' can't be established.

ECDSA key fingerprint is xxxxx....  Are you sure you want to continue connecting (yes/no)?

I previously suggested:

ssh-keygen -l -f /etc/ssh/ssh_host_rsa_key.pub   (exactly as is)

You can also add:

ssh-keygen -l -f /etc/ssh/ssh_host_ecdsa_key.pub

A year on,  although I thought this solved the problem, it doesn't.  It is just a variant on 
'ec2-get-console-output'  except you have trusted the connection to find this out.

(keygen doesn't generate a key with the -l switch,  see 
http://www.freebsd.org/cgi/man.cgi?query=ssh-keygen&apropos=0&sektion=1&manpath=FreeBSD+9.0-RELEASE&arch=default&format=html )

AWS, improvement/clarification still needed, please.

Edited by: TuxVinyards on Feb 2, 2013 9:52 AM"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
The 'ec2-fingerprint-key' command only works on the private key, not the public key. As an Ops guy, I only have the public keys of my users, not their private ones.

I want to calculate the fingerprint of a public key the same was Amazon does it. Any ideas?"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
I wanted to do the same thing and finally figured out how to do this without using the EC2 CLI tools (and Java) and using OpenSSL instead.

If ~/.ssh/ec2/primary.pem is a private key generated by EC2 itself, the following will give you the fingerprint in the same format as displayed by the EC2 API:

openssl pkcs8 -in ~/.ssh/ec2/primary.pem -nocrypt -topk8 -outform DER | openssl sha1 -c


Also note that you're creating a fingerprint/digest of the private key (the first command essentially just converts the private key from PEM (text) to DER (binary) format). The consequence of this is that you can't verify the fingerprint of such keys unless you have the private key. You can however re-import such keys under a different key name into EC2, and then treat it like a key generated outside EC2. This is obviously not very convenient though.

If ~/.ssh/ec2/primary.pem is a private key generated from which you created a public key and imported that into EC2 (and thus end up with a shorter finger print in EC2), then you can use:

openssl pkey -in ~/.ssh/ec2/primary.pem -pubout -outform DER | openssl md5 -c


Here we actually implicitly create the public key from the private key in the first command (-pubout only pipes the public key), and then create the fingerprint from the public key. Consequently if you don't have access to the private key, you can still create the fingerprint:

openssl pkey -pubin -in ~/primary.pub.ssl -pubout -outform DER | openssl md5 -c


In the above command ~/primary.pub.ssl was created with:

openssl pkey -in ~/.ssh/ec2/primary.pem -pubout > ~/primary.pub.ssl


Note that the only way to distinguish between the two schemes is the length of the fingerprint (sha1 is longer than md5).

Credits for the solution to the EC2 created keys go to: http://journal.soffritto.org/entry/231 (from which I gleaned enough to see the solution), and fingerprinting a public key was just a bit more fiddling with the helpful hint about md5 in the comments of http://blog.jbrowne.com/?p=23.

Hope that helps.

Edited by: Daniel on Oct 3, 2012 6:21 PM

Edited by: Daniel on Oct 3, 2012 6:23 PM"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
I have some questions about the keys used in AWS.

How can I find the finger print from my private key PEM file?

Having the values differ kind makes the information there useless. I see I could use the API tools, but what about if I want to view the fingerprint on my local machine? Can I install the API tools there? Even if I can that still makes the process a little more complex, it would be nice if I could do this without having to install anything and just use standard tools.

I have two keypairs, but only one I used. When I tried to create my first AWS server in Virginia (the default, for me anyways) it didn't work so after a while I cancelled it and made a server and  keypair somewhere else. I think I still have the PEM file for Virginia on my work PC. If I ever lose the PEM file is it possible to download it again, or can you only download it when generating?

If I made a new instance in another region and want to use the same PEM file I use for my current instance I notice I can import the public key part of the pair, so that's good, maybe I'll just delete the Virginia keypair, or I could just not use it and hold on to it if I ever decide to change my keypair or need for something else.

Edited by: iheartsymlinks on Dec 7, 2012 10:58 AM

Edited by: iheartsymlinks on Dec 7, 2012 10:59 AM

EDIT: To add more confusion I just imported my key to another region and the fingerprints for the two regions are different, is this because a salt was added? I thought I could use the fingerprints to check that the key matched for different regions.

Edited by: iheartsymlinks on Dec 7, 2012 12:29 PM"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
Just FYI, I've summarized and simplified this into a ServerFault answer for people.

http://serverfault.com/q/603982/102814"
Amazon EC2	"Re: How is the fingerprint of EC2 key pair calculated?
That's the fingerprint of the host key; judging by the context of the question I think it was about the client key pair that is used to auth, not the host's keypair."
Amazon EC2	"Instance stuck on stopping state
My instance id i-1ff4fc0d is stuck on stopping for some time now, and seems that it will not stop.

Can someone help me?"
Amazon EC2	"Re: Instance stuck on stopping state
Hello,

Apologies for the trouble.  The instance should now be stopped.

Best regards,
Justin G."
Amazon EC2	"Volume of size 30GB is smaller than snapshot
hi,
Im trying to create a new ec2 server in the free tier program.
Its only free if i use up to 30GB of storage but the default disk must be 35GB or i get the error 
""Volume of size 30GB is smaller than snapshot"".
I cant change the snapshot so or delete the default storage so im stuck ..."
Amazon EC2	"Re: Volume of size 30GB is smaller than snapshot
As far as I know, there's no way to directly decrease the size of a snapshot.

You could create a 35GB volume (from the snapshot) and a 30GB volume (empty), attach them both to an instance, and copy the data over. Then you would be able to create a snapshot from the 30GB volume. EBS volumes are charged hourly, not monthly, so if you do it quickly and delete the volumes when you're done, the cost should be much less than a penny."
Amazon EC2	"Re: Volume of size 30GB is smaller than snapshot
Hi liorgal,

We currently don't have an easy way to shrink volume sizes or snapshots. The best method would be to create a new volume with your intended size and copy your data over to the new volume. Once you've confirmed the integrity of the copied data you could then delete the older (larger) volumes/snapshots.

Regards,

Rodney"
Amazon EC2	"Re: Volume of size 30GB is smaller than snapshot
HI,
The problem is that the 35 GB drive is the one that contain the windows folder so i cant take it offline."
Amazon EC2	"Re: Volume of size 30GB is smaller than snapshot
I built another instance with a different windows version that take a 30 gb snap
problem solved"
Amazon EC2	"Application unable to make connection with sql database running on same ec2
I am facing the issue with connectivity . I am running my .net application and sql database on one Windows EC2 instance. My application is not able to make connection to database.

Security Group In bound rules are - Port 80 allowed for all Port 443 allowed for all Port 3389 allowed for me only

Outbound rules are port 80 and 443 allowed for all.

My question is what all ports should be opened as inbound and outbound"
Amazon EC2	"Can not connect to an instance
I have an instance that I haven't accessed for about half a year. Now I tried to connect to it but failed. The error message is ""Permission denied (publickey)."" I have done the following three things:
(1) I have run the command ""chmod 400 MyKeypair2.pem"".
(2) I have checked the security groups. The instance is open to anything.
(3) I have checked the network of local machine. It works very well.
Besides, The instance is started in the console and I have waited long enough.
So, I have no idea why I can not connect. Help!"
Amazon EC2	"Re: Can not connect to an instance
Hi,

There are a number of possible causes.  Would you please cut/paste your ssh command?

One common cause is when your local username is not the same as the user name you're trying to ssh into on the remote host.  The form of the command I use is as follows:

 ssh -i ~/.ssh/cli_test_key_pair.pem ubuntu@52.4.xxx.yyy


If this has been helpful, please mark the question as such."
Amazon EC2	"Re: Can not connect to an instance
Yes, that's exactly the key. Thank you very much!"
Amazon EC2	"No route to host error suddenly, public IP ping fails with general error,
my amazon ec2 instance is running perfectly fine. but when i try to connect using putty or via browser its not pinging. 
My security group is set correctly because this issue happened when everything was working fine, its a live system. 
my security group id : sg-148fd871
Instance id: i-a5802cab
Its urgent please help"
Amazon EC2	"Re: No route to host error suddenly, public IP ping fails with general error,
Hello

I have successfully connected to the SSH port and also opened the website. However, if you require the ability to ping this IP you need to add the ICMP protocol to the security group. You can choose to allow all ICMP traffic or you can choose to limit ICMP to only reply to pings by choosing Custom ICMP and then selecting Echo Request from the available options.

The error ""no route to host"" was most probably caused by your ISP or an upstream provider. To test this you should run a traceroute from your local system to the public IP of your instance and note where the link is down.

Kind regards

Leon"
Amazon EC2	"Load balancer not balancing the load
Hi!

I have a strange behavior in my elb.

I have 2 machines (c3.large / same OS / same zone / same region) a elb (EC2 VPC / Internet facing / same zone / same region ) and they are not getting the cargo access consumption equal / balanced way.

The server001 this with 78% CPU Utilization while server002 this with 6% CPU Utilizantion.

By adding a third server to the situation changes: server001 and server002 balancing while server003 not.

What may be occurring?

Edited by: rmsysadmin on Jun 18, 2015 10:46 AM"
Amazon EC2	"Re: Load balancer not balancing the load
Hello 

Please PM me the ELB name so I may take a look."
Amazon EC2	"Instance shuts down when launching HVM AMI
Hi all,

I've been having problems with an HVM AMI created from a paravirtual AMI. When I try to launch an instance, it never goes beyond initialising state and then it shuts down. I can't retrieve system logs and I am not able to see any feedback that helps me debug the issue.

Any help is very helpful. Thank you in advance

Best,
Silvina"
Amazon EC2	"elastic ip unreachable sometimes
We use an ec2 instance with http endpoint. We use a given elastic ip directly in our web app. But recently we have been getting network error (Failed to load resource: net::ERR_ADDRESS_UNREACHABLE ) more often. We couldn't specifically reproduce the issue. It happens very randomly. When error happens, on debugging in chrome console we are seeing the following error message (Failed to load resource: net::ERR_ADDRESS_UNREACHABLE ) and within few seconds everything working fine. We have been receiving complaints about this issue from many of our users also . Clearly it looks like a connectivity issue. Any help for identifying and fixing this issue would be appreciated"
Amazon EC2	"Re: elastic ip unreachable sometimes
any help? can someone from aws check our server instance settings. This has become a mojor problem for us."
Amazon EC2	"Re: elastic ip unreachable sometimes
Hello
There are many potential causes for this problem and the most effective method to troubleshoot this is to work through this by process of elimination.

To start you need to get as much information as you can about the link between you and the EIP.  An effective tool to use in this scenario is MTR:
https://en.wikipedia.org/wiki/MTR_%28software%29
When you again experience this issue of the IP address being unreachable run MTR from your local system to the EIP and log the results. 

The results will show you if there was any packet loss and where this occurred if any. 

After you have ruled out a connection issue, you need to start troubleshooting the instance itself. You need to ensure that the instance is not running out of resources like CPU or memory or that you are using more IOPS on the instance volume than what they are capable of. You can use a combination of CloudWatch and OS tools like TOP in Linux to obtain these metrics."
Amazon EC2	"Load Balancer Timing Out
i've created two EC2 instances and installed apache on them.  Both apache servers work independently and i can see their respective index pages when i navigate to them in a browser.

I've now added a load balancer and assigned the two EC2 instances to it, the load balancer shows that the two EC2 instances are ""inService"" and i can see the health check activity in the apache access logs on each EC2 server.

However when i try to browse to the load balancers DNS name the browser reports the following and neither index page is displayed:

Gateway Timeout: can't connect to remote host

I must be missing something obvious but i am at a loss as to what.

Any help greatly appreciated.

Thanks"
Amazon EC2	"Re: Load Balancer Timing Out
Turned out that i had an incorrect security group assigned, i.e. the default one that is created with the EC2 instance.  Once i'd defined a new security group with access to HTTP and HTTPS all worked."
Amazon EC2	"openvpn 2.3.7
any idea when openvpn 2.3.7 will be available for Amazon Linux? it currently has 2.3.6."
Amazon EC2	"Re: openvpn 2.3.7
Hi,

We will look at making this update available in a future Amazon Linux AMI repository push, and we'll return to this thread once it is available.

Thank you for using the Amazon Linux AMI."
Amazon EC2	"Recreate of Default VPC and Subnet
Hi,

I accidentally deleted one of the vpc default subnet (at eu-central-1 region) and then I created a nondefault subnet on that vpc.
Therefore I have 2 subnets - one default and one nondefault - on my vpc.

Is is possible to restore my default subnet on sa-east-1?

Best regards,"
Amazon EC2	"Re: Recreate of Default VPC and Subnet
Hello,

I hope I've understood this correctly.

I've marked both subnet-7a0eaa13 and subnet-64e1261f (both in eu-central-1) as default subnets.

Thanks,
Richard"
Amazon EC2	"Re: Recreate of Default VPC and Subnet
hello,

Thank you. I could create subnets with first default subnets. But now i can not do it(overlaps). is it possible to create ?"
Amazon EC2	"Re: Recreate of Default VPC and Subnet
Hello,

I'm sorry, but I don't understand the question you're asking.

If it's easier you are welcome to ask in a different language; if we have someone here who speaks your language I will ask them to translate.

Thanks,

Richard"
Amazon EC2	"Re: Recreate of Default VPC and Subnet
Hello,

I mean, when i'm trying to create subnet with default subnets there is no overlaps, but now they will.

Default Subnets: 172.31.0.0/20 and 172.31.0.0/20 
New subnets: 
CIDR block 172.31.1.0/24 overlaps with pre-existing CIDR block 172.31.0.0/20 from subnet-7a0eaa13 (172.31.0.0/20) | default-1a Subnet."
Amazon EC2	"Re: Recreate of Default VPC and Subnet
Hello,
If you create more than one subnet in a VPC, the subnets' CIDR blocks must not overlap.

http://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateSubnet.html
http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html

Regards,"
Amazon EC2	"Re: Recreate of Default VPC and Subnet
Hello,

I'm creating new vpc. Can you set default vpc as a vpc-2ea97b47? and change the vpc-2ea97b47 and vpc-2ea97b47 default subnet? after this i can delete old vpc,subnets.

Thank you for all help."
Amazon EC2	"Re: Recreate of Default VPC and Subnet
thank you for help."
Amazon EC2	"Linux RAID and root device
Hello,

In a linux instance, is it possible to put all filesystem (all volumes, including ""root device"") inside RAID1 arrays (e.g. /dev/md0 => root device + volume1; /dev/md1 => volume2 + volume3 ...) ?

Regards"
Amazon EC2	"Re: Linux RAID and root device
Hi there,

As I understand Linux itself can't boot from a RAID device. The boot partition needs to be on a block device. Have you ever configured a Physical machine or VM in this way before?

Potentially, if you really wanted, you could start an instance with say 3 volumes. Once it's running, join the 2 data volumes in RAID1. Copy the root volume onto the RAID array. Edit your fstab to mount /boot to the first block device (/dev/sda1?) and mount / on the RAID device.

This is quite challenging territory though, and ultimately unless you have a very specific use case, this approach isn't really cloud architecture friendly. You should aim to spread your workloads across multiple instances, such that if one fails, the other provides availability. 

It doesn't really add up either if you need it for performance. AWS EBS volumes can be upto 16TB do 20,000 IOPS on a single volume. EBS volumes are already durable and data is replicated across multiple servers. Plus you can take snapshots and AMIs. More info on durability here

http://aws.amazon.com/ebs/details/
Amazon EBS Availability and Durability

Finally, with a RAID array, if a volume fails, replacing it and rebuilding the array is not going to be trivial. Lets say you attach a replacement volume, but automatic recovery doesn't kick in correctly and there is some kind of problem. You do not have console access like you do on a normal physical machine to do recovery type steps.

Perhaps others in the AWS community can provide some insight into the pros and cons and configuration steps, but unless you have an extremely good reason for wanting this config it is not recommended.

Regards,
Julian H."
Amazon EC2	"Instance will not stop
My website went offline.  Tried to reboot the server and that did not take.  Tried to stop it and it will not stop.  Tried to forcibly stop it and it will not stop.  Any way to can stop and start it for me?  Instance ID = i-4fd3d62d"
Amazon EC2	"Re: Instance will not stop
Hi Arik,

It looks like that instance is up and running now.  Please let me know if you have any further issues with it.

Regards,
Anthony H."
Amazon EC2	"Re: Instance will not stop
I also have an instance that is showing ""stopping"" for the last 24 hours. I have even tried a ""Forced Stop"" but that has not worked either."
Amazon EC2	"Re: Instance will not stop
Hi alex,

Can you please provide the ID (i-XXXXXXXX) of the instance?

Kind regards,
Chris"
Amazon EC2	"Re: Instance will not stop
i-70a7b15a"
Amazon EC2	"Re: Instance will not stop
Thanks alex. You instance is now in a ""stopped"" state. Apologies for the downtime and frustration this may have caused!

Kind regards,
Chris"
Amazon EC2	"Re: Instance will not stop
Is this forum the best place to deal with issues like this in the future or is there something that I can be doing through the console?"
Amazon EC2	"Re: Instance will not stop
Hi alex,

Instances that are stuck stopping are usually due to a problem on our side as much as we try to architect around these types of issues. There is unfortunately not much you can do other than launch a replacement instance or contact us for help via the forums or our Support Center (paid).

You can find out more information in the following documentation:

http://aws.amazon.com/instance-help/
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Kind regards,
Chris"
Amazon EC2	"Re: Instance will not stop
I have a stuck instance NWProd01, Instance ID=I-902dbdfc,  now and the TroubleshootingInstancesStopping.html   does NOT work.  Trying to create image says ""Invalid value 'i-902dbdfc' for instanceId. Instance is not in state 'running' or 'stopped'""
Can you fix my image now?"
Amazon EC2	"Re: Instance will not stop
Greetings,

Your instance is now in the running state and look healthy. If you need to take and image please try again now. Any problems let us know here and we will look into it for you.

Regards,
Julian H"
Amazon EC2	"Lots of AWS maintenance notice
Hi there,

I got lots of AWS maintenance notice(40+) today for different accounts and instances. Anyone knows what happened? Or it's just happening to me?

Thanks!"
Amazon EC2	"Re: Lots of AWS maintenance notice
Greetings,

EC2 maintenance happens throughout the network at various times, and can effect a variety of customers. I can see you have opened a support case, so we will provide more detail there once we have looked into it. 

Best Regards,
Julian H."
Amazon EC2	"Instance locked up, won't shut down
My i-b3e8d663 instance in us-east-1b locked up about 25 minutes ago, and I have been unable to shut the instance down. I have even tried to a --force on ec2-stop-instances, and there's been no progress in stopping the system.  Can someone at AWS please shut it down? Thanks."
Amazon EC2	"Re: Instance locked up, won't shut down
Never mind - it finally shut down on its own."
Amazon EC2	"EC2 Performance Benchmarking with Octave
I am trying to performance benchmark EC2 with Octave.My machine specs:Windows XP Pro SP3E8600 Core 2 Duo @ 3.33Ghz3.5 GB RAM (supposed to be 4 but System Properties says 3.5)EC2 Instance specs:Basic 64 bit Windows Server 2003 (AMI Id: ami-be22c0d7)High CPU Xlarge (c1.xlarge) 20 ECU, 8 core 7GBTests were run on Octave 3.2.2 with all optional packages installed.First test was conduced by entering: >tic;x=fft(rand(30000,1000));tocTime was approx 2.27s on my machine (with quite a few things running in the background, 3.5GB page file usage).On EC2 instance time was ~5.5s with nothing but IE running in the background.These results were consistent across 2 days (this morning and yesterday afternoon) and multiple tries each day.Second test was run using a Matlab benchmarking script from here:http://www-math.cudenver.edu/~jmandel/matlab/jmbench.mScript was just copied and pasted into the command window.Times for my machine (in order of display):0.172,0.734,0.141,0.187,0.703,0.125,0.187,0.703,0.125Times for EC2:0.422,1.156,0.438,0.406,1.141,0.359,0.406,1.156,0.359My questions are:1) Does anyone know why EC2 is so much slower?2) Is there anything that can be done to speed things up using an instance that includes MS SQL Server 2005 or 2008?3) I realize that the cloud computing framework is intended more for parallel applications. I am actually not interested in these applications at present. Are there other services out there that are meant more for high-performance ""single-threaded"" processes (if that's the proper way to put it) and that offer the same kind of customizable environment as EC2 (ah and I know it's asking a lot but SQL Server 2005 would be nice too)?Any help is much appreciated, thanks."
Amazon EC2	"Re: EC2 Performance Benchmarking with Octave
Hi,

I am a graduate student doing my thesis on benchmarking GPU instances in cloud. I would like to know if there are any pointers where to start with. Any help or guidance will be much appreciated. Many thanks in advance."
Amazon EC2	"elastic IP unreachable sometimes
We use an ec2 instance with http endpoint. We use a given elastic ip directly in our web app. But recently we have been getting network error (Failed to load resource: net::ERR_ADDRESS_UNREACHABLE ) more often. We couldn't specifically reproduce the issue. It happens very randomly. When error happens, on debugging in chrome console we are seeing the following error message (Failed to load resource: net::ERR_ADDRESS_UNREACHABLE ) and within few seconds everything working fine. We have been receiving complaints about this issue from many of our users also . Clearly it looks like a connectivity issue. Any help for identifying and fixing this issue would be appreciated"
Amazon EC2	"Re: elastic IP unreachable sometimes
AWS Team, any light on this? can you look into our instance if anything is not right? It has become a major problem for us. Users complain about this quite often."
Amazon EC2	"Re: elastic IP unreachable sometimes
Hello, 

Some additional information we'll need if your users are still having problems:

1. Source IP/s - You can even setup a ping/MTR from your instance to your users IP to get an idea of what kind of packet loss you're seeing. 
2. Look into when these problems occur, and see if it correlates with high CPU Utilization/Memory utilization. Web services also generally have connection limits, you may want to also examine your application logs and configuration to see if you see these connection attempts failing. 
3. Traceroutes, preferably at least one for when they're failing and one for when it's succeeding. 
4. ISP they connect from, all from the same ISP/area?

Regards,
Nick"
Amazon EC2	"Monthly I/O requests went up 20X - No known change in usage
I have a T1 instance that has been operating for approx 3 years. In Feb of 2015, my monthly charges approximately doubled. Today, I pulled a report, and noticed that 99.95%+ of my I/O requests (1.1661E13 / 1.1667E13) are coming from hourly requests of the exact same number:  32212254720

My report file is attached. Also a small portion of it pasted below.

The server is only used as a license server, to hand out networked licenses to 2 CAD programs to approx 5 users. I can't account for the increased activity. We did  hire a new employee who is using the server for Solidworks Licensing...so I would have not been surprised to see the I/O number double or so, but I can't explain 20X.

I would greatly appreciate any help in identifying the source of these charges.

Service	 Operation	 UsageType	 Resource	 StartTime	 EndTime	 UsageValue
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 0:00	6/1/2015 1:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 1:00	6/1/2015 2:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 2:00	6/1/2015 3:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 3:00	6/1/2015 4:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 4:00	6/1/2015 5:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 5:00	6/1/2015 6:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 6:00	6/1/2015 7:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 7:00	6/1/2015 8:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 8:00	6/1/2015 9:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 9:00	6/1/2015 10:00	32212254720
AmazonEC2	CreateVolume	EBS:VolumeUsage		6/1/2015 10:00	6/1/2015 11:00	32212254720"
Amazon EC2	"Re: Monthly I/O requests went up 20X - No known change in usage
Hello, 

The 32212254720 is billed as ""EBS:VolumeUsage"", which is referring to the size of the volume and why a charge shows up every hour for that amount. ""EBS:VolumeIOUsage"" is referring to actual I/O requests. 

If you have further billing questions you can always contact Customer Service by opening a billing case here: 
http://aws.amazon.com/support

Regards,
Nick"
Amazon EC2	"How to redirect traffic from different DNS to amazon
We have our own domain registered with namebright as dattus.com. We want to add a subdomain as test.dattus.com which should point to amazon ec2 instance's elastic IP address. I dont know how to do this."
Amazon EC2	"Re: How to redirect traffic from different DNS to amazon
Hello, 

Since NameBright is working as your registrar, you'll have to work with them to forward DNS queries for 'test.dattus.com' to your EC2 instance's EIP. 

Regards,
Nick"
Amazon EC2	"ELB latency (backend_processing_time): Client side latency possible?
Hi,

From the definition given in the Developer's Guide, the field 'backend_processing_time' in an ELB access log entry is given as below:

""[HTTP listener] The total time elapsed, in seconds, from the time the load balancer sent the request to a registered instance until the instance started to send the response headers.""

I would like to know if a latency spike observed for 'backend_processing_time' can be caused by the client side instead of the backend? More specifically, if an incoming HTTP request to the backend server is a POST request with additional data to send in the request body, does the latency start ticking before the client finish sending the additional data? As the backend needs the complete request before it can respond, that may increase the latency."
Amazon EC2	"Re: ELB latency (backend_processing_time): Client side latency possible?
Hello, 

I generally wouldn't call this 'client side latency', as the latency is still being measure as how long it takes for the backend instance to start it's reply. In the case of file uploads like a large POST, yes, you'd see a spike in the ELB's latency metric. Another common cause of latency spike that the client may influence is in GET or POSTs that cause the backend instances to send a large database query that takes some time significant time to return.  

In these cases still, the ELB Latency metric still measures the how long it takes from when it forwards the request to when the first part of the return data is received. 

Regards,
Nick"
Amazon EC2	"Sites Are Down after increasing the storage space
Hi,

I increased the volume of the instance by creating a snapshot by following the steps at:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-expand-volume.html

Now, none of the sites are coming up.
My instance id is - i-3700df3a

I would appreciate some help as quick as possible.

Thanks in advance!

Shanthi"
Amazon EC2	"Re: Sites Are Down after increasing the storage space
Hello, 

It looks like you got your sites running. Generally adjusting the size of your volume should have no bearing on whether your web service is running or not, and you'd want to start by verifying the status of your web service/application. 

Let us know if you have any further issues. 

Regards,
Nick"
Amazon EC2	"My AWS Instance Hangs
So I create an Amazon EC2 instance and it works great for about a day, but then suddenly (even without any changes that I can think of) it stops being able to connect.

Here's my verbose SSH output

ssh -v -i ~/.ssh/FreeJeff.pem ec2user@ec2-52-25-248-179.us-west-2.compute.amazonaws.com
OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug1: /etc/ssh_config line 53: Applying options for *
debug1: Connecting to ec2-52-25-248-179.us-west-2.compute.amazonaws.com http://52.25.248.179 port 22.
debug1: Connection established.
debug1: identity file /Users/peter/.ssh/FreeJeff.pem type -1
debug1: identity file /Users/peter/.ssh/FreeJeff.pem-cert type -1
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.2
Hangs here for about five minutes... Then...

ssh_exchange_identification: read: Connection reset by peer
Things I have done: restarting the instance (doesn't solve the problem), terminating and creating a new instance from AMI (solves the problem only for another day), and trying different WiFi networks (doesn't work anywhere!).

Details about me: Connecting from OSX."
Amazon EC2	"Re: My AWS Instance Hangs
Hello, 

It sounds like there could potentially be an issue with the OS or perhaps some application. Most commonly application issues that will cause a problem like this will occur when installing network drivers, tampering with network or permission settings, or installing security software. 

Two things you can additionally check if you're still having this problem:   
1. System log of the instance, by going to Services -> EC2 -> Instances -> Right click on your instance -> Instance Settings -> Get System Log. This will show you the console output of your OS and you may see that your OS is restarting or encountering some errors. 
2. Additionally, you can further investigate your OS/SSH logs (generall within /var/log) by detaching your root volume and attaching it to an instance that is working. The following article goes more thoroughly into this: 
http://aws.amazon.com/articles/5213606968661598

Regards,
Nick"
Amazon EC2	"my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
I received an email regarding instance ID i-35df534f saying it was scheduled for retirement. I tried to create an AMI (ID ami-8da35be6) so I can start a new instance but it has been stuck in ""pending"" for hours now. So then I tried to stop the instance and it is stuck in the ""stopping"" state. I need to get my website back online ASAP! Please help!"
Amazon EC2	"Re: my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
Hello,

I am able to confirm your EC2 instance i-35df534f has successfully stopped. You may re-start this EC2 instance at your earliest convenience.

Regards,
Mohsin"
Amazon EC2	"Re: my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
Thanks for the reply. I see the instance has stopped but the AMI is still in ""pending."" I need to create a new instance because this one is being retired by Amazon due to hardware failure."
Amazon EC2	"Re: my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
The AMI has been ""pending"" for 3 hours now! I need to get this resolved as I'm losing customers every minute my website is down! Is there a way to cancel it and try it again? Why is it stuck?"
Amazon EC2	"Re: my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
I discovered that attempting to create a new AMI will cancel the existing AMI request. I did that (ID ami-81837bea) and now this new request is also stuck in ""pending"".."
Amazon EC2	"Re: my instance is unreachable! I can't stop it and AMI is stuck in ""pending""!
The new AMI appears to be processing now."
Amazon EC2	"ec2-create-image
When I use this command, it creates a snapshot of the instance, what I need is a command to create a AMI of the windows server, so I can launch it in another region.

Does anybody know the command to create the AMI?

Thank you"
Amazon EC2	"Instance ID i-8895f3fb
This instance will not stop. I even tried a force stop."
Amazon EC2	"Re: Instance ID i-8895f3fb
Hello,

Your EC2 instance i-8895f3fb has successfully stopped. I see that you have re-started your EC2 instance back up again. If you do have any additional questions or concerns, please do let us know. We'll glad to be of assistance.

Regards,
Mohsin"
Amazon EC2	"Packets are droping from certain locations
Hi,

We are running a instance from ""us-west-1c"" avaibility zone and we have activated a monitoring service to check performance of website.

Website or server configurationhas no issue but still it always drom packates from US-EST, US-WST locations. Please check attachment.

Do I need to upgrade to any kind of limit? Please suggest. thanks."
Amazon EC2	"Migrate hive metastore from 0110 to 0131 ?
I am running EMR cluster using --ami-version=2.4.2 and Hive version 0.11.0.1. I want to upgrade my EMR to use --ami-version=3.8 and Hive version 0.13.1 so I can run Hive on Spark. My metastore is in mysql database resides on master node, and all the tables are created as external whose data on S3. Can I migrate my metastore from 0.11.0.1 to the new cluster? Normally when launching a new cluster with the same version, to access all tables in existing cluster I simply export (mysqldump hive_0110 > filename) the metastore and re-import it to the new cluster. For newer Hive version, after updating the metastore to be compatible (by adding more mysql tables and columns required by newer Hive version) to new version, importing it does not seem to work. Did any one migrate metastore data from one Hive version to another? What's a good way of doing it?"
Amazon EC2	"EC2 Ubuntu Instance with Joomla keeps getting hacked
My instance ID:i-6ccd6abb

This happens every couple weeks it seems.  I've read up on a the security tips, I make sure I have strong passwords, I configured the security groups strongly, I made sure Ubuntu was updated, yet keep getting hacked.  I've used a Windows box on here for years and never had a problem.  Moved to Linux and this keeps happening (kind of suprised).  Can someone offer some help or tips?

Thanks!"
Amazon EC2	"Status check failed
i-f9d2e437 status check failed, and can not ssh even after reboot, can anyone help?"
Amazon EC2	"Re: Status check failed
Hello  volodymyr_kukurudz,

Upon reviewing your EC2 instance i-f9d2e437, I see it is failing instance-reachability checks. In order to troubleshoot this EC2 instance, I would recommend to view the following documentation on How to Recover an Unreachable Linux Instance.  It is advised to view OS level logging to gain more insight on why your EC2 instance has become unreachable.

I hope this information is helpful to you.

Regards,
Mohsin S."
Amazon EC2	"Teamviewer on Fedora 22 - Not ready. Please check your connection
Hello,

I've installed Fedora 22 Cloud HVM on an Amazon EC2 Instance and I'm connected to it with VNC Viewer on a Gnome graphical session.

Now I want to use Teamviewer for remote control. The install went fine but when I launch Teamviewer it says ""Not ready. Please check your connection."" And I'm stuck with this error...

It's pretty weird because I'm already connected with VNC Viewer and I can go on Internet.

Two possible problems :
1) PolicyKit (polkit-1 actions) block Teamviewer because I'm logged in as root (remote). So my loggin session is considered as ""Inactive""

2) Amazon EC2 block Teamviewer even if I opened TCP port 5900 and 80...

If you have any idea it would be great!
Thanks in advance.

Regards.
John"
Amazon EC2	"Map existing public IP to AWS ec2
Our project requirement is such that we want to map public IP that we have purchased to the ec2 instance. We can't use the public IP provided by AWS for this purpose and we can't workaround using DNS. Does AWS support this? Do we have any workarounds ?

Edited by: aravindaws on Jun 23, 2015 5:39 PM"
Amazon EC2	"Re: Map existing public IP to AWS ec2
Hello,
we cannot import or managed your IP address, in order to work with AWS you will have to configure your application to work with the DNS names. Alternatively you can use an Elastic IP address provided br AWS.
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html
Thanks!"
Amazon EC2	"Oregon outage June 22 7:49am Pacific
Two datacenters in two different locations lost VPN site-to-site connectivity.  One data center was using an AWS VPN.  The other VPNs are going to EC2 strongswan servers in VPCs. The other VPN was going to us-west-2a, and another VPN was going to us-west-2b.

In short, 3 VPN tunnels to aws all went down around 7:49am June 22nd.  

Anyone else notice anything?

Edited by: jazzed88 on Jun 22, 2015 11:33 AM

Edited by: jazzed88 on Jun 22, 2015 11:34 AM"
Amazon EC2	"Re: Oregon outage June 22 7:49am Pacific
Hi,

To view an AWS Service outages or issues you can visit the following page.  This also allows you to view past events as well.

http://status.aws.amazon.com/

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"AWS Instance Won't Stop
My instance (i-b4f235ce) was not responding this morning. I tried to use the AWS console to stop it but it did not stop. I tried to stop it again, a force stop, with no effect. I would like to restart it as soon as possible.

What happens next?"
Amazon EC2	"Re: AWS Instance Won't Stop
After about 30 minutes it stopped."
Amazon EC2	"404 on every page but index.php
I uploaded a PHP project to EC2 using beanstalk, i can see the home, but as soon as i try to go another page i get a 404 page not found...

I use htaccess on my local, but i donÂ´t know where to setup the .htaccess on ec2, i tried on project root but no luck.

My htaccess is set to redirect all traffic to index.php where we load controllers and models... etc etc.

Looks like this:

RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l

RewriteRule ^(.+)$ index.php QSA,L

Any clue on this?

Edited by: xiscollado on Jun 23, 2015 4:26 AM"
Amazon EC2	"Cannot SSH to ec2 instance, or ping it
Trying to learn AWS. 
So I read over the docs and watched a recent youtube video on how to get a instance up and running....seems trivial!

So I do the following steps:
1.  in EC2; Launch Instance
2. pick AMI 2015.03 (HVM)
3. use default settings and create a new .pem key, I save this key to my machine
4. I wait for the instance to be up and running for a bit.
5. I chmod 400 the .pem key
6. I try to ssh to the machine in the following format:
ssh -i aws-ssh-only.pem ec2-user@x.r.t.y 
where x.r.t.y was the IP given the instance.
--> no response.
Then i try the Public DNS instead
-> no response.
7. I add HTTP to the security Group and try to ping the machine:
-> no response.

8. I asked some friends who use AWS all the time, they watch me walk through the steps and they also 
see nothing I'm doing wrong.  They think my account is messed up.

9. I called Amazon Billing Support, they say my account is in the clear and to post here instead.

My current public IP/DNS is:
Public DNS
ec2-.compute-1.amazonaws.com
Instance state running
Public IP
54.x.x.x

instance ID: i-501908af

Anyone have any idea why I am cursed?

Edited by: RodneyM@AWS on Jun 22, 2015 3:16 PM"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
Hi  Charles,

I had a look at your instance and it looks fine. Looks like you forgot to add an Internet Gateway (IGW) to your VPC and or enable it.

This should help - http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html

Let me know if you have further questions!

Rodney"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
Thanks none of the docs I read went over that (thanks for the link ;-))

I see now that I have one made it picks that VPS by default now when I make new instances.
I guess this is why my friends do not remember doing this step?

Is it odd that the first time you have to set this up but then in the future it auto-chooses the VPS that has an internet gateway...after reading the docs it's not that odd.  Just the book i was reading and the youtube video did not cover this in their steps. I should of reviewed the AWS docs better....thanks for your help!

Edited by: Charles on Jun 22, 2015 3:31 PM

Edited by: Charles on Jun 22, 2015 3:40 PM"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
Hi  Charles,

When you get a chance could you provide links to the docs you referenced. As an example our getting started with VPC does talk about IGWs - http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html

If there are other getting started docs which talk about launching an instance but don't provide at at least a reference to the VPC I'll need to let our technical doc writers know.

Thanks!

Rodney"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
was mostly this page:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html 
--> On this page there is a link to ""Troubleshooting your Connection""
--> I even read the line: ""EC2-VPC Check the route table for the subnet. You need a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC.""
And mentioned this possibility (but perhaps in the wrong words) to one of the people helping me but they dismissed it.  I think the link you provided was much better than this short blurb. 

Perhaps would be nice to have a Prerequisites about having a Internet Gateway here on your VPS route, or perhaps I should read docs better.

I kind of don't like how it auto makes all this VPC stuff for you on the fly (routes/VPS/etc) but then you still actually have to go into it to set a Internet Gateway.

I think from just playing around with a few instances (micro free teir) i ended up createing unknowingly like 20 subnets
prob 10+ VPC?  etc etc

Granted I think people who know what they are doing love these features so it's just my view.

Edited by: Charles on Jun 22, 2015 3:54 PM"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
also kind of random but it would be nice if you could actually click your  VPC on the EC2 Instance overview page:

VPC ID:  <make clickable>
But I'm sure tons of people have requested this already ~~

Edited by: Charles on Jun 22, 2015 4:01 PM

Edited by: Charles on Jun 22, 2015 4:02 PM"
Amazon EC2	"Re: Cannot SSH to ec2 instance, or ping it
When you click Connect on the EC2 Instance (via web), nice metadata would be:
This instance uses VPC id: X Intranet w/SSH:  TRUE  for machines: 
                                                          <list of instance Ids in this VPC with SSH inbound enabled>
                                                                          FALSE for machines:
                                                          <list of instance Ids in this VPC with SSH Inbound disabled> 
                                                          (not yet sure why you would do this, or how you would ever connect afterwards)

This instance uses VPC id  X Internet w/SSH:  FALSE  (Using route table: Y <clickable>, has no Internet Gateway)
                                                                          or
                                                                         TRUE (Using route table: Y <clickable>, has Internet Gateway         
                                                                         <clickable>current Rule: 0.0.0.0/0 (or range?))"
Amazon EC2	"Did I find a blackhole router inside EC2 in Singapore?
ping my instance with don't fragment and total size 1496 packets:

ping -M do -s 1468 52.75.65.179
PING 52.75.65.179 (52.75.65.179) 1468(1496) bytes of data.
^C





52.75.65.179 ping statistics ---





3 packets transmitted, 0 received, 100% packet loss, time 2009ms

(no fragmentation warnings).

last hop from traceroute, before this EC2 instance, no problem:

ping -M do -s 1468 203.83.223.231
PING 203.83.223.231 (203.83.223.231) 1468(1496) bytes of data.
1476 bytes from 203.83.223.231: icmp_req=1 ttl=47 time=239 ms
1476 bytes from 203.83.223.231: icmp_req=2 ttl=47 time=260 ms
(no problem)

I've had to set the MTU on this instance down to 1468 otherwise 
the classic hang on full data transfer problems happen. This is not
something I've had to do on instances in the other amazon EC2 locations.

thanks."
Amazon EC2	"Re: Did I find a blackhole router inside EC2 in Singapore?
Nothing? no Rep comment?

Black hole routers are a massive pain. Am I totally off base?

why do I have to reduce the MTU for instances in Singapore to stop hanging from clients? Perhaps I'm just confused. Can someone with more MTU experience confirm?"
Amazon EC2	"Re: Did I find a blackhole router inside EC2 in Singapore?
Hello, 

I don't show that 52.75.65.179 is currently in use on your account, but generally the instance type determines the available MTU. You can read more on supported MTUs per instance type here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html

Additionally, the OS itself can configure a lower MTU as well. If using an older AMI on a newer instance type it could potentially have an MTU manually set to something smaller. You can verify MTU settings with 'ifconfig' in linux and in windows it 'netsh interface ipv4 show subinterfaces' should do the trick. 

Let me know if you have any additional questions. 

Regards,
Nick"
Amazon EC2	"Re: Did I find a blackhole router inside EC2 in Singapore?
I still have a problem, and it is still Singapore.

So now this new instance: 52.74.195.155 (it is a spot instance) I cannot login
because it has this MTU issue.


ping -M do 52.74.198.155 -s 1442

PING 52.74.198.155 (52.74.198.155) 1442(1470) bytes of data.
^C





52.74.198.155 ping statistics ---





1 packets transmitted, 0 received, 100% packet loss, time 0ms


ping -M do 52.74.198.155 -s 1440

PING 52.74.198.155 (52.74.198.155) 1440(1468) bytes of data.
1448 bytes from 52.74.198.155: icmp_req=1 ttl=46 time=230 ms
^C

What I would expect to see is replies of:


From (whatever) icmp_seq=1 Frag needed and DF set (mtu = NNN)


Since I can't ssh in (it is a spot instance) I can't get in to reduce the MTU,
the ssh connects then hangs because full packets are dropped.

if MTU is too high for this instance, TCP should negotiate a lower one but cannot
if the router responsible is not passing along frag messages..

Note that the instance MTU is actually less than 1500, despite the recommendation to set 1500
Also, security policy is set to allow all ICMP messages

""Path MTU Discovery is used to determine the MTU between two hosts. If a host sends a packet that's larger than the receiving host's MTU, the receiving host returns the following ICMP message: Destination Unreachable: Fragmentation Needed and Don't Fragment was Set (Type 3, Code 4). This instructs the original host to adjust the MTU until the packet can be transmitted. By default, security groups do not allow any inbound ICMP traffic. To ensure that your instance can receive this message and the packet does not get dropped, you must add a custom inbound ICMP rule to your security group. For more information, see the Adding Rules to a Security Group and API and Command Overview sections in the Amazon EC2 Security Groups topic.""

I only have  this problem with machines coming up in Singapore. Not the other places (yet).

I can leave this useless instance up, in the hope you can check it out, however it is a spot instance so is liable to be torn down at any time.

However, I think above is enough information anyway?
a) The instance MTU is less than 1500
b) 1480 size Packets can't reach it 
c) No must-fragment messages are being passed to clients of the machine, and no fragment messages are getting to the machine otherwise it would reduce its MTU
d) ICMP security policy is totally open

Edited by: justin on May 21, 2015 7:15 PM

Edited by: justin on May 21, 2015 7:17 PM"
Amazon EC2	"Re: Did I find a blackhole router inside EC2 in Singapore?
Hi Justin,

We have opened an outbound case to yourself, can you please check the Support section of the AWS Console and you should see a correspondence from us to assist you with this.

Regards,

Davin G."
Amazon EC2	"Re: Did I find a blackhole router inside EC2 in Singapore?
Hi, I believe I'm having the same problem.
When I trace-route to my instance's IP address. it stuck on 203.83.223.231."
Amazon EC2	"is it possible to permanently bind public ip to vm
I need a permanent IP address for my instance, for a few reasons. I currently have an elastic IP that is associated with the instance, which serves this purpose adequately, however the instance uses a private address via DHCP internally which is unnecessary and adds fragility. I would like to statically bind a public IP address to this host if possible.

From what I have gathered, the public IP addresses that are available for static binding are temporary (also DHCP?), and the elastic IP addresses cannot be bound. Is this correct? Any other options?

Thanks"
Amazon EC2	"Re: is it possible to permanently bind public ip to vm
You can statically assign a LAN IP Address to an Interface, of your choosing from within the range.

Just right click on the Interface and ""Manage Private IP Addressing""

===

For Public IP Address, an IEP (Elastic IP) can then be assigned to an interface/internal IP, and they are permanent until they are released.  (I think they charge extra if they are attached to shutdown instances)"
Amazon EC2	"instance rebooted
one of our instances ( i-acb4b1f5 ) appears to have rebooted on Jun 18th around 6:20pm PST. 

Is there a way to tell if there was an issue in EC2 at that time which caused this reboot? Could there be an underlying hardware issue? as far as we can tell no reboot was issued from within the OS and we did not see any announcements for scheduled maintenance."
Amazon EC2	"Re: instance rebooted
Hello metaflows,

I'm sorry to see you're been having issues with your instance.

I've had a look at your instance i-acb4b1f5. I can see the underlying host was experiencing problems and an emergency reboot was performed - as a result your instance was restarted without warning.

I apologize for any inconvenience caused.

Kind Regards,
Anthony H."
Amazon EC2	"can't connect, connection refused
I tried unmounting and mounting the root volume to check if there are any problems in fstab or sshd_config files, but nothing. And the checks in the console say everything is ok.
Instance id: i-fe29dd36"
Amazon EC2	"Re: can't connect, connection refused
Hello ayatr,

I'm sorry to see you're having problems with your instance.

I've had a look at the console logs and I can see the following error message:Serious errors were found while checking the disk drive for /ebs1.
keys:Press I to ignore, S to skip mounting, or M for manual recovery
In my experience this shows me that the instance is having trouble with a volume set to auto-mount in the /etc/fstab file.  I suggest you stop the instance, detach the root volume (vol-9f69b778) and attach it to a working instance in the same Availability Zone.  You can then mount the volume and edit the etc/fstab file,  removing or commenting out the /ebs1 entry.

More information on the steps involved can be found here:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html

If you continue to have problems with your instance please let me know and I will be happy to look further into this for you.

Regards,
Anthony H."
Amazon EC2	"High steal time on m3.medium instances in us-east-1 AZ's
We are experiencing high ""steal time"" on m3.medium instances in us-east-1 AZ's.  This usually varies between 8-12% which is much higher than the corresponding value on m1.medium instances in the same AZ's.  However, from 1225 - 1315 (Central) time today, steal time values were intermittently over 40% causing applications to fail.  

Is AWS addressing this issue (high steal time on m3.medium instances)?  Is there any explanation for today's very high steal time?  Would we be better off moving to m3.large instances or back to m1.medium instances?  We were forced to deploy additional m1.medium instances to remedy the issue."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Hello Barchartinc,

To address your question on Steal Time, please see the below explanation:
On-instance monitoring tools such as top report a metric of Steal Time (ST), or Stolen CPU. Top and tools that use similar methods of gathering performance metrics will report your instances usage of the physical cores on the host, and not just the instance itself. Any time the instance requests more than its allocated share, you will see the ST metric above zero. This does not mean you are not getting the resources allocated to the instance, but that your instance is requesting more resources than it is allocated to that particular instance size.

There is an excellent article which describes the stolen time metric in detail, and what it means here: http://www.axibase.com/cloud/2010/07/22/ec2-monitoring-the-case-of-stolen-cpu/

The variations in instance stolen CPU time for different instances or in different availability zones  is due to various hardware and customer configurations. Depending on the number of other instances on a single piece of hardware and the specific CPU on the hardware, stolen time will show varying amounts, but this does not speak to the capacity of an ECU.
ECUs are explained in more detail here: http://aws.amazon.com/ec2/faqs/#What_is_an_EC2_Compute_Unit_and_why_did_you_introduce_it

To answer your question on whether upgrading your instance type will help, you may look at your CloudWatch metrics and verify the average CPU load. If you see that it is constantly peeking or running ""hot"" continuously, upgrading your instance may solve the issue.

Regards
Darren R"
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Thanks for your response.

Per Darren's direction, I am now looking at the Cloudwatch metrics.  The issue is that there is a considerable gap in CPU usage between the m1.medium instances and the m3 instances that are running as part of the same web farm.  The m1 instance in zone east-1d peaked at 46% today while all of the m3 instances peaked at about 62% (the m3 instances seem to all have very similar performance).  Zone east-1c shows a similar gap.

We also brought up an m3.large which seems to be performing well.  At this point, we will have to convert our m3.mediums to m3.large instances and change the reservations and hope that the m3.large's do well under load.  m3.mediums are performing worse that m1.medium instances with the exact same application / configuration.

We thought that using m3.medium instances would result in improved performance, but so far that has not been the case.  Is there a step that we missed in switching the instance type from m1.medium to m3.medium that would impact performance?"
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Hoping for further information in regard to the poor performance of m3.medium instances vs. m1.medium instances.  I have attaced cloudwatch monitoring graphs demonstrating the difference in CPU usage (which was also reflected in application performance) between the m1.medium and m3.medium instances.

We noticed there was a problem because the day after converting from m1.medium to m3.medium instances, our application started experiencing very high latency / non-response.  In order to work around this, we added two additional m1.medium instances to each of our 3 zones.  This increased the number of instances in each zone from 6 to 8 (total instances increased from 18 to 24) and the application response significantly improved.

For comparison, I looked at the following instances when they were all part of the application (approximately 2014-02-19 4 PM Central - 2200 UTC to 2014-02-20 12 PM Central - 1800 UTC)
m3.medium i-836015ad
m1.medium i-aeb8eb80
m3.medium i-1f58303e
m1.medium i-c0bcffe1
m3.medium i-3bd9e91b
m1.medium i-9e7e70be

The first screenshot (m1.medium-v-m3.medium.png) is from 2014-02-20 when I had both m3.medium and m1.medium instances (i-836015ad and i-aeb8eb80) running off the same Elastic Load Balancer.  The instances were running with identical configurations / applications.  The web app is php 5.3 and apache 2.2 based, nothing unusual.  As you can see, the CPU usage is markedly higher on the m3.medium instance.  The second screenshot (m3-v-m1-aggregate.png) shows all 6 instances listed above for 2014-02-19 4 PM Central to 2014-02-20 12 PM Central.  The 3 highest CPU usages are for the m3.medium instances.

Has anyone else experienced similar rise in CPU usage and drop in performance when converting from m1.medium to m3.medium instances?  Comparisons of the idle% (sysstat) on each of the instances shows the same pattern -- significantly higher CPU usage on the m3.medium instances.  I did not attach that documentation but can make it available.

Last, converting the instances to half the number of m3.large instances solved this, i.e., the same application runs very well on 9 m3.large instances but very poorly on 18 m3.medium (in each case spread over 3 zones behind an ELB).

Thanks for any insight."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Hello,

Can you please reattach the graphs again, I don't think I was able to find them in your post."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Please close this thread.  While the question has not in fact been answered, we have opened Case 166284171 with Support and are pursuing the matter.  Thanks."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
For the sake of other users - what was the outcome of the support case? We also experienced slower m3.medium instances than m1.medium and seeing a higher steal time with top within the instances. Did moving to a bigger instance solve this, or is there something else that can be done?"
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
We have also noticed the same in EU-WEST-1

m3.medium seems to constantly have a steal of around 20%, even though our cpu usage is <50% on average. It seems that this is only happening on m3.medium"
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
We're also noticing the same behavior. Any news?
I could try to upgrade to m3.large and see if it solves this issue, but I don't need that much power."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
We're noticing much better results with t2.medium"
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Hi guys,

Any news on that?

We are experiencing some issues too..."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
We are also seeing this behavior - high CPU steal time in an m3.medium instance, when the CPU utilization % is not above 50%. Also in the US-east availability zone.

For comparison, I spun up an m1.medium instance from the same image as the m3.medium, and the m1 is showing under 1% steal time.

The m1.medium has 2 vCPUs, or 1 less than the m3.medium, so that's worth noting.

My application is Wordpress, with a separate RDS instance for the database, in case that's meaningful.

It appears there may be an issue with m3.medium CPU utilization, at least in US-east. My suggestion would be to try an m1.medium to see if that resolves the problem."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
An update: After almost 7 hours, no issues with the m1.medium. Compare that to the m3.medium, which went unresponsive 5 times in 24 hours yesterday. 

I haven't seen m1.medium steal time > 1%."
Amazon EC2	"Re: High steal time on m3.medium instances in us-east-1 AZ's
Steal time == LUCK!!

In the ""cloud"" (sharing hardware), we never know when a co-tenant might suddenly get a deluge of traffic, roll out broken code, schedule their maintenance tasks to run, or whatever.

Amazon, please correct me if I'm wrong, but I suspect you guys actively do your best to manage this by throttling offenders after reasonable burst timeouts, issuing warnings, managing capacity, and so on. 

But it doesn't change the fact, we're still sharing hardware here people. 

We can increase our chances of predictably low/zero ST by --

1) Getting a bigger instance (even when we shouldn't need it); or 
2) Choosing a less busy data centre (hacker haven Palo Alto seems particularly bad in my experience, surprise surprise);

Or alternatively, we can work around it --

3) Run in a distributed/clustered fashion, so a single node spiking isn't an issue
4) Go bare metal with another provider, nice n simple and we've only got ourselves to blame then

Edited by: simonlitchfield1 on Jun 22, 2015 9:27 PM

Edited by: simonlitchfield1 on Jun 22, 2015 9:30 PM"
Amazon EC2	"Unable to stop instance
I have received an retirement notification but I am unable to stop the affected instance  i-34dae247. Can you please help!?

Edited by: nt1905 on Jun 22, 2015 4:18 AM"
Amazon EC2	"Re: Unable to stop instance
did you try to stop it via API or CLI or console?  any chance this instance was run as a spot request?"
Amazon EC2	"Re: Unable to stop instance
Hello nt1905,

I'm very sorry for the delay in getting to you.

I can see your instance has been stopped/started and appears to be working fine now.  Should this issue happen again please consult the following ""Troubleshooting Stopping Your Instance"" guide and let us know if you continue to have problems: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

Thank you,
Anthony H."
Amazon EC2	"Instance stuck in shutdown
The following EC2 instance has been trying to shutdown for days:
i-9149e766
t1.micro
us-west-2a
 shutting-down
None
ec2-52-25-194-15.us-west-2.compute.amazonaws.com
52.25.194.15

Can you help you kill it?"
Amazon EC2	"Re: Instance stuck in shutdown
can you login to it? connect to it? ping it?  view its console log?"
Amazon EC2	"Re: Instance stuck in shutdown
Hello joconner,

I'm sorry for the delay in getting back to you.  Your instance is now in a stopped state and you should be able to restart it when required.

More information on what to do in the case of an instance stuck in a stopping state can be found here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesStopping.html

If you need further assistance please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"""running"" but unreachable--how to access console?
I am running a SLE instance. I moved all my services and data over to EC2 and was cleaning up some stuff, when I noticed a kernel security upgrade was available so I installed it and rebooted. Now the instance shows ""running"" but I am unable to ping it and the web console shows 1/2 status so I guess it is stuck somewhere before runlevel 3.  Maybe it is stuck at GRUB?

Is there a way to access the VM console directly? I don't see the option anywhere but I can do it with VMware so figure its worth asking

I have backups on the 2nd volume so I can restore from those if needed but would really like to find out if its possible to get boot console access

Edited by: ehall on Jun 20, 2015 6:53 PM"
Amazon EC2	"Re: ""running"" but unreachable--how to access console?
Hello ehall,

I'm sorry to hear you're having problems with your instance.  Unfortunately, there's no way to interact with an EC2 instance via the ""console"".  

In your position I would stop the instance, detach the root volume and attach it to another working instance as a secondary volume.  You can then mount the volume and begin tracing through the system logs for clues as to why the instance fails to boot.  More information on detaching and attaching volumes can be found below:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

If you need any further assistance please let me know.

Regards,
Anthony H."
Amazon EC2	"how i generate a list with volume Id only?
Hello ,

 i would llike to generate a list of Volume IDs and adding tag to all of them

Thanks !"
Amazon EC2	"Re: how i generate a list with volume Id only?
Hello abovebeyond14,

It's possible to produce a list of volumes with the following CLI command:aws ec2 describe-volumes --region us-west-2 --query 'Volumes[*].{VolumeID:VolumeId}' --output table

You can add a tag to a volume with this command:aws ec2 create-tags --region us-west-2 --resources vol-a1b2c3d4 --tags Key=MyTag,Value=TestTag


More information about installing and using the AWS CLI can be found here: http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html
More information on describe volumes and create-tags can be found here:
http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-volumes.html
http://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html

If you need any further assistance please let me know.

Kind Regards,
Anthony H."
Amazon EC2	"Import Instance Failure / S3
Hi

Try as a I might, I can't figure out why the following fails with ""ERROR: File n9amazonupload.vhd does not exist.  I can access the s3 bucket using the same credentials using the aws cli.

ec2-import-instance n9amazonupload.vhd -f VHD -t c4.large -o secretkeyid -w secretkeyid -p Windows -b bucketname --region us-east-1

I'm using version 1.7.4.0 of the tools.
I substitute other file names and get the same error.  Obviously, there is a credential mismatch of some sort going on, but I'm at a loss to debug what it might be."
Amazon EC2	"Re: Import Instance Failure / S3
The file name given is expected to be a local file. This indicates that the local file does not exist or does not have sufficient permissions. The ec2-import-instance CLI command accesses the local file and uploads it to S3."
Amazon EC2	"Re: Import Instance Failure / S3
Thanks.  Not sure how I didn't get that."
Amazon EC2	"Unable to stop instance
We are currently unable to stop instance: i-ab7fa385 please help!

We are unable to access the server via SSH
We are unable to stop the instance through the EC2 dashboard
We attempted to force stop the instance through the EC2 dashboard, which also didn't work.

Any assistance would be greatly appreciated.

Thanks!

-Keith"
Amazon EC2	"Re: Unable to stop instance
The instance finally stopped.  Please ignore this post. Thank you!"
Amazon EC2	"Re: Unable to stop instance
Hi,

Glad to hear, feel free to reach out if you have further questions.

Regards,

Rodney"
Amazon EC2	"During HVM root partition resize, instance boots into wrong disk
Essentially following http://blog.backslasher.net/resizing-aws-root-centos-hvm.html

I've done these steps successfully for several disks, but I've encountered a unique issue that I can't overcome. When I boot the attached disk (attached to /dev/sdf...also tried /dev/sdp), the next boot of the instance loads the secondary image I want to resize instead of its primary which is mounted to /dev/sda1.

I've tried multiple mount points for the secondary disk, and multiple helper instances, but I keep getting the same result. Anyone seen this before?"
Amazon EC2	"Re: During HVM root partition resize, instance boots into wrong disk
Found explanation here:
https://forums.aws.amazon.com/thread.jspa?threadID=110608

Essentially- using the same AMI leaves the root partition with the same UUID, which can cause it to boot the wrong disk since they both have the same UUID. Tried granting a new UUID to the volume and updating fstab, but it broke it. Work around is to boot it up as a secondary from a server built from a different AMI. Not pretty, but it works."
Amazon EC2	"Stuck stopping
Instance i-ae06ceab stuck on stopping."
Amazon EC2	"Re: Stuck stopping
Hello,

Apologies for the inconvenience here.  The instance is now reporting as stopped.

Best regards,
Justin G."
Amazon EC2	"Re: Stuck stopping
Thank you so much!"
Amazon EC2	"Can no longer log into EC2 instance
Hello All.

We had a linux instance that had been running for at least a year without an issue.  I was last able to log on on Friday, May 22, 2015 and updated some content on the server without an issue.  I tried to log on on Wednesday of last week and wasn't able to log on.  It wasn't recognizing my key and asking me for the passphrase for my key.  It hadn't done that in the past and the machine I was ssh'ing from hadn't updated the ssh client.

I've tried getting into several other machines of the same age (with the appropriate key for the given machine) and they all exhibited the same behavior.  I tried standing up a snapshot of the vm that I cannot get in, and was unable to log into that.  

I was able to get into VMs  that I created from the quick start ami instances without an issue, but I had to use the ec2-user.  I did have to use the root user to log into all those other instances.  Could that be the problem?"
Amazon EC2	"Re: Can no longer log into EC2 instance
let me understand right ... ec2-user@ fails but root@ lets you in?"
Amazon EC2	"Re: Can no longer log into EC2 instance
No.  Sorry I was unclear.  My old VMs only had the root account.  There is no ec2-user instance on my old machines.  When I try to log into my old vms with the root user account that worked in the past, I get ssh returning and asking for a passphrase for the key.

On the quick start instances that I was able to log into, only the ec2-user account worked.  root login was not allowed, which is to be expected due to changes that amazon instituted."
Amazon EC2	"Re: Can no longer log into EC2 instance
Found the culprit.  There was a script that came with a program we have installed that changes sshd to prevent root logins on startup.  Apparently, that VM was restarted in the last month, which caused that script to run and us to lose our access to the box."
Amazon EC2	"(Dreaded) Server Not Responding
Quick facts:
 * Instance id: i-722d9e85
 * Server (Amazon Linux) worked for a couple of months with no issues ... now it won't respond and is failing status checks. (Have not made any changes to server setup)
 * Tried: rebooting; stop then start; stop -> disconnect volume -> reconnect volume -> start
 * Viewed system log from console: blank
 * Checked security group settings, aws status reports, IP address, DNS settings, reported status of the instance (running)

Not sure how to proceed or get more information about what went wrong."
Amazon EC2	"Re: (Dreaded) Server Not Responding
Okay. Weird. Server started responding. Apparently all that is necessary to fix the problem is to ask a question on this forum!"
Amazon EC2	"Re: (Dreaded) Server Not Responding
So, I checked various logs and did not find anything that would explain the temporary inability to communicate with the server. Decided to reboot (not via ec2 console, but rather from command line: shutdown -r now). It took 11 minutes before the server began to respond again. In looking at the logs the shutdown was at 10:36 and the startup begin at 10:46. Seems like a LONG delay ... I wonder what was happening during those 10 minutes."
Amazon EC2	"Re: (Dreaded) Server Not Responding
I rebooted a second time (shutdown -r now) and there was a 21 minute delay between the end of shutdown actions and the beginning of startup actions. Seems to me that a server-generated reboot would not require an AWS ""start"" and AWS ""stop"" action ... especially since the console reported the instance as ""running"" throughout."
Amazon EC2	"VPC connection to HK datacenter is suffering high package loss
Hi, there

Our VPC in Tokyo is suffering high package loss (>40%) to our HK datacenter (122.152.169.2), cause the VPN unstable, and the data transfer between HK and VPC Tokyo almost broken, please help to identify the issue, and find solutions. Thanks!"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
Hello,
can you please provide a tcptraceroute or MTR that would show this packetloss?
Also please collect the result of ping -c 100.

Thanks.
Adolfo"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
Thanks, Adolfo

Here's part of the ping output, the connection is broken, but you can see from the package seq, will try to get more detailed ping and traceroute info to you.

thomas@api ~$ ping 122.152.169.2
PING 122.152.169.2 (122.152.169.2) 56(84) bytes of data.
64 bytes from 122.152.169.2: icmp_seq=2 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=3 ttl=245 time=105 ms
64 bytes from 122.152.169.2: icmp_seq=7 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=8 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=9 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=12 ttl=245 time=105 ms
64 bytes from 122.152.169.2: icmp_seq=14 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=16 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=18 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=19 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=20 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=21 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=23 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=24 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=25 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=32 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=33 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=34 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=36 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=37 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=41 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=43 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=44 ttl=245 time=103 ms
64 bytes from 122.152.169.2: icmp_seq=45 ttl=245 time=104 ms
64 bytes from 122.152.169.2: icmp_seq=46 ttl=245 time=102 ms
64 bytes from 122.152.169.2: icmp_seq=47 ttl=245 time=104 ms
Write failed: Broken pipe"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
And here comes the traceroute output

thomas@api ~$ traceroute 122.152.169.2
traceroute to 122.152.169.2 (122.152.169.2), 30 hops max, 60 byte packets
 1  ec2-175-41-192-134.ap-northeast-1.compute.amazonaws.com (175.41.192.134)  0.392 ms  0.374 ms  0.357 ms
 2  27.0.0.172 (27.0.0.172)  2.327 ms  2.330 ms  2.347 ms
 3  27.0.0.154 (27.0.0.154)  3.145 ms  3.151 ms  2.289 ms
 4  27.0.0.234 (27.0.0.234)  2.305 ms 27.0.0.66 (27.0.0.66)  3.333 ms 27.0.0.234 (27.0.0.234)  2.278 ms
 5  54.239.41.17 (54.239.41.17)  34.841 ms  34.859 ms  34.059 ms
 6  54.239.41.2 (54.239.41.2)  34.690 ms  33.914 ms 54.239.41.0 (54.239.41.0)  37.630 ms
 7  * * 192.145.251.59 (192.145.251.59)  76.789 ms
 8  xe-0-0-0.0.gw2.hkg9.asianetcom.net (61.14.158.67)  112.302 ms * *
 9  * * *
10  * * *
11  * * *
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
And more ping results

64 bytes from 122.152.169.2: icmp_seq=198 ttl=245 time=106 ms
64 bytes from 122.152.169.2: icmp_seq=202 ttl=245 time=108 ms
64 bytes from 122.152.169.2: icmp_seq=203 ttl=245 time=107 ms
64 bytes from 122.152.169.2: icmp_seq=204 ttl=245 time=107 ms
^C





122.152.169.2 ping statistics ---





205 packets transmitted, 116 received, 43% packet loss, time 204711ms
rtt min/avg/max/mdev = 105.309/108.155/110.558/0.931 ms"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
The connection is stable now, but could you find the reason? Is the network issue in AWS or our Hongkong datacenter? We really need to figure it out, thanks"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
Here's the traceroute output when network get stable

thomas@sso ~$ traceroute 122.152.169.2
traceroute to 122.152.169.2 (122.152.169.2), 30 hops max, 60 byte packets
 1  ec2-175-41-192-132.ap-northeast-1.compute.amazonaws.com (175.41.192.132)  0.370 ms  0.400 ms  0.376 ms
 2  27.0.0.172 (27.0.0.172)  2.672 ms  2.669 ms  2.702 ms
 3  27.0.0.154 (27.0.0.154)  3.649 ms  3.650 ms  2.320 ms
 4  27.0.0.234 (27.0.0.234)  1.559 ms  1.559 ms 27.0.0.66 (27.0.0.66)  1.542 ms
 5  54.239.41.15 (54.239.41.15)  38.602 ms  37.334 ms 54.239.41.17 (54.239.41.17)  34.183 ms
 6  54.239.41.6 (54.239.41.6)  36.313 ms 54.239.41.0 (54.239.41.0)  35.524 ms 54.239.41.2 (54.239.41.2)  37.559 ms
 7  203.238.189.249 (203.238.189.249)  36.858 ms 203.238.189.229 (203.238.189.229)  36.447 ms 203.238.189.249 (203.238.189.249)  35.627 ms
 8  203.246.169.144 (203.246.169.144)  37.126 ms  34.214 ms  37.150 ms
 9  192.145.251.59 (192.145.251.59)  42.618 ms  45.470 ms  44.144 ms
10  xe-0-0-0.0.gw2.hkg9.asianetcom.net (61.14.158.67)  81.440 ms  81.532 ms  81.517 ms
11  * * *
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *"
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
Hello, 

Thank you for providing the requested output. 

I believe I have found your VPN which experienced an outage yesterday 6/2/2015. However, I can only see an outage for one of the tunnels, the secondary tunnel remained up during this time. Is your Customer Gateway configured to utilize both VPN tunnels?

To verify, could you please supply us with the VPN ID? I see that there are three VPNs for your account in this region and I want to ensure we are troubleshooting the correct one. 

Thank you in advance.

Best Regards,
Jillian L."
Amazon EC2	"Re: VPC connection to HK datacenter is suffering high package loss
Hi, Jillian

Sorry for the late reply, I just noticed there's a reply here.

The VPN ID is vpn-c0a81cc1, with static route to 10.210.0.0/21"
Amazon EC2	"EC2 instance get full in just two days (0 to 150gb)
Hello AWS.

Two weeks ago i've noticed that my instance (i-c5872724) ran out of space
$ df -h
/dev/xvda1      8G  8G     0 100% /

I increased size to 50GB and it went filled in just one week to 100%.
After that (3 days ago!!) i increased size to 150GB and now its again 100%.
Other my instances with similar application has no such problem (app size about of 300mb)

what the hell is that ?

facts:
noone has my ssh access key to instance.
its not being spammed or something,
not much users,
metrics show raise of cpu to 60% and raise of disk writes.

Edited by: AlexeyZatsepin007 on Jun 5, 2015 12:53 AM"
Amazon EC2	"Re: EC2 instance get full in just two days (0 to 150gb)
thank you so much Amazon for helping me.
My next cloud provider will be everything except you."
Amazon EC2	"Raise VPC Elastic IP Limit
Hello,

We requested to have the IP limit of our VPC raised in US Oregon (moved our infrastructure from Virginia to Oregon) but had no response.

Any change of this being raised?

Case ID: 1426244381

Thanks,

Mike"
Amazon EC2	"Re: Raise VPC Elastic IP Limit
Funny that.  It just got handled as I posted this .

Thanks anyway!"
Amazon EC2	"Hatred for Staff
I just made the dramatic headline so people would read this. A lot of staff is really solid.. I can honestly say that most of them,.... YET, IF YOU NOTICE A LOT OF PEOPLE DROPPING OFF FROM USING SYDNEY.... OR YOU NOTICE ANALYTICS THAT SEEM A LITTLE DISSATISFIED FROM THE SYDNEY OFFICE... IT'S ONLY RIGHT TO INVESTIGATE IT. 

See, I've noticed that most things fall under the LAMP system... linux, apache, etc. 

There are some people that have it out for me. Taking things that are within the lamp server parameters and attempting to act like I am just this guy that wants all of this 3rd party help. 

from the deepest part of myself... you know and I know that some people need to be right. They're in competition-mode... it's all about winning an argument. I don't want to win the argument.. I just want to get stuff done. 

At this point this guy hates me so much that I couldn't even get my url to interface with the contents of a folder because he's so intent on painting me to be the bad guy. 

I could care less about being right. I have only one question: if it is not worth it for ME, someone who is a complete idiot to pay 100 dollars for a service... what the hell is a professional it person going to pay that kind of money for when all he has to do is read the documentation? 

Screw right and wrong... It will not be my pockets that are affected because I will NEVER use this service again. 

How the hell is backing up my instance to s3 3rd party? Guess what? the job never got done... by people so high on the hog and I'm so lowly, yet, I have to pay money for stuff that never gets done.m 

What ever you say, you are right. I am through. 

Actually, II LOVE Jeff Bezos and I freaking worship the guy. I will one day have people in my business of hundreds of thousands that I will have to fire. That is okay. They are not a reflection of me because I fire them on the spot."
Amazon EC2	"Re: Hatred for Staff
I pour my heart, soul and tears into my business. I would jump in front of a moving train for my business... it is the thing I feel most passionate about in life. 

Don't EVER think that I do not LOVE Amazon and the call staff with all of my bleeding heart because most people... for the most part...  even if they cannot help me, give their 110% and I appreciate it more than anything. 

I have had people who have gone above and beyond the call of duty for me... helped me set up my wordpress website... even though they are not hired for that... helped me to troubleshoot messages that I've gotten... the whole 9... I owe them everything... 

What I do not like is when I ask for something that is so simple and within the bounds of AWS service, like pointing a url at a linux folder... or accessing the database so that I can change the url's on the thing so that my website can attach to the script... and I get treated like I am leaching trash when all I do is scrape by... neglect every part of my life, so that I can pay for my server bill and build my business. 

It's like ""they see that he went outside of the general scope of aws support before, so, even though it is in the scope... I will still give him hell about it after he listens to staticy hold music for 2 hours to speak to me because I don't know how to point a url to a folder."" 

It is okay not to know everything, no one expects you to... yet, please, instead of being snobby about it, be helpful. 

PHP scripts... regardless which one has similarities. forget whose brand name is on it... you probably know more than the guy who waits 2 hours on hold about how to fix the situation. 

Needs to execute a few commands in linux to point the url to a folder? Walk him through it. 

24/7/365 real-time assistance by phone and chat, a 1 hour response to web cases, and help with 3rd party software. Access AWS Trusted Advisor to increase performance, fault tolerance, security, and potentially save money.

I can name 4 of those scripts on the list that you help with: Linux, Apache, MySql and PHP. 

Saying ""I  don't help with 3rd party scripts..."" and whining about it... that is becoming as common a trend as someone's wife saying ""I have a headache"" to not have sex with her husband. 

I call bullshit. 

There is a girl that helped me with my SQL... Fucking brilliant. Drilled down... discovered the problem... didn't fix the problem... yet, got me sooooooo much closer to ficxing it. 

A guy suggested that I build a Raid 0 drive... Hand-wrote instructions for me. Fucking winner. 

The guy that argues to wiggle his way out of pointing a url to a linux folder, whines like a b*tch and diverts attention, feels the need to insult my raid 0 archetecture... which will stay online 99.6 % of the time... as opposed to 99.9... because he's crying about how i
m the scum of the earth for paying for 6tb of S3... Or insults my logic of using Glacier because he doesn't know how to use it or set up backups.... Then whines to his boss because I make him feel uncomfortable because I defend using Glacier. That needs to stop. That is disgusting."
Amazon EC2	"Re: Hatred for Staff
I'd pay an extra 100 bucks a month... 200 total to solve this problem. To have customer service that takes seriously what I read on amazon aws right before I clicked the ""order now""  button:

24/7/365 real-time assistance by phone and chat, a 1 hour response to web cases, and help with 3rd party software. Access AWS Trusted Advisor to increase performance, fault tolerance, security, and potentially save money."
Amazon EC2	"Re: Hatred for Staff
""Hello Guy,

Thanks for contacting AWS Premium Support. Unfortunately, analyzing and debugging a custom cron job would fall outside of the scope of AWS Support.""

...a cron job, mind you... from ec2 Linux to S3... s3 must be configured wrong.

Amazon product running elementary basic Linux process to another Amazon product. 

24/7/365 real-time assistance by phone and chat, a 1 hour response to web cases, and help with 3rd party software. Access AWS Trusted Advisor to increase performance, fault tolerance, security, and potentially save money.

Jesus, please tell me this is some kind of sick joke and Maybe I'll understand.

Edited by: Guy Guillermo on Jun 21, 2015 11:39 AM"
Amazon EC2	"Re: Hatred for Staff
S3 is working for me.  what are you trying to accomplish?  how are you trying to do it?  do you have a sysadmin?

Edited by: skaperen257 on Jun 22, 2015 4:55 AM to fix a typo"
Amazon EC2	"Re: Hatred for Staff
Hello,

Thank you for providing the feedback on your support experience.  Unfortunately as per the discussion you have had with the manager, we are unable to provide 3rd party support.  Not all of our engineers are familiar with all the different types of software and services out there, so you may encounter a different support experience when asking for 3rd party support . While we are happy to help with any further queries, your current support experience has been discussed with the manager, and I do see that you have cancelled your support.  We are unable to comment further on this matter.

Regards,

Matt W."
Amazon EC2	"EBS stuck on attaching
Hello,

I know there's a bunch of related topics, however we can not find a reliable solution. 

Our platform uses EBS backed instances with several data volumes (EBS) attached. The idea is if the instance fails for some reason we preserve user's data and move the volume to another instance.

When an EBS volume gets stuck on 'Attaching' after certain timeout we use Force detach and after some time we try again. This unfortunately does not help.

We tried different timeouts (hours) and different EC2 instance types - no result. The volumes are small - 2GB.

The problem appears between certain EBS volume and certain instance:

if we attach the problematic volume on another machine it works
if we attach another EBS volume to the problematic machine even on the same device name it works


We don't use more volumes than the OS and the instance type permit. We always manage resources in sequence (no parallel locking) and leave certain time between different operations.

Please advice how we can avoid such problems.

Thanks,
Alex"
Amazon EC2	"Re: EBS stuck on attaching
Hello,
the volume could be in stuck for several reasons. We need a real case to understand the root causes and provide feedabck to you.

If you can reproduce the issue, please provide the instance-ids and volume-ids affected.

As General rule, I can suggest to check the documentation related to attaching and detaching of the EBS volumes.

Thanks!"
Amazon EC2	"Re: EBS stuck on attaching
Hi,

I managed to isolate the problematic pair of volume-instance:

vol-020e1afa
i-779a5088

The instance is in production and for the rest EBS volumes attached everything works smoothly.

Regards"
Amazon EC2	"Re: EBS stuck on attaching
Hello,
many thanks for reproduction.
If possible leave the volume in this condition  opened a discussion with the EBS team and they will update us.
Thanks!"
Amazon EC2	"Re: EBS stuck on attaching
Hi,

are there any news on the issue? 
I'll need to dislocate the resources soon

Regards,
Alex"
Amazon EC2	"Re: EBS stuck on attaching
I had the same issue. I got around it by changing the device name from sdf to sdg. Seems device name sdf is sporadically not working for some EBS volumes."
Amazon EC2	"Re: EBS stuck on attaching
We are using all supported device names and the issue here appeared for /dev/sdj but changing the name to the next available worked.
Thanks for the hint!"
Amazon EC2	"Awesome: The Stellar Customer Support of Ramesh V.
See, what a lot of customer service people don't understand is that even if you can't solve our problem... It doesn't mean that we should be treated like animals... 

Ramesh V., the customer service rep today helped me to transfer these files from EC2 to S3 in 15-20 minutes. 

That is fine... and even secondary. HE TREATED ME WITH RESPECT and he got the work done. No excuses, no whining. He wasn't the mechanic trying to shame you because you know nothing about cars to pull attention from his own inadequacies. 

He did the job, he did it quick... He researched... He was efficient, he was courteous. HE is the model in  which a good service agent/IT guy is hired.

Edited by: Guy Guillermo on Jun 21, 2015 12:39 PM

Edited by: Guy Guillermo on Jun 21, 2015 5:44 PM"
Amazon EC2	"Best practices ntp clock sync in private subnet of VPC
Yesterday I ran into a problem with clock drift of one of my webservers in public subnet. Because that server can contact the internet no problem its an easy fix. When I tried to repeat the fix on my database servers ntp can not connect right as other people have documented.

This article seem to spell out a good solution, but its a little old now. Does anyone know what the best practices solution is?

http://blog.import.io/post/sync-up-keeping-aws-servers-inside-a-vpc-on-the-clock"
Amazon EC2	"Re: Best practices ntp clock sync in private subnet of VPC
Hi there TristanGMatthews,

I have not been able to load up your account so I cannot see how your resources are configured. Please update the thread with a resource ID, or PM me if more appropriate and I will get back to you after checking the config of the instances.

Quim."
Amazon EC2	"Re: Best practices ntp clock sync in private subnet of VPC
run an instance in your VPC that serves time to your VPC.  set it up with a public IP to get time and open ports 123 (UDP and TCP) in a SG for it."
Amazon EC2	"IAM isolate user
Hi,
I'm looking for a method to isolate user under my IAM in order to limit them to their own instance only. I have found that the question is asked 3 years ago but still unanswered and wondering is the solution have been found now?

Here is the old post link :
https://forums.aws.amazon.com/message.jspa?messageID=346577"
Amazon EC2	"T1 Micro Cost
Hi,

I noticed that my T1 Micro instance is being charged at $0.025 per hour, while I think this should be $0.013 per hour as that is the cost of T2 Micro. Is my assumption correct or am I missing something?

Thanks for any help"
Amazon EC2	"Re: T1 Micro Cost
Hi,

I see that you have a support case opened regarding the instance pricing and resizing. 

Case ID: 1424916621

I have responded to the case with further details and assistance. Should there be anything else you need please let us know by responding to the case.

Regards,

Luke H."
Amazon EC2	"Setting up email on EC2 - Windows, XAMPP, Domain
Hi, we are migrating to EC2 and for now we're using a Windows machine with XAMPP. The domain is Godaddy-Bought, and the NSs are pointed towards Amazon's Route 53. From what I read, Amazon SES only acts as a outbound server. How can I setup the email system ?
Furthermore, do I have to create another instance for email or can I use Mercury that already came with XAMPP ? We're not talking about a large number of emails for now.

Basically we just want email that works."
Amazon EC2	"No response to actions taken after EC2 abuse report (13964834289-1)
We received an email that one of our instances may have been compromised and was abusing the network.  We took immediate action and responded to the email with the steps we took to secure the instance and that we need to back up our data to S3 before before retiring the service.

It's been 72 hours since we took action with no response from AWS.  It has now become extremely urgent for this to be resolved as it's blocking part of our business operations.  72 hours is an unacceptably long time to wait for a response.

We need this resolved asap, please."
Amazon EC2	"Re: No response to actions taken after EC2 abuse report (13964834289-1)
Hi,

I have created an outbound case to address your query regarding the EC2 Abuse Report. 

Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1426463451

Regards,

Luke H."
Amazon EC2	"Instance i-80ab70d3 stuck on stopping
Instance i-80ab70d3 is stuck on stopping"
Amazon EC2	"Re: Instance i-80ab70d3 stuck on stopping
Hello,

Instance  i-80ab70d3 is now in the ""stopped"" state.

Kind regards,
Chris"
Amazon EC2	"Instance i-ba1c8e4f not stopping
Tried stopping and force stopping, but stuck in the stopping state. 
Could you please make it stop.

Thanks,"
Amazon EC2	"Re: Instance i-ba1c8e4f not stopping
Now I realized that the instance has stopped.
Thank you."
Amazon EC2	"Network going down randomly over the last week.
Hi, Over the last week one of my EC2 instances (id: i-24f0662e) has lost all network connectivity at least 3 times. The hosted websites are unreachable, SSH and FTP are both unreachable. It is fixed by stopping and starting the server, but it takes 15 minutes or so for it to start working again. We require high availability for our sites hosted on the server. Can anyone give any clues as to why this is happening?

It has only been the last week it has happened a lot, before that it happened maybe once in the last year.

Thank you in advance for any help you can provide."
Amazon EC2	"Re: Network going down randomly over the last week.
Hi there verodynamic,

Looking at the details of your instance I notice that the CPU credits for this instance have dropped to 0 3 times in the past week. This would be the most likely reason that you are seeing the issues that you are experiencing.

Looking at the load of the past week and the instance type that you are using I would recommend that you upgrade to t2.large as that might fit your load pattern better.

For more information on the T2 instance types and the bursting attributes please see the below link


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html


Going a little more high level however I would recommend that you change the architecture of your workload to be more suited to running in the cloud. As you currently have 1 instance running your website you have a single point of failure. When designing workloads for the cloud it is better to use a loosely coupled approach with with redundancy.

In this case the first thing that I would recommend that you do is put your website behind an Elastic Load Balancer setup with Auto Scaling. Splitting your load up to various T2 instances will allow you to run smaller instance types while achieving a good level of redundancy.

For more information on this service please see the below link


http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/elastic-load-balancing.html


For general information on architecture for the cloud see the information in the below link.


http://aws.amazon.com/architecture/


Quim."
Amazon EC2	"Re: Network going down randomly over the last week.
T2 limitations"
Amazon EC2	"System Clock on Windows 2008 Server Instance runs fast
I have several Windows 2008 R2 SP1 instances running in a VPC. Their Instance Types are m3.mediums in most cases, with a couple of production servers running c3.xlarge or c3.2xlarge. One of the m3.medium instances has a system clock that will resync to time.windows.com each day and then begin to run fast until, after a few hours, the time is four or five minutes ahead of all the other system clocks in the VPC. And by the next time it resyncs, it may have gained 15 minutes or more.  

I don't see where there is a configuration problem. There are no utilities or services running on this server that are different from my other servers that might be messing with the clock.  On the other servers, the time might be fast or slow by a few seconds, but that does not affect the operations between the servers, which rely on timestamps. Most of what I see on other forums suggests that this behavior could indicate a hardware problem.  So, two questions: Is there anything I can configure/check on this instance to make it keep time correctly? If not, do I have to rebuild the server on a new instance to address any underlying hardware problems or is there something simpler?"
Amazon EC2	"Re: System Clock on Windows 2008 Server Instance runs fast
Hi there rpddev,

I have been unable to find your account and there was no resource ID in the original post. Without being able to look at the instance in question I cannot give you any detailed information. Please update the thread with your instance ID, or PM me if appropriate and I can give you a better answer.

Until then the information in the below link might also help to resolve your issue.


http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/windows-set-time.html


Quim."
Amazon EC2	"Public DNS resolves to Public IP from with in EC2 instances.
Instances are with in the same VPC,Subnet. 

a query to something like ec2-52-74-xx-yyy.ap-southeast-1.compute.amazonaws.com
should resolve to Private IP, which happens most of the times.

But, sometimes it resolves to Public IP, some times this problem is there for few minutes and then it is gone. Some times it exists as long as I could check.

Atm accessing i-058f11c9 from i-b1fab47d results in resolving to Public IP. It works as expected if I try to connect from other EC2s at the same time.

Note that, i-b1fab47d may not be running by the time you look at this.

I am using dig to check this behaviour."
Amazon EC2	"Re: Public DNS resolves to Public IP from with in EC2 instances.
Hi there vangap,

I have checked both your instances and they are indeed both not running. This limits the networking information that I can get from them, but I do have some general guidance for you.

I have looked at your VPC and I can confirm that you have both DNS settings enabled for your VPC. Looking at the other running instances I can see no issue with the networking config either.

What you would want to do differently though is not use .ap-southeast-1.compute.amazonaws.com for internal private resolution. Instead you would want to use .ap-southeast-1.compute.internal

If you go to your AWS Management Console you will be able to see both the private and public DNS names for an instance. As the private DNS name is based on the internal IP it will not follow the ec2- format that you have provided, instead it will be ip-

If you check your console this should become clearer, and in case it is not please see the information in the below link.


http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-dns.html


Quim."
Amazon EC2	"Re: Public DNS resolves to Public IP from with in EC2 instances.
Private DNS for private resolution"
Amazon EC2	"Latest Windows Server images all break GPU driver installation
Hello.

Before the `2015.6.10` deploy of new Windows Server images (this includes 2008, 2012 versions), I used to be able to install the Nvidia Geforce GTX Titan Drivers onto the GRID (g2.2xlarge) machines. The GTX package contains the latest drivers for the GRID card whereas the GRID drivers specifically are outdated and from 2014. The driver in question (that used to work just fine) is: http://www.nvidia.com/download/driverResults.aspx/85823/en-us

Now when I install the drivers on a new Windows Server 2012 R2 instance, after the installation, the system will not resume from rebooting. Looking at the latest changelog for the AMIs, it appears you upgraded to ""AWS PV Driver 7.3.1"". What was part of this 7.3.1 upgrade?

Any ideas what's wrong?




Larry."
Amazon EC2	"""Instance Status Checks"" never passes (System Status Checks is okay)
I have an instance that I stopped and now when I start it, ""Instance Status Checks"" never seems to pass.

The instance should be running a pretty generic Ubuntu build."
Amazon EC2	"Re: ""Instance Status Checks"" never passes (System Status Checks is okay)
Hello,
Can you please provide the instance id of the instance you are having issues with ?
Regards,
Baseer."
Amazon EC2	"Unable to RDP to Instance i-2b3abc4b
Ran Windows Update around 3AM MT on June 13th and, after a reboot, this instance is not responding to RDP but it does pass both Status Checks.  I had not made any changes to the Security Groups around that time and verified the rules SHOULD allow RDP from my IP address (which has not changed recently).  I performed updates on 3 other instances around the same time and those 3 ARE responding as expected.

I have tried rebooting several times and connecting from another instance (with Sec Group rules allowing all TCP to and from that instance).  I also tried the instructions in the ""Remote Desktop can't connect to the remote computer"" section of ""Troubleshooting Windows Instances"".  I even shut down the instance, created volumes from previous snapshots of the root device, detached the original volume and replaced it with the new one, then started the instance again.  No luck.

The System Log for this instance remains an empty black box.

Any help would be much appreciated!"
Amazon EC2	"Re: Unable to RDP to Instance i-2b3abc4b
Hello,
The rdp port is locked to specific ports, can you please make sure you are connecting from one of the ips listed ? I can test connection to the instance on the other open ports and they connect.

Regards,
Baseer."
Amazon EC2	"Can't ssh to EC2 in Oregon
Hi, 

I am unable to ssh to my Ubuntu Instance in Oregon. Everything looks good to me in terms on security group settings.
Rules for Security group - 22	tcp	0.0.0.0/0	âœ”

Any pointers please?
i-52f9079a
ssh -i abc.pem ubuntu@52.11.140.254
ssh: connect to host 52.11.140.254 port 22: Operation timed out

Edited by: Akhil Kathuria on Jun 14, 2015 1:43 PM

Edited by: Akhil Kathuria on Jun 14, 2015 2:26 PM"
Amazon EC2	"Re: Can't ssh to EC2 in Oregon
Hi,

If you are having SSH connection issues when connecting to your instance in your own VPC (non default) check the following:

1 - Ensure you have an Internet Gateway (IGW)
2 - Ensure this IGW is associated with your VPC
3 - Ensure you have a route added for the subnet that the instance resides in that routes traffic out of AWS, such as 0.0.0.0/0 via IGW
4 - Ensure the Security Group allows the correct port from the source your are trying to connect from (which you have already done)
5 - Ensure the Network ACL also allows the ports through the network of your Subnet that your instance resides in
6 - Ensure you are using the correct Public IP address to connect

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Can't ssh to EC2 in Oregon
Hello,
Can you please start the instance so we can investigate this issue for you ?
Regards,
Baseer."
Amazon EC2	"Database migration 600gb imp exp or file transfer ?
Database migration to aws.

Hi we are planning on migrating a 600gb oracle Db to aws, but are unsure whether we should transfer using nfs, sftp over site to site vpn which we estimate will take approx 120 hours at approx 5gb per hour, or if it would be quicker to use imp exp?

Anyone else have a view, or suggest pros and cons 

Any guidance is much appreciated at this will be my first project 

Thanks"
Amazon EC2	"Re: Database migration 600gb imp exp or file transfer ?
Bump"
Amazon EC2	"Creating EC2 instance works in Ireland & US-West (Oregon) but not US-East
Dear All,

I have been trying to create Ubuntu 14.04 instances in US-virginia (US-East).

Creates... etc.etc....status checks say it's available etc.etc. but no way of reaching the machine. not ssh nor icmp/ping (both are set to allow from anywhere)

The last machine on the traceroute is always within amazon e.g.

205.251.245.244 or 205.251.245.234 & then....nothing.

I have tried connecting to the various instances I have create (in both us-east-1a & 1c) from a variety of machines in a variety of places (digital ocean machines in new york, amsterdam etc & google compute ones as well as UK based ones). no joy

However I do the exact same with Ireland.... & everything works like a charm. 
& Now I have created in US-West (Oregon) & once more works like a charm.

Any ideas? is US-east broken? 
Is it just over burdened & we should move from US-east (where all our S3 stuff is) over to.... Ireland?

Edited by: aflinton on Jun 11, 2015 3:50 AM

Edited by: aflinton on Jun 11, 2015 3:59 AM

Edited by: aflinton on Jun 11, 2015 4:00 AM"
Amazon EC2	"Re: Creating EC2 instance works in Ireland & US-West (Oregon) but not US-East
Hello,
Can you please provide the instance id of the instance you are having issues accessing ?
Regards,
Baseer."
Amazon EC2	"Internal error when creating Ec2 Windows VPC instance
Please see attached error. Getting this error when creating a Windows R2 T2 micro instance. 

Thanks"
Amazon EC2	"Re: Internal error when creating Ec2 Windows VPC instance
Hello,
Are you still having issues creating instances in your account, Can you please try to use a different ami or different region and see if you are able to lacun one , if you still have issues with this can you please tell us how can we replicate this ? 

Regards,
Baseer."
Amazon EC2	"Unknown instance i-4f8e69b6 appears in ELB upon instance deregistration
Hi,

I have recently noticed that AWS CLI command elb-deregister-instances-from-lb reports an unknown instance i-4f8e69b6 as a remaining instance in one of our LBs. Our account does not have such an instance at all. When registering an instance back to the LB (with *elb-register-instances-to-lb*) this ""zombie"" instance i-4f8e69b6 is not reported as an active instance. Neither i-4f8e69b6 is not shown under the LB profile in the AWS console.

Our account number is 9131-5573-1962 and this happens only with one of our load balancers (not all).

Ville"
Amazon EC2	"Re: Unknown instance i-4f8e69b6 appears in ELB upon instance deregistration
Hello,
After looking up the instance I do see that this belongs to your account but was terminated 16 days ago.
Can you please provide us the elb name so we can look up the instances that are registered to this and also the output of the command which shows this instance still registered/associated with the elb ?

Regards,
Baseer."
Amazon EC2	"Cannot connect to my instance via RDP
Hello, we are working fine for several months until one hour ago.
We have our instance i-47410017 (Windows Server), and suddenly after a reboot I cannot connect to it via RDP.
Can you please help us with this issue?

Thanks in advance.

Manuel Mtz"
Amazon EC2	"Re: Cannot connect to my instance via RDP
Sounds like your terminal server process did not start correctly on the reboot.   Try restarting the process if you can if not shut the server down and then start it back up again"
Amazon EC2	"Re: Cannot connect to my instance via RDP
Hi, I already restarted the server but it does not work, I cannot connect to it with RDP."
Amazon EC2	"Re: Cannot connect to my instance via RDP
Hi, I already restarted the server but it does not work, I cannot connect to it with RDP."
Amazon EC2	"Re: Cannot connect to my instance via RDP
If you have restarted and the terminal server process is up and running correctly the only other issues could be your network security either on the aws end or yours or the maybe the windows firewall. Make sure you have port  3389 open."
Amazon EC2	"Re: Cannot connect to my instance via RDP
Thank you, 

How can I check if the process is up and running? Because i just know how to check this via RDP.

I appreciate your help,
Manuel"
Amazon EC2	"Re: Cannot connect to my instance via RDP
If you can get to the server manager you can try and restart the terminal server process.  I have seen the process hang and be in a starting state forever."
Amazon EC2	"Re: Cannot connect to my instance via RDP
Have you tried to RDP / Remote sever manager from another windows system in your PVC"
Amazon EC2	"Re: Cannot connect to my instance via RDP
Cannot connect to it with my other instances in the same VPC.

Computer Manager not accesible, not ping and tracert cannot reach the Internal IP."
Amazon EC2	"Re: Cannot connect to my instance via RDP
I saw differences between System log of the broken instance and the working one.

This is the broken instance log:
2014/10/15 19:58:39Z: AMI Origin Version: 2014.05.14
2014/10/15 19:58:39Z: AMI Origin Name: Windows_Server-2008-R2_SP1-English-64Bit-SQL_2008_R2_SP2_Web
2014/10/15 19:58:39Z: OS: Microsoft Windows NT 6.1.7601 Service Pack 1
2014/10/15 19:58:39Z: Language: en-US
2014/10/15 19:58:39Z: EC2 Agent: Ec2Config service v2.2.2.0
2014/10/15 19:58:43Z: Driver: Citrix PV Ethernet Adapter v5.9.960.49119
2014/10/15 19:59:53Z: Message: Waiting for meta-data accessibility...
2014/10/15 19:59:53Z: Message: Meta-data is now available.
2014/10/15 19:59:54Z: Ec2SetPassword: Disabled
2014/10/15 19:59:55Z: RDPCERTIFICATE-SUBJECTNAME: WIN-MIEPITNFPT7
2014/10/15 19:59:55Z: RDPCERTIFICATE-THUMBPRINT: 1624A536CF17CED1A5334A0E942DF6E3B3C92C6E
2014/10/15 19:59:59Z: Message: Windows is Ready to use

This is the system log of the working instance:
2014/09/17 19:14:30Z: AMI Origin Version: 2014.09.10
2014/09/17 19:14:30Z: AMI Origin Name: Windows_Server-2008-R2_SP1-English-64Bit-SQL_2008_R2_SP2_Express
2014/09/17 19:14:30Z: OS: Microsoft Windows NT 6.1.7601 Service Pack 1
2014/09/17 19:14:30Z: Language: en-US
2014/09/17 19:14:30Z: EC2 Agent: Ec2Config service v2.2.8.0
2014/09/17 19:14:43Z: Driver: Citrix PV Ethernet Adapter v5.9.960.49119
2014/09/17 19:14:43Z: Driver: Citrix PV SCSI Host Adapter v6.0.2.56921
2014/09/17 19:14:48Z: Message: Waiting for meta-data accessibility...
2014/09/17 19:14:48Z: Message: Meta-data is now available.
2014/09/17 19:14:50Z: AMI-ID: ami-7c67ca14
2014/09/17 19:14:50Z: Instance-ID: i-1068e4fb
2014/09/17 19:14:50Z: Ec2SetPassword: Enabled
2014/09/17 19:14:51Z: Username: Administrator
2014/09/17 19:14:51Z: Password: <Password>0yEmeat14/nEVOzQSGb9S8MzX8E5Qu9yA7h6XRIn8sv2N0cIPcbnUhZbeq4uvDxO0CSurlgI0B9AZo02uu+yO+wNJON0L4bstLgVw4H3HvAqW7N6F0cby+Vg6L6JLCsNuYTZiUj7Y4P1+rGNTfC4YMdvhIx+KUiuxSqqVlotBDd3cOIF4ml2uoXPukVbURwzqF5ZrQGgt14kXXE1XVepeWf0eLdS561MzVSrNBSFpJRzid1FW8cQJDsmzVWhx2yUH1se/V0cxtejN8V+JAnk4jur1jyE27R7cH9HQILoqoKE2nxMNfPZMCgR0NQbRYP0A==
</Password>
2014/09/17 19:14:51Z: RDPCERTIFICATE-SUBJECTNAME: WIN-QL5USK05USI
2014/09/17 19:14:51Z: RDPCERTIFICATE-THUMBPRINT: 72B153FC980203A1B0CF3AE902467A895B900CA6
2014/09/17 19:14:58Z: Message: Windows is Ready to use

Is ther a way to fix this?? The Ec2SetPassword parameter??

Thanks a lot!
Manuel"
Amazon EC2	"Re: Cannot connect to my instance via RDP
I'm having exactly the same issue one two of my windows instances, one in Virginia, one in Ireland. Fine till this morning, then can't RDP via public dns or EIP this afternoon.

I can however connect via another instance in the same VPC, or via NAT. 

Posted my issues before finding this thread. Will report back here if I find anything.

https://forums.aws.amazon.com/thread.jspa?threadID=163324&tstart=0 

It's very worrying, if I completely loose access via RDP I'll have to let a lot of clients down!"
Amazon EC2	"Re: Cannot connect to my instance via RDP
Hello,
I had to stop my instance to see if this works, obviously, I lost all the information of the ephemeral storage, we do not have backups of that information and everything is going wrong since yesterday. If I have a notice from AWS Staff, I will let you know in your thread.
Regards,
Manuel"
Amazon EC2	"Re: Cannot connect to my instance via RDP
Interestingly I've found this is only occurs when RDPing from my work IP, not my home IP address, even though both are allowed under the security group."
Amazon EC2	"Re: Cannot connect to my instance via RDP
Hi,
I have tried to connect to my EC2 instance using RDP and it fails, I try the following steps:
1) I restarted the server but it does not work
2) I opened the port 3389 in my computer
3) I changed the security group to: Ports: All , Source: My IP

(My instance Id: i-01c9edab) 
But it still doesn't work.
What else can I do?

Edited by: lagzortal on Jun 21, 2015 6:39 AM"
Amazon EC2	"search for older version of AWS management pack for SCOM
Hello, 
Im trying to upgrade our MP version 2.0.2 to 2.5 with no success , i need the older versions for upgrading. is is possible to get links for it ? 

Thanks"
Amazon EC2	"My account got hacked and I received enormous bill
Hi,

On 8 june some malefactor obtained access to my account and started about ~100 instances in every region. Though I reacted quickly, I received a ~1,200 dollar bill. I created a support case 1416306891, but still got no answer. My account number is XXXXXXXX4209.

Edited by: BrandonP@AWS on Jun 10, 2015 2:53 PM"
Amazon EC2	"Re: My account got hacked and I received enormous bill
Hello,

Thanks for posting. I apologize for the issues you've encountered. You'll need to address billing questions via your case that you've opened. Someone from Billing will be in contact with you shortly.

Have you identified how they were able to gain access to your account and have you made adjustments so this won't happen again?"
Amazon EC2	"Re: My account got hacked and I received enormous bill
Thanks for answer!
Yes, I changed my password, installed MFA, terminated instances, deleted all keys users etc. I don't know how someone could gain access to my account. I was contacted by support and I think issue will be resolved in several days.

Edited by: guralisk on Jun 10, 2015 8:56 PM"
Amazon EC2	"Re: My account got hacked and I received enormous bill
Support applied ~1200 credit to my account. So my case is solved. Thanks Amazon! AWS are the best )"
Amazon EC2	"How to create a AMI from a vmdk
Hello ,

I'm a new user on AWS, recently I imported the VMDK disk to my EC2 instance .

Now I would like to create a image from this disk... I did the snapshot from this disk and after I created an image from this this snapshot.

When I try create a new instance using the image that I created from this snapshot , my instance doesn't work .

The disk that I imported are using LVM partitions .

Could somebody help me please ?"
Amazon EC2	"Slow network
HI Ahmed,

sorry for re-opening this tread, but I am experiencing a similar issue.

This is the result of ifconfing on one fo my instances (instance ID: i-003f1f76)

eth0      Link encap:Ethernet  HWaddr 12:31:3C:0D:42:8B
          inet addr:10.246.25.117  Bcast:10.246.25.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:48778444 errors:0 dropped:0 overruns:0 frame:0
          TX packets:46497612 errors:0 dropped:11001680 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:55654693 (53.0 MiB)  TX bytes:2895965276 (2.6 GiB)

eth0:cp1  Link encap:Ethernet  HWaddr 12:31:3C:0D:42:8B
          inet addr:79.125.12.5  Bcast:79.125.12.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:10478242 errors:0 dropped:0 overruns:0 frame:0
          TX packets:10478242 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:2042519935 (1.9 GiB)  TX bytes:2042519935 (1.9 GiB)

The issue I am experiencing is a general slowoliness on loading websites hosted on that machine. Also syncornizing one of the email account with gmail stopped working, reporting a connection time-out. Forcing the syn re-entering the account passord gets some messages delivered, but have to do this 2/3 times to have all messages delivered. Stille the subsequent gmail sync don't go through.

Additionally uploading to S3 become very slow. As I use to upload daily, weekly and monthly bakups on S3, the weekly backup (few GB) gets 4/5 days to complete, but reports some errors:

WARNING: Upload failed: /cPanel/2015-24/weekly/ileggo.tar.gz (timed out)
WARNING: Retrying on lower speed (throttle=0.00)
WARNING: Waiting 3 sec...
WARNING: Upload failed: /cPanel/2015-24/weekly/ileggo.tar.gz (timed out)
WARNING: Retrying on lower speed (throttle=0.01)
WARNING: Waiting 6 sec...
WARNING: Upload failed: /cPanel/2015-24/weekly/ileggo.tar.gz (timed out)
WARNING: Retrying on lower speed (throttle=0.05)
WARNING: Waiting 9 sec...
WARNING: Upload failed: /cPanel/2015-24/weekly/ileggo.tar.gz (timed out)
WARNING: Retrying on lower speed (throttle=0.25)
WARNING: Waiting 12 sec...
WARNING: Upload failed: /cPanel/2015-24/weekly/ileggo.tar.gz ((32, 'Broken pipe'))
WARNING: Retrying on lower speed (throttle=1.25)
WARNING: Waiting 15 sec...
ERROR: Upload of '/backup/cpbackup/weekly/ileggo.tar.gz' failed too many times. Skipping that file.

The skipped file is about 4 GB.

Thanks for any insight."
Amazon EC2	"Re: Slow network
Hi there tingwo,

In future please create a new thread for your issue instead of continuing a thread that has been dormant for a long time so we can better respond to new issues.

I have checked your instance and I can see that it would be beneficial for you to perform a stop and start on the instance to move it to different underlying infrastructure. Once this has been done please test again.

If you are still getting issues that it would be best to start looking at your instance configuration. I see that you are currently running a C1 instance type in EC2-Classic. There are several things that you can do to improve your situation.

Firstly you can change your instance type. The equivalent current version of the C1 instance type is the C3. Performing this change will save you money. The hourly rate of your current instance would be $0.148 per hour. Changing to a c3.large would cost $0.120 per hour while giving you the below benefits

""C3 provides features not available on C1 and CC2 such as Enhanced Networking. Cluster networking is also available on C3, as well as a wider availability of EBS-optimized instances sizes.

Compared to C1 instances, C3 instances provide faster processors, one additional instance size, approximately double the memory per vCPU, and SSD-backed instance storage. In addition to these features, C3 instances also have the best price/ECU compared to all other Amazon EC2 instances.""

For more information on these differences please see the below link.


http://aws.amazon.com/ec2/previous-generation/


Other than changing the instance type I would also recommend that you migrate this instance from EC2-Classic to VPC. This will enable access to the current version of enhancements but also any future  EC2 enhancements.

Migrating to VPC would be specifically beneficial for your situation as you would be able to take advantage of the Enhanced Networking feature. Below is a short description of this feature and a link to more information.

""We currently support enhanced networking capabilities using SR-IOV (Single Root I/O Virtualization). SR-IOV is a method of device virtualization that provides higher I/O performance and lower CPU utilization compared to traditional implementations. For supported Amazon EC2 instances, this feature provides higher packet per second (PPS) performance, lower inter-instance latencies, and very low network jitter.""


http://aws.amazon.com/ec2/faqs/#enhanced-networking


To enable enhanced networking please see the information in the below link.


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html


Another feature that would help your situation is EBS-Optimized instances. Again below is a description.

""An Amazon EBSâ€“optimized instance uses an optimized configuration stack and provides additional, dedicated capacity for Amazon EBS I/O. This optimization provides the best performance for your EBS volumes by minimizing contention between Amazon EBS I/O and other traffic from your instance.""

For more information please see the below link.


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html


For information on how to migrate your instance to VPC please see the below link.


http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-migrate.html


If you require further help on this situation, my advice or details on how to implement it feel free to create a support case using your AWS Support Management Console. Your account has Developer support access meaning that on top of access to these support forums you can also create support cases where we can go into more detail 1-1. More info below


https://aws.amazon.com/premiumsupport/


Quim."
Amazon EC2	"How do I use two public IP addresses on one instance?
So I started out with a simple t1.micro instance running ubuntu with one single IP address. Then, I wanted to add another public IP address that would attach to the same instance. So, the instance now has 2 network interfaces with 2 private ip addresses with 2 public ip adresses, I can see both interfaces in ip addr
 with the expected ip addresses, and I've triple checked the security groups, they should be allowing traffic. However, nothing seems to get through on the secondary interface. I've used iptables to directly look at how many packets are arriving through the second interface (eth1), and it's exactly 0.

What am I missing? Is there some last floodgate I missed?"
Amazon EC2	"Retail Marketing
Hi,

I am interested in such product.
Is there any aws tool to help digital marketing? I am refering to websites, analytics and web marketing... if there exist a use case already whcih applies aws services. 

Thanks,
Skender"
Amazon EC2	"Re: Retail Marketing
Hi there Skender,

As my colleague previously advised this forum serves to provide support for customers using Amazon Elastic Compute Cloud (Amazon EC2)

I would recommend that you take a look at the information in the below link to see what options are available to you


http://aws.amazon.com/digital-marketing/


If you find that you are interested in more information then go ahead and get in touch with us as advised using https://aws.amazon.com/contact-us/aws-sales/

Quim."
Amazon EC2	"Instance won't stop
Instance i-a0eee677 won't stop. I set it to stop and it wont stop. I also tried a force stop and it will not stop. Thanks for your help!"
Amazon EC2	"Re: Instance won't stop
Finally stopped.

If you helped, thanks."
Amazon EC2	"Removing an VPC instance public IP address
Hello,

I launched an instance in a VPC and I set the 'auto-assign public ip' setting to enable. Now I would like the public IP removed (disabled) but can't see to see where in the console/cli this setting is stored. Every time I start the instance it gets a public IP. How can I change the default to disable?

Thanks"
Amazon EC2	"Re: Removing an VPC instance public IP address
Hi,

The configuration of whether or not to assign a public IP address by default, is controlled by the VPC subnet setting.  You may modify the subnet to not auto-assign public IP's when launching instances into that subnet.

Please see Link: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#subnet-public-ip for more details on how to change the configuration of your VPC.

Note You can't manually disassociate the public IP address from your instance after launch. Instead, it's automatically released in certain cases, after which you cannot reuse it.  See Link: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-ip-addressing.html#vpc-public-ip

If you found this helpful please mark the question as such, I'm trying to up my forum ranking.

Edited by: GMan on Jun 20, 2015 1:42 PM"
Amazon EC2	"Instance stuck i-ba56759a [SOLVED]
I am unable to stop an instance i-ba56759a

It was unresponsive.  I am attempting to create an AMI from it and it appears not to be working.

Services are unavailable at this time.

Edited by: jimh_tt on Jun 20, 2015 11:26 AM

This came up after about an hour, please disregard"
Amazon EC2	"ELI5: Lost in the Acronyms - Help Please
Hello everyone.

As you may have already understood from the title, we're more than a little lost and would really appreciate some help and understanding on what I need to do to achieve our goals.

Ok so here's hoping someone here can help:

We've setup our EC2 and hosted our application on the system (Running windows 2012). After a little poking around and experimenting (mostly shooting in the dark) we've managed to set the UDP/TCP ports correctly, add the elasticIP and managed to successfully run our application (hosting). The client software can then connect and we have managed to get several clients connected...

So far so good...

Next we want to be able to provide access to some specific in-house files that contain our data that our client application can connect to and retrieve (download only). In order to achieve this we need to provide an IP address and path to the files hosted on the EC2? This is where we have run aground...

How exactly can we host files on the EC2 and get some fixed path to it that our client software can use? 

Example: TheIPAddress/path/somewhere/files.txt

These files would typically be stored relative to the path of our server application but it is not essential. 

We did manage to host a simple html file on S3 but I think this is a blind alley as there does not appear to be any relation to the S3 and the EC2 (Not something obvious to us anyway)

While we are pretty tech savvy people with good programming skills, we just can not get our heads around it and to add to our suffering all the tutorial googling we do just seems to dig us deeper into confusion. 

If someone can help us with some step-by-step aka ELI5 you could really help ease our pain and frustration. 

Here's hoping...

Edit: Apologies if this is posted in the wrong thread/place :/

Edited by: phreakzoid on Jun 18, 2015 11:37 AM"
Amazon EC2	"Re: ELI5: Lost in the Acronyms - Help Please
phreakzoid,

It sounds like the issue you are having is related to IIS / your web server configuration, not necessarily EC2/AWS. An EC2 instance at its most basic concept is simply a server. What you choose to do with it is up to you.

(I am making the assumption that you have an EBS volume (persistant hard drive) attached to your EC2 instance)

You could use S3 for storing those files if they are relatively static (think of S3 as a ""dropbox"" of sorts, works kind of like a hard drive concept wise, but you wouldn't want to use it as an actual hard drive)."
Amazon EC2	"Re: ELI5: Lost in the Acronyms - Help Please
Thanks for the reply lorenzoaiello, I think I understand what you are saying in terms of S3 and dropbox as an example. 

If EBS means that on the EC2 Windows box we have access to a hard drive where we store physical information, then yes you are correct. We remote desktop in and install files including our .exe which when running allows clients to connect to the IP and port range...

I presume there is some way to make the S3 bucket point at our EC2 instance at a specific place?

In other words: how can I make an address on the S3 point to the EC2 folder/file? I will dig around there in the meantime maybe I will figure it out. In the meantime if you can point me at any reference materials or tutorial on how to connect the two it would be most helpful.

Thanks again, I really appreciate your help"
Amazon EC2	"Re: ELI5: Lost in the Acronyms - Help Please
You can't make S3 ""point to"" an EC2 instance; they're independent services.

If all you need to do is host static files, the easiest thing to do is just upload them to S3. If it's important that the files are actually served from your EC2 instance, you'll need to install a web server on your instance and configure it to serve the files. The details are outside the scope of this forum (it's a general system administration issue, not anything specific to EC2) but you can get started by looking at the documentation for your preferred server software e.g. IIS, Apache or Nginx."
Amazon EC2	"Re: ELI5: Lost in the Acronyms - Help Please
Thanks David, that cleared things up for me. I was trying to connect the S3 and EC2 together and searching for how-to-do was like looking for a needle in a haystack... In this case with no needle to be found. I think we can host the data on S3 as I expect the application running on the ec2 could use the same URL to get the data. 

Thanks to both, I believe we are good to go now."
Amazon EC2	"Unable to launch new or replace instances
We have been unable to launch new ec2 instances or even start instances after they have be stopped. If a ASG kills a instance due to a health check we are unable to bring a new instance online. 

Here is the error we are getting from AWS:

Launching a new EC2 instance. Status Reason: Your quota allows for 0 more running instance(s). You requested at least 1. Launching EC2 instance failed.


From what I can tell we are not hitting any limits on the number of running instances. We have tired different instance sizes and availability zones without any luck.

We seem to only be hitting this issue in us-east-1.

Edited by: kpettijohn_ on Jun 8, 2015 4:25 PM"
Amazon EC2	"Re: Unable to launch new or replace instances
Hello,

I apologize for the delay in my answer.

I have just sent you a private message.

Regards,
Giorgio"
Amazon EC2	"Instance got stuck in ""Initialising"" state after stop/start
My instance i-519cfb12 got stuck in the ""initialising"" state after stop/start."
Amazon EC2	"Re: Instance got stuck in ""Initialising"" state after stop/start
Now the state has changed to 1/2 check passed. But still cannot connect to it."
Amazon EC2	"Re: Instance got stuck in ""Initialising"" state after stop/start
Hello,

Thank you for the post. 

I am sorry for the inconvenience you may have experienced. I took a look at the instance ""i-519cfb12"" and it is running with no status failures. The issue seems to be resolved. 

Let us know if you have any concerns. 

Thank you,
Varun"
Amazon EC2	"Re: Instance got stuck in ""Initialising"" state after stop/start
Hello,
I am having the same issue again with the instance i-519cfb12. Could you check it please?

Edited by: glalexey123 on Jun 20, 2015 1:57 AM"
Amazon EC2	"Re: Instance got stuck in ""Initialising"" state after stop/start
Hello glalexey123,

I have just checked your instance i-519cfb12 and is running correctly, are you still experiencing any kind of issue with this instance?

Regards,
Giorgio"
Amazon EC2	"Unable to access EC2 instance
I've tried creating a VPC and associated EC2 instance several times, but have not been able to connect. I have one running now if someone could take a look.

Previously, I had used flow logs and could see that requests were getting to the instance, but it was not responding.  

This last VPC was created using the wizard and I set the instance so that it would associate with a public address.

I've had this account for a few years and I used to be able to create EC2 instances easily and they worked fine. I'm not sure if the problem is account related or not.

Thanks."
Amazon EC2	"Re: Unable to access EC2 instance
Hi,

I would start by checking the following:

1 - Ensure you have an Internet Gateway (IGW)
2 - Ensure this IGW is associated with your VPC
3 - Ensure you have a route added for the subnet that the instance you are trying to connect to resides in. This route will need to read as follows 0.0.0.0/0 via IGW
4 - Ensure the Security Group allows the correct port from the source your are trying to connect from (22 for SSH, 3389 for RDP)
5 - Ensure the Network ACL also allows the ports through the network of your Subnet that your instance resides in
6 - Ensure you have assigned an EIP to the instance
7 - Ensure you are using the correct EIP address to connect

I hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Unable to access EC2 instance
Stooby,

Thanks for the response. I've created the VPC a few times both with the wizard and manually. As far as I know I've checked all the items you mentioned. Thanks for the list.  I am very familiar most of the items with and have checked. However, I'll go through the list and check again.  Flow logs show that the login request is getting to the instance, but the return path could be a problem.

YAY! Turns out it was the source on the inbound rule of the security group. The ports were OK, but for some reason the source value was set to the name of the security group rather than a subnet.

Edited by: erikd-aws on Jun 20, 2015 3:20 AM"
Amazon EC2	"Re: Unable to access EC2 instance
Hello  erikd-aws,

I am Glad you were able to solve your issue.
Please let us know if there is anything else we can help with.

Regards,
Giorgio"
Amazon EC2	"i-d92c7424 unable to restart
This ebs backed instance has kernel panic and I tried restart twice and I don't see any progress. Sys log still shows the errors from the first restart. Can you look into this? thanks."
Amazon EC2	"Re: i-d92c7424 unable to restart
I even tried stop/start and even after that teh instance is no reponse and teh instance status check says ""Instance reachability check failed at June 18, 2015 at 2:28:00 PM UTC-4 (8 minutes ago)"""
Amazon EC2	"Re: i-d92c7424 unable to restart
Hello,

I have seen that your instance i-d92c7424  was correctly stopped on 2015-06-18T18:43:11+0000.
Are you still experiencing any issues?

Regards,
Giorgio"
Amazon EC2	"New Micro Instance TestAWS starts automatically
Can anyone explain why I have an instance that starts automatically even though I try and stop and / or terminate it?  When I do stop or terminate it, another one gets started in its place with the same name.  It's like ""whack a mole.""  I think it could have something to do with the Amazon Developer Pack for Eclipse.  

Thanks for your support.

Adam"
Amazon EC2	"Re: New Micro Instance TestAWS starts automatically
Check your auto-scaling groups. 

Sounds exactly like an auto-scaling group that sees an ""unhealthy"" (terminated/stopped) instance and launches a new one."
Amazon EC2	"Re: New Micro Instance TestAWS starts automatically
I just checked this.  It doesn't appear that I have any autoscaling groups configured.  Could something be automatically launching from Eclipse Developer for AWS?  I noticed there was a server listed in the IDE that corresponded to the ""TestAWS"" instance.  However, I deleted it, and deleted the server from within the EC2 Console.  That's when I noticed the mysterious re-initialization of the ""TestAWS"" instances that seem to override my desire to have them."
Amazon EC2	"Re: New Micro Instance TestAWS starts automatically
Hello,

I have taken a look at your resourced an I noticed that you have an AWS Elastic Beanstalk environment named ""TestAWS"" that is using an autoscaling group and currently your instance belong to this ASG..

Here you can find additional information on Autoscaling group with AWS Elastic Beanstalk:
http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.managing.as.html

Regards,
Giorgio"
Amazon EC2	"EC2 API Tools - can I use temporary credentials?
I need to use EC2 API tools with temporary credentials. I see there's a -T flag for passing in the session token, but is there an environment variable for this like there is for the access key and secret key?"
Amazon EC2	"AMI creation stuck in pending status
Hello, 

Ive tried to create AMI images, but they stuck in pending status for more than couple of hours already. Can anyone advice what to do?

AMI id's:
ami-1b080d2b 
ami-b50a0f85
ami-c9090cf9

Instance id's:
i-0b8b5300 
i-0b8b5300

Best regards,
Nick"
Amazon EC2	"Re: AMI creation stuck in pending status
It just takes too long to create EBS image"
Amazon EC2	"EC2 instance cannot send response to client
Hello there,

I am using a t2.micro instance to serve requests to a front-end hosted on S3. Interestingly enough, 90% of my users can get a response. However, there are 10% who just can't get any response back. Some of these users are in an enterprise environment.

I had the chance to check one of my friend's Chrome dev tool (using on our front-end) and saw a weird behavior where no response was sent back. Then, I sent a get json request to the endpoint directly. From there onwards, everything started to work. Recently, a potential early adopter from an enterprise tried our prototype and same thing happened again. This time, I wasn't so lucky and got a good lecturing from the user.   

I tried searching online for tons of possiblity. I can only come up with 2:
( i ) Some firewall blocks response sending back from EC2 addresses (I am not using Route 51 yet to attach our domain name yet)
( ii ) There is some sort of routing issues to be address

If you think that these are good reason for what's happening, please let me know what can I do to fix them. Otherwise, what are the debugging steps that I can take?

You can find our site here:
http://resohub.s3-website-us-east-1.amazonaws.com/

Edited by: yaohongkok331 on Jun 19, 2015 11:31 AM

Edited by: yaohongkok331 on Jun 19, 2015 11:32 AM

Edited by: yaohongkok331 on Jun 19, 2015 8:26 PM"
Amazon EC2	"EC2 Spot Instance requests not being fulfilled
I'm unable to get any EC2 Spot Instance requests fulfilled. I made a request for a Windows g2.2xlarge instance. Frustratingly, the Spot Instance request has been endlessly bouncing between 'pending-evaluation' and 'pending-fulfillment' Statuses for over an hour. My bid price is well above the historical and current market rate.

I just created a new AWS account that is separate from my business' account, since this is for a personal project. Are my spot requests ignored because my account is young?

Please help me resolve this issue. Thanks.
David"
Amazon EC2	"Re: EC2 Spot Instance requests not being fulfilled
I've resolved the issue. Starting a dedicated instance (non-spot request) in EC2 seems to have 'unblocked' me. My Spot Instance Requests are now being fulfilled."
Amazon EC2	"A few questions about importing Windows VMs into AWS
I have figured out how to import a Windows Server 2012R2 64 bit server from VMWare into AWS, and have successfully completed an import using ec2-import-instance.  I have a few questions that so far Googling and perusing the docs I cannot find any help for

1) How do I indicate that this is a BYOL server?  And how can I (as an IAM user) verify the license setting BYOL vs Amazon-supplied?  I've found text to this effect ""To Use your own Windows license, when importing the VM image, you must use the BYOL flag with the LicenseType parameter"" in several places, but the ec2-import-instance command has no LicenseType parameter.

2) How do I import as a dedicated instance?  The instance was created as a ""default"" Tenancy instance.  It looks like once an EC2 instance is created, you cannot change its tenancy.

3) How do I control whether or not a public IP is created?  I would like to put the imported VM into a specific subnet, and it looks like if I do this, the instance cannot be assigned a public IP unless I specifically give it an Elastic IP.  (I tried that and it worked, but it's not what I want to do.)  Is there any way to assign a public IP (that is not an elastic IP) to an EC2 instance that wasn't created with one?

The docs I primarily referenced are:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingVirtualMachinesinAmazonEC2.html

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ImportingYourVM.html

http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-ImportInstance.html

Is there a different way of doing this that allows me to specify BYOL, usage of auto-generated public IP, and dedicated tenancy?  For now I'll terminate the instance I imported."
Amazon EC2	"Re: A few questions about importing Windows VMs into AWS
I figured out the answer to everything except BYOL.

There are two different sets of web pages describing how to import VMs, describing two very different ways of doing it.  One uses ec2-import-instance.  That's the one I used a couple days ago and it's pretty straightforward.  Apparently, that way of doing things cannot achieve what I want.  The other way of doing things uses the AWS CLI and is documented at:

http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UsingImportImage.html

This is far more complicated, requiring much more configuration and work and more steps.  You have to create an IAM role and give it policy before you can do the import (as described at http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/VMImportPrerequisites.html which doesn't seem to be referenced from the UinsgImportImage.html pages so you have to discover it by chance).  I got this working (following the steps at the web page above) and it created an AMI.  I was able to launch the AMI as a dedicated instances.  So now my remaining question is about the BYOL license for Windows.  I've done everything one is supposed to do to enable this and it doesn't seem to be working."
Amazon EC2	"Re: A few questions about importing Windows VMs into AWS
I've asked a follow-up question with more detail at the following thread in this forum:

https://forums.aws.amazon.com/message.jspa?messageID=633768#633768

that question describes in more detail what I have tried, the commands I've used, how I have tried to verify things.  I thought since I have just one remaining question -- about BYOL -- it would make more sense to have a thread specific to that one question."
Amazon EC2	"AWS Data Transfer out beyond the global free tier principle
I Don't understand principle of data transfer out beyond the global free tier.
I have launched 5-10 EC2 from AMI and get 800GB of AWS data transfer.
Can anybody give some explanations ?..

BR 
Eugene
----
information from my acount activity:

AWS Data Transfer (excluding Amazon CloudFront) 	$96.70
  	  	$0.000 per GB - data transfer out under the monthly global free tier 	15.000 GB 	0.00
  	  	$0.000 per GB - regional data transfer under the monthly global free tier 	0.000000 GB 	0.00
  	  	$0.000 per GB - data transfer in per month 	0.133 GB 	0.00
  	  	$0.120 per GB - first 10 TB / month data transfer out beyond the global free tier 	805.871 GB 	96.70
  	  	$0.02 per GB - US East (Northern Virginia) data transfer to US West (Northern California) 	0.000000 GB 	0.00
  	  	$0.00 per GB - US East (Northern Virginia) data transfer from US West (Northern California) 	0.000000 GB 	0.00
  	  	$0.02 per GB data transfer out of US East (Northern Virginia) to CloudFront 	0.000001 GB 	0.00
  	  	$0.00 per GB data transfer in to US East (Northern Virginia) from CloudFront 	0.000002 GB 	0.00"
Amazon EC2	"Re: AWS Data Transfer out beyond the global free tier principle
800 GB, that sure is a surprising amount if you weren't expecting it.  The ""data transfer out"" typically means data being downloaded.  Do you have large files that get downloaded, either by yourself or by visitors / users?  Or did you run some large file copies over the Internet during the billing period?

If none of these ring a bell, you may be able to check your server logs to see the source of the traffic.

Occasionally this can even be caused by a hacker who gains access to your servers and then uses them to conduct high-traffic activities."
Amazon EC2	"Re: AWS Data Transfer out beyond the global free tier principle
Hi Larry.

Do you have large files that get downloaded, either by yourself or by visitors / users?
I have launched EC2 instances from AMI (Classic Wizard\Quick Start\   AMI Microsoft Windows Server 2008 R2 Base)
I have launched EC2 instances from my AMI.
I don't 
There are no other users (visitors ) which can use this EC2 instances to upload\download something.

you may be able to check your server logs to see the source of the traffic.
1)Please give some more details where I can find this log.

2)Is launching EC2 instance from AMI add 30GB (EBS volume size) to AWS Data Transfer out beyond the global free tier ?

3)I attach some usage reports in XML format and can not understand ""800GB data transfer"".
Can you take a look on them ?

Eugene

Edited by: eugene82d on Apr 13, 2013 3:08 AM"
Amazon EC2	"Re: AWS Data Transfer out beyond the global free tier principle
Hello,

I was taking a look at your account and noticed that you also opened a support case on this.  I've brought the case to the attention of our Customer Service team who will be happy to work on this with you.

Regards,
Rob."
Amazon EC2	"Re: AWS Data Transfer out beyond the global free tier principle
It seems I have the same problem. Could you help me too?
 My thread"
Amazon EC2	"Re: AWS Data Transfer out beyond the global free tier principle
I have the same problem too. It keeps increasing without anything downloaded or uploaded. Is my login session taking bandwidth using ssh? Is it kind of DDos attack on the instances. I have limited my firewalls to just ssh for that instances."
Amazon EC2	"user data not working on FreeBSD AMI
Hi all,

I am a beginner to AWS so please forgive any missing information and long post. 

I am currently using the BOTO SDK to provision servers in AWS.  Whenever I pass in a user data script, it seems like it is not running at all on my FreeBSD instances.

If I try to curl http://169.254.169.254/latest/user-data I see that user data is definitely being passed to the instance when i provision it:
Line:

IyEvdXNyL2xvY2FsL2Jpbi9iYXNoIC1leApleGVjID4gPih0ZWUgL3Zhci9sb2cvdXNlci1kYXRhLmxvZ3xsb2dnZXIgLXQgdXNlci1kYXRhIC1zIDI+L2Rldi9jb25zb2xlKSAyPiYxCgpleHBvcnQgSW5zdGFuY2VfSUQ9YC91c3IvbG9jYWwvYmluL2N1cmwgLS1zaWxlbnQgaHR0cDovLzE2OS4yNTQuMTY5LjI1NC9sYXRlc3QvbWV0YS1kYXRhL2luc3RhbmNlLWlkYApleHBvcnQgQVdTSE9TVE5BTUU9YGF3cyBlYzIgZGVzY3JpYmUtdGFncyAtLWZpbHRlciAiTmFtZT1yZXNvdXJjZS1pZCwgVmFsdWVzPSR7SW5zdGFuY2VfSUR9IiAiTmFtZT1rZXksIFZhbHVlcz1OYW1lIiB8IGVncmVwIC1vaCAndXNualthLXpdK1swLTldKydgCmhvc3RuYW1lICR7QVdTSE9TVE5BTUV9LndhdGVyZnJvbnRtZWRpYS5uZXQKc2VkIC1pICIiICJzL1w8QVdTSE9TVE5BTUVcPi8ke0FXU0hPU1ROQU1FfS8iIC9ldGMvcmMuY29uZgo=$
Line:

Here is how I provision the box. 
Line:

def get_script(filename='varnish_script.sh'):
    return open(filename).read()

encoded_user_data= base64.b64encode(get_script())
print get_script()

Instance = make_ec2_instances_subnet(region=region, name=Server5, ami=ami4, security_group_ids=, userdata=encoded_user_data)
Line:

Where make_ec2_instances_subnet is a custom function that runs Boto's run_instance with the parameters I specified. 

Here are the contents of the script:
Line:

+#!/usr/local/bin/bash -ex
exec > >(tee /var/log/user-data.log|logger -t user-data -s 2>/dev/console) 2>&1

export Instance_ID=`/usr/local/bin/curl --silent http://169.254.169.254/latest/meta-data/instance-id`
export AWSHOSTNAME=`aws ec2 describe-tags --filter ""Name=resource-id, Values=${Instance_ID}"" ""Name=key, Values=Name"" | egrep -oh 'usnja-z+0-9+'`
hostname ${AWSHOSTNAME}.waterfrontmedia.net
sed -i """" ""s/\<AWSHOSTNAME\>/${AWSHOSTNAME}/"" /etc/rc.conf+
Line:

It seems like nothing is ever being run when the instance is provisioned and also I don't see any messages for user data in dmesg or anywhere.  

Am I missing something?

Any help is appreciated.

For those of you wondering, I'm trying to provision Freebsd boxes so that they come up with a Hostname set to the Name tag of the instance. 

Edited by: panxincheng on Jun 19, 2015 2:18 PM

Edited by: panxincheng on Jun 19, 2015 2:19 PM

Edited by: panxincheng on Jun 19, 2015 2:20 PM"
Amazon EC2	"Seeking experiences with Cloud Protection Manager (CPM) from n2ws?
I am evaluating the Cloud Protection Manager from n2w Software (n2ws.com).  I've been very impressed with the functionality.

If anyone has any real world experiences, I would appreciate hearing from you.

Thanks,
Kelly"
Amazon EC2	"PHP SDK throws an error that doesn't happen on command line or GUI
I'm trying to do a RunInstances request with a security group and subnet that belong to the same VPC. I'm able to do it from the aws command line as well as in the web UI. However, the PHP SDK gives this error: 
AWS Error Message: Security group sg-yyyyyyyy and subnet subnet-zzzzzzzz belong to different networks, where the subnet is not the one that I specified. Instead it grabs another subnet (probably a default) instead.
Wondering if this is a user problem or something in the SDK? Any info would be appreciated. Here's my array:

$result = $ec2Client->RunInstances(array(
    'DryRun' => true,
    'ImageId' => 'ami-11111111',
    'MinCount' => 1,
    'MaxCount' => 1,
    'KeyName' => 'blablabla',
    'SecurityGroupIds' => array('sg-yyyyyyyy'),
    'InstanceType' => 't1.micro',
    'BlockDeviceMappings' => array(
        array(
            'DeviceName' => '/dev/sda1',
            'Ebs' => array(
                'VolumeSize' => 8,
                'DeleteOnTermination' => true,
                'ValumeType' => 'standard',
                ),
            ),
        ),
	'SubNetId' => 'subnet-xxxxxxxx',
));"
Amazon EC2	"Account Blocked
Hi,

I was able to create a new ec2 instance but when I was trying to create the second ec2 instance, I encountered the following error : 

""Your account is currently blocked. Contact aws-verification@amazon.com if you have questions.""

Can anyone advise me on the next course of action to take? 

Thanks"
Amazon EC2	"Re: Account Blocked
Hello,

It appears that you have also opened a support case for this issue. We have sent a response to the support case regarding the action that you need to perform. Please check the response to the support case.  

Best Regards,
-Chandra P."
Amazon EC2	"""Your credentials did not work"". Why can't i connect to new instance?
I just signed up AWS and Ec2 and created a Windows instance, got my .pem file, keypair, and password.  Got my .rdp shortcut on my Windows desktop.  Try to log in as administrator with given (decrypted) password.  Error message: 

""Your credentials did not work.  The credentials that were used to connect to 54.200.156.68 did not work. Please enter new credentials.""

This is a new running instance.  Still running out of Oregon i believe. 

Any ideas why i can't connect? I've checked and double-checked my credentials.  Before i delete the instance and try again, i would like to know why this one isn't working."
Amazon EC2	"Re: ""Your credentials did not work"". Why can't i connect to new instance?
Hello,

Thank you for using the Forums today. 

Are you trying to copy the password once it has been decrypted from the web page? I have had issues when trying to issue copy/paste commands like this before. Please try to just type the password into the dialog box for your password, please note it is case sensitive. Also, verify that the administrator account it is trying to use is not part of a different domain. 

You can also try to launch the RDP program with a console session to Windows. To do this you will need to run this command in your command prompt â€“ mstsc /console

I hope this helps!

Thanks, 
AdamC"
Amazon EC2	"Re: ""Your credentials did not work"". Why can't i connect to new instance?
thank you sir.  That did the trick."
Amazon EC2	"import-ec2instance
I am trying the conversion of a OVF vmdk to AWS instance, but I am getting ClientError:Block device is too small.  Required: 107374182400 Available: 60129542144.  

I can see that the numbers are too small, but I am not sure what that means, I tried to convert it into a t2.medium instance, is that too small?  If that is what it means, how do I find out which instance to use that has enough space?"
Amazon EC2	"Not able to RDP in to new windows instance
Instance is i-8cca9a7b

Everything seems fine from my end except that I am not able to rdp into server."
Amazon EC2	"Re: Not able to RDP in to new windows instance
Hello,

I have checked the instance in question and found that the instance does not have a route to Internet.

Please make sure that the route table for the subnet has a route that sends all traffic destined outside the VPC (0.0.0.0/0) to the Internet gateway for the VPC. 

For more information, please refer to the below link. 

http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Routing

Best Regards,
Chandra P.

Edited by: Chandra@AWS on Jun 19, 2015 9:18 AM"
Amazon EC2	"i-7ad7ca12 in 'Stopping' state
I have an instance, i-7ad7ca12, stuck in state 'stopping'.  Can someone fix it?  Blessings"
Amazon EC2	"Re: i-7ad7ca12 in 'Stopping' state
Hi there,

I can see you instance is now in the running state again and has been for about an hour. Any problems please let us know. 

Regards,
Julian H."
Amazon EC2	"Re: i-7ad7ca12 in 'Stopping' state
thank you"
Amazon EC2	"No connection after reboot
After reboot of EC2 instance there is no ip address received by the instance.

Further reboot does not help.
Discs have been checked and are not corrupted.
the system is running 14.04

Please advice how to fix this.

Thanks

i-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: | Device |   Up  |  Address  |    Mask   |     Hw-Address    |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: |   lo   |  True | 127.0.0.1 | 255.0.0.0 |         .         |

ci-info: |  eth0  | False |     .     |     .     | 06:de:55:6a:8c:bf |

ci-info: +--------+-------+-----------+-----------+-------------------+

ci-info: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Route info failed!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

2015-06-19 14:29:48,736 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 0/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:49,738 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 1/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:50,741 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 2/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:51,743 - url_helper.pyWARNING: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed 3/120s: request error [HTTPConnectionPool(host='169.254.169.254', port=80): Max retries exceeded with url: /2009-04-04/meta-data/instance-id (Caused by <class 'socket.error'>: Errno 101] Network is unreachable)

2015-06-19 14:29:52,746 - url_helper.pyWARNING: Calling 'http:/"
Amazon EC2	"Create AMI image takes long time
My instance (EBS) is scheduled for retirement after June 30, 2015 at 2:00:00 AM UTC+2. I have started to create an AMI of my instance and it seems to take long time, i think that is excesive.

How should I proceed?

Edited by: antonioguillen on Jun 18, 2015 2:19 AM"
Amazon EC2	"Re: Create AMI image takes long time
Hello,

I checked your account and could identify that the instance i-b6333a9c have a maintenance scheduled on 2015-06-30. So, I assume that the instance that you mentioned is  i-b6333a9c.

If the AMI creation is still stuck, you can stop the instance and start it back. Stopping and starting the instance will place your instance on a different physical host. You should then be able to perform the AMI creation of your instance. Also stopping and starting the instance will clear your instance from the maintenance activity as your instance will get moved out of degraded physical host on which your instance is currently running.

Regards
Shiroy"
Amazon EC2	"Cannot release ip address
Hello, i have this error on release IP:

54.207.110.134: The address with allocation id eipalloc-c65e4fa4 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 5452ea65-dfcd-40a8-88d8-e1e0274722f5)

Can you help me?"
Amazon EC2	"Re: Cannot release ip address
Hi Germanias, 

I have unlocked your EIP, you should be able to release it now without problems.
May you kindly confirm?

Best regards,

Kuda"
Amazon EC2	"Re: Cannot release ip address
Perfect,

I can release now.

Att;"
Amazon EC2	"1/2 check - can't log in to the instance
I have an EC2 small instance.
1. When i am trying to Restart the instance nothing happens
2. The Stop process takes long time and then when i start the instance
again it show me status check 1 of 2 and i can't log in to instance...

Just after 20+ min the status change to 2/2 check and i can log in...

Please Advice?

Edited by: af972 on Jun 9, 2015 3:39 PM"
Amazon EC2	"Re: 1/2 check - can't log in to the instance
Same happend to me- i-46b564af"
Amazon EC2	"Re: 1/2 check - can't log in to the instance
Hello chenferan,

I did check your instance  i-46b564af and it appears to be healthy and passing 2/2 health checks.
Do you need any further assistance on this?

Regards
Shiroy"
Amazon EC2	"System rebooted unexpectedly
Hello support Team.
My Linux instance i-35fb3cf4 (Frankfurt region) rebooted without any intervention from my part.
Launch time reported in Management Console is May 29, 2015 but system uptime is only 4 days 16 hours (should be 11 days).

# uptime
19:08:31 up 4 days, 16:01,  1 user,  load average: 0.00, 0.01, 0.05

At the moment system rebooted nobody was logged in:

# who -b
system boot  2015-06-05 03:07

# aureport -l --success
(...)
87. 06/02/2015 22:10:01 0 xxxxxxxxxxxxxxxxxxxxx /dev/pts/0 /usr/sbin/sshd yes 2810
88. 06/06/2015 13:47:09 0 xxxxxxxxxxxxxxxxxxxxx /dev/pts/0 /usr/sbin/sshd yes 955
(...)

Can you please give support on this issue?
Thank you very much for your excellent service.
Francesco Talarico"
Amazon EC2	"Re: System rebooted unexpectedly
Hello Francesco,

I did check your instance and the underlying infrastructure and could identify that the underlying host on which your instance was running encountered an error on 2015-06-05. The underlying host was rebooted to fix the error. Our apologies for any inconvenience this may have caused you.

Currently, the underlying host is running healthy. But, if you need to move your instance to a different host, you can stop the instance and start it back which will place your instance on a different physical host.

Regards
Shiroy"
Amazon EC2	"Openssl - CVE-2015-1788
https://www.openssl.org/news/secadv_20150611.txt

Hi AWS,

Please could you let me know when a update to 1.0.2b or 1.0.1n will be available ? 

Thanks,
Alex"
Amazon EC2	"Re: Openssl - CVE-2015-1788
Would also like to know.

FYI, I subscribe to this feed for updates about packages:

https://alas.aws.amazon.com/alas.rss"
Amazon EC2	"Re: Openssl - CVE-2015-1788
Hi,

the security advisory you linked has been fixed with package openssl-1.0.1k-10.86 (notice the 10.86 revision) as stated in ALAS-2015-550.

And about OpenSSL version 1.0.2 availabilty you can refer to this thread Re: OpenSSL 1.0.2 - plans for availability? for updates.

Best regards,
Sebastian C."
Amazon EC2	"EC2 database server - auto scaling
Can we specify the EC2 database server in autoscaling group. Can we scale the database server by using the autoscaling policies"
Amazon EC2	"Re: EC2 database server - auto scaling
Technically speaking, if its an EC2 instance, you can implement auto scaling, but I imagine you'll need to build out the database cluster automation scripts yourself.

I believe that AWS only supports (manages) RDS scaling via Read Replicas/Multi-AZ failover (http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReadRepl.html)."
Amazon EC2	"Snapshot stuck in pending state with 99% progress
Hello. How long we have to wait for creating snapshot? We have waited about 1 hour and it still in pending state with 99 progress. Is it normally?
Volume: vol-0d54341e
Snapshot: snap-fc2690a8

Thanks"
Amazon EC2	"Help Please?
Posted in the wrong place, maybe an Admin can move it?
https://forums.aws.amazon.com/thread.jspa?threadID=185121&tstart=0"
Amazon EC2	"Maximum number of concurrent snapshots on volume reached.
Getting this error whether using AWS Dashboard or awscli. There were a number of snapshots pending but not completing, which have now been deleted, but still getting the same error after an hour so possibly it needs a kick from your end? Same sort of thing as:

https://forums.aws.amazon.com/message.jspa?messageID=432495

awscli debug output:
$ aws ec2 create-snapshot --volume-id vol-19baa552 --description ""Test"" --debug --profile knd
<snip>
2015-06-18 15:32:26,714 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest POST>
2015-06-18 15:32:28,572 - botocore.response - DEBUG - Response Body:
b'<?xml version=""1.0"" encoding=""UTF-8""?>\n<Response><Errors><Error><Code>ConcurrentSnapshotLimitExceeded</Code><Message>Maximum number of concurrent snapshots on volume reached.</Message></Error></Errors><RequestID>236f1eb7-a795-40d6-af6a-82a5a60ad7f1</RequestID></Response>'
2015-06-18 15:32:28,572 - botocore.hooks - DEBUG - Event needs-retry.ec2.CreateSnapshot: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0aba780c50>
2015-06-18 15:32:28,572 - botocore.retryhandler - DEBUG - No retry needed.
2015-06-18 15:32:28,573 - botocore.hooks - DEBUG - Event after-call.ec2.CreateSnapshot: calling handler <awscli.errorhandler.ErrorHandler object at 0x7f0abb06ae48>
2015-06-18 15:32:28,573 - awscli.errorhandler - DEBUG - HTTP Response Code: 400
2015-06-18 15:32:28,573 - awscli.clidriver - DEBUG - Exception caught in main()
Traceback (most recent call last):
  File ""/usr/share/awscli/awscli/clidriver.py"", line 187, in main
    return command_tablehttp://parsed_args.command(remaining, parsed_args)
  File ""/usr/share/awscli/awscli/clidriver.py"", line 330, in __call__
    return command_tablehttp://parsed_args.operation(remaining, parsed_globals)
  File ""/usr/share/awscli/awscli/clidriver.py"", line 438, in __call__
    self._operation_object, call_parameters, parsed_globals)
  File ""/usr/share/awscli/awscli/clidriver.py"", line 528, in invoke
    **parameters)
  File ""/usr/lib/python3/dist-packages/botocore/operation.py"", line 82, in call
    parsed=response[1])
  File ""/usr/lib/python3/dist-packages/botocore/session.py"", line 551, in emit
    return self._events.emit(event_name, **kwargs)
  File ""/usr/lib/python3/dist-packages/botocore/hooks.py"", line 158, in emit
    response = handler(**kwargs)
  File ""/usr/share/awscli/awscli/errorhandler.py"", line 75, in __call__
    http_status_code=http_response.status_code)
awscli.errorhandler.ClientError: A client error (ConcurrentSnapshotLimitExceeded) occurred when calling the CreateSnapshot operation: Maximum number of concurrent snapshots on volume reached.
2015-06-18 15:32:28,573 - awscli.clidriver - DEBUG - Exiting with rc 255
A client error (ConcurrentSnapshotLimitExceeded) occurred when calling the CreateSnapshot operation: Maximum number of concurrent snapshots on volume reached.

Screenshot of Dashboard attached.

TIA."
Amazon EC2	"Re: Maximum number of concurrent snapshots on volume reached.
This resolved itself after about 24 hours, so no further action is required."
Amazon EC2	"unable to release elastic ip
For the past several hours I've been unable to release an unused elastic IP through the EC2 Management Console. It simply responds with:

An error occurred while attempting to release the IP address
An internal error has occurred

Of course, not being able to release this IP costs me money..."
Amazon EC2	"Re: unable to release elastic ip
Hi Paul,

I have tried to investigate this for you and I can see you have a total of 3 instances running, each with an Elastic IP Address.

Can you please advise us of the Elastic IP Address you are trying to release and we will have a specialist investigate this for you.

Regards,

Davin G."
Amazon EC2	"Re: unable to release elastic ip
Hi, this is the elastic IP I cannot release: eipalloc-024cc76b"
Amazon EC2	"Re: unable to release elastic ip
Hello,

Thank You for replying back to the forum post. I looked into your account and I would like to confirm few things:


The region where your unused Elastic IP is: us-west-2 
Please confirm the Elastic IP address is: 50.112.152.250
What is the error message you get when you select the EIP and click on Release address ?


Thanks,
Sneha"
Amazon EC2	"Re: unable to release elastic ip
The region is us-west-2.
The IP is 50.112.152.250.
The error message, as stated above, is ""An internal error has occurred""."
Amazon EC2	"Re: unable to release elastic ip
Hello,

Thank You for confirming and apologies for the inconvenience. We will further investigate this internally and get back to you as soon as we have update.

Thanks,
Sneha"
Amazon EC2	"Re: unable to release elastic ip
Has there been any progress on this whatsoever? I mean sure 1/2 cent per hour isn't much, but it IS costing me money to not be able to release this IP address."
Amazon EC2	"Re: unable to release elastic ip
Hi there, 

Could you kindly confirm if you are able to successfully release the EIP? 

Kind regards, 
Belynda"
Amazon EC2	"Re: unable to release elastic ip
Yes, I am now able to release it. Thanks for someone finally getting back to me. With any luck I can hope to see a $1.20 or so credit on my next bill?"
Amazon EC2	"Re: unable to release elastic ip
Hi there, 

Thank you for the confirmation that you were able to release the EIP. 

I have contacted our Accounts and Billing department with regards to the billing thereof. Once we have further information, we will update the forum post. 

Apologies for the long delay in resolving the issue that you have been facing. 

Kind regards, 
Belynda"
Amazon EC2	"Re: unable to release elastic ip
Hello Paul

Your account has been credited. You should be able to see the credit in your console here: https://console.aws.amazon.com/billing/home#/credits 

Please let us know if you need further assistance in this regard.

Regards,
Monique B"
Amazon EC2	"Re: unable to release elastic ip
Hi ,

I am also unable to release the IP addresses. Please release RPTR record if required

    46.51.216.83: The address with allocation id eipalloc-07e6166e cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 5df515c5-78db-4d2a-84ed-d565d71e1b8b)
    46.51.216.238: The address with allocation id eipalloc-dde715b4 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: bad6cf6f-6806-4c62-a387-d65cdd682686)
    46.51.217.150: The address with allocation id eipalloc-6c9a900e cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 2fc09af8-7f96-4f13-84e4-a955bc5748dc)
    46.51.217.180: The address with allocation id eipalloc-b0c71fd9 cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: 4098f061-4ea7-47e7-a6c2-012065c648e5)"
Amazon EC2	"Re: unable to release elastic ip
Hi  support_ie,

Please confirm that you can now release the Elastic IPs.

Regards,
Isaac."
Amazon EC2	"Re: unable to release elastic ip
Hi,

Same problem with me. 

An error occurred while attempting to release the IP addresses
54.232.244.194: The address with allocation id eipalloc-2384424b cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: f3872993-f881-46cd-b80f-054226cce490)

Any help?"
Amazon EC2	"Re: unable to release elastic ip
Hi  lemons263,

You should be able to release the EIP successfully now. May you kindly confirm?

Best regards,

Kuda"
Amazon EC2	"Re: unable to release elastic ip
Ok Kuda

I released the EIP sucessfully.

Thank you"
Amazon EC2	"Re: unable to release elastic ip
I'm having the same problem.

An error occurred while attempting to release the IP addresses

    54.210.82.157: The address with allocation id eipalloc-1abb797f cannot be released because it is locked to your account. Please contact AWS Support to unlock it. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidAddress.Locked; Request ID: dfaaa3cb-cdd6-48bc-8b90-378a8f90c7e9)"
Amazon EC2	"Re: unable to release elastic ip
Hi Keenantims,

I have unlocked your EIP, you should be able to release it now without problems.
May you kindly confirm?

Best regards,

Kuda"
Amazon EC2	"Many DNS errors for last 3 days (Urgent)
Hello!
About 3 days ago our system (Java) started to get the following errors:


com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
...
Caused by: java.net.UnknownHostException: atdb.cufnxkdqvyiz.us-east-1.rds.amazonaws.com


This means that our RDS host name cannot be resolved to its IP address.

I found serveral similar unanswered threads:
https://forums.aws.amazon.com/message.jspa?messageID=567223
https://forums.aws.amazon.com/thread.jspa?messageID=566921&#566921

This was happening very freaquently, but not for all DNS requests.
I have added the RDS IP address to the /etc/hosts, which is not good because in case of RDS failover the actual IP address will be changed, but I had to do this to avoid these errors.

But ysterday, we started getting DNS resolving errors for other domains which are listed in our Route 53 zones:

Jun 11, 2015 9:37:15 PM EDT: java.net.UnknownHostException: online.actitime.com: Name or service not known
Jun 11, 2015 9:25:58 PM EDT: java.net.UnknownHostException: online.actiplans.com: Name or service not known

and similar at

Jun 11, 2015 7:54:56 PM EDT
Jun 11, 2015 7:21:58 PM EDT
Jun 11, 2015 7:01:11 PM EDT
Jun 11, 2015 6:43:26 PM EDT

AWS status page doesn't reflect any problems in DNS or Route 53 service, but our instances are still affected with DNS errors: i-3a3cc417, i-eaf151c7, atdb.cufnxkdqvyiz.us-east-1.rds.amazonaws.com

Could you please check what is wrong with the DNS service, fix it or switch us to another DNS?
Thise errors almost break our system, so please do fix it ASAP.

Thanks in advance,
Egor."
Amazon EC2	"Re: Many DNS errors for last 3 days (Urgent)
Hi!

It is still happening. Here are the results of dig at the time of an error:

Tue Jun 16 11:01:56 EDT 2015

; <<>> DiG 9.8.2rc1-RedHat-9.8.2-0.23.rc1.32.amzn1 <<>> atdb.cufnxkdqvyiz.us-east-1.rds.amazonaws.com
;; global options: +cmd
;; connection timed out; no servers could be reached

What could be the reason of these errors?

Egor.

Edited by: egorich on Jun 17, 2015 1:06 AM"
Amazon EC2	"Re: Many DNS errors for last 3 days (Urgent)
Hi,

We have had this happen to us.
This is a seperate problem to the infrequent DNS lookup problem that can occur with RDS - which seems to be related to the low TTL of those records.

Sometimes the DNS service for an instance becomes unstable. In our case, a few hours after the problem started our instance started to fail instance checks too. Assuming you are using EBS and not ephemeral storage, try stopping and then starting your instance to move it to new hardware. That should cure it."
Amazon EC2	"Compute Credits Zero Out Randomly
I have an EC2 t2.Small instance that I use to run a process every thirty minutes. The process takes between 120 and 200 seconds. It runs fine most of the time and then every once in a while (maybe once a day) it takes over 1000 seconds to complete. When this happens I notice that my Compute credit balance is zero even though they are routinely at or near the 30 credit mark (which is the starting point for t2.Small). Even more surprising is that when I look at compute credit usage, it is always just a few credits each run (not anywhere close to the balance). I turn the machine off and on between runs because under certain conditions I use a different size instance. When I start the instance if was previously at a high level but it seems as though after I start it, the credits are zero.

Any thoughts in this? Why would my balance randomly zero out when my usage is fairly constant and my compute usage is relatively low. I would hate to bump up the machine for something random."
Amazon EC2	"Re: Compute Credits Zero Out Randomly
Hello,

CPU credits are not preserved between stop-starts of an instance. When an instance is stopped, its CPU Credit balance is completely discarded and the next launch will obtain the default number of CPU Credits for that instance type provided it's within the limit on T2 launches per 24-hour period (100 by default). For a t2.small instance, it will start back up with 30 credits minus any CPU credits consumed by CPU utilization during the OS starting up. If you're frequently stop-starting your EC2 instances, you may be better served by an instance class that doesn't use CPU Credits so that you have a consistent baseline performance level that you can rely on for your application.

You can read more about how CPU Credits work in our documentation on the T2 instance class here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html#t2-instances-cpu-credits"
Amazon EC2	"Re: Compute Credits Zero Out Randomly
Understood but if I have something that runs every 30 minutes (24 x 2 = 48 stop/starts per day) what would be causing my dramatic drop (to zero) in my credits when I never use more than a couple on each run? I also have a t2.micro which runs once an hour for 8-10 minutes. It runs a very consistent amount of time to process my data.

I chose the t2.Small because it should be more than enough in terms of compute credits. Ideally I would move to an c4.Large but I am a small (startup) business and am just trying to prove my concept so I can start generating some income. I'll try some tests using the c4 to see if that will work more consistently.

Thanks for the clarification on the max start/stop on a t2. I wasn't aware of that limit."
Amazon EC2	"Re: Compute Credits Zero Out Randomly
Hi,

I have a very similar problem. My CPU credit went from 500 approx to about 50. I couldn't understand why, then I read the document on how CPU credits are calculated and realised it was because I rebooted my instance.

I understand that credits won't be maintained if the instance is switched off but surely they should be maintained or possibly reduced at a faster rate while an instance is being rebooted or temporarily switched off.

This is really annoying, as I was in the middle of an operation and now I'll have to leave it running doing nothing to regain my credits before I can continue working on it.

Please can someone from Amazon have a look at this. I've attached an image of the CPU credit graph.

Thanks"
Amazon EC2	"Re: Compute Credits Zero Out Randomly
As an alternative suggestion why don't you use a non t2 instance type for this workload?

I feel that if you have to spin up the instance and leave it running for longer to accumulate credits, it would make more sense to use a slightly more expensive instance type that doesn't have CPU credits and go back to starting it for 30 minutes when you need it."
Amazon EC2	"One of my server do not respond and can not stop
i-b2dbe164 

this server do not respond for a long time, and when I try to stop it, it stuck on stopping state even try force stop"
Amazon EC2	"Re: One of my server do not respond and can not stop
Hi there,

Your instance was stuck stopping due to a hardware problem. The issue has now been resolved and your instance is in a stopped state. Please feel free to start you instance again. It will launch on new healthy hardware. 

Regards,
Julian H."
Amazon EC2	"See bandwidth usage for Free Tier Usage
The Free Tier says:


15 GB of bandwidth out aggregated across all AWS services
1 GB of Regional Data Transfer


What does they mean? 


15GB upload/download 
Regional Data Transter? What does that mean?


I  have an EC2 instance in US-West. Will there be any bandwidth costs if I use it from other country. Also, how do I monitor these bandwidth costs so that I can make sure I am not being charged?
How do I make sure that I am not being charged of anything?"
Amazon EC2	"Re: See bandwidth usage for Free Tier Usage
The Regional Data Transfer charge applies to data transferred between instances in different availability zones within the same region. Each instance you launch is placed in a specific availability zone. If you launch multiple instances in different zones and transfer data between them on the internal network, you will be charged for any data transfer exceeding 1 GB per month. As you only use a single instance, you don't need to worry about this right now.

All data transfer in to your instance is free of charge. You only pay for data transfer out of your instance in case you exceed the 15 GB included in the free tier. It doesn't matter where you are located.

You can enable billing alerts from the Account Activity page. It is possible to set up alarms for the total estimated charges as well as specific services. The system will automatically send an e-mail when you cross the defined threshold."
Amazon EC2	"Re: See bandwidth usage for Free Tier Usage
I just upgraded my distribution (downloaded latest packages) after starting the instance so I guess it won't be charged. 

Although, it doesn't make sense to me, why would Amazon put no limit for ""inbound"" traffic."
Amazon EC2	"Re: See bandwidth usage for Free Tier Usage
Because they are charged for the capacity of the pipes they maintain to the outside world, not how much they transfer; and as they host servers they're always going to be sending more data than they are receiving. Inbound is therefore ""free"" to them, so it is free to you as well."
Amazon EC2	"Windows Server 2003 support
As I understand it, Windows Server 2003 will not be supported starting next month.  Does this mean that my existing AMIs will no longer work, or just that Windows Server 2003 will no longer be available as an option in the list of available AMIs?

Thanks!"
Amazon EC2	"Re: Windows Server 2003 support
Good day

Your AMIs will still be available and you will still be able to launch Windows 2003 instances. 
We however highly stress migrating to a newer version of Microsoft Windows Server (2008, 2008 R2, 2012 and 2012 R2), if you don't this may put your applications and business at risk, since there may be no security or software updates. 

Please see our online FAQ for further information http://aws.amazon.com/windows/faq/

Best Regards
Imthian R"
Amazon EC2	"Re: Windows Server 2003 support
Hello, how long it will be possible launch in Server  2003?
I really like this version.
grateful."
Amazon EC2	"Re: Windows Server 2003 support
From the FAQ:
==================================
Will I be able to publicly access Windows Server 2003 AMIs from the AWS Console and AWS Marketplace?

Windows Server 2003 AMIs will continue to be published and updated through the August AMI release schedule, and will be removed from the Amazon EC2 quick launch and Marketplace on September 15th, 2015. After September 15th, you will still be able to search for the published AMIs by following the instructions on this page.
==================================

So, after September 15th, you should be able to continue to  find Amazon provided 2003 AMIs for some time. However, if this is a concern, I would recommend creating your own custom AMI so that you can continue to launch 2003.

Regards,"
Amazon EC2	"Protections in windows server 2003
Hello, how can I disable the protections in windows server 2003 for example can update drivers and put photo in desktop background?
Grateful."
Amazon EC2	"Instance suddenly unreachable, status checks PASS
I have an instance that stopped being reachable a few hours ago (i-43a3938b). Changing security groups, rebooting, etc do nothing, and I am unable to connect to the instance via any method.

I tried attaching the volume to another instance and running fsck on it - but that doesn't appear to have made a difference either. Unlike other topics I've found on unreachable instances, the status checks on this instance are healthy and no changes have been made to the instance any time recently, so I'm hard pressed to come up with any reason the instance might be unreachable.

Is there any chance someone at Amazon could take a look at this and point me in the right direction?

Edited by: contexture on Jun 18, 2015 10:09 AM"
Amazon EC2	"Re: Instance suddenly unreachable, status checks PASS
Somehow, it looks like the instance itself broke, and the volume is fine. No matter what volume I mounted to the unreachable instance, it remained unreachable. This led to me believe there was an instance problem, not a volume problem.

To solve this issue..

1. I created a new instance.
2. I stopped the unreachable instance and detached it's volume.
3. I attached the volume to the new instance.
4. I started the new instance.

And just like that, everything is back up and running. Weird."
Amazon EC2	"System Time Keeps Resetting to 5 Minutes Slow
I have a Windows server in EC2 that keeps resetting its time back to about 5 minutes slow.  When it's 2:10 PM on all my other computers and our other EC2 servers, it is 2:05 PM on that server.  It is set to synchronize with time.windows.com (the default for a new Windows install).  If I force it to sync, I see the time jump back to the correct time, but a few minutes later the time will jump back to 5 minutes slow.

This is causing API calls that require a timestamp to fail, impacting the operation of the server.

I think this is a problem with the underlying hardware.  Whenever the time resets back to the wrong time, it is accompanied by an entry in the system log like the following:

The system time has changed to â€Ž2015â€Ž-â€Ž06â€Ž-â€Ž18T18:48:03.500000000Z from â€Ž2015â€Ž-â€Ž06â€Ž-â€Ž18T18:53:38.663690100Z.

Change Reason: System time synchronized with the hardware clock.

Any ideas on how to resolve this without taking the instance out of service to try to start back up on different hardware?  Can I disable the sync with the hardware clock, since the server will already sync w/ an NTP time server anyway?  (The two appear to be fighting, setting the system time forward then backward each time one syncs)."
Amazon EC2	"EC2 micro instance, windows 2008, windows updates?
On an EC2 micro instance running windows 2008 server, are windows updates automatically taken care of? Or do I need to manually run windows update? I couldn't find anything on this via google but I'm sure it's out there."
Amazon EC2	"Re: EC2 micro instance, windows 2008, windows updates?
Hello kalpa x,

As per the Windows AMI documentation ""You can use the Windows Update service, or the Automatic Updates tool available on your instance to deploy Microsoft updates to your instance."" - http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/AMIs.html

Automatic updates are not set up by default. 

I hope this answer your question but please let me know if you need anything further.

Regards,
Anthony H."
Amazon EC2	"Re: EC2 micro instance, windows 2008, windows updates?
Yes it does answer my question, thanks."
Amazon EC2	"Re: EC2 micro instance, windows 2008, windows updates?
I have an issue doing Windows Updates. I go into the Windows Updates and there are 5 to do. Click to begin and it says downloading. However never makes it past 0%! I even tried restarting the VPS instance and trying again doing only one update. Still 0%...  I'm able to open Internet Explorer so I don't think it's a connectivity issue............... any suggestions appreciated."
Amazon EC2	"Announcing pgTAP Support for Amazon Linux
pgTAP is a PostgreSQL database testing tool. We are happy to announce that we have pushed pgTAP package into EPLL Repository.

For more details please see our blog post at,
https://lambda-linux.io/blog/2015/06/18/announcing-pgtap-support-for-amazon-linux/

Thank you for using Lambda Linux packages and being part of our open-source community.

Sincerely,
Lambda Linux Project Team"
Amazon EC2	"Error Log has ""failed to execute '/lib/udev/input_id""
For several EC2 instances in a row, my error log states ""failed to execute '/lib/udev/input_id"". Any suggestions? What am I missing? 


System Log: i-431f20b5 (OSMS Production)
http://    0.000000 Initializing cgroup subsys cpuset
http://    0.000000 Initializing cgroup subsys cpu
http://    0.000000 Initializing cgroup subsys cpuacct
http://    0.000000 Linux version 3.14.35-28.38.amzn1.x86_64 (mockbuild@gobi-build-64012) (gcc version 4.8.2 20140120 (Red Hat 4.8.2-16) (GCC) ) #1 SMP Wed Mar 11 22:50:37 UTC 2015
http://    0.000000 Command line: root=LABEL=/ console=ttyS0 
http://    0.000000 e820: BIOS-provided physical RAM map:
http://    0.000000 BIOS-e820: mem 0x0000000000000000-0x000000000009dfff usable
http://    0.000000 BIOS-e820: mem 0x000000000009e000-0x000000000009ffff reserved
http://    0.000000 BIOS-e820: mem 0x00000000000e0000-0x00000000000fffff reserved
http://    0.000000 BIOS-e820: mem 0x0000000000100000-0x000000003fffffff usable
http://    0.000000 BIOS-e820: mem 0x00000000fc000000-0x00000000ffffffff reserved
http://    0.000000 NX (Execute Disable) protection: active
http://    0.000000 SMBIOS 2.4 present.
http://    0.000000 Hypervisor detected: Xen HVM
http://    0.000000 Xen version 4.2.
http://    0.000000 Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
http://    0.000000 Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
http://    0.000000 You might have to change the root device
http://    0.000000 from /dev/hda-d to /dev/xvda-d
http://    0.000000 in your root= kernel command line option
http://    0.000000 No AGP bridge found
http://    0.000000 e820: last_pfn = 0x40000 max_arch_pfn = 0x400000000
http://    0.000000 x86 PAT enabled: cpu 0, old 0x7040600070406, new 0x7010600070106
http://    0.000000 found SMP MP-table at mem 0x000fbba0-0x000fbbaf mapped at ffff8800000fbba0
http://    0.000000 init_memory_mapping: mem 0x00000000-0x000fffff
http://    0.000000 init_memory_mapping: mem 0x3fe00000-0x3fffffff
http://    0.000000 init_memory_mapping: mem 0x3c000000-0x3fdfffff
http://    0.000000 init_memory_mapping: mem 0x00100000-0x3bffffff
http://    0.000000 RAMDISK: mem 0x3724e000-0x37feffff
http://    0.000000 ACPI: RSDP 00000000000ea020 000024 (v02    Xen)
http://    0.000000 ACPI: XSDT 00000000fc00f5a0 000054 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: FACP 00000000fc00f260 0000F4 (v04    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: DSDT 00000000fc0035e0 00BBF6 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: FACS 00000000fc0035a0 000040
http://    0.000000 ACPI: APIC 00000000fc00f360 0000D8 (v02    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: HPET 00000000fc00f4b0 000038 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: WAET 00000000fc00f4f0 000028 (v01    Xen      HVM 00000000 HVML 00000000)
http://    0.000000 ACPI: SSDT 00000000fc00f520 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 ACPI: SSDT 00000000fc00f560 000031 (v02    Xen      HVM 00000000 INTL 20090123)
http://    0.000000 No NUMA configuration found
http://    0.000000 Faking a node at mem 0x0000000000000000-0x000000003fffffff
http://    0.000000 Initmem setup node 0 mem 0x00000000-0x3fffffff
http://    0.000000   NODE_DATA mem 0x3ffd9000-0x3fffffff
http://    0.000000 Zone ranges:
http://    0.000000   DMA      mem 0x00001000-0x00ffffff
http://    0.000000   DMA32    mem 0x01000000-0xffffffff
http://    0.000000   Normal   empty
http://    0.000000 Movable zone start for each node
http://    0.000000 Early memory node ranges
http://    0.000000   node   0: mem 0x00001000-0x0009dfff
http://    0.000000   node   0: mem 0x00100000-0x3fffffff
http://    0.000000 ACPI: PM-Timer IO Port: 0xb008
http://    0.000000 ACPI: LAPIC (acpi_id0x00 lapic_id0x00 enabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x01 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x02 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x03 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x04 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x05 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x06 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x07 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x08 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x09 lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0a lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0b lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0c lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0d lapic_id0x00 disabled)
http://    0.000000 ACPI: LAPIC (acpi_id0x0e lapic_id0x00 disabled)
http://    0.000000 ACPI: IOAPIC (id0x01 address0xfec00000 gsi_base[0])
http://    0.000000 IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-47
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 low level)
http://    0.000000 ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 low level)
http://    0.000000 Using ACPI (MADT) for SMP configuration information
http://    0.000000 ACPI: HPET id: 0x8086a201 base: 0xfed00000
http://    0.000000 smpboot: Allowing 15 CPUs, 14 hotplug CPUs
http://    0.000000 e820: mem 0x40000000-0xfbffffff available for PCI devices
http://    0.000000 Booting paravirtualized kernel on Xen HVM
http://    0.000000 setup_percpu: NR_CPUS:64 nr_cpumask_bits:64 nr_cpu_ids:15 nr_node_ids:1
http://    0.000000 PERCPU: Embedded 27 pages/cpu @ffff88003fc00000 s79104 r8192 d23296 u131072
http://    0.000000 Built 1 zonelists in Node order, mobility grouping on.  Total pages: 257928
http://    0.000000 Policy zone: DMA32
http://    0.000000 Kernel command line: root=LABEL=/ console=ttyS0 
http://    0.000000 PID hash table entries: 4096 (order: 3, 32768 bytes)
http://    0.000000 xsave: enabled xstate_bv 0x7, cntxt size 0x340
http://    0.000000 Checking aperture...
http://    0.000000 No AGP bridge found
http://    0.000000 Memory: 1001792K/1048180K available (4713K kernel code, 843K rwdata, 2168K rodata, 1088K init, 1704K bss, 46388K reserved)
http://    0.000000 SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=15, Nodes=1
http://    0.000000 Hierarchical RCU implementation.
http://    0.000000 	Additional per-CPU info printed with stalls.
http://    0.000000 	RCU restricting CPUs from NR_CPUS=64 to nr_cpu_ids=15.
http://    0.000000 RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=15
http://    0.000000 NR_IRQS:4352 nr_irqs:1208 16
http://    0.000000 xen:events: Using 2-level ABI
http://    0.000000 xen:events: Xen HVM callback vector for event delivery is enabled
http://    0.000000 Console: colour VGA+ 80x25
http://    0.000000 console ttyS0 enabled
http://    0.000000 allocated 4194304 bytes of page_cgroup
http://    0.000000 please try 'cgroup_disable=memory' option if you don't want memory cgroups
http://    0.000000 tsc: Detected 2494.052 MHz processor
http://    0.008000 Calibrating delay loop (skipped), value calculated using timer frequency.. 4988.10 BogoMIPS (lpj=9976208)
http://    0.008000 pid_max: default: 32768 minimum: 301
http://    0.008012 ACPI: Core revision 20131218
http://    0.013291 ACPI: All ACPI Tables successfully acquired
http://    0.015569 Security Framework initialized
http://    0.016090 Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)
http://    0.020224 Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)
http://    0.023082 Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)
http://    0.024005 Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes)
http://    0.028162 Initializing cgroup subsys memory
http://    0.029966 Initializing cgroup subsys devices
http://    0.032004 Initializing cgroup subsys freezer
http://    0.033741 Initializing cgroup subsys net_cls
http://    0.036004 Initializing cgroup subsys blkio
http://    0.037712 Initializing cgroup subsys perf_event
http://    0.039622 Initializing cgroup subsys hugetlb
http://    0.040071 CPU: Physical Processor ID: 0
http://    0.044034 mce: CPU supports 2 MCE banks
http://    0.046084 Last level iTLB entries: 4KB 512, 2MB 8, 4MB 8
http://    0.046084 Last level dTLB entries: 4KB 512, 2MB 0, 4MB 0, 1GB 4
http://    0.046084 tlb_flushall_shift: 6
http://    0.063071 ftrace: allocating 18769 entries in 74 pages
http://    0.080114 Switched APIC routing to physical flat.
http://    0.086473 ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
http://    0.129962 smpboot: CPU0: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz (fam: 06, model: 3e, stepping: 04)
http://    0.133408 installing Xen timer for CPU 0
http://    0.135211 cpu 0 spinlock event irq 69
http://    0.137013 Performance Events: unsupported p6 CPU model 62 no PMU driver, software events only.
http://    0.140827 x86: Booted up 1 node, 1 CPUs
http://    0.142488 smpboot: Total of 1 processors activated (4988.10 BogoMIPS)
http://    0.144487 devtmpfs: initialized
http://    0.148672 NET: Registered protocol family 16
http://    0.150822 cpuidle: using governor ladder
http://    0.152008 cpuidle: using governor menu
http://    0.153610 ACPI: bus type PCI registered
http://    0.155251 acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
http://    0.156311 PCI: Using configuration type 1 for base access
http://    0.160489 bio: create slab <bio-0> at 0
http://    0.162342 ACPI: Added _OSI(Module Device)
http://    0.164011 ACPI: Added _OSI(Processor Device)
http://    0.165877 ACPI: Added _OSI(3.0 _SCP Extensions)
http://    0.167916 ACPI: Added _OSI(Processor Aggregator Device)
http://    0.171175 ACPI: Interpreter enabled
http://    0.172012 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S1_ (20131218/hwxface-580)
http://    0.175788 ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State _S2_ (20131218/hwxface-580)
http://    0.178335 ACPI: (supports S0 S3 S5)
http://    0.179832 ACPI: Using IOAPIC for interrupt routing
http://    0.180085 PCI: Using host bridge windows from ACPI; if necessary, use ""pci=nocrs"" and report a bug
http://    0.246076 ACPI: PCI Root Bridge PCI0 (domain 0000 bus 00-ff)
http://    0.248011 acpi PNP0A03:00: _OSC: OS supports Segments MSI
http://    0.250589 acpi PNP0A03:00: _OSC failed (AE_NOT_FOUND); disabling ASPM
http://    0.252063 acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
http://    0.256713 acpiphp: Slot [0] registered
http://    0.259298 acpiphp: Slot [3] registered
http://    0.260320 acpiphp: Slot [4] registered
http://    0.262214 acpiphp: Slot [5] registered
http://    0.264096 acpiphp: Slot [6] registered
http://    0.266046 acpiphp: Slot [7] registered
http://    0.267878 acpiphp: Slot [8] registered
http://    0.268332 acpiphp: Slot [9] registered
http://    0.270238 acpiphp: Slot 10 registered
http://    0.272104 acpiphp: Slot 11 registered
http://    0.274017 acpiphp: Slot 12 registered
http://    0.276000 acpiphp: Slot 13 registered
http://    0.276266 acpiphp: Slot 14 registered
http://    0.278237 acpiphp: Slot 15 registered
http://    0.280079 acpiphp: Slot 16 registered
http://    0.282013 acpiphp: Slot 17 registered
http://    0.283987 acpiphp: Slot 18 registered
http://    0.284278 acpiphp: Slot 19 registered
http://    0.286241 acpiphp: Slot 20 registered
http://    0.288073 acpiphp: Slot 21 registered
http://    0.290034 acpiphp: Slot 22 registered
http://    0.292098 acpiphp: Slot 23 registered
http://    0.293957 acpiphp: Slot 24 registered
http://    0.295828 acpiphp: Slot 25 registered
http://    0.296278 acpiphp: Slot 26 registered
http://    0.298230 acpiphp: Slot 27 registered
http://    0.300072 acpiphp: Slot 28 registered
http://    0.302011 acpiphp: Slot 29 registered
http://    0.303942 acpiphp: Slot 30 registered
http://    0.304285 acpiphp: Slot 31 registered
http://    0.306173 PCI host bridge to bus 0000:00
http://    0.307864 pci_bus 0000:00: root bus resource bus 00-ff
http://    0.308009 pci_bus 0000:00: root bus resource io  0x0000-0x0cf7
http://    0.310716 pci_bus 0000:00: root bus resource io  0x0d00-0xffff
http://    0.312009 pci_bus 0000:00: root bus resource mem 0x000a0000-0x000bffff
http://    0.314727 pci_bus 0000:00: root bus resource mem 0xf0000000-0xfbffffff
http://    0.321486 * Found PM-Timer Bug on the chipset. Due to workarounds for a bug,
http://    0.321486 * this clock source is slow. Consider trying other clock sources
http://    0.325025 pci 0000:00:01.3: quirk: io  0xb000-0xb03f claimed by PIIX4 ACPI
http://    0.333753 ACPI: PCI Interrupt Link LNKA (IRQs *5 10 11)
http://    0.336570 ACPI: PCI Interrupt Link LNKB (IRQs 5 *10 11)
http://    0.339477 ACPI: PCI Interrupt Link LNKC (IRQs 5 10 *11)
http://    0.340885 ACPI: PCI Interrupt Link LNKD (IRQs *5 10 11)
http://    0.358416 ACPI: Enabled 2 GPEs in block 00 to 0F
http://    0.360084 xen:balloon: Initialising balloon driver
http://    0.364138 vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none
http://    0.368011 vgaarb: loaded
http://    0.369141 vgaarb: bridge control possible 0000:00:02.0
http://    0.371347 PCI: Using ACPI for IRQ routing
http://    0.372589 NetLabel: Initializing
http://    0.374059 NetLabel:  domain hash size = 128
http://    0.375920 NetLabel:  protocols = UNLABELED CIPSOv4
http://    0.376023 NetLabel:  unlabeled traffic allowed by default
http://    0.378273 HPET: 3 timers in total, 0 timers will be used for per-cpu timer
http://    0.380023 hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
http://    0.382292 hpet0: 3 comparators, 64-bit 62.500000 MHz counter
http://    0.387078 Switched to clocksource xen
http://    0.389985 pnp: PnP ACPI init
http://    0.391433 ACPI: bus type PNP registered
http://    0.393232 system 00:00: mem 0x00000000-0x0009ffff could not be reserved
http://    0.396455 system 00:02: io  0x08a0-0x08a3 has been reserved
http://    0.398964 system 00:02: io  0x0cc0-0x0ccf has been reserved
http://    0.401501 system 00:02: io  0x04d0-0x04d1 has been reserved
http://    0.404262 system 00:0a: io  0x10c0-0x1141 has been reserved
http://    0.406676 system 00:0a: io  0xb044-0xb047 has been reserved
http://    0.425016 pnp: PnP ACPI: found 11 devices
http://    0.426747 ACPI: bus type PNP unregistered
http://    0.435307 NET: Registered protocol family 2
http://    0.437434 TCP established hash table entries: 8192 (order: 4, 65536 bytes)
http://    0.440336 TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
http://    0.443008 TCP: Hash tables configured (established 8192 bind 8192)
http://    0.445633 TCP: reno registered
http://    0.446985 UDP hash table entries: 512 (order: 2, 16384 bytes)
http://    0.449496 UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
http://    0.452175 NET: Registered protocol family 1
http://    0.454015 pci 0000:00:00.0: Limiting direct PCI/PCI transfers
http://    0.456403 pci 0000:00:01.0: PIIX3: Enabling Passive Release
http://    0.458866 pci 0000:00:01.0: Activating ISA DMA hang workarounds
http://    0.461641 Unpacking initramfs...
http://    0.658883 Freeing initrd memory: 13960K (ffff88003724e000 - ffff880037ff0000)
http://    0.662944 futex hash table entries: 4096 (order: 6, 262144 bytes)
http://    0.665594 audit: initializing netlink subsys (disabled)
http://    0.667839 audit: type=2000 audit(1434139052.492:1): initialized
http://    0.685565 bounce pool size: 64 pages
http://    0.687119 HugeTLB registered 2 MB page size, pre-allocated 0 pages
http://    0.691715 zbud: loaded
http://    0.692909 VFS: Disk quotas dquot_6.5.2
http://    0.694597 Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
http://    0.697590 msgmni has been set to 1983
http://    0.699585 alg: No test for stdrng (krng)
http://    0.701383 Key type asymmetric registered
http://    0.703333 Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
http://    0.706845 io scheduler noop registered (default)
http://    0.709003 pci_hotplug: PCI Hot Plug PCI Core version: 0.5
http://    0.711754 xen:grant_table: Grant tables using version 1 layout
http://    0.714381 Grant table initialized
http://    0.716301 Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
http://    0.745236 00:09: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
http://    0.760126 xen_netfront: Initialising Xen virtual ethernet driver
http://    0.783293 i8042: PNP: PS/2 Controller PNP0303:PS2K,PNP0f13:PS2M at 0x60,0x64 irq 1,12
http://    0.788722 serio: i8042 KBD port at 0x60,0x64 irq 1
http://    0.791215 serio: i8042 AUX port at 0x60,0x64 irq 12
http://    0.793648 mousedev: PS/2 mouse device common for all mice
http://    0.796674 input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
http://    0.800556 hidraw: raw HID events driver (C) Jiri Kosina
http://    0.802954 TCP: cubic registered
http://    0.804328 NET: Registered protocol family 17
http://    0.806389 registered taskstats version 1
http://    0.823325 blkfront: xvda: barrier or flush: disabled; persistent grants: disabled; indirect descriptors: enabled;
http://    0.841220  xvda: xvda1
http://    0.908071 xenbus_probe_frontend: Device with no driver: device/vfb/0
http://    0.912261 Freeing unused kernel memory: 1088K (ffffffff81ad4000 - ffffffff81be4000)
http://    0.915590 Write protecting the kernel read-only data: 10240k
http://    0.921052 Freeing unused kernel memory: 1420K (ffff88000149d000 - ffff880001600000)
http://    0.928384 Freeing unused kernel memory: 1928K (ffff88000181e000 - ffff880001a00000)
http://    0.944477 device-mapper: uevent: version 1.0.3
http://    0.946575 device-mapper: ioctl: 4.27.0-ioctl (2013-10-30) initialised: dm-devel@redhat.com
http://    0.953834 udevd779: starting version 173
udevd1137: failed to execute '/lib/udev/input_id' 'input_id /devices/platform/i8042/serio0/input/input0': No such file or directory

udevd1207: failed to execute '/lib/udev/input_id' 'input_id /devices/virtual/input/mice': No such file or directory

growroot: NOCHANGE: disk=/dev/xvda partition=1: size=16773086, it cannot be grown
http://    1.179634 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.214212 dracut: Remounting /dev/disk/by-label/\x2f with -o noatime,ro
http://    1.222025 EXT4-fs (xvda1): mounted filesystem with ordered data mode. Opts: (null)
http://    1.228523 dracut: Mounted root filesystem /dev/xvda1
http://    1.254955 dracut: Switching root
http://    1.438701 random: init urandom read with 57 bits of entropy available
image_name=""amzn-ami-hvm""
image_version=""2015.03""
image_arch=""x86_64""
image_file=""amzn-ami-hvm-2015.03.0.x86_64.ext4.gpt""
image_stamp=""366c-fff6""
image_date=""20150318153038""
recipe_name=""amzn ami""
recipe_id=""1c207c1f-6186-b5c9-4e1b-9400-c2d8-a3b2-3d11fdf8""
http://    1.660093 tsc: Refined TSC clocksource calibration: 2493.990 MHz
		Welcome to Amazon Linux AMI
Starting udev: http://    2.862943 udevd1398: starting version 173
http://    3.002708 input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input2
http://    3.007474 ACPI: Power Button PWRF
http://    3.009729 input: Sleep Button as /devices/LNXSYSTM:00/LNXSLPBN:00/input/input3
http://    3.013681 ACPI: Sleep Button SLPF
http://    3.017346 piix4_smbus 0000:00:01.3: SMBus base address uninitialized - upgrade BIOS or use force_addr=0xaddr
http://    4.063362 input: ImExPS/2 Generic Explorer Mouse as /devices/platform/i8042/serio1/input/input4
http://    5.621955 random: nonblocking pool is initialized
  OK  

Setting hostname localhost.localdomain:    OK  

Setting up Logical Volume Management:   No volume groups found
  OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1 
/: clean, 34425/524288 files, 300657/2096635 blocks
  OK  

Remounting root filesystem in read-write mode:  http://    6.092662 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:    OK  

Enabling /etc/fstab swaps:    OK  

Entering non-interactive startup
http://    6.346799 NET: Registered protocol family 10
Bringing up loopback interface:    OK  

Bringing up interface eth0:  
Determining IP information for eth0... done.
  OK  

Starting auditd: http://   12.555746 audit: type=1305 audit(1434139064.380:2): audit_pid=1915 old=0 auid=4294967295 ses=4294967295 res=1
  OK  

Starting system logger:   OK  

Starting irqbalance:   OK  

Starting rngd:   OK  

Starting system message bus:   OK  

Mounting filesystems:    OK  

Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'init-local' at Fri, 12 Jun 2015 19:57:45 +0000. Up 13.71 seconds.
Starting cloud-init: Cloud-init v. 0.7.6 running 'init' at Fri, 12 Jun 2015 19:57:45 +0000. Up 13.91 seconds.
ci-info: +++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up     Address          Mask          Hw-Address    
ci-info:    lo    True   127.0.0.1      255.0.0.0            .         
ci-info:   eth0   True  172.31.16.79  255.255.240.0  06:53:c2:16:9f:85 
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags 
ci-info:    0        0.0.0.0      172.31.16.1      0.0.0.0         eth0      UG  
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH  
ci-info:    2      172.31.16.0      0.0.0.0     255.255.240.0      eth0      U   
Generating public/private rsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_rsa_key.
Your public key has been saved in /etc/ssh/ssh_host_rsa_key.pub.
The key fingerprint is:

The key's randomart image is:
-- RSA 2048----
|      .=O== .. ==|
|      . .@o+. oEo|
|          *o   .o|
|         .      .|
|        S        |
|                 |
|                 |
|                 |
|                 |
-----------------
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:

The key's randomart image is:
-- DSA 1024----
|            .o***|
|            .E...|
|            .... |
|              =. |
|        S    o o.|
|         o  . .. |
|          o  . ..|
|          ..o   .|
|         .o=.    |
-----------------
Generating public/private ecdsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_ecdsa_key.
Your public key has been saved in /etc/ssh/ssh_host_ecdsa_key.pub.
The key fingerprint is:
The key's randomart image is:
--ECDSA  256---
|                 |
|                 |
|        E        |
|     .   * o     |
|      o S B .    |
|       o + o o   |
|        o o o o  |
|         =.= +   |
|         .B+=    |
-----------------
Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:config' at Fri, 12 Jun 2015 19:57:46 +0000. Up 15.12 seconds.
Loaded plugins: priorities, update-motd, upgrade-helper
Metadata Cache Created
Loaded plugins: priorities, update-motd, upgrade-helper
4 package(s) needed (+0 related) for security, out of 51 available
Resolving Dependencies
--> Running transaction check
---> Package freetype.x86_64 0:2.3.11-14.13.amzn1 will be updated
---> Package freetype.x86_64 0:2.3.11-15.14.amzn1 will be an update
---> Package java-1.7.0-openjdk.x86_64 1:1.7.0.75-2.5.4.0.53.amzn1 will be updated
---> Package java-1.7.0-openjdk.x86_64 1:1.7.0.79-2.5.5.1.59.amzn1 will be an update
---> Package ntp.x86_64 0:4.2.6p5-27.23.amzn1 will be updated
---> Package ntp.x86_64 0:4.2.6p5-30.24.amzn1 will be an update
---> Package ntpdate.x86_64 0:4.2.6p5-27.23.amzn1 will be updated
---> Package ntpdate.x86_64 0:4.2.6p5-30.24.amzn1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package             Arch    Version                        Repository     Size
================================================================================
Updating:
 freetype            x86_64  2.3.11-15.14.amzn1             amzn-updates  398 k
 java-1.7.0-openjdk  x86_64  1:1.7.0.79-2.5.5.1.59.amzn1    amzn-updates   32 M
 ntp                 x86_64  4.2.6p5-30.24.amzn1            amzn-updates  650 k
 ntpdate             x86_64  4.2.6p5-30.24.amzn1            amzn-updates   87 k

Transaction Summary
================================================================================
Upgrade  4 Packages

Total download size: 33 M
Downloading packages:

Total                                               69 MB/s |  33 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : freetype-2.3.11-15.14.amzn1.x86_64                           1/8 
  Updating   : ntpdate-4.2.6p5-30.24.amzn1.x86_64                           2/8 
  Updating   : ntp-4.2.6p5-30.24.amzn1.x86_64                               3/8 
  Updating   : 1:java-1.7.0-openjdk-1.7.0.79-2.5.5.1.59.amzn1.x86_64        4/8 
  Cleanup    : ntp-4.2.6p5-27.23.amzn1.x86_64                               5/8 
  Cleanup    : 1:java-1.7.0-openjdk-1.7.0.75-2.5.4.0.53.amzn1.x86_64        6/8 
  Cleanup    : freetype-2.3.11-14.13.amzn1.x86_64                           7/8 
  Cleanup    : ntpdate-4.2.6p5-27.23.amzn1.x86_64                           8/8 
  Verifying  : 1:java-1.7.0-openjdk-1.7.0.79-2.5.5.1.59.amzn1.x86_64        1/8 
  Verifying  : ntpdate-4.2.6p5-30.24.amzn1.x86_64                           2/8 
  Verifying  : ntp-4.2.6p5-30.24.amzn1.x86_64                               3/8 
  Verifying  : freetype-2.3.11-15.14.amzn1.x86_64                           4/8 
  Verifying  : 1:java-1.7.0-openjdk-1.7.0.75-2.5.4.0.53.amzn1.x86_64        5/8 
  Verifying  : freetype-2.3.11-14.13.amzn1.x86_64                           6/8 
  Verifying  : ntpdate-4.2.6p5-27.23.amzn1.x86_64                           7/8 
  Verifying  : ntp-4.2.6p5-27.23.amzn1.x86_64                               8/8 

Updated:
  freetype.x86_64 0:2.3.11-15.14.amzn1                                          
  java-1.7.0-openjdk.x86_64 1:1.7.0.79-2.5.5.1.59.amzn1                         
  ntp.x86_64 0:4.2.6p5-30.24.amzn1                                              
  ntpdate.x86_64 0:4.2.6p5-30.24.amzn1                                          

Complete!
Generating SSH1 RSA host key:   OK  

Starting sshd:   OK  

ntpdate: Synchronizing with time server:   OK  

Starting ntpd:   OK  

Starting sendmail:   OK  

Starting sm-client:   OK  

Starting crond:   OK  

Starting atd:   OK  

Starting cloud-init: Cloud-init v. 0.7.6 running 'modules:final' at Fri, 12 Jun 2015 19:58:06 +0000. Up 34.01 seconds.
ci-info: ++Authorized keys from /home/ec2-user/.ssh/authorized_keys for user ec2-user+++
ci-info:  Keytype                 Fingerprint (md5)                 Options   Comment   
ci-info:  ssh-rsa      -     MoodleTest 
ec2: 
ec2: #############################################################
ec2: -----BEGIN SSH HOST KEY FINGERPRINTS-----

ec2: -----END SSH HOST KEY FINGERPRINTS-----
ec2: #############################################################
-----BEGIN SSH HOST KEY KEYS-----

-----END SSH HOST KEY KEYS-----
Jun 12 19:58:06 cloud-init2211: templater.pyWARNING: Cheetah not available as the default renderer for unknown template, reverting to the basic renderer.
Cloud-init v. 0.7.6 finished at Fri, 12 Jun 2015 19:58:06 +0000. Datasource DataSourceEc2.  Up 34.18 seconds

Amazon Linux AMI release 2015.03
Kernel 3.14.35-28.38.amzn1.x86_64 on an x86_64

ip-172-31-16-79 login:"
Amazon EC2	"Re: Error Log has ""failed to execute '/lib/udev/input_id""
Thank you for reporting this issue.

What's happening is that the initramfs prepared by dracut contains udev rules that refer to the input_id helper program, but does not contain that program.

This is harmless, though the error messages are distracting. We'll look into a fix."
Amazon EC2	"Instance unaccessible after upgrading to 2015-03 version
After running ""sudo yum update"" to install the latest version, my instance became unreachable.

Instance ID: i-888611ba

The error message was ""FATAL: kernel too old"", it seems to related to Kernel ID, but I don't know which Kernel should I use after upgrading.

Anybody can help me?

Thanks."
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
In the documentaion, it said

Use the following procedure:
    Stop the instance.
    Modify the configuration to use a newer kernel.
    Start the instance.

But I don't know which newer kernel I should use. I tried some, but none of them worked for me. Plus there are hundreds of kernel IDs to choose from, and a lot of them have very similar or the same names. 

There should be a better way to find the correct AKI."
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
I had the same issue a couple of years ago.
From my experience, the fastest solution is:


Stop the instance.
Start another, fresh instance
Attach a volume created from snapshot from the root volume of that old instance to the new instance
Copy over missing configuration and files
Use your new instance from now
Terminate your old instance"
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
Hello, tabbsta,

Thanks for your sharing your experience. 

I guess it's doable. 

However, If this is the only way to do it, I will be very scared of using AWS EC2 from now. 
Luckily, the instance that is experiencing this problem is one of our slave server. I cannot imagine what if our production web server have the same problem. 

It has been for 2 days, and my instance keeps being unreachable.

No AWS guy can help me in the forum?"
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
Don't how I marked it as answered or who marked it as answered."
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
I followed  tabbsta's instructions. It seems that is the only way to do it."
Amazon EC2	"Re: Instance unaccessible after upgrading to 2015-03 version
Your custom AMI specifies an AKI that maps to an older Ubuntu 2.6.32 kernel. Most likely during the update you pulled in a newer glibc which requires a more recent kernel; this is a build time option for glibc.

If you are using the Amazon Linux AMI repositories, note that in 2015.03 we changed our glibc build to enable features that require a 2.6.35 kernel, which corresponds to the earliest version of the kernel that we've shipped.

I agree that the AKI selection process is rather opaque. Fortunately, for nearly all customers there is a much better solution: use the PV-GRUB AKIs whenever registering a PV AMI. This allows the instance to manage the running kernel, instead of hard-coding a particular version to be used.

The PV-GRUB documentation here should help you find the correct AKI:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UserProvidedKernels.html

When applying OS updates, it is very common for the GRUB configuration to be updated automatically to point to newly installed kernels. So in most cases you should be able to stop an existing instance, change the AKI to the correct PV-GRUB AKI (either 32-bit or 64-bit), and start the instance again."
Amazon EC2	"Newbie Question - Losing my Temporary Data (Obviously)
Hi there,

Apologies - I'm sure this question has been answered before, but the answers I found were a little too technical for me.

Just spun up our org's first server - first time I've used AWS. It has been working well so far, but I'm having issues with how the memory stores certain things. I have 30 gigs of 'stable' storage which survives an 'on/off'. Only problem is that this is almost entirely full - about 2 gigs space having bought te server yesterday.

There is also 80 gigs of temporary storage - but anything I save here dies after an 'on/off', which for our purposes is completely useless.

Am I doing something wrong? Have I spun up the wrong type of instance?

Thanks,"
Amazon EC2	"Re: Newbie Question - Losing my Temporary Data (Obviously)
Hi,

Permanent storage needs to be saved onto EBS Volumes, which is what your 30GB sounds like you have.  The instance you have selected probably has the Operating Systems installed on this volume so you need to bear in mind that actual usuable storage for this instance might not be as much as you thought. 

You can either create another EBS Volume and attach to your EC2 instance, or select a larger instance with a larger volume size.  However if you dont need the additional processing power of a larger instance then it might be cheaper to just add an additional volume.

The below may help:
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-volume.html
http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"Re: Newbie Question - Losing my Temporary Data (Obviously)
Thank you!"
Amazon EC2	"Autoscaling default EC2 termination behaviour
I have the auto-scaling group across 3 availability zones, and has 6 instances running across the zones. I have configured a cloud watch to terminate if the CPU loads comes below 40%, so when auto scaling terminates and EC2 instances, is that auto scaling terminates the instance with the least active network connections or selecting the instances randomly or terminate the instance in the availability zone which has 3 running ec2 instances. I am not sure on what priority basis autoscaling terminates the instances. Can any one help me on the same."
Amazon EC2	"Re: Autoscaling default EC2 termination behaviour
Hi,

This explains it nicely:

http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/AutoScalingBehavior.InstanceTermination.html

Hope this helps,

Cheers,

Stooby..."
Amazon EC2	"d2.xlarge incompatible with RightImage Centos AMIs?
Editing as I've solved this. d2 instances won't launch with the instance-store backed amis I was trying - the EBS-backed amis worked though.

Choosing d2.xlarge (or d2.2xlarge) with RightImage CentOS 6 community AMIs, the instance fails to launch, with
State transition reason:  Server.InternalError: Internal error on launch

I've tried with a few different AMIs, in both eu-west-1 and us-west-2, always with the same result. An example eu-west-1 AMI I've been trying is RightImage_CentOS_6.6_x64_v14.2.1_HVM - ami-4f3da238

This is a 64-bit, instance-store backed, hvm virtualized ami, which I think ticks all the requirements for d2 instance types, but I can't get it to launch, nor find any meaningful error message to assist me in diagnosing the problem. Any thoughts or insights as to what the problem might be?

Edited by: ian_sk1 on Jun 18, 2015 4:18 AM"
Amazon EC2	"Privilages of the underlying instances
Is that EMR and Elastic beanstalk are the two AWS services, where the client can retain their full admin privileges of the underlying instances ? or any other services are available like RDS, elastic cache..  etc..

Many thanks in advance!!!!!"
Amazon EC2	"Too memory busy for a LAMP
Hello,
I have a m3.xlarge instance with Linux 3.14.42-31.38.amzn1.x86_64, Apache 2.4.12, MySQL 5.5.42, PHP 5.6.9, vsftpd 2.2.2 and sendmail 8.14.4 for a newspaper website.
My problem is the amount of used ram: with only 9 clients simultaneous, used ram is 13.8 GB!
In process list, the most expensive is mysqld, second is apache. I have stopped these services but used ram is still too high, about 12 GB.

Do you have any solution for this problem?

Thanks to all
Andrew"
Amazon EC2	"Issues when attach two volumes in one ec2 instance
I have one EC2 instance in Tokyo, and now I need to setup another one in Singapore with the same configuration. 

Here is my steps:
1. create ec2 instance A in Singapore.
2. attach volume A to instance A, then start instance A.
3. ssh to instance A, nothing wrong. and now I want to copy all apps, files, etc. from instance B in Tokyo to instance A. Due to the volume A is smaller than the volume in Tokyo, so I followed this suggestion.
4. create a snapshot for instance B in Tokyo.
5. copy the snapshot from Tokyo to Singapore.
6. use the snapshot in Singapore to create a volume B.
7. attach volume B to instance A, device is /dev/sdf

8. restart instance A.
9. ssh to instance A, run df -h

10. weird thing is coming, volume B didn't show up.

any ideas about how to make that work? Thanks in advance."
Amazon EC2	"Re: Issues when attach two volumes in one ec2 instance
I m not expert but i believe you have to first mount the new ebs drive.

first run

lsblk

and show result here"
Amazon EC2	"Re: Issues when attach two volumes in one ec2 instance
Hello,

To view the additional volume you have attached to your instance, you need to mount it first.

1) Check how your Operating system has detected the volume you attached.  Sometimes your instance does not detect your attached device as what you specified in the ec2 console.
$ sudo lsblk

2) Mount the volume, for example if device has been detected as /dev/xvdf
$ sudo mount /dev/xvdf /mnt

Best Regards,
RonnieN"
Amazon EC2	"T2.micro instance can't connect with RDP
Hello,
I am planning to move my t1.micro to a t2.micro, but I can't connect using RDP to my new t2.micro istance. 
The istance id is i-05809dd5.
I have set the security group to accept the connection for RDP and for everything, but with no success. I have no issues with the connection of the other instances that I have, except for this one.
What am I missing? I am using amazon from years, never got this issue.
Thank you."
Amazon EC2	"Re: T2.micro instance can't connect with RDP
Hello Francesco,

I have reviewed your EC2 instance (i-05809dd5) and it does not have a route to the Internet gateway.

Per the AWS documentation on Internet Gateways, you will find information on how to attach an Internet gateway to the VPC in question. In addition, you will find information on how to add a route to the Internet gatway in your VPC route table.

If you have any additional questions, please do let us know.

Regards,
Mohsin S."
Amazon EC2	"Re: T2.micro instance can't connect with RDP
Thank you, but I see from the console that VPC is attached to the internet gateway. It seems everything is ok. What am I missing?"
Amazon EC2	"Re: T2.micro instance can't connect with RDP
Any ideas? I am stuck!"
Amazon EC2	"Elastic IP Address Limit Increase
I'd like to increase our EIP limit to at least 20 ip address since some of our customers need to filter access based on a public IP Address.

 I find 20 EIP addresses to be a reasonable number, given our account already has close to a hundred instances.

 Thanks.

Edited by: GuilhermeFrancaVieira on Jun 16, 2015 11:59 AM"
Amazon EC2	"Re: Elastic IP Address Limit Increase
Hi,

I have created an outbound Service Limit Increase case to assist you with your limit increase request. 
Should you have any additional questions please respond to that case for further information and assistance.

Case ID: 1423964531

In future should you have any limit increase requests, you can create a  case through the Support Center in your AWS Account.

https://console.aws.amazon.com/support/home/

Regards,

Luke H."
Amazon EC2	"SSH Connection Timeout
Hello, for instance i-4ef0dd1f I am unable to connect after rebooting (ssh: connect to host xxxxxxxx port 22: Connection timed out). System updates were performed (hence the reboot), and the iptables firewall was recently updated. The security groups are allowing the appropriate ports for services, but I am not able to connect to any of them. Not sure if this is an iptables misconfiguration or a network issue of some sort.

Thanks!"
Amazon EC2	"Re: SSH Connection Timeout
Hello,

It does not look like the issue you are experiencing is as a result of iptables misconfiguration. I tested access to your instance on TCP port 22 and it is responding:
$ sudo nc -vz x.x.x.x 22
Connection to x.x.x.x 22 port tcp/ssh succeeded!

It could be a network issue on your end. Use traceroute to check where your network is breaking.

Best regards,
RonnieN"
Amazon EC2	"Ping VPN client via OpenVPN-AS instance
Hi everyone

I have set up a VPC with the network address being 172.31.0.0/16. I have two EC2 instances running.

1. App Server: 172.31.31.28
2. OpenVPN-AS: 172.31.19.144

The OpenVPN-AS server accepts VPN connections and provides them with a dynamic IP address in the network 172.27.224.0/20.

My clients are able to connect with the OpenVPN-AS server and from the VPN server, I can ping the VPN client. The first attachment shows the ICMP request and responses on the VPN client and as you can see, everything works correctly.

But what I want is connect/ping from the App Server (172.31.31.28) to the VPN client. This is not working. I added a new rule in the route table of the VPC that all the traffic with destination 172.27.224.0/20 is routed to the OpenVPN-AS server. I also disabled the source/dest check on the VPN server. When I ping from the App Server to the VPN client, the requests are received by the client but the client is dropping the requests as you can see in the second attachment.

Something I noticed is that when I ping from the OpenVPN-AS server, the source of the requests is the IP of the as0t1 network interface, being 172.27.232.1 which is an IP within the VPN network 172.27.224.0/20. When I ping with the App server, the source of the requests is the internal IP of the server in the VPC, being 172.31.31.28. Is that the reason why the packages are dropped? Because the client does not know where to send the responses to?

Thanks in advance!

Sam"
Amazon EC2	"Re: Ping VPN client via OpenVPN-AS instance
I managed to solve the issue thanks to Sebastien Stormacq of Amazon.

So, the problem was the the VPN didn't seem to know the route to the internal network 172.31.0.0/16.  The solution ofcourse is, make the client aware of the network by adding that network to the routetable of the client. It seems that a VPN server is capable of pushing routes to the client. In a OpenVPN Access Server, this is done by navigating to the `VPN Settings` page and add the internal network to the `Routing` section (see attachment).

The problem was that it still didn't work so far. When I looked in the logs when my client was connecting, it tried to add the network to the routetable but couldn't because of permission issues. When I ran the client software in administrator mode, it was able to add the correct routes and it worked.

More information regarding this topic can be found here http://backreference.org/2009/11/15/openvpn-and-iroute/."
Amazon EC2	"Verifying dynamic/instance-identity/signature
I can't seem to find any documentation for how one should verify the signature for the instance-identity document returned by the metadata server. Google doesn't return anything helpful. Is there any documentation that outlines how to do this?

Edited by: mpbrkt on Jun 18, 2015 12:36 AM"
Amazon EC2	"Instance not responding
Hello! It is not possible to connect to an instance of i-96566f60"
Amazon EC2	"Re: Instance not responding
Hello,

Please allow TCP port 3389 in your Inbound Security Group rules to be able connect to your instance. Please refer to the URL: http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html#SecurityGroupRules

Best Regards,
RonnieN"
Amazon EC2	"EC2 Unreachable
Hi, 
My instance has been unreachable since yesterday. I have stopped and changed it to t2.small (from t2.micro) but to no avail. Instance reachability check is showing failed despite several restart and reboot attempts. 
I hope the data is still in it. 

Can someone help? 

Thanks,
JW"
Amazon EC2	"Re: EC2 Unreachable
Hello,

I have taken a look at your instance and it appears you've managed to work through this issue. If you are still experiencing any issues, please let us know.

Best Regards,
RonnieN"
Amazon EC2	"Your account is currently blocked.
Hi,

I have tried to create an EC2 instance and received the following error:
Your account is currently blocked. Contact aws-verification@amazon.com if you have questions.

My credit card was charged and my information is correct.
I have contacted the email above two days ago, but they have not replied yet.

What should I do?"
Amazon EC2	"Re: Your account is currently blocked.
Support got back to me, but account still shows blocked.

Edited by: rodamora on Jun 16, 2015 11:53 AM"
Amazon EC2	"Re: Your account is currently blocked.
Waiting for fix."
Amazon EC2	"Re: Your account is currently blocked.
Hello,

Sorry for the delay in answering you, it appears you are now able to launch instances in your account.

Please let us know if you are still experiencing any issues.

Best Regards,
RonnieN"
Amazon EC2	"Was unable to reach my EC2 instance for almost 2 hours
Hi 

My EC2 instance was not accessible either by SSH and my programs were not running for almost 2 hours. The Instance status check was failing and after reboot the system log was as follows. While I was trying to figure out how to rectify, suddenly everything seems OK. But I am worried what to do if it happens next time.

Any help is greatly appreciated.

regards
Ravi

System Log (last part)

Setting hostname localhost.localdomain:    OK  

Setting up Logical Volume Management:   No volume groups found
  OK  

Checking filesystems
Checking all file systems.
[/sbin/fsck.ext4 (1) -- /] fsck.ext4 -a /dev/xvda1
/: clean, 236732/524288 files, 1028016/2096635 blocks
  OK  

Remounting root filesystem in read-write mode:  http://    7.487455 EXT4-fs (xvda1): re-mounted. Opts: (null)
  OK  

Mounting local filesystems:    OK  

Enabling /etc/fstab swaps:    OK  

Entering non-interactive startup
http://    7.758757 NET: Registered protocol family 10
Bringing up loopback interface:    OK  

Bringing up interface eth0:
Determining IP information for eth0... done.
  OK  

Starting auditd: http://   13.104653 audit: type=1305 audit(1433222665.347:2): audit_pid=1978 old=0 auid=4294967295 ses=4294967295 res=1
  OK  

Starting system logger:   OK  

Starting irqbalance:   OK  

Starting rngd:   OK  

Starting system message bus:   OK  

Mounting filesystems:    OK  

Retrigger failed udev events--type=failed is deprecated and will be removed from a future udev release.
  OK  

Starting cloud-init: Cloud-init v. 0.7.2 running 'init-local' at Tue, 02 Jun 2015 05:24:26 +0000. Up 13.97 seconds.
Starting cloud-init: Cloud-init v. 0.7.2 running 'init' at Tue, 02 Jun 2015 05:24:26 +0000. Up 14.44 seconds.
ci-info: ++++++++++++++++++++++++Net device info++++++++++++++++++++++++
ci-info:  Device   Up      Address          Mask          Hw-Address
ci-info:    lo    True    127.0.0.1      255.0.0.0            .
ci-info:   eth0   True  172.31.22.120  255.255.240.0  06:c3:b2:b9:ce:36
ci-info: +++++++++++++++++++++++++++++++Route info+++++++++++++++++++++++++++++++
ci-info:  Route    Destination      Gateway        Genmask      Interface  Flags
ci-info:    0        0.0.0.0      172.31.16.1      0.0.0.0         eth0      UG
ci-info:    1    169.254.169.254    0.0.0.0    255.255.255.255     eth0      UH
ci-info:    2      172.31.16.0      0.0.0.0     255.255.240.0      eth0      U
Starting cloud-init: Cloud-init v. 0.7.2 running 'modules:config' at Tue, 02 Jun 2015 05:24:27 +0000. Up 15.42 seconds.
Starting sshd:   OK  

ntpdate: Synchronizing with time server:   OK  

Starting ntpd:   OK  

Starting sendmail:   OK  

Starting sm-client:   OK  

Starting nginx:   OK  

Starting crond:   OK  

Starting atd:   OK  

Starting cloud-init: Cloud-init v. 0.7.2 running 'modules:final' at Tue, 02 Jun 2015 05:24:31 +0000. Up 18.77 seconds.
Cloud-init v. 0.7.2 finished at Tue, 02 Jun 2015 05:24:31 +0000. Datasource DataSourceEc2.  Up 19.00 seconds

Amazon Linux AMI release 2014.09
Kernel 3.14.27-25.47.amzn1.x86_64 on an x86_64

ip-172-31-22-120 login: http://1207720.133257 end_request: I/O error, dev xvda, sector 13214616
http://1207720.137249 end_request: I/O error, dev xvda, sector 15518608
http://1207720.137249 end_request: I/O error, dev xvda, sector 15180832
http://1207720.137249 end_request: I/O error, dev xvda, sector 15239040
http://1207720.137249 end_request: I/O error, dev xvda, sector 13791376
http://1207720.137249 end_request: I/O error, dev xvda, sector 13793632
http://1207720.137249 end_request: I/O error, dev xvda, sector 14342416
http://1207720.137249 end_request: I/O error, dev xvda, sector 14342504
http://1207720.137249 end_request: I/O error, dev xvda, sector 12905536
http://1207720.137249 end_request: I/O error, dev xvda, sector 13789392
http://1207720.137249 Setting capacity to 0
http://1207720.180769 xvda: detected capacity change from 8589934592 to 0"
Amazon EC2	"Re: Was unable to reach my EC2 instance for almost 2 hours
Hello,

The System Log messages that you're receiving are indication that the instance storage is broken. The best way forward would be to replace your broken storage.

Could you please provide your instance ID for us to have a look?

Best Regards,
RonnieN"
Amazon EC2	"Hardware issue - Instance stuck at stopping state
AWS team,
Our instance is stuck at stopping state for a long time due to underlying hardware issue. Please fix it so that we can migrate to new hardware."
Amazon EC2	"Re: Hardware issue - Instance stuck at stopping state
It is solved now."
Amazon EC2	"ec2-create-instance-export-task returned error
Hi,

I am try to export the EC2 using the ec2-create-instance-export-task cmd.

when run the command i got the error as 

Client.InvalidParameterValue: Could not read the ACL associated with the S3 bucket.

please any of them help me solve this problem.

Thanks in Advance,
Mike"
Amazon EC2	"Re: ec2-create-instance-export-task returned error
Hi All,

I'm also stuck on export command but with different error.

I run command as like

ec2-create-instance-export-task <instance-id> -e vmware -c ova -b <http://s3-ap-southeast-2.amazonaws.com/bucketname>

It give below error.
Client.InvalidParameterValue: s3-bucket must conform to S3 restrictions on character set and length (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameterValue; Request ID: 6d705923-ef4d-449b-b77f-0a9711c47fa3)"
Amazon EC2	"Re: ec2-create-instance-export-task returned error
this error is because the bucket name should only be the actual bucket name. you don't need to add the ""s3://"" prefix to the bucket."
Amazon EC2	"Re: ec2-create-instance-export-task returned error
to bypass this, i used the GUI and went to the S3 bucket and added vm-import-export@amazon.com and gave it all the permissions and then removed the permissions once i was finished."
Amazon EC2	"Instance i-9fec4fe4 stuck in stopping
Hi,

please stop this instance i-9fec4fe4 - has been stuck instopping for 4H.

Thanks,
Talal."
Amazon EC2	"Re: Instance i-9fec4fe4 stuck in stopping
Good day Talal

I successfully stopped the instance.

Best Regards
Imthian"
Amazon EC2	"Re: Instance i-9fec4fe4 stuck in stopping
Thanks guys, I was able to restart after you stopped it.
Talal."
Amazon EC2	"EC2 instance to Local VM access issue- VPN-VPC
hello Sir ,
i could able to ping the specific EC2 linux instance ""Example 1""  via the VPN through Customer Gateway.
But i could not ping from the EC2 linux instance to the local Datacenter Windows VM via VPN. 
We have already structured our AWS VPC and VPNs . Suddenly we are facing this issue in one of the VM in AWS. 
Please provide any suggestions or possibilities for the cause of this issue?

Edited by: RajVTG on Jun 11, 2015 10:25 AM"
Amazon EC2	"Re: EC2 instance to Local VM access issue- VPN-VPC
we had corrected the Local firewall inbound rule . then this issue is solved ."
Amazon EC2	"How does billing work with EBS Snapshots?
Hi AWS Community-

Let's say I have an Instance with Windows+SQL Standard (fairly expensive due to licensing costs).  If I were to snapshot that Instance and restore the snapshot onto a Instance that has Windows but no SQL Standard, would AWS track all of the billing correctly and bill me for two Instances with Windows+SQL Standard?

More generally, I'm trying to understand how EBS Snapshots and AMI work with software licensing.

Thanks."
