id,label,description
87693,Amazon EC2,"Is NLB ready for production (unhealthy Ip addresses in list)? Hello.  Our app did migration from ELB to NLB form SMTP traffic. After some time many of our customers start getting problem with timeouts from SMTP domain.  By checking EC2 instances resources we found, that it is not load problem on servers.  Next we are trying to test connections:  root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progres s Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye  As we can see, sometimes we get timeout error. All EC2 instances healthy all the time, not changing IP addresses range from ""dig smtp.example.com"" (DNS not cached). ""Cross-Zone Load Balancing"" on or off not help with this problems. ""smtp.example.com"" hostname point to NLB by IP alias. NLB IPv4 address assigned by AWS.  Is the any way to make NLB stable, or better switch back to ELB, because random TCP timeout for our customers is not answer?  Account Id: 465107504872   Thanks"
87693,Amazon EC2,"Event worst image, if I restart some test server, from which I am doing TCP connection testing:  root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress root~# dig smtp.example.com  ; <<>> DiG 9.11.3-1ubuntu1.8-Ubuntu <<>> smtp.example.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57638 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1  ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 512 ;; QUESTION SECTION: ;smtp.example.com.		IN	A  ;; ANSWER SECTION: smtp.example.com.	15	IN	A	3.215.171.203 smtp.example.com.	15	IN	A	54.197.62.235 smtp.example.com.	15	IN	A	35.170.45.115  ;; Query time: 5 msec ;; SERVER: 8.8.8.8#53(8.8.8.8) ;; WHEN: Thu Jul 04 17:32:18 EDT 2019 ;; MSG SIZE  rcvd: 93  root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress nc: connect to smtp.example.com port 2525 (tcp) timed out: Operation now in progress root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 smtp.example.com 2525 Connection to smtp.example.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# dig smtp.example.com  ; <<>> DiG 9.11.3-1ubuntu1.8-Ubuntu <<>> smtp.example.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57638 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1  ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 512 ;; QUESTION SECTION: ;smtp.example.com.		IN	A  ;; ANSWER SECTION: smtp.example.com.	34	IN	A	3.215.171.203 smtp.example.com.	34	IN	A	54.197.62.235 smtp.example.com.	34	IN	A	35.170.45.115  ;; Query time: 5 msec ;; SERVER: 8.8.8.8#53(8.8.8.8) ;; WHEN: Thu Jul 04 17:32:18 EDT 2019 ;; MSG SIZE  rcvd: 93   As we can see, IP addresses the same, they just not accept connections at beginning  Edited by: leopard on Jul 5, 2019 12:38 AM"
87693,Amazon EC2,"And here checks, which shown it is not DNS issue from domain (using NLB A record directly):   root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 xxx.elb.us-east-1.amazonaws.com 2525 Connection to xxx.elb.us-east-1.amazonaws.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 xxx.elb.us-east-1.amazonaws.com 2525 Connection to xxx.elb.us-east-1.amazonaws.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 xxx.elb.us-east-1.amazonaws.com 2525 Connection to xxx.elb.us-east-1.amazonaws.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 xxx.elb.us-east-1.amazonaws.com 2525 Connection to xxx.elb.us-east-1.amazonaws.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# (echo ""HELO test-ec2.com""; echo quit) | nc -v -w 5 xxx.elb.us-east-1.amazonaws.com 2525 nc: connect to xxx.elb.us-east-1.amazonaws.com port 2525 (tcp) timed out: Operation now in progress Connection to xxx.elb.us-east-1.amazonaws.com 2525 port tcp/* succeeded! 220 example.com ESMTP ready 250 example.com 221 2.0.0 Bye root~# dig xxx.elb.us-east-1.amazonaws.com  ; <<>> DiG 9.11.3-1ubuntu1.8-Ubuntu <<>> xxx.elb.us-east-1.amazonaws.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 58536 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1  ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 512 ;; QUESTION SECTION: ;xxx.elb.us-east-1.amazonaws.com. IN	A  ;; ANSWER SECTION: xxx.elb.us-east-1.amazonaws.com. 44	IN A 3.215.171.203 xxx.elb.us-east-1.amazonaws.com. 44	IN A 35.170.45.115 xxx.elb.us-east-1.amazonaws.com. 44	IN A 54.197.62.235  P.S. Looks like similar issue, but not answered: https://forums.aws.amazon.com/thread.jspa?messageID=823740&#823740  Edited by: leopard on Jul 5, 2019 1:17 AM"
87692,Amazon EC2,"Server 2019 Windows Automatic Updates Off Hello,  Have launched a Server 2019 instance.   When I go the the Updates and Security area I see a message across the top that reads ""Some settings are managed by your organization"" it also says ""Your organization has turned off automatic updates""  So I have to manually check for updates to install them.   When is this restriction going to be removed?  I will continue to launch Server 2016 instances until this is corrected.  Thank you Chad"
87692,Amazon EC2,"Chad,   I found the solution here: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/common-messages.html#some-settings-managed-by-org    Topic: ""Some settings are managed by your organization"" (Windows 2019)  Jim"
87691,Amazon EC2,SSH - Connection timed out issue on connecting newly created instance I just created a new instance with ID 'i-0ab3735bdd3595606' and Public IP '54.174.167.224' and instance is in running state but When i try to connect it using SSH getting connection timeout issue and when i try to browse the IP getting 'The site can't be reached issue'.
87691,Amazon EC2,"Hello,  Your instance is running healthy and the ssh port is opened.  Please check the below document for connecting to your instance and troubleshooting timeout issue.   Connect to Your Linux Instance http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html  Troubleshooting Connecting to Your Instance  http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html#TroubleshootingInstancesConnectionTimeout  Best regards"
87691,Amazon EC2,"Hi there,   I am having similar SSH connection issue. Is there anyone here can help me on this please?  I have two instances but I cannot SSH any of my instances. Instance ID: i-0392a0f49830efc15 and i-0392a0f49830efc15 Inbound PORT 22 is open VPCs inbound port also allowed but am getting error. ""connection refused"" If I use direct ssh from AWS, it shows ""There was a problem setting up the instance connection Log in failed. If this instance has just started up, try again in a minute or two.""   Could anyone let me know. why I have below rules under NACL? which I didn't add and I cannot remove it either.  it looks like default rule for NACL. Pls help to rectify. * ALL Traffic ALL ALL 0.0.0.0/0 DENY   Thanks in advance."
10544,Amazon RDS,"T2-based RDS instances now starting with zero CPUCredits Since early/mid June all our new T2-based RDS instances have been provisioned with zero initial CPU credits. Before June 1st, they were always starting with a similar amount of CPU credits to the equivalent EC2 instance. Is this an expected change? The zero initial credit makes me think they are in Unlimited mode but I'm not sure how to check that.  I don't have exact dates, but the last provisioned DB where it behaved ""normally"" was on May 31st. The first where it behaved without initial credits was June 17th.  Thank you for any insight on this issue."
10543,Amazon RDS,"Aurora mysql 5.7 problems, periodic slow performance For the past week or so we've been having trouble with DML latency especially in busy hours but really it's pretty much around the clock. It shows up like small but frequent drops in write performance resulting in short spikes of slow performance. Unfortunately this is also evident in our response times.  I don't see what is causing this. I've looked at slow logs and every time there's a slowdown I've found these entries: # Time: 2019-07-03T17:50:30.839961Z # User@Host: rdsadmin[rdsadmin] @ localhost []  Id:  5060 # Query_time: 5.801682  Lock_time: 0.000000 Rows_sent: 0  Rows_examined: 0 SET timestamp=1562176230; PURGE BINARY LOGS BEFORE '2019-07-02 17:50:25';  also I've tried percona tools to analyze the slow logs and funnily the slowest query by far is a simple commit. I can also see these in the slow logs # Time: 2019-07-03T17:50:30.841952Z # User@Host: **** @  ****  Id: 40019916 # Query_time: 4.926164  Lock_time: 0.000000 Rows_sent: 0  Rows_examined: 0 SET timestamp=1562176230; commit;    These problems all started after an upgrade the latest aurora engine at the time (25/26th June) - but here's the thing, I didn't look at version just chose the top one and upgraded. Since then I've noticed that we're actually running on a seemingly non-existent minor version (5.7.mysql_aurora.2.04.5 - proof in screenshot)? At first I thought the doc page was outdated https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Updates.20Updates.html but the newest version listed is still just 2.04.4 and I'm starting to worry that we're running some beta release that is causing these issues we are seeing?!  As mentioned it all started after that fateful upgrade of engine version and I've confirmed it by looking at slow logs before the upgrade, so I would really appreciate any help with figuring out what is going on here?  Regards Lars  Edited by: Lz77 on Jul 3, 2019 12:12 PM"
10543,Amazon RDS,Have you looked at Performance Insights to see what the system load looks like and where SQL are waiting?  https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PerfInsights.html  Kyle
10543,Amazon RDS,Thanks for answering. Unfortunately it isn't enabled yet and we've wanted avoid a reboot because we need to enable the performance_schema first.
10543,Amazon RDS,"Btw what about the engine version we are running on. Why do we run on a non-documented version? Also, in order try something I tried setting innodb_flush_log_at_trx_commit=2 to briefly test if this had any effect but shortly after that I saw that Aurora Replica Lag started spiking for one of the read replica's so I chickened out and quickly reverted the setting to 1. Perhaps that change was a long shot anyway but I don't really understand why it happened though?  Edited by: Lz77 on Jul 4, 2019 5:00 AM"
10542,Amazon RDS,"DB suddenly in 'incompatible parameters' state, unable to delete Today I was surprised to find that my systems were all down because my database was in the 'incompatible parameters' state - apparently it entered this state after it completed a backup (it wasn't even a maintenance window!) . I was able to get everything back up and running by restoring from a snapshot, but I can't seem to get the database out of termination protection because it's in an incompatible state.  Nor can I figure out why it's in an incompatible state.  I did reset it to the default parameters, and it says 'pending reboot' but I have rebooted it upteen times and apparently it can't even do that - it sits in 'rebooting' state for a while and then goes back to 'incompatible parameters'.  Can someone help me?"
10542,Amazon RDS,"Solved it.  Had to use the command line to disable deletion protection:  aws rds modify-db-instance --db-instance-identifier db01-vpc --no-deletion-protection  Then, I was able to delete the database in the UI."
16195,Amazon S3,"The request signature does not match Hello everyone!  I am using REST API to GET bucket with Virtual Hosted–Style Method. This is my script to get : method=GET bucket= bucket object=""manifest"" s3Key=f6d03b12466e426c9356332418xxx143 s3Secret=af741022d21fa3cc89671exxx622d7fc url=s3-eu-west-1.amazonaws.com dateValue=`date -R` stringToSign=""$method\n\n\n${dateValue}\n/${bucket}/${object}"" signature=`echo -en ${stringToSign} | openssl sha1 -hmac ${s3Secret} -binary | base64`  curl -s -X GET -i -v \   -H ""Date: ${dateValue}"" \   -H ""Authorization: AWS ${s3Key}:${signature}"" \ http://${bucket}.$url/${object}  Why is it always response ""The request signature we calculated does not match the signature you provided. Check your key and signing method."""
16194,Amazon S3,"Is Gateway Endpoint required to avoid data transfer charges Hi,  From pricing page we know there is no charge for EC2 instances to access S3 buckets in same region. My questions:   1. Is it true that even without a S3 Gateway Endpoint, still I will not get charged?  2. Is it true that no matter I use HTTP endpoints, API or CLI to access the buckets, still I will not get charged? 3. Is it true that even without S3 Gateway Endpoint, the data transfer between EC2 instances and S3 buckets would stay in the AWS private network and does not travel through the Internet?  Thanks!"
16194,Amazon S3,"Hello 3. Is it true that even without S3 Gateway Endpoint, the data transfer between EC2 instances and S3 buckets would stay in the AWS private network and does not travel through the Internet? Sorry, without an endpoint communication between S3 and EC2, the communication will go through the internet and you will be charged for it BUT also your response time will be slower.  So it is best to have that endpoint.  for 1 and 2 the documentation says that data transfer is free for within the same region. But you have request pricing too https://aws.amazon.com/s3/pricing/  hope this helps RT"
16193,Amazon S3,"S3 URL mybucket.s3-external-1.amazonaws.com resolves to s3-external-1-w Hi,  When I download a file from mybucket.s3-external-1.amazonaws.com resolves to  s3-external-1-w.amazon.com (notice the -w in the name). However, the subdomain is not in our firewall rules, and the download request was blocked. I'm wondering what the subdomain s3-external-1-w is and why it resolves to this subdomain. Should I add this subdomain to our firewall rules too?   Thanks, Lawrence"
5859,Amazon CloudFront,"Return default file in CloudFront irrespective of the resource name Hi,  I am looking for a solution to my CloudFront distribution that whatever resource name I pass after the domain name, it should return a default file. Am using resource name as an unique identifier and the resource name might not exist in the origin.  Approaches Tried: 1) Process the request using Lambda@Edge 2) Configure the distribution file in Error pages, when the resource not found, return that file with custom response code as 200.  I am looking for an approach that could be configured something like in behavior.  I don't want to use Lambda@Edge or error pages.  URL Format: https:<domain_name>/<resource_name>  Appreciate your help!"
5858,Amazon CloudFront,"How does CloudFlare act upon If-Modified-Since request header Hi,  AWS documentation states that CloufFront would forward If-Match/If-None-Match/If-Modified-Since to the origin to give the origin a chance to respond with HTTP 304 status code (not modified)  However, it's not clear to me how CloudFront would act upon receiving 304 from origin when returning a response to client: 1. Will it also return 304 (not modified) if the client request included If-Match/If-None-Match/If-Modified-Since? 2. Will it always return the object from the cache to the client upon getting 304 from origin?  Edited by: lukaszt on Jul 3, 2019 2:34 AM"
5857,Amazon CloudFront,"CloudFront Duplicate Requests I have a serverless architecture (Lambda + API Gateway) with an Angular front end (S3). I'm using CloudFront to route traffic between my front end and my endpoints.   For example,  www.xyz.com/something routes to S3 www.xyz.com/api/user routes to User Service API Gateway  I have an intermittent issue where, rarely (once every 30 or 40 requests), a POST request makes its way into my lambda functions twice. Naturally, I first assumed a double click on the UI. After ruling that out, I was thinking some sort of browser retry, so I added the enhanced logging in API Gateway and waited for it to happen again. I found that I am getting the exact same request coming in at the exact same time, down to the same hundredth of a second, which is the most granular time the logs give me. This pretty much rules out most client side issues, as the odds of my API Gateway getting the request at the exact same hundredth of a second due to a client issue is astronomically unlikely.  So, I am now turning my attention to CloudFront, since traffic is routing through there. My suspicion is that CloudFront is taking a single request from the client and sending it twice to my API Gateway. Unfortunately, I am unable to get much detail from CloudFront on a request by request basis. The only differences between the two requests from API Gateway's point of view can be found in the request headers appended by CloudFront. There are differences in the X-Amzn-Trace-Id, X-Amz-Cf-Id, and X-Forwarded-For headers.  Does anyone have any ideas as to how to proceed from here? Is it possible there is a bug in CloudFront or something?"
6983,Amazon VPC,"VPC peeering between accounts not working Hello,  I am attempting to set up VPC peering between VPC's in two different AWS account. However, traffic does not seem to be able to get from one VPC to the other.  I've found the page 'https://aws.amazon.com/premiumsupport/knowledge-center/vpc-peering-connectivity/', and below are my findings -  1. Both VPCs are in an active state. 2. The Route Table in each VPC has the others VPC's CIDR block as the destination, and the VPC ID as the target. 3. I'm using the default inbound/outbound ACL rules for both VPCs. 4. I'm attempting to allow ingress from an EC2 instance in VPC1 to an RDS instancein VPC2. The The security group for the EC2 instance allows all outbound traffic. The security group for the RDS instance allows inbound traffic from the other security group on port 5432 (the correct port), with the source specified in the format of <accountId>/<securityGroupId>. 5. If added VPC flow logs for reject on both the source and destination VPCs. It seems that a log is added for every minute, making them very difficult to search. However, I don't believe that there are any rejects for port 5432 in either set of logs.  What else could be wrong with the VPC peering? Any suggestions for what to change/add would be welcome.  Happy to provide more information if required.  Thanks, David"
6982,Amazon VPC,"Cannot release an EIP from VPC Hello,  I cannot remove an Elastic IP address from my VPC configuration and get the following error:  35.156.62.147: The address with allocation id https://forums.aws.amazon.com/ cannot be released because it is locked to your account. Please contact AWS Support to unlock it.  This address is used nowhere and can be removed safely. Can you please help me to remove it?  Thank you, Regards."
6981,Amazon VPC,"After VPN maintenance, ICMP echo replies are being dropped Our monitoring system started showing hosts down after maintenance on VPN instance vpn-b29173db. They continue to show down after coming out of the advertised outage window. Packet capture show the echo requests going out to the tunnel endpoint on our side. We do not see the replies come back. There have been no changes to the routing VPC subnet routing tables. Inspection of the route tables show that the route is still there. TCP traffic is unaffected. Other ICMP traffic also comes through.  The only conclusion that I can make is that the tunnel is dropping echo replies specifically.  (edit)  We also just noticed this only appears to affect instances in reliability zones other than us-east-1b. All subnets share the same routing table/acl.  Edited by: xraj on Jul 3, 2019 1:43 PM  Edited by: xraj on Jul 3, 2019 1:45 PM"
1745,Amazon SNS,"Emails still being signed with my domains DKIM even though I disabled it Hi, I noticed that after enabling DKIM for my domain my open rate went down. I disabled (easy) DKIM from the admin however I see that my emails are still being signed with my domains DKIM. Does it take time for it to be disabled? It has been 24 hours now. Thanks EDIT: Even though I disabled DKIM for the domain, it was enabled for the email identity under the domain. Once I disabled that too, the emails were no longer signed with DKIM  Edited by: elgee on Jul 3, 2019 2:31 AM  Edited by: elgee on Jul 3, 2019 2:42 AM"
